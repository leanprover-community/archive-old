---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/tiny.20stdlib.20between.20core.20and.20mathlib.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/tiny.20stdlib.20between.20core.20and.20mathlib.html">tiny stdlib between core and mathlib</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="197182732"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tiny%20stdlib%20between%20core%20and%20mathlib/near/197182732" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/tiny.20stdlib.20between.20core.20and.20mathlib.html#197182732">(May 11 2020 at 18:03)</a>:</h4>
<p>After my experiments documented over at:<br>
<a href="#narrow/stream/113488-general/topic/moving.20algebra.20out.20of.20core">https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/moving.20algebra.20out.20of.20core</a><br>
I'm wondering: should we carve out a well-designed and stable stdlib that sits between core and mathlib?<br>
I can imagine that for a lot of CS applications, you don't want to have all of mathlib as a dependency. On the other hand, having maths locked into core is really annoying.</p>
<p>So maybe we can have some <code>gcd(CS, math)</code> in a stdlib, that involves <code>nat</code>, <code>int</code>, <code>list</code>, <code>rbtree</code>, and a bit more.</p>



<a name="197182802"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tiny%20stdlib%20between%20core%20and%20mathlib/near/197182802" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/tiny.20stdlib.20between.20core.20and.20mathlib.html#197182802">(May 11 2020 at 18:03)</a>:</h4>
<p>The benefit would be that it would still be relatively easy to change things, if necessary.</p>



<a name="197182819"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tiny%20stdlib%20between%20core%20and%20mathlib/near/197182819" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/tiny.20stdlib.20between.20core.20and.20mathlib.html#197182819">(May 11 2020 at 18:03)</a>:</h4>
<p>oh yeah that well-known mathematical object <code>rbtree</code></p>



<a name="197182945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tiny%20stdlib%20between%20core%20and%20mathlib/near/197182945" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/tiny.20stdlib.20between.20core.20and.20mathlib.html#197182945">(May 11 2020 at 18:04)</a>:</h4>
<p>Ok, maybe I shouldn't have said <code>gcd(CS, math)</code></p>



<a name="197183007"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tiny%20stdlib%20between%20core%20and%20mathlib/near/197183007" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/tiny.20stdlib.20between.20core.20and.20mathlib.html#197183007">(May 11 2020 at 18:05)</a>:</h4>
<p>maybe you should have just told me it was a tree :-)</p>



<a name="197186152"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tiny%20stdlib%20between%20core%20and%20mathlib/near/197186152" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jannis Limperg <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/tiny.20stdlib.20between.20core.20and.20mathlib.html#197186152">(May 11 2020 at 18:33)</a>:</h4>
<p>Having three tightly coupled but formally independent projects imho sounds worse than having two. Counterproposal: Leave the 'general interest' stuff in core and move related code from mathlib to core. (Also, a well-designed and stable stdlib is a pretty large undertaking. The Agda standard library has 50k lines of code and many parts of it only became good after a few iterations.)</p>
<p>Counter-counterproposal: Wait for Lean 4 and don't spend too much time prettifying a soon-to-be-legacy codebase.</p>



<a name="197187018"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tiny%20stdlib%20between%20core%20and%20mathlib/near/197187018" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/tiny.20stdlib.20between.20core.20and.20mathlib.html#197187018">(May 11 2020 at 18:41)</a>:</h4>
<p>I think Johan's proposal would be good for an ideal world but, in practice, we don't have any stable layer at all at this point.</p>



<a name="197187259"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tiny%20stdlib%20between%20core%20and%20mathlib/near/197187259" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/tiny.20stdlib.20between.20core.20and.20mathlib.html#197187259">(May 11 2020 at 18:43)</a>:</h4>
<p>+1 for counter-counterproposal.</p>



<a name="197187260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tiny%20stdlib%20between%20core%20and%20mathlib/near/197187260" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/tiny.20stdlib.20between.20core.20and.20mathlib.html#197187260">(May 11 2020 at 18:43)</a>:</h4>
<p>For purely practical reasons, I think that until Lean 4 comes we're most productive moving as much as possible into mathlib.</p>



<a name="197199250"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tiny%20stdlib%20between%20core%20and%20mathlib/near/197199250" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/tiny.20stdlib.20between.20core.20and.20mathlib.html#197199250">(May 11 2020 at 20:18)</a>:</h4>
<p>For me that's completely fine. I still don't have a good idea of what lean is used for besides mathlib... we can always think about this idea if people start complaining that core has too little...</p>



<a name="197210658"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tiny%20stdlib%20between%20core%20and%20mathlib/near/197210658" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/tiny.20stdlib.20between.20core.20and.20mathlib.html#197210658">(May 11 2020 at 22:06)</a>:</h4>
<p>Do the people at Galois use it? <span class="user-mention" data-user-id="110026">@Simon Hudon</span> do you know what goes on there? And do MS use Lean 3 for anything or are they all on Lean 4 now?</p>



<a name="197210865"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tiny%20stdlib%20between%20core%20and%20mathlib/near/197210865" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/tiny.20stdlib.20between.20core.20and.20mathlib.html#197210865">(May 11 2020 at 22:08)</a>:</h4>
<p>As far as I'm aware, the people at Galois are working with Lean 4. And all the 2 people at MS are using Lean 4 too</p>



<a name="197212867"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tiny%20stdlib%20between%20core%20and%20mathlib/near/197212867" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/tiny.20stdlib.20between.20core.20and.20mathlib.html#197212867">(May 11 2020 at 22:27)</a>:</h4>
<p>Who is Galois?</p>



<a name="197213078"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tiny%20stdlib%20between%20core%20and%20mathlib/near/197213078" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/tiny.20stdlib.20between.20core.20and.20mathlib.html#197213078">(May 11 2020 at 22:29)</a>:</h4>
<p>(<a href="https://galois.capital/">Is it these people?</a> It's hard to search for groups named galois... i literally typed galois group into google and was disappointed)</p>



<a name="197213115"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tiny%20stdlib%20between%20core%20and%20mathlib/near/197213115" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/tiny.20stdlib.20between.20core.20and.20mathlib.html#197213115">(May 11 2020 at 22:29)</a>:</h4>
<p><a href="https://galois.com/">https://galois.com/</a></p>



<a name="197213186"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tiny%20stdlib%20between%20core%20and%20mathlib/near/197213186" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/tiny.20stdlib.20between.20core.20and.20mathlib.html#197213186">(May 11 2020 at 22:30)</a>:</h4>
<p>thanks that makes a lot more sense</p>



<a name="197213203"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tiny%20stdlib%20between%20core%20and%20mathlib/near/197213203" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/tiny.20stdlib.20between.20core.20and.20mathlib.html#197213203">(May 11 2020 at 22:30)</a>:</h4>
<p>Galois is a R&amp;D company doing a lot of formal methods work. They are known as a big user of Haskell and this is where I learned to use Lean</p>



<a name="197237111"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tiny%20stdlib%20between%20core%20and%20mathlib/near/197237111" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/tiny.20stdlib.20between.20core.20and.20mathlib.html#197237111">(May 12 2020 at 06:14)</a>:</h4>
<p>I think that for the time being we should assume that any use of community lean 3 is going via mathlib. Even if most of mathlib is not a requirement, it can be trimmed down based on file inclusion for those that need to. But organizationally it's definitely easier to keep everything in one repo.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>