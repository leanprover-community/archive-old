---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/.22Verbose.20mode.22.20for.20VSCode.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.22Verbose.20mode.22.20for.20VSCode.3F.html">"Verbose mode" for VSCode?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="292264477"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%22Verbose%20mode%22%20for%20VSCode%3F/near/292264477" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.22Verbose.20mode.22.20for.20VSCode.3F.html#292264477">(Aug 06 2022 at 15:44)</a>:</h4>
<p>Is there any way to put VSCode into a kind of "verbose mode" where it reports what it's doing while it's thinking?  I don't really know what extra information I want, just some indication that <em>something</em> is happening when VSCode goes into orange-bar-doing-nothing mode.</p>



<a name="292264966"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%22Verbose%20mode%22%20for%20VSCode%3F/near/292264966" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.22Verbose.20mode.22.20for.20VSCode.3F.html#292264966">(Aug 06 2022 at 15:55)</a>:</h4>
<p>You can compile your file on the command line with <code>lean --make path/to/file</code> and (at least on Linux) you'll get an indication of what's being compiled and what oleans are being generated.</p>



<a name="292265440"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%22Verbose%20mode%22%20for%20VSCode%3F/near/292265440" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.22Verbose.20mode.22.20for.20VSCode.3F.html#292265440">(Aug 06 2022 at 16:03)</a>:</h4>
<p>My problem is specifically with VSCode, because it sometimes decides it needs a good long think even when the file I'm working on hasn't changed.  Sometimes this happens when I've opened other mathlib files just to look at them; sometimes when I've viewed the mouseover popup information about a lemma; and sometimes for no discernible reason at all.  So in part I'd like to have some insight into what it's doing when this happens.  </p>
<p>But more generally it would sometimes be good to know whether (a) VSCode is making progress but has a couple of other files it needs to compile first, and I need to be patient; or (b) it's stuck somehow or has decided it needs to recompile all of mathlib, in which case I shouldn't be patient and should intervene.</p>



<a name="292265572"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%22Verbose%20mode%22%20for%20VSCode%3F/near/292265572" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.22Verbose.20mode.22.20for.20VSCode.3F.html#292265572">(Aug 06 2022 at 16:06)</a>:</h4>
<p>Oh, but I guess VSCode is just using <code>lean --make</code>, so doing that on the command line will diagnose whatever's going on with VSCode, right?</p>



<a name="292266014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%22Verbose%20mode%22%20for%20VSCode%3F/near/292266014" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.22Verbose.20mode.22.20for.20VSCode.3F.html#292266014">(Aug 06 2022 at 16:15)</a>:</h4>
<p>Vscode communicates to lean the current state of all files, so if a change was made to a mathlib file and then undone without saving vscode will still want to recompile, even if <code>lean --make</code> thinks everything is ok. Whenever this happens to me I try and close all the tabs except what I'm working on and restart lean from within vscode.</p>



<a name="292266083"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%22Verbose%20mode%22%20for%20VSCode%3F/near/292266083" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.22Verbose.20mode.22.20for.20VSCode.3F.html#292266083">(Aug 06 2022 at 16:16)</a>:</h4>
<p>And  yes lean will always recheck a file when it is opened, I guess it wants more information than what is in the oleans, such as tactic states.</p>



<a name="292266606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%22Verbose%20mode%22%20for%20VSCode%3F/near/292266606" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.22Verbose.20mode.22.20for.20VSCode.3F.html#292266606">(Aug 06 2022 at 16:28)</a>:</h4>
<p>Is there any way to circumvent that — to open a file in "view only" mode?  At the moment it's got me a bit nervous about using the (otherwise exceptionally useful) "go to definition" functionality, because I'm always concerned that it'll break everything and I'll lose several minutes to getting things working again.</p>



<a name="292266682"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%22Verbose%20mode%22%20for%20VSCode%3F/near/292266682" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.22Verbose.20mode.22.20for.20VSCode.3F.html#292266682">(Aug 06 2022 at 16:29)</a>:</h4>
<p>In the past I've tried to do this by setting VSCode to "checking nothing" before navigating to a different file, but I have the feeling it didn't work and so I don't bother doing that now.</p>



<a name="292266880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%22Verbose%20mode%22%20for%20VSCode%3F/near/292266880" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.22Verbose.20mode.22.20for.20VSCode.3F.html#292266880">(Aug 06 2022 at 16:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="422543">Stuart Presnell</span> <a href="#narrow/stream/113488-general/topic/.22Verbose.20mode.22.20for.20VSCode.3F/near/292266606">said</a>:</p>
<blockquote>
<p>Is there any way to circumvent that — to open a file in "view only" mode? </p>
</blockquote>
<p>That's actually what it does, but little things like hover triggers can cause it to switch from "olean data" to "loaded in memory", and that's almost certainly the "good long think" you are seeing</p>



<a name="292281892"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%22Verbose%20mode%22%20for%20VSCode%3F/near/292281892" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.22Verbose.20mode.22.20for.20VSCode.3F.html#292281892">(Aug 06 2022 at 22:14)</a>:</h4>
<p>I agree with Stuart here. Sometimes even right-clicking on a definition and looking at the definition in a file can trigger a recompilation for me, which I can only fix by <code>Lean : restart</code>. "Closing all tabs" is not a viable option. I've just opened a tab to look at a definition and see its API!</p>



<a name="292305161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%22Verbose%20mode%22%20for%20VSCode%3F/near/292305161" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.22Verbose.20mode.22.20for.20VSCode.3F.html#292305161">(Aug 07 2022 at 07:35)</a>:</h4>
<p>I agree it's not great, but I haven't found anything better! I'm not sure if old mode is helpful here, but it might be worth experimenting with enabling that at least</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>