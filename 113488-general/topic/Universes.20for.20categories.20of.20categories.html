---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Universes.20for.20categories.20of.20categories.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Universes.20for.20categories.20of.20categories.html">Universes for categories of categories</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="320540470"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Universes%20for%20categories%20of%20categories/near/320540470" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kind Bubble <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Universes.20for.20categories.20of.20categories.html#320540470">(Jan 10 2023 at 20:39)</a>:</h4>
<p>Here I established the definitions of category, functor, composition of functors, identity functor, and unit and associativity laws for this composition. Cat here (which is not a structure but a type) introduces two new universes.</p>
<p>In the final piece of code I try to establish that categories form a category but I run into universe issues.</p>
<p>My question is, how might I tweak this code so that:<br>
1) Cat introduces only one new universe in which Obj and Hom X Y <em>both</em> reside<br>
2) Categories (of universe level n) form a category (of universe level one up)</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">Cat</span> <span class="o">:=</span>
<span class="bp">Œ£'</span><span class="o">(</span><span class="n">Obj</span><span class="o">:</span><span class="kt">Type</span> <span class="n">_</span><span class="o">),</span>
<span class="bp">Œ£'</span><span class="o">(</span><span class="n">Hom</span><span class="o">:</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">Obj</span><span class="o">),(</span><span class="kt">Type</span> <span class="n">_</span><span class="o">)),</span>
<span class="bp">Œ£'</span><span class="o">(</span><span class="n">Id</span><span class="o">:</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">X</span><span class="o">:</span><span class="n">Obj</span><span class="o">),(</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">X</span><span class="o">)),</span>
<span class="bp">Œ£'</span><span class="o">(</span><span class="n">Cmp</span><span class="o">:</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">X</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">Y</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">Z</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">Hom</span> <span class="n">Y</span> <span class="n">Z</span><span class="o">),(</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">Z</span><span class="o">)),</span>
<span class="bp">Œ£'</span><span class="o">(</span><span class="n">_</span><span class="o">:</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">X</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">Y</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">f</span><span class="o">:</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">),(</span><span class="n">Cmp</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">Y</span><span class="o">)</span> <span class="n">f</span> <span class="o">(</span><span class="n">Id</span> <span class="n">Y</span><span class="o">)</span> <span class="bp">‚â°</span> <span class="n">f</span><span class="o">),</span>
<span class="bp">Œ£'</span><span class="o">(</span><span class="n">_</span><span class="o">:</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">X</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">Y</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">f</span><span class="o">:</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">),(</span><span class="n">Cmp</span> <span class="n">X</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span> <span class="o">(</span><span class="n">Id</span> <span class="n">X</span><span class="o">)</span> <span class="n">f</span> <span class="bp">‚â°</span> <span class="n">f</span><span class="o">),</span>
<span class="bp">Œ£'</span><span class="o">(</span><span class="n">_</span><span class="o">:</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">W</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">X</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">Y</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">Z</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">f</span><span class="o">:</span><span class="n">Hom</span> <span class="n">W</span> <span class="n">X</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">g</span><span class="o">:</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">h</span><span class="o">:</span><span class="n">Hom</span> <span class="n">Y</span> <span class="n">Z</span><span class="o">),</span>
   <span class="o">(</span><span class="n">Cmp</span> <span class="n">W</span> <span class="n">X</span> <span class="n">Z</span><span class="o">)</span> <span class="n">f</span> <span class="o">(</span><span class="n">Cmp</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="n">g</span> <span class="n">h</span><span class="o">)</span> <span class="bp">‚â°</span> <span class="n">Cmp</span> <span class="n">W</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">(</span><span class="n">Cmp</span> <span class="n">W</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span> <span class="n">h</span><span class="o">),</span>
<span class="n">Unit</span>

<span class="kd">def</span> <span class="n">Obj</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">:=</span> <span class="n">C.1</span>

<span class="kd">def</span> <span class="n">Hom</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span> <span class="o">}(</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">)(</span><span class="n">Y</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">)</span> <span class="o">:=</span> <span class="n">C.2.1</span> <span class="n">X</span> <span class="n">Y</span>

<span class="kd">def</span> <span class="n">Idn</span> <span class="o">{</span> <span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span> <span class="o">}</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">)</span> <span class="o">:=</span> <span class="n">C.2.2.1</span> <span class="n">X</span>
<span class="kd">notation</span> <span class="s2">"ùüô"</span> <span class="n">X</span> <span class="bp">=&gt;</span> <span class="n">Idn</span> <span class="n">X</span>

<span class="kd">def</span> <span class="n">Cmp</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">}</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">}</span> <span class="o">{</span><span class="n">Y</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">}</span> <span class="o">{</span><span class="n">Z</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">Hom</span> <span class="n">Y</span> <span class="n">Z</span><span class="o">)</span> <span class="o">:=</span> <span class="n">C.2.2.2.1</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="n">f</span> <span class="n">g</span>
<span class="kd">notation</span> <span class="n">g</span> <span class="s2">"‚àò"</span> <span class="n">f</span> <span class="bp">=&gt;</span> <span class="n">Cmp</span> <span class="n">f</span> <span class="n">g</span>

<span class="kd">def</span> <span class="n">Id1</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">}</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">}</span> <span class="o">{</span><span class="n">Y</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span> <span class="o">:=</span> <span class="n">C.2.2.2.2.2.1</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">f</span>

<span class="kd">def</span> <span class="n">Id2</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">}</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">}</span> <span class="o">{</span><span class="n">Y</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span> <span class="o">:=</span> <span class="n">C.2.2.2.2.1</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">f</span>

<span class="kd">def</span> <span class="n">Ass</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">}</span> <span class="o">{</span><span class="n">W</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">}</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">}</span> <span class="o">{</span><span class="n">Y</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">}</span> <span class="o">{</span><span class="n">Z</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">Hom</span> <span class="n">W</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">Hom</span> <span class="n">Y</span> <span class="n">Z</span><span class="o">)</span> <span class="o">:=</span> <span class="n">C.2.2.2.2.2.2.1</span> <span class="n">W</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="n">f</span> <span class="n">g</span> <span class="n">h</span>
<span class="kd">def</span> <span class="n">CatHom</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">(</span><span class="n">D</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">:=</span>
<span class="bp">Œ£'</span><span class="o">(</span><span class="n">CatHomObj</span> <span class="o">:</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">_</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">),</span>
   <span class="n">Obj</span> <span class="n">D</span><span class="o">),</span>
<span class="bp">Œ£'</span><span class="o">(</span><span class="n">CatHomHom</span> <span class="o">:</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">),</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">Y</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">),</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">_</span> <span class="o">:</span> <span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">),</span>
   <span class="n">Hom</span> <span class="o">(</span><span class="n">CatHomObj</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">CatHomObj</span> <span class="n">Y</span><span class="o">)),</span>
<span class="bp">Œ£'</span><span class="o">(</span><span class="n">_</span> <span class="o">:</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">),</span>
   <span class="n">CatHomHom</span> <span class="n">X</span> <span class="n">X</span> <span class="o">(</span><span class="n">Idn</span> <span class="n">X</span><span class="o">)</span> <span class="bp">‚â°</span> <span class="n">Idn</span> <span class="o">(</span><span class="n">CatHomObj</span> <span class="n">X</span><span class="o">)),</span>
<span class="bp">Œ£'</span><span class="o">(</span><span class="n">_</span> <span class="o">:</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">),</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">Y</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">),</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">Z</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">),</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">),</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">Hom</span> <span class="n">Y</span> <span class="n">Z</span><span class="o">),</span>
   <span class="n">Cmp</span> <span class="o">(</span><span class="n">CatHomHom</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">f</span><span class="o">)</span> <span class="o">(</span><span class="n">CatHomHom</span> <span class="n">Y</span> <span class="n">Z</span> <span class="n">g</span><span class="o">)</span> <span class="bp">‚â°</span> <span class="n">CatHomHom</span> <span class="n">X</span> <span class="n">Z</span> <span class="o">(</span><span class="n">Cmp</span> <span class="n">f</span> <span class="n">g</span><span class="o">)),</span>
<span class="n">Unit</span>

<span class="kd">def</span> <span class="n">CatHomObj</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">}</span> <span class="o">{</span><span class="n">D</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">}</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">CatHom</span> <span class="n">C</span> <span class="n">D</span><span class="o">)</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">)</span> <span class="o">:=</span> <span class="n">F.1</span> <span class="n">X</span>
<span class="kd">notation</span><span class="o">:</span><span class="mi">99</span> <span class="n">F</span> <span class="s2">"["</span> <span class="n">X</span><span class="o">:</span><span class="mi">100</span> <span class="s2">"]"</span> <span class="bp">=&gt;</span> <span class="n">CatHomObj</span> <span class="n">F</span> <span class="n">X</span>

<span class="kd">def</span> <span class="n">CatHomHom</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">}</span> <span class="o">{</span><span class="n">D</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">}</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">}</span> <span class="o">{</span><span class="n">Y</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">}</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">CatHom</span> <span class="n">C</span> <span class="n">D</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span> <span class="o">:=</span> <span class="n">F.2.1</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">f</span>
<span class="kd">notation</span><span class="o">:</span><span class="mi">89</span> <span class="n">F</span> <span class="s2">"["</span> <span class="n">f</span><span class="o">:</span><span class="mi">90</span> <span class="s2">"]"</span> <span class="bp">=&gt;</span> <span class="n">CatHomHom</span> <span class="n">F</span> <span class="n">f</span>

<span class="kd">def</span> <span class="n">CatHomIdn</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">}</span> <span class="o">{</span><span class="n">D</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">}</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">CatHom</span> <span class="n">C</span> <span class="n">D</span><span class="o">)</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">)</span> <span class="o">:=</span> <span class="n">F.2.2.1</span> <span class="n">X</span>

<span class="kd">def</span> <span class="n">CatHomCmp</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">}</span> <span class="o">{</span><span class="n">D</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">}</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">}</span> <span class="o">{</span><span class="n">Y</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">}</span> <span class="o">{</span><span class="n">Z</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">}</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">CatHom</span> <span class="n">C</span> <span class="n">D</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">Hom</span> <span class="n">Y</span> <span class="n">Z</span><span class="o">)</span> <span class="o">:=</span> <span class="n">F.2.2.2.1</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="n">f</span> <span class="n">g</span>
<span class="kd">def</span> <span class="n">CatIdn</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">:</span> <span class="n">CatHom</span> <span class="n">C</span> <span class="n">C</span> <span class="o">:=</span>
<span class="o">‚ü®</span>
<span class="k">fun</span><span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">)</span><span class="bp">=&gt;</span><span class="n">X</span><span class="o">,</span>
<span class="k">fun</span><span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">)</span><span class="bp">=&gt;</span><span class="k">fun</span><span class="o">(</span><span class="n">Y</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">)</span><span class="bp">=&gt;</span><span class="k">fun</span><span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span><span class="bp">=&gt;</span><span class="n">f</span><span class="o">,</span>
<span class="k">fun</span><span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">)</span><span class="bp">=&gt;</span><span class="n">Refl</span> <span class="o">(</span><span class="n">Idn</span> <span class="n">X</span><span class="o">),</span>
<span class="k">fun</span><span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">)</span><span class="bp">=&gt;</span><span class="k">fun</span><span class="o">(</span><span class="n">Y</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">)</span><span class="bp">=&gt;</span><span class="k">fun</span><span class="o">(</span><span class="n">Z</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">)</span><span class="bp">=&gt;</span><span class="k">fun</span><span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span><span class="bp">=&gt;</span><span class="k">fun</span><span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">Hom</span> <span class="n">Y</span> <span class="n">Z</span><span class="o">)</span><span class="bp">=&gt;</span><span class="n">Refl</span> <span class="o">(</span><span class="n">Cmp</span> <span class="n">f</span> <span class="n">g</span><span class="o">),</span>
<span class="n">Unit.unit</span>
<span class="o">‚ü©</span>
<span class="kd">def</span> <span class="n">CatCmp</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">(</span><span class="n">D</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">(</span><span class="n">E</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">CatHom</span> <span class="n">C</span> <span class="n">D</span><span class="o">)</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="n">CatHom</span> <span class="n">D</span> <span class="n">E</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">CatHom</span> <span class="n">C</span> <span class="n">E</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">‚ü®</span>
<span class="k">fun</span><span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">)</span><span class="bp">=&gt;</span><span class="o">(</span><span class="n">G.1</span><span class="o">)</span> <span class="o">((</span><span class="n">F.1</span><span class="o">)</span> <span class="n">X</span><span class="o">),</span>
<span class="k">fun</span><span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">)</span><span class="bp">=&gt;</span><span class="k">fun</span><span class="o">(</span><span class="n">Y</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">)</span><span class="bp">=&gt;</span><span class="k">fun</span><span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span><span class="bp">=&gt;</span><span class="o">(</span><span class="n">G.2.1</span><span class="o">)</span> <span class="o">(</span><span class="n">F.1</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">F.1</span> <span class="n">Y</span><span class="o">)</span> <span class="o">((</span><span class="n">F.2.1</span><span class="o">)</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">f</span><span class="o">),</span>
<span class="k">fun</span><span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">)</span><span class="bp">=&gt;</span><span class="n">Trns</span> <span class="o">(</span> <span class="n">Push</span> <span class="o">(</span><span class="n">G.2.1</span> <span class="o">(</span><span class="n">F.1</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">F.1</span> <span class="n">X</span><span class="o">))</span> <span class="o">(</span><span class="n">F.2.2.1</span> <span class="n">X</span><span class="o">)</span> <span class="o">)</span> <span class="o">((</span><span class="n">G.2.2.1</span><span class="o">)</span> <span class="o">(</span><span class="n">F.1</span> <span class="n">X</span><span class="o">)),</span>
<span class="k">fun</span><span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">)</span><span class="bp">=&gt;</span><span class="k">fun</span><span class="o">(</span><span class="n">Y</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">)</span><span class="bp">=&gt;</span><span class="k">fun</span><span class="o">(</span><span class="n">Z</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">)</span><span class="bp">=&gt;</span><span class="k">fun</span><span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span><span class="bp">=&gt;</span><span class="k">fun</span><span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">Hom</span> <span class="n">Y</span> <span class="n">Z</span><span class="o">)</span><span class="bp">=&gt;</span>
<span class="o">(</span>
<span class="n">Trns</span>
<span class="o">(</span><span class="n">CatHomCmp</span> <span class="n">G</span>  <span class="o">(</span><span class="n">F</span><span class="o">[</span><span class="n">f</span><span class="o">])</span> <span class="o">(</span><span class="n">F</span><span class="o">[</span><span class="n">g</span><span class="o">]))</span>
<span class="o">(</span><span class="n">Push</span> <span class="o">(</span><span class="n">G.2.1</span> <span class="o">(</span><span class="n">F</span><span class="o">[</span><span class="n">X</span><span class="o">])</span> <span class="o">(</span><span class="n">F</span><span class="o">[</span><span class="n">Z</span><span class="o">]))</span> <span class="o">(</span><span class="n">CatHomCmp</span> <span class="n">F</span> <span class="n">f</span> <span class="n">g</span><span class="o">))</span>
<span class="o">),</span>
<span class="n">Unit.unit</span><span class="o">‚ü©</span>
<span class="kd">def</span> <span class="n">CatId1</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">(</span><span class="n">D</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">CatHom</span> <span class="n">C</span> <span class="n">D</span><span class="o">)</span> <span class="o">:</span> <span class="o">((</span><span class="n">CatCmp</span> <span class="n">C</span> <span class="n">D</span> <span class="n">D</span><span class="o">)</span> <span class="n">F</span> <span class="o">(</span><span class="n">CatIdn</span> <span class="n">D</span><span class="o">)</span> <span class="bp">‚â°</span> <span class="n">F</span><span class="o">)</span> <span class="o">:=</span> <span class="o">‚ü®(</span><span class="n">Refl</span> <span class="n">F</span><span class="o">)</span><span class="bp">.</span><span class="mi">1</span><span class="o">,</span> <span class="n">Unit.unit</span><span class="o">‚ü©</span>
<span class="kd">def</span> <span class="n">CatId2</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">(</span><span class="n">D</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">CatHom</span> <span class="n">C</span> <span class="n">D</span><span class="o">)</span> <span class="o">:</span> <span class="o">((</span><span class="n">CatCmp</span> <span class="n">C</span> <span class="n">C</span> <span class="n">D</span><span class="o">)</span> <span class="o">(</span><span class="n">CatIdn</span> <span class="n">C</span><span class="o">)</span> <span class="n">F</span> <span class="bp">‚â°</span> <span class="n">F</span><span class="o">)</span> <span class="o">:=</span> <span class="o">‚ü®(</span><span class="n">Refl</span> <span class="n">F</span><span class="o">)</span><span class="bp">.</span><span class="mi">1</span><span class="o">,</span> <span class="n">Unit.unit</span><span class="o">‚ü©</span>
<span class="kd">def</span> <span class="n">CatAss</span> <span class="o">(</span><span class="n">B</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">(</span><span class="n">D</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">(</span><span class="n">E</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">CatHom</span> <span class="n">B</span> <span class="n">C</span><span class="o">)</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="n">CatHom</span> <span class="n">C</span> <span class="n">D</span><span class="o">)</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">CatHom</span> <span class="n">D</span> <span class="n">E</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">CatCmp</span> <span class="n">B</span> <span class="n">C</span> <span class="n">E</span> <span class="n">F</span> <span class="o">(</span><span class="n">CatCmp</span> <span class="n">C</span> <span class="n">D</span> <span class="n">E</span> <span class="n">G</span> <span class="n">H</span><span class="o">)</span> <span class="bp">‚â°</span> <span class="n">CatCmp</span> <span class="n">B</span> <span class="n">D</span> <span class="n">E</span> <span class="o">(</span><span class="n">CatCmp</span> <span class="n">B</span> <span class="n">C</span> <span class="n">D</span> <span class="n">F</span> <span class="n">G</span><span class="o">)</span> <span class="n">H</span><span class="o">)</span> <span class="o">:=</span> <span class="o">‚ü®(</span><span class="n">Refl</span> <span class="o">(</span><span class="n">CatCmp</span> <span class="n">B</span> <span class="n">C</span> <span class="n">E</span> <span class="n">F</span> <span class="o">(</span><span class="n">CatCmp</span> <span class="n">C</span> <span class="n">D</span> <span class="n">E</span> <span class="n">G</span> <span class="n">H</span><span class="o">)))</span><span class="bp">.</span><span class="mi">1</span><span class="o">,</span> <span class="n">Unit.unit</span> <span class="o">‚ü©</span>
</code></pre></div>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">Cat0</span> <span class="o">:</span> <span class="n">Cat</span> <span class="o">:=</span>
<span class="o">‚ü®</span>
<span class="n">Cat</span><span class="o">,</span>
<span class="n">CatHom</span><span class="o">,</span>
<span class="n">CatIdn</span><span class="o">,</span>
<span class="n">CatCmp</span><span class="o">,</span>
<span class="n">CatId1</span><span class="o">,</span>
<span class="n">CatId2</span><span class="o">,</span>
<span class="n">CatAss</span>
<span class="o">‚ü©</span>
</code></pre></div>



<a name="320540935"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Universes%20for%20categories%20of%20categories/near/320540935" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Universes.20for.20categories.20of.20categories.html#320540935">(Jan 10 2023 at 20:42)</a>:</h4>
<p>A message was moved here from <a class="stream-topic" data-stream-id="113488" href="/#narrow/stream/113488-general/topic/universe.20issues">#general &gt; universe issues</a> by <span class="user-mention silent" data-user-id="310045">Eric Wieser</span>.</p>



<a name="320541074"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Universes%20for%20categories%20of%20categories/near/320541074" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Universes.20for.20categories.20of.20categories.html#320541074">(Jan 10 2023 at 20:43)</a>:</h4>
<p>That code doesn't work for me as there's no <code>‚â°</code>, <code>Refl</code>, or <code>Trans</code></p>



<a name="320541272"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Universes%20for%20categories%20of%20categories/near/320541272" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Universes.20for.20categories.20of.20categories.html#320541272">(Jan 10 2023 at 20:45)</a>:</h4>
<p>15 messages were moved here from <a class="stream-topic" data-stream-id="113488" href="/#narrow/stream/113488-general/topic/Universes">#general &gt; Universes</a> by <span class="user-mention silent" data-user-id="310045">Eric Wieser</span>.</p>



<a name="320541832"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Universes%20for%20categories%20of%20categories/near/320541832" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Universes.20for.20categories.20of.20categories.html#320541832">(Jan 10 2023 at 20:48)</a>:</h4>
<p>It's also worth remembering that even if you really want to stick to "sigma purity" you can write multiple binders after a sigma or forall:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">Cat</span> <span class="o">:=</span> <span class="bp">Œ£'</span>
  <span class="o">(</span><span class="n">Obj</span><span class="o">:</span><span class="kt">Type</span> <span class="n">_</span><span class="o">)</span>
  <span class="o">(</span><span class="n">Hom</span><span class="o">:</span> <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">Obj</span><span class="o">)</span> <span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span> <span class="o">(</span><span class="kt">Type</span> <span class="n">_</span><span class="o">))</span>
  <span class="o">(</span><span class="n">Id</span><span class="o">:</span> <span class="bp">‚àÄ</span> <span class="o">(</span><span class="n">X</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span> <span class="o">(</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">X</span><span class="o">))</span>
  <span class="o">(</span><span class="n">Cmp</span><span class="o">:</span> <span class="bp">‚àÄ</span> <span class="o">(</span><span class="n">X</span><span class="o">:</span><span class="n">Obj</span><span class="o">)</span> <span class="o">(</span><span class="n">Y</span><span class="o">:</span><span class="n">Obj</span><span class="o">)</span> <span class="o">(</span><span class="n">Z</span><span class="o">:</span><span class="n">Obj</span><span class="o">)</span> <span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span> <span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">Hom</span> <span class="n">Y</span> <span class="n">Z</span><span class="o">),</span> <span class="o">(</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">Z</span><span class="o">))</span>
  <span class="o">(</span><span class="n">_</span><span class="o">:</span> <span class="bp">‚àÄ</span> <span class="o">(</span><span class="n">X</span><span class="o">:</span><span class="n">Obj</span><span class="o">)</span> <span class="o">(</span><span class="n">Y</span><span class="o">:</span><span class="n">Obj</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span><span class="o">:</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">Cmp</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">Y</span><span class="o">)</span> <span class="n">f</span> <span class="o">(</span><span class="n">Id</span> <span class="n">Y</span><span class="o">)</span> <span class="bp">=</span> <span class="n">f</span><span class="o">)</span>
  <span class="o">(</span><span class="n">_</span><span class="o">:</span> <span class="bp">‚àÄ</span> <span class="o">(</span><span class="n">X</span><span class="o">:</span><span class="n">Obj</span><span class="o">)</span> <span class="o">(</span><span class="n">Y</span><span class="o">:</span><span class="n">Obj</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span><span class="o">:</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">Cmp</span> <span class="n">X</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span> <span class="o">(</span><span class="n">Id</span> <span class="n">X</span><span class="o">)</span> <span class="n">f</span> <span class="bp">=</span> <span class="n">f</span><span class="o">)</span>
  <span class="o">(</span><span class="n">_</span><span class="o">:</span> <span class="bp">‚àÄ</span> <span class="o">(</span><span class="n">W</span><span class="o">:</span><span class="n">Obj</span><span class="o">)</span> <span class="o">(</span><span class="n">X</span><span class="o">:</span><span class="n">Obj</span><span class="o">)</span> <span class="o">(</span><span class="n">Y</span><span class="o">:</span><span class="n">Obj</span><span class="o">)</span> <span class="o">(</span><span class="n">Z</span><span class="o">:</span><span class="n">Obj</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span><span class="o">:</span><span class="n">Hom</span> <span class="n">W</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span><span class="o">:</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span><span class="o">:</span><span class="n">Hom</span> <span class="n">Y</span> <span class="n">Z</span><span class="o">),</span>
      <span class="o">(</span><span class="n">Cmp</span> <span class="n">W</span> <span class="n">X</span> <span class="n">Z</span><span class="o">)</span> <span class="n">f</span> <span class="o">(</span><span class="n">Cmp</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="n">g</span> <span class="n">h</span><span class="o">)</span> <span class="bp">=</span> <span class="n">Cmp</span> <span class="n">W</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">(</span><span class="n">Cmp</span> <span class="n">W</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span> <span class="n">h</span><span class="o">),</span>
<span class="n">Unit</span>
</code></pre></div>



<a name="320542612"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Universes%20for%20categories%20of%20categories/near/320542612" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kind Bubble <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Universes.20for.20categories.20of.20categories.html#320542612">(Jan 10 2023 at 20:53)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113488-general/topic/Universes.20for.20categories.20of.20categories/near/320541832">said</a>:</p>
<blockquote>
<p>It's also worth remembering that even if you really want to stick to "sigma purity" you can write multiple binders after a sigma or forall:</p>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">Cat</span> <span class="o">:=</span> <span class="bp">Œ£'</span>
  <span class="o">(</span><span class="n">Obj</span><span class="o">:</span><span class="kt">Type</span> <span class="n">_</span><span class="o">)</span>
  <span class="o">(</span><span class="n">Hom</span><span class="o">:</span> <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">Obj</span><span class="o">)</span> <span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span> <span class="o">(</span><span class="kt">Type</span> <span class="n">_</span><span class="o">))</span>
  <span class="o">(</span><span class="n">Id</span><span class="o">:</span> <span class="bp">‚àÄ</span> <span class="o">(</span><span class="n">X</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span> <span class="o">(</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">X</span><span class="o">))</span>
  <span class="o">(</span><span class="n">Cmp</span><span class="o">:</span> <span class="bp">‚àÄ</span> <span class="o">(</span><span class="n">X</span><span class="o">:</span><span class="n">Obj</span><span class="o">)</span> <span class="o">(</span><span class="n">Y</span><span class="o">:</span><span class="n">Obj</span><span class="o">)</span> <span class="o">(</span><span class="n">Z</span><span class="o">:</span><span class="n">Obj</span><span class="o">)</span> <span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span> <span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">Hom</span> <span class="n">Y</span> <span class="n">Z</span><span class="o">),</span> <span class="o">(</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">Z</span><span class="o">))</span>
  <span class="o">(</span><span class="n">_</span><span class="o">:</span> <span class="bp">‚àÄ</span> <span class="o">(</span><span class="n">X</span><span class="o">:</span><span class="n">Obj</span><span class="o">)</span> <span class="o">(</span><span class="n">Y</span><span class="o">:</span><span class="n">Obj</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span><span class="o">:</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">Cmp</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">Y</span><span class="o">)</span> <span class="n">f</span> <span class="o">(</span><span class="n">Id</span> <span class="n">Y</span><span class="o">)</span> <span class="bp">=</span> <span class="n">f</span><span class="o">)</span>
  <span class="o">(</span><span class="n">_</span><span class="o">:</span> <span class="bp">‚àÄ</span> <span class="o">(</span><span class="n">X</span><span class="o">:</span><span class="n">Obj</span><span class="o">)</span> <span class="o">(</span><span class="n">Y</span><span class="o">:</span><span class="n">Obj</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span><span class="o">:</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">Cmp</span> <span class="n">X</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span> <span class="o">(</span><span class="n">Id</span> <span class="n">X</span><span class="o">)</span> <span class="n">f</span> <span class="bp">=</span> <span class="n">f</span><span class="o">)</span>
  <span class="o">(</span><span class="n">_</span><span class="o">:</span> <span class="bp">‚àÄ</span> <span class="o">(</span><span class="n">W</span><span class="o">:</span><span class="n">Obj</span><span class="o">)</span> <span class="o">(</span><span class="n">X</span><span class="o">:</span><span class="n">Obj</span><span class="o">)</span> <span class="o">(</span><span class="n">Y</span><span class="o">:</span><span class="n">Obj</span><span class="o">)</span> <span class="o">(</span><span class="n">Z</span><span class="o">:</span><span class="n">Obj</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span><span class="o">:</span><span class="n">Hom</span> <span class="n">W</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span><span class="o">:</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span><span class="o">:</span><span class="n">Hom</span> <span class="n">Y</span> <span class="n">Z</span><span class="o">),</span>
      <span class="o">(</span><span class="n">Cmp</span> <span class="n">W</span> <span class="n">X</span> <span class="n">Z</span><span class="o">)</span> <span class="n">f</span> <span class="o">(</span><span class="n">Cmp</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="n">g</span> <span class="n">h</span><span class="o">)</span> <span class="bp">=</span> <span class="n">Cmp</span> <span class="n">W</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">(</span><span class="n">Cmp</span> <span class="n">W</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span> <span class="n">h</span><span class="o">),</span>
<span class="n">Unit</span>
</code></pre></div><br>
</p>
</blockquote>
<p>I haven't fully switched over but I did away with about half of the idiosyncrasies I had.</p>
<p>Ok here's the whole code for now. I'm sorry for the notation nuisance ... I'll probably switch over by the end of the day.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">notation</span> <span class="n">x</span> <span class="s2">"‚â°"</span> <span class="n">y</span> <span class="bp">=&gt;</span> <span class="bp">Œ£'</span><span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">x</span><span class="bp">=</span><span class="n">y</span><span class="o">),</span><span class="n">Unit</span>
<span class="kd">def</span> <span class="n">Refl</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">_</span><span class="o">}</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">X</span><span class="o">)</span> <span class="o">:</span> <span class="n">x</span><span class="bp">‚â°</span><span class="n">x</span> <span class="o">:=</span> <span class="n">PSigma.mk</span> <span class="o">(</span><span class="n">Eq.refl</span> <span class="n">x</span><span class="o">)</span> <span class="n">Unit.unit</span> <span class="c">/-</span><span class="cm">to go-/</span>
<span class="kd">def</span> <span class="n">Symm</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">_</span><span class="o">}</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">X</span><span class="o">}</span> <span class="o">{</span><span class="n">y</span> <span class="o">:</span> <span class="n">X</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span><span class="o">:</span><span class="bp">Œ£'</span><span class="o">(</span><span class="n">_</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span><span class="o">),</span><span class="n">Unit</span><span class="o">):(</span><span class="n">y</span><span class="bp">‚â°</span><span class="n">x</span><span class="o">)</span> <span class="o">:=</span> <span class="n">PSigma.mk</span> <span class="o">(</span><span class="n">Eq.symm</span> <span class="n">f.1</span><span class="o">)</span> <span class="n">Unit.unit</span>
<span class="kd">notation</span> <span class="s2">"-"</span> <span class="n">p</span> <span class="bp">=&gt;</span> <span class="n">Symm</span> <span class="n">p</span> <span class="c">/-</span><span class="cm">to go-/</span>
<span class="kd">def</span> <span class="n">Trns</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">_</span><span class="o">}</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">X</span><span class="o">}</span> <span class="o">{</span><span class="n">y</span> <span class="o">:</span> <span class="n">X</span><span class="o">}</span> <span class="o">{</span><span class="n">z</span> <span class="o">:</span> <span class="n">X</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="bp">Œ£'</span><span class="o">(</span><span class="n">_</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span><span class="o">),</span><span class="n">Unit</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">Œ£'</span><span class="o">(</span><span class="n">_</span> <span class="o">:</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">z</span><span class="o">),</span><span class="n">Unit</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">x</span><span class="bp">‚â°</span><span class="n">z</span><span class="o">):=</span> <span class="n">PSigma.mk</span> <span class="o">(</span><span class="n">Eq.trans</span> <span class="n">f.1</span> <span class="n">g.1</span><span class="o">)</span> <span class="n">Unit.unit</span>
<span class="kd">notation</span> <span class="n">p</span> <span class="s2">"~"</span> <span class="n">q</span> <span class="bp">=&gt;</span> <span class="n">Trns</span> <span class="n">p</span> <span class="n">q</span> <span class="c">/-</span><span class="cm">to go-/</span>
<span class="kd">def</span> <span class="n">Push</span> <span class="o">{</span><span class="n">X</span><span class="o">:</span><span class="kt">Type</span> <span class="n">_</span><span class="o">}{</span><span class="n">Y</span><span class="o">:</span><span class="kt">Type</span> <span class="n">_</span><span class="o">}{</span><span class="n">x</span><span class="o">:</span><span class="n">X</span><span class="o">}{</span><span class="n">y</span><span class="o">:</span><span class="n">X</span><span class="o">}(</span><span class="n">f</span><span class="o">:</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">X</span><span class="o">),</span><span class="n">Y</span><span class="o">)(</span><span class="n">p</span><span class="o">:</span><span class="n">x</span><span class="bp">‚â°</span><span class="n">y</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">f</span> <span class="n">x</span> <span class="bp">‚â°</span> <span class="n">f</span> <span class="n">y</span><span class="o">)</span> <span class="o">:=</span> <span class="o">‚ü®</span><span class="n">congrArg</span> <span class="n">f</span> <span class="n">p.1</span><span class="o">,</span> <span class="n">Unit.unit</span><span class="o">‚ü©</span> <span class="c">/-</span><span class="cm">to go-/</span>
<span class="kd">structure</span> <span class="n">Category</span> <span class="n">where</span>
  <span class="n">Obj</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">_</span>
  <span class="n">Hom</span> <span class="o">:</span> <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span> <span class="kt">Type</span> <span class="n">_</span>
  <span class="n">Idn</span> <span class="o">:</span> <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">X</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">X</span>
  <span class="n">Cmp</span> <span class="o">:</span> <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">X</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">Y</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">Z</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">Hom</span> <span class="n">Y</span> <span class="n">Z</span><span class="o">),</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">Z</span>
  <span class="n">Id1</span> <span class="o">:</span> <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">X</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">Y</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">f</span><span class="o">:</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">),(</span><span class="n">Cmp</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">Y</span><span class="o">)</span> <span class="n">f</span> <span class="o">(</span><span class="n">Idn</span> <span class="n">Y</span><span class="o">)</span> <span class="bp">=</span> <span class="n">f</span>
  <span class="n">Id2</span> <span class="o">:</span> <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">X</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">Y</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">f</span><span class="o">:</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">),(</span><span class="n">Cmp</span> <span class="n">X</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span> <span class="o">(</span><span class="n">Idn</span> <span class="n">X</span><span class="o">)</span> <span class="n">f</span> <span class="bp">=</span> <span class="n">f</span>
  <span class="n">Ass</span> <span class="o">:</span> <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">W</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">X</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">Y</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">Z</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">f</span><span class="o">:</span><span class="n">Hom</span> <span class="n">W</span> <span class="n">X</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">g</span><span class="o">:</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">h</span><span class="o">:</span><span class="n">Hom</span> <span class="n">Y</span> <span class="n">Z</span><span class="o">),(</span><span class="n">Cmp</span> <span class="n">W</span> <span class="n">X</span> <span class="n">Z</span><span class="o">)</span> <span class="n">f</span> <span class="o">(</span><span class="n">Cmp</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="n">g</span> <span class="n">h</span><span class="o">)</span> <span class="bp">=</span> <span class="n">Cmp</span> <span class="n">W</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">(</span><span class="n">Cmp</span> <span class="n">W</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span> <span class="n">h</span>
<span class="kd">def</span> <span class="n">Cat</span> <span class="o">:=</span>
<span class="bp">Œ£'</span><span class="o">(</span><span class="n">Obj</span><span class="o">:</span><span class="kt">Type</span> <span class="n">_</span><span class="o">),</span>
<span class="bp">Œ£'</span><span class="o">(</span><span class="n">Hom</span><span class="o">:</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">Obj</span><span class="o">),(</span><span class="kt">Type</span> <span class="n">_</span><span class="o">)),</span>
<span class="bp">Œ£'</span><span class="o">(</span><span class="n">Id</span><span class="o">:</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">X</span><span class="o">:</span><span class="n">Obj</span><span class="o">),(</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">X</span><span class="o">)),</span>
<span class="bp">Œ£'</span><span class="o">(</span><span class="n">Cmp</span><span class="o">:</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">X</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">Y</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">Z</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">Hom</span> <span class="n">Y</span> <span class="n">Z</span><span class="o">),(</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">Z</span><span class="o">)),</span>
<span class="bp">Œ£'</span><span class="o">(</span><span class="n">_</span><span class="o">:</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">X</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">Y</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">f</span><span class="o">:</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">),(</span><span class="n">Cmp</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">Y</span><span class="o">)</span> <span class="n">f</span> <span class="o">(</span><span class="n">Id</span> <span class="n">Y</span><span class="o">)</span> <span class="bp">‚â°</span> <span class="n">f</span><span class="o">),</span>
<span class="bp">Œ£'</span><span class="o">(</span><span class="n">_</span><span class="o">:</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">X</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">Y</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">f</span><span class="o">:</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">),(</span><span class="n">Cmp</span> <span class="n">X</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span> <span class="o">(</span><span class="n">Id</span> <span class="n">X</span><span class="o">)</span> <span class="n">f</span> <span class="bp">‚â°</span> <span class="n">f</span><span class="o">),</span>
<span class="bp">Œ£'</span><span class="o">(</span><span class="n">_</span><span class="o">:</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">W</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">X</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">Y</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">Z</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">f</span><span class="o">:</span><span class="n">Hom</span> <span class="n">W</span> <span class="n">X</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">g</span><span class="o">:</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">h</span><span class="o">:</span><span class="n">Hom</span> <span class="n">Y</span> <span class="n">Z</span><span class="o">),</span>
   <span class="o">(</span><span class="n">Cmp</span> <span class="n">W</span> <span class="n">X</span> <span class="n">Z</span><span class="o">)</span> <span class="n">f</span> <span class="o">(</span><span class="n">Cmp</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="n">g</span> <span class="n">h</span><span class="o">)</span> <span class="bp">‚â°</span> <span class="n">Cmp</span> <span class="n">W</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">(</span><span class="n">Cmp</span> <span class="n">W</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span> <span class="n">h</span><span class="o">),</span>
<span class="n">Unit</span>

<span class="kd">def</span> <span class="n">Obj</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">:=</span> <span class="n">C.1</span>

<span class="kd">def</span> <span class="n">Hom</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span> <span class="o">}(</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">)(</span><span class="n">Y</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">)</span> <span class="o">:=</span> <span class="n">C.2.1</span> <span class="n">X</span> <span class="n">Y</span>

<span class="kd">def</span> <span class="n">Idn</span> <span class="o">{</span> <span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span> <span class="o">}</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">)</span> <span class="o">:=</span> <span class="n">C.2.2.1</span> <span class="n">X</span>
<span class="kd">notation</span> <span class="s2">"ùüô"</span> <span class="n">X</span> <span class="bp">=&gt;</span> <span class="n">Idn</span> <span class="n">X</span>

<span class="kd">def</span> <span class="n">Cmp</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">}</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">}</span> <span class="o">{</span><span class="n">Y</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">}</span> <span class="o">{</span><span class="n">Z</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">Hom</span> <span class="n">Y</span> <span class="n">Z</span><span class="o">)</span> <span class="o">:=</span> <span class="n">C.2.2.2.1</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="n">f</span> <span class="n">g</span>
<span class="kd">notation</span> <span class="n">g</span> <span class="s2">"‚àò"</span> <span class="n">f</span> <span class="bp">=&gt;</span> <span class="n">Cmp</span> <span class="n">f</span> <span class="n">g</span>

<span class="kd">def</span> <span class="n">Id1</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">}</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">}</span> <span class="o">{</span><span class="n">Y</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span> <span class="o">:=</span> <span class="n">C.2.2.2.2.2.1</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">f</span>

<span class="kd">def</span> <span class="n">Id2</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">}</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">}</span> <span class="o">{</span><span class="n">Y</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span> <span class="o">:=</span> <span class="n">C.2.2.2.2.1</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">f</span>

<span class="kd">def</span> <span class="n">Ass</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">}</span> <span class="o">{</span><span class="n">W</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">}</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">}</span> <span class="o">{</span><span class="n">Y</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">}</span> <span class="o">{</span><span class="n">Z</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">Hom</span> <span class="n">W</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">Hom</span> <span class="n">Y</span> <span class="n">Z</span><span class="o">)</span> <span class="o">:=</span> <span class="n">C.2.2.2.2.2.2.1</span> <span class="n">W</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="n">f</span> <span class="n">g</span> <span class="n">h</span>
<span class="kd">def</span> <span class="n">CatHom</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">(</span><span class="n">D</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">:=</span>
<span class="bp">Œ£'</span><span class="o">(</span><span class="n">CatHomObj</span> <span class="o">:</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">_</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">),</span>
   <span class="n">Obj</span> <span class="n">D</span><span class="o">),</span>
<span class="bp">Œ£'</span><span class="o">(</span><span class="n">CatHomHom</span> <span class="o">:</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">),</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">Y</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">),</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">_</span> <span class="o">:</span> <span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">),</span>
   <span class="n">Hom</span> <span class="o">(</span><span class="n">CatHomObj</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">CatHomObj</span> <span class="n">Y</span><span class="o">)),</span>
<span class="bp">Œ£'</span><span class="o">(</span><span class="n">_</span> <span class="o">:</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">),</span>
   <span class="n">CatHomHom</span> <span class="n">X</span> <span class="n">X</span> <span class="o">(</span><span class="n">Idn</span> <span class="n">X</span><span class="o">)</span> <span class="bp">‚â°</span> <span class="n">Idn</span> <span class="o">(</span><span class="n">CatHomObj</span> <span class="n">X</span><span class="o">)),</span>
<span class="bp">Œ£'</span><span class="o">(</span><span class="n">_</span> <span class="o">:</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">),</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">Y</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">),</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">Z</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">),</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">),</span>
   <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">Hom</span> <span class="n">Y</span> <span class="n">Z</span><span class="o">),</span>
   <span class="n">Cmp</span> <span class="o">(</span><span class="n">CatHomHom</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">f</span><span class="o">)</span> <span class="o">(</span><span class="n">CatHomHom</span> <span class="n">Y</span> <span class="n">Z</span> <span class="n">g</span><span class="o">)</span> <span class="bp">‚â°</span> <span class="n">CatHomHom</span> <span class="n">X</span> <span class="n">Z</span> <span class="o">(</span><span class="n">Cmp</span> <span class="n">f</span> <span class="n">g</span><span class="o">)),</span>
<span class="n">Unit</span>

<span class="kd">def</span> <span class="n">CatHomObj</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">}</span> <span class="o">{</span><span class="n">D</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">}</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">CatHom</span> <span class="n">C</span> <span class="n">D</span><span class="o">)</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">)</span> <span class="o">:=</span> <span class="n">F.1</span> <span class="n">X</span>
<span class="kd">notation</span><span class="o">:</span><span class="mi">99</span> <span class="n">F</span> <span class="s2">"["</span> <span class="n">X</span><span class="o">:</span><span class="mi">100</span> <span class="s2">"]"</span> <span class="bp">=&gt;</span> <span class="n">CatHomObj</span> <span class="n">F</span> <span class="n">X</span>

<span class="kd">def</span> <span class="n">CatHomHom</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">}</span> <span class="o">{</span><span class="n">D</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">}</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">}</span> <span class="o">{</span><span class="n">Y</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">}</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">CatHom</span> <span class="n">C</span> <span class="n">D</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span> <span class="o">:=</span> <span class="n">F.2.1</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">f</span>
<span class="kd">notation</span><span class="o">:</span><span class="mi">89</span> <span class="n">F</span> <span class="s2">"["</span> <span class="n">f</span><span class="o">:</span><span class="mi">90</span> <span class="s2">"]"</span> <span class="bp">=&gt;</span> <span class="n">CatHomHom</span> <span class="n">F</span> <span class="n">f</span>

<span class="kd">def</span> <span class="n">CatHomIdn</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">}</span> <span class="o">{</span><span class="n">D</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">}</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">CatHom</span> <span class="n">C</span> <span class="n">D</span><span class="o">)</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">)</span> <span class="o">:=</span> <span class="n">F.2.2.1</span> <span class="n">X</span>

<span class="kd">def</span> <span class="n">CatHomCmp</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">}</span> <span class="o">{</span><span class="n">D</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">}</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">}</span> <span class="o">{</span><span class="n">Y</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">}</span> <span class="o">{</span><span class="n">Z</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">}</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">CatHom</span> <span class="n">C</span> <span class="n">D</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">Hom</span> <span class="n">Y</span> <span class="n">Z</span><span class="o">)</span> <span class="o">:=</span> <span class="n">F.2.2.2.1</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="n">f</span> <span class="n">g</span>
<span class="kd">def</span> <span class="n">CatIdn</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">:</span> <span class="n">CatHom</span> <span class="n">C</span> <span class="n">C</span> <span class="o">:=</span>
<span class="o">‚ü®</span>
<span class="k">fun</span><span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">)</span><span class="bp">=&gt;</span><span class="n">X</span><span class="o">,</span>
<span class="k">fun</span><span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">)</span><span class="bp">=&gt;</span><span class="k">fun</span><span class="o">(</span><span class="n">Y</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">)</span><span class="bp">=&gt;</span><span class="k">fun</span><span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span><span class="bp">=&gt;</span><span class="n">f</span><span class="o">,</span>
<span class="k">fun</span><span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">)</span><span class="bp">=&gt;</span><span class="n">Refl</span> <span class="o">(</span><span class="n">Idn</span> <span class="n">X</span><span class="o">),</span>
<span class="k">fun</span><span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">)</span><span class="bp">=&gt;</span><span class="k">fun</span><span class="o">(</span><span class="n">Y</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">)</span><span class="bp">=&gt;</span><span class="k">fun</span><span class="o">(</span><span class="n">Z</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">)</span><span class="bp">=&gt;</span><span class="k">fun</span><span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span><span class="bp">=&gt;</span><span class="k">fun</span><span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">Hom</span> <span class="n">Y</span> <span class="n">Z</span><span class="o">)</span><span class="bp">=&gt;</span><span class="n">Refl</span> <span class="o">(</span><span class="n">Cmp</span> <span class="n">f</span> <span class="n">g</span><span class="o">),</span>
<span class="n">Unit.unit</span>
<span class="o">‚ü©</span>
<span class="kd">def</span> <span class="n">CatCmp</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">(</span><span class="n">D</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">(</span><span class="n">E</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">CatHom</span> <span class="n">C</span> <span class="n">D</span><span class="o">)</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="n">CatHom</span> <span class="n">D</span> <span class="n">E</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">CatHom</span> <span class="n">C</span> <span class="n">E</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">‚ü®</span>
<span class="k">fun</span><span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">)</span><span class="bp">=&gt;</span><span class="o">(</span><span class="n">G.1</span><span class="o">)</span> <span class="o">((</span><span class="n">F.1</span><span class="o">)</span> <span class="n">X</span><span class="o">),</span>
<span class="k">fun</span><span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">)</span><span class="bp">=&gt;</span><span class="k">fun</span><span class="o">(</span><span class="n">Y</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">)</span><span class="bp">=&gt;</span><span class="k">fun</span><span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span><span class="bp">=&gt;</span><span class="o">(</span><span class="n">G.2.1</span><span class="o">)</span> <span class="o">(</span><span class="n">F.1</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">F.1</span> <span class="n">Y</span><span class="o">)</span> <span class="o">((</span><span class="n">F.2.1</span><span class="o">)</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">f</span><span class="o">),</span>
<span class="k">fun</span><span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">)</span><span class="bp">=&gt;</span><span class="n">Trns</span> <span class="o">(</span> <span class="n">Push</span> <span class="o">(</span><span class="n">G.2.1</span> <span class="o">(</span><span class="n">F.1</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">F.1</span> <span class="n">X</span><span class="o">))</span> <span class="o">(</span><span class="n">F.2.2.1</span> <span class="n">X</span><span class="o">)</span> <span class="o">)</span> <span class="o">((</span><span class="n">G.2.2.1</span><span class="o">)</span> <span class="o">(</span><span class="n">F.1</span> <span class="n">X</span><span class="o">)),</span>
<span class="k">fun</span><span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">)</span><span class="bp">=&gt;</span><span class="k">fun</span><span class="o">(</span><span class="n">Y</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">)</span><span class="bp">=&gt;</span><span class="k">fun</span><span class="o">(</span><span class="n">Z</span> <span class="o">:</span> <span class="n">Obj</span> <span class="n">C</span><span class="o">)</span><span class="bp">=&gt;</span><span class="k">fun</span><span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span><span class="bp">=&gt;</span><span class="k">fun</span><span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">Hom</span> <span class="n">Y</span> <span class="n">Z</span><span class="o">)</span><span class="bp">=&gt;</span>
<span class="o">(</span>
<span class="n">Trns</span>
<span class="o">(</span><span class="n">CatHomCmp</span> <span class="n">G</span>  <span class="o">(</span><span class="n">F</span><span class="o">[</span><span class="n">f</span><span class="o">])</span> <span class="o">(</span><span class="n">F</span><span class="o">[</span><span class="n">g</span><span class="o">]))</span>
<span class="o">(</span><span class="n">Push</span> <span class="o">(</span><span class="n">G.2.1</span> <span class="o">(</span><span class="n">F</span><span class="o">[</span><span class="n">X</span><span class="o">])</span> <span class="o">(</span><span class="n">F</span><span class="o">[</span><span class="n">Z</span><span class="o">]))</span> <span class="o">(</span><span class="n">CatHomCmp</span> <span class="n">F</span> <span class="n">f</span> <span class="n">g</span><span class="o">))</span>
<span class="o">),</span>
<span class="n">Unit.unit</span><span class="o">‚ü©</span>
<span class="kd">def</span> <span class="n">CatId1</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">(</span><span class="n">D</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">CatHom</span> <span class="n">C</span> <span class="n">D</span><span class="o">)</span> <span class="o">:</span> <span class="o">((</span><span class="n">CatCmp</span> <span class="n">C</span> <span class="n">D</span> <span class="n">D</span><span class="o">)</span> <span class="n">F</span> <span class="o">(</span><span class="n">CatIdn</span> <span class="n">D</span><span class="o">)</span> <span class="bp">‚â°</span> <span class="n">F</span><span class="o">)</span> <span class="o">:=</span> <span class="o">‚ü®(</span><span class="n">Refl</span> <span class="n">F</span><span class="o">)</span><span class="bp">.</span><span class="mi">1</span><span class="o">,</span> <span class="n">Unit.unit</span><span class="o">‚ü©</span>
<span class="kd">def</span> <span class="n">CatId2</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">(</span><span class="n">D</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">CatHom</span> <span class="n">C</span> <span class="n">D</span><span class="o">)</span> <span class="o">:</span> <span class="o">((</span><span class="n">CatCmp</span> <span class="n">C</span> <span class="n">C</span> <span class="n">D</span><span class="o">)</span> <span class="o">(</span><span class="n">CatIdn</span> <span class="n">C</span><span class="o">)</span> <span class="n">F</span> <span class="bp">‚â°</span> <span class="n">F</span><span class="o">)</span> <span class="o">:=</span> <span class="o">‚ü®(</span><span class="n">Refl</span> <span class="n">F</span><span class="o">)</span><span class="bp">.</span><span class="mi">1</span><span class="o">,</span> <span class="n">Unit.unit</span><span class="o">‚ü©</span>
<span class="kd">def</span> <span class="n">CatAss</span> <span class="o">(</span><span class="n">B</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">(</span><span class="n">D</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">(</span><span class="n">E</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">CatHom</span> <span class="n">B</span> <span class="n">C</span><span class="o">)</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="n">CatHom</span> <span class="n">C</span> <span class="n">D</span><span class="o">)</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">CatHom</span> <span class="n">D</span> <span class="n">E</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">CatCmp</span> <span class="n">B</span> <span class="n">C</span> <span class="n">E</span> <span class="n">F</span> <span class="o">(</span><span class="n">CatCmp</span> <span class="n">C</span> <span class="n">D</span> <span class="n">E</span> <span class="n">G</span> <span class="n">H</span><span class="o">)</span> <span class="bp">‚â°</span> <span class="n">CatCmp</span> <span class="n">B</span> <span class="n">D</span> <span class="n">E</span> <span class="o">(</span><span class="n">CatCmp</span> <span class="n">B</span> <span class="n">C</span> <span class="n">D</span> <span class="n">F</span> <span class="n">G</span><span class="o">)</span> <span class="n">H</span><span class="o">)</span> <span class="o">:=</span> <span class="o">‚ü®(</span><span class="n">Refl</span> <span class="o">(</span><span class="n">CatCmp</span> <span class="n">B</span> <span class="n">C</span> <span class="n">E</span> <span class="n">F</span> <span class="o">(</span><span class="n">CatCmp</span> <span class="n">C</span> <span class="n">D</span> <span class="n">E</span> <span class="n">G</span> <span class="n">H</span><span class="o">)))</span><span class="bp">.</span><span class="mi">1</span><span class="o">,</span> <span class="n">Unit.unit</span> <span class="o">‚ü©</span>
<span class="kd">def</span> <span class="n">Cat0</span> <span class="o">:</span> <span class="n">Cat</span> <span class="o">:=</span>
<span class="o">‚ü®</span>
<span class="n">Cat</span><span class="o">,</span>
<span class="n">CatHom</span><span class="o">,</span>
<span class="n">CatIdn</span><span class="o">,</span>
<span class="n">CatCmp</span><span class="o">,</span>
<span class="n">CatId1</span><span class="o">,</span>
<span class="n">CatId2</span><span class="o">,</span>
<span class="n">CatAss</span>
<span class="o">‚ü©</span>
</code></pre></div>
<p>So what I'm wondering is about the last piece of code (which is what gives the error). I think it's because of the universe level.</p>



<a name="320543818"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Universes%20for%20categories%20of%20categories/near/320543818" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Universes.20for.20categories.20of.20categories.html#320543818">(Jan 10 2023 at 21:00)</a>:</h4>
<p>Your problem is that your sigma stuff ends with <code>Unit</code> and you forgot to provide <code>Unit.unit</code> after associativity</p>



<a name="320543861"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Universes%20for%20categories%20of%20categories/near/320543861" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Universes.20for.20categories.20of.20categories.html#320543861">(Jan 10 2023 at 21:01)</a>:</h4>
<p>And because of your use of nested<code>Psigma'</code>s instead of <code>structure</code> you get a really cryptic error message</p>



<a name="320544221"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Universes%20for%20categories%20of%20categories/near/320544221" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Universes.20for.20categories.20of.20categories.html#320544221">(Jan 10 2023 at 21:03)</a>:</h4>
<p>The error is made worse by the fact you called your sigma binder <code>_</code> instead of <code>Assoc</code> or whatever</p>



<a name="320546438"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Universes%20for%20categories%20of%20categories/near/320546438" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kind Bubble <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Universes.20for.20categories.20of.20categories.html#320546438">(Jan 10 2023 at 21:17)</a>:</h4>
<p>Wow thanks a ton.</p>



<a name="320546581"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Universes%20for%20categories%20of%20categories/near/320546581" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kind Bubble <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Universes.20for.20categories.20of.20categories.html#320546581">(Jan 10 2023 at 21:18)</a>:</h4>
<p>Ok here I've started to switch to structure:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">structure</span> <span class="n">Category</span> <span class="n">where</span>
  <span class="n">Obj</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">_</span>
  <span class="n">Hom</span> <span class="o">:</span> <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span> <span class="kt">Type</span> <span class="n">_</span>
  <span class="n">Idn</span> <span class="o">:</span> <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">X</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">X</span>
  <span class="n">Cmp</span> <span class="o">:</span> <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">X</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">Y</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">Z</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">Hom</span> <span class="n">Y</span> <span class="n">Z</span><span class="o">),</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">Z</span>
  <span class="n">Id1</span> <span class="o">:</span> <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">X</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">Y</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">f</span><span class="o">:</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">),(</span><span class="n">Cmp</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">Y</span><span class="o">)</span> <span class="n">f</span> <span class="o">(</span><span class="n">Idn</span> <span class="n">Y</span><span class="o">)</span> <span class="bp">=</span> <span class="n">f</span>
  <span class="n">Id2</span> <span class="o">:</span> <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">X</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">Y</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">f</span><span class="o">:</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">),(</span><span class="n">Cmp</span> <span class="n">X</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span> <span class="o">(</span><span class="n">Idn</span> <span class="n">X</span><span class="o">)</span> <span class="n">f</span> <span class="bp">=</span> <span class="n">f</span>
  <span class="n">Ass</span> <span class="o">:</span> <span class="bp">‚àÄ</span><span class="o">(</span><span class="n">W</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">X</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">Y</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">Z</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">f</span><span class="o">:</span><span class="n">Hom</span> <span class="n">W</span> <span class="n">X</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">g</span><span class="o">:</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">),</span><span class="bp">‚àÄ</span><span class="o">(</span><span class="n">h</span><span class="o">:</span><span class="n">Hom</span> <span class="n">Y</span> <span class="n">Z</span><span class="o">),(</span><span class="n">Cmp</span> <span class="n">W</span> <span class="n">X</span> <span class="n">Z</span><span class="o">)</span> <span class="n">f</span> <span class="o">(</span><span class="n">Cmp</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="n">g</span> <span class="n">h</span><span class="o">)</span> <span class="bp">=</span> <span class="n">Cmp</span> <span class="n">W</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">(</span><span class="n">Cmp</span> <span class="n">W</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span> <span class="n">h</span>
</code></pre></div>
<p>How might I modify this structure so that it only introduces one universe? Notice that Obj and Hom each introduce their own. Or is it actually more efficient to keep them separate?</p>



<a name="320546666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Universes%20for%20categories%20of%20categories/near/320546666" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sky Wilshaw <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Universes.20for.20categories.20of.20categories.html#320546666">(Jan 10 2023 at 21:19)</a>:</h4>
<p>You can name your universes. Before the structure, type</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">universe</span> <span class="n">u</span>
</code></pre></div>
<p>then replace <code>Type _</code> with <code>Type u</code>.</p>



<a name="320546913"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Universes%20for%20categories%20of%20categories/near/320546913" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sky Wilshaw <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Universes.20for.20categories.20of.20categories.html#320546913">(Jan 10 2023 at 21:20)</a>:</h4>
<p>Note that in the case when you have function binders with anonymous names, you can use <code>-&gt;</code> syntax.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">Hom</span> <span class="o">:</span> <span class="n">Obj</span> <span class="bp">-&gt;</span> <span class="n">Obj</span> <span class="bp">-&gt;</span> <span class="kt">Type</span> <span class="n">u</span>
<span class="n">Cmp</span> <span class="o">:</span> <span class="bp">‚àÄ</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span><span class="o">,</span> <span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span> <span class="bp">-&gt;</span> <span class="n">Hom</span> <span class="n">Y</span> <span class="n">Z</span> <span class="bp">-&gt;</span> <span class="n">Hom</span> <span class="n">X</span> <span class="n">Z</span>
</code></pre></div>
<p>You can also use <code>\to</code> to get a nicer looking arrow.</p>



<a name="320546960"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Universes%20for%20categories%20of%20categories/near/320546960" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kind Bubble <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Universes.20for.20categories.20of.20categories.html#320546960">(Jan 10 2023 at 21:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="492774">Sky Wilshaw</span> <a href="#narrow/stream/113488-general/topic/Universes.20for.20categories.20of.20categories/near/320546666">said</a>:</p>
<blockquote>
<p>You can name your universes. Before the structure, type</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">universe</span> <span class="n">u</span>
</code></pre></div>
<p>then replace <code>Type _</code> with <code>Type u</code>.</p>
</blockquote>
<p>can u be switched for any other universe somehow?</p>



<a name="320547034"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Universes%20for%20categories%20of%20categories/near/320547034" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sky Wilshaw <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Universes.20for.20categories.20of.20categories.html#320547034">(Jan 10 2023 at 21:21)</a>:</h4>
<p>Your type becomes universe-polymorphic. You can instantiate <code>Category</code> with any concrete universe such as <code>0</code> or <code>2</code>.</p>



<a name="320547094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Universes%20for%20categories%20of%20categories/near/320547094" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sky Wilshaw <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Universes.20for.20categories.20of.20categories.html#320547094">(Jan 10 2023 at 21:21)</a>:</h4>
<p>To be more precise, your type was already universe-polymorphic - you just didn't have names for the universe variables you created.</p>



<a name="320547299"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Universes%20for%20categories%20of%20categories/near/320547299" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kind Bubble <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Universes.20for.20categories.20of.20categories.html#320547299">(Jan 10 2023 at 21:22)</a>:</h4>
<p>Thanks!</p>



<a name="320547695"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Universes%20for%20categories%20of%20categories/near/320547695" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kind Bubble <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Universes.20for.20categories.20of.20categories.html#320547695">(Jan 10 2023 at 21:25)</a>:</h4>
<p>hmm ok. suppose I want to keep this category structure. A structure has type sort right? consider the Cat0 at the end of my code... that's my goal right now, is to obtain Cat0 like I have above but use structures where appropriate. </p>
<p>Right now I'm struggling with that since it seems like Cat can only take in an ordinary type e.g. for Objects. But Cat0 is supposed to take in Cat as objects, and Cat will be a structure.</p>



<a name="320547983"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Universes%20for%20categories%20of%20categories/near/320547983" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sky Wilshaw <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Universes.20for.20categories.20of.20categories.html#320547983">(Jan 10 2023 at 21:26)</a>:</h4>
<p>The type of a structure depends on its fields, and you can generally make it whatever you like as long as you don't violate universe impredicativity. If your structure has a field of type <code>Type u</code>, then typically the structure lives in <code>Type (u + 1)</code>.</p>



<a name="320548025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Universes%20for%20categories%20of%20categories/near/320548025" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sky Wilshaw <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Universes.20for.20categories.20of.20categories.html#320548025">(Jan 10 2023 at 21:27)</a>:</h4>
<p>You can check by typing (something like) <code>#check Category.{0}</code> and it'll tell you its type.</p>



<a name="320548102"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Universes%20for%20categories%20of%20categories/near/320548102" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sky Wilshaw <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Universes.20for.20categories.20of.20categories.html#320548102">(Jan 10 2023 at 21:27)</a>:</h4>
<p>Since <code>Category</code> can be instantiated with any universe parameter, there should be no problem in writing the category of categories.</p>



<a name="320550672"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Universes%20for%20categories%20of%20categories/near/320550672" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kind Bubble <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Universes.20for.20categories.20of.20categories.html#320550672">(Jan 10 2023 at 21:43)</a>:</h4>
<p>Wow thanks so helpful Sky.</p>



<a name="320647019"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Universes%20for%20categories%20of%20categories/near/320647019" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Universes.20for.20categories.20of.20categories.html#320647019">(Jan 11 2023 at 08:47)</a>:</h4>
<p>There's a problem (Russell's paradox) writing the set of all sets in mathematics and there will be the same problem writing the category of all categories, which presumably will be solved here using universes.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>