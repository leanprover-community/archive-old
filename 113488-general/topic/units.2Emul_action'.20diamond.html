---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/units.2Emul_action'.20diamond.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/units.2Emul_action'.20diamond.html">units.mul_action' diamond</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="262638603"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/units.mul_action%27%20diamond/near/262638603" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/units.2Emul_action'.20diamond.html#262638603">(Nov 24 2021 at 20:47)</a>:</h4>
<p><code>units.mul_action'</code> is weird anyways, and at odds with the usual meaning of a group acting on a monoid (where the formula should be <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>g</mi><mi mathvariant="normal">.</mi><mi>m</mi><msup><mo stretchy="false">)</mo><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo>=</mo><mi>g</mi><mi mathvariant="normal">.</mi><msup><mi>m</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">(g.m)^{-1} = g.m^{-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord">.</span><span class="mord mathnormal">m</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0085em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord">.</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span>; maybe just delete it?</p>



<a name="262641345"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/units.mul_action%27%20diamond/near/262641345" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/units.2Emul_action'.20diamond.html#262641345">(Nov 24 2021 at 21:16)</a>:</h4>
<p>e.g., Galois groups acting on fields is a more typical example</p>



<a name="262644623"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/units.mul_action%27%20diamond/near/262644623" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/units.2Emul_action'.20diamond.html#262644623">(Nov 24 2021 at 21:56)</a>:</h4>
<p>The action is useful because it saves us having to duplicate all the lemmas about groups acting on monoids for coerced units acting on monoids</p>



<a name="262644652"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/units.mul_action%27%20diamond/near/262644652" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/units.2Emul_action'.20diamond.html#262644652">(Nov 24 2021 at 21:56)</a>:</h4>
<p>Besides, your complaint is equally valid against <code>monoid.to_mul_action</code> when <code>G=M</code>, right?</p>



<a name="262644688"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/units.mul_action%27%20diamond/near/262644688" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/units.2Emul_action'.20diamond.html#262644688">(Nov 24 2021 at 21:57)</a>:</h4>
<p>These are not actions of groups on monoids in the first place</p>



<a name="262644792"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/units.mul_action%27%20diamond/near/262644792" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/units.2Emul_action'.20diamond.html#262644792">(Nov 24 2021 at 21:58)</a>:</h4>
<p>Are you using "monoid" to also mean "not a group"?</p>



<a name="262644824"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/units.mul_action%27%20diamond/near/262644824" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/units.2Emul_action'.20diamond.html#262644824">(Nov 24 2021 at 21:58)</a>:</h4>
<p>I'm not sure what the right setup is here, but it's definitely weird/confusing to call this an "action"</p>



<a name="262644834"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/units.mul_action%27%20diamond/near/262644834" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/units.2Emul_action'.20diamond.html#262644834">(Nov 24 2021 at 21:58)</a>:</h4>
<p>No, a monoid could be a group</p>



<a name="262645050"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/units.mul_action%27%20diamond/near/262645050" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/units.2Emul_action'.20diamond.html#262645050">(Nov 24 2021 at 22:01)</a>:</h4>
<p>Or, it's a group acting on a set, and the set is a monoid, but it's not a group acting on a monoid</p>



<a name="262645208"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/units.mul_action%27%20diamond/near/262645208" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/units.2Emul_action'.20diamond.html#262645208">(Nov 24 2021 at 22:03)</a>:</h4>
<p>But anyways the point is that if a group <em>is</em> acting on a monoid, then it also acts on the units (of course, just like it acts on anything built from the monoid) but not by the <code>units.mul_action'</code> formula</p>



<a name="262646306"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/units.mul_action%27%20diamond/near/262646306" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/units.2Emul_action'.20diamond.html#262646306">(Nov 24 2021 at 22:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113488-general/topic/units.2Emul_action'.20diamond/near/262644652">said</a>:</p>
<blockquote>
<p>Besides, your complaint is equally valid against <code>monoid.to_mul_action</code> when <code>G=M</code>, right?</p>
</blockquote>
<p>Yes, this is also not an action, it should be something like "<code>M</code> acts on its underlying set"</p>



<a name="262652089"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/units.mul_action%27%20diamond/near/262652089" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/units.2Emul_action'.20diamond.html#262652089">(Nov 24 2021 at 23:44)</a>:</h4>
<p>I'm not sure I see the problem still. <code>units.mul_action</code> just says "if there's a group that acts on a set and the set is a monoid, then that group acts in the same way when the set is the units of a monoid"</p>



<a name="262652113"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/units.mul_action%27%20diamond/near/262652113" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/units.2Emul_action'.20diamond.html#262652113">(Nov 24 2021 at 23:44)</a>:</h4>
<p>I think what you're after is a <code>units.mul_distrib_mul_action</code>, which is probably missing, but wouldn't be incompatible.</p>



<a name="262652157"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/units.mul_action%27%20diamond/near/262652157" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/units.2Emul_action'.20diamond.html#262652157">(Nov 24 2021 at 23:45)</a>:</h4>
<p>The <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>g</mi><mi mathvariant="normal">.</mi><mi>m</mi><msup><mo stretchy="false">)</mo><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo>=</mo><mi>g</mi><mi mathvariant="normal">.</mi><msup><mi>m</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">(g.m)^{-1} = g.m^{-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord">.</span><span class="mord mathnormal">m</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0085em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord">.</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span> you ask for is <a href="https://leanprover-community.github.io/mathlib_docs/find/smul_inv'">docs#smul_inv'</a>, which is about <code>mul_distrib_mul_action</code></p>



<a name="262653230"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/units.mul_action%27%20diamond/near/262653230" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/units.2Emul_action'.20diamond.html#262653230">(Nov 25 2021 at 00:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113488-general/topic/units.2Emul_action'.20diamond/near/262652113">said</a>:</p>
<blockquote>
<p>I think what you're after is a <code>units.mul_distrib_mul_action</code></p>
</blockquote>
<p>Yes, this is the good notion!</p>



<a name="262653314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/units.mul_action%27%20diamond/near/262653314" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/units.2Emul_action'.20diamond.html#262653314">(Nov 25 2021 at 00:02)</a>:</h4>
<p><code>mul_distrib_mul_action</code> is a pretty lousy name, but no one suggested a better name when I PR'd it</p>



<a name="262653421"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/units.mul_action%27%20diamond/near/262653421" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/units.2Emul_action'.20diamond.html#262653421">(Nov 25 2021 at 00:03)</a>:</h4>
<p>I just PR'd that instance in <a href="https://github.com/leanprover-community/mathlib/issues/10480">#10480</a></p>



<a name="262653515"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/units.mul_action%27%20diamond/near/262653515" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/units.2Emul_action'.20diamond.html#262653515">(Nov 25 2021 at 00:04)</a>:</h4>
<p>It has all the same problems as described with <code>mul_action</code> upthread, but we should be able to fix both instances at once in the future, since the new one carries no new data.</p>



<a name="262653519"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/units.mul_action%27%20diamond/near/262653519" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/units.2Emul_action'.20diamond.html#262653519">(Nov 25 2021 at 00:04)</a>:</h4>
<p>But those are the wrong conditions!</p>



<a name="262653524"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/units.mul_action%27%20diamond/near/262653524" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/units.2Emul_action'.20diamond.html#262653524">(Nov 25 2021 at 00:04)</a>:</h4>
<p>It should be simply <code>[group G] [monoid M] [mul_distrib_mul_action G M]</code></p>



<a name="262653553"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/units.mul_action%27%20diamond/near/262653553" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/units.2Emul_action'.20diamond.html#262653553">(Nov 25 2021 at 00:05)</a>:</h4>
<p><code>[smul_comm_class G M M] [is_scalar_tower G M M]</code> will normally not be true</p>



<a name="262653578"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/units.mul_action%27%20diamond/near/262653578" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/units.2Emul_action'.20diamond.html#262653578">(Nov 25 2021 at 00:05)</a>:</h4>
<p>Right, those are a workaround for a problem with right-vs-left actions</p>



<a name="262653588"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/units.mul_action%27%20diamond/near/262653588" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/units.2Emul_action'.20diamond.html#262653588">(Nov 25 2021 at 00:06)</a>:</h4>
<p>e.g. imagine the symmetric group on 3 letters acting on <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo stretchy="false">[</mo><mi>X</mi><mo separator="true">,</mo><mi>Y</mi><mo separator="true">,</mo><mi>Z</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">k[X,Y,Z]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mclose">]</span></span></span></span>, or whatever</p>



<a name="262653653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/units.mul_action%27%20diamond/near/262653653" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/units.2Emul_action'.20diamond.html#262653653">(Nov 25 2021 at 00:06)</a>:</h4>
<p>I think the correct assumptions are <code>[group G] [monoid M] [mul_distrib_mul_action G M] [mul_distrib_mul_action Gᵒᵖ M] [is_symmetric_smul G M]</code>, where the last two are mathematically meaningless noise to make typeclass diamonds go away and make the generalization to <code>mul_action</code> work</p>



<a name="262653702"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/units.mul_action%27%20diamond/near/262653702" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/units.2Emul_action'.20diamond.html#262653702">(Nov 25 2021 at 00:07)</a>:</h4>
<p>This only makes sense if <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi></mrow><annotation encoding="application/x-tex">g</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span></span></span></span> acts on the right by <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>g</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">g^{-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0085em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span></p>



<a name="262653922"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/units.mul_action%27%20diamond/near/262653922" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/units.2Emul_action'.20diamond.html#262653922">(Nov 25 2021 at 00:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110032">Reid Barton</span> <a href="#narrow/stream/113488-general/topic/units.2Emul_action'.20diamond/near/262653588">said</a>:</p>
<blockquote>
<p>e.g. imagine the symmetric group on 3 letters acting on <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo stretchy="false">[</mo><mi>X</mi><mo separator="true">,</mo><mi>Y</mi><mo separator="true">,</mo><mi>Z</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">k[X,Y,Z]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mclose">]</span></span></span></span>, or whatever</p>
</blockquote>
<p>this is a boring example for <code>units</code>, so throw in <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>X</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">X^{-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>Y</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">Y^{-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>Z</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">Z^{-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span> too</p>



<a name="262653925"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/units.mul_action%27%20diamond/near/262653925" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/units.2Emul_action'.20diamond.html#262653925">(Nov 25 2021 at 00:10)</a>:</h4>
<p>Perhaps. My plan was to try introducing the <code>is_symmetric_smul</code> typeclass once <a href="https://github.com/leanprover-community/mathlib/issues/10457">#10457</a> is in, and then revisit whether it helps with this units action later</p>



<a name="262654169"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/units.mul_action%27%20diamond/near/262654169" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/units.2Emul_action'.20diamond.html#262654169">(Nov 25 2021 at 00:14)</a>:</h4>
<p>it's usually not going to happen that both <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mi mathvariant="normal">.</mi><mo stretchy="false">(</mo><mi>x</mi><mo>∗</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mi>g</mi><mi mathvariant="normal">.</mi><mi>x</mi><mo stretchy="false">)</mo><mo>∗</mo><mo stretchy="false">(</mo><mi>g</mi><mi mathvariant="normal">.</mi><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">g.(x*y) = (g.x)*(g.y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord">.</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord">.</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord">.</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span> and also <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mi mathvariant="normal">.</mi><mo stretchy="false">(</mo><mi>x</mi><mo>∗</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mi>g</mi><mi mathvariant="normal">.</mi><mi>x</mi><mo stretchy="false">)</mo><mo>∗</mo><mi>y</mi></mrow><annotation encoding="application/x-tex">g.(x*y) = (g.x)*y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord">.</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord">.</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span> for instance</p>



<a name="262654193"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/units.mul_action%27%20diamond/near/262654193" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/units.2Emul_action'.20diamond.html#262654193">(Nov 25 2021 at 00:14)</a>:</h4>
<p>The first one is an action of a group on a monoid, that's why it's so confusing to talk about an action in the context of the second one</p>



<a name="262654360"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/units.mul_action%27%20diamond/near/262654360" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/units.2Emul_action'.20diamond.html#262654360">(Nov 25 2021 at 00:17)</a>:</h4>
<p>The more normal way to express the hypotheses of <code>mul_action'</code> is that you have a homomorphism <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>φ</mi><mo>:</mo><mi>G</mi><mo>→</mo><mi>M</mi></mrow><annotation encoding="application/x-tex">\varphi : G \to M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">φ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">G</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> and you are writing <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mi>m</mi></mrow><annotation encoding="application/x-tex">gm</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">m</span></span></span></span> for <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>φ</mi><mo stretchy="false">(</mo><mi>g</mi><mo stretchy="false">)</mo><mi>m</mi></mrow><annotation encoding="application/x-tex">\varphi(g)m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">φ</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mclose">)</span><span class="mord mathnormal">m</span></span></span></span></p>



<a name="262654405"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/units.mul_action%27%20diamond/near/262654405" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/units.2Emul_action'.20diamond.html#262654405">(Nov 25 2021 at 00:18)</a>:</h4>
<p>and also the homomorphism is central</p>



<a name="262654814"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/units.mul_action%27%20diamond/near/262654814" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/units.2Emul_action'.20diamond.html#262654814">(Nov 25 2021 at 00:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110032">Reid Barton</span> <a href="#narrow/stream/113488-general/topic/units.2Emul_action'.20diamond/near/262654169">said</a>:</p>
<blockquote>
<p>it's usually not going to happen that both <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mi mathvariant="normal">.</mi><mo stretchy="false">(</mo><mi>x</mi><mo>∗</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mi>g</mi><mi mathvariant="normal">.</mi><mi>x</mi><mo stretchy="false">)</mo><mo>∗</mo><mo stretchy="false">(</mo><mi>g</mi><mi mathvariant="normal">.</mi><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">g.(x*y) = (g.x)*(g.y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord">.</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord">.</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord">.</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span> and also <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mi mathvariant="normal">.</mi><mo stretchy="false">(</mo><mi>x</mi><mo>∗</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mi>g</mi><mi mathvariant="normal">.</mi><mi>x</mi><mo stretchy="false">)</mo><mo>∗</mo><mi>y</mi></mrow><annotation encoding="application/x-tex">g.(x*y) = (g.x)*y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord">.</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord">.</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span> for instance</p>
</blockquote>
<p>Yes, I agree - I think this is good evidence that something is wrong with the assumptions of <code>mul_action</code> (which we already knew), but I don't think <a href="https://github.com/leanprover-community/mathlib/issues/10480">#10480</a> is harmful, as it doesn't make anything more wrong, it just adds proofs that things are off.</p>



<a name="262655321"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/units.mul_action%27%20diamond/near/262655321" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/units.2Emul_action'.20diamond.html#262655321">(Nov 25 2021 at 00:33)</a>:</h4>
<p>do you mean <code>units.mul_action'</code>?</p>



<a name="262655331"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/units.mul_action%27%20diamond/near/262655331" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/units.2Emul_action'.20diamond.html#262655331">(Nov 25 2021 at 00:33)</a>:</h4>
<p><code>mul_action</code> by itself is fine, it's just a group acting on a set</p>



<a name="262656528"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/units.mul_action%27%20diamond/near/262656528" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/units.2Emul_action'.20diamond.html#262656528">(Nov 25 2021 at 00:55)</a>:</h4>
<p>If something is wrong then it would be more helpful to add documentation to that effect</p>



<a name="262656533"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/units.mul_action%27%20diamond/near/262656533" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/units.2Emul_action'.20diamond.html#262656533">(Nov 25 2021 at 00:55)</a>:</h4>
<p>I am not sure whether we agree about what is wrong.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>