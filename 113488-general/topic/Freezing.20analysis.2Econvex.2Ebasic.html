---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Freezing.20analysis.2Econvex.2Ebasic.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Freezing.20analysis.2Econvex.2Ebasic.html">Freezing analysis.convex.basic</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="252468949"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Freezing%20analysis.convex.basic/near/252468949" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Freezing.20analysis.2Econvex.2Ebasic.html#252468949">(Sep 08 2021 at 14:25)</a>:</h4>
<p>Dear convex analysts, could we try not to touch <code>analysis.convex.basic</code> for a little while? I'm scrambling it all in <a href="https://github.com/leanprover-community/mathlib/issues/9058">#9058</a> which means I have to reproduce changes by hand from a mangled diff.</p>



<a name="252472241"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Freezing%20analysis.convex.basic/near/252472241" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Freezing.20analysis.2Econvex.2Ebasic.html#252472241">(Sep 08 2021 at 14:43)</a>:</h4>
<p>Do you have an estimate for how long you want to freeze it?</p>



<a name="252477450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Freezing%20analysis.convex.basic/near/252477450" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Freezing.20analysis.2Econvex.2Ebasic.html#252477450">(Sep 08 2021 at 15:08)</a>:</h4>
<p>I'm in favour of the generalisation of <a href="https://github.com/leanprover-community/mathlib/issues/9058">#9058</a> but I'm a bit wary of a freeze (though I'm sure I could be persuaded). I wonder an alternative approach would be to split <code>analysis.convex.basic</code> into several files so that even if we still opt to freeze, the impact will be smaller.</p>



<a name="252477649"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Freezing%20analysis.convex.basic/near/252477649" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Freezing.20analysis.2Econvex.2Ebasic.html#252477649">(Sep 08 2021 at 15:09)</a>:</h4>
<p>For clarity, I mean to precede <a href="https://github.com/leanprover-community/mathlib/issues/9058">#9058</a>  by a simple PR that changes nothing except for splitting the file. <span class="user-mention" data-user-id="387244">@Yaël Dillies</span>  Do you think this would help?</p>



<a name="252485093"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Freezing%20analysis.convex.basic/near/252485093" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Freezing.20analysis.2Econvex.2Ebasic.html#252485093">(Sep 08 2021 at 15:53)</a>:</h4>
<p>It seems to me a lot of the scrambling is reordering lemmas around. If you're worried about conflicts, it might make sense to first make a PR to reorder the lemmas in a somewhat sensible order, and a second one to generalize them</p>



<a name="252485500"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Freezing%20analysis.convex.basic/near/252485500" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Freezing.20analysis.2Econvex.2Ebasic.html#252485500">(Sep 08 2021 at 15:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/113488-general/topic/Freezing.20analysis.2Econvex.2Ebasic/near/252472241">said</a>:</p>
<blockquote>
<p>Do you have an estimate for how long you want to freeze it?</p>
</blockquote>
<p>A week maybe? I'm working hard on it and in 3 days I went through half of <code>analysis.convex.basic</code>. So 3 more days it is, then probably 2 or 3 more for the other files using convex stuff.</p>



<a name="252486451"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Freezing%20analysis.convex.basic/near/252486451" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Freezing.20analysis.2Econvex.2Ebasic.html#252486451">(Sep 08 2021 at 16:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="240862">Oliver Nash</span> <a href="#narrow/stream/113488-general/topic/Freezing.20analysis.2Econvex.2Ebasic/near/252477450">said</a>:</p>
<blockquote>
<p>I'm in favour of the generalisation of <a href="https://github.com/leanprover-community/mathlib/issues/9058">#9058</a> but I'm a bit wary of a freeze (though I'm sure I could be persuaded). I wonder an alternative approach would be to split <code>analysis.convex.basic</code> into several files so that even if we still opt to freeze, the impact will be smaller.</p>
</blockquote>
<p>I'm already planning on splitting <code>analysis.convex.basic</code> into <code>analysis.convex.function</code> (Yury already wanted that in <a href="https://github.com/leanprover-community/mathlib/issues/4787">#4787</a>) and <code>analysis.convex.combination</code>. But this won't help much as the bulk of the work is to find the correct generality of each lemma, and I'm not scrambling the 3 future files together.</p>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113488-general/topic/Freezing.20analysis.2Econvex.2Ebasic/near/252485093">said</a>:</p>
<blockquote>
<p>It seems to me a lot of the scrambling is reordering lemmas around. If you're worried about conflicts, it might make sense to first make a PR to reorder the lemmas in a somewhat sensible order, and a second one to generalize them</p>
</blockquote>
<p>This won't help much either because the scrambling is motivated by the necessary assumptions, and as said above this is the hard part of what I'm doing.</p>



<a name="252486544"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Freezing%20analysis.convex.basic/near/252486544" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Freezing.20analysis.2Econvex.2Ebasic.html#252486544">(Sep 08 2021 at 16:01)</a>:</h4>
<p>It's not my call but I'm even more wary after hearing more. I encourage you to find ways to break down this work into more PRs.</p>



<a name="252486747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Freezing%20analysis.convex.basic/near/252486747" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Freezing.20analysis.2Econvex.2Ebasic.html#252486747">(Sep 08 2021 at 16:02)</a>:</h4>
<p>Well I can always just leave ℝ in some places. This is the easy way to split the work.</p>



<a name="252486816"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Freezing%20analysis.convex.basic/near/252486816" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Freezing.20analysis.2Econvex.2Ebasic.html#252486816">(Sep 08 2021 at 16:02)</a>:</h4>
<p>Right: a general definition is much more important than a general lemma etc.</p>



<a name="252486959"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Freezing%20analysis.convex.basic/near/252486959" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Freezing.20analysis.2Econvex.2Ebasic.html#252486959">(Sep 08 2021 at 16:03)</a>:</h4>
<p>Okay well if you agree with this approach then a first PR can be ready this evening, if I get out of the orange bar hell.</p>



<a name="252487328"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Freezing%20analysis.convex.basic/near/252487328" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Freezing.20analysis.2Econvex.2Ebasic.html#252487328">(Sep 08 2021 at 16:05)</a>:</h4>
<p>Bear in mind, it's not my call. Others may see things differently. But delivering a stream of smaller PRs that generalise things incrementally (definitions first, then lemmas) will probably make everyone's life better.</p>



<a name="252494288"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Freezing%20analysis.convex.basic/near/252494288" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Freezing.20analysis.2Econvex.2Ebasic.html#252494288">(Sep 08 2021 at 16:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/113488-general/topic/Freezing.20analysis.2Econvex.2Ebasic/near/252486747">said</a>:</p>
<blockquote>
<p>Well I can always just leave ℝ in some places. This is the easy way to split the work.</p>
</blockquote>
<p>I think this is a sensible approach; generalize the definition and the really basic APIs, and replace <code>convex</code> with <code>convex ℝ</code> everywhere else. Then you can do the rest piecewise in later PRs.</p>



<a name="252499079"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Freezing%20analysis.convex.basic/near/252499079" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Freezing.20analysis.2Econvex.2Ebasic.html#252499079">(Sep 08 2021 at 17:19)</a>:</h4>
<p>Here's the first one! <a href="https://github.com/leanprover-community/mathlib/issues/9094">#9094</a><br>
it generalizes <code>segment</code> and <code>open_segment</code></p>



<a name="252578808"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Freezing%20analysis.convex.basic/near/252578808" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Freezing.20analysis.2Econvex.2Ebasic.html#252578808">(Sep 09 2021 at 06:49)</a>:</h4>
<p>I left a few comments, hopefully easy.</p>



<a name="252578972"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Freezing%20analysis.convex.basic/near/252578972" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Freezing.20analysis.2Econvex.2Ebasic.html#252578972">(Sep 09 2021 at 06:51)</a>:</h4>
<p>Thanks!</p>



<a name="252642089"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Freezing%20analysis.convex.basic/near/252642089" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Freezing.20analysis.2Econvex.2Ebasic.html#252642089">(Sep 09 2021 at 15:07)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/issues/9115">#9115</a> puts <code>finset.center_mass</code>in its own file. It commutes with <a href="https://github.com/leanprover-community/mathlib/issues/9094">#9094</a>, but I'm now stuck. One of them must go through for me to continue the refactor.</p>



<a name="252643023"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Freezing%20analysis.convex.basic/near/252643023" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Freezing.20analysis.2Econvex.2Ebasic.html#252643023">(Sep 09 2021 at 15:13)</a>:</h4>
<p>Yael, <a href="https://github.com/leanprover-community/mathlib/issues/9094">#9094</a> doesn't compile</p>



<a name="252643274"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Freezing%20analysis.convex.basic/near/252643274" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Freezing.20analysis.2Econvex.2Ebasic.html#252643274">(Sep 09 2021 at 15:14)</a>:</h4>
<p>Fixing it <span aria-label="tools" class="emoji emoji-1f6e0" role="img" title="tools">:tools:</span></p>



<a name="252643844"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Freezing%20analysis.convex.basic/near/252643844" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Freezing.20analysis.2Econvex.2Ebasic.html#252643844">(Sep 09 2021 at 15:18)</a>:</h4>
<p>It was the new notation, that already existed anyway. <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="252704898"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Freezing%20analysis.convex.basic/near/252704898" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Freezing.20analysis.2Econvex.2Ebasic.html#252704898">(Sep 09 2021 at 22:20)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span>, localized <code>[x, y]</code> notation causes parsing problems. I'll just remove it and you can keep declaring it locally, as it was done before.</p>



<a name="252705006"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Freezing%20analysis.convex.basic/near/252705006" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Freezing.20analysis.2Econvex.2Ebasic.html#252705006">(Sep 09 2021 at 22:21)</a>:</h4>
<p>By the way, <code>[x, y]</code> notation is one of the few remaining unresolved mathport issues. There are some things that can still be done but I would rather the overload didn't exist</p>



<a name="252705413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Freezing%20analysis.convex.basic/near/252705413" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Freezing.20analysis.2Econvex.2Ebasic.html#252705413">(Sep 09 2021 at 22:26)</a>:</h4>
<p>Ah, further reason!</p>



<a name="252707299"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Freezing%20analysis.convex.basic/near/252707299" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Freezing.20analysis.2Econvex.2Ebasic.html#252707299">(Sep 09 2021 at 22:45)</a>:</h4>
<p>This is simple to fix -- give us our notation back and the CS people can use some random unicode thing for their lists</p>



<a name="252707333"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Freezing%20analysis.convex.basic/near/252707333" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Freezing.20analysis.2Econvex.2Ebasic.html#252707333">(Sep 09 2021 at 22:45)</a>:</h4>
<p>Who needs lists anyway</p>



<a name="252707407"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Freezing%20analysis.convex.basic/near/252707407" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Freezing.20analysis.2Econvex.2Ebasic.html#252707407">(Sep 09 2021 at 22:46)</a>:</h4>
<p>something... something... finset  something... something...</p>



<a name="252710963"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Freezing%20analysis.convex.basic/near/252710963" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Freezing.20analysis.2Econvex.2Ebasic.html#252710963">(Sep 09 2021 at 23:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113488-general/topic/Freezing.20analysis.2Econvex.2Ebasic/near/252705006">said</a>:</p>
<blockquote>
<p>By the way, <code>[x, y]</code> notation is one of the few remaining unresolved mathport issues. There are some things that can still be done but I would rather the overload didn't exist</p>
</blockquote>
<p>This is really sad for Lean 4. Can't we get that weird super specialized list thing localized (or scoped or whatever)?</p>



<a name="252712885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Freezing%20analysis.convex.basic/near/252712885" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Freezing.20analysis.2Econvex.2Ebasic.html#252712885">(Sep 09 2021 at 23:47)</a>:</h4>
<p>It's not a problem with lean 4 so much as with mathport</p>



<a name="252713014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Freezing%20analysis.convex.basic/near/252713014" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Freezing.20analysis.2Econvex.2Ebasic.html#252713014">(Sep 09 2021 at 23:49)</a>:</h4>
<p>The problem is that we have a notation name conflict, so we don't know whether we want the list notation or the ... whatever this is</p>



<a name="252713359"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Freezing%20analysis.convex.basic/near/252713359" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Freezing.20analysis.2Econvex.2Ebasic.html#252713359">(Sep 09 2021 at 23:53)</a>:</h4>
<p>Also, there is a lot more reliance on macros in lean 4 that might unfold to something containing list brackets. I really don't think it's a good idea to overload them</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>