---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/vs.20code.20web.20extension.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/vs.20code.20web.20extension.3F.html">vs code web extension?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="269622464"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/vs%20code%20web%20extension%3F/near/269622464" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matthew Ballard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/vs.20code.20web.20extension.3F.html#269622464">(Jan 27 2022 at 19:11)</a>:</h4>
<p>I learned recently that if you navigate to a GitHub repo and hit <code>.</code>, a web-based version of VS Code will render. (This also works if you go to <a href="http://github.dev">github.dev</a> or replace the <code>.com</code> with <code>.dev</code> in the URL of your repo.) This kinda blew my mind. </p>
<p>A main downside is that use of extensions is limited. It only supports <a href="https://code.visualstudio.com/api/extension-guides/web-extensions">web extensions</a>. </p>
<p>How reasonable would it be to make a web extension version of the Lean VS Code extension using the wasm-compiled version of Lean ?</p>
<p>A use case I had in mind would be teaching a course through GitHub classroom.</p>



<a name="269625347"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/vs%20code%20web%20extension%3F/near/269625347" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matthew Ballard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/vs.20code.20web.20extension.3F.html#269625347">(Jan 27 2022 at 19:33)</a>:</h4>
<p>Another use case is currently filled by the <a href="https://leanprover-community.github.io/lean-web-editor/">Lean web editor</a></p>



<a name="269626753"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/vs%20code%20web%20extension%3F/near/269626753" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/vs.20code.20web.20extension.3F.html#269626753">(Jan 27 2022 at 19:42)</a>:</h4>
<p>Based on a (very quick) scan of the web extensions page you linked, hooking up the WASM version of the server to the extension looks like it might be doable, but with a lot of work. </p>
<p>Actually, one thing which looks rather hairy to me is how to deal with the olean files that you would need for projects depending on mathlib or large projects in general. The WASM version of Lean 3 reads olean files from .zip files that are (currently) prepared separately, and we're only building them for the latest commit for mathlib at the moment.</p>



<a name="269626915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/vs%20code%20web%20extension%3F/near/269626915" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/vs.20code.20web.20extension.3F.html#269626915">(Jan 27 2022 at 19:43)</a>:</h4>
<p>Even if this is set up, I suspect a gitpod like setup where your browser communicates with Lean running on a remote server will be much more usable than the WASM server, since the WASM compiled Lean runs single threaded.</p>



<a name="269627307"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/vs%20code%20web%20extension%3F/near/269627307" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matthew Ballard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/vs.20code.20web.20extension.3F.html#269627307">(Jan 27 2022 at 19:46)</a>:</h4>
<p>I imagined that speed might be severely comprised.</p>



<a name="269627433"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/vs%20code%20web%20extension%3F/near/269627433" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matthew Ballard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/vs.20code.20web.20extension.3F.html#269627433">(Jan 27 2022 at 19:47)</a>:</h4>
<p>I should say that if you pay for Codespaces then you get the same UX but with a basically full-featured VS Code.</p>



<a name="269627916"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/vs%20code%20web%20extension%3F/near/269627916" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matthew Ballard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/vs.20code.20web.20extension.3F.html#269627916">(Jan 27 2022 at 19:50)</a>:</h4>
<p>Is communicating with a language server over http a bad idea?</p>



<a name="269628865"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/vs%20code%20web%20extension%3F/near/269628865" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/vs.20code.20web.20extension.3F.html#269628865">(Jan 27 2022 at 19:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="306577">Matthew Ballard</span> <a href="#narrow/stream/113488-general/topic/vs.20code.20web.20extension.3F/near/269627916">said</a>:</p>
<blockquote>
<p>Is communicating with a language server over http a bad idea?</p>
</blockquote>
<p>I'm not sure! I don't have any experience with language servers going through http, unfortunately.</p>



<a name="269630078"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/vs%20code%20web%20extension%3F/near/269630078" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matthew Ballard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/vs.20code.20web.20extension.3F.html#269630078">(Jan 27 2022 at 20:05)</a>:</h4>
<p>MSFT has this bare-bondes <a href="https://github.com/microsoft/vscode-extension-samples/tree/main/lsp-web-extension-sample">example</a> for web worker based LSP but it still doesn't cover performance issues.</p>



<a name="269630155"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/vs%20code%20web%20extension%3F/near/269630155" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matthew Ballard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/vs.20code.20web.20extension.3F.html#269630155">(Jan 27 2022 at 20:05)</a>:</h4>
<p>Too bad there isn't some educational pricing for Codespaces.</p>



<a name="269634812"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/vs%20code%20web%20extension%3F/near/269634812" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/vs.20code.20web.20extension.3F.html#269634812">(Jan 27 2022 at 20:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="306577">Matthew Ballard</span> <a href="#narrow/stream/113488-general/topic/vs.20code.20web.20extension.3F/near/269627916">said</a>:</p>
<blockquote>
<p>Is communicating with a language server over http a bad idea?</p>
</blockquote>
<p>I suspect a <a href="https://en.wikipedia.org/wiki/WebSocket">WebSocket</a> might work better in the context of continuous exchange of information over a period of time</p>



<a name="269634960"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/vs%20code%20web%20extension%3F/near/269634960" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matthew Ballard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/vs.20code.20web.20extension.3F.html#269634960">(Jan 27 2022 at 20:44)</a>:</h4>
<p>You are definitely right. They live in the same area of my brain.</p>



<a name="269639535"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/vs%20code%20web%20extension%3F/near/269639535" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/vs.20code.20web.20extension.3F.html#269639535">(Jan 27 2022 at 21:19)</a>:</h4>
<p>If codespaces ever becomes available to you, then it should work out of the box.  It's also quite a bit faster to start up than gitpod.</p>



<a name="269639676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/vs%20code%20web%20extension%3F/near/269639676" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matthew Ballard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/vs.20code.20web.20extension.3F.html#269639676">(Jan 27 2022 at 21:20)</a>:</h4>
<p>Isn't codespaces available to all org's now?</p>



<a name="269640448"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/vs%20code%20web%20extension%3F/near/269640448" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/vs.20code.20web.20extension.3F.html#269640448">(Jan 27 2022 at 21:26)</a>:</h4>
<blockquote>
<p>Codespaces is rolling out progressively on August 11th, 2021 and can be enabled in settings by organization owners for Team and Enterprise Cloud plans. For users in individual plans, we’re extending the existing Codespaces beta. For those in the beta, access will remain and we’ll share updates on what’s coming in the near future.</p>
</blockquote>



<a name="269684285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/vs%20code%20web%20extension%3F/near/269684285" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/vs.20code.20web.20extension.3F.html#269684285">(Jan 28 2022 at 04:10)</a>:</h4>
<p>Is using github classroom with gitpod possible? Lean works quite well with gitpod in browser.</p>



<a name="269867501"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/vs%20code%20web%20extension%3F/near/269867501" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matthew Ballard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/vs.20code.20web.20extension.3F.html#269867501">(Jan 29 2022 at 14:30)</a>:</h4>
<p>Yeah. Integration of gitpod is simple with classroom. The flow is</p>
<ul>
<li>instructors create their own template repo for the homework</li>
<li>they then import that into classroom </li>
<li>when a student registers for an assignment, a repo is cloned for them with actions included for automated PRs (for feedback) and auto grading </li>
</ul>
<p>A <code>.gitpod.yml</code> in the template should propagate to each student’s repo. </p>
<p>At a heuristic level, what I am asking for is not realistic: expose GH without exposing <code>git</code>. VS Code allows you to push some buttons to work with <code>git</code> which is better than CLI for a new student. </p>
<p>On a personal level, gitpod has taken upwards of minutes to pull containers so I just stopped using it</p>



<a name="269867584"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/vs%20code%20web%20extension%3F/near/269867584" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matthew Ballard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/vs.20code.20web.20extension.3F.html#269867584">(Jan 29 2022 at 14:32)</a>:</h4>
<p>Also, free is good because most instructors don’t have funding for course technology choices</p>



<a name="269867908"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/vs%20code%20web%20extension%3F/near/269867908" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matthew Ballard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/vs.20code.20web.20extension.3F.html#269867908">(Jan 29 2022 at 14:38)</a>:</h4>
<p>Currently I would probably upgrade my course org to a GH team and use codespaces. Especially for small courses, I can cover the cost with a grant. But this is not possible for everyone. If you want Lean to get a strong foothold in mathematics education, then a no-cost, friction-free, simple flow is required</p>



<a name="269868358"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/vs%20code%20web%20extension%3F/near/269868358" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matthew Ballard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/vs.20code.20web.20extension.3F.html#269868358">(Jan 29 2022 at 14:47)</a>:</h4>
<p>Another aspect: providing custom support for such a product, especially to enterprise, could be a means to fund <del>Lean</del> Mathlib development more broadly.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>