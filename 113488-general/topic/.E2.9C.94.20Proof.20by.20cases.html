---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/.E2.9C.94.20Proof.20by.20cases.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Proof.20by.20cases.html">✔ Proof by cases</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="256300721"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Proof%20by%20cases/near/256300721" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> É Olive <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Proof.20by.20cases.html#256300721">(Oct 05 2021 at 19:03)</a>:</h4>
<p>I have a proof <code>q:∀ n:ℕ,n≠2→ℕ</code> and a proof <code>q:∀ n:ℕ,n=2→ℕ</code> and I'd like a proof <code>f:∀ n:ℕ,ℕ</code>.  So essentially what I want to do is a proof by cases.  I can think up some ways to do this but they are all pretty convoluted.  Is there an idiomatic way to do a proof by cases where the cases do not neatly line up with the inductive definition?</p>



<a name="256301333"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Proof%20by%20cases/near/256301333" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Proof.20by.20cases.html#256301333">(Oct 05 2021 at 19:07)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/tactics.html#by_cases">tactic#by_cases</a></p>



<a name="256301445"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Proof%20by%20cases/near/256301445" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> É Olive <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Proof.20by.20cases.html#256301445">(Oct 05 2021 at 19:08)</a>:</h4>
<p>Brilliant.  I must really suck at searching the docs.</p>



<a name="256301451"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Proof%20by%20cases/near/256301451" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Proof.20by.20cases.html#256301451">(Oct 05 2021 at 19:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="448275">É Olive</span> has marked this topic as resolved.</p>



<a name="256301510"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Proof%20by%20cases/near/256301510" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Proof.20by.20cases.html#256301510">(Oct 05 2021 at 19:08)</a>:</h4>
<p>Depending on  your context, you might need to use the <a href="https://leanprover-community.github.io/mathlib_docs/tactics.html#classical">tactic#classical</a> tactic, or add <code>open_locale classical</code> somewhere early in your file.</p>



<a name="256302000"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Proof%20by%20cases/near/256302000" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Proof.20by.20cases.html#256302000">(Oct 05 2021 at 19:12)</a>:</h4>
<p><code>q:∀ n:ℕ,n≠2→ℕ</code> is not a proof, it's a function</p>



<a name="256302144"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Proof%20by%20cases/near/256302144" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> É Olive <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Proof.20by.20cases.html#256302144">(Oct 05 2021 at 19:13)</a>:</h4>
<p>What's the difference between a proof and a function?</p>



<a name="256302178"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Proof%20by%20cases/near/256302178" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Proof.20by.20cases.html#256302178">(Oct 05 2021 at 19:13)</a>:</h4>
<p>If you haven't met <code>by_cases</code> then maybe you want to follow the tutorial project</p>



<a name="256302250"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Proof%20by%20cases/near/256302250" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Proof.20by.20cases.html#256302250">(Oct 05 2021 at 19:13)</a>:</h4>
<p>In your example <code>q</code> is a function on natural numbers that are different from 2</p>



<a name="256302674"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Proof%20by%20cases/near/256302674" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> É Olive <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Proof.20by.20cases.html#256302674">(Oct 05 2021 at 19:16)</a>:</h4>
<p>I probably have met <code>by_cases</code> before.  If not in the tutorial then in the natural numbers game.  I just didn't retain it.</p>



<a name="256302745"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Proof%20by%20cases/near/256302745" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Proof.20by.20cases.html#256302745">(Oct 05 2021 at 19:16)</a>:</h4>
<p>Sorry <span class="user-mention" data-user-id="448275">@É Olive</span> , I misread your question (I thought you were indeed looking for a proof by cases).</p>



<a name="256302850"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Proof%20by%20cases/near/256302850" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> É Olive <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Proof.20by.20cases.html#256302850">(Oct 05 2021 at 19:17)</a>:</h4>
<p>I am.  the <code>by_cases</code> is exactly what I wanted, thank you.</p>



<a name="256303880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Proof%20by%20cases/near/256303880" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Proof.20by.20cases.html#256303880">(Oct 05 2021 at 19:24)</a>:</h4>
<p>Where did you meet that <code>q:∀ n:ℕ,n≠2→ℕ</code>?</p>



<a name="256304524"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Proof%20by%20cases/near/256304524" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> É Olive <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Proof.20by.20cases.html#256304524">(Oct 05 2021 at 19:29)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">q</span><span class="o">:</span><span class="bp">∀</span><span class="n">n</span><span class="o">:</span><span class="n">ℕ</span><span class="o">,</span><span class="n">n</span><span class="bp">≠</span><span class="mi">2</span><span class="bp">→</span><span class="n">ℕ</span><span class="o">:=</span><span class="bp">λ</span><span class="n">n</span><span class="o">,</span><span class="bp">λ</span><span class="n">_</span><span class="o">,</span><span class="n">n</span>
</code></pre></div>



<a name="256305102"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Proof%20by%20cases/near/256305102" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Proof.20by.20cases.html#256305102">(Oct 05 2021 at 19:32)</a>:</h4>
<p>But this is clearly a function, right?</p>



<a name="256305117"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Proof%20by%20cases/near/256305117" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Proof.20by.20cases.html#256305117">(Oct 05 2021 at 19:32)</a>:</h4>
<p>Why do you call this a lemma?</p>



<a name="256305135"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Proof%20by%20cases/near/256305135" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Proof.20by.20cases.html#256305135">(Oct 05 2021 at 19:33)</a>:</h4>
<p>How would you write it on paper?</p>



<a name="256305434"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Proof%20by%20cases/near/256305434" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> É Olive <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Proof.20by.20cases.html#256305434">(Oct 05 2021 at 19:35)</a>:</h4>
<p>Yeah it's a function of course.  If I were writing this on paper I'd probably write something similar there's not a whole lot here that isn't directly lifted from mathematics, other than maybe <code>:=</code>.</p>



<a name="256342906"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Proof%20by%20cases/near/256342906" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Proof.20by.20cases.html#256342906">(Oct 06 2021 at 01:03)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="n">n</span><span class="bp">≠</span><span class="mi">2</span><span class="bp">→</span><span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">q</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="n">n</span><span class="bp">=</span><span class="mi">2</span><span class="bp">→</span><span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="n">ℕ</span> <span class="o">:=</span>
<span class="bp">λ</span> <span class="n">n</span><span class="o">,</span> <span class="k">if</span> <span class="n">h</span> <span class="o">:</span> <span class="n">n</span> <span class="bp">=</span> <span class="mi">2</span> <span class="k">then</span> <span class="n">q</span> <span class="n">n</span> <span class="n">h</span> <span class="k">else</span> <span class="n">p</span> <span class="n">n</span> <span class="n">h</span>
</code></pre></div>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>