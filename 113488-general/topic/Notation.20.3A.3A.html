---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Notation.20.3A.3A.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20.3A.3A.html">Notation ::</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="258788480"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20%3A%3A/near/258788480" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20.3A.3A.html#258788480">(Oct 22 2021 at 23:26)</a>:</h4>
<p>I'm looking at</p>
<div class="codehilite" data-code-language="Bash Session"><pre><span></span><code><span class="gp">$ </span>git grep -n <span class="s1">'notation.*:: '</span>
<span class="go">src/data/num/bitwise.lean:196:  notation a :: b := bit a b</span>
<span class="go">src/data/num/bitwise.lean:247:  notation a :: b := bit a b</span>
<span class="go">src/data/sym/basic.lean:76:notation a :: b := cons a b</span>
<span class="go">src/data/sym/basic.lean:129:notation a :: b := cons' a b</span>
<span class="go">src/data/vector3.lean:38:notation a :: b := cons a b</span>
<span class="go">src/number_theory/dioph.lean:257:notation a :: b := cons a b</span>
</code></pre></div>



<a name="258788523"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20%3A%3A/near/258788523" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20.3A.3A.html#258788523">(Oct 22 2021 at 23:26)</a>:</h4>
<p>There is also <code>notation a :: b = stream.cons a b</code> and <code>notation a :: b = list.cons a b</code> in Lean core.</p>



<a name="258788583"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20%3A%3A/near/258788583" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20.3A.3A.html#258788583">(Oct 22 2021 at 23:27)</a>:</h4>
<p>How does Lean parser choose between these meanings?</p>



<a name="258788669"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20%3A%3A/near/258788669" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20.3A.3A.html#258788669">(Oct 22 2021 at 23:28)</a>:</h4>
<p>Should we use something like <code>::â‚˜</code> (used for <a href="https://leanprover-community.github.io/mathlib_docs/find/multiset.cons">docs#multiset.cons</a>) more often?</p>



<a name="258788720"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20%3A%3A/near/258788720" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20.3A.3A.html#258788720">(Oct 22 2021 at 23:29)</a>:</h4>
<p><a href="https://en.wikipedia.org/wiki/XY_problem">#xy</a> I'm moving <a href="https://leanprover-community.github.io/mathlib_docs/find/stream">docs#stream</a> from core to mathlib. Should I change notation for <a href="https://leanprover-community.github.io/mathlib_docs/find/stream.cons">docs#stream.cons</a>? Move it (and other notation about <code>stream</code>) to a locale?</p>



<a name="258788787"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20%3A%3A/near/258788787" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20.3A.3A.html#258788787">(Oct 22 2021 at 23:30)</a>:</h4>
<p>(I've been meaning to replace <code>data/sym/basic</code>s notation. It managed to avoid getting its own right around when <span class="user-mention" data-user-id="112680">@Johan Commelin</span>  <a href="https://github.com/leanprover-community/mathlib/commit/fde3d78cadeec5ef827b16ae55664ef115e66f57">modified</a> the <code>multiset</code> notation.)</p>



<a name="258788963"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20%3A%3A/near/258788963" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20.3A.3A.html#258788963">(Oct 22 2021 at 23:32)</a>:</h4>
<p>How it seems to work is that Lean takes all the possible alternatives and checks to see which ones might actually apply based on types, and if there are multiple possibilities in the end, it fails with an error.  I've never really understood exactly when this occurs...</p>



<a name="258789308"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20%3A%3A/near/258789308" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20.3A.3A.html#258789308">(Oct 22 2021 at 23:36)</a>:</h4>
<p>This is something within its capabilities for example:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">notation</span> <span class="bp">`ðŸŒ´`</span> <span class="o">:=</span> <span class="o">(</span><span class="mi">37</span> <span class="o">:</span> <span class="n">â„•</span><span class="o">)</span>
<span class="kd">notation</span> <span class="bp">`ðŸŒ´`</span> <span class="o">:=</span> <span class="o">(</span><span class="mi">37</span> <span class="o">:</span> <span class="n">â„¤</span><span class="o">)</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">â„•</span> <span class="o">:=</span> <span class="bp">ðŸŒ´</span>
<span class="kd">example</span> <span class="o">:</span> <span class="n">â„¤</span> <span class="o">:=</span> <span class="bp">ðŸŒ´</span>
</code></pre></div>



<a name="258806586"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20%3A%3A/near/258806586" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20.3A.3A.html#258806586">(Oct 23 2021 at 06:21)</a>:</h4>
<p>Should there be a <code>has_cons</code> class?</p>



<a name="258806882"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20%3A%3A/near/258806882" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20.3A.3A.html#258806882">(Oct 23 2021 at 06:29)</a>:</h4>
<p>In most cases <code>has_cons (Î± : out_param (Type u)) (Î² : Type v) := (cons : Î± â†’ Î² â†’ Î²)</code> will work but it will fail for <a href="https://leanprover-community.github.io/mathlib_docs/find/vector">docs#vector</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/sym">docs#sym</a>. What should be the signature?</p>



<a name="258806888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20%3A%3A/near/258806888" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20.3A.3A.html#258806888">(Oct 23 2021 at 06:30)</a>:</h4>
<p>Hmm, I see. Maybe those two can use their own subscripted notation?</p>



<a name="258925289"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20%3A%3A/near/258925289" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20.3A.3A.html#258925289">(Oct 25 2021 at 07:36)</a>:</h4>
<p>What Kyle said is accurate, Lean tries all specified overloads and fails if they are ambiguous.</p>



<a name="258925346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20%3A%3A/near/258925346" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20.3A.3A.html#258925346">(Oct 25 2021 at 07:37)</a>:</h4>
<p>For now in Lean 3, I'd suggest to have different notations for every cons.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>