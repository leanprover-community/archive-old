---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Try.20this.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html">Try this</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="188577777"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188577777" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188577777">(Feb 19 2020 at 19:44)</a>:</h4>
<p>The new "Try this" stuff is really cool! Thanks <span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> <span class="user-mention" data-user-id="123965">@Bryan Gin-ge Chen</span> <span class="user-mention" data-user-id="129120">@Alexander Bentkamp</span> for this marvelous feature!</p>



<a name="188577838"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188577838" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188577838">(Feb 19 2020 at 19:45)</a>:</h4>
<p>I only pressed the merge button.  All thanks should go to <span class="user-mention" data-user-id="123965">@Bryan Gin-ge Chen</span> and <span class="user-mention" data-user-id="129120">@Alexander Bentkamp</span>!</p>



<a name="188578230"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188578230" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188578230">(Feb 19 2020 at 19:49)</a>:</h4>
<p>I just made a few suggestions, <span class="user-mention" data-user-id="129120">@Alexander Bentkamp</span> did all the hard work!</p>



<a name="188583693"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188583693" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188583693">(Feb 19 2020 at 20:47)</a>:</h4>
<p>What is this feature?</p>



<a name="188583744"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188583744" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188583744">(Feb 19 2020 at 20:47)</a>:</h4>
<p>You need to update mathlib and try <code>suggest</code> or <code>squeeze_simp</code>. Then you'll see.</p>



<a name="188584508"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188584508" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188584508">(Feb 19 2020 at 20:56)</a>:</h4>
<p>I wanted to try it on <code>rintro</code> so I tested:</p>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span> <span class="n">n</span><span class="bp">=</span><span class="n">n</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">rintro</span><span class="err">?</span>

<span class="kn">end</span>
</pre></div>


<p>The result is pretty funny.</p>



<a name="188584527"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188584527" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188584527">(Feb 19 2020 at 20:57)</a>:</h4>
<p>I guess there must be some depth limitation (which looks wise).</p>



<a name="188584619"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188584619" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188584619">(Feb 19 2020 at 20:58)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/blob/cd0e2f6af4201b832c1f6ebefbc352108ff38458/src/tactic/rcases.lean#L356-L357" target="_blank" title="https://github.com/leanprover-community/mathlib/blob/cd0e2f6af4201b832c1f6ebefbc352108ff38458/src/tactic/rcases.lean#L356-L357">https://github.com/leanprover-community/mathlib/blob/cd0e2f6af4201b832c1f6ebefbc352108ff38458/src/tactic/rcases.lean#L356-L357</a></p>



<a name="188586662"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188586662" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188586662">(Feb 19 2020 at 21:20)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">tactic</span>

<span class="kn">example</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span> <span class="n">n</span><span class="bp">=</span><span class="n">n</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">suggest</span><span class="o">,</span> <span class="c1">-- exact rfl</span>
  <span class="n">exact</span> <span class="n">rfl</span> <span class="c1">-- fails</span>
<span class="kn">end</span>
</pre></div>


<p>Has the behaviour of <code>squeeze_simp</code> changed? It still seems to do the same for me.</p>
<div class="codehilite"><pre><span></span>commit 8700aa7d78b10b65cf8db1d9e320872ae313517a (HEAD, origin/lean-3.5.1)
Author: Gabriel Ebner &lt;gebner@gebner.org&gt;
Date:   Wed Feb 19 00:13:13 2020 +0100

    feat(docs): install mathlibtools package with pip (#2010)
</pre></div>



<a name="188586797"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188586797" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188586797">(Feb 19 2020 at 21:21)</a>:</h4>
<p>Yes, it has changed.</p>



<a name="188586938"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188586938" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188586938">(Feb 19 2020 at 21:23)</a>:</h4>
<p>Update the VSCode extension too.</p>



<a name="188586975"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188586975" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188586975">(Feb 19 2020 at 21:23)</a>:</h4>
<p>He should still see "Try this:" without updating, right?</p>



<a name="188587051"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188587051" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188587051">(Feb 19 2020 at 21:24)</a>:</h4>
<div class="codehilite"><pre><span></span>squeeze_simp !? only? (* | [(* | (- id | expr)), ...]?) (with id*)? (at (* | (⊢ | id)*))? &lt;error while executing interactive.param_desc: don&#39;t know how to pretty print [has_bind.bind (monad.to_has_bind lean.parser)] (lean.parser.tk &quot;{&quot;) (λ (_x : unit), lean.parser.sep_by (lean.parser.skip_info (lean.parser.tk &quot;,&quot;)) (sum.inl &lt;$&gt; (lean.parser.tk &quot;..&quot; *&gt; interactive.types.texpr) &lt;|&gt; sum.inr &lt;$&gt; (prod.mk &lt;$&gt; lean.parser.ident &lt;* lean.parser.tk &quot;:=&quot; &lt;*&gt; interactive.types.texpr)) &gt;&gt;= λ (ls : list (pexpr ⊕ name × pexpr)), lean.parser.tk &quot;}&quot; &gt;&gt;= λ (_x : unit), (λ (_a : list pexpr × list (name × pexpr)), prod.cases_on _a (λ (fst : list pexpr) (snd : list (name × pexpr)), id_rhs ((λ (_a : list name × list pexpr), lean.parser pexpr) (list.unzip snd)) ((λ (_a : list name × list pexpr), prod.cases_on _a (λ (fst_1 : list name) (snd : list pexpr), id_rhs (lean.parser pexpr) (pure (pexpr.mk_structure_instance {struct := none name, field_names := fst_1, field_values := snd, sources := fst})))) (list.unzip snd)))) (list.partition_map id ls))&gt;
</pre></div>


<p>Best error message ever</p>



<a name="188587058"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188587058" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188587058">(Feb 19 2020 at 21:24)</a>:</h4>
<p>I'm guessing Kevin doesn't remember that it didn't always say "Try this:" <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>



<a name="188587074"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188587074" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188587074">(Feb 19 2020 at 21:24)</a>:</h4>
<p>I haven't seen it saying that yet!</p>



<a name="188587114"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188587114" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188587114">(Feb 19 2020 at 21:24)</a>:</h4>
<p>gaargh I didn't restart Lean :D</p>



<a name="188587126"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188587126" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188587126">(Feb 19 2020 at 21:25)</a>:</h4>
<p>Then you're not running the version of mathlib you claimed...</p>



<a name="188587142"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188587142" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188587142">(Feb 19 2020 at 21:25)</a>:</h4>
<p>Woo!</p>



<a name="188587327"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188587327" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188587327">(Feb 19 2020 at 21:26)</a>:</h4>
<p>Although, you raise a good point about <code>suggest</code>, why does it think <code>rfl</code> should prove <code>∀ n : ℕ, n=n</code>?</p>



<a name="188587454"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188587454" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188587454">(Feb 19 2020 at 21:27)</a>:</h4>
<p>Oh, it's messing up its implicit arguments.</p>



<a name="188587519"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188587519" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188587519">(Feb 19 2020 at 21:28)</a>:</h4>
<p>What is funny is that suggest makes the same mistake one of beginners made a couple of weeks ago.</p>



<a name="188587567"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188587567" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188587567">(Feb 19 2020 at 21:28)</a>:</h4>
<div class="codehilite"><pre><span></span>1 goal
a b c : set ℕ
⊢ a ⊆ a ∪ (b ∪ c)
scratch2.lean:5:2: information trace output
Try this: exact set.subset_union_left a (b ∪ c)
Try this: refine set.preimage_mono _
Try this: refine set.diff_eq_empty.mp _
Try this: refine set.diff_subset_iff.mp _
Try this: refine set.image_subset_iff.mp _
Try this: refine (set.mem_powerset_iff a (a ∪ (b ∪ c))).mp _
Try this: refine set.compl_subset_compl.mp _
Try this: refine set.preimage_subset_iff.mpr _
Try this: refine set.set_of_subset_set_of.mpr _
Try this: refine set.subset_of_mem_powerset _
Try this: refine set.subset_union_of_subset_left _ (b ∪ c)
Try this: refine set.subset_union_of_subset_right _ a
Try this: refine set.subset.trans _ _
Try this: refine set.sUnion_subset_iff.mp _ a _
Try this: refine (set.image_subset_image_iff _).mp _
Try this: refine (set.preimage_subset_preimage_iff _).mp _
</pre></div>


<p>I don't know which one to try!</p>



<a name="188587662"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188587662" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188587662">(Feb 19 2020 at 21:29)</a>:</h4>
<p>You should have tried hint instead of suggest.</p>



<a name="188587686"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188587686" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188587686">(Feb 19 2020 at 21:29)</a>:</h4>
<p>At least the <code>exact</code> is at the top of the list</p>



<a name="188587689"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188587689" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188587689">(Feb 19 2020 at 21:29)</a>:</h4>
<p>And this is yet another goal that <code>norm_num</code> mysteriously crushes <span aria-label="open mouth" class="emoji emoji-1f62e" role="img" title="open mouth">:open_mouth:</span></p>



<a name="188587749"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188587749" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188587749">(Feb 19 2020 at 21:30)</a>:</h4>
<p>That's because <code>norm_num &gt; simp</code></p>



<a name="188587770"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188587770" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188587770">(Feb 19 2020 at 21:30)</a>:</h4>
<p>I know, but I'm frequently surprised by this.</p>



<a name="188587792"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188587792" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188587792">(Feb 19 2020 at 21:30)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="n">the</span> <span class="n">following</span> <span class="n">tactics</span> <span class="n">make</span> <span class="n">progress</span><span class="o">:</span>
<span class="c1">----</span>
<span class="n">Try</span> <span class="n">this</span><span class="o">:</span> <span class="n">norm_num</span>
<span class="n">Try</span> <span class="n">this</span><span class="o">:</span> <span class="n">finish</span>
<span class="n">Try</span> <span class="n">this</span><span class="o">:</span> <span class="n">simp</span> <span class="n">at</span> <span class="bp">*</span>
<span class="n">Try</span> <span class="n">this</span><span class="o">:</span> <span class="n">intros1</span>
</pre></div>


<p>But <code>intros1</code> gives me <code>unknown identifier 'intros1'</code></p>



<a name="188587795"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188587795" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188587795">(Feb 19 2020 at 21:30)</a>:</h4>
<p>I wish it were more restrictive, but people seem to be fine with it</p>



<a name="188587809"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188587809" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188587809">(Feb 19 2020 at 21:31)</a>:</h4>
<p>And it's annoying when teaching. I want norm_num to kill only things like 1 &lt; 3</p>



<a name="188587826"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188587826" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188587826">(Feb 19 2020 at 21:31)</a>:</h4>
<p>Have you tried using <code>norm_num1</code>? That does no simplification</p>



<a name="188587829"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188587829" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188587829">(Feb 19 2020 at 21:31)</a>:</h4>
<p>intros1 should be tactic.intros1 probably</p>



<a name="188587902"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188587902" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188587902">(Feb 19 2020 at 21:32)</a>:</h4>
<p>Too late for this year, but I'll try to remember next year (although next year I may teach using Lean 4!)</p>



<a name="188587910"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188587910" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188587910">(Feb 19 2020 at 21:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110031">Patrick Massot</span> <a href="#narrow/stream/113488-general/topic/Try.20this/near/188587829" title="#narrow/stream/113488-general/topic/Try.20this/near/188587829">said</a>:</p>
<blockquote>
<p>intros1 should be tactic.intros1 probably</p>
</blockquote>
<p>Or just <code>intro</code>?</p>



<a name="188587940"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188587940" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188587940">(Feb 19 2020 at 21:32)</a>:</h4>
<p>Of course the correct hint is intro, but suggest is trying to suggest intros1.</p>



<a name="188587945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188587945" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188587945">(Feb 19 2020 at 21:32)</a>:</h4>
<p><code>hint</code> shouldn't return noninteractive tactics.</p>



<a name="188587988"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188587988" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188587988">(Feb 19 2020 at 21:33)</a>:</h4>
<p>I guess we'll discover many small bugs in those tactics in the coming days while everybody tries to play with Try this</p>



<a name="188588140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188588140" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188588140">(Feb 19 2020 at 21:35)</a>:</h4>
<div class="codehilite"><pre><span></span>1 goal
⊢ 0 = 0
scratch2.lean:5:2: information trace output
the following tactics make progress:
----
Try this: omega
Try this: linarith
Try this: ring
Try this: norm_num
Try this: tauto
Try this: finish
Try this: solve_by_elim
Try this: fsplit
Try this: simp at *
Try this: exact dec_trivial
Try this: refl
</pre></div>


<p>I'm loving <code>fsplit</code> for that one. It does close it!</p>



<a name="188588241"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188588241" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188588241">(Feb 19 2020 at 21:36)</a>:</h4>
<p>Partly my fault for not catching that in review, I assumed there was an interactive <code>intro1</code>.</p>



<a name="188588245"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188588245" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188588245">(Feb 19 2020 at 21:36)</a>:</h4>
<p>why aren't <code>split</code> and <code>constructor</code> on the list as well?</p>



<a name="188588257"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188588257" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188588257">(Feb 19 2020 at 21:36)</a>:</h4>
<p>too easy</p>



<a name="188588401"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188588401" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188588401">(Feb 19 2020 at 21:38)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="mi">1</span> <span class="n">goal</span>
<span class="err">⊢</span> <span class="mi">0</span> <span class="bp">=</span> <span class="mi">1</span>
<span class="n">scratch2</span><span class="bp">.</span><span class="n">lean</span><span class="o">:</span><span class="mi">5</span><span class="o">:</span><span class="mi">2</span><span class="o">:</span> <span class="n">information</span> <span class="n">trace</span> <span class="n">output</span>
<span class="n">the</span> <span class="n">following</span> <span class="n">tactics</span> <span class="n">make</span> <span class="n">progress</span><span class="o">:</span>
<span class="c1">----</span>
<span class="n">Try</span> <span class="n">this</span><span class="o">:</span> <span class="n">norm_num</span>
</pre></div>


<p>Loving the definition of "progress" there.</p>



<a name="188588403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188588403" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188588403">(Feb 19 2020 at 21:38)</a>:</h4>
<p>I was hoping <code>left</code> would work too but it's too smart</p>



<a name="188588535"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188588535" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188588535">(Feb 19 2020 at 21:40)</a>:</h4>
<p>Tagging <span class="user-mention" data-user-id="110087">@Scott Morrison</span> so he sees suggestions for <code>hint</code>!</p>



<a name="188588589"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188588589" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188588589">(Feb 19 2020 at 21:41)</a>:</h4>
<p>I don't think we need it running both <code>split</code> and <code>fsplit</code>, right?</p>



<a name="188619131"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188619131" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188619131">(Feb 20 2020 at 08:44)</a>:</h4>
<blockquote>
<p>Although, you raise a good point about <code>suggest</code>, why does it think <code>rfl</code> should prove <code>∀ n : ℕ, n=n</code>?</p>
</blockquote>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> any idea?</p>



<a name="188619225"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188619225" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188619225">(Feb 20 2020 at 08:46)</a>:</h4>
<p>Also, we now have three tactics suggesting stuff to users: <code>library_search</code>, <code>suggest</code> and <code>hint</code>. Should we somehow merge them? Or do they have clearly delimited ranges (like <code>hint</code> is strictly for new users and <code>suggest</code> is slower than library search or something?).</p>



<a name="188619554"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188619554" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188619554">(Feb 20 2020 at 08:52)</a>:</h4>
<p>I'd say <code>library_search</code> has a quite different role to play than the other two and should be kept separate. There are all sorts of situations where you're looking for a specific lemma and not an arbitrary tactical proof.</p>



<a name="188624714"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188624714" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188624714">(Feb 20 2020 at 10:08)</a>:</h4>
<p><code>suggest</code> and <code>library_search</code> share most of an implementation but have different use cases, they should definitely stay separate.</p>



<a name="188624749"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188624749" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188624749">(Feb 20 2020 at 10:09)</a>:</h4>
<p>One could argue that <code>hint</code> should call <code>suggest</code>, since applying a lemma is another tactic that can make progress.</p>



<a name="188624772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188624772" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188624772">(Feb 20 2020 at 10:09)</a>:</h4>
<p>But <code>suggest</code> will usually be way slower than <code>hint</code>.</p>



<a name="188624777"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188624777" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188624777">(Feb 20 2020 at 10:09)</a>:</h4>
<p>Could you explain how suggest and library_search have different use cases?</p>



<a name="188624993"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188624993" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188624993">(Feb 20 2020 at 10:12)</a>:</h4>
<p>Often I care if a lemma is in the library already, but not if some random terms make progress, since I know how to bash it away. <code>library_search</code> is what I want there, and it will stop as soon as it solves the goal. <code>suggest</code> potentially gives me a long list of things I don't care about and it takes a long time to find it.</p>



<a name="188627011"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188627011" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188627011">(Feb 20 2020 at 10:45)</a>:</h4>
<p>Maybe it's reasonable to have <code>hint!</code> call both <code>hint</code> and <code>suggest</code>. I really don't think we should combine them by default though.</p>



<a name="188686827"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Try%20this/near/188686827" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Try.20this.html#188686827">(Feb 20 2020 at 22:40)</a>:</h4>
<p>I diagnosed the "does <code>rfl</code> solve <code>∀ n : ℕ, n=n</code>" bug at <a href="https://github.com/leanprover-community/mathlib/issues/2029" target="_blank" title="https://github.com/leanprover-community/mathlib/issues/2029">https://github.com/leanprover-community/mathlib/issues/2029</a>. It seems to be a problem with the pretty printer, and I'm not sure how to work around it.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>