---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/groups.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html">groups</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="256912510"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/256912510" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Melesse <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#256912510">(Oct 10 2021 at 01:01)</a>:</h4>
<p>Hey everyone, I just finished the Naturals number game. It was great. Does anyone know if there are any resources on working with groups in lean.</p>



<a name="256912584"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/256912584" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#256912584">(Oct 10 2021 at 01:02)</a>:</h4>
<p>Math library has <a href="https://leanprover-community.github.io/mathlib_docs/find/group">docs#group</a> and many other definitions/theorems.</p>



<a name="256912814"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/256912814" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Melesse <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#256912814">(Oct 10 2021 at 01:07)</a>:</h4>
<p>Got it thank you. I will take a look.</p>



<a name="256913079"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/256913079" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Melesse <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#256913079">(Oct 10 2021 at 01:11)</a>:</h4>
<p>Would you know where I can find an example of some one proving something simple about groups using lean.</p>



<a name="256914111"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/256914111" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Melesse <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#256914111">(Oct 10 2021 at 01:30)</a>:</h4>
<p>nvm, just found <a href="https://cocalc.com/share/public_paths/f014cd1885a22e8665a728be825e563fc79b7e1f/README.md">https://cocalc.com/share/public_paths/f014cd1885a22e8665a728be825e563fc79b7e1f/README.md</a></p>



<a name="256917372"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/256917372" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#256917372">(Oct 10 2021 at 02:29)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/tree/master/src/algebra/group">https://github.com/leanprover-community/mathlib/tree/master/src/algebra/group</a></p>



<a name="256917376"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/256917376" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#256917376">(Oct 10 2021 at 02:29)</a>:</h4>
<p>and <a href="https://github.com/leanprover-community/mathlib/tree/master/src/group_theory">https://github.com/leanprover-community/mathlib/tree/master/src/group_theory</a></p>



<a name="256937613"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/256937613" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#256937613">(Oct 10 2021 at 08:37)</a>:</h4>
<p>These links to mathlib are not really useful here -- the mathlib proofs are incomprehensible to someone who has only played NNG</p>



<a name="256937756"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/256937756" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#256937756">(Oct 10 2021 at 08:39)</a>:</h4>
<p>Here's a link to a workshop I ran about group theory for lean beginners: <a href="https://xenaproject.wordpress.com/2021/01/28/formalising-mathematics-workshop-2/">https://xenaproject.wordpress.com/2021/01/28/formalising-mathematics-workshop-2/</a></p>



<a name="256937898"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/256937898" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#256937898">(Oct 10 2021 at 08:41)</a>:</h4>
<p>For having learnt Lean using this, I can attest of this workshop's quality.</p>



<a name="256938359"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/256938359" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#256938359">(Oct 10 2021 at 08:48)</a>:</h4>
<p>The mathlib links on the other hand do give you some kind of feeling as to "how far we have got" in group theory. For example the names of the files indicate what is covered and the module docstrings (the text at the top of each file) explains what definitions are made and what theorems are proved in the files</p>



<a name="257011364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/257011364" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Melesse <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#257011364">(Oct 11 2021 at 04:39)</a>:</h4>
<p>Thank you all. Looking forward to going through the workshop</p>



<a name="257420238"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/257420238" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Melesse <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#257420238">(Oct 13 2021 at 19:07)</a>:</h4>
<p>How would I go about defining a custom group in lean?  For example if I wanted to define a group on a subset of  the reals and a custom op.</p>



<a name="257420597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/257420597" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#257420597">(Oct 13 2021 at 19:09)</a>:</h4>
<p>Fill those in <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span> </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">my_group</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span> <span class="n">group</span> <span class="n">S</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">mul</span> <span class="o">:=</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">mul_assoc</span> <span class="o">:=</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">one</span> <span class="o">:=</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">one_mul</span> <span class="o">:=</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">mul_one</span> <span class="o">:=</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">inv</span> <span class="o">:=</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">mul_left_inv</span> <span class="o">:=</span> <span class="n">_</span> <span class="o">}</span>
</code></pre></div>



<a name="257420754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/257420754" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#257420754">(Oct 13 2021 at 19:10)</a>:</h4>
<p>To quickly get this list of fields, you can do</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">my_group</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span> <span class="n">group</span> <span class="n">S</span> <span class="o">:=</span>
<span class="o">{</span><span class="bp">!!</span><span class="o">}</span>
</code></pre></div>
<p>and click on the lightbulb.</p>



<a name="257421001"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/257421001" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#257421001">(Oct 13 2021 at 19:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/113488-general/topic/groups/near/257420597">said</a>:</p>
<blockquote>
<p>Fill those in <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span> </p>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">my_group</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span> <span class="n">group</span> <span class="n">S</span> <span class="o">:=</span>
</code></pre></div><br>
</p>
</blockquote>
<p>This won't work -- this will ask you to define  a group structure on any given set <code>S</code> of reals. I assume you have a specific set <code>S</code>in mind?</p>



<a name="257421074"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/257421074" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#257421074">(Oct 13 2021 at 19:13)</a>:</h4>
<p>Yeah of course, I don't know what Michael wants.</p>



<a name="257421179"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/257421179" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Melesse <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#257421179">(Oct 13 2021 at 19:14)</a>:</h4>
<p>Yes, I was hoping to define on ℝ\{-1}</p>



<a name="257421257"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/257421257" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#257421257">(Oct 13 2021 at 19:14)</a>:</h4>
<p>what's the operation?</p>



<a name="257421310"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/257421310" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#257421310">(Oct 13 2021 at 19:15)</a>:</h4>
<p>Then replace <code>S</code> with <code>{x : ℝ // x ≠ -1}</code>.</p>



<a name="257421615"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/257421615" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Melesse <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#257421615">(Oct 13 2021 at 19:17)</a>:</h4>
<p>The op is a*b :=(a+b)^2 where a,b are in the set ℝ\{-1}</p>



<a name="257421636"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/257421636" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Melesse <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#257421636">(Oct 13 2021 at 19:17)</a>:</h4>
<p>Thank you both</p>



<a name="257422009"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/257422009" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#257422009">(Oct 13 2021 at 19:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/113488-general/topic/groups/near/257420597">said</a>:</p>
<blockquote>
<p>Fill those in <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span> </p>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">my_group</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span> <span class="n">group</span> <span class="n">S</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">mul</span> <span class="o">:=</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">mul_assoc</span> <span class="o">:=</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">one</span> <span class="o">:=</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">one_mul</span> <span class="o">:=</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">mul_one</span> <span class="o">:=</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">inv</span> <span class="o">:=</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">div</span> <span class="o">:=</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">div_eq_mul_inv</span> <span class="o">:=</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">mul_left_inv</span> <span class="o">:=</span> <span class="n">_</span> <span class="o">}</span>
</code></pre></div><br>
</p>
</blockquote>
<p>Div and Div eq mul inv are impl details right?</p>



<a name="257422053"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/257422053" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#257422053">(Oct 13 2021 at 19:19)</a>:</h4>
<p>Whoops, yeah</p>



<a name="257422438"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/257422438" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#257422438">(Oct 13 2021 at 19:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="444964">Michael Melesse</span> <a href="#narrow/stream/113488-general/topic/groups/near/257421615">said</a>:</p>
<blockquote>
<p>The op is a*b :=(a+b)^2 where a,b are in the set ℝ\{-1}</p>
</blockquote>
<p>I don't actually see how this operation defines a group. Is there any identity element <code>e</code> such that <code>a = (a + e)^2</code> for all <code>a</code> in your set?</p>



<a name="257422614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/257422614" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Melesse <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#257422614">(Oct 13 2021 at 19:23)</a>:</h4>
<p>oops this is the op, ab + a + b</p>



<a name="257422642"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/257422642" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#257422642">(Oct 13 2021 at 19:23)</a>:</h4>
<p>Aah, makes more sense</p>



<a name="257422772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/257422772" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#257422772">(Oct 13 2021 at 19:24)</a>:</h4>
<p>You can also instead define a <code>group_with_zero ℝ</code>. That'll probably be more pleasant.</p>



<a name="257423196"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/257423196" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#257423196">(Oct 13 2021 at 19:27)</a>:</h4>
<p>The nicest way to prove that is to prove that <code>a -&gt; a - 1</code> is a bijection from <code>units ℝ</code> to <code>ℝ\{-1}</code> such that the image of <code>*</code> under the bijection is <code>a,b -&gt; ab+a+b</code></p>



<a name="257578540"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/257578540" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Melesse <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#257578540">(Oct 14 2021 at 18:01)</a>:</h4>
<p><span class="user-mention" data-user-id="387244">@Yaël Dillies</span>  When you say replace S with {x : ℝ // x ≠ -1}. Do you mean define a variable? Just plugging it in doesnot seem to work</p>



<a name="257578694"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/257578694" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#257578694">(Oct 14 2021 at 18:02)</a>:</h4>
<p>I mean</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">my_group</span> <span class="o">:</span> <span class="n">group</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">//</span> <span class="n">x</span> <span class="bp">≠</span> <span class="bp">-</span><span class="mi">1</span><span class="o">}</span> <span class="o">:=</span> <span class="bp">...</span>
</code></pre></div>



<a name="257579474"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/257579474" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Melesse <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#257579474">(Oct 14 2021 at 18:07)</a>:</h4>
<p>Got it. Thanks.</p>



<a name="257579510"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/257579510" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Melesse <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#257579510">(Oct 14 2021 at 18:08)</a>:</h4>
<p>When I define  the mul like this   mul :=  ∀(a b:{x : ℝ // x ≠ -1}), a+a*b+b, I get an error about the addition</p>



<a name="257579637"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/257579637" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Melesse <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#257579637">(Oct 14 2021 at 18:08)</a>:</h4>
<p>failed to synthesize type class instance for<br>
a b : {x // x ≠ -1}<br>
⊢ has_add {x // x ≠ -1}</p>



<a name="257579706"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/257579706" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Melesse <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#257579706">(Oct 14 2021 at 18:09)</a>:</h4>
<p>I cannot seem to define an add op. The group structure doesnot have it to overwrite</p>



<a name="257579865"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/257579865" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Melesse <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#257579865">(Oct 14 2021 at 18:10)</a>:</h4>
<p>looking through docs non of the flavors have add and mul at the same time</p>



<a name="257580160"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/257580160" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#257580160">(Oct 14 2021 at 18:12)</a>:</h4>
<p>Welcome to subtyping hell. <span aria-label="smiling devil" class="emoji emoji-1f608" role="img" title="smiling devil">:smiling_devil:</span> Enjoy you stay.</p>



<a name="257580447"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/257580447" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#257580447">(Oct 14 2021 at 18:14)</a>:</h4>
<p><code>{x : ℝ // x ≠ -1}</code> is an entirely new type, so Lean doesn't know anything about it besides its definition. And it certainly doesn't know the inexistent addition you're trying to define: <code>-1/2 : {x : ℝ // x ≠ -1}</code> but you cannot make <code>-1/2 + -1/2</code> have the meaningful value <code>-1</code> as it's not in the type!</p>



<a name="257580720"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/257580720" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#257580720">(Oct 14 2021 at 18:16)</a>:</h4>
<p>The answer is to define your operations through <code>ℝ</code> and show they preserve <code>≠ -1</code>. An element of <code>{x : ℝ // x ≠ -1}</code> is <code>⟨an element of ℝ, a proof that it's ≠ -1⟩</code>.</p>



<a name="257580803"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/257580803" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#257580803">(Oct 14 2021 at 18:17)</a>:</h4>
<p>So your operation will look like <code>λ a b, ⟨(a : ℝ) * b + a + b, some_proof⟩</code>.</p>



<a name="257580850"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/257580850" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#257580850">(Oct 14 2021 at 18:17)</a>:</h4>
<p><code>(a : ℝ)</code> telling Lean to consider <code>a</code> as a real.</p>



<a name="257581039"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/257581039" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#257581039">(Oct 14 2021 at 18:18)</a>:</h4>
<p>You probably start getting why we use <code>group_with_zero</code>. Removing <code>0</code> to provide a <code>group</code> structure is simply too much of a pain.</p>



<a name="257581722"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/groups/near/257581722" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/groups.html#257581722">(Oct 14 2021 at 18:23)</a>:</h4>
<p>I'm not sure this really counts as subtyping hell; this seems like exactly what you would expect to have to do on paper.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>