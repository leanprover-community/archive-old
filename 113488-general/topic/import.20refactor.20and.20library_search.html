---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/import.20refactor.20and.20library_search.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/import.20refactor.20and.20library_search.html">import refactor and library_search</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="203302080"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/import%20refactor%20and%20library_search/near/203302080" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/import.20refactor.20and.20library_search.html#203302080">(Jul 08 2020 at 18:09)</a>:</h4>
<p>Presumably since  <a href="https://github.com/leanprover-community/mathlib/issues/3235">#3235</a>, <code>library_search</code> randomly fails to be available in mathlib. This is really a PITA. Is there any hope to fix that?</p>



<a name="203302292"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/import%20refactor%20and%20library_search/near/203302292" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/import.20refactor.20and.20library_search.html#203302292">(Jul 08 2020 at 18:11)</a>:</h4>
<p>I guess we should add <code>import tactic.suggest</code> to <code>tactic/default.lean</code>.</p>



<a name="203302357"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/import%20refactor%20and%20library_search/near/203302357" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/import.20refactor.20and.20library_search.html#203302357">(Jul 08 2020 at 18:11)</a>:</h4>
<p>It's not just library_search, I am refactoring subgroups and <code>#where</code> is also often missing. I have taken to doing this:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">group_theory</span><span class="bp">.</span><span class="n">coset</span>
<span class="bp">...</span>
<span class="kn">import</span> <span class="n">tactic</span>
<span class="bp">#</span><span class="kn">eval</span> <span class="s2">&quot;remove this import&quot;</span>
</code></pre></div>



<a name="203302611"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/import%20refactor%20and%20library_search/near/203302611" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/import.20refactor.20and.20library_search.html#203302611">(Jul 08 2020 at 18:14)</a>:</h4>
<p><code>tactic.basic</code> contains this sort of stuff</p>



<a name="203302673"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/import%20refactor%20and%20library_search/near/203302673" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/import.20refactor.20and.20library_search.html#203302673">(Jul 08 2020 at 18:14)</a>:</h4>
<p><code>default</code> imports <code>basic</code>, for the record.</p>



<a name="203303985"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/import%20refactor%20and%20library_search/near/203303985" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/import.20refactor.20and.20library_search.html#203303985">(Jul 08 2020 at 18:25)</a>:</h4>
<p>since <a href="https://github.com/leanprover-community/mathlib/issues/3284">#3284</a> - 5 days ago only though</p>



<a name="203340436"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/import%20refactor%20and%20library_search/near/203340436" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/import.20refactor.20and.20library_search.html#203340436">(Jul 09 2020 at 00:41)</a>:</h4>
<p>Okay, I agree this was a mistake. I will put this on my list.</p>



<a name="203341360"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/import%20refactor%20and%20library_search/near/203341360" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/import.20refactor.20and.20library_search.html#203341360">(Jul 09 2020 at 00:59)</a>:</h4>
<p>I'm doing some experiments, but I think this is viable:</p>
<ol>
<li>import <code>tactic.basic</code> "as early as possible" (i.e. in any file that <code>tactic.basic</code> doesn't depend on, and which imports any tactic strictly between <code>tactic.core</code> and <code>tactic.basic</code>, just import <code>tactic.basic</code> itself</li>
<li>add both <code>tactic.finish</code> and <code>tactic.tauto</code> to <code>tactic.basic</code> (neither requires adding any dependencies)</li>
</ol>



<a name="203341667"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/import%20refactor%20and%20library_search/near/203341667" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/import.20refactor.20and.20library_search.html#203341667">(Jul 09 2020 at 01:04)</a>:</h4>
<ol start="3">
<li>we can also add <code>norm_cast</code> to <code>tactic.basic</code> for free</li>
</ol>



<a name="203345231"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/import%20refactor%20and%20library_search/near/203345231" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/import.20refactor.20and.20library_search.html#203345231">(Jul 09 2020 at 02:20)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/issues/3333">#3333</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>