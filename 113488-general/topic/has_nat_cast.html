---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/has_nat_cast.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/has_nat_cast.html">has_nat_cast</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="287500294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/has_nat_cast/near/287500294" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/has_nat_cast.html#287500294">(Jun 26 2022 at 15:58)</a>:</h4>
<p>What's up with this new typeclass? What's the purpose?</p>



<a name="287500304"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/has_nat_cast/near/287500304" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/has_nat_cast.html#287500304">(Jun 26 2022 at 15:58)</a>:</h4>
<p>It doesn't seem to introduce notation, and I'm not sure what lemmas it could possibly introduce</p>



<a name="287500375"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/has_nat_cast/near/287500375" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/has_nat_cast.html#287500375">(Jun 26 2022 at 16:00)</a>:</h4>
<p>Was it not desirable to have <code>nat.unary_cast</code>automatically defined?</p>



<a name="287500376"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/has_nat_cast/near/287500376" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/has_nat_cast.html#287500376">(Jun 26 2022 at 16:00)</a>:</h4>
<p>It's to provide <code>coe : ℕ → α</code>. It was formerly deduced from <code>[has_zero α] [has_one α] [has_add α]</code>. Relevant PR is <a href="https://github.com/leanprover-community/mathlib/pull/12182">#12182</a>.</p>



<a name="287500417"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/has_nat_cast/near/287500417" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/has_nat_cast.html#287500417">(Jun 26 2022 at 16:01)</a>:</h4>
<p>The problem is that we want <code>coe : ℕ → ℕ</code> to be defeq to <code>id</code>, <code>coe : ℕ → ℤ</code> to be defeq to <a href="https://leanprover-community.github.io/mathlib_docs/find/int.of_nat">docs#int.of_nat</a>, <code>coe : ℕ → with_bot ℕ</code> to be defeq to the other <code>coe : ℕ → with_bot ℕ</code> (so defeq to <code>some</code>), etc...</p>



<a name="287500424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/has_nat_cast/near/287500424" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/has_nat_cast.html#287500424">(Jun 26 2022 at 16:01)</a>:</h4>
<p>Oh, that makes sense.</p>



<a name="287500465"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/has_nat_cast/near/287500465" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/has_nat_cast.html#287500465">(Jun 26 2022 at 16:02)</a>:</h4>
<p><a href="/user_uploads/3121/2jVOzdeR3kPeDK50dYwEFdpk/image.png">image.png</a> Shouldn't this be <code>has_nat_cast</code> instead of <code>has_coe</code>?</p>
<div class="message_inline_image"><a href="/user_uploads/3121/2jVOzdeR3kPeDK50dYwEFdpk/image.png" title="image.png"><img src="/user_uploads/3121/2jVOzdeR3kPeDK50dYwEFdpk/image.png"></a></div>



<a name="287500482"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/has_nat_cast/near/287500482" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/has_nat_cast.html#287500482">(Jun 26 2022 at 16:02)</a>:</h4>
<p>Or is the idea that you only use <code>has_nat_cast</code> for monoids or some other algebraic structure stronger than what pre-games are?</p>



<a name="287500484"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/has_nat_cast/near/287500484" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/has_nat_cast.html#287500484">(Jun 26 2022 at 16:02)</a>:</h4>
<p>Probably it should, yeah.</p>



<a name="287501206"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/has_nat_cast/near/287501206" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/has_nat_cast.html#287501206">(Jun 26 2022 at 16:18)</a>:</h4>
<p>Is <a href="https://leanprover-community.github.io/mathlib_docs/find/add_monoid_with_one">docs#add_monoid_with_one</a> true for pgame?</p>



<a name="287502168"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/has_nat_cast/near/287502168" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/has_nat_cast.html#287502168">(Jun 26 2022 at 16:43)</a>:</h4>
<p>I'm not even sure addition is associative on <code>pgame</code>, and really one could argue that there are many candidates for <code>one</code>. The idea is that <code>game</code> is a more sensible notion; <code>pgame</code> is some kind of auxiliary notion used in the construction of <code>game</code>.</p>



<a name="287502944"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/has_nat_cast/near/287502944" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/has_nat_cast.html#287502944">(Jun 26 2022 at 17:01)</a>:</h4>
<blockquote>
<p>Shouldn't this be has_nat_cast instead of has_coe?</p>
</blockquote>
<p>It could be, but it doesn't buy you much.  All the <code>nat.cast</code> lemmas require <code>add_monoid_with_one</code>, which <code>pgame</code> isn't.</p>



<a name="287516390"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/has_nat_cast/near/287516390" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/has_nat_cast.html#287516390">(Jun 26 2022 at 22:03)</a>:</h4>
<p>Addition isn't neither commutative nor associative on <code>pgame</code>!</p>



<a name="287516445"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/has_nat_cast/near/287516445" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/has_nat_cast.html#287516445">(Jun 26 2022 at 22:04)</a>:</h4>
<p>I do disagree with there being many candidates for 1, <code>{{ | } | }</code> with the obvious indexing types seems like the only reasonable choice</p>



<a name="287516535"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/has_nat_cast/near/287516535" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/has_nat_cast.html#287516535">(Jun 26 2022 at 22:06)</a>:</h4>
<p>But that's a whole other topic</p>



<a name="288711370"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/has_nat_cast/near/288711370" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/has_nat_cast.html#288711370">(Jul 06 2022 at 18:30)</a>:</h4>
<p>is it worth making one of these for the redefinition of char_p? Or should I just inline it into <code>char_p</code>?</p>



<a name="288711792"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/has_nat_cast/near/288711792" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/has_nat_cast.html#288711792">(Jul 06 2022 at 18:33)</a>:</h4>
<p>I think just inline it</p>



<a name="288711834"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/has_nat_cast/near/288711834" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/has_nat_cast.html#288711834">(Jul 06 2022 at 18:33)</a>:</h4>
<p>Since it would be the only data field</p>



<a name="288712536"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/has_nat_cast/near/288712536" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/has_nat_cast.html#288712536">(Jul 06 2022 at 18:40)</a>:</h4>
<p>I was also going to set defn control of smul, although I guess there's no real point as usually for charp the cast will just be <code>x smul 1</code></p>



<a name="288719170"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/has_nat_cast/near/288719170" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/has_nat_cast.html#288719170">(Jul 06 2022 at 19:34)</a>:</h4>
<p>The main reason for <code>has_nat_cast</code> (if my understanding is correct) is to make things like <a href="https://leanprover-community.github.io/mathlib_docs/find/function.injective.monoid">docs#function.injective.monoid</a> easy to state</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>