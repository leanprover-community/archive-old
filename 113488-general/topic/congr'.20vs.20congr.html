---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/congr'.20vs.20congr.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/congr'.20vs.20congr.html">congr' vs congr</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="222083345"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/congr%27%20vs%20congr/near/222083345" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/congr'.20vs.20congr.html#222083345">(Jan 08 2021 at 15:14)</a>:</h4>
<p>I have a goal state where <code>congr' 3</code> closes the goal, but <code>congr</code> gives me an awful <code>a == b</code> goal where <code>a</code> and <code>b</code> are <code>smul_comm_class</code> objects. Does this mean that there's more to <code>congr'</code> than just " stop after n steps"?</p>



<a name="222083502"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/congr%27%20vs%20congr/near/222083502" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/congr'.20vs.20congr.html#222083502">(Jan 08 2021 at 15:15)</a>:</h4>
<p>The line in question is <a href="https://github.com/leanprover-community/mathlib/pull/5269/files#diff-48c4d86a6f8902ed17b9728588594da05839379ca05b4dcabc31a3999850cf65R749">https://github.com/leanprover-community/mathlib/pull/5269/files#diff-48c4d86a6f8902ed17b9728588594da05839379ca05b4dcabc31a3999850cf65R749</a></p>



<a name="222086396"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/congr%27%20vs%20congr/near/222086396" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/congr'.20vs.20congr.html#222086396">(Jan 08 2021 at 15:38)</a>:</h4>
<p><code>congr</code> doesn't always check at each subexpression if the sides of the equality are already defeq:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">const</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="n">ℕ</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">x</span> <span class="n">_</span><span class="o">,</span> <span class="n">x</span>
<span class="kd">example</span> <span class="o">{</span><span class="n">m</span> <span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span> <span class="o">:</span> <span class="n">const</span> <span class="mi">0</span> <span class="n">m</span> <span class="bp">=</span> <span class="n">const</span> <span class="mi">0</span> <span class="n">n</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">congr</span> <span class="c1">-- Unsolved goals: ⊢ m = n</span>
<span class="kd">example</span> <span class="o">{</span><span class="n">m</span> <span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span> <span class="o">:</span> <span class="n">id</span> <span class="o">(</span><span class="n">const</span> <span class="mi">0</span> <span class="n">m</span><span class="o">)</span> <span class="bp">=</span> <span class="n">id</span> <span class="o">(</span><span class="n">const</span> <span class="mi">0</span> <span class="n">n</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">congr</span> <span class="c1">-- Succeeds</span>
</code></pre></div>



<a name="222086479"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/congr%27%20vs%20congr/near/222086479" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/congr'.20vs.20congr.html#222086479">(Jan 08 2021 at 15:39)</a>:</h4>
<p>Not sure that that is the same thing as your issue, just something interesting I found when investigating it.</p>



<a name="222087110"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/congr%27%20vs%20congr/near/222087110" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/congr'.20vs.20congr.html#222087110">(Jan 08 2021 at 15:45)</a>:</h4>
<p>I don't understand what's going on in your example at all, but it's quite likely the same as my problem</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>