---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/.60simp.60.20ignoring.20lemmas.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60simp.60.20ignoring.20lemmas.3F.html">`simp` ignoring lemmas?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="241654864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60simp%60%20ignoring%20lemmas%3F/near/241654864" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60simp.60.20ignoring.20lemmas.3F.html#241654864">(Jun 05 2021 at 20:26)</a>:</h4>
<p>in <a href="https://github.com/leanprover-community/mathlib/issues/7759">#7759</a>, we're running into a weird issue where <code>simp</code> just refuses to use a <code>simp</code>-lemma, unless we put it in specifically. see <a href="https://github.com/leanprover-community/mathlib/pull/7759/commits/fe4384a332661d35f51cf3ed54428dcb3cdbb8e0">here</a>, but putting <code>card_embedding_eq</code> in the given lemmata instantly solves everything. is this a known issue?</p>



<a name="241654872"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60simp%60%20ignoring%20lemmas%3F/near/241654872" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60simp.60.20ignoring.20lemmas.3F.html#241654872">(Jun 05 2021 at 20:26)</a>:</h4>
<p>(also, is there any way to debug <code>simp</code> when it times out? i tried turning on all the trace options but they didnt output anything)</p>



<a name="241655029"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60simp%60%20ignoring%20lemmas%3F/near/241655029" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60simp.60.20ignoring.20lemmas.3F.html#241655029">(Jun 05 2021 at 20:30)</a>:</h4>
<p>If it's timing out then there could be a loop</p>



<a name="241655096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60simp%60%20ignoring%20lemmas%3F/near/241655096" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60simp.60.20ignoring.20lemmas.3F.html#241655096">(Jun 05 2021 at 20:32)</a>:</h4>
<p>that was my first thought, but can't trace it at all</p>



<a name="241655113"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60simp%60%20ignoring%20lemmas%3F/near/241655113" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60simp.60.20ignoring.20lemmas.3F.html#241655113">(Jun 05 2021 at 20:33)</a>:</h4>
<p>PS the link seems to be to a commit which doesn't mention <code>card_embedding_eq</code>. Is this intentional?</p>



<a name="241655176"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60simp%60%20ignoring%20lemmas%3F/near/241655176" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60simp.60.20ignoring.20lemmas.3F.html#241655176">(Jun 05 2021 at 20:35)</a>:</h4>
<p>yes, it's a <code>simp</code> lemma; the current fix is <a href="https://github.com/leanprover-community/mathlib/pull/7759/commits/cddd0fe1e6b1293187ccf62bd6d2325c78e16b17">here</a></p>



<a name="241655236"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60simp%60%20ignoring%20lemmas%3F/near/241655236" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60simp.60.20ignoring.20lemmas.3F.html#241655236">(Jun 05 2021 at 20:36)</a>:</h4>
<p>Oh there are big numbers involved here -- perhaps things are being unfolded</p>



<a name="241655306"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60simp%60%20ignoring%20lemmas%3F/near/241655306" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60simp.60.20ignoring.20lemmas.3F.html#241655306">(Jun 05 2021 at 20:38)</a>:</h4>
<p>The thing is, it already worked fine in the past (aka two days ago), and then I changed <code>desc_fac</code>(the ascending factorial) to <code>desc_fact</code>(the actual descending factorial), Eric adapted some stuffn and BEM it broke.</p>



<a name="241655315"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60simp%60%20ignoring%20lemmas%3F/near/241655315" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60simp.60.20ignoring.20lemmas.3F.html#241655315">(Jun 05 2021 at 20:38)</a>:</h4>
<p>it's surprisingly a pretty fast <code>norm_num</code> (when it works!)</p>



<a name="241655338"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60simp%60%20ignoring%20lemmas%3F/near/241655338" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60simp.60.20ignoring.20lemmas.3F.html#241655338">(Jun 05 2021 at 20:39)</a>:</h4>
<p>Doesn't it <em>only</em> have to multiply 23 terms?</p>



<a name="241655346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60simp%60%20ignoring%20lemmas%3F/near/241655346" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60simp.60.20ignoring.20lemmas.3F.html#241655346">(Jun 05 2021 at 20:40)</a>:</h4>
<p>~2 sec, and yes but it also has to unfold them and make the atrocious-looking proof</p>



<a name="241702614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60simp%60%20ignoring%20lemmas%3F/near/241702614" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60simp.60.20ignoring.20lemmas.3F.html#241702614">(Jun 06 2021 at 17:57)</a>:</h4>
<p><span class="user-mention silent" data-user-id="284160">Eric Rodriguez</span> <a href="#narrow/stream/113488-general/topic/.60simp.60.20ignoring.20lemmas.3F/near/241654872">said</a>:</p>
<blockquote>
<p>(also, is there any way to debug <code>simp</code> when it times out? i tried turning on all the trace options but they didnt output anything)</p>
</blockquote>
<p>Did you try the suggestions in this library note (point 3)?<br>
<a href="https://leanprover-community.github.io/mathlib_docs/notes.html#simp-normal%20form">https://leanprover-community.github.io/mathlib_docs/notes.html#simp-normal%20form</a></p>



<a name="241765252"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60simp%60%20ignoring%20lemmas%3F/near/241765252" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60simp.60.20ignoring.20lemmas.3F.html#241765252">(Jun 07 2021 at 12:03)</a>:</h4>
<p>Floris, when I try this, without specifiying my <code>simp</code> lemmata, both <code>norm_num</code> and <code>simp</code> just output a short error message consisting of something like this:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="mi">0</span><span class="bp">.</span> <span class="o">[</span><span class="n">simplify.rewrite_failure</span><span class="o">]</span> <span class="n">fail</span> <span class="n">to</span> <span class="k">match</span> <span class="bp">'</span><span class="n">bit0_zero'</span><span class="o">:</span>
<span class="mi">2</span>
<span class="bp">=?=</span>
<span class="n">bit0</span> <span class="mi">0</span>
<span class="c1">--------------</span>
<span class="mi">0</span><span class="bp">.</span> <span class="o">[</span><span class="n">simplify.rewrite_failure</span><span class="o">]</span> <span class="n">fail</span> <span class="n">to</span> <span class="k">match</span> <span class="bp">'</span><span class="n">bit1_zero'</span><span class="o">:</span>
<span class="mi">5</span>
<span class="bp">=?=</span>
<span class="n">bit1</span> <span class="mi">0</span>
<span class="c1">--------------</span>
<span class="mi">0</span><span class="bp">.</span> <span class="o">[</span><span class="n">simplify.rewrite_failure</span><span class="o">]</span> <span class="n">fail</span> <span class="n">to</span> <span class="k">match</span> <span class="bp">'</span><span class="n">bit1_zero'</span><span class="o">:</span>
<span class="mi">11</span>
<span class="bp">=?=</span>
<span class="n">bit1</span> <span class="mi">0</span>
<span class="c1">--------------</span>
<span class="mi">0</span><span class="bp">.</span> <span class="o">[</span><span class="n">simplify.rewrite_failure</span><span class="o">]</span> <span class="n">fail</span> <span class="n">to</span> <span class="k">match</span> <span class="bp">'</span><span class="n">bit0_zero'</span><span class="o">:</span>
<span class="mi">22</span>
<span class="bp">=?=</span>
<span class="n">bit0</span> <span class="mi">0</span>
<span class="c1">--------------</span>
<span class="mi">0</span><span class="bp">.</span> <span class="o">[</span><span class="n">simplify.rewrite_failure</span><span class="o">]</span> <span class="n">fail</span> <span class="n">to</span> <span class="k">match</span> <span class="bp">'</span><span class="n">bit1_zero'</span><span class="o">:</span>
<span class="mi">45</span>
<span class="bp">=?=</span>
<span class="n">bit1</span> <span class="mi">0</span>
<span class="c1">--------------</span>
<span class="mi">0</span><span class="bp">.</span> <span class="o">[</span><span class="n">simplify.rewrite_failure</span><span class="o">]</span> <span class="n">fail</span> <span class="n">to</span> <span class="k">match</span> <span class="bp">'</span><span class="n">bit1_zero'</span><span class="o">:</span>
<span class="mi">91</span>
<span class="bp">=?=</span>
<span class="n">bit1</span> <span class="mi">0</span>
<span class="c1">--------------</span>
<span class="mi">0</span><span class="bp">.</span> <span class="o">[</span><span class="n">simplify.rewrite_failure</span><span class="o">]</span> <span class="n">fail</span> <span class="n">to</span> <span class="k">match</span> <span class="bp">'</span><span class="n">bit0_zero'</span><span class="o">:</span>
<span class="mi">182</span>
<span class="bp">=?=</span>
<span class="n">bit0</span> <span class="mi">0</span>
<span class="c1">--------------</span>
<span class="mi">0</span><span class="bp">.</span> <span class="o">[</span><span class="n">simplify.rewrite_failure</span><span class="o">]</span> <span class="n">fail</span> <span class="n">to</span> <span class="k">match</span> <span class="bp">'</span><span class="n">bit1_zero'</span><span class="o">:</span>
<span class="mi">365</span>
<span class="bp">=?=</span>
<span class="n">bit1</span> <span class="mi">0</span>
<span class="c1">-----------</span>
</code></pre></div>
<p>(this was all the output with <code>try_for 100000</code>!)</p>
<p>If I add the lemmata, I start getting a standard-looking <code>simp</code> output: </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="mi">0</span><span class="bp">.</span> <span class="o">[</span><span class="n">simplify.rewrite</span><span class="o">]</span> <span class="o">[</span><span class="n">fintype.card_embedding_eq</span><span class="o">]:</span> <span class="bp">‖</span><span class="n">fin</span> <span class="mi">22</span> <span class="bp">↪</span> <span class="n">fin</span> <span class="mi">365</span><span class="bp">‖</span> <span class="bp">==&gt;</span> <span class="bp">‖</span><span class="n">fin</span> <span class="mi">365</span><span class="bp">‖.</span><span class="n">desc_fact</span> <span class="bp">‖</span><span class="n">fin</span> <span class="mi">22</span><span class="bp">‖</span>
<span class="mi">0</span><span class="bp">.</span> <span class="o">[</span><span class="n">simplify.rewrite_failure</span><span class="o">]</span> <span class="n">fail</span> <span class="n">to</span> <span class="k">match</span> <span class="bp">'</span><span class="n">fintype.card_embedding_eq'</span><span class="o">:</span>
<span class="bp">‖</span><span class="n">fin</span> <span class="mi">365</span><span class="bp">‖</span>
<span class="bp">=?=</span>
<span class="bp">‖?</span><span class="n">x_0</span> <span class="bp">↪</span> <span class="bp">?</span><span class="n">x_1</span><span class="bp">‖</span>
<span class="c1">--------------</span>
<span class="mi">0</span><span class="bp">.</span> <span class="o">[</span><span class="n">simplify.rewrite_failure</span><span class="o">]</span> <span class="n">fail</span> <span class="n">to</span> <span class="k">match</span> <span class="bp">'</span><span class="n">fintype.card_embedding_eq_of_infinite'</span><span class="o">:</span>
<span class="bp">‖</span><span class="n">fin</span> <span class="mi">365</span><span class="bp">‖</span>
<span class="bp">=?=</span>
<span class="bp">‖?</span><span class="n">x_0</span> <span class="bp">↪</span> <span class="bp">?</span><span class="n">x_1</span><span class="bp">‖</span>
<span class="c1">--------------</span>
<span class="mi">0</span><span class="bp">.</span> <span class="o">[</span><span class="n">simplify.rewrite_failure</span><span class="o">]</span> <span class="n">fail</span> <span class="n">to</span> <span class="k">match</span> <span class="bp">'</span><span class="n">card_vector'</span><span class="o">:</span>
<span class="bp">‖</span><span class="n">fin</span> <span class="mi">365</span><span class="bp">‖</span>
<span class="bp">=?=</span>
</code></pre></div>
<p>and so on, stretching all the way down to the bottom of the page. It seems <code>simp</code> gets stuck, maybe on some type-class inference?</p>



<a name="241765697"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60simp%60%20ignoring%20lemmas%3F/near/241765697" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60simp.60.20ignoring.20lemmas.3F.html#241765697">(Jun 07 2021 at 12:06)</a>:</h4>
<p>Aha! When I look at the type-classes, there seems to be some sort of <code>subsingleton</code> weirdness; details are <a href="https://gist.github.com/ericrbg/7a5f104273802a34f27ae4773ece6e1d">here</a> but it seems like there's something to do with  <code>subsingleton</code> ↔ <code>unique</code> ↔ <code>is_empty</code></p>



<a name="241766273"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60simp%60%20ignoring%20lemmas%3F/near/241766273" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60simp.60.20ignoring.20lemmas.3F.html#241766273">(Jun 07 2021 at 12:12)</a>:</h4>
<p>I tried <code>local attribute [-instance] unique.subsingleton pi.subsingleton is_empty.subsingleton</code> but that still doesn't help sadly :(</p>



<a name="241821089"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60simp%60%20ignoring%20lemmas%3F/near/241821089" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60simp.60.20ignoring.20lemmas.3F.html#241821089">(Jun 07 2021 at 18:35)</a>:</h4>
<p>The output of  the following code is 87k lines. <code>simp</code> does hundreds of rewrites, and since you don't use <code>simp only</code>, in every step it will consider dozens of other simp lemmas that don't apply. I think this is just asking too much of <code>simp</code>. Mentioning <code>fintype.card_embedding_eq</code> likely moved the time from just above deterministic timeout to just under it, because it tries lemmas in different orders.</p>
<p>The real solution is to squeeze the simp and use <code>simp only</code>.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">set_option</span> <span class="n">trace.simplify.rewrite</span> <span class="n">true</span>
<span class="kd">set_option</span> <span class="n">trace.simplify.rewrite_failure</span> <span class="n">true</span>
<span class="kd">set_option</span> <span class="n">trace.class_instances</span> <span class="n">true</span>
<span class="kd">theorem</span> <span class="n">birthday</span> <span class="o">:</span>
  <span class="mi">2</span> <span class="bp">*</span> <span class="bp">‖</span><span class="n">fin</span> <span class="mi">23</span> <span class="bp">↪</span> <span class="n">fin</span> <span class="mi">365</span><span class="bp">‖</span> <span class="bp">&lt;</span> <span class="bp">‖</span><span class="n">fin</span> <span class="mi">23</span> <span class="bp">→</span> <span class="n">fin</span> <span class="mi">365</span><span class="bp">‖</span> <span class="bp">∧</span> <span class="mi">2</span> <span class="bp">*</span> <span class="bp">‖</span><span class="n">fin</span> <span class="mi">22</span> <span class="bp">↪</span> <span class="n">fin</span> <span class="mi">365</span><span class="bp">‖</span> <span class="bp">&gt;</span> <span class="bp">‖</span><span class="n">fin</span> <span class="mi">22</span> <span class="bp">→</span> <span class="n">fin</span> <span class="mi">365</span><span class="bp">‖</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="o">{</span>  <span class="n">simp</span> <span class="o">[</span><span class="n">fintype.card_embedding_eq</span><span class="o">,</span> <span class="n">nat.desc_fact</span><span class="o">]</span> <span class="o">}</span> <span class="o">}</span>
</code></pre></div>



<a name="241822448"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60simp%60%20ignoring%20lemmas%3F/near/241822448" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60simp.60.20ignoring.20lemmas.3F.html#241822448">(Jun 07 2021 at 18:46)</a>:</h4>
<p>Investigating further, the culprit is definitely <code>fintype.card_embedding_eq_of_infinite</code> (<a href="https://leanprover-community.github.io/mathlib_docs/find/fintype.card_embedding_eq_infinite">docs#fintype.card_embedding_eq_infinite</a>). I don't know why, but <code>simp only [fintype.card_embedding_eq_of_infinite]</code> takes ages.</p>



<a name="241824115"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60simp%60%20ignoring%20lemmas%3F/near/241824115" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60simp.60.20ignoring.20lemmas.3F.html#241824115">(Jun 07 2021 at 19:00)</a>:</h4>
<p>Ok, the culprit is that when unifying with <a href="https://leanprover-community.github.io/mathlib_docs/find/fintype.card_embedding_eq_infinite">docs#fintype.card_embedding_eq_infinite</a>, the simplifier tries to unify the instance <a href="https://leanprover-community.github.io/mathlib_docs/find/function.embedding.fintype'">docs#function.embedding.fintype'</a> with the instance <a href="https://leanprover-community.github.io/mathlib_docs/find/function.embedding.fintype">docs#function.embedding.fintype</a>. The time this takes grows with <code>n</code> in <code>fin n</code>.<br>
The problem is also solved by writing <code>local attribute [irreducible] function.embedding.fintype' function.embedding.fintype</code>.</p>
<p>Can someone make these two instances irreducible globally?</p>



<a name="241830543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60simp%60%20ignoring%20lemmas%3F/near/241830543" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60simp.60.20ignoring.20lemmas.3F.html#241830543">(Jun 07 2021 at 19:47)</a>:</h4>
<p>What does it mean for a fintype instance to be irreducible? That <code>dec_trivial</code> can't iterate over the fintype?</p>



<a name="241832025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60simp%60%20ignoring%20lemmas%3F/near/241832025" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60simp.60.20ignoring.20lemmas.3F.html#241832025">(Jun 07 2021 at 19:59)</a>:</h4>
<p>I'm not exactly sure. We could have simp-lemmas that reduce <code>fintype.elems</code> to their correct definition.</p>



<a name="241847860"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60simp%60%20ignoring%20lemmas%3F/near/241847860" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60simp.60.20ignoring.20lemmas.3F.html#241847860">(Jun 07 2021 at 22:07)</a>:</h4>
<p>(deleted)</p>



<a name="241848382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60simp%60%20ignoring%20lemmas%3F/near/241848382" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60simp.60.20ignoring.20lemmas.3F.html#241848382">(Jun 07 2021 at 22:13)</a>:</h4>
<p>I think this is the fact it can introspect in the elements, which is definitely insanely intensive</p>



<a name="241848417"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60simp%60%20ignoring%20lemmas%3F/near/241848417" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60simp.60.20ignoring.20lemmas.3F.html#241848417">(Jun 07 2021 at 22:13)</a>:</h4>
<p>Like without my code, I can actually <code>#reduce fintype (fin 5 ↪ fin 3)</code> or something small</p>



<a name="241848436"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60simp%60%20ignoring%20lemmas%3F/near/241848436" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60simp.60.20ignoring.20lemmas.3F.html#241848436">(Jun 07 2021 at 22:13)</a>:</h4>
<p>but it's possibly one of the slowest things ever</p>



<a name="241848446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60simp%60%20ignoring%20lemmas%3F/near/241848446" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60simp.60.20ignoring.20lemmas.3F.html#241848446">(Jun 07 2021 at 22:13)</a>:</h4>
<p>so it's trying to look at elems and see if they're equal</p>



<a name="241848608"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60simp%60%20ignoring%20lemmas%3F/near/241848608" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60simp.60.20ignoring.20lemmas.3F.html#241848608">(Jun 07 2021 at 22:15)</a>:</h4>
<p>Wow! Thanks for digging in! I think we'll go for the <code>simp only</code> solution for now. I'm not really akin of the irreducibility issues.</p>



<a name="241848711"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60simp%60%20ignoring%20lemmas%3F/near/241848711" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60simp.60.20ignoring.20lemmas.3F.html#241848711">(Jun 07 2021 at 22:16)</a>:</h4>
<p>I already pushed <code>irreducible</code> to see how it goes Yaël :) I locally got rid of <code>irreducible</code> in <code>card_embedding</code>, otherwise it should (fingers crossed) compile</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>