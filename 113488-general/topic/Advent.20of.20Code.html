---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Advent.20of.20Code.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html">Advent of Code</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="150682850"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/150682850" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#150682850">(Dec 01 2018 at 13:00)</a>:</h4>
<p><a href="http://adventofcode.com" target="_blank" title="http://adventofcode.com">adventofcode.com</a> in Lean?</p>



<a name="150683859"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/150683859" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#150683859">(Dec 01 2018 at 13:34)</a>:</h4>
<p>Does anyone know how to use Lean to read a file from disk, and get a <code>list int</code> if each line looks like an integer?</p>



<a name="150683922"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/150683922" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#150683922">(Dec 01 2018 at 13:36)</a>:</h4>
<p>I just pasted into lean file! But that's a better idea!</p>



<a name="150683931"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/150683931" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#150683931">(Dec 01 2018 at 13:37)</a>:</h4>
<p>I thought about pasting, but I guess that's not a reasonable strategy if you want to do all 50 puzzles</p>



<a name="150683932"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/150683932" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#150683932">(Dec 01 2018 at 13:37)</a>:</h4>
<p>And someone needs to write a IO monad howto anyway</p>



<a name="150684498"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/150684498" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#150684498">(Dec 01 2018 at 13:56)</a>:</h4>
<p>I completed it but I used <code>meta</code>. I feel dirty.</p>



<a name="150684511"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/150684511" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#150684511">(Dec 01 2018 at 13:57)</a>:</h4>
<p>Did you use IO?</p>



<a name="150684515"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/150684515" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#150684515">(Dec 01 2018 at 13:57)</a>:</h4>
<p>nope</p>



<a name="150684561"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/150684561" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#150684561">(Dec 01 2018 at 13:58)</a>:</h4>
<p>Would you know how to read from a file?</p>



<a name="150684565"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/150684565" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#150684565">(Dec 01 2018 at 13:58)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">system</span><span class="bp">.</span><span class="n">io</span> <span class="n">data</span><span class="bp">.</span><span class="n">buffer</span><span class="bp">.</span><span class="n">parser</span> <span class="n">data</span><span class="bp">.</span><span class="n">int</span><span class="bp">.</span><span class="n">basic</span>
<span class="kn">open</span> <span class="n">tactic</span> <span class="n">parser</span>

<span class="n">def</span> <span class="n">number</span> <span class="o">:</span> <span class="n">parser</span> <span class="bp">ℕ</span> <span class="o">:=</span>
<span class="n">string</span><span class="bp">.</span><span class="n">to_nat</span> <span class="bp">&lt;</span><span class="err">$</span><span class="bp">&gt;</span> <span class="n">many_char1</span> <span class="o">(</span><span class="n">sat</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">c</span><span class="o">,</span>
  <span class="err">&#39;</span><span class="mi">0</span><span class="err">&#39;</span><span class="bp">.</span><span class="n">to_nat</span> <span class="bp">≤</span> <span class="n">c</span><span class="bp">.</span><span class="n">to_nat</span> <span class="bp">∧</span> <span class="n">c</span><span class="bp">.</span><span class="n">to_nat</span> <span class="bp">≤</span> <span class="err">&#39;</span><span class="mi">9</span><span class="err">&#39;</span><span class="bp">.</span><span class="n">to_nat</span><span class="o">)</span>

<span class="n">def</span> <span class="n">signed_number</span> <span class="o">:</span> <span class="n">parser</span> <span class="bp">ℤ</span> <span class="o">:=</span>
<span class="n">ch</span> <span class="err">&#39;</span><span class="bp">+</span><span class="err">&#39;</span> <span class="bp">&gt;&gt;</span> <span class="o">(</span><span class="n">int</span><span class="bp">.</span><span class="n">of_nat</span> <span class="bp">&lt;</span><span class="err">$</span><span class="bp">&gt;</span> <span class="n">number</span><span class="o">)</span> <span class="bp">&lt;|&gt;</span>
<span class="n">ch</span> <span class="err">&#39;</span><span class="bp">-</span><span class="err">&#39;</span> <span class="bp">&gt;&gt;</span> <span class="o">((</span><span class="bp">λ</span> <span class="n">x</span><span class="o">:</span><span class="bp">ℕ</span><span class="o">,</span> <span class="bp">-</span><span class="n">x</span><span class="o">)</span> <span class="bp">&lt;</span><span class="err">$</span><span class="bp">&gt;</span> <span class="n">number</span><span class="o">)</span>

<span class="n">run_cmd</span> <span class="n">do</span>
  <span class="n">s</span> <span class="err">←</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">unsafe_run_io</span> <span class="err">$</span> <span class="n">io</span><span class="bp">.</span><span class="n">fs</span><span class="bp">.</span><span class="n">read_file</span> <span class="s2">&quot;dat.txt&quot;</span><span class="o">,</span>
  <span class="n">sum</span><span class="bp">.</span><span class="n">inr</span> <span class="n">l</span> <span class="err">←</span> <span class="n">return</span> <span class="err">$</span> <span class="n">run</span> <span class="o">(</span><span class="n">many</span> <span class="o">(</span><span class="n">signed_number</span> <span class="bp">&lt;*</span> <span class="n">ch</span> <span class="err">&#39;\</span><span class="n">n&#39;</span><span class="o">))</span> <span class="n">s</span><span class="o">,</span>
  <span class="n">trace</span> <span class="n">l</span>
</pre></div>


<div class="codehilite"><pre><span></span>[13,
 -(2+1),
 -(7+1),
 14,
 16,
 -(6+1),
 3,
 -(6+1),
 9,
 -(9+1),
 16,
...
</pre></div>



<a name="150684582"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/150684582" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#150684582">(Dec 01 2018 at 13:59)</a>:</h4>
<p>maybe <span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span> knows the correct way to call IO from <code>run_cmd</code>, but <code>unsafe_run_io</code> works in a pinch</p>



<a name="150684636"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/150684636" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#150684636">(Dec 01 2018 at 14:00)</a>:</h4>
<p>I think you can use <code>#eval</code></p>



<a name="150684702"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/150684702" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#150684702">(Dec 01 2018 at 14:03)</a>:</h4>
<p>oh, I should have used <code>to_string</code>, the output is much nicer</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">system</span><span class="bp">.</span><span class="n">io</span> <span class="n">data</span><span class="bp">.</span><span class="n">buffer</span><span class="bp">.</span><span class="n">parser</span>
<span class="kn">open</span> <span class="n">parser</span>

<span class="n">def</span> <span class="n">number</span> <span class="o">:</span> <span class="n">parser</span> <span class="bp">ℕ</span> <span class="o">:=</span>
<span class="n">string</span><span class="bp">.</span><span class="n">to_nat</span> <span class="bp">&lt;</span><span class="err">$</span><span class="bp">&gt;</span> <span class="n">many_char1</span> <span class="o">(</span><span class="n">sat</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">c</span><span class="o">,</span>
  <span class="err">&#39;</span><span class="mi">0</span><span class="err">&#39;</span><span class="bp">.</span><span class="n">to_nat</span> <span class="bp">≤</span> <span class="n">c</span><span class="bp">.</span><span class="n">to_nat</span> <span class="bp">∧</span> <span class="n">c</span><span class="bp">.</span><span class="n">to_nat</span> <span class="bp">≤</span> <span class="err">&#39;</span><span class="mi">9</span><span class="err">&#39;</span><span class="bp">.</span><span class="n">to_nat</span><span class="o">)</span>

<span class="n">def</span> <span class="n">signed_number</span> <span class="o">:</span> <span class="n">parser</span> <span class="bp">ℤ</span> <span class="o">:=</span>
<span class="n">ch</span> <span class="err">&#39;</span><span class="bp">+</span><span class="err">&#39;</span> <span class="bp">&gt;&gt;</span> <span class="o">(</span><span class="n">int</span><span class="bp">.</span><span class="n">of_nat</span> <span class="bp">&lt;</span><span class="err">$</span><span class="bp">&gt;</span> <span class="n">number</span><span class="o">)</span> <span class="bp">&lt;|&gt;</span>
<span class="n">ch</span> <span class="err">&#39;</span><span class="bp">-</span><span class="err">&#39;</span> <span class="bp">&gt;&gt;</span> <span class="o">((</span><span class="bp">λ</span> <span class="n">x</span><span class="o">:</span><span class="bp">ℕ</span><span class="o">,</span> <span class="bp">-</span><span class="n">x</span><span class="o">)</span> <span class="bp">&lt;</span><span class="err">$</span><span class="bp">&gt;</span> <span class="n">number</span><span class="o">)</span>

<span class="bp">#</span><span class="kn">eval</span> <span class="n">do</span>
  <span class="n">s</span> <span class="err">←</span> <span class="n">io</span><span class="bp">.</span><span class="n">fs</span><span class="bp">.</span><span class="n">read_file</span> <span class="s2">&quot;dat.txt&quot;</span><span class="o">,</span>
  <span class="n">sum</span><span class="bp">.</span><span class="n">inr</span> <span class="n">l</span> <span class="err">←</span> <span class="n">return</span> <span class="err">$</span> <span class="n">run</span> <span class="o">(</span><span class="n">many</span> <span class="o">(</span><span class="n">signed_number</span> <span class="bp">&lt;*</span> <span class="n">ch</span> <span class="err">&#39;\</span><span class="n">n&#39;</span><span class="o">))</span> <span class="n">s</span><span class="o">,</span>
  <span class="n">trace</span> <span class="o">(</span><span class="n">to_string</span> <span class="n">l</span><span class="o">)</span> <span class="o">(</span><span class="n">return</span> <span class="o">())</span>
</pre></div>


<div class="codehilite"><pre><span></span>[13, -3, -8, 14, 16, -7, 3, -7, 9, -10, 16, 13, 12, 12, 4, 19, -2, -5, -15, -2, -13, -11, -13, -2, ...
</pre></div>



<a name="150684754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/150684754" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#150684754">(Dec 01 2018 at 14:05)</a>:</h4>
<p>For some reason the output or return value of the io is ignored, so I had to to a hack with <code>trace</code> to get it to print</p>



<a name="150684902"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/150684902" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#150684902">(Dec 01 2018 at 14:10)</a>:</h4>
<p>Thanks Mario! It allowed to complete Day 1, adding only 15 characters to your code :)</p>



<a name="150684972"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/150684972" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#150684972">(Dec 01 2018 at 14:12)</a>:</h4>
<p>Did you do the second part?</p>



<a name="150685393"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/150685393" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#150685393">(Dec 01 2018 at 14:27)</a>:</h4>
<p>here's how I did the first part in lean:</p>
<div class="codehilite"><pre><span></span><span class="bp">#</span><span class="kn">eval</span> <span class="mi">0</span>
<span class="bp">+</span><span class="mi">13</span>
<span class="bp">-</span><span class="mi">3</span>
<span class="bp">-</span><span class="mi">8</span>
<span class="bp">+</span><span class="mi">14</span>
<span class="bp">+</span><span class="mi">16</span>
</pre></div>



<a name="150686187"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/150686187" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#150686187">(Dec 01 2018 at 14:52)</a>:</h4>
<p>No, I decided I should stop distractions for a while. And also the question looked masochistic to do in functional rather than imperative language</p>



<a name="150686195"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/150686195" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#150686195">(Dec 01 2018 at 14:53)</a>:</h4>
<p>Mario, was that all your input?</p>



<a name="150687782"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/150687782" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#150687782">(Dec 01 2018 at 15:49)</a>:</h4>
<p>I had to use <code>#eval (0 : int)</code> since the first line of the input was negative.</p>



<a name="150703402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/150703402" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#150703402">(Dec 02 2018 at 00:54)</a>:</h4>
<p>I solved it too. But my solution took 40 seconds to run</p>



<a name="150703410"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/150703410" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#150703410">(Dec 02 2018 at 00:55)</a>:</h4>
<p>The first part, I mean</p>



<a name="150703754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/150703754" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#150703754">(Dec 02 2018 at 01:06)</a>:</h4>
<p>Doing the second part in non-meta Lean seems pretty interesting</p>



<a name="150715253"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/150715253" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#150715253">(Dec 02 2018 at 08:17)</a>:</h4>
<p>I think this is a good test case for the conventional programming capabilities of lean. Here's my solution for day 2 pt 1:</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">system</span><span class="bp">.</span><span class="n">io</span> <span class="n">data</span><span class="bp">.</span><span class="n">buffer</span><span class="bp">.</span><span class="n">parser</span> <span class="n">meta</span><span class="bp">.</span><span class="n">rb_map</span> <span class="n">data</span><span class="bp">.</span><span class="n">list</span><span class="bp">.</span><span class="n">basic</span>
<span class="kn">open</span> <span class="n">parser</span>

<span class="n">def</span> <span class="n">letter</span> <span class="o">:</span> <span class="n">parser</span> <span class="n">char</span> <span class="o">:=</span>
<span class="n">sat</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">c</span><span class="o">,</span> <span class="err">&#39;</span><span class="n">a&#39;</span><span class="bp">.</span><span class="n">to_nat</span> <span class="bp">≤</span> <span class="n">c</span><span class="bp">.</span><span class="n">to_nat</span> <span class="bp">∧</span> <span class="n">c</span><span class="bp">.</span><span class="n">to_nat</span> <span class="bp">≤</span> <span class="err">&#39;</span><span class="n">z&#39;</span><span class="bp">.</span><span class="n">to_nat</span><span class="o">)</span>

<span class="n">def</span> <span class="n">count1</span> <span class="o">{</span><span class="n">α</span> <span class="n">lt</span><span class="o">}</span> <span class="o">[</span><span class="n">decidable_rel</span> <span class="n">lt</span><span class="o">]</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">rbmap</span> <span class="n">α</span> <span class="bp">ℕ</span> <span class="n">lt</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">rbmap</span> <span class="n">α</span> <span class="bp">ℕ</span> <span class="n">lt</span> <span class="o">:=</span>
<span class="n">c</span><span class="bp">.</span><span class="n">insert</span> <span class="n">a</span> <span class="err">$</span> <span class="k">match</span> <span class="n">c</span><span class="bp">.</span><span class="n">find</span> <span class="n">a</span> <span class="k">with</span>
<span class="bp">|</span> <span class="o">(</span><span class="n">some</span> <span class="n">n</span><span class="o">)</span> <span class="o">:=</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span>
<span class="bp">|</span> <span class="n">none</span> <span class="o">:=</span> <span class="mi">1</span>
<span class="kn">end</span>

<span class="n">def</span> <span class="n">get_counts</span> <span class="o">(</span><span class="n">l</span> <span class="o">:</span> <span class="n">list</span> <span class="n">char</span><span class="o">)</span> <span class="o">:</span> <span class="n">bool</span> <span class="bp">×</span> <span class="n">bool</span> <span class="o">:=</span>
<span class="k">let</span> <span class="n">m</span> <span class="o">:=</span> <span class="n">list</span><span class="bp">.</span><span class="n">foldl</span> <span class="n">count1</span> <span class="o">(</span><span class="n">mk_rbmap</span> <span class="n">char</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="n">l</span> <span class="k">in</span>
<span class="n">m</span><span class="bp">.</span><span class="n">fold</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">c</span> <span class="n">n</span> <span class="bp">⟨</span><span class="n">r₁</span><span class="o">,</span> <span class="n">r₂</span><span class="bp">⟩</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">r₁</span> <span class="bp">∨</span> <span class="n">n</span> <span class="bp">=</span> <span class="mi">2</span><span class="o">,</span> <span class="n">r₂</span> <span class="bp">∨</span> <span class="n">n</span> <span class="bp">=</span> <span class="mi">3</span><span class="bp">⟩</span><span class="o">)</span> <span class="o">(</span><span class="n">ff</span><span class="o">,</span> <span class="n">ff</span><span class="o">)</span>

<span class="bp">#</span><span class="kn">eval</span> <span class="n">do</span>
  <span class="n">s</span> <span class="err">←</span> <span class="n">io</span><span class="bp">.</span><span class="n">fs</span><span class="bp">.</span><span class="n">read_file</span> <span class="s2">&quot;dat.txt&quot;</span><span class="o">,</span>
  <span class="n">sum</span><span class="bp">.</span><span class="n">inr</span> <span class="n">ls</span> <span class="err">←</span> <span class="n">return</span> <span class="err">$</span> <span class="n">run</span> <span class="o">(</span><span class="n">many</span> <span class="o">(</span><span class="n">many</span> <span class="n">letter</span> <span class="bp">&lt;*</span> <span class="n">ch</span> <span class="err">&#39;\</span><span class="n">n&#39;</span><span class="o">))</span> <span class="n">s</span><span class="o">,</span>
  <span class="k">let</span> <span class="o">(</span><span class="n">l₁</span><span class="o">,</span> <span class="n">l₂</span><span class="o">)</span> <span class="o">:=</span> <span class="o">(</span><span class="n">ls</span><span class="bp">.</span><span class="n">map</span> <span class="n">get_counts</span><span class="o">)</span><span class="bp">.</span><span class="n">unzip</span><span class="o">,</span>
  <span class="n">trace</span> <span class="o">(</span><span class="n">to_string</span> <span class="o">(</span><span class="n">l₁</span><span class="bp">.</span><span class="n">count</span> <span class="n">tt</span> <span class="bp">*</span> <span class="n">l₂</span><span class="bp">.</span><span class="n">count</span> <span class="n">tt</span><span class="o">))</span> <span class="o">(</span><span class="n">return</span> <span class="o">())</span>
</pre></div>



<a name="150715398"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/150715398" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#150715398">(Dec 02 2018 at 08:23)</a>:</h4>
<p><span class="user-mention" data-user-id="110032">@Reid Barton</span>  As for doing the day 1 pt 2 in non-meta lean, it was obviously intended to have a solution with unbounded iteration, and it is possible to have such a program never halt on some inputs. With some significant additional work you can actually decide whether an input will halt (by looking at whether the numbers are all distinct mod the period), and so you could get a fully correct non-meta lean solution that way (which is even better than the naive algorithm because it will tell you when the infinite stream has no duplicates).</p>
<p>But if you just want the easy solution, the simplest approach is just to have a depth limiter, and increase it until you get the answer.</p>



<a name="150794896"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/150794896" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#150794896">(Dec 03 2018 at 19:45)</a>:</h4>
<p>To avoid spamming the chat I won't report daily, but I think I will take up this challenge. Follow along at <a href="https://github.com/digama0/advent-of-code" target="_blank" title="https://github.com/digama0/advent-of-code">https://github.com/digama0/advent-of-code</a> (spoiler alert)</p>



<a name="150837825"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/150837825" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#150837825">(Dec 04 2018 at 10:45)</a>:</h4>
<p>On part day 1 part 2, I believe you can show that the search terminates if two elements of your list are equal mod (answer to part 1). So I started coding up a non-meta algorithm but then I realized it would sap away my entire Saturday so I stopped.</p>



<a name="150837987"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/150837987" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#150837987">(Dec 04 2018 at 10:48)</a>:</h4>
<p>Did you see my solution?</p>



<a name="150837992"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/150837992" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#150837992">(Dec 04 2018 at 10:48)</a>:</h4>
<p>I did that algorithm</p>



<a name="150838001"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/150838001" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#150838001">(Dec 04 2018 at 10:48)</a>:</h4>
<p>and it did sap a good chunk of my day ;)</p>



<a name="150838140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/150838140" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#150838140">(Dec 04 2018 at 10:51)</a>:</h4>
<p>you can actually do a bit better than producing a proof of well foundedness to run the search... when two values have the same mod the period, you find the least difference of divs, and that's where the search will terminate (so you can do the whole thing without actually running those passes)</p>



<a name="150838882"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/150838882" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#150838882">(Dec 04 2018 at 11:03)</a>:</h4>
<p>Yeah that's how I was going to do it.</p>



<a name="150839362"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/150839362" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#150839362">(Dec 04 2018 at 11:10)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> thanks for sharing your solutions. There are still lots of language/mathlib features I am neglecting! Eg <code>withtop</code></p>



<a name="150841457"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/150841457" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#150841457">(Dec 04 2018 at 11:52)</a>:</h4>
<p>Also <span class="user-mention" data-user-id="110049">@Mario Carneiro</span>  in the parsers for numbers and letters you can use <code>sat $ char.is_lower</code> and <code>char.is_digit</code> instead of manually checking the char.</p>



<a name="150841473"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/150841473" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#150841473">(Dec 04 2018 at 11:53)</a>:</h4>
<p>oh, lovely</p>



<a name="150841529"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/150841529" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#150841529">(Dec 04 2018 at 11:54)</a>:</h4>
<p>I'm hoping that the conventional programming capabilities of lean will be boosted by these attempts</p>



<a name="218499844"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/218499844" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#218499844">(Dec 02 2020 at 00:07)</a>:</h4>
<p>Since Lean 4 is supposedly a programming language I thought I'd try it out:<br>
<a href="https://github.com/rwbarton/advent-of-lean-4">https://github.com/rwbarton/advent-of-lean-4</a></p>



<a name="218500201"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/218500201" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#218500201">(Dec 02 2020 at 00:13)</a>:</h4>
<p>I think it took me about 2 hours to figure out why networking wasn't working in the VM I set up to install Lean 4, 30 minutes to figure out how to read a file, 10 minutes to solve part 1 and 2 minutes to solve part 2 <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



<a name="218500380"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/218500380" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#218500380">(Dec 02 2020 at 00:16)</a>:</h4>
<p>How fast does it run?</p>



<a name="218500496"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/218500496" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#218500496">(Dec 02 2020 at 00:17)</a>:</h4>
<p>the ~200^3 algorithm takes about half a second just with <code>lean --run</code></p>



<a name="218500503"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/218500503" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#218500503">(Dec 02 2020 at 00:17)</a>:</h4>
<p>I don't know how to compile it, I should try to figure that out</p>



<a name="218500998"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/218500998" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#218500998">(Dec 02 2020 at 00:25)</a>:</h4>
<p><a href="https://github.com/leanprover/lean4/tree/master/doc/examples/compiler">https://github.com/leanprover/lean4/tree/master/doc/examples/compiler</a></p>



<a name="218501228"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/218501228" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#218501228">(Dec 02 2020 at 00:28)</a>:</h4>
<p>and I had <em>just</em> figured out the proper incantation</p>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>g++ -I ~/lean4/build/release/stage1/include -O -o b b.c -L ~/lean4/build/release/stage1/lib/lean/ -lInit -lleancpp -lLean -lStd -lpthread -lm -lstdc++ -lgmp
</code></pre></div>



<a name="218501334"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/218501334" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#218501334">(Dec 02 2020 at 00:30)</a>:</h4>
<p>well it's a lot faster now</p>



<a name="218501391"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/218501391" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#218501391">(Dec 02 2020 at 00:30)</a>:</h4>
<p>not sure how accurate these VM timings are but it takes around 0.01 second, will be more interesting for a different program</p>



<a name="218501553"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/218501553" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#218501553">(Dec 02 2020 at 00:32)</a>:</h4>
<p>slightly prettier WIP docs than using the github interface: <a href="https://kha.github.io/lean4/doc">https://kha.github.io/lean4/doc</a></p>



<a name="218501769"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/218501769" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#218501769">(Dec 02 2020 at 00:35)</a>:</h4>
<p>I got <code>leanmake</code> working, thanks.</p>



<a name="218501875"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/218501875" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#218501875">(Dec 02 2020 at 00:37)</a>:</h4>
<p>There's no jump to definition or autocompletion in the emacs mode right?</p>



<a name="218501912"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/218501912" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#218501912">(Dec 02 2020 at 00:38)</a>:</h4>
<p>nope. it's as barebones as it gets. the lsp server also doesn't have those features yet.</p>



<a name="218504163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/218504163" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#218504163">(Dec 02 2020 at 01:10)</a>:</h4>
<p>Well, at least that means I can stick to my trusty <img alt=":emacs:" class="emoji" src="https://zulip-avatars.s3.amazonaws.com/3121/emoji/images/17846.png" title="emacs"> for now</p>



<a name="218504432"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/218504432" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#218504432">(Dec 02 2020 at 01:15)</a>:</h4>
<p>i think last we checked the lsp server still worked with emacs' lsp-mode :)</p>



<a name="218525529"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/218525529" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#218525529">(Dec 02 2020 at 08:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="221921">Marc Huisinga</span> <a href="#narrow/stream/113488-general/topic/Advent.20of.20Code/near/218501553">said</a>:</p>
<blockquote>
<p>slightly prettier WIP docs than using the github interface: <a href="https://kha.github.io/lean4/doc">https://kha.github.io/lean4/doc</a></p>
</blockquote>
<p>Official, more up-to-date ones at <a href="https://leanprover.github.io/lean4/doc/">https://leanprover.github.io/lean4/doc/</a> :)</p>



<a name="218685675"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/218685675" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexandre Rademaker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#218685675">(Dec 03 2020 at 12:21)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="110049">@Mario Carneiro</span> , any particular reason for using the 2018 problems in your repo?</p>



<a name="218685692"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/218685692" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#218685692">(Dec 03 2020 at 12:21)</a>:</h4>
<p>Because I did them in 2018?</p>



<a name="218685830"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/218685830" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#218685830">(Dec 03 2020 at 12:23)</a>:</h4>
<p>Reid's playing the game this year, not me</p>



<a name="218685931"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/218685931" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexandre Rademaker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#218685931">(Dec 03 2020 at 12:24)</a>:</h4>
<p>Hahaha! Sorry ! I though you had started that after <span class="user-mention" data-user-id="121918">@Edward Ayers</span> started this thread!</p>



<a name="218686177"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/218686177" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#218686177">(Dec 03 2020 at 12:26)</a>:</h4>
<p>That also happened in 2018</p>



<a name="218686246"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/218686246" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexandre Rademaker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#218686246">(Dec 03 2020 at 12:27)</a>:</h4>
<p>Wow! I am crazy ! I didn’t pay attention to the dates! Ops!</p>



<a name="218964370"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/218964370" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#218964370">(Dec 06 2020 at 02:14)</a>:</h4>
<p><span class="user-mention" data-user-id="110032">@Reid Barton</span> How is this going so far?</p>



<a name="218964670"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/218964670" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#218964670">(Dec 06 2020 at 02:25)</a>:</h4>
<p>Pretty well overall. I'd say it's probably already easier than it would be in Lean 3 aside from the editor mode not being finished yet.</p>



<a name="218964675"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/218964675" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#218964675">(Dec 06 2020 at 02:25)</a>:</h4>
<p>Basically I pretend I'm writing Haskell except 20% of the time the library function I expect isn't there and I write it myself</p>



<a name="218964732"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/218964732" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#218964732">(Dec 06 2020 at 02:28)</a>:</h4>
<p>One problem involved some tricky parsing that was suitable for a parser combinator library which doesn't fully exist, but there's an implementation of a JSON parser which covered enough of what I needed to get the job done</p>



<a name="218964774"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/218964774" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#218964774">(Dec 06 2020 at 02:28)</a>:</h4>
<p>which also involved the first time I wrote a <a href="https://github.com/rwbarton/advent-of-lean-4/blob/main/4/b.lean#L46">destructive update</a> inside a monadic parser</p>



<a name="218964778"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/218964778" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#218964778">(Dec 06 2020 at 02:28)</a>:</h4>
<p>I don't really know what it means but I assume the Lean 4 developers figured that out</p>



<a name="218980823"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/218980823" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#218980823">(Dec 06 2020 at 10:45)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110032">Reid Barton</span> <a href="#narrow/stream/113488-general/topic/Advent.20of.20Code/near/218964774">said</a>:</p>
<blockquote>
<p>which also involved the first time I wrote a <a href="https://github.com/rwbarton/advent-of-lean-4/blob/main/4/b.lean#L46">destructive update</a> inside a monadic parser</p>
<p>I don't really know what it means but I assume the Lean 4 developers figured that out</p>
</blockquote>
<p>if you're holding the only reference to a value, a function that discards that reference just to create some new one can reuse the memory of the value that you're discarding the last reference of.<br>
this commonly comes up in "updates", i.e. you take some structure, change one of its fields and then return the new structure.<br>
imperative programming languages would avoid the allocation through mutation, while functional languages can avoid the allocation through destructive updates.</p>



<a name="218981646"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/218981646" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#218981646">(Dec 06 2020 at 11:06)</a>:</h4>
<p>What do mutable variables in a monad desugar to? It can't just be shadowing if you can modify the variable in a loop, right? Some kind of state monad transformer?</p>



<a name="218983397"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/218983397" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#218983397">(Dec 06 2020 at 11:53)</a>:</h4>
<p>it uses <code>ForInStep</code> (<a href="https://github.com/leanprover/lean4/blob/master/src/Init/Core.lean#L74">Core.lean#L74</a>, example usage: <a href="https://github.com/leanprover/lean4/blob/master/src/Init/Data/Array/Basic.lean#L129">Basic.lean#L129</a>).<br>
in the above example, <code>f</code> is effectively the body of the for-loop and accumulates a value of type <code>β</code>.<br>
according to <a href="https://github.com/leanprover/lean4/blob/master/src/Lean/Elab/Do.lean#L726">Do.lean#L726</a>, <code>β</code> typically denotes the set of variables that are being reassigned.<br>
so i guess it compiles to something similar to a fold that is also capable of more complex control flow?<br>
and then reassignments seem to be just shadowing: <a href="https://github.com/leanprover/lean4/blob/master/src/Lean/Elab/Do.lean#L941">Do.lean#L941</a></p>



<a name="218984452"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/218984452" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#218984452">(Dec 06 2020 at 12:21)</a>:</h4>
<p>Thanks, that makes sense.<br>
Now I remember hearing about a mythical Haskell-like language developed by Lennart Augustsson which had things like for loops and while loops...</p>



<a name="219201527"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/219201527" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#219201527">(Dec 08 2020 at 12:40)</a>:</h4>
<p>On that note, I guess there are no <code>while</code> loops, even with <code>partial</code>?</p>



<a name="219201754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/219201754" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#219201754">(Dec 08 2020 at 12:43)</a>:</h4>
<p>no, there aren't. i think i wanted to ask <span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span> about that at some point :)<br>
core uses <code>let rec</code> usually.</p>



<a name="219202323"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/219202323" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#219202323">(Dec 08 2020 at 12:50)</a>:</h4>
<p>It's been fun writing "imperative" pure code... until I wrote <code>seen.set! i true</code> and didn't notice for a while that I meant <code>seen := seen.set! i true</code> <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



<a name="219202388"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/219202388" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#219202388">(Dec 08 2020 at 12:51)</a>:</h4>
<p>Is there some pure trace facility like <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Debug-Trace.html#v:trace">https://hackage.haskell.org/package/base-4.14.0.0/docs/Debug-Trace.html#v:trace</a>?</p>



<a name="219202587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/219202587" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#219202587">(Dec 08 2020 at 12:53)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110032">Reid Barton</span> <a href="#narrow/stream/113488-general/topic/Advent.20of.20Code/near/219202323">said</a>:</p>
<blockquote>
<p>It's been fun writing "imperative" pure code... until I wrote <code>seen.set! i true</code> and didn't notice for a while that I meant <code>seen := seen.set! i true</code> <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>
</blockquote>
<p>i think so far every time i've made that mistake the type checker corrected me. did that occur in a function that also happened to have the same return type as <code>seen</code>?</p>



<a name="219202669"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/219202669" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#219202669">(Dec 08 2020 at 12:54)</a>:</h4>
<p>It was here <a href="https://github.com/rwbarton/advent-of-lean-4/blob/main/8/a.lean#L17">https://github.com/rwbarton/advent-of-lean-4/blob/main/8/a.lean#L17</a></p>



<a name="219203089"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/219203089" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#219203089">(Dec 08 2020 at 12:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110032">Reid Barton</span> <a href="#narrow/stream/113488-general/topic/Advent.20of.20Code/near/219202388">said</a>:</p>
<blockquote>
<p>Is there some pure trace facility like <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Debug-Trace.html#v:trace">https://hackage.haskell.org/package/base-4.14.0.0/docs/Debug-Trace.html#v:trace</a>?</p>
</blockquote>
<p>there's <a href="https://github.com/leanprover/lean4/blob/master/src/Init/Util.lean#L15">https://github.com/leanprover/lean4/blob/master/src/Init/Util.lean#L15</a> and <a href="https://github.com/leanprover/lean4/blob/master/src/Lean/Util/Trace.lean">https://github.com/leanprover/lean4/blob/master/src/Lean/Util/Trace.lean</a></p>



<a name="219203733"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/219203733" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#219203733">(Dec 08 2020 at 13:04)</a>:</h4>
<p>i think the latter may actually not be relevant at all here, sorry!</p>



<a name="219212180"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/219212180" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#219212180">(Dec 08 2020 at 14:27)</a>:</h4>
<p>The former looks good though, I'll probably try it out tomorrow.</p>



<a name="219558505"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/219558505" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#219558505">(Dec 11 2020 at 02:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110032">Reid Barton</span> <a href="#narrow/stream/113488-general/topic/Advent.20of.20Code/near/219201527">said</a>:</p>
<blockquote>
<p>On that note, I guess there are no <code>while</code> loops, even with <code>partial</code>?</p>
</blockquote>
<p>It seems pretty easy to make <a href="https://gist.github.com/jasonrute/bb62203cb7debba0122ef69740ac078d">infinite iterators</a> which are functionally the same as while loops but not quite as pretty.  (I modified the code for <code>Range.forIn</code>.)</p>



<a name="310494206"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/310494206" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Omri Schwarz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#310494206">(Nov 16 2022 at 20:20)</a>:</h4>
<p>Hi, all. This year once again I am going to attempt to get through AoC in Lean. I lasted 5 days last year and my kids will probably make this year about as successful, but I'm going through the Functional Programming With Lean online book to be a little better prepared this time around. Anyone else tryin git?</p>



<a name="310695844"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/310695844" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#310695844">(Nov 17 2022 at 20:42)</a>:</h4>
<p>oh, sweet. For anyone trying it: make sure to take notes on anything missing from <code>Std</code></p>



<a name="310695915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/310695915" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#310695915">(Nov 17 2022 at 20:43)</a>:</h4>
<p>AoC is a great source of reasonable programming tasks that can help boost our coverage</p>



<a name="312361949"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/312361949" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ryan McCorvie <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#312361949">(Nov 26 2022 at 15:23)</a>:</h4>
<p>I am interested in trying to sharpen my skills with the Advent of Code.  </p>
<ul>
<li>Should we set up a stream to discuss problems?  </li>
<li>Should we set up a private leaderboard on the AoC website?</li>
</ul>
<p>I feel there are some problems which are very natural for Lean, and some which are harder.</p>



<a name="312362225"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/312362225" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#312362225">(Nov 26 2022 at 15:25)</a>:</h4>
<p>Why not just start a thread in #lean4 for maximal visibility and if it takes off and you need different threads for different questions you can move to a stream</p>



<a name="313306295"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/313306295" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#313306295">(Dec 01 2022 at 15:30)</a>:</h4>
<p>I probably won't have much more than 30 mins per day to spend on this (which means that I'll probably give up after a few days), but here is my repo for the advent of code 2022 in Lean4, in case anyone else is playing along: <a href="https://github.com/adamtopaz/Lean4_AOC_2022">https://github.com/adamtopaz/Lean4_AOC_2022</a></p>



<a name="313397820"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/313397820" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matej Penciak <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#313397820">(Dec 01 2022 at 23:17)</a>:</h4>
<p>I am also doing the exercises! My repo is here: <a href="https://github.com/mpenciak/AdventOfCode">https://github.com/mpenciak/AdventOfCode</a></p>



<a name="313400599"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/313400599" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#313400599">(Dec 01 2022 at 23:42)</a>:</h4>
<p>Count me in <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span> <a href="https://github.com/alexjbest/aoc">https://github.com/alexjbest/aoc</a></p>



<a name="313415869"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/313415869" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#313415869">(Dec 02 2022 at 02:22)</a>:</h4>
<p>Alright, I'm playing too!  <a href="https://github.com/dupuisf/Lean4_AoC2022">https://github.com/dupuisf/Lean4_AoC2022</a></p>



<a name="313423625"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/313423625" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ian Riley <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#313423625">(Dec 02 2022 at 04:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="455674">Matej Penciak</span> <a href="#narrow/stream/113488-general/topic/Advent.20of.20Code/near/313397820">said</a>:</p>
<blockquote>
<p>I am also doing the exercises! My repo is here: <a href="https://github.com/mpenciak/AdventOfCode">https://github.com/mpenciak/AdventOfCode</a></p>
</blockquote>
<p>Where is the best place to learn to write lean code like this? The functional programming manual?</p>



<a name="313714056"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/313714056" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#313714056">(Dec 03 2022 at 17:16)</a>:</h4>
<p>I posted a bit about my updated template on Mastodon: <a href="https://types.pl/@kha/109449257306696700">https://types.pl/@kha/109449257306696700</a><br>
Repo is <a href="https://github.com/Kha/aoc-2022">https://github.com/Kha/aoc-2022</a></p>



<a name="313714443"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/313714443" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#313714443">(Dec 03 2022 at 17:20)</a>:</h4>
<p>I'm especially interested in perusing the neglected <code>Stream</code> typeclass a bit more like you would in e.g. Rust (/cc <span class="user-mention" data-user-id="110049">@Mario Carneiro</span>, eventually something like this should probably be in std4): <a href="https://github.com/Kha/aoc-2022/blob/a15035979a83524ad9908ccf0a2641789a298b78/Aoc/Util.lean#L109-L146">https://github.com/Kha/aoc-2022/blob/a15035979a83524ad9908ccf0a2641789a298b78/Aoc/Util.lean#L109-L146</a></p>



<a name="313742772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/313742772" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matei Adriel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#313742772">(Dec 03 2022 at 23:06)</a>:</h4>
<p>I am new to lean, but I am also trying this out <a href="https://github.com/Mateiadrielrafael/aoc22">in this repo</a></p>



<a name="313745654"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/313745654" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#313745654">(Dec 03 2022 at 23:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110024">Sebastian Ullrich</span> <a href="#narrow/stream/113488-general/topic/Advent.20of.20Code/near/313714056">said</a>:</p>
<blockquote>
<p>I posted a bit about my updated template on Mastodon: <a href="https://types.pl/@kha/109449257306696700">https://types.pl/@kha/109449257306696700</a><br>
Repo is <a href="https://github.com/Kha/aoc-2022">https://github.com/Kha/aoc-2022</a></p>
</blockquote>
<p>This motivated me to actually (try to) figure out how mastodon works...</p>



<a name="313754162"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/313754162" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#313754162">(Dec 04 2022 at 02:01)</a>:</h4>
<p><span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span>  Re: <code>Collect</code>, <span class="user-mention" data-user-id="407274">@James Gallicchio</span> has been working a lot on possibilities for iteration typeclasses in std4. It seems like a bit of a quagmire though so I'm trying to avoid the area. ;) I assume that typeclass setup is Rust-inspired?</p>



<a name="313763728"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/313763728" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> James Gallicchio <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#313763728">(Dec 04 2022 at 04:48)</a>:</h4>
<p>Ah, yeah, this is definitely related. LeanColls has to do some backflips to avoid external iterators, so if Sebastian finds <code>Stream</code> very ergonomic then that would be a good tradeoff to look at.</p>



<a name="313765506"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/313765506" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#313765506">(Dec 04 2022 at 05:12)</a>:</h4>
<p><a href="https://www.reddit.com/r/adventofcode/comments/zbpq5g/gpt_openai_solutions_should_be_removed_from_the/">https://www.reddit.com/r/adventofcode/comments/zbpq5g/gpt_openai_solutions_should_be_removed_from_the/</a><br>
<a href="https://twitter.com/ostwilkens/status/1598458146187628544">https://twitter.com/ostwilkens/status/1598458146187628544</a></p>
<div class="inline-preview-twitter"><div class="twitter-tweet"><a href="https://twitter.com/ostwilkens/status/1598458146187628544"><img class="twitter-avatar" src="https://uploads.zulipusercontent.net/5b77a0c5a96fbcee4d2371ee6511b5fbdb8958ba/68747470733a2f2f7062732e7477696d672e636f6d2f70726f66696c655f696d616765732f313538343838313437333931393738373030392f3277435f5a79756f5f6e6f726d616c2e6a7067"></a><p><span aria-label="check" class="emoji emoji-2705" role="img" title="check">:check:</span> Fully automated solving &amp; submission for  #AdventOfCode using #OpenAI text-davinci-003
Can't wait to see how it handles day 2! 🫣 <a href="https://t.co/K54e5gnOap">https://twitter.com/ostwilkens/status/1598458146187628544/photo/1</a></p><span>- Carl Öst Wilkens (@ostwilkens)</span><div class="twitter-image"><a href="https://t.co/K54e5gnOap"><img src="https://uploads.zulipusercontent.net/8de3f189cdc2bb994ce55422ecccbb5e96a4e3fa/68747470733a2f2f7062732e7477696d672e636f6d2f6d656469612f466937634d7131586f41416277705f2e6a70673a736d616c6c"></a></div></div></div>



<a name="313774825"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/313774825" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#313774825">(Dec 04 2022 at 07:44)</a>:</h4>
<p>It's open-sourced: <a href="https://github.com/ostwilkens/aoc2022">https://github.com/ostwilkens/aoc2022</a><br>
Can we try the same with Lean? (no need to submit solution quickly if you don't want to)<br>
Day 4 Part 1 champion's methodology:<br>
<a href="https://twitter.com/max_sixty/status/1598970226343051264">https://twitter.com/max_sixty/status/1598970226343051264</a><br>
<a href="https://twitter.com/max_sixty/status/1598927902070149120">https://twitter.com/max_sixty/status/1598927902070149120</a><br>
DeepMind's AlphaCode could probably solve a lot more days; it was about median level on Codeforces when published in February</p>
<div class="inline-preview-twitter"><div class="twitter-tweet"><a href="https://twitter.com/max_sixty/status/1598970226343051264"><img class="twitter-avatar" src="https://uploads.zulipusercontent.net/36687832f2c157edc78650140dfe458b17847b44/68747470733a2f2f7062732e7477696d672e636f6d2f70726f66696c655f696d616765732f313534323030363334353034393539313830382f38706a456f5366715f6e6f726d616c2e6a7067"></a><p><a href="https://twitter.com/ForrestTheWoods">@ForrestTheWoods</a> <a href="https://twitter.com/ostwilkens">@ostwilkens</a> I ran 20 in parallel and submitted the most popular answer — the hit rate is still quite low — both wrong answer and syntax errors

Here are some of them: <a href="https://t.co/ZnSxB4tMDk">https://twitter.com/max_sixty/status/1598970226343051264/photo/1</a></p><span>- Max (@max_sixty)</span><div class="twitter-image"><a href="https://t.co/ZnSxB4tMDk"><img src="https://uploads.zulipusercontent.net/ce2289e93f0f4ce7f85a7e9d72908dee561f5778/68747470733a2f2f7062732e7477696d672e636f6d2f6d656469612f466a437562717956514141717174672e6a70673a7468756d62"></a></div></div></div><div class="inline-preview-twitter"><div class="twitter-tweet"><a href="https://twitter.com/max_sixty/status/1598927902070149120"><img class="twitter-avatar" src="https://uploads.zulipusercontent.net/36687832f2c157edc78650140dfe458b17847b44/68747470733a2f2f7062732e7477696d672e636f6d2f70726f66696c655f696d616765732f313534323030363334353034393539313830382f38706a456f5366715f6e6f726d616c2e6a7067"></a><p><a href="https://twitter.com/EvgSkvDev">@EvgSkvDev</a> <a href="https://twitter.com/OpenAI">@OpenAI</a> <a href="https://twitter.com/ostwilkens">@ostwilkens</a> I add some context on it being a puzzle, and do some rudimentary filtering of the text, but otherwise feed it the question without edits <a href="https://t.co/NZayZzID96">https://twitter.com/max_sixty/status/1598927902070149120/photo/1</a></p><span>- Max (@max_sixty)</span><div class="twitter-image"><a href="https://t.co/NZayZzID96"><img src="https://uploads.zulipusercontent.net/e249b95ec5f933f5fd9186927ac68deb781e4f6f/68747470733a2f2f7062732e7477696d672e636f6d2f6d656469612f466a4348504c6c56454141365278642e6a70673a6c61726765"></a></div><div class="twitter-image"><a href="https://t.co/NZayZzID96"><img src="https://uploads.zulipusercontent.net/2344149b63325ce9ff368e83cc67eaeadfeaf7ba/68747470733a2f2f7062732e7477696d672e636f6d2f6d656469612f466a434952347455554141434b68722e6a70673a736d616c6c"></a></div></div></div>



<a name="313778506"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/313778506" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#313778506">(Dec 04 2022 at 08:34)</a>:</h4>
<p>Another day, another crucial type taken from Rust (spoilers I guess): <a href="https://github.com/Kha/aoc-2022/blob/1c99cddba8fabfdccf10adfe37ff4493c9b84805/Aoc/Util.lean#L152-L177">https://github.com/Kha/aoc-2022/blob/1c99cddba8fabfdccf10adfe37ff4493c9b84805/Aoc/Util.lean#L152-L177</a></p>



<a name="313778859"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/313778859" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#313778859">(Dec 04 2022 at 08:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="407274">James Gallicchio</span> <a href="#narrow/stream/113488-general/topic/Advent.20of.20Code/near/313763728">said</a>:</p>
<blockquote>
<p>Ah, yeah, this is definitely related. LeanColls has to do some backflips to avoid external iterators, so if Sebastian finds <code>Stream</code> very ergonomic then that would be a good tradeoff to look at.</p>
</blockquote>
<p>I haven't felt any drawbacks yet at least. There may be some questionable typeclass design, but that is independent from the mode of iteration.</p>



<a name="314585244"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/314585244" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#314585244">(Dec 08 2022 at 00:43)</a>:</h4>
<p>Now that the term is almost over, I am starting to have some Lean time: I am also playing!</p>
<p><a href="https://github.com/adomani/Advent_of_Code_2022">https://github.com/adomani/Advent_of_Code_2022</a></p>



<a name="314586819"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/314586819" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jeremy Salwen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#314586819">(Dec 08 2022 at 01:03)</a>:</h4>
<p>I am also trying Advent of Code, but I am new to lean.  Should be fun :)</p>



<a name="314603195"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/314603195" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Steve Dunham <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#314603195">(Dec 08 2022 at 04:51)</a>:</h4>
<p>Lean was on my short list, but I decided to do Advent of Code in Rust this year.  I know neither language. Last Saturday, Sebastian Ulrich's mastodon post inspired me to go back and redo the first three days in Lean. It was fun, so I've been doing it in both languages since then. (The last few days were Lean first.)</p>



<a name="314621946"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/314621946" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#314621946">(Dec 08 2022 at 08:00)</a>:</h4>
<p>I'm sure people will be interested in hearing comments about comparison between the two languages!</p>



<a name="316583345"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/316583345" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#316583345">(Dec 18 2022 at 12:50)</a>:</h4>
<p>No Lean involved, but I was just blown away by the visualizations a friend of mine is doing in a Clojure notebook with apparently little effort using <a href="https://clerk.vision/">Clerk</a>: <a href="https://zmb.cm/aoc/2022/2022-18.html">https://zmb.cm/aoc/2022/2022-18.html</a>. Spoilers, obviously.</p>



<a name="316583390"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/316583390" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#316583390">(Dec 18 2022 at 12:50)</a>:</h4>
<p>Now we just have to get to that level with both widgets and Alectryon :) /cc <span class="user-mention" data-user-id="128280">@Wojciech Nawrocki</span></p>



<a name="316632237"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advent%20of%20Code/near/316632237" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Steve Dunham <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advent.20of.20Code.html#316632237">(Dec 18 2022 at 20:01)</a>:</h4>
<p>That visualization + literate code is nice.   I'm not sure I can get to that level of documentation in the time I've got to spend on this, but it's something to aspire to. I'll have to put Clerk on my list of things to check out someday.</p>
<p>I'm still plugging along.  The rust is taking a back seat to Lean4, but I'm keeping up in lean.   So far Day 16 is the only one I've had to compile - it took about 3.3 minutes to run when compiled (I'm guessing I missed something).   I'll share a link to my repository, but with the caveat that I don't really know Lean or Rust: <a href="https://github.com/dunhamsteve/aoc2022">https://github.com/dunhamsteve/aoc2022</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>