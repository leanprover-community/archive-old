---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/pow.2Fmul.20associativity.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pow.2Fmul.20associativity.html">pow/mul associativity</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="264661943"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pow/mul%20associativity/near/264661943" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pow.2Fmul.20associativity.html#264661943">(Dec 13 2021 at 04:07)</a>:</h4>
<p>What's going on here?<br>
<a href="/user_uploads/3121/VVteqALCJqeqOxrJh4_igUWX/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/VVteqALCJqeqOxrJh4_igUWX/image.png" title="image.png"><img src="/user_uploads/3121/VVteqALCJqeqOxrJh4_igUWX/image.png"></a></div>



<a name="264662002"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pow/mul%20associativity/near/264662002" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pow.2Fmul.20associativity.html#264662002">(Dec 13 2021 at 04:08)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/pow_mul">docs#pow_mul</a></p>



<a name="264662086"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pow/mul%20associativity/near/264662086" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pow.2Fmul.20associativity.html#264662086">(Dec 13 2021 at 04:11)</a>:</h4>
<p>I'm not seeing anything amiss, do you find something surprising about this lemma?</p>



<a name="264662134"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pow/mul%20associativity/near/264662134" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pow.2Fmul.20associativity.html#264662134">(Dec 13 2021 at 04:12)</a>:</h4>
<p>That the LHS should look like <code>a ^ (m * n)</code>, otherwise it looks like <code>(a ^ m) * n</code>.</p>



<a name="264662277"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pow/mul%20associativity/near/264662277" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pow.2Fmul.20associativity.html#264662277">(Dec 13 2021 at 04:16)</a>:</h4>
<p>It seems like the parentheses are there in the code, I guess the doc-gen just removes them?</p>



<a name="264662426"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pow/mul%20associativity/near/264662426" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pow.2Fmul.20associativity.html#264662426">(Dec 13 2021 at 04:20)</a>:</h4>
<p>docgen uses the pretty printer I think. But Lean itself displays the lemma correctly for me (if I just import the file that contains this lemma). Maybe there is some other notation elsewhere that confuses it?</p>



<a name="264667722"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pow/mul%20associativity/near/264667722" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pow.2Fmul.20associativity.html#264667722">(Dec 13 2021 at 06:16)</a>:</h4>
<p>What if you import <code>all.lean</code>?</p>



<a name="264676342"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pow/mul%20associativity/near/264676342" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pow.2Fmul.20associativity.html#264676342">(Dec 13 2021 at 08:43)</a>:</h4>
<p>What's the precedence of pow and *?</p>



<a name="264680131"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pow/mul%20associativity/near/264680131" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pow.2Fmul.20associativity.html#264680131">(Dec 13 2021 at 09:24)</a>:</h4>
<p>Just to remark that pow is right associative and mul left associative</p>



<a name="264681474"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pow/mul%20associativity/near/264681474" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pow.2Fmul.20associativity.html#264681474">(Dec 13 2021 at 09:38)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="k">#print</span> <span class="kd">notation</span> <span class="bp">^</span>  <span class="c1">-- _ `^`:80 _:79 := has_pow.pow #1 #0</span>
<span class="k">#print</span> <span class="kd">notation</span> <span class="bp">*</span>  <span class="c1">-- _ `*`:70 _:70 := has_mul.mul #1 #</span>
</code></pre></div>



<a name="264683777"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pow/mul%20associativity/near/264683777" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pow.2Fmul.20associativity.html#264683777">(Dec 13 2021 at 10:00)</a>:</h4>
<p>Except, after doc-gen runs <code>open_all_locales</code> to agressively turn on notation, it becomes</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="k">#print</span> <span class="kd">notation</span> <span class="bp">*</span>  <span class="c1">-- _ `*`:9001 _:70 := has_mul.mul #1 #0</span>
</code></pre></div>



<a name="264683881"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pow/mul%20associativity/near/264683881" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pow.2Fmul.20associativity.html#264683881">(Dec 13 2021 at 10:01)</a>:</h4>
<p>Which is the fault of <a href="https://github.com/leanprover-community/mathlib/blob/master/src/tactic/localized.lean#L122">this line</a></p>



<a name="264688726"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pow/mul%20associativity/near/264688726" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pow.2Fmul.20associativity.html#264688726">(Dec 13 2021 at 10:48)</a>:</h4>
<p>Feel free to submit a PR to ignore this notation (we already have a long list of ignored localized notation).</p>



<a name="264690949"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pow/mul%20associativity/near/264690949" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pow.2Fmul.20associativity.html#264690949">(Dec 13 2021 at 11:07)</a>:</h4>
<p>Do we want to ignore that notation though, for files about parsers?</p>



<a name="264691511"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pow/mul%20associativity/near/264691511" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pow.2Fmul.20associativity.html#264691511">(Dec 13 2021 at 11:12)</a>:</h4>
<p>We can only ignore notations globally in doc-gen, so we don't really have a choice there.</p>



<a name="264693145"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pow/mul%20associativity/near/264693145" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pow.2Fmul.20associativity.html#264693145">(Dec 13 2021 at 11:29)</a>:</h4>
<p>Do you mean that in a "that was the easiest thing to implement" way, or "there is no lean core API that would allow us to do anything different"?</p>



<a name="264694753"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pow/mul%20associativity/near/264694753" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pow.2Fmul.20associativity.html#264694753">(Dec 13 2021 at 11:45)</a>:</h4>
<p>In both ways, yes.  Right now we generate all documentation in the same tactic call (with the same open locales).  Maybe we can now open locales programmatically (using <code>run_parser</code>), but it would be a bit of refactoring.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>