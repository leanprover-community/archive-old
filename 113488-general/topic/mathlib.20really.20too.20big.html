---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/mathlib.20really.20too.20big.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/mathlib.20really.20too.20big.html">mathlib really too big</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="300621603"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20really%20too%20big/near/300621603" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/mathlib.20really.20too.20big.html#300621603">(Sep 25 2022 at 08:38)</a>:</h4>
<p>I just got this exotic new error:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">Looking</span> <span class="n">for</span> <span class="n">mathlib</span> <span class="n">oleans</span> <span class="n">for</span> <span class="n">ae21d38615</span>
  <span class="n">locally...</span>
  <span class="n">remotely...</span>
  <span class="n">Found</span> <span class="n">remote</span> <span class="n">mathlib</span> <span class="n">oleans</span>
<span class="n">Using</span> <span class="n">matching</span> <span class="n">cache</span>
  <span class="n">ae21d38615</span><span class="o">:</span> <span class="mi">100</span><span class="bp">%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████|</span> <span class="mi">77</span><span class="bp">.</span><span class="mi">3</span><span class="n">M</span><span class="bp">/</span><span class="mi">77</span><span class="bp">.</span><span class="mi">3</span><span class="n">M</span> <span class="o">[</span><span class="mi">00</span><span class="o">:</span><span class="mi">04</span><span class="bp">&lt;</span><span class="mi">00</span><span class="o">:</span><span class="mi">00</span><span class="o">,</span> <span class="mi">18</span><span class="bp">.</span><span class="mi">9</span><span class="n">MB</span><span class="bp">/</span><span class="n">s</span><span class="o">]</span>
<span class="o">[</span><span class="n">Errno</span> <span class="mi">75</span><span class="o">]</span> <span class="n">Value</span> <span class="n">too</span> <span class="n">large</span> <span class="n">for</span> <span class="n">defined</span> <span class="n">data</span> <span class="n">type</span><span class="o">:</span> <span class="bp">'/</span><span class="n">home</span><span class="bp">/</span><span class="n">gitpod</span><span class="bp">/.</span><span class="n">mathlib</span><span class="bp">/</span><span class="n">tmpfy0npetj'</span> <span class="bp">-&gt;</span> <span class="bp">'/</span><span class="n">home</span><span class="bp">/</span><span class="n">gitpod</span><span class="bp">/.</span><span class="n">mathlib</span><span class="bp">/</span><span class="n">ae21d3861523c5b1f39598c5174d120cad2873a1.tar.xz'</span>
</code></pre></div>
<p>Has mathlib grown too big for us, mere mortals?</p>



<a name="300622282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20really%20too%20big/near/300622282" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/mathlib.20really.20too.20big.html#300622282">(Sep 25 2022 at 08:46)</a>:</h4>
<p>It might only be a problem with the specific gitpod workspace I was using <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="300623780"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20really%20too%20big/near/300623780" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/mathlib.20really.20too.20big.html#300623780">(Sep 25 2022 at 09:02)</a>:</h4>
<p>All my Lean setups are broken right now <span aria-label="sad" class="emoji emoji-2639" role="img" title="sad">:sad:</span> Gitpod because of the above errors and my local VScode because of</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">elan</span> <span class="n">self</span> <span class="n">update</span>
<span class="bp">←</span><span class="o">[</span><span class="mi">1</span><span class="n">minfo</span><span class="o">:</span> <span class="bp">←</span><span class="o">[</span><span class="mi">0</span><span class="n">mchecking</span> <span class="n">for</span> <span class="n">self</span><span class="bp">-</span><span class="n">updates</span>
<span class="bp">←</span><span class="o">[</span><span class="mi">31</span><span class="n">m</span><span class="bp">←</span><span class="o">[</span><span class="mi">1</span><span class="n">merror</span><span class="o">:</span> <span class="bp">←</span><span class="o">[</span><span class="mi">0</span><span class="n">mfailed</span> <span class="n">to</span> <span class="n">parse</span> <span class="n">latest</span> <span class="n">release</span> <span class="n">tag</span>
</code></pre></div>



<a name="300640329"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20really%20too%20big/near/300640329" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/mathlib.20really.20too.20big.html#300640329">(Sep 25 2022 at 11:46)</a>:</h4>
<p>For the last error, you're probably using elan 1.4.1 and the GitHub server change is now preventing elan updates from working too. Reinstalling elan from scratch (<code>curl https://raw.githubusercontent.com/leanprover/elan/master/elan-init.sh -sSf | sh</code>) should help.</p>



<a name="300643177"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20really%20too%20big/near/300643177" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/mathlib.20really.20too.20big.html#300643177">(Sep 25 2022 at 12:14)</a>:</h4>
<p>Indeed, uninstalling and reinstalling elan fixed it.</p>



<a name="300651567"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20really%20too%20big/near/300651567" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/mathlib.20really.20too.20big.html#300651567">(Sep 25 2022 at 13:37)</a>:</h4>
<p>"Value too large for defined data type" just bit me for something unrelated on gitpod (accessing github credentials), so I think this is a gitpod problem</p>



<a name="300651596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20really%20too%20big/near/300651596" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/mathlib.20really.20too.20big.html#300651596">(Sep 25 2022 at 13:37)</a>:</h4>
<p>No need to reinstall from scratch, use <code>elan self update</code></p>



<a name="300652201"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20really%20too%20big/near/300652201" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/mathlib.20really.20too.20big.html#300652201">(Sep 25 2022 at 13:42)</a>:</h4>
<p>The second error was the output of <code>elan self update</code>, I think</p>



<a name="300652385"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20really%20too%20big/near/300652385" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/mathlib.20really.20too.20big.html#300652385">(Sep 25 2022 at 13:44)</a>:</h4>
<p>The problem fixed in 1.4.2 is that GitHub changed its releases page, which is scraped to determine available versions/tags. GH probably does staged rollouts, because this was only a problem for the Lean 4 repo at first, then it reached Lean 3 and now elan.</p>



<a name="300663892"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20really%20too%20big/near/300663892" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/mathlib.20really.20too.20big.html#300663892">(Sep 25 2022 at 15:38)</a>:</h4>
<p>So now when I have 30 undergraduates arriving at my workshop with broken setups the canonical response is "reinstall elan"?</p>



<a name="300673399"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20really%20too%20big/near/300673399" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/mathlib.20really.20too.20big.html#300673399">(Sep 25 2022 at 17:17)</a>:</h4>
<p>Yes, with the caveat that the Lean macOS install script uses brew, so elan should be updated using brew in this case</p>



<a name="300673555"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20really%20too%20big/near/300673555" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/mathlib.20really.20too.20big.html#300673555">(Sep 25 2022 at 17:19)</a>:</h4>
<p>Can't we setup dedicated Gitpod commands on workspace opening on the project repos?</p>



<a name="300673863"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20really%20too%20big/near/300673863" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/mathlib.20really.20too.20big.html#300673863">(Sep 25 2022 at 17:23)</a>:</h4>
<p><a href="#narrow/stream/113488-general/topic/.22dev.20container.22.20v.20gitpod.20v.20local.20Lean/near/300056315">https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/.22dev.20container.22.20v.20gitpod.20v.20local.20Lean/near/300056315</a> is the thread to follow wrt having an updated elan by default in Gitpod workspaces (tl;dr:  <a href="https://github.com/leanprover-community/mathlib/pull/16590">#16590</a> needs review). This is orthogonal to the other GItpod errors you were seeing earlier, which were due to a Gitpod server issue that's now fixed (once you restart your workspace).</p>



<a name="300673901"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20really%20too%20big/near/300673901" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/mathlib.20really.20too.20big.html#300673901">(Sep 25 2022 at 17:23)</a>:</h4>
<p>Indeed I'm on eu67 for all workspaces now.</p>



<a name="300767085"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20really%20too%20big/near/300767085" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/mathlib.20really.20too.20big.html#300767085">(Sep 26 2022 at 11:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113488-general/topic/mathlib.20really.20too.20big/near/300663892">said</a>:</p>
<blockquote>
<p>So now when I have 30 undergraduates arriving at my workshop with broken setups the canonical response is "reinstall elan"?</p>
</blockquote>
<p>Forgetting about this specific problem, in your experience is using gitpod a good choice for a course about Lean? I am going to teach a minicourse  and I don't want to waist time in fighting installation problems.</p>



<a name="300863574"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20really%20too%20big/near/300863574" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/mathlib.20really.20too.20big.html#300863574">(Sep 26 2022 at 17:19)</a>:</h4>
<p>I bit the bullet and got their local installations working for my workshop this week. I'm going to try gitpod in October</p>



<a name="300888276"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20really%20too%20big/near/300888276" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/mathlib.20really.20too.20big.html#300888276">(Sep 26 2022 at 19:46)</a>:</h4>
<p>I tried getting a group set up today, and it was more annoying than I expected</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>