---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/contrapositive.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html">contrapositive</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="177281656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177281656" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177281656">(Oct 03 2019 at 20:00)</a>:</h4>
<p>A student has asked me how to prove <code>example (P Q : Prop) : (¬ Q → ¬ P) → (P → Q) </code> and <code>library_search</code> is failing me :-) What's this function called?</p>



<a name="177281785"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177281785" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177281785">(Oct 03 2019 at 20:01)</a>:</h4>
<p>What if you assume <code>Q</code> is decidable and try again?</p>



<a name="177282018"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177282018" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177282018">(Oct 03 2019 at 20:02)</a>:</h4>
<p><code>by contrapose!, ...</code>?</p>



<a name="177282048"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177282048" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177282048">(Oct 03 2019 at 20:03)</a>:</h4>
<p>I'm assuming everything's decidable!</p>



<a name="177282245"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177282245" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177282245">(Oct 03 2019 at 20:04)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">(</span><span class="n">P</span> <span class="n">Q</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">[</span><span class="n">decidable</span> <span class="n">P</span><span class="o">]</span> <span class="o">[</span><span class="n">decidable</span> <span class="n">Q</span><span class="o">]</span> <span class="o">:</span> <span class="o">(</span><span class="bp">¬</span> <span class="n">Q</span> <span class="bp">→</span> <span class="bp">¬</span> <span class="n">P</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="n">P</span> <span class="bp">→</span> <span class="n">Q</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">library_search</span><span class="o">,</span>
</pre></div>


<p>still fails!</p>



<a name="177282343"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177282343" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177282343">(Oct 03 2019 at 20:05)</a>:</h4>
<p><code>  contrapose!, exact (and_comm _ _).1,</code> works :-/</p>



<a name="177282469"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177282469" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177282469">(Oct 03 2019 at 20:07)</a>:</h4>
<p><code>by tauto!</code></p>



<a name="177282738"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177282738" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177282738">(Oct 03 2019 at 20:08)</a>:</h4>
<p>It is a tautology after all <span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span></p>



<a name="177282746"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177282746" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177282746">(Oct 03 2019 at 20:08)</a>:</h4>
<p>And <code>contrapose!, library_search</code> works too</p>



<a name="177282770"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177282770" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177282770">(Oct 03 2019 at 20:08)</a>:</h4>
<p>Even <code>by tauto</code> works</p>



<a name="177282795"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177282795" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177282795">(Oct 03 2019 at 20:09)</a>:</h4>
<p>and <code>apply not_imp_not</code> works too</p>



<a name="177282865"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177282865" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177282865">(Oct 03 2019 at 20:10)</a>:</h4>
<p>Looks like almost any random sequence of characters works then.</p>



<a name="177282960"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177282960" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177282960">(Oct 03 2019 at 20:10)</a>:</h4>
<p>That sounds like the right conclusion to draw</p>



<a name="177282996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177282996" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177282996">(Oct 03 2019 at 20:11)</a>:</h4>
<p><code>apply not_imp_not</code> doesn't work, it's an iff, and I think you hit the apply bug if you use <code>.1</code>.  <code>exact not_imp_not.1</code> works.</p>



<a name="177283109"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177283109" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177283109">(Oct 03 2019 at 20:12)</a>:</h4>
<p>Oh, have you tried <code>apply'</code>?</p>



<a name="177283139"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177283139" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177283139">(Oct 03 2019 at 20:12)</a>:</h4>
<p><code>apply'</code> leaves you with a mess.</p>



<a name="177283156"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177283156" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177283156">(Oct 03 2019 at 20:12)</a>:</h4>
<div class="codehilite"><pre><span></span>4 goals
P Q : Prop,
_inst_1 : decidable P,
_inst_2 : decidable Q
⊢ ¬((¬Q → ¬P) → P → Q) → ¬?m_1

P Q : Prop,
_inst_1 : decidable P,
_inst_2 : decidable Q
⊢ ?m_1

P Q : Prop,
_inst_1 : decidable P,
_inst_2 : decidable Q
⊢ Prop

P Q : Prop,
_inst_1 : decidable P,
_inst_2 : decidable Q
⊢ decidable ((¬Q → ¬P) → P → Q)
</pre></div>



<a name="177283219"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177283219" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177283219">(Oct 03 2019 at 20:13)</a>:</h4>
<p><code>simp [not_imp_not]</code> works</p>



<a name="177283298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177283298" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177283298">(Oct 03 2019 at 20:14)</a>:</h4>
<p>Why are you all still writing random sequences of characters</p>



<a name="177283316"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177283316" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177283316">(Oct 03 2019 at 20:14)</a>:</h4>
<p>I sort of lost track of what we are trying to do.</p>



<a name="177283329"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177283329" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177283329">(Oct 03 2019 at 20:14)</a>:</h4>
<p>Heh. <code>cc</code> works.</p>



<a name="177283334"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177283334" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177283334">(Oct 03 2019 at 20:14)</a>:</h4>
<p>Also, isn't library_search supposed to be able to apply iff lemmas?</p>



<a name="177283343"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177283343" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177283343">(Oct 03 2019 at 20:14)</a>:</h4>
<p>Isn't it a contest about finding as many proofs are possible?</p>



<a name="177283370"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177283370" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177283370">(Oct 03 2019 at 20:15)</a>:</h4>
<p>I think the problem is with <code>apply</code>, not <code>library_search</code>.</p>



<a name="177283374"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177283374" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177283374">(Oct 03 2019 at 20:15)</a>:</h4>
<p><code>by finish</code></p>



<a name="177283403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177283403" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177283403">(Oct 03 2019 at 20:15)</a>:</h4>
<p><code>by clarify</code></p>



<a name="177283413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177283413" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177283413">(Oct 03 2019 at 20:15)</a>:</h4>
<p><code>by safe</code></p>



<a name="177283471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177283471" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177283471">(Oct 03 2019 at 20:16)</a>:</h4>
<p><code>tidy</code> takes a long time and reduces the goal to proving <code>Q</code>, that's not so good.</p>



<a name="177283474"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177283474" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177283474">(Oct 03 2019 at 20:16)</a>:</h4>
<p>Did I win?</p>



<a name="177283499"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177283499" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177283499">(Oct 03 2019 at 20:16)</a>:</h4>
<p><code>by cc</code> is the shortest!</p>



<a name="177283649"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177283649" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177283649">(Oct 03 2019 at 20:17)</a>:</h4>
<p>Can we write a shorter proof still?</p>



<a name="177283654"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177283654" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177283654">(Oct 03 2019 at 20:17)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="n">meta</span> <span class="n">def</span> <span class="n">i</span> <span class="o">:</span> <span class="n">tactic</span> <span class="n">unit</span> <span class="o">:=</span> <span class="bp">`</span><span class="o">[</span><span class="n">cc</span><span class="o">]</span>

<span class="kn">example</span> <span class="o">(</span><span class="n">P</span> <span class="n">Q</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">[</span><span class="n">decidable</span> <span class="n">P</span><span class="o">]</span> <span class="o">[</span><span class="n">decidable</span> <span class="n">Q</span><span class="o">]</span> <span class="o">:</span> <span class="o">(</span><span class="bp">¬</span> <span class="n">Q</span> <span class="bp">→</span> <span class="bp">¬</span> <span class="n">P</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="n">P</span> <span class="bp">→</span> <span class="n">Q</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">i</span>
</pre></div>



<a name="177283824"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177283824" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177283824">(Oct 03 2019 at 20:18)</a>:</h4>
<p>Nah, the auxiliary def counts.</p>



<a name="177283826"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177283826" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177283826">(Oct 03 2019 at 20:18)</a>:</h4>
<p>Does that count as shorter? You have to write a definition first</p>



<a name="177283843"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177283843" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177283843">(Oct 03 2019 at 20:18)</a>:</h4>
<p>Let me open some PR.</p>



<a name="177283854"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177283854" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177283854">(Oct 03 2019 at 20:18)</a>:</h4>
<blockquote>
<p>and <code>apply not_imp_not</code> works too</p>
</blockquote>
<p>Chris is here and he swore blind that something with not_imp_not should work -- I don't know why it didn't show up. What I don't understand is why <code>library_search</code> doesn't help</p>



<a name="177284112"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177284112" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177284112">(Oct 03 2019 at 20:20)</a>:</h4>
<p>I think that <code>library_search</code> doesn't break iffs into implications</p>



<a name="177284120"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177284120" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177284120">(Oct 03 2019 at 20:20)</a>:</h4>
<p><code>library_search</code> doesn't work because of the <code>apply</code> bug. I'm not sure if it uses <code>apply'</code> instead, but it doesn't matter, because <code>apply'</code> is broken here too.</p>



<a name="177284184"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177284184" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177284184">(Oct 03 2019 at 20:21)</a>:</h4>
<p>It doesn't use <code>apply'</code></p>



<a name="177284452"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177284452" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177284452">(Oct 03 2019 at 20:23)</a>:</h4>
<blockquote>
<p>I think that <code>library_search</code> doesn't break iffs into implications</p>
</blockquote>
<p>I think it does. The tactic is definitely doing something with <code>iff</code>s.</p>



<a name="177284518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177284518" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177284518">(Oct 03 2019 at 20:23)</a>:</h4>
<p>There was a time when it didn't, though</p>



<a name="177284614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177284614" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177284614">(Oct 03 2019 at 20:24)</a>:</h4>
<p>It tries <code>iff</code>s in the reverse direction</p>



<a name="177284672"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177284672" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177284672">(Oct 03 2019 at 20:25)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">constants</span> <span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Prop</span>
<span class="kn">axiom</span> <span class="n">ax</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">↔</span> <span class="n">B</span>
<span class="kn">example</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">→</span> <span class="n">B</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">library_search</span>
<span class="kn">example</span> <span class="o">:</span> <span class="n">B</span> <span class="bp">→</span> <span class="n">A</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">library_search</span>
</pre></div>


<p>both work.</p>



<a name="177284713"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177284713" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177284713">(Oct 03 2019 at 20:25)</a>:</h4>
<p>Ok, I give up</p>



<a name="177288020"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177288020" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177288020">(Oct 03 2019 at 21:02)</a>:</h4>
<p>the problem is the decidable instances probably</p>



<a name="177288088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177288088" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177288088">(Oct 03 2019 at 21:02)</a>:</h4>
<p>is <code>classical.dec</code> in the context / a local instance?</p>



<a name="177290530"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177290530" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177290530">(Oct 03 2019 at 21:34)</a>:</h4>
<p>It was sometimes, and it wasn't sometimes. I think it wasn't when I made the props decidable. Before that I was just using the <code>classical</code> tactic before <code>library_search</code> and it still didn't work.</p>



<a name="177305451"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/177305451" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#177305451">(Oct 04 2019 at 02:21)</a>:</h4>
<blockquote>
<div class="codehilite"><pre><span></span><span class="kn">constants</span> <span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Prop</span>
<span class="kn">axiom</span> <span class="n">ax</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">↔</span> <span class="n">B</span>
<span class="kn">example</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">→</span> <span class="n">B</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">library_search</span>
<span class="kn">example</span> <span class="o">:</span> <span class="n">B</span> <span class="bp">→</span> <span class="n">A</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">library_search</span>
</pre></div>


<p>both work.</p>
</blockquote>
<p>Currently <code>example : B ↔ A := by library_search</code> doesn't work, and I would like to fix this.</p>



<a name="185436510"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/185436510" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris B <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#185436510">(Jan 12 2020 at 14:28)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> <br>
Not sure if this is related, but in mathlib rev c5d91, the following fails when I would have expected it to find <code>not_not</code> :</p>
<div class="codehilite"><pre><span></span>example (p : Prop) [decidable p] : (¬¬p) → p := by library_search
</pre></div>


<div class="codehilite"><pre><span></span>failed
state:
p : Prop,
_inst_1 : decidable p
|- ¬¬p → p
</pre></div>



<a name="185436629"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/contrapositive/near/185436629" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris B <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/contrapositive.html#185436629">(Jan 12 2020 at 14:32)</a>:</h4>
<p>Actually this also fails, but some how succeeds in finding MyAx if I change both to <code>(¬¬p ↔ p)</code>.</p>
<div class="codehilite"><pre><span></span>axiom MyAx (p : Prop) [decidable p] : (¬¬p) → p

example (p : Prop) [decidable p] : (¬¬p) → p := by library_search
</pre></div>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>