---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/How.20do.20you.20construct.20a.20sum.20over.20divisors.20of.20n.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/How.20do.20you.20construct.20a.20sum.20over.20divisors.20of.20n.3F.html">How do you construct a sum over divisors of n?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="286022398"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20do%20you%20construct%20a%20sum%20over%20divisors%20of%20n%3F/near/286022398" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Daniel Donnelly <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/How.20do.20you.20construct.20a.20sum.20over.20divisors.20of.20n.3F.html#286022398">(Jun 14 2022 at 05:16)</a>:</h4>
<p>I'm new to Lean, but I think a motivating example would help me out, my interests currently don't lie in abstract algebraic, topological, homological etc, but instead on just analysis of arithmetic functions.  So show me some code!  Simplest code wins.</p>



<a name="286022464"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20do%20you%20construct%20a%20sum%20over%20divisors%20of%20n%3F/near/286022464" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Daniel Donnelly <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/How.20do.20you.20construct.20a.20sum.20over.20divisors.20of.20n.3F.html#286022464">(Jun 14 2022 at 05:17)</a>:</h4>
<p>Can we do LaTeX here?  $\LaTeX$ test</p>



<a name="286022472"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20do%20you%20construct%20a%20sum%20over%20divisors%20of%20n%3F/near/286022472" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Daniel Donnelly <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/How.20do.20you.20construct.20a.20sum.20over.20divisors.20of.20n.3F.html#286022472">(Jun 14 2022 at 05:18)</a>:</h4>
<p>Yes, if you click your Start ChatJax button,we can see it</p>



<a name="286024631"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20do%20you%20construct%20a%20sum%20over%20divisors%20of%20n%3F/near/286024631" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/How.20do.20you.20construct.20a.20sum.20over.20divisors.20of.20n.3F.html#286024631">(Jun 14 2022 at 05:53)</a>:</h4>
<p>take a look at <a href="https://leanprover-community.github.io/mathlib_docs/find/nat.arithmetic_function.sigma">docs#nat.arithmetic_function.sigma</a>, <a href="https://leanprover-community.github.io/mathlib_docs/find/nat.arithmetic_function.sigma/src">src#nat.arithmetic_function.sigma</a></p>



<a name="286024645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20do%20you%20construct%20a%20sum%20over%20divisors%20of%20n%3F/near/286024645" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/How.20do.20you.20construct.20a.20sum.20over.20divisors.20of.20n.3F.html#286024645">(Jun 14 2022 at 05:53)</a>:</h4>
<p><code>$$\sigma$$</code> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>σ</mi></mrow><annotation encoding="application/x-tex">\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span></span></span></span></p>



<a name="286059352"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20do%20you%20construct%20a%20sum%20over%20divisors%20of%20n%3F/near/286059352" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/How.20do.20you.20construct.20a.20sum.20over.20divisors.20of.20n.3F.html#286059352">(Jun 14 2022 at 11:55)</a>:</h4>
<p>For a simple example of a theorem involving a sum over divisors, how about <a href="https://leanprover-community.github.io/mathlib_docs/find/nat.sum_totient">docs#nat.sum_totient</a></p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">sum_totient</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">n.divisors.sum</span> <span class="n">φ</span> <span class="bp">=</span> <span class="n">n</span>
</code></pre></div>
<p>(The theorem is called <code>sum_totient</code>, it lives in the <code>nat</code> namespace, and appending the <code>docs#</code> prefix in Zulip makes a link to that theorem in the documentation pages.)</p>



<a name="286059552"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20do%20you%20construct%20a%20sum%20over%20divisors%20of%20n%3F/near/286059552" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/How.20do.20you.20construct.20a.20sum.20over.20divisors.20of.20n.3F.html#286059552">(Jun 14 2022 at 11:57)</a>:</h4>
<p>This is the statement that for any natural number <code>n</code>, the sum of the totient function <code>φ</code> over the divisors of <code>n</code> adds to <code>n</code>.</p>



<a name="286059713"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20do%20you%20construct%20a%20sum%20over%20divisors%20of%20n%3F/near/286059713" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/How.20do.20you.20construct.20a.20sum.20over.20divisors.20of.20n.3F.html#286059713">(Jun 14 2022 at 11:58)</a>:</h4>
<p>i.e. the statement that you'd normally write as:<br>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mo>∑</mo><mrow><mi>d</mi><mi mathvariant="normal">∣</mi><mi>n</mi></mrow></msub><mi>ϕ</mi><mo stretchy="false">(</mo><mi>d</mi><mo stretchy="false">)</mo><mo>=</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">\sum_{d | n} \phi(d) = n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2247em;vertical-align:-0.4747em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2253em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="mord mtight">∣</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4747em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">ϕ</span><span class="mopen">(</span><span class="mord mathnormal">d</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></p>



<a name="286062500"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20do%20you%20construct%20a%20sum%20over%20divisors%20of%20n%3F/near/286062500" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/How.20do.20you.20construct.20a.20sum.20over.20divisors.20of.20n.3F.html#286062500">(Jun 14 2022 at 12:23)</a>:</h4>
<p>You could write this more familiarly as <code>∀ n : ℕ, ∑ d in (divisors n), φ d = n</code>, but the convention in mathlib tends toward writing things more concisely where possible.</p>



<a name="286064543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20do%20you%20construct%20a%20sum%20over%20divisors%20of%20n%3F/near/286064543" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/How.20do.20you.20construct.20a.20sum.20over.20divisors.20of.20n.3F.html#286064543">(Jun 14 2022 at 12:38)</a>:</h4>
<p>Is that syntactically equal or is there a beta reduction involved in the second statement?</p>



<a name="286091851"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20do%20you%20construct%20a%20sum%20over%20divisors%20of%20n%3F/near/286091851" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/How.20do.20you.20construct.20a.20sum.20over.20divisors.20of.20n.3F.html#286091851">(Jun 14 2022 at 15:40)</a>:</h4>
<p>The first statement is the reduced version of the second</p>



<a name="286095374"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20do%20you%20construct%20a%20sum%20over%20divisors%20of%20n%3F/near/286095374" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/How.20do.20you.20construct.20a.20sum.20over.20divisors.20of.20n.3F.html#286095374">(Jun 14 2022 at 16:04)</a>:</h4>
<p><span class="user-mention" data-user-id="284160">@Eric Rodriguez</span> I think it's eta conversion rather than beta reduction</p>



<a name="286095544"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20do%20you%20construct%20a%20sum%20over%20divisors%20of%20n%3F/near/286095544" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/How.20do.20you.20construct.20a.20sum.20over.20divisors.20of.20n.3F.html#286095544">(Jun 14 2022 at 16:05)</a>:</h4>
<p>You could test it using <code>dsimp only { beta := ff, eta := ff }</code> and turning each one on individually. (Options are documented <a href="https://leanprover-community.github.io/extras/simp.html">here</a> at the end.)</p>



<a name="286113125"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20do%20you%20construct%20a%20sum%20over%20divisors%20of%20n%3F/near/286113125" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/How.20do.20you.20construct.20a.20sum.20over.20divisors.20of.20n.3F.html#286113125">(Jun 14 2022 at 18:20)</a>:</h4>
<p>oh interesting, I used to think that <code>eta</code> was solely for structures, I think I just completely misunderstood it. thanks!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>