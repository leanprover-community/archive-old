---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/mathlib.20tutorial.20invalid.20notation.3A.20notation.20already.20declare.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/mathlib.20tutorial.20invalid.20notation.3A.20notation.20already.20declare.html">mathlib tutorial invalid notation: notation already declare</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="307769248"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20tutorial%20invalid%20notation%3A%20notation%20already%20declare/near/307769248" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Siyuan Yan <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/mathlib.20tutorial.20invalid.20notation.3A.20notation.20already.20declare.html#307769248">(Nov 03 2022 at 16:25)</a>:</h4>
<p>Hi I am a learner of lean and I'm on the first exercise of mathlib tutorial. Line 260 shows an error about already declared notation. What does that mean?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c1">-- line 260</span>
<span class="kn">local</span> <span class="kd">notation</span> <span class="bp">`|`</span><span class="n">x</span><span class="bp">`|`</span> <span class="o">:=</span> <span class="n">abs</span> <span class="n">x</span>
</code></pre></div>
<p>error message:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">â–¶</span> <span class="mi">260</span><span class="o">:</span><span class="mi">1</span><span class="bp">-</span><span class="mi">260</span><span class="o">:</span><span class="mi">2</span><span class="o">:</span> <span class="n">error</span><span class="o">:</span>
<span class="n">invalid</span> <span class="kd">notation</span><span class="o">:</span> <span class="kd">notation</span> <span class="n">already</span> <span class="n">declared.</span> <span class="n">Consider</span> <span class="n">using</span> <span class="bp">'</span><span class="kd">notation</span> <span class="o">(</span><span class="n">name</span> <span class="o">:=</span> <span class="bp">...</span><span class="o">)</span><span class="bp">'</span>
</code></pre></div>
<p><a href="https://github.com/leanprover-community/tutorials/blob/9333ac30d79bce6d8e0e2951166f5cd9494f6508/src/exercises/00_first_proofs.lean#L260">the source code on github</a></p>



<a name="307770049"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20tutorial%20invalid%20notation%3A%20notation%20already%20declare/near/307770049" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/mathlib.20tutorial.20invalid.20notation.3A.20notation.20already.20declare.html#307770049">(Nov 03 2022 at 16:28)</a>:</h4>
<p>Oops it looks like we need to fix the tutorials project, for now does changing it to</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c1">-- line 260</span>
<span class="kn">local</span> <span class="kd">notation</span> <span class="o">(</span><span class="n">name</span> <span class="o">:=</span> <span class="n">blah</span><span class="o">)</span> <span class="bp">`|`</span><span class="n">x</span><span class="bp">`|`</span> <span class="o">:=</span> <span class="n">abs</span> <span class="n">x</span>
</code></pre></div>
<p>fix it?</p>



<a name="307777816"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20tutorial%20invalid%20notation%3A%20notation%20already%20declare/near/307777816" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Siyuan Yan <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/mathlib.20tutorial.20invalid.20notation.3A.20notation.20already.20declare.html#307777816">(Nov 03 2022 at 16:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="127136">Alex J. Best</span> <a href="#narrow/stream/113488-general/topic/mathlib.20tutorial.20invalid.20notation.3A.20notation.20already.20declare/near/307770049">said</a>:</p>
<blockquote>
<p>Oops it looks like we need to fix the tutorials project, for now does changing it to</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c1">-- line 260</span>
<span class="kn">local</span> <span class="kd">notation</span> <span class="o">(</span><span class="n">name</span> <span class="o">:=</span> <span class="n">blah</span><span class="o">)</span> <span class="bp">`|`</span><span class="n">x</span><span class="bp">`|`</span> <span class="o">:=</span> <span class="n">abs</span> <span class="n">x</span>
</code></pre></div>
<p>fix it?</p>
</blockquote>
<p>Fixed! thanks!</p>



<a name="307778023"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20tutorial%20invalid%20notation%3A%20notation%20already%20declare/near/307778023" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Siyuan Yan <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/mathlib.20tutorial.20invalid.20notation.3A.20notation.20already.20declare.html#307778023">(Nov 03 2022 at 16:38)</a>:</h4>
<p><span class="user-mention" data-user-id="127136">@Alex J. Best</span> why is there a blah placeholder?</p>



<a name="307778307"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20tutorial%20invalid%20notation%3A%20notation%20already%20declare/near/307778307" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/mathlib.20tutorial.20invalid.20notation.3A.20notation.20already.20declare.html#307778307">(Nov 03 2022 at 16:40)</a>:</h4>
<p>Its because the notation already exists in another file that is imported, so we just need some name to distinguish them in the latest version of lean. For the purpose of this tutorial <code>blah</code> is a great name, you should be able to forget about it after this though, its not too important</p>



<a name="307778557"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20tutorial%20invalid%20notation%3A%20notation%20already%20declare/near/307778557" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/mathlib.20tutorial.20invalid.20notation.3A.20notation.20already.20declare.html#307778557">(Nov 03 2022 at 16:41)</a>:</h4>
<p><a href="https://github.com/leanprover-community/tutorials/pull/49">https://github.com/leanprover-community/tutorials/pull/49</a> should fix this, I'm not sure who is in charge of merging to tutorials (perhaps <span class="user-mention" data-user-id="110031">@Patrick Massot</span> ?)</p>



<a name="307892427"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20tutorial%20invalid%20notation%3A%20notation%20already%20declare/near/307892427" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/mathlib.20tutorial.20invalid.20notation.3A.20notation.20already.20declare.html#307892427">(Nov 04 2022 at 06:40)</a>:</h4>
<p><span class="user-mention" data-user-id="127136">@Alex J. Best</span> Did you test if we need those lines at all? Isn't the existing notation defeq to <code>abs</code>?</p>



<a name="307892493"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20tutorial%20invalid%20notation%3A%20notation%20already%20declare/near/307892493" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/mathlib.20tutorial.20invalid.20notation.3A.20notation.20already.20declare.html#307892493">(Nov 04 2022 at 06:41)</a>:</h4>
<p>It shouldn't be needed</p>



<a name="307911772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20tutorial%20invalid%20notation%3A%20notation%20already%20declare/near/307911772" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/mathlib.20tutorial.20invalid.20notation.3A.20notation.20already.20declare.html#307911772">(Nov 04 2022 at 09:18)</a>:</h4>
<p>Yeah I didn't test that</p>



<a name="308140337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20tutorial%20invalid%20notation%3A%20notation%20already%20declare/near/308140337" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/mathlib.20tutorial.20invalid.20notation.3A.20notation.20already.20declare.html#308140337">(Nov 05 2022 at 13:24)</a>:</h4>
<p><span class="user-mention" data-user-id="476897">@Siyuan Yan</span> we got distracted here and forgot to mention the key thing: if you see this error message then it means something is horribly broken in the way you use Lean. See <a href="#narrow/stream/113489-new-members/topic/cannot.20build.20tutorials">https://leanprover.zulipchat.com/#narrow/stream/113489-new-members/topic/cannot.20build.20tutorials</a> for explanations given to someone who hit the same issue.</p>



<a name="308140499"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20tutorial%20invalid%20notation%3A%20notation%20already%20declare/near/308140499" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Siyuan Yan <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/mathlib.20tutorial.20invalid.20notation.3A.20notation.20already.20declare.html#308140499">(Nov 05 2022 at 13:25)</a>:</h4>
<p>thanks!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>