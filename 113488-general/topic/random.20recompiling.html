---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/random.20recompiling.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html">random recompiling</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="193068319"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/193068319" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#193068319">(Apr 06 2020 at 16:41)</a>:</h4>
<p>I'm using VSCode on Windows and sometimes after I open the source code of some dependencies somehow Lean thinks I've changed the source code and has to recompile everything. I remember Mario explained it before, but I forgot the explanation.</p>



<a name="193068336"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/193068336" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#193068336">(Apr 06 2020 at 16:41)</a>:</h4>
<p>Maybe can we set up an FAQ or something?</p>



<a name="193069768"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/193069768" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#193069768">(Apr 06 2020 at 16:52)</a>:</h4>
<p>This also happens to me sometimes (also on windows). In this case, I quit Vscode and restart it, and everything is back to normal.</p>



<a name="198577489"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/198577489" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#198577489">(May 24 2020 at 10:44)</a>:</h4>
<p>I feel like this is stopping me from peeking into definitions and printing definitions</p>



<a name="198577493"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/198577493" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#198577493">(May 24 2020 at 10:44)</a>:</h4>
<p>Every time I have to do one of those, I need to <del>sell my soul to the devil</del> restart the Lean server</p>



<a name="198577505"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/198577505" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#198577505">(May 24 2020 at 10:45)</a>:</h4>
<p>This is very annoying.</p>



<a name="198578382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/198578382" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#198578382">(May 24 2020 at 11:11)</a>:</h4>
<p><span class="user-mention" data-user-id="128280">@Wojciech Nawrocki</span> <span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> any idea what might be going on or how to debug this?</p>



<a name="198583130"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/198583130" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wojciech Nawrocki <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#198583130">(May 24 2020 at 13:20)</a>:</h4>
<p>I'm trying to reproduce this now but I'm on Linux and it doesn't seem to happen. I was hoping that we'd handled the Windows differences by stripping the CR from CRLF line endings but there might be something else. Could you give me an example mathlib file that causes the recompilation when opened?</p>



<a name="198590972"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/198590972" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wojciech Nawrocki <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#198590972">(May 24 2020 at 16:55)</a>:</h4>
<p>Okay, I think I can see the problem. Steps to reproduce:</p>
<ol>
<li>Restart Lean</li>
<li>Open a file <code>foo.lean</code> which imports <code>bar.lean</code></li>
<li>Make a change to <code>foo.lean</code>. Lean only recompiles the changed function</li>
<li>Now open <code>bar.lean</code> via Vscode goto definition</li>
<li>Make the same change to <code>foo.lean</code>. Lean recompiles the whole file now?!</li>
</ol>
<p>I can see this on Linux, and I checked that the Windows CRLF clearing works fine, so most likely it's not Windows-specific</p>



<a name="198591119"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/198591119" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#198591119">(May 24 2020 at 16:58)</a>:</h4>
<p>I get this sometimes on Linux and you're describing my usual workflow</p>



<a name="198591177"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/198591177" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#198591177">(May 24 2020 at 17:00)</a>:</h4>
<p>I'm forever hopping to other files to read definitions of things, I find mathlib easier to read than hovering over a definition when doing algebra, because the hover gives you ten definitions of things which are rings and modules and algebras and implicit</p>



<a name="198591204"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/198591204" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ryan Lahfa <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#198591204">(May 24 2020 at 17:01)</a>:</h4>
<p>Maybe it's a bug in the VSCode extension or VSCode is updating silently the times/contents of the file :/</p>



<a name="198591341"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/198591341" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wojciech Nawrocki <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#198591341">(May 24 2020 at 17:05)</a>:</h4>
<p>I think it's more likely a bug in the server's invalidation logic. There's some code to explicitly prevent rebuilding reverse dependencies of newly opened files if the on-disk contents are the same but it doesn't seem to always work</p>



<a name="198591645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/198591645" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ryan Lahfa <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#198591645">(May 24 2020 at 17:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="128280">Wojciech Nawrocki</span> <a href="#narrow/stream/113488-general/topic/random.20recompiling/near/198591341">said</a>:</p>
<blockquote>
<p>I think it's more likely a bug in the server's invalidation logic. There's some code to explicitly prevent rebuilding reverse dependencies of newly opened files if the on-disk contents are the same but it doesn't seem to always work</p>
</blockquote>
<p>In that case, can you reproduce it <em>without</em> VSCode?</p>



<a name="198591745"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/198591745" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wojciech Nawrocki <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#198591745">(May 24 2020 at 17:15)</a>:</h4>
<p>It should be possible but really annoying, since you'd have to manually start a Lean server and send a bunch of JSON sync commands to it</p>



<a name="198591807"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/198591807" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#198591807">(May 24 2020 at 17:17)</a>:</h4>
<p>There is the new python library for doing that</p>



<a name="198591811"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/198591811" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ryan Lahfa <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#198591811">(May 24 2020 at 17:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="128280">Wojciech Nawrocki</span> <a href="#narrow/stream/113488-general/topic/random.20recompiling/near/198591745">said</a>:</p>
<blockquote>
<p>It should be possible but really annoying, since you'd have to manually start a Lean server and send a bunch of JSON sync commands to it</p>
</blockquote>
<p>Isn't a simple way to just do monitor of <em>one</em> file and recompile smartly so that we can see if it's indeed the Lean server which is doing some improper cache invalidation, or VSCode</p>



<a name="198591962"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/198591962" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#198591962">(May 24 2020 at 17:20)</a>:</h4>
<p>Maybe trying to reproduce it in emacs is easier.</p>



<a name="198593264"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/198593264" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#198593264">(May 24 2020 at 18:00)</a>:</h4>
<p>I haven't been able to reproduce this yet, but I'm on macOS and maybe I'm not doing it right. </p>
<p>Here are the contents of my <code>bar.lean</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">lemma</span> <span class="n">blah</span> <span class="o">:</span> <span class="n">true</span> <span class="o">:=</span> <span class="n">trivial</span>
</code></pre></div>


<p>Here are the contents of my <code>foo.lean</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">system</span><span class="bp">.</span><span class="n">io</span>
<span class="kn">import</span> <span class="n">bar</span>

<span class="n">run_cmd</span> <span class="n">do</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">unsafe_run_io</span> <span class="o">(</span><span class="n">io</span><span class="bp">.</span><span class="n">proc</span><span class="bp">.</span><span class="n">sleep</span> <span class="mi">1</span><span class="o">)</span><span class="bp">.</span>

<span class="n">run_cmd</span> <span class="n">do</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">unsafe_run_io</span> <span class="o">(</span><span class="n">io</span><span class="bp">.</span><span class="n">proc</span><span class="bp">.</span><span class="n">sleep</span> <span class="mi">1</span><span class="o">)</span><span class="bp">.</span>

<span class="n">run_cmd</span> <span class="n">do</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">unsafe_run_io</span> <span class="o">(</span><span class="n">io</span><span class="bp">.</span><span class="n">proc</span><span class="bp">.</span><span class="n">sleep</span> <span class="mi">1</span><span class="o">)</span><span class="bp">.</span>

<span class="n">run_cmd</span> <span class="n">do</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">unsafe_run_io</span> <span class="o">(</span><span class="n">io</span><span class="bp">.</span><span class="n">proc</span><span class="bp">.</span><span class="n">sleep</span> <span class="mi">1</span><span class="o">)</span><span class="bp">.</span>

<span class="n">run_cmd</span> <span class="n">do</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">unsafe_run_io</span> <span class="o">(</span><span class="n">io</span><span class="bp">.</span><span class="n">proc</span><span class="bp">.</span><span class="n">sleep</span> <span class="mi">1</span><span class="o">)</span><span class="bp">.</span>

<span class="n">run_cmd</span> <span class="n">do</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">unsafe_run_io</span> <span class="o">(</span><span class="n">io</span><span class="bp">.</span><span class="n">proc</span><span class="bp">.</span><span class="n">sleep</span> <span class="mi">1</span><span class="o">)</span><span class="bp">.</span>

<span class="n">run_cmd</span> <span class="n">do</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">unsafe_run_io</span> <span class="o">(</span><span class="n">io</span><span class="bp">.</span><span class="n">proc</span><span class="bp">.</span><span class="n">sleep</span> <span class="mi">1</span><span class="o">)</span><span class="bp">.</span>

<span class="n">run_cmd</span> <span class="n">do</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">unsafe_run_io</span> <span class="o">(</span><span class="n">io</span><span class="bp">.</span><span class="n">proc</span><span class="bp">.</span><span class="n">sleep</span> <span class="mi">1</span><span class="o">)</span><span class="bp">.</span>

<span class="n">run_cmd</span> <span class="n">do</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">unsafe_run_io</span> <span class="o">(</span><span class="n">io</span><span class="bp">.</span><span class="n">proc</span><span class="bp">.</span><span class="n">sleep</span> <span class="mi">1</span><span class="o">)</span><span class="bp">.</span>

<span class="c">/-</span><span class="cm"> comment to prevent crash from https://github.com/leanprover-community/lean/issues/85 -/</span>
</code></pre></div>


<p>All of the following is done with VS Code and Lean 3.14.0.</p>
<p>First, I restart Lean and open <code>foo.lean</code>. The whole file recompiles, which takes 10 seconds or so. Then I add a comment near the 3rd to last <code>run_cmd</code>. The entire file recompiles when I make my first edit, but if I make more edits, the orange bars only appear below where I edit.</p>
<p>Next, I right click on <code>import bar</code> and go to definition so that <code>bar.lean</code> appears. Without making any changes to <code>bar.lean</code>, I return to <code>foo.lean</code>. Then I add a comment again near the bottom of the file. I haven't been seeing the entirety of <code>foo.lean</code> recompiling here -- the orange bars still only appear below where I edit. Same behavior if I keep making more edits.</p>



<a name="198593795"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/198593795" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wojciech Nawrocki <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#198593795">(May 24 2020 at 18:17)</a>:</h4>
<p><span class="user-mention" data-user-id="123965">@Bryan Gin-ge Chen</span> I <em>can</em> reproduce it with just these two files (in vscode, on linux). On the other hand, this part</p>
<blockquote>
<p>The entire file recompiles when I make my first edit</p>
</blockquote>
<p>is not true for me</p>



<a name="198595910"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/198595910" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#198595910">(May 24 2020 at 19:17)</a>:</h4>
<p><span class="user-mention" data-user-id="128280">@Wojciech Nawrocki</span> I just tested the pair of files on Windows and while <code>foo.lean</code> doesn't fully recompile when I make my first edit, I also don't see it fully recompile after I switch back and forth from <code>bar.lean</code>. Very puzzling...</p>



<a name="198662976"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/198662976" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#198662976">(May 25 2020 at 12:29)</a>:</h4>
<p>Just skimming over this issue and the PR.  This seems kind of expected.  We only store one copy of a module, either from olean or from source.  (This is pretty important to keep memory usage down.)  So when you open a dependency, lean will load the file from source.  The problem should begin when you get back to the original file and make a change there, then it will wait for the olean of the dependency to be ready.</p>



<a name="198664815"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/198664815" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#198664815">(May 25 2020 at 12:48)</a>:</h4>
<p>Suppose I open A and B in my editor (emacs if it matters) where B imports A. I edit the buffer of A, but don't save it. If I now switch to B, will lean use my modifications to A (and therefore recompile possibly a lot of things)?</p>



<a name="198664839"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/198664839" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#198664839">(May 25 2020 at 12:48)</a>:</h4>
<p>I imagined I could avoid this by not saving A, but maybe this was a bad assumption.</p>



<a name="198664925"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/198664925" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#198664925">(May 25 2020 at 12:49)</a>:</h4>
<p>Yes, you don't even need to save A!</p>



<a name="198664951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/198664951" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#198664951">(May 25 2020 at 12:49)</a>:</h4>
<p>Good to know. I should try out this <code>--old</code> flag then.</p>



<a name="198665063"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/198665063" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#198665063">(May 25 2020 at 12:50)</a>:</h4>
<p>However, because of the switch to using hashes for recompilation detection, I should be able to undo my changes to A and then lean will switch back to using the oleans, right?</p>



<a name="198668808"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/198668808" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wojciech Nawrocki <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#198668808">(May 25 2020 at 13:28)</a>:</h4>
<p><span class="user-mention" data-user-id="110032">@Reid Barton</span> Afaik in this scenario, if you want to have A open and things like tactic/goal states visible, Lean has to compile A from source. This is because the .oleans do not store this information. If you then make a change to the A buffer (even without saving), Lean will recompile the file and overwrite the environment stored in-memory. Undoing the change cannot just pull the old information from the olean since it's not there, so Lean has to recompile again.</p>



<a name="198668919"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/198668919" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wojciech Nawrocki <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#198668919">(May 25 2020 at 13:29)</a>:</h4>
<p>The above behaviour is fine in my view. What's not fine is that the act of simply opening the source corresponding to an already-loaded .olean forces a recompilation of the environment for that module and also all its reverse dependencies.</p>



<a name="198895091"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/198895091" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#198895091">(May 27 2020 at 14:05)</a>:</h4>
<p>have we fixed this yet?</p>



<a name="198895875"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/198895875" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#198895875">(May 27 2020 at 14:11)</a>:</h4>
<p>"Works as expected."  The behavior hasn't changed in the meantime.</p>



<a name="198940585"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/198940585" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#198940585">(May 27 2020 at 19:30)</a>:</h4>
<p><span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> if I open a file in NotePad++ would the same problem occur?</p>



<a name="198941063"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/198941063" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#198941063">(May 27 2020 at 19:33)</a>:</h4>
<p>No, there is no lean server integration in notepad++.</p>



<a name="198945232"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/198945232" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#198945232">(May 27 2020 at 20:03)</a>:</h4>
<p><span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> then is it possible to have a new button that says "peek this definition in notepad++ mode"?</p>



<a name="198945419"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/198945419" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#198945419">(May 27 2020 at 20:04)</a>:</h4>
<p>also why does <code>#print</code> trigger recompilation as well?</p>



<a name="198945477"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/198945477" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#198945477">(May 27 2020 at 20:04)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> Does the <code>--old</code> option help?</p>



<a name="198945562"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/198945562" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#198945562">(May 27 2020 at 20:05)</a>:</h4>
<p>how does that work?</p>



<a name="198945606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/198945606" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#198945606">(May 27 2020 at 20:05)</a>:</h4>
<p>I haven't used it yet, but it should use old oleans, even if files "changed"</p>



<a name="198945684"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/198945684" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#198945684">(May 27 2020 at 20:06)</a>:</h4>
<p>how do I use it?</p>



<a name="198945730"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/198945730" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#198945730">(May 27 2020 at 20:06)</a>:</h4>
<p><a href="#narrow/stream/113488-general/topic/Using.20out-of-date.20oleans.20without.20recompiling/near/197963331">https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Using.20out-of-date.20oleans.20without.20recompiling/near/197963331</a></p>



<a name="198945737"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/random%20recompiling/near/198945737" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/random.20recompiling.html#198945737">(May 27 2020 at 20:06)</a>:</h4>
<p>Unfortunately <code>--old</code> doesn't fix the issue in this thread though.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>