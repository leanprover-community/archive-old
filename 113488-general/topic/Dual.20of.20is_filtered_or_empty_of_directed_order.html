---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Dual.20of.20is_filtered_or_empty_of_directed_order.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Dual.20of.20is_filtered_or_empty_of_directed_order.html">Dual of is_filtered_or_empty_of_directed_order</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="266817557"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Dual%20of%20is_filtered_or_empty_of_directed_order/near/266817557" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Dual.20of.20is_filtered_or_empty_of_directed_order.html#266817557">(Jan 04 2022 at 14:59)</a>:</h4>
<p><span class="user-mention" data-user-id="243562">@Adam Topaz</span>, <span class="user-mention" data-user-id="306601">@Kyle Miller</span>, what is the dual lemma to</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">@[priority 100]</span>
<span class="kd">instance</span> <span class="n">is_filtered_or_empty_of_directed_order</span>
  <span class="o">(</span><span class="n">Œ±</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">directed_order</span> <span class="n">Œ±</span><span class="o">]</span> <span class="o">:</span> <span class="n">is_filtered_or_empty</span> <span class="n">Œ±</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">cocone_objs</span> <span class="o">:=</span> <span class="bp">Œª</span> <span class="n">X</span> <span class="n">Y</span><span class="o">,</span> <span class="k">let</span> <span class="o">‚ü®</span><span class="n">Z</span><span class="o">,</span><span class="n">h1</span><span class="o">,</span><span class="n">h2</span><span class="o">‚ü©</span> <span class="o">:=</span> <span class="n">directed_order.directed</span> <span class="n">X</span> <span class="n">Y</span> <span class="k">in</span>
    <span class="o">‚ü®</span><span class="n">Z</span><span class="o">,</span> <span class="n">hom_of_le</span> <span class="n">h1</span><span class="o">,</span> <span class="n">hom_of_le</span> <span class="n">h2</span><span class="o">,</span> <span class="n">trivial</span><span class="o">‚ü©,</span>
  <span class="n">cocone_maps</span> <span class="o">:=</span> <span class="bp">Œª</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">f</span> <span class="n">g</span><span class="o">,</span> <span class="o">‚ü®</span><span class="n">Y</span><span class="o">,</span> <span class="mi">ùüô</span> <span class="n">_</span><span class="o">,</span> <span class="kd">by</span> <span class="n">simp</span><span class="o">‚ü©</span> <span class="o">}</span>
</code></pre></div>
<p>you were hinting at? I'm in a position to prove it at <a href="https://github.com/leanprover-community/mathlib/tree/directed_mixin">branch#directed_mixin</a>.</p>



<a name="266817850"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Dual%20of%20is_filtered_or_empty_of_directed_order/near/266817850" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Dual.20of.20is_filtered_or_empty_of_directed_order.html#266817850">(Jan 04 2022 at 15:01)</a>:</h4>
<p>Mostly, I don't know where you want the duals/opposites to be inserted.</p>



<a name="266821476"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Dual%20of%20is_filtered_or_empty_of_directed_order/near/266821476" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Dual.20of.20is_filtered_or_empty_of_directed_order.html#266821476">(Jan 04 2022 at 15:30)</a>:</h4>
<p><code>is_cofiltered_of_empty_of_codirected_order</code> ?</p>



<a name="266821485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Dual%20of%20is_filtered_or_empty_of_directed_order/near/266821485" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Dual.20of.20is_filtered_or_empty_of_directed_order.html#266821485">(Jan 04 2022 at 15:30)</a>:</h4>
<p>(sorry)</p>



<a name="266821537"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Dual%20of%20is_filtered_or_empty_of_directed_order/near/266821537" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Dual.20of.20is_filtered_or_empty_of_directed_order.html#266821537">(Jan 04 2022 at 15:31)</a>:</h4>
<p>Oh, <code>is_cofiltered</code> is a thing!</p>



<a name="266821570"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Dual%20of%20is_filtered_or_empty_of_directed_order/near/266821570" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Dual.20of.20is_filtered_or_empty_of_directed_order.html#266821570">(Jan 04 2022 at 15:31)</a>:</h4>
<p>Sorry, category theory newbie <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="266821616"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Dual%20of%20is_filtered_or_empty_of_directed_order/near/266821616" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Dual.20of.20is_filtered_or_empty_of_directed_order.html#266821616">(Jan 04 2022 at 15:31)</a>:</h4>
<p>At some point, I (and some other people) tried dualizing these results with bad results: <a href="https://github.com/leanprover-community/mathlib/pull/7980">#7980</a><br>
I hope the mixin approach will resolve these issues -- I guess we'll see!</p>



<a name="266821735"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Dual%20of%20is_filtered_or_empty_of_directed_order/near/266821735" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Dual.20of.20is_filtered_or_empty_of_directed_order.html#266821735">(Jan 04 2022 at 15:33)</a>:</h4>
<p>Directed orders are barely used (less than 40 times) and they don't neatly fit in the hierarchy. Further, the mixin is Prop-valued. So I think it's all benef!</p>



<a name="266821818"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Dual%20of%20is_filtered_or_empty_of_directed_order/near/266821818" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Dual.20of.20is_filtered_or_empty_of_directed_order.html#266821818">(Jan 04 2022 at 15:33)</a>:</h4>
<p>Yeah, the full history is <a href="https://github.com/leanprover-community/mathlib/pull/7163">#7163</a>, <a href="https://github.com/leanprover-community/mathlib/pull/7980">#7980</a>, <a href="https://github.com/leanprover-community/mathlib/pull/9200">#9200</a> I think.</p>



<a name="266821942"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Dual%20of%20is_filtered_or_empty_of_directed_order/near/266821942" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Dual.20of.20is_filtered_or_empty_of_directed_order.html#266821942">(Jan 04 2022 at 15:34)</a>:</h4>
<p>Looks like a graveyard of abandoned PRs...</p>



<a name="266822468"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Dual%20of%20is_filtered_or_empty_of_directed_order/near/266822468" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David W√§rn <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Dual.20of.20is_filtered_or_empty_of_directed_order.html#266822468">(Jan 04 2022 at 15:38)</a>:</h4>
<p>What's the point of this lemma? It seems to encourage using 'wrong' definitions. The 'correct' definition of directed order should include <code>nonempty Œ±</code> (then every finset has an upper bound, not only nonempty finsets), just like <code>is_filtered</code> does</p>



<a name="266823158"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Dual%20of%20is_filtered_or_empty_of_directed_order/near/266823158" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Dual.20of.20is_filtered_or_empty_of_directed_order.html#266823158">(Jan 04 2022 at 15:43)</a>:</h4>
<p>Are you suggesting that the definition <a href="https://leanprover-community.github.io/mathlib_docs/find/directed_order">docs#directed_order</a> should be changed?</p>



<a name="266823344"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Dual%20of%20is_filtered_or_empty_of_directed_order/near/266823344" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Dual.20of.20is_filtered_or_empty_of_directed_order.html#266823344">(Jan 04 2022 at 15:45)</a>:</h4>
<p><code>directed_order Œ±</code> wasn't including <code>nonempty Œ±</code>, so I'm playing it conservative. My point with <a href="https://github.com/leanprover-community/mathlib/pull/11238">#11238</a> is really to turn from an extends to a mixin.</p>



<a name="266823530"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Dual%20of%20is_filtered_or_empty_of_directed_order/near/266823530" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Dual.20of.20is_filtered_or_empty_of_directed_order.html#266823530">(Jan 04 2022 at 15:47)</a>:</h4>
<p>If you really want <code>is_directed Œ±</code> to include <code>nonempty Œ±</code>, we can consider this in a followup PR. But I'm already noting that this would break away from the other unbundled relation classes.</p>



<a name="266824276"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Dual%20of%20is_filtered_or_empty_of_directed_order/near/266824276" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David W√§rn <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Dual.20of.20is_filtered_or_empty_of_directed_order.html#266824276">(Jan 04 2022 at 15:53)</a>:</h4>
<p>Ok, I guess my question is orthogonal to this PR. I don't know if the definition of <code>directed_order</code> needs to change (you can still use it as <code>[directed_order A] [nonempty A]</code>), but it could maybe be renamed to 'predirected' in line with <code>is_preconnected</code>.</p>



<a name="266824483"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Dual%20of%20is_filtered_or_empty_of_directed_order/near/266824483" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Dual.20of.20is_filtered_or_empty_of_directed_order.html#266824483">(Jan 04 2022 at 15:54)</a>:</h4>
<p>Yes, this sounds more reasonable already <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="266947088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Dual%20of%20is_filtered_or_empty_of_directed_order/near/266947088" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Dual.20of.20is_filtered_or_empty_of_directed_order.html#266947088">(Jan 05 2022 at 15:14)</a>:</h4>
<p>This change is really doomed. There is random stuff breaking...</p>



<a name="266965047"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Dual%20of%20is_filtered_or_empty_of_directed_order/near/266965047" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Dual.20of.20is_filtered_or_empty_of_directed_order.html#266965047">(Jan 05 2022 at 17:33)</a>:</h4>
<p>Which pair of lemmas do you prefer?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">exists_ge_ge</span> <span class="o">[</span><span class="n">has_le</span> <span class="n">Œ±</span><span class="o">]</span> <span class="o">[</span><span class="n">is_directed</span> <span class="n">Œ±</span> <span class="o">(</span><span class="bp">‚â§</span><span class="o">)]</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">Œ±</span><span class="o">)</span> <span class="o">:</span> <span class="bp">‚àÉ</span> <span class="n">c</span><span class="o">,</span> <span class="n">a</span> <span class="bp">‚â§</span> <span class="n">c</span> <span class="bp">‚àß</span> <span class="n">b</span> <span class="bp">‚â§</span> <span class="n">c</span> <span class="o">:=</span>
<span class="kd">lemma</span> <span class="n">exists_le_le</span> <span class="o">[</span><span class="n">has_le</span> <span class="n">Œ±</span><span class="o">]</span> <span class="o">[</span><span class="n">is_directed</span> <span class="n">Œ±</span> <span class="o">(</span><span class="n">swap</span> <span class="o">(</span><span class="bp">‚â§</span><span class="o">))]</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">Œ±</span><span class="o">)</span> <span class="o">:</span> <span class="bp">‚àÉ</span> <span class="n">c</span><span class="o">,</span> <span class="n">c</span> <span class="bp">‚â§</span> <span class="n">a</span> <span class="bp">‚àß</span> <span class="n">c</span> <span class="bp">‚â§</span> <span class="n">b</span> <span class="o">:=</span>
<span class="c1">-- or</span>
<span class="kd">lemma</span> <span class="n">exists_ge_ge</span> <span class="o">[</span><span class="n">has_le</span> <span class="n">Œ±</span><span class="o">]</span> <span class="o">[</span><span class="n">is_directed</span> <span class="n">Œ±</span> <span class="o">(</span><span class="bp">‚â§</span><span class="o">)]</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">Œ±</span><span class="o">)</span> <span class="o">:</span> <span class="bp">‚àÉ</span> <span class="n">c</span><span class="o">,</span> <span class="n">a</span> <span class="bp">‚â§</span> <span class="n">c</span> <span class="bp">‚àß</span> <span class="n">b</span> <span class="bp">‚â§</span> <span class="n">c</span> <span class="o">:=</span>
<span class="kd">lemma</span> <span class="n">exists_le_le</span> <span class="o">[</span><span class="n">has_le</span> <span class="n">Œ±</span><span class="o">]</span> <span class="o">[</span><span class="n">is_directed</span> <span class="n">Œ±</span> <span class="o">(</span><span class="bp">‚â•</span><span class="o">)]</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">Œ±</span><span class="o">)</span> <span class="o">:</span> <span class="bp">‚àÉ</span> <span class="n">c</span><span class="o">,</span> <span class="n">c</span> <span class="bp">‚â§</span> <span class="n">a</span> <span class="bp">‚àß</span> <span class="n">c</span> <span class="bp">‚â§</span> <span class="n">b</span> <span class="o">:=</span>
</code></pre></div>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>