---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Lean.204.20released.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.204.20released.html">Lean 4 released</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="221527390"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20released/near/221527390" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.204.20released.html#221527390">(Jan 04 2021 at 14:17)</a>:</h4>
<p>For those of you not following the rss stream, Lean 4 has just been released!</p>



<a name="221527656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20released/near/221527656" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.204.20released.html#221527656">(Jan 04 2021 at 14:19)</a>:</h4>
<p>I believe the -M1 suffix means it's still a milestone (i.e. beta) release.  But I'm sure we'll hear more concrete details later today.</p>



<a name="221527929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20released/near/221527929" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.204.20released.html#221527929">(Jan 04 2021 at 14:21)</a>:</h4>
<p><a href="https://github.com/mhuisi/vscode-lean4">vscode-lean4</a> is probably of interest as well.</p>



<a name="221528655"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20released/near/221528655" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.204.20released.html#221528655">(Jan 04 2021 at 14:27)</a>:</h4>
<p>There's a short "release post" for Lean 4.0.0-m1 <a href="https://github.com/leanprover/lean4/releases/tag/v4.0.0-m1">here</a>.</p>
<p><strong>edit</strong>: link fixed per Marc Huisinga's post below.</p>



<a name="221528849"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20released/near/221528849" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.204.20released.html#221528849">(Jan 04 2021 at 14:28)</a>:</h4>
<p>Do we have a Lean 4 Zulip stream? I'll have 100000 questions to ask.</p>



<a name="221529864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20released/near/221529864" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.204.20released.html#221529864">(Jan 04 2021 at 14:36)</a>:</h4>
<p>I think separate topics for each question in the #general stream is fine, but maybe there are other opinions.</p>



<a name="221531044"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20released/near/221531044" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.204.20released.html#221531044">(Jan 04 2021 at 14:46)</a>:</h4>
<p>I would rather have centralized stream for every Lean 4 question for easy accessibility</p>



<a name="221531300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20released/near/221531300" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.204.20released.html#221531300">(Jan 04 2021 at 14:48)</a>:</h4>
<p>Is there a <code>lean4-mode</code> emacs package somewhere?</p>



<a name="221531556"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20released/near/221531556" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.204.20released.html#221531556">(Jan 04 2021 at 14:50)</a>:</h4>
<p>It looks like it's in the lean4 repository: <a href="https://github.com/leanprover/lean4/tree/master/lean4-mode">https://github.com/leanprover/lean4/tree/master/lean4-mode</a></p>



<a name="221533344"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20released/near/221533344" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.204.20released.html#221533344">(Jan 04 2021 at 15:03)</a>:</h4>
<p><span class="user-mention silent" data-user-id="123965">Bryan Gin-ge Chen</span> <a href="#narrow/stream/113488-general/topic/Lean.204.20released/near/221528655">said</a>:</p>
<blockquote>
<p>There's a short "release post" for Lean 4.0.0-M1 <a href="https://github.com/leanprover/lean4/releases/tag/v4.0.0-M1">here</a>.</p>
</blockquote>
<p>the release post can now be found here: <a href="https://github.com/leanprover/lean4/releases/tag/v4.0.0-m1">https://github.com/leanprover/lean4/releases/tag/v4.0.0-m1</a> :)</p>



<a name="221537506"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20released/near/221537506" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.204.20released.html#221537506">(Jan 04 2021 at 15:33)</a>:</h4>
<p>In case it's helpful for others, here are the steps I took to get a Lean 4 project up and running with <code>vscode-lean4</code>.</p>
<p>First, clone your favorite Lean 4 project, e.g. <a href="https://github.com/rwbarton/advent-of-lean-4">advent-of-lean-4</a>:</p>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>git clone https://github.com/rwbarton/advent-of-lean-4.git
</code></pre></div>
<p>Then install lean4 using <code>elan</code>:</p>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>elan install leanprover/lean4:4.0.0-m1
</code></pre></div>
<p>Navigate to your lean4 project directory, set an override for the Lean version, and open VS Code:</p>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>cd advent-of-lean-4
elan override set leanprover-lean4-4.0.0-m1
code .
</code></pre></div>
<p>Open the extensions tab in VS Code, search for <code>vscode-lean4</code> and install it. It seems to override <code>vscode-lean</code> in all Lean projects, so for now I've disabled it globally and enabled it only in this workspace.</p>
<p>The extension should run when you open a <code>.lean</code> file and you can test the features mentioned in <a href="https://github.com/mhuisi/vscode-lean4#functionality">the README</a>. For example, you can go through each of the files in <code>advent-of-lean-4</code> and make the (relatively straightforward) fixes to get it to work with 4.0.0-m1.</p>



<a name="221557983"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20released/near/221557983" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.204.20released.html#221557983">(Jan 04 2021 at 18:01)</a>:</h4>
<p>Does hover support work (I guess that's a question for anyone who got things set up in emacs)</p>



<a name="221558119"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20released/near/221558119" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.204.20released.html#221558119">(Jan 04 2021 at 18:02)</a>:</h4>
<p>not yet! it's being worked on, though :)</p>



<a name="221558229"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20released/near/221558229" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.204.20released.html#221558229">(Jan 04 2021 at 18:03)</a>:</h4>
<p>Ah awesome thanks! k, just wanted to make sure I wasn't missing something --  just also saw the list of functionality in <a href="https://github.com/mhuisi/vscode-lean4">https://github.com/mhuisi/vscode-lean4</a> too</p>



<a name="221558478"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20released/near/221558478" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.204.20released.html#221558478">(Jan 04 2021 at 18:05)</a>:</h4>
<p>While I'm at it.. is there a decent way to decide whether to run Lean 3 or lean 4? I guess <em>a</em> way is "try to load a leanpkg.toml and read the version out of that, and fallback to lean4 maybe?"?</p>



<a name="221610096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20released/near/221610096" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Sullivan <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.204.20released.html#221610096">(Jan 05 2021 at 03:39)</a>:</h4>
<p>On OSX just now. I don't know what the problem is.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">elan</span> <span class="n">install</span> <span class="n">leanprover</span><span class="bp">/</span><span class="n">lean4</span><span class="o">:</span><span class="mi">4</span><span class="bp">.</span><span class="mi">0</span><span class="bp">.</span><span class="mi">0</span><span class="bp">-</span><span class="n">m1</span>
<span class="n">error</span><span class="o">:</span> <span class="n">toolchain</span> <span class="bp">'</span><span class="n">leanprover</span><span class="bp">-</span><span class="n">lean4</span><span class="bp">-</span><span class="mi">4</span><span class="bp">.</span><span class="mi">0</span><span class="bp">.</span><span class="mi">0</span><span class="bp">-</span><span class="n">m1'</span> <span class="n">is</span> <span class="n">not</span> <span class="n">installed</span>
</code></pre></div>



<a name="221612279"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20released/near/221612279" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.204.20released.html#221612279">(Jan 05 2021 at 04:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="124175">Kevin Sullivan</span> <a href="#narrow/stream/113488-general/topic/Lean.204.20released/near/221610096">said</a>:</p>
<blockquote>
<p>On OSX just now. I don't know what the problem is.</p>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">elan</span> <span class="n">install</span> <span class="n">leanprover</span><span class="bp">/</span><span class="n">lean4</span><span class="o">:</span><span class="mi">4</span><span class="bp">.</span><span class="mi">0</span><span class="bp">.</span><span class="mi">0</span><span class="bp">-</span><span class="n">m1</span>
<span class="n">error</span><span class="o">:</span> <span class="n">toolchain</span> <span class="bp">'</span><span class="n">leanprover</span><span class="bp">-</span><span class="n">lean4</span><span class="bp">-</span><span class="mi">4</span><span class="bp">.</span><span class="mi">0</span><span class="bp">.</span><span class="mi">0</span><span class="bp">-</span><span class="n">m1'</span> <span class="n">is</span> <span class="n">not</span> <span class="n">installed</span>
</code></pre></div><br>
</p>
</blockquote>
<p>I tried this on osx big sur and on windows and it worked fine, you could try updating or reinstalling elan (and move your ~/.elan directory elsewhere to clear out all the old stuff)?</p>



<a name="221630924"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20released/near/221630924" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.204.20released.html#221630924">(Jan 05 2021 at 10:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110064">Kenny Lau</span> <a href="#narrow/stream/113488-general/topic/Lean.204.20released/near/221531044">said</a>:</p>
<blockquote>
<p>I would rather have centralized stream for every Lean 4 question for easy accessibility</p>
</blockquote>
<p>That's probably a good idea. I don't remember, if we add all current members to the stream during stream creation, do they all get mailed <span aria-label="laughter tears" class="emoji emoji-1f602" role="img" title="laughter tears">:laughter_tears:</span> ? Or was that only when adding people after the stream has been created?</p>



<a name="221633578"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20released/near/221633578" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.204.20released.html#221633578">(Jan 05 2021 at 11:00)</a>:</h4>
<p>I don't think it's a bad idea to mail everyone in this particular instance</p>



<a name="221633660"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20released/near/221633660" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.204.20released.html#221633660">(Jan 05 2021 at 11:01)</a>:</h4>
<p>Alright, I'll go ahead and create #lean4 then... after moving a certain private channel with the same name out of the way</p>



<a name="221637720"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20released/near/221637720" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.204.20released.html#221637720">(Jan 05 2021 at 11:50)</a>:</h4>
<p>Created and added to default streams</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>