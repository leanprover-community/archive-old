---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/ring_hom.2Ecomp.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/ring_hom.2Ecomp.html">ring_hom.comp</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="219462245"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/ring_hom.comp/near/219462245" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/ring_hom.2Ecomp.html#219462245">(Dec 10 2020 at 11:53)</a>:</h4>
<p>Amelia just pointed out to me that in <a href="https://leanprover-community.github.io/mathlib_docs/find/ring_hom.comp">docs#ring_hom.comp</a> two of the semiring instances are <code>[]</code> and one is <code>{}</code>. This surprised me! Why do we do it like this? There's no mention of this phenomenon in the module doc.</p>



<a name="219463048"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/ring_hom.comp/near/219463048" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/ring_hom.2Ecomp.html#219463048">(Dec 10 2020 at 12:03)</a>:</h4>
<p>Something similar also happens in <a href="https://leanprover-community.github.io/mathlib_docs/find/linear_map.comp">docs#linear_map.comp</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/linear_map.map_neg">docs#linear_map.map_neg</a>. Presumably finding the arguments by unification gives (used to give?) less diamonds than doing it by typeclass search?</p>



<a name="219465116"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/ring_hom.comp/near/219465116" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/ring_hom.2Ecomp.html#219465116">(Dec 10 2020 at 12:28)</a>:</h4>
<p>There's now a library note about this, somewhere</p>



<a name="219465130"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/ring_hom.comp/near/219465130" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/ring_hom.2Ecomp.html#219465130">(Dec 10 2020 at 12:28)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/notes.html#implicit%20instance%20arguments">https://leanprover-community.github.io/mathlib_docs/notes.html#implicit%20instance%20arguments</a></p>



<a name="219465175"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/ring_hom.comp/near/219465175" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/ring_hom.2Ecomp.html#219465175">(Dec 10 2020 at 12:29)</a>:</h4>
<p>As for why one is different to the others, it's probably an accident. Keeping track of which variables are currently in your scope is really hard!</p>



<a name="219470867"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/ring_hom.comp/near/219470867" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/ring_hom.2Ecomp.html#219470867">(Dec 10 2020 at 13:26)</a>:</h4>
<p>Oh -- so when this is happening there should be a library note? Thanks! Yes, I figured out (in the sense of "Amelia explained it to me") how it could work in principle but then I was confused why it was happening in some places but not others.</p>



<a name="219471122"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/ring_hom.comp/near/219471122" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/ring_hom.2Ecomp.html#219471122">(Dec 10 2020 at 13:29)</a>:</h4>
<p>Non-obvious design decisions like this are what comments are for generally, and library notes are supposed to be a mechanism to deduplicate and cross-link repeating issues</p>



<a name="219471319"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/ring_hom.comp/near/219471319" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/ring_hom.2Ecomp.html#219471319">(Dec 10 2020 at 13:31)</a>:</h4>
<p>This seems to be a repeating issue though -- we first discovered it in the lifting property <code>liftq</code> for quotient modules, and then in <code>mkq</code>, and then in <code>comp</code>.</p>



<a name="219471505"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/ring_hom.comp/near/219471505" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/ring_hom.2Ecomp.html#219471505">(Dec 10 2020 at 13:33)</a>:</h4>
<p>right, so it would be good to reference <code>implicit instance arguments</code> where it comes up, and then add specific comments about why it pertains to some but not all of the classes involved</p>



<a name="219471687"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/ring_hom.comp/near/219471687" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/ring_hom.2Ecomp.html#219471687">(Dec 10 2020 at 13:34)</a>:</h4>
<p>Here it's not really clear whether it's intentional, though it seems likely...</p>



<a name="219471744"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/ring_hom.comp/near/219471744" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/ring_hom.2Ecomp.html#219471744">(Dec 10 2020 at 13:34)</a>:</h4>
<p>Maybe I'll try and tweak docgen to add backreferences from the <code>notes</code> section...</p>



<a name="219471806"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/ring_hom.comp/near/219471806" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/ring_hom.2Ecomp.html#219471806">(Dec 10 2020 at 13:35)</a>:</h4>
<p>But the note _is_ there already: <a href="https://leanprover-community.github.io/mathlib_docs/algebra/ring/basic.html#ring_hom.to_monoid_with_zero_hom">https://leanprover-community.github.io/mathlib_docs/algebra/ring/basic.html#ring_hom.to_monoid_with_zero_hom</a></p>



<a name="219471825"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/ring_hom.comp/near/219471825" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/ring_hom.2Ecomp.html#219471825">(Dec 10 2020 at 13:35)</a>:</h4>
<p>It's just not repeated for every single definition in the file</p>



<a name="219904382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/ring_hom.comp/near/219904382" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/ring_hom.2Ecomp.html#219904382">(Dec 14 2020 at 21:27)</a>:</h4>
<p><span class="user-mention" data-user-id="238446">@Anne Baanen</span> its not about diamonds, it's just faster to find it by unification than type class inference.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>