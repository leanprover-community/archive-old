---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/lean.20setup.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20setup.html">lean setup</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="260266649"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20setup/near/260266649" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20setup.html#260266649">(Nov 04 2021 at 13:08)</a>:</h4>
<p>What do you think would be the ideal Lean setup considering that we're interested in getting the attention of people who don't necessarily know much about binaries and paths? Personally I was a bit confused on the Lean setup because when I visited the <code>Downloads</code> tab from the official Lean site it linked me to binaries and source files. So I thought "Huh, this is hard on some people", then I downloaded the binaries, decompressed them in a directory and added the directory to my <code>PATH</code> by hand.</p>
<p>But then, after interacting here on Zulip, I realized that <code>elan</code> is the binary file that's supposed to call the proper Lean binary according the Lean version of the project I'm in. So the setup that I had done by hand was unnecessary.</p>
<p>Since then I've been asking myself how to make the Lean setup smoother. But of course I'd prefer hear it from you guys, who have actual experience dealing with Lean projects. How do you think we could make the Lean setup more welcoming?</p>



<a name="260266792"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20setup/near/260266792" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20setup.html#260266792">(Nov 04 2021 at 13:09)</a>:</h4>
<p><span class="user-mention" data-user-id="451983">@Arthur Paulino</span> I guess you've seen <a href="https://leanprover-community.github.io/get_started.html">https://leanprover-community.github.io/get_started.html</a> ?</p>



<a name="260266978"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20setup/near/260266978" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20setup.html#260266978">(Nov 04 2021 at 13:11)</a>:</h4>
<p>We have to cater to people who have never heard of a command line before, but also to power users. Currently, using lean and mathlib effectively requires learning some technical tools: command line, git. That might change in the future, but I don't think it will happen soon.</p>



<a name="260267053"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20setup/near/260267053" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20setup.html#260267053">(Nov 04 2021 at 13:12)</a>:</h4>
<p>This means there will be some hurdles that are not-directly-Lean-related.</p>



<a name="260267125"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20setup/near/260267125" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20setup.html#260267125">(Nov 04 2021 at 13:12)</a>:</h4>
<p>At the same time, there are users  who live in the shell and <code>git merge</code> for breakfast.</p>



<a name="260267141"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20setup/near/260267141" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20setup.html#260267141">(Nov 04 2021 at 13:12)</a>:</h4>
<p>That's why we try to provide different installation methods, and different guides.</p>



<a name="260267317"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20setup/near/260267317" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20setup.html#260267317">(Nov 04 2021 at 13:14)</a>:</h4>
<p>If your goal is to get the attention of people with a small lean project of your own for them to play around with, you can hand them a link to a gitpod instance so they can explore your code with a full lean installation in browser</p>



<a name="260267380"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20setup/near/260267380" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20setup.html#260267380">(Nov 04 2021 at 13:14)</a>:</h4>
<p>That doesn't help bridge the gap to "yes I want to use this for my own project" very well though</p>



<a name="260270792"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20setup/near/260270792" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20setup.html#260270792">(Nov 04 2021 at 13:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/113488-general/topic/lean.20setup/near/260266792">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="451983">Arthur Paulino</span> I guess you've seen <a href="https://leanprover-community.github.io/get_started.html">https://leanprover-community.github.io/get_started.html</a> ?</p>
</blockquote>
<p>Yeap I saw that link. Mentally I'm using Coq's setup as a benchmark, for which a <code>$ sudo apt install coq coqide</code> does it all. But the Coq's mathematical libraries are always downloaded by default.</p>



<a name="260271675"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20setup/near/260271675" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20setup.html#260271675">(Nov 04 2021 at 13:50)</a>:</h4>
<p>And (damn) Coq has its own IDE, which requires a lot of work to develop</p>



<a name="260272896"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20setup/near/260272896" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jannis Limperg <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20setup.html#260272896">(Nov 04 2021 at 13:59)</a>:</h4>
<p>If you use this Coq setup, you get something that's fine for playing around  and for small projects, but not for bigger stuff (because then you want opam to manage dependencies and VSCode/Emacs/Vim for editor features). So it's more comparable in purpose to the Lean web editor.</p>



<a name="260277985"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20setup/near/260277985" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20setup.html#260277985">(Nov 04 2021 at 14:36)</a>:</h4>
<p>You won't get any library when downloading Coq like this.</p>



<a name="260278078"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20setup/near/260278078" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20setup.html#260278078">(Nov 04 2021 at 14:36)</a>:</h4>
<p>Anyway, we know Lean could be easier to install. I think there are people at MSR working on this.</p>



<a name="260363686"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20setup/near/260363686" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20setup.html#260363686">(Nov 05 2021 at 03:52)</a>:</h4>
<p>Chris Lovett has recently been working on the VSCode extension, so that it automatically offers to install elan if it isn't available.</p>



<a name="260369018"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20setup/near/260369018" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20setup.html#260369018">(Nov 05 2021 at 06:02)</a>:</h4>
<p>Didn't the Lean 3 extension already have something like that? Or was it removed again at some point?</p>



<a name="260379568"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20setup/near/260379568" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20setup.html#260379568">(Nov 05 2021 at 09:01)</a>:</h4>
<p>Is the idea that the lean 4 extension replaces <code>leanproject</code> and offers eg a collection of projects which users can download from GitHub, and when the user clicks on them it installs the project and mathlib oleans and then opens the root project folder? That would be so helpful, says the person who yesterday supervised an install fest when trying to get a bunch of undergraduates to install his course project...</p>



<a name="260394819"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20setup/near/260394819" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20setup.html#260394819">(Nov 05 2021 at 11:46)</a>:</h4>
<p>Idea: this strategy of hosting cached olean files and not needing to build everything from scratch everytime could be another parameter of the toml file, so mathlib wouldn't need to be the only project with this feature</p>



<a name="260394940"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20setup/near/260394940" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20setup.html#260394940">(Nov 05 2021 at 11:48)</a>:</h4>
<p>Yes, there's discussion of <a href="#narrow/stream/113488-general/topic/CI.20for.20liquid.20tensor.20experiment/near/241739788">that elsewhere regarding lean-liquid</a></p>



<a name="260394972"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20setup/near/260394972" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20setup.html#260394972">(Nov 05 2021 at 11:48)</a>:</h4>
<p>The difficulty is that <code>leanpkg</code> removes any keys from the toml file it <a href="https://github.com/leanprover-community/lean/blob/63dc257c30d0a71f91c1e706e447256f53139be7/leanpkg/leanpkg/manifest.lean#L49-L54">doesn't recognize</a></p>



<a name="260395170"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20setup/near/260395170" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20setup.html#260395170">(Nov 05 2021 at 11:51)</a>:</h4>
<p>Meaning it removes any config that <code>leanproject</code> wants to keep for itself</p>



<a name="260395715"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20setup/near/260395715" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20setup.html#260395715">(Nov 05 2021 at 11:58)</a>:</h4>
<p>The fix would be to keep around a <code>manifest.extra : list (string × toml.value)</code> field of all the extra data we don't know how to parse yet, and write it back out  when we modify the toml</p>



<a name="260479385"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20setup/near/260479385" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20setup.html#260479385">(Nov 06 2021 at 00:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/113488-general/topic/lean.20setup/near/260369018">said</a>:</p>
<blockquote>
<p>Didn't the Lean 3 extension already have something like that? Or was it removed again at some point?</p>
</blockquote>
<p>This was removed again as it was too fragile.</p>



<a name="260500539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20setup/near/260500539" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20setup.html#260500539">(Nov 06 2021 at 08:26)</a>:</h4>
<p><span class="user-mention" data-user-id="434989">@Chris Lovett</span> has spent some serious effort on the Lean 4 implementation, in particular on Windows, please give it a try</p>



<a name="260529007"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20setup/near/260529007" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Lovett <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20setup.html#260529007">(Nov 06 2021 at 18:30)</a>:</h4>
<p>Yes if you want to try Lean 4 smooth setup using VS Code, please try the "Lean4" VS Code extension and tell me if it works or not (no command line stuff required).  The marketplace text is a bit out of date, this is the <a href="https://github.com/leanprover/vscode-lean4">up to date readme</a>. and ignore step 5. about the PATH we just changed the extension to look in the default elan install location automatically.</p>



<a name="260539639"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20setup/near/260539639" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20setup.html#260539639">(Nov 06 2021 at 22:22)</a>:</h4>
<p>Oh wooah. Is this likely to work on a Windows machine where the user does not have admin access but where VS Code is already installed? That's the situation my laptop-free undergraduate users find themselves in.</p>



<a name="260539655"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20setup/near/260539655" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20setup.html#260539655">(Nov 06 2021 at 22:23)</a>:</h4>
<p>Admittedly, such users (UGs without laptops) are becoming thinner on the ground recently. However many only have 8 gigs of ram...</p>



<a name="260539907"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20setup/near/260539907" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20setup.html#260539907">(Nov 06 2021 at 22:28)</a>:</h4>
<p>Definitely, you don't need admin rights to install elan, nor does it have any special dependencies</p>



<a name="260539917"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20setup/near/260539917" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20setup.html#260539917">(Nov 06 2021 at 22:29)</a>:</h4>
<p>It will not download more RAM for you, however. Yet.</p>



<a name="260545073"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20setup/near/260545073" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Lovett <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20setup.html#260545073">(Nov 07 2021 at 00:39)</a>:</h4>
<p>The default location for the elan and lean toolchain install  on windows is in your %USERPROFILE% (c:\users\username\.elan).  You can check how many toolchain versions you already have by looking at .elan\toolchains folder, if you see a lot there you can reclaim some space by deleting them using <code>elan toolchain uninstall &lt;toolchainname&gt;</code>.  If you prefer not to install on your "C:" drive you will need to install elan manually.</p>



<a name="260545203"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20setup/near/260545203" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Lovett <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20setup.html#260545203">(Nov 07 2021 at 00:43)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span>  you mentioned laptop-free undergrads, if your school has access to github enterprise, they could potentially use github codespaces, see <a href="https://www.youtube.com/watch?v=uC1wHSVnSHQ">demo</a> then there really is nothing installed on the local machine they are using (except vscode).</p>
<div class="youtube-video message_inline_image"><a data-id="uC1wHSVnSHQ" href="https://www.youtube.com/watch?v=uC1wHSVnSHQ"><img src="https://uploads.zulipusercontent.net/a39bde2132c196919930530c0926bf85541f4339/68747470733a2f2f692e7974696d672e636f6d2f76692f754331774853566e5348512f64656661756c742e6a7067"></a></div>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>