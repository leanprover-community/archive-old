---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/expand_exists.20questions.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/expand_exists.20questions.html">expand_exists questions</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="291082426"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/expand_exists%20questions/near/291082426" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rémy Degenne <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/expand_exists.20questions.html#291082426">(Jul 27 2022 at 17:36)</a>:</h4>
<p>I am testing the new <code>expand_exists</code> attribute, which looks like a very useful tool, and I have two remarks/questions:</p>
<ul>
<li>The names given to the new lemmas are interpreted as being names in the <code>_root_</code> namespace. For example, if I have the namespace <code>measure_theory</code> open and use <code>[expand_exists def_name]</code> I do not get <code>measure_theory.def_name</code>, but <code>_root_.def_name</code>. I expected the opposite behaviour. Is it an intentional design decision?</li>
<li>The attribute creates a def and lemmas, but the def does not have a docstring and the linter complains. Is there a way to give a dosctring when using the attribute?</li>
</ul>
<p>Related to my second question: is it possible to give a dosctring to a definition after its declaration? I want to make the linter happy :)</p>



<a name="291084007"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/expand_exists%20questions/near/291084007" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/expand_exists.20questions.html#291084007">(Jul 27 2022 at 17:47)</a>:</h4>
<p>Re: namespacing, I think this is fixable -- the behavior would be to put the new declarations in the same namespace as the original one. It would mimic whatever logic <code>to_additive</code> uses.</p>



<a name="291084179"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/expand_exists%20questions/near/291084179" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/expand_exists.20questions.html#291084179">(Jul 27 2022 at 17:48)</a>:</h4>
<p>Re: doc strings, are you imaginging the same syntax as <code>to_additive</code> to include a doc string in the attribute? I've always kind of hated that syntax, but again, it's doable. In the meantime you can use <a href="https://leanprover-community.github.io/mathlib_docs/commands.html#add_decl_doc">command#add_decl_doc</a> to add a doc string after its declaration.</p>



<a name="291084436"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/expand_exists%20questions/near/291084436" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rémy Degenne <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/expand_exists.20questions.html#291084436">(Jul 27 2022 at 17:50)</a>:</h4>
<p>For the docstring, I don't really have a preferred way of doing it, but I did not know how to add it (I never had to use add_decl_doc). A simple note in the docstring of expand_exists reminding the user that add_decl_doc exists would be fine for me.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>