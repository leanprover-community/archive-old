---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html">VS Code - Unicode Input Discussion</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="221972224"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/221972224" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henning Dieterichs <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#221972224">(Jan 07 2021 at 17:25)</a>:</h4>
<p>I have some thoughts about unicode-input improvements in VS Code that I would love to discuss (I also opened a <a href="https://github.com/leanprover/vscode-lean/issues/248">Github issue here</a>).</p>
<p><a href="https://github.com/leanprover/vscode-lean/pull/240">I already opened a PR</a> that rewrites the unicode-abbreviation feature, fixes some bugs and implements eager-replacing (i.e. abbreviations are replaced as soon as they uniquely identify a symbol).</p>
<p>1) <em>Eager Replacing</em>. I often type <code>\&lt;-</code>, <code>\-&gt;</code> and <code>\&lt;-&gt;</code>. Unfortunately, there is <code>\&lt;-n</code>, <code>\-&gt;n</code> and <code>\&lt;-&gt;n</code> which makes those abbreviations not-prefix-free.<br>
I can imagine two fixes for that:<br>
1.1) When <code>\-&gt;</code> is typed, it is temporarily replaced with <code>→</code>. When the replaced symbol is extended with <code>n</code> immediately after that, <code>→n</code> gets replaced by <code>↛ </code><br>
1.2) Like 1.1, but the temporary replacement of non-unique abbreviations only happens after a timeout (like 400ms).</p>
<p>2) <em>Autocompletion</em>. I think it might make sense to implement autocompletion for all available abbreviations. This might conflict with (1.1) though.</p>
<p>3) <em>Context Sensitivity</em>. When there is <code>h₁</code> around in the current document but no <code>h1</code> and I type <code>h1</code> and then hit tab, it might be a cool feature if <code>h1</code> could be replaced by <code>h₁</code>.</p>
<p>What do you think?<br>
These features shouldn't be too hard to implement on top of my refactoring.</p>



<a name="221975977"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/221975977" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#221975977">(Jan 07 2021 at 17:50)</a>:</h4>
<p>You can also type <code>\l</code> for <code>\&lt;-</code> and <code>\r</code> for <code>\-&gt;</code> FYI (its way easier for me at least).</p>



<a name="221979029"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/221979029" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henning Dieterichs <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#221979029">(Jan 07 2021 at 18:11)</a>:</h4>
<p>I'm using the Neo2 keyboard layout in which <code>\</code>, <code>-</code>, <code>&gt;</code> are all on the same layer and nicely distributed among the left and right hand, so it is actually very convenient to type that sequence.</p>



<a name="221979174"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/221979174" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jakob von Raumer <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#221979174">(Jan 07 2021 at 18:12)</a>:</h4>
<p>I always use <code>\to</code>.</p>



<a name="221979325"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/221979325" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#221979325">(Jan 07 2021 at 18:13)</a>:</h4>
<p>or even <code>\r</code></p>



<a name="221979329"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/221979329" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jakob von Raumer <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#221979329">(Jan 07 2021 at 18:13)</a>:</h4>
<p>I actually think that the input problem has been solved perfectly by Agda-mode, which for a while I also used for Lean (in emacs)</p>



<a name="221980715"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/221980715" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#221980715">(Jan 07 2021 at 18:24)</a>:</h4>
<blockquote>
<p>Eager replacing.</p>
</blockquote>
<p>I think this would be nice.  I often feel like the input mode lingers around too long, even after I've typed enough for a unique conversion.  I'm thinking of things like <code>\a}</code>.</p>
<blockquote>
<p><code>\-&gt;n</code></p>
</blockquote>
<p>You shouldn't type this as it is not idiomatic Lean, there's supposed to be a space after an arrow.</p>
<blockquote>
<p>happens after a timeout (like 400ms).</p>
</blockquote>
<p>I'm very very strongly against timeouts in keyboard input.  What I type shouldn't depend on how fast I type it.</p>



<a name="221981849"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/221981849" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#221981849">(Jan 07 2021 at 18:32)</a>:</h4>
<blockquote>
<p>Context Sensitivity. When there is h₁ around in the current document but no h1 and I type h1 and then hit tab, it might be a cool feature if h1 could be replaced by h₁.</p>
</blockquote>
<p>I'm also very strongly against context-sensitivity or other hidden state in keyboard input.  What I type shouldn't depend on where I type it, or what I've typed half an hour ago.<br>
However I have nothing against making <code>h1&lt;TAB&gt;</code> convert to <code>h₁</code> everywhere.  (Maybe we could have a command/shortcut that converts an abbreviation even if we're not in input mode and even without a backslash in front.)</p>



<a name="221982216"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/221982216" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#221982216">(Jan 07 2021 at 18:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="234196">Henning Dieterichs</span> <a href="#narrow/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion/near/221979029">said</a>:</p>
<blockquote>
<p>I'm using the Neo2 keyboard layout in which <code>\</code>, <code>-</code>, <code>&gt;</code> are all on the same layer and nicely distributed among the left and right hand, so it is actually very convenient to type that sequence.</p>
</blockquote>
<p>Lean users use lots of different keyboard layouts, and I don't want anybody to learn a new keyboard layout just to use Lean.  Any input system should work with all keyboard layouts.<br>
This is the reason the leader key (which defaults to backslash) is customizable: Patrick uses <code>,</code> because backslash is hard to type on French keyboards, I've seen Ed use <code>£</code> (presumably because it's easy to type on a UK keyboard).</p>



<a name="221983305"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/221983305" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#221983305">(Jan 07 2021 at 18:44)</a>:</h4>
<blockquote>
<p>it is temporarily replaced with →</p>
</blockquote>
<p>This is indeed how my system-wide input method works, and I find it a bit irritating: <a href="https://github.com/gebner/m17n-lean">https://github.com/gebner/m17n-lean</a><br>
<a href="user_uploads/3121/z-G00F_Q1Cfjg2ydcIyDdnKe/m17n-lean-convert.mp4">m17n-lean-convert.mp4</a> <a href="user_uploads/3121/lL1cht5mOS3dDt5nvSucJ3Ez/m17n-lean-convert.gif">m17n-lean-convert.gif</a></p>
<div class="message_inline_image"><a href="user_uploads/3121/lL1cht5mOS3dDt5nvSucJ3Ez/m17n-lean-convert.gif" title="m17n-lean-convert.gif"><img src="user_uploads/3121/lL1cht5mOS3dDt5nvSucJ3Ez/m17n-lean-convert.gif"></a></div>



<a name="221999726"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/221999726" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henning Dieterichs <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#221999726">(Jan 07 2021 at 20:57)</a>:</h4>
<blockquote>
<p>You shouldn't type this as it is not idiomatic Lean, there's supposed to be a space after an arrow.</p>
</blockquote>
<p>This is an abbreviation for a unicode sequence! It get's expanded to <code>↛t</code> for example. It is in translations.json currently.</p>



<a name="222000096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/222000096" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henning Dieterichs <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#222000096">(Jan 07 2021 at 21:00)</a>:</h4>
<blockquote>
<p>I'm very very strongly against timeouts in keyboard input. What I type shouldn't depend on how fast I type it.</p>
</blockquote>
<p>It would only temporarily transform and the transformation would only be a matter of presentation. If you don't type blind, you wouldn't even notice it, as if it transforms due to the timeout, added characters might lead to a different transformation. Also, if you never use the abbreviation <code>\-&gt;n</code>, you wouldn't notice it.</p>



<a name="222000298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/222000298" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henning Dieterichs <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#222000298">(Jan 07 2021 at 21:02)</a>:</h4>
<blockquote>
<p>I'm also very strongly against context-sensitivity or other hidden state in keyboard input. What I type shouldn't depend on where I type it, or what I've typed half an hour ago.</p>
</blockquote>
<p>It wouldn't be a hidden state, it would be based on what appears in the document. It is like <code>simp</code> whose behavior also depends on the content of the current document. Intellisense also does something like this, except that an autocompletion list pops up.</p>



<a name="222000575"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/222000575" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henning Dieterichs <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#222000575">(Jan 07 2021 at 21:04)</a>:</h4>
<blockquote>
<p>Lean users use lots of different keyboard layouts, and I don't want anybody to learn a new keyboard layout just to use Lean. Any input system should work with all keyboard layouts.</p>
</blockquote>
<p>I, as a user of a keyboard layout that only a couple of thousand people use, cannot agree more! I just wanted to respond to "its way easier for me at least" and do some Neo2 advertisement ;)</p>



<a name="222000894"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/222000894" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henning Dieterichs <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#222000894">(Jan 07 2021 at 21:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110043">Gabriel Ebner</span> <a href="#narrow/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion/near/221983305">said</a>:</p>
<blockquote>
<blockquote>
<p>it is temporarily replaced with →</p>
</blockquote>
<p>This is indeed how my system-wide input method works, and I find it a bit irritating: <a href="https://github.com/gebner/m17n-lean">https://github.com/gebner/m17n-lean</a><br>
<a href="/user_uploads/3121/z-G00F_Q1Cfjg2ydcIyDdnKe/m17n-lean-convert.mp4">m17n-lean-convert.mp4</a> <a href="/user_uploads/3121/lL1cht5mOS3dDt5nvSucJ3Ez/m17n-lean-convert.gif">m17n-lean-convert.gif</a></p>
</blockquote>
<p>Interesting! What system is this? Do you use this system also in VS Code, if you use VS Code? If there was some delay until the presentation changes, would you find it less confusing?</p>



<a name="222001065"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/222001065" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henning Dieterichs <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#222001065">(Jan 07 2021 at 21:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110789">Jakob von Raumer</span> <a href="#narrow/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion/near/221979329">said</a>:</p>
<blockquote>
<p>I actually think that the input problem has been solved perfectly by Agda-mode, which for a while I also used for Lean (in emacs)</p>
</blockquote>
<p>Can you share a recording or point to a demo video? Also, VS Code has some limitations. You cannot really override the rendering or do fancy stuff, you actually need to replace the text and carefully track any changes.</p>



<a name="222004895"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/222004895" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#222004895">(Jan 07 2021 at 21:39)</a>:</h4>
<p>I think I misunderstood you with <code>\-&gt;n</code>.  If you meant that the display changes from <code>\</code> to <code>\-</code> to <code>→</code> to <code>↛</code>, then I find the last step a bit irritating.  Another very common one is <code>\to</code>, which changes from <code>\</code> to <code>▸</code> to <code>→</code>.</p>
<blockquote>
<p>If you don't type blind, [...]</p>
</blockquote>
<p>But I do!</p>
<blockquote>
<p>Interesting! What system is this?</p>
</blockquote>
<p>There is a longer description at the link I posted.  This is an input method.  Typically you use input methods for languages like Japanese/Chinese/etc. where it's infeasible to have one key per character, e.g. you type <code>jidouteirisyoumei</code> and you get <code>自動定理証明</code>. This works in every application, terminal, etc.  At least on linux it's fairly easy to add "table-based" input methods where you just need to provide a file with all the translations.  That's what I did for lean and now I can switch to Lean input using a key shortcut.  (There are also other approaches using <code>xmodmap</code>, etc.)</p>
<blockquote>
<p>Do you use this system also in VS Code, if you use VS Code? </p>
</blockquote>
<p>No, I find the vscode implementation to be more ergonomic.</p>
<blockquote>
<p>If there was some delay until the presentation changes, would you find it less confusing?</p>
</blockquote>
<p>Yes, I'd definitely find it less confusing.  As long as it doesn't affect the end result.</p>



<a name="222063684"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/222063684" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Peattie <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#222063684">(Jan 08 2021 at 11:53)</a>:</h4>
<p><span class="user-mention silent" data-user-id="234196">Henning Dieterichs</span> <a href="#narrow/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion/near/222000298">said</a>:</p>
<blockquote>
<blockquote>
<p>I'm also very strongly against context-sensitivity or other hidden state in keyboard input. What I type shouldn't depend on where I type it, or what I've typed half an hour ago.</p>
</blockquote>
<p>It wouldn't be a hidden state, it would be based on what appears in the document. It is like <code>simp</code> whose behavior also depends on the content of the current document. Intellisense also does something like this, except that an autocompletion list pops up.</p>
</blockquote>
<p><code>simp</code> behaves on the current tactic state rather that what's "around" the cursor right? I think I would suggest either:</p>
<ul>
<li>A "normal" unicode expansion of <code>h1</code>, <code>h2</code> etc. to <code>h₁</code>, <code>h₂</code> as Gabriel mentioned</li>
<li>A more robust feature to autocomplete variable names (with unicode awareness) based on what's present in the current scope/tactic state. I think this would need coordination between the Lean server &amp; VSCode (a la widget view) rather than something that can be done purely in VSCode</li>
</ul>



<a name="223303727"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/223303727" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#223303727">(Jan 19 2021 at 22:11)</a>:</h4>
<p><span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> and <span class="user-mention" data-user-id="234196">@Henning Dieterichs</span> I didn't follow closely what happened here but unfortunately the input feature of the VScode extension is now unusable.</p>



<a name="223304015"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/223304015" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#223304015">(Jan 19 2021 at 22:14)</a>:</h4>
<p>Now the VScode extension put subscript 0 <em>everywhere</em>.</p>



<a name="223304134"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/223304134" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#223304134">(Jan 19 2021 at 22:15)</a>:</h4>
<p>For people with default input leader: try typing <code>\ </code>.</p>



<a name="223304149"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/223304149" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#223304149">(Jan 19 2021 at 22:15)</a>:</h4>
<p>(That's backslash followed by a space).</p>



<a name="223304814"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/223304814" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#223304814">(Jan 19 2021 at 22:19)</a>:</h4>
<p>Note: I'm super grateful that people work on the VScode extension, but here I would say there is some emergency for me.</p>



<a name="223305012"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/223305012" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#223305012">(Jan 19 2021 at 22:20)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span> if you need to roll back to an earlier version before a fix lands, you can install manually from the GitHub releases: e.g. <a href="https://github.com/leanprover/vscode-lean/releases/tag/v0.16.20">https://github.com/leanprover/vscode-lean/releases/tag/v0.16.20</a></p>



<a name="223305102"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/223305102" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#223305102">(Jan 19 2021 at 22:21)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span> Does setting <code>lean.input.eagerReplacementEnabled</code> to <code>false</code> in your config help (as a quickfix)?</p>



<a name="223305184"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/223305184" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#223305184">(Jan 19 2021 at 22:22)</a>:</h4>
<p>Oh, there's also "install another version" if you click on the little gear icon: <a href="/user_uploads/3121/gEbPzlTrANFMQLP59kS_TQSO/Screen-Shot-2021-01-19-at-5.21.42-PM.png">Screen-Shot-2021-01-19-at-5.21.42-PM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/gEbPzlTrANFMQLP59kS_TQSO/Screen-Shot-2021-01-19-at-5.21.42-PM.png" title="Screen-Shot-2021-01-19-at-5.21.42-PM.png"><img src="/user_uploads/3121/gEbPzlTrANFMQLP59kS_TQSO/Screen-Shot-2021-01-19-at-5.21.42-PM.png"></a></div>



<a name="223305244"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/223305244" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#223305244">(Jan 19 2021 at 22:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="221921">Marc Huisinga</span> <a href="#narrow/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion/near/223305102">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="110031">Patrick Massot</span> Does setting <code>lean.input.eagerReplacementEnabled</code> to <code>false</code> in your config help (as a quickfix)?</p>
</blockquote>
<p>I've unclicked the checkbox in Settings, but the <code>₀ </code> keeps popping up if I mistype <code>\ </code></p>



<a name="223305409"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/223305409" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#223305409">(Jan 19 2021 at 22:24)</a>:</h4>
<p>Thanks Marc and Bryan. Bryan's idea fixed this issue for me.</p>



<a name="223307873"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/223307873" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henning Dieterichs <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#223307873">(Jan 19 2021 at 22:48)</a>:</h4>
<p>This is strange. I tested this thoroughly. Sorry for the inconvenience this brought. I need to look into it tomorrow.</p>



<a name="223308459"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/223308459" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henning Dieterichs <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#223308459">(Jan 19 2021 at 22:54)</a>:</h4>
<p>I see the problem now which I guess is some kind of a specification issue. There is no empty abbreviation and no abbreviation that just contains the space, so when you type <code>\ </code> it tries the best it can - it looks for the shortest abbreviation that extends your typed abbreviation. Since your typed abbreviation is empty, it just takes a one character abbreviation. This happens to be \0.</p>



<a name="223308852"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/223308852" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henning Dieterichs <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#223308852">(Jan 19 2021 at 22:58)</a>:</h4>
<p>If you specify the empty abbreviation in abbreviation.json (or as a custom abbreviation), I guess you can change this behavior. I have to test this out tomorrow. What do you want to happen when you type <code>\ </code>? What happened before my change? If you want to type just the backslash, you can also type <code>\\</code>.</p>



<a name="223309032"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/223309032" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#223309032">(Jan 19 2021 at 23:00)</a>:</h4>
<p>Before the change typing <code>\ </code> would cause the underline to go away and <code>\ </code> would remain.</p>



<a name="223309778"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/223309778" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henning Dieterichs <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#223309778">(Jan 19 2021 at 23:09)</a>:</h4>
<p>Then this should be fixed by defining an abbreviation "" for "\". You should be able to do this with a custom abbreviation before this is fixed by an update.</p>



<a name="223328244"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/223328244" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#223328244">(Jan 20 2021 at 03:31)</a>:</h4>
<p><span class="user-mention" data-user-id="234196">@Henning Dieterichs</span> but Patrick is typing <code>, </code>,  because he's using a different leader key that is more convenient on French keyboards. I'm pretty sure he would like to have <code>, </code> turn into <code>, </code>...</p>



<a name="223330180"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/223330180" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#223330180">(Jan 20 2021 at 04:09)</a>:</h4>
<p><span class="user-mention" data-user-id="234196">@Henning Dieterichs</span> The obvious solution is that if the abbreviation is empty then it cancels the replacement instead of "trying its best"</p>



<a name="223345645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/223345645" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#223345645">(Jan 20 2021 at 08:51)</a>:</h4>
<p>This should now be fixed in 0.16.22.  I'm not sure what we can do to avoid this issues in the future.  <span class="user-mention" data-user-id="110031">@Patrick Massot</span>  Is downgrading to an older version acceptable to you when it happens again in the future?  Should we document this workaround somewhere?</p>



<a name="223346280"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/223346280" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#223346280">(Jan 20 2021 at 08:58)</a>:</h4>
<p>You can also do ctrl+shift+p "disable auto updating" if you'd rather update the extensions on your own pace.</p>



<a name="223347604"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/223347604" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#223347604">(Jan 20 2021 at 09:12)</a>:</h4>
<p>It works, thanks! I don't want to disable auto-updating, this is the first time in three years when I'm unhappy with an update. I'm not sure there is anything we can do except if someone is ready to spend a lot of time understanding how to unit test such bugs.</p>



<a name="223348013"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/223348013" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#223348013">(Jan 20 2021 at 09:18)</a>:</h4>
<p>And I can also confirm Johan's intuition that I want <code>, </code> to type <code>, </code>. Henning, there is nothing sacred about <code>\</code>, it just happens to be a mostly useless character that is stupidly easy to access on a US keyboard, that's why it has been chosen by Knuth for TeX. People who designed the French keyboard didn't foresee this and they quite reasonably put <code>\</code> in a less prominent position needing a combination of keys.</p>



<a name="223374684"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/223374684" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henning Dieterichs <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#223374684">(Jan 20 2021 at 13:55)</a>:</h4>
<p>I fixed this issue here: <a href="https://github.com/leanprover/vscode-lean/pull/254">https://github.com/leanprover/vscode-lean/pull/254</a></p>



<a name="223386927"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/223386927" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henning Dieterichs <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#223386927">(Jan 20 2021 at 15:17)</a>:</h4>
<blockquote>
<p>if someone is ready to spend a lot of time understanding how to unit test such bugs.</p>
</blockquote>
<p>I think unit tests shouldn't be that hard to setup! I probably won't find much time soon, but in general I'm open to help.</p>



<a name="223387611"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/223387611" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henning Dieterichs <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#223387611">(Jan 20 2021 at 15:22)</a>:</h4>
<blockquote>
<p>I'm not sure there is anything we can do</p>
</blockquote>
<p>With github actions, a lot of stuff could be automatized. I use to have an "insiders" build for one of my vs-code extensions that gets published on each commit to master. Both the insiders and the stable build are available in the marketplace - it is easy to switch between them. I usually wait some weeks until I release an insiders build as stable.</p>



<a name="223808555"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/223808555" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Peattie <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#223808555">(Jan 24 2021 at 11:07)</a>:</h4>
<p>Another possible bug related to these changes - the abbreviations seem to be happening anytime I'm in VS Code, even if I'm not in the Lean language mode (i.e. editing a <code>.lean</code> file) <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span> ... Are others seeing this behaviour too?</p>



<a name="223808605"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/223808605" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#223808605">(Jan 24 2021 at 11:08)</a>:</h4>
<p>Why would we be using VScode to edit anything but Lean code while vim exists??</p>



<a name="223809056"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/223809056" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#223809056">(Jan 24 2021 at 11:19)</a>:</h4>
<p>you misspelt emacs</p>



<a name="223809112"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/223809112" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#223809112">(Jan 24 2021 at 11:20)</a>:</h4>
<p>I was waiting for such an heretic comment. Alex, why would we need you to use VS Code to edit anything but Lean file while we already have the emacs people to fight?</p>



<a name="223809283"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VS%20Code%20-%20Unicode%20Input%20Discussion/near/223809283" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Peattie <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VS.20Code.20-.20Unicode.20Input.20Discussion.html#223809283">(Jan 24 2021 at 11:25)</a>:</h4>
<p>Haha! I propose a new theorem: "as an online discussion about text editors grows longer, the probability of an argument about Vim vs. Emacs approaches 1"</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>