---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html">Basic questions on the formalization of Maths exercises</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="252759837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252759837" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stanislas Polu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252759837">(Sep 10 2021 at 09:50)</a>:</h4>
<p>I'm trying to formalize all the AMC 12A 2021 problems and while I decided to skip entirely geometry problems (though <a href="https://artofproblemsolving.com/wiki/index.php/2021_AMC_12A_Problems/Problem_11">this one</a> may be doable I think?), there are two problems on which I'm struggling that may still be formalized but I probably lack the knowledge.</p>
<ul>
<li>The first one is <a href="https://artofproblemsolving.com/wiki/index.php/2021_AMC_12A_Problems/Problem_5">problem 5</a>, where we need to formalize a repetitive infinite decimal expansion of the form <code>1.ababababa...</code>. Any tool available to do so?</li>
<li>The second one is <a href="https://artofproblemsolving.com/wiki/index.php/2021_AMC_12A_Problems/Problem_15">problem 15</a> which is a combinatorics problem and I'm not sure what's the current state of affair in mathlib wrt to these statements?</li>
</ul>
<p>Thank you very much for your help as always!</p>



<a name="252760644"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252760644" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252760644">(Sep 10 2021 at 09:56)</a>:</h4>
<p>We have convergent infinite sums e.g. (I'm over-importing here)</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">analysis.specific_limits</span>
<span class="kn">import</span> <span class="n">data.real.basic</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="o">(</span><span class="mi">66</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">/</span> <span class="mi">100</span><span class="o">)</span> <span class="bp">+</span> <span class="mi">0</span><span class="bp">.</span><span class="mi">5</span> <span class="bp">=</span> <span class="mi">66</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">+</span> <span class="bp">∑'</span> <span class="n">j</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">n</span> <span class="bp">*</span> <span class="mi">0</span><span class="bp">.</span><span class="mi">01</span><span class="bp">^</span><span class="o">(</span><span class="n">j</span><span class="bp">+</span><span class="mi">1</span><span class="o">))))</span> <span class="o">:</span>
  <span class="n">n</span> <span class="bp">=</span> <span class="mi">37</span> <span class="c1">-- or whatever</span>
<span class="o">:=</span>
<span class="gr">sorry</span>
</code></pre></div>
<p>(and presumably <code>normed_ring.tsum_geometric_of_norm_lt_1</code> will help to solve it)</p>



<a name="252760936"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252760936" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252760936">(Sep 10 2021 at 09:58)</a>:</h4>
<p>Problem 15 is definitely doable, but I fear it may be a bit of a pain.<br>
For solution 1, you'll need to be close to a finset virtuose, but the proof will be okay.<br>
For solution 2, we have Vandermonde's identity (thanks Johan!) but no relation between the terms and a size condition.<br>
For solution 3, I know <span class="user-mention" data-user-id="246273">@Bhavik Mehta</span> proved stuff using generating functions (the partition theorem, for anyone interested) but he never had to evaluate anything. Might be tricky but I don't know.<br>
For solution 4, yeah, that works. Not very fun though.</p>



<a name="252760968"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252760968" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252760968">(Sep 10 2021 at 09:59)</a>:</h4>
<p>How would you state it Yael?</p>



<a name="252761054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252761054" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252761054">(Sep 10 2021 at 10:00)</a>:</h4>
<p><del>Presumably the multiple of 4 condition is some Covid restriction?</del> (I guess it could be something to do with arranging the singers on the stage...)</p>



<a name="252761401"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252761401" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252761401">(Sep 10 2021 at 10:02)</a>:</h4>
<p>I guess you can look at <code>(T : finset (fin 6))</code> and <code>(B : finset (fin 8))</code></p>



<a name="252761550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252761550" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252761550">(Sep 10 2021 at 10:02)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.nat.modeq</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">fintype.card</span> <span class="o">{</span><span class="n">finset</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">6</span><span class="o">)</span> <span class="bp">×</span> <span class="n">finset</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">8</span><span class="o">)</span> <span class="bp">//</span> <span class="bp">λ</span> <span class="o">⟨</span><span class="n">t</span><span class="o">,</span> <span class="n">b</span><span class="o">⟩,</span> <span class="n">t.card</span> <span class="bp">≡</span> <span class="n">b.card</span> <span class="o">[</span><span class="n">MOD</span> <span class="mi">4</span><span class="o">]</span> <span class="bp">∧</span> <span class="mi">1</span> <span class="bp">≤</span> <span class="n">t.card</span> <span class="bp">+</span> <span class="n">b.card</span><span class="o">}</span> <span class="bp">=</span> <span class="mi">4095</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>



<a name="252761587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252761587" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252761587">(Sep 10 2021 at 10:03)</a>:</h4>
<p>Eheh, that was my idea too.</p>



<a name="252761674"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252761674" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252761674">(Sep 10 2021 at 10:03)</a>:</h4>
<p>Spoiler alert!</p>



<a name="252761774"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252761774" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stanislas Polu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252761774">(Sep 10 2021 at 10:04)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises/near/252760644">said</a>:</p>
<blockquote>
<p>We have convergent infinite sums e.g. (I'm over-importing here)</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">analysis.specific_limits</span>
<span class="kn">import</span> <span class="n">data.real.basic</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="o">(</span><span class="mi">66</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">/</span> <span class="mi">100</span><span class="o">)</span> <span class="bp">+</span> <span class="mi">0</span><span class="bp">.</span><span class="mi">5</span> <span class="bp">=</span> <span class="mi">66</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">+</span> <span class="bp">∑'</span> <span class="n">j</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">n</span> <span class="bp">*</span> <span class="mi">0</span><span class="bp">.</span><span class="mi">01</span><span class="bp">^</span><span class="o">(</span><span class="n">j</span><span class="bp">+</span><span class="mi">1</span><span class="o">))))</span> <span class="o">:</span>
  <span class="n">n</span> <span class="bp">=</span> <span class="mi">37</span> <span class="c1">-- or whatever</span>
<span class="o">:=</span>
<span class="gr">sorry</span>
</code></pre></div>
<p>(and presumably <code>normed_ring.tsum_geometric_of_norm_lt_1</code> will help to solve it)</p>
</blockquote>
<p>Thanks! Out of curiosity, If I read correctly the definition docstring, it's a sum without the finset restriction st if the sum converges it's the sum itself or the empty set otherwise. How does that translate when you compose it with + ? Does it collapses to 0 if not defined (Not really important here though as we'll know it converges).</p>



<a name="252761904"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252761904" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252761904">(Sep 10 2021 at 10:05)</a>:</h4>
<p>Yes, I think all infinite sums are defined to be 0 if they don't converge in actual-math. It's called <code>tsum</code> in mathlib.</p>



<a name="252762059"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252762059" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stanislas Polu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252762059">(Sep 10 2021 at 10:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises/near/252761550">said</a>:</p>
<blockquote>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.nat.modeq</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">fintype.card</span> <span class="o">{</span><span class="n">finset</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">6</span><span class="o">)</span> <span class="bp">×</span> <span class="n">finset</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">8</span><span class="o">)</span> <span class="bp">//</span> <span class="bp">λ</span> <span class="n">t</span> <span class="n">b</span><span class="o">,</span> <span class="n">t.card</span> <span class="bp">≡</span> <span class="n">b.card</span> <span class="o">[</span><span class="n">MOD</span> <span class="mi">4</span><span class="o">]</span> <span class="bp">∧</span> <span class="mi">1</span> <span class="bp">≤</span> <span class="n">t.card</span> <span class="bp">+</span> <span class="n">b.card</span><span class="o">}</span> <span class="bp">=</span> <span class="mi">4095</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div><br>
</p>
</blockquote>
<p>Ouah! I will need to ponder more on that, but this is incredibly useful!! Thanks!</p>



<a name="252762167"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252762167" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252762167">(Sep 10 2021 at 10:07)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises/near/252761550">said</a>:</p>
<blockquote>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.nat.modeq</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">fintype.card</span> <span class="o">{</span><span class="n">finset</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">6</span><span class="o">)</span> <span class="bp">×</span> <span class="n">finset</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">8</span><span class="o">)</span> <span class="bp">//</span> <span class="bp">λ</span> <span class="n">t</span> <span class="n">b</span><span class="o">,</span> <span class="n">t.card</span> <span class="bp">≡</span> <span class="n">b.card</span> <span class="o">[</span><span class="n">MOD</span> <span class="mi">4</span><span class="o">]</span> <span class="bp">∧</span> <span class="mi">1</span> <span class="bp">≤</span> <span class="n">t.card</span> <span class="bp">+</span> <span class="n">b.card</span><span class="o">}</span> <span class="bp">=</span> <span class="mi">4095</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div><br>
</p>
</blockquote>
<p>That's a syntax error</p>



<a name="252762189"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252762189" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252762189">(Sep 10 2021 at 10:07)</a>:</h4>
<p>Fixed already ;)</p>



<a name="252762359"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252762359" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252762359">(Sep 10 2021 at 10:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises/near/252761550">said</a>:</p>
<blockquote>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.nat.modeq</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">fintype.card</span> <span class="o">{</span><span class="n">finset</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">6</span><span class="o">)</span> <span class="bp">×</span> <span class="n">finset</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">8</span><span class="o">)</span> <span class="bp">//</span> <span class="bp">λ</span> <span class="o">⟨</span><span class="n">t</span><span class="o">,</span> <span class="n">b</span><span class="o">⟩,</span> <span class="n">t.card</span> <span class="bp">≡</span> <span class="n">b.card</span> <span class="o">[</span><span class="n">MOD</span> <span class="mi">4</span><span class="o">]</span> <span class="bp">∧</span> <span class="mi">1</span> <span class="bp">≤</span> <span class="n">t.card</span> <span class="bp">+</span> <span class="n">b.card</span><span class="o">}</span> <span class="bp">=</span> <span class="mi">4095</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div><br>
</p>
</blockquote>
<p>That's also a syntax error</p>



<a name="252762368"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252762368" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252762368">(Sep 10 2021 at 10:09)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">analysis.normed_space.basic</span>

<span class="kd">set_option</span> <span class="n">profiler</span> <span class="n">true</span>

<span class="kd">example</span> <span class="o">:</span>
  <span class="n">fintype.card</span> <span class="o">{</span><span class="n">p</span> <span class="bp">//</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">finset</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">6</span><span class="o">)</span> <span class="bp">×</span> <span class="n">finset</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">8</span><span class="o">))</span><span class="bp">.</span><span class="mi">1</span><span class="bp">.</span><span class="n">card</span> <span class="bp">≡</span> <span class="n">p.2.card</span> <span class="o">[</span><span class="n">MOD</span> <span class="mi">4</span><span class="o">]</span> <span class="bp">∧</span> <span class="mi">1</span> <span class="bp">≤</span> <span class="n">p.1.card</span> <span class="bp">+</span> <span class="n">p.2.card</span><span class="o">}</span> <span class="bp">=</span> <span class="mi">4095</span> <span class="o">:=</span>
<span class="n">dec_trivial</span>
</code></pre></div>



<a name="252762381"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252762381" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252762381">(Sep 10 2021 at 10:09)</a>:</h4>
<p><code>elaboration: tactic execution took 40.8s</code></p>



<a name="252762387"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252762387" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252762387">(Sep 10 2021 at 10:09)</a>:</h4>
<p>No waaay, does that work?</p>



<a name="252762492"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252762492" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252762492">(Sep 10 2021 at 10:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span>, <code>fintype.card (finset (fin 6) × finset (fin 8))</code> is only <code>16384</code></p>



<a name="252762502"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252762502" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stanislas Polu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252762502">(Sep 10 2021 at 10:10)</a>:</h4>
<p>Fantastic!</p>



<a name="252762506"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252762506" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252762506">(Sep 10 2021 at 10:10)</a>:</h4>
<p>That's well within the range of an exhaustive search</p>



<a name="252762568"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252762568" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252762568">(Sep 10 2021 at 10:11)</a>:</h4>
<p>To be fair, at the last olympic maths test we ran, some students tried 1000 cases one by one. 16k is much farther.</p>



<a name="252762684"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252762684" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252762684">(Sep 10 2021 at 10:12)</a>:</h4>
<p>Possibly slightly more readable as</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">:</span>
  <span class="n">fintype.card</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">finset</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">6</span><span class="o">)</span> <span class="bp">×</span> <span class="n">finset</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">8</span><span class="o">)</span> <span class="bp">//</span>
                <span class="n">x.1.card</span> <span class="bp">≡</span> <span class="n">x.2.card</span> <span class="o">[</span><span class="n">MOD</span> <span class="mi">4</span><span class="o">]</span> <span class="bp">∧</span> <span class="mi">1</span> <span class="bp">≤</span> <span class="n">x.1.card</span> <span class="bp">+</span> <span class="n">x.2.card</span><span class="o">}</span> <span class="bp">=</span> <span class="mi">4095</span> <span class="o">:=</span>
</code></pre></div>



<a name="252762710"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252762710" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252762710">(Sep 10 2021 at 10:13)</a>:</h4>
<p>Argh, I just updated my message to exactly this</p>



<a name="252763884"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252763884" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252763884">(Sep 10 2021 at 10:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises/near/252762506">said</a>:</p>
<blockquote>
<p>That's well within the range of an exhaustive search</p>
</blockquote>
<p>You say that, but I've seen Lean 3 fail to count to 10 before when it's also assembling proofs etc.</p>



<a name="252764475"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252764475" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252764475">(Sep 10 2021 at 10:27)</a>:</h4>
<p>yeah, iirc dec_trival can barely handle the birthday problem</p>



<a name="252764756"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252764756" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252764756">(Sep 10 2021 at 10:30)</a>:</h4>
<p>For <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">(</mo><mfrac linethickness="0px"><mn>14</mn><mn>0</mn></mfrac><mo fence="true">)</mo></mrow><mo>+</mo><mrow><mo fence="true">(</mo><mfrac linethickness="0px"><mn>14</mn><mn>2</mn></mfrac><mo fence="true">)</mo></mrow><mo>+</mo><mrow><mo fence="true">(</mo><mfrac linethickness="0px"><mn>14</mn><mn>4</mn></mfrac><mo fence="true">)</mo></mrow><mo>+</mo><mrow><mo fence="true">(</mo><mfrac linethickness="0px"><mn>14</mn><mn>6</mn></mfrac><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\binom{14}{0}+\binom{14}{2}+\binom{14}{4}+\binom{14}{6}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.245118em;vertical-align:-0.35001em;"></span><span class="mord"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8951079999999999em;"><span style="top:-2.3550000000000004em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0</span></span></span></span><span style="top:-3.144em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">14</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.245118em;vertical-align:-0.35001em;"></span><span class="mord"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8951079999999999em;"><span style="top:-2.3550000000000004em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.144em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">14</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.245118em;vertical-align:-0.35001em;"></span><span class="mord"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8951079999999999em;"><span style="top:-2.3550000000000004em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span></span></span></span><span style="top:-3.144em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">14</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.245118em;vertical-align:-0.35001em;"></span><span class="mord"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8951079999999999em;"><span style="top:-2.3550000000000004em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">6</span></span></span></span><span style="top:-3.144em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">14</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span></span></span></span> the model answers seem to involve bashing it out, but using the Pascal's triangle identity you can rewrite as <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">(</mo><mfrac linethickness="0px"><mn>13</mn><mn>0</mn></mfrac><mo fence="true">)</mo></mrow><mo>+</mo><mrow><mo fence="true">(</mo><mfrac linethickness="0px"><mn>13</mn><mn>1</mn></mfrac><mo fence="true">)</mo></mrow><mo>+</mo><mrow><mo fence="true">(</mo><mfrac linethickness="0px"><mn>13</mn><mn>2</mn></mfrac><mo fence="true">)</mo></mrow><mo>+</mo><mo>⋯</mo><mo>+</mo><mrow><mo fence="true">(</mo><mfrac linethickness="0px"><mn>13</mn><mn>6</mn></mfrac><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\binom{13}{0}+\binom{13}{1}+\binom{13}{2}+\cdots+\binom{13}{6}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.245118em;vertical-align:-0.35001em;"></span><span class="mord"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8951079999999999em;"><span style="top:-2.3550000000000004em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0</span></span></span></span><span style="top:-3.144em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">13</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.245118em;vertical-align:-0.35001em;"></span><span class="mord"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8951079999999999em;"><span style="top:-2.3550000000000004em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span><span style="top:-3.144em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">13</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.245118em;vertical-align:-0.35001em;"></span><span class="mord"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8951079999999999em;"><span style="top:-2.3550000000000004em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.144em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">13</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.245118em;vertical-align:-0.35001em;"></span><span class="mord"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8951079999999999em;"><span style="top:-2.3550000000000004em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">6</span></span></span></span><span style="top:-3.144em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">13</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span></span></span></span> which is half of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mn>13</mn></msubsup><mrow><mo fence="true">(</mo><mfrac linethickness="0px"><mn>13</mn><mi>i</mi></mfrac><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\sum_{i=0}^{13}\binom{13}{i}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.304018em;vertical-align:-0.35001em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.954008em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">13</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8951079999999999em;"><span style="top:-2.3550000000000004em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span style="top:-3.144em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">13</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span></span></span></span> so is <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>12</mn></msup></mrow><annotation encoding="application/x-tex">2^{12}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span></span></span></span></span></span></span></span>.</p>



<a name="252764914"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252764914" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252764914">(Sep 10 2021 at 10:31)</a>:</h4>
<p>So there could be some extension of this question where the numbers are much bigger then the generating function proof takes over.</p>



<a name="252769431"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252769431" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stanislas Polu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252769431">(Sep 10 2021 at 11:12)</a>:</h4>
<p>Now working on <a href="https://artofproblemsolving.com/wiki/index.php/2021_AMC_12A_Problems/Problem_16">problem 16</a> which defines a list of numbers and asks for its median.</p>
<p>I was able to define this as a finset, but now am stuck to define the median? Maybe should I define this as a list and ask for the value of the element in the middle?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">amc12a_2021_p16</span>
  <span class="o">(</span><span class="n">D</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">ℕ</span><span class="o">)</span>
  <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="n">finset</span> <span class="n">ℕ</span><span class="o">)</span>
  <span class="o">(</span><span class="n">m</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="n">ℕ</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h₀</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">k</span> <span class="n">x</span><span class="o">,</span> <span class="n">m</span> <span class="n">k</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">k</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h₁</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">n</span><span class="o">,</span> <span class="n">s</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">finset.image</span> <span class="o">(</span><span class="n">m</span> <span class="n">n</span><span class="o">)</span> <span class="o">(</span><span class="n">finset.range</span> <span class="n">n</span><span class="o">))</span>
  <span class="o">(</span><span class="n">h₂</span> <span class="o">:</span> <span class="n">D</span> <span class="bp">=</span> <span class="n">finset.bUnion</span> <span class="o">(</span><span class="n">finset.range</span> <span class="mi">200</span><span class="o">)</span> <span class="n">s</span><span class="o">)</span> <span class="o">:</span>
  <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="gr">sorry</span>
<span class="kd">end</span>
</code></pre></div>



<a name="252774224"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252774224" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stanislas Polu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252774224">(Sep 10 2021 at 11:55)</a>:</h4>
<p>uh, from reading more, finsets are sets in the sense that they don't have repeats, so that probably does not work</p>



<a name="252774328"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252774328" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252774328">(Sep 10 2021 at 11:56)</a>:</h4>
<p>You can use <code>multiset</code> instead, but yeah lists are a good idea too.</p>



<a name="252774461"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252774461" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252774461">(Sep 10 2021 at 11:57)</a>:</h4>
<p>Also, you can get rid of <code>s</code> like that:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">amc12a_2021_p16</span>
  <span class="o">(</span><span class="n">D</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">ℕ</span><span class="o">)</span>
  <span class="o">(</span><span class="n">m</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="n">ℕ</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h₀</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">k</span> <span class="n">x</span><span class="o">,</span> <span class="n">m</span> <span class="n">k</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">k</span>
  <span class="o">(</span><span class="n">h₂</span> <span class="o">:</span> <span class="n">D</span> <span class="bp">=</span> <span class="o">(</span><span class="n">finset.range</span> <span class="mi">200</span><span class="o">)</span><span class="bp">.</span><span class="n">bUnion</span> <span class="o">(</span><span class="bp">\</span><span class="n">la</span> <span class="n">n</span><span class="o">,</span> <span class="o">(</span><span class="n">finset.range</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">image</span> <span class="o">(</span><span class="n">m</span> <span class="n">n</span><span class="o">))</span> <span class="o">:</span>
  <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="gr">sorry</span>
<span class="kd">end</span>
</code></pre></div>



<a name="252784085"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252784085" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stanislas Polu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252784085">(Sep 10 2021 at 13:11)</a>:</h4>
<p>Sorry, me again <span aria-label="grimacing" class="emoji emoji-1f62c" role="img" title="grimacing">:grimacing:</span> <br>
Last question for the day! I can't seem to make this one work but I feel it's probably quite silly:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">amc12a_2021_p20</span>
  <span class="o">(</span><span class="n">P</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">→</span> <span class="n">set</span> <span class="o">(</span><span class="n">ℝ</span> <span class="bp">×</span> <span class="n">ℝ</span><span class="o">))</span>
  <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">ℝ</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h₀</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">d</span><span class="o">,</span> <span class="n">P</span> <span class="n">d</span> <span class="bp">=</span> <span class="o">{</span> <span class="n">p</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">×</span> <span class="n">ℝ</span> <span class="bp">|</span> <span class="n">p.1</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">=</span> <span class="mi">4</span><span class="bp">*</span><span class="n">d</span><span class="bp">*</span><span class="n">p.2</span> <span class="o">})</span>
  <span class="o">(</span><span class="n">h₁</span> <span class="o">:</span> <span class="n">S</span> <span class="bp">=</span> <span class="o">{</span> <span class="n">d</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="n">a</span> <span class="o">:</span> <span class="o">(</span><span class="n">ℝ</span> <span class="bp">×</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">a</span> <span class="bp">∈</span> <span class="o">(</span><span class="n">P</span> <span class="n">d</span><span class="o">)</span> <span class="bp">→</span> <span class="n">real.sqrt</span><span class="o">(</span><span class="n">a.1</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">+</span> <span class="n">a.2</span><span class="bp">^</span><span class="mi">2</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">21</span> <span class="bp">∧</span> <span class="n">real.sqrt</span><span class="o">(</span><span class="n">a.1</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">+</span> <span class="o">(</span><span class="n">d</span><span class="bp">-</span><span class="n">a.2</span><span class="o">)</span><span class="bp">^</span><span class="mi">2</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">20</span> <span class="o">})</span>
  <span class="o">(</span><span class="n">h₂</span> <span class="o">:</span> <span class="n">fintype</span> <span class="n">S</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">S.to_finset.sum</span> <span class="bp">=</span> <span class="mi">40</span><span class="bp">/</span><span class="mi">3</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="gr">sorry</span>
<span class="kd">end</span>
</code></pre></div>
<p>This is refused by Lean with an error I have a hard time understanding. Also, Ideally I'd love to define (0, d) as a point and use a norm notation insted of <code>real.sqrt(...)</code> ?</p>
<p>This is the <a href="https://artofproblemsolving.com/wiki/index.php/2021_AMC_12A_Problems/Problem_20">informal statement</a>.</p>



<a name="252785471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252785471" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252785471">(Sep 10 2021 at 13:21)</a>:</h4>
<p>If I were you I'd replace P and S with standalone definitions, rather than take them as hypotheses</p>



<a name="252785945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252785945" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252785945">(Sep 10 2021 at 13:24)</a>:</h4>
<p><code>sum</code> needs a function</p>



<a name="252785963"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252785963" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252785963">(Sep 10 2021 at 13:24)</a>:</h4>
<p>I think you mean <code>S.to_finset.sum id</code></p>



<a name="252786024"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252786024" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252786024">(Sep 10 2021 at 13:25)</a>:</h4>
<p><code>open_locale big_operators</code> will give you nicer notation :)</p>



<a name="252786273"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252786273" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252786273">(Sep 10 2021 at 13:26)</a>:</h4>
<p>also, why do separate <code>S : set ℝ</code> and then a <code>fintype</code> on <code>S</code> instead of just <code>S : finset ℝ</code>?</p>



<a name="252786436"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252786436" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252786436">(Sep 10 2021 at 13:27)</a>:</h4>
<p>Join the finsect!</p>



<a name="252787864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252787864" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stanislas Polu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252787864">(Sep 10 2021 at 13:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="284160">Eric Rodriguez</span> <a href="#narrow/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises/near/252786024">said</a>:</p>
<blockquote>
<p><code>open_locale big_operators</code> will give you nicer notation :)</p>
</blockquote>
<p>What do you have in mind ?</p>



<a name="252787944"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252787944" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252787944">(Sep 10 2021 at 13:37)</a>:</h4>
<p>Have a look for yourself! <a href="https://leanprover-community.github.io/mathlib_docs/algebra/big_operators/basic.html">https://leanprover-community.github.io/mathlib_docs/algebra/big_operators/basic.html</a></p>



<a name="252787997"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252787997" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252787997">(Sep 10 2021 at 13:38)</a>:</h4>
<p><code>∑ x in S.to_finset, x</code></p>



<a name="252788052"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252788052" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252788052">(Sep 10 2021 at 13:38)</a>:</h4>
<p>And, once it will be a finset, <code>∑ x in S, x</code></p>



<a name="252788058"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252788058" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stanislas Polu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252788058">(Sep 10 2021 at 13:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises/near/252785471">said</a>:</p>
<blockquote>
<p>If I were you I'd replace P and S with standalone definitions, rather than take them as hypotheses</p>
</blockquote>
<p>We've tried to keep statements self-contained so far but agreed it would be clearer.</p>



<a name="252788106"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252788106" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stanislas Polu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252788106">(Sep 10 2021 at 13:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="284160">Eric Rodriguez</span> <a href="#narrow/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises/near/252787997">said</a>:</p>
<blockquote>
<p><code>∑ x in S.to_finset, x</code></p>
</blockquote>
<p>Ah makes sense <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="252788672"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252788672" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stanislas Polu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252788672">(Sep 10 2021 at 13:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="284160">Eric Rodriguez</span> <a href="#narrow/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises/near/252786273">said</a>:</p>
<blockquote>
<p>also, why do separate <code>S : set ℝ</code> and then a <code>fintype</code> on <code>S</code> instead of just <code>S : finset ℝ</code>?</p>
</blockquote>
<p>Hmmm I just tried that but the definition of S gets refused, (with or without the to_finset):</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">amc12a_2021_p20</span>
  <span class="o">(</span><span class="n">P</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">→</span> <span class="n">set</span> <span class="o">(</span><span class="n">ℝ</span> <span class="bp">×</span> <span class="n">ℝ</span><span class="o">))</span>
  <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">ℝ</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h₀</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">d</span><span class="o">,</span> <span class="n">P</span> <span class="n">d</span> <span class="bp">=</span> <span class="o">{</span> <span class="n">p</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">×</span> <span class="n">ℝ</span> <span class="bp">|</span> <span class="n">p.1</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">=</span> <span class="mi">4</span><span class="bp">*</span><span class="n">d</span><span class="bp">*</span><span class="n">p.2</span> <span class="o">})</span>
  <span class="o">(</span><span class="n">h₁</span> <span class="o">:</span> <span class="n">S</span> <span class="bp">=</span> <span class="o">{</span> <span class="n">d</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="n">a</span> <span class="o">:</span> <span class="o">(</span><span class="n">ℝ</span> <span class="bp">×</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">a</span> <span class="bp">∈</span> <span class="o">(</span><span class="n">P</span> <span class="n">d</span><span class="o">)</span> <span class="bp">→</span> <span class="n">real.sqrt</span><span class="o">(</span><span class="n">a.1</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">+</span> <span class="n">a.2</span><span class="bp">^</span><span class="mi">2</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">21</span> <span class="bp">∧</span> <span class="n">real.sqrt</span><span class="o">(</span><span class="n">a.1</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">+</span> <span class="o">(</span><span class="n">d</span><span class="bp">-</span><span class="n">a.2</span><span class="o">)</span><span class="bp">^</span><span class="mi">2</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">20</span> <span class="o">}</span><span class="bp">.</span><span class="n">to_finset</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">∑</span> <span class="n">x</span> <span class="k">in</span> <span class="n">S</span><span class="o">,</span> <span class="n">x</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(</span><span class="mi">40</span><span class="o">:</span><span class="n">ℝ</span><span class="o">)</span><span class="bp">/</span><span class="mi">3</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="gr">sorry</span>
<span class="kd">end</span>
</code></pre></div>



<a name="252788743"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252788743" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252788743">(Sep 10 2021 at 13:43)</a>:</h4>
<p>Here's how I might state it:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.real.sqrt</span>
<span class="kn">import</span> <span class="n">algebra.big_operators.finprod</span>

<span class="n">open_locale</span> <span class="n">big_operators</span>

<span class="kd">theorem</span> <span class="n">amc12a_2021_p20</span> <span class="o">:</span>
  <span class="k">let</span> <span class="n">P</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">→</span> <span class="n">set</span> <span class="o">(</span><span class="n">ℝ</span> <span class="bp">×</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">d</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span> <span class="o">{</span><span class="n">p</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">×</span> <span class="n">ℝ</span> <span class="bp">|</span> <span class="n">p.1</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">=</span> <span class="mi">4</span><span class="bp">*</span><span class="n">d</span><span class="bp">*</span><span class="n">p.2</span><span class="o">},</span>
      <span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">ℝ</span> <span class="o">:=</span> <span class="o">{</span> <span class="n">d</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">|</span>
        <span class="bp">∃</span> <span class="n">a</span> <span class="o">:</span> <span class="o">(</span><span class="n">ℝ</span> <span class="bp">×</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">a</span> <span class="bp">∈</span> <span class="n">P</span> <span class="n">d</span> <span class="bp">→</span> <span class="n">real.sqrt</span><span class="o">(</span><span class="n">a.1</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">+</span> <span class="n">a.2</span><span class="bp">^</span><span class="mi">2</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">21</span> <span class="bp">∧</span> <span class="n">real.sqrt</span><span class="o">(</span><span class="n">a.1</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">+</span> <span class="o">(</span><span class="n">d</span><span class="bp">-</span><span class="n">a.2</span><span class="o">)</span><span class="bp">^</span><span class="mi">2</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">20</span> <span class="o">}</span>
      <span class="k">in</span>
  <span class="bp">∑ᶠ</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">S</span><span class="o">,</span> <span class="n">x</span> <span class="bp">=</span> <span class="mi">40</span><span class="bp">/</span><span class="mi">3</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="gr">sorry</span>
<span class="kd">end</span>
</code></pre></div>



<a name="252788766"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252788766" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252788766">(Sep 10 2021 at 13:43)</a>:</h4>
<p>That set notation only works on sets. You'd have to use finset.filter instead.</p>



<a name="252788779"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252788779" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252788779">(Sep 10 2021 at 13:43)</a>:</h4>
<p>How would it figure out that <code>{ d : ℝ | ∃ a : (ℝ × ℝ), a ∈ P d → real.sqrt(a.1^2 + a.2^2) = 21 ∧ real.sqrt(a.1^2 + (d-a.2)^2) = 20 }</code> is finite?</p>



<a name="252788801"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252788801" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252788801">(Sep 10 2021 at 13:43)</a>:</h4>
<p>You can't use filter because there's nothing finite to filter</p>



<a name="252789031"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252789031" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252789031">(Sep 10 2021 at 13:45)</a>:</h4>
<p>If you really want to use norm, then there is L2 space over the reals.</p>



<a name="252789282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252789282" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252789282">(Sep 10 2021 at 13:47)</a>:</h4>
<p>What's that space called (in mathlib identifiers)?</p>



<a name="252789310"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252789310" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stanislas Polu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252789310">(Sep 10 2021 at 13:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises/near/252788743">said</a>:</p>
<blockquote>
<p>Here's how I might state it:</p>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.real.sqrt</span>
<span class="kn">import</span> <span class="n">algebra.big_operators.finprod</span>

<span class="n">open_locale</span> <span class="n">big_operators</span>

<span class="kd">theorem</span> <span class="n">amc12a_2021_p20</span> <span class="o">:</span>
  <span class="k">let</span> <span class="n">P</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">→</span> <span class="n">set</span> <span class="o">(</span><span class="n">ℝ</span> <span class="bp">×</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">d</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span> <span class="o">{</span><span class="n">p</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">×</span> <span class="n">ℝ</span> <span class="bp">|</span> <span class="n">p.1</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">=</span> <span class="mi">4</span><span class="bp">*</span><span class="n">d</span><span class="bp">*</span><span class="n">p.2</span><span class="o">},</span>
      <span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">ℝ</span> <span class="o">:=</span> <span class="o">{</span> <span class="n">d</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">|</span>
        <span class="bp">∃</span> <span class="n">a</span> <span class="o">:</span> <span class="o">(</span><span class="n">ℝ</span> <span class="bp">×</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">a</span> <span class="bp">∈</span> <span class="n">P</span> <span class="n">d</span> <span class="bp">→</span> <span class="n">real.sqrt</span><span class="o">(</span><span class="n">a.1</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">+</span> <span class="n">a.2</span><span class="bp">^</span><span class="mi">2</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">21</span> <span class="bp">∧</span> <span class="n">real.sqrt</span><span class="o">(</span><span class="n">a.1</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">+</span> <span class="o">(</span><span class="n">d</span><span class="bp">-</span><span class="n">a.2</span><span class="o">)</span><span class="bp">^</span><span class="mi">2</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">20</span> <span class="o">}</span>
      <span class="k">in</span>
  <span class="bp">∑ᶠ</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">S</span><span class="o">,</span> <span class="n">x</span> <span class="bp">=</span> <span class="mi">40</span><span class="bp">/</span><span class="mi">3</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="gr">sorry</span>
<span class="kd">end</span>
</code></pre></div><br>
</p>
</blockquote>
<p>Very nice</p>



<a name="252789575"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252789575" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252789575">(Sep 10 2021 at 13:50)</a>:</h4>
<p>That still doesn't resemble the statement very well IMO</p>



<a name="252789753"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252789753" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252789753">(Sep 10 2021 at 13:51)</a>:</h4>
<p>You can also ad hoc give the two values, and have the statement be "This condition implies it's one of them" and "The sum of the two is 40/3"</p>



<a name="252789810"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252789810" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252789810">(Sep 10 2021 at 13:51)</a>:</h4>
<p>That's the problem with those statements. They ask you to calculate stuff, but the exercise isn't about calculating stuff.</p>



<a name="252789829"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252789829" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252789829">(Sep 10 2021 at 13:51)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/euclidean_space">docs#euclidean_space</a> is the L2 space</p>



<a name="252789988"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252789988" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stanislas Polu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252789988">(Sep 10 2021 at 13:53)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises/near/252789575">said</a>:</p>
<blockquote>
<p>That still doesn't resemble the statement very well IMO</p>
</blockquote>
<p>Welll agreed it's not perfect, but it's a good start! :)</p>



<a name="252790079"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252790079" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252790079">(Sep 10 2021 at 13:53)</a>:</h4>
<p>I think it's fair to formalise the mathy part of the exercises and leave the calculatory part (here, adding two numbers <span aria-label="rofl" class="emoji emoji-1f923" role="img" title="rofl">:rofl:</span>) behind.</p>



<a name="252790236"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252790236" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252790236">(Sep 10 2021 at 13:54)</a>:</h4>
<p>Note that the original statement doesn't compile in my head either: "What is the sum of this potentially infinite number of solutions?"</p>



<a name="252790364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252790364" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stanislas Polu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252790364">(Sep 10 2021 at 13:55)</a>:</h4>
<p>I guess it's a hint to restate as a quadratic equation and use Vieta's formula</p>



<a name="252790477"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252790477" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252790477">(Sep 10 2021 at 13:55)</a>:</h4>
<p>Of course. That's why you should allow yourself some freedom in formalising.</p>



<a name="252790943"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252790943" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252790943">(Sep 10 2021 at 13:58)</a>:</h4>
<p>Is the question even well posed? Presumably it's asking for the sum of all unique lengths F V, but I could also sum the lengths over all possible F and V (which would be infinite due to translation / rotation)</p>



<a name="252791365"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252791365" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252791365">(Sep 10 2021 at 14:00)</a>:</h4>
<p>This to me looks like the most faithful version of the statement:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">parabola</span> <span class="o">(</span><span class="n">V</span> <span class="n">F</span> <span class="o">:</span> <span class="n">euclidean_space</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">2</span><span class="o">))</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">euclidean_space</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">2</span><span class="o">))</span> <span class="o">:=</span>
<span class="gr">sorry</span>

<span class="kd">theorem</span> <span class="n">amc12a_2021_p20</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="n">euclidean_space</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">2</span><span class="o">))</span> <span class="o">:</span>
  <span class="bp">∑ᶠ</span> <span class="o">(</span><span class="n">d</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">V</span> <span class="n">F</span> <span class="o">:</span> <span class="n">euclidean_space</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">2</span><span class="o">),</span> <span class="n">dist</span> <span class="n">A</span> <span class="n">F</span> <span class="bp">=</span> <span class="mi">20</span> <span class="bp">∧</span> <span class="n">dist</span> <span class="n">A</span> <span class="n">V</span> <span class="bp">=</span> <span class="mi">21</span> <span class="bp">∧</span> <span class="n">dist</span> <span class="n">F</span> <span class="n">V</span> <span class="bp">=</span> <span class="n">d</span><span class="o">),</span>
    <span class="n">d</span> <span class="bp">=</span> <span class="mi">40</span><span class="bp">/</span><span class="mi">3</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="gr">sorry</span>
<span class="kd">end</span>
</code></pre></div>



<a name="252791650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252791650" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252791650">(Sep 10 2021 at 14:02)</a>:</h4>
<p>Obvously it's much harder to prove because it's hasn't performed any of the steps like "well obviously we can put <code>V</code> at the origin and <code>F</code> on the positive y axis"</p>



<a name="252793767"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252793767" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stanislas Polu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252793767">(Sep 10 2021 at 14:16)</a>:</h4>
<p>Indeed, though your statement is ambiguous as it relies on the "informal" knowledge of what a parabola is and cannot be automatically checked without a human checking that the definition for <code>parabola</code> matches an actual parabola?</p>



<a name="252797980"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252797980" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252797980">(Sep 10 2021 at 14:46)</a>:</h4>
<p>It stops being ambiguous once you fill out the sorry, doesn't it?</p>



<a name="252798124"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252798124" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252798124">(Sep 10 2021 at 14:47)</a>:</h4>
<p>Did you check the definition of <code>ℝ</code> matches the actual reals, or were you happy to trust mathlib ;)</p>



<a name="252820523"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Basic%20questions%20on%20the%20formalization%20of%20Maths%20exercises/near/252820523" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stanislas Polu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Basic.20questions.20on.20the.20formalization.20of.20Maths.20exercises.html#252820523">(Sep 10 2021 at 17:23)</a>:</h4>
<p>oh! you meant filling the parabola definition first and then providing the theorem as goal <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>