---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/naming.20part.20of.20the.20goal.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/naming.20part.20of.20the.20goal.html">naming part of the goal</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="154143914"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/naming%20part%20of%20the%20goal/near/154143914" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/naming.20part.20of.20the.20goal.html#154143914">(Jan 01 2019 at 21:31)</a>:</h4>
<p>I discovered a trick for referring to parts of the goal without having to write them out. For example, suppose your goal is to prove that some really complicated expression equals 0. You can give that expression a name <code>lhs</code> by writing</p>
<div class="codehilite"><pre><span></span>  <span class="k">let</span> <span class="n">lhs</span> <span class="o">:=</span> <span class="bp">_</span><span class="o">,</span>
  <span class="n">change</span> <span class="n">lhs</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">,</span>
</pre></div>



<a name="154143960"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/naming%20part%20of%20the%20goal/near/154143960" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/naming.20part.20of.20the.20goal.html#154143960">(Jan 01 2019 at 21:32)</a>:</h4>
<p>Oh, that's sneaky</p>



<a name="154143970"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/naming%20part%20of%20the%20goal/near/154143970" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/naming.20part.20of.20the.20goal.html#154143970">(Jan 01 2019 at 21:33)</a>:</h4>
<p>It could be nice to wrap this trick in a small tactic</p>



<a name="154144846"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/naming%20part%20of%20the%20goal/near/154144846" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/naming.20part.20of.20the.20goal.html#154144846">(Jan 01 2019 at 22:02)</a>:</h4>
<p>omg</p>



<a name="154145021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/naming%20part%20of%20the%20goal/near/154145021" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/naming.20part.20of.20the.20goal.html#154145021">(Jan 01 2019 at 22:09)</a>:</h4>
<p>I can feel this trick won't be allowed in Lean 4...</p>



<a name="154146061"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/naming%20part%20of%20the%20goal/near/154146061" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/naming.20part.20of.20the.20goal.html#154146061">(Jan 01 2019 at 22:45)</a>:</h4>
<p>(deleted)</p>



<a name="154146598"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/naming%20part%20of%20the%20goal/near/154146598" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/naming.20part.20of.20the.20goal.html#154146598">(Jan 01 2019 at 23:03)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span> I don't see anything wrong with any specific part here, it's more like a surprising combination of features</p>



<a name="154159623"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/naming%20part%20of%20the%20goal/near/154159623" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/naming.20part.20of.20the.20goal.html#154159623">(Jan 02 2019 at 06:20)</a>:</h4>
<p>you can also use <code>let lhs, swap,</code> which is what I usually use for this trick</p>



<a name="154159626"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/naming%20part%20of%20the%20goal/near/154159626" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/naming.20part.20of.20the.20goal.html#154159626">(Jan 02 2019 at 06:20)</a>:</h4>
<p>since there is no <code>let_suffices</code> tactic</p>



<a name="154159654"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/naming%20part%20of%20the%20goal/near/154159654" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/naming.20part.20of.20the.20goal.html#154159654">(Jan 02 2019 at 06:22)</a>:</h4>
<p>I think having a tactic for this wouldn't be a bad idea though. Possibly using conv patterns to find the expression to name</p>



<a name="154159836"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/naming%20part%20of%20the%20goal/near/154159836" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/naming.20part.20of.20the.20goal.html#154159836">(Jan 02 2019 at 06:26)</a>:</h4>
<p>How about this: <code>name foo + 1 + bar</code> will treat any undefined names in the expression like <code>foo</code> and <code>bar</code> as holes to be filled. It searches for the first unifying subterm of the goal (or hyps) and let binds them and replaces them in the target (not just in the pattern, in the whole goal). So if the goal is <code>(x - 3) + 1 + (y - 3) = x - 3</code> then the resulting goal is <code>foo := x - 3, bar := y - 3 |- foo + 1 + bar = foo</code></p>



<a name="154159916"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/naming%20part%20of%20the%20goal/near/154159916" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/naming.20part.20of.20the.20goal.html#154159916">(Jan 02 2019 at 06:29)</a>:</h4>
<p>It doesn't work in the presence of binders; or more specifically it won't match any open terms. I don't see what other option is available</p>



<a name="154159984"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/naming%20part%20of%20the%20goal/near/154159984" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/naming.20part.20of.20the.20goal.html#154159984">(Jan 02 2019 at 06:31)</a>:</h4>
<p>so if the goal was <code>\exists y, (x - 3) + 1 + y = x - 3</code> then the inner match <code>(x - 3) + 1 + #0</code> would be ignored</p>



<a name="154163289"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/naming%20part%20of%20the%20goal/near/154163289" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/naming.20part.20of.20the.20goal.html#154163289">(Jan 02 2019 at 08:09)</a>:</h4>
<p><span class="user-mention" data-user-id="110032">@Reid Barton</span> That's brilliant!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>