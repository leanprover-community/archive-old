---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/.E2.9C.94.20theorem.20with.20pfun.20and.20part.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20theorem.20with.20pfun.20and.20part.html">âœ” theorem with pfun and part</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="272458011"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20theorem%20with%20pfun%20and%20part/near/272458011" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20theorem.20with.20pfun.20and.20part.html#272458011">(Feb 18 2022 at 21:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="388441">David Richey</span> has marked this topic as resolved.</p>



<a name="272488203"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20theorem%20with%20pfun%20and%20part/near/272488203" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20theorem.20with.20pfun.20and.20part.html#272488203">(Feb 19 2022 at 03:12)</a>:</h4>
<p><span class="user-mention" data-user-id="388441">@David Richey</span> Oh my, this proof is not using the API at all. The RHS of this theorem is precisely the definition of <code>y \in f x</code>, so the theorem you want is likely called <a href="https://leanprover-community.github.io/mathlib_docs/find/part.eq_some_iff">docs#part.eq_some_iff</a></p>



<a name="272488452"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20theorem%20with%20pfun%20and%20part/near/272488452" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Richey <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20theorem.20with.20pfun.20and.20part.html#272488452">(Feb 19 2022 at 03:17)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span>  Can you clarify what you mean by "not using the API" and why that is an issue?</p>



<a name="272488541"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20theorem%20with%20pfun%20and%20part/near/272488541" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20theorem.20with.20pfun.20and.20part.html#272488541">(Feb 19 2022 at 03:18)</a>:</h4>
<p>The obvious practical advantage in this case is that it turns a somewhat intricate theorem about sets or something into a one liner <code>part.eq_some_iff.1 h</code></p>



<a name="272488880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20theorem%20with%20pfun%20and%20part/near/272488880" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20theorem.20with.20pfun.20and.20part.html#272488880">(Feb 19 2022 at 03:25)</a>:</h4>
<p>The point of the API (the set of theorems available on  <code>pfun</code> and <code>part</code> in this case) is to make it so that you don't have to go into the guts of the implementation to prove theorems like this. In general, the idea is that when we want very different parts of the library to interact, we use a defined interface so that changes on one side have limited breakage on the other. Theorems that ignore this and unfold lots of stuff tend to be brittle to refactoring, in addition to being more complicated for lean and for humans.</p>



<a name="272488964"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20theorem%20with%20pfun%20and%20part/near/272488964" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20theorem.20with.20pfun.20and.20part.html#272488964">(Feb 19 2022 at 03:26)</a>:</h4>
<p>an indicator that the proof doesn't use the API is that it doesn't once mention anything in the<code>pfun</code> or <code>part</code> namespace</p>



<a name="272558830"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20theorem%20with%20pfun%20and%20part/near/272558830" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Richey <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20theorem.20with.20pfun.20and.20part.html#272558830">(Feb 20 2022 at 02:22)</a>:</h4>
<p>Thank you, I learned a lot from your explanation</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>