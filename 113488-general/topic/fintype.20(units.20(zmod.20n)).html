---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html">fintype (units (zmod n))</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="252776463"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252776463" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252776463">(Sep 10 2021 at 12:12)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">noncomputable</span> <span class="kd">def</span> <span class="n">fintype_units</span> <span class="o">:</span> <span class="bp">Π</span> <span class="n">n</span><span class="o">,</span> <span class="n">fintype</span> <span class="o">(</span><span class="n">units</span> <span class="o">(</span><span class="n">zmod</span> <span class="n">n</span><span class="o">))</span>
<span class="bp">|</span> <span class="mi">0</span>     <span class="o">:=</span> <span class="k">show</span> <span class="n">fintype</span> <span class="o">(</span><span class="n">units</span> <span class="n">ℤ</span><span class="o">),</span> <span class="k">from</span> <span class="n">infer_instance</span>
<span class="bp">|</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="o">:=</span> <span class="n">infer_instance</span>
</code></pre></div>
<p>Can this be an instance? Why is this noncomputable? Both branches are computable.<br>
Should we finally have a <code>[is_finite X]</code> typeclass that lives in <code>Prop</code>?</p>



<a name="252776856"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252776856" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252776856">(Sep 10 2021 at 12:15)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/8820/files#diff-7f686f5382f35c1cb9194c1e08521752e0518a07416ab32c400b4ad49e0372b6R39">https://github.com/leanprover-community/mathlib/pull/8820/files#diff-7f686f5382f35c1cb9194c1e08521752e0518a07416ab32c400b4ad49e0372b6R39</a><br>
Apparently <span class="user-mention" data-user-id="110049">@Mario Carneiro</span> knows how to make this computable.</p>



<a name="252777077"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252777077" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252777077">(Sep 10 2021 at 12:17)</a>:</h4>
<p>it causes some annoying diamonds, but maybe it's okay reducible. not too sure about the noncomputability</p>



<a name="252777133"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252777133" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252777133">(Sep 10 2021 at 12:17)</a>:</h4>
<p>It's noncomputable because being a unit is not decidable in general. Is there a clever way to enumerate the units of <code>fin n</code>?</p>



<a name="252777225"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252777225" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252777225">(Sep 10 2021 at 12:18)</a>:</h4>
<p>I suppose you can decide being a unit in a finite ring by brute force but surely we can do better than that</p>



<a name="252777302"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252777302" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252777302">(Sep 10 2021 at 12:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113488-general/topic/fintype.20.28units.20.28zmod.20n.29.29/near/252777133">said</a>:</p>
<blockquote>
<p>It's noncomputable because being a unit is not decidable in general. Is there a clever way to enumerate the units of <code>fin n</code>?</p>
</blockquote>
<p>Euclid's algorithm?</p>



<a name="252777368"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252777368" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252777368">(Sep 10 2021 at 12:19)</a>:</h4>
<p>Once you've found one unit, you can take its powers to gain some time.</p>



<a name="252777414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252777414" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252777414">(Sep 10 2021 at 12:20)</a>:</h4>
<p>(if you want to compute all of them at once)</p>



<a name="252777605"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252777605" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252777605">(Sep 10 2021 at 12:21)</a>:</h4>
<p>Hm, that makes sense. Does anyone want to try writing a function <code>fin n -&gt; option (units (fin n))</code> which computes the inverse and proves it is inverse?</p>



<a name="252777727"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252777727" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252777727">(Sep 10 2021 at 12:22)</a>:</h4>
<p>it sounds like you can get it from the extended euclidean algorithm</p>



<a name="252777761"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252777761" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252777761">(Sep 10 2021 at 12:22)</a>:</h4>
<p>Sure! I already have <code>xgcd</code> in front of me :)</p>



<a name="252778077"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252778077" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252778077">(Sep 10 2021 at 12:25)</a>:</h4>
<p>Although <a href="https://leanprover-community.github.io/mathlib_docs/find/zmod.unit_of_coprime">docs#zmod.unit_of_coprime</a> is already computable</p>



<a name="252778080"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252778080" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252778080">(Sep 10 2021 at 12:25)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> but what about diamonds? Does such an instance-by-cases introduce a risk there?</p>



<a name="252778150"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252778150" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252778150">(Sep 10 2021 at 12:25)</a>:</h4>
<p>All instances on <code>zmod n</code> are written like this, because it is a type defined by cases</p>



<a name="252778321"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252778321" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252778321">(Sep 10 2021 at 12:26)</a>:</h4>
<p>Hmmm, we shouldn't have an instance for just <code>zmod n</code> (<code>n &gt; 0</code>) that does computable units, right? Because it would clash with the existing <a href="https://leanprover-community.github.io/mathlib_docs/find/units.fintype">docs#units.fintype</a></p>



<a name="252778681"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252778681" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252778681">(Sep 10 2021 at 12:29)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">instance</span> <span class="o">:</span> <span class="bp">Π</span> <span class="n">n</span><span class="o">,</span> <span class="n">fintype</span> <span class="o">(</span><span class="n">units</span> <span class="o">(</span><span class="n">zmod</span> <span class="n">n</span><span class="o">))</span>
<span class="bp">|</span> <span class="mi">0</span> <span class="o">:=</span> <span class="k">show</span> <span class="n">fintype</span> <span class="o">(</span><span class="n">units</span> <span class="n">ℤ</span><span class="o">),</span> <span class="kd">by</span> <span class="n">apply_instance</span>
<span class="bp">|</span> <span class="n">n</span><span class="bp">@</span><span class="o">(</span><span class="n">_</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:=</span> <span class="n">fintype.of_equiv</span> <span class="n">_</span> <span class="n">units_equiv_coprime.symm</span>
</code></pre></div>



<a name="252778714"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252778714" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252778714">(Sep 10 2021 at 12:29)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/zmod.units_equiv_coprime">docs#zmod.units_equiv_coprime</a> already existed :P</p>



<a name="252778785"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252778785" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252778785">(Sep 10 2021 at 12:29)</a>:</h4>
<p>Shouldn't we rather make <code>units.fintype</code> computable?</p>



<a name="252778850"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252778850" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252778850">(Sep 10 2021 at 12:30)</a>:</h4>
<p>Or even better, create a <code>Prop</code>-valued alternative?</p>



<a name="252778977"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252778977" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252778977">(Sep 10 2021 at 12:31)</a>:</h4>
<p>I mean, I want a computable <code>zmod n</code>, don't get me wrong. But many arguments with finite monoids could be done with just a Prop-valued finiteness certificate.</p>



<a name="252779010"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252779010" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252779010">(Sep 10 2021 at 12:31)</a>:</h4>
<p>So assuming <code>fintype R</code> all the time is overly restrictive.</p>



<a name="252779140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252779140" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252779140">(Sep 10 2021 at 12:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/113488-general/topic/fintype.20.28units.20.28zmod.20n.29.29/near/252778785">said</a>:</p>
<blockquote>
<p>Shouldn't we rather make <code>units.fintype</code> computable?</p>
</blockquote>
<p>Is that possible? It is not obvious to me how to compute the set of units without decidable_eq at least</p>



<a name="252779238"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252779238" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252779238">(Sep 10 2021 at 12:33)</a>:</h4>
<p>Also, none of this is any barrier to also adding an <code>is_finite (units (zmod n))</code> or what have you</p>



<a name="252779306"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252779306" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252779306">(Sep 10 2021 at 12:33)</a>:</h4>
<p>You don't need to use <code>fintype</code>if you don't want to</p>



<a name="252779559"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252779559" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252779559">(Sep 10 2021 at 12:35)</a>:</h4>
<p>Also, it isn't a non-instance because it is noncomputable; in fact I don't know why it's not an instance, the page you linked to says <code>noncomputable instance</code></p>



<a name="252780334"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252780334" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252780334">(Sep 10 2021 at 12:41)</a>:</h4>
<p>hmm, then we should make this an instance (-;<br>
But we should use the <code>noncomputable</code> version. The one by <span class="user-mention" data-user-id="238446">@Anne Baanen</span> causes a clash with <code>units.fintype</code>.</p>



<a name="252780419"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252780419" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252780419">(Sep 10 2021 at 12:42)</a>:</h4>
<p>nooo, my computability <span aria-label="cry" class="emoji emoji-1f622" role="img" title="cry">:cry:</span></p>



<a name="252780459"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252780459" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252780459">(Sep 10 2021 at 12:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113488-general/topic/fintype.20.28units.20.28zmod.20n.29.29/near/252779140">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/113488-general/topic/fintype.20.28units.20.28zmod.20n.29.29/near/252778785">said</a>:</p>
<blockquote>
<p>Shouldn't we rather make <code>units.fintype</code> computable?</p>
</blockquote>
<p>Is that possible? It is not obvious to me how to compute the set of units without decidable_eq at least</p>
</blockquote>
<p>Why doesn't <code>fintype</code> include <code>decidable_eq</code>? I would guess that you would almost always want that if you care about computability, right?</p>



<a name="252780576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252780576" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252780576">(Sep 10 2021 at 12:43)</a>:</h4>
<p>More seriously, why don't we make a computable <code>def</code> version of <a href="https://leanprover-community.github.io/mathlib_docs/find/units.fintype">docs#units.fintype</a>, even keeping the instance classical if we're so inclined?</p>



<a name="252780980"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252780980" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252780980">(Sep 10 2021 at 12:46)</a>:</h4>
<p>Fintype doesn't include decidable_eq because nodup on lists is definable without decidable_eq. That's because it relies on the inductive pairwise ne. I can for sure know that my list of reals [0, 1, 2] is nodup by checking the first digit. Checking that it is not nodup is what's hard.</p>



<a name="252781075"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252781075" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252781075">(Sep 10 2021 at 12:47)</a>:</h4>
<p>Similarly, nothing in the quotienting by list.perm to generate a multiset requires decidable_eq, because list.perm is also inductively defined.</p>



<a name="252798132"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252798132" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252798132">(Sep 10 2021 at 14:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/113488-general/topic/fintype.20.28units.20.28zmod.20n.29.29/near/252780334">said</a>:</p>
<blockquote>
<p>hmm, then we should make this an instance (-;<br>
But we should use the <code>noncomputable</code> version. The one by <span class="user-mention silent" data-user-id="238446">Anne Baanen</span> causes a clash with <code>units.fintype</code>.</p>
</blockquote>
<p>I don't think it does, because there is no instance of <code>fintype (zmod n)</code></p>



<a name="252801279"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252801279" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252801279">(Sep 10 2021 at 15:08)</a>:</h4>
<p>Sure, but what happens after <code>cases n</code> in the <code>succ</code> branch?</p>



<a name="252806345"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252806345" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252806345">(Sep 10 2021 at 15:42)</a>:</h4>
<p>I don't follow, you were talking about conflicting instances</p>



<a name="252806379"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252806379" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252806379">(Sep 10 2021 at 15:43)</a>:</h4>
<p>The way that this instance is proved doesn't matter, since it's not competing with anything</p>



<a name="252817520"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252817520" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252817520">(Sep 10 2021 at 17:01)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> There is an instance of <code>fintype (zmod (n+1))</code></p>



<a name="252817613"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252817613" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252817613">(Sep 10 2021 at 17:02)</a>:</h4>
<p>So then we can get competing instances for <code>fintype (units (zmod (n+1)))</code></p>



<a name="252817618"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252817618" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252817618">(Sep 10 2021 at 17:02)</a>:</h4>
<p>ah, I was hoping there wasn't</p>



<a name="252817666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252817666" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252817666">(Sep 10 2021 at 17:02)</a>:</h4>
<p>It seems like a pretty useful instance to me.</p>



<a name="252817675"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252817675" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252817675">(Sep 10 2021 at 17:02)</a>:</h4>
<p>Is it possible to just use <code>fin (n+1)</code> instead?</p>



<a name="252817709"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252817709" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252817709">(Sep 10 2021 at 17:02)</a>:</h4>
<p>they are defeq after all</p>



<a name="252817717"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252817717" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252817717">(Sep 10 2021 at 17:03)</a>:</h4>
<p>Lemmas about finite fields should apply to <code>zmod p</code>, shouldn't they?</p>



<a name="252817746"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252817746" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252817746">(Sep 10 2021 at 17:03)</a>:</h4>
<p>that's not of the form <code>zmod (n+1)</code></p>



<a name="252817761"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252817761" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252817761">(Sep 10 2021 at 17:03)</a>:</h4>
<p>so it wouldn't apply anyway</p>



<a name="252817904"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252817904" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252817904">(Sep 10 2021 at 17:04)</a>:</h4>
<p>I'm inclined to just live with the diamond if all these instances are used</p>



<a name="252817917"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252817917" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252817917">(Sep 10 2021 at 17:04)</a>:</h4>
<p>Well... there is <code>[fact (0 &lt; n)] -&gt; fintype (zmod n)</code></p>



<a name="252817951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252817951" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252817951">(Sep 10 2021 at 17:04)</a>:</h4>
<p>and <code>[fact p.prime] -&gt; [fact (0 &lt; p)]</code></p>



<a name="252817994"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252817994" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252817994">(Sep 10 2021 at 17:04)</a>:</h4>
<p>oof, what are all these fact instances</p>



<a name="252818294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252818294" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252818294">(Sep 10 2021 at 17:06)</a>:</h4>
<p>Well, we want <code>[fact p.prime] -&gt; field (zmod p)</code>. Don't we?</p>



<a name="252818343"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252818343" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252818343">(Sep 10 2021 at 17:07)</a>:</h4>
<p>So that's the origin of all the facts.</p>



<a name="252818491"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252818491" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252818491">(Sep 10 2021 at 17:08)</a>:</h4>
<p>As long as there aren't any fact instances, it should be okay to have instances with fact hypotheses since they won't be satisfied</p>



<a name="252821331"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252821331" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252821331">(Sep 10 2021 at 17:30)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> I'm afraid there's also a <code>fact (0 &lt; (n+1))</code> instance. It's quite a useful one, in fact.<br>
It's one of the 2 or 3 global fact instances.</p>



<a name="252821396"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252821396" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252821396">(Sep 10 2021 at 17:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113488-general/topic/fintype.20.28units.20.28zmod.20n.29.29/near/252817904">said</a>:</p>
<blockquote>
<p>I'm inclined to just live with the diamond if all these instances are used</p>
</blockquote>



<a name="252862120"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fintype%20%28units%20%28zmod%20n%29%29/near/252862120" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fintype.20(units.20(zmod.20n)).html#252862120">(Sep 10 2021 at 23:02)</a>:</h4>
<p>Fintype instances are subsingleton</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>