---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Equality.20for.20the.20.E2.9F.A8.E2.9F.A9.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Equality.20for.20the.20.E2.9F.A8.E2.9F.A9.html">Equality for the ⟨⟩</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="320143979"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Equality%20for%20the%20%E2%9F%A8%E2%9F%A9/near/320143979" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kind Bubble <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Equality.20for.20the.20.E2.9F.A8.E2.9F.A9.html#320143979">(Jan 09 2023 at 03:20)</a>:</h4>
<p>I'm trying to figure this one out:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">variable</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span>
<span class="kd">variable</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">X</span><span class="o">}</span>
<span class="kd">variable</span> <span class="o">{</span><span class="n">y</span> <span class="o">:</span> <span class="n">X</span><span class="o">}</span>
<span class="kd">variable</span> <span class="o">{</span><span class="n">p</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span><span class="o">}</span>
<span class="kd">def</span> <span class="n">q</span> <span class="o">:</span> <span class="o">⟨</span><span class="n">x</span><span class="o">,</span> <span class="n">x</span><span class="o">,</span> <span class="n">x</span><span class="o">⟩</span> <span class="bp">=</span> <span class="o">⟨</span><span class="n">y</span><span class="o">,</span><span class="n">y</span><span class="o">,</span><span class="n">y</span><span class="o">⟩</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>
<p>I think it should be pretty simple.</p>



<a name="320144248"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Equality%20for%20the%20%E2%9F%A8%E2%9F%A9/near/320144248" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Renshaw <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Equality.20for.20the.20.E2.9F.A8.E2.9F.A9.html#320144248">(Jan 09 2023 at 03:24)</a>:</h4>
<p>You need to specify what type you mean for the equality. For example:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">variable</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span>
<span class="kd">variable</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">X</span><span class="o">}</span>
<span class="kd">variable</span> <span class="o">{</span><span class="n">y</span> <span class="o">:</span> <span class="n">X</span><span class="o">}</span>
<span class="kd">variable</span> <span class="o">{</span><span class="n">p</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span><span class="o">}</span>
<span class="kd">def</span> <span class="n">q</span> <span class="o">:</span> <span class="o">(⟨</span><span class="n">x</span><span class="o">,</span> <span class="n">x</span><span class="o">,</span> <span class="n">x</span><span class="o">⟩</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">×</span> <span class="n">X</span> <span class="bp">×</span> <span class="n">X</span><span class="o">)</span> <span class="bp">=</span> <span class="o">⟨</span><span class="n">y</span><span class="o">,</span><span class="n">y</span><span class="o">,</span><span class="n">y</span><span class="o">⟩</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>



<a name="320144357"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Equality%20for%20the%20%E2%9F%A8%E2%9F%A9/near/320144357" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Renshaw <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Equality.20for.20the.20.E2.9F.A8.E2.9F.A9.html#320144357">(Jan 09 2023 at 03:25)</a>:</h4>
<p><code>⟨⟩</code> is "anonymous constructor syntax", and it can construct values of any product-like type.</p>



<a name="320144618"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Equality%20for%20the%20%E2%9F%A8%E2%9F%A9/near/320144618" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kind Bubble <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Equality.20for.20the.20.E2.9F.A8.E2.9F.A9.html#320144618">(Jan 09 2023 at 03:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243791">David Renshaw</span> <a href="#narrow/stream/113488-general/topic/Equality.20for.20the.20.E2.9F.A8.E2.9F.A9/near/320144248">said</a>:</p>
<blockquote>
<p>Ok hmm... here:</p>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">variable</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span>
<span class="kd">variable</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">X</span><span class="o">}</span>
<span class="kd">variable</span> <span class="o">{</span><span class="n">y</span> <span class="o">:</span> <span class="n">X</span><span class="o">}</span>
<span class="kd">variable</span> <span class="o">{</span><span class="n">p</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span><span class="o">}</span>
<span class="kd">def</span> <span class="n">q</span> <span class="o">:</span> <span class="o">(⟨</span><span class="n">x</span><span class="o">,</span> <span class="n">x</span><span class="o">,</span> <span class="n">x</span><span class="o">,</span> <span class="n">Unit.unit</span><span class="o">⟩</span> <span class="o">:</span> <span class="bp">Σ'</span><span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">X</span><span class="o">),</span> <span class="bp">Σ'</span><span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">X</span><span class="o">),</span><span class="bp">Σ'</span><span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">X</span><span class="o">),</span><span class="n">Unit</span><span class="o">)</span> <span class="bp">=</span> <span class="o">⟨</span><span class="n">y</span><span class="o">,</span><span class="n">y</span><span class="o">,</span><span class="n">y</span><span class="o">,</span> <span class="n">Unit.unit</span><span class="o">⟩</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div><br>
</p>
</blockquote>
<p>Now I'm trying to figure out the name of the axiom</p>



<a name="320144869"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Equality%20for%20the%20%E2%9F%A8%E2%9F%A9/near/320144869" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Renshaw <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Equality.20for.20the.20.E2.9F.A8.E2.9F.A9.html#320144869">(Jan 09 2023 at 03:33)</a>:</h4>
<p>oh, is this Lean 4?</p>



<a name="320144877"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Equality%20for%20the%20%E2%9F%A8%E2%9F%A9/near/320144877" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kind Bubble <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Equality.20for.20the.20.E2.9F.A8.E2.9F.A9.html#320144877">(Jan 09 2023 at 03:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243791">David Renshaw</span> <a href="#narrow/stream/113488-general/topic/Equality.20for.20the.20.E2.9F.A8.E2.9F.A9/near/320144869">said</a>:</p>
<blockquote>
<p>oh, is this Lean 4?</p>
</blockquote>
<p>yeah sorry about that</p>



<a name="320144878"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Equality%20for%20the%20%E2%9F%A8%E2%9F%A9/near/320144878" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Renshaw <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Equality.20for.20the.20.E2.9F.A8.E2.9F.A9.html#320144878">(Jan 09 2023 at 03:33)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">variable</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span>
<span class="kd">variable</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">X</span><span class="o">}</span>
<span class="kd">variable</span> <span class="o">{</span><span class="n">y</span> <span class="o">:</span> <span class="n">X</span><span class="o">}</span>
<span class="kd">variable</span> <span class="o">{</span><span class="n">p</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span><span class="o">}</span>
<span class="kd">def</span> <span class="n">q</span> <span class="o">:</span> <span class="o">(⟨</span><span class="n">x</span><span class="o">,</span> <span class="n">x</span><span class="o">,</span> <span class="n">x</span><span class="o">,</span> <span class="n">Unit.unit</span><span class="o">⟩</span> <span class="o">:</span> <span class="bp">Σ'</span><span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">X</span><span class="o">),</span> <span class="bp">Σ'</span><span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">X</span><span class="o">),</span> <span class="bp">Σ'</span><span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">X</span><span class="o">),</span><span class="n">Unit</span><span class="o">)</span> <span class="bp">=</span> <span class="o">⟨</span><span class="n">y</span><span class="o">,</span><span class="n">y</span><span class="o">,</span><span class="n">y</span><span class="o">,</span> <span class="n">Unit.unit</span><span class="o">⟩</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">congr</span>
</code></pre></div>



<a name="320144894"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Equality%20for%20the%20%E2%9F%A8%E2%9F%A9/near/320144894" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kind Bubble <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Equality.20for.20the.20.E2.9F.A8.E2.9F.A9.html#320144894">(Jan 09 2023 at 03:33)</a>:</h4>
<p>What does by do?</p>



<a name="320144954"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Equality%20for%20the%20%E2%9F%A8%E2%9F%A9/near/320144954" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Renshaw <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Equality.20for.20the.20.E2.9F.A8.E2.9F.A9.html#320144954">(Jan 09 2023 at 03:34)</a>:</h4>
<p>starts tactic mode. <code>congr</code> is a tactic</p>



<a name="320144992"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Equality%20for%20the%20%E2%9F%A8%E2%9F%A9/near/320144992" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kind Bubble <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Equality.20for.20the.20.E2.9F.A8.E2.9F.A9.html#320144992">(Jan 09 2023 at 03:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243791">David Renshaw</span> <a href="#narrow/stream/113488-general/topic/Equality.20for.20the.20.E2.9F.A8.E2.9F.A9/near/320144954">said</a>:</p>
<blockquote>
<p>starts tactic mode. <code>congr</code> is a tactic</p>
</blockquote>
<p>Now suppose I've got some more complex constituent equalities (p:x = y here).</p>



<a name="320145012"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Equality%20for%20the%20%E2%9F%A8%E2%9F%A9/near/320145012" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kind Bubble <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Equality.20for.20the.20.E2.9F.A8.E2.9F.A9.html#320145012">(Jan 09 2023 at 03:35)</a>:</h4>
<p>how would I assemble them? would congr automatically know about these demonstrated constituent equalities?</p>



<a name="320145127"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Equality%20for%20the%20%E2%9F%A8%E2%9F%A9/near/320145127" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Renshaw <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Equality.20for.20the.20.E2.9F.A8.E2.9F.A9.html#320145127">(Jan 09 2023 at 03:37)</a>:</h4>
<p>I expect <code>congr</code> to break it into simpler subgoals for you</p>



<a name="320146407"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Equality%20for%20the%20%E2%9F%A8%E2%9F%A9/near/320146407" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kind Bubble <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Equality.20for.20the.20.E2.9F.A8.E2.9F.A9.html#320146407">(Jan 09 2023 at 04:00)</a>:</h4>
<p>Ok thanks. This is good.</p>
<p>Nonetheless if someone knows a closed form for this involving constituent equalities that would be much appreciated.</p>



<a name="320147783"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Equality%20for%20the%20%E2%9F%A8%E2%9F%A9/near/320147783" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kind Bubble <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Equality.20for.20the.20.E2.9F.A8.E2.9F.A9.html#320147783">(Jan 09 2023 at 04:23)</a>:</h4>
<p>Like ??? here:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">variable</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span>
<span class="kd">variable</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">X</span><span class="o">}</span>
<span class="kd">variable</span> <span class="o">{</span><span class="n">y</span> <span class="o">:</span> <span class="n">X</span><span class="o">}</span>
<span class="kd">variable</span> <span class="o">{</span><span class="n">p</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span><span class="o">}</span>
<span class="kd">def</span> <span class="n">q</span> <span class="o">:</span> <span class="o">(⟨</span><span class="n">x</span><span class="o">,</span> <span class="n">Unit.unit</span><span class="o">⟩</span> <span class="o">:</span> <span class="bp">Σ'</span><span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">X</span><span class="o">),</span><span class="n">Unit</span><span class="o">)</span> <span class="bp">=</span> <span class="o">⟨</span><span class="n">y</span><span class="o">,</span><span class="n">Unit.unit</span><span class="o">⟩</span> <span class="o">:=</span> <span class="bp">???</span> <span class="n">p</span> <span class="n">Eq.refl</span>
</code></pre></div>



<a name="320147785"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Equality%20for%20the%20%E2%9F%A8%E2%9F%A9/near/320147785" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Equality.20for.20the.20.E2.9F.A8.E2.9F.A9.html#320147785">(Jan 09 2023 at 04:23)</a>:</h4>
<p><code>congr</code> applies congruence theorems, which have the form e.g. <code>a = b -&gt; c = d -&gt; (a, c) = (b, d)</code>. They are generated on the fly, but you can prove them by using <code>Eq.rec</code></p>



<a name="320147846"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Equality%20for%20the%20%E2%9F%A8%E2%9F%A9/near/320147846" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Equality.20for.20the.20.E2.9F.A8.E2.9F.A9.html#320147846">(Jan 09 2023 at 04:24)</a>:</h4>
<p><code>congr_arg</code> is a theorem which covers most cases of this</p>



<a name="320147850"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Equality%20for%20the%20%E2%9F%A8%E2%9F%A9/near/320147850" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kind Bubble <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Equality.20for.20the.20.E2.9F.A8.E2.9F.A9.html#320147850">(Jan 09 2023 at 04:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113488-general/topic/Equality.20for.20the.20.E2.9F.A8.E2.9F.A9/near/320147785">said</a>:</p>
<blockquote>
<p><code>congr</code> applies congruence theorems, which have the form e.g. <code>a = b -&gt; c = d -&gt; (a, c) = (b, d)</code>. They are generated on the fly, but you can prove them by using <code>Eq.rec</code></p>
<p>like this?</p>
</blockquote>
<p>variable {X : Type}<br>
variable {x : X}<br>
variable {y : X}<br>
variable {p : x = y}<br>
def q : (⟨x, Unit.unit⟩ : Σ'(_:X),Unit) = ⟨y,Unit.unit⟩ := Eq.rec p Eq.refl</p>



<a name="320147866"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Equality%20for%20the%20%E2%9F%A8%E2%9F%A9/near/320147866" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Equality.20for.20the.20.E2.9F.A8.E2.9F.A9.html#320147866">(Jan 09 2023 at 04:25)</a>:</h4>
<p>probably <code>p ▸ Eq.refl _</code> works</p>



<a name="320147999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Equality%20for%20the%20%E2%9F%A8%E2%9F%A9/near/320147999" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Equality.20for.20the.20.E2.9F.A8.E2.9F.A9.html#320147999">(Jan 09 2023 at 04:28)</a>:</h4>
<p><code>▸</code> is a wrapper for <code>Eq.rec</code> which is better able to infer the higher order function argument (the "motive") in <code>Eq.rec</code></p>



<a name="320148036"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Equality%20for%20the%20%E2%9F%A8%E2%9F%A9/near/320148036" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Equality.20for.20the.20.E2.9F.A8.E2.9F.A9.html#320148036">(Jan 09 2023 at 04:29)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">q</span> <span class="o">:</span> <span class="o">(⟨</span><span class="n">x</span><span class="o">,</span> <span class="n">Unit.unit</span><span class="o">⟩</span> <span class="o">:</span> <span class="bp">Σ'</span><span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">X</span><span class="o">),</span><span class="n">Unit</span><span class="o">)</span> <span class="bp">=</span> <span class="o">⟨</span><span class="n">y</span><span class="o">,</span><span class="n">Unit.unit</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">p</span> <span class="bp">▸</span> <span class="n">Eq.refl</span> <span class="n">_</span>
<span class="k">#print</span> <span class="n">q</span>
</code></pre></div>
<p>if you mouse over the <code>▸</code> in the proof it shows</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">@</span><span class="n">Eq.rec</span> <span class="n">X</span> <span class="n">x</span> <span class="o">(</span><span class="k">fun</span> <span class="n">x_1</span> <span class="n">h</span> <span class="bp">=&gt;</span> <span class="o">{</span> <span class="n">fst</span> <span class="o">:=</span> <span class="n">x</span><span class="o">,</span> <span class="n">snd</span> <span class="o">:=</span> <span class="o">()</span> <span class="o">}</span> <span class="bp">=</span> <span class="o">{</span> <span class="n">fst</span> <span class="o">:=</span> <span class="n">x_1</span><span class="o">,</span> <span class="n">snd</span> <span class="o">:=</span> <span class="o">()</span> <span class="o">})</span> <span class="o">(</span><span class="n">Eq.refl</span> <span class="o">{</span> <span class="n">fst</span> <span class="o">:=</span> <span class="n">x</span><span class="o">,</span> <span class="n">snd</span> <span class="o">:=</span> <span class="o">()</span> <span class="o">})</span> <span class="n">y</span> <span class="n">p</span>
</code></pre></div>
<p>where <code>fun x_1 h =&gt; { fst := x, snd := () } = { fst := x_1, snd := () }</code> is the "motive"</p>



<a name="320151994"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Equality%20for%20the%20%E2%9F%A8%E2%9F%A9/near/320151994" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kind Bubble <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Equality.20for.20the.20.E2.9F.A8.E2.9F.A9.html#320151994">(Jan 09 2023 at 05:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113488-general/topic/Equality.20for.20the.20.E2.9F.A8.E2.9F.A9/near/320148036">said</a>:</p>
<blockquote>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">q</span> <span class="o">:</span> <span class="o">(⟨</span><span class="n">x</span><span class="o">,</span> <span class="n">Unit.unit</span><span class="o">⟩</span> <span class="o">:</span> <span class="bp">Σ'</span><span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">X</span><span class="o">),</span><span class="n">Unit</span><span class="o">)</span> <span class="bp">=</span> <span class="o">⟨</span><span class="n">y</span><span class="o">,</span><span class="n">Unit.unit</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">p</span> <span class="bp">▸</span> <span class="n">Eq.refl</span> <span class="n">_</span>
<span class="k">#print</span> <span class="n">q</span>
</code></pre></div>
<p>if you mouse over the <code>▸</code> in the proof it shows</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">@</span><span class="n">Eq.rec</span> <span class="n">X</span> <span class="n">x</span> <span class="o">(</span><span class="k">fun</span> <span class="n">x_1</span> <span class="n">h</span> <span class="bp">=&gt;</span> <span class="o">{</span> <span class="n">fst</span> <span class="o">:=</span> <span class="n">x</span><span class="o">,</span> <span class="n">snd</span> <span class="o">:=</span> <span class="o">()</span> <span class="o">}</span> <span class="bp">=</span> <span class="o">{</span> <span class="n">fst</span> <span class="o">:=</span> <span class="n">x_1</span><span class="o">,</span> <span class="n">snd</span> <span class="o">:=</span> <span class="o">()</span> <span class="o">})</span> <span class="o">(</span><span class="n">Eq.refl</span> <span class="o">{</span> <span class="n">fst</span> <span class="o">:=</span> <span class="n">x</span><span class="o">,</span> <span class="n">snd</span> <span class="o">:=</span> <span class="o">()</span> <span class="o">})</span> <span class="n">y</span> <span class="n">p</span>
</code></pre></div>
<p>where <code>fun x_1 h =&gt; { fst := x, snd := () } = { fst := x_1, snd := () }</code> is the "motive"</p>
</blockquote>
<p>hmm wow. ok this is great.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>