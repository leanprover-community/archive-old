---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Theorem.20-.20Transitivity.20of.20subgroups.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Theorem.20-.20Transitivity.20of.20subgroups.html">Theorem - Transitivity of subgroups</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="284837692"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Theorem%20-%20Transitivity%20of%20subgroups/near/284837692" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ZHAO Jinxiang <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Theorem.20-.20Transitivity.20of.20subgroups.html#284837692">(Jun 03 2022 at 05:20)</a>:</h4>
<p>I don't know how to write the following theorems in lean:</p>
<p>If <code>H</code> is a subgroup of <code>G</code> and <code>K</code> is a subgroup of <code>H</code>, then <code>K</code> is a subgroup of <code>H</code>.</p>



<a name="284838251"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Theorem%20-%20Transitivity%20of%20subgroups/near/284838251" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Theorem.20-.20Transitivity.20of.20subgroups.html#284838251">(Jun 03 2022 at 05:33)</a>:</h4>
<p>If you have <code>A B C : subgroup G</code> and <code>h1 : A ≤ B</code> and <code>h2 : B ≤ C</code> then <code>h1.trans h2</code> will be a term of <code>A ≤ C</code>.<br>
If you have <code>H : subgroup G</code> and <code>K : subgroup H</code>, then <code>K : subgroup G</code> does not type check. You will have to apply <code>subgroup.map</code> to the canonical group hom from <code>H</code> to <code>G</code>.</p>



<a name="284838543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Theorem%20-%20Transitivity%20of%20subgroups/near/284838543" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ZHAO Jinxiang <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Theorem.20-.20Transitivity.20of.20subgroups.html#284838543">(Jun 03 2022 at 05:39)</a>:</h4>
<p>I'm using mathlib's subgroup def. But this seems not valid code</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span> <span class="c1">-- imports all the Lean tactics</span>
<span class="kn">import</span> <span class="n">group_theory.subgroup.basic</span> <span class="c1">-- import Lean's subgroups</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span>

<span class="kd">lemma</span> <span class="n">subgroup_trans</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">subgroup</span> <span class="n">G</span><span class="o">)</span> <span class="o">(</span><span class="n">K</span> <span class="o">:</span> <span class="n">subgroup</span> <span class="n">H</span><span class="o">)</span> <span class="o">:</span>  <span class="o">(</span><span class="n">K</span> <span class="o">:</span> <span class="n">subgroup</span> <span class="n">G</span><span class="o">)</span>   <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="gr">sorry</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p><a href="/user_uploads/3121/BCLG73CI80xyKvKiGwF0Kons/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/BCLG73CI80xyKvKiGwF0Kons/image.png" title="image.png"><img src="/user_uploads/3121/BCLG73CI80xyKvKiGwF0Kons/image.png"></a></div>



<a name="284838688"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Theorem%20-%20Transitivity%20of%20subgroups/near/284838688" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Theorem.20-.20Transitivity.20of.20subgroups.html#284838688">(Jun 03 2022 at 05:42)</a>:</h4>
<p>Indeed, that doesn't type check.<br>
If <code>K</code> has type <code>subgroup H</code>, it can not also have type <code>subgoup G</code>.</p>



<a name="284838704"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Theorem%20-%20Transitivity%20of%20subgroups/near/284838704" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Theorem.20-.20Transitivity.20of.20subgroups.html#284838704">(Jun 03 2022 at 05:42)</a>:</h4>
<p>You could argue that there should be a coercion from <code>subgroup H</code> to <code>subgroup G</code>, but mathlib doesn't have that.</p>



<a name="284838714"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Theorem%20-%20Transitivity%20of%20subgroups/near/284838714" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Theorem.20-.20Transitivity.20of.20subgroups.html#284838714">(Jun 03 2022 at 05:43)</a>:</h4>
<p>So you need to use <code>subgroup.map</code>.</p>



<a name="284838716"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Theorem%20-%20Transitivity%20of%20subgroups/near/284838716" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ZHAO Jinxiang <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Theorem.20-.20Transitivity.20of.20subgroups.html#284838716">(Jun 03 2022 at 05:43)</a>:</h4>
<p>Let me have a try</p>



<a name="284839204"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Theorem%20-%20Transitivity%20of%20subgroups/near/284839204" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ZHAO Jinxiang <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Theorem.20-.20Transitivity.20of.20subgroups.html#284839204">(Jun 03 2022 at 05:54)</a>:</h4>
<p>Is there any function to make a coercion from <code>subgroup H</code> to <code>subgroup G</code> without writing monoid_hom by my self?</p>



<a name="284839298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Theorem%20-%20Transitivity%20of%20subgroups/near/284839298" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Theorem.20-.20Transitivity.20of.20subgroups.html#284839298">(Jun 03 2022 at 05:56)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/subgroup.map">docs#subgroup.map</a></p>



<a name="284839393"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Theorem%20-%20Transitivity%20of%20subgroups/near/284839393" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ZHAO Jinxiang <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Theorem.20-.20Transitivity.20of.20subgroups.html#284839393">(Jun 03 2022 at 05:58)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">subgroup.map</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u_1</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">{</span><span class="n">N</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u_3</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">N</span><span class="o">]</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">G</span> <span class="bp">→*</span> <span class="n">N</span><span class="o">)</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">subgroup</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span> <span class="n">subgroup</span> <span class="n">N</span>
</code></pre></div>
<p>I need to provide <code>(f : G →* N)</code>. That means I need to provide a instance of <code>monoid_hom</code>.</p>
<p>Is there any helper function help me to provide this?</p>



<a name="284840501"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Theorem%20-%20Transitivity%20of%20subgroups/near/284840501" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Theorem.20-.20Transitivity.20of.20subgroups.html#284840501">(Jun 03 2022 at 06:21)</a>:</h4>
<p>I guess <code>H.subtype</code> is that map</p>



<a name="284840554"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Theorem%20-%20Transitivity%20of%20subgroups/near/284840554" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Theorem.20-.20Transitivity.20of.20subgroups.html#284840554">(Jun 03 2022 at 06:22)</a>:</h4>
<p>You could try filling it in <code>by library_search</code></p>



<a name="284840576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Theorem%20-%20Transitivity%20of%20subgroups/near/284840576" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Theorem.20-.20Transitivity.20of.20subgroups.html#284840576">(Jun 03 2022 at 06:22)</a>:</h4>
<p><code>subgroup.map (by library_search) K</code></p>



<a name="284840684"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Theorem%20-%20Transitivity%20of%20subgroups/near/284840684" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ZHAO Jinxiang <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Theorem.20-.20Transitivity.20of.20subgroups.html#284840684">(Jun 03 2022 at 06:24)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span> <span class="c1">-- imports all the Lean tactics</span>
<span class="kn">import</span> <span class="n">group_theory.subgroup.basic</span> <span class="c1">-- import Lean's subgroups</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span>

<span class="kd">lemma</span> <span class="n">subgroup_trans</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">subgroup</span> <span class="n">G</span><span class="o">)</span> <span class="o">(</span><span class="n">K</span> <span class="o">:</span> <span class="n">subgroup</span> <span class="n">H</span><span class="o">)</span> <span class="o">:</span> <span class="n">subgroup.map</span> <span class="n">H.subtype</span> <span class="n">K</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="gr">sorry</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p><a href="/user_uploads/3121/kcNRZ90Dnmt3ZbkYYq_dyYoi/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/kcNRZ90Dnmt3ZbkYYq_dyYoi/image.png" title="image.png"><img src="/user_uploads/3121/kcNRZ90Dnmt3ZbkYYq_dyYoi/image.png"></a></div>



<a name="284840759"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Theorem%20-%20Transitivity%20of%20subgroups/near/284840759" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Theorem.20-.20Transitivity.20of.20subgroups.html#284840759">(Jun 03 2022 at 06:25)</a>:</h4>
<p>That's not a lemma.</p>



<a name="284840815"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Theorem%20-%20Transitivity%20of%20subgroups/near/284840815" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Theorem.20-.20Transitivity.20of.20subgroups.html#284840815">(Jun 03 2022 at 06:26)</a>:</h4>
<p><code>subgroup.map H.subtype K</code> is a subgroup of <code>G</code>.</p>



<a name="284840957"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Theorem%20-%20Transitivity%20of%20subgroups/near/284840957" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ZHAO Jinxiang <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Theorem.20-.20Transitivity.20of.20subgroups.html#284840957">(Jun 03 2022 at 06:29)</a>:</h4>
<p>Thank you very much for your patient answer. <span aria-label="heart kiss" class="emoji emoji-1f618" role="img" title="heart kiss">:heart_kiss:</span><br>
I have another question.<br>
So how do I state that K is a subgroup of G ? <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span></p>



<a name="284841058"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Theorem%20-%20Transitivity%20of%20subgroups/near/284841058" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Theorem.20-.20Transitivity.20of.20subgroups.html#284841058">(Jun 03 2022 at 06:31)</a>:</h4>
<p>It is not.</p>



<a name="284841165"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Theorem%20-%20Transitivity%20of%20subgroups/near/284841165" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Theorem.20-.20Transitivity.20of.20subgroups.html#284841165">(Jun 03 2022 at 06:33)</a>:</h4>
<blockquote>
<p>I don't know how to write the following theorems in lean: If <code>H</code> is a subgroup of <code>G</code> and <code>K</code> is a subgroup of <code>H</code>, then <code>K</code> is a subgroup of <code>H</code>.</p>
</blockquote>
<p>That is not a "theorem" in Lean. It is a construction, so it is a definition.</p>



<a name="284841172"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Theorem%20-%20Transitivity%20of%20subgroups/near/284841172" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ZHAO Jinxiang <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Theorem.20-.20Transitivity.20of.20subgroups.html#284841172">(Jun 03 2022 at 06:33)</a>:</h4>
<p>I know it's not type-theoretically correct. But in textbooks written in set theory, there is such a proposition:</p>
<blockquote>
<p>If H is a subgroup of G and K is a subgroup of H, then K is a subgroup of H.</p>
</blockquote>
<p>I want to formalize it with lean .</p>



<a name="284841238"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Theorem%20-%20Transitivity%20of%20subgroups/near/284841238" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ZHAO Jinxiang <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Theorem.20-.20Transitivity.20of.20subgroups.html#284841238">(Jun 03 2022 at 06:34)</a>:</h4>
<p>Oh, I know, it is a definition. So I need't prove this.</p>



<a name="284841273"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Theorem%20-%20Transitivity%20of%20subgroups/near/284841273" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Theorem.20-.20Transitivity.20of.20subgroups.html#284841273">(Jun 03 2022 at 06:35)</a>:</h4>
<p>The textbooks also talk about things like "the first isomorphism theorem" which is also a definition. I'm just pointing out that if you are not precise with language then it can lead you to ask informal questions about a system where it is not clear what you are actually asking. You ask "So how do I state that K is a subgroup of G ?" A better question on this chat is "here is some code, how do I fill in the sorry"? It is very hard to answer a question of the form "So how do I state that K is a subgroup of G ?" because you have not precisely stated the types of everything in the question. You might have one mental model of <code>K</code> but when you formalise you might find that there are several ways to represent the idea in type theory, and your mental model of K might correspond to several different things at the same time.</p>



<a name="284841458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Theorem%20-%20Transitivity%20of%20subgroups/near/284841458" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hanting Zhang <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Theorem.20-.20Transitivity.20of.20subgroups.html#284841458">(Jun 03 2022 at 06:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="329691">ZHAO Jinxiang</span> <a href="#narrow/stream/113488-general/topic/Theorem.20-.20Transitivity.20of.20subgroups/near/284841172">said</a>:</p>
<blockquote>
<p>I know it's not type-theoretically correct. But in textbooks written in set theory, there is such a proposition:</p>
<blockquote>
<p>If H is a subgroup of G and K is a subgroup of H, then K is a subgroup of H.</p>
</blockquote>
<p>I want to formalize it with lean .</p>
</blockquote>
<p>The problem with this is that the predicate <code>is a subgroup</code>doesn't exist in lean, so you shouldn't think it about that way. Instead, you can ask "Given two pieces of data, i.e. a subgroup H of G and a subgroup K of H, construct the subgroup of G that naturally identifies with K."</p>



<a name="284841464"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Theorem%20-%20Transitivity%20of%20subgroups/near/284841464" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Theorem.20-.20Transitivity.20of.20subgroups.html#284841464">(Jun 03 2022 at 06:38)</a>:</h4>
<p>A formal and unhelpful answer to your question would be something like: <code>subgroup G</code> is the type of subgroups of <code>G</code>. If you have a term <code>K</code> whose type is <code>subgroup G</code> then it is a subgroup of <code>G</code> by definition. If it does not have type <code>subgroup G</code> then it is not a subgroup of G, by definition (e.g. it might be a subset of G), so you can't prove it's a subgroup of G. One thing which helped me when I was trying to learn this stuff is that groups and subgroups are defined in an asymmetric way in Lean: a group is a type, and a subgroup is a term. In particular "a subgroup is a group" when written naively in Lean does not even make sense on a syntactic level. This is why precision is important when formalising.</p>



<a name="284841841"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Theorem%20-%20Transitivity%20of%20subgroups/near/284841841" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ZHAO Jinxiang <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Theorem.20-.20Transitivity.20of.20subgroups.html#284841841">(Jun 03 2022 at 06:45)</a>:</h4>
<p>Thank you very much for your patient answers. <span aria-label="heart kiss" class="emoji emoji-1f618" role="img" title="heart kiss">:heart_kiss:</span> I learned a lot from the discussions here.</p>
<p>Today is the Chinese Dragon Boat Festival. I wish you a happy day.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>