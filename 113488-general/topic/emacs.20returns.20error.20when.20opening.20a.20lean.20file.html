---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/emacs.20returns.20error.20when.20opening.20a.20lean.20file.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/emacs.20returns.20error.20when.20opening.20a.20lean.20file.html">emacs returns error when opening a lean file</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="261071889"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/emacs%20returns%20error%20when%20opening%20a%20lean%20file/near/261071889" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Daniel Choi <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/emacs.20returns.20error.20when.20opening.20a.20lean.20file.html#261071889">(Nov 10 2021 at 23:34)</a>:</h4>
<p>I installed Lean on a Mac and went through the instructions given on the community page. When I opened a newly-created .lean file, emacs complained that</p>
<p>(error Lean was not found in the ’exec-path’ and ’lean-rootdir’ is not defined. Please set it via M-x customize-variable RET lean-rootdir RET.)</p>
<p>Unfortunately, I have no idea what to set lean-rootdir to. Any pointers? It appears that Lean will not work as intended unless I resolve this.</p>



<a name="261072901"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/emacs%20returns%20error%20when%20opening%20a%20lean%20file/near/261072901" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/emacs.20returns.20error.20when.20opening.20a.20lean.20file.html#261072901">(Nov 10 2021 at 23:45)</a>:</h4>
<p>Have you used <code>leanproject</code> to create a new project? If you don't have a directory containing a leanpkg.toml file, then go back and follow the part of the instructions explaining how to do that. If you do have such a directory, that is the directory you want to open.</p>



<a name="261073013"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/emacs%20returns%20error%20when%20opening%20a%20lean%20file/near/261073013" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/emacs.20returns.20error.20when.20opening.20a.20lean.20file.html#261073013">(Nov 10 2021 at 23:46)</a>:</h4>
<p>(I don't use emacs, so I'm not sure exactly how to translate "open the directory", which is what you'd say for VSCode.)</p>



<a name="261074992"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/emacs%20returns%20error%20when%20opening%20a%20lean%20file/near/261074992" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Daniel Choi <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/emacs.20returns.20error.20when.20opening.20a.20lean.20file.html#261074992">(Nov 11 2021 at 00:09)</a>:</h4>
<p>Ah, I hadn't gotten to the <code>leanproject</code> part of the instructions yet, thanks<br>
But then a new problem pops up: apparently leanproject isn't defined yet? The same page suggests <code>source ~/.profile</code> and <code>source ~/bash.profile</code>, I tried both it doesn't work</p>



<a name="261075106"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/emacs%20returns%20error%20when%20opening%20a%20lean%20file/near/261075106" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Daniel Choi <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/emacs.20returns.20error.20when.20opening.20a.20lean.20file.html#261075106">(Nov 11 2021 at 00:10)</a>:</h4>
<p>Should have put in the effort to convert to a Linux distro, would have been much simpler :|</p>



<a name="261075196"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/emacs%20returns%20error%20when%20opening%20a%20lean%20file/near/261075196" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Daniel Choi <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/emacs.20returns.20error.20when.20opening.20a.20lean.20file.html#261075196">(Nov 11 2021 at 00:11)</a>:</h4>
<p>Also Mac is now using <code>zsh</code> instead of <code>bash</code>, that should affect the file name but I can't find the equivalent profile file.</p>



<a name="261076072"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/emacs%20returns%20error%20when%20opening%20a%20lean%20file/near/261076072" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Daniel Choi <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/emacs.20returns.20error.20when.20opening.20a.20lean.20file.html#261076072">(Nov 11 2021 at 00:22)</a>:</h4>
<p>Might have found the problem—looking at the logs, Homebrew hit an error after installing elan and so mathlibtools was never installed. Will update to confirm.</p>



<a name="261076666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/emacs%20returns%20error%20when%20opening%20a%20lean%20file/near/261076666" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Daniel Choi <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/emacs.20returns.20error.20when.20opening.20a.20lean.20file.html#261076666">(Nov 11 2021 at 00:29)</a>:</h4>
<p>OK I'm up and running now; thanks for the help!</p>



<a name="261081870"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/emacs%20returns%20error%20when%20opening%20a%20lean%20file/near/261081870" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/emacs.20returns.20error.20when.20opening.20a.20lean.20file.html#261081870">(Nov 11 2021 at 01:35)</a>:</h4>
<p>Great, thanks!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>