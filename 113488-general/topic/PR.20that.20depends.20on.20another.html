---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/PR.20that.20depends.20on.20another.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/PR.20that.20depends.20on.20another.html">PR that depends on another</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="222399739"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/PR%20that%20depends%20on%20another/near/222399739" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rémy Degenne <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/PR.20that.20depends.20on.20another.html#222399739">(Jan 12 2021 at 07:42)</a>:</h4>
<p>how do I make a PR that uses code from another one, and is marked as depending on it? Do I create a new branch from the branch of the PR, then make my changes and PR the result? Then the dependent issues bot will mark it accordingly? Or is it all a more manual process.<br>
I want to PR a proof that the almost-everywhere pointwise limit of ae_measurable functions is ae_measurable (in a metric, borel space), but I need a result from PR <a href="https://github.com/leanprover-community/mathlib/issues/5688">#5688</a></p>



<a name="222400816"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/PR%20that%20depends%20on%20another/near/222400816" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rémy Degenne <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/PR.20that.20depends.20on.20another.html#222400816">(Jan 12 2021 at 08:00)</a>:</h4>
<p>My approach to that problem until now has been to simply wait for the other PR to be merged. After all, there is no hurry.</p>



<a name="222401116"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/PR%20that%20depends%20on%20another/near/222401116" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/PR.20that.20depends.20on.20another.html#222401116">(Jan 12 2021 at 08:04)</a>:</h4>
<p>I have just reviewed the PR, but I have a comment so I won't merge it right away.</p>
<p>For your question, you can merge the changes of the other PR into your own PR to get it to compile (or build directly your branch on top of the other one). To indicate that your PR is built on top of the other one, you should add at the end of your PR main comment the lines</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c1">---</span>
<span class="bp">-</span> <span class="o">[</span> <span class="o">]</span> <span class="n">depends</span> <span class="n">on</span><span class="o">:</span> <span class="bp">#</span><span class="mi">5688</span>
</code></pre></div>



<a name="222401578"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/PR%20that%20depends%20on%20another/near/222401578" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rémy Degenne <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/PR.20that.20depends.20on.20another.html#222401578">(Jan 12 2021 at 08:11)</a>:</h4>
<p>Thanks! I suppose that I would then get a merge conflict if the other one is changed between the moment I merge it into my branch and the moment it gets merged into master, which I would resolve by merging master into my branch.</p>



<a name="222401634"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/PR%20that%20depends%20on%20another/near/222401634" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/PR.20that.20depends.20on.20another.html#222401634">(Jan 12 2021 at 08:12)</a>:</h4>
<p>Yes, you will need to merge master in any case.</p>



<a name="222402175"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/PR%20that%20depends%20on%20another/near/222402175" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rémy Degenne <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/PR.20that.20depends.20on.20another.html#222402175">(Jan 12 2021 at 08:19)</a>:</h4>
<p>On the topic of the content of my coming PR: for measurable functions, measurability of the a.e. limit requires a complete measure, but that completeness is not required for the corresponding statement with ae_measurable functions, which I find really nice. Now I can remove that hypothesis of my proofs of the completeness of Lp spaces. Thanks for introducing those ae_measurable functions!</p>



<a name="222404989"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/PR%20that%20depends%20on%20another/near/222404989" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/PR.20that.20depends.20on.20another.html#222404989">(Jan 12 2021 at 08:54)</a>:</h4>
<p>In fact almost everywhere measurability is equivalent to measurability for the completed measure, so it is not suprising that this has such a nice behavior. This fact is not proved in mathlib (yet) because it is not really necessary for the development of the theory.</p>
<p>Sketch of proof that, if <code>f</code> is null-measurable, then it is ae-measurable (the other direction is trivial). Composing with <code>arctan</code> if necessary, we can assume that <code>f</code> is null-measurable and bounded. Take a canonical sequence of simple functions <code>s_n</code> approximating it. These simple functions are also null-measurable. Since they are simple, it is easy to modify them to obtain <code>s'_n</code> which is measurable and coincides almost everywhere with <code>s_n</code>. Then <code>s'_n</code> is a Cauchy sequence in <code>L^1</code>. Taking a subsequence if necessary, it converges almost everywhere, to a measurable function <code>f'</code> (which is given by the limit where convergence holds, and by <code>0</code> elsewhere). Then <code>f</code> coincides almost everywhere with <code>f'</code>.</p>



<a name="222405202"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/PR%20that%20depends%20on%20another/near/222405202" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/PR.20that.20depends.20on.20another.html#222405202">(Jan 12 2021 at 08:57)</a>:</h4>
<p>If this isn't formalized, is it at least in some module docstring?</p>



<a name="222407108"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/PR%20that%20depends%20on%20another/near/222407108" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/PR.20that.20depends.20on.20another.html#222407108">(Jan 12 2021 at 09:21)</a>:</h4>
<p>It is in a commit message (of the PR introducing almost everywhere measurability). Not in a docstring as far as I remember.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>