---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html">Intuitionistic Type Theory Proofs</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="194032029"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/194032029" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Billy Price <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#194032029">(Apr 15 2020 at 13:44)</a>:</h4>
<p>Hi there,</p>
<p>I'm doing a project on topos theory and proof-assistants, and I would like to write some proofs about intuitionistic type theory as presented in Lambek and Scott "Introduction to Higher Order Logic", specifically I'm proving that its associated category is a topos. The sequent-tree-proofs are laborious to organise and write out by hand. Would Lean be an appropriate tool for this?</p>
<p>I essentially want to define Term's inductively, and then create and work with sequents of the form "p |--_X q", where |--_X is entailment with a subscript set X of variables, and p,q are Terms with free variables all in X. I am imagining then implementing the rules of deduction as axioms like this, "axiom rule : A -&gt; B" where A and B are entailment expressions as before.</p>
<p>I am unsure how I should marry Lean's existing type theory with the one I'm modelling. Should I endeavour to completely separate them? For example, one rule is "(r|--_X p &amp; q) iff (r|--_X p) and (r|--_X q)", in which case I imagine I should write my own conjuction for the use of "&amp;" and use the existing "and" and "iff" in Lean's library.</p>



<a name="194032856"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/194032856" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#194032856">(Apr 15 2020 at 13:49)</a>:</h4>
<p>This sounds like approximately the right approach except that, instead of using <code>axiom</code>, make "p |--_X q" an inductive Prop with the rules of deduction as constructors.</p>



<a name="194033438"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/194033438" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#194033438">(Apr 15 2020 at 13:53)</a>:</h4>
<p>Or maybe a type rather than a prop depending on what you want to do with it</p>



<a name="194034004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/194034004" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#194034004">(Apr 15 2020 at 13:56)</a>:</h4>
<p><a href="https://flypitch.github.io/" title="https://flypitch.github.io/">https://flypitch.github.io/</a> is probably useful as an example of embedding other theories into Lean.</p>



<a name="194034049"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/194034049" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Billy Price <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#194034049">(Apr 15 2020 at 13:57)</a>:</h4>
<p>Something like this? I'm still new to lean and I'm 100% certain this is wrong.<br>
"inductive entails (X : set) (p : Term) (q: Term)<br>
| self_entail : entails X p p<br>
"</p>



<a name="194034200"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/194034200" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#194034200">(Apr 15 2020 at 13:58)</a>:</h4>
<p><code> ```lean </code> at the top of your code and <code> ``` </code> at the bottom to quote it with syntax highlighting</p>



<a name="194034396"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/194034396" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#194034396">(Apr 15 2020 at 13:59)</a>:</h4>
<p>On top of Flypitch, there is also <a href="https://softwarefoundations.cis.upenn.edu/plf-current/Types.html#lab174" title="https://softwarefoundations.cis.upenn.edu/plf-current/Types.html#lab174">https://softwarefoundations.cis.upenn.edu/plf-current/Types.html#lab174</a>, which shows something related but not quite (also it's in Coq, so you have to translate syntax)</p>



<a name="194034894"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/194034894" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Billy Price <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#194034894">(Apr 15 2020 at 14:03)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110031">Patrick Massot</span> <a href="#narrow/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs/near/194034004" title="#narrow/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs/near/194034004">said</a>:</p>
<blockquote>
<p><a href="https://flypitch.github.io/" title="https://flypitch.github.io/">https://flypitch.github.io/</a> is probably useful as an example of embedding other theories into Lean.</p>
</blockquote>
<p>Is their use of the unicode \entails a defined notation or is that already part of lean?</p>



<a name="194036131"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/194036131" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#194036131">(Apr 15 2020 at 14:11)</a>:</h4>
<p><span class="user-mention" data-user-id="111080">@Floris van Doorn</span> <span class="user-mention" data-user-id="116045">@Jesse Michael Han</span></p>



<a name="194066828"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/194066828" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jesse Michael Han <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#194066828">(Apr 15 2020 at 17:44)</a>:</h4>
<p>we define our own notion of provability for first-order logic, see fol.lean in the Flypitch repo</p>



<a name="194259192"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/194259192" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#194259192">(Apr 16 2020 at 05:22)</a>:</h4>
<p>Provability is defined in the repository:</p>
<div class="codehilite"><pre><span></span><span class="kn">inductive</span> <span class="n">prf</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">formula</span> <span class="n">L</span><span class="o">)</span> <span class="bp">→</span> <span class="n">formula</span> <span class="n">L</span> <span class="bp">→</span> <span class="kt">Type</span> <span class="n">u</span>
<span class="bp">|</span> <span class="n">axm</span>     <span class="o">{</span><span class="err">Γ</span> <span class="n">A</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">A</span> <span class="err">∈</span> <span class="err">Γ</span><span class="o">)</span> <span class="o">:</span> <span class="n">prf</span> <span class="err">Γ</span> <span class="n">A</span>
<span class="bp">|</span> <span class="n">impI</span>    <span class="o">{</span><span class="err">Γ</span> <span class="o">:</span> <span class="n">set</span> <span class="err">$</span> <span class="n">formula</span> <span class="n">L</span><span class="o">}</span> <span class="o">{</span><span class="n">A</span> <span class="n">B</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">prf</span> <span class="o">(</span><span class="n">insert</span> <span class="n">A</span> <span class="err">Γ</span><span class="o">)</span> <span class="n">B</span><span class="o">)</span> <span class="o">:</span> <span class="n">prf</span> <span class="err">Γ</span> <span class="o">(</span><span class="n">A</span> <span class="err">⟹</span> <span class="n">B</span><span class="o">)</span>
<span class="bp">|</span> <span class="n">impE</span>    <span class="o">{</span><span class="err">Γ</span><span class="o">}</span> <span class="o">(</span><span class="n">A</span><span class="o">)</span> <span class="o">{</span><span class="n">B</span><span class="o">}</span> <span class="o">(</span><span class="n">h₁</span> <span class="o">:</span> <span class="n">prf</span> <span class="err">Γ</span> <span class="o">(</span><span class="n">A</span> <span class="err">⟹</span> <span class="n">B</span><span class="o">))</span> <span class="o">(</span><span class="n">h₂</span> <span class="o">:</span> <span class="n">prf</span> <span class="err">Γ</span> <span class="n">A</span><span class="o">)</span> <span class="o">:</span> <span class="n">prf</span> <span class="err">Γ</span> <span class="n">B</span>
<span class="bp">|</span> <span class="n">falsumE</span> <span class="o">{</span><span class="err">Γ</span> <span class="o">:</span> <span class="n">set</span> <span class="err">$</span> <span class="n">formula</span> <span class="n">L</span><span class="o">}</span> <span class="o">{</span><span class="n">A</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">prf</span> <span class="o">(</span><span class="n">insert</span> <span class="err">∼</span><span class="n">A</span> <span class="err">Γ</span><span class="o">)</span> <span class="err">⊥</span><span class="o">)</span> <span class="o">:</span> <span class="n">prf</span> <span class="err">Γ</span> <span class="n">A</span>
<span class="bp">|</span> <span class="n">allI</span>    <span class="o">{</span><span class="err">Γ</span> <span class="n">A</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">prf</span> <span class="o">(</span><span class="n">lift_formula1</span> <span class="err">&#39;&#39;</span> <span class="err">Γ</span><span class="o">)</span> <span class="n">A</span><span class="o">)</span> <span class="o">:</span> <span class="n">prf</span> <span class="err">Γ</span> <span class="o">(</span><span class="bp">∀</span><span class="err">&#39;</span> <span class="n">A</span><span class="o">)</span>
<span class="bp">|</span> <span class="n">allE₂</span>   <span class="o">{</span><span class="err">Γ</span><span class="o">}</span> <span class="n">A</span> <span class="n">t</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">prf</span> <span class="err">Γ</span> <span class="o">(</span><span class="bp">∀</span><span class="err">&#39;</span> <span class="n">A</span><span class="o">))</span> <span class="o">:</span> <span class="n">prf</span> <span class="err">Γ</span> <span class="o">(</span><span class="n">A</span><span class="o">[</span><span class="n">t</span> <span class="bp">//</span> <span class="mi">0</span><span class="o">])</span>
<span class="bp">|</span> <span class="n">ref</span>     <span class="o">(</span><span class="err">Γ</span> <span class="n">t</span><span class="o">)</span> <span class="o">:</span> <span class="n">prf</span> <span class="err">Γ</span> <span class="o">(</span><span class="n">t</span> <span class="err">≃</span> <span class="n">t</span><span class="o">)</span>
<span class="bp">|</span> <span class="n">subst₂</span>  <span class="o">{</span><span class="err">Γ</span><span class="o">}</span> <span class="o">(</span><span class="n">s</span> <span class="n">t</span> <span class="n">f</span><span class="o">)</span> <span class="o">(</span><span class="n">h₁</span> <span class="o">:</span> <span class="n">prf</span> <span class="err">Γ</span> <span class="o">(</span><span class="n">s</span> <span class="err">≃</span> <span class="n">t</span><span class="o">))</span> <span class="o">(</span><span class="n">h₂</span> <span class="o">:</span> <span class="n">prf</span> <span class="err">Γ</span> <span class="o">(</span><span class="n">f</span><span class="o">[</span><span class="n">s</span> <span class="bp">//</span> <span class="mi">0</span><span class="o">]))</span> <span class="o">:</span> <span class="n">prf</span> <span class="err">Γ</span> <span class="o">(</span><span class="n">f</span><span class="o">[</span><span class="n">t</span> <span class="bp">//</span> <span class="mi">0</span><span class="o">])</span>
</pre></div>


<p><a href="https://github.com/flypitch/flypitch/blob/master/src/fol.lean#L816" title="https://github.com/flypitch/flypitch/blob/master/src/fol.lean#L816">https://github.com/flypitch/flypitch/blob/master/src/fol.lean#L816</a></p>
<p>This is all done on top of our internal definition of formula of first-order logic.<br>
Here <code> prf Γ A</code> stands for <code>Γ ⊢ A</code>. So for example <code>impE</code> states that if <code>Γ ⊢ A ⟹ B</code> and <code>Γ ⊢ A</code> then <code>Γ ⊢ B</code>. Some of the other rules are a bit more tricky to decipher, this is because we're using de Bruijn indices for formulas. More details can be found in the two papers we wrote about it: <a href="https://flypitch.github.io/papers/" title="https://flypitch.github.io/papers/">https://flypitch.github.io/papers/</a></p>



<a name="195264794"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195264794" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Billy Price <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195264794">(Apr 25 2020 at 03:07)</a>:</h4>
<p>I'm trying to write the inductive definition of a Formula in my type theory, in which every Type has a powerset type. One of the Formulas is of the form "a \in \alpha", where A is a type, a : A, and \alpha : PA. However Lean is not happy when I try to define this constructor on the last line - "universe level of type_of(arg <a href="https://github.com/leanprover-community/mathlib/issues/1" title="https://github.com/leanprover-community/mathlib/issues/1">#1</a>) of 'TypeTheory.Formula.elem' is too big for the corresponding inductive datatype"</p>
<div class="codehilite"><pre><span></span><span class="kn">structure</span> <span class="n">PowerSet</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Type</span>

<span class="kn">inductive</span> <span class="n">Formula</span> <span class="o">:</span> <span class="kt">Type</span>
<span class="bp">|</span> <span class="n">var</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">Formula</span>
<span class="bp">|</span> <span class="n">top</span> <span class="o">:</span> <span class="n">Formula</span>
<span class="bp">|</span> <span class="n">bot</span> <span class="o">:</span> <span class="n">Formula</span>
<span class="bp">|</span> <span class="n">and</span> <span class="o">:</span> <span class="n">Formula</span> <span class="bp">→</span> <span class="n">Formula</span> <span class="bp">→</span> <span class="n">Formula</span>
<span class="bp">|</span> <span class="n">or</span>  <span class="o">:</span> <span class="n">Formula</span> <span class="bp">→</span> <span class="n">Formula</span> <span class="bp">→</span> <span class="n">Formula</span>
<span class="bp">|</span> <span class="n">imp</span> <span class="o">:</span> <span class="n">Formula</span> <span class="bp">→</span> <span class="n">Formula</span> <span class="bp">→</span> <span class="n">Formula</span>
<span class="bp">|</span> <span class="n">elem</span> <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">→</span> <span class="o">(</span><span class="n">PowerSet</span> <span class="n">A</span><span class="o">)</span> <span class="bp">→</span> <span class="n">Formula</span>
</pre></div>


<p>I imagine its because I've defined a lot of things to be of type <code>Type</code>, but I don't really understand where things should live. Those things being: the types of my theory (instances of A in my code above), the powersets of those types (same level as normal types?), and Formulas.</p>



<a name="195264855"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195264855" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Donald Sebastian Leung <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195264855">(Apr 25 2020 at 03:09)</a>:</h4>
<p>Perhaps try adding the type parameter <code>A</code> to <code>Formula</code> itself, i.e. <code>inductive Formula (A : Type) : Type</code></p>



<a name="195264974"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195264974" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Billy Price <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195264974">(Apr 25 2020 at 03:13)</a>:</h4>
<p>Okay cool, I'd like to know why that worked, but also it seems like now every constructor of Formula now depends on this type, which I don't think I want.</p>



<a name="195266490"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195266490" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195266490">(Apr 25 2020 at 04:01)</a>:</h4>
<p>More precisely, this makes it so that there is only one type over which <code>elem</code> can work</p>



<a name="195266529"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195266529" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195266529">(Apr 25 2020 at 04:02)</a>:</h4>
<p>You can make <code>Formula</code> live in <code>Type 1</code> and then it will work, but the better question is what you intend to do with an uncountable number of formulas</p>



<a name="195266549"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195266549" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195266549">(Apr 25 2020 at 04:02)</a>:</h4>
<p>I think you need some constraints on what types are supposed to exist in your type theory</p>



<a name="195267534"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195267534" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Billy Price <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195267534">(Apr 25 2020 at 04:33)</a>:</h4>
<p>Why would it be uncountable? Surely the fact that it's defined inductively only gives me countably many?</p>



<a name="195267583"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195267583" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195267583">(Apr 25 2020 at 04:35)</a>:</h4>
<p><code>elem x</code> is different for each <code>x : Type</code></p>



<a name="195267607"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195267607" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195267607">(Apr 25 2020 at 04:35)</a>:</h4>
<p>what does <code>PowerSet A</code> do?</p>



<a name="195267646"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195267646" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195267646">(Apr 25 2020 at 04:36)</a>:</h4>
<p>it has no constructor so there can be no instances of it...</p>



<a name="195267653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195267653" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195267653">(Apr 25 2020 at 04:36)</a>:</h4>
<p>actually it's a <code>structure</code> so there is one for each <code>A</code></p>



<a name="195267662"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195267662" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Billy Price <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195267662">(Apr 25 2020 at 04:37)</a>:</h4>
<p>I am ambivalent to what PowerSet A is, just that it's also a type in the same way that A is</p>



<a name="195267663"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195267663" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195267663">(Apr 25 2020 at 04:37)</a>:</h4>
<p>but the problem is that <code>A</code> can be anything</p>



<a name="195267669"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195267669" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195267669">(Apr 25 2020 at 04:37)</a>:</h4>
<p>I claim that <code>PowerSet A -&gt; false</code> for all <code>A</code></p>



<a name="195267706"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195267706" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195267706">(Apr 25 2020 at 04:38)</a>:</h4>
<p>that's false, <code>PowerSet A ~= unit</code></p>



<a name="195267783"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195267783" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195267783">(Apr 25 2020 at 04:38)</a>:</h4>
<p>I don't understand structures</p>



<a name="195267784"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195267784" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Billy Price <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195267784">(Apr 25 2020 at 04:39)</a>:</h4>
<p>Yeah okay, well here's my updated attempt (doesn't compile)</p>
<div class="codehilite"><pre><span></span><span class="kn">inductive</span> <span class="n">type</span> <span class="o">:</span> <span class="kt">Type</span> <span class="mi">1</span>
<span class="bp">|</span> <span class="n">prod</span> <span class="o">:</span> <span class="n">type</span> <span class="bp">→</span> <span class="n">type</span> <span class="bp">→</span> <span class="n">type</span>
<span class="bp">|</span> <span class="n">pow</span>  <span class="o">:</span> <span class="n">type</span> <span class="bp">→</span> <span class="n">type</span>

<span class="kn">inductive</span> <span class="n">Formula</span> <span class="o">:</span> <span class="kt">Type</span> <span class="mi">1</span>
<span class="bp">|</span> <span class="n">top</span> <span class="o">:</span> <span class="n">Formula</span>
<span class="bp">|</span> <span class="n">bot</span> <span class="o">:</span> <span class="n">Formula</span>
<span class="bp">|</span> <span class="n">and</span> <span class="o">:</span> <span class="n">Formula</span> <span class="bp">→</span> <span class="n">Formula</span> <span class="bp">→</span> <span class="n">Formula</span>
<span class="bp">|</span> <span class="n">or</span>  <span class="o">:</span> <span class="n">Formula</span> <span class="bp">→</span> <span class="n">Formula</span> <span class="bp">→</span> <span class="n">Formula</span>
<span class="bp">|</span> <span class="n">imp</span> <span class="o">:</span> <span class="n">Formula</span> <span class="bp">→</span> <span class="n">Formula</span> <span class="bp">→</span> <span class="n">Formula</span>
<span class="bp">|</span> <span class="n">elem</span> <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="n">type</span><span class="o">}</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">→</span> <span class="o">(</span><span class="n">type</span><span class="bp">.</span><span class="n">pow</span> <span class="n">A</span><span class="o">)</span> <span class="bp">→</span> <span class="n">Formula</span>
</pre></div>



<a name="195267791"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195267791" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195267791">(Apr 25 2020 at 04:39)</a>:</h4>
<p><span class="user-mention" data-user-id="255481">@Billy Price</span> What I think you want is an inductive type declaring the valid types of your theory. At minimum, it should include <code>PowerSet</code> and some fixed collection of base types</p>



<a name="195267792"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195267792" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195267792">(Apr 25 2020 at 04:39)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="n">PowerSet</span><span class="bp">.</span><span class="n">rec</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="n">PowerSet</span> <span class="n">A</span> <span class="bp">→</span> <span class="n">Sort</span> <span class="n">u_1</span><span class="o">},</span> <span class="n">C</span> <span class="n">PowerSet</span><span class="bp">.</span><span class="n">mk</span> <span class="bp">→</span> <span class="bp">Π</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">PowerSet</span> <span class="n">A</span><span class="o">),</span> <span class="n">C</span> <span class="n">n</span>
</pre></div>



<a name="195267797"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195267797" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195267797">(Apr 25 2020 at 04:39)</a>:</h4>
<p>now I can claim that <code>type -&gt; false</code></p>



<a name="195267839"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195267839" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Billy Price <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195267839">(Apr 25 2020 at 04:40)</a>:</h4>
<p>This is the Type theory I am trying to model in Lean. <a href="http://therisingsea.org/notes/ch2018-lecture9.pdf" title="http://therisingsea.org/notes/ch2018-lecture9.pdf">http://therisingsea.org/notes/ch2018-lecture9.pdf</a></p>



<a name="195267843"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195267843" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195267843">(Apr 25 2020 at 04:40)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> A structure is like an inductive type with one constructor and many arguments. So it is basically a product of all the fields, and the 0-ary case is unit</p>



<a name="195267847"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195267847" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195267847">(Apr 25 2020 at 04:40)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">structure</span> <span class="n">PowerSet</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Type</span>

<span class="kn">inductive</span> <span class="n">Formula</span> <span class="o">:</span> <span class="kt">Type</span> <span class="mi">1</span>
<span class="bp">|</span> <span class="n">var</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">Formula</span>
<span class="bp">|</span> <span class="n">top</span> <span class="o">:</span> <span class="n">Formula</span>
<span class="bp">|</span> <span class="n">bot</span> <span class="o">:</span> <span class="n">Formula</span>
<span class="bp">|</span> <span class="n">and</span> <span class="o">:</span> <span class="n">Formula</span> <span class="bp">→</span> <span class="n">Formula</span> <span class="bp">→</span> <span class="n">Formula</span>
<span class="bp">|</span> <span class="n">or</span>  <span class="o">:</span> <span class="n">Formula</span> <span class="bp">→</span> <span class="n">Formula</span> <span class="bp">→</span> <span class="n">Formula</span>
<span class="bp">|</span> <span class="n">imp</span> <span class="o">:</span> <span class="n">Formula</span> <span class="bp">→</span> <span class="n">Formula</span> <span class="bp">→</span> <span class="n">Formula</span>
<span class="bp">|</span> <span class="n">elem</span> <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">→</span> <span class="o">(</span><span class="n">PowerSet</span> <span class="n">A</span><span class="o">)</span> <span class="bp">→</span> <span class="n">Formula</span>
</pre></div>



<a name="195267853"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195267853" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195267853">(Apr 25 2020 at 04:40)</a>:</h4>
<p>I'm not sure if this is the intended interpretation</p>



<a name="195267872"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195267872" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195267872">(Apr 25 2020 at 04:41)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> I see</p>



<a name="195267914"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195267914" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195267914">(Apr 25 2020 at 04:42)</a>:</h4>
<p>Here's an easy fix:</p>
<div class="codehilite"><pre><span></span><span class="kn">inductive</span> <span class="n">type</span> <span class="o">:</span> <span class="kt">Type</span>
<span class="bp">|</span> <span class="n">prod</span> <span class="o">:</span> <span class="n">type</span> <span class="bp">→</span> <span class="n">type</span> <span class="bp">→</span> <span class="n">type</span>
<span class="bp">|</span> <span class="n">pow</span>  <span class="o">:</span> <span class="n">type</span> <span class="bp">→</span> <span class="n">type</span>

<span class="kn">inductive</span> <span class="n">Formula</span> <span class="o">:</span> <span class="kt">Type</span>
<span class="bp">|</span> <span class="n">top</span> <span class="o">:</span> <span class="n">Formula</span>
<span class="bp">|</span> <span class="n">bot</span> <span class="o">:</span> <span class="n">Formula</span>
<span class="bp">|</span> <span class="n">and</span> <span class="o">:</span> <span class="n">Formula</span> <span class="bp">→</span> <span class="n">Formula</span> <span class="bp">→</span> <span class="n">Formula</span>
<span class="bp">|</span> <span class="n">or</span>  <span class="o">:</span> <span class="n">Formula</span> <span class="bp">→</span> <span class="n">Formula</span> <span class="bp">→</span> <span class="n">Formula</span>
<span class="bp">|</span> <span class="n">imp</span> <span class="o">:</span> <span class="n">Formula</span> <span class="bp">→</span> <span class="n">Formula</span> <span class="bp">→</span> <span class="n">Formula</span>
<span class="bp">|</span> <span class="n">elem</span> <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="n">type</span><span class="o">}</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">Formula</span>
</pre></div>



<a name="195267926"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195267926" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195267926">(Apr 25 2020 at 04:42)</a>:</h4>
<p>The problem is that you don't have a grammar of terms that can inhabit a type</p>



<a name="195267929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195267929" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195267929">(Apr 25 2020 at 04:42)</a>:</h4>
<p>here I'm just assuming they are numbered variables, and the type checking is separate</p>



<a name="195267934"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195267934" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195267934">(Apr 25 2020 at 04:43)</a>:</h4>
<p>Also, <code>type</code> is empty</p>



<a name="195267987"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195267987" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195267987">(Apr 25 2020 at 04:45)</a>:</h4>
<p>Here's a more well typed version</p>
<div class="codehilite"><pre><span></span><span class="kn">inductive</span> <span class="n">type</span> <span class="o">:</span> <span class="kt">Type</span>
<span class="bp">|</span> <span class="n">prod</span> <span class="o">:</span> <span class="n">type</span> <span class="bp">→</span> <span class="n">type</span> <span class="bp">→</span> <span class="n">type</span>
<span class="bp">|</span> <span class="n">pow</span>  <span class="o">:</span> <span class="n">type</span> <span class="bp">→</span> <span class="n">type</span>

<span class="n">def</span> <span class="n">term</span> <span class="o">:</span> <span class="n">type</span> <span class="bp">→</span> <span class="kt">Type</span>
<span class="bp">|</span> <span class="o">(</span><span class="n">type</span><span class="bp">.</span><span class="n">prod</span> <span class="n">a</span> <span class="n">b</span><span class="o">)</span> <span class="o">:=</span> <span class="n">term</span> <span class="n">a</span> <span class="bp">×</span> <span class="n">term</span> <span class="n">b</span>
<span class="bp">|</span> <span class="o">(</span><span class="n">type</span><span class="bp">.</span><span class="n">pow</span> <span class="n">a</span><span class="o">)</span> <span class="o">:=</span> <span class="n">term</span> <span class="n">a</span> <span class="bp">→</span> <span class="kt">Prop</span>

<span class="kn">inductive</span> <span class="n">Formula</span> <span class="o">:</span> <span class="kt">Type</span>
<span class="bp">|</span> <span class="n">top</span> <span class="o">:</span> <span class="n">Formula</span>
<span class="bp">|</span> <span class="n">bot</span> <span class="o">:</span> <span class="n">Formula</span>
<span class="bp">|</span> <span class="n">and</span> <span class="o">:</span> <span class="n">Formula</span> <span class="bp">→</span> <span class="n">Formula</span> <span class="bp">→</span> <span class="n">Formula</span>
<span class="bp">|</span> <span class="n">or</span>  <span class="o">:</span> <span class="n">Formula</span> <span class="bp">→</span> <span class="n">Formula</span> <span class="bp">→</span> <span class="n">Formula</span>
<span class="bp">|</span> <span class="n">imp</span> <span class="o">:</span> <span class="n">Formula</span> <span class="bp">→</span> <span class="n">Formula</span> <span class="bp">→</span> <span class="n">Formula</span>
<span class="bp">|</span> <span class="n">elem</span> <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="n">type</span><span class="o">}</span> <span class="o">:</span> <span class="n">term</span> <span class="n">A</span> <span class="bp">→</span> <span class="n">term</span> <span class="o">(</span><span class="n">type</span><span class="bp">.</span><span class="n">pow</span> <span class="n">A</span><span class="o">)</span> <span class="bp">→</span> <span class="n">Formula</span>
</pre></div>


<p>but it's still not good because there are too many elements of <code>term (type.pow a)</code></p>



<a name="195268047"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268047" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Billy Price <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268047">(Apr 25 2020 at 04:46)</a>:</h4>
<p>Yeah I need to add Unit and Omega, where Omega is interpreted as the type of propositions. At the moment I was modelling Omega with Formula, without explicitly calling it a <code>type</code>, maybe I should try that</p>



<a name="195268051"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268051" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268051">(Apr 25 2020 at 04:47)</a>:</h4>
<p>I <strong>don't</strong> think the intended meaning is "1 is a Type, Ω is a Type, AxB is a type for each A and B, PA is a type for each A, <strong>and this is all there is to it</strong>"</p>



<a name="195268052"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268052" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268052">(Apr 25 2020 at 04:47)</a>:</h4>
<p>i.e. I don't agree with the use of <code>inductive</code></p>



<a name="195268053"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268053" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268053">(Apr 25 2020 at 04:47)</a>:</h4>
<p>The problem is that this is going to turn into an inductive-recursive type if you aren't careful</p>



<a name="195268056"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268056" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268056">(Apr 25 2020 at 04:47)</a>:</h4>
<p>because the definition of <code>term</code> depends on <code>formula</code> and vice versa</p>



<a name="195268148"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268148" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Billy Price <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268148">(Apr 25 2020 at 04:51)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> Would it not be possible to inject the semantics of each of these types later on?</p>



<a name="195268188"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268188" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268188">(Apr 25 2020 at 04:52)</a>:</h4>
<p>When I look at the lecture notes you linked, I see a description of a structure, a system of constraints that defines a "type system", not an inductive type enumerating all possible terms</p>



<a name="195268191"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268191" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268191">(Apr 25 2020 at 04:53)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">inductive</span> <span class="n">type</span> <span class="o">:</span> <span class="kt">Type</span>
<span class="bp">|</span> <span class="n">one</span> <span class="bp">|</span> <span class="n">Omega</span> <span class="bp">|</span> <span class="n">prod</span> <span class="o">(</span><span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="n">type</span><span class="o">)</span> <span class="bp">|</span> <span class="n">pow</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="n">type</span><span class="o">)</span>

<span class="kn">inductive</span> <span class="n">term</span> <span class="o">:</span> <span class="n">type</span> <span class="bp">→</span> <span class="kt">Type</span>
<span class="bp">|</span> <span class="n">prod</span> <span class="o">:</span> <span class="bp">Π</span> <span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="n">type</span><span class="o">,</span> <span class="n">term</span> <span class="n">A</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">B</span> <span class="bp">→</span> <span class="n">term</span> <span class="o">(</span><span class="n">type</span><span class="bp">.</span><span class="n">prod</span> <span class="n">A</span> <span class="n">B</span><span class="o">)</span>
<span class="bp">|</span> <span class="n">elem</span> <span class="o">:</span> <span class="bp">Π</span> <span class="n">A</span> <span class="o">:</span> <span class="n">type</span><span class="o">,</span> <span class="n">term</span> <span class="n">A</span> <span class="bp">→</span> <span class="n">term</span> <span class="o">(</span><span class="n">type</span><span class="bp">.</span><span class="n">pow</span> <span class="n">A</span><span class="o">)</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span>
<span class="c1">-- what is b3?</span>
<span class="bp">|</span> <span class="n">and</span> <span class="o">:</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span>
<span class="bp">|</span> <span class="n">or</span> <span class="o">:</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span>
<span class="bp">|</span> <span class="n">imp</span> <span class="o">:</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span>
<span class="c1">-- what is b5??</span>
</pre></div>



<a name="195268193"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268193" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268193">(Apr 25 2020 at 04:53)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> and then I looked deeper, and they defined "Pure type theory" to be basically the inductive thing</p>



<a name="195268195"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268195" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268195">(Apr 25 2020 at 04:53)</a>:</h4>
<p>I'm not sure how to formalize "a variable x of type A"</p>



<a name="195268196"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268196" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268196">(Apr 25 2020 at 04:53)</a>:</h4>
<p>which is required in b3 and b5</p>



<a name="195268197"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268197" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268197">(Apr 25 2020 at 04:53)</a>:</h4>
<p>but here's b2 formalized <span class="user-mention" data-user-id="255481">@Billy Price</span></p>



<a name="195268262"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268262" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268262">(Apr 25 2020 at 04:55)</a>:</h4>
<p>A variable of type A would be a constructor <code>| var {A : type} : nat -&gt; term A</code></p>



<a name="195268301"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268301" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Billy Price <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268301">(Apr 25 2020 at 04:56)</a>:</h4>
<p>Awesome, thanks. For the variables, I just need them to act such that I can substitute terms of the <code>type</code> that the variable is associated to.</p>



<a name="195268303"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268303" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268303">(Apr 25 2020 at 04:56)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">inductive</span> <span class="n">type</span> <span class="o">:</span> <span class="kt">Type</span>
<span class="bp">|</span> <span class="n">one</span> <span class="bp">|</span> <span class="n">Omega</span> <span class="bp">|</span> <span class="n">prod</span> <span class="o">(</span><span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="n">type</span><span class="o">)</span> <span class="bp">|</span> <span class="n">pow</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="n">type</span><span class="o">)</span>

<span class="kn">inductive</span> <span class="n">term</span> <span class="o">:</span> <span class="n">type</span> <span class="bp">→</span> <span class="kt">Type</span>
<span class="bp">|</span> <span class="n">prod</span> <span class="o">:</span> <span class="bp">Π</span> <span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="n">type</span><span class="o">,</span> <span class="n">term</span> <span class="n">A</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">B</span> <span class="bp">→</span> <span class="n">term</span> <span class="o">(</span><span class="n">type</span><span class="bp">.</span><span class="n">prod</span> <span class="n">A</span> <span class="n">B</span><span class="o">)</span>
<span class="bp">|</span> <span class="n">elem</span> <span class="o">:</span> <span class="bp">Π</span> <span class="n">A</span> <span class="o">:</span> <span class="n">type</span><span class="o">,</span> <span class="n">term</span> <span class="n">A</span> <span class="bp">→</span> <span class="n">term</span> <span class="o">(</span><span class="n">type</span><span class="bp">.</span><span class="n">pow</span> <span class="n">A</span><span class="o">)</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span>
<span class="bp">|</span> <span class="n">sep</span> <span class="o">:</span> <span class="bp">Π</span> <span class="n">A</span> <span class="o">:</span> <span class="n">type</span><span class="o">,</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">term</span> <span class="o">(</span><span class="n">type</span><span class="bp">.</span><span class="n">pow</span> <span class="n">A</span><span class="o">)</span>
<span class="bp">|</span> <span class="n">and</span> <span class="o">:</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span>
<span class="bp">|</span> <span class="n">or</span> <span class="o">:</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span>
<span class="bp">|</span> <span class="n">imp</span> <span class="o">:</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span>
<span class="bp">|</span> <span class="n">all</span> <span class="o">:</span> <span class="bp">Π</span> <span class="n">A</span> <span class="o">:</span> <span class="n">type</span><span class="o">,</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span>
<span class="bp">|</span> <span class="n">ex</span> <span class="o">:</span> <span class="bp">Π</span> <span class="n">A</span> <span class="o">:</span> <span class="n">type</span><span class="o">,</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span>
</pre></div>



<a name="195268305"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268305" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268305">(Apr 25 2020 at 04:56)</a>:</h4>
<p>how does this look</p>



<a name="195268316"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268316" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268316">(Apr 25 2020 at 04:57)</a>:</h4>
<p>If you use de bruijn variables you don't need the index on <code>sep</code>,<code>all</code>,<code>ex</code></p>



<a name="195268357"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268357" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268357">(Apr 25 2020 at 04:58)</a>:</h4>
<p>and you are still missing <code>var</code></p>



<a name="195268365"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268365" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268365">(Apr 25 2020 at 04:59)</a>:</h4>
<p>also <code>star</code>,<code>true</code>,<code>false</code></p>



<a name="195268421"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268421" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268421">(Apr 25 2020 at 05:01)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">inductive</span> <span class="n">type</span> <span class="o">:</span> <span class="kt">Type</span>
<span class="bp">|</span> <span class="n">one</span> <span class="bp">|</span> <span class="n">Omega</span> <span class="bp">|</span> <span class="n">prod</span> <span class="o">(</span><span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="n">type</span><span class="o">)</span> <span class="bp">|</span> <span class="n">pow</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="n">type</span><span class="o">)</span>

<span class="kn">inductive</span> <span class="n">term</span> <span class="o">:</span> <span class="n">type</span> <span class="bp">→</span> <span class="kt">Type</span>
<span class="bp">|</span> <span class="n">var</span> <span class="o">:</span> <span class="bp">Π</span> <span class="n">A</span> <span class="o">:</span> <span class="n">type</span><span class="o">,</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">A</span>
<span class="bp">|</span> <span class="n">star</span> <span class="o">:</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">one</span>
<span class="bp">|</span> <span class="n">true</span> <span class="o">:</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span>
<span class="bp">|</span> <span class="n">false</span> <span class="o">:</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span>
<span class="bp">|</span> <span class="n">prod</span> <span class="o">:</span> <span class="bp">Π</span> <span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="n">type</span><span class="o">,</span> <span class="n">term</span> <span class="n">A</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">B</span> <span class="bp">→</span> <span class="n">term</span> <span class="o">(</span><span class="n">type</span><span class="bp">.</span><span class="n">prod</span> <span class="n">A</span> <span class="n">B</span><span class="o">)</span>
<span class="bp">|</span> <span class="n">elem</span> <span class="o">:</span> <span class="bp">Π</span> <span class="n">A</span> <span class="o">:</span> <span class="n">type</span><span class="o">,</span> <span class="n">term</span> <span class="n">A</span> <span class="bp">→</span> <span class="n">term</span> <span class="o">(</span><span class="n">type</span><span class="bp">.</span><span class="n">pow</span> <span class="n">A</span><span class="o">)</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span>
<span class="bp">|</span> <span class="n">sep</span> <span class="o">:</span> <span class="bp">Π</span> <span class="n">A</span> <span class="o">:</span> <span class="n">type</span><span class="o">,</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">term</span> <span class="o">(</span><span class="n">type</span><span class="bp">.</span><span class="n">pow</span> <span class="n">A</span><span class="o">)</span>
<span class="bp">|</span> <span class="n">and</span> <span class="o">:</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span>
<span class="bp">|</span> <span class="n">or</span> <span class="o">:</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span>
<span class="bp">|</span> <span class="n">imp</span> <span class="o">:</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span>
<span class="bp">|</span> <span class="n">all</span> <span class="o">:</span> <span class="bp">Π</span> <span class="n">A</span> <span class="o">:</span> <span class="n">type</span><span class="o">,</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span>
<span class="bp">|</span> <span class="n">ex</span> <span class="o">:</span> <span class="bp">Π</span> <span class="n">A</span> <span class="o">:</span> <span class="n">type</span><span class="o">,</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span>
</pre></div>



<a name="195268458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268458" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268458">(Apr 25 2020 at 05:02)</a>:</h4>
<p>what do you mean by use de Bruijn variables?</p>



<a name="195268466"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268466" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268466">(Apr 25 2020 at 05:02)</a>:</h4>
<p>that is, binders are defined so that all variable numbers shift up by one and variable number 0 becomes the newly introduced variable</p>



<a name="195268467"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268467" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Billy Price <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268467">(Apr 25 2020 at 05:03)</a>:</h4>
<p>same question from me, and I'm also curious how in Lean I could go about "actually substituting terms" in either of these cases.</p>



<a name="195268472"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268472" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268472">(Apr 25 2020 at 05:03)</a>:</h4>
<p>You have to define <code>subst</code> by recursion</p>



<a name="195268478"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268478" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268478">(Apr 25 2020 at 05:04)</a>:</h4>
<p>This is as opposed to named variables where you say "variable k is bound now" and all other variable names stay the same (and variable k outside the binder is not accessible from inside the binder)</p>



<a name="195268518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268518" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268518">(Apr 25 2020 at 05:04)</a>:</h4>
<p>here it makes just as much sense to use <code>string</code> as <code>nat</code> for the names of variables, but you need to know that there is a way to get fresh variables when you need them</p>



<a name="195268519"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268519" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268519">(Apr 25 2020 at 05:04)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">inductive</span> <span class="n">type</span> <span class="o">:</span> <span class="kt">Type</span>
<span class="bp">|</span> <span class="n">one</span> <span class="bp">|</span> <span class="n">Omega</span> <span class="bp">|</span> <span class="n">prod</span> <span class="o">(</span><span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="n">type</span><span class="o">)</span> <span class="bp">|</span> <span class="n">pow</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="n">type</span><span class="o">)</span>

<span class="kn">inductive</span> <span class="n">term</span> <span class="o">:</span> <span class="n">type</span> <span class="bp">→</span> <span class="kt">Type</span>
<span class="bp">|</span> <span class="n">var</span> <span class="o">:</span> <span class="bp">Π</span> <span class="n">A</span> <span class="o">:</span> <span class="n">type</span><span class="o">,</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">A</span>
<span class="bp">|</span> <span class="n">star</span> <span class="o">:</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">one</span>
<span class="bp">|</span> <span class="n">true</span> <span class="o">:</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span>
<span class="bp">|</span> <span class="n">false</span> <span class="o">:</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span>
<span class="bp">|</span> <span class="n">prod</span> <span class="o">:</span> <span class="bp">Π</span> <span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="n">type</span><span class="o">,</span> <span class="n">term</span> <span class="n">A</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">B</span> <span class="bp">→</span> <span class="n">term</span> <span class="o">(</span><span class="n">type</span><span class="bp">.</span><span class="n">prod</span> <span class="n">A</span> <span class="n">B</span><span class="o">)</span>
<span class="bp">|</span> <span class="n">elem</span> <span class="o">:</span> <span class="bp">Π</span> <span class="n">A</span> <span class="o">:</span> <span class="n">type</span><span class="o">,</span> <span class="n">term</span> <span class="n">A</span> <span class="bp">→</span> <span class="n">term</span> <span class="o">(</span><span class="n">type</span><span class="bp">.</span><span class="n">pow</span> <span class="n">A</span><span class="o">)</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span>
<span class="bp">|</span> <span class="n">sep</span> <span class="o">:</span> <span class="bp">Π</span> <span class="n">A</span> <span class="o">:</span> <span class="n">type</span><span class="o">,</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">term</span> <span class="o">(</span><span class="n">type</span><span class="bp">.</span><span class="n">pow</span> <span class="n">A</span><span class="o">)</span>
<span class="bp">|</span> <span class="n">and</span> <span class="o">:</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span>
<span class="bp">|</span> <span class="n">or</span> <span class="o">:</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span>
<span class="bp">|</span> <span class="n">imp</span> <span class="o">:</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span>
<span class="bp">|</span> <span class="n">all</span> <span class="o">:</span> <span class="bp">Π</span> <span class="n">A</span> <span class="o">:</span> <span class="n">type</span><span class="o">,</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span>
<span class="bp">|</span> <span class="n">ex</span> <span class="o">:</span> <span class="bp">Π</span> <span class="n">A</span> <span class="o">:</span> <span class="n">type</span><span class="o">,</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span>

<span class="n">def</span> <span class="n">FV</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="n">type</span><span class="o">},</span> <span class="n">term</span> <span class="n">A</span> <span class="bp">→</span> <span class="n">finset</span> <span class="bp">ℕ</span>
<span class="bp">|</span> <span class="bp">_</span> <span class="o">(</span><span class="n">term</span><span class="bp">.</span><span class="n">var</span> <span class="n">A</span> <span class="n">n</span><span class="o">)</span> <span class="o">:=</span> <span class="o">{</span><span class="n">n</span><span class="o">}</span>
<span class="bp">|</span> <span class="bp">_</span> <span class="n">term</span><span class="bp">.</span><span class="n">star</span> <span class="o">:=</span> <span class="err">∅</span>
<span class="bp">|</span> <span class="bp">_</span> <span class="n">term</span><span class="bp">.</span><span class="n">true</span> <span class="o">:=</span> <span class="err">∅</span>
<span class="bp">|</span> <span class="bp">_</span> <span class="n">term</span><span class="bp">.</span><span class="n">false</span> <span class="o">:=</span> <span class="err">∅</span>
<span class="bp">|</span> <span class="bp">_</span> <span class="o">(</span><span class="n">term</span><span class="bp">.</span><span class="n">prod</span> <span class="n">A</span> <span class="n">B</span> <span class="n">a</span> <span class="n">b</span><span class="o">)</span> <span class="o">:=</span> <span class="n">FV</span> <span class="n">a</span> <span class="err">∪</span> <span class="n">FV</span> <span class="n">b</span>
<span class="bp">|</span> <span class="bp">_</span> <span class="o">(</span><span class="n">term</span><span class="bp">.</span><span class="n">elem</span> <span class="n">A</span> <span class="n">a</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span> <span class="n">FV</span> <span class="n">a</span> <span class="err">∪</span> <span class="n">FV</span> <span class="n">α</span>
<span class="bp">|</span> <span class="bp">_</span> <span class="o">(</span><span class="n">term</span><span class="bp">.</span><span class="n">sep</span> <span class="n">A</span> <span class="n">a</span> <span class="n">n</span><span class="o">)</span> <span class="o">:=</span> <span class="o">(</span><span class="n">FV</span> <span class="n">a</span><span class="o">)</span><span class="bp">.</span><span class="n">erase</span> <span class="n">n</span>
<span class="bp">|</span> <span class="bp">_</span> <span class="o">(</span><span class="n">term</span><span class="bp">.</span><span class="n">and</span> <span class="n">p</span> <span class="n">q</span><span class="o">)</span> <span class="o">:=</span> <span class="n">FV</span> <span class="n">p</span> <span class="err">∪</span> <span class="n">FV</span> <span class="n">q</span>
<span class="bp">|</span> <span class="bp">_</span> <span class="o">(</span><span class="n">term</span><span class="bp">.</span><span class="n">or</span> <span class="n">p</span> <span class="n">q</span><span class="o">)</span> <span class="o">:=</span> <span class="n">FV</span> <span class="n">p</span> <span class="err">∪</span> <span class="n">FV</span> <span class="n">q</span>
<span class="bp">|</span> <span class="bp">_</span> <span class="o">(</span><span class="n">term</span><span class="bp">.</span><span class="n">imp</span> <span class="n">p</span> <span class="n">q</span><span class="o">)</span> <span class="o">:=</span> <span class="n">FV</span> <span class="n">p</span> <span class="err">∪</span> <span class="n">FV</span> <span class="n">q</span>
<span class="bp">|</span> <span class="bp">_</span> <span class="o">(</span><span class="n">term</span><span class="bp">.</span><span class="n">all</span> <span class="n">A</span> <span class="n">φ</span> <span class="n">n</span><span class="o">)</span> <span class="o">:=</span> <span class="o">(</span><span class="n">FV</span> <span class="n">φ</span><span class="o">)</span><span class="bp">.</span><span class="n">erase</span> <span class="n">n</span>
<span class="bp">|</span> <span class="bp">_</span> <span class="o">(</span><span class="n">term</span><span class="bp">.</span><span class="n">ex</span> <span class="n">A</span> <span class="n">φ</span> <span class="n">n</span><span class="o">)</span> <span class="o">:=</span> <span class="o">(</span><span class="n">FV</span> <span class="n">φ</span><span class="o">)</span><span class="bp">.</span><span class="n">erase</span> <span class="n">n</span>
</pre></div>



<a name="195268528"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268528" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268528">(Apr 25 2020 at 05:05)</a>:</h4>
<p>yep</p>



<a name="195268531"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268531" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268531">(Apr 25 2020 at 05:05)</a>:</h4>
<p>this doesn't use de Bruijn though</p>



<a name="195268532"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268532" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268532">(Apr 25 2020 at 05:05)</a>:</h4>
<p>no</p>



<a name="195268534"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268534" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268534">(Apr 25 2020 at 05:05)</a>:</h4>
<p>this is the named variables approach</p>



<a name="195268548"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268548" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268548">(Apr 25 2020 at 05:05)</a>:</h4>
<p>The other major issue with named variables is that alpha equivalence is a thing</p>



<a name="195268594"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268594" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268594">(Apr 25 2020 at 05:06)</a>:</h4>
<p>do I just remove the N if I want to use de Bruijn?</p>



<a name="195268596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268596" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268596">(Apr 25 2020 at 05:06)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">inductive</span> <span class="n">type</span> <span class="o">:</span> <span class="kt">Type</span>
<span class="bp">|</span> <span class="n">one</span> <span class="bp">|</span> <span class="n">Omega</span> <span class="bp">|</span> <span class="n">prod</span> <span class="o">(</span><span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="n">type</span><span class="o">)</span> <span class="bp">|</span> <span class="n">pow</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="n">type</span><span class="o">)</span>

<span class="kn">inductive</span> <span class="n">term</span> <span class="o">:</span> <span class="n">type</span> <span class="bp">→</span> <span class="kt">Type</span>
<span class="bp">|</span> <span class="n">var</span> <span class="o">:</span> <span class="bp">Π</span> <span class="n">A</span> <span class="o">:</span> <span class="n">type</span><span class="o">,</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">A</span>
<span class="bp">|</span> <span class="n">star</span> <span class="o">:</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">one</span>
<span class="bp">|</span> <span class="n">true</span> <span class="o">:</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span>
<span class="bp">|</span> <span class="n">false</span> <span class="o">:</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span>
<span class="bp">|</span> <span class="n">prod</span> <span class="o">:</span> <span class="bp">Π</span> <span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="n">type</span><span class="o">,</span> <span class="n">term</span> <span class="n">A</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">B</span> <span class="bp">→</span> <span class="n">term</span> <span class="o">(</span><span class="n">type</span><span class="bp">.</span><span class="n">prod</span> <span class="n">A</span> <span class="n">B</span><span class="o">)</span>
<span class="bp">|</span> <span class="n">elem</span> <span class="o">:</span> <span class="bp">Π</span> <span class="n">A</span> <span class="o">:</span> <span class="n">type</span><span class="o">,</span> <span class="n">term</span> <span class="n">A</span> <span class="bp">→</span> <span class="n">term</span> <span class="o">(</span><span class="n">type</span><span class="bp">.</span><span class="n">pow</span> <span class="n">A</span><span class="o">)</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span>
<span class="bp">|</span> <span class="n">sep</span> <span class="o">:</span> <span class="bp">Π</span> <span class="n">A</span> <span class="o">:</span> <span class="n">type</span><span class="o">,</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="n">term</span> <span class="o">(</span><span class="n">type</span><span class="bp">.</span><span class="n">pow</span> <span class="n">A</span><span class="o">)</span>
<span class="bp">|</span> <span class="n">and</span> <span class="o">:</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span>
<span class="bp">|</span> <span class="n">or</span> <span class="o">:</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span>
<span class="bp">|</span> <span class="n">imp</span> <span class="o">:</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span>
<span class="bp">|</span> <span class="n">all</span> <span class="o">:</span> <span class="bp">Π</span> <span class="n">A</span> <span class="o">:</span> <span class="n">type</span><span class="o">,</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span>
<span class="bp">|</span> <span class="n">ex</span> <span class="o">:</span> <span class="bp">Π</span> <span class="n">A</span> <span class="o">:</span> <span class="n">type</span><span class="o">,</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span> <span class="bp">→</span> <span class="n">term</span> <span class="n">type</span><span class="bp">.</span><span class="n">Omega</span>
</pre></div>



<a name="195268597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268597" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268597">(Apr 25 2020 at 05:06)</a>:</h4>
<p>like this?</p>



<a name="195268598"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268598" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268598">(Apr 25 2020 at 05:06)</a>:</h4>
<p>It affects <code>FV</code> and <code>subst</code></p>



<a name="195268601"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268601" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268601">(Apr 25 2020 at 05:06)</a>:</h4>
<p>but yes, in the definition itself that's all</p>



<a name="195268607"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268607" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268607">(Apr 25 2020 at 05:07)</a>:</h4>
<p>you need operations like <code>lift</code> too</p>



<a name="195268608"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268608" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268608">(Apr 25 2020 at 05:07)</a>:</h4>
<p>what's the signature of <code>lift</code>?</p>



<a name="195268662"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268662" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268662">(Apr 25 2020 at 05:08)</a>:</h4>
<p><code>lift' : nat -&gt; nat -&gt; term A -&gt; term A</code> is such that <code>lift' k n</code> changes <code>var i</code> to <code>var i</code> if <code>i &lt; k</code> and <code>var (i+n)</code> otherwise</p>



<a name="195268668"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268668" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268668">(Apr 25 2020 at 05:08)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="n">def</span> <span class="n">FV</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="n">type</span><span class="o">},</span> <span class="n">term</span> <span class="n">A</span> <span class="bp">→</span> <span class="n">finset</span> <span class="bp">ℕ</span>
<span class="bp">|</span> <span class="bp">_</span> <span class="o">(</span><span class="n">term</span><span class="bp">.</span><span class="n">var</span> <span class="n">A</span> <span class="n">n</span><span class="o">)</span> <span class="o">:=</span> <span class="o">{</span><span class="n">n</span><span class="o">}</span>
<span class="bp">|</span> <span class="bp">_</span> <span class="n">term</span><span class="bp">.</span><span class="n">star</span> <span class="o">:=</span> <span class="err">∅</span>
<span class="bp">|</span> <span class="bp">_</span> <span class="n">term</span><span class="bp">.</span><span class="n">true</span> <span class="o">:=</span> <span class="err">∅</span>
<span class="bp">|</span> <span class="bp">_</span> <span class="n">term</span><span class="bp">.</span><span class="n">false</span> <span class="o">:=</span> <span class="err">∅</span>
<span class="bp">|</span> <span class="bp">_</span> <span class="o">(</span><span class="n">term</span><span class="bp">.</span><span class="n">prod</span> <span class="n">A</span> <span class="n">B</span> <span class="n">a</span> <span class="n">b</span><span class="o">)</span> <span class="o">:=</span> <span class="n">FV</span> <span class="n">a</span> <span class="err">∪</span> <span class="n">FV</span> <span class="n">b</span>
<span class="bp">|</span> <span class="bp">_</span> <span class="o">(</span><span class="n">term</span><span class="bp">.</span><span class="n">elem</span> <span class="n">A</span> <span class="n">a</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span> <span class="n">FV</span> <span class="n">a</span> <span class="err">∪</span> <span class="n">FV</span> <span class="n">α</span>
<span class="bp">|</span> <span class="bp">_</span> <span class="o">(</span><span class="n">term</span><span class="bp">.</span><span class="n">sep</span> <span class="n">A</span> <span class="n">a</span><span class="o">)</span> <span class="o">:=</span> <span class="o">((</span><span class="n">FV</span> <span class="n">a</span><span class="o">)</span><span class="bp">.</span><span class="n">erase</span> <span class="mi">0</span><span class="o">)</span><span class="bp">.</span><span class="n">image</span> <span class="n">nat</span><span class="bp">.</span><span class="n">pred</span>
<span class="bp">|</span> <span class="bp">_</span> <span class="o">(</span><span class="n">term</span><span class="bp">.</span><span class="n">and</span> <span class="n">p</span> <span class="n">q</span><span class="o">)</span> <span class="o">:=</span> <span class="n">FV</span> <span class="n">p</span> <span class="err">∪</span> <span class="n">FV</span> <span class="n">q</span>
<span class="bp">|</span> <span class="bp">_</span> <span class="o">(</span><span class="n">term</span><span class="bp">.</span><span class="n">or</span> <span class="n">p</span> <span class="n">q</span><span class="o">)</span> <span class="o">:=</span> <span class="n">FV</span> <span class="n">p</span> <span class="err">∪</span> <span class="n">FV</span> <span class="n">q</span>
<span class="bp">|</span> <span class="bp">_</span> <span class="o">(</span><span class="n">term</span><span class="bp">.</span><span class="n">imp</span> <span class="n">p</span> <span class="n">q</span><span class="o">)</span> <span class="o">:=</span> <span class="n">FV</span> <span class="n">p</span> <span class="err">∪</span> <span class="n">FV</span> <span class="n">q</span>
<span class="bp">|</span> <span class="bp">_</span> <span class="o">(</span><span class="n">term</span><span class="bp">.</span><span class="n">all</span> <span class="n">A</span> <span class="n">φ</span><span class="o">)</span> <span class="o">:=</span> <span class="o">((</span><span class="n">FV</span> <span class="n">φ</span><span class="o">)</span><span class="bp">.</span><span class="n">erase</span> <span class="mi">0</span><span class="o">)</span><span class="bp">.</span><span class="n">image</span> <span class="n">nat</span><span class="bp">.</span><span class="n">pred</span>
<span class="bp">|</span> <span class="bp">_</span> <span class="o">(</span><span class="n">term</span><span class="bp">.</span><span class="n">ex</span> <span class="n">A</span> <span class="n">φ</span><span class="o">)</span> <span class="o">:=</span> <span class="o">((</span><span class="n">FV</span> <span class="n">φ</span><span class="o">)</span><span class="bp">.</span><span class="n">erase</span> <span class="mi">0</span><span class="o">)</span><span class="bp">.</span><span class="n">image</span> <span class="n">nat</span><span class="bp">.</span><span class="n">pred</span>
</pre></div>



<a name="195268669"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268669" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268669">(Apr 25 2020 at 05:08)</a>:</h4>
<p>is this right?</p>



<a name="195268671"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268671" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268671">(Apr 25 2020 at 05:09)</a>:</h4>
<p>You should consult the flypitch project, they worked this all out</p>



<a name="195268679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268679" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268679">(Apr 25 2020 at 05:09)</a>:</h4>
<p><a href="https://github.com/flypitch/flypitch/blob/master/src/fol.lean#L252-L255" title="https://github.com/flypitch/flypitch/blob/master/src/fol.lean#L252-L255">https://github.com/flypitch/flypitch/blob/master/src/fol.lean#L252-L255</a></p>



<a name="195268721"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268721" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268721">(Apr 25 2020 at 05:10)</a>:</h4>
<p>see also <a href="https://github.com/flypitch/flypitch/blob/master/src/fol.lean#L610-L616" title="https://github.com/flypitch/flypitch/blob/master/src/fol.lean#L610-L616">https://github.com/flypitch/flypitch/blob/master/src/fol.lean#L610-L616</a> for how binders affect things</p>



<a name="195268731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268731" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Billy Price <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268731">(Apr 25 2020 at 05:10)</a>:</h4>
<p>Yeah I've been consulting that as much as possible, but I found it a little difficult to translate to my theory, thank you both for guiding me.</p>



<a name="195268737"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268737" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268737">(Apr 25 2020 at 05:11)</a>:</h4>
<p>I think in flypitch they never bothered to define FV, because in de bruijn world it is just as good to say "all variables are less than n"</p>



<a name="195268780"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268780" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Billy Price <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268780">(Apr 25 2020 at 05:12)</a>:</h4>
<p>So if I use de bruijn indices, have I completely avoided the need for alpha equivalence?</p>



<a name="195268782"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268782" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268782">(Apr 25 2020 at 05:12)</a>:</h4>
<p>yes, that's their secret weapon</p>



<a name="195268825"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268825" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Billy Price <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268825">(Apr 25 2020 at 05:14)</a>:</h4>
<p>I would imagine this would need to be hardwired into how <code>all</code>, <code>ex</code> and <code>sep</code> are defined, but it seems like you said otherwise above?</p>



<a name="195268833"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268833" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268833">(Apr 25 2020 at 05:15)</a>:</h4>
<p>Well, it's a type theory, so there isn't much of a "definition" of all,ex,sep</p>



<a name="195268836"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268836" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Billy Price <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268836">(Apr 25 2020 at 05:15)</a>:</h4>
<p>(deleted)</p>



<a name="195268837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268837" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268837">(Apr 25 2020 at 05:15)</a>:</h4>
<p>they are just primitive constants, and so far as that goes you just get to remove the <code>x</code></p>



<a name="195268841"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268841" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268841">(Apr 25 2020 at 05:15)</a>:</h4>
<p>The actual content comes in when you write down the rules of the type theory</p>



<a name="195268951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268951" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Billy Price <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268951">(Apr 25 2020 at 05:19)</a>:</h4>
<p>So if I construct a term with var 7 in it, I have decided at that moment that 7 is bound to the 7th binder "out" from the appearance of 7?</p>



<a name="195268958"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268958" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Billy Price <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268958">(Apr 25 2020 at 05:19)</a>:</h4>
<p>And the lifting is to change that number in case I want to bind it to a different "level" binder?</p>



<a name="195268995"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195268995" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195268995">(Apr 25 2020 at 05:20)</a>:</h4>
<p>yes, although the convention is that if there are fewer than 7 binders then it is a free variable and you haven't decided yet what to bind it to</p>



<a name="195269001"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195269001" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195269001">(Apr 25 2020 at 05:20)</a>:</h4>
<p>Right, you need lifting when you want to move an expression from an outer context under a binder without accidentally capturing the new variable</p>



<a name="195269060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195269060" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195269060">(Apr 25 2020 at 05:23)</a>:</h4>
<p>I find it helpful to think of the expression like <code>x : nat, y : nat |- x + y</code> carrying its context with it, where here <code>x</code> is var 1 and <code>y</code> is var 0, and lift corresponds to moving this expression into a new context <code>x : nat, y : nat, z : nat |- x + y</code> where now <code>x</code> is var 2 and <code>y</code> is var 1</p>



<a name="195269108"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195269108" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Billy Price <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195269108">(Apr 25 2020 at 05:25)</a>:</h4>
<p>Thats makes it seem that you'd only ever need to lift by 1?</p>



<a name="195269167"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195269167" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195269167">(Apr 25 2020 at 05:26)</a>:</h4>
<p>The general lift comes up when you define lift by recursion</p>



<a name="195269169"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195269169" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Billy Price <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195269169">(Apr 25 2020 at 05:26)</a>:</h4>
<p>Ah okay</p>



<a name="195269217"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195269217" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Billy Price <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195269217">(Apr 25 2020 at 05:28)</a>:</h4>
<p>Do I need to use lift again (with negative n?) when you want to substitute a variable for a term?</p>



<a name="195269226"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195269226" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195269226">(Apr 25 2020 at 05:29)</a>:</h4>
<p>You use <code>subst : term A -&gt; term A -&gt; term A</code>, which has the effect of substituting variable 0 for t and lowering all other variables by 1</p>



<a name="195269229"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195269229" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Billy Price <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195269229">(Apr 25 2020 at 05:29)</a>:</h4>
<p>So I'm limited to only substituting variable 0?</p>



<a name="195269232"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195269232" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195269232">(Apr 25 2020 at 05:30)</a>:</h4>
<p>The general version of this also has to include a lift component, where variable k gets substituted, variables above k get reduced by 1, and variables below k stay the same</p>



<a name="195269285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195269285" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195269285">(Apr 25 2020 at 05:30)</a>:</h4>
<p>You should only ever have to substitute variable 0</p>



<a name="195269288"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195269288" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195269288">(Apr 25 2020 at 05:30)</a>:</h4>
<p>because of the way the binders are set up</p>



<a name="195269298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195269298" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Billy Price <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195269298">(Apr 25 2020 at 05:31)</a>:</h4>
<p>I'm not sure I follow, you just said I could substitute for general variable k</p>



<a name="195269337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195269337" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195269337">(Apr 25 2020 at 05:32)</a>:</h4>
<p>Like with lift, where you only actually need to lift by 1 but other lifts come up in the inductive definition, in subst you only need to substitute variable 0 but as you go through the binders it stops being variable 0</p>



<a name="195269389"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195269389" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195269389">(Apr 25 2020 at 05:34)</a>:</h4>
<p>you should look at <code>subst_realize</code>, <code>subst_term</code> and <code>subst_formula</code> in flypitch to see how it is done</p>



<a name="195269393"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195269393" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Billy Price <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195269393">(Apr 25 2020 at 05:35)</a>:</h4>
<p>Cheers, will do</p>



<a name="195269502"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195269502" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Billy Price <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195269502">(Apr 25 2020 at 05:38)</a>:</h4>
<p>Thanks again for your help :)</p>



<a name="195277082"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195277082" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195277082">(Apr 25 2020 at 09:38)</a>:</h4>
<p>I think we really need to create a new stream here. We have a math string so that people who are not interested in maths can avoid math messages. I don't know how to call that new stream, and maybe we need more than one, but I would really like to avoid seeing all those discussions about embedding other type theories or ZFC into Lean, and all those discussions about proving programs. I'm very happy that other people find this interesting and use Lean for this purpose. But many people around here have zero interest in those things and can't contribute any useful comment. This is a pretty high traffic chat so we need order. We can't put such specialized discussion in the general stream I also guess some people would actually ask more computer science questions if we had a dedicated stream.</p>



<a name="195277516"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195277516" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Donald Sebastian Leung <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195277516">(Apr 25 2020 at 09:50)</a>:</h4>
<p>Perhaps we could create a stream "computer science"?</p>
<p>Or should we name it "type theory" / "PL theory"?</p>



<a name="195277569"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195277569" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195277569">(Apr 25 2020 at 09:52)</a>:</h4>
<p>And I just had my standard half second of utter confusion about why piecewise linear theory enters this discussion. I  proves once again we really need to sort things a bit.</p>



<a name="195277583"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195277583" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195277583">(Apr 25 2020 at 09:52)</a>:</h4>
<p>Computer Science, Logic, Program Verification</p>



<a name="195277592"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195277592" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195277592">(Apr 25 2020 at 09:53)</a>:</h4>
<p>I think we need to separate CS/logic from Program verification, but people who understand those things should tell us</p>



<a name="195279537"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195279537" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Billy Price <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195279537">(Apr 25 2020 at 10:51)</a>:</h4>
<p>My apologies, I'm new to Zulip Chat so I wasn't sure where else to put this topic.</p>



<a name="195280134"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195280134" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195280134">(Apr 25 2020 at 11:08)</a>:</h4>
<p>It's a fine place to put it :-) But it's certainly true that for people like Patrick and me, we can understand a lot of the chat in general but just don't have the CS background to follow stuff like this because we're mathematicians</p>



<a name="195280643"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195280643" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195280643">(Apr 25 2020 at 11:21)</a>:</h4>
<p><span class="user-mention" data-user-id="255481">@Billy Price</span> there is <em>no reason</em> to apologize. I'm exactly pointing out that you had no choice, and this is a problem.</p>



<a name="195280701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195280701" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Billy Price <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195280701">(Apr 25 2020 at 11:23)</a>:</h4>
<p>Okay no worries :)</p>



<a name="195280898"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195280898" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195280898">(Apr 25 2020 at 11:29)</a>:</h4>
<p>Let me emphasize: when I write I'm happy that people work on this topic, use Lean for this, and ask questions about it, I <em>really</em> mean it. And I'm also super happy there are so many messages on this chat. But we simply need ways to filter out stuff. There is no hierarchy involved here, only a lot of people with a lot of different priorities, and only 24 hours a day.</p>



<a name="195558946"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195558946" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Billy Price <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195558946">(Apr 28 2020 at 12:56)</a>:</h4>
<p>I haven't seen any more discussion of this. Who's decision is it regarding making new streams?</p>



<a name="195558988"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195558988" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195558988">(Apr 28 2020 at 12:57)</a>:</h4>
<p>Anyone can create one. But it would be natural for <span class="user-mention" data-user-id="110049">@Mario Carneiro</span> to decide something here</p>



<a name="195559025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195559025" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195559025">(Apr 28 2020 at 12:57)</a>:</h4>
<p>I guess we can do a type theory stream, CS is too broad</p>



<a name="195559156"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195559156" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195559156">(Apr 28 2020 at 12:58)</a>:</h4>
<p>Logic is also a bit unclear</p>



<a name="195559205"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195559205" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Billy Price <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195559205">(Apr 28 2020 at 12:58)</a>:</h4>
<p>Just to clarify, we're talking about making a stream on the same level as "announce", "general", "maths" etc? Do you call the ones inside those substreams?</p>



<a name="195559242"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195559242" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195559242">(Apr 28 2020 at 12:59)</a>:</h4>
<p>Yes, same level</p>



<a name="195559245"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195559245" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195559245">(Apr 28 2020 at 12:59)</a>:</h4>
<p>Program verification would be cool, although I think there has been vanishingly small amount of discussion on this topic here</p>



<a name="195559278"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195559278" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195559278">(Apr 28 2020 at 12:59)</a>:</h4>
<p>Things inside are called topics or threads</p>



<a name="195559311"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195559311" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195559311">(Apr 28 2020 at 12:59)</a>:</h4>
<p>(Zulip says topic)</p>



<a name="195559415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195559415" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195559415">(Apr 28 2020 at 13:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs/near/195559245" title="#narrow/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs/near/195559245">said</a>:</p>
<blockquote>
<p>Program verification would be cool, although I think there has been vanishingly small amount of discussion on this topic here</p>
</blockquote>
<p>I hope that would help raise this amount</p>



<a name="195559490"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195559490" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195559490">(Apr 28 2020 at 13:00)</a>:</h4>
<p>Those things are self-sustaining. Program verification is not visible here, hence people don't ask many questions</p>



<a name="195559523"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195559523" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195559523">(Apr 28 2020 at 13:01)</a>:</h4>
<p>Should they be default streams? I think last time we found out that it's better to make them default at creation time rather than later</p>



<a name="195559642"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195559642" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195559642">(Apr 28 2020 at 13:01)</a>:</h4>
<p>Yup, just make things default. that will also help new users</p>



<a name="195559676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195559676" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195559676">(Apr 28 2020 at 13:01)</a>:</h4>
<p>It is easier to disable a stream than to discover it</p>



<a name="195559820"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Intuitionistic%20Type%20Theory%20Proofs/near/195559820" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Intuitionistic.20Type.20Theory.20Proofs.html#195559820">(Apr 28 2020 at 13:02)</a>:</h4>
<p>(deleted)</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>