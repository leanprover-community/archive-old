---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/gitpod.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html">gitpod</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="228142340"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228142340" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228142340">(Feb 28 2021 at 17:02)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> mentioned to me <a href="https://gitpod.io/">https://gitpod.io/</a>, and I spent a little while setting it up for mathlib. It seems to work great. The upshot is that you can open mathlib (master, or a branch) in a copy of VSCode running "in your browser".</p>
<p>At the moment the configuration file is only available on <a href="https://github.com/leanprover-community/mathlib/tree/gitpod">branch#gitpod</a>, which you can check out by visiting <a href="https://gitpod.io/#https://github.com/leanprover-community/mathlib/tree/gitpod">https://gitpod.io/#https://github.com/leanprover-community/mathlib/tree/gitpod</a></p>
<p>(There's also a gitpod chrome extension which adds buttons directly on github.)</p>
<p>My understanding is that if we merged that branch then you'd be able to open any branch on gitpod.</p>



<a name="228142405"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228142405" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228142405">(Feb 28 2021 at 17:03)</a>:</h4>
<p>I had to create new docker layers that install lean and leanproject, but it seems to work fine. I've even managed to convince gitpod to download compiled oleans if available, so it is quite responsive.</p>



<a name="228142559"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228142559" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228142559">(Feb 28 2021 at 17:05)</a>:</h4>
<p>You could probably use one of the <code>python</code> gitpod images</p>



<a name="228142651"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228142651" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228142651">(Feb 28 2021 at 17:07)</a>:</h4>
<p>That stuff seems to just work: I rolled my own Dockerfile that follows the standard Lean install instructions.</p>



<a name="228142657"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228142657" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228142657">(Feb 28 2021 at 17:07)</a>:</h4>
<p>Oh, I guess the <code>-full</code> one already has python</p>



<a name="228142670"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228142670" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228142670">(Feb 28 2021 at 17:07)</a>:</h4>
<p>The problem I'm having now is that I can't push back to github from a gitpod editor. I can't work out how to authenticate.</p>



<a name="228142676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228142676" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228142676">(Feb 28 2021 at 17:07)</a>:</h4>
<p>In any case, I better sleep. Hopefully someone will play with it!</p>



<a name="228142685"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228142685" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228142685">(Feb 28 2021 at 17:08)</a>:</h4>
<p>Is it that <code>leanproject</code> by default uses ssh?</p>



<a name="228142745"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228142745" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228142745">(Feb 28 2021 at 17:08)</a>:</h4>
<p>I'm only using <code>leanproject</code> to collect the oleans.</p>



<a name="228142749"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228142749" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228142749">(Feb 28 2021 at 17:08)</a>:</h4>
<p>It's just plain git that is having the problem.</p>



<a name="228142767"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228142767" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228142767">(Feb 28 2021 at 17:09)</a>:</h4>
<p>Presumably, given how big a deal they make of github integration, this "just works" normally?</p>



<a name="228143731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228143731" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228143731">(Feb 28 2021 at 17:24)</a>:</h4>
<p>Are github codespaces still in closed beta?</p>



<a name="228143739"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228143739" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228143739">(Feb 28 2021 at 17:24)</a>:</h4>
<p>Because they're likely even easier to set up than gitpod</p>



<a name="228144078"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228144078" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228144078">(Feb 28 2021 at 17:29)</a>:</h4>
<p><a href="https://github.com/features/codespaces">https://github.com/features/codespaces</a></p>



<a name="228159474"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228159474" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228159474">(Feb 28 2021 at 21:51)</a>:</h4>
<p>It is still closed (and makes no suggestion it will be free for open source projects after the closed beta).</p>



<a name="228159533"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228159533" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228159533">(Feb 28 2021 at 21:52)</a>:</h4>
<p>Check out things like:<br>
<a href="https://gitpod.io/#https://github.com/leanprover-community/mathlib/blob/gitpod/src/combinatorics/pigeonhole.lean">https://gitpod.io/#https://github.com/leanprover-community/mathlib/blob/gitpod/src/combinatorics/pigeonhole.lean</a></p>
<p>Loading a file from a particular branch, and although gitpod does not load instantly, when it does the yellow bars disappear instantly!</p>



<a name="228159623"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228159623" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228159623">(Feb 28 2021 at 21:54)</a>:</h4>
<p>Anyone available to try out "shared workspaces"? Ping me and visit <a href="https://crimson-pig-qoopfdpx.ws-us03.gitpod.io/">https://crimson-pig-qoopfdpx.ws-us03.gitpod.io/</a>.</p>



<a name="228159651"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228159651" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228159651">(Feb 28 2021 at 21:55)</a>:</h4>
<p>The infoview and underlining on errors / warnings doesn't seem to work for me, but everything else seems to.</p>



<a name="228160108"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228160108" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228160108">(Feb 28 2021 at 22:02)</a>:</h4>
<p>Ah, there's a suspicious console error:</p>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code> Loading failed for the &lt;script&gt; with source “http://127.0.0.1:37485/gckj5j3cdxq//tmp/vscode-extensions/jroesch.lean@0.16.24/extension/media/index.js”.
</code></pre></div>
<p>I guess the extension is using localhost for something and that's not allowed?</p>



<a name="228160223"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228160223" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228160223">(Feb 28 2021 at 22:04)</a>:</h4>
<p><a href="/user_uploads/3121/T5RXShbKQmQ470ns_J8DkF0J/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/T5RXShbKQmQ470ns_J8DkF0J/image.png" title="image.png"><img src="/user_uploads/3121/T5RXShbKQmQ470ns_J8DkF0J/image.png"></a></div>



<a name="228161347"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228161347" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228161347">(Feb 28 2021 at 22:24)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> do you still need someone to try out a shared workspace? This looks really cool!</p>



<a name="228161358"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228161358" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228161358">(Feb 28 2021 at 22:24)</a>:</h4>
<p>Sorry, the shared one seems broken to me to.</p>



<a name="228161398"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228161398" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228161398">(Feb 28 2021 at 22:25)</a>:</h4>
<p>Oh, I'm getting the same error as Yakov's screeshot</p>



<a name="228161469"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228161469" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228161469">(Feb 28 2021 at 22:26)</a>:</h4>
<p>I closed the shared session.</p>



<a name="228173022"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228173022" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228173022">(Mar 01 2021 at 02:07)</a>:</h4>
<p><span class="user-mention silent" data-user-id="123965">Bryan Gin-ge Chen</span> <a href="#narrow/stream/113488-general/topic/gitpod/near/228159651">said</a>:</p>
<blockquote>
<p>The infoview and underlining on errors / warnings doesn't seem to work for me, but everything else seems to.</p>
</blockquote>
<p>Ok I went down the debugging rabbit hole <span aria-label="rabbit" class="emoji emoji-1f407" role="img" title="rabbit">:rabbit:</span> <br>
vscode-lean uses a static server to serve the info view to work around a bug in vscode versions &lt; 1.47 <a href="https://github.com/leanprover/vscode-lean/blob/master/src/infoview.ts#L353">https://github.com/leanprover/vscode-lean/blob/master/src/infoview.ts#L353</a> .<br>
The check if this is necessary is here <a href="https://github.com/leanprover/vscode-lean/blob/master/src/extension.ts#L119">https://github.com/leanprover/vscode-lean/blob/master/src/extension.ts#L119</a> by checking the vscode version number.<br>
Theia / gitpod seems to override this version number at <a href="https://github.com/eclipse-theia/theia/blob/ef9d9eed2b2e9400c22097b1ab2c026f77e6d748/packages/plugin-ext-vscode/src/node/plugin-vscode-init.ts#L55">https://github.com/eclipse-theia/theia/blob/ef9d9eed2b2e9400c22097b1ab2c026f77e6d748/packages/plugin-ext-vscode/src/node/plugin-vscode-init.ts#L55</a> .<br>
I can't find what the gitpod default is right now, but simply setting the right environment variable in the docker file to override this gets the extension to use webviews instead of the static server and it loads, go to definition even works!<br>
I made this change on <a href="https://github.com/leanprover-community/mathlib/tree/gitpod-alex">branch#gitpod-alex</a> so you can try it at:<br>
<a href="https://gitpod.io/#https://github.com/leanprover-community/mathlib/tree/gitpod-alex">https://gitpod.io/#https://github.com/leanprover-community/mathlib/tree/gitpod-alex</a></p>



<a name="228173135"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228173135" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228173135">(Mar 01 2021 at 02:09)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> this is really really amazing, I've dreamt of being able to step through code in PRs in lean without having to checkout the branch on my computer for ages, I'd never have thought that running a full vscode lookalike in the browser via docker would work though!</p>



<a name="228174387"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228174387" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228174387">(Mar 01 2021 at 02:32)</a>:</h4>
<p>Fantastic!</p>



<a name="228174415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228174415" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228174415">(Mar 01 2021 at 02:33)</a>:</h4>
<p>I worked out how to push (sorry, I pushed a trivial commit to your branch and then reverted it).</p>



<a name="228174436"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228174436" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228174436">(Mar 01 2021 at 02:33)</a>:</h4>
<p>I had to visit <a href="https://gitpod.io/access-control/">https://gitpod.io/access-control/</a> and select "read/write private repos", and then once I was at the github authorization page, grant access for the leanprover-community organization.</p>



<a name="228174491"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228174491" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228174491">(Mar 01 2021 at 02:34)</a>:</h4>
<p>It's annoying this isn't obvious/automatic.</p>



<a name="228174498"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228174498" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228174498">(Mar 01 2021 at 02:34)</a>:</h4>
<p>I wonder if we should turn <a href="https://github.com/leanprover-community/mathlib/tree/gitpod-alex">branch#gitpod-alex</a> into a PR, so this is available on all branches.</p>



<a name="228174754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228174754" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228174754">(Mar 01 2021 at 02:39)</a>:</h4>
<p>That seems like a good idea to me, unless there are some potential downsides I'm missing. After the PR is merged, we should also add some instructions on how to use gitpod to the community website.</p>



<a name="228174916"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228174916" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228174916">(Mar 01 2021 at 02:42)</a>:</h4>
<p>I think the only downside is maintaining the two new files <code>.gitpod.yaml</code> and <code>.gitpod.dockerfile</code>. Perhaps the yaml will need an update whenever the VSCode extension gets a new version.</p>



<a name="228174952"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228174952" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228174952">(Mar 01 2021 at 02:43)</a>:</h4>
<p>It is not currently particularly fast to load. When I told it use <code>leanproject</code> to download oleans, I think I did this in an "init" step that delays the start of the session. Perhaps we could run this asynchronously instead, so the editor appears faster. (But potentially without oleans...)</p>



<a name="228175024"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228175024" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228175024">(Mar 01 2021 at 02:44)</a>:</h4>
<p>Hopefully we can also work out a trick to load a random chunk of text as a new file, just like the current web version.</p>



<a name="228175060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228175060" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228175060">(Mar 01 2021 at 02:45)</a>:</h4>
<p>You would still need to ensure it downloads the oleans before the extension starts lean I guess? I'd rather wait a little than get yellow bars and have to remember to restart the server, put it that way.</p>



<a name="228175167"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228175167" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228175167">(Mar 01 2021 at 02:48)</a>:</h4>
<p>For the random chunk of text, maybe we could set up a skeleton "playground" repo depending on mathlib with an empty file to edit?</p>



<a name="228175215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228175215" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228175215">(Mar 01 2021 at 02:48)</a>:</h4>
<p>And while there are possibly some kinks to iron out still, I'd definitely vote for adding a link to the corresponding gitpod page to the PR template at some point for visibility.</p>



<a name="228185400"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228185400" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228185400">(Mar 01 2021 at 05:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110087">Scott Morrison</span> <a href="#narrow/stream/113488-general/topic/gitpod/near/228174952">said</a>:</p>
<blockquote>
<p>It is not currently particularly fast to load. When I told it use <code>leanproject</code> to download oleans, I think I did this in an "init" step that delays the start of the session. Perhaps we could run this asynchronously instead, so the editor appears faster. (But potentially without oleans...)</p>
</blockquote>
<p>I think they have a screencast on how to have prebuilt pods... that way loading everything should be "instant" (&lt; 5 seconds)?</p>



<a name="228185421"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228185421" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228185421">(Mar 01 2021 at 05:59)</a>:</h4>
<p>That would still be less time than grabbing a terminal, asking leanproject to clone the branch, download oleans, and open the branch in VScode locally.</p>



<a name="228185428"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228185428" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228185428">(Mar 01 2021 at 05:59)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> <span class="user-mention" data-user-id="127136">@Alex J. Best</span> thanks so much for looking into this!</p>



<a name="228185504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228185504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228185504">(Mar 01 2021 at 06:00)</a>:</h4>
<p>I think this is as prebuilt as possible. There's a <code>Dockerfile</code> which has already installed <code>lean</code> and <code>leanproject</code> once and for all.</p>



<a name="228185524"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228185524" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228185524">(Mar 01 2021 at 06:00)</a>:</h4>
<p>I'm pretty sure the remaining time is for them to boot the static image (nothing we can improve there), and to fetch the olean files from azure.</p>



<a name="228185528"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228185528" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228185528">(Mar 01 2021 at 06:00)</a>:</h4>
<p>I was thinking of this <a href="https://www.youtube.com/watch?v=KR8ESjGYsXI">https://www.youtube.com/watch?v=KR8ESjGYsXI</a></p>
<div class="youtube-video message_inline_image"><a data-id="KR8ESjGYsXI" href="https://www.youtube.com/watch?v=KR8ESjGYsXI"><img src="https://i.ytimg.com/vi/KR8ESjGYsXI/default.jpg"></a></div>



<a name="228185560"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228185560" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228185560">(Mar 01 2021 at 06:01)</a>:</h4>
<p>I see!</p>



<a name="228185562"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228185562" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228185562">(Mar 01 2021 at 06:01)</a>:</h4>
<p>It might be possible to do the "fetch the oleans" step prior to the moment that the user wants to boot the image</p>



<a name="228185563"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228185563" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228185563">(Mar 01 2021 at 06:01)</a>:</h4>
<p>I haven't watched, but I agree.</p>



<a name="228185567"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228185567" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228185567">(Mar 01 2021 at 06:01)</a>:</h4>
<p>Hopefully we could even trigger it from our CI, once the oleans are ready.</p>



<a name="228185622"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228185622" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228185622">(Mar 01 2021 at 06:02)</a>:</h4>
<p>But I think all this sort of optimisation should wait. It's pretty usable already.</p>



<a name="228185638"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228185638" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228185638">(Mar 01 2021 at 06:02)</a>:</h4>
<p>Yes, because there is no good in having gitpod fetch oleans 5 seconds after a PR is opened.</p>



<a name="228185694"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228185694" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228185694">(Mar 01 2021 at 06:03)</a>:</h4>
<p><span class="user-mention" data-user-id="127136">@Alex J. Best</span>, it occurs to me that the symptoms that you fixed were perhaps similar to the problems we were seeing with shared sessions in VSCode. I wonder if the underlying issue and fix are the same.</p>



<a name="228185905"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228185905" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228185905">(Mar 01 2021 at 06:06)</a>:</h4>
<p>Oooh, that would be a pretty awesome side effect!</p>



<a name="228187415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228187415" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228187415">(Mar 01 2021 at 06:33)</a>:</h4>
<p>If we put the docker config in a new repo, then it would be possible to use github to publish a built docker image, and use it from things like lean-liquid too</p>



<a name="228190958"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228190958" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228190958">(Mar 01 2021 at 07:34)</a>:</h4>
<p>My understanding of gitpod is that the customisable docker image that the end user can create does not actually contain the VSCode magic --- it's just all the command line level stuff. After you point <code>.gitpod.yaml</code> at a particular docker image they still layer their secret sauce on top.</p>



<a name="228191064"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228191064" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228191064">(Mar 01 2021 at 07:35)</a>:</h4>
<p>Right, but it contains the elan /python faff that downstream projects might want to reuse</p>



<a name="228191153"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228191153" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228191153">(Mar 01 2021 at 07:36)</a>:</h4>
<p>And I think the same image could be used by both codespaces and gitpod, although I now buy the argument that the latter is better anyway</p>



<a name="228326606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228326606" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228326606">(Mar 01 2021 at 23:37)</a>:</h4>
<p>It looks like enabling prebuilds is easy, and described at <a href="https://www.gitpod.io/docs/prebuilds/">https://www.gitpod.io/docs/prebuilds/</a>.</p>
<p>We go to <a href="https://github.com/apps/gitpod-io">https://github.com/apps/gitpod-io</a> to turn on a switch. I think we would want to turn off automatic prebuilds of branchs and PRs, because there is no point allowing gitpod to start building until our CI that produces oleans has finished. So we would add a step in CI that pings a URL in the format <a href="https://gitpod.io/#prebuild/https://github.com/leanprover-community/mathlib/pull/6497/commits/73231b81d28e47d9077efe9abab0a354b556601a">https://gitpod.io/#prebuild/https://github.com/leanprover-community/mathlib/pull/6497/commits/73231b81d28e47d9077efe9abab0a354b556601a</a> once oleans are ready.</p>



<a name="228326823"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228326823" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228326823">(Mar 01 2021 at 23:39)</a>:</h4>
<p>Although I think we probably shouldn't bother doing this at first. No need to add needless load to their servers while we're deciding if we like it.</p>



<a name="228330834"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/228330834" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#228330834">(Mar 02 2021 at 00:11)</a>:</h4>
<p>I guess the prebuild will be built using the credit associated to the leanprover-community account? Whereas individuals loading a workspace only use their own credits (this looks to be 50h per month, 100h upgrade free for people with github education)?</p>



<a name="229394249"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/229394249" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#229394249">(Mar 08 2021 at 23:19)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> do you have any idea how hard it would be to add gitpod support to external projects importing mathlib, e.g. lean-liquid? Given that the <a href="https://github.com/leanprover-community/mathlib/issues/6515">#6515</a> will push docker containers which already contain lean and mathlib, is it as simple as having a <code>.docker/blah/Dockerfile</code> that is <code>FROM leanprover-community/mathlib</code> and fetches oleans for the project, or something like that?<br>
PS: I tried out the PR the other day from an ipad and it worked great, I never though I'd be able to do lean from such a locked down device, its really cool!</p>



<a name="229405159"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/229405159" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#229405159">(Mar 09 2021 at 01:09)</a>:</h4>
<p>I think this is the case, but haven't tested it yet. Hopefully you should just need <code>FROM leanprovercommunity/mathlib:gitpod</code>.</p>



<a name="229405371"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/229405371" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#229405371">(Mar 09 2021 at 01:11)</a>:</h4>
<p>In fact, there should not be any need to have your own <code>Dockerfile</code>: you can directly use the image <code>leanprovercommunity/mathlib:gitpod</code> by creating a <code>.gitpod.yml</code> in the home directory of the other project, containing:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">image</span><span class="o">:</span> <span class="n">leanprovercommunity</span><span class="bp">/</span><span class="n">mathlib</span><span class="o">:</span><span class="n">gitpod</span>

<span class="n">vscode</span><span class="o">:</span>
  <span class="n">extensions</span><span class="o">:</span>
    <span class="bp">-</span> <span class="n">jroesch.lean</span>

<span class="n">tasks</span><span class="o">:</span>
  <span class="bp">-</span> <span class="n">command</span><span class="o">:</span> <span class="bp">.</span> <span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">gitpod</span><span class="bp">/.</span><span class="n">profile</span> <span class="bp">&amp;&amp;</span> <span class="n">leanproject</span> <span class="n">get</span><span class="bp">-</span><span class="n">mathlib</span><span class="bp">-</span><span class="n">cache</span>
</code></pre></div>



<a name="229405446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/229405446" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#229405446">(Mar 09 2021 at 01:12)</a>:</h4>
<p>Someone should try it out!</p>



<a name="229405465"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/229405465" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#229405465">(Mar 09 2021 at 01:12)</a>:</h4>
<p>If it works, we should add this to the <code>.docker/README.md</code> in <a href="https://github.com/leanprover-community/mathlib/issues/6515">#6515</a>.</p>



<a name="229407314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/229407314" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#229407314">(Mar 09 2021 at 01:34)</a>:</h4>
<p>Yup, this "just works": <a href="https://gitpod.io/#github.com/leanprover-community/lean-liquid/">https://gitpod.io/#github.com/leanprover-community/lean-liquid/</a></p>



<a name="229407457"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/229407457" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#229407457">(Mar 09 2021 at 01:36)</a>:</h4>
<p>And I've added instructions to <a href="https://github.com/leanprover-community/mathlib/issues/6515">#6515</a>.</p>



<a name="229407881"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/229407881" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#229407881">(Mar 09 2021 at 01:41)</a>:</h4>
<p>(<code>lean-liquid</code> is getting big enough now that it took a few minutes to actually compile in gitpod. Another reason for PRing as much as possible back into mathlib!)</p>



<a name="229453345"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/229453345" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#229453345">(Mar 09 2021 at 10:19)</a>:</h4>
<p>Not sure if it's just a temporary thing or if it's just me, but the vscode-lean extension doesn't seem to get installed anymore when using <a href="https://gitpod.io/#https://github.com/leanprover-community/mathlib/tree/docker">https://gitpod.io/#https://github.com/leanprover-community/mathlib/tree/docker</a> or the lean-liquid gitpod link above. When I try installing it from open VSX it also doesn't seem to do anything. Everything worked yesterday with the lean-liquid gitpod, and I can't think of anything that changed that could have affected this.</p>



<a name="229455877"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/229455877" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#229455877">(Mar 09 2021 at 10:40)</a>:</h4>
<p>I'm seeing the same.</p>



<a name="229456086"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/229456086" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#229456086">(Mar 09 2021 at 10:41)</a>:</h4>
<p>I just tried installing from the extensions tab in gitpod. It acts like it works, but nothing has changed by the end of the process.</p>



<a name="229456307"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/229456307" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#229456307">(Mar 09 2021 at 10:43)</a>:</h4>
<p>Hmm, after trying a second time it worked.</p>



<a name="229456560"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/229456560" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#229456560">(Mar 09 2021 at 10:45)</a>:</h4>
<p>And now everything is working "out of the box" again, with a fresh gitpod VM. Perhaps just a transient issue?</p>



<a name="229743443"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/229743443" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#229743443">(Mar 10 2021 at 21:00)</a>:</h4>
<p>I'm seeing the same thing, could it be <a href="https://github.com/leanprover/vscode-lean/commit/e5196ea7d0a29dcd2186e62ddeefdfb63df310ed">https://github.com/leanprover/vscode-lean/commit/e5196ea7d0a29dcd2186e62ddeefdfb63df310ed</a> ?</p>



<a name="229743806"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/229743806" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#229743806">(Mar 10 2021 at 21:02)</a>:</h4>
<p>The gitpod link to the docker branch is working for me right now.</p>



<a name="229744070"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/229744070" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#229744070">(Mar 10 2021 at 21:03)</a>:</h4>
<p>Weird its working again for me too, but it wasnt the last 5 times I tried</p>



<a name="229744157"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/229744157" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#229744157">(Mar 10 2021 at 21:03)</a>:</h4>
<p>It might just be very flaky <span aria-label="sad" class="emoji emoji-2639" role="img" title="sad">:sad:</span></p>



<a name="235646654"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235646654" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235646654">(Apr 22 2021 at 09:33)</a>:</h4>
<p>gtsiolis from gitpod just posted a comment <a href="https://github.com/leanprover-community/mathlib/pull/6515#issuecomment-824680946">on the merged PR</a>:</p>
<blockquote>
<p>Great to see this PR getting merged! Let us know if run into any issues with Gitpod. Feel free to reach out in the communty forum or the issue tracker. <span aria-label="umm" class="emoji emoji-1f4ac" role="img" title="umm">:umm:</span></p>
<p>In case you've missed these:</p>
<ul>
<li>We recently switched the default editor (IDE) to VS Code, see relevant product roadmap item.</li>
<li>We're also working on adding access to the remote dev environments through local VS code, see relevant PR and relevant product roadmap item. <span aria-label="map" class="emoji emoji-1f5fa" role="img" title="map">:map:</span>️</li>
</ul>
<p>Thanks for adding this @semorrison! <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>
</blockquote>



<a name="235657766"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235657766" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235657766">(Apr 22 2021 at 11:13)</a>:</h4>
<p>I had a lot of trouble with gitpod recently because my default editor was still stuck on the old non-vscode version - it seems the changed default might only apply to new users, and old users have to go change their settings to get the new default</p>



<a name="235657839"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235657839" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235657839">(Apr 22 2021 at 11:14)</a>:</h4>
<p>(The non-vscode editor doesn't seem to work with the lean extension any more)</p>



<a name="235657871"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235657871" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235657871">(Apr 22 2021 at 11:14)</a>:</h4>
<p>But after fixing that, everything works great and I regularly use it to try out PR suggestions</p>



<a name="235663959"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235663959" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235663959">(Apr 22 2021 at 12:04)</a>:</h4>
<p>so computer novices like me can now start to use gitpod?</p>



<a name="235664059"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235664059" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235664059">(Apr 22 2021 at 12:05)</a>:</h4>
<p>gitpod seemed really user-friendly to me after first trying it! just click the button on the PR and you get VSCode open with mathlib</p>



<a name="235664167"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235664167" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235664167">(Apr 22 2021 at 12:06)</a>:</h4>
<p>didn't know it was advanced before</p>



<a name="235664906"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235664906" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235664906">(Apr 22 2021 at 12:11)</a>:</h4>
<p>Until recently it wasn't working out of the box --- the VS Code extension for Lean was meant to be installed, but it seemed most of the time it mysteriously wasn't there.</p>



<a name="235664931"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235664931" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235664931">(Apr 22 2021 at 12:11)</a>:</h4>
<p>Now (mysteriously? :-) it is there, so yes, <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> should try it out. :-)</p>



<a name="235665123"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235665123" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235665123">(Apr 22 2021 at 12:12)</a>:</h4>
<p>Gitpod has been an absolute blessing for our Lean 4 course, with virtually no issues so far. Only too bad they activated VS Code by default just a few days after we told our students how to do so manually, haha.</p>



<a name="235665336"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235665336" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235665336">(Apr 22 2021 at 12:14)</a>:</h4>
<p>It still doesn't work for me :-( I click on the gitpod link on a PR and I just get the error "Oh, no! Something went wrong!" and "<code>NotFoundError</code>; Learn more about supported context URLs". I had just assumed it wasn't working yet.</p>



<a name="235665379"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235665379" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235665379">(Apr 22 2021 at 12:14)</a>:</h4>
<p>I get sent to this link which is not something I'm prepared to read <a href="https://www.gitpod.io/docs/context-urls">https://www.gitpod.io/docs/context-urls</a></p>



<a name="235665438"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235665438" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235665438">(Apr 22 2021 at 12:15)</a>:</h4>
<p>My day has already been derailed once by having to learn gimp instead of working on lean-liquid :-)</p>



<a name="235665756"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235665756" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235665756">(Apr 22 2021 at 12:17)</a>:</h4>
<p>Just to be clear -- I'm clicking on the "open in Gitpod" link near the top of this URL <a href="https://github.com/leanprover-community/mathlib/pull/7322">https://github.com/leanprover-community/mathlib/pull/7322</a> , and the URL it's taking me to is <code>https://gitpod.io/#https://github.com/</code></p>



<a name="235665830"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235665830" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235665830">(Apr 22 2021 at 12:18)</a>:</h4>
<p>In what browser / OS?</p>



<a name="235665852"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235665852" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235665852">(Apr 22 2021 at 12:18)</a>:</h4>
<p>I've read that the <code>from-referrer</code> links are blocked by some browser settings</p>



<a name="235665877"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235665877" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235665877">(Apr 22 2021 at 12:18)</a>:</h4>
<p>They rely on <code>gitpod</code> being able to ask "what github page did you come from"</p>



<a name="235665925"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235665925" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235665925">(Apr 22 2021 at 12:19)</a>:</h4>
<p>And many privacy controls say "I won't tell you that, you're only allowed to know I came from github, not the specific page"</p>



<a name="235665937"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235665937" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235665937">(Apr 22 2021 at 12:19)</a>:</h4>
<p>Firefox on Ubuntu.</p>



<a name="235665989"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235665989" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235665989">(Apr 22 2021 at 12:19)</a>:</h4>
<p>yep, trims referrers: <a href="https://blog.mozilla.org/security/2021/03/22/firefox-87-trims-http-referrers-by-default-to-protect-user-privacy/">https://blog.mozilla.org/security/2021/03/22/firefox-87-trims-http-referrers-by-default-to-protect-user-privacy/</a></p>



<a name="235666083"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235666083" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235666083">(Apr 22 2021 at 12:20)</a>:</h4>
<p>that's the first time i've seen the referrer stuff not used to track you everywhere though, wow</p>



<a name="235666093"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235666093" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235666093">(Apr 22 2021 at 12:20)</a>:</h4>
<p>Indeed I'm on 87. Can I fix this? I don't really want to switch to Chrome.</p>



<a name="235666230"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235666230" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235666230">(Apr 22 2021 at 12:21)</a>:</h4>
<p>Nice find, I added a comment with that link to <a href="https://github.com/gitpod-io/gitpod/issues/688">https://github.com/gitpod-io/gitpod/issues/688</a></p>



<a name="235666448"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235666448" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235666448">(Apr 22 2021 at 12:22)</a>:</h4>
<p>for the mo, may be worth hard-writing the gitpod links because these updates seem to be happening everywhere</p>



<a name="235666468"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235666468" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235666468">(Apr 22 2021 at 12:22)</a>:</h4>
<p>Seems fixable: <a href="https://privacyinternational.org/guide-step/4148/change-http-referer-settings-firefox">https://privacyinternational.org/guide-step/4148/change-http-referer-settings-firefox</a></p>



<a name="235666485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235666485" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235666485">(Apr 22 2021 at 12:22)</a>:</h4>
<p>all browser vendors are caring about privacy now sadly (or in the case of google, pretending to care)</p>



<a name="235666526"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235666526" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235666526">(Apr 22 2021 at 12:22)</a>:</h4>
<p>The long-term solution here is to pressure github to add a header say "I am fine with this URL being shared"</p>



<a name="235666716"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235666716" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235666716">(Apr 22 2021 at 12:24)</a>:</h4>
<p>If github sent <code>Referrer-Policy: no-referrer-when-downgrade</code> in their HTTP headers, then they would be opting into allowing gitpod (and other arbitrary sites) to read the referrer</p>



<a name="235666773"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235666773" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235666773">(Apr 22 2021 at 12:24)</a>:</h4>
<p>I'm quite happy not to be tracked in general. Is there no way I can switch this off on a per-site basis or something? I'm not even sure what I get at the end of this -- is this just "the same as" <code>git checkout [branch I want to review]</code> + <code>leanproject get-cache</code>?</p>



<a name="235666781"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235666781" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235666781">(Apr 22 2021 at 12:24)</a>:</h4>
<p>(also, fun fact: "referer" is a mispelling that is now part of the HTTP standard)</p>



<a name="235666892"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235666892" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235666892">(Apr 22 2021 at 12:25)</a>:</h4>
<p>as far as I can tell yes Kevin</p>



<a name="235666997"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235666997" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235666997">(Apr 22 2021 at 12:25)</a>:</h4>
<p>(as in git-command-wise, I don't think firefox will let you change the ref settings per-site)</p>



<a name="235667007"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235667007" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235667007">(Apr 22 2021 at 12:25)</a>:</h4>
<p>There's a bookmarklet here: <a href="https://github.com/Carbon-Monoxide/GitPod-Bookmarklet">https://github.com/Carbon-Monoxide/GitPod-Bookmarklet</a></p>



<a name="235667072"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235667072" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235667072">(Apr 22 2021 at 12:26)</a>:</h4>
<p>So you could add that to your bookmark bar isntead of using the button in the PR text</p>



<a name="235667148"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235667148" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235667148">(Apr 22 2021 at 12:26)</a>:</h4>
<p>Or literally just paste <code>https://gitpod.io/#</code> at the start of the PR url by hand</p>



<a name="235667763"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235667763" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235667763">(Apr 22 2021 at 12:30)</a>:</h4>
<p>Progress! I have a bouncing G which has now taken about as long as the git commands would have done. ooh and now I get some errors:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code> <span class="n">HISTFILE</span><span class="bp">=/</span><span class="n">workspace</span><span class="bp">/.</span><span class="n">gitpod</span><span class="bp">/</span><span class="n">cmd</span><span class="bp">-</span><span class="mi">0</span> <span class="n">history</span> <span class="bp">-</span><span class="n">r</span><span class="bp">;</span> <span class="o">{</span>
<span class="bp">.</span> <span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">gitpod</span><span class="bp">/.</span><span class="n">profile</span> <span class="bp">&amp;&amp;</span> <span class="n">leanproject</span> <span class="n">get</span><span class="bp">-</span><span class="n">mathlib</span><span class="bp">-</span><span class="n">cache</span>
<span class="o">}</span>
<span class="n">ls</span><span class="o">:</span> <span class="n">cannot</span> <span class="n">access</span> <span class="bp">'/</span><span class="n">home</span><span class="bp">/</span><span class="n">gitpod</span><span class="bp">/.</span><span class="n">bashrc.d</span><span class="bp">/*'</span><span class="o">:</span> <span class="n">No</span> <span class="n">such</span> <span class="n">file</span> <span class="n">or</span> <span class="n">directory</span>
<span class="n">gitpod</span> <span class="bp">/</span><span class="n">workspace</span><span class="bp">/</span><span class="n">mathlib</span> <span class="bp">$</span>  <span class="n">HISTFILE</span><span class="bp">=/</span><span class="n">workspace</span><span class="bp">/.</span><span class="n">gitpod</span><span class="bp">/</span><span class="n">cmd</span><span class="bp">-</span><span class="mi">0</span> <span class="n">history</span> <span class="bp">-</span><span class="n">r</span><span class="bp">;</span> <span class="o">{</span>
<span class="bp">&gt;</span> <span class="bp">.</span> <span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">gitpod</span><span class="bp">/.</span><span class="n">profile</span> <span class="bp">&amp;&amp;</span> <span class="n">leanproject</span> <span class="n">get</span><span class="bp">-</span><span class="n">mathlib</span><span class="bp">-</span><span class="n">cache</span>
<span class="bp">&gt;</span> <span class="o">}</span>
<span class="n">ls</span><span class="o">:</span> <span class="n">cannot</span> <span class="n">access</span> <span class="bp">'/</span><span class="n">home</span><span class="bp">/</span><span class="n">gitpod</span><span class="bp">/.</span><span class="n">bashrc.d</span><span class="bp">/*'</span><span class="o">:</span> <span class="n">No</span> <span class="n">such</span> <span class="n">file</span> <span class="n">or</span> <span class="n">directory</span>
<span class="n">Looking</span> <span class="n">for</span> <span class="kn">local</span> <span class="n">mathlib</span> <span class="n">oleans</span>
<span class="n">Looking</span> <span class="n">for</span> <span class="n">remote</span> <span class="n">mathlib</span> <span class="n">oleans</span>
<span class="n">Trying</span> <span class="n">to</span> <span class="n">download</span> <span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">oleanstorage.azureedge.net</span><span class="bp">/</span><span class="n">mathlib</span><span class="bp">/</span><span class="n">e1f0dff356f716f0d9c71abd4e9a86ade444d59d.tar.xz</span> <span class="n">to</span> <span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">gitpod</span><span class="bp">/.</span><span class="n">mathlib</span><span class="bp">/</span><span class="n">e1f0dff356f716f0d9c71abd4e9a86ade444d59d.tar.xz</span>
<span class="mi">100</span><span class="bp">%</span> <span class="mi">40</span><span class="bp">.</span><span class="mi">9</span><span class="n">M</span><span class="bp">/</span><span class="mi">40</span><span class="bp">.</span><span class="mi">9</span><span class="n">M</span> <span class="o">[</span><span class="mi">00</span><span class="o">:</span><span class="mi">01</span><span class="bp">&lt;</span><span class="mi">00</span><span class="o">:</span><span class="mi">00</span><span class="o">,</span> <span class="mi">36</span><span class="bp">.</span><span class="mi">5</span><span class="n">MiB</span><span class="bp">/</span><span class="n">s</span><span class="o">]</span>
<span class="n">Found</span> <span class="n">mathlib</span> <span class="n">oleans</span> <span class="n">at</span> <span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">oleanstorage.azureedge.net</span><span class="bp">/</span><span class="n">mathlib</span><span class="bp">/</span>
<span class="n">gitpod</span> <span class="bp">/</span><span class="n">workspace</span><span class="bp">/</span><span class="n">mathlib</span> <span class="bp">$</span>
</code></pre></div>



<a name="235667954"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235667954" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235667954">(Apr 22 2021 at 12:31)</a>:</h4>
<p>I think the errors are just noise</p>



<a name="235668031"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235668031" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235668031">(Apr 22 2021 at 12:31)</a>:</h4>
<p>Which obviously would be nice to fix, but shouldn't get in your way</p>



<a name="235668040"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235668040" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235668040">(Apr 22 2021 at 12:31)</a>:</h4>
<p>I'm on Firefox 88 and it seems to work for me with no changes</p>



<a name="235714217"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/235714217" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#235714217">(Apr 22 2021 at 17:11)</a>:</h4>
<p>For chrome at least there is an official gitpod plugin / add on that adds a gitpod button in a way that blends in with githubs ui.</p>



<a name="239237021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/239237021" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#239237021">(May 18 2021 at 11:30)</a>:</h4>
<p>A cautionary tale on relying on gitpod too much:</p>
<p><a href="/user_uploads/3121/GTkYJ2XxHGjyZLtivbWFo9SJ/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/GTkYJ2XxHGjyZLtivbWFo9SJ/image.png" title="image.png"><img src="/user_uploads/3121/GTkYJ2XxHGjyZLtivbWFo9SJ/image.png"></a></div>



<a name="239249819"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/239249819" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#239249819">(May 18 2021 at 13:06)</a>:</h4>
<p>Oh capitalism...</p>



<a name="239251831"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/239251831" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#239251831">(May 18 2021 at 13:19)</a>:</h4>
<p>There are unlimited student accounts for €8/month.</p>



<a name="239252785"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/239252785" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#239252785">(May 18 2021 at 13:25)</a>:</h4>
<p>Indeed, and github gives me a 6 month trial. It's handy for PR reviews but I'm not going to pay for that convenience.</p>



<a name="239253627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/239253627" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#239253627">(May 18 2021 at 13:30)</a>:</h4>
<p>You could also try to apply for a "professional open source plan", which is €0/month. <a href="https://www.gitpod.io/docs/professional-open-source">https://www.gitpod.io/docs/professional-open-source</a></p>



<a name="239272859"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/239272859" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#239272859">(May 18 2021 at 15:24)</a>:</h4>
<p>Ideal, thanks - I just applied</p>



<a name="239332416"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/239332416" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joe Hendrix <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#239332416">(May 18 2021 at 21:59)</a>:</h4>
<p>If a VSCode plugin isn't showing up in Gitpod, you may want to check that the "Default IDE" under <a href="https://gitpod.io/preferences">preferences</a> is "VS Code" and not "Theia".   I just ran into that issue with another plugin.</p>



<a name="243788088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/243788088" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#243788088">(Jun 24 2021 at 13:48)</a>:</h4>
<p>I'm finding that gitpod is once again no longer loading the lean extension - is it working for anyone else?</p>



<a name="243788238"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/243788238" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#243788238">(Jun 24 2021 at 13:49)</a>:</h4>
<p>Oh, here's why: <a href="https://open-vsx.org/">https://open-vsx.org/</a></p>



<a name="243788289"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/243788289" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#243788289">(Jun 24 2021 at 13:49)</a>:</h4>
<blockquote>
<p>Oops, something went wrong and we're completely broken down.</p>
</blockquote>



<a name="258880476"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/258880476" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#258880476">(Oct 24 2021 at 14:07)</a>:</h4>
<p>can someone else check if gitpod currently works for them? for me, whenever I load anything, it doesn't have a leanpkg.path, and when I make it and restart the lean server, the infoview just stays blank</p>



<a name="258883189"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/258883189" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#258883189">(Oct 24 2021 at 15:15)</a>:</h4>
<p>You have to run <code>leanpkg configure</code> manually</p>



<a name="258883202"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/258883202" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#258883202">(Oct 24 2021 at 15:16)</a>:</h4>
<p>Although the UI provides a button to do that which should work</p>



<a name="258883242"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/258883242" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#258883242">(Oct 24 2021 at 15:16)</a>:</h4>
<p>I've had to do the leanpkg configure and then restart the lean server thing every time I've used it for the past month at least. I'm not sure why though, we never used to have to do it?</p>



<a name="258883249"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/258883249" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#258883249">(Oct 24 2021 at 15:17)</a>:</h4>
<p>depending on how you look at it, this is either a regression in <code>leanproject</code>, or a bug in the gitpod setup; is it <code>leanproject get-cache</code>s job to configure the path?</p>



<a name="258883302"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/258883302" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#258883302">(Oct 24 2021 at 15:18)</a>:</h4>
<p>(the regression was partly accidental by me, because the comment around the internal call to <code>configure</code> was written incorrectly in a way that suggested it was no longer relevant after the other changes)</p>



<a name="258883536"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/258883536" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#258883536">(Oct 24 2021 at 15:24)</a>:</h4>
<p>Yeah i guess I'd err on the side of adding leanpkg configure to the gitpod script, or maybe to the docker image itself?</p>



<a name="258884149"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/258884149" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#258884149">(Oct 24 2021 at 15:41)</a>:</h4>
<p>The issue isn't that (well not majorly), it's that afterwards for me the info view is non functional (it shows as an empty window). That may just be the computer, though, which is why Iask.</p>



<a name="258884898"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/258884898" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#258884898">(Oct 24 2021 at 15:58)</a>:</h4>
<p>I guess the questions is; what's the expected flow for someone who runs <code>git clone</code>; whose job is it to run <code>leanpkg configure</code>? If someone doesn't depend on mathlib, then <code>leanproject get-cache</code> doesn't make sense for them anyway</p>



<a name="258885862"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/258885862" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#258885862">(Oct 24 2021 at 16:18)</a>:</h4>
<p>If you run <code>git clone</code> instead of <code>leanproject get</code> then of course there is no guarantee things will work.</p>



<a name="258885873"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/258885873" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#258885873">(Oct 24 2021 at 16:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113488-general/topic/gitpod/near/258884898">said</a>:</p>
<blockquote>
<p>If someone doesn't depend on mathlib, then <code>leanproject get-cache</code> doesn't make sense for them anyway</p>
</blockquote>
<p>Why?</p>



<a name="258885881"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/258885881" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#258885881">(Oct 24 2021 at 16:19)</a>:</h4>
<p>You can still use the local cache mechanism without depending on mathlib</p>



<a name="258887026"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/258887026" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#258887026">(Oct 24 2021 at 16:47)</a>:</h4>
<p>Sure, but if you're cloning a repository for the first time that cache will always be empty</p>



<a name="258887071"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/258887071" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#258887071">(Oct 24 2021 at 16:48)</a>:</h4>
<p>So telling users to run it for the first time in a newly cloned repo, to have it run <code>leanpkg configure</code> but then fail with  "no caches" isn't very ergonomic</p>



<a name="258888110"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/258888110" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#258888110">(Oct 24 2021 at 17:08)</a>:</h4>
<p><span class="user-mention" data-user-id="284160">@Eric Rodriguez</span> can you try a different web browser?</p>



<a name="258888250"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/258888250" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#258888250">(Oct 24 2021 at 17:11)</a>:</h4>
<p>I'll try, it was a public PC running firefox on Ubuntu fwiw</p>



<a name="258889852"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/258889852" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#258889852">(Oct 24 2021 at 17:50)</a>:</h4>
<p>I'm sorry Eric W, I still don't know what you are talking about.</p>



<a name="258896540"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/258896540" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#258896540">(Oct 24 2021 at 20:25)</a>:</h4>
<p>Sorry, I didn't make that very clear. Let's say there is a project <code>lean-foo</code> that depends on a project <code>lean-bar</code> but not mathlib. Here's the workflow that has always not worked:</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>git clone lean-foo
vscode  <span class="c1"># uh-oh; vscode can't find `lean-bar`because no-one ran configure</span>
</code></pre></div>
<p>Here's the workflow that has always worked:</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>git clone lean-foo
leanpkg configure
vscode  <span class="c1"># ok</span>
</code></pre></div>
<p>Here's the workflow that used to work, but no longer does after I separated <code>get-cache</code> from <code>get-mathlib-cache</code> :</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>git clone lean-foo
leanproject get-cache <span class="o">&amp;&amp;</span> <span class="nb">true</span>  <span class="c1"># this command fails because there is no cache available, but we still need it</span>
vscode  <span class="c1"># ok on older versions of `leanproject` that eagerly tried `leanpkg configure`</span>
</code></pre></div>



<a name="258897532"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/258897532" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#258897532">(Oct 24 2021 at 20:47)</a>:</h4>
<p>What if you use <code>leanproject get lean-foo</code>?</p>



<a name="258898308"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/258898308" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#258898308">(Oct 24 2021 at 21:04)</a>:</h4>
<p>Then none of these problems exist</p>



<a name="258898324"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/258898324" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#258898324">(Oct 24 2021 at 21:04)</a>:</h4>
<p>Gitpod doesn't do <code>leanproject get mathlib</code> though, presumably because the container loads up with the repo already present.</p>



<a name="267187337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/267187337" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#267187337">(Jan 07 2022 at 13:15)</a>:</h4>
<p>Is it possible to make gitpod work on a random github Lean repo with mathlib as a dependency such as <a href="https://github.com/ImperialCollegeLondon/formalising-mathematics-2022">https://github.com/ImperialCollegeLondon/formalising-mathematics-2022</a> ?</p>
<p>The use case I am envisaging is someone who wants to try filling in sorries in files which have mathlib imports but who doesn't want to install Lean. Users would not need the ability to push their work or anything like that.</p>



<a name="267187476"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/267187476" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#267187476">(Jan 07 2022 at 13:17)</a>:</h4>
<p>Yes, it's already set up on your M400001 or whatever repo</p>



<a name="267190417"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/267190417" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#267190417">(Jan 07 2022 at 13:46)</a>:</h4>
<p>Is it also possible to fix the issue which I have with gitpod, which is that none of the links on the mathlib repo work for me because I'm using firefox and there's some trust issue with passing on some information? I never use gitpod and part of the reason for this is that I simply can't remember the fix, although no doubt it's documented here on Zulip. The error I always get is</p>
<p><a href="/user_uploads/3121/tWupW7zvOEuSyB4Q0yLpPHfD/broken.png">broken.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/3121/tWupW7zvOEuSyB4Q0yLpPHfD/broken.png" title="broken.png"><img src="/user_uploads/3121/tWupW7zvOEuSyB4Q0yLpPHfD/broken.png"></a></div><p>I'm not asking what the fix is (I can just plough through Zulip until I find it again), I'm asking whether I can make better links which work for everyone.</p>



<a name="267190443"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/267190443" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#267190443">(Jan 07 2022 at 13:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113488-general/topic/gitpod/near/267187476">said</a>:</p>
<blockquote>
<p>Yes, it's already set up on your M400001 or whatever repo</p>
</blockquote>
<p>Eric I have a ton of repos with that silly phrase in :-/ If you tell me how to detect the setup I'm sure I can find it though.</p>



<a name="267190573"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/267190573" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#267190573">(Jan 07 2022 at 13:48)</a>:</h4>
<p>I think I'm asking whether there's just some way to construct a URL which I can host somewhere which points to a file in one of my github repos and will work for everyone.</p>



<a name="267191163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/267191163" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#267191163">(Jan 07 2022 at 13:54)</a>:</h4>
<p>Actually now I phrase it like this I see that I can just use the web editor. What are the relative advantages/disadvantages of the two setups? I never use either of them myself. Is one of them noticably faster?</p>



<a name="267191561"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/267191561" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#267191561">(Jan 07 2022 at 13:58)</a>:</h4>
<p>gitpod is way faster and is basically a full vscode, the web editor takes about 50 years to load nad is very slow</p>



<a name="267199394"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/267199394" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#267199394">(Jan 07 2022 at 15:08)</a>:</h4>
<p>This repo: <a href="https://github.com/ImperialCollegeLondon/M40001_lean">https://github.com/ImperialCollegeLondon/M40001_lean</a></p>



<a name="267200126"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/267200126" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#267200126">(Jan 07 2022 at 15:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113488-general/topic/gitpod/near/267190417">said</a>:</p>
<blockquote>
<p>I'm not asking what the fix is (I can just plough through Zulip until I find it again), I'm asking whether I can make better links which work for everyone.</p>
</blockquote>
<p>Making the link work for everyone (by hard-coding your repo link into it instead of using from-referrer) comes at the expense of having it do the wrong thing on forks. The tracking issue for this problem is <a href="https://github.com/gitpod-io/gitpod/issues/6410">https://github.com/gitpod-io/gitpod/issues/6410</a></p>



<a name="267204131"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/267204131" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#267204131">(Jan 07 2022 at 15:46)</a>:</h4>
<p>Thanks Eric for all the info. Doing the wrong thing on forks is fine by me.</p>



<a name="267209817"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/267209817" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jeremy Avigad <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#267209817">(Jan 07 2022 at 16:31)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> Here's an example of a lean project based on mathlib that runs on Gitpod:<br>
<a href="https://github.com/starkware-libs/formal-proofs">https://github.com/starkware-libs/formal-proofs</a><br>
Once you launch it, you have to wait a couple of minutes for it to compile all the files in the repository. It is possible to set things up so that everything is prebuilt, but I am still fuzzy on the details. I also used a project based on Lean 4 for a class I was teaching (no external Mathlib 4, just a copy of an early version):<br>
<a href="https://github.com/avigad/lamr">https://github.com/avigad/lamr</a><br>
During the class, it started up almost immediately (and the terminal would give me a friendly message telling me how much time I saved because of the pre-build), but when I just tried it now, I had to wait a little while for it to compile.</p>



<a name="267255332"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/267255332" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#267255332">(Jan 07 2022 at 23:13)</a>:</h4>
<p>Thank you Jeremy and Eric. I have got it all working now after your helpful clues, even on firefox. I totally agree that gitpod is amazingly fast!</p>



<a name="267256182"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/267256182" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#267256182">(Jan 07 2022 at 23:22)</a>:</h4>
<p>Aargh no I haven't: the orange bars are gone and the Lean is working fine, I'm sure a server is running, but the infoview doesn't work:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">Error</span> <span class="n">loading</span> <span class="n">webview</span><span class="o">:</span> <span class="n">Error</span><span class="o">:</span> <span class="n">Could</span> <span class="n">not</span> <span class="n">register</span> <span class="n">service</span> <span class="n">workers</span><span class="o">:</span> <span class="n">SecurityError</span><span class="o">:</span> <span class="n">The</span> <span class="n">operation</span> <span class="n">is</span> <span class="n">insecure..</span>
</code></pre></div>
<p>Update: I have it working with Chrome.</p>



<a name="267418934"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/267418934" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#267418934">(Jan 10 2022 at 10:16)</a>:</h4>
<p>Kevin, could you write a very detailed howto explaining how you manage to get gitpod working for you before you forget? That would be very useful.</p>



<a name="267545564"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/267545564" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#267545564">(Jan 11 2022 at 07:28)</a>:</h4>
<p>I literally didn't do anything other than moving a dot file which I found in one of my github repos into another one. Then it all just worked</p>



<a name="267545576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/267545576" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#267545576">(Jan 11 2022 at 07:28)</a>:</h4>
<p>I think Eric must have put the dot file there</p>



<a name="267545581"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/267545581" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#267545581">(Jan 11 2022 at 07:28)</a>:</h4>
<p>I didn't even change the file</p>



<a name="267545723"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/267545723" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#267545723">(Jan 11 2022 at 07:30)</a>:</h4>
<p>Detailed explanation of how to get gitpod working on a repo with mathlib as a dependency: add an exact copy of this file <a href="https://github.com/ImperialCollegeLondon/formalising-mathematics-2022/blob/master/.gitpod.yml">https://github.com/ImperialCollegeLondon/formalising-mathematics-2022/blob/master/.gitpod.yml</a> to the root directory of your repo</p>



<a name="267545765"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/267545765" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#267545765">(Jan 11 2022 at 07:31)</a>:</h4>
<p>And then you have two choices for the link to gitpod, one of which doesn't work on Firefox</p>



<a name="267545877"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/267545877" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#267545877">(Jan 11 2022 at 07:33)</a>:</h4>
<p><a href="https://gitpod.io/#/https://github.com/ImperialCollegeLondon/formalising-mathematics-2022/">https://gitpod.io/#/https://github.com/ImperialCollegeLondon/formalising-mathematics-2022/</a> is the one which works on Firefox</p>



<a name="268832960"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/268832960" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#268832960">(Jan 21 2022 at 12:09)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span>  How can students access gitpod? Do they need to have a GitHub account?</p>



<a name="268833132"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/268833132" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#268833132">(Jan 21 2022 at 12:11)</a>:</h4>
<p>Yes, gitpod gives you several ways to login. Reusing your github account is the most convenient option.</p>



<a name="268833294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/268833294" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#268833294">(Jan 21 2022 at 12:12)</a>:</h4>
<p>Students can also make use of  github education to get an upgraded version of gitpod for free <a href="https://www.gitpod.io/github-student-developer-pack/">https://www.gitpod.io/github-student-developer-pack/</a></p>



<a name="268833425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/268833425" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#268833425">(Jan 21 2022 at 12:14)</a>:</h4>
<p>what are those several ways? I see only: use Github, Gitlab or bitbucket</p>



<a name="268833454"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/268833454" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#268833454">(Jan 21 2022 at 12:14)</a>:</h4>
<p>That's what I meant</p>



<a name="268833496"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/268833496" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#268833496">(Jan 21 2022 at 12:15)</a>:</h4>
<p>I didn't remember whether they also allowed other things like facebook or google</p>



<a name="268833549"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/268833549" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#268833549">(Jan 21 2022 at 12:15)</a>:</h4>
<p>It's really crazy</p>



<a name="268833615"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/268833615" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#268833615">(Jan 21 2022 at 12:16)</a>:</h4>
<p>They just outsource the whole authentication / user management.</p>



<a name="268833704"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/268833704" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#268833704">(Jan 21 2022 at 12:16)</a>:</h4>
<p>Creating an account on some huge and frightening website only to access class resources sounds really crazy to me.</p>



<a name="268833790"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/268833790" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#268833790">(Jan 21 2022 at 12:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/113488-general/topic/gitpod/near/268833615">said</a>:</p>
<blockquote>
<p>They just outsource the whole authentication / user management.</p>
</blockquote>
<p>That doesn't make sense without an option to authenticate through google etc.</p>



<a name="268833997"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/268833997" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#268833997">(Jan 21 2022 at 12:19)</a>:</h4>
<p>I can't argue against that</p>



<a name="268837600"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/268837600" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#268837600">(Jan 21 2022 at 12:51)</a>:</h4>
<p>All I know about gitpod is that it works if you use your github credentials, I don't know if the students are using it</p>



<a name="268841738"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/268841738" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#268841738">(Jan 21 2022 at 13:28)</a>:</h4>
<p>Does gitpod run on a GitHub machine? Or is it configured to run somewhere else like Azure?</p>
<p>It makes sense to ask for a proper authentication so they have a bare minimum protection against bots spinning up infinite tasks on their machines</p>



<a name="268841845"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/268841845" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#268841845">(Jan 21 2022 at 13:29)</a>:</h4>
<p>In the worst case scenario they can at least ban evil accounts</p>



<a name="268842567"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/268842567" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#268842567">(Jan 21 2022 at 13:34)</a>:</h4>
<p>Wait, Azure <em>is</em> Microsoft's cloud environment. I forgot <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span></p>



<a name="269328046"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269328046" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269328046">(Jan 25 2022 at 21:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113488-general/topic/gitpod/near/267545723">said</a>:</p>
<blockquote>
<p>Detailed explanation of how to get gitpod working on a repo with mathlib as a dependency: add an exact copy of this file <a href="https://github.com/ImperialCollegeLondon/formalising-mathematics-2022/blob/master/.gitpod.yml">https://github.com/ImperialCollegeLondon/formalising-mathematics-2022/blob/master/.gitpod.yml</a> to the root directory of your repo</p>
</blockquote>
<p>Could someone help me troubleshoot these gitpod instructions?</p>
<p>When I try them on a small repo I set up for teaching,<br>
<a href="https://gitpod.io/#/https://github.com/hrmacbeth/math2001">https://gitpod.io/#/https://github.com/hrmacbeth/math2001</a><br>
I get red underlines everywhere and horrible errors in the infoview:</p>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>invalid import: data.option.defs
invalid object declaration, environment already has an object named 'option.elim._main'
</code></pre></div>



<a name="269328120"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269328120" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269328120">(Jan 25 2022 at 21:34)</a>:</h4>
<p>I wondered if the problem might be that my repo is not on exact latest mathlib.  Do I need to run <code>leanproject up</code> on the project every day right before class?</p>



<a name="269330616"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269330616" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269330616">(Jan 25 2022 at 21:54)</a>:</h4>
<p>You can have a look at what I did at <a href="https://github.com/PatrickMassot/MDD154">https://github.com/PatrickMassot/MDD154</a>, it may help</p>



<a name="269332319"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269332319" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269332319">(Jan 25 2022 at 22:09)</a>:</h4>
<p>Thanks for the hint, Patrick.  Do you know whether I can link to the same<br>
<a href="https://raw.githubusercontent.com/PatrickMassot/MDD154/master/mdd154-1.0.0.vsix">https://raw.githubusercontent.com/PatrickMassot/MDD154/master/mdd154-1.0.0.vsix</a><br>
file, or need to roll my own?</p>



<a name="269332431"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269332431" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269332431">(Jan 25 2022 at 22:09)</a>:</h4>
<p>(I see a vsix is a "Visual Studio extension" file, but I don't immediately understand the purpose.)</p>



<a name="269333936"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269333936" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269333936">(Jan 25 2022 at 22:20)</a>:</h4>
<p>Sorry about the red herring. This is my custom version of the  Lean VSCode extension.</p>



<a name="269333981"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269333981" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269333981">(Jan 25 2022 at 22:20)</a>:</h4>
<p>I see, so I can omit that line?</p>



<a name="269333989"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269333989" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269333989">(Jan 25 2022 at 22:20)</a>:</h4>
<p>Its only purpose is to get syntax highligthing for my controlled natural language tactics.</p>



<a name="269334036"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269334036" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269334036">(Jan 25 2022 at 22:20)</a>:</h4>
<p>You should replace that line with a line getting the regular extension.</p>



<a name="269334072"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269334072" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269334072">(Jan 25 2022 at 22:21)</a>:</h4>
<p>Replace <code>https://raw.githubusercontent.com/PatrickMassot/MDD154/master/mdd154-1.0.0.vsix</code> with <code>jroech.lean</code> or something</p>



<a name="269334081"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269334081" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269334081">(Jan 25 2022 at 22:21)</a>:</h4>
<p>I see, thanks!  Do I need <code>- usernamehw.errorlens</code> still?</p>



<a name="269334160"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269334160" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269334160">(Jan 25 2022 at 22:22)</a>:</h4>
<p>It depends whether you want the error lens extension.</p>



<a name="269334189"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269334189" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269334189">(Jan 25 2022 at 22:22)</a>:</h4>
<p>My experience is students have a very hard time paying attention to little red squiggles</p>



<a name="269334200"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269334200" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269334200">(Jan 25 2022 at 22:22)</a>:</h4>
<p>And to be honest I also use it now.</p>



<a name="269334233"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269334233" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269334233">(Jan 25 2022 at 22:22)</a>:</h4>
<p>I see, so that's independent.  Then the only <em>substantive</em> change should be changing <code>command</code> to <code>init</code> in the last line?</p>



<a name="269334237"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269334237" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269334237">(Jan 25 2022 at 22:22)</a>:</h4>
<p>I guess my eyes aren't what they used to be</p>



<a name="269334261"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269334261" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269334261">(Jan 25 2022 at 22:23)</a>:</h4>
<p>They are always sooo little or misplaced <span aria-label="sad" class="emoji emoji-2639" role="img" title="sad">:sad:</span></p>



<a name="269334275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269334275" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269334275">(Jan 25 2022 at 22:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110031">Patrick Massot</span> <a href="#narrow/stream/113488-general/topic/gitpod/near/269334237">said</a>:</p>
<blockquote>
<p>I guess my eyes aren't what they used to be</p>
</blockquote>
<p>Don't worry, I never see them either</p>



<a name="269334291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269334291" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269334291">(Jan 25 2022 at 22:23)</a>:</h4>
<p>Nobody ever told me my eyes little and misplaced</p>



<a name="269334299"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269334299" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269334299">(Jan 25 2022 at 22:23)</a>:</h4>
<p><span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="269334360"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269334360" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269334360">(Jan 25 2022 at 22:24)</a>:</h4>
<p>He has eyes in the back of his head!</p>



<a name="269334384"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269334384" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269334384">(Jan 25 2022 at 22:24)</a>:</h4>
<p>The change from command to init tells gitpod to get mathlib oleans before opening the workspace.</p>



<a name="269334399"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269334399" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269334399">(Jan 25 2022 at 22:24)</a>:</h4>
<p>OK, great.  Let me try this out.</p>



<a name="269334403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269334403" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269334403">(Jan 25 2022 at 22:24)</a>:</h4>
<p>But it should work too with command I guess.</p>



<a name="269334443"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269334443" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269334443">(Jan 25 2022 at 22:25)</a>:</h4>
<p><a href="https://www.gitpod.io/docs/prebuilds">https://www.gitpod.io/docs/prebuilds</a></p>



<a name="269334492"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269334492" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269334492">(Jan 25 2022 at 22:25)</a>:</h4>
<p>No, with <code>command</code> (that was the only real difference between your script and Kevin's) I got the horrible errors.</p>



<a name="269334564"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269334564" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269334564">(Jan 25 2022 at 22:26)</a>:</h4>
<p>Or, you're saying that if I set up a prebuild then I can use <code>command</code>?</p>



<a name="269334603"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269334603" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269334603">(Jan 25 2022 at 22:26)</a>:</h4>
<p>My understanding is setting up a prebuild allows to take advantage of init</p>



<a name="269334644"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269334644" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269334644">(Jan 25 2022 at 22:27)</a>:</h4>
<p>But I didn't spend a lot of time understanding the details. I stopped as soon as I got something working.</p>



<a name="269334663"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269334663" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269334663">(Jan 25 2022 at 22:27)</a>:</h4>
<p>At least I hope it still works. Can you get it to work?</p>



<a name="269334696"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269334696" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269334696">(Jan 25 2022 at 22:27)</a>:</h4>
<p>I mean: does it work for you when you go to <a href="https://gitpod.io/#/https://github.com/PatrickMassot/MDD154/">https://gitpod.io/#/https://github.com/PatrickMassot/MDD154/</a>?</p>



<a name="269334819"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269334819" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269334819">(Jan 25 2022 at 22:28)</a>:</h4>
<p>Well, mine works now!</p>



<a name="269334848"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269334848" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269334848">(Jan 25 2022 at 22:28)</a>:</h4>
<p>Et oui, la tienne aussi.</p>



<a name="269334863"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269334863" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269334863">(Jan 25 2022 at 22:29)</a>:</h4>
<p>Thank you!</p>



<a name="269334904"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269334904" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269334904">(Jan 25 2022 at 22:29)</a>:</h4>
<p>You're welcome!</p>



<a name="269343375"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269343375" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jeremy Avigad <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269343375">(Jan 25 2022 at 23:53)</a>:</h4>
<p>I didn't realize that we could get away so simply with this:<br>
image: leanprovercommunity/mathlib:gitpod</p>
<p>It looks like a nice setup, thanks to Scott. If I understand correctly, it always uses the most recent version of mathlib. Is there a way to link a project to a particular version of mathlib?</p>



<a name="269344265"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269344265" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269344265">(Jan 26 2022 at 00:02)</a>:</h4>
<p><span class="user-mention" data-user-id="110865">@Jeremy Avigad</span> It seems to be working on my project with a few-days-out-of-date mathlib!</p>



<a name="269345267"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269345267" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jeremy Avigad <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269345267">(Jan 26 2022 at 00:12)</a>:</h4>
<p>Oh! I realize now that <code>leanproject</code> will just get the version of mathlib indicated in the <code>.toml</code> file. The setup is very nice.</p>



<a name="269345309"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/gitpod/near/269345309" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/gitpod.html#269345309">(Jan 26 2022 at 00:12)</a>:</h4>
<p>Indeed it is!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>