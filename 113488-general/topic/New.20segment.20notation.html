---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/New.20segment.20notation.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/New.20segment.20notation.html">New segment notation</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="252166035"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20segment%20notation/near/252166035" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/New.20segment.20notation.html#252166035">(Sep 06 2021 at 12:08)</a>:</h4>
<p>I'm redefining everything in <code>analysis.convex.basic</code> to take in <code>k</code>, the underlying <code>ordered_semiring</code>, as an argument (it's currently always <code>ℝ</code>). So the notation <code>[x, y]</code> for <code>segment x y</code> needs changing to mention <code>k</code>.</p>
<p>What do you think of <code>[x -[k] y]</code>? This has also the advantage to make sure Lean isn't confused with <code>list</code> notation.</p>



<a name="252168479"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20segment%20notation/near/252168479" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/New.20segment.20notation.html#252168479">(Sep 06 2021 at 12:30)</a>:</h4>
<p>I think I could learn to like it (-;</p>



<a name="252168571"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20segment%20notation/near/252168571" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/New.20segment.20notation.html#252168571">(Sep 06 2021 at 12:31)</a>:</h4>
<p>Would you even go to the extent of liking <code>]x -[k] y[</code> for <code>open_segment k x y</code>? <span aria-label="innocent" class="emoji emoji-1f607" role="img" title="innocent">:innocent:</span></p>



<a name="252169417"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20segment%20notation/near/252169417" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/New.20segment.20notation.html#252169417">(Sep 06 2021 at 12:38)</a>:</h4>
<p>I personally have never liked the inverted brackets notation. And I'm sure that syntax highlighters will also start crying (-;</p>



<a name="252169418"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20segment%20notation/near/252169418" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/New.20segment.20notation.html#252169418">(Sep 06 2021 at 12:38)</a>:</h4>
<p>Speaking only for myself, <code>]x -[k] y[</code> is a stretch too far.</p>



<a name="252171146"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20segment%20notation/near/252171146" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/New.20segment.20notation.html#252171146">(Sep 06 2021 at 12:53)</a>:</h4>
<p>How about <code>[x, y][k]</code>?</p>



<a name="252171232"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20segment%20notation/near/252171232" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/New.20segment.20notation.html#252171232">(Sep 06 2021 at 12:53)</a>:</h4>
<p>Or even <code>[x,y:k]</code> (if that's possible) or <code>[x,y;k]</code> etc?</p>



<a name="252171245"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20segment%20notation/near/252171245" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/New.20segment.20notation.html#252171245">(Sep 06 2021 at 12:53)</a>:</h4>
<p>Also you can likely keep the notation as <code>[x, y]</code> for places where k can be inferred</p>



<a name="252171553"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20segment%20notation/near/252171553" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/New.20segment.20notation.html#252171553">(Sep 06 2021 at 12:56)</a>:</h4>
<p>Maybe <code>k ⬝ [x, y]</code> to resemble the singleton span notation?</p>



<a name="252171818"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20segment%20notation/near/252171818" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/New.20segment.20notation.html#252171818">(Sep 06 2021 at 12:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="240862">Oliver Nash</span> <a href="#narrow/stream/113488-general/topic/New.20segment.20notation/near/252171232">said</a>:</p>
<blockquote>
<p>Or even <code>[x,y:k]</code> (if that's possible) or <code>[x,y;k]</code> etc?</p>
</blockquote>
<p>That's probably very bad considering type annotations.</p>



<a name="252171837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20segment%20notation/near/252171837" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/New.20segment.20notation.html#252171837">(Sep 06 2021 at 12:58)</a>:</h4>
<p>Even with the semicolon?</p>



<a name="252171862"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20segment%20notation/near/252171862" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/New.20segment.20notation.html#252171862">(Sep 06 2021 at 12:58)</a>:</h4>
<p>No, with the semicolon it should be fine.</p>



<a name="252171893"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20segment%20notation/near/252171893" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/New.20segment.20notation.html#252171893">(Sep 06 2021 at 12:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113488-general/topic/New.20segment.20notation/near/252171553">said</a>:</p>
<blockquote>
<p>Maybe <code>k ⬝ [x, y]</code> to resemble the singleton span notation?</p>
</blockquote>
<p>This could be the best option but it slightly bothers me that this notation sort-of suggests <code>[x, y]</code> has a meaning on its own.</p>



<a name="252171899"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20segment%20notation/near/252171899" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/New.20segment.20notation.html#252171899">(Sep 06 2021 at 12:59)</a>:</h4>
<p>My notation tries to look like the betweenness operator <code>[a - b - c]</code></p>



<a name="252172092"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20segment%20notation/near/252172092" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/New.20segment.20notation.html#252172092">(Sep 06 2021 at 13:00)</a>:</h4>
<p>I think I like <code>[x,y;k]</code>. It's concise, which is good.</p>



<a name="252172400"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20segment%20notation/near/252172400" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/New.20segment.20notation.html#252172400">(Sep 06 2021 at 13:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/113488-general/topic/New.20segment.20notation/near/252171899">said</a>:</p>
<blockquote>
<p>My notation tries to look like the betweenness operator <code>[a - b - c]</code></p>
</blockquote>
<p>and also like the <code>linear_map</code> and <code>continuous_linear_map</code> notation <code>E →ₗ[k] F</code> and <code>E →L[k] F</code></p>



<a name="252213573"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20segment%20notation/near/252213573" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/New.20segment.20notation.html#252213573">(Sep 06 2021 at 19:15)</a>:</h4>
<p>Yaël, are you resurrecting <a href="https://github.com/leanprover-community/mathlib/issues/4787">#4787</a>? In any case I wouldn't recognize any of the proposed notations,  and I really hope the plain <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[x, y]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">]</span></span></span></span> notation will be kept for the real case.</p>



<a name="252214097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20segment%20notation/near/252214097" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/New.20segment.20notation.html#252214097">(Sep 06 2021 at 19:22)</a>:</h4>
<p>Yes, but that's not what this PR is doing. <a href="https://github.com/leanprover-community/mathlib/issues/4787">#4787</a> generalizes to arbitrary affine spaces. I'm first generalizing to arbitrary <strong>vector spaces</strong>, then I will have a follow-up PR to generalize to affine spaces.</p>



<a name="252214155"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20segment%20notation/near/252214155" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/New.20segment.20notation.html#252214155">(Sep 06 2021 at 19:23)</a>:</h4>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[x, y]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">]</span></span></span></span> notation is local anyway. So you can define it when needed for the real case, sure.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>