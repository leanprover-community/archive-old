---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/~~bug.20in~~feature.20request.20for.20.60.40.5Bderive.5D.60.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/~~bug.20in~~feature.20request.20for.20.60.40.5Bderive.5D.60.3F.html">~~bug in~~feature request for `@[derive]`?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="316328638"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%7E%7Ebug%20in%7E%7Efeature%20request%20for%20%60%40%5Bderive%5D%60%3F/near/316328638" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/~~bug.20in~~feature.20request.20for.20.60.40.5Bderive.5D.60.3F.html#316328638">(Dec 16 2022 at 18:05)</a>:</h4>
<p>Oh lol</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">@[derive [non_unital_non_assoc_ring, topological_space, topological_ring]</span><span class="o">]</span>
<span class="kd">def</span> <span class="n">my_reals</span> <span class="o">:=</span> <span class="n">ℝ</span>
</code></pre></div>
<p>works. Doesn't work in my use case though -- will investigate further.</p>



<a name="316330588"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%7E%7Ebug%20in%7E%7Efeature%20request%20for%20%60%40%5Bderive%5D%60%3F/near/316330588" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/~~bug.20in~~feature.20request.20for.20.60.40.5Bderive.5D.60.3F.html#316330588">(Dec 16 2022 at 18:14)</a>:</h4>
<p>haha found my error:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">@[derive [non_unital_non_assoc_ring, topological_space, topological_ring]</span><span class="o">]</span><span class="c1">-- this comment breaks it!</span>
<span class="kd">def</span> <span class="n">my_reals</span> <span class="o">:=</span> <span class="n">ℝ</span>
</code></pre></div>
<p>OK, all working now :-) . It would be nice if I could just <code>@[derive topological_ring]</code> though.</p>



<a name="316382252"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%7E%7Ebug%20in%7E%7Efeature%20request%20for%20%60%40%5Bderive%5D%60%3F/near/316382252" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/~~bug.20in~~feature.20request.20for.20.60.40.5Bderive.5D.60.3F.html#316382252">(Dec 16 2022 at 23:59)</a>:</h4>
<p>Just to check because I'm on mobile and have to scroll horizontally; the only difference is really that comment?</p>



<a name="316385888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%7E%7Ebug%20in%7E%7Efeature%20request%20for%20%60%40%5Bderive%5D%60%3F/near/316385888" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/~~bug.20in~~feature.20request.20for.20.60.40.5Bderive.5D.60.3F.html#316385888">(Dec 17 2022 at 00:41)</a>:</h4>
<p>Yeah, <code>]--</code> fails to be parsed as <code>]</code> followed by a comment</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>