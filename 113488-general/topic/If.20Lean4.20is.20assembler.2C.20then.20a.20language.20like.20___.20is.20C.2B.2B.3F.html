---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/If.20Lean4.20is.20assembler.2C.20then.20a.20language.20like.20___.20is.20C.2B.2B.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/If.20Lean4.20is.20assembler.2C.20then.20a.20language.20like.20___.20is.20C.2B.2B.3F.html">If Lean4 is assembler, then a language like ___ is C++?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="287768880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/If%20Lean4%20is%20assembler%2C%20then%20a%20language%20like%20___%20is%20C%2B%2B%3F/near/287768880" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Daniel Donnelly <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/If.20Lean4.20is.20assembler.2C.20then.20a.20language.20like.20___.20is.20C.2B.2B.3F.html#287768880">(Jun 28 2022 at 20:04)</a>:</h4>
<p>Fill in the blank.  If we wanted to evolve, beginning at Lean4.  How can we make things "higher level"?</p>



<a name="287768972"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/If%20Lean4%20is%20assembler%2C%20then%20a%20language%20like%20___%20is%20C%2B%2B%3F/near/287768972" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Daniel Donnelly <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/If.20Lean4.20is.20assembler.2C.20then.20a.20language.20like.20___.20is.20C.2B.2B.3F.html#287768972">(Jun 28 2022 at 20:05)</a>:</h4>
<p>If we wanted to develop a language at a higher level than Lean4 then what would it be like?</p>



<a name="287770432"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/If%20Lean4%20is%20assembler%2C%20then%20a%20language%20like%20___%20is%20C%2B%2B%3F/near/287770432" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/If.20Lean4.20is.20assembler.2C.20then.20a.20language.20like.20___.20is.20C.2B.2B.3F.html#287770432">(Jun 28 2022 at 20:17)</a>:</h4>
<p>Lean4 with many more tactics?</p>



<a name="287770443"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/If%20Lean4%20is%20assembler%2C%20then%20a%20language%20like%20___%20is%20C%2B%2B%3F/near/287770443" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/If.20Lean4.20is.20assembler.2C.20then.20a.20language.20like.20___.20is.20C.2B.2B.3F.html#287770443">(Jun 28 2022 at 20:17)</a>:</h4>
<p>And maybe a SAT solver for good measure</p>



<a name="287770749"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/If%20Lean4%20is%20assembler%2C%20then%20a%20language%20like%20___%20is%20C%2B%2B%3F/near/287770749" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/If.20Lean4.20is.20assembler.2C.20then.20a.20language.20like.20___.20is.20C.2B.2B.3F.html#287770749">(Jun 28 2022 at 20:21)</a>:</h4>
<p>Lean4 but with the automation power of Isabelle I'd say</p>



<a name="287770778"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/If%20Lean4%20is%20assembler%2C%20then%20a%20language%20like%20___%20is%20C%2B%2B%3F/near/287770778" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/If.20Lean4.20is.20assembler.2C.20then.20a.20language.20like.20___.20is.20C.2B.2B.3F.html#287770778">(Jun 28 2022 at 20:21)</a>:</h4>
<p>Isabelle is insane at automation, tactics, termination proofs, automatic generation of helpful theorems for e.g. inductive relations etc.</p>



<a name="287778490"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/If%20Lean4%20is%20assembler%2C%20then%20a%20language%20like%20___%20is%20C%2B%2B%3F/near/287778490" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/If.20Lean4.20is.20assembler.2C.20then.20a.20language.20like.20___.20is.20C.2B.2B.3F.html#287778490">(Jun 28 2022 at 21:29)</a>:</h4>
<p>This is a really weird statement because lean 4 is already really high level and much more extensible than C++. High level lean 4 is lean 4 + mathlib</p>



<a name="287780881"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/If%20Lean4%20is%20assembler%2C%20then%20a%20language%20like%20___%20is%20C%2B%2B%3F/near/287780881" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/If.20Lean4.20is.20assembler.2C.20then.20a.20language.20like.20___.20is.20C.2B.2B.3F.html#287780881">(Jun 28 2022 at 21:52)</a>:</h4>
<p><span class="user-mention silent" data-user-id="395550">Henrik Böving</span> <a href="#narrow/stream/113488-general/topic/If.20Lean4.20is.20assembler.2C.20then.20a.20language.20like.20___.20is.20C.2B.2B.3F/near/287770778">said</a>:</p>
<blockquote>
<p>Isabelle is insane at automation, tactics, termination proofs, automatic generation of helpful theorems for e.g. inductive relations etc.</p>
</blockquote>
<p>I have been growing steadily more jealous of their locales <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="287781708"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/If%20Lean4%20is%20assembler%2C%20then%20a%20language%20like%20___%20is%20C%2B%2B%3F/near/287781708" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/If.20Lean4.20is.20assembler.2C.20then.20a.20language.20like.20___.20is.20C.2B.2B.3F.html#287781708">(Jun 28 2022 at 22:00)</a>:</h4>
<p>Meanwhile I never understood what a locale is, not when I used Isabelle and in Lean i haven't touched them yet</p>



<a name="287782737"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/If%20Lean4%20is%20assembler%2C%20then%20a%20language%20like%20___%20is%20C%2B%2B%3F/near/287782737" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/If.20Lean4.20is.20assembler.2C.20then.20a.20language.20like.20___.20is.20C.2B.2B.3F.html#287782737">(Jun 28 2022 at 22:10)</a>:</h4>
<p>In my understanding, a language that would be at a higher level than Lean 4 would, for instance, generate Lean 4 code automatically, allowing the programmer not to worry about some details. Or do something equivalent to generating Lean 4 code. Automation in theorem proving is a good example</p>



<a name="287782985"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/If%20Lean4%20is%20assembler%2C%20then%20a%20language%20like%20___%20is%20C%2B%2B%3F/near/287782985" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/If.20Lean4.20is.20assembler.2C.20then.20a.20language.20like.20___.20is.20C.2B.2B.3F.html#287782985">(Jun 28 2022 at 22:13)</a>:</h4>
<p>Locales in Isabelle are, as I understand it, trying to do similar things as typeclasses in Lean: bring declarations into a context when their dependencies are satisfied. The important difference is that a typeclass instance can be inferred, while a locale is opened somewhat explicitly. So that allows you to do more complicated things in the locales (such as make the group operation a parameter to the structure instead of a field of the structure, so we wouldn't need <code>@[to_additive]</code>).</p>



<a name="287783222"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/If%20Lean4%20is%20assembler%2C%20then%20a%20language%20like%20___%20is%20C%2B%2B%3F/near/287783222" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/If.20Lean4.20is.20assembler.2C.20then.20a.20language.20like.20___.20is.20C.2B.2B.3F.html#287783222">(Jun 28 2022 at 22:15)</a>:</h4>
<p>Isabelle also has typeclasses, reducing some of the extra bookkeeping. (Still I understand there's still quite a bit more, and Lean's typeclass instances can generally be treated more flexibly since they are just tuples to the type system.)</p>



<a name="287783621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/If%20Lean4%20is%20assembler%2C%20then%20a%20language%20like%20___%20is%20C%2B%2B%3F/near/287783621" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/If.20Lean4.20is.20assembler.2C.20then.20a.20language.20like.20___.20is.20C.2B.2B.3F.html#287783621">(Jun 28 2022 at 22:18)</a>:</h4>
<p>Although perhaps typeclasses can regain some level of resilience against the complications in Lean 4: As I recall, the main reason that we have <code>group G</code> and not <code>group G (*) 1 (^-1)</code> is that the simplifier couldn't deal with <code>simp</code> lemmas like <code>mul_one</code> looking like <code>∀ x, ?op x ?one = ?one</code>.</p>



<a name="287787559"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/If%20Lean4%20is%20assembler%2C%20then%20a%20language%20like%20___%20is%20C%2B%2B%3F/near/287787559" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/If.20Lean4.20is.20assembler.2C.20then.20a.20language.20like.20___.20is.20C.2B.2B.3F.html#287787559">(Jun 28 2022 at 22:59)</a>:</h4>
<p>I think even if Lean 4 completely played ball, we would need to be careful to make things usable; we don't want people only writing lemmas about <code>group G (*) 1 (^-1)</code> (as we need to cover <code>group A (+) 0 (-)</code> too), but no one (at least, users of current mathlib) wants to write their lemmas statements and names with <code>op</code> and <code>id</code>.</p>



<a name="287788087"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/If%20Lean4%20is%20assembler%2C%20then%20a%20language%20like%20___%20is%20C%2B%2B%3F/near/287788087" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/If.20Lean4.20is.20assembler.2C.20then.20a.20language.20like.20___.20is.20C.2B.2B.3F.html#287788087">(Jun 28 2022 at 23:04)</a>:</h4>
<p>just let <code>*</code>and <code>1</code> unfold to <code>op</code> and <code>id</code></p>



<a name="287788297"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/If%20Lean4%20is%20assembler%2C%20then%20a%20language%20like%20___%20is%20C%2B%2B%3F/near/287788297" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/If.20Lean4.20is.20assembler.2C.20then.20a.20language.20like.20___.20is.20C.2B.2B.3F.html#287788297">(Jun 28 2022 at 23:07)</a>:</h4>
<p>as in <code>variables (* : G → G → G) (e : G) [group * g]</code> or ways that will typecheck</p>



<a name="287788392"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/If%20Lean4%20is%20assembler%2C%20then%20a%20language%20like%20___%20is%20C%2B%2B%3F/near/287788392" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/If.20Lean4.20is.20assembler.2C.20then.20a.20language.20like.20___.20is.20C.2B.2B.3F.html#287788392">(Jun 28 2022 at 23:08)</a>:</h4>
<p>Sure, but I don't want to rewrite <code>a - b = a + -b</code> using <code>div_eq_mul_inv</code> (nor do I want to accidentally rewrite it!)</p>



<a name="287788658"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/If%20Lean4%20is%20assembler%2C%20then%20a%20language%20like%20___%20is%20C%2B%2B%3F/near/287788658" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/If.20Lean4.20is.20assembler.2C.20then.20a.20language.20like.20___.20is.20C.2B.2B.3F.html#287788658">(Jun 28 2022 at 23:11)</a>:</h4>
<p>I don't think it'd be difficult to make meta code a-la <code>to_additive</code> that specialises these lemmas and names to additive/divisibility specifically</p>



<a name="287788730"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/If%20Lean4%20is%20assembler%2C%20then%20a%20language%20like%20___%20is%20C%2B%2B%3F/near/287788730" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/If.20Lean4.20is.20assembler.2C.20then.20a.20language.20like.20___.20is.20C.2B.2B.3F.html#287788730">(Jun 28 2022 at 23:12)</a>:</h4>
<p>it'd literally be <code>λ G, @statement G has_add.add 1</code> or something</p>



<a name="287788734"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/If%20Lean4%20is%20assembler%2C%20then%20a%20language%20like%20___%20is%20C%2B%2B%3F/near/287788734" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/If.20Lean4.20is.20assembler.2C.20then.20a.20language.20like.20___.20is.20C.2B.2B.3F.html#287788734">(Jun 28 2022 at 23:12)</a>:</h4>
<p>Okay, so you're not trying to reduce duplication but rather allow triplication?</p>



<a name="287789201"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/If%20Lean4%20is%20assembler%2C%20then%20a%20language%20like%20___%20is%20C%2B%2B%3F/near/287789201" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/If.20Lean4.20is.20assembler.2C.20then.20a.20language.20like.20___.20is.20C.2B.2B.3F.html#287789201">(Jun 28 2022 at 23:17)</a>:</h4>
<p>memory is cheap, doing theorems automatically is cheap</p>



<a name="287789269"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/If%20Lean4%20is%20assembler%2C%20then%20a%20language%20like%20___%20is%20C%2B%2B%3F/near/287789269" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/If.20Lean4.20is.20assembler.2C.20then.20a.20language.20like.20___.20is.20C.2B.2B.3F.html#287789269">(Jun 28 2022 at 23:18)</a>:</h4>
<p>this is essentially an alias so you don't do <code>divop_eq_op_inv</code></p>



<a name="287798880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/If%20Lean4%20is%20assembler%2C%20then%20a%20language%20like%20___%20is%20C%2B%2B%3F/near/287798880" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/If.20Lean4.20is.20assembler.2C.20then.20a.20language.20like.20___.20is.20C.2B.2B.3F.html#287798880">(Jun 29 2022 at 02:01)</a>:</h4>
<p>I care much more about duplication of work than duplication of theorems</p>



<a name="287798964"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/If%20Lean4%20is%20assembler%2C%20then%20a%20language%20like%20___%20is%20C%2B%2B%3F/near/287798964" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/If.20Lean4.20is.20assembler.2C.20then.20a.20language.20like.20___.20is.20C.2B.2B.3F.html#287798964">(Jun 29 2022 at 02:02)</a>:</h4>
<p>To be fair, I think we've done a great job with type synonyms that already drastically reduces the usability generalized typeclasses would otherwise have</p>



<a name="287798967"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/If%20Lean4%20is%20assembler%2C%20then%20a%20language%20like%20___%20is%20C%2B%2B%3F/near/287798967" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/If.20Lean4.20is.20assembler.2C.20then.20a.20language.20like.20___.20is.20C.2B.2B.3F.html#287798967">(Jun 29 2022 at 02:02)</a>:</h4>
<p>Not that I wouldn't like them still</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>