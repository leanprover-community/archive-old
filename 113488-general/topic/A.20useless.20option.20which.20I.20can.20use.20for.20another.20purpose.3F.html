---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/A.20useless.20option.20which.20I.20can.20use.20for.20another.20purpose.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/A.20useless.20option.20which.20I.20can.20use.20for.20another.20purpose.3F.html">A useless option which I can use for another purpose?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="214132007"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/A%20useless%20option%20which%20I%20can%20use%20for%20another%20purpose%3F/near/214132007" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/A.20useless.20option.20which.20I.20can.20use.20for.20another.20purpose.3F.html#214132007">(Oct 22 2020 at 00:37)</a>:</h4>
<p>Lean has a number of "options", e.g. <code>pp.all</code>, which are used for various things.  Since one can't add custom options, I'd like to co-opt one for a proof recording project.  In particular, I'd like to make it such that if I run <code>lean -D &lt;some_option&gt;=&lt;some_value&gt; all.lean</code> then Lean will spit out (lots of) trace code, but will not otherwise.  <strong>Is there an option which is useless which I can use without it effecting the behavior of Lean?</strong></p>



<a name="214132213"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/A%20useless%20option%20which%20I%20can%20use%20for%20another%20purpose%3F/near/214132213" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/A.20useless.20option.20which.20I.20can.20use.20for.20another.20purpose.3F.html#214132213">(Oct 22 2020 at 00:41)</a>:</h4>
<p>If not, I just realized I might be able to just use that a particular option is set.  Most options are never actually set.  They have default behavior, but one can distinguish (inside a tactic) if an option is set to anything or nothing, so maybe I can just test that some obscure option like <code>pp.colors</code> is set to something, and I'll just set it to the default value.</p>



<a name="214140116"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/A%20useless%20option%20which%20I%20can%20use%20for%20another%20purpose%3F/near/214140116" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/A.20useless.20option.20which.20I.20can.20use.20for.20another.20purpose.3F.html#214140116">(Oct 22 2020 at 03:25)</a>:</h4>
<p><span class="user-mention" data-user-id="115715">@Jason Rute</span> I guess you <em>can</em> add options in the community fork of Lean? It's a bit more cumbersome, because you have to change core.... not sure whether it's worth it, or if you should just use your hack (-;</p>



<a name="214140315"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/A%20useless%20option%20which%20I%20can%20use%20for%20another%20purpose%3F/near/214140315" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/A.20useless.20option.20which.20I.20can.20use.20for.20another.20purpose.3F.html#214140315">(Oct 22 2020 at 03:30)</a>:</h4>
<p>I’m doing this proof recording without changing the C++.  (Mostly because I’m not comfortable programming in it.)  But if the options are built into the lean files, I could change those.</p>



<a name="214140594"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/A%20useless%20option%20which%20I%20can%20use%20for%20another%20purpose%3F/near/214140594" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/A.20useless.20option.20which.20I.20can.20use.20for.20another.20purpose.3F.html#214140594">(Oct 22 2020 at 03:38)</a>:</h4>
<p>Well, I'm also not comfortable with changing the C++ for you... so we would have to wait for Gabriel, I guess</p>



<a name="214141811"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/A%20useless%20option%20which%20I%20can%20use%20for%20another%20purpose%3F/near/214141811" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/A.20useless.20option.20which.20I.20can.20use.20for.20another.20purpose.3F.html#214141811">(Oct 22 2020 at 04:12)</a>:</h4>
<p>there is the <code>trace_if_enabled</code> stuff for tracing according to whether a flag is set to on or off. the flag is set from within lean code rather than from the command line, but depending on what environment you're running this in, that might not be too hard to mess around with</p>



<a name="214147098"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/A%20useless%20option%20which%20I%20can%20use%20for%20another%20purpose%3F/near/214147098" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/A.20useless.20option.20which.20I.20can.20use.20for.20another.20purpose.3F.html#214147098">(Oct 22 2020 at 06:15)</a>:</h4>
<p>You can add new trace options yourself. Several tactics already do this. (e.g. <code>suggest</code> and <code>solve_by_elim</code> offhand)</p>



<a name="214150565"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/A%20useless%20option%20which%20I%20can%20use%20for%20another%20purpose%3F/near/214150565" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/A.20useless.20option.20which.20I.20can.20use.20for.20another.20purpose.3F.html#214150565">(Oct 22 2020 at 07:11)</a>:</h4>
<p>Unfortunately none of these options can be set on the command-line, because there's a check that you only use built-in options..</p>



<a name="214150572"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/A%20useless%20option%20which%20I%20can%20use%20for%20another%20purpose%3F/near/214150572" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/A.20useless.20option.20which.20I.20can.20use.20for.20another.20purpose.3F.html#214150572">(Oct 22 2020 at 07:11)</a>:</h4>
<p>We should disable that check.</p>



<a name="214173371"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/A%20useless%20option%20which%20I%20can%20use%20for%20another%20purpose%3F/near/214173371" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/A.20useless.20option.20which.20I.20can.20use.20for.20another.20purpose.3F.html#214173371">(Oct 22 2020 at 11:28)</a>:</h4>
<p>Thanks.  I think I’ll just go with my hack.  This will be very hacky code anyway.  I’m trying to record all the tactic proofs in Lean with a combination of carefully placed tracing code added the standard library and mathlib and a crappy homemade Lean parser written in Python.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>