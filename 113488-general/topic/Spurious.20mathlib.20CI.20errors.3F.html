---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Spurious.20mathlib.20CI.20errors.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Spurious.20mathlib.20CI.20errors.3F.html">Spurious mathlib CI errors?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="315671780"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Spurious%20mathlib%20CI%20errors%3F/near/315671780" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Loeffler <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Spurious.20mathlib.20CI.20errors.3F.html#315671780">(Dec 13 2022 at 19:44)</a>:</h4>
<p>I've had several mathlib CI runs fail in the last couple of days with errors in the test "Check for modifications to ported files". The error message is something like "Error: The head commit for this pull_request event is not ahead of the base commit. Please submit an issue on this action's GitHub repo". Is this a known issue?</p>
<p>(It seems that merging the latest upstream master immediately before pushing suppresses the error, but this is clearly not how things are supposed to work.)</p>



<a name="315674703"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Spurious%20mathlib%20CI%20errors%3F/near/315674703" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Spurious.20mathlib.20CI.20errors.3F.html#315674703">(Dec 13 2022 at 19:59)</a>:</h4>
<p>Probably fixed by <a href="https://github.com/leanprover-community/mathlib/pull/17914">#17914</a>. Did the last failure include this fix?</p>



<a name="315678405"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Spurious%20mathlib%20CI%20errors%3F/near/315678405" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Loeffler <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Spurious.20mathlib.20CI.20errors.3F.html#315678405">(Dec 13 2022 at 20:18)</a>:</h4>
<p>Looks like it didn't, so that's probably it then. Sorry for the noise!</p>



<a name="315691221"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Spurious%20mathlib%20CI%20errors%3F/near/315691221" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Spurious.20mathlib.20CI.20errors.3F.html#315691221">(Dec 13 2022 at 21:38)</a>:</h4>
<p>I was just taking a guess, since I didn't find the actual error message anywhere. It's nice to have it documented here.</p>



<a name="315691547"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Spurious%20mathlib%20CI%20errors%3F/near/315691547" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Spurious.20mathlib.20CI.20errors.3F.html#315691547">(Dec 13 2022 at 21:40)</a>:</h4>
<p>Yeah this might be the first time it's been mentioned here (it's been brought up on the discord and also in PMs to me). Thanks for flagging it David!</p>



<a name="315720853"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Spurious%20mathlib%20CI%20errors%3F/near/315720853" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Spurious.20mathlib.20CI.20errors.3F.html#315720853">(Dec 14 2022 at 01:36)</a>:</h4>
<p>Yeah, this is my fault but can be ignored. For some reason "ask GitHub which files changed without a full mathlib checkout" is a hard problem, even though the GitHub UI shows it to humans...</p>



<a name="315720919"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Spurious%20mathlib%20CI%20errors%3F/near/315720919" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Spurious.20mathlib.20CI.20errors.3F.html#315720919">(Dec 14 2022 at 01:37)</a>:</h4>
<p>List of runs is here: <a href="https://github.com/leanprover-community/mathlib/actions/workflows/add_ported_warnings.yml">https://github.com/leanprover-community/mathlib/actions/workflows/add_ported_warnings.yml</a></p>



<a name="315721041"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Spurious%20mathlib%20CI%20errors%3F/near/315721041" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Spurious.20mathlib.20CI.20errors.3F.html#315721041">(Dec 14 2022 at 01:39)</a>:</h4>
<p>Fix seems to be here: <a href="https://github.com/jitterbit/get-changed-files/issues/19#issuecomment-854657729">https://github.com/jitterbit/get-changed-files/issues/19#issuecomment-854657729</a></p>



<a name="315794828"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Spurious%20mathlib%20CI%20errors%3F/near/315794828" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Spurious.20mathlib.20CI.20errors.3F.html#315794828">(Dec 14 2022 at 11:27)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/17936">#17936</a></p>



<a name="315930896"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Spurious%20mathlib%20CI%20errors%3F/near/315930896" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Spurious.20mathlib.20CI.20errors.3F.html#315930896">(Dec 14 2022 at 23:00)</a>:</h4>
<p>Can someone merge the above? We'll continue to get spurious errors until that's merged, which also means we won't spot edits to ported files.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>