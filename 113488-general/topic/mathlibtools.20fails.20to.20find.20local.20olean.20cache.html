---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/mathlibtools.20fails.20to.20find.20local.20olean.20cache.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/mathlibtools.20fails.20to.20find.20local.20olean.20cache.html">mathlibtools fails to find local olean cache</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="198539413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlibtools%20fails%20to%20find%20local%20olean%20cache/near/198539413" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Markus Himmel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/mathlibtools.20fails.20to.20find.20local.20olean.20cache.html#198539413">(May 23 2020 at 15:07)</a>:</h4>
<p>When I locally create a commit and switch away from the branch, the git hooks create an olean cache. However, when I switch back to that branch, then those local oleans are not found. Looking at the contents of <code>~/.mathlib</code>, the cache is there, but it has the extension <code>.tar.bz2</code>, and I think <code>leanproject</code> only looks for <code>tar.xz</code> and <code>tar.gz</code>.</p>



<a name="198539876"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlibtools%20fails%20to%20find%20local%20olean%20cache/near/198539876" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/mathlibtools.20fails.20to.20find.20local.20olean.20cache.html#198539876">(May 23 2020 at 15:21)</a>:</h4>
<p>Sorry about that. I think very very few people use these git hooks (I certainly don't use them) so it's very much untested.</p>



<a name="198539961"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlibtools%20fails%20to%20find%20local%20olean%20cache/near/198539961" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/mathlibtools.20fails.20to.20find.20local.20olean.20cache.html#198539961">(May 23 2020 at 15:23)</a>:</h4>
<p>Could you try adding the obvious item to the list at <a href="https://github.com/leanprover-community/mathlib-tools/blob/master/mathlibtools/lib.py#L149">https://github.com/leanprover-community/mathlib-tools/blob/master/mathlibtools/lib.py#L149</a>? If this is not enough then please open a GitHub issue.</p>



<a name="198540110"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlibtools%20fails%20to%20find%20local%20olean%20cache/near/198540110" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Markus Himmel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/mathlibtools.20fails.20to.20find.20local.20olean.20cache.html#198540110">(May 23 2020 at 15:27)</a>:</h4>
<p>That works! :)</p>



<a name="198541923"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlibtools%20fails%20to%20find%20local%20olean%20cache/near/198541923" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/mathlibtools.20fails.20to.20find.20local.20olean.20cache.html#198541923">(May 23 2020 at 16:19)</a>:</h4>
<p>Is this ok for you to use your locally patched version until 0.0.8 comes out? (this is pure lazyness from me, I already did a release today)</p>



<a name="198542469"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlibtools%20fails%20to%20find%20local%20olean%20cache/near/198542469" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Markus Himmel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/mathlibtools.20fails.20to.20find.20local.20olean.20cache.html#198542469">(May 23 2020 at 16:36)</a>:</h4>
<p>Sure, take your time. By the way, thank you for all the amazing work on leanproject.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>