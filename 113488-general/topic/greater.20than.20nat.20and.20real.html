---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/greater.20than.20nat.20and.20real.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/greater.20than.20nat.20and.20real.html">greater than nat and real</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="221134731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/greater%20than%20nat%20and%20real/near/221134731" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Saif Ghobash <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/greater.20than.20nat.20and.20real.html#221134731">(Dec 29 2020 at 13:39)</a>:</h4>
<p>Im new to lean and am trying to formalize some theorems from my lecture notes on real analysis, one of them being </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c1">-- ℕ ⊂ ℝ is not bounded above.</span>
<span class="kd">theorem</span> <span class="n">theorem_1_1_1</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="n">n</span> <span class="bp">&gt;</span> <span class="n">x</span> <span class="o">:=</span>
<span class="kd">begin</span>

<span class="kd">end</span>
</code></pre></div>
<p>however I am getting a type error </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">type</span> <span class="n">mismatch</span> <span class="n">at</span> <span class="n">application</span>
  <span class="n">n</span> <span class="bp">&gt;</span> <span class="n">x</span>
<span class="n">term</span>
  <span class="n">x</span>
<span class="n">has</span> <span class="n">type</span>
  <span class="n">ℝ</span>
<span class="n">but</span> <span class="n">is</span> <span class="n">expected</span> <span class="n">to</span> <span class="k">have</span> <span class="n">type</span>
  <span class="n">ℕ</span>
</code></pre></div>
<p>I am not sure how to cast n :  ℕ  to be a real number so I can apply &gt; or use some form of &gt; that accepts  ℕ and ℝ.</p>



<a name="221135013"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/greater%20than%20nat%20and%20real/near/221135013" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/greater.20than.20nat.20and.20real.html#221135013">(Dec 29 2020 at 13:43)</a>:</h4>
<p><span class="user-mention" data-user-id="370446">@Saif Ghobash</span> This is because Lean is reading "outside in, left-to-right"...</p>



<a name="221135019"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/greater%20than%20nat%20and%20real/near/221135019" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/greater.20than.20nat.20and.20real.html#221135019">(Dec 29 2020 at 13:43)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c1">-- ℕ ⊂ ℝ is not bounded above.</span>
<span class="kd">theorem</span> <span class="n">theorem_1_1_1</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">&gt;</span> <span class="n">x</span> <span class="o">:=</span>
<span class="kd">begin</span>

<span class="kd">end</span>
</code></pre></div>



<a name="221135047"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/greater%20than%20nat%20and%20real/near/221135047" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/greater.20than.20nat.20and.20real.html#221135047">(Dec 29 2020 at 13:43)</a>:</h4>
<p>Note that, as Johan points out, you could also write:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c1">-- ℕ ⊂ ℝ is not bounded above.</span>
<span class="kd">theorem</span> <span class="n">theorem_1_1_1</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="n">x</span> <span class="bp">&lt;</span> <span class="n">n</span> <span class="o">:=</span>
<span class="kd">begin</span>

<span class="kd">end</span>
</code></pre></div>



<a name="221135049"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/greater%20than%20nat%20and%20real/near/221135049" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/greater.20than.20nat.20and.20real.html#221135049">(Dec 29 2020 at 13:43)</a>:</h4>
<p>So it sees "<code>&gt;</code>" and then "<code>n</code>", and determines you must be comparing two natural numbers, because <code>n</code> is a <code>nat</code>.</p>



<a name="221135103"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/greater%20than%20nat%20and%20real/near/221135103" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/greater.20than.20nat.20and.20real.html#221135103">(Dec 29 2020 at 13:44)</a>:</h4>
<p>Patrick just posted the two ways around this (-;</p>



<a name="221135110"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/greater%20than%20nat%20and%20real/near/221135110" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/greater.20than.20nat.20and.20real.html#221135110">(Dec 29 2020 at 13:44)</a>:</h4>
<p>Because of order of elaboration, in the second version Lean knows it expects a real when meeting n.</p>



<a name="221135252"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/greater%20than%20nat%20and%20real/near/221135252" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Saif Ghobash <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/greater.20than.20nat.20and.20real.html#221135252">(Dec 29 2020 at 13:46)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="110031">@Patrick Massot</span> and <span class="user-mention" data-user-id="112680">@Johan Commelin</span> !</p>



<a name="221135387"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/greater%20than%20nat%20and%20real/near/221135387" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/greater.20than.20nat.20and.20real.html#221135387">(Dec 29 2020 at 13:48)</a>:</h4>
<p><span class="user-mention" data-user-id="370446">@Saif Ghobash</span> Also, note that <code>src/data/real/basic.lean</code> contains</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="mi">200</span><span class="o">:</span><span class="kd">instance</span> <span class="o">:</span> <span class="n">archimedean</span> <span class="n">ℝ</span> <span class="o">:=</span>
<span class="mi">201</span><span class="o">:</span><span class="n">archimedean_iff_rat_le.2</span> <span class="bp">$</span> <span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="n">quotient.induction_on</span> <span class="n">x</span> <span class="bp">$</span> <span class="bp">λ</span> <span class="n">f</span><span class="o">,</span>
<span class="mi">202</span><span class="bp">-</span><span class="k">let</span> <span class="o">⟨</span><span class="n">M</span><span class="o">,</span> <span class="n">M0</span><span class="o">,</span> <span class="n">H</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">f.bounded'</span> <span class="mi">0</span> <span class="k">in</span>
<span class="mi">203</span><span class="bp">-</span><span class="o">⟨</span><span class="n">M</span><span class="o">,</span> <span class="n">mk_le_of_forall_le</span> <span class="o">⟨</span><span class="mi">0</span><span class="o">,</span> <span class="bp">λ</span> <span class="n">i</span> <span class="n">_</span><span class="o">,</span>
<span class="mi">204</span><span class="bp">-</span>  <span class="n">rat.cast_le.2</span> <span class="bp">$</span> <span class="n">le_of_lt</span> <span class="o">(</span><span class="n">abs_lt.1</span> <span class="o">(</span><span class="n">H</span> <span class="n">i</span><span class="o">))</span><span class="bp">.</span><span class="mi">2</span><span class="o">⟩⟩</span>
</code></pre></div>



<a name="221135413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/greater%20than%20nat%20and%20real/near/221135413" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/greater.20than.20nat.20and.20real.html#221135413">(Dec 29 2020 at 13:49)</a>:</h4>
<p>That exactly gives you the result you are looking for.</p>



<a name="221135473"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/greater%20than%20nat%20and%20real/near/221135473" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/greater.20than.20nat.20and.20real.html#221135473">(Dec 29 2020 at 13:50)</a>:</h4>
<p>You can use the lemma <code>exists_nat_gt</code> because that instance exists.</p>



<a name="221139308"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/greater%20than%20nat%20and%20real/near/221139308" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Saif Ghobash <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/greater.20than.20nat.20and.20real.html#221139308">(Dec 29 2020 at 14:51)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span>  oh cool! that's exactly what I needed, thank you :)</p>



<a name="221139579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/greater%20than%20nat%20and%20real/near/221139579" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/greater.20than.20nat.20and.20real.html#221139579">(Dec 29 2020 at 14:55)</a>:</h4>
<p><span class="user-mention" data-user-id="370446">@Saif Ghobash</span> most likely 90-95% of the theorems in an introduction to analysis course are already in mathlib (in one form or another). On the other hand, this doesn't mean that all the <em>exercises</em> in such a course will be trivial to do using mathlib.</p>



<a name="221139657"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/greater%20than%20nat%20and%20real/near/221139657" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/greater.20than.20nat.20and.20real.html#221139657">(Dec 29 2020 at 14:56)</a>:</h4>
<p>See also <a href="https://leanprover-community.github.io/undergrad.html">https://leanprover-community.github.io/undergrad.html</a></p>



<a name="221202735"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/greater%20than%20nat%20and%20real/near/221202735" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/greater.20than.20nat.20and.20real.html#221202735">(Dec 30 2020 at 10:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/113488-general/topic/greater.20than.20nat.20and.20real/near/221135049">said</a>:</p>
<blockquote>
<p>So it sees "<code>&gt;</code>" and then "<code>n</code>", and determines you must be comparing two natural numbers, because <code>n</code> is a <code>nat</code>.</p>
</blockquote>
<p><a href="https://github.com/leanprover/lean4/commit/eba3983658faef2d41b7ad00fc2c2e540a1e43e6">https://github.com/leanprover/lean4/commit/eba3983658faef2d41b7ad00fc2c2e540a1e43e6</a></p>



<a name="221203316"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/greater%20than%20nat%20and%20real/near/221203316" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/greater.20than.20nat.20and.20real.html#221203316">(Dec 30 2020 at 10:26)</a>:</h4>
<p><span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span> Thanks, as always (-;</p>



<a name="221204322"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/greater%20than%20nat%20and%20real/near/221204322" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/greater.20than.20nat.20and.20real.html#221204322">(Dec 30 2020 at 10:47)</a>:</h4>
<p>But I didn't even do anything <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="221209668"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/greater%20than%20nat%20and%20real/near/221209668" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/greater.20than.20nat.20and.20real.html#221209668">(Dec 30 2020 at 12:40)</a>:</h4>
<p>One could intentionally or unintentionally abuse this with some random coercion you didn't know was there, which might change the meaning of a statement. This should be fun! Does it mean that <code>(a : T) &lt; b</code> no longer guarantees that <code>&lt;</code> will be <code>T.has_lt</code>?</p>



<a name="221209716"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/greater%20than%20nat%20and%20real/near/221209716" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/greater.20than.20nat.20and.20real.html#221209716">(Dec 30 2020 at 12:41)</a>:</h4>
<p>Having said that it would make the Bernoulli code look better! So in a real use case it does look like a good idea</p>



<a name="221209784"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/greater%20than%20nat%20and%20real/near/221209784" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/greater.20than.20nat.20and.20real.html#221209784">(Dec 30 2020 at 12:42)</a>:</h4>
<p>I'm multiplying and dividing what look like naturals, and all of a sudden there's a Bernoulli number at the end and I didn't want to put it at the start but it's rational</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>