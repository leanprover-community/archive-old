---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/types.20with.200.20.3D.20bot.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html">types with 0 = bot</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="202654196"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202654196" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202654196">(Jul 02 2020 at 06:29)</a>:</h4>
<p>Should we have a typeclass for things where <code>0 = \bot</code>? There are quite a number of examples:</p>
<ul>
<li><code>nat</code>,</li>
<li><code>nnreal</code>,</li>
<li><code>with_zero G</code> (for <code>G</code> a linearly ordered comm monoid),</li>
<li><code>X → Y</code>, whenever <code>Y</code> is an instance of the class under discussion</li>
<li><code>finsupp X Y</code>, idem dito</li>
</ul>



<a name="202654206"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202654206" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202654206">(Jul 02 2020 at 06:29)</a>:</h4>
<p>Question is inspired by: <a href="https://github.com/leanprover-community/mathlib/pull/3094/files#diff-b49cdf1ee39a90ada5463a413001d526R97">https://github.com/leanprover-community/mathlib/pull/3094/files#diff-b49cdf1ee39a90ada5463a413001d526R97</a></p>



<a name="202655279"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202655279" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202655279">(Jul 02 2020 at 06:50)</a>:</h4>
<p><code>zero_le</code> is a theorem of <code>canonically_ordered_monoid</code> but we could generalize it</p>



<a name="202655333"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202655333" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202655333">(Jul 02 2020 at 06:51)</a>:</h4>
<p>I see, because I guess that <code>X →\0 nat</code> is not a canonically ordered monoid, right?</p>



<a name="202655382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202655382" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202655382">(Jul 02 2020 at 06:52)</a>:</h4>
<p>I think it is?</p>



<a name="202655412"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202655412" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202655412">(Jul 02 2020 at 06:52)</a>:</h4>
<p>Are canonically ordered monoids totally ordered?</p>



<a name="202655416"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202655416" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202655416">(Jul 02 2020 at 06:52)</a>:</h4>
<p>no</p>



<a name="202655419"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202655419" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202655419">(Jul 02 2020 at 06:52)</a>:</h4>
<p>I see</p>



<a name="202655421"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202655421" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202655421">(Jul 02 2020 at 06:52)</a>:</h4>
<p>multiset is a good example too</p>



<a name="202655444"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202655444" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202655444">(Jul 02 2020 at 06:53)</a>:</h4>
<p>So only <code>with_zero G</code> in the above list is not canonically ordered. The others are.</p>



<a name="202655652"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202655652" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202655652">(Jul 02 2020 at 06:56)</a>:</h4>
<p>The ideals of a Dedekind domain are canonically ordered, the elements of a UFD aren't, but they only form a pre-order</p>



<a name="202655667"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202655667" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202655667">(Jul 02 2020 at 06:56)</a>:</h4>
<p>Wait they are canonically ordered</p>



<a name="202655671"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202655671" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202655671">(Jul 02 2020 at 06:56)</a>:</h4>
<p>Preordered</p>



<a name="202655695"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202655695" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202655695">(Jul 02 2020 at 06:57)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113488-general/topic/types.20with.200.20.3D.20bot/near/202655652">said</a>:</p>
<blockquote>
<p>The ideals of a Dedekind domain are canonically ordered</p>
</blockquote>
<p>But multiplicative... sorry, we don't support that.</p>



<a name="202655795"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202655795" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202655795">(Jul 02 2020 at 06:58)</a>:</h4>
<p>So, should this be</p>
<div class="codehilite"><pre><span></span><code><span class="n">class</span> <span class="n">zero_eq_bot</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">has_zero</span> <span class="n">X</span><span class="o">]</span> <span class="o">[</span><span class="n">has_bot</span> <span class="n">X</span><span class="o">]</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">zero_eq_bot</span> <span class="o">:</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">X</span><span class="o">)</span> <span class="bp">=</span> <span class="err">\</span><span class="n">bot</span><span class="o">)</span>
</code></pre></div>


<p>Or should this use a different setup?</p>



<a name="202655811"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202655811" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202655811">(Jul 02 2020 at 06:58)</a>:</h4>
<p>I guess <code>zero_eq_bot</code> is a bad name for the class, because we want to reserve that name for the lemma...</p>



<a name="202655850"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202655850" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202655850">(Jul 02 2020 at 06:59)</a>:</h4>
<p>We had zero_ne_one_class but look what happened to that</p>



<a name="202655906"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202655906" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202655906">(Jul 02 2020 at 07:00)</a>:</h4>
<p>That was different.. it extended <code>has_one</code> and <code>has_zero</code></p>



<a name="202655975"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202655975" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202655975">(Jul 02 2020 at 07:01)</a>:</h4>
<p>I'm just saying that the name changed later</p>



<a name="202655991"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202655991" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202655991">(Jul 02 2020 at 07:01)</a>:</h4>
<p>Aha, ok</p>



<a name="202656008"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202656008" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202656008">(Jul 02 2020 at 07:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/113488-general/topic/types.20with.200.20.3D.20bot/near/202655795">said</a>:</p>
<blockquote>
<p>So, should this be</p>
<div class="codehilite"><pre><span></span><code><span class="n">class</span> <span class="n">zero_eq_bot</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">has_zero</span> <span class="n">X</span><span class="o">]</span> <span class="o">[</span><span class="n">has_bot</span> <span class="n">X</span><span class="o">]</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">zero_eq_bot</span> <span class="o">:</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">X</span><span class="o">)</span> <span class="bp">=</span> <span class="err">\</span><span class="n">bot</span><span class="o">)</span>
</code></pre></div>


<p>Or should this use a different setup?</p>
</blockquote>
<p>I don't know why Lean doesn't know that this is a <code>Prop</code>, it should, but alright this is <code>Prop</code></p>



<a name="202656019"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202656019" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202656019">(Jul 02 2020 at 07:01)</a>:</h4>
<p>Zero_eq_bot_class is just asking to be renamed</p>



<a name="202656084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202656084" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202656084">(Jul 02 2020 at 07:02)</a>:</h4>
<p>Kenny it's a bug in structure</p>



<a name="202656114"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202656114" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202656114">(Jul 02 2020 at 07:02)</a>:</h4>
<p>T2 spaces were types for a long time for this reason</p>



<a name="202657444"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202657444" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202657444">(Jul 02 2020 at 07:21)</a>:</h4>
<p>I don't like that class because it says nothing other than literally <code>0 = bot</code></p>



<a name="202657469"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202657469" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202657469">(Jul 02 2020 at 07:21)</a>:</h4>
<p>at the very least I want <code>0</code> and <code>bot</code> to have some algebraic meaning</p>



<a name="202657512"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202657512" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202657512">(Jul 02 2020 at 07:22)</a>:</h4>
<p>like it should extend <code>order_bot</code> or something so that you can prove <code>zero_le</code></p>



<a name="202657543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202657543" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202657543">(Jul 02 2020 at 07:22)</a>:</h4>
<p>Also, what about preorders satisfying <code>zero_le</code> but not <code>0 = bot</code>?</p>



<a name="202657738"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202657738" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202657738">(Jul 02 2020 at 07:25)</a>:</h4>
<p>Those are ugly</p>



<a name="202657991"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202657991" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202657991">(Jul 02 2020 at 07:29)</a>:</h4>
<p>With_top int is used in valuations</p>



<a name="202658007"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202658007" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202658007">(Jul 02 2020 at 07:29)</a>:</h4>
<p>But not with_bot int</p>



<a name="202658088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202658088" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202658088">(Jul 02 2020 at 07:30)</a>:</h4>
<p>with_bot int wouldn't be one of these, right?</p>



<a name="202658107"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202658107" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202658107">(Jul 02 2020 at 07:30)</a>:</h4>
<p>This whole thing is so weird. Mathematicians use different kinds of structures with + and *, and different kinds of structures with bot and top</p>



<a name="202658128"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202658128" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202658128">(Jul 02 2020 at 07:31)</a>:</h4>
<p>I think I would rather have this be a <code>zero_le_class</code> that doesn't say anything about bot</p>



<a name="202658134"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202658134" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202658134">(Jul 02 2020 at 07:31)</a>:</h4>
<p>With_bot int has 0 ne bot but it's clearly an ugly class</p>



<a name="202658146"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202658146" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202658146">(Jul 02 2020 at 07:31)</a>:</h4>
<p>You would never need it, you'd instead use eint</p>



<a name="202658202"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202658202" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202658202">(Jul 02 2020 at 07:32)</a>:</h4>
<p>I'm not really sure what the motivation for the question is TBH</p>



<a name="202658203"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202658203" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202658203">(Jul 02 2020 at 07:32)</a>:</h4>
<p>Which also has zero ne bot and is a bit more respectable</p>



<a name="202658252"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202658252" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202658252">(Jul 02 2020 at 07:32)</a>:</h4>
<p>If you think in this kind of way you end up isolating structures such as a group with 0, something which I consider rather a clever insight</p>



<a name="202658285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202658285" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202658285">(Jul 02 2020 at 07:33)</a>:</h4>
<p>group with zero has some respectable axioms though</p>



<a name="202658296"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202658296" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202658296">(Jul 02 2020 at 07:33)</a>:</h4>
<p>this has just one equality</p>



<a name="202658320"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202658320" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202658320">(Jul 02 2020 at 07:33)</a>:</h4>
<p>UFD should be a predicate on monoid with 0</p>



<a name="202658467"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202658467" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202658467">(Jul 02 2020 at 07:35)</a>:</h4>
<p>why with zero? It doesn't talk about zero at all</p>



<a name="202658483"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202658483" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202658483">(Jul 02 2020 at 07:35)</a>:</h4>
<p>Because rings have 0 and you're stuck with them</p>



<a name="202658502"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202658502" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202658502">(Jul 02 2020 at 07:36)</a>:</h4>
<p>"all elements that are not zero-like have a unique factorization"</p>



<a name="202658560"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202658560" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202658560">(Jul 02 2020 at 07:36)</a>:</h4>
<p>Eg nat</p>



<a name="202658587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202658587" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202658587">(Jul 02 2020 at 07:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113488-general/topic/types.20with.200.20.3D.20bot/near/202658202">said</a>:</p>
<blockquote>
<p>I'm not really sure what the motivation for the question is TBH</p>
</blockquote>
<p>See the second post of the thread</p>



<a name="202658850"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202658850" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202658850">(Jul 02 2020 at 07:40)</a>:</h4>
<p>I don't think this is a general class. <code>nat.bot_eq_zero</code> simply calculates the value of <code>bot : nat</code> according to the definition. I would call it <code>nat.bot_eq</code></p>



<a name="202658876"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202658876" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202658876">(Jul 02 2020 at 07:41)</a>:</h4>
<p>This looks more like a definition unfolding simp lemma, and we generally don't make those into classes</p>



<a name="202658945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202658945" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202658945">(Jul 02 2020 at 07:42)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> Let me <a href="https://en.wikipedia.org/wiki/XY_problem">#xy</a> my question: What should the statement of <code>finsupp.has_inf</code> look like?</p>



<a name="202658990"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202658990" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202658990">(Jul 02 2020 at 07:43)</a>:</h4>
<p>well you can state it over a canonically ordered monoid and still cover all your targets</p>



<a name="202659113"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202659113" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202659113">(Jul 02 2020 at 07:45)</a>:</h4>
<p><span class="user-mention" data-user-id="302826">@Aaron Anderson</span> <span aria-label="up" class="emoji emoji-2b06" role="img" title="up">:up:</span></p>



<a name="202659200"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202659200" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202659200">(Jul 02 2020 at 07:46)</a>:</h4>
<p>Actually that class doesn't have an inf</p>



<a name="202659227"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202659227" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202659227">(Jul 02 2020 at 07:47)</a>:</h4>
<p>you could define it, but there is also <code>decidable_linear_ordered_cancel_add_comm_monoid</code> which is not the lub of those classes but is an ub below <code>nat</code></p>



<a name="202716776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202716776" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202716776">(Jul 02 2020 at 17:09)</a>:</h4>
<p>In my code, I just defined the lattice structure on finsupps to nat, because I only really care about finsupps representing factorizations. It occurs to me that it might be nice to be able to define such factorizations with enats, so that we can prime-factorize 0, in which case canonically_ordered_add_monoid would also suffice. Thus I think canonically_ordered_add_monoid would work for all applications I can imagine at the moment</p>



<a name="202717019"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202717019" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202717019">(Jul 02 2020 at 17:11)</a>:</h4>
<p>Actually, no, this won't work right. I need <code>canonically_ordered_add_monoid</code>s that are also (semi-)lattices</p>



<a name="202717042"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202717042" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202717042">(Jul 02 2020 at 17:11)</a>:</h4>
<p>In order to define (semi-)lattice operations</p>



<a name="202717160"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202717160" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202717160">(Jul 02 2020 at 17:12)</a>:</h4>
<p>And the other property I need is zero_le</p>



<a name="202717360"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202717360" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202717360">(Jul 02 2020 at 17:14)</a>:</h4>
<p>Does <code>decidable_linear_ordered_cancel_add_comm_monoid</code> work on <code>enat</code>?</p>



<a name="202717388"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202717388" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202717388">(Jul 02 2020 at 17:14)</a>:</h4>
<p>I guess it's not cancellative</p>



<a name="202717399"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202717399" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202717399">(Jul 02 2020 at 17:14)</a>:</h4>
<p>We really need to rename that class to <code>dlocacm</code></p>



<a name="202717424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202717424" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202717424">(Jul 02 2020 at 17:14)</a>:</h4>
<p>I want to popularize more acronymy</p>



<a name="202717558"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202717558" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202717558">(Jul 02 2020 at 17:15)</a>:</h4>
<p>Acronyms really make the code inscrutable. I think the cost to readability often exceeds any benefit</p>



<a name="202717720"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202717720" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202717720">(Jul 02 2020 at 17:16)</a>:</h4>
<p>Then we should use less words</p>



<a name="202717758"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202717758" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202717758">(Jul 02 2020 at 17:17)</a>:</h4>
<p>I want a character limit on concept names</p>



<a name="202717858"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202717858" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202717858">(Jul 02 2020 at 17:17)</a>:</h4>
<p>something like <code>DLO_cancel_add_comm_monoid</code> would work for me as well</p>



<a name="202717927"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202717927" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202717927">(Jul 02 2020 at 17:18)</a>:</h4>
<p>plus you can put the expansion in the docstring</p>



<a name="202718200"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202718200" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202718200">(Jul 02 2020 at 17:20)</a>:</h4>
<p>So I think if I was in a vacuum, I'd use something like <code>[semilattice_inf_bot] [fact zero_eq_bot]</code> and then feel icky about using fact (<code>[semilattice_inf] [fact zero_le]</code> would work, but such a thing is provably an instance of the other thing already!)</p>



<a name="202718458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202718458" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202718458">(Jul 02 2020 at 17:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113488-general/topic/types.20with.200.20.3D.20bot/near/202717758">said</a>:</p>
<blockquote>
<p>I want a character limit on concept names</p>
</blockquote>
<p>Why? How much do each character cost you?</p>
<p>Because concepts can be phrases, maybe the documentation should treat them as a series of words rather than one huge word.</p>



<a name="202718554"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202718554" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202718554">(Jul 02 2020 at 17:23)</a>:</h4>
<p>I think readability is significantly hampered in theorems like <code>decidable_linear_ordered_cancel_add_comm_monoid.to_decidable_linear_ordered_add_comm_monoid</code></p>



<a name="202718708"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202718708" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202718708">(Jul 02 2020 at 17:24)</a>:</h4>
<p>At a certain point we should say "okay this sequence of words is a unit now, let's acronym and continue"</p>



<a name="202718804"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202718804" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202718804">(Jul 02 2020 at 17:25)</a>:</h4>
<p>that way we can keep recursively acronyming to keep the size bounded</p>



<a name="202719137"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202719137" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202719137">(Jul 02 2020 at 17:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113488-general/topic/types.20with.200.20.3D.20bot/near/202658320">said</a>:</p>
<blockquote>
<p>UFD should be a predicate on monoid with 0</p>
</blockquote>
<p>I have half-baked ideas on this now, which you can see at <a href="https://github.com/leanprover-community/mathlib/blob/freek-70/roadmap/divisibility_lattice.lean">https://github.com/leanprover-community/mathlib/blob/freek-70/roadmap/divisibility_lattice.lean</a> if you want. I think that we could have a series of divisibility typeclasses on monoids, ranging from "reasonably defined dvd" to <code>gcd_domain</code> minus <code>[integral_domain]</code> to <code>UFD</code> minus <code>[integral_domain]</code>.</p>



<a name="202719688"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202719688" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202719688">(Jul 02 2020 at 17:31)</a>:</h4>
<p>In the case of UFD, unfortunately, the only way to unify the case of monoids with zero and without zero that occurs to me is to use a <code>finsupp primes enat</code> definition of factorization, but enats are messy, and the zero and nonzero cases have different ways of reducing to regular nats</p>



<a name="202723400"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202723400" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202723400">(Jul 02 2020 at 17:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="302826">Aaron Anderson</span> <a href="#narrow/stream/113488-general/topic/types.20with.200.20.3D.20bot/near/202718200">said</a>:</p>
<blockquote>
<p>So I think if I was in a vacuum, I'd use something like <code>[semilattice_inf_bot] [fact zero_eq_bot]</code> and then feel icky about using fact (<code>[semilattice_inf] [fact zero_le]</code> would work, but such a thing is provably an instance of the other thing already!)</p>
</blockquote>
<p>Actually,  because <code>[semilattice_inf]</code> has <code>inf_idem</code>, the inf of two finsupps is still a finsupp even without zero_le. It's just that I'd have to use filter or something to define the supports of infs and sups, although I could prove lemmas to simplify those in some cases.</p>



<a name="202723476"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/202723476" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#202723476">(Jul 02 2020 at 18:00)</a>:</h4>
<p>(of course a bot instance still requires zero_le)</p>



<a name="203471800"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/203471800" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#203471800">(Jul 10 2020 at 05:55)</a>:</h4>
<p>I've made some progress at <a href="https://github.com/leanprover-community/mathlib/issues/3335">#3335</a>, but there's still some awkward assumptions where there should be typeclass inference</p>



<a name="203859643"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/203859643" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#203859643">(Jul 14 2020 at 17:07)</a>:</h4>
<p>I think everything I want to do really applies to <code>finsupp</code>s with values in <code>nat</code>, <code>enat</code>, <code>nnreal</code>, or <code>ennreal</code>.</p>



<a name="203859727"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/203859727" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#203859727">(Jul 14 2020 at 17:08)</a>:</h4>
<p>Right, so we need to have a typeclass that applies to all those cases</p>



<a name="203859746"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/203859746" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#203859746">(Jul 14 2020 at 17:08)</a>:</h4>
<p>It would be enough to assume that I'm working with a <code>canonically_ordered_add_monoid</code> which is also compatibly a <code>decidable_linear_order</code></p>



<a name="203859814"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/203859814" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#203859814">(Jul 14 2020 at 17:08)</a>:</h4>
<p>I think this is a job for <code>tactic.pi_instances</code>?</p>



<a name="203860028"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/203860028" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#203860028">(Jul 14 2020 at 17:10)</a>:</h4>
<p>Well... it's not really a pi type</p>



<a name="203860058"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/203860058" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#203860058">(Jul 14 2020 at 17:10)</a>:</h4>
<p>So... I'm not so sure</p>



<a name="203860422"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/203860422" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#203860422">(Jul 14 2020 at 17:14)</a>:</h4>
<p>Well, I'm just wondering what in this file <a href="https://github.com/leanprover-community/mathlib/blob/6c1ae3b/src/order/bounded_lattice.lean#L21">https://github.com/leanprover-community/mathlib/blob/6c1ae3b/src/order/bounded_lattice.lean#L21</a> allows typeclasses like <code>semilattice_inf_bot</code> to extend <code>semilattice_inf</code> and <code>order_bot</code> simultaneously with the same <code>le</code></p>



<a name="203860534"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/203860534" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#203860534">(Jul 14 2020 at 17:15)</a>:</h4>
<p><code>set_option old_structure_cmd true</code></p>



<a name="203860585"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/203860585" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#203860585">(Jul 14 2020 at 17:15)</a>:</h4>
<p>That's the magic bit that makes them share fields that they have in common</p>



<a name="203860733"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/203860733" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#203860733">(Jul 14 2020 at 17:16)</a>:</h4>
<p>Is there a way to do this when you have a lemma that wants to use two typeclass instances that have fields in common, or do you just need to make a new typeclass extending both, with that command?</p>



<a name="203861099"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/203861099" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#203861099">(Jul 14 2020 at 17:19)</a>:</h4>
<p>I think you need a new class</p>



<a name="203861216"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/203861216" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#203861216">(Jul 14 2020 at 17:20)</a>:</h4>
<p>So you mentioned two classes... are they sufficient to prove <code>0 \le x</code> for all <code>x</code>?</p>



<a name="203862729"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/203862729" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#203862729">(Jul 14 2020 at 17:32)</a>:</h4>
<p>Just <code>canonically_ordered_add_monoid</code> is enough for <code>zero_eq_bot</code></p>



<a name="203862800"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/203862800" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#203862800">(Jul 14 2020 at 17:33)</a>:</h4>
<p>So what do you need the DLO for?</p>



<a name="203862840"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/203862840" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#203862840">(Jul 14 2020 at 17:33)</a>:</h4>
<p>Or rather, what is the kind of statement for which you need both?</p>



<a name="203862854"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/203862854" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#203862854">(Jul 14 2020 at 17:33)</a>:</h4>
<p>To show that <code>(inf f g).support</code> is the intersection of <code>f.support</code> and <code>g.support</code></p>



<a name="203862903"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/203862903" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#203862903">(Jul 14 2020 at 17:33)</a>:</h4>
<p>Aha, I see</p>



<a name="203862949"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/203862949" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#203862949">(Jul 14 2020 at 17:34)</a>:</h4>
<p>I need the fact that <code>inf x y = 0</code> iff <code>x = 0 or y = 0</code></p>



<a name="203862983"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/203862983" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#203862983">(Jul 14 2020 at 17:34)</a>:</h4>
<p>I guess we need a linearly canon.ord.add.mon in that case</p>



<a name="203863016"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/203863016" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#203863016">(Jul 14 2020 at 17:34)</a>:</h4>
<p>And if I want to put an instance of <code>canonically_ordered_add_monoid</code> on <code>finsupp</code>, then some things also break, which I'm fairly sure can be fixed under the DLO assumption</p>



<a name="203863091"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/203863091" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#203863091">(Jul 14 2020 at 17:35)</a>:</h4>
<p>I'll make that extra class and try everything out later today. Should the extra class be defined in the same file as <code>canonically_ordered_add_monoid</code>?</p>



<a name="203863097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/types%20with%200%20%3D%20bot/near/203863097" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/types.20with.200.20.3D.20bot.html#203863097">(Jul 14 2020 at 17:35)</a>:</h4>
<p>Ok, so wherever canon.ord.add.mon is defined, you can add another type that is a linear version</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>