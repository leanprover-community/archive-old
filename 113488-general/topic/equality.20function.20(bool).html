---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/equality.20function.20(bool).html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/equality.20function.20(bool).html">equality function (bool)</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="210800199"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/equality%20function%20%28bool%29/near/210800199" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hunter Freyer <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/equality.20function.20(bool).html#210800199">(Sep 21 2020 at 21:08)</a>:</h4>
<p>Hey, this seems pretty basic, but if I have a straightforward inductive datatype, how do I test for equality of two values in a way that returns a boolean? After lots of looking, I finally found that you can use <code>@[derive decidable_eq]</code> to come close, but it still seems like there's a bit of gymnastics to get it to a bool, so I suspect I'm not doing it right.</p>



<a name="210800388"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/equality%20function%20%28bool%29/near/210800388" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/equality.20function.20(bool).html#210800388">(Sep 21 2020 at 21:09)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="bp">@</span><span class="o">[</span><span class="n">derive</span> <span class="n">decidable_eq</span><span class="o">]</span>
<span class="kn">inductive</span> <span class="n">colours</span>
<span class="bp">|</span> <span class="n">red</span>
<span class="bp">|</span> <span class="n">blue</span>
<span class="bp">|</span> <span class="n">green</span>
<span class="bp">#</span><span class="kn">check</span> <span class="n">to_bool</span> <span class="o">(</span><span class="n">colours</span><span class="bp">.</span><span class="n">red</span> <span class="bp">=</span> <span class="n">colours</span><span class="bp">.</span><span class="n">blue</span><span class="o">)</span>
<span class="bp">#</span><span class="kn">eval</span> <span class="n">to_bool</span> <span class="o">(</span><span class="n">colours</span><span class="bp">.</span><span class="n">red</span> <span class="bp">=</span> <span class="n">colours</span><span class="bp">.</span><span class="n">blue</span><span class="o">)</span>
</code></pre></div>



<a name="210800637"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/equality%20function%20%28bool%29/near/210800637" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hunter Freyer <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/equality.20function.20(bool).html#210800637">(Sep 21 2020 at 21:11)</a>:</h4>
<p>yaaaay. It's so obvious when one is told how to do it :P</p>



<a name="210800779"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/equality%20function%20%28bool%29/near/210800779" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hunter Freyer <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/equality.20function.20(bool).html#210800779">(Sep 21 2020 at 21:12)</a>:</h4>
<p>I couldn't find documentation that describes derive, and I'm also struggling to find source for the standard libraries. Like, where does <code>to_bool</code> live?</p>



<a name="210801004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/equality%20function%20%28bool%29/near/210801004" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/equality.20function.20(bool).html#210801004">(Sep 21 2020 at 21:14)</a>:</h4>
<p><code>derive</code> sadly doesn't have good documentation yet (see <a href="https://github.com/leanprover-community/mathlib/issues/3533">#3533</a>). To find the source, VS Code and emacs both should have a "go to definition" feature that you can use.</p>
<p><del>On zulip, we can also do this: <a href="https://leanprover-community.github.io/mathlib_docs/find/to_bool"><a href="https://leanprover-community.github.io/mathlib_docs/find/to_bool">docs#to_bool</a></a> or <a href="https://leanprover-community.github.io/mathlib_docs/find/to_bool/src"><a href="https://leanprover-community.github.io/mathlib_docs/find/to_bool/src">src#to_bool</a></a></del></p>



<a name="210801105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/equality%20function%20%28bool%29/near/210801105" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hunter Freyer <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/equality.20function.20(bool).html#210801105">(Sep 21 2020 at 21:15)</a>:</h4>
<p>womp womp, 404</p>



<a name="210801349"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/equality%20function%20%28bool%29/near/210801349" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/equality.20function.20(bool).html#210801349">(Sep 21 2020 at 21:17)</a>:</h4>
<p>This works: <a href="https://leanprover-community.github.io/mathlib_docs/find/decidable.to_bool">docs#decidable.to_bool</a> / <a href="https://leanprover-community.github.io/mathlib_docs/find/decidable.to_bool/src">src#decidable.to_bool</a></p>



<a name="210801382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/equality%20function%20%28bool%29/near/210801382" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hunter Freyer <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/equality.20function.20(bool).html#210801382">(Sep 21 2020 at 21:17)</a>:</h4>
<p>rad. Thanks for the help!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>