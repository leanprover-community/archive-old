---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/.60suffices.2Fhave.60.20with.20ommited.20proof.20terms.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60suffices.2Fhave.60.20with.20ommited.20proof.20terms.html">`suffices/have` with ommited proof terms</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="237407382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60suffices/have%60%20with%20ommited%20proof%20terms/near/237407382" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60suffices.2Fhave.60.20with.20ommited.20proof.20terms.html#237407382">(May 04 2021 at 22:01)</a>:</h4>
<p>I often end up with goals of the form <code>{to_fun := ⇑h, inj' := _} = h</code> (for example, see <a href="https://github.com/leanprover-community/mathlib/blob/9893fcc1c79f6398858588e5129617c4176350cc/src/data/fintype/card_embedding.lean#L67">here</a>. Is there any way to make <code>suffices</code> and the such like work with them? Because obviously writing <code>suffices : {to_fun := ⇑h, inj' := _} = h</code> won't work; it'll try to make me fill in the gap later (which I don't care for)</p>



<a name="237407847"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60suffices/have%60%20with%20ommited%20proof%20terms/near/237407847" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60suffices.2Fhave.60.20with.20ommited.20proof.20terms.html#237407847">(May 04 2021 at 22:04)</a>:</h4>
<p>(okay, I see there's a simple way here, but the problem stands for more complicated terms)</p>



<a name="237408381"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60suffices/have%60%20with%20ommited%20proof%20terms/near/237408381" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60suffices.2Fhave.60.20with.20ommited.20proof.20terms.html#237408381">(May 04 2021 at 22:08)</a>:</h4>
<p>You might want to try the <code>ext</code> tactic. If your structure has an <code>ext</code> lemma (which it should have, you can even get lean to generate them automatically) then maybe it will make progress</p>



<a name="237408552"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60suffices/have%60%20with%20ommited%20proof%20terms/near/237408552" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60suffices.2Fhave.60.20with.20ommited.20proof.20terms.html#237408552">(May 04 2021 at 22:10)</a>:</h4>
<p>For the equiv in question, it probably can be defined via some <code>equiv.trans</code> of <code>equiv.sum_congr</code>, <code>equiv.sum_compl</code>, etc</p>



<a name="237408624"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60suffices/have%60%20with%20ommited%20proof%20terms/near/237408624" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60suffices.2Fhave.60.20with.20ommited.20proof.20terms.html#237408624">(May 04 2021 at 22:11)</a>:</h4>
<p>Alternatively prove the ext lemma yourself by doing cases on h</p>



<a name="237409008"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60suffices/have%60%20with%20ommited%20proof%20terms/near/237409008" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60suffices.2Fhave.60.20with.20ommited.20proof.20terms.html#237409008">(May 04 2021 at 22:14)</a>:</h4>
<p>It sounds like you're missing a lemma like <a href="https://leanprover-community.github.io/mathlib_docs/find/monoid_hom.mk_coe">docs#monoid_hom.mk_coe</a></p>



<a name="237409047"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60suffices/have%60%20with%20ommited%20proof%20terms/near/237409047" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60suffices.2Fhave.60.20with.20ommited.20proof.20terms.html#237409047">(May 04 2021 at 22:14)</a>:</h4>
<p>What type are you working with here?</p>



<a name="237409114"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60suffices/have%60%20with%20ommited%20proof%20terms/near/237409114" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60suffices.2Fhave.60.20with.20ommited.20proof.20terms.html#237409114">(May 04 2021 at 22:15)</a>:</h4>
<p>I guess you need a <a href="https://leanprover-community.github.io/mathlib_docs/find/function.embedding.mk_coe">docs#function.embedding.mk_coe</a> simp lemma?</p>



<a name="237409309"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60suffices/have%60%20with%20ommited%20proof%20terms/near/237409309" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60suffices.2Fhave.60.20with.20ommited.20proof.20terms.html#237409309">(May 04 2021 at 22:17)</a>:</h4>
<p>Oh the issue isn't how to work around it (the proof I linked is fully working right now), I just wonder if there's some way to tell lean to let me do the <code>suffices/have</code> without having to give it the proof</p>



<a name="237409343"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60suffices/have%60%20with%20ommited%20proof%20terms/near/237409343" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60suffices.2Fhave.60.20with.20ommited.20proof.20terms.html#237409343">(May 04 2021 at 22:17)</a>:</h4>
<p>I guess so Eric, although I remember it working before so not too sure. It's a fairly heavy <code>simp</code> so it may just be stuck</p>



<a name="237409462"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60suffices/have%60%20with%20ommited%20proof%20terms/near/237409462" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60suffices.2Fhave.60.20with.20ommited.20proof.20terms.html#237409462">(May 04 2021 at 22:19)</a>:</h4>
<p><code>suffices : ∀ inj, {to_fun := ⇑h, inj' := inj} = h</code> would solve your problem</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>