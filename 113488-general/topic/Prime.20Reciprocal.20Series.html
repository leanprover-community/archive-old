---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Prime.20Reciprocal.20Series.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Prime.20Reciprocal.20Series.html">Prime Reciprocal Series</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="249857700"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Prime%20Reciprocal%20Series/near/249857700" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Vladimir Goryachev <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Prime.20Reciprocal.20Series.html#249857700">(Aug 18 2021 at 14:29)</a>:</h4>
<p>Hello everyone. Me and my friend have formalized the divergence of prime reciprocal series, theorem 81 from the 100 theorems list. However, the code is really messy, as it was almost the first thing we ever did with Lean. What is the best way to make the proof available?</p>



<a name="249857731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Prime%20Reciprocal%20Series/near/249857731" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Vladimir Goryachev <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Prime.20Reciprocal.20Series.html#249857731">(Aug 18 2021 at 14:29)</a>:</h4>
<p>Also, how are Lean proofs typically licensed, and how should this license be indicated?</p>



<a name="249858114"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Prime%20Reciprocal%20Series/near/249858114" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Prime.20Reciprocal.20Series.html#249858114">(Aug 18 2021 at 14:31)</a>:</h4>
<p>Looks like there's also a PR open: <a href="https://github.com/leanprover-community/mathlib/pull/7274">https://github.com/leanprover-community/mathlib/pull/7274</a></p>



<a name="249858132"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Prime%20Reciprocal%20Series/near/249858132" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Prime.20Reciprocal.20Series.html#249858132">(Aug 18 2021 at 14:31)</a>:</h4>
<p><span class="user-mention" data-user-id="409003">@Vladimir Goryachev</span> Welcome. Note that <a href="https://github.com/leanprover-community/mathlib/issues/7274">#7274</a> is another PR that deals with nr 81 of the 100 thm list.</p>
<p>Concerning sharing your code: is it 1 file, or multiple files? If it is 1 file, you can post it in a github gist. If it's more files, just post a link to the main file (assuming it's somewhere on github).</p>



<a name="249858285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Prime%20Reciprocal%20Series/near/249858285" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Prime.20Reciprocal.20Series.html#249858285">(Aug 18 2021 at 14:32)</a>:</h4>
<p>Concerning license, see any file in mathlib <a href="https://github.com/leanprover-community/mathlib/blob/master/src/field_theory/abel_ruffini.lean#L1L5">https://github.com/leanprover-community/mathlib/blob/master/src/field_theory/abel_ruffini.lean#L1L5</a></p>



<a name="249858716"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Prime%20Reciprocal%20Series/near/249858716" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Vladimir Goryachev <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Prime.20Reciprocal.20Series.html#249858716">(Aug 18 2021 at 14:35)</a>:</h4>
<p>Thank you. But why then does it say that 81 is not yet formalised in Lean <a href="https://leanprover-community.github.io/100-missing.html">https://leanprover-community.github.io/100-missing.html</a> ?</p>



<a name="249859173"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Prime%20Reciprocal%20Series/near/249859173" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Prime.20Reciprocal.20Series.html#249859173">(Aug 18 2021 at 14:38)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/issues/7274">#7274</a> is a dead PR as I see it, the author has been MIA for ever</p>



<a name="249859226"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Prime%20Reciprocal%20Series/near/249859226" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Prime.20Reciprocal.20Series.html#249859226">(Aug 18 2021 at 14:38)</a>:</h4>
<p>and I don't think they wanted to refactor / add more comments</p>



<a name="249859268"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Prime%20Reciprocal%20Series/near/249859268" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Prime.20Reciprocal.20Series.html#249859268">(Aug 18 2021 at 14:38)</a>:</h4>
<p>what proof do you follow Vladimir?</p>



<a name="249859372"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Prime%20Reciprocal%20Series/near/249859372" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Vladimir Goryachev <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Prime.20Reciprocal.20Series.html#249859372">(Aug 18 2021 at 14:39)</a>:</h4>
<p>The proof by Erdos.</p>



<a name="249859530"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Prime%20Reciprocal%20Series/near/249859530" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Prime.20Reciprocal.20Series.html#249859530">(Aug 18 2021 at 14:40)</a>:</h4>
<p>same as the other pr then :) that's cool, can you share your code?</p>



<a name="249860815"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Prime%20Reciprocal%20Series/near/249860815" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Vladimir Goryachev <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Prime.20Reciprocal.20Series.html#249860815">(Aug 18 2021 at 14:49)</a>:</h4>
<p>Well, I am not proficient with github yet, but I'll try : )<br>
<a href="https://gist.github.com/SymmetryUnbroken/d2bee9459764681b8efbed9b3a6dd16f">https://gist.github.com/SymmetryUnbroken/d2bee9459764681b8efbed9b3a6dd16f</a></p>



<a name="249860830"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Prime%20Reciprocal%20Series/near/249860830" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Vladimir Goryachev <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Prime.20Reciprocal.20Series.html#249860830">(Aug 18 2021 at 14:49)</a>:</h4>
<p>Does it work?</p>



<a name="249862764"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Prime%20Reciprocal%20Series/near/249862764" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Prime.20Reciprocal.20Series.html#249862764">(Aug 18 2021 at 15:01)</a>:</h4>
<p>yes, that works. If you change the extension to <code>.lean</code> then you also get syntax highlighting</p>



<a name="249863011"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Prime%20Reciprocal%20Series/near/249863011" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Prime.20Reciprocal.20Series.html#249863011">(Aug 18 2021 at 15:03)</a>:</h4>
<p><span class="user-mention" data-user-id="409003">@Vladimir Goryachev</span> are you interested in contributing to mathlib? If so, can you identify a small chunk of code that you think can be reused outside of this proof?</p>



<a name="249863091"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Prime%20Reciprocal%20Series/near/249863091" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Prime.20Reciprocal.20Series.html#249863091">(Aug 18 2021 at 15:03)</a>:</h4>
<p>If you want to contribute to mathlib, a good first step would be to take such a small piece, and PR it to mathlib first.</p>



<a name="249864453"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Prime%20Reciprocal%20Series/near/249864453" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Vladimir Goryachev <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Prime.20Reciprocal.20Series.html#249864453">(Aug 18 2021 at 15:12)</a>:</h4>
<p>Yes, I am interested in contributing to mathlib.</p>



<a name="249866707"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Prime%20Reciprocal%20Series/near/249866707" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Vladimir Goryachev <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Prime.20Reciprocal.20Series.html#249866707">(Aug 18 2021 at 15:27)</a>:</h4>
<p>As for a chunk of code - I have recursively defined the prime-counting function (a function giving the n-th prime number),  its inverse (number of primes smaller than a given number), proved that they are inverses, that they are monotone, and that the prime-counting function of n is greater than n. Is this in mathlib yet?</p>



<a name="249870249"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Prime%20Reciprocal%20Series/near/249870249" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Prime.20Reciprocal.20Series.html#249870249">(Aug 18 2021 at 15:50)</a>:</h4>
<p>We've got a page with some tips for contributing to mathlib here: <a href="https://leanprover-community.github.io/contribute/index.html">https://leanprover-community.github.io/contribute/index.html</a></p>
<p>I don't think we have the prime-counting function yet.</p>



<a name="249872278"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Prime%20Reciprocal%20Series/near/249872278" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Vladimir Goryachev <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Prime.20Reciprocal.20Series.html#249872278">(Aug 18 2021 at 16:04)</a>:</h4>
<p>Thank you! I'll try to edit the prime-counting part according to the styleguide and make a PR.</p>



<a name="249876142"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Prime%20Reciprocal%20Series/near/249876142" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Vladimir Goryachev <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Prime.20Reciprocal.20Series.html#249876142">(Aug 18 2021 at 16:34)</a>:</h4>
<p>Actually, I've thought about it, and I don't use any properties of primes there (except that there are infinitely many primes), and I should probably make a general counting function (count (f : N -&gt; Prop) (n : N) : N), which, given a property and an index n, returns the n-th natural number having this property. And then define the inverse of this function, and prove their properties. Is it true that those things aren't implemented yet?</p>



<a name="249876395"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Prime%20Reciprocal%20Series/near/249876395" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Prime.20Reciprocal.20Series.html#249876395">(Aug 18 2021 at 16:36)</a>:</h4>
<p>I very much suspect that already exists hidden somewhere, with extra carefulness around computability issues. Maybe Mario knows where that is?</p>



<a name="249876505"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Prime%20Reciprocal%20Series/near/249876505" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Prime.20Reciprocal.20Series.html#249876505">(Aug 18 2021 at 16:37)</a>:</h4>
<p>Another great thing you can do is use <code>encodable</code>. This will allow you to set up an explicit bijection between the naturals and the primes.</p>



<a name="249877407"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Prime%20Reciprocal%20Series/near/249877407" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Vladimir Goryachev <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Prime.20Reciprocal.20Series.html#249877407">(Aug 18 2021 at 16:43)</a>:</h4>
<p>But that would mean using types rather than predicates, right? For example, I would need to use the type of prime numbers, rather than a predicate of being prime.</p>



<a name="249877654"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Prime%20Reciprocal%20Series/near/249877654" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Prime.20Reciprocal.20Series.html#249877654">(Aug 18 2021 at 16:45)</a>:</h4>
<p>Yes. This type is already defined as <code>nat.primes</code>. I don't know whether switching to types is a good idea, but you can definitely try.</p>



<a name="249879306"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Prime%20Reciprocal%20Series/near/249879306" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Vladimir Goryachev <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Prime.20Reciprocal.20Series.html#249879306">(Aug 18 2021 at 16:57)</a>:</h4>
<p>OK. But this still leaves the question if there is a counting function for predicates - I have briefly browsed the mathlib, and haven't found it yet.</p>



<a name="249885248"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Prime%20Reciprocal%20Series/near/249885248" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Prime.20Reciprocal.20Series.html#249885248">(Aug 18 2021 at 17:38)</a>:</h4>
<p>There is <code>nat.find</code>, but no <code>nat.nth_find</code>. Do you want it to take as arguments (1) the predicate, and (2) a proof that there are infinitely many nats that satisfy the predicate?</p>



<a name="249885287"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Prime%20Reciprocal%20Series/near/249885287" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Prime.20Reciprocal.20Series.html#249885287">(Aug 18 2021 at 17:39)</a>:</h4>
<p>I looked through the library, and it doesn't seem to exist yet...</p>



<a name="249888364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Prime%20Reciprocal%20Series/near/249888364" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Prime.20Reciprocal.20Series.html#249888364">(Aug 18 2021 at 18:01)</a>:</h4>
<p>All you need is a proof that there are at least <code>n</code> nats which satisfy the predicate</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>