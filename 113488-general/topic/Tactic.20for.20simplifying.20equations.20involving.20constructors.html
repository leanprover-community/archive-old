---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Tactic.20for.20simplifying.20equations.20involving.20constructors.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Tactic.20for.20simplifying.20equations.20involving.20constructors.html">Tactic for simplifying equations involving constructors</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="197472411"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Tactic%20for%20simplifying%20equations%20involving%20constructors/near/197472411" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jannis Limperg <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Tactic.20for.20simplifying.20equations.20involving.20constructors.html#197472411">(May 13 2020 at 20:23)</a>:</h4>
<p>I'm currently working on a reimplementation of <code>induction</code> in Lean with some additional features. As part of the implementation, I'll need a tactic that simplifies equations involving constructors of inductive types. For instance:</p>
<ul>
<li>For <code>h : x = y</code> where <code>x</code> and <code>y</code> are defeq: clear <code>h</code>.</li>
<li>For <code>h : x = y</code> where <code>x</code> is a variable: substitute <code>h</code> (and similar when <code>y</code> is a variable).</li>
<li>For <code>h : C x1 ... xn = C y1 ... yn</code> where <code>C</code> is a constructor: apply injectivity of <code>C</code>.</li>
<li>For <code>h : C ... = D ...</code> where <code>C</code> and <code>D</code> are different constructors: apply no-confusion.</li>
<li>For <code>h : x == y</code> where the types of <code>x</code> and <code>y</code> are defeq: conclude <code>x = y</code>.</li>
</ul>
<p>Is there already something like this? (This could also be interesting for the <a href="#narrow/stream/113488-general/topic/dcongr">dependent <code>congr</code> discussion</a>.)</p>



<a name="197472985"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Tactic%20for%20simplifying%20equations%20involving%20constructors/near/197472985" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Tactic.20for.20simplifying.20equations.20involving.20constructors.html#197472985">(May 13 2020 at 20:27)</a>:</h4>
<p><code>cases</code></p>



<a name="197473771"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Tactic%20for%20simplifying%20equations%20involving%20constructors/near/197473771" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jannis Limperg <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Tactic.20for.20simplifying.20equations.20involving.20constructors.html#197473771">(May 13 2020 at 20:32)</a>:</h4>
<p>Sure. I'll have to check what exactly <code>cases</code> does in each of these cases. But I probably can't blindly <code>cases</code> on just any equation, right?</p>



<a name="197474338"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Tactic%20for%20simplifying%20equations%20involving%20constructors/near/197474338" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Tactic.20for.20simplifying.20equations.20involving.20constructors.html#197474338">(May 13 2020 at 20:37)</a>:</h4>
<p>it pretty much does all 5 of your requirements</p>



<a name="197474354"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Tactic%20for%20simplifying%20equations%20involving%20constructors/near/197474354" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Tactic.20for.20simplifying.20equations.20involving.20constructors.html#197474354">(May 13 2020 at 20:37)</a>:</h4>
<p><code>cases</code> indeed does most of these things</p>



<a name="197475213"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Tactic%20for%20simplifying%20equations%20involving%20constructors/near/197475213" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jannis Limperg <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Tactic.20for.20simplifying.20equations.20involving.20constructors.html#197475213">(May 13 2020 at 20:44)</a>:</h4>
<p>Okay nice, then I'll just have to scan for hypotheses of these forms. This may be easier than anticipated. Thanks!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>