---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Proving.20for.20Fun.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html">Proving for Fun</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="172011257"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/172011257" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> maximilian p.l. haslbeck <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#172011257">(Jul 30 2019 at 07:05)</a>:</h4>
<p>Dear Lean enthusiasts,</p>
<p>I'd like to advertise to you "Proving for Fun" -- an online platform where you can tackle proving challenges in your favorite proof assistant -- and ask for your help adding Lean as a supported language.</p>
<p><a href="https://competition.isabelle.systems/competitions/contest/11/" target="_blank" title="https://competition.isabelle.systems/competitions/contest/11/">https://competition.isabelle.systems/competitions/contest/11/</a></p>
<p>This month's contest features freshly implemented support for Coq. This means you can now submit your solutions in both Isabelle and Coq. We want to support more ITPs and ACL2 is about to join. The contest is open until 9 August 2019.</p>
<p>Thanks to <span class="user-mention" data-user-id="110294">@Johannes HÃ¶lzl</span>  and <span class="user-mention" data-user-id="198376">@Kevin Kappelmann</span>, we now also have a judging backend for Lean. We have translations for three of the tasks of this month's contest and they are up for your solutions. Please feel free to give feedback on the system and help translating the rest of the tasks; in the latter case please contact me here at zulip or via email (<a href="mailto:haslbema@in.tum.de" title="mailto:haslbema@in.tum.de">haslbema@in.tum.de</a>).</p>
<p>This month's contest also serves as a warmup for the <a href="https://www21.in.tum.de/~wimmers/proofground/" target="_blank" title="https://www21.in.tum.de/~wimmers/proofground/">"Proof Ground" workshop</a>, which<br>
will take place in September alongside the ITP conference in Portland. The goal of the workshop is to bring together researchers from the ITP<br>
community, to discuss and compete in a "proving contest", and it will use the Proving for Fun platform. If you happen to have ideas for<br>
interesting tasks, please consider submitting them following our "Call for Problems".</p>
<p>We believe our problems should be a stimulating fun summer activity! We encourage you to participate and give us feedback on the prototype system.</p>
<p>Happy proving!</p>



<a name="172015176"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/172015176" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#172015176">(Jul 30 2019 at 08:08)</a>:</h4>
<p>Caveat: There is no support for mathlib (yet). Feel free to <a href="https://github.com/maxhaslbeck/proving-contest-backends/tree/master/Lean" target="_blank" title="https://github.com/maxhaslbeck/proving-contest-backends/tree/master/Lean">contribute here</a> if you think that Lean without mathlib <a href="https://en.wikipedia.org/wiki/David_Hilbert#cite_ref-34" target="_blank" title="https://en.wikipedia.org/wiki/David_Hilbert#cite_ref-34">is the same as prohibiting the boxer the use of his fists</a>.</p>



<a name="172069021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/172069021" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#172069021">(Jul 30 2019 at 19:34)</a>:</h4>
<p>Very cool, this is such a great idea! I think the lean system needs some extra checks adding though <span aria-label="rolling on the floor laughing" class="emoji emoji-1f923" role="img" title="rolling on the floor laughing">:rolling_on_the_floor_laughing:</span> <a href="/user_uploads/3121/5HQ8Wy6xfLSaY_CYeGn9Fc9P/Screen-Shot-2019-07-30-at-15.31.26.png" target="_blank" title="Screen-Shot-2019-07-30-at-15.31.26.png">Screen-Shot-2019-07-30-at-15.31.26.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/5HQ8Wy6xfLSaY_CYeGn9Fc9P/Screen-Shot-2019-07-30-at-15.31.26.png" target="_blank" title="Screen-Shot-2019-07-30-at-15.31.26.png"><img src="/user_uploads/3121/5HQ8Wy6xfLSaY_CYeGn9Fc9P/Screen-Shot-2019-07-30-at-15.31.26.png"></a></div>



<a name="172069676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/172069676" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#172069676">(Jul 30 2019 at 19:42)</a>:</h4>
<p>Oh oh, I assume that's a bug in my code and you did not actually break Lean <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span> can you send me the code that made it pass so I can check what's wrong?</p>



<a name="172070094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/172070094" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#172070094">(Jul 30 2019 at 19:48)</a>:</h4>
<p>You are right I didn't break lean fortunately, its a bit cheeky:</p>
<div class="codehilite"><pre><span></span>notation `false` := true

theorem soundness_bug : false := trivial
</pre></div>



<a name="172070426"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/172070426" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#172070426">(Jul 30 2019 at 19:53)</a>:</h4>
<p>hahaha, damn! that's indeed very cheeky <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="172108102"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/172108102" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> maximilian p.l. haslbeck <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#172108102">(Jul 31 2019 at 08:27)</a>:</h4>
<p>hehe, yeah the task is called "Break the System" :), first time we confronted our colleagues with the Isabelle version of that task they came up with lots of ways to trick the system. I already expected that to happen for the first version of the lean judge. For Isabelle we have a blacklist of keywords that may not occur in the submission theory.</p>



<a name="172108115"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/172108115" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> maximilian p.l. haslbeck <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#172108115">(Jul 31 2019 at 08:27)</a>:</h4>
<p>what keywords other than "notation" should be blacklisted for lean?</p>



<a name="172108199"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/172108199" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#172108199">(Jul 31 2019 at 08:29)</a>:</h4>
<p>I paraphrase: "Lean without notation is the same as prohibiting the boxer the use of his fists."</p>



<a name="172108203"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/172108203" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#172108203">(Jul 31 2019 at 08:29)</a>:</h4>
<p>I'm guessing the intended solution to the first problem wasn't 0, 500, 500</p>



<a name="172108460"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/172108460" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> maximilian p.l. haslbeck <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#172108460">(Jul 31 2019 at 08:33)</a>:</h4>
<blockquote>
<p>I'm guessing the intended solution to the first problem wasn't 0, 500, 500</p>
</blockquote>
<p>ah, right, I just updated the Definition of pythagorean_triple, thanks</p>



<a name="172108800"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/172108800" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#172108800">(Jul 31 2019 at 08:38)</a>:</h4>
<p>Now I have to prove <code>375^2 + 200^2 = 425^2</code> without mathlib. Looks like <span class="user-mention" data-user-id="127136">@Alex J. Best</span> used the same trick as me, we both just moved down the leaderboard.</p>



<a name="172108892"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/172108892" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#172108892">(Jul 31 2019 at 08:40)</a>:</h4>
<p>This is called "Proving for <em>Fun</em>" <span aria-label="interrobang" class="emoji emoji-2049" role="img" title="interrobang">:interrobang:</span></p>



<a name="172108915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/172108915" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#172108915">(Jul 31 2019 at 08:40)</a>:</h4>
<p>Â¬mathlib â Â¬calculator</p>



<a name="172108939"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/172108939" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> maximilian p.l. haslbeck <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#172108939">(Jul 31 2019 at 08:41)</a>:</h4>
<p>so, we should add mathlib I guess? which version of it? is there an obvious choice?</p>



<a name="172108952"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/172108952" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#172108952">(Jul 31 2019 at 08:41)</a>:</h4>
<blockquote>
<p>Looks like <span class="user-mention silent" data-user-id="127136">Alex J. Best</span> used the same trick as me, we both just moved down the leaderboard.</p>
</blockquote>
<p>Unfortunately I wasn't that sneaky, but my proof was dependent on the original definition so it still broke <span aria-label="persevere" class="emoji emoji-1f623" role="img" title="persevere">:persevere:</span></p>



<a name="172109281"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/172109281" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#172109281">(Jul 31 2019 at 08:46)</a>:</h4>
<p>Can't you use CI to always give users the latest and greatest?</p>



<a name="172109310"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/172109310" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#172109310">(Jul 31 2019 at 08:47)</a>:</h4>
<p>Otherwise I would pick whatever the <code>lean-3.4.2</code> branch points at right now.</p>



<a name="172109346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/172109346" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#172109346">(Jul 31 2019 at 08:47)</a>:</h4>
<p>I guess for most of these problems the basics of mathlib will suffice.</p>



<a name="172109487"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/172109487" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#172109487">(Jul 31 2019 at 08:49)</a>:</h4>
<p>I think it would be very confusing for users if the mathlib version kept changing. Probably better to pick one and stick with it (for a while at least).</p>



<a name="172109731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/172109731" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#172109731">(Jul 31 2019 at 08:52)</a>:</h4>
<p>The next version of mathlib will ship a <code>fun</code> tactic that solves these exercises for you (-;</p>



<a name="172141176"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/172141176" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> maximilian p.l. haslbeck <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#172141176">(Jul 31 2019 at 16:15)</a>:</h4>
<blockquote>
<p>Â¬mathlib â Â¬calculator</p>
</blockquote>
<p>thanks to <span class="user-mention" data-user-id="198376">@Kevin Kappelmann</span>  mathlib (version 2019-07-31) is now available for the system, Lean version is: 3.4.2</p>



<a name="172141386"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/172141386" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> maximilian p.l. haslbeck <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#172141386">(Jul 31 2019 at 16:18)</a>:</h4>
<p>if anybody is interested in translating the tasks "XOR" and "A funky grammar", please contact me! :) we can provide sample solutions in Isabelle and Coq!</p>



<a name="172141415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/172141415" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#172141415">(Jul 31 2019 at 16:18)</a>:</h4>
<p><a href="https://competition.isabelle.systems/competitions/contest/11/tasks/3/" target="_blank" title="https://competition.isabelle.systems/competitions/contest/11/tasks/3/">XOR</a> and <a href="https://competition.isabelle.systems/competitions/contest/11/tasks/4/" target="_blank" title="https://competition.isabelle.systems/competitions/contest/11/tasks/4/">funky grammar</a>.</p>



<a name="172141481"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/172141481" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#172141481">(Jul 31 2019 at 16:19)</a>:</h4>
<p>They are surprisingly similar ;-)</p>



<a name="172141550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/172141550" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#172141550">(Jul 31 2019 at 16:20)</a>:</h4>
<p>Why can't we just do some collaborative effort here?</p>



<a name="172141598"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/172141598" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#172141598">(Jul 31 2019 at 16:21)</a>:</h4>
<blockquote>
<p>They are surprisingly similar ;-)</p>
</blockquote>
<p>Fixed :')</p>



<a name="172202417"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/172202417" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> maximilian p.l. haslbeck <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#172202417">(Aug 01 2019 at 08:40)</a>:</h4>
<blockquote>
<p>Why can't we just do some collaborative effort here?</p>
</blockquote>
<p>I like the idea, but I can not see how to manage this.  I'm reluctant to publish solutions before the contest ends. so I'd only like to disclose the solutions to someone who wants to do the translation.</p>



<a name="172202468"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/172202468" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#172202468">(Aug 01 2019 at 08:41)</a>:</h4>
<p>Oh gosh I'm sorry, I hadn't internalised that this was still an open competition!</p>



<a name="173023205"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173023205" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> maximilian p.l. haslbeck <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173023205">(Aug 12 2019 at 13:31)</a>:</h4>
<p>The "July 2019" contest at <a href="https://competition.isabelle.systems/" target="_blank" title="https://competition.isabelle.systems/">Proving for Fun</a> is over now.<br>
Congratulations to the winners and thanks to all the participants.<br>
We hope you had some fun solving this month's problems and proving them formally.</p>
<p>We have set up a <a href="https://github.com/maxhaslbeck/ProvingForFun-July2019" target="_blank" title="https://github.com/maxhaslbeck/ProvingForFun-July2019">github repository</a> with a summary of the contest, sample solutions and discussions about the problems. Feel free to participate in commenting any task in its issue and publishing your solution with a pull-request.</p>
<p>We specially want to thank the people who helped making the contest possible by creating the tasks and translating them to their proof assistant: ArmaÃ«l GuÃ©neau, Sebastiaan Joosten, Kevin Kappelmann, Simon Wimmer.</p>
<p>You still can submit your solutions for the tasks of the "July 2019" contest, they are now integrated into the <a href="https://competition.isabelle.systems/competitions/contest/6/" target="_blank" title="https://competition.isabelle.systems/competitions/contest/6/">"All Time" contest</a>.</p>
<p>Tomorrow, Aug 13 at noon (MESZ) we start the "August 2019" contest which will be open until Sep 12 midnight. It also serves as a preparation for the contest happening at <a href="https://www21.in.tum.de/~wimmers/proofground/" target="_blank" title="https://www21.in.tum.de/~wimmers/proofground/">the Proof Ground workshop</a> Sep 13 alongside the ITP conference in Portland.</p>



<a name="173023839"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173023839" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173023839">(Aug 12 2019 at 13:38)</a>:</h4>
<blockquote>
<p>The best Lean user were alexejbest shortly followed by chrishughes24 with 3 solved tasks: both solving two tasks with Lean and tricking our system.</p>
</blockquote>
<p>Ha! Never trust a Lean user ;-)</p>



<a name="173024747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173024747" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173024747">(Aug 12 2019 at 13:49)</a>:</h4>
<p>(pointing out typo which is now fixed)</p>



<a name="173024794"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173024794" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> maximilian p.l. haslbeck <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173024794">(Aug 12 2019 at 13:50)</a>:</h4>
<p>yeah, Aug 13 is correct ^^. thanks for pointing that out.</p>



<a name="173029625"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173029625" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173029625">(Aug 12 2019 at 14:45)</a>:</h4>
<p>Is it still possible to use Lean to solve the problems?</p>



<a name="173029771"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173029771" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173029771">(Aug 12 2019 at 14:47)</a>:</h4>
<p>Yep, all problems will also be available in Lean :)</p>



<a name="173031243"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173031243" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173031243">(Aug 12 2019 at 15:04)</a>:</h4>
<p>Many thanks Kevin! I see you were also involved with translating the previous problems into Lean</p>



<a name="173100602"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173100602" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> maximilian p.l. haslbeck <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173100602">(Aug 13 2019 at 10:04)</a>:</h4>
<p><a href="https://competition.isabelle.systems/competitions/contest/12/" target="_blank" title="https://competition.isabelle.systems/competitions/contest/12/">August 2019 Contest</a> is open for submissions now. Have fun :) !</p>



<a name="173102974"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173102974" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173102974">(Aug 13 2019 at 10:51)</a>:</h4>
<p>...small Lean hiccup at the necklace problem. the check file needs to be corrected (submissions will automatically be re-graded for you) - sorry!</p>



<a name="173105679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173105679" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173105679">(Aug 13 2019 at 11:42)</a>:</h4>
<blockquote>
<p>...small Lean hiccup at the necklace problem. the check file needs to be corrected (submissions will automatically be re-graded for you) - sorry!</p>
</blockquote>
<p>Now fixed - congrats <span class="user-mention" data-user-id="110044">@Chris Hughes</span>  for solving the first problem :)</p>



<a name="173106823"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173106823" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173106823">(Aug 13 2019 at 12:04)</a>:</h4>
<p>Both statements for the second problem in Lean are false.</p>



<a name="173107257"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173107257" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173107257">(Aug 13 2019 at 12:12)</a>:</h4>
<p>Maybe August's contest is supposed to be more challenging.</p>



<a name="173107303"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173107303" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173107303">(Aug 13 2019 at 12:13)</a>:</h4>
<blockquote>
<p>Both statements for the second problem in Lean are false.</p>
</blockquote>
<p>That's not great... <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span>  did you make use of an uninhabited type by chance?</p>



<a name="173107406"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173107406" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173107406">(Aug 13 2019 at 12:15)</a>:</h4>
<p>Yes</p>



<a name="173107434"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173107434" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173107434">(Aug 13 2019 at 12:15)</a>:</h4>
<p>Argh, types in Isabelle are always inhabited, which is why it makes more sense there.</p>



<a name="173107556"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173107556" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173107556">(Aug 13 2019 at 12:17)</a>:</h4>
<p>rofl</p>



<a name="173107631"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173107631" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173107631">(Aug 13 2019 at 12:18)</a>:</h4>
<p>I remember having this conversation with Manuel Eberl in Big Proof 2. I told him "We defined perfectoid spaces in Lean!" and he said "that sounds pretty simple, all you do is make a structure and prove that it's inhabited" and I said "oh gosh we're nowhere near proving that it's inhabited"</p>



<a name="173107659"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173107659" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173107659">(Aug 13 2019 at 12:19)</a>:</h4>
<p>[since then we have proved that the empty space is perfectoid]</p>



<a name="173107757"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173107757" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173107757">(Aug 13 2019 at 12:20)</a>:</h4>
<p>I'll talk with <span class="user-mention" data-user-id="139225">@maximilian p.l. haslbeck</span> and let you know if we change it to inhabited types only or change the task to disprove both. Nice work Chris :')</p>



<a name="173108226"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173108226" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173108226">(Aug 13 2019 at 12:27)</a>:</h4>
<p>You don't actually even need to use uninhabited types to disprove both. <code>prove</code> is false with <code>Î± = Î² = Î³ = bool</code> and <code>disprove</code> is false with <code>Î± = Î² = Î³ = unit</code></p>



<a name="173108843"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173108843" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173108843">(Aug 13 2019 at 12:36)</a>:</h4>
<p>I see, the Isabelle and Coq versions just do <code>Î± = string, Î² = nat, Î³ = Prop</code>, which isn't quite clear from the text. I guess we change it to that in Lean then as well.</p>



<a name="173109690"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173109690" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173109690">(Aug 13 2019 at 12:48)</a>:</h4>
<p>I hope this: <a href="/user_uploads/3121/Galb1aPGQZZUBIssJ_hcksD-/lean_variables.zip" target="_blank" title="lean_variables.zip">lean_variables.zip</a> should make sense now <span class="user-mention" data-user-id="110044">@Chris Hughes</span> (I need to wait for Max to change it online).</p>



<a name="173111657"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173111657" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173111657">(Aug 13 2019 at 13:12)</a>:</h4>
<p>Managed that one<span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="173111893"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173111893" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173111893">(Aug 13 2019 at 13:15)</a>:</h4>
<p>Legend! Sorry for the inconvenience - you are really really helpful! :) Again, your submission will re-run when the definition is fixed online.</p>



<a name="173119420"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173119420" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> maximilian p.l. haslbeck <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173119420">(Aug 13 2019 at 14:42)</a>:</h4>
<blockquote>
<p>Legend! Sorry for the inconvenience - you are really really helpful! :) Again, your submission will re-run when the definition is fixed online.</p>
</blockquote>
<p>done that</p>



<a name="173157816"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173157816" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173157816">(Aug 13 2019 at 22:33)</a>:</h4>
<p>I just submitted a solution which failed because "Illegal keyword "notation"". Are we allowed local notation?</p>



<a name="173158065"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173158065" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173158065">(Aug 13 2019 at 22:36)</a>:</h4>
<p>Yes local should work I think</p>



<a name="173158381"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173158381" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173158381">(Aug 13 2019 at 22:42)</a>:</h4>
<p>That's weird. It's still rejecting it.</p>



<a name="173158400"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173158400" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173158400">(Aug 13 2019 at 22:43)</a>:</h4>
<p>... and I just noticed <code> local notation `|` t `|` := fintype.card t </code> at the beginning of the template file. Doubly weird</p>



<a name="173159197"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173159197" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173159197">(Aug 13 2019 at 22:56)</a>:</h4>
<p><a href="https://github.com/maxhaslbeck/proving-contest-backends/commit/915ab5e7cd1c6a3fd67b4ebc634ad5361b935d5b" target="_blank" title="https://github.com/maxhaslbeck/proving-contest-backends/commit/915ab5e7cd1c6a3fd67b4ebc634ad5361b935d5b">https://github.com/maxhaslbeck/proving-contest-backends/commit/915ab5e7cd1c6a3fd67b4ebc634ad5361b935d5b</a> is where the code was added. Do you see anything in the regex there that explains it?</p>



<a name="173159450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173159450" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173159450">(Aug 13 2019 at 23:00)</a>:</h4>
<p>It looks like the comment mentioning notation is what is tripping it up. I just deleted that comment to check</p>



<a name="173159458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173159458" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173159458">(Aug 13 2019 at 23:00)</a>:</h4>
<p>Yuuup</p>



<a name="173159472"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173159472" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173159472">(Aug 13 2019 at 23:00)</a>:</h4>
<p>The easiest fix would be to delete that comment from the template</p>



<a name="173182864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173182864" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173182864">(Aug 14 2019 at 08:04)</a>:</h4>
<blockquote>
<p>The easiest fix would be to delete that comment from the template</p>
</blockquote>
<p>Thanks, we will remove it! Sorry for the trouble and congrats for being first to solve the problem! :)</p>



<a name="173183133"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173183133" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173183133">(Aug 14 2019 at 08:09)</a>:</h4>
<p>also congrats to <span class="user-mention" data-user-id="127136">@Alex J. Best</span> for breaking the system (again!) <span aria-label="fireworks" class="emoji emoji-1f386" role="img" title="fireworks">:fireworks:</span></p>



<a name="173183486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173183486" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Abhimanyu Pallavi Sudhir <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173183486">(Aug 14 2019 at 08:15)</a>:</h4>
<p><code>set_option pp.notation</code> should be allowed, right?</p>



<a name="173183599"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173183599" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173183599">(Aug 14 2019 at 08:16)</a>:</h4>
<p>You can always delete that before submission without breaking proofs.</p>



<a name="173183931"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173183931" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173183931">(Aug 14 2019 at 08:21)</a>:</h4>
<blockquote>
<p><code>set_option pp.notation</code> should be allowed, right?</p>
</blockquote>
<p>It would be rejected at the moment. You can find the regex we use <a href="https://github.com/maxhaslbeck/proving-contest-backends/commit/915ab5e7cd1c6a3fd67b4ebc634ad5361b935d5b#diff-8e9fe955379580cbe5cef4a9c4eb3c28R33" target="_blank" title="https://github.com/maxhaslbeck/proving-contest-backends/commit/915ab5e7cd1c6a3fd67b4ebc634ad5361b935d5b#diff-8e9fe955379580cbe5cef4a9c4eb3c28R33">here</a>. If someone has suggestions to improve this check (or anything else), let me know :)</p>



<a name="173185070"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173185070" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173185070">(Aug 14 2019 at 08:42)</a>:</h4>
<p>I don't quite understand why checking is done via regex? You could call lean itself at trust level zero to check any proofs. How are things implemented on the back end?</p>



<a name="173185358"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173185358" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Abhimanyu Pallavi Sudhir <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173185358">(Aug 14 2019 at 08:47)</a>:</h4>
<blockquote>
<blockquote>
<p><code>set_option pp.notation</code> should be allowed, right?</p>
</blockquote>
<p>It would be rejected at the moment. You can find the regex we use <a href="https://github.com/maxhaslbeck/proving-contest-backends/commit/915ab5e7cd1c6a3fd67b4ebc634ad5361b935d5b#diff-8e9fe955379580cbe5cef4a9c4eb3c28R33" target="_blank" title="https://github.com/maxhaslbeck/proving-contest-backends/commit/915ab5e7cd1c6a3fd67b4ebc634ad5361b935d5b#diff-8e9fe955379580cbe5cef4a9c4eb3c28R33">here</a>. If someone has suggestions to improve this check (or anything else), let me know :)</p>
</blockquote>
<p>Just change the RegEx to <code>^notation</code>?</p>



<a name="173185512"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173185512" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173185512">(Aug 14 2019 at 08:50)</a>:</h4>
<blockquote>
<p>I don't quite understand why checking is done via regex? You could call lean itself at trust level zero to check any proofs. How are things implemented on the back end?</p>
</blockquote>
<p>The compile/check commands are <a href="https://github.com/maxhaslbeck/proving-contest-backends/blob/master/Lean/grader.py#L59" target="_blank" title="https://github.com/maxhaslbeck/proving-contest-backends/blob/master/Lean/grader.py#L59">here</a>. Setting the trust level to 0 is described as <a href="https://github.com/leanprover/lean/blob/ceacfa7445953cbc8860ddabc55407430a9ca5c3/src/shell/lean.cpp#L194" target="_blank" title="https://github.com/leanprover/lean/blob/ceacfa7445953cbc8860ddabc55407430a9ca5c3/src/shell/lean.cpp#L194">do not trust any macro and type check all imported modules</a>. I do not know what is meant by "macro" in that setting. Also, would that mean that all imported mathlib files are type-checked again?</p>



<a name="173185628"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173185628" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173185628">(Aug 14 2019 at 08:52)</a>:</h4>
<blockquote>
<blockquote>
<blockquote>
<p><code>set_option pp.notation</code> should be allowed, right?</p>
</blockquote>
<p>It would be rejected at the moment. You can find the regex we use <a href="https://github.com/maxhaslbeck/proving-contest-backends/commit/915ab5e7cd1c6a3fd67b4ebc634ad5361b935d5b#diff-8e9fe955379580cbe5cef4a9c4eb3c28R33" target="_blank" title="https://github.com/maxhaslbeck/proving-contest-backends/commit/915ab5e7cd1c6a3fd67b4ebc634ad5361b935d5b#diff-8e9fe955379580cbe5cef4a9c4eb3c28R33">here</a>. If someone has suggestions to improve this check (or anything else), let me know :)</p>
</blockquote>
<p>Just change the RegEx to <code>^notation</code>?</p>
</blockquote>
<p>you could then just add, for example, a whitespace, i.e. <code> notation ... := ...</code>, and it would succeed.</p>



<a name="173185741"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173185741" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Abhimanyu Pallavi Sudhir <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173185741">(Aug 14 2019 at 08:54)</a>:</h4>
<p><code>^\s*notation</code>?</p>



<a name="173185879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173185879" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173185879">(Aug 14 2019 at 08:56)</a>:</h4>
<blockquote>
<blockquote>
<p>I don't quite understand why checking is done via regex? You could call lean itself at trust level zero to check any proofs. How are things implemented on the back end?</p>
</blockquote>
<p>The compile/check commands are <a href="https://github.com/maxhaslbeck/proving-contest-backends/blob/master/Lean/grader.py#L59" target="_blank" title="https://github.com/maxhaslbeck/proving-contest-backends/blob/master/Lean/grader.py#L59">here</a>. Setting the trust level to 0 is described as <a href="https://github.com/leanprover/lean/blob/ceacfa7445953cbc8860ddabc55407430a9ca5c3/src/shell/lean.cpp#L194" target="_blank" title="https://github.com/leanprover/lean/blob/ceacfa7445953cbc8860ddabc55407430a9ca5c3/src/shell/lean.cpp#L194">do not trust any macro and type check all imported modules</a>. I do not know what is meant by "macro" in that setting. Also, would that mean that all imported mathlib files are type-checked again?</p>
</blockquote>
<p>I think yes. The default trust setting is <code>max</code>. This could be changed on the mathlib binaries.</p>



<a name="173186052"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173186052" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173186052">(Aug 14 2019 at 08:59)</a>:</h4>
<blockquote>
<p><code>^\s*notation</code>?</p>
</blockquote>
<p>That just solves the whitespace case. You can also have things like <code>#print "Let's cheat" notation 'false' := true</code></p>



<a name="173186177"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173186177" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173186177">(Aug 14 2019 at 09:01)</a>:</h4>
<blockquote>
<p>I think yes. The default trust setting is <code>max</code>. This could be changed on the mathlib binaries.</p>
</blockquote>
<p>Hmm, I do not know how to tweak the compile process such that mathlib is trusted and the submission file is not. Are there any references where I can learn how to do that?</p>



<a name="173186354"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173186354" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173186354">(Aug 14 2019 at 09:05)</a>:</h4>
<p>I don't think trust 0 gets you anything if you compile the submission yourself anyway. On the other hand, to be completely safe you should probably put the theorem statement in a separate file that doesn't import the submission. Then you can do something like</p>
<div class="codehilite"><pre><span></span>import .statement
import .submission

theorem yesitstrue : _root_.thestatement := theproof
</pre></div>



<a name="173186651"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173186651" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173186651">(Aug 14 2019 at 09:10)</a>:</h4>
<blockquote>
<p>I don't think trust 0 gets you anything if you compile the submission yourself anyway. On the other hand, to be completely safe you should probably put the theorem statement in a separate file that doesn't import the submission. Then you can do something like</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="bp">.</span><span class="n">statement</span>
<span class="kn">import</span> <span class="bp">.</span><span class="n">submission</span>

<span class="kn">theorem</span> <span class="n">yesitstrue</span> <span class="o">:</span> <span class="bp">_</span><span class="n">root_</span><span class="bp">.</span><span class="n">thestatement</span> <span class="o">:=</span> <span class="n">theproof</span>
</pre></div>


</blockquote>
<p>Ah, that's a good idea to solve the notation issue - thanks! :)</p>



<a name="173187551"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173187551" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173187551">(Aug 14 2019 at 09:23)</a>:</h4>
<p>Though I guess someone could still add a notation for <code>_root_.thestatement</code>, haha. So you should beat them to it and define your own notation:<br>
statement.lean</p>
<div class="codehilite"><pre><span></span>def statement := ...
notation `statement` := statement
</pre></div>


<p>check.lean</p>
<div class="codehilite"><pre><span></span>import .statement
import .submission

theorem yesitstrue : statement := theproof
</pre></div>


<p>Now a malicious actor can at most overload <code>statement</code>, which will fail elaboration. At least that's the last trick I can think of.</p>



<a name="173187931"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173187931" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173187931">(Aug 14 2019 at 09:29)</a>:</h4>
<p>Or you could do the test with a metaprogram. Write a tactic that retrieves the declaration named <code>thestatement</code> and check that the type of <code>theproof</code> unifies with the body of that declaration.</p>



<a name="173188047"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173188047" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173188047">(Aug 14 2019 at 09:30)</a>:</h4>
<p>You still have to call the tactic somewhere. There will be at least one identifier exposed to the attacker, so wrapping it in a notation is the best I can come up with</p>



<a name="173188190"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173188190" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173188190">(Aug 14 2019 at 09:33)</a>:</h4>
<p>You can inline the tactic in a <code>run_cmd</code>, no?</p>



<a name="173188275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173188275" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173188275">(Aug 14 2019 at 09:34)</a>:</h4>
<p>Or even define the tactic in <code>statement.lean</code> and just call it with a <code>run_cmd</code> in <code>check.lean</code>.</p>



<a name="173188361"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173188361" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173188361">(Aug 14 2019 at 09:35)</a>:</h4>
<p>Yes, and then I'll shadow your tactic call in check.lean with a notation for <code>tactic.skip</code> in my submission :)</p>



<a name="173188548"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173188548" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173188548">(Aug 14 2019 at 09:39)</a>:</h4>
<p>Ah, yeah, of course.</p>



<a name="173188719"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173188719" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173188719">(Aug 14 2019 at 09:42)</a>:</h4>
<p>I did a low tech version of this for checking homework assignments in my course this spring. It definitely wasn't secure, but I figured if any students learned enough about Lean to trick it, they deserved the points anyway.</p>



<a name="173192248"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173192248" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173192248">(Aug 14 2019 at 10:50)</a>:</h4>
<p>Do you do anything about the trick Gabriel Ebner raised whereby a malicious piece of Lean code can delete all the files on your computer?</p>



<a name="173192255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173192255" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173192255">(Aug 14 2019 at 10:50)</a>:</h4>
<p>I think it was once a Lean issue?</p>



<a name="173192756"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173192756" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173192756">(Aug 14 2019 at 11:00)</a>:</h4>
<p>I remember having that discussion at Big Proof 1. Any programming language can do this, but Lean is kind of special in that code gets executed as soon as you open it in the editor.</p>



<a name="173192758"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173192758" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173192758">(Aug 14 2019 at 11:00)</a>:</h4>
<p><a href="https://github.com/leanprover/lean/issues/1781" target="_blank" title="https://github.com/leanprover/lean/issues/1781">https://github.com/leanprover/lean/issues/1781</a></p>



<a name="173211569"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173211569" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173211569">(Aug 14 2019 at 15:10)</a>:</h4>
<p>The regex looks very fragile to me. I think this is still possible:</p>
<div class="codehilite"><pre><span></span><span class="kn">namespace</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">interactive</span>
<span class="kn">open</span> <span class="n">lean</span><span class="bp">.</span><span class="n">parser</span>
<span class="bp">@</span><span class="o">[</span><span class="n">user_command</span><span class="o">]</span> <span class="n">meta</span> <span class="n">def</span> <span class="n">evil_cmd</span> <span class="o">(</span><span class="bp">_</span> <span class="o">:</span> <span class="n">interactive</span><span class="bp">.</span><span class="n">parse</span> <span class="err">$</span> <span class="n">tk</span> <span class="s2">&quot;evil&quot;</span><span class="o">)</span> <span class="o">:</span> <span class="n">lean</span><span class="bp">.</span><span class="n">parser</span> <span class="n">unit</span> <span class="o">:=</span>
<span class="n">with_input</span> <span class="n">command_like</span> <span class="o">(</span><span class="s2">&quot;nota&quot;</span> <span class="bp">++</span> <span class="s2">&quot;tion `false` := 0 = 0&quot;</span><span class="o">)</span> <span class="bp">&gt;&gt;</span> <span class="n">return</span> <span class="o">()</span>
<span class="kn">end</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">interactive</span>
<span class="n">evil</span>

<span class="kn">theorem</span> <span class="n">contradiction</span> <span class="o">:</span> <span class="n">false</span> <span class="o">:=</span> <span class="n">rfl</span>
</pre></div>



<a name="173212140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173212140" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173212140">(Aug 14 2019 at 15:17)</a>:</h4>
<p>I'd say, just try it out! and if it works, please hide the solution :')</p>



<a name="173214964"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173214964" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173214964">(Aug 14 2019 at 15:46)</a>:</h4>
<p>I had forgotten that we allow whitespace inside tokens... to be honest, there probably is no simpler bullet-proof solution than parsing the export format. If you put the theorem statement in a separate import, you "just" have to check that the type of the exported definition is a constant expression of the statement type's name.</p>



<a name="173215369"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173215369" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173215369">(Aug 14 2019 at 15:50)</a>:</h4>
<p>Yeah maybe that is easier, from my experiments yesterday breaking it (sorry <span class="user-mention" data-user-id="198376">@Kevin Kappelmann</span> ), regex is hard to get perfect and esp. with lean's syntactic complexity ruling out all the edge cases sounds like it might take a little while, maybe the internal format is the way to go.</p>



<a name="173231853"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173231853" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173231853">(Aug 14 2019 at 19:01)</a>:</h4>
<p>I've been also thinking how to make this robust. Maybe this works:<br>
As <span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span> suggested have a separate file <code>statement.lean</code>, which contains the statement, but does <em>not</em> import <code>submission.lean</code>. To make it robust, how about we generate a random name with 16 random letters (different for every time someone submits), and then:</p>
<p>statement.lean</p>
<div class="codehilite"><pre><span></span>def &lt;random_name&gt; := false
</pre></div>


<p>check.lean</p>
<div class="codehilite"><pre><span></span>import .statement .submission

theorem yesitstrue : &lt;random_name&gt; := soundness_bug
</pre></div>


<p>Does anyone know an attack against that?</p>



<a name="173236079"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173236079" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173236079">(Aug 14 2019 at 19:53)</a>:</h4>
<p><code>.submission</code> could have a metaprogram that reads the file <code>statement.lean</code> and tries to parse the name.</p>



<a name="173236572"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173236572" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173236572">(Aug 14 2019 at 19:59)</a>:</h4>
<p>If I understand correctly, in Isabelle, they save the statement context in a local file and then load that file in  <code>.submission</code> - see <a href="https://www21.in.tum.de/~haslbema/documents/Haslbeck_Wimmer-Competitive_Proving_for_Fun.pdf" target="_blank" title="https://www21.in.tum.de/~haslbema/documents/Haslbeck_Wimmer-Competitive_Proving_for_Fun.pdf">here</a> page 4</p>



<a name="173236995"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173236995" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173236995">(Aug 14 2019 at 20:04)</a>:</h4>
<p>This thread should be renamed "cheating for fun"</p>



<a name="173237325"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173237325" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173237325">(Aug 14 2019 at 20:08)</a>:</h4>
<p>Sebastian's proposal seems to be the easiest, most reliant option so far to me.</p>



<a name="173237513"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173237513" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173237513">(Aug 14 2019 at 20:10)</a>:</h4>
<p>btw, we got a Lean <a href="/user_uploads/3121/yv7yXPEzUYoUF4f5UCyv3nd8/pasted_image.png" target="_blank" title="pasted_image.png">winner!</a>  <span aria-label="muscle" class="emoji emoji-1f4aa" role="img" title="muscle">:muscle:</span> congrats <span class="user-mention" data-user-id="110026">@Simon Hudon</span></p>
<div class="message_inline_image"><a href="/user_uploads/3121/yv7yXPEzUYoUF4f5UCyv3nd8/pasted_image.png" target="_blank" title="winner!"><img src="/user_uploads/3121/yv7yXPEzUYoUF4f5UCyv3nd8/pasted_image.png"></a></div>



<a name="173237599"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173237599" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173237599">(Aug 14 2019 at 20:11)</a>:</h4>
<p>Thanks :)</p>



<a name="173407967"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173407967" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173407967">(Aug 16 2019 at 21:12)</a>:</h4>
<p>I want to PR the lemmas I used in these exercises to mathlib, but I also don't want to give hints to other provers... I guess I'll wait till mid-September.</p>



<a name="173408959"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173408959" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173408959">(Aug 16 2019 at 21:29)</a>:</h4>
<p>You can try giving the proof <code>by trust_me</code></p>



<a name="173418122"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173418122" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173418122">(Aug 17 2019 at 00:32)</a>:</h4>
<p>(deleted - that moment when "Reply" doesn't reply to the bottom message in your stream :P)</p>



<a name="173467143"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173467143" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Michael Roberts <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173467143">(Aug 18 2019 at 02:15)</a>:</h4>
<blockquote>
<p>[since then we have proved that the empty space is perfectoid]</p>
</blockquote>
<p>What's the terminal perfectoid space, if there is one? Some analogue of Spec(Z)?</p>



<a name="173488826"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/173488826" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#173488826">(Aug 18 2019 at 14:18)</a>:</h4>
<p>There won't be one. There are perfectoid fields of char 0 and perfectoid fields of char p, maybe there is some weird pathological object. But it's not the right question. People work with perfectoid spaces over a fixed perfectoid field and over that field you just look at the affinoid space attached to that field. The problem is that we have no examples of perfectoid fields yet even though they're do-able -- we just need more algebra and field theory in Lean and more people</p>



<a name="174042328"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/174042328" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#174042328">(Aug 24 2019 at 15:03)</a>:</h4>
<p><span class="user-mention" data-user-id="130272">@David Michael Roberts</span> I think that nowadays the answer is: perfectoid spaces embed into the category of diamonds. And there is no terminal diamond, which is a <em>feature</em>. Because now you can look at <code>Spa Q_p Ã Spa Q_p</code> and it will not be <code>Spa Q_p</code>. (Philosophically, this means that we now think that we know how to take p-adic fibre products over <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="double-struck">F</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\mathbb{F}_1</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83889em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">F</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>.)</p>



<a name="174960996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/174960996" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#174960996">(Sep 05 2019 at 10:25)</a>:</h4>
<p>Given the following file <code>test.lean</code></p>
<div class="codehilite"><pre><span></span><span class="kn">axiom</span> <span class="err">Â«</span><span class="n">quot</span><span class="bp">.</span><span class="n">sound</span> <span class="o">:</span> <span class="n">a</span><span class="err">Â»</span> <span class="o">:</span> <span class="n">false</span>
<span class="kn">theorem</span> <span class="n">broken</span> <span class="o">:</span> <span class="n">false</span> <span class="o">:=</span> <span class="err">Â«</span><span class="n">quot</span><span class="bp">.</span><span class="n">sound</span> <span class="o">:</span> <span class="n">a</span><span class="err">Â»</span>
</pre></div>


<p>When I run </p>
<div class="codehilite"><pre><span></span>lean test.lean -E check.out --json --only-export<span class="o">=</span>broken
leanchecker check.out broken
</pre></div>


<p>the output of leanchecker is</p>
<div class="codehilite"><pre><span></span><span class="kn">axiom</span> <span class="n">quot</span><span class="bp">.</span><span class="n">sound</span> <span class="o">:</span> <span class="n">false</span>
<span class="kn">theorem</span> <span class="n">broken</span> <span class="o">:</span> <span class="n">false</span>
<span class="n">checked</span> <span class="mi">12</span> <span class="n">declarations</span>
</pre></div>


<p>I would have expected to have the first line say something like <code>axiom Â«quot.sound : aÂ» : false</code>. Is this a bug or working as expected? <span class="user-mention" data-user-id="127136">@Alex J. Best</span> came across this while checking the <a href="https://github.com/maxhaslbeck/proving-contest-backends/pull/24" target="_blank" title="https://github.com/maxhaslbeck/proving-contest-backends/pull/24">fix I committed</a> for the proving for fun competition. We are detecting non-built-in axioms, e.g. everything besides  <code>propext, classical.choice, quot.sound</code>, by parsing the output of leanchecker. In this case, we would not be able to detect any cheat.</p>



<a name="174961516"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/174961516" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#174961516">(Sep 05 2019 at 10:36)</a>:</h4>
<p>Now I'm even more convinced that you should parse the export file yourself :)</p>



<a name="174978509"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/174978509" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#174978509">(Sep 05 2019 at 14:25)</a>:</h4>
<p>Maybe one alternative is to use <a href="https://github.com/gebner/trepplein" target="_blank" title="https://github.com/gebner/trepplein">https://github.com/gebner/trepplein</a> I just tried it and with <code>--print-all-decls</code> I see <code>axiom quot.sound : a : false</code> for the above example.</p>



<a name="174978543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/174978543" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#174978543">(Sep 05 2019 at 14:25)</a>:</h4>
<p>Or better yet, run both!</p>



<a name="174979489"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/174979489" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Keeley Hoek <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#174979489">(Sep 05 2019 at 14:34)</a>:</h4>
<p>right, and then you could just prohibit the declaration of any extra axioms?</p>



<a name="174979578"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/174979578" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#174979578">(Sep 05 2019 at 14:35)</a>:</h4>
<p>Yes, trepplein helpfully prints <code>/- builtin -/</code> before any builtin axioms so that seems easier in this case.</p>



<a name="174988496"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/174988496" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#174988496">(Sep 05 2019 at 16:02)</a>:</h4>
<p>I had a brief look at trepplein, but I do not want to install scalar, sbt, etc. as well when setting up the backend (installing trepplein actually failed for me at first because there is a <a href="https://github.com/scala/bug/issues/11022" target="_blank" title="https://github.com/scala/bug/issues/11022">bug with JDK10 and optimisations</a>). I just <a href="https://github.com/maxhaslbeck/proving-contest-backends/pull/24/files#diff-92026de5ad0a0ca81520415224ed2d80R20" target="_blank" title="https://github.com/maxhaslbeck/proving-contest-backends/pull/24/files#diff-92026de5ad0a0ca81520415224ed2d80R20">included the type of the axiom in the check</a> for now</p>



<a name="174989246"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/174989246" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#174989246">(Sep 05 2019 at 16:10)</a>:</h4>
<p>Thanks for all the help, that is breaking my code multiple times <span class="user-mention" data-user-id="127136">@Alex J. Best</span></p>



<a name="174989531"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/174989531" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#174989531">(Sep 05 2019 at 16:13)</a>:</h4>
<p>Thanks for putting up with me! It looks pretty robust now.</p>



<a name="175472439"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175472439" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175472439">(Sep 11 2019 at 20:24)</a>:</h4>
<p>Hey what is happening with Proving for Fun this month? The current competition is about to end. Will the new one support Lean? <span class="user-mention" data-user-id="198376">@Kevin Kappelmann</span> do you know about this stuff?</p>



<a name="175472513"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175472513" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175472513">(Sep 11 2019 at 20:25)</a>:</h4>
<p>I've been trying the August 2019 problems and some are infuriating.</p>



<a name="175478013"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175478013" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175478013">(Sep 11 2019 at 21:29)</a>:</h4>
<p>Am I allowed to import stuff which isn't imported yet? I don't have <code>use</code> in the PCP problem.</p>



<a name="175480868"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175480868" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175480868">(Sep 11 2019 at 22:11)</a>:</h4>
<p>Yes you should be able to import anything from mathlib</p>



<a name="175487480"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175487480" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175487480">(Sep 12 2019 at 00:05)</a>:</h4>
<p>do solutions for these problem get released at the end of the month? I'm interested in comparing across provers</p>



<a name="175488711"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175488711" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175488711">(Sep 12 2019 at 00:29)</a>:</h4>
<p>Yes: see <a href="https://github.com/maxhaslbeck/ProvingForFun-July2019" target="_blank" title="https://github.com/maxhaslbeck/ProvingForFun-July2019">https://github.com/maxhaslbeck/ProvingForFun-July2019</a> for July's. Also there is another solution in the "issues" tab there that is not saved as a file.</p>



<a name="175488800"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175488800" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175488800">(Sep 12 2019 at 00:30)</a>:</h4>
<p>There are no lean ones on there yet though, just one of <span class="user-mention" data-user-id="110044">@Chris Hughes</span> on the issues page</p>



<a name="175497738"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175497738" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175497738">(Sep 12 2019 at 04:20)</a>:</h4>
<p>Maybe this will change on Saturday :-)</p>



<a name="175508228"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175508228" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175508228">(Sep 12 2019 at 08:15)</a>:</h4>
<blockquote>
<p>Hey what is happening with Proving for Fun this month? The current competition is about to end. Will the new one support Lean? <span class="user-mention silent" data-user-id="198376">Kevin Kappelmann</span> do you know about this stuff?</p>
</blockquote>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> There is in fact a <a href="https://www21.in.tum.de/~wimmers/proofground/" target="_blank" title="https://www21.in.tum.de/~wimmers/proofground/">whole workshop including a new competition tomorrow at ITP</a>. You can again solve all problems in Lean, Isabelle, or Coq. Moreover, you can discuss, for example, how to organise, improve, and make use of proving contests to help spark interest for the ITP community at the workshop :) (I'm sadly not at ITP, but <span class="user-mention" data-user-id="139225">@maximilian p.l. haslbeck</span> will be)</p>



<a name="175508364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175508364" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175508364">(Sep 12 2019 at 08:18)</a>:</h4>
<blockquote>
<p>do solutions for these problem get released at the end of the month? I'm interested in comparing across provers</p>
</blockquote>
<p>Yes, solutions will be released at the end of the month. If <span class="user-mention" data-user-id="110044">@Chris Hughes</span> does not mind, I can provide his Lean solutions in the July repository. At the end of the August competition, I suppose that Max will create a similar repository including sample solutions.</p>



<a name="175508535"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175508535" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175508535">(Sep 12 2019 at 08:20)</a>:</h4>
<p>I don't mind. They're not necessarily particularly elegant solutions.</p>



<a name="175510225"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175510225" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175510225">(Sep 12 2019 at 08:48)</a>:</h4>
<blockquote>
<p>Yes: see <a href="https://github.com/maxhaslbeck/ProvingForFun-July2019" target="_blank" title="https://github.com/maxhaslbeck/ProvingForFun-July2019">https://github.com/maxhaslbeck/ProvingForFun-July2019</a> for July's. Also there is another solution in the "issues" tab there that is not saved as a file.</p>
</blockquote>
<p>I uploaded the solutions for the two problems that were formalised in Lean now; they are quite simple though. The ones for August gonna be more interesting.</p>



<a name="175580574"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175580574" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175580574">(Sep 12 2019 at 23:27)</a>:</h4>
<p>I just finished PCP but looks like I missed the deadline :D I got caught out by the fact that I'm not in the right time zone ;-)</p>



<a name="175581108"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175581108" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175581108">(Sep 12 2019 at 23:37)</a>:</h4>
<p>Thank you for uploading the solutions. I feel like having a collection of worked examples in multiple languages is very educational. Maybe we need a Rosetta Code for theorem proving... <a href="http://rosettacode.org" target="_blank" title="http://rosettacode.org">http://rosettacode.org</a></p>



<a name="175581301"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175581301" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175581301">(Sep 12 2019 at 23:41)</a>:</h4>
<p>Sort of like Freek's 100 problems list but more general</p>



<a name="175581378"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175581378" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175581378">(Sep 12 2019 at 23:43)</a>:</h4>
<p>Thanks for adding the Lean formalisations of the July questions! Can I somehow upload my solution to PCP (August) even though the deadline is passed? Or have I missed my chance?</p>



<a name="175581541"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175581541" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175581541">(Sep 12 2019 at 23:46)</a>:</h4>
<p>By the way, when I download the zip files, I always have to rename the names of the Lean files, e.g. from <code>Defs.lean</code> to <code>defs.lean</code> (or else the import fails). I'm on Ubuntu.</p>



<a name="175596141"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175596141" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> maximilian p.l. haslbeck <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175596141">(Sep 13 2019 at 05:44)</a>:</h4>
<blockquote>
<p>I just finished PCP but looks like I missed the deadline :D I got caught out by the fact that I'm not in the right time zone ;-)</p>
</blockquote>
<p>The PCP task is now in the <a href="https://competition.isabelle.systems/competitions/contest/6/" target="_blank" title="https://competition.isabelle.systems/competitions/contest/6/">"Alltime Contest"</a>, fell free to submit your solution there.</p>



<a name="175606954"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175606954" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175606954">(Sep 13 2019 at 09:18)</a>:</h4>
<blockquote>
<p>By the way, when I download the zip files, I always have to rename the names of the Lean files, e.g. from <code>Defs.lean</code> to <code>defs.lean</code> (or else the import fails). I'm on Ubuntu.</p>
</blockquote>
<p>That's very true and inconvenient - I created an <a href="https://github.com/maxhaslbeck/proving-contest-backends/issues/25" target="_blank" title="https://github.com/maxhaslbeck/proving-contest-backends/issues/25">issue on GitHub</a></p>



<a name="175637358"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175637358" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> maximilian p.l. haslbeck <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175637358">(Sep 13 2019 at 15:52)</a>:</h4>
<p>Today we will have the <a href="https://www21.in.tum.de/~wimmers/proofground/" target="_blank" title="https://www21.in.tum.de/~wimmers/proofground/">Proof Ground</a> workshop here in Portland. We will have two contests, one before lunch (10:30 - 12:30 (PDT)) and one after lunch (14:00 - 15:30 (PDT)). Feel free to participate from anywhere on earth and have fun by solving and mechanizing the tasks :).</p>



<a name="175646479"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175646479" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> maximilian p.l. haslbeck <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175646479">(Sep 13 2019 at 17:31)</a>:</h4>
<p>The morning session is starting now. You can see the problems here and submit solutions: <a href="https://competition.isabelle.systems/competitions/contest/13/" target="_blank" title="https://competition.isabelle.systems/competitions/contest/13/">https://competition.isabelle.systems/competitions/contest/13/</a></p>



<a name="175664979"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175664979" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> maximilian p.l. haslbeck <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175664979">(Sep 13 2019 at 21:18)</a>:</h4>
<p>The afternoon session has started.  <a href="https://competition.isabelle.systems/competitions/contest/14/" target="_blank" title="https://competition.isabelle.systems/competitions/contest/14/">https://competition.isabelle.systems/competitions/contest/14/</a></p>



<a name="175675039"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175675039" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175675039">(Sep 14 2019 at 00:13)</a>:</h4>
<p>Looks like sledgehammer_squad completed every problem! How much of their proofs was via <code>sledgehammer</code> as opposed to human reasoning?</p>



<a name="175675175"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175675175" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175675175">(Sep 14 2019 at 00:16)</a>:</h4>
<p>They were clever in how they broke down the problem between the two of them and sledgehammer allowed them to skirt detailed proofs</p>



<a name="175675388"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175675388" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175675388">(Sep 14 2019 at 00:20)</a>:</h4>
<p>Do you know which part of sledgehammer was the most effective?</p>



<a name="175675413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175675413" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175675413">(Sep 14 2019 at 00:21)</a>:</h4>
<p>as in was their a particular solver it called out to that solved most of their intermediate lemmas</p>



<a name="175675686"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175675686" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175675686">(Sep 14 2019 at 00:28)</a>:</h4>
<p>What the business with </p>
<div class="codehilite"><pre><span></span>-- the goal used in submission
notation `GOAL` :=
</pre></div>


<p>in the Lean template. Am I meant to be confused by this?</p>



<a name="175675792"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175675792" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Manuel Eberl <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175675792">(Sep 14 2019 at 00:31)</a>:</h4>
<p>I can tell you that I at least didn't use sledgehammer very much. Occasionally when I was too lazy to figure out what lemmas I need for some obvious fact. But I don't use it that much because it breaks my flow if I have to wait for it to finish.</p>



<a name="175675841"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175675841" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Manuel Eberl <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175675841">(Sep 14 2019 at 00:32)</a>:</h4>
<p>We only worked on one problem in parallel, and there sledgehammer did probably save us a few minutes because it made the "integration" of my lemmas and Peter's proof that wanted to use them easier.</p>



<a name="175675926"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175675926" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Manuel Eberl <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175675926">(Sep 14 2019 at 00:34)</a>:</h4>
<p>In any case, the difficult part is figuring out what auxiliary lemmas you need, what kind of induction pattern to use, and then you sometimes have to do ugly case distinctions. Sledgehammer doesn't help with any of that. So the role of sledgehammer in our work today really shouldn't be overestimated.</p>



<a name="175676156"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175676156" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175676156">(Sep 14 2019 at 00:40)</a>:</h4>
<p>Thanks for chiming in <span class="user-mention" data-user-id="233634">@Manuel Eberl</span>. It is quite impressive what a head start you two had. Any idea what was most determinant in your performance?</p>



<a name="175676279"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175676279" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175676279">(Sep 14 2019 at 00:44)</a>:</h4>
<p>oh - is it weird that I'm actually a little disappointed? I was hoping there was going to be "that one secret tactic that computer scientists don't want you to know about" that would solve my proofs. But, like always, the solution is: think really hard and be a smarter human, which is difficult work as you know, haha</p>



<a name="175676401"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175676401" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Manuel Eberl <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175676401">(Sep 14 2019 at 00:48)</a>:</h4>
<blockquote>
<p>Thanks for chiming in <span class="user-mention silent" data-user-id="233634">Manuel Eberl</span>. It is quite impressive what a head start you two had. Any idea what was most determinant in your performance?</p>
</blockquote>
<p>Hard to say. The automation probably helped a lot. Also I have 8 years of experience with the system, and Peter even more.</p>



<a name="175676423"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175676423" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Manuel Eberl <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175676423">(Sep 14 2019 at 00:49)</a>:</h4>
<p>I think the real question is: What obstacles did the other teams encounter?</p>



<a name="175676478"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175676478" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Manuel Eberl <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175676478">(Sep 14 2019 at 00:50)</a>:</h4>
<p>The grammar problem and the "fold" one were a bit tricky, but the others were fairly straightforward. So I think the best strategy is to figure out where the other teams go stuck with those simple problems and why.</p>



<a name="175676512"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175676512" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Manuel Eberl <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175676512">(Sep 14 2019 at 00:51)</a>:</h4>
<p>Floris's team was only a few minutes behind us in the first session. I'll ask him what the problem was in the second session. I'm curious myself.</p>



<a name="175680527"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175680527" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175680527">(Sep 14 2019 at 02:54)</a>:</h4>
<p>Speaking for Floris' team, in the second round, we didn't split the workload smartly and when we got stuck we didn't switch problems. Some simple ideas also escaped us.</p>



<a name="175691609"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175691609" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175691609">(Sep 14 2019 at 09:01)</a>:</h4>
<p><span class="user-mention" data-user-id="111080">@Floris van Doorn</span> Here's the "slick" proof I was thinking of for the balanced words challenge:</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">list</span><span class="bp">.</span><span class="n">basic</span> <span class="n">data</span><span class="bp">.</span><span class="n">nat</span><span class="bp">.</span><span class="n">basic</span>

<span class="kn">inductive</span> <span class="n">balanced</span> <span class="o">:</span> <span class="n">list</span> <span class="n">bool</span> <span class="bp">â</span> <span class="kt">Prop</span>
<span class="bp">|</span> <span class="n">empty</span> <span class="o">:</span> <span class="n">balanced</span> <span class="o">[]</span>
<span class="bp">|</span> <span class="n">app</span> <span class="o">{</span><span class="n">x</span> <span class="n">y</span><span class="o">}</span> <span class="o">:</span> <span class="n">balanced</span> <span class="n">x</span> <span class="bp">â</span> <span class="n">balanced</span> <span class="n">y</span> <span class="bp">â</span> <span class="n">balanced</span> <span class="o">(</span><span class="n">x</span> <span class="bp">++</span> <span class="n">y</span><span class="o">)</span>
<span class="bp">|</span> <span class="n">tf</span> <span class="o">{</span><span class="n">l</span><span class="o">}</span> <span class="o">:</span> <span class="n">balanced</span> <span class="n">l</span> <span class="bp">â</span> <span class="n">balanced</span> <span class="o">(</span><span class="n">tt</span> <span class="bp">::</span> <span class="n">l</span> <span class="bp">++</span> <span class="o">[</span><span class="n">ff</span><span class="o">])</span>
<span class="bp">|</span> <span class="n">ft</span> <span class="o">{</span><span class="n">l</span><span class="o">}</span> <span class="o">:</span> <span class="n">balanced</span> <span class="n">l</span> <span class="bp">â</span> <span class="n">balanced</span> <span class="o">(</span><span class="n">ff</span> <span class="bp">::</span> <span class="n">l</span> <span class="bp">++</span> <span class="o">[</span><span class="n">tt</span><span class="o">])</span>

<span class="kn">theorem</span> <span class="n">balanced</span><span class="bp">.</span><span class="n">mk&#39;</span> <span class="o">:</span> <span class="bp">â</span> <span class="n">b</span> <span class="o">{</span><span class="n">l</span><span class="o">},</span> <span class="n">balanced</span> <span class="n">l</span> <span class="bp">â</span> <span class="n">balanced</span> <span class="o">(</span><span class="n">bnot</span> <span class="n">b</span> <span class="bp">::</span> <span class="n">l</span> <span class="bp">++</span> <span class="o">[</span><span class="n">b</span><span class="o">])</span>
<span class="bp">|</span> <span class="n">tt</span> <span class="bp">_</span> <span class="o">:=</span> <span class="n">balanced</span><span class="bp">.</span><span class="n">ft</span>
<span class="bp">|</span> <span class="n">ff</span> <span class="bp">_</span> <span class="o">:=</span> <span class="n">balanced</span><span class="bp">.</span><span class="n">tf</span>

<span class="kn">inductive</span> <span class="n">unbalanced</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="n">bool</span><span class="o">)</span> <span class="o">:</span> <span class="n">list</span> <span class="n">bool</span> <span class="bp">â</span> <span class="bp">â</span> <span class="bp">â</span> <span class="kt">Prop</span>
<span class="bp">|</span> <span class="n">bal</span> <span class="o">{}</span> <span class="o">{</span><span class="n">lâ</span> <span class="n">lâ</span><span class="o">}</span> <span class="o">:</span> <span class="n">balanced</span> <span class="n">lâ</span> <span class="bp">â</span> <span class="n">balanced</span> <span class="n">lâ</span> <span class="bp">â</span> <span class="n">unbalanced</span> <span class="o">(</span><span class="n">lâ</span> <span class="bp">++</span> <span class="n">b</span> <span class="bp">::</span> <span class="n">lâ</span><span class="o">)</span> <span class="mi">0</span>
<span class="bp">|</span> <span class="n">up</span> <span class="o">{}</span> <span class="o">{</span><span class="n">lâ</span> <span class="n">lâ</span> <span class="n">n</span><span class="o">}</span> <span class="o">:</span> <span class="n">balanced</span> <span class="n">lâ</span> <span class="bp">â</span> <span class="n">unbalanced</span> <span class="n">lâ</span> <span class="n">n</span> <span class="bp">â</span> <span class="n">unbalanced</span> <span class="o">(</span><span class="n">lâ</span> <span class="bp">++</span> <span class="n">b</span> <span class="bp">::</span> <span class="n">lâ</span><span class="o">)</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span>

<span class="kn">theorem</span> <span class="n">unbalanced</span><span class="bp">.</span><span class="n">app</span> <span class="o">{</span><span class="n">b</span> <span class="n">lâ</span> <span class="n">lâ</span> <span class="n">n</span><span class="o">}</span> <span class="o">(</span><span class="n">hâ</span> <span class="o">:</span> <span class="n">balanced</span> <span class="n">lâ</span><span class="o">)</span> <span class="o">(</span><span class="n">hâ</span> <span class="o">:</span> <span class="n">unbalanced</span> <span class="n">b</span> <span class="n">lâ</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">unbalanced</span> <span class="n">b</span> <span class="o">(</span><span class="n">lâ</span> <span class="bp">++</span> <span class="n">lâ</span><span class="o">)</span> <span class="n">n</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">induction</span> <span class="n">hâ</span> <span class="k">with</span> <span class="n">lâ</span> <span class="n">lâ</span> <span class="n">hâ</span> <span class="n">hâ</span> <span class="n">lâ</span> <span class="n">lâ</span> <span class="n">n</span> <span class="n">hâ</span> <span class="n">hâ</span> <span class="n">IH</span><span class="bp">;</span> <span class="n">rw</span> <span class="err">â</span> <span class="n">list</span><span class="bp">.</span><span class="n">append_assoc</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">exact</span> <span class="n">unbalanced</span><span class="bp">.</span><span class="n">bal</span> <span class="o">(</span><span class="n">hâ</span><span class="bp">.</span><span class="n">app</span> <span class="n">hâ</span><span class="o">)</span> <span class="n">hâ</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">exact</span> <span class="n">unbalanced</span><span class="bp">.</span><span class="n">up</span> <span class="o">(</span><span class="n">hâ</span><span class="bp">.</span><span class="n">app</span> <span class="n">hâ</span><span class="o">)</span> <span class="n">hâ</span> <span class="o">}</span>
<span class="kn">end</span>

<span class="kn">inductive</span> <span class="n">tipsy</span> <span class="o">(</span><span class="n">l</span> <span class="o">:</span> <span class="n">list</span> <span class="n">bool</span><span class="o">)</span> <span class="o">:</span> <span class="bp">â</span> <span class="bp">â</span> <span class="bp">â</span> <span class="bp">â</span> <span class="kt">Prop</span>
<span class="bp">|</span> <span class="n">left</span> <span class="o">(</span><span class="n">m</span> <span class="n">k</span><span class="o">)</span> <span class="o">:</span> <span class="n">unbalanced</span> <span class="n">tt</span> <span class="n">l</span> <span class="n">k</span> <span class="bp">â</span> <span class="n">tipsy</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">succ</span> <span class="n">m</span>
<span class="bp">|</span> <span class="n">right</span> <span class="o">(</span><span class="n">m</span> <span class="n">k</span><span class="o">)</span> <span class="o">:</span> <span class="n">unbalanced</span> <span class="n">ff</span> <span class="n">l</span> <span class="n">k</span> <span class="bp">â</span> <span class="n">tipsy</span> <span class="n">m</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">succ</span>
<span class="bp">|</span> <span class="n">bal</span> <span class="o">{</span><span class="n">m</span><span class="o">}</span> <span class="o">:</span> <span class="n">balanced</span> <span class="n">l</span> <span class="bp">â</span> <span class="n">tipsy</span> <span class="n">m</span> <span class="n">m</span>

<span class="kn">theorem</span> <span class="n">lem1</span> <span class="o">:</span> <span class="bp">â</span> <span class="o">{</span><span class="n">l</span> <span class="n">m</span> <span class="n">n</span><span class="o">},</span> <span class="n">m</span> <span class="bp">=</span> <span class="n">n</span> <span class="bp">â</span> <span class="n">tipsy</span> <span class="n">l</span> <span class="n">m</span> <span class="n">n</span> <span class="bp">â</span> <span class="n">balanced</span> <span class="n">l</span>
<span class="bp">|</span> <span class="n">l</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="o">(</span><span class="n">tipsy</span><span class="bp">.</span><span class="n">bal</span> <span class="n">h</span><span class="o">)</span> <span class="o">:=</span> <span class="n">h</span>
<span class="bp">|</span> <span class="n">l</span> <span class="bp">_</span> <span class="bp">_</span> <span class="n">e</span> <span class="o">(</span><span class="n">tipsy</span><span class="bp">.</span><span class="n">left</span> <span class="n">m</span> <span class="n">k</span> <span class="bp">_</span><span class="o">)</span> <span class="o">:=</span> <span class="o">(</span><span class="n">ne_of_gt</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">lt_succ_of_le</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">le_add_right</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">))</span> <span class="n">e</span><span class="o">)</span><span class="bp">.</span><span class="n">elim</span>
<span class="bp">|</span> <span class="n">l</span> <span class="bp">_</span> <span class="bp">_</span> <span class="n">e</span> <span class="o">(</span><span class="n">tipsy</span><span class="bp">.</span><span class="n">right</span> <span class="n">m</span> <span class="n">k</span> <span class="bp">_</span><span class="o">)</span> <span class="o">:=</span> <span class="o">(</span><span class="n">ne_of_lt</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">lt_succ_of_le</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">le_add_right</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">))</span> <span class="n">e</span><span class="o">)</span><span class="bp">.</span><span class="n">elim</span>

<span class="kn">theorem</span> <span class="n">lem2a</span> <span class="o">{</span><span class="n">b</span> <span class="n">l</span> <span class="n">n</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">unbalanced</span> <span class="n">b</span> <span class="n">l</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">cases_on</span> <span class="n">n</span> <span class="o">(</span><span class="n">balanced</span> <span class="o">(</span><span class="n">bnot</span> <span class="n">b</span> <span class="bp">::</span> <span class="n">l</span><span class="o">))</span> <span class="o">(</span><span class="n">unbalanced</span> <span class="n">b</span> <span class="o">(</span><span class="n">bnot</span> <span class="n">b</span> <span class="bp">::</span> <span class="n">l</span><span class="o">))</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">cases</span> <span class="n">h</span> <span class="k">with</span> <span class="n">lâ</span> <span class="n">lâ</span> <span class="n">hâ</span> <span class="n">hâ</span> <span class="n">lâ</span> <span class="n">lâ</span> <span class="n">n</span> <span class="n">hâ</span> <span class="n">hâ</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">simpa</span> <span class="kn">using</span> <span class="o">(</span><span class="n">hâ</span><span class="bp">.</span><span class="n">mk&#39;</span> <span class="n">b</span><span class="o">)</span><span class="bp">.</span><span class="n">app</span> <span class="n">hâ</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">simpa</span> <span class="kn">using</span> <span class="n">hâ</span><span class="bp">.</span><span class="n">app</span> <span class="o">(</span><span class="n">hâ</span><span class="bp">.</span><span class="n">mk&#39;</span> <span class="n">b</span><span class="o">)</span> <span class="o">},</span>
<span class="kn">end</span>

<span class="kn">theorem</span> <span class="n">lem2b</span> <span class="o">{</span><span class="n">b</span> <span class="n">l</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">balanced</span> <span class="n">l</span><span class="o">)</span> <span class="o">:</span> <span class="n">unbalanced</span> <span class="n">b</span> <span class="o">(</span><span class="n">b</span> <span class="bp">::</span> <span class="n">l</span><span class="o">)</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="n">unbalanced</span><span class="bp">.</span><span class="n">bal</span> <span class="n">balanced</span><span class="bp">.</span><span class="n">empty</span> <span class="n">h</span>

<span class="kn">theorem</span> <span class="n">lem2c</span> <span class="o">{</span><span class="n">b</span> <span class="n">l</span> <span class="n">n</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">unbalanced</span> <span class="n">b</span> <span class="n">l</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span> <span class="n">unbalanced</span> <span class="n">b</span> <span class="o">(</span><span class="n">b</span> <span class="bp">::</span> <span class="n">l</span><span class="o">)</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">unbalanced</span><span class="bp">.</span><span class="n">up</span> <span class="n">balanced</span><span class="bp">.</span><span class="n">empty</span> <span class="n">h</span>

<span class="kn">theorem</span> <span class="n">lem2</span> <span class="o">{</span><span class="n">l</span><span class="o">}</span> <span class="o">:</span> <span class="n">tipsy</span> <span class="n">l</span> <span class="o">(</span><span class="n">l</span><span class="bp">.</span><span class="n">count</span> <span class="n">tt</span><span class="o">)</span> <span class="o">(</span><span class="n">l</span><span class="bp">.</span><span class="n">count</span> <span class="n">ff</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">induction</span> <span class="n">l</span> <span class="k">with</span> <span class="n">b</span> <span class="n">l</span> <span class="n">IH</span><span class="o">,</span> <span class="o">{</span><span class="n">constructor</span><span class="o">,</span> <span class="n">constructor</span><span class="o">},</span>
  <span class="n">cases</span> <span class="n">b</span><span class="o">,</span> <span class="n">all_goals</span> <span class="o">{</span>
    <span class="n">simp</span> <span class="o">[</span><span class="bp">-</span><span class="n">add_comm</span><span class="o">],</span>
    <span class="n">generalize_hyp</span> <span class="o">:</span> <span class="n">l</span><span class="bp">.</span><span class="n">count</span> <span class="n">tt</span> <span class="bp">=</span> <span class="n">m</span> <span class="n">at</span> <span class="n">IH</span> <span class="err">â¢</span><span class="o">,</span>
    <span class="n">generalize_hyp</span> <span class="o">:</span> <span class="n">l</span><span class="bp">.</span><span class="n">count</span> <span class="n">ff</span> <span class="bp">=</span> <span class="n">n</span> <span class="n">at</span> <span class="n">IH</span> <span class="err">â¢</span><span class="o">,</span>
    <span class="n">cases</span> <span class="n">IH</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">cases</span> <span class="n">IH_k</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">constructor</span><span class="o">,</span> <span class="n">exact</span> <span class="n">lem2a</span> <span class="n">IH_a</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="err">â</span> <span class="n">nat</span><span class="bp">.</span><span class="n">succ_add</span><span class="o">],</span> <span class="n">constructor</span><span class="o">,</span> <span class="n">exact</span> <span class="n">lem2a</span> <span class="n">IH_a</span> <span class="o">}</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="err">â</span> <span class="n">nat</span><span class="bp">.</span><span class="n">add_succ</span><span class="o">],</span> <span class="n">constructor</span><span class="o">,</span> <span class="n">exact</span> <span class="n">lem2c</span> <span class="n">IH_a</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">exact</span> <span class="n">tipsy</span><span class="bp">.</span><span class="n">right</span> <span class="bp">_</span> <span class="mi">0</span> <span class="o">(</span><span class="n">lem2b</span> <span class="n">IH_a</span><span class="o">)</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="err">â</span> <span class="n">nat</span><span class="bp">.</span><span class="n">add_succ</span><span class="o">],</span> <span class="n">constructor</span><span class="o">,</span> <span class="n">exact</span> <span class="n">lem2c</span> <span class="n">IH_a</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">cases</span> <span class="n">IH_k</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">constructor</span><span class="o">,</span> <span class="n">exact</span> <span class="n">lem2a</span> <span class="n">IH_a</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="err">â</span> <span class="n">nat</span><span class="bp">.</span><span class="n">succ_add</span><span class="o">],</span> <span class="n">constructor</span><span class="o">,</span> <span class="n">exact</span> <span class="n">lem2a</span> <span class="n">IH_a</span> <span class="o">}</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">exact</span> <span class="n">tipsy</span><span class="bp">.</span><span class="n">left</span> <span class="bp">_</span> <span class="mi">0</span> <span class="o">(</span><span class="n">lem2b</span> <span class="n">IH_a</span><span class="o">)</span> <span class="o">}</span>
<span class="kn">end</span>

<span class="kn">theorem</span> <span class="n">goal</span> <span class="o">{</span><span class="n">l</span><span class="o">}</span> <span class="o">:</span> <span class="n">balanced</span> <span class="n">l</span> <span class="bp">â</span> <span class="n">l</span><span class="bp">.</span><span class="n">count</span> <span class="n">tt</span> <span class="bp">=</span> <span class="n">l</span><span class="bp">.</span><span class="n">count</span> <span class="n">ff</span> <span class="o">:=</span>
<span class="bp">â¨Î»</span> <span class="n">h</span><span class="o">,</span> <span class="k">by</span> <span class="n">induction</span> <span class="n">h</span><span class="bp">;</span> <span class="n">simp</span> <span class="o">[</span><span class="bp">*</span><span class="o">,</span> <span class="bp">-</span><span class="n">add_comm</span><span class="o">],</span> <span class="bp">Î»</span> <span class="n">h</span><span class="o">,</span> <span class="n">lem1</span> <span class="n">h</span> <span class="n">lem2</span><span class="bp">â©</span>
</pre></div>



<a name="175692098"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175692098" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175692098">(Sep 14 2019 at 09:19)</a>:</h4>
<p>Hope you guys had fun and maybe discussed some ideas how to further extend and make use of the competitions system!</p>
<blockquote>
<p>What the business with </p>
<div class="codehilite"><pre><span></span><span class="c1">-- the goal used in submission</span>
<span class="kn">notation</span> <span class="bp">`</span><span class="n">GOAL</span><span class="bp">`</span> <span class="o">:=</span>
</pre></div>


<p>in the Lean template. Am I meant to be confused by this?</p>
</blockquote>
<p>This was done to prevent the "notation cheat". See <a href="#narrow/stream/113488-general/topic/Proving.20for.20Fun/near/173187551" title="#narrow/stream/113488-general/topic/Proving.20for.20Fun/near/173187551">this post</a>.</p>



<a name="175693943"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175693943" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175693943">(Sep 14 2019 at 10:18)</a>:</h4>
<p>Could we maybe have a comment to the effect that it's irrelevant implementation garbage, that someone interested in doing the problem should ignore?</p>



<a name="175696458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175696458" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175696458">(Sep 14 2019 at 11:32)</a>:</h4>
<p>(deleted)</p>



<a name="175711628"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/175711628" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#175711628">(Sep 14 2019 at 18:04)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> That's a slick proof indeed. Very nice!</p>



<a name="176022195"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/176022195" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#176022195">(Sep 18 2019 at 16:41)</a>:</h4>
<p><span class="user-mention" data-user-id="233634">@Manuel Eberl</span> posted <a href="https://www21.in.tum.de/~eberlm/proofground2019.html" target="_blank" title="https://www21.in.tum.de/~eberlm/proofground2019.html">a link to his proofs for Proof Ground 2019</a> on Twitter. I'd like to have a discussion about some of those problems, and in particular why some of them might be harder in Lean than in Isabelle. But I keep not starting it because I've not finished all the questions yet :-)</p>



<a name="176038044"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/176038044" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#176038044">(Sep 18 2019 at 19:36)</a>:</h4>
<p>I haven't seen these proofs yet but I think you probably will get only a weak signal regarding overall ease of use of the library from a 3 hour competition. You are far more likely to see noise relating to how well the competitor knows the library and the right proof strategy for the competition problems</p>



<a name="176038295"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/176038295" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#176038295">(Sep 18 2019 at 19:39)</a>:</h4>
<p>That's also my opinion</p>



<a name="179719291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/179719291" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexandre Rademaker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#179719291">(Nov 02 2019 at 21:12)</a>:</h4>
<p>In the experiments I am doing with large theories, I believe it would be nice to have something similar to Sledgehammer in Lean. The proof <a href="https://github.com/arademaker/sumo/blob/lists/bs.lean#L178-L210" target="_blank" title="https://github.com/arademaker/sumo/blob/lists/bs.lean#L178-L210">https://github.com/arademaker/sumo/blob/lists/bs.lean#L178-L210</a> is just a sequence of uses of the same 2-3 axioms to navigate in the <a href="http://sigma.ontologyportal.org:8080/sigma/Graph.jsp?kb=SUMO&amp;lang=EnglishLanguage&amp;flang=SUO-KIF&amp;relation=subclass&amp;term=Vertebrate&amp;up=13&amp;down=1&amp;limit=&amp;inst=inst&amp;columns=direct-children&amp;columns=documentation&amp;columns=graph&amp;scrWidth=1381&amp;view=text&amp;submit=submit" target="_blank" title="http://sigma.ontologyportal.org:8080/sigma/Graph.jsp?kb=SUMO&amp;lang=EnglishLanguage&amp;flang=SUO-KIF&amp;relation=subclass&amp;term=Vertebrate&amp;up=13&amp;down=1&amp;limit=&amp;inst=inst&amp;columns=direct-children&amp;columns=documentation&amp;columns=graph&amp;scrWidth=1381&amp;view=text&amp;submit=submit">SUMO hierarchy</a>.</p>



<a name="188403938"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/188403938" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#188403938">(Feb 17 2020 at 20:09)</a>:</h4>
<p>The discussion about Codewars sparked me to try to break the system again. It is still possible: <a href="https://github.com/maxhaslbeck/proving-contest-backends/issues/27" target="_blank" title="https://github.com/maxhaslbeck/proving-contest-backends/issues/27">https://github.com/maxhaslbeck/proving-contest-backends/issues/27</a></p>



<a name="188409902"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/188409902" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#188409902">(Feb 17 2020 at 22:14)</a>:</h4>
<p>War. War never changes...</p>



<a name="204240827"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/204240827" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexandre Rademaker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#204240827">(Jul 17 2020 at 18:21)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110025">Andrew Ashworth</span> <a href="#narrow/stream/113488-general/topic/Proving.20for.20Fun/near/175581108">said</a>:</p>
<blockquote>
<p>Thank you for uploading the solutions. I feel like having a collection of worked examples in multiple languages is very educational. Maybe we need a Rosetta Code for theorem proving... <a href="http://rosettacode.org">http://rosettacode.org</a></p>
</blockquote>
<p>My first contribution. I have also created a page for Lean. See </p>
<p><a href="http://rosettacode.org/wiki/Fibonacci_sequence#Lean">http://rosettacode.org/wiki/Fibonacci_sequence#Lean</a></p>



<a name="204320891"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/204320891" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexandre Rademaker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#204320891">(Jul 18 2020 at 22:33)</a>:</h4>
<p>The competitors are taking their turn... <a href="https://rosettacode.org/wiki/Category:Isabelle">https://rosettacode.org/wiki/Category:Isabelle</a>. ;-)</p>



<a name="204342108"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/204342108" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#204342108">(Jul 19 2020 at 10:02)</a>:</h4>
<p>I don't think of these other systems as competitors. I believe that early lean development was hugely inspired by Isabelle. I think the interesting question is what does and doesn't work in the systems (or more precisely how well various parts of methods work in the systems). Isabelle has demonstrated that complex analysis works great there. I am unclear about whether there is a serious Coq development but we have essentially nothing in Lean. Perhaps if the Isabelle people explain how to do it, we can learn!</p>



<a name="204730533"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proving%20for%20Fun/near/204730533" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexandre Rademaker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proving.20for.20Fun.html#204730533">(Jul 22 2020 at 22:34)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> surely. I was just making some fun. I completely agree that we can and must learn from each other.  Regarding the <a href="http://rosettacode.org">rosettacode.org</a>, I like the idea of the webiste. Having the same problem encoded in many different tools/language help us understand the differences. That is why I am motivating people to contribute with more Lean code. Next I would like to try the sort algorithms that already have Isabelle  code there.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>