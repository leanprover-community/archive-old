---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Mathlib.20linting.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20linting.html">Mathlib linting</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="200823596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Mathlib%20linting/near/200823596" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20linting.html#200823596">(Jun 14 2020 at 16:36)</a>:</h4>
<p>Is it possible to make a linter or code formatter which enforces (some of) mathlib's style, for instance adding braces so that there's only one goal at a time in a completed proof?</p>



<a name="200823677"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Mathlib%20linting/near/200823677" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20linting.html#200823677">(Jun 14 2020 at 16:39)</a>:</h4>
<p>I could add it to nng and force mathematicians to code properly :-)</p>



<a name="200823755"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Mathlib%20linting/near/200823755" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20linting.html#200823755">(Jun 14 2020 at 16:41)</a>:</h4>
<p>Actually what I want is kind of the opposite of that - when I'm writing lean hastily I somehow avoid all indentation and braces, so it'd be great if there was some magical button I could press which auto-formats the code</p>



<a name="200824351"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Mathlib%20linting/near/200824351" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20linting.html#200824351">(Jun 14 2020 at 16:58)</a>:</h4>
<p>Such things exist in other domains, see e.g. <a href="https://black.readthedocs.io/en/stable/">black</a>, an auto-formatter for python. I don't know how hard they are to write.</p>



<a name="200824384"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Mathlib%20linting/near/200824384" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20linting.html#200824384">(Jun 14 2020 at 16:59)</a>:</h4>
<p>See also <a href="https://github.com/tweag/ormolu">ormolu</a> for Haskell</p>



<a name="200824558"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Mathlib%20linting/near/200824558" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20linting.html#200824558">(Jun 14 2020 at 17:02)</a>:</h4>
<p>I remember some discussions about this (but not where they took place, sadly). My takeaway was that this would become much easier in Lean 4.</p>



<a name="200824858"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Mathlib%20linting/near/200824858" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20linting.html#200824858">(Jun 14 2020 at 17:10)</a>:</h4>
<p>It's very hard to write something that's aware of both Lean 3 semantics (e.g. number of goals at a given line) and input syntax. I think the closest things that exist right now are format_lean (or am I mixing names here?) that query a Lean server for information at each line. It would take a lot of work to turn this into what you're after, but I think it's the only approach, Lean 3 metaprograms can't really understand input syntax. As Bryan says, I understand the Lean 4 picture will be different.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>