---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/.E2.9C.94.20Empty.20lines.20in.20mathlib.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Empty.20lines.20in.20mathlib.html">✔ Empty lines in mathlib</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="266076005"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Empty%20lines%20in%20mathlib/near/266076005" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Empty.20lines.20in.20mathlib.html#266076005">(Dec 25 2021 at 21:17)</a>:</h4>
<p><span class="user-mention" data-user-id="306601">@Kyle Miller</span> pointed out (in a discussion below my pull request) that mathlib never uses more than one empty line between anything. Why is it so?</p>



<a name="266076212"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Empty%20lines%20in%20mathlib/near/266076212" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Empty.20lines.20in.20mathlib.html#266076212">(Dec 25 2021 at 21:23)</a>:</h4>
<p>Convention?</p>



<a name="266076549"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Empty%20lines%20in%20mathlib/near/266076549" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Empty.20lines.20in.20mathlib.html#266076549">(Dec 25 2021 at 21:32)</a>:</h4>
<p>Is there any rationale behind this convention? I like to make two or three empty lines in a row when I want to hint that "something very different follows".</p>



<a name="266076570"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Empty%20lines%20in%20mathlib/near/266076570" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Empty.20lines.20in.20mathlib.html#266076570">(Dec 25 2021 at 21:33)</a>:</h4>
<p>Make a section instead</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c">/-</span><span class="cm">! ### And now for something completely different -/</span>
</code></pre></div>



<a name="266076608"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Empty%20lines%20in%20mathlib/near/266076608" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Empty.20lines.20in.20mathlib.html#266076608">(Dec 25 2021 at 21:34)</a>:</h4>
<p>Do you mean a section or a comment?</p>



<a name="266076615"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Empty%20lines%20in%20mathlib/near/266076615" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Empty.20lines.20in.20mathlib.html#266076615">(Dec 25 2021 at 21:34)</a>:</h4>
<p>I used to like having empty lines, too, but somehow it looks strange to me now.  Naming conventions, <code>section</code>s, and sectioning comments (like what Yael mentioned) seem to be sufficient.</p>



<a name="266076616"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Empty%20lines%20in%20mathlib/near/266076616" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Empty.20lines.20in.20mathlib.html#266076616">(Dec 25 2021 at 21:34)</a>:</h4>
<p>What do you mean? A section <em>is</em> a comment.</p>



<a name="266076648"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Empty%20lines%20in%20mathlib/near/266076648" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Empty.20lines.20in.20mathlib.html#266076648">(Dec 25 2021 at 21:36)</a>:</h4>
<p>Ah sorry, I do not mean the literal <code>section</code>, although I usually use them jointly</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c">/-</span><span class="cm">! ### Fancy thing -/</span>

<span class="kn">section</span> <span class="n">fancy_thing</span>

<span class="kd">end</span> <span class="n">fancy_thing</span>

<span class="c">/-</span><span class="cm">! ### Next fancy thing -/</span>

<span class="bp">...</span>
</code></pre></div>



<a name="266076691"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Empty%20lines%20in%20mathlib/near/266076691" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Empty.20lines.20in.20mathlib.html#266076691">(Dec 25 2021 at 21:36)</a>:</h4>
<p>Oh, thanks.</p>



<a name="266076697"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Empty%20lines%20in%20mathlib/near/266076697" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Empty.20lines.20in.20mathlib.html#266076697">(Dec 25 2021 at 21:36)</a>:</h4>
<p>I'm a huge proponent of sectioning comments <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="266076702"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Empty%20lines%20in%20mathlib/near/266076702" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Empty.20lines.20in.20mathlib.html#266076702">(Dec 25 2021 at 21:37)</a>:</h4>
<p>Have been adding them to files every time I get the chance.</p>



<a name="266076770"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Empty%20lines%20in%20mathlib/near/266076770" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Empty.20lines.20in.20mathlib.html#266076770">(Dec 25 2021 at 21:38)</a>:</h4>
<p>In my PR<br>
<a href="https://github.com/leanprover-community/mathlib/pull/10959">https://github.com/leanprover-community/mathlib/pull/10959</a><br>
I feel like <code>def cross_product</code> and <code>localized "infixl ×₃ </code> and <code>lemma cross_product_def</code> belong together. On the other hand, the following <code>lemma cross_product_anticomm</code> seems that it should be separated from the previous. Should I create a names section something like "basic lemmata"?</p>



<a name="266076848"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Empty%20lines%20in%20mathlib/near/266076848" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Empty.20lines.20in.20mathlib.html#266076848">(Dec 25 2021 at 21:41)</a>:</h4>
<p>Nah, all this file is (currently) so basic that I wouldn't do any sectioning.</p>



<a name="266076892"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Empty%20lines%20in%20mathlib/near/266076892" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Empty.20lines.20in.20mathlib.html#266076892">(Dec 25 2021 at 21:42)</a>:</h4>
<p>Sectioning is worth it when about 200-300 at least.</p>



<a name="266077092"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Empty%20lines%20in%20mathlib/near/266077092" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Empty.20lines.20in.20mathlib.html#266077092">(Dec 25 2021 at 21:49)</a>:</h4>
<p>IMO sectioning would be overkill for this document, we agree on that. However, I would still like to make <code>lemma cross_product_anticomm</code> more separated (visually) from <code>lemma cross_product_def</code> than how much  <code>lemma cross_product_def</code> is separated from the definition.</p>



<a name="266077148"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Empty%20lines%20in%20mathlib/near/266077148" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Empty.20lines.20in.20mathlib.html#266077148">(Dec 25 2021 at 21:50)</a>:</h4>
<p>And I'm saying that it's not mathlib style. Both are very direct one-liners from the definition.</p>



<a name="266077410"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Empty%20lines%20in%20mathlib/near/266077410" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Empty.20lines.20in.20mathlib.html#266077410">(Dec 25 2021 at 21:59)</a>:</h4>
<p>Even within proofs, I sometimes wish for some spacing. I agree that this one line only spacing can sometimes really not be helpful on the eyes.</p>



<a name="266077515"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Empty%20lines%20in%20mathlib/near/266077515" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Empty.20lines.20in.20mathlib.html#266077515">(Dec 25 2021 at 22:00)</a>:</h4>
<p>OK. Thanks for your replies! I just wanted to ask whether there is an acceptable way to express the grouping (in my small case), which turned out to be impossible. I will cope with that.</p>



<a name="266077516"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Empty%20lines%20in%20mathlib/near/266077516" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Empty.20lines.20in.20mathlib.html#266077516">(Dec 25 2021 at 22:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="417654">Martin Dvořák</span> has marked this topic as resolved.</p>



<a name="266077825"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Empty%20lines%20in%20mathlib/near/266077825" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Empty.20lines.20in.20mathlib.html#266077825">(Dec 25 2021 at 22:09)</a>:</h4>
<p>Note that we also sometimes skip the line break, when a bunch of one-liners are nearly identical.</p>



<a name="266077952"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Empty%20lines%20in%20mathlib/near/266077952" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Empty.20lines.20in.20mathlib.html#266077952">(Dec 25 2021 at 22:12)</a>:</h4>
<p>Oh! So I can choose between 0 and 1 empty lines, right?</p>



<a name="266077985"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Empty%20lines%20in%20mathlib/near/266077985" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Empty.20lines.20in.20mathlib.html#266077985">(Dec 25 2021 at 22:13)</a>:</h4>
<p>Yes! But you should only skip the line between <strong>lemmas</strong> that literally hold <strong>on one line</strong>. So no grouping <code>cross_product</code> with <code>cross_product_def</code>, sorry.</p>



<a name="266078106"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Empty%20lines%20in%20mathlib/near/266078106" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Empty.20lines.20in.20mathlib.html#266078106">(Dec 25 2021 at 22:16)</a>:</h4>
<p>OK</p>



<a name="266078375"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Empty%20lines%20in%20mathlib/near/266078375" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Empty.20lines.20in.20mathlib.html#266078375">(Dec 25 2021 at 22:25)</a>:</h4>
<p>Meh, this doesn't look good.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">cross_product_anticomm</span> <span class="o">(</span><span class="n">v</span> <span class="n">w</span> <span class="o">:</span> <span class="n">fin</span> <span class="mi">3</span> <span class="bp">→</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">-</span> <span class="o">(</span><span class="n">v</span> <span class="bp">×₃</span> <span class="n">w</span><span class="o">)</span> <span class="bp">=</span> <span class="n">w</span> <span class="bp">×₃</span> <span class="n">v</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">cross_product_def</span><span class="o">,</span> <span class="n">mul_comm</span><span class="o">]</span>
<span class="kd">lemma</span> <span class="n">cross_product_anticomm'</span> <span class="o">(</span><span class="n">v</span> <span class="n">w</span> <span class="o">:</span> <span class="n">fin</span> <span class="mi">3</span> <span class="bp">→</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">v</span> <span class="bp">×₃</span> <span class="n">w</span> <span class="bp">+</span> <span class="n">w</span> <span class="bp">×₃</span> <span class="n">v</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">add_eq_zero_iff_eq_neg</span><span class="o">,</span> <span class="n">cross_product_anticomm</span><span class="o">]</span>
</code></pre></div>
<p>Imma put a single empty break everywhere and that will be it.</p>



<a name="266078488"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Empty%20lines%20in%20mathlib/near/266078488" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Empty.20lines.20in.20mathlib.html#266078488">(Dec 25 2021 at 22:28)</a>:</h4>
<p>Yeah, because those do not hold on one line.</p>



<a name="266078497"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Empty%20lines%20in%20mathlib/near/266078497" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Empty.20lines.20in.20mathlib.html#266078497">(Dec 25 2021 at 22:28)</a>:</h4>
<p>Btw, you can put the type of a lemma on same line as the lemma name if it fits.</p>



<a name="266078513"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Empty%20lines%20in%20mathlib/near/266078513" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Empty.20lines.20in.20mathlib.html#266078513">(Dec 25 2021 at 22:29)</a>:</h4>
<p>I thought that "hold on one line" meant "one-line proof". Nevermind.</p>



<a name="266078561"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Empty%20lines%20in%20mathlib/near/266078561" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Empty.20lines.20in.20mathlib.html#266078561">(Dec 25 2021 at 22:30)</a>:</h4>
<p>I hope that newline at the end of file is fine.</p>



<a name="266078566"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Empty%20lines%20in%20mathlib/near/266078566" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Empty.20lines.20in.20mathlib.html#266078566">(Dec 25 2021 at 22:30)</a>:</h4>
<p>It seems that other files in mathlib have it.</p>



<a name="266078685"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Empty%20lines%20in%20mathlib/near/266078685" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Empty.20lines.20in.20mathlib.html#266078685">(Dec 25 2021 at 22:34)</a>:</h4>
<p><span class="user-mention silent" data-user-id="417654">Martin Dvořák</span> <a href="#narrow/stream/113488-general/topic/.E2.9C.94.20Empty.20lines.20in.20mathlib/near/266078513">said</a>:</p>
<blockquote>
<p>I thought that "hold on one line" meant "one-line proof". Nevermind.</p>
</blockquote>
<p>I specifically said "hold on one line" instead of "one-liner" <span aria-label="stuck out tongue" class="emoji emoji-1f61b" role="img" title="stuck out tongue">:stuck_out_tongue:</span></p>



<a name="266078700"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Empty%20lines%20in%20mathlib/near/266078700" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Empty.20lines.20in.20mathlib.html#266078700">(Dec 25 2021 at 22:35)</a>:</h4>
<p>I am sorry; my English isn't that good to distinguish them.</p>



<a name="266078847"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Empty%20lines%20in%20mathlib/near/266078847" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Empty.20lines.20in.20mathlib.html#266078847">(Dec 25 2021 at 22:39)</a>:</h4>
<p>No worries!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>