---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html">`M⁻¹` vs `ring.inverse M` vs `⅟M`</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="260728585"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/260728585" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#260728585">(Nov 08 2021 at 22:32)</a>:</h4>
<p>We currently have three different ways to talk about matrix inverses, respectively (with regards to the title):</p>
<ul>
<li><a href="https://leanprover-community.github.io/mathlib_docs/find/matrix.has_inv">docs#matrix.has_inv</a></li>
<li><a href="https://leanprover-community.github.io/mathlib_docs/find/ring.inverse">docs#ring.inverse</a></li>
<li><a href="https://leanprover-community.github.io/mathlib_docs/find/inv_of">docs#inv_of</a></li>
</ul>
<p>The first two of these satisfy <code>M⁻¹ = ring.inverse M</code> in all circumstances, suggesting it's somewhat unecessary to have both. Arguably <code>ring.inverse</code> is the better spelling, since many statements about it generalize.</p>
<p>Should we eliminate <code>matrix.has_inv</code>? To make it less painful, could we introduce a notation for <code>ring.inverse</code>?</p>



<a name="260728923"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/260728923" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#260728923">(Nov 08 2021 at 22:35)</a>:</h4>
<p>(maybe <code>M⁻¹ᵎ</code>?)</p>



<a name="260755243"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/260755243" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#260755243">(Nov 09 2021 at 05:24)</a>:</h4>
<p>Hmm, do we have any instances of <code>has_inv</code> on a <code>monoid_with_zero</code> that is not prop-eq to <code>ring.inverse</code>?</p>



<a name="260755261"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/260755261" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#260755261">(Nov 09 2021 at 05:24)</a>:</h4>
<p>Should every <code>monoid_with_zero</code> just come with a <code>inv</code> field? That would unify your first two bullet points.</p>



<a name="260760485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/260760485" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#260760485">(Nov 09 2021 at 06:56)</a>:</h4>
<p>At least, I wouldn't want to give up the notation <code>M⁻¹</code> too easily.</p>



<a name="260761303"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/260761303" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#260761303">(Nov 09 2021 at 07:08)</a>:</h4>
<p>You could even define it on monoids and send non invertible things to 1, which would of course break everything but might be a better solution because it's more general. Instead of 1/0=0 we'd have 1/0=1</p>



<a name="260781197"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/260781197" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#260781197">(Nov 09 2021 at 10:56)</a>:</h4>
<p>That would be annoying for matrices because <a href="https://leanprover-community.github.io/mathlib_docs/find/matrix.inv_def">docs#matrix.inv_def</a> would no longer be true</p>



<a name="260783511"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/260783511" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#260783511">(Nov 09 2021 at 11:21)</a>:</h4>
<p>Yes and all the weird arguments that computer scientists give for x/0=0 of the form "some lemmas like (a+b)/c=a/c+b/c don't need the hypothesis that c!=0" will all break as well</p>



<a name="260783939"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/260783939" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#260783939">(Nov 09 2021 at 11:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60/near/260755261">said</a>:</p>
<blockquote>
<p>Should every <code>monoid_with_zero</code> just come with a <code>inv</code> field? That would unify your first two bullet points.</p>
</blockquote>
<p>At which point it probably should just extend <code>div_inv_monoid</code>, and then we get integer powers of matrices too</p>



<a name="260784058"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/260784058" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#260784058">(Nov 09 2021 at 11:26)</a>:</h4>
<p>Would we then add a <code>has_faithful_inv</code> typeclass that states that the inv is equal to <code>ring.inverse</code>? Or does that become part of <code>monoid_with_zero</code> too?</p>



<a name="260784110"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/260784110" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#260784110">(Nov 09 2021 at 11:27)</a>:</h4>
<p>The danger we run into by adding that field (and requiring it to match ring.inverse) is that lots of <code>semiring</code> structures either become noncomputable or require decidable equality</p>



<a name="260784255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/260784255" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#260784255">(Nov 09 2021 at 11:28)</a>:</h4>
<p>I'm not sure whether adding a field to dedup is super worth it</p>



<a name="260784369"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/260784369" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#260784369">(Nov 09 2021 at 11:29)</a>:</h4>
<p>I wonder if we can just overload the notation</p>



<a name="260784400"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/260784400" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#260784400">(Nov 09 2021 at 11:29)</a>:</h4>
<p>Lean4 should deal with overloaded notation better too, right?</p>



<a name="261751071"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261751071" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261751071">(Nov 17 2021 at 07:31)</a>:</h4>
<p>Here's an idea that I had tonight:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">ring.inverse</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">M</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">if</span> <span class="n">h</span> <span class="o">:</span> <span class="n">is_unit</span> <span class="n">x</span> <span class="k">then</span> <span class="bp">↑</span><span class="o">(</span><span class="n">h.unit</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="k">else</span> <span class="n">x</span>
</code></pre></div>
<p>In this way <code>ring.inverse</code> is defined for <em>every</em> monoid, not just monoid_with_zero's. Also <code>ring.inverse</code> agrees with <code>has_inv</code> for every <code>group_with_zero</code>.<br>
If we want to be very evil, we could even add <code>has_inv</code> to the definition of <code>monoid</code>, and add an axiom that requires it to behave according to this rule. That way we can get the defeq that we would like to have whenever we care.</p>



<a name="261751147"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261751147" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261751147">(Nov 17 2021 at 07:32)</a>:</h4>
<p>It might then even be possible to unify <code>x⁻¹</code>, <code>ring.inverse x</code> and <code>⅟x</code>.</p>



<a name="261751329"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261751329" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261751329">(Nov 17 2021 at 07:36)</a>:</h4>
<p>We should call it an <code>unverse</code>. <span aria-label="shrug" class="emoji emoji-1f937" role="img" title="shrug">:shrug:</span> <span aria-label="nauseated" class="emoji emoji-1f922" role="img" title="nauseated">:nauseated:</span></p>



<a name="261751370"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261751370" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261751370">(Nov 17 2021 at 07:37)</a>:</h4>
<p>What I like is that it's an involution, and it agrees with <code>x⁻¹</code> for fields.</p>



<a name="261753380"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261753380" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261753380">(Nov 17 2021 at 08:08)</a>:</h4>
<p>Yeah it's a better junk value than 0 or 1!</p>



<a name="261753611"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261753611" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261753611">(Nov 17 2021 at 08:12)</a>:</h4>
<p>That definition doesn't satisfy <code>unverse M = unverse M.det • M.adjugate</code>, unlike today's <code>ring.inverse</code></p>



<a name="261753760"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261753760" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261753760">(Nov 17 2021 at 08:14)</a>:</h4>
<p>Sure, it also doesn't satisfy <code>unverse (x * y) = unverse y * unverse x</code>.</p>



<a name="261753874"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261753874" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261753874">(Nov 17 2021 at 08:16)</a>:</h4>
<p>I'd claim those are both quite desirable properties</p>



<a name="261753996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261753996" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261753996">(Nov 17 2021 at 08:18)</a>:</h4>
<p>Well <code>ring.inverse (ring.inverse x) = x</code> is also quite desirable. And that one is currently false.</p>



<a name="261754026"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261754026" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261754026">(Nov 17 2021 at 08:18)</a>:</h4>
<p>And getting a unified approach to <code>x⁻¹</code>, <code>ring.inverse x</code> and <code>⅟x</code> also seems like a win to me.</p>



<a name="261754355"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261754355" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261754355">(Nov 17 2021 at 08:23)</a>:</h4>
<p>Debates about junk values are difficult for me to take seriously because in practice you only use these theorems above in situations where they're mathematically meaningful. We had this sort of discussion with square roots of negative real numbers once (should it be 0 or <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mrow><mo>−</mo><mi>x</mi></mrow></msqrt></mrow><annotation encoding="application/x-tex">\sqrt{-x}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.205em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.835em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">−</span><span class="mord mathnormal">x</span></span></span><span style="top:-2.795em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.205em;"><span></span></span></span></span></span></span></span></span>) and ultimately one side convinced the other but in practice I bet there's nowhere where anyone relies on the actual choice we made, the hypothesis that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>≥</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">x\geq0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> is always there in practice and it's just a question of when you have to feed a theorem <code>x</code> and when you have to feed it <code>hx</code></p>



<a name="261754373"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261754373" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261754373">(Nov 17 2021 at 08:23)</a>:</h4>
<p>Do we have any places in mathlib today where we talk about partial inverses on monoids?</p>



<a name="261754474"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261754474" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261754474">(Nov 17 2021 at 08:24)</a>:</h4>
<p>Kevin, there are a surprising number of results on the matrix inverse that don't need to assume the matrix is invertible</p>



<a name="261754530"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261754530" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261754530">(Nov 17 2021 at 08:25)</a>:</h4>
<p>Which is thanks to 0 being a particularly convenient junk value</p>



<a name="261754574"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261754574" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261754574">(Nov 17 2021 at 08:26)</a>:</h4>
<p>Eg <a href="https://leanprover-community.github.io/mathlib_docs/find/matrix.det_nonsing_inv">docs#matrix.det_nonsing_inv</a></p>



<a name="261754697"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261754697" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261754697">(Nov 17 2021 at 08:27)</a>:</h4>
<p>Note that <span aria-label="this" class="emoji emoji-1f446" role="img" title="this">:this:</span> would also work with <code>unverse</code></p>



<a name="261754836"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261754836" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261754836">(Nov 17 2021 at 08:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60/near/261754373">said</a>:</p>
<blockquote>
<p>Do we have any places in mathlib today where we talk about partial inverses on monoids?</p>
</blockquote>
<p>Not that I'm aware of. In practice they will either be groups, or have a zero, I guess.</p>



<a name="261759320"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261759320" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261759320">(Nov 17 2021 at 09:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60/near/261754474">said</a>:</p>
<blockquote>
<p>Kevin, there are a surprising number of results on the matrix inverse that don't need to assume the matrix is invertible</p>
</blockquote>
<p>Right -- and I'm sure this is very exciting from a CS point of view -- but my point is that as a mathematician I won't be using those junk lemmas, and if I have <code>A : matrix n n R</code> and <code>hA : is_invertible A</code> then I don't care at all whether a random lemma true for invertible matrices and whose truth value for non-invertible matrices depends on junk wants me to pass <code>A</code> or <code>hA</code>, I'll just pass whatever one conforms to the fashions of mathlib at that time.</p>



<a name="261760135"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261760135" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261760135">(Nov 17 2021 at 09:27)</a>:</h4>
<p>The problems is that you might need to pass a proof that <code>A ^ n</code> is invertible. And you don't have that in the context.</p>



<a name="261760164"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261760164" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261760164">(Nov 17 2021 at 09:27)</a>:</h4>
<p>So then you need to remember how to turn <code>hA</code> into a proof that powers of <code>A</code> are invertible.</p>



<a name="261760231"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261760231" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261760231">(Nov 17 2021 at 09:28)</a>:</h4>
<p>And maybe you actually need to show that <code>A ^ n / (B * B)</code> is invertible, and then it becomes annoying.</p>



<a name="261760244"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261760244" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261760244">(Nov 17 2021 at 09:28)</a>:</h4>
<p>So it's a lot easier if the junk values align well.</p>



<a name="261760254"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261760254" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261760254">(Nov 17 2021 at 09:28)</a>:</h4>
<p>No more annoying than how formalisation usually looks!</p>



<a name="261760318"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261760318" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261760318">(Nov 17 2021 at 09:29)</a>:</h4>
<p>99 times out of 100 we're passing math-necessary requirements to lemmas</p>



<a name="261760713"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261760713" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261760713">(Nov 17 2021 at 09:33)</a>:</h4>
<p>If you have <code>hA : invertible A</code> then you can just use <a href="https://leanprover-community.github.io/mathlib_docs/find/inv_of">docs#inv_of</a> all the time, and you never need a junk value</p>



<a name="261785008"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261785008" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261785008">(Nov 17 2021 at 13:42)</a>:</h4>
<p>Sure, inv isn't an involution currently, but inv_inv_inv is the same as inv</p>



<a name="261785333"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261785333" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261785333">(Nov 17 2021 at 13:45)</a>:</h4>
<p>When I was defining matrix.fpow, I played around with making inv a noop when the matrix wasn't invertible. But that led to more of the API requiring the proof of invertability to be valid. So I stuck with 0</p>



<a name="261785446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261785446" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261785446">(Nov 17 2021 at 13:46)</a>:</h4>
<p>So, while we might have the proof of invertability somewhere, for ease of use, I think it's better to defer needing it until as late as possible</p>



<a name="261788380"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261788380" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261788380">(Nov 17 2021 at 14:09)</a>:</h4>
<p>I think that unifying <code>x⁻¹</code>, <code>ring.inverse x</code> and <code>⅟x</code> outweighs the cons.</p>



<a name="261797293"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261797293" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261797293">(Nov 17 2021 at 15:11)</a>:</h4>
<p>Keeping the "junk goes to zero" definition unifies all the existing uses of those things</p>



<a name="261797350"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261797350" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261797350">(Nov 17 2021 at 15:11)</a>:</h4>
<p>It's only when talking about partial inverses in monoids without zero that the junk value changes, but it seems we don't bother to talk about those (yet)</p>



<a name="261798808"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261798808" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261798808">(Nov 17 2021 at 15:20)</a>:</h4>
<p>Currently we can't say <code>p : R</code> is invertible in some random ring <code>R</code>, and have it's inverse be defeq to <code>p⁻¹</code> when specializing to <code>R = ℚ</code>.</p>



<a name="261799124"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261799124" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261799124">(Nov 17 2021 at 15:22)</a>:</h4>
<p>Oh I agree; but if we added an <code>inv</code> field to <code>monoid_with_zero</code> we could</p>



<a name="261799226"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261799226" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261799226">(Nov 17 2021 at 15:23)</a>:</h4>
<p>Your proposal is to add it to <code>monoid</code> and change the default, but I'm arguing that we don't gain anything by doing that instead of <code>monoid_with_zero</code>, so that's not (yet) worth it</p>



<a name="261799613"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261799613" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261799613">(Nov 17 2021 at 15:25)</a>:</h4>
<p>Hmm, that's true</p>



<a name="261799672"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261799672" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261799672">(Nov 17 2021 at 15:25)</a>:</h4>
<p>Until someone needs inverses in monoids. I'm not sure that will not happen.</p>



<a name="261799818"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261799818" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261799818">(Nov 17 2021 at 15:26)</a>:</h4>
<p>Then we can add <a href="https://www.jstor.org/stable/2308576">https://www.jstor.org/stable/2308576</a> <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="261800282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261800282" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261800282">(Nov 17 2021 at 15:30)</a>:</h4>
<p>I think the pseudo-inverse is something different so we're off the hook</p>



<a name="261800341"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261800341" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261800341">(Nov 17 2021 at 15:30)</a>:</h4>
<p>Unless we want to remove any requirements on the junk value</p>



<a name="261800918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60M%E2%81%BB%C2%B9%60%20vs%20%60ring.inverse%20M%60%20vs%20%60%E2%85%9FM%60/near/261800918" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60.html#261800918">(Nov 17 2021 at 15:34)</a>:</h4>
<p>And remember that adding this field to every <code>monoid_with_zero</code>, as well as further confusing the mathematicians, has this problem:<br>
<span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113488-general/topic/.60M.E2.81.BB.C2.B9.60.20vs.20.60ring.2Einverse.20M.60.20vs.20.60.E2.85.9FM.60/near/260784110">said</a>:</p>
<blockquote>
<p>The danger we run into by adding that field (and requiring it to match ring.inverse) is that lots of <code>semiring</code> structures either become noncomputable or require decidable equality</p>
</blockquote>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>