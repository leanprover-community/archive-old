---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/.60trunc.20inhabited.20X.60.2C.20.60singleton.20X.60.2C.20and.20.60empty.20X.60.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60trunc.20inhabited.20X.60.2C.20.60singleton.20X.60.2C.20and.20.60empty.20X.60.html">`trunc inhabited X`, `singleton X`, and `empty X`</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="232077120"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60trunc%20inhabited%20X%60%2C%20%60singleton%20X%60%2C%20and%20%60empty%20X%60/near/232077120" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60trunc.20inhabited.20X.60.2C.20.60singleton.20X.60.2C.20and.20.60empty.20X.60.html#232077120">(Mar 27 2021 at 09:18)</a>:</h4>
<p>I feel like we're missing some very basic typeclasses.</p>
<ul>
<li><code>singleton X</code>, the <code>Prop</code> version of <code>unique</code>, e.g. equivalent to <code>nonempty (unique X)</code> (&lt;~~ edit)</li>
<li><code>just_one X</code>, (no idea how to name this one), equivalent to <code>trunc (unique X)</code>. i.e. it contains data, so one can use it computationally, but it is inside a quotient so extracting the data requires a proof that you're not really using it</li>
<li>plain old <code>is_empty X</code>, just a synonym for <code>X -&gt; false</code>.</li>
</ul>
<p>Am I forgetting that some of these exist already somewhere? Can we talk about adding them otherwise?</p>



<a name="232077130"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60trunc%20inhabited%20X%60%2C%20%60singleton%20X%60%2C%20and%20%60empty%20X%60/near/232077130" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60trunc.20inhabited.20X.60.2C.20.60singleton.20X.60.2C.20and.20.60empty.20X.60.html#232077130">(Mar 27 2021 at 09:18)</a>:</h4>
<p>Mostly right now I want <code>singleton X</code>.</p>



<a name="232077207"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60trunc%20inhabited%20X%60%2C%20%60singleton%20X%60%2C%20and%20%60empty%20X%60/near/232077207" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60trunc.20inhabited.20X.60.2C.20.60singleton.20X.60.2C.20and.20.60empty.20X.60.html#232077207">(Mar 27 2021 at 09:20)</a>:</h4>
<p>We've had a thread about <code>empty</code> before</p>



<a name="232077272"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60trunc%20inhabited%20X%60%2C%20%60singleton%20X%60%2C%20and%20%60empty%20X%60/near/232077272" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60trunc.20inhabited.20X.60.2C.20.60singleton.20X.60.2C.20and.20.60empty.20X.60.html#232077272">(Mar 27 2021 at 09:21)</a>:</h4>
<p>I assume you meant <code>singleton X = nonempty (unique X)</code>?</p>



<a name="232077336"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60trunc%20inhabited%20X%60%2C%20%60singleton%20X%60%2C%20and%20%60empty%20X%60/near/232077336" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60trunc.20inhabited.20X.60.2C.20.60singleton.20X.60.2C.20and.20.60empty.20X.60.html#232077336">(Mar 27 2021 at 09:23)</a>:</h4>
<p>Can you give an example of a type that you can prove is <code>subsingleton</code> but not <code>unique</code> (at least, while avoiding choice)?</p>



<a name="232077430"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60trunc%20inhabited%20X%60%2C%20%60singleton%20X%60%2C%20and%20%60empty%20X%60/near/232077430" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60trunc.20inhabited.20X.60.2C.20.60singleton.20X.60.2C.20and.20.60empty.20X.60.html#232077430">(Mar 27 2021 at 09:25)</a>:</h4>
<p>The statement of any open conjecture?</p>



<a name="232077615"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60trunc%20inhabited%20X%60%2C%20%60singleton%20X%60%2C%20and%20%60empty%20X%60/near/232077615" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60trunc.20inhabited.20X.60.2C.20.60singleton.20X.60.2C.20and.20.60empty.20X.60.html#232077615">(Mar 27 2021 at 09:28)</a>:</h4>
<p>Lots of things are easily seen to be subsingletons but may or may not be empty. e.g. we show <code>subsingleton (is_limit c)</code> for any <code>c : cone F</code>.</p>



<a name="232080414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60trunc%20inhabited%20X%60%2C%20%60singleton%20X%60%2C%20and%20%60empty%20X%60/near/232080414" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Wärn <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60trunc.20inhabited.20X.60.2C.20.60singleton.20X.60.2C.20and.20.60empty.20X.60.html#232080414">(Mar 27 2021 at 10:24)</a>:</h4>
<p><code>unique X</code> is already a subsingleton so <code>just_one</code> is redundant</p>



<a name="232080939"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60trunc%20inhabited%20X%60%2C%20%60singleton%20X%60%2C%20and%20%60empty%20X%60/near/232080939" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Wärn <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60trunc.20inhabited.20X.60.2C.20.60singleton.20X.60.2C.20and.20.60empty.20X.60.html#232080939">(Mar 27 2021 at 10:34)</a>:</h4>
<p>But we seem to be missing this fact</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">subsingleton_unique</span> <span class="o">{</span><span class="n">A</span><span class="o">}</span> <span class="o">:</span> <span class="n">subsingleton</span> <span class="o">(</span><span class="n">unique</span> <span class="n">A</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">⟨</span> <span class="kd">by</span> <span class="o">{</span> <span class="n">rintros</span> <span class="o">⟨⟨</span><span class="n">_</span><span class="o">⟩,</span> <span class="n">_</span><span class="o">⟩</span> <span class="o">⟨⟨</span><span class="n">_</span><span class="o">⟩,</span> <span class="n">_</span><span class="o">⟩,</span> <span class="n">cc</span> <span class="o">}</span> <span class="o">⟩</span>
</code></pre></div>



<a name="232081290"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60trunc%20inhabited%20X%60%2C%20%60singleton%20X%60%2C%20and%20%60empty%20X%60/near/232081290" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60trunc.20inhabited.20X.60.2C.20.60singleton.20X.60.2C.20and.20.60empty.20X.60.html#232081290">(Mar 27 2021 at 10:41)</a>:</h4>
<p>On the other hand, we have <code>def unique_unique_equiv : unique (unique α) ≃ unique α</code> <span aria-label="rofl" class="emoji emoji-1f923" role="img" title="rofl">:rofl:</span></p>



<a name="232081610"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60trunc%20inhabited%20X%60%2C%20%60singleton%20X%60%2C%20and%20%60empty%20X%60/near/232081610" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Wärn <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60trunc.20inhabited.20X.60.2C.20.60singleton.20X.60.2C.20and.20.60empty.20X.60.html#232081610">(Mar 27 2021 at 10:47)</a>:</h4>
<p>Actually there is <a href="https://leanprover-community.github.io/mathlib_docs/find/unique.subsingleton_unique">docs#unique.subsingleton_unique</a>, I just didn't look very closely...</p>



<a name="232082287"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60trunc%20inhabited%20X%60%2C%20%60singleton%20X%60%2C%20and%20%60empty%20X%60/near/232082287" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60trunc.20inhabited.20X.60.2C.20.60singleton.20X.60.2C.20and.20.60empty.20X.60.html#232082287">(Mar 27 2021 at 11:02)</a>:</h4>
<p>Whoops, I meant "singleton" but not "unique"</p>



<a name="232083573"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60trunc%20inhabited%20X%60%2C%20%60singleton%20X%60%2C%20and%20%60empty%20X%60/near/232083573" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60trunc.20inhabited.20X.60.2C.20.60singleton.20X.60.2C.20and.20.60empty.20X.60.html#232083573">(Mar 27 2021 at 11:25)</a>:</h4>
<p>No, <code>just_one</code> is not redundant --- you can abuse <code>unique</code> by taking the <code>default</code> element out.</p>



<a name="232083671"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60trunc%20inhabited%20X%60%2C%20%60singleton%20X%60%2C%20and%20%60empty%20X%60/near/232083671" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60trunc.20inhabited.20X.60.2C.20.60singleton.20X.60.2C.20and.20.60empty.20X.60.html#232083671">(Mar 27 2021 at 11:27)</a>:</h4>
<p>With <code>just_one</code> you could be sure that your construction did not depend on the particular <code>unique</code> instance you were served up by typeclass inference.</p>



<a name="232083683"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60trunc%20inhabited%20X%60%2C%20%60singleton%20X%60%2C%20and%20%60empty%20X%60/near/232083683" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60trunc.20inhabited.20X.60.2C.20.60singleton.20X.60.2C.20and.20.60empty.20X.60.html#232083683">(Mar 27 2021 at 11:27)</a>:</h4>
<p>And this is really why I want <code>singleton</code>, which is my main desiderata today. A version of unique entirely uncontaminated by data. :-)</p>



<a name="232085361"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60trunc%20inhabited%20X%60%2C%20%60singleton%20X%60%2C%20and%20%60empty%20X%60/near/232085361" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60trunc.20inhabited.20X.60.2C.20.60singleton.20X.60.2C.20and.20.60empty.20X.60.html#232085361">(Mar 27 2021 at 12:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110087">Scott Morrison</span> <a href="#narrow/stream/113488-general/topic/.60trunc.20inhabited.20X.60.2C.20.60singleton.20X.60.2C.20and.20.60empty.20X.60/near/232083671">said</a>:</p>
<blockquote>
<p>With <code>just_one</code> you could be sure that your construction did not depend on the particular <code>unique</code> instance you were served up by typeclass inference.</p>
</blockquote>
<p>Doesn't <code>unique.subsingleton_unique</code> already guarantee that? Or do you mean "depend" in a defeq-way, not just provably equal?</p>



<a name="232085634"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60trunc%20inhabited%20X%60%2C%20%60singleton%20X%60%2C%20and%20%60empty%20X%60/near/232085634" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60trunc.20inhabited.20X.60.2C.20.60singleton.20X.60.2C.20and.20.60empty.20X.60.html#232085634">(Mar 27 2021 at 12:05)</a>:</h4>
<p>You can use <code>[nonempty α] [subsingleton α]</code> for <code>[singleton α]</code></p>



<a name="232086198"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60trunc%20inhabited%20X%60%2C%20%60singleton%20X%60%2C%20and%20%60empty%20X%60/near/232086198" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60trunc.20inhabited.20X.60.2C.20.60singleton.20X.60.2C.20and.20.60empty.20X.60.html#232086198">(Mar 27 2021 at 12:15)</a>:</h4>
<p>You can use typeclasses to say k is a number field (a char zero field finite dimensional over Q) but I think we still want to be able to say it cleanly.</p>



<a name="232086584"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60trunc%20inhabited%20X%60%2C%20%60singleton%20X%60%2C%20and%20%60empty%20X%60/near/232086584" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60trunc.20inhabited.20X.60.2C.20.60singleton.20X.60.2C.20and.20.60empty.20X.60.html#232086584">(Mar 27 2021 at 12:22)</a>:</h4>
<p>This will be a lot easier in lean4, where <code>[nonempty α] [subsingleton α]</code> and <code>[singleton α]</code> can be made interchangeable; in lean 3 typeclass search can go only in one direction between the two styles, and forms a loop if you try both. This comes up for <code>integral_domain</code> vs <code>no_zero_divisors</code> <code>comm_ring</code> <code>nontrivial</code></p>



<a name="232126954"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60trunc%20inhabited%20X%60%2C%20%60singleton%20X%60%2C%20and%20%60empty%20X%60/near/232126954" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60trunc.20inhabited.20X.60.2C.20.60singleton.20X.60.2C.20and.20.60empty.20X.60.html#232126954">(Mar 27 2021 at 23:51)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> I think others said this already, but <code>unique</code> is a subsingleton so <code>just_one</code> is equivalent to <code>unique</code></p>



<a name="232126970"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60trunc%20inhabited%20X%60%2C%20%60singleton%20X%60%2C%20and%20%60empty%20X%60/near/232126970" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60trunc.20inhabited.20X.60.2C.20.60singleton.20X.60.2C.20and.20.60empty.20X.60.html#232126970">(Mar 27 2021 at 23:51)</a>:</h4>
<p>Okay! I understand now, thanks.</p>



<a name="232127042"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60trunc%20inhabited%20X%60%2C%20%60singleton%20X%60%2C%20and%20%60empty%20X%60/near/232127042" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60trunc.20inhabited.20X.60.2C.20.60singleton.20X.60.2C.20and.20.60empty.20X.60.html#232127042">(Mar 27 2021 at 23:53)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">logic.unique</span>

<span class="kd">example</span> <span class="o">{</span><span class="n">α</span><span class="o">}</span> <span class="o">(</span><span class="n">t</span> <span class="o">:</span> <span class="n">trunc</span> <span class="o">(</span><span class="n">unique</span> <span class="n">α</span><span class="o">))</span> <span class="o">:</span> <span class="n">unique</span> <span class="n">α</span> <span class="o">:=</span>
<span class="n">trunc.rec_on_subsingleton</span> <span class="n">t</span> <span class="n">id</span>
</code></pre></div>



<a name="232127091"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60trunc%20inhabited%20X%60%2C%20%60singleton%20X%60%2C%20and%20%60empty%20X%60/near/232127091" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60trunc.20inhabited.20X.60.2C.20.60singleton.20X.60.2C.20and.20.60empty.20X.60.html#232127091">(Mar 27 2021 at 23:54)</a>:</h4>
<p>what are the use cases for <code>singleton</code>?</p>



<a name="232127097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60trunc%20inhabited%20X%60%2C%20%60singleton%20X%60%2C%20and%20%60empty%20X%60/near/232127097" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60trunc.20inhabited.20X.60.2C.20.60singleton.20X.60.2C.20and.20.60empty.20X.60.html#232127097">(Mar 27 2021 at 23:54)</a>:</h4>
<p>I think <code>is_empty</code> was already being discussed in another issue</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>