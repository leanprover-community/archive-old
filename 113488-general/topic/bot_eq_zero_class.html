---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/bot_eq_zero_class.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html">bot_eq_zero_class</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="284700572"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284700572" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284700572">(Jun 02 2022 at 05:12)</a>:</h4>
<p>I'm thinking about a potential new typeclass extending <code>has_bot</code> and <code>has_zero</code> with the single field <code>bot_eq_zero : ⊥ = 0</code>. Such a typeclass would allow us to state a few important theorems on the bottom element, such as <code>∀ x, ⊥ ≤ x</code>, or <code>max x ⊥ = x</code>, in terms of zero, which is useful for rewriting. A nice consequence is that the lemma <code>zero_le</code> would no longer depend on the overpowered <code>canonically_ordered_add_monoid</code> class</p>



<a name="284700597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284700597" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284700597">(Jun 02 2022 at 05:13)</a>:</h4>
<p>The particular application I'm thinking of are ordinals, which cannot be a <code>canonically_ordered_add_monoid</code> whilst still satisfying <code>zero_le</code>, but I would bet that there's a few others.</p>



<a name="284700732"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284700732" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284700732">(Jun 02 2022 at 05:16)</a>:</h4>
<p>I believe that this class, together with <code>partial_order</code>, <code>has_add</code>, and one of the <code>covariant</code> classes, should be enough to prove theorems like <code>one_lt_two</code> and such, which are currently gated behind the overpowered <code>ordered_semiring</code> class</p>



<a name="284700748"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284700748" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284700748">(Jun 02 2022 at 05:16)</a>:</h4>
<p>(these lemmas aren't even about multiplication! Why do they require it?)</p>



<a name="284700971"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284700971" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284700971">(Jun 02 2022 at 05:21)</a>:</h4>
<p>Well, <code>one_lt_two</code> and friends are true even when <code>0</code> isn't a bottom element, so I guess these new variants wouldn't obsolete the <code>semiring</code> ones</p>



<a name="284701079"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284701079" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284701079">(Jun 02 2022 at 05:23)</a>:</h4>
<p>I think a new <code>zero_le_one_class</code> + <code>has_add</code> + <code>partial_order</code> + some <code>covariant</code> class should be enough to prove these lemmas though</p>



<a name="284701081"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284701081" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284701081">(Jun 02 2022 at 05:23)</a>:</h4>
<p>So that's two proposals</p>



<a name="284701251"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284701251" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284701251">(Jun 02 2022 at 05:26)</a>:</h4>
<p>Oh and also, these same conditions would be enough to prove <code>odd.pos</code></p>



<a name="284701267"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284701267" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284701267">(Jun 02 2022 at 05:27)</a>:</h4>
<p>As referenced <a href="#narrow/stream/113488-general/topic/odd_gt_zero">in this other thread</a></p>



<a name="284702093"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284702093" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284702093">(Jun 02 2022 at 05:45)</a>:</h4>
<p>In fact! These lemmas about <code>one_lt_two</code> and such are all proven in terms of relatively weak typeclasses, with the sole exception of <code>ordered_semiring</code></p>



<a name="284702267"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284702267" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284702267">(Jun 02 2022 at 05:48)</a>:</h4>
<p>Actually, the <code>zero_le_one_class</code> proposal seems simple and uncontroversial enough</p>



<a name="284702425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284702425" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284702425">(Jun 02 2022 at 05:52)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/14510">#14510</a></p>



<a name="284702996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284702996" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284702996">(Jun 02 2022 at 06:01)</a>:</h4>
<p>I wonder if a <code>zero_lt_one_class</code> might be useful too. That would lead to an even more general form of the numeric comparison lemmas that doesn't depend on multiplication (since <code>zero_ne_one</code> currently depends on <code>mul_zero_one_class</code> and <code>nontrivial</code>)</p>



<a name="284703060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284703060" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284703060">(Jun 02 2022 at 06:03)</a>:</h4>
<p>The one example I can think of is <code>pgame</code>, which is not a <code>mul_zero_one_class</code> but still satisfies <code>1 &lt; 2</code> and all these similar lemmas</p>



<a name="284703065"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284703065" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284703065">(Jun 02 2022 at 06:03)</a>:</h4>
<p>Again, I bet there's more</p>



<a name="284703344"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284703344" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284703344">(Jun 02 2022 at 06:06)</a>:</h4>
<p>That's three proposals</p>



<a name="284704057"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284704057" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284704057">(Jun 02 2022 at 06:18)</a>:</h4>
<p>Darn, it seems like my <code>zero_le_one_class</code> breaks dot notation on <code>zero_le_one</code></p>



<a name="284704058"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284704058" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284704058">(Jun 02 2022 at 06:18)</a>:</h4>
<p>No idea why</p>



<a name="284705213"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284705213" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284705213">(Jun 02 2022 at 06:33)</a>:</h4>
<p>Wait, what? This broke dot notation on <code>one_le_two</code> even though I didn't even tweak it</p>



<a name="284705381"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284705381" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284705381">(Jun 02 2022 at 06:36)</a>:</h4>
<p>I must have done something wrong</p>



<a name="284739950"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284739950" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284739950">(Jun 02 2022 at 12:57)</a>:</h4>
<p>Dot notation is elaborated quite early on, so it is quite sensitive to typeclass issues. Probably redefining <code>ordered_semiring</code> meant that you get a (different) diamond issue, and the issue happens too early to be resolved by unfolding the (not yet found?) instances</p>



<a name="284740045"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284740045" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284740045">(Jun 02 2022 at 12:58)</a>:</h4>
<p>This is a constant annoyance with my refactors too :(</p>



<a name="284764090"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284764090" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284764090">(Jun 02 2022 at 15:47)</a>:</h4>
<p>Is there any potential fix?</p>



<a name="284770278"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284770278" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284770278">(Jun 02 2022 at 16:31)</a>:</h4>
<p>Wonder if it would be better for <code>zero_le_one</code> class to take <code>has_le</code> as an argument rather than a field. Just a hunch though</p>



<a name="284770289"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284770289" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284770289">(Jun 02 2022 at 16:31)</a>:</h4>
<p>I don't really understand the difference between these two approaches</p>



<a name="284772015"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284772015" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284772015">(Jun 02 2022 at 16:46)</a>:</h4>
<p>Huh, this approach seems to have fixed the issue</p>



<a name="284820643"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284820643" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284820643">(Jun 03 2022 at 00:08)</a>:</h4>
<p>It builds!</p>



<a name="284823689"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284823689" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284823689">(Jun 03 2022 at 01:02)</a>:</h4>
<p>Actually, since I'm not using this class to build the hierarchy, I think it might be a better idea to make it take <code>has_zero</code> and <code>has_one</code> as instance arguments</p>



<a name="284824091"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284824091" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284824091">(Jun 03 2022 at 01:08)</a>:</h4>
<p>To state <code>zero_le_two</code>, I need both <code>add_zero_class</code> and <code>zero_le_one_class</code>, and since <code>add_zero_class</code> extends <code>has_zero</code> and <code>has_one</code> I can't really take both without this</p>



<a name="284844056"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284844056" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284844056">(Jun 03 2022 at 07:14)</a>:</h4>
<p>What instances do you have in mind for this new class?</p>



<a name="284844407"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284844407" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284844407">(Jun 03 2022 at 07:19)</a>:</h4>
<p>Because if the only example you have is "ordinals", why not just make a non-commutative version of the existing typeclasses (i.e. pick the strongest typeclass you can)</p>



<a name="284846401"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284846401" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284846401">(Jun 03 2022 at 07:47)</a>:</h4>
<p>Also please don't touch <code>canonically_ordered_whatever</code>, I have a big refactor coming up and I suspect it will fix your problem.</p>



<a name="284848652"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284848652" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284848652">(Jun 03 2022 at 08:15)</a>:</h4>
<p>I thought I'd come up with <a href="https://leanprover-community.github.io/mathlib_docs/find/submodule">docs#submodule</a> as an example of an instance, but it turns out that that's a <code>canonically_ordered_add_monoid</code> (<a href="https://github.com/leanprover-community/mathlib/pull/14529">#14529</a>)</p>



<a name="284850018"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284850018" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284850018">(Jun 03 2022 at 08:32)</a>:</h4>
<p>If you take <code>with_bot</code> of something with <code>zero_le_one_class</code> you should still obtain a <code>zero_le_one_class</code>, but <code>canonically_ordered</code> should not be preserved by the <code>with_bot</code> operation, right?</p>
<p>E.g. <code>with_bot nat</code> has <code>zero_le_one_class</code>, but is not canonically ordered, since <a href="https://leanprover-community.github.io/mathlib_docs/find/bot_eq_zero">docs#bot_eq_zero</a> fails.</p>
<p>Note that <code>with_bot nat</code> is the target of <a href="https://leanprover-community.github.io/mathlib_docs/find/polynomial.degree">docs#polynomial.degree</a>.</p>



<a name="284961073"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284961073" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284961073">(Jun 04 2022 at 05:55)</a>:</h4>
<p>As for <code>zero_le_one_class</code>, I don't really have many examples, other than <code>pgame</code> and <code>ordinal</code>. I just find it a bit silly that:</p>
<ul>
<li>there's two classes <code>linear_ordered_comm_monoid_with_zero</code> and <code>ordered_semiring</code> with this assumption, yet only one gets to use the lemma in the root namespace <code>zero_le_one</code>.</li>
<li>the assumptions for <code>zero_le_two</code> and <code>one_le_two</code>, which are laughably simple statements, are very overpowered.</li>
</ul>



<a name="284961132"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284961132" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284961132">(Jun 04 2022 at 05:57)</a>:</h4>
<p>As for <code>bot_eq_zero_class</code>, I think that should be a much easier sell. There's all sorts of structures like that: natural numbers, non-negative reals, ordinals, cardinals, ...</p>



<a name="284961418"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284961418" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284961418">(Jun 04 2022 at 06:04)</a>:</h4>
<p>And I've seen a few certain lemmas, like <code>x ≤ 0 ↔ x = 0</code> or <code>¬ x &lt; 0</code> duplicated throughout these files</p>



<a name="284961632"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284961632" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284961632">(Jun 04 2022 at 06:10)</a>:</h4>
<p>I'm doing the <code>zero_le_one_class</code> PR first since <code>bot_eq_zero_class</code> would imply that other one, which I suspect may lead to a bit of extra golfing</p>



<a name="284961652"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284961652" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284961652">(Jun 04 2022 at 06:11)</a>:</h4>
<p><span class="user-mention" data-user-id="387244">@Yaël Dillies</span> I'm not really modifying the <code>canonically_ordered_thing</code> in my PR</p>



<a name="284961702"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284961702" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284961702">(Jun 04 2022 at 06:12)</a>:</h4>
<p>May I ask what your refactor is about? Wondering if it will magically fix my issues with ordinals</p>



<a name="284964462"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284964462" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284964462">(Jun 04 2022 at 07:28)</a>:</h4>
<p>Still I doubt you will need it once I'm done. My refactor is to create a <code>canonical_order</code> mixin (actually, two, one for addition and one for multiplication), and use that in place of <code>canonically_ordered_...</code>, some of which are missing and creating weirdness.</p>



<a name="284964471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284964471" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284964471">(Jun 04 2022 at 07:29)</a>:</h4>
<p>Those would extend <a href="https://leanprover-community.github.io/mathlib_docs/find/has_exists_add_of_le">docs#has_exists_add_of_le</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/has_exists_mul_of_le">docs#has_exists_mul_of_le</a>.</p>



<a name="284964489"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284964489" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284964489">(Jun 04 2022 at 07:29)</a>:</h4>
<p>You mean that I won't need <code>canonical_order_thing</code>, or that I won't need <code>zero_le_one_class</code>?</p>



<a name="284964569"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284964569" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284964569">(Jun 04 2022 at 07:31)</a>:</h4>
<p>And yeah, your PR seems like it would indeed fix a lot of the current <code>ordinal</code> weirdness!</p>



<a name="284964574"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284964574" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284964574">(Jun 04 2022 at 07:31)</a>:</h4>
<p>A huge problem right now is the fact that there's no such thing as a canonically ordered monoid without commutative addition</p>



<a name="284965097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284965097" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284965097">(Jun 04 2022 at 07:44)</a>:</h4>
<p>Is that actually a huge problem? I understand it would be nice to be able to use the same lemmas on ordinals and elsewhere; but this feels more like an "annoying papercut" rather than a "problem" that prevents things being formalized</p>



<a name="284965177"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284965177" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284965177">(Jun 04 2022 at 07:47)</a>:</h4>
<p>Yeah I might have been a bit hyperbolic, it's really an annoying papercut</p>



<a name="284965181"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284965181" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284965181">(Jun 04 2022 at 07:47)</a>:</h4>
<p>But it's one I'm glad to get rid of!</p>



<a name="284965292"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284965292" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284965292">(Jun 04 2022 at 07:50)</a>:</h4>
<p>Ordinals have been plagued with these papercuts for the longest time, though a few recent PRs have greatly alleviated the situation</p>



<a name="284965717"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284965717" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284965717">(Jun 04 2022 at 08:03)</a>:</h4>
<p>Note that your "sided distributivity" PR broke many rewrites in the sense that there now is a <code>right_distrib_class ...</code> gozl popping up.</p>



<a name="284965834"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284965834" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284965834">(Jun 04 2022 at 08:06)</a>:</h4>
<p>Was it really that many? Also, what's up with <code>rw</code> and adding typeclass goals?</p>



<a name="284972492"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284972492" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284972492">(Jun 04 2022 at 10:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284965717">said</a>:</p>
<blockquote>
<p>Note that your "sided distributivity" PR broke many rewrites in the sense that there now is a <code>right_distrib_class ...</code> gozl popping up.</p>
</blockquote>
<p>Do you have an example of this? This was one of the things I was afraid of.</p>



<a name="284989091"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284989091" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284989091">(Jun 04 2022 at 16:51)</a>:</h4>
<p>I guess adding these classes to solve small problems isn't a net good after all <span aria-label="pensive" class="emoji emoji-1f614" role="img" title="pensive">:pensive:</span></p>



<a name="284989625"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284989625" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284989625">(Jun 04 2022 at 17:02)</a>:</h4>
<p>I still think <code>bot_eq_zero_class</code> is totally worth it, but given that what I have for <code>zero_le_one_class</code> are just small complaints, I'm not so sure about that one</p>



<a name="284989667"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284989667" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284989667">(Jun 04 2022 at 17:03)</a>:</h4>
<p>I'm not quite convinced that the distributivity refactor was a bad idea, though. I find it really surprising that ordinals are the only structure with one-sided distributivity we ever have to deal with. And though it did break a few <code>rw</code>s, it wasn't that many either</p>



<a name="284989833"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284989833" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284989833">(Jun 04 2022 at 17:07)</a>:</h4>
<p>Do these extra classes actually cause a significant increase in compile time? Or is it just a few seconds and some random breakage here and there? Because if so, I think the sliver of extra convenience would still be a net gain</p>



<a name="284990064"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284990064" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284990064">(Jun 04 2022 at 17:13)</a>:</h4>
<p>I should mention that my plan with <code>zero_le_one_class</code> was to follow it up with a <code>zero_lt_one_class</code>. That's a new typeclass giving more potential trouble, but I think it's usefulness should be much more obvious. It would allow to generalize lemmas like <code>0 &lt; 2</code> and such, which currently require <code>semiring</code>s, even though they're lemmas purely about addition. Once again, I only have <code>ordinal</code> and <code>pgame</code> as examples, but I'm much more confident that there should exist structures without well behaved multiplication where comparing natural numbers still makes sense.</p>



<a name="284990350"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284990350" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#284990350">(Jun 04 2022 at 17:20)</a>:</h4>
<p>I'm going to wait for feedback before following through with anything, because I don't really understand the negative consequences of these new typeclasses.</p>



<a name="285002591"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/285002591" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#285002591">(Jun 04 2022 at 22:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284964462">said</a>:</p>
<blockquote>
<p>My refactor is to create a <code>canonical_order</code> mixin (actually, two, one for addition and one for multiplication), and use that in place of <code>canonically_ordered_...</code>, some of which are missing and creating weirdness.</p>
</blockquote>
<p>First half in <a href="https://github.com/leanprover-community/mathlib/pull/14556">#14556</a>.</p>



<a name="285010368"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/285010368" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#285010368">(Jun 05 2022 at 01:52)</a>:</h4>
<p><span class="user-mention silent" data-user-id="459227">Violeta Hernández</span> <a href="#narrow/stream/113488-general/topic/bot_eq_zero_class/near/284989833">said</a>:</p>
<blockquote>
<p>Do these extra classes actually cause a significant increase in compile time? Or is it just a few seconds and some random breakage here and there? Because if so, I think the sliver of extra convenience would still be a net gain</p>
</blockquote>
<p>I think the issue with new classes is not as much about compile time increase as it is about maintainability and general understandability of the library. Ideally we would like mathematicians to actually recognize the mathematics we are doing, and coming up with too many bespoke typeclasses makes things harder to untangle. It's a general problem with increasing abstraction, the code eventually becomes utterly unrecognizable on concrete use cases</p>



<a name="285010475"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/285010475" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#285010475">(Jun 05 2022 at 01:55)</a>:</h4>
<p>although the length of the spine of typeclasses is actually directly relevant to the performance of typeclass inference and elaboration thereafter: if you have <code>A.to_C h</code> before and add an intermediate typeclass <code>B</code> you now have <code>A.to_B (B.to_C h)</code> appearing everywhere instead, which is a bigger term that needs more time to typecheck, rewrite, and otherwise manipulate, in addition to the cost of the larger typeclass search that lead to that term in the first place</p>



<a name="285011730"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/285011730" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#285011730">(Jun 05 2022 at 02:26)</a>:</h4>
<p>I don't think any of the classes I'm proposing significantly increases the complexity of the typeclass hierarchy</p>



<a name="285874027"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/285874027" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#285874027">(Jun 13 2022 at 02:13)</a>:</h4>
<p>I'm thinking about the <code>bot_eq_zero_class</code> idea again</p>



<a name="285874183"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/285874183" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#285874183">(Jun 13 2022 at 02:16)</a>:</h4>
<p>I think that ideally, it would work something like this:</p>
<ul>
<li>the class takes in <code>has_bot α</code> and <code>has_zero α</code>, and has a single field <code>bot_eq_zero : ⊥ = 0</code></li>
<li><code>bot_eq_zero</code> is made into a <code>simp</code> lemma</li>
<li>we come up with some sort of attribute <code>@[to_zero]</code> (?) that can be added on a lemma involving <code>⊥</code> and turns it into a lemma on <code>0</code>, with the same typeclass assumptions and attributes save for an extra <code>bot_eq_zero</code> typeclass assumption</li>
</ul>



<a name="285874216"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/285874216" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#285874216">(Jun 13 2022 at 02:16)</a>:</h4>
<p>The first two points are super easy to implement, but I have no idea how to do the third one</p>



<a name="285874236"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/285874236" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#285874236">(Jun 13 2022 at 02:17)</a>:</h4>
<p>Although, surely it shouldn't be too hard to implement, we already have <code>to_additive</code> which is way more sophisticated</p>



<a name="285874313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/285874313" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#285874313">(Jun 13 2022 at 02:18)</a>:</h4>
<p>We may also want to consider a "multiplicative" variant of this idea with a <code>bot_eq_one_class</code>, though that's way more niche I believe</p>



<a name="285874343"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/285874343" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#285874343">(Jun 13 2022 at 02:19)</a>:</h4>
<p>I believe <code>ℕ+</code> is the only concrete example we have of something like this</p>



<a name="285874399"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/285874399" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#285874399">(Jun 13 2022 at 02:20)</a>:</h4>
<p>Can someone with metaprogramming experience tell me if this is a simple/good idea?</p>



<a name="285876385"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/285876385" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#285876385">(Jun 13 2022 at 02:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="459227">Violeta Hernández</span> <a href="#narrow/stream/113488-general/topic/bot_eq_zero_class/near/285874343">said</a>:</p>
<blockquote>
<p>I believe <code>ℕ+</code> is the only concrete example we have of something like this</p>
</blockquote>
<p>Actually, on that topic, do we have any concrete example whatsoever of a <a href="https://leanprover-community.github.io/mathlib_docs/find/canonically_ordered_monoid">docs#canonically_ordered_monoid</a>?</p>



<a name="285876408"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/285876408" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#285876408">(Jun 13 2022 at 02:59)</a>:</h4>
<p>The docstring acknowledges that this is rare, and says that some duals of some objects have this property, but there don't seem to be any registered concrete instances</p>



<a name="285897144"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/285897144" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#285897144">(Jun 13 2022 at 08:41)</a>:</h4>
<p>I didn't follow the conversation in this thread, but I just tried to bump mathlib in the sphere eversion project, and <code>zero_le_two</code> is now horribly broken. Minimized example:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">analysis.normed.group.basic</span>

<span class="kd">example</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">normed_group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">≤</span> <span class="mi">2</span><span class="bp">*∥</span><span class="n">g</span><span class="bp">∥</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">apply</span> <span class="n">mul_nonneg</span> <span class="n">zero_le_two</span><span class="o">,</span>
  <span class="c">/-</span><span class="cm"></span>
<span class="cm">  type mismatch at application</span>
<span class="cm">    mul_nonneg zero_le_two</span>
<span class="cm">  term</span>
<span class="cm">    zero_le_two</span>
<span class="cm">  has type</span>
<span class="cm">    0 ≤ 2</span>
<span class="cm">  but is expected to have type</span>
<span class="cm">    0 ≤ ?m_3</span>
<span class="cm">  state:</span>
<span class="cm">  G : Type ?,</span>
<span class="cm">  _inst_1 : normed_group G,</span>
<span class="cm">  g : G</span>
<span class="cm">  ⊢ 0 ≤ 2 * ∥g∥</span>
<span class="cm">  -/</span>
  <span class="gr">sorry</span>
<span class="kd">end</span>
</code></pre></div>
<p>This used to work flawlessly. I know how to fix my proof, but I find it really sad.</p>



<a name="285897458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/285897458" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#285897458">(Jun 13 2022 at 08:44)</a>:</h4>
<p>And next build error is about <code>zero_le_one</code>...</p>



<a name="285897495"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/285897495" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#285897495">(Jun 13 2022 at 08:44)</a>:</h4>
<p>Just so that it is written somewhere, I thought we agreed the plan was to not introduce <code>zero_le_one_class</code> until we made the <code>canonical_add_order</code> mixin I was talking about (<a href="https://github.com/leanprover-community/mathlib/pull/14556">#14556</a> and then a PR I have yet to write), and then see whether we even needed it anymore.</p>



<a name="285897581"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/285897581" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#285897581">(Jun 13 2022 at 08:45)</a>:</h4>
<p>So I am more than happy to revert <a href="https://github.com/leanprover-community/mathlib/pull/14510">#14510</a>.</p>



<a name="285897713"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/285897713" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#285897713">(Jun 13 2022 at 08:46)</a>:</h4>
<p>Fixing the sphere eversion project is rather time consuming so I would prefer if we don't oscillate too much.</p>



<a name="285897774"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/285897774" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#285897774">(Jun 13 2022 at 08:47)</a>:</h4>
<p>Well yeah I'm sorry I wasn't the one hitting merge on <a href="https://github.com/leanprover-community/mathlib/pull/14510">#14510</a>.</p>



<a name="285897885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/285897885" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#285897885">(Jun 13 2022 at 08:48)</a>:</h4>
<p>I builds now. It turns out that everything needed was related to either <code>zero_le_one</code>/<code>zero_le_two</code> or <code>set.finite</code> now being protected (I guess this is a side effect of Kyle's work but I have no idea why).</p>



<a name="285900318"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/285900318" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#285900318">(Jun 13 2022 at 09:08)</a>:</h4>
<p><code>refine</code> instead of <code>apply</code> works in your mwe</p>



<a name="287009436"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/287009436" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#287009436">(Jun 22 2022 at 06:15)</a>:</h4>
<p>Ok so... my plan was to follow up the <code>zero_le_one_class</code> PR with a <code>zero_lt_one_class</code> PR, but seeing how controversial that last one is, I'd like to put it on the table first</p>



<a name="287009522"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/287009522" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#287009522">(Jun 22 2022 at 06:16)</a>:</h4>
<p>The main benefit of such a typeclass is that it allows us to generalize lemmas like <code>0 &lt; 2</code> or <code>1 &lt; 2</code>, which right now have the somewhat overpowered assumption of a nontrivial ordered semiring (these lemmas aren't even about multiplication!)</p>



<a name="287009558"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/287009558" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#287009558">(Jun 22 2022 at 06:17)</a>:</h4>
<p>There's also this note on <a href="https://leanprover-community.github.io/mathlib_docs/find/zero_lt_one'">docs#zero_lt_one'</a> about how <code>norm_num</code> can only use <code>0 &lt; 1</code> for the even stronger case of a linear ordered semiring, so such a class seems like it could be useful there too</p>



<a name="287009660"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/287009660" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#287009660">(Jun 22 2022 at 06:19)</a>:</h4>
<p>As for concrete types that would benefit from this, I have <code>ordinal</code> and <code>game</code>. The typeclass could be defined on some <code>with_top</code> and <code>with_bot</code> types, though the numeric comparison lemmas wouldn't apply. I'm out of examples but hopeful there's a few more</p>



<a name="287010033"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/287010033" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#287010033">(Jun 22 2022 at 06:24)</a>:</h4>
<p>One of the main complaints of the last refactor was random breakage due to typeclass inference. That could be remedied by just making the type argument explicit on all these lemmas. That would add a few extra characters throughout mathlib, but it would also get rid of the dozens of instances of <code>@zero_lt_two α _ _</code> and such.</p>



<a name="287012244"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/287012244" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#287012244">(Jun 22 2022 at 06:55)</a>:</h4>
<p>Oh! This instance can also be defined on every linearly ordered commutative group with zero, surely that leads to extra uses?</p>



<a name="287012288"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/287012288" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#287012288">(Jun 22 2022 at 06:56)</a>:</h4>
<p>There's also the example of <code>onote</code> though that's admittedly really niche</p>



<a name="308982773"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/308982773" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yuyang Zhao <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#308982773">(Nov 10 2022 at 12:58)</a>:</h4>
<p>I'm working on generalizing lemmas like <code>zero_ne_one</code> and <code>zero_lt_one</code> by reducing their typeclass assumptions to <a href="https://leanprover-community.github.io/mathlib_docs/find/ne_zero">docs#ne_zero</a>, <a href="https://leanprover-community.github.io/mathlib_docs/find/zero_le_one_class">docs#zero_le_one_class</a>, and <a href="https://leanprover-community.github.io/mathlib_docs/find/partial_order">docs#partial_order</a> (no new typeclasses are introduced). This also needs to fix a lot of <code>@zero_lt_two α _ _</code>. <br>
Before finishing it I would like to ask if there are any more suggestions.</p>



<a name="308985742"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/308985742" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#308985742">(Nov 10 2022 at 13:15)</a>:</h4>
<p>What new types does it apply to?</p>



<a name="308989415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/308989415" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yuyang Zhao <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#308989415">(Nov 10 2022 at 13:35)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">zero_lt_one</span> <span class="o">[</span><span class="n">has_zero</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">has_one</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">partial_order</span> <span class="n">α</span><span class="o">]</span>
  <span class="o">[</span><span class="n">zero_le_one_class</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">ne_zero</span> <span class="o">(</span><span class="mi">1</span> <span class="o">:</span> <span class="n">α</span><span class="o">)]</span> <span class="o">:</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="bp">&lt;</span> <span class="mi">1</span>

<span class="kd">lemma</span> <span class="n">zero_lt_two</span> <span class="o">[</span><span class="n">has_one</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">add_zero_class</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">partial_order</span> <span class="n">α</span><span class="o">]</span>
  <span class="o">[</span><span class="n">zero_le_one_class</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">ne_zero</span> <span class="o">(</span><span class="mi">1</span> <span class="o">:</span> <span class="n">α</span><span class="o">)]</span> <span class="o">[</span><span class="n">covariant_class</span> <span class="n">α</span> <span class="n">α</span> <span class="o">(</span><span class="bp">+</span><span class="o">)</span> <span class="o">(</span><span class="bp">≤</span><span class="o">)]</span> <span class="o">:</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="bp">&lt;</span> <span class="mi">2</span>
</code></pre></div>



<a name="308994331"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/308994331" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#308994331">(Nov 10 2022 at 14:00)</a>:</h4>
<p><span class="user-mention" data-user-id="387244">@Yaël Dillies</span>'s question is about what <code>α</code> you forsee this generalization being useful for</p>



<a name="308999074"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/308999074" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yuyang Zhao <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#308999074">(Nov 10 2022 at 14:22)</a>:</h4>
<p>It generalizes <a href="https://leanprover-community.github.io/mathlib_docs/find/ordinal.zero_lt_one">docs#ordinal.zero_lt_one</a>, <a href="https://leanprover-community.github.io/mathlib_docs/find/cardinal.zero_lt_one">docs#cardinal.zero_lt_one</a>, <a href="https://leanprover-community.github.io/mathlib_docs/algebra/order/with_zero.html#zero_lt_one%E2%82%80">docs#zero_lt_one₀</a>, and <a href="https://leanprover-community.github.io/mathlib_docs/find/part_enat.zero_lt_one">docs#part_enat.zero_lt_one</a>.</p>



<a name="309005214"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/309005214" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#309005214">(Nov 10 2022 at 14:53)</a>:</h4>
<p>Doesn't <a href="https://leanprover-community.github.io/mathlib_docs/find/zero_lt_one">docs#zero_lt_one</a> already work for part_enat?</p>



<a name="309006432"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/309006432" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yuyang Zhao <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#309006432">(Nov 10 2022 at 14:58)</a>:</h4>
<p>There is no multiplication for part_enat.</p>



<a name="309019768"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/309019768" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yuyang Zhao <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#309019768">(Nov 10 2022 at 15:59)</a>:</h4>
<p>Here is the PR <a href="https://github.com/leanprover-community/mathlib/pull/17465">#17465</a></p>



<a name="309022226"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/309022226" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#309022226">(Nov 10 2022 at 16:08)</a>:</h4>
<p>If you define <code>0* infty = 0</code> I think that makes <code>enat</code> an <code>ordered_semiring</code> though, so <code>zero_lt_one</code> should in principle apply.</p>



<a name="309023235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/309023235" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#309023235">(Nov 10 2022 at 16:13)</a>:</h4>
<p>Indeed <code>enat</code> is already a <code>canonically_ordered_comm_semiring</code>, do we have a good reason for not doing the same with <code>part_enat</code></p>



<a name="309118083"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/309118083" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#309118083">(Nov 11 2022 at 02:07)</a>:</h4>
<p>I think the reason simply that no one cares much about part_enat</p>



<a name="309144815"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/309144815" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#309144815">(Nov 11 2022 at 08:01)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/part_enat">docs#part_enat</a> I've never even heard of it</p>



<a name="309145148"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/309145148" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#309145148">(Nov 11 2022 at 08:04)</a>:</h4>
<p>Yeah ok it's constructive enat. Good luck using that. I remember the same thing with <code>ereal</code>, which I made once (reals and +- infinity). I defined neg but was scared to define add because I didn't know what -infty + infty was. Later on I realised I should probably have just made a random decision.</p>



<a name="309145471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/309145471" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#309145471">(Nov 11 2022 at 08:07)</a>:</h4>
<p>It was the old <code>enat</code> until a month ago when it was renamed and replaced by <code>enat := with_top nat</code>.</p>



<a name="309145848"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/309145848" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#309145848">(Nov 11 2022 at 08:10)</a>:</h4>
<p>Yeah old enat I'm only too familiar with :-(</p>



<a name="309165196"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/309165196" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#309165196">(Nov 11 2022 at 10:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113488-general/topic/bot_eq_zero_class/near/309145148">said</a>:</p>
<blockquote>
<p>Yeah ok it's constructive enat. Good luck using that. I remember the same thing with <code>ereal</code>, which I made once (reals and +- infinity). I defined neg but was scared to define add because I didn't know what -infty + infty was. Later on I realised I should probably have just made a random decision.</p>
</blockquote>
<p>Since then, we have made a decision on what <code>-infty + infty</code>. It's <code>+infty</code> now. And unfortunately it's the bad convention. Indeed, <code>0 * infty</code> should absolutely by <code>0</code> in <code>ennreal</code> (this is really important in measure theory), and you really want <code>log</code> and <code>exp</code>  between <code>ennreal</code> and <code>ereal</code> to respect the operations. Yet another refactor that will have to de done some day...</p>



<a name="309172997"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/309172997" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#309172997">(Nov 11 2022 at 11:25)</a>:</h4>
<p>Oh wow I hadn't expected someone to come up with a plausible argument for one convention being better!</p>



<a name="309173242"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/309173242" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#309173242">(Nov 11 2022 at 11:27)</a>:</h4>
<p>This even came up in a concrete application (where entropy does not behave well on the empty space unless you have the good convention on ereal).</p>



<a name="309190865"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/309190865" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#309190865">(Nov 11 2022 at 13:17)</a>:</h4>
<p>I assume your claim is that it should be <code>-infty + infty = 0</code>?</p>



<a name="309191541"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/309191541" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#309191541">(Nov 11 2022 at 13:21)</a>:</h4>
<p>The idea is that exp is an isomorphism between <code>ereal</code> and <code>ennreal</code>, with log as the inverse. So if <code>0 * infty = 0</code> in <code>ennreal</code> (which is mathematically useful) then <code>-infty + infty = -infty</code> should be true in <code>ereal</code>.</p>



<a name="309213621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/309213621" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yuyang Zhao <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#309213621">(Nov 11 2022 at 15:27)</a>:</h4>
<p>I split the generalization of <code>zero_ne_one</code> and made PR <a href="https://github.com/leanprover-community/mathlib/pull/17477">#17477</a>. However <code>algebra/ne_zero</code> is ported to mathlib4. Can anyone give me access? My github name is negiizhao.</p>



<a name="309266857"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bot_eq_zero_class/near/309266857" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bot_eq_zero_class.html#309266857">(Nov 11 2022 at 22:11)</a>:</h4>
<p>(invitation sent, following a request elsewhere)</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>