---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html">Notation for `algebra_map` / `algebra.of_id`</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="216356787"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/216356787" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#216356787">(Nov 11 2020 at 15:04)</a>:</h4>
<p>I've been finding myself writing <code>algebra_map R _</code> an awful lot, and I was wondering if it would be sensible to introduce a notation for it? My proposal would be something like</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">local</span> <span class="kd">notation</span> <span class="bp">`↑ₐ`</span><span class="o">:</span><span class="n">max</span> <span class="n">x</span><span class="o">:</span><span class="n">max</span> <span class="o">:=</span> <span class="n">algebra_map</span> <span class="n">_</span> <span class="n">_</span> <span class="n">x</span>
</code></pre></div>
<p>(I also wonder which of<code>algebra.of_id</code> and <code>algebra_map</code> should be the canonical spelling)</p>



<a name="216357398"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/216357398" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#216357398">(Nov 11 2020 at 15:08)</a>:</h4>
<p>Note that we can make the two <code>_ _</code> implicit because of a marvellous change to Lean that was made about 3 months ago</p>



<a name="216357425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/216357425" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#216357425">(Nov 11 2020 at 15:09)</a>:</h4>
<p>That already makes things a bit better.</p>



<a name="216357854"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/216357854" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#216357854">(Nov 11 2020 at 15:12)</a>:</h4>
<p>Using opt_params?</p>



<a name="217133655"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217133655" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217133655">(Nov 18 2020 at 13:27)</a>:</h4>
<p>Alternatively, we could add <code>instance [algebra R A] : has_coe_t R A := ⟨algebra_map R A⟩</code>, as I suggested <a href="https://github.com/leanprover-community/mathlib/pull/4824#discussion_r526062594">in PR 4824</a></p>



<a name="217133819"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217133819" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217133819">(Nov 18 2020 at 13:28)</a>:</h4>
<p>That will be quite a refactor though</p>



<a name="217133861"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217133861" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217133861">(Nov 18 2020 at 13:29)</a>:</h4>
<p>I think one reason we didn't do that was that before widgets it could be a pain to know what a coercion was doing. That reason is no longer valid...</p>



<a name="217134334"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217134334" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217134334">(Nov 18 2020 at 13:33)</a>:</h4>
<p>This sounds potentially rather dangerous--instances for variables are already bad plus anything involving coercions is a headache.</p>



<a name="217134689"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217134689" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217134689">(Nov 18 2020 at 13:36)</a>:</h4>
<p>The headache got a lot less because of widgets, I think</p>



<a name="217134705"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217134705" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217134705">(Nov 18 2020 at 13:36)</a>:</h4>
<p>But do you really want to rely on widgets ?</p>



<a name="217134726"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217134726" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217134726">(Nov 18 2020 at 13:37)</a>:</h4>
<p>(asks the emacs user...)</p>



<a name="217135657"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217135657" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217135657">(Nov 18 2020 at 13:46)</a>:</h4>
<p>Figuring out which coercion Lean successfully applied is just one head of the Lernaean Hydra of headaches that is coercions.</p>



<a name="217135751"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217135751" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217135751">(Nov 18 2020 at 13:46)</a>:</h4>
<p>I think the original suggestion sounds good though.</p>



<a name="217135997"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217135997" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217135997">(Nov 18 2020 at 13:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110032">Reid Barton</span> <a href="#narrow/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60/near/217135657">said</a>:</p>
<blockquote>
<p>Lernaean Hydra</p>
</blockquote>
<p>At first I thought you had mashed up "learning Lean" into a new word...</p>



<a name="217136089"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217136089" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217136089">(Nov 18 2020 at 13:49)</a>:</h4>
<p>Wouldn't it be nicer anyway for the pretty-printer to print <code>(x : A)</code> instead of <code>↑x</code>?</p>



<a name="217136198"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217136198" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217136198">(Nov 18 2020 at 13:50)</a>:</h4>
<p>(Perhaps writing <code>(x : _)</code> when <code>A</code> is too big and can be inferred from context.)</p>



<a name="217136951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217136951" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217136951">(Nov 18 2020 at 13:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="238446">Anne Baanen</span> <a href="#narrow/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60/near/217136089">said</a>:</p>
<blockquote>
<p>Wouldn't it be nicer anyway for the pretty-printer to print <code>(x : A)</code> instead of <code>↑x</code>?</p>
</blockquote>
<p>That's an intriguing idea, I hadn't considered that before. Not sure if it should be the default. And the pretty printer can't really know whether the type is inferrable from context, I'm afraid.</p>



<a name="217137729"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217137729" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217137729">(Nov 18 2020 at 14:03)</a>:</h4>
<p>I think it could get annoying when you are trying to pretend the arrow doesn't exist</p>



<a name="217137754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217137754" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217137754">(Nov 18 2020 at 14:03)</a>:</h4>
<p>but it definitely sounds like a useful option</p>



<a name="217138118"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217138118" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jannis Limperg <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217138118">(Nov 18 2020 at 14:06)</a>:</h4>
<p>The <code>(x : A)</code> could be shortened, for big <code>A</code>, by folding <code>A</code> in the editor and revealing it on hover or something.</p>



<a name="217147134"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217147134" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217147134">(Nov 18 2020 at 15:12)</a>:</h4>
<p>There's some option to turn those arrows off completely, right? It always sounds appealing but I'm just too scared to do it :-)</p>



<a name="217147294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217147294" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217147294">(Nov 18 2020 at 15:13)</a>:</h4>
<p>I think the <code>(x : A)</code> form would be useful mostly for having something you can copy&amp;paste back into Lean</p>



<a name="217147449"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217147449" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217147449">(Nov 18 2020 at 15:14)</a>:</h4>
<p>Oh that's true! Coercion arrows are probably the most common reason (at least for me) for failure of round-tripping from the pretty printer back to the elaborator .</p>



<a name="217147841"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217147841" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217147841">(Nov 18 2020 at 15:17)</a>:</h4>
<p>So it seems the choice is between:</p>
<ul>
<li><code>local notation `↑ₐ`:max x:max := algebra_map _ _ x</code>, write <code>↑ₐr = a</code>, and see <code>↑ₐr</code> in tactic states</li>
<li><code>has_coe_t</code>, write <code>↑r = a</code> or <code>(r : A) = a</code>, but deal with seeing only <code>↑r</code> in the goal state until something changes in lean</li>
<li>Do nothing, keep writing <code>algebra_map R A r</code></li>
</ul>



<a name="217149340"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217149340" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217149340">(Nov 18 2020 at 15:26)</a>:</h4>
<p>The reason the R and A are explicit in <code>algebra_map</code> is because lean will very often not be able to infer them</p>



<a name="217149347"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217149347" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217149347">(Nov 18 2020 at 15:27)</a>:</h4>
<p>so option 1 isn't an option</p>



<a name="217149436"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217149436" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217149436">(Nov 18 2020 at 15:27)</a>:</h4>
<p>When <code>algebra_map</code> is invoked, the <code>R</code> can be inferred from the argument, right?</p>



<a name="217149490"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217149490" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217149490">(Nov 18 2020 at 15:27)</a>:</h4>
<p>And for something like <code>↑ₐr = a</code>, the <code>A</code> can be inferred from the RHS</p>



<a name="217149545"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217149545" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217149545">(Nov 18 2020 at 15:28)</a>:</h4>
<p>What's the type again? is it <code>R -&gt; A</code>?</p>



<a name="217149582"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217149582" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217149582">(Nov 18 2020 at 15:28)</a>:</h4>
<p>That, but bundled as a ring hom</p>



<a name="217149602"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217149602" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217149602">(Nov 18 2020 at 15:28)</a>:</h4>
<p>yeah, lean won't like that</p>



<a name="217149629"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217149629" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217149629">(Nov 18 2020 at 15:28)</a>:</h4>
<p>Because it's bundled?</p>



<a name="217149654"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217149654" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217149654">(Nov 18 2020 at 15:28)</a>:</h4>
<p>that complicates matters a lot</p>



<a name="217149721"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217149721" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217149721">(Nov 18 2020 at 15:29)</a>:</h4>
<p>even without that you would get in trouble if you start nesting things, because both the input and output are unbound</p>



<a name="217149868"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217149868" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217149868">(Nov 18 2020 at 15:30)</a>:</h4>
<p>you probably know the outermost type (at the equality or what have you) and the innermost type (the variables) but everything in between is hazy</p>



<a name="217149938"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217149938" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217149938">(Nov 18 2020 at 15:30)</a>:</h4>
<p>and with a coe in the middle, you don't even know if the function is dependent</p>



<a name="217150015"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217150015" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217150015">(Nov 18 2020 at 15:31)</a>:</h4>
<p>and the typeclass to look up depends on the types that you are trying to determine</p>



<a name="217150086"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217150086" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217150086">(Nov 18 2020 at 15:31)</a>:</h4>
<p>so it's all very circular</p>



<a name="217150099"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217150099" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217150099">(Nov 18 2020 at 15:31)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> I don't agree. It used to be a lot of trouble, but Gabriel fixed it. In a similar context <code>mv_polynomial.aeval</code> now has the arguments <code>R</code> and <code>A</code> implicit, and it works fine in mathlib.</p>



<a name="217150176"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217150176" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217150176">(Nov 18 2020 at 15:32)</a>:</h4>
<p>We used it a ton in the Witt project, and it works.</p>



<a name="217150214"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217150214" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217150214">(Nov 18 2020 at 15:32)</a>:</h4>
<p>If the output is unbounded you can always use <code>(↑ₐr : A)</code></p>



<a name="217150255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217150255" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217150255">(Nov 18 2020 at 15:32)</a>:</h4>
<p>lean works outside in, recall</p>



<a name="217150281"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217150281" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217150281">(Nov 18 2020 at 15:33)</a>:</h4>
<p>so usually it's the input that is unbounded</p>



<a name="217150321"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217150321" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217150321">(Nov 18 2020 at 15:33)</a>:</h4>
<p>except at the lhs of an equality</p>



<a name="217150394"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217150394" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217150394">(Nov 18 2020 at 15:33)</a>:</h4>
<p>We could use <code>↑ₐ[R] r</code> notation too, if there need is there, although for the niche cases <code>(↑ₐ(r : R) : A)</code> is still shorter than <code>algebra_map R A r</code></p>



<a name="217150880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217150880" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217150880">(Nov 18 2020 at 15:36)</a>:</h4>
<p>The only real way to know is to try it out</p>



<a name="217150990"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217150990" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217150990">(Nov 18 2020 at 15:37)</a>:</h4>
<p>I'm not too fussed about notation, if the arrow makes you feel warm and fuzzy inside then go for it</p>



<a name="217152541"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation%20for%20%60algebra_map%60%20/%20%60algebra.of_id%60/near/217152541" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60.html#217152541">(Nov 18 2020 at 15:47)</a>:</h4>
<p>Maybe I'll try the <code>coe</code> version first</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>