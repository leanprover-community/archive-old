---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/widgets.20in.20conv.20mode.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/widgets.20in.20conv.20mode.html">widgets in conv mode</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="204596013"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/widgets%20in%20conv%20mode/near/204596013" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/widgets.20in.20conv.20mode.html#204596013">(Jul 21 2020 at 20:00)</a>:</h4>
<p>It seems that widgets don't work in conv mode. How hard would it be to enable them there?</p>



<a name="204596098"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/widgets%20in%20conv%20mode/near/204596098" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/widgets.20in.20conv.20mode.html#204596098">(Jul 21 2020 at 20:00)</a>:</h4>
<p>They're really good! As soon as they're not there... I miss them, and I'm completely stuck and helpless <span aria-label="oops" class="emoji emoji-1f643" role="img" title="oops">:oops:</span></p>



<a name="204596915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/widgets%20in%20conv%20mode/near/204596915" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/widgets.20in.20conv.20mode.html#204596915">(Jul 21 2020 at 20:07)</a>:</h4>
<p>It'd also be nice to upgrade <code>#print</code>, <code>#eval</code>, <code>#reduce</code>, etc. to output widgets as well...</p>
<p><span class="user-mention" data-user-id="121918">@Edward Ayers</span> wanna give us some hints?</p>



<a name="204597096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/widgets%20in%20conv%20mode/near/204597096" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/widgets.20in.20conv.20mode.html#204597096">(Jul 21 2020 at 20:08)</a>:</h4>
<p>Yeah you should be able to get widgets for other interactive modes by overriding <code>conv.save_info</code></p>



<a name="204597173"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/widgets%20in%20conv%20mode/near/204597173" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/widgets.20in.20conv.20mode.html#204597173">(Jul 21 2020 at 20:09)</a>:</h4>
<p>The #xs sound a little more fiddly because if I recall correctly they are implemented in c++</p>



<a name="243697507"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/widgets%20in%20conv%20mode/near/243697507" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/widgets.20in.20conv.20mode.html#243697507">(Jun 23 2021 at 19:00)</a>:</h4>
<p>I'm exploring some terms coming from mathematics in conv mode and I have goals like this:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="mi">2</span> <span class="n">goals</span>
<span class="n">card_five_points</span> <span class="o">:</span> <span class="bp">?</span><span class="n">m_1</span> <span class="o">:=</span> <span class="bp">↑</span><span class="o">(</span><span class="n">fintype.card</span> <span class="o">(</span><span class="n">fintype</span> <span class="bp">↥</span><span class="o">(</span><span class="n">E.p_points</span> <span class="o">⟨</span><span class="mi">5</span><span class="o">,</span> <span class="n">five_is_good</span><span class="o">⟩)))</span>
<span class="bp">|</span> <span class="bp">↑</span><span class="o">⟨</span><span class="mi">5</span><span class="o">,</span> <span class="n">five_is_good</span><span class="o">⟩</span>

<span class="n">card_five_points</span> <span class="o">:</span> <span class="bp">?</span><span class="n">m_1</span> <span class="o">:=</span> <span class="bp">↑</span><span class="o">(</span><span class="n">fintype.card</span> <span class="o">(</span><span class="n">fintype</span> <span class="bp">↥</span><span class="o">(</span><span class="n">E.p_points</span> <span class="o">⟨</span><span class="mi">5</span><span class="o">,</span> <span class="n">five_is_good</span><span class="o">⟩)))</span>
<span class="bp">|</span> <span class="bp">↑</span><span class="o">(</span><span class="n">fintype.card</span> <span class="o">(</span><span class="n">fintype</span> <span class="bp">↥</span><span class="o">(</span><span class="n">E.p_points</span> <span class="o">⟨</span><span class="mi">5</span><span class="o">,</span> <span class="n">five_is_good</span><span class="o">⟩)))</span>
</code></pre></div>
<p>and I really want the infoview to tell me what those coercions are. Can we have widgets in conv mode? Is that a one-line hack or a 2 month research project?</p>



<a name="243698282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/widgets%20in%20conv%20mode/near/243698282" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/widgets.20in.20conv.20mode.html#243698282">(Jun 23 2021 at 19:07)</a>:</h4>
<p>I'd estimate 20 lines of code.  If somebody wants to take it on, you need to copy this file for conv: <a href="https://github.com/leanprover-community/lean/blob/25b46580d9f57be6242dcb3bf764ff11cd19b580/library/init/meta/widget/replace_save_info.lean">https://github.com/leanprover-community/lean/blob/25b46580d9f57be6242dcb3bf764ff11cd19b580/library/init/meta/widget/replace_save_info.lean</a>  (and probably tweak the rendering a bit to show <code>|</code> instead of <code>⊢</code>)</p>



<a name="243698377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/widgets%20in%20conv%20mode/near/243698377" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/widgets.20in.20conv.20mode.html#243698377">(Jun 23 2021 at 19:07)</a>:</h4>
<p>Seems like the sort of thing we'd want for almost all tactics, right?</p>



<a name="243698458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/widgets%20in%20conv%20mode/near/243698458" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/widgets.20in.20conv.20mode.html#243698458">(Jun 23 2021 at 19:08)</a>:</h4>
<p>conv is a different "tactic mode" (no idea how it's called)</p>



<a name="243698482"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/widgets%20in%20conv%20mode/near/243698482" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/widgets.20in.20conv.20mode.html#243698482">(Jun 23 2021 at 19:08)</a>:</h4>
<p>Oh, right.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>