---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/filter.20only.20goal.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/filter.20only.20goal.html">filter only goal</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="207885285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/filter%20only%20goal/near/207885285" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/filter.20only.20goal.html#207885285">(Aug 24 2020 at 19:23)</a>:</h4>
<p>It would be nice to have a tactic state filter displaying only goals. I just ran an <code>apply</code> spawning 8 goals, and I'd like to quickly check whether they all seem provable.</p>



<a name="207885314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/filter%20only%20goal/near/207885314" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/filter.20only.20goal.html#207885314">(Aug 24 2020 at 19:23)</a>:</h4>
<p>Btw, is there any news about the fight to make widget filters persistent?</p>



<a name="207885491"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/filter%20only%20goal/near/207885491" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/filter.20only.20goal.html#207885491">(Aug 24 2020 at 19:25)</a>:</h4>
<p>I don't know what the story for the widget tactic state filters is, but if you have the tactic state in text mode, the "goals only" filter should do this, right?</p>



<a name="207885877"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/filter%20only%20goal/near/207885877" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/filter.20only.20goal.html#207885877">(Aug 24 2020 at 19:28)</a>:</h4>
<p>I knew I saw it somewhere!</p>



<a name="207885926"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/filter%20only%20goal/near/207885926" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/filter.20only.20goal.html#207885926">(Aug 24 2020 at 19:28)</a>:</h4>
<p>But I couldn't find it in the drop-down menu. The issue is it hasn't been ported to the widget view.</p>



<a name="207888307"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/filter%20only%20goal/near/207888307" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/filter.20only.20goal.html#207888307">(Aug 24 2020 at 19:50)</a>:</h4>
<p>Can someone remind me how the naming convention works when you have 8 explicit arguments to a lemma?</p>



<a name="207888638"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/filter%20only%20goal/near/207888638" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/filter.20only.20goal.html#207888638">(Aug 24 2020 at 19:52)</a>:</h4>
<p>And the lemma has half a dozen variations.</p>



<a name="207888832"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/filter%20only%20goal/near/207888832" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/filter.20only.20goal.html#207888832">(Aug 24 2020 at 19:54)</a>:</h4>
<p>Something like:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">lemma</span> <span class="n">has_deriv_at_integral_on_of_dominated_loc_of_deriv_le</span>
  <span class="o">{</span><span class="n">Œ±</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">measurable_space</span> <span class="n">Œ±</span><span class="o">]</span> <span class="o">{</span><span class="n">Œº</span> <span class="o">:</span> <span class="n">measure</span> <span class="n">Œ±</span><span class="o">}</span>
  <span class="o">{</span><span class="n">E</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">normed_group</span> <span class="n">E</span><span class="o">]</span> <span class="o">[</span><span class="n">second_countable_topology</span> <span class="n">E</span><span class="o">]</span> <span class="o">[</span><span class="n">normed_space</span> <span class="n">‚Ñù</span> <span class="n">E</span><span class="o">]</span>
  <span class="o">[</span><span class="n">complete_space</span> <span class="n">E</span><span class="o">]</span> <span class="o">[</span><span class="n">measurable_space</span> <span class="n">E</span><span class="o">]</span> <span class="o">[</span><span class="n">borel_space</span> <span class="n">E</span><span class="o">]</span>
  <span class="o">{</span><span class="n">F</span> <span class="o">:</span> <span class="n">‚Ñù</span> <span class="bp">‚Üí</span> <span class="n">Œ±</span> <span class="bp">‚Üí</span> <span class="n">E</span><span class="o">}</span> <span class="o">{</span><span class="n">F&#39;</span> <span class="o">:</span> <span class="n">‚Ñù</span> <span class="bp">‚Üí</span> <span class="n">Œ±</span> <span class="bp">‚Üí</span> <span class="n">E</span><span class="o">}</span> <span class="o">{</span><span class="n">x‚ÇÄ</span> <span class="o">:</span> <span class="n">‚Ñù</span><span class="o">}</span>
  <span class="o">{</span><span class="n">s</span> <span class="o">:</span> <span class="n">set</span> <span class="n">Œ±</span><span class="o">}</span> <span class="o">{</span><span class="n">bound</span> <span class="o">:</span> <span class="n">Œ±</span> <span class="bp">‚Üí</span> <span class="n">‚Ñù</span><span class="o">}</span> <span class="o">{</span><span class="n">Œµ</span> <span class="o">:</span> <span class="n">‚Ñù</span><span class="o">}</span>
  <span class="o">(</span><span class="n">Œµ_pos</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">Œµ</span><span class="o">)</span>
  <span class="o">(</span><span class="n">hF_meas</span> <span class="o">:</span> <span class="bp">‚àÄ</span><span class="err">·∂†</span> <span class="n">x</span> <span class="k">in</span> <span class="err">ùìù</span> <span class="n">x‚ÇÄ</span><span class="o">,</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">F</span> <span class="n">x</span><span class="o">))</span>
  <span class="o">(</span><span class="n">hF_int</span> <span class="o">:</span> <span class="n">integrable_on</span> <span class="o">(</span><span class="n">F</span> <span class="n">x‚ÇÄ</span><span class="o">)</span> <span class="n">s</span> <span class="n">Œº</span><span class="o">)</span>
  <span class="o">(</span><span class="n">hF&#39;_meas</span> <span class="o">:</span> <span class="bp">‚àÄ</span> <span class="n">x</span> <span class="err">‚àà</span> <span class="n">ball</span> <span class="n">x‚ÇÄ</span> <span class="n">Œµ</span><span class="o">,</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">F&#39;</span> <span class="n">x</span><span class="o">))</span>
  <span class="o">(</span><span class="n">h_bound</span> <span class="o">:</span> <span class="bp">‚àÄ</span><span class="err">·µê</span> <span class="n">a</span> <span class="err">‚àÇ</span> <span class="n">Œº</span><span class="bp">.</span><span class="n">restrict</span> <span class="n">s</span><span class="o">,</span> <span class="bp">‚àÄ</span> <span class="n">x</span> <span class="err">‚àà</span> <span class="n">ball</span> <span class="n">x‚ÇÄ</span> <span class="n">Œµ</span><span class="o">,</span> <span class="err">‚à•</span><span class="n">F&#39;</span> <span class="n">x</span> <span class="n">a</span><span class="err">‚à•</span> <span class="bp">‚â§</span> <span class="n">bound</span> <span class="n">a</span><span class="o">)</span>
  <span class="o">(</span><span class="n">bound_measurable</span> <span class="o">:</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">bound</span> <span class="o">:</span> <span class="n">Œ±</span> <span class="bp">‚Üí</span> <span class="n">‚Ñù</span><span class="o">))</span>
  <span class="o">(</span><span class="n">bound_integrable</span> <span class="o">:</span> <span class="n">integrable_on</span> <span class="n">bound</span> <span class="n">s</span> <span class="n">Œº</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h_diff</span> <span class="o">:</span> <span class="bp">‚àÄ</span><span class="err">·µê</span> <span class="n">a</span> <span class="err">‚àÇ</span> <span class="o">(</span><span class="n">Œº</span><span class="bp">.</span><span class="n">restrict</span> <span class="n">s</span><span class="o">),</span> <span class="bp">‚àÄ</span> <span class="n">x</span> <span class="err">‚àà</span> <span class="n">ball</span> <span class="n">x‚ÇÄ</span> <span class="n">Œµ</span><span class="o">,</span> <span class="n">has_deriv_at</span> <span class="o">(</span><span class="bp">Œª</span> <span class="n">x</span><span class="o">,</span> <span class="n">F</span> <span class="n">x</span> <span class="n">a</span><span class="o">)</span> <span class="o">(</span><span class="n">F&#39;</span> <span class="n">x</span> <span class="n">a</span><span class="o">)</span> <span class="n">x</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">has_deriv_at</span> <span class="o">(</span><span class="bp">Œª</span><span class="n">n</span><span class="o">,</span> <span class="err">‚à´</span> <span class="n">a</span> <span class="k">in</span> <span class="n">s</span><span class="o">,</span> <span class="n">F</span> <span class="n">n</span> <span class="n">a</span> <span class="err">‚àÇ</span><span class="n">Œº</span><span class="o">)</span> <span class="o">(</span><span class="err">‚à´</span> <span class="n">a</span> <span class="k">in</span> <span class="n">s</span><span class="o">,</span> <span class="n">F&#39;</span> <span class="n">x‚ÇÄ</span> <span class="n">a</span> <span class="err">‚àÇ</span><span class="n">Œº</span><span class="o">)</span> <span class="n">x‚ÇÄ</span>
</code></pre></div>



<a name="207889228"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/filter%20only%20goal/near/207889228" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/filter.20only.20goal.html#207889228">(Aug 24 2020 at 19:57)</a>:</h4>
<p>now the naming system isn't scaling</p>



<a name="207891801"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/filter%20only%20goal/near/207891801" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/filter.20only.20goal.html#207891801">(Aug 24 2020 at 20:17)</a>:</h4>
<p>This theorem needs a doc comment</p>



<a name="207891854"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/filter%20only%20goal/near/207891854" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/filter.20only.20goal.html#207891854">(Aug 24 2020 at 20:17)</a>:</h4>
<p>and the name should be similar words as what you write in the doc comment</p>



<a name="207892142"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/filter%20only%20goal/near/207892142" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/filter.20only.20goal.html#207892142">(Aug 24 2020 at 20:19)</a>:</h4>
<p><code>/-- Differentiation under the integral assuming 8 things, including a local domination and Lipschitz condition-/</code></p>



<a name="207892247"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/filter%20only%20goal/near/207892247" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/filter.20only.20goal.html#207892247">(Aug 24 2020 at 20:20)</a>:</h4>
<p>Oops, that's not this variation.</p>



<a name="207892299"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/filter%20only%20goal/near/207892299" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/filter.20only.20goal.html#207892299">(Aug 24 2020 at 20:20)</a>:</h4>
<p>I meant `/-- Differentiation under the integral assuming 8 things, including a local domination and derivative bound. -/</p>



<a name="207892367"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/filter%20only%20goal/near/207892367" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/filter.20only.20goal.html#207892367">(Aug 24 2020 at 20:21)</a>:</h4>
<p>So the point of the theorem is differentiating an integral?</p>



<a name="207892378"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/filter%20only%20goal/near/207892378" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/filter.20only.20goal.html#207892378">(Aug 24 2020 at 20:21)</a>:</h4>
<p>sure</p>



<a name="207892392"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/filter%20only%20goal/near/207892392" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/filter.20only.20goal.html#207892392">(Aug 24 2020 at 20:21)</a>:</h4>
<p>hence the <code>has_deriv_at_integral_on</code></p>



<a name="207892448"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/filter%20only%20goal/near/207892448" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/filter.20only.20goal.html#207892448">(Aug 24 2020 at 20:22)</a>:</h4>
<p>I would start with that</p>



<a name="207892484"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/filter%20only%20goal/near/207892484" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/filter.20only.20goal.html#207892484">(Aug 24 2020 at 20:22)</a>:</h4>
<p>add qualifiers when it starts to conflict with other theorems</p>



<a name="207892902"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/filter%20only%20goal/near/207892902" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/filter.20only.20goal.html#207892902">(Aug 24 2020 at 20:26)</a>:</h4>
<p>Not sure you need to state it with <code>Œº.restrict s</code>: if you have a version without the <code>s</code> (with usual integral for the full measure) and if you apply it to <code>Œº.restrict s</code>, doesn't it give exactly the statement you wrote?</p>



<a name="207893061"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/filter%20only%20goal/near/207893061" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/filter.20only.20goal.html#207893061">(Aug 24 2020 at 20:27)</a>:</h4>
<p>Yes indeed, the proof is exactly applying the absolute result, but I thought we still wanted the statement. Maybe not actually, but the absolute result is not much easier to name.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>