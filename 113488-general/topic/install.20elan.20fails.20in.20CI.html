---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/install.20elan.20fails.20in.20CI.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/install.20elan.20fails.20in.20CI.html">install elan fails in CI</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="280978914"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/install%20elan%20fails%20in%20CI/near/280978914" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/install.20elan.20fails.20in.20CI.html#280978914">(May 03 2022 at 08:03)</a>:</h4>
<p>fixed</p>



<a name="280980894"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/install%20elan%20fails%20in%20CI/near/280980894" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/install.20elan.20fails.20in.20CI.html#280980894">(May 03 2022 at 08:25)</a>:</h4>
<p><span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span>, <a href="https://github.com/leanprover-community/mathlib/runs/6270133090?check_suite_focus=true">it still fails</a> for me <span aria-label="sad" class="emoji emoji-2639" role="img" title="sad">:sad:</span></p>



<a name="280981154"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/install%20elan%20fails%20in%20CI/near/280981154" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/install.20elan.20fails.20in.20CI.html#280981154">(May 03 2022 at 08:29)</a>:</h4>
<p>mathlib seems to puse <code>Kha/elan</code> for one of its jobs <a href="https://raw.githubusercontent.com/Kha/elan/master/elan-init.sh">which doesn't contain the fix</a> and <code>leanprover/elan</code> for the other <a href="https://raw.githubusercontent.com/leanprover/elan/master/elan-init.sh">which does</a></p>



<a name="280981502"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/install%20elan%20fails%20in%20CI/near/280981502" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/install.20elan.20fails.20in.20CI.html#280981502">(May 03 2022 at 08:33)</a>:</h4>
<p>Yeah, looks like a lazy cache</p>



<a name="280981604"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/install%20elan%20fails%20in%20CI/near/280981604" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/install.20elan.20fails.20in.20CI.html#280981604">(May 03 2022 at 08:34)</a>:</h4>
<p>What can I do? Send an empty commit?</p>



<a name="280981614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/install%20elan%20fails%20in%20CI/near/280981614" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/install.20elan.20fails.20in.20CI.html#280981614">(May 03 2022 at 08:34)</a>:</h4>
<p>I've restarted lots of jobs.</p>



<a name="280981643"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/install%20elan%20fails%20in%20CI/near/280981643" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/install.20elan.20fails.20in.20CI.html#280981643">(May 03 2022 at 08:34)</a>:</h4>
<p>Until those two links above contain the same content there might not be anything you can do</p>



<a name="280981663"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/install%20elan%20fails%20in%20CI/near/280981663" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/install.20elan.20fails.20in.20CI.html#280981663">(May 03 2022 at 08:34)</a>:</h4>
<p>I've made <a href="https://github.com/leanprover-community/mathlib/pull/13906">#13906</a></p>



<a name="280981731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/install%20elan%20fails%20in%20CI/near/280981731" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/install.20elan.20fails.20in.20CI.html#280981731">(May 03 2022 at 08:35)</a>:</h4>
<p>Let's cancel the current bors batch to get both those CI changes in</p>



<a name="280981784"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/install%20elan%20fails%20in%20CI/near/280981784" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/install.20elan.20fails.20in.20CI.html#280981784">(May 03 2022 at 08:36)</a>:</h4>
<p>I think probably it will fail anyway</p>



<a name="280982836"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/install%20elan%20fails%20in%20CI/near/280982836" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/install.20elan.20fails.20in.20CI.html#280982836">(May 03 2022 at 08:46)</a>:</h4>
<p><del>Hmm, although I cancelled the batch our CI runner is still churning away on it (<a href="https://github.com/leanprover-community/mathlib/actions/runs/2262661349">https://github.com/leanprover-community/mathlib/actions/runs/2262661349</a>), and</del> no other runners are available to merge the fix</p>



<a name="280982970"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/install%20elan%20fails%20in%20CI/near/280982970" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/install.20elan.20fails.20in.20CI.html#280982970">(May 03 2022 at 08:47)</a>:</h4>
<p>I guess every single open PR will have to merge master - so there's little point in restarting any jobs</p>



<a name="280991732"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/install%20elan%20fails%20in%20CI/near/280991732" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/install.20elan.20fails.20in.20CI.html#280991732">(May 03 2022 at 10:17)</a>:</h4>
<p>It seems that something is still broken: now, bors fails on the linting and testing stages (but it succeeds on building mathlib).</p>



<a name="280993727"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/install%20elan%20fails%20in%20CI/near/280993727" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/install.20elan.20fails.20in.20CI.html#280993727">(May 03 2022 at 10:40)</a>:</h4>
<p>Yeah, I'll fix the PR</p>



<a name="280993896"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/install%20elan%20fails%20in%20CI/near/280993896" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/install.20elan.20fails.20in.20CI.html#280993896">(May 03 2022 at 10:42)</a>:</h4>
<p>I did the edits by hand in browser, but should have used the build script to generate them. As a result I missed one. Fixed now</p>



<a name="280993917"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/install%20elan%20fails%20in%20CI/near/280993917" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/install.20elan.20fails.20in.20CI.html#280993917">(May 03 2022 at 10:42)</a>:</h4>
<p>I guess we should cancel all the pending batches so that bors does them all at once again?</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>