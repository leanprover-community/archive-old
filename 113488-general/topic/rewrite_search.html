---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/rewrite_search.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/rewrite_search.html">rewrite_search</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="147422501"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rewrite_search/near/147422501" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/rewrite_search.html#147422501">(Nov 10 2018 at 06:59)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="110111">@Keeley Hoek</span>, I think I'm getting <code>"XXX" is not a valid rewrite lemma!</code> errors which I shouldn't be. I think in this case the problem is you need to unfold a step before the lemma looks right. Can we make <code>rewrite_search</code> more forgiving?</p>



<a name="147422576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rewrite_search/near/147422576" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/rewrite_search.html#147422576">(Nov 10 2018 at 07:00)</a>:</h4>
<p>There are examples in my branch &lt;<a href="https://github.com/semorrison/monoidal-categories-reboot/tree/monoidal_functor.comp" target="_blank" title="https://github.com/semorrison/monoidal-categories-reboot/tree/monoidal_functor.comp">https://github.com/semorrison/monoidal-categories-reboot/tree/monoidal_functor.comp</a>&gt; of <span class="user-mention" data-user-id="128547">@Michael Jendrusch</span>'s new monoidal categories development.</p>



<a name="147428564"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rewrite_search/near/147428564" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Keeley Hoek <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/rewrite_search.html#147428564">(Nov 10 2018 at 10:36)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> I can't see anything there which doesn't compile (on the monoidal_functor.comp branch), am I meant to try to remove the <code>sorry</code>s?</p>



<a name="147431664"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rewrite_search/near/147431664" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Keeley Hoek <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/rewrite_search.html#147431664">(Nov 10 2018 at 12:29)</a>:</h4>
<p>Nonetheless, off a fuzzy memory of something like this happening to me with projections or local variables or something, I've made a total shot in the dark and hopefully <code>whnf</code>'d the problem away</p>



<a name="147448566"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rewrite_search/near/147448566" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/rewrite_search.html#147448566">(Nov 10 2018 at 21:25)</a>:</h4>
<p>Hmm, doesn't seem to have helped. Here's the problem: &lt;<a href="https://github.com/semorrison/monoidal-categories-reboot/blob/monoidal_functor.comp/src/monoidal_categories_reboot/monoidal_category.lean#L52" target="_blank" title="https://github.com/semorrison/monoidal-categories-reboot/blob/monoidal_functor.comp/src/monoidal_categories_reboot/monoidal_category.lean#L52">https://github.com/semorrison/monoidal-categories-reboot/blob/monoidal_functor.comp/src/monoidal_categories_reboot/monoidal_category.lean#L52</a>&gt;</p>



<a name="147461212"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rewrite_search/near/147461212" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Keeley Hoek <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/rewrite_search.html#147461212">(Nov 11 2018 at 03:35)</a>:</h4>
<p>Gotcha, I'll take a look</p>



<a name="147462126"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rewrite_search/near/147462126" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Keeley Hoek <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/rewrite_search.html#147462126">(Nov 11 2018 at 04:10)</a>:</h4>
<p>ok I've just turned it the checks off for now. Does anyone know how to do something similar to <code>#reduce</code>, but to an <code>expr</code> in tactic-mode?</p>



<a name="147462183"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rewrite_search/near/147462183" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Keeley Hoek <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/rewrite_search.html#147462183">(Nov 11 2018 at 04:12)</a>:</h4>
<p>I'd just like to unfold some definitions, to be able to tell certain things (e.g. of type <code>monoidal_category.associator_naturality'</code>) are secretly just equalities</p>



<a name="147462189"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rewrite_search/near/147462189" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Keeley Hoek <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/rewrite_search.html#147462189">(Nov 11 2018 at 04:13)</a>:</h4>
<p>I thought <code>whnf</code> maybe did this? Is there a problem if the expression being passed is after binders?</p>



<a name="147462347"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rewrite_search/near/147462347" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Keeley Hoek <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/rewrite_search.html#147462347">(Nov 11 2018 at 04:18)</a>:</h4>
<p>ah, I see I want <code>dsimp</code></p>



<a name="147462547"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rewrite_search/near/147462547" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Keeley Hoek <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/rewrite_search.html#147462547">(Nov 11 2018 at 04:26)</a>:</h4>
<p>Hmm... it seems to unfold projections when I pass in arguments, but it doesn't deduce their type</p>



<a name="192156843"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rewrite_search/near/192156843" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/rewrite_search.html#192156843">(Mar 29 2020 at 05:03)</a>:</h4>
<p>Per the discussion in the maintainers' meeting this morning, I've located the <a href="https://github.com/leanprover-community/mathlib/tree/rewrite-search" title="https://github.com/leanprover-community/mathlib/tree/rewrite-search"><code>rewrite_search</code></a> branch, merged <code>master</code>, and got it compiling again. General challenge: understand what's in there, and work out a route to PR it into mathlib. :-)</p>



<a name="192157034"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rewrite_search/near/192157034" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/rewrite_search.html#192157034">(Mar 29 2020 at 05:10)</a>:</h4>
<p>I guess we could start by PRing everything not under <code>tactic/rewrite_search</code> that hasn't already been PR'd? Assuming the <code>meta/expr</code> and <code>tactic/core</code> changes are already in PRs, it looks like that's just two new files under <code>data/array</code>.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>