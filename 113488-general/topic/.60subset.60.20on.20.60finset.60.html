---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/.60subset.60.20on.20.60finset.60.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60subset.60.20on.20.60finset.60.html">`subset` on `finset`</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="195302473"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60subset%60%20on%20%60finset%60/near/195302473" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60subset.60.20on.20.60finset.60.html#195302473">(Apr 25 2020 at 20:52)</a>:</h4>
<p>It seems that we can't use <code>finset.subset</code> with <code>calc</code>: I tried to add <code>@[trans]</code> and <code>@[refl]</code> attributes but some <code>set</code> proofs stop working. What do you think about switching to <code>≤</code> and <code>&lt;</code> in <code>finset</code>?</p>



<a name="195302478"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60subset%60%20on%20%60finset%60/near/195302478" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60subset.60.20on.20.60finset.60.html#195302478">(Apr 25 2020 at 20:52)</a>:</h4>
<p>We already use it, e.g., for <code>submonoid</code>s.</p>



<a name="195302691"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60subset%60%20on%20%60finset%60/near/195302691" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60subset.60.20on.20.60finset.60.html#195302691">(Apr 25 2020 at 20:59)</a>:</h4>
<p>When Kenny told me to use <code>&lt;</code> and <code>\le</code> for ideals I was kind of horrified -- but then when I realised that actually using the given lattice structure stuff was a good idea, I really came around to this way of thinking. The only issue of course is that it's confusing for newcomers. It's a bit like to_additive -- one could envisage an entirely new lattice class where \subset and \subseteq are used...and we <em>really</em> don't want to go there! If we had some sort of fix for this notational issue, where mathematicians use different notation to mean the same thing in different situations -- then you might not even be asking this question. But as far as I can see we don't have a good answer to this. I would definitely object if people told me to use * for every group, but using &lt; for every lattice, or at least most of them, sounds like a great idea. I would even be in favour of using it for sets, and also using map and comap instead of image and preimage.</p>



<a name="195302761"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60subset%60%20on%20%60finset%60/near/195302761" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60subset.60.20on.20.60finset.60.html#195302761">(Apr 25 2020 at 21:00)</a>:</h4>
<p>Independent of that, I'm surprised that adding the attributes causes problems. What exactly broke?</p>



<a name="195302917"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60subset%60%20on%20%60finset%60/near/195302917" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60subset.60.20on.20.60finset.60.html#195302917">(Apr 25 2020 at 21:05)</a>:</h4>
<p><code>simp</code> doesn't solve <code>s ⊆ s</code>, <code>s : set α</code>, anymore</p>



<a name="195303054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60subset%60%20on%20%60finset%60/near/195303054" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60subset.60.20on.20.60finset.60.html#195303054">(Apr 25 2020 at 21:09)</a>:</h4>
<p>If you add the refl attribute then refl will solve it, right?</p>



<a name="195303123"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60subset%60%20on%20%60finset%60/near/195303123" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60subset.60.20on.20.60finset.60.html#195303123">(Apr 25 2020 at 21:10)</a>:</h4>
<p>The advantage of switching to the lattice notation is that you then only need to learn what all the lemmas are called once</p>



<a name="195303125"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60subset%60%20on%20%60finset%60/near/195303125" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60subset.60.20on.20.60finset.60.html#195303125">(Apr 25 2020 at 21:10)</a>:</h4>
<p>It seems that <code>@[refl]</code> on <code>finset</code> took over <code>@[refl]</code> on `set.</p>



<a name="195303191"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60subset%60%20on%20%60finset%60/near/195303191" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60subset.60.20on.20.60finset.60.html#195303191">(Apr 25 2020 at 21:12)</a>:</h4>
<p>Just to be clear -- adding the attributes to finset lemmas is breaking set proofs?</p>



<a name="195303265"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60subset%60%20on%20%60finset%60/near/195303265" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60subset.60.20on.20.60finset.60.html#195303265">(Apr 25 2020 at 21:15)</a>:</h4>
<p>Yes, see <a href="https://github.com/leanprover-community/mathlib/runs/618516722" title="https://github.com/leanprover-community/mathlib/runs/618516722">https://github.com/leanprover-community/mathlib/runs/618516722</a></p>



<a name="195303318"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60subset%60%20on%20%60finset%60/near/195303318" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60subset.60.20on.20.60finset.60.html#195303318">(Apr 25 2020 at 21:16)</a>:</h4>
<p>Probably Lean uses only the head symbol <code>has_subset.subset</code> to decide which lemma should be applied.</p>



<a name="195304291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60subset%60%20on%20%60finset%60/near/195304291" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60subset.60.20on.20.60finset.60.html#195304291">(Apr 25 2020 at 21:45)</a>:</h4>
<p>Is this fixable in 3.10?</p>



<a name="195322836"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60subset%60%20on%20%60finset%60/near/195322836" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60subset.60.20on.20.60finset.60.html#195322836">(Apr 26 2020 at 07:54)</a>:</h4>
<p>Calc blocks are expanded in the parser, so this is hard to fix that way.  The best I can offer is the following:</p>
<div class="codehilite"><pre><span></span><span class="bp">@</span><span class="o">[</span><span class="n">trans</span><span class="o">]</span>
<span class="kn">lemma</span> <span class="n">subset</span><span class="bp">.</span><span class="n">trans</span> <span class="o">{</span><span class="n">α</span><span class="o">}</span> <span class="o">[</span><span class="n">has_subset</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">fact</span> <span class="o">(</span><span class="n">transitive</span> <span class="o">((</span><span class="err">⊆</span><span class="o">)</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">))]</span> <span class="o">:</span>
  <span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span> <span class="o">:</span> <span class="n">α</span><span class="o">,</span> <span class="n">x</span> <span class="err">⊆</span> <span class="n">y</span> <span class="bp">→</span> <span class="n">y</span> <span class="err">⊆</span> <span class="n">z</span> <span class="bp">→</span> <span class="n">x</span> <span class="err">⊆</span> <span class="n">z</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">assumption</span>
</pre></div>


<p>And then declare the appropriate instances.</p>



<a name="195325702"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60subset%60%20on%20%60finset%60/near/195325702" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60subset.60.20on.20.60finset.60.html#195325702">(Apr 26 2020 at 09:14)</a>:</h4>
<p>With these calc blocks one might also want the analogues of lt_of_le_of_lt to work</p>



<a name="195341446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60subset%60%20on%20%60finset%60/near/195341446" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60subset.60.20on.20.60finset.60.html#195341446">(Apr 26 2020 at 16:23)</a>:</h4>
<p>So it's easier to just use <code>le</code>/<code>lt</code>.</p>



<a name="195343224"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60subset%60%20on%20%60finset%60/near/195343224" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60subset.60.20on.20.60finset.60.html#195343224">(Apr 26 2020 at 17:07)</a>:</h4>
<p>I think so</p>



<a name="196693063"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60subset%60%20on%20%60finset%60/near/196693063" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60subset.60.20on.20.60finset.60.html#196693063">(May 06 2020 at 20:32)</a>:</h4>
<p>I've started moving <code>finset</code> to <code>le/lt</code> and realized that for <code>multiset</code> we have both <code>subset</code> and <code>le</code>, and they have different meaning.</p>



<a name="196693140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60subset%60%20on%20%60finset%60/near/196693140" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60subset.60.20on.20.60finset.60.html#196693140">(May 06 2020 at 20:33)</a>:</h4>
<p>Why not just leave <code>multiset</code> alone?</p>



<a name="196693364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60subset%60%20on%20%60finset%60/near/196693364" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60subset.60.20on.20.60finset.60.html#196693364">(May 06 2020 at 20:34)</a>:</h4>
<p>I guess that with <code>subset</code>, multisets aren't a partial order (and hence not a lattice), because they don't satisfy antisymmetry</p>



<a name="196693801"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60subset%60%20on%20%60finset%60/near/196693801" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60subset.60.20on.20.60finset.60.html#196693801">(May 06 2020 at 20:38)</a>:</h4>
<p>But it is transitive...</p>



<a name="196693843"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60subset%60%20on%20%60finset%60/near/196693843" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60subset.60.20on.20.60finset.60.html#196693843">(May 06 2020 at 20:38)</a>:</h4>
<p>right, it's a preorder. But I thought the idea was that we should use &lt;= for lattices, even when mathematicians use <code>\subseteq</code></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>