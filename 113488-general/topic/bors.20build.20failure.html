---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/bors.20build.20failure.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html">bors build failure</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="212391723"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/212391723" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#212391723">(Oct 06 2020 at 07:13)</a>:</h4>
<p>Bors has failed building <a href="https://github.com/leanprover-community/mathlib/issues/4444">#4444</a> twice now, and it seems to be a deterministic timeout in <code>mv_polynomial</code>.  The PR touches <code>control/traversable</code>, but only by adding documentation and reordering a definition.</p>
<p><code>/home/runner/work/mathlib/mathlib/src/data/mv_polynomial/basic.lean:414:0: error: (deterministic) timeout</code></p>



<a name="212391974"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/212391974" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#212391974">(Oct 06 2020 at 07:16)</a>:</h4>
<p>I guess the first thing to do is to try merging master on that branch and letting the CI run</p>



<a name="212392281"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/212392281" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#212392281">(Oct 06 2020 at 07:20)</a>:</h4>
<p>Hereâ€™s the line referenced in the error: <a href="https://github.com/leanprover-community/mathlib/blob/523bddb4f0cbfdc401b3b2f943ca6eba92ad90cc/src/data/mv_polynomial/basic.lean#L414">https://github.com/leanprover-community/mathlib/blob/523bddb4f0cbfdc401b3b2f943ca6eba92ad90cc/src/data/mv_polynomial/basic.lean#L414</a></p>



<a name="212392685"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/212392685" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#212392685">(Oct 06 2020 at 07:25)</a>:</h4>
<p>Ok, I've merged master and pushed it.  Is the CI just to see if it can still build?</p>



<a name="212392844"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/212392844" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#212392844">(Oct 06 2020 at 07:26)</a>:</h4>
<p>I'm having the same issue with <a href="https://github.com/leanprover-community/mathlib/issues/4461">#4461</a></p>



<a name="212393028"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/212393028" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#212393028">(Oct 06 2020 at 07:28)</a>:</h4>
<p>The problem is <code>coeff_mul</code></p>



<a name="212393044"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/212393044" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#212393044">(Oct 06 2020 at 07:29)</a>:</h4>
<p>It's known to be slow... I guess we need to work on it</p>



<a name="212393374"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/212393374" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#212393374">(Oct 06 2020 at 07:32)</a>:</h4>
<p>So it's not <span class="user-mention" data-user-id="302826">@Aaron Anderson</span>'s docstrings that broke the build? <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



<a name="212394460"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/212394460" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#212394460">(Oct 06 2020 at 07:47)</a>:</h4>
<p>Is the deterministic timeout actually nondeterministic? (at least when it comes to building all of mathlib?)  It seems sort of improbable that a commit with only documentation comments would change much...</p>



<a name="212395338"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/212395338" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#212395338">(Oct 06 2020 at 07:59)</a>:</h4>
<p>Yeah, I'm not sure what deterministic really means here. For what it's worth, I ran <code>lean --make src/data/mv_polynomial/basic.lean</code> on the <a href="https://github.com/leanprover-community/mathlib/issues/4444">#4444</a> branch of mathlib and didn't get a timeout when opening the file in VS Code, even though it should be enforcing the same <code>-T100000</code> limit. </p>
<p>According to the profiler, the tactic execution in <code>mv_polynomial.coeff_mul</code> is taking 19.7 seconds, so it's definitely ripe for reworking. I don't know how to interpret the more detailed output though:</p>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>elaboration: tactic execution took 19.7s
num. allocated objects:  7835
num. allocated closures: 10779
19748ms   100.0%   tactic.istep
19748ms   100.0%   _interaction
19748ms   100.0%   tactic.istep._lambda_1
19748ms   100.0%   scope_trace
19748ms   100.0%   _interaction._lambda_2
19748ms   100.0%   tactic.step
19667ms    99.6%   tactic.solve1
19525ms    98.9%   _interaction._lambda_19
19140ms    96.9%   tactic.interactive.propagate_tags
18716ms    94.8%   interaction_monad_orelse
18665ms    94.5%   _interaction._lambda_17
18615ms    94.3%   tactic.interactive.simp_core
18554ms    94.0%   tactic.interactive.simp_core_aux
18550ms    93.9%   tactic.simplify
18550ms    93.9%   tactic.try
18502ms    93.7%   tactic.interactive.simpa._lambda_6
18501ms    93.7%   tactic.interactive.simpa
17747ms    89.9%   tactic.simp_target
17747ms    89.9%   tactic.interactive.simp_core_aux._lambda_5
13118ms    66.4%   _interaction._lambda_16
13061ms    66.1%   _interaction._lambda_14
 5162ms    26.1%   _interaction._lambda_10
 1697ms     8.6%   interaction_monad.monad._lambda_9
  807ms     4.1%   tactic.interactive.simp_core_aux._lambda_4
  807ms     4.1%   tactic.interactive.simp_core_aux._lambda_2
  525ms     2.7%   rw_core
  524ms     2.7%   interactive.loc.apply
  521ms     2.6%   interaction_monad.orelse'
  492ms     2.5%   _private.3291397495.rw_goal._lambda_4
  481ms     2.4%   _private.3291397495.rw_goal._lambda_2
  415ms     2.1%   tactic.rewrite_target
  415ms     2.1%   tactic.rewrite
  414ms     2.1%   tactic.rewrite_core
  368ms     1.9%   tactic.mk_instance
  287ms     1.5%   _interaction._lambda_12
  286ms     1.4%   tactic.apply_instance
  268ms     1.4%   tactic.all_goals'
  268ms     1.4%   all_goals'_core
  268ms     1.4%   _private.3677394557.all_goals'_core._main._lambda_2
  268ms     1.4%   tactic.to_expr
  235ms     1.2%   _interaction._lambda_18
  147ms     0.7%   _interaction._lambda_7
  142ms     0.7%   _interaction._lambda_4
  139ms     0.7%   tactic.interactive.have._lambda_1
   99ms     0.5%   tactic.interactive.concat_tags._lambda_5
   98ms     0.5%   repeat_aux
   98ms     0.5%   tactic.try_core
   98ms     0.5%   tactic.repeat
   98ms     0.5%   _interaction._lambda_3
   98ms     0.5%   _private.1616170719.repeat_aux._main._lambda_1
   94ms     0.5%   _interaction._lambda_11
   93ms     0.5%   tactic.interactive.by_cases._lambda_2
   93ms     0.5%   tactic.interactive.by_cases
   84ms     0.4%   tactic.interactive.to_expr'
   83ms     0.4%   tactic.by_cases
   59ms     0.3%   tactic.mk_simp_set_core
   59ms     0.3%   tactic.mk_simp_set
   57ms     0.3%   tactic.interactive.convert
   57ms     0.3%   tactic.focus1
   54ms     0.3%   tactic.congr'
   52ms     0.3%   _interaction._lambda_13
   39ms     0.2%   _interaction._lambda_8
   39ms     0.2%   simp_lemmas.add_pexpr
   39ms     0.2%   simp_lemmas.append_pexprs
   39ms     0.2%   tactic.mk_simp_set_core._lambda_5
   36ms     0.2%   tactic.apply_eq_congr_core
   36ms     0.2%   tactic.congr_core'
   35ms     0.2%   tactic.congr'._main._lambda_3
   32ms     0.2%   tactic.mk_specialized_congr_lemma
   31ms     0.2%   rw_hyp
   30ms     0.2%   _private.859230899.rw_hyp._main._lambda_3
   23ms     0.1%   _private.859230899.rw_hyp._main._lambda_2
   23ms     0.1%   tactic.apply_core
   21ms     0.1%   tactic.rewrite_hyp
   21ms     0.1%   _interaction._lambda_5
   20ms     0.1%   tactic.seq'
   18ms     0.1%   tactic.join_user_simp_lemmas
   18ms     0.1%   simp_lemmas.mk_default
   17ms     0.1%   relation_tactic
   17ms     0.1%   _interaction._lambda_6
   16ms     0.1%   _private.1624076617.relation_tactic._lambda_1
   16ms     0.1%   tactic.exact
   15ms     0.1%   tactic.congr'._main._lambda_4
   14ms     0.1%   tactic.replace_target
   10ms     0.1%   tactic.interactive.simpa._lambda_1
   10ms     0.1%   tactic.replace_hyp
   10ms     0.1%   _private.3291397495.rw_goal._lambda_3
    9ms     0.0%   tactic.save_info_with_widgets
    8ms     0.0%   tactic.apply
    8ms     0.0%   tactic.mk_eq_mpr
    8ms     0.0%   tactic.save_widget
    7ms     0.0%   tactic.save_type_info
    6ms     0.0%   tactic.assert
    6ms     0.0%   tactic.interactive.apply._lambda_1
    5ms     0.0%   tactic.assumption._lambda_1
    5ms     0.0%   tactic.find_same_type
    5ms     0.0%   tactic.refine
    4ms     0.0%   tactic.apply_congr_core
    4ms     0.0%   tactic.mk_eq_mp
    3ms     0.0%   tactic.rintro
    3ms     0.0%   tactic.find_same_type._main._lambda_1
    3ms     0.0%   simp_lemmas.resolve_and_add
    3ms     0.0%   tactic.unify
    3ms     0.0%   tactic.assert_core
    3ms     0.0%   _private.3676539765.simp_lemmas.resolve_and_add._lambda_2
    3ms     0.0%   tactic.interactive.rintro
    3ms     0.0%   tactic.infer_type
    3ms     0.0%   tactic.rintro._lambda_3
    3ms     0.0%   simp_lemmas.add_simp
    2ms     0.0%   tactic.mk_app
    2ms     0.0%   simp_lemmas.erase
    2ms     0.0%   tactic.rcases_core._main._lambda_5
    2ms     0.0%   tactic.interactive.exact
    2ms     0.0%   tactic.rcases_core._main._lambda_9
    2ms     0.0%   tactic.rcases_core
    2ms     0.0%   tactic.mk_id_eq
    2ms     0.0%   tactic.rcases.continue
    2ms     0.0%   tactic.cases_core
    2ms     0.0%   _interaction._lambda_9
    1ms     0.0%   tactic.has_opt_auto_param._lambda_2
    1ms     0.0%   tactic.clear_goals._lambda_5
    1ms     0.0%   tactic.apply_congr_core._lambda_1
    1ms     0.0%   tactic.applyc
    1ms     0.0%   tactic.mk_const
    1ms     0.0%   tactic.has_opt_auto_param_for_apply._lambda_2
    1ms     0.0%   tactic.intro_core
    1ms     0.0%   tactic.get_eqn_lemmas_for
    1ms     0.0%   tactic.i_to_expr_for_apply
    1ms     0.0%   tactic.interactive.get_rule_eqn_lemmas
    1ms     0.0%   tactic.clear
    1ms     0.0%   format.join
    1ms     0.0%   environment.get_ext_eqn_lemmas_for
    1ms     0.0%   tactic.interactive.dsimp
    1ms     0.0%   tactic.save_info_thunk
    1ms     0.0%   tactic.dsimp_target
    1ms     0.0%   tactic.interactive.get_rule_eqn_lemmas._lambda_3
    1ms     0.0%   tactic.clear_goals
    1ms     0.0%   tactic.assertv
    1ms     0.0%   expr.get_app_fn
    1ms     0.0%   resolve_name'
    1ms     0.0%   tactic.clear'
    1ms     0.0%   expr.is_napp_of
    1ms     0.0%   list.foldl
    1ms     0.0%   tactic.mk_const._lambda_1
    1ms     0.0%   tactic.intro
    1ms     0.0%   expr.const
    1ms     0.0%   simp_lemmas.dsimplify
    1ms     0.0%   format.compose
    1ms     0.0%   expr.is_app_of
    1ms     0.0%   tactic.swap
    1ms     0.0%   tactic.instantiate_mvars
    1ms     0.0%   _interaction._lambda_15
    1ms     0.0%   tactic.assertv_core
    1ms     0.0%   tactic.congr'._main._lambda_2
</code></pre></div>



<a name="212395712"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/212395712" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#212395712">(Oct 06 2020 at 08:03)</a>:</h4>
<p>I think that is saying <code>simpa</code> is the culprit.</p>



<a name="212395880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/212395880" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#212395880">(Oct 06 2020 at 08:05)</a>:</h4>
<p>Indeed, changing the two <code>simpa</code>s to <code>simpa only</code> speeds it up to 2.64 seconds!</p>



<a name="212396003"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/212396003" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#212396003">(Oct 06 2020 at 08:07)</a>:</h4>
<p>I almost have a PR ready</p>



<a name="212396015"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/212396015" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#212396015">(Oct 06 2020 at 08:07)</a>:</h4>
<p>I'm restructuring it a bit more</p>



<a name="212396103"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/212396103" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#212396103">(Oct 06 2020 at 08:08)</a>:</h4>
<p>Ah, OK. I was just about to submit one myself (with just the <code>simpa only</code> change).</p>



<a name="212396284"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/212396284" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#212396284">(Oct 06 2020 at 08:10)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/issues/4469">#4469</a></p>



<a name="212396295"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/212396295" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#212396295">(Oct 06 2020 at 08:10)</a>:</h4>
<p>It's below 2s on my box now</p>



<a name="212397381"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/212397381" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#212397381">(Oct 06 2020 at 08:21)</a>:</h4>
<p>oops, I did it as well...</p>



<a name="212397434"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/212397434" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#212397434">(Oct 06 2020 at 08:22)</a>:</h4>
<p>I'll close.</p>



<a name="212398549"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/212398549" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#212398549">(Oct 06 2020 at 08:34)</a>:</h4>
<p>Hmm, <code>coeff_mul</code> just caused the most recent <code>bors</code> batch to fail again: <a href="https://github.com/leanprover-community/mathlib/runs/1213623252">https://github.com/leanprover-community/mathlib/runs/1213623252</a></p>
<p>So maybe we should see if we can try and merge that first.</p>



<a name="212398705"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/212398705" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#212398705">(Oct 06 2020 at 08:36)</a>:</h4>
<p>Yup, we might want to cancel everything, and squeeze this in first.</p>



<a name="212399224"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/212399224" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#212399224">(Oct 06 2020 at 08:43)</a>:</h4>
<p>I just added <a href="https://github.com/leanprover-community/mathlib/issues/4469">#4469</a> to the queue. Even if the currently running batch fails, <a href="https://github.com/leanprover-community/mathlib/issues/4469">#4469</a> should be in the next batch and then everything should be good, I think.</p>



<a name="212402301"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/212402301" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#212402301">(Oct 06 2020 at 09:14)</a>:</h4>
<p><code>bors r+ p=10</code> will give it higher priority</p>



<a name="212402461"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/212402461" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#212402461">(Oct 06 2020 at 09:16)</a>:</h4>
<p>I considered doing that but since <a href="https://github.com/leanprover-community/mathlib/issues/4469">#4469</a> won't conflict with any of the other PRs, it should be more efficient just to have it run in a batch.</p>



<a name="212402645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/212402645" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#212402645">(Oct 06 2020 at 09:18)</a>:</h4>
<p>Also, the batch including <a href="https://github.com/leanprover-community/mathlib/issues/4469">#4469</a> is now running, since the batch that was running failed again. I went ahead and reconsolidated those PRs along with <a href="https://github.com/leanprover-community/mathlib/issues/4444">#4444</a> into a new batch.</p>



<a name="212404257"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/212404257" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#212404257">(Oct 06 2020 at 09:36)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/issues/4472">#4472</a> is not critical for bors, but it brings <code>coeff_mul</code> down into the 1.0s - 1.2s range, and shortens the proof.</p>



<a name="292572916"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/292572916" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#292572916">(Aug 09 2022 at 12:56)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="2494">@maintainers</span> <a href="https://github.com/leanprover-community/mathlib/pull/15837">#15837</a> and <a href="https://github.com/leanprover-community/mathlib/pull/15836">#15836</a> should not be on the same batch, can someone jank one of them from the queue?</p>



<a name="292573031"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/292573031" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#292573031">(Aug 09 2022 at 12:57)</a>:</h4>
<p>Done</p>



<a name="292573059"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/292573059" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#292573059">(Aug 09 2022 at 12:57)</a>:</h4>
<p>I pulled <a href="https://github.com/leanprover-community/mathlib/pull/15837">#15837</a> off the queue</p>



<a name="292573138"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/292573138" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#292573138">(Aug 09 2022 at 12:58)</a>:</h4>
<p>thanks</p>



<a name="292573248"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/292573248" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#292573248">(Aug 09 2022 at 12:58)</a>:</h4>
<p>Bors handles this sort of this automatically though. It just tries again, dividing and conquering as it goes, right?</p>



<a name="292574357"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/292574357" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#292574357">(Aug 09 2022 at 13:05)</a>:</h4>
<p>but since we know what the issue is (<a href="https://github.com/leanprover-community/mathlib/pull/15836">#15836</a> proves stuff with <code>positive_cone</code> and <a href="https://github.com/leanprover-community/mathlib/pull/15837">#15837</a> renames <code>positive_cone</code> to <code>positive</code>), it is easier to cancel on of them and not waste time for builds that will fail anyways.</p>



<a name="292574572"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/292574572" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#292574572">(Aug 09 2022 at 13:06)</a>:</h4>
<p>It's a shame there's no way to tell bors to undo a divide and conquer when we know better</p>



<a name="292577168"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/292577168" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#292577168">(Aug 09 2022 at 13:22)</a>:</h4>
<p>I wish <code>bors</code> priorities worked properly</p>



<a name="292588701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/292588701" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#292588701">(Aug 09 2022 at 14:26)</a>:</h4>
<p>By the way, I think anyone can <code>bors cancel</code>?<br>
At least it work for me in <a href="https://github.com/leanprover-community/mathlib/pull/15436">#15436</a> where I was not delegated.</p>



<a name="293500605"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293500605" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> MarÃ­a InÃ©s de Frutos FernÃ¡ndez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293500605">(Aug 15 2022 at 11:02)</a>:</h4>
<p>Could someone take a look at why <a href="https://github.com/leanprover-community/mathlib/pull/14115">#14115</a> failed? The check that failed was <code>bors â€” Merge conflict</code>, but I hadn't seen any merge conflicts before approving the PR.</p>



<a name="293500909"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293500909" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> YaÃ«l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293500909">(Aug 15 2022 at 11:04)</a>:</h4>
<p>It's about to have a conflict with <a href="https://github.com/leanprover-community/mathlib/pull/15594">#15594</a>.</p>



<a name="293501021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293501021" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293501021">(Aug 15 2022 at 11:05)</a>:</h4>
<p>That's not the answer to the question though.</p>



<a name="293501132"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293501132" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> YaÃ«l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293501132">(Aug 15 2022 at 11:06)</a>:</h4>
<p>The answer is that bors detected the conflict.</p>



<a name="293501157"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293501157" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293501157">(Aug 15 2022 at 11:06)</a>:</h4>
<p>With an open PR??</p>



<a name="293501203"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293501203" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293501203">(Aug 15 2022 at 11:07)</a>:</h4>
<p>Oh I see! My mistake. It's also on the queue.</p>



<a name="293502388"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293502388" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293502388">(Aug 15 2022 at 11:16)</a>:</h4>
<p>This question comes up over and over again; is this something we need to document, or that we need to ask bors to document better?</p>



<a name="293502774"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293502774" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293502774">(Aug 15 2022 at 11:20)</a>:</h4>
<p>How does one fix this?</p>



<a name="293502800"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293502800" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293502800">(Aug 15 2022 at 11:20)</a>:</h4>
<p>I mean the conflict, not the fact that it confused some people</p>



<a name="293502859"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293502859" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> YaÃ«l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293502859">(Aug 15 2022 at 11:21)</a>:</h4>
<p>Wait for bors to be done with either PR, then you can merge the one that went through in the one that didn't.</p>



<a name="293502968"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293502968" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293502968">(Aug 15 2022 at 11:22)</a>:</h4>
<p>you can also head the process off by merging onto bors' staging commit</p>



<a name="293503010"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293503010" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> YaÃ«l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293503010">(Aug 15 2022 at 11:22)</a>:</h4>
<p>Given that this batch already failed once, I'm not sure that's wise.</p>



<a name="293503051"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293503051" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> YaÃ«l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293503051">(Aug 15 2022 at 11:23)</a>:</h4>
<p>A maintainer could check in the build logs whether <a href="https://github.com/leanprover-community/mathlib/pull/15594">#15594</a> was the faulty PR in that batch.</p>



<a name="293503080"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293503080" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293503080">(Aug 15 2022 at 11:23)</a>:</h4>
<p>I think this question comes up often because the way that bors operates is not widely known, especially if you're not a programmer</p>



<a name="293503195"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293503195" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> MarÃ­a InÃ©s de Frutos FernÃ¡ndez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293503195">(Aug 15 2022 at 11:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113488-general/topic/bors.20build.20failure/near/293502388">said</a>:</p>
<blockquote>
<p>This question comes up over and over again; is this something we need to document, or that we need to ask bors to document better?</p>
</blockquote>
<p>I think some documentation would be helpful.</p>



<a name="293503211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293503211" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293503211">(Aug 15 2022 at 11:24)</a>:</h4>
<p>Once you have done the merge work on that staging commit, it shouldn't be too bad to merge on whatever ends up on master since that will probably also have the conflicting PR</p>



<a name="293503264"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293503264" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293503264">(Aug 15 2022 at 11:24)</a>:</h4>
<p>(when I say "merge" I mean "rebase")</p>



<a name="293503348"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293503348" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293503348">(Aug 15 2022 at 11:25)</a>:</h4>
<p>or you can just wait the 4 hours or so</p>



<a name="293503592"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293503592" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293503592">(Aug 15 2022 at 11:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">YaÃ«l Dillies</span> <a href="#narrow/stream/113488-general/topic/bors.20build.20failure/near/293503051">said</a>:</p>
<blockquote>
<p>A maintainer could check in the build logs whether <a href="https://github.com/leanprover-community/mathlib/pull/15994">#15994</a> was the faulty PR in that batch.</p>
</blockquote>
<p>So can a non-maintainer</p>



<a name="293503769"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293503769" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> YaÃ«l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293503769">(Aug 15 2022 at 11:29)</a>:</h4>
<p><a href="/user_uploads/3121/9xXpkDmsnFGjZ-YtJEUQXQ7C/image.png">No</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/9xXpkDmsnFGjZ-YtJEUQXQ7C/image.png" title="No"><img src="/user_uploads/3121/9xXpkDmsnFGjZ-YtJEUQXQ7C/image.png"></a></div>



<a name="293503924"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293503924" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> YaÃ«l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293503924">(Aug 15 2022 at 11:30)</a>:</h4>
<p><em>Sometimes</em> I can see the logs on the commit, but here <a href="https://github.com/leanprover-community/mathlib/commit/6eb146e873f32077111041472656aa3153f88b6f">https://github.com/leanprover-community/mathlib/commit/6eb146e873f32077111041472656aa3153f88b6f</a> doesn't have them.</p>



<a name="293504637"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293504637" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293504637">(Aug 15 2022 at 11:34)</a>:</h4>
<p>The logs are here: <a href="https://github.com/leanprover-community/mathlib/actions/workflows/bors.yml">https://github.com/leanprover-community/mathlib/actions/workflows/bors.yml</a></p>



<a name="293504701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293504701" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293504701">(Aug 15 2022 at 11:35)</a>:</h4>
<p>Your page just links to the appropiate entry on that one</p>



<a name="293517075"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293517075" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> YaÃ«l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293517075">(Aug 15 2022 at 13:09)</a>:</h4>
<p>Okay, <a href="https://github.com/leanprover-community/mathlib/pull/15594">#15594</a> was indeed the one failing. I just fixed the error (<code>to_additive</code> was now guessing the wrong name). Can someone put it back on the queue?</p>



<a name="293568531"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293568531" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293568531">(Aug 15 2022 at 16:26)</a>:</h4>
<p>Now it's my turn to cause build failures with <a href="https://github.com/leanprover-community/mathlib/pull/14534">#14534</a></p>



<a name="293568614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293568614" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293568614">(Aug 15 2022 at 16:27)</a>:</h4>
<p>It is a quite old PRs so there are "implicit conflicts" e.g some rewrites no longer work</p>



<a name="293568641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293568641" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293568641">(Aug 15 2022 at 16:27)</a>:</h4>
<p>I'm fixing it, sorry for the inconvenience</p>



<a name="293571656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293571656" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293571656">(Aug 15 2022 at 16:43)</a>:</h4>
<p>No need at all to apologise; this sort of thing is a normal part of collaborative development.</p>



<a name="293574084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293574084" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293574084">(Aug 15 2022 at 16:57)</a>:</h4>
<p>strangely <a href="https://app.bors.tech/repositories/24316">#bors</a> is currently showing no jobs running</p>



<a name="293574235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293574235" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293574235">(Aug 15 2022 at 16:58)</a>:</h4>
<p>but at the bottom of my PR <a href="https://github.com/leanprover-community/mathlib/pull/16046">#16046</a> it shows bors is running</p>



<a name="293600030"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293600030" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293600030">(Aug 15 2022 at 18:40)</a>:</h4>
<p>It looks like bors is still feeling ill <span aria-label="sad" class="emoji emoji-2639" role="img" title="sad">:sad:</span></p>



<a name="293600505"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293600505" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph Myers <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293600505">(Aug 15 2022 at 18:43)</a>:</h4>
<p>I don't know why it hasn't restarted automatically with a smaller batch, but the failure of the last batch shows a genuine conflict between <a href="https://github.com/leanprover-community/mathlib/pull/16011">#16011</a> (uses <code>topological_group_is_uniform</code>) and <a href="https://github.com/leanprover-community/mathlib/pull/16027">#16027</a> (renames <code>topological_group_is_uniform</code>), so one of those needs to be removed from the batch before it's restarted.</p>



<a name="293602272"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293602272" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293602272">(Aug 15 2022 at 18:55)</a>:</h4>
<p>Thanks. I asked it to take <a href="https://github.com/leanprover-community/mathlib/pull/16011">#16011</a> of the queue</p>



<a name="293602564"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293602564" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293602564">(Aug 15 2022 at 18:57)</a>:</h4>
<p>Ha!</p>



<a name="293602603"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293602603" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293602603">(Aug 15 2022 at 18:57)</a>:</h4>
<p>I just kicked a PR on the queue, and bors started working again.</p>



<a name="293602700"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293602700" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293602700">(Aug 15 2022 at 18:58)</a>:</h4>
<p>So it seems like it just completely lost track of all its queues <span aria-label="oops" class="emoji emoji-1f643" role="img" title="oops">:oops:</span></p>



<a name="293603075"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293603075" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293603075">(Aug 15 2022 at 19:00)</a>:</h4>
<p>Does <a href="https://github.com/leanprover-community/mathlib/pull/14534#issuecomment-1215301959">bors cancel</a> vs. <code>bors r-</code> matter?<br>
(Edit: apparently they're equivalent: <a href="https://bors.tech/documentation/">https://bors.tech/documentation/</a> )</p>



<a name="293603186"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293603186" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293603186">(Aug 15 2022 at 19:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/113488-general/topic/bors.20build.20failure/near/293602603">said</a>:</p>
<blockquote>
<p>I just kicked a PR on the queue, and bors started working again.</p>
</blockquote>
<p>But does <a href="https://app.bors.tech/repositories/24316">#bors</a> still remember the other PRs?</p>



<a name="293604429"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293604429" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293604429">(Aug 15 2022 at 19:08)</a>:</h4>
<p>Nope. All the queues were gone.</p>



<a name="293604447"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293604447" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293604447">(Aug 15 2022 at 19:08)</a>:</h4>
<p>I'm adding everything back now.</p>



<a name="293604498"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293604498" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293604498">(Aug 15 2022 at 19:09)</a>:</h4>
<p>Doing an experiment with manually putting 10 PRs in a batch using priorities.</p>



<a name="293605283"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293605283" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293605283">(Aug 15 2022 at 19:15)</a>:</h4>
<p>I think everything that had <code>ready-to-merge</code> should now be back on a <a href="https://app.bors.tech/repositories/24316">#bors</a> queue. Let's hope it doesn't forget the queues again.</p>



<a name="293610596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293610596" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293610596">(Aug 15 2022 at 19:50)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/14534">#14534</a> is ready again, should I just <code>bors r+</code> it again?</p>



<a name="293610836"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293610836" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293610836">(Aug 15 2022 at 19:52)</a>:</h4>
<p>Feel free to try</p>



<a name="293613161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293613161" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293613161">(Aug 15 2022 at 20:08)</a>:</h4>
<p>It looks like all the queues were dropped because bors crashed (only maintainers can view <a href="https://app.bors.tech/repositories/24316/log">this link</a>). If it happens again it could be worth reporting.</p>



<a name="293624402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293624402" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293624402">(Aug 15 2022 at 21:34)</a>:</h4>
<p>Hmm, I didn't know bors would combine PRs with different priorities<br>
<a href="/user_uploads/3121/tqBIOn5JoPdTZXwCe5VEFo3Y/Screenshot-from-2022-08-15-23-33-33.png">Screenshot-from-2022-08-15-23-33-33.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/tqBIOn5JoPdTZXwCe5VEFo3Y/Screenshot-from-2022-08-15-23-33-33.png" title="Screenshot-from-2022-08-15-23-33-33.png"><img src="/user_uploads/3121/tqBIOn5JoPdTZXwCe5VEFo3Y/Screenshot-from-2022-08-15-23-33-33.png"></a></div>



<a name="293625787"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293625787" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293625787">(Aug 15 2022 at 21:44)</a>:</h4>
<p>If you go to the PR, I think it's because the priority was set twice</p>



<a name="293640148"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293640148" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph Myers <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293640148">(Aug 16 2022 at 00:05)</a>:</h4>
<p>The next build failure says that <a href="https://github.com/leanprover-community/mathlib/pull/15065">#15065</a> should be removed from the queue until it's been updated for the <code>has_scalar</code> rename. (But bors seems to have carried on automatically with a different subset of the queue after that build failure.)</p>



<a name="293641846"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293641846" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293641846">(Aug 16 2022 at 00:26)</a>:</h4>
<p>Thanks! It looks like <a href="https://github.com/leanprover-community/mathlib/pull/15065">#15065</a> has since been removed from the queue.</p>



<a name="293657337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293657337" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293657337">(Aug 16 2022 at 05:27)</a>:</h4>
<p>Crazy. Bors is now building a queue with prio 0, even though there are two queues with prio 4.</p>



<a name="293657402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293657402" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293657402">(Aug 16 2022 at 05:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="253861">Thomas Browning</span> <a href="#narrow/stream/113488-general/topic/bors.20build.20failure/near/293625787">said</a>:</p>
<blockquote>
<p>If you go to the PR, I think it's because the priority was set twice</p>
</blockquote>
<p>But all queues had a unique prio ~ 8hrs ago. So there is no good reason for mixing them.</p>



<a name="293657411"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293657411" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293657411">(Aug 16 2022 at 05:28)</a>:</h4>
<p>I completely don't understand how bors priorities work.</p>



<a name="293657974"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20build%20failure/near/293657974" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20build.20failure.html#293657974">(Aug 16 2022 at 05:36)</a>:</h4>
<p>It seems that when bors bisects (due to failed build), the half that's not chosen forms a batch that goes to the end of the queue.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>