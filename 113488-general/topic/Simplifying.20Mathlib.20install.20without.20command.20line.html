---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html">Simplifying Mathlib install without command line</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="236565368"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236565368" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hunter Monroe <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236565368">(Apr 28 2021 at 19:34)</a>:</h4>
<p>I have identified two ways to simplify significantly the Mathlib install while avoiding the command line: (1) as a one-click install, add to the "trylean_windows" what is missing relative to a complete installation: elan.exe and related files, leanproject.exe (a full Python install is not needed, right), and git/bash exe files without GUI; (2) as a second approach, have the users install Git for Windows, VS Code, and the Lean extension, which can then install elan and leanproject.exe (again no need to install Python, right?). Note that the Lean extension can already install elan since version 0.12, but it needs to ask the user to close and reopen VS Code so the path is updated and to offer to install on startup before a .lean file is opened. In addition to simplifying the install, we can elaborate menus for installing lean projects and also allow contributions to mathlib avoiding use of the command line. Are there any reactions to these two approaches?</p>



<a name="236565525"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236565525" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236565525">(Apr 28 2021 at 19:36)</a>:</h4>
<p><code>leanproject</code> uses python.</p>



<a name="236573495"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236573495" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236573495">(Apr 28 2021 at 20:32)</a>:</h4>
<p>Does vscode know about leanproject at all?</p>



<a name="236573818"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236573818" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236573818">(Apr 28 2021 at 20:35)</a>:</h4>
<p>Note that by far the most frequent type of problems I've seen users have with installing python is that they have multiple installations without knowing it, and end up mixing and matching. Any attempt to bundle python with bits of the lean tooling is likely to make that problem worse not better.</p>



<a name="236573876"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236573876" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236573876">(Apr 28 2021 at 20:35)</a>:</h4>
<p>Perhaps if users are really scared of command lines and installation then we should direct them towards gitpod?</p>



<a name="236576210"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236576210" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236576210">(Apr 28 2021 at 20:52)</a>:</h4>
<p>Or Patrick's bundled one-click portable vscode if that is still around?</p>



<a name="236595136"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236595136" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236595136">(Apr 28 2021 at 23:20)</a>:</h4>
<p><span class="user-mention" data-user-id="397140">@Hunter Monroe</span>, rather than redesigning the installation process from scratch, how about we first make some improvements that we want anyway: teaching the VSCode extension how to call <code>leanproject</code> to do various simple tasks. (e.g. pull oleans, or delete zombie oleans, from the ctrl-shift-p mena?)</p>



<a name="236596647"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236596647" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hunter Monroe <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236596647">(Apr 28 2021 at 23:36)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span> the attached version of leanproject.exe stands alone from Python--I just ran it on a machine without Python. <a href="/user_uploads/3121/JKXSfQmHjA0-YSLb86yi54-E/leanproject.exe">leanproject.exe</a> . I created it with the command "pyinstaller --onefile leanproject.py". I suggest that this .exe file be added to elan, and once that is done, deleting steps from the windows installation page. <span class="user-mention" data-user-id="110087">@Scott Morrison</span> yes adding  <code>leanproject</code> calls from the extension is my next task--these can be consolidated into a menu, not just ctrl-shift-p.</p>



<a name="236596852"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236596852" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236596852">(Apr 28 2021 at 23:38)</a>:</h4>
<p>Just a note regarding <code>pyinstaller --onefile leanproject.py</code>: the reason I am proposing abandoning the <code>alpine</code> based docker image in <a href="https://github.com/leanprover-community/mathlib/issues/7401">#7401</a> is because exactly this step mysteriously stopped working on <code>alpine</code>. Admittedly it's a weak argument, as the <code>alpine</code> build is pretty baroque in other ways, but just a word of caution adding this as a dependency in our build setup.</p>



<a name="236596931"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236596931" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236596931">(Apr 28 2021 at 23:39)</a>:</h4>
<p>Do you have a link to the logs showing that failure?</p>



<a name="236596936"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236596936" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236596936">(Apr 28 2021 at 23:39)</a>:</h4>
<p>I agree that removing the dependency on all of python is nice for users; I just fear it's going to be complicated, and encourage you to do the low-hanging fruit that doesn't require very careful testing first. :-)</p>



<a name="236596999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236596999" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236596999">(Apr 28 2021 at 23:40)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span>, you can generate the logs locally in any copy of mathlib, using <code>scripts/docker_build.sh</code>.</p>



<a name="236597153"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236597153" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236597153">(Apr 28 2021 at 23:42)</a>:</h4>
<p>I only ask because I've had to respond to a handful of pyinstaller issues with my numpy maintainer hat on, and wonder if the failure looks the same</p>



<a name="236597209"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236597209" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236597209">(Apr 28 2021 at 23:43)</a>:</h4>
<p>It seems the github module in python has version bumped, which in turn version bumps <code>pynacl</code>, which then wouldn't compile on <code>alpine</code>. I did manage to get that to work again, by changing the lines</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">FROM</span> <span class="n">six8</span><span class="bp">/</span><span class="n">pyinstaller</span><span class="bp">-</span><span class="n">alpine</span><span class="o">:</span><span class="n">alpine</span><span class="bp">-</span><span class="mi">3</span><span class="bp">.</span><span class="mi">6</span><span class="bp">-</span><span class="n">pyinstaller</span><span class="bp">-</span><span class="n">v3.4</span> <span class="n">as</span> <span class="n">leanproject</span><span class="bp">-</span><span class="n">builder</span>

<span class="n">USER</span> <span class="n">root</span>
<span class="bp">#</span> <span class="n">install</span> <span class="n">prerequisites</span>
<span class="n">RUN</span> <span class="n">apk</span> <span class="n">update</span> <span class="bp">&amp;&amp;</span> <span class="n">apk</span> <span class="n">add</span> <span class="c1">--no-cache python3 py3-pip py3-virtualenv make</span>
</code></pre></div>
<p>in <code>.docker/alpine/lean/Dockerfile</code> to</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">FROM</span> <span class="n">six8</span><span class="bp">/</span><span class="n">pyinstaller</span><span class="bp">-</span><span class="n">alpine</span> <span class="n">as</span> <span class="n">leanproject</span><span class="bp">-</span><span class="n">builder</span>

<span class="n">USER</span> <span class="n">root</span>
<span class="bp">#</span> <span class="n">install</span> <span class="n">prerequisites</span>
<span class="n">RUN</span> <span class="n">apk</span> <span class="n">update</span> <span class="bp">&amp;&amp;</span> <span class="n">apk</span> <span class="n">add</span> <span class="c1">--no-cache python3 python3-dev py3-pip py3-virtualenv make</span>
</code></pre></div>
<p>but then although <code>pyinstaller --onefile</code> claims to succeed, <code>leanproject</code> itself doesn't work with error message</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">#</span><span class="mi">6</span> <span class="mi">0</span><span class="bp">.</span><span class="mi">304</span> <span class="n">Traceback</span> <span class="o">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="o">):</span>
<span class="bp">#</span><span class="mi">6</span> <span class="mi">0</span><span class="bp">.</span><span class="mi">304</span>   <span class="n">File</span> <span class="s2">"leanproject"</span><span class="o">,</span> <span class="n">line</span> <span class="mi">5</span><span class="o">,</span> <span class="k">in</span> <span class="bp">&lt;</span><span class="n">module</span><span class="bp">&gt;</span>
<span class="bp">#</span><span class="mi">6</span> <span class="mi">0</span><span class="bp">.</span><span class="mi">304</span> <span class="n">ImportError</span><span class="o">:</span> <span class="n">No</span> <span class="n">module</span> <span class="n">named</span> <span class="n">mathlibtools.leanproject</span>
<span class="bp">#</span><span class="mi">6</span> <span class="mi">0</span><span class="bp">.</span><span class="mi">304</span> <span class="o">[</span><span class="mi">8</span><span class="o">]</span> <span class="n">Failed</span> <span class="n">to</span> <span class="n">execute</span> <span class="n">script</span> <span class="n">leanproject</span>
</code></pre></div>
<p>At that point I decided I didn't care enough about having an <code>alpine</code> image...</p>



<a name="236624436"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236624436" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hunter Monroe <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236624436">(Apr 29 2021 at 06:15)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> here is a first peek at leanproject commands added to the VS Code Extension Command Palette Ctrl-Shift P. This still requires another day of work to consolidate these into menus, which need to be located carefully (some commands create projects while others assume you are already editing a project), handle user input for get/new/pr commands (with a menu to get for key lean projects), and provide a menu specific to mathlib contributors (as an alternative to command line actions). In the screenshot, notice the list of Leanproject commands up top and also the terminal output for delete-zombies at the bottom: <a href="/user_uploads/3121/Kq2EIlhXqGh4sYiam_AigrZJ/Leanproject-commands.png">Leanproject-commands.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/Kq2EIlhXqGh4sYiam_AigrZJ/Leanproject-commands.png" title="Leanproject-commands.png"><img src="/user_uploads/3121/Kq2EIlhXqGh4sYiam_AigrZJ/Leanproject-commands.png"></a></div>



<a name="236628491"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236628491" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236628491">(Apr 29 2021 at 07:05)</a>:</h4>
<p>If these commands make their way onto the widget, don't miss out on the opportunity to insert a zombie icon!</p>



<a name="236853539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236853539" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hunter Monroe <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236853539">(Apr 30 2021 at 15:28)</a>:</h4>
<p><span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span> would you support the idea of including leanproject.exe (a standalone version that does not require Python) with elan?</p>
<p>Hunter</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="110031">Patrick Massot</span> the attached version of leanproject.exe stands alone from Python--I just ran it on a machine without Python. <a href="/user_uploads/3121/JKXSfQmHjA0-YSLb86yi54-E/leanproject.exe">leanproject.exe</a> . I created it with the command "pyinstaller --onefile leanproject.py". I suggest that this .exe file be added to elan, and once that is done, deleting steps from the windows installation page. <span class="user-mention silent" data-user-id="110087">Scott Morrison</span> yes adding  <code>leanproject</code> calls from the extension is my next task--these can be consolidated into a menu, not just ctrl-shift-p.</p>
</blockquote>



<a name="236854429"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236854429" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236854429">(Apr 30 2021 at 15:33)</a>:</h4>
<p>I don't really understand how it would be possible, without a radical shake-up of the two projects. <code>leanproject</code> is clearly downstream of <code>elan</code> (<code>leanproject</code> is useless without <code>lean</code> already installed), so including an artifact from <code>leanproject</code> back in <code>elan</code> seems like a nightmare from the point of view of testing/CI/reliability.</p>



<a name="236854524"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236854524" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236854524">(Apr 30 2021 at 15:33)</a>:</h4>
<p>Yes, shipping <code>elan</code> with <code>leanproject</code> instead seems like the more sensible approach</p>



<a name="236859199"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236859199" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hunter Monroe <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236859199">(Apr 30 2021 at 16:04)</a>:</h4>
<p>Scott and Sebastian, given that python/pip are no longer needed to install leanproject.exe which is just a single file, how are you proposing to install it and where? We have the opportunity to delete two steps from the famously painful installation process: Get Python and Get Scripts: <a href="https://leanprover-community.github.io/install/windows.html">https://leanprover-community.github.io/install/windows.html</a></p>



<a name="236881576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236881576" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236881576">(Apr 30 2021 at 18:34)</a>:</h4>
<p>We could build a <code>leanproject.exe</code> as part of the mathlib-tools CI?</p>



<a name="236881703"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236881703" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236881703">(Apr 30 2021 at 18:35)</a>:</h4>
<p>Or lower short-term effort, just upload such a file manually to the github release page</p>



<a name="236882046"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236882046" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236882046">(Apr 30 2021 at 18:37)</a>:</h4>
<p>I also have in the past found having the full python install of <code>mathlibtools</code> valuable as it provides Python API to build on top of - so I don't think we should eliminate the existing distribution method for users who already have python set up</p>



<a name="236921717"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236921717" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236921717">(May 01 2021 at 00:42)</a>:</h4>
<p>I think the right solution is to add building and testing <code>leanproject.exe</code> as continuous integration in the mathlibtools project. If It reliably and automatically builds and uploads to github, then we can update the mathlib install instructions for windows with this as an option.</p>



<a name="236921824"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236921824" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236921824">(May 01 2021 at 00:44)</a>:</h4>
<p>We should also do the same for non-windows systems (I think the majority of our users?). I know the <code>pyinstaller --onefile</code> does work on other systems, although it is unreliable with respect to upgrades --- this is why I recently abandoned the <code>alpine</code> docker image. This is why I'm saying that we don't really have <code>leanproject.exe</code> yet: we have a proof of concept that it can be done, not a CI setup that generates it.</p>



<a name="236940027"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236940027" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hunter Monroe <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236940027">(May 01 2021 at 05:30)</a>:</h4>
<p>Just to note we have flexibility in that: (1) the elan install is called by a .sh script <a href="https://github.com/leanprover/elan/blob/master/elan-init.sh">https://github.com/leanprover/elan/blob/master/elan-init.sh</a> which can do absolutely anything including downloading leanprover.exe from the mathlib-tools github site, and (2)  elan has a self update feature "elan update" (on demand).  Are there plans to elaborate mathlibtools and elan functionality, and is there any way to check downloads by Windows vs other OS?</p>



<a name="236942998"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236942998" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236942998">(May 01 2021 at 06:23)</a>:</h4>
<p>Certainly these install scripts already detect the operating system and decide what to do.</p>



<a name="236943200"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236943200" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236943200">(May 01 2021 at 06:27)</a>:</h4>
<p>Re: (1), yes <code>elan</code> can do anything, but if the process over in <code>mathlib-tools</code> CI that was building <code>leanproject.exe</code> broke, suddenly <code>elan-init.sh</code> doesn't work anymore. I'm not the maintainer of either <code>elan</code> or <code>leanproject</code>, but I don't think they would be happy with this situation. Each tool needs to have a continuous integration process that checks that it works. Installing <code>leanproject.exe</code> via <code>elan</code> introduces a circular dependency.</p>



<a name="236949044"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236949044" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236949044">(May 01 2021 at 08:15)</a>:</h4>
<p>Another issue is that elan is in some sense run by the lean people and leanproject is run by the mathlib people who are downstream from them</p>



<a name="236955181"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236955181" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ryan Lahfa <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236955181">(May 01 2021 at 10:09)</a>:</h4>
<p>BTW, there has been this complain which I think is relevant but not super easy to tackle: <a href="https://twitter.com/andrejbauer/status/1388242383498797059">https://twitter.com/andrejbauer/status/1388242383498797059</a></p>
<div class="inline-preview-twitter"><div class="twitter-tweet"><a href="https://twitter.com/andrejbauer/status/1388242383498797059"><img class="twitter-avatar" src="https://pbs.twimg.com/profile_images/1229832184460124166/A9H3_oq4_normal.jpg"></a><p><a href="https://twitter.com/XenaProject">@XenaProject</a> <a href="https://twitter.com/leanprover">@leanprover</a> The installation instructions are written for people who are willing to download arbitrary code and run it without inspecting it. I am not one of those people.

It would be super cool if Homebrew installation of elan were available.</p><span>- Andrej Bauer (@andrejbauer)</span></div></div>



<a name="236956288"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236956288" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236956288">(May 01 2021 at 10:28)</a>:</h4>
<p>I don't understand that complaint</p>



<a name="236956328"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236956328" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236956328">(May 01 2021 at 10:29)</a>:</h4>
<p>But I wouldn't mind a Homebrew formula for elan</p>



<a name="236956827"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236956827" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236956827">(May 01 2021 at 10:36)</a>:</h4>
<p>What's not inspectable? The installation instructions tell you to curl various scripts, and pipe them to the shell. Piping them to stdout is always allowed...</p>



<a name="236957074"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236957074" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ryan Lahfa <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236957074">(May 01 2021 at 10:41)</a>:</h4>
<p>I think it is more: "I do not want to spend time trusting what you wrote, I just want to trust my local package manager" and the way we wrote the things as "wget | curl" (not exactly that, but you can get this feeling)</p>



<a name="236957475"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236957475" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236957475">(May 01 2021 at 10:48)</a>:</h4>
<p>It's not like the Homebrew maintainers will review our code either, is it?</p>



<a name="236957823"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236957823" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ryan Lahfa <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236957823">(May 01 2021 at 10:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110024">Sebastian Ullrich</span> <a href="#narrow/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line/near/236957475">said</a>:</p>
<blockquote>
<p>It's not like the Homebrew maintainers will review our code either, is it?</p>
</blockquote>
<p>I don't really know what are their practices, but I frequently review Nix derivations (notably Lean ones) in <code>nixpkgs</code> for example.</p>



<a name="236957923"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236957923" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236957923">(May 01 2021 at 10:57)</a>:</h4>
<p>...that they are properly packaged, but not that their code is trustworthy, I assume</p>



<a name="236957998"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236957998" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ryan Lahfa <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236957998">(May 01 2021 at 10:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110024">Sebastian Ullrich</span> <a href="#narrow/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line/near/236957923">said</a>:</p>
<blockquote>
<p>...that they are properly packaged, but not that their code is trustworthy, I assume</p>
</blockquote>
<p>Right, and, here, I believe the point was trusting the "package installation" code rather than Lean/elan/mathlib code.</p>



<a name="236958016"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236958016" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236958016">(May 01 2021 at 10:59)</a>:</h4>
<p>Don't all package managers allow running arbitrary code as part of installation (and update)?</p>



<a name="236958086"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236958086" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ryan Lahfa <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236958086">(May 01 2021 at 11:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="307953">Ruben Van de Velde</span> <a href="#narrow/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line/near/236958016">said</a>:</p>
<blockquote>
<p>Don't all package managers allow running arbitrary code as part of installation (and update)?</p>
</blockquote>
<p>Nix &amp; Guix don't AFAIK.</p>



<a name="236958121"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/236958121" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ryan Lahfa <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#236958121">(May 01 2021 at 11:00)</a>:</h4>
<p>e.g. Installation &amp; update process is sandboxed (as long as you didn't disable it), network access is disabled.</p>



<a name="237023367"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/237023367" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hunter Monroe <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#237023367">(May 02 2021 at 03:51)</a>:</h4>
<p>So <span class="user-mention" data-user-id="110087">@Scott Morrison</span>  the next step is to create/modify continuous integration for leanproject to create executables for each platform--who can do that and can I help?</p>
<p><span class="user-mention silent" data-user-id="110087">Scott Morrison</span> <a href="#narrow/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line/near/236921824">said</a>:</p>
<blockquote>
<p>We should also do the same for non-windows systems (I think the majority of our users?). I know the <code>pyinstaller --onefile</code> does work on other systems, although it is unreliable with respect to upgrades --- this is why I recently abandoned the <code>alpine</code> docker image. This is why I'm saying that we don't really have <code>leanproject.exe</code> yet: we have a proof of concept that it can be done, not a CI setup that generates it.</p>
</blockquote>



<a name="237037401"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/237037401" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#237037401">(May 02 2021 at 08:28)</a>:</h4>
<p>The repository is at <a href="https://github.com/leanprover-community/mathlib-tools">https://github.com/leanprover-community/mathlib-tools</a>, you could fork it and investigate getting pyinstaller working in CI for your fork, then PR the changes</p>



<a name="237037538"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/237037538" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#237037538">(May 02 2021 at 08:31)</a>:</h4>
<p>There's a prebuilt action here that may or may not be useful: <a href="https://github.com/marketplace/actions/pyinstaller-windows">https://github.com/marketplace/actions/pyinstaller-windows</a></p>



<a name="237089286"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/237089286" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hunter Monroe <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#237089286">(May 02 2021 at 22:09)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> I pushed changes to the VS Code extension as you suggested and more, with four new submenus of the editor context (right click) menu: existing ctrl-shift-p tasks (pull oleans, delete zombies), leanproject, elan, and lean (see <a href="https://github.com/leanprover/vscode-lean/pull/262">https://github.com/leanprover/vscode-lean/pull/262</a>). I am looking now at CI workflows to build leanproject. </p>
<p><span class="user-mention silent" data-user-id="110087">Scott Morrison</span> <a href="#narrow/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line/near/236595136">said</a>:</p>
<blockquote>
<p>how about we first make some improvements that we want anyway: teaching the VSCode extension how to call <code>leanproject</code> to do various simple tasks. (e.g. pull oleans, or delete zombie oleans, from the ctrl-shift-p mena?)```</p>
</blockquote>



<a name="237248923"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/237248923" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hunter Monroe <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#237248923">(May 04 2021 at 00:00)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span> I created a PR for mathlib-tools that creates a standalone leanproject.exe, to allow mathlib to be installed in WIndows without installing Python.</p>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line/near/237037401">said</a>:</p>
<blockquote>
<p>The repository is at <a href="https://github.com/leanprover-community/mathlib-tools">https://github.com/leanprover-community/mathlib-tools</a>, you could fork it and investigate getting pyinstaller working in CI for your fork, then PR the changes</p>
</blockquote>



<a name="237278208"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/237278208" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#237278208">(May 04 2021 at 07:09)</a>:</h4>
<p>I took a quick skim and kicked off CI (github wanted me to check that as a new contributor you're not mining cryptocurrency)</p>



<a name="245262564"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/245262564" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hunter Monroe <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#245262564">(Jul 08 2021 at 01:09)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span> what is needed to wrap up the <a href="https://github.com/leanprover-community/mathlib-tools/pull/101">pull request</a> to create a precompiled leanproject.exe, removing Python as a dependency on Windows? With that and a few other tweaks to the VS Code extension that I have identified, it should be possible to avoid the command line as <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> has brought up, with point and click installation of projects.</p>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113488-general/topic/I'm.20going.20to.20automate.20the.20Lean.20.26.20Mathlib.20installation/near/238433944">said</a>:</p>
<blockquote>
<p>I just want them to get started using Lean in VS Code, and have a system whereby they can easily download a project from GitHub, ideally without having to use the command line <em>at all</em>.</p>
</blockquote>



<a name="245998927"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/245998927" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hunter Monroe <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#245998927">(Jul 14 2021 at 18:18)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span>  Two months has passed--can this move forward please? Many thanks.</p>



<a name="246006384"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/246006384" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#246006384">(Jul 14 2021 at 19:18)</a>:</h4>
<p>I just looked again, and I think the thing I was worried about is a non-issue</p>



<a name="246006759"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/246006759" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#246006759">(Jul 14 2021 at 19:20)</a>:</h4>
<p>There's one comment I'd like you to add to an existing file, but I think otherwise it looks ok to me</p>



<a name="246033928"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/246033928" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hunter Monroe <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#246033928">(Jul 14 2021 at 23:14)</a>:</h4>
<p>Thanks I added the two comments. I appreciated the thorough review process. I will come back on a VS Code welcome page and other tweaks that should allow a command line free install.</p>



<a name="246040292"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/246040292" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#246040292">(Jul 15 2021 at 00:54)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span>, would you mind giving the PR a final review? Are there documentation pages that should be updated to reference it (even if only as "There is an experimental binary available at ...")</p>



<a name="246062875"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/246062875" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#246062875">(Jul 15 2021 at 08:01)</a>:</h4>
<p>I'll have a look since you ask, but I know <em>nothing</em> about Windows. But indeed this effort will be useless if it's not mentioned in the documentation. That would be a PR in the lean community website.</p>



<a name="246064817"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/246064817" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#246064817">(Jul 15 2021 at 08:21)</a>:</h4>
<p>I only ask since in my mind you're the de-facto steward of that repo. But if you've no experience with windows I could just pull the trigger myself.</p>



<a name="246110454"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/246110454" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#246110454">(Jul 15 2021 at 15:26)</a>:</h4>
<p>(is that +1 a "yes pull the trigger" or "I appreciate that you asked"?)</p>



<a name="246124325"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/246124325" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#246124325">(Jul 15 2021 at 17:00)</a>:</h4>
<p>Both!</p>



<a name="249661773"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/249661773" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hunter Monroe <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#249661773">(Aug 16 2021 at 23:33)</a>:</h4>
<p>Is there a reason this PR has not been accepted? Another 1 1/2 months has passed.</p>



<a name="249681811"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/249681811" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#249681811">(Aug 17 2021 at 06:05)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span> <span aria-label="ping pong" class="emoji emoji-1f3d3" role="img" title="ping pong">:ping_pong:</span></p>



<a name="249700777"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/249700777" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#249700777">(Aug 17 2021 at 10:34)</a>:</h4>
<p>I just merged this, but it now fails CI because the requirements.txt is out of date</p>



<a name="249700955"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/249700955" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#249700955">(Aug 17 2021 at 10:37)</a>:</h4>
<p>Hopefully <a href="https://github.com/leanprover-community/mathlib-tools/issues/110">leanprover-community/mathlib-tools#110</a> will fix it</p>



<a name="249703759"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/249703759" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#249703759">(Aug 17 2021 at 11:14)</a>:</h4>
<p><span class="user-mention" data-user-id="397140">@Hunter Monroe</span>, do you plan to PR new windows installation instructions now?</p>



<a name="258849657"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/258849657" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hunter Monroe <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#258849657">(Oct 24 2021 at 00:12)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span> To update the windows installation instructions, we need put the artifact leanproject.exe where the user can find it, for instance, by creating a <a href="https://github.com/leanprover-community/mathlib-tools/releases">release</a> using the <a href="https://github.com/marketplace/actions/automatic-releases">automatic release</a> action. Is this the right approach?</p>



<a name="272851724"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/272851724" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hunter Monroe <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#272851724">(Feb 22 2022 at 19:06)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span> how do we put leanproject.exe where the user can find it? I have been out of touch and may not know the current state of play.</p>



<a name="272854284"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/272854284" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#272854284">(Feb 22 2022 at 19:25)</a>:</h4>
<p>I've no idea what the best approach there is, I'm not really convinced handing users a binary is more accessible than telling them to install it with a package manager like <code>pip</code>. The shorter answer is "let the user decide, and tell them to put thle location they choose on their path". Maybe pyinstaller supports a global install of some kind that can modify the system path, but I know little about it, and suspect it's not worth the trouble.</p>



<a name="272857955"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/272857955" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hunter Monroe <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#272857955">(Feb 22 2022 at 19:55)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> how important would it be to have a one click install of Lean and mathlib—is that still the obstacle it used to be? As a first step I found a way to avoid installing Python on Windows, but we need a way for the user to put leanproject.exe on their path. I have an approach to allow a one click install, but do not want to make a further investment of my time until I am sure that the work already done has not been wasted.</p>



<a name="272862845"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/272862845" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#272862845">(Feb 22 2022 at 20:36)</a>:</h4>
<p>I have had no trouble with my course this term and I suspect that this might be because the installation instructions are now pretty solid and cover lots of situations. Won't we all be using lean 4 in a few months?</p>



<a name="272863594"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/272863594" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#272863594">(Feb 22 2022 at 20:42)</a>:</h4>
<p>Yes, I think it doesn't make much sense to invest a lot of time in the Lean 3 install story now. Hopefully in Lean 4 all the tooling will be written in Lean and python won't be involved.</p>



<a name="273035837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Simplifying%20Mathlib%20install%20without%20command%20line/near/273035837" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hunter Monroe <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Simplifying.20Mathlib.20install.20without.20command.20line.html#273035837">(Feb 24 2022 at 01:19)</a>:</h4>
<p>That makes sense, but I hope the Lean 4 install will not otherwise require use of the command line.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>