---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/custom.20options.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/custom.20options.html">custom options</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="300009798"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/custom%20options/near/300009798" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/custom.20options.html#300009798">(Sep 21 2022 at 17:55)</a>:</h4>
<p>I noticed that in Lean 4 you can make your own options with <code>register_option</code>:<br>
<a href="https://github.com/arthurpaulino/lean4-metaprogramming-book/blob/master/md/extra/options.md#making-our-own">https://github.com/arthurpaulino/lean4-metaprogramming-book/blob/master/md/extra/options.md#making-our-own</a></p>
<p>Does this feature exist in Lean 3?</p>



<a name="300012423"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/custom%20options/near/300012423" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/custom.20options.html#300012423">(Sep 21 2022 at 18:09)</a>:</h4>
<p>Unfortunately not. I think the closet thing you can do is register a tracing option. Which in the past people have (ab)used to pretend it's like a normal option</p>



<a name="300013641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/custom%20options/near/300013641" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/custom.20options.html#300013641">(Sep 21 2022 at 18:16)</a>:</h4>
<p>I'd be up for that abuse, do you know of an example I could look at?</p>



<a name="300016797"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/custom%20options/near/300016797" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/custom.20options.html#300016797">(Sep 21 2022 at 18:35)</a>:</h4>
<p>I'm on mobile, but i found the thread I'm thinking of <a href="#narrow/stream/113488-general/topic/A.20useless.20option.20which.20I.20can.20use.20for.20another.20purpose.3F">https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/A.20useless.20option.20which.20I.20can.20use.20for.20another.20purpose.3F</a></p>



<a name="300016864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/custom%20options/near/300016864" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/custom.20options.html#300016864">(Sep 21 2022 at 18:35)</a>:</h4>
<p>I can look a bit later for something more specific</p>



<a name="300018432"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/custom%20options/near/300018432" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/custom.20options.html#300018432">(Sep 21 2022 at 18:45)</a>:</h4>
<p>Thanks!  I see that I can register my fake tracing option using <code>declare_trace</code>; I think the only other thing I need to know is how to access the state of the option within meta code.</p>



<a name="300018492"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/custom%20options/near/300018492" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/custom.20options.html#300018492">(Sep 21 2022 at 18:45)</a>:</h4>
<p>Here's another reference I found: <a href="#narrow/stream/303200-sphere-eversion/topic/Chapter.203.20coordination/near/296282435">https://leanprover.zulipchat.com/#narrow/stream/303200-sphere-eversion/topic/Chapter.203.20coordination/near/296282435</a> (it uses the <code>declare_trace</code> hack)</p>



<a name="300018538"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/custom%20options/near/300018538" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/custom.20options.html#300018538">(Sep 21 2022 at 18:45)</a>:</h4>
<p>I believe the function is <a href="https://leanprover-community.github.io/mathlib_docs/find/tactic.get_bool_option">docs#tactic.get_bool_option</a></p>



<a name="300043123"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/custom%20options/near/300043123" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/custom.20options.html#300043123">(Sep 21 2022 at 21:35)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="127136">@Alex J. Best</span> <span class="user-mention" data-user-id="306601">@Kyle Miller</span>, I got it working!  See <a href="https://github.com/leanprover-community/mathlib/pull/16586">#16586</a> for my use case.</p>



<a name="300086901"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/custom%20options/near/300086901" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/custom.20options.html#300086901">(Sep 22 2022 at 06:48)</a>:</h4>
<p>Nice work!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>