---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/normed_ring.20vs.20normed_field.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html">normed_ring vs normed_field</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="278279564"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278279564" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mar√≠a In√©s de Frutos Fern√°ndez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278279564">(Apr 08 2022 at 09:40)</a>:</h4>
<p>I expected <a href="https://leanprover-community.github.io/mathlib_docs/find/normed_field">docs#normed_field</a> to be a <a href="https://leanprover-community.github.io/mathlib_docs/find/normed_ring">docs#normed_ring</a> whose underlying ring is a field. However, <code>normed_field</code> uses the more restrictive multiplicative condition <code>‚àÄ (a b : Œ±), ‚à•a * b‚à• = ‚à•a‚à• * ‚à•b‚à•</code>. What is the reason behind this choice?</p>



<a name="278279731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278279731" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278279731">(Apr 08 2022 at 09:42)</a>:</h4>
<p>Note, the difference appears at <a href="https://leanprover-community.github.io/mathlib_docs/find/normed_division_ring">docs#normed_division_ring</a></p>



<a name="278279787"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278279787" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mar√≠a In√©s de Frutos Fern√°ndez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278279787">(Apr 08 2022 at 09:42)</a>:</h4>
<p>Yes, I saw that too.</p>



<a name="278279967"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278279967" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278279967">(Apr 08 2022 at 09:44)</a>:</h4>
<p>I guess this implies that a normed ring which is a field, isn't necessarily a normed field (for example I think that n(x)=min(|x|_p,1) is a perfectly good normed_ring structure on the p-adic numbers). But I think this is probably OK.</p>



<a name="278280364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278280364" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278280364">(Apr 08 2022 at 09:49)</a>:</h4>
<p>But it isn't a mixin, so you'd need to use <code>is_field</code></p>



<a name="278280563"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278280563" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mar√≠a In√©s de Frutos Fern√°ndez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278280563">(Apr 08 2022 at 09:51)</a>:</h4>
<p>Related to this, there's nothing in the library about normed modules, right? I only found <a href="https://leanprover-community.github.io/mathlib_docs/find/normed_space">docs#normed_space</a>, which assumes you're working over a <a href="https://leanprover-community.github.io/mathlib_docs/find/normed_field">docs#normed_field</a>.</p>



<a name="278280772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278280772" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278280772">(Apr 08 2022 at 09:53)</a>:</h4>
<p>I believe this could be weakened on the spot.</p>



<a name="278281393"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278281393" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mar√≠a In√©s de Frutos Fern√°ndez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278281393">(Apr 08 2022 at 09:58)</a>:</h4>
<p>Do you mean that we could add a <code>normed_module</code> class, where we replace <code>normed_field</code> by <code>normed_ring</code>? That should be enough for my purposes.</p>



<a name="278281530"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278281530" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278281530">(Apr 08 2022 at 09:59)</a>:</h4>
<p>No no no! Eric spent six months removing something similar. I mean that <code>normed_space</code> could be redefined by replacing <code>normed_field</code> with <code>normed_ring</code>.</p>



<a name="278281733"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278281733" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mar√≠a In√©s de Frutos Fern√°ndez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278281733">(Apr 08 2022 at 10:00)</a>:</h4>
<p>Oh, so you're saying that all (or at least part of) the existing lemmas will work in that greater generality, so we can just change the definition?</p>



<a name="278281848"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278281848" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278281848">(Apr 08 2022 at 10:01)</a>:</h4>
<p>That I don't know. I suspect some of them will. My point is that your <code>normed_module</code> has the same axioms as the current <code>normed_space</code>, so it should be the same class.</p>



<a name="278281993"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278281993" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278281993">(Apr 08 2022 at 10:03)</a>:</h4>
<p>Else, <code>[normed_field ùïú] [normed_module ùïú E]</code> will have less theorems than<code>[normed_field ùïú] [normed_space ùïú E]</code> even though they are mathematically the same.</p>



<a name="278282158"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278282158" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mar√≠a In√©s de Frutos Fern√°ndez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278282158">(Apr 08 2022 at 10:04)</a>:</h4>
<p>Ah, I see what you mean. I'll try to replace <code>normed_field</code> in the <code>normed_space</code> definition and see what breaks.</p>



<a name="278282186"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278282186" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mar√≠a In√©s de Frutos Fern√°ndez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278282186">(Apr 08 2022 at 10:04)</a>:</h4>
<p>Thanks!</p>



<a name="278285962"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278285962" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278285962">(Apr 08 2022 at 10:44)</a>:</h4>
<p>Note that what we call "normed field" is usually called a "valued field", and "normed field" only require the inequality.</p>



<a name="278285988"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278285988" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278285988">(Apr 08 2022 at 10:44)</a>:</h4>
<p>There is a discussion about this somewhere</p>



<a name="278286014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278286014" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mar√≠a In√©s de Frutos Fern√°ndez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278286014">(Apr 08 2022 at 10:44)</a>:</h4>
<p>Yes, that's precisely why I expected the definition of <code>normed_field</code> to be different.</p>



<a name="278286832"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278286832" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mar√≠a In√©s de Frutos Fern√°ndez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278286832">(Apr 08 2022 at 10:53)</a>:</h4>
<p>If I use the <code>[ normed_ring R] (is_field R)</code> approach, I can't use <code>inv</code>, right? I think this will be a problem.</p>



<a name="278286964"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278286964" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mar√≠a In√©s de Frutos Fern√°ndez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278286964">(Apr 08 2022 at 10:54)</a>:</h4>
<p>I think it would be easier to add a new class <code>normed_field'</code> that uses the inequality in the definition.</p>



<a name="278287188"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278287188" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mar√≠a In√©s de Frutos Fern√°ndez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278287188">(Apr 08 2022 at 10:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="130384">Riccardo Brasca</span> <a href="#narrow/stream/113488-general/topic/normed_ring.20vs.20normed_field/near/278285962">said</a>:</p>
<blockquote>
<p>Note that what we call "normed field" is usually called a "valued field", and "normed field" only require the inequality.</p>
</blockquote>
<p>(I'm not saying that <code>normed_field'</code> would be the right name for this new class; I also know that <code>valued_field</code> is in use, so choosing names here would not be trivial).</p>



<a name="278287217"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278287217" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278287217">(Apr 08 2022 at 10:57)</a>:</h4>
<p>You can always use <a href="https://leanprover-community.github.io/mathlib_docs/find/is_field.to_field">docs#is_field.to_field</a> to get an actual <code>field</code> instance, and use <code>inv</code>. But you will lose some definitional equalities</p>



<a name="278289215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278289215" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mar√≠a In√©s de Frutos Fern√°ndez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278289215">(Apr 08 2022 at 11:16)</a>:</h4>
<p>Even doing that, I don't see how I could use lemmas about inv. For instance, this is one of the first lemmas in <code>analysis/normed_space/basic</code>. I've replaced <code>normed_field</code> by <code>normed_ring</code> in the definition of <code>normed_space</code> and added an <code>is_field Œ±</code> hypothesis to <code>norm_smul</code>. <br>
With the field instance, Lean doesn't complain anymore about a missing <code>has_inv</code>, but the <code>inv_smul_smul‚ÇÄ</code> and <code>norm_inv</code> in the proof fail (probably because of what you said about defeqs).</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">analysis.normed.normed_field</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">Œ±</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">Œ≤</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">Œ≥</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">Œπ</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span>

<span class="kd">noncomputable theory</span>

<span class="kn">section</span> <span class="n">prio</span>
<span class="kd">set_option</span> <span class="n">extends_priority</span> <span class="mi">920</span>
<span class="kd">class</span> <span class="n">normed_space</span> <span class="o">(</span><span class="n">Œ±</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">Œ≤</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">normed_ring</span> <span class="n">Œ±</span><span class="o">]</span> <span class="o">[</span><span class="n">semi_normed_group</span> <span class="n">Œ≤</span><span class="o">]</span>
  <span class="kd">extends</span> <span class="n">module</span> <span class="n">Œ±</span> <span class="n">Œ≤</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">norm_smul_le</span> <span class="o">:</span> <span class="bp">‚àÄ</span> <span class="o">(</span><span class="n">a</span><span class="o">:</span><span class="n">Œ±</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span><span class="o">:</span><span class="n">Œ≤</span><span class="o">),</span> <span class="bp">‚à•</span><span class="n">a</span> <span class="bp">‚Ä¢</span> <span class="n">b</span><span class="bp">‚à•</span> <span class="bp">‚â§</span> <span class="bp">‚à•</span><span class="n">a</span><span class="bp">‚à•</span> <span class="bp">*</span> <span class="bp">‚à•</span><span class="n">b</span><span class="bp">‚à•</span><span class="o">)</span>
<span class="kd">end</span> <span class="n">prio</span>

<span class="kd">variables</span> <span class="o">[</span><span class="n">normed_ring</span> <span class="n">Œ±</span><span class="o">]</span> <span class="o">[</span><span class="n">semi_normed_group</span> <span class="n">Œ≤</span><span class="o">]</span>

<span class="kd">set_option</span> <span class="n">pp.all</span> <span class="n">true</span>
<span class="kd">lemma</span> <span class="n">norm_smul</span> <span class="o">[</span><span class="n">normed_space</span> <span class="n">Œ±</span> <span class="n">Œ≤</span><span class="o">]</span> <span class="o">(</span><span class="n">hŒ±</span> <span class="o">:</span> <span class="n">is_field</span> <span class="n">Œ±</span><span class="o">)</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">Œ±</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">Œ≤</span><span class="o">)</span> <span class="o">:</span> <span class="bp">‚à•</span><span class="n">s</span> <span class="bp">‚Ä¢</span> <span class="n">x</span><span class="bp">‚à•</span> <span class="bp">=</span> <span class="bp">‚à•</span><span class="n">s</span><span class="bp">‚à•</span> <span class="bp">*</span> <span class="bp">‚à•</span><span class="n">x</span><span class="bp">‚à•</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">haveI</span> <span class="o">:</span> <span class="n">field</span> <span class="n">Œ±</span> <span class="o">:=</span> <span class="n">hŒ±.to_field</span><span class="o">,</span>
  <span class="n">by_cases</span> <span class="n">h</span> <span class="o">:</span> <span class="n">s</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">simp</span> <span class="o">[</span><span class="n">h</span><span class="o">]</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">refine</span> <span class="n">le_antisymm</span> <span class="o">(</span><span class="n">normed_space.norm_smul_le</span> <span class="n">s</span> <span class="n">x</span><span class="o">)</span> <span class="n">_</span><span class="o">,</span>
     <span class="k">calc</span> <span class="bp">‚à•</span><span class="n">s</span><span class="bp">‚à•</span> <span class="bp">*</span> <span class="bp">‚à•</span><span class="n">x</span><span class="bp">‚à•</span> <span class="bp">=</span> <span class="bp">‚à•</span><span class="n">s</span><span class="bp">‚à•</span> <span class="bp">*</span> <span class="bp">‚à•</span><span class="n">s</span><span class="bp">‚Åª¬π</span> <span class="bp">‚Ä¢</span> <span class="n">s</span> <span class="bp">‚Ä¢</span> <span class="n">x</span><span class="bp">‚à•</span>     <span class="o">:</span> <span class="kd">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">inv_smul_smul‚ÇÄ</span> <span class="n">h</span><span class="o">]</span>
               <span class="bp">...</span> <span class="bp">‚â§</span> <span class="bp">‚à•</span><span class="n">s</span><span class="bp">‚à•</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">‚à•</span><span class="n">s</span><span class="bp">‚Åª¬π‚à•</span> <span class="bp">*</span> <span class="bp">‚à•</span><span class="n">s</span> <span class="bp">‚Ä¢</span> <span class="n">x</span><span class="bp">‚à•</span><span class="o">)</span> <span class="o">:</span>
      <span class="n">mul_le_mul_of_nonneg_left</span> <span class="o">(</span><span class="n">normed_space.norm_smul_le</span> <span class="n">_</span> <span class="n">_</span><span class="o">)</span> <span class="o">(</span><span class="n">norm_nonneg</span> <span class="n">_</span><span class="o">)</span>
               <span class="bp">...</span> <span class="bp">=</span> <span class="bp">‚à•</span><span class="n">s</span> <span class="bp">‚Ä¢</span> <span class="n">x</span><span class="bp">‚à•</span>                 <span class="o">:</span>
      <span class="kd">by</span> <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="n">norm_inv</span><span class="o">,</span> <span class="bp">‚Üê</span> <span class="n">mul_assoc</span><span class="o">,</span> <span class="n">mul_inv_cancel</span> <span class="o">(</span><span class="n">mt</span> <span class="n">norm_eq_zero.1</span> <span class="n">h</span><span class="o">),</span> <span class="n">one_mul</span><span class="o">]</span> <span class="o">}</span>  <span class="o">}</span>
<span class="kd">end</span>
</code></pre></div>



<a name="278289464"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278289464" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278289464">(Apr 08 2022 at 11:19)</a>:</h4>
<p>That ought to work with <code>letI</code> instead of <code>haveI</code></p>



<a name="278289509"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278289509" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278289509">(Apr 08 2022 at 11:19)</a>:</h4>
<p>But I'm not convinced that building API around <code>is_field</code> is the right way to go</p>



<a name="278289785"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278289785" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mar√≠a In√©s de Frutos Fern√°ndez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278289785">(Apr 08 2022 at 11:22)</a>:</h4>
<p>The last line still fails if I switch to <code>letI</code>.</p>



<a name="278289854"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278289854" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278289854">(Apr 08 2022 at 11:23)</a>:</h4>
<p>Why would you not turn <code>[normed_ring Œ±] (hŒ± : is_field Œ±)</code> into <code>[normed_field Œ±]</code> (assuming the correct definition)?</p>



<a name="278290091"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278290091" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mar√≠a In√©s de Frutos Fern√°ndez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278290091">(Apr 08 2022 at 11:25)</a>:</h4>
<p>Do you mean the <code>&lt;=</code> definition? I would prefer to do that.</p>



<a name="278290217"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278290217" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mar√≠a In√©s de Frutos Fern√°ndez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278290217">(Apr 08 2022 at 11:26)</a>:</h4>
<p>I was trying the <code>is_field</code> approach because it was suggested above (and would avoid creating this new <code>normed_field'</code> class).</p>



<a name="278290252"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278290252" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278290252">(Apr 08 2022 at 11:26)</a>:</h4>
<p>Creating <code>normed_field'</code> definitely sounds like the right idea.</p>



<a name="278290298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278290298" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278290298">(Apr 08 2022 at 11:27)</a>:</h4>
<p>(modulo naming choices)</p>



<a name="278290314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278290314" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mar√≠a In√©s de Frutos Fern√°ndez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278290314">(Apr 08 2022 at 11:27)</a>:</h4>
<p>Do people have opinions about the name of this class / potentially renaming <code>normed_field</code>?</p>



<a name="278290433"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278290433" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278290433">(Apr 08 2022 at 11:28)</a>:</h4>
<p>The alternative would be to replace <code>normed_field K</code> with <code>[field K] [has_multiplicative_norm K]</code> and have <code>[field K] [has_submultiplicative_norm K]</code> for the &lt;= case</p>



<a name="278290434"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278290434" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278290434">(Apr 08 2022 at 11:28)</a>:</h4>
<p>I'm happy to see <code>normed_field</code> renamed to <code>valued_field</code>, but then we should probably rename <code>normed_division_ring</code> to <code>valued_ring</code> (or <code>valued_division_ring</code>?) as well.</p>



<a name="278290445"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278290445" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mar√≠a In√©s de Frutos Fern√°ndez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278290445">(Apr 08 2022 at 11:28)</a>:</h4>
<p>The natural choices would be <code>normed_field</code> for the <code>&lt;=</code> definition and <code>valued_field</code> for the existing <code>=</code> one, <del>but <a href="https://leanprover-community.github.io/mathlib_docs/find/valued_field">docs#valued_field</a> exists already</del>.</p>



<a name="278290470"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278290470" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278290470">(Apr 08 2022 at 11:28)</a>:</h4>
<p>Does it?</p>



<a name="278290522"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278290522" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mar√≠a In√©s de Frutos Fern√°ndez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278290522">(Apr 08 2022 at 11:29)</a>:</h4>
<p>Oh, maybe it doesn't!</p>



<a name="278290547"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278290547" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mar√≠a In√©s de Frutos Fern√°ndez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278290547">(Apr 08 2022 at 11:29)</a>:</h4>
<p>I think I got confused because there's a <code>valued_field</code> file (<code>topology.algebra.valued_field</code>).</p>



<a name="278290701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278290701" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mar√≠a In√©s de Frutos Fern√°ndez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278290701">(Apr 08 2022 at 11:31)</a>:</h4>
<p>I'm happy with using <code>normed_field</code> and <code>valued_field</code> then (and <code>valued_division_ring</code>).</p>



<a name="278291017"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278291017" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278291017">(Apr 08 2022 at 11:34)</a>:</h4>
<p>Watch out for name conflicts indeed because we have weird instance names in the file you mentioned. Eg <a href="https://leanprover-community.github.io/mathlib_docs/find/valued_ring.separated">docs#valued_ring.separated</a></p>



<a name="278291341"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278291341" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mar√≠a In√©s de Frutos Fern√°ndez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278291341">(Apr 08 2022 at 11:37)</a>:</h4>
<p>Maybe it would make sense to rename that instance? I don't see <code>valued_ring</code> used in any other name.</p>



<a name="278318652"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278318652" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mar√≠a In√©s de Frutos Fern√°ndez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278318652">(Apr 08 2022 at 15:14)</a>:</h4>
<p>I've renamed <code>normed_field</code> to <code>valued_field</code> and <code>normed_division_ring</code> to <code>valued_division_ring</code> in <a href="https://github.com/leanprover-community/mathlib/pull/13239">#13239</a>. I also renamed <code>valued_ring.separated</code> to <code>valued.separated</code>.</p>



<a name="278347296"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278347296" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278347296">(Apr 08 2022 at 18:55)</a>:</h4>
<p>Doesn't <a href="https://github.com/leanprover-community/mathlib/pull/13239">#13239</a> make the naming really inconsistent? Some things are called <code>normed_foo</code> (groups, spaces) and some are called <code>valued_foo</code> (rings, fields), even though both version just extend <code>has_norm</code> and some algebraic structure</p>



<a name="278348437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278348437" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278348437">(Apr 08 2022 at 19:03)</a>:</h4>
<p>The new naming convention will  be <code>normed_</code> to mean <code>‚à•a * b‚à• ‚â§ ‚à•a‚à• * ‚à•b‚à•</code> and <code>valued_</code> for <code>‚à•a * b‚à• = ‚à•a‚à• * ‚à•b‚à•</code>.</p>



<a name="278354106"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278354106" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278354106">(Apr 08 2022 at 19:51)</a>:</h4>
<p>I assume the idea is to add classes with the old names in a subsequent PR</p>



<a name="278417487"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278417487" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mar√≠a In√©s de Frutos Fern√°ndez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278417487">(Apr 09 2022 at 16:17)</a>:</h4>
<p>Yes, exactly, I plan to add <code>normed_division_ring</code> and <code>normed_field</code> in a future PR.</p>



<a name="278418652"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278418652" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278418652">(Apr 09 2022 at 16:41)</a>:</h4>
<p>Can you add something to the PR description explaining that the motivation for the rename is to free up names for those ideas?</p>



<a name="278418767"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278418767" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278418767">(Apr 09 2022 at 16:44)</a>:</h4>
<p>A PR touching 98 files needs a good description! I assume it was just a find and replace? It's usually a good idea to either state explicitly that's all you did, or point out which parts you had to change by hand</p>



<a name="278419918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278419918" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mar√≠a In√©s de Frutos Fern√°ndez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278419918">(Apr 09 2022 at 17:07)</a>:</h4>
<p>Yes, it was just find and replace. I'll add a description.</p>



<a name="278422915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278422915" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278422915">(Apr 09 2022 at 18:08)</a>:</h4>
<p>Just to be clear, we're not planning to rename the current <code>normed_space</code> to <code>valued_space</code> because of this, are we?</p>



<a name="278424850"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278424850" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278424850">(Apr 09 2022 at 18:53)</a>:</h4>
<p>I have to say that I disagree with the name <code>valued_field</code> for a field endowed with a multiplicative norm. In my experience, the term <code>valued_field</code> refers to a field endowed with a valuation, and while rank one valuations do indeed give rise to such norms, there are higher rank valuations as well. I would suggest <code>submultiplicative_normed_field</code> for the <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>‚â§</mo></mrow><annotation encoding="application/x-tex">\le</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mrel">‚â§</span></span></span></span> version and <code>normed_field</code> (or <code>multiplicative_normed_field</code>) for the <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo></mrow><annotation encoding="application/x-tex">=</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">=</span></span></span></span> version.</p>



<a name="278424945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278424945" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278424945">(Apr 09 2022 at 18:55)</a>:</h4>
<p>Now I know somewhat might refer to the nlab page <a href="https://ncatlab.org/nlab/show/normed+field">https://ncatlab.org/nlab/show/normed+field</a> where <code>valued_field</code> is mentioned to be defined by Berkovich, but we should keep in mind that Berkovich's notes only consider rank one valuations (he calls them real valuations) because indeed Berkovich spaces are built out of rank one valuations. The approach of Huber, which is now probably more common, uses higher rank valuations as well.</p>



<a name="278425223"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278425223" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278425223">(Apr 09 2022 at 19:00)</a>:</h4>
<p>Actually, looking at this wiki page, <a href="https://en.wikipedia.org/wiki/Berkovich_space">https://en.wikipedia.org/wiki/Berkovich_space</a> , I think the names <code>seminormed_field</code> and <code>normed_field</code> could be appropriate.</p>



<a name="278425312"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278425312" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278425312">(Apr 09 2022 at 19:02)</a>:</h4>
<p>Does the token <code>semi</code> in that suggestion align with its meaning in <a href="https://leanprover-community.github.io/mathlib_docs/find/semi_normed_ring">docs#semi_normed_ring</a> vs <a href="https://leanprover-community.github.io/mathlib_docs/find/normed_ring">docs#normed_ring</a>?</p>



<a name="278425414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278425414" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278425414">(Apr 09 2022 at 19:04)</a>:</h4>
<p>(or phrased differently, which of these two classes should <code>semi_normed_field</code> extend?)</p>



<a name="278425597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278425597" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mar√≠a In√©s de Frutos Fern√°ndez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278425597">(Apr 09 2022 at 19:09)</a>:</h4>
<p><span class="user-mention" data-user-id="243562">@Adam Topaz</span> , it's true that this only refers to valuations in the sense of Berkovich or Bosch-Guntzer-Remmert, but I don't think we can use <code>seminormed_field</code> and <code>normed_field</code> (following their notation, a norm is a seminorm in which norm x = 0 implies x = 0). That's the current mathlib convention too.</p>



<a name="278425691"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278425691" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mar√≠a In√©s de Frutos Fern√°ndez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278425691">(Apr 09 2022 at 19:11)</a>:</h4>
<p>I would definitely keep <code>normed_field</code> for the <code>‚à•a * b‚à• ‚â§ ‚à•a‚à• * ‚à•b‚à•</code> case, but I would be open to renaming <code>valued_field</code> to something else.</p>



<a name="278425998"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278425998" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mar√≠a In√©s de Frutos Fern√°ndez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278425998">(Apr 09 2022 at 19:18)</a>:</h4>
<p>Maybe <code>rank_one_valued_field</code>?</p>



<a name="278426139"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278426139" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278426139">(Apr 09 2022 at 19:21)</a>:</h4>
<p>What about <code>submultiplicative_seminormed_ring</code>, <code>multiplicative_seminormed_ring</code> and <code>normed_ring</code> as a mixin, which could then be applied to any (commutative?) ring? I guess my main point is that I think word <code>valued</code> should be reserved for valuations, whereas the word <code>(semi)normed</code> should be reserved for (semi)norms.</p>



<a name="278426890"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278426890" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278426890">(Apr 09 2022 at 19:39)</a>:</h4>
<p>To avoid confusion with semi, a shorter spelling of <code>submultiplicative</code> could be <code>le</code>, as in <code>le_seminormed_ring</code>.</p>



<a name="278427494"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278427494" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mar√≠a In√©s de Frutos Fern√°ndez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278427494">(Apr 09 2022 at 19:53)</a>:</h4>
<p>If the main goal is to avoid <code>valued_field</code>/<code>valued_ring</code> (which I agree could create confusion with general valuations), maybe we could just name these <code>multiplicative_normed_field</code>/<code>multiplicative_normed_ring</code> and keep using <code>(semi)normed</code> for the sub-multiplicative classes.</p>



<a name="278428717"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278428717" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278428717">(Apr 09 2022 at 20:23)</a>:</h4>
<p>Maybe I read too quickly, but I think using semi with a different meaning for fields and vector spaces would be really bad. Also note that for analysis the correct class is <code>nondiscrete_normed_field</code> anyway.</p>



<a name="278432455"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278432455" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278432455">(Apr 09 2022 at 21:42)</a>:</h4>
<p><code>real_valued_field</code>?</p>



<a name="278444137"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278444137" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278444137">(Apr 10 2022 at 02:49)</a>:</h4>
<p>Personally, I would prefer to keep <code>normed_field</code> as is, and provide a new class <code>submultiplicative_normed_field</code> (or a different name) for the other version. Mathlib's current naming agrees with the literature in at least one place: <em><a href="https://books.google.com/books?id=7WUkDwAAQBAJ&amp;pg=PA2#v=onepage&amp;q&amp;f=false">Topological Vectors Spaces and Their Applications</a></em>.</p>



<a name="278446150"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278446150" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278446150">(Apr 10 2022 at 03:49)</a>:</h4>
<p>Note that we do have <a href="https://leanprover-community.github.io/mathlib_docs/find/semi_normed_ring">docs#semi_normed_ring</a> .</p>



<a name="278446399"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278446399" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278446399">(Apr 10 2022 at 03:56)</a>:</h4>
<p>Anyway, personally I would be happy with whatever names are chosen for a (sub)multiplicative (semi)normed fields, as long as the name in mathlib isn't of the form <code>*valued*</code>.</p>



<a name="278446402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278446402" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278446402">(Apr 10 2022 at 03:57)</a>:</h4>
<p>Yes, I know, but I don't think it matters. For fields (or division rings), the natural condition is multiplicativity, not submultiplicativity. An intuitive explanation for this is: these objects have <code>inv</code> and the multiplicativity condition is equivalent to <a href="https://leanprover-community.github.io/mathlib_docs/find/norm_inv">docs#norm_inv</a>, so the norm and the inverse play nice. Do we even have a natural example of a (submultiplicatively) normed division ring for which the norm is <em>not</em> multiplicative? I saw Kevin's example above, but it seemed contrived (although I am not qualified to judge such things).</p>



<a name="278450634"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278450634" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278450634">(Apr 10 2022 at 06:04)</a>:</h4>
<p>My "min of two valuations" example was indeed contrived; I don't know if it comes up in practice. I don't remember seeing anything like that in Bosch-Guentzer-Remmert (which I've always taken as the canonical reference in the non Archimedean case).</p>



<a name="278451041"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278451041" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278451041">(Apr 10 2022 at 06:16)</a>:</h4>
<p>What about keeping <code>normed_field</code> (which is the most frequent situation, so it should have the shortest name), and adding something like <code>le_normed_field</code> or <code>le_mul_normed_field</code> or <code>submul_normed_field</code> (avoiding the word <code>semi</code> since in mathlib it is associated to norms that can vanish on nonzero elements)?</p>



<a name="278451055"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278451055" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278451055">(Apr 10 2022 at 06:17)</a>:</h4>
<p>(and adding docstrings explaining all this, of course!)</p>



<a name="278451245"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278451245" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278451245">(Apr 10 2022 at 06:22)</a>:</h4>
<p>I'm in favor of that as long as we can come up with at least <em>one</em> "naturally occurring" example of such a thing. Otherwise, why would we bother to create this new type class? <span class="user-mention" data-user-id="406490">@Mar√≠a In√©s de Frutos Fern√°ndez</span> , do you have such an example from your work?</p>



<a name="278454285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278454285" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278454285">(Apr 10 2022 at 07:47)</a>:</h4>
<p><code>le_normed_field</code> or <code>le_mul_normed_field</code> are bad because they sound like lemma names.</p>



<a name="278454497"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278454497" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278454497">(Apr 10 2022 at 07:52)</a>:</h4>
<p>Sebastien's remaining suggestion, <code>submul_normed_field</code> sounds pretty good to my ear. I think people will naturally read <code>submul</code> as "sub-multiplicative", and "sub-multiplicative normed field" is an easy-to-interpret-correctly name.</p>



<a name="278454583"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278454583" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278454583">(Apr 10 2022 at 07:54)</a>:</h4>
<p>I agree with <span class="user-mention" data-user-id="197836">@Jireh Loreaux</span> though that we should have some motivating examples of things that satisfy only that typeclass before adding it</p>



<a name="278537564"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/278537564" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mar√≠a In√©s de Frutos Fern√°ndez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#278537564">(Apr 11 2022 at 11:09)</a>:</h4>
<p>For the application I have in mind, I actually care about multiplicatively normed fields. I want to prove that if a field K is complete with respect to a rank 1 valuation, and L/K is an algebraic extension, then there's a  unique rank 1 valuation on L extending the valuation on K (so in particular, I can extend the p-adic absolute value on <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="double-struck">Q</mi><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">\mathbb{Q}_p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.975em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathbb">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> to <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mover accent="true"><mi mathvariant="double-struck">Q</mi><mo stretchy="true">‚Äæ</mo></mover><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">\overline{\mathbb{Q}}_p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2414em;vertical-align:-0.3525em;"></span><span class="mord"><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8889em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathbb">Q</span></span></span><span style="top:-3.8089em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.1667em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.085em;"><span style="top:-2.4836em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.3525em;"><span></span></span></span></span></span></span></span></span></span>, and then define <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="double-struck">C</mi><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">\mathbb{C}_p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.975em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathbb">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> as the completion of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mover accent="true"><mi mathvariant="double-struck">Q</mi><mo stretchy="true">‚Äæ</mo></mover><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">\overline{\mathbb{Q}}_p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2414em;vertical-align:-0.3525em;"></span><span class="mord"><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8889em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathbb">Q</span></span></span><span style="top:-3.8089em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.1667em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.085em;"><span style="top:-2.4836em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.3525em;"><span></span></span></span></span></span></span></span></span></span>). The reason I wanted to add this <code>submul_normed_field</code> class is that I am following the proof in Bosch-Guentzer-Remmert, and a couple of the results used in the argument are proven for fields with a norm that's only assumed to be power-multiplicative. However, since it seems that no one is planning to use sub-multiplicatively normed fields, I will just formalize those results assuming the existing <code>normed_field</code>.</p>



<a name="281139153"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281139153" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281139153">(May 04 2022 at 11:03)</a>:</h4>
<p>I was directed to this thread after posting the following message. <a href="#narrow/stream/116395-maths/topic/Discrete.20metric.2E/near/281125426">https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Discrete.20metric.2E/near/281125426</a></p>



<a name="281139529"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281139529" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281139529">(May 04 2022 at 11:07)</a>:</h4>
<p>At best I'm basically struggling to understand a lot of things about the hierarchy here. At least the names (as I think the above discussion might reflect) seem confusing. But in general I feel quite suspicious of the way the whole thing currently works. I was wondering where things are at in general with this.</p>



<a name="281140152"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281140152" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281140152">(May 04 2022 at 11:15)</a>:</h4>
<p>I'm of the opinion that a switch from</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c1">-- current</span>
<span class="kd">variables</span> <span class="o">[</span><span class="n">normed_ring</span> <span class="n">R</span><span class="o">]</span> <span class="c1">-- ring</span>
<span class="kd">variables</span> <span class="o">[</span><span class="n">normed_ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">normed_group</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">normed_space</span> <span class="n">R</span> <span class="n">M</span><span class="o">]</span>  <span class="c1">-- module</span>
<span class="kd">variables</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">ring</span> <span class="n">A</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">R</span> <span class="n">A</span><span class="o">]</span> <span class="o">[</span><span class="n">normed_ring</span> <span class="n">A</span><span class="o">]</span> <span class="o">[</span><span class="n">normed_algebra</span> <span class="n">R</span> <span class="n">A</span><span class="o">]</span> <span class="c1">-- algebra</span>
</code></pre></div>
<p>to</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c1">-- proposed</span>
<span class="kd">variables</span> <span class="o">[</span><span class="n">ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">normed_ring</span> <span class="n">R</span><span class="o">]</span>
<span class="kd">variables</span> <span class="o">[</span><span class="n">ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">add_comm_group</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">module</span> <span class="n">R</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">normed_ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">normed_group</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">normed_space</span> <span class="n">R</span> <span class="n">M</span><span class="o">]</span>
<span class="kd">variables</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">ring</span> <span class="n">A</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">R</span> <span class="n">A</span><span class="o">]</span> <span class="o">[</span><span class="n">normed_ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">normed_ring</span> <span class="n">A</span><span class="o">]</span> <span class="o">[</span><span class="n">normed_space</span> <span class="n">R</span> <span class="n">A</span><span class="o">]</span>
</code></pre></div>
<p>might be reasonable, as it gives us the flexibility to mix and match tight vs loose bounds on the multiplication of the norm, and matches how we currently spell</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c1">-- current, topology</span>
<span class="kd">variables</span> <span class="o">[</span><span class="n">ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">topological_ring</span> <span class="n">R</span><span class="o">]</span>
<span class="kd">variables</span> <span class="o">[</span><span class="n">ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">add_comm_group</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">module</span> <span class="n">R</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">topological_ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">topological_add_group</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">has_continuous_const_smul</span> <span class="n">R</span> <span class="n">M</span><span class="o">]</span>
<span class="kd">variables</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">ring</span> <span class="n">A</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">R</span> <span class="n">A</span><span class="o">]</span> <span class="o">[</span><span class="n">topological_ring</span> <span class="n">A</span><span class="o">]</span> <span class="o">[</span><span class="n">has_continuous_const_smul</span> <span class="n">R</span> <span class="n">A</span><span class="o">]</span>
</code></pre></div>
<p>Obviously it's much more verbose, but we already pay that cost in the topology library.</p>
<p>This would also free us from having separate <code>normed_ring</code> and <code>normed_comm_ring</code> typeclasses, as well as unifying <code>normed_space</code> and <code>normed_algebra</code>.</p>



<a name="281146266"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281146266" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281146266">(May 04 2022 at 12:18)</a>:</h4>
<p>Hang on, I'm not sure <code>variables [normed_ring R] [normed_group M] [normed_space R M]</code> currently works.</p>



<a name="281146285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281146285" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281146285">(May 04 2022 at 12:18)</a>:</h4>
<p><code>normed_space</code> is defined only for <code>normed_field</code>.</p>



<a name="281147401"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281147401" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281147401">(May 04 2022 at 12:29)</a>:</h4>
<p>Whoops, fixed</p>



<a name="281147745"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281147745" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281147745">(May 04 2022 at 12:32)</a>:</h4>
<p>I think this is closer to what you want, but variables [ring R] [non_unital_semi_normed_ring R] might be better, as it were. Actually what you want really is an equivalent of <code>[has_continuous_const_smul R]</code> for here.</p>
<p>Could you define <code>[has_semimultiplicative_norm R]</code>, which requires only <code>[has_norm R]</code>, and is basically a wrapper around <code>‚àÄ (a b : Œ±), ‚à•a * b‚à• ‚â§ ‚à•a‚à• * ‚à•b‚à•</code>? And then also <code>[has_multiplicative_norm R]</code>. How you handle <code>normed_group R</code> I'm less sure of - what about a wrapper <code>[has_dist_eq_norm_sub R]</code> which depends only on <code>[has_sub R]</code>, <code>[has_dist R]</code>, and <code>[has_norm R]</code>, and then wraps around <code>dist x y = ‚à•x - y‚à•</code>? That does miss out the metric space aspect and the differentiation between pseudometric and metrics (also, not sure it should be semi_normed_group - surely pseudo_normed_group?)</p>
<p>We don't seem to have an extension of <code>[has_norm R] [has_zero R] [has_neg R] [has_add R]</code> that is basically "‚à•0‚à• = 0", "‚à•-a‚à• = ‚à•a‚à•", "‚à•a + b‚à• ‚â§ ‚à•a‚à• + ‚à•b‚à•". It feels like we probably should? Because such a class - call it [norm_pseudogood R] - would then mean that<br>
<code>[add_comm_group R] [has_norm R]  [has_dist R] [norm_pseudogood R] [has_dist_eq_norm_sub R]</code> is exactly our current `[sub_normed_group R]".</p>



<a name="281147828"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281147828" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281147828">(May 04 2022 at 12:33)</a>:</h4>
<p>Also, does the notion of a <code>normed_module</code> not make sense? I liked what you first had - we just can't currently do it!</p>



<a name="281147850"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281147850" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281147850">(May 04 2022 at 12:33)</a>:</h4>
<blockquote>
<p>Could you define <code>[has_semimultiplicative_norm R]</code> &lt;snip&gt;</p>
</blockquote>
<p><del>That is precisely the meaning that <code>normed_ring</code> has in my <code>-- proposed</code> example above</del></p>



<a name="281147982"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281147982" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281147982">(May 04 2022 at 12:34)</a>:</h4>
<p>It's confusingly named, then - if you look at <code>has_continuous_const_smul</code>, what's nice about that is that it's only asserting a property of - oh you crossed it out.</p>



<a name="281148166"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281148166" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281148166">(May 04 2022 at 12:36)</a>:</h4>
<p>To pick up <code>norm_pseudogood</code> - it is kinda weird that we don't currently have something like this, an ability to say "this norm basically does all the things you want it to do to make a pseudometric out of it". (Obviously a norm has ‚à•a‚à• = 0 -&gt; a = 0 also.)</p>



<a name="281148232"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281148232" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281148232">(May 04 2022 at 12:37)</a>:</h4>
<p>Sorry, what I'm proposing is:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c1">-- `add_comm_group ` moved from `extends` to an argument</span>
<span class="kd">class</span> <span class="n">normed_group</span> <span class="o">(</span><span class="n">A</span><span class="o">)</span> <span class="o">[</span><span class="n">add_comm_group</span> <span class="n">A</span><span class="o">]</span>  <span class="kd">extends</span> <span class="n">has_norm</span> <span class="n">E</span><span class="o">,</span> <span class="n">metric_space</span> <span class="n">E</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">dist_eq</span> <span class="o">:</span> <span class="n">_</span><span class="o">)</span>

<span class="c1">-- this also works for `comm_ring` and everything inbetween</span>
<span class="kd">class</span> <span class="n">normed_ring</span> <span class="o">(</span><span class="n">A</span><span class="o">)</span> <span class="o">[</span><span class="n">non_unital_semiring</span> <span class="n">A</span><span class="o">]</span> <span class="kd">extends</span> <span class="n">normed_group</span> <span class="n">A</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">norm_mul_le</span> <span class="o">:</span> <span class="n">_</span><span class="o">)</span>

<span class="c1">-- could relax the `division_ring` requirement, but that probably doesn't buy anything</span>
<span class="kd">class</span> <span class="n">normed_field</span> <span class="o">(</span><span class="n">A</span><span class="o">)</span> <span class="o">[</span><span class="n">division_ring</span> <span class="n">A</span><span class="o">]</span> <span class="kd">extends</span> <span class="n">normed_ring</span> <span class="n">A</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">norm_mul_eq</span> <span class="o">:</span> <span class="n">_</span><span class="o">)</span>

<span class="c1">-- doesn't extend `module` any more, and may as well relax to `has_scalar` to make typeclass search easier</span>
<span class="kd">class</span> <span class="n">normed_space</span> <span class="o">(</span><span class="n">R</span> <span class="n">A</span><span class="o">)</span> <span class="o">[</span><span class="n">has_scalar</span> <span class="n">R</span> <span class="n">A</span><span class="o">]</span> <span class="o">[</span><span class="n">has_norm</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">has_norm</span> <span class="n">A</span><span class="o">]</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">norm_smul_le</span> <span class="o">:</span> <span class="n">_</span><span class="o">)</span>
</code></pre></div>



<a name="281148285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281148285" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281148285">(May 04 2022 at 12:37)</a>:</h4>
<p>Right :) What I'm saying is that that the approach of topology - which is to separate out the properties of the operations from the structure - seems good.</p>



<a name="281148419"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281148419" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281148419">(May 04 2022 at 12:38)</a>:</h4>
<p>I like your <code>normed_space</code> there - it doesn't extend! But if you think about it, kinda odd that it's then called <code>normed_space</code>. And that isn't the approach your other examples give - because they extend the structure.</p>



<a name="281148421"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281148421" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281148421">(May 04 2022 at 12:38)</a>:</h4>
<p>Right, you're arguing that you want to go one stage further and break <code>normed_group</code> into smaller pieces than I have there?</p>



<a name="281148430"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281148430" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281148430">(May 04 2022 at 12:38)</a>:</h4>
<p>Yes.</p>



<a name="281148471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281148471" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281148471">(May 04 2022 at 12:39)</a>:</h4>
<blockquote>
<p>And that isn't the approach your other examples give - because they extend the structure.</p>
</blockquote>
<p>What do you mean by that?</p>



<a name="281148597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281148597" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281148597">(May 04 2022 at 12:40)</a>:</h4>
<p>I'd like to explain why I think it is important to keep <code>normed_field k</code> instead of a bunch of mixins. The problem with mixins is that they lead to combinatorial explosion when new spaces are built out of them, and then new spaces are built out of these new spaces. So in this kind of situation it is better performancewise to have a single typeclass to use that subsumes everything. And it turns out that many many things are built using normed fields (spaces of continuous linear maps, of analytic maps, of continuous multilinear maps, manifolds, and so on).</p>



<a name="281148603"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281148603" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281148603">(May 04 2022 at 12:40)</a>:</h4>
<p>Oh, no, maybe it is the same, I forgot how extending works.</p>



<a name="281148663"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281148663" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281148663">(May 04 2022 at 12:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110050">Sebastien Gouezel</span> <a href="#narrow/stream/113488-general/topic/normed_ring.20vs.20normed_field/near/281148597">said</a>:</p>
<blockquote>
<p>I'd like to explain why I think it is important to keep <code>normed_field k</code> instead of a bunch of mixins. The problem with mixins is that they lead to combinatorial explosion when new spaces are built out of them, and then new spaces are built out of these new spaces. So in this kind of situation it is better performancewise to have a single typeclass to use that subsumes everything. And it turns out that many many things are built using normed fields (spaces of continuous linear maps, of analytic maps, of continuous multilinear maps, manifolds, and so on).</p>
</blockquote>
<p>Once you have the mixins, can you not define <code>normed_field</code> as a specific thing?</p>



<a name="281148738"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281148738" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281148738">(May 04 2022 at 12:41)</a>:</h4>
<p>In the way that, say, <code>linear_ordered_add_comm_monoid</code> is really a specific manifestation of a pile of structure.</p>



<a name="281148897"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281148897" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281148897">(May 04 2022 at 12:42)</a>:</h4>
<p>Precisely, <a href="https://leanprover-community.github.io/mathlib_docs/find/linear_ordered_add_comm_monoid">docs#linear_ordered_add_comm_monoid</a> does not use mixins, it <em>extends</em> a lot of structures.</p>



<a name="281148899"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281148899" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281148899">(May 04 2022 at 12:42)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span> the thing about <code>normed_ring</code> extending <code>normed_group</code> is: what if I have a norm on a ring that is submultiplicative on the multplication, but doesn't interact with the addition at all?</p>



<a name="281148977"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281148977" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281148977">(May 04 2022 at 12:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="330967">Wrenna Robson</span> <a href="#narrow/stream/113488-general/topic/normed_ring.20vs.20normed_field/near/281148899">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> the thing about <code>normed_ring</code> extending <code>normed_group</code> is: what if I have a norm on a ring that is submultiplicative on the multplication, but doesn't interact with the addition at all?</p>
</blockquote>
<p>That doesn't strike me as all that useful - but you could always add a <code>normed_monoid</code> in between</p>



<a name="281148995"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281148995" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281148995">(May 04 2022 at 12:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110050">Sebastien Gouezel</span> <a href="#narrow/stream/113488-general/topic/normed_ring.20vs.20normed_field/near/281148897">said</a>:</p>
<blockquote>
<p>Precisely, <a href="https://leanprover-community.github.io/mathlib_docs/find/linear_ordered_add_comm_monoid">docs#linear_ordered_add_comm_monoid</a> does not use mixins, it <em>extends</em> a lot of structures.</p>
</blockquote>
<p>Right - I think you make a strong argument for having, ultimately, normed_field` present at the top of the hierarchy.</p>



<a name="281149138"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281149138" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281149138">(May 04 2022 at 12:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110050">Sebastien Gouezel</span> <a href="#narrow/stream/113488-general/topic/normed_ring.20vs.20normed_field/near/281148897">said</a>:</p>
<blockquote>
<p>Precisely, <a href="https://leanprover-community.github.io/mathlib_docs/find/linear_ordered_add_comm_monoid">docs#linear_ordered_add_comm_monoid</a> does not use mixins, it <em>extends</em> a lot of structures.</p>
</blockquote>
<p>So would you argue that the topology library should switch to this model?</p>



<a name="281149203"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281149203" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281149203">(May 04 2022 at 12:45)</a>:</h4>
<p>Note, we're already running into some issues with timeouts in this normed hierarchy. See the end of this thread: <a href="#narrow/stream/144837-PR-reviews/topic/.2313719.3A.20non-unital.20normed.20comm.20ring">https://leanprover.zulipchat.com/#narrow/stream/144837-PR-reviews/topic/.2313719.3A.20non-unital.20normed.20comm.20ring</a></p>



<a name="281149218"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281149218" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281149218">(May 04 2022 at 12:45)</a>:</h4>
<p>Can you show us a real-world example where you feel our current hierarchy has shortcomings? In a way, our hierarchy is designed to be able to deal with most interesting examples, but if there is a natural situation where it fails it is an interesting datapoint.</p>



<a name="281149413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281149413" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281149413">(May 04 2022 at 12:46)</a>:</h4>
<p>I suppose I'll re-bring-up the context I was working in from the other thread (where it felt troublesome in part). So I was doing this yesterday (I am trying to formalise some code-based cryptography theorems about a design). <a href="https://gist.github.com/linesthatinterlace/25eb6d69d1264fecca89f904d18b4eff">https://gist.github.com/linesthatinterlace/25eb6d69d1264fecca89f904d18b4eff</a></p>



<a name="281149415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281149415" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281149415">(May 04 2022 at 12:46)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113488-general/topic/normed_ring.20vs.20normed_field/near/281149138">said</a>:</p>
<blockquote>
<p>So would you argue that the topology library should switch to this model?</p>
</blockquote>
<p>No, mixins are fine to specify additional properties of structures that don't show up too much. But the main players in the hierarchy should really be single typeclasses, not one typeclasses with several mixins.</p>



<a name="281149509"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281149509" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281149509">(May 04 2022 at 12:47)</a>:</h4>
<p>I know we already have the L_0 "norm", of a kind, but it isn't actually a norm - except it is if the underlying field has the discrete norm!</p>



<a name="281149578"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281149578" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281149578">(May 04 2022 at 12:48)</a>:</h4>
<blockquote>
<p>And it turns out that many many things are built using normed fields (spaces of continuous linear maps, of analytic maps, of continuous multilinear maps, manifolds, and so on).</p>
</blockquote>
<p>As part of my refactoring of <a href="https://leanprover-community.github.io/mathlib_docs/find/exp">docs#exp</a>, I've found that many things defined in terms of <code>normed_field</code> etc actually generalize just fine to topological rings; so in these cases <code>norm</code> was never a main player after all</p>



<a name="281149585"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281149585" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281149585">(May 04 2022 at 12:48)</a>:</h4>
<p>(well, it's a seminorm)</p>



<a name="281149621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281149621" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281149621">(May 04 2022 at 12:48)</a>:</h4>
<blockquote>
<p>I know we already have the L_0 "norm", of a kind</p>
</blockquote>
<p>Do we? <a href="https://leanprover-community.github.io/mathlib_docs/find/pi_Lp.normed_space">docs#pi_Lp.normed_space</a> requires p to be <del>positive</del> at least 1</p>



<a name="281149690"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281149690" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281149690">(May 04 2022 at 12:49)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/measure_theory/function/lp_space.html">https://leanprover-community.github.io/mathlib_docs/measure_theory/function/lp_space.html</a></p>



<a name="281149796"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281149796" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281149796">(May 04 2022 at 12:50)</a>:</h4>
<p>albeit that is different, but it's clearly tightly related (though I have no idea if there is linking API).</p>



<a name="281150038"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281150038" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281150038">(May 04 2022 at 12:52)</a>:</h4>
<p>I don't see the problem with the Hamming distance: you can locally register a normed group instance with the discrete distance on a finite group, and then take its <code>pi_Lp 1</code>, no? (There's no field involved here).</p>



<a name="281150105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281150105" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281150105">(May 04 2022 at 12:52)</a>:</h4>
<p>Wrenna, that just gives a garbage value (0) when p=0</p>



<a name="281150169"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281150169" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281150169">(May 04 2022 at 12:53)</a>:</h4>
<p>But you really want to use the <code>L^1</code> distance for the Hamming distance.</p>



<a name="281150348"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281150348" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281150348">(May 04 2022 at 12:54)</a>:</h4>
<p>I'm not even sure what you mean by L^0 norm Wrenna.</p>



<a name="281150381"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281150381" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281150381">(May 04 2022 at 12:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113488-general/topic/normed_ring.20vs.20normed_field/near/281149578">said</a>:</p>
<blockquote>
<p>As part of my refactoring of <a href="https://leanprover-community.github.io/mathlib_docs/find/exp">docs#exp</a>, I've found that many things defined in terms of <code>normed_field</code> etc actually generalize just fine to topological rings; so in these cases <code>norm</code> was never a main player after all</p>
</blockquote>
<p>If you want to do analysis (use derivatives, for instance), you can't do without the normed field structure.</p>



<a name="281150626"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281150626" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281150626">(May 04 2022 at 12:57)</a>:</h4>
<p>Regarding shortcomings in the current structure, it would be nice if lemmas like the following would be possible to state:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c1">-- not allowed, ‚Ñï isn't a field</span>
<span class="kd">example</span> <span class="o">{</span><span class="n">M</span><span class="o">}</span> <span class="o">[</span><span class="n">normed_group</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">normed_space</span> <span class="n">‚Ñï</span> <span class="n">M</span><span class="o">]</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">‚Ñï</span><span class="o">)</span> <span class="o">:</span> <span class="bp">‚à•</span><span class="n">n</span> <span class="bp">‚Ä¢</span> <span class="n">x</span><span class="bp">‚à•</span> <span class="bp">‚â§</span> <span class="bp">‚à•</span><span class="n">n</span><span class="bp">‚à•</span> <span class="bp">*</span> <span class="bp">‚à•</span><span class="n">x</span><span class="bp">‚à•</span> <span class="o">:=</span> <span class="gr">sorry</span>
<span class="c1">-- not allowed, `units R` isn't a field</span>
<span class="kd">example</span> <span class="o">{</span><span class="n">R</span> <span class="n">M</span><span class="o">}</span> <span class="o">[</span><span class="n">ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">normed_group</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">normed_space</span> <span class="n">R</span> <span class="n">M</span><span class="o">]</span> <span class="o">:</span> <span class="n">normed_space</span> <span class="o">(</span><span class="n">units</span> <span class="n">R</span><span class="o">)</span> <span class="n">M</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>
<p>I guess this is only a complaint about <code>normed_space</code> not the rest of the heirarchy</p>



<a name="281150809"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281150809" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281150809">(May 04 2022 at 12:58)</a>:</h4>
<p>Having <code>normed_space</code> only requiring a <code>normed_semiring</code> instead of a <code>normed_field</code> would definitely make sense to me.</p>



<a name="281150865"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281150865" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281150865">(May 04 2022 at 12:59)</a>:</h4>
<p>I'm suggesting the stronger change of not even making it extend module, so that it can be used for norm-preserving group actions too (my second example)</p>



<a name="281151189"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281151189" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281151189">(May 04 2022 at 13:01)</a>:</h4>
<p>I guess R is supposed to be a ring in that second example?</p>



<a name="281151666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281151666" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281151666">(May 04 2022 at 13:04)</a>:</h4>
<p>I guess that would also mean changing the definition slightly, so that its norm_smul and not norm_smul_le, right?</p>



<a name="281151690"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281151690" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281151690">(May 04 2022 at 13:04)</a>:</h4>
<p>Yeah, there's really no reason for <code>normed_space</code> to require <code>normed_field</code>. I found myself assuming <code>normed_field</code> in a bunch of place just because <code>normed_space</code> required me to.</p>



<a name="281151752"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281151752" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281151752">(May 04 2022 at 13:04)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113488-general/topic/normed_ring.20vs.20normed_field/near/281150865">said</a>:</p>
<blockquote>
<p>I'm suggesting the stronger change of not even making it extend module, so that it can be used for norm-preserving group actions too (my second example)</p>
</blockquote>
<p>I agree with this, and I suppose the rest of my complaint is a feeling that we should try to cut down the hierarchy if we can. Also "semi_normed" stuff is ill-named.</p>



<a name="281151928"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281151928" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281151928">(May 04 2022 at 13:06)</a>:</h4>
<p>Also - surely <code>normed_group</code> should be described so that it extends <code>metric_space</code> and <code>semi_normed_group</code> (which should be <code>pseudo_normed_group</code>.</p>



<a name="281151955"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281151955" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281151955">(May 04 2022 at 13:06)</a>:</h4>
<p>Disagreed about the "semi_normed". This is common terminology. Although I've seen pseudo-normed too. In LCTVS theory I think seminorm is more common.</p>



<a name="281152002"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281152002" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281152002">(May 04 2022 at 13:06)</a>:</h4>
<p>Isn't seminorm normally about the multiplicativity/submultiplicativity stuff?</p>



<a name="281152052"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281152052" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281152052">(May 04 2022 at 13:07)</a>:</h4>
<p>No? Reference?</p>



<a name="281152094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281152094" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281152094">(May 04 2022 at 13:07)</a>:</h4>
<p>Oh, no, I'm probably just wrong. I thought someone said it above.</p>



<a name="281152223"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281152223" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281152223">(May 04 2022 at 13:08)</a>:</h4>
<p>The issue I see is that it is easily confused with <code>semiring</code>, which is a different type of <code>semi</code> (I think?).</p>



<a name="281152323"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281152323" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281152323">(May 04 2022 at 13:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="330967">Wrenna Robson</span> <a href="#narrow/stream/113488-general/topic/normed_ring.20vs.20normed_field/near/281151928">said</a>:</p>
<blockquote>
<p>Also - surely <code>normed_group</code> should be described so that it extends <code>metric_space</code> and <code>semi_normed_group</code> (which should be <code>pseudo_normed_group</code>.</p>
</blockquote>
<p>Essentially, it does, in the sense that a <code>normed_group</code> is automatically a <code>metric_space</code> and a <code>semi_normed_group</code>. Whether this is part of the definition or an instance which is registered later on is just a technical detail of the implementation (made in view of performance constraints), but has no practical importance for the end user.</p>



<a name="281152406"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281152406" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281152406">(May 04 2022 at 13:09)</a>:</h4>
<p>Yeah, <code>semi_normed_whatever</code> comes from <code>seminorm</code>. I believe we could get rid of the underscore to make the connection more obvious.</p>



<a name="281152459"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281152459" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281152459">(May 04 2022 at 13:10)</a>:</h4>
<p>Well, I found it mildly confusing, as an end user - but I take your point.</p>



<a name="281152528"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281152528" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281152528">(May 04 2022 at 13:10)</a>:</h4>
<p>Maybe even <code>seminorm_group</code> could be acceptable, and it would save us three keystrokes.</p>



<a name="281152584"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281152584" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281152584">(May 04 2022 at 13:11)</a>:</h4>
<p>If you redefined normed_space to only need a normed_semiring, would you still keep the submultiplicative property for the latter? Does it all work OK if you do that?</p>



<a name="281152742"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281152742" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281152742">(May 04 2022 at 13:12)</a>:</h4>
<p>technically of course it should be <code>seminorm_add_group</code>.</p>



<a name="281152823"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281152823" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281152823">(May 04 2022 at 13:13)</a>:</h4>
<p>Are seminormed multiplicative groups a thing?</p>



<a name="281152827"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281152827" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281152827">(May 04 2022 at 13:13)</a>:</h4>
<p>but what about <code>seminorm_add_semigroup</code>? What, indeed, of <code>semisubmultivativenormed_semiring</code></p>



<a name="281152881"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281152881" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281152881">(May 04 2022 at 13:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Ya√´l Dillies</span> <a href="#narrow/stream/113488-general/topic/normed_ring.20vs.20normed_field/near/281152823">said</a>:</p>
<blockquote>
<p>Are seminormed multiplicative groups a thing?</p>
</blockquote>
<p>In fairness I don't... <em>think</em> so - but I could believe in them.</p>



<a name="281153159"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281153159" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281153159">(May 04 2022 at 13:15)</a>:</h4>
<p>Any generalization of normed_space will require changing norm_smul_le to norm_smul.</p>



<a name="281153311"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281153311" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281153311">(May 04 2022 at 13:16)</a>:</h4>
<p>Right. Which suggests we do want to keep track of the submultiplicative distinction...</p>



<a name="281153418"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281153418" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281153418">(May 04 2022 at 13:17)</a>:</h4>
<p>I think you are conflating mul and smul.</p>



<a name="281153424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281153424" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281153424">(May 04 2022 at 13:17)</a>:</h4>
<p>Nothing has ever been submultiplicative though. <code>normed_space</code> is currently submultiplicative but that's because we can directly recover multiplicativity from <code>field</code>.</p>



<a name="281153450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281153450" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281153450">(May 04 2022 at 13:18)</a>:</h4>
<p>Isn't <code>normed_ring</code> submultiplicative?</p>



<a name="281153547"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281153547" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281153547">(May 04 2022 at 13:18)</a>:</h4>
<p>Yes, but that's mul, not smul</p>



<a name="281153574"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281153574" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281153574">(May 04 2022 at 13:18)</a>:</h4>
<p>I still am not <em>really</em> sure about the bundling of <code>metric_space</code> into the definition of <code>normed_group</code>. Intuitively I would think of a <code>normed_group</code> as a group with a norm added (on which, yes, a metric is induced - I guess the current definition is to ensure you don't have another dist hanging round).</p>



<a name="281153638"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281153638" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281153638">(May 04 2022 at 13:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="197836">Jireh Loreaux</span> <a href="#narrow/stream/113488-general/topic/normed_ring.20vs.20normed_field/near/281153547">said</a>:</p>
<blockquote>
<p>Yes, but that's mul, not smul</p>
</blockquote>
<p>Oh - I see, right. Why will that need changing?</p>



<a name="281153688"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281153688" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281153688">(May 04 2022 at 13:19)</a>:</h4>
<p>See <a href="https://leanprover-community.github.io/mathlib_docs/find/normed_space">docs#normed_space</a></p>



<a name="281153848"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281153848" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281153848">(May 04 2022 at 13:20)</a>:</h4>
<p>It has an le right now, but that's because we can prove equality since we have a field. If we don't have a field (or division ring) we can't prove equality, so we need to assume it.</p>



<a name="281153898"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281153898" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281153898">(May 04 2022 at 13:21)</a>:</h4>
<p>And you need to keep the equality - it's not otherwise a useful notion?</p>



<a name="281154015"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281154015" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281154015">(May 04 2022 at 13:22)</a>:</h4>
<p>Right. And if you didn't, then you would need yet another type class where you have equality.</p>



<a name="281154114"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281154114" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281154114">(May 04 2022 at 13:22)</a>:</h4>
<p>What did you think to the hamming distance thing I posted above?</p>



<a name="281154140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281154140" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281154140">(May 04 2022 at 13:23)</a>:</h4>
<p>I'm not quite convinced of that--do you really need a type class for when you have equality? Seems like that usually only happen over a normed field, in which case you can use a lemma</p>



<a name="281154214"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281154214" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281154214">(May 04 2022 at 13:23)</a>:</h4>
<p>Is <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="double-struck">R</mi><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">\mathbb{R}^n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span> a "normed module" over <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>M</mi><mrow><mi>n</mi><mo>√ó</mo><mi>n</mi></mrow></msub><mo stretchy="false">(</mo><mi mathvariant="double-struck">R</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">M_{n \times n}(\mathbb{R})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2583em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">√ó</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathbb">R</span><span class="mclose">)</span></span></span></span> (with the operator norm)?</p>



<a name="281154345"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281154345" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281154345">(May 04 2022 at 13:24)</a>:</h4>
<p>Hmm, Reid I think you're right. I retract my claim.</p>



<a name="281154552"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281154552" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281154552">(May 04 2022 at 13:26)</a>:</h4>
<p>Remember we only recently removed the equality requirement induced by <a href="https://leanprover-community.github.io/mathlib_docs/find/normed_algebra">docs#normed_algebra</a></p>



<a name="281154615"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281154615" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281154615">(May 04 2022 at 13:26)</a>:</h4>
<p>Wrenna, can you link the hamming distance thing (I'm on mobile)</p>



<a name="281154678"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281154678" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281154678">(May 04 2022 at 13:27)</a>:</h4>
<p><a href="https://gist.github.com/linesthatinterlace/25eb6d69d1264fecca89f904d18b4eff">https://gist.github.com/linesthatinterlace/25eb6d69d1264fecca89f904d18b4eff</a></p>



<a name="281154881"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281154881" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281154881">(May 04 2022 at 13:28)</a>:</h4>
<p>(It would be cool to link this into <code>computability.language</code> somewhat though as I think it's only defined for fixed sizes anyway I'm not sure that's necessary, and I wanted the module structure.)</p>



<a name="281154894"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281154894" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281154894">(May 04 2022 at 13:28)</a>:</h4>
<p>As I said above, I think it's just the <code>L^1</code> distance on the product for the discrete distance on the factor, so we have already all the needed bits in mathlib (with the current hierarchy).</p>



<a name="281154957"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281154957" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281154957">(May 04 2022 at 13:29)</a>:</h4>
<p>Yes, that was my first conclusion :) - though I still (see my other thread) don't know how to quickly put the discrete distance on things.</p>



<a name="281155205"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281155205" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281155205">(May 04 2022 at 13:31)</a>:</h4>
<p>(the thread in question is <a href="#narrow/stream/116395-maths/topic/Discrete.20metric.2E/near/281125426">Discrete metric.</a>)</p>



<a name="281155215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281155215" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281155215">(May 04 2022 at 13:31)</a>:</h4>
<p>Ah, thanks, sorry.</p>



<a name="281155266"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281155266" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281155266">(May 04 2022 at 13:31)</a>:</h4>
<p>Still, thinking of it in terms of finset cardinality (which is closer to the L0 norm perspective) was quite nice and straightforward. Also, I note that if you are defining the hamming distance on something not equipped with <code>sub</code>, you probably can't use the L1 norm.</p>



<a name="281155514"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281155514" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281155514">(May 04 2022 at 13:33)</a>:</h4>
<p>If I re-wrote it to be about <code>set.card</code> instead, you wouldn't even need the decidable_eq predicate - classically you don't, of course.</p>



<a name="281156316"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281156316" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281156316">(May 04 2022 at 13:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="330967">Wrenna Robson</span> <a href="#narrow/stream/113488-general/topic/normed_ring.20vs.20normed_field/near/281155266">said</a>:</p>
<blockquote>
<p>Still, thinking of it in terms of finset cardinality (which is closer to the L0 norm perspective) was quite nice and straightforward. Also, I note that if you are defining the hamming distance on something not equipped with <code>sub</code>, you probably can't use the L1 norm.</p>
</blockquote>
<p>I am not sure it makes a difference whether there is a <code>sub</code> or not: <code>pi_Lp 1</code> puts a distance on a finite product of metric spaces, it does not require subtraction as far as I can tell.</p>



<a name="281156614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281156614" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281156614">(May 04 2022 at 13:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="330967">Wrenna Robson</span> <a href="#narrow/stream/113488-general/topic/normed_ring.20vs.20normed_field/near/281154957">said</a>:</p>
<blockquote>
<p>Yes, that was my first conclusion :) - though I still (see my other thread) don't know how to quickly put the discrete distance on things.</p>
</blockquote>
<p>Indeed, I think you are right and this is missing currently!</p>



<a name="281156695"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281156695" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281156695">(May 04 2022 at 13:43)</a>:</h4>
<p>I think in that thead I put my first attempt at it (this is how I was interacting with the hierarchy). The difficulty was that because everything admits the discrete metric, you have to be, uh, really careful about how you define it.</p>



<a name="281156843"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281156843" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281156843">(May 04 2022 at 13:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110050">Sebastien Gouezel</span> <a href="#narrow/stream/113488-general/topic/normed_ring.20vs.20normed_field/near/281156316">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="330967">Wrenna Robson</span> <a href="#narrow/stream/113488-general/topic/normed_ring.20vs.20normed_field/near/281155266">said</a>:</p>
<blockquote>
<p>Still, thinking of it in terms of finset cardinality (which is closer to the L0 norm perspective) was quite nice and straightforward. Also, I note that if you are defining the hamming distance on something not equipped with <code>sub</code>, you probably can't use the L1 norm.</p>
</blockquote>
<p>I am not sure it makes a difference whether there is a <code>sub</code> or not: <code>pi_Lp 1</code> puts a distance on a finite product of metric spaces, it does not require subtraction as far as I can tell.</p>
</blockquote>
<p>I think you are right, thinking about it. Though I wonder - technically there's no reason you can't have an infinite version of the hamming distance, though it wouldn't be a metric space.</p>



<a name="281157156"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281157156" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281157156">(May 04 2022 at 13:46)</a>:</h4>
<p>But in general the "norm" on <code>f : Œ± -&gt; Œ≤</code>that sends it to # (<a href="http://function.support">function.support</a> f) is... well, it's certainly defined. Probably not useful though.</p>



<a name="281157514"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/normed_ring%20vs%20normed_field/near/281157514" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/normed_ring.20vs.20normed_field.html#281157514">(May 04 2022 at 13:49)</a>:</h4>
<p>(It's kinda weird that you could technically assign the hamming norm to a field extension by thinking of it as a vector space under a particular basis, but that completely, I think, will have little  or nothing to do with the field structure.)</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>