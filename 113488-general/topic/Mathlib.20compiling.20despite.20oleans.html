---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Mathlib.20compiling.20despite.20oleans.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20compiling.20despite.20oleans.html">Mathlib compiling despite oleans</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="226977371"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Mathlib%20compiling%20despite%20oleans/near/226977371" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20compiling.20despite.20oleans.html#226977371">(Feb 19 2021 at 15:18)</a>:</h4>
<p>I think my lean installation is broken :( (see animated gif). Mathlib seems to always want to compile even with a fresh project where oleans are present. Any help / suggestions toward diagnosing the issue would be much appreciated.<br>
<a href="/user_uploads/3121/657oeXvJv9H_Y7rcjX93H88e/test.gif">test.gif</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/657oeXvJv9H_Y7rcjX93H88e/test.gif" title="test.gif"><img src="/user_uploads/3121/657oeXvJv9H_Y7rcjX93H88e/test.gif"></a></div>



<a name="226978048"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Mathlib%20compiling%20despite%20oleans/near/226978048" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20compiling.20despite.20oleans.html#226978048">(Feb 19 2021 at 15:23)</a>:</h4>
<p>Random thought: is it possible that you inadvertently made changes to core Lean?</p>



<a name="226978177"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Mathlib%20compiling%20despite%20oleans/near/226978177" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20compiling.20despite.20oleans.html#226978177">(Feb 19 2021 at 15:24)</a>:</h4>
<p>I don't even know how I would go about doing that, so I don't think that's the issue.</p>



<a name="226978408"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Mathlib%20compiling%20despite%20oleans/near/226978408" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20compiling.20despite.20oleans.html#226978408">(Feb 19 2021 at 15:25)</a>:</h4>
<p>You could have jumped to a definition in core and accidentally changed it, maybe</p>



<a name="226978424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Mathlib%20compiling%20despite%20oleans/near/226978424" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20compiling.20despite.20oleans.html#226978424">(Feb 19 2021 at 15:26)</a>:</h4>
<p>You right-click on a definition, it opens up a core Lean file, you sneeze and accidentally hit the space bar, then you close your VS Code.</p>



<a name="226978455"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Mathlib%20compiling%20despite%20oleans/near/226978455" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20compiling.20despite.20oleans.html#226978455">(Feb 19 2021 at 15:26)</a>:</h4>
<p>Does <code>elan update</code> fix this? I'm not sure</p>



<a name="226978489"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Mathlib%20compiling%20despite%20oleans/near/226978489" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20compiling.20despite.20oleans.html#226978489">(Feb 19 2021 at 15:26)</a>:</h4>
<p>Let me try.</p>



<a name="226978553"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Mathlib%20compiling%20despite%20oleans/near/226978553" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20compiling.20despite.20oleans.html#226978553">(Feb 19 2021 at 15:26)</a>:</h4>
<p>How do I purge a version of lean using elan?</p>



<a name="226978579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Mathlib%20compiling%20despite%20oleans/near/226978579" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20compiling.20despite.20oleans.html#226978579">(Feb 19 2021 at 15:26)</a>:</h4>
<p>I can purge 3.26.0 and reinstall, I guess.</p>



<a name="226978621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Mathlib%20compiling%20despite%20oleans/near/226978621" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20compiling.20despite.20oleans.html#226978621">(Feb 19 2021 at 15:27)</a>:</h4>
<p>That was how Patrick managed to fix up someone else who had did this recently.</p>



<a name="226978771"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Mathlib%20compiling%20despite%20oleans/near/226978771" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20compiling.20despite.20oleans.html#226978771">(Feb 19 2021 at 15:28)</a>:</h4>
<p>Do I just remove the <code>.elan/leanprover-community-lean-3.26.0</code> folder? Or is there an elan flag that does this?</p>



<a name="226978995"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Mathlib%20compiling%20despite%20oleans/near/226978995" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20compiling.20despite.20oleans.html#226978995">(Feb 19 2021 at 15:29)</a>:</h4>
<p>You can use <code>elan uninstall</code>, I don't know why it doesn't show up in the help...</p>



<a name="226979003"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Mathlib%20compiling%20despite%20oleans/near/226979003" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20compiling.20despite.20oleans.html#226979003">(Feb 19 2021 at 15:29)</a>:</h4>
<p>I'd do it through elan. <code>elan toolchain uninstall</code></p>



<a name="226979035"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Mathlib%20compiling%20despite%20oleans/near/226979035" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20compiling.20despite.20oleans.html#226979035">(Feb 19 2021 at 15:29)</a>:</h4>
<p>Gotcha.</p>



<a name="226979088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Mathlib%20compiling%20despite%20oleans/near/226979088" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20compiling.20despite.20oleans.html#226979088">(Feb 19 2021 at 15:30)</a>:</h4>
<p>yeah it doesn't show up in the elan help menu</p>



<a name="226979121"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Mathlib%20compiling%20despite%20oleans/near/226979121" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20compiling.20despite.20oleans.html#226979121">(Feb 19 2021 at 15:30)</a>:</h4>
<p><code>elan toolchain help</code></p>



<a name="226979132"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Mathlib%20compiling%20despite%20oleans/near/226979132" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20compiling.20despite.20oleans.html#226979132">(Feb 19 2021 at 15:30)</a>:</h4>
<p>There are subcommands</p>



<a name="226979151"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Mathlib%20compiling%20despite%20oleans/near/226979151" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20compiling.20despite.20oleans.html#226979151">(Feb 19 2021 at 15:30)</a>:</h4>
<p>Ah!</p>



<a name="226979157"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Mathlib%20compiling%20despite%20oleans/near/226979157" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20compiling.20despite.20oleans.html#226979157">(Feb 19 2021 at 15:30)</a>:</h4>
<p>Right, I guess <code>elan uninstall</code> is just short for <code>elan toolchain uninstall</code>.</p>



<a name="226979158"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Mathlib%20compiling%20despite%20oleans/near/226979158" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20compiling.20despite.20oleans.html#226979158">(Feb 19 2021 at 15:30)</a>:</h4>
<p>Yeah, it's a little confusing, heh</p>



<a name="226979591"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Mathlib%20compiling%20despite%20oleans/near/226979591" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20compiling.20despite.20oleans.html#226979591">(Feb 19 2021 at 15:33)</a>:</h4>
<p>Okay, that seemed to fix it! Thanks everyone!</p>



<a name="226980371"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Mathlib%20compiling%20despite%20oleans/near/226980371" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20compiling.20despite.20oleans.html#226980371">(Feb 19 2021 at 15:38)</a>:</h4>
<p>There was a suggestion once to have elan make Lean's files read-only on installation, but it hasn't found somebody willing to implement it so far</p>



<a name="226980727"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Mathlib%20compiling%20despite%20oleans/near/226980727" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20compiling.20despite.20oleans.html#226980727">(Feb 19 2021 at 15:40)</a>:</h4>
<p>I did look at the quotient.lean file recently... I must have sneezed like Kevin said <span aria-label="rofl" class="emoji emoji-1f923" role="img" title="rofl">:rofl:</span></p>



<a name="226985846"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Mathlib%20compiling%20despite%20oleans/near/226985846" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20compiling.20despite.20oleans.html#226985846">(Feb 19 2021 at 16:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110024">Sebastian Ullrich</span> <a href="#narrow/stream/113488-general/topic/Mathlib.20compiling.20despite.20oleans/near/226980371">said</a>:</p>
<blockquote>
<p>There was a suggestion once to have elan make Lean's files read-only on installation, but it hasn't found somebody willing to implement it so far</p>
</blockquote>
<p>I just saw it is on the frontpage of my todolist again <span aria-label="oops" class="emoji emoji-1f643" role="img" title="oops">:oops:</span></p>



<a name="226986326"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Mathlib%20compiling%20despite%20oleans/near/226986326" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20compiling.20despite.20oleans.html#226986326">(Feb 19 2021 at 16:12)</a>:</h4>
<p>...how many pages does your todolist have that it has a frontpage?</p>



<a name="226986637"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Mathlib%20compiling%20despite%20oleans/near/226986637" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20compiling.20despite.20oleans.html#226986637">(Feb 19 2021 at 16:14)</a>:</h4>
<p>5 items per page... its on my phone</p>



<a name="226990169"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Mathlib%20compiling%20despite%20oleans/near/226990169" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20compiling.20despite.20oleans.html#226990169">(Feb 19 2021 at 16:35)</a>:</h4>
<p><a href="https://github.com/Kha/elan/pull/27">https://github.com/Kha/elan/pull/27</a></p>



<a name="226990241"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Mathlib%20compiling%20despite%20oleans/near/226990241" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20compiling.20despite.20oleans.html#226990241">(Feb 19 2021 at 16:35)</a>:</h4>
<p>This seems to compile. But I've never used rust before... so it might be complete garbage</p>



<a name="226991615"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Mathlib%20compiling%20despite%20oleans/near/226991615" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20compiling.20despite.20oleans.html#226991615">(Feb 19 2021 at 16:44)</a>:</h4>
<p>So you didn't test it?</p>



<a name="226992989"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Mathlib%20compiling%20despite%20oleans/near/226992989" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20compiling.20despite.20oleans.html#226992989">(Feb 19 2021 at 16:54)</a>:</h4>
<p>he never tested his perfectoid spaces either</p>



<a name="227000112"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Mathlib%20compiling%20despite%20oleans/near/227000112" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Mathlib.20compiling.20despite.20oleans.html#227000112">(Feb 19 2021 at 17:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110024">Sebastian Ullrich</span> <a href="#narrow/stream/113488-general/topic/Mathlib.20compiling.20despite.20oleans/near/226991615">said</a>:</p>
<blockquote>
<p>So you didn't test it?</p>
</blockquote>
<p>Nope <span aria-label="see no evil" class="emoji emoji-1f648" role="img" title="see no evil">:see_no_evil:</span></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>