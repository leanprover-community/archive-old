---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/trouble.20with.20function.20as.20set.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/trouble.20with.20function.20as.20set.html">trouble with function as set</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="150700590"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/trouble%20with%20function%20as%20set/near/150700590" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marcus Klaas <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/trouble.20with.20function.20as.20set.html#150700590">(Dec 01 2018 at 23:12)</a>:</h4>
<p>Hi! Is this a proper channel for asking (elementary) questions?</p>



<a name="150700592"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/trouble%20with%20function%20as%20set/near/150700592" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marcus Klaas <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/trouble.20with.20function.20as.20set.html#150700592">(Dec 01 2018 at 23:12)</a>:</h4>
<p>I'm stuck trying to prove the following trivial statement:</p>
<div class="codehilite"><pre><span></span><span class="n">def</span> <span class="n">func_as_set</span> <span class="o">{</span><span class="n">α</span> <span class="n">β</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">)</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">α</span> <span class="bp">×</span> <span class="n">β</span><span class="o">)</span> <span class="o">:=</span> <span class="o">{</span> <span class="n">x</span> <span class="bp">|</span> <span class="n">x</span><span class="bp">.</span><span class="mi">2</span> <span class="bp">=</span> <span class="n">f</span><span class="o">(</span><span class="n">x</span><span class="bp">.</span><span class="mi">1</span><span class="o">)</span> <span class="o">}</span>

<span class="kn">example</span> <span class="o">{</span><span class="n">α</span> <span class="n">β</span><span class="o">}</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="n">f</span> <span class="n">a</span><span class="o">)</span> <span class="err">∈</span> <span class="n">func_as_set</span> <span class="n">f</span> <span class="o">:=</span> <span class="n">sorry</span>
</pre></div>



<a name="150700597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/trouble%20with%20function%20as%20set/near/150700597" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marcus Klaas <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/trouble.20with.20function.20as.20set.html#150700597">(Dec 01 2018 at 23:13)</a>:</h4>
<p>Refl and Simp tactics don't seem to work, unfortunately</p>



<a name="150700700"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/trouble%20with%20function%20as%20set/near/150700700" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/trouble.20with.20function.20as.20set.html#150700700">(Dec 01 2018 at 23:17)</a>:</h4>
<p>Did you try <code>rfl</code>?</p>



<a name="150700743"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/trouble%20with%20function%20as%20set/near/150700743" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marcus Klaas <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/trouble.20with.20function.20as.20set.html#150700743">(Dec 01 2018 at 23:18)</a>:</h4>
<p>I don't think so. I will do it now.</p>



<a name="150700744"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/trouble%20with%20function%20as%20set/near/150700744" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/trouble.20with.20function.20as.20set.html#150700744">(Dec 01 2018 at 23:18)</a>:</h4>
<p><code>refl</code> works for any reflexive relation, and I guess the elaborator looks for a proof that <code>∈</code> is reflexive. <code>rfl</code> is only for equality.</p>



<a name="150700750"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/trouble%20with%20function%20as%20set/near/150700750" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marcus Klaas <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/trouble.20with.20function.20as.20set.html#150700750">(Dec 01 2018 at 23:19)</a>:</h4>
<p>omg that worked. Thanks for the elaboration too. Very useful to know!!</p>



<a name="150701125"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/trouble%20with%20function%20as%20set/near/150701125" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/trouble.20with.20function.20as.20set.html#150701125">(Dec 01 2018 at 23:31)</a>:</h4>
<p>PS</p>
<blockquote>
<p>Hi! Is this a proper channel for asking (elementary) questions?</p>
</blockquote>
<p>Here is fine, although most of the elementary questions get asked in <a class="stream" data-stream-id="113489" href="/#narrow/stream/113489-new-members">#new members</a> . There are no hard and fast rules though.</p>



<a name="150701289"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/trouble%20with%20function%20as%20set/near/150701289" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marcus Klaas <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/trouble.20with.20function.20as.20set.html#150701289">(Dec 01 2018 at 23:36)</a>:</h4>
<p>Cool, thanks</p>



<a name="150701337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/trouble%20with%20function%20as%20set/near/150701337" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marcus Klaas <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/trouble.20with.20function.20as.20set.html#150701337">(Dec 01 2018 at 23:38)</a>:</h4>
<p>In that case, I have another trivial follow up ;-) How does one go from a hypothesis in this form</p>
<div class="codehilite"><pre><span></span><span class="n">x</span> <span class="err">∈</span><span class="o">{</span> <span class="n">y</span> <span class="bp">|</span> <span class="n">P</span> <span class="n">y</span> <span class="o">}</span>
</pre></div>


<p>to</p>
<div class="codehilite"><pre><span></span><span class="n">P</span> <span class="n">x</span>
</pre></div>


<p>?</p>



<a name="150701352"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/trouble%20with%20function%20as%20set/near/150701352" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/trouble.20with.20function.20as.20set.html#150701352">(Dec 01 2018 at 23:39)</a>:</h4>
<p>Again isn't that <code>rfl</code>?</p>



<a name="150701400"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/trouble%20with%20function%20as%20set/near/150701400" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/trouble.20with.20function.20as.20set.html#150701400">(Dec 01 2018 at 23:40)</a>:</h4>
<p><code>rw set.mem_set_of_eq</code> also works. That lemma does not have a good name.</p>



<a name="150701402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/trouble%20with%20function%20as%20set/near/150701402" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marcus Klaas <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/trouble.20with.20function.20as.20set.html#150701402">(Dec 01 2018 at 23:40)</a>:</h4>
<p>but you can't use that when it's a hypothesis, right?</p>



<a name="150701405"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/trouble%20with%20function%20as%20set/near/150701405" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/trouble.20with.20function.20as.20set.html#150701405">(Dec 01 2018 at 23:40)</a>:</h4>
<p><code>rw _ at h</code></p>



<a name="150701406"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/trouble%20with%20function%20as%20set/near/150701406" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marcus Klaas <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/trouble.20with.20function.20as.20set.html#150701406">(Dec 01 2018 at 23:40)</a>:</h4>
<p>right - trying now</p>



<a name="150701407"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/trouble%20with%20function%20as%20set/near/150701407" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/trouble.20with.20function.20as.20set.html#150701407">(Dec 01 2018 at 23:40)</a>:</h4>
<p>Are you in tactic mode or term mode?</p>



<a name="150701409"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/trouble%20with%20function%20as%20set/near/150701409" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/trouble.20with.20function.20as.20set.html#150701409">(Dec 01 2018 at 23:40)</a>:</h4>
<p>if <code>h</code> is your hypothesis.</p>



<a name="150701412"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/trouble%20with%20function%20as%20set/near/150701412" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marcus Klaas <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/trouble.20with.20function.20as.20set.html#150701412">(Dec 01 2018 at 23:41)</a>:</h4>
<p>tactic mode</p>



<a name="150701420"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/trouble%20with%20function%20as%20set/near/150701420" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/trouble.20with.20function.20as.20set.html#150701420">(Dec 01 2018 at 23:41)</a>:</h4>
<p>you can just change it</p>



<a name="150701422"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/trouble%20with%20function%20as%20set/near/150701422" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/trouble.20with.20function.20as.20set.html#150701422">(Dec 01 2018 at 23:41)</a>:</h4>
<p>or pretend that it's already in that form</p>



<a name="150701424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/trouble%20with%20function%20as%20set/near/150701424" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/trouble.20with.20function.20as.20set.html#150701424">(Dec 01 2018 at 23:41)</a>:</h4>
<p>depending on what you're trying to do</p>



<a name="150701425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/trouble%20with%20function%20as%20set/near/150701425" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/trouble.20with.20function.20as.20set.html#150701425">(Dec 01 2018 at 23:41)</a>:</h4>
<p>You could do <code>change P x at h</code> as well</p>



<a name="150701431"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/trouble%20with%20function%20as%20set/near/150701431" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marcus Klaas <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/trouble.20with.20function.20as.20set.html#150701431">(Dec 01 2018 at 23:41)</a>:</h4>
<p>oooh, that's useful<br>
thanks folks!</p>



<a name="150701435"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/trouble%20with%20function%20as%20set/near/150701435" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/trouble.20with.20function.20as.20set.html#150701435">(Dec 01 2018 at 23:41)</a>:</h4>
<p>Because the two terms are definitionally equal you might not even need to change it</p>



<a name="150701602"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/trouble%20with%20function%20as%20set/near/150701602" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marcus Klaas <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/trouble.20with.20function.20as.20set.html#150701602">(Dec 01 2018 at 23:46)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> my proposition is an equality in this case. i need it for a rewrite. doesnt seem to work without an explicit change</p>



<a name="150701605"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/trouble%20with%20function%20as%20set/near/150701605" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marcus Klaas <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/trouble.20with.20function.20as.20set.html#150701605">(Dec 01 2018 at 23:46)</a>:</h4>
<p>with the change, it does! :-)</p>



<a name="150701611"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/trouble%20with%20function%20as%20set/near/150701611" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/trouble.20with.20function.20as.20set.html#150701611">(Dec 01 2018 at 23:47)</a>:</h4>
<p>Post some working code?</p>



<a name="150701615"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/trouble%20with%20function%20as%20set/near/150701615" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/trouble.20with.20function.20as.20set.html#150701615">(Dec 01 2018 at 23:47)</a>:</h4>
<p>But yes, <code>rw</code> needs things to be unravelled explicitly.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>