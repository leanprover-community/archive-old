---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/countable.20types.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html">countable types</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="289810215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/289810215" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#289810215">(Jul 16 2022 at 05:35)</a>:</h4>
<p><span class="user-mention" data-user-id="214703">@Yury G. Kudryashov</span> I'm interested in where you're taking the new <code>countable</code> typeclass and the <code>finite</code> typeclass. I know that there was very recently a huge refactor with <code>set.finite</code>, but I wonder if it would be a good idea to redefine <code>set.finite s</code> as <code>finite ↥s</code> and <code>set.countable s</code> as <code>countable ↥s</code>. Would most likely save us from a lot of API duplication.</p>



<a name="289812289"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/289812289" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#289812289">(Jul 16 2022 at 06:32)</a>:</h4>
<p>And regarding this same topic: your new files on countable types seem to cause trouble when imported at the same time as the file on countable sets. There's name clashes like <code>countable_iff_exists_surjective</code> and <code>set.countable_iff_exists_surjective</code>.</p>



<a name="289812417"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/289812417" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#289812417">(Jul 16 2022 at 06:36)</a>:</h4>
<p>(deleted)</p>



<a name="289813025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/289813025" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#289813025">(Jul 16 2022 at 06:53)</a>:</h4>
<p>Just opened <a href="https://github.com/leanprover-community/mathlib/pull/14515">#14515</a> to adress this</p>



<a name="289819112"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/289819112" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#289819112">(Jul 16 2022 at 09:29)</a>:</h4>
<p>Prepare to be mindblown: We don't say <code>(s : set α).nonempty</code> for <code>s : finset α</code>. Instead, we say <code>s.nonempty</code>.</p>



<a name="289820902"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/289820902" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#289820902">(Jul 16 2022 at 10:17)</a>:</h4>
<p>I have more not-yet-PRd stuff about <code>countable</code> and <code>finite</code>. I'm going to open some PRs later today.</p>



<a name="289835322"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/289835322" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#289835322">(Jul 16 2022 at 16:16)</a>:</h4>
<p>Oh, then I hope my attempts at fleshing out the API don't clash with yours</p>



<a name="289835569"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/289835569" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#289835569">(Jul 16 2022 at 16:22)</a>:</h4>
<p>I'll have a look at your pr once I check in to the hotel (in about 4 hours)</p>



<a name="289838189"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/289838189" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#289838189">(Jul 16 2022 at 17:26)</a>:</h4>
<p>The pr you mentioned above is not about countable. What's the correct number?</p>



<a name="289838287"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/289838287" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#289838287">(Jul 16 2022 at 17:28)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/15415">#15415</a></p>



<a name="289861582"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/289861582" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Diamond <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#289861582">(Jul 17 2022 at 03:32)</a>:</h4>
<p>could be worth adding a proof of <code>countable α ↔ # α ≤ ℵ₀</code> somewhere... though it's also pretty trivial to prove it from <code>countable_iff_nonempty_embedding</code></p>



<a name="290050348"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290050348" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290050348">(Jul 19 2022 at 03:36)</a>:</h4>
<p>Please don't add more facts about <code>countable</code> yet. I have some unpushed stuff that I hope to PR tomorrow or the day after tomorrow.</p>



<a name="290172652"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290172652" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290172652">(Jul 19 2022 at 23:04)</a>:</h4>
<p>Are you planning on refactoring <code>set.countable</code> soon?</p>



<a name="290172788"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290172788" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290172788">(Jul 19 2022 at 23:06)</a>:</h4>
<p>Yes.</p>



<a name="290172859"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290172859" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290172859">(Jul 19 2022 at 23:07)</a>:</h4>
<p>See <a href="https://github.com/leanprover-community/mathlib/tree/YK-countable-set">branch#YK-countable-set</a></p>



<a name="290179368"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290179368" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290179368">(Jul 20 2022 at 00:47)</a>:</h4>
<p>What should be the instance priorities for:</p>
<ul>
<li><code>encodable X -&gt; countable X</code>;</li>
<li><code>subtype.countable</code>;</li>
<li><code>quotient.countable</code>?</li>
</ul>



<a name="290179423"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290179423" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290179423">(Jul 20 2022 at 00:48)</a>:</h4>
<p>We also have instances with default (1000) priority for <code>prod.countable</code> etc.</p>



<a name="290181862"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290181862" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290181862">(Jul 20 2022 at 00:54)</a>:</h4>
<p>Why does this matter? Isn't <code>countable</code> a <code>Prop</code>?</p>



<a name="290181941"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290181941" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290181941">(Jul 20 2022 at 00:56)</a>:</h4>
<p>Is there any reason to move away from the general rule? namely:</p>
<ul>
<li>100</li>
<li>1000</li>
<li>1000</li>
</ul>



<a name="290182226"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290182226" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290182226">(Jul 20 2022 at 01:01)</a>:</h4>
<p><span class="user-mention" data-user-id="459227">@Violeta Hernández</span> It affects typeclass search speed.</p>



<a name="290182323"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290182323" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290182323">(Jul 20 2022 at 01:02)</a>:</h4>
<p><span class="user-mention" data-user-id="387244">@Yaël Dillies</span> I think that we should use something smaller than <code>1000</code> for <code>subtype</code> and <code>quotient</code> instances so that instances for specific subtypes and quotients get higher priority.</p>



<a name="290182379"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290182379" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290182379">(Jul 20 2022 at 01:03)</a>:</h4>
<p>Will there be that many instances of <code>countable</code>?</p>



<a name="290182383"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290182383" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290182383">(Jul 20 2022 at 01:03)</a>:</h4>
<p>I don't know.</p>



<a name="290182395"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290182395" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290182395">(Jul 20 2022 at 01:03)</a>:</h4>
<p>I doubt this is all that important.</p>



<a name="290182447"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290182447" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290182447">(Jul 20 2022 at 01:04)</a>:</h4>
<p>In case of <code>finite</code> (IMHO, we should have the same priorities), we'll definitely have instances for some specific sets.</p>



<a name="290182460"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290182460" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290182460">(Jul 20 2022 at 01:04)</a>:</h4>
<p>E.g., the index set of <code>some</code> basis.</p>



<a name="290182466"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290182466" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290182466">(Jul 20 2022 at 01:04)</a>:</h4>
<p>(in a finite dimensional space)</p>



<a name="290182509"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290182509" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290182509">(Jul 20 2022 at 01:05)</a>:</h4>
<p>Also, aren't specific subtypes and quotients often being declared as type synonyms? If so, <code>subtype.countable</code> and <code>quotient.countable</code> won't even apply to them.</p>



<a name="290182567"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290182567" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290182567">(Jul 20 2022 at 01:06)</a>:</h4>
<p>Some of them are declared as <code>set</code>s.</p>



<a name="290183977"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290183977" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290183977">(Jul 20 2022 at 01:12)</a>:</h4>
<p>I don't think we even have that many concrete subtypes or quotients</p>



<a name="290183982"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290183982" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290183982">(Jul 20 2022 at 01:12)</a>:</h4>
<p>Much less countable ones</p>



<a name="290184063"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290184063" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290184063">(Jul 20 2022 at 01:14)</a>:</h4>
<p>I can think of <code>pnat</code>and <code>fin</code></p>



<a name="290184133"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290184133" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290184133">(Jul 20 2022 at 01:16)</a>:</h4>
<p><code>pnat</code> and <code>fin</code> aren't subtypes from the typeclass search point of view.</p>



<a name="290185118"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290185118" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290185118">(Jul 20 2022 at 01:38)</a>:</h4>
<p>So that's zero examples</p>



<a name="290185709"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290185709" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290185709">(Jul 20 2022 at 01:51)</a>:</h4>
<p>For finite, we have instances for set operations (in particular, an instance for each set of the form <code>{a, b, c, d}</code>) and instances for some sets like "the index set of an unspecified finite basis in a finite dimensional space".</p>



<a name="290185725"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290185725" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290185725">(Jul 20 2022 at 01:51)</a>:</h4>
<p>(probably, the latter is a <code>noncomputable ... : fintype ...</code> now)</p>



<a name="290185841"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290185841" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290185841">(Jul 20 2022 at 01:54)</a>:</h4>
<p>These would all be <code>finite</code> as well, right? How are those priorities set up?</p>



<a name="290185931"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290185931" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290185931">(Jul 20 2022 at 01:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="459227">Violeta Hernández</span> <a href="#narrow/stream/113488-general/topic/countable.20types/near/290183977">said</a>:</p>
<blockquote>
<p>I don't think we even have that many concrete subtypes or quotients</p>
</blockquote>
<p>Subtypes do appear. I invite you to search for <code>//</code> in <a href="https://leanprover-community.github.io/mathlib_docs/data/fintype/basic.html">https://leanprover-community.github.io/mathlib_docs/data/fintype/basic.html</a></p>



<a name="290186023"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290186023" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290186023">(Jul 20 2022 at 01:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="459227">Violeta Hernández</span> <a href="#narrow/stream/113488-general/topic/countable.20types/near/290185841">said</a>:</p>
<blockquote>
<p>These would all be <code>finite</code> as well, right? How are those priorities set up?</p>
</blockquote>
<p>So far we have a priority 900 instance for <code>fintype -&gt; finite</code> since <code>finite</code> instances should be faster to synthesize in general. <a href="https://github.com/leanprover-community/mathlib/blob/2220b0cbab795e73674b8191170b0cc68c6b54a8/src/data/finite/basic.lean#L50">https://github.com/leanprover-community/mathlib/blob/2220b0cbab795e73674b8191170b0cc68c6b54a8/src/data/finite/basic.lean#L50</a></p>



<a name="290186125"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290186125" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290186125">(Jul 20 2022 at 02:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="214703">Yury G. Kudryashov</span> <a href="#narrow/stream/113488-general/topic/countable.20types/near/290182323">said</a>:</p>
<blockquote>
<p>I think that we should use something smaller than <code>1000</code> for <code>subtype</code> and <code>quotient</code> instances so that instances for specific subtypes and quotients get higher priority.</p>
</blockquote>
<p>Won't specific subtypes and quotients have instances that are defined after <code>subtype.countable</code> and <code>quotient.countable</code>? (As in, they'll be in modules that import the instances from the module where these are defined?) Can we rely on typeclass inference trying later instances of the same priority first?</p>



<a name="290186238"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290186238" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290186238">(Jul 20 2022 at 02:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="214703">Yury G. Kudryashov</span> <a href="#narrow/stream/113488-general/topic/countable.20types/near/290185725">said</a>:</p>
<blockquote>
<p>(probably, the latter is a <code>noncomputable ... : fintype ...</code> now)</p>
</blockquote>
<p>(Just wanted to mention that what I'd like to see is that all these <code>noncomputable</code> instances become <code>finite</code> instances. I haven't seriously dug in to see how feasible this is -- have you had a chance to?)</p>



<a name="290186246"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290186246" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290186246">(Jul 20 2022 at 02:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="306601">Kyle Miller</span> <a href="#narrow/stream/113488-general/topic/countable.20types/near/290185931">said</a>:</p>
<blockquote>
<p>Subtypes do appear. I invite you to search for <code>//</code> in <a href="https://leanprover-community.github.io/mathlib_docs/data/fintype/basic.html">https://leanprover-community.github.io/mathlib_docs/data/fintype/basic.html</a></p>
</blockquote>
<p>I meant concrete as in specific named types that were defined in terms of a subtype. But judging from Yury's later comments, I think I might have misunderstood what sorts of types we were considering here.</p>



<a name="290186405"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290186405" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290186405">(Jul 20 2022 at 02:06)</a>:</h4>
<p>Yes, we're specifically interested in unnamed subtypes here?</p>



<a name="290186408"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290186408" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290186408">(Jul 20 2022 at 02:06)</a>:</h4>
<p><span class="user-mention" data-user-id="306601">@Kyle Miller</span> Sometimes these <code>noncomputable ... fintype</code> instances are used for <code>fintype.sum</code>.</p>



<a name="290186425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290186425" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290186425">(Jul 20 2022 at 02:07)</a>:</h4>
<p>We're interested in definitions <code>def lalala : set X := _</code></p>



<a name="290186434"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290186434" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290186434">(Jul 20 2022 at 02:07)</a>:</h4>
<p>With instances on <code>(lalala : Type*)</code></p>



<a name="290186487"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290186487" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290186487">(Jul 20 2022 at 02:08)</a>:</h4>
<p>Yes, we already override Prop versions by noncomputable Type versions when there's no hope of getting a computable one. This mostly happens for <code>nonempty</code> and <code>inhabited</code>.</p>



<a name="290186511"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290186511" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290186511">(Jul 20 2022 at 02:09)</a>:</h4>
<p>So, no, we should not get rid of the noncomputable fintype instances.</p>



<a name="290186578"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290186578" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290186578">(Jul 20 2022 at 02:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="214703">Yury G. Kudryashov</span> <a href="#narrow/stream/113488-general/topic/countable.20types/near/290186408">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="306601">Kyle Miller</span> Sometimes these <code>noncomputable ... fintype</code> instances are used for <code>fintype.sum</code>.</p>
</blockquote>
<p>Then maybe we should have a <code>finite.sum</code> to match?</p>



<a name="290186657"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290186657" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290186657">(Jul 20 2022 at 02:12)</a>:</h4>
<p>I'd like to see a way to get <code>fintype</code> instances from <code>finite</code> instances in a classical context. I believe this should be possible in Lean 4 due to its improved handling of typeclass search loops, but I'm not completely sure.</p>



<a name="290186682"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290186682" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290186682">(Jul 20 2022 at 02:12)</a>:</h4>
<p>This already exists: <a href="https://leanprover-community.github.io/mathlib_docs/find/fintype.of_finite">docs#fintype.of_finite</a></p>



<a name="290186701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290186701" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290186701">(Jul 20 2022 at 02:13)</a>:</h4>
<p>I'm aware of that function -- I mean automatically when you do <code>classical</code> or <code>open_locale classical</code>.</p>



<a name="290186708"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290186708" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290186708">(Jul 20 2022 at 02:13)</a>:</h4>
<p>I'm not sure what you find harmful about having noncomputable instances when no computable one can exist.</p>



<a name="290186886"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290186886" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290186886">(Jul 20 2022 at 02:18)</a>:</h4>
<p>If you're in a <code>noncomputable theory</code>, then that's fine I think, but having any noncomputable <code>fintype</code> instances means you can't rely on it for computability. I think of it as being like that <code>computable</code> class I proposed before but specialized for <code>finite</code>.</p>



<a name="290186958"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290186958" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290186958">(Jul 20 2022 at 02:19)</a>:</h4>
<p><code>inhabited</code> and <code>nonempty</code> share a similar relation (by the way, is there a reason we use an <code>inhabited</code> linter rather than a <code>nonempty</code> linter?)</p>



<a name="290187000"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290187000" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290187000">(Jul 20 2022 at 02:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="459227">Violeta Hernández</span> <a href="#narrow/stream/113488-general/topic/countable.20types/near/290186578">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="214703">Yury G. Kudryashov</span> <a href="#narrow/stream/113488-general/topic/countable.20types/near/290186408">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="306601">Kyle Miller</span> Sometimes these <code>noncomputable ... fintype</code> instances are used for <code>fintype.sum</code>.</p>
</blockquote>
<p>Then maybe we should have a <code>finite.sum</code> to match?</p>
</blockquote>
<p>We have <a href="https://leanprover-community.github.io/mathlib_docs/find/finsum">docs#finsum</a></p>



<a name="290187654"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290187654" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290187654">(Jul 20 2022 at 02:34)</a>:</h4>
<p><span class="user-mention silent" data-user-id="306601">Kyle Miller</span> <a href="#narrow/stream/113488-general/topic/countable.20types/near/290186958">said</a>:</p>
<blockquote>
<p><code>inhabited</code> and <code>nonempty</code> share a similar relation (by the way, is there a reason we use an <code>inhabited</code> linter rather than a <code>nonempty</code> linter?)</p>
</blockquote>
<p>Notice that some types are inhabited by 37, for example: <a href="https://leanprover-community.github.io/mathlib_docs/find/polynomial.splitting_field.inhabited">docs#polynomial.splitting_field.inhabited</a></p>



<a name="290187923"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290187923" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290187923">(Jul 20 2022 at 02:41)</a>:</h4>
<p>(I guess let's see what happens with a <code>has_nonempty_instance</code> linter: <a href="https://github.com/leanprover-community/mathlib/pull/15542">#15542</a>)</p>



<a name="290189271"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290189271" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Diamond <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290189271">(Jul 20 2022 at 03:12)</a>:</h4>
<p>just curious, what's the significance of 37? just a running joke?</p>



<a name="290189527"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290189527" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290189527">(Jul 20 2022 at 03:19)</a>:</h4>
<p>It's apparently the most random integer from 1 to 100.</p>



<a name="290189593"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290189593" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Diamond <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290189593">(Jul 20 2022 at 03:21)</a>:</h4>
<p>ah ha... alright then</p>



<a name="290189649"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290189649" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290189649">(Jul 20 2022 at 03:22)</a>:</h4>
<p>Huh, there's a website full of 37 factoids: <a href="http://magliery.com/37/index.html">http://magliery.com/37/index.html</a></p>



<a name="290190204"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/countable%20types/near/290190204" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Diamond <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/countable.20types.html#290190204">(Jul 20 2022 at 03:36)</a>:</h4>
<p>and of course there's <a href="https://en.wikipedia.org/wiki/37_(number)">https://en.wikipedia.org/wiki/37_(number)</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>