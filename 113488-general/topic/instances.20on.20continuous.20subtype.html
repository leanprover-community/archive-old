---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/instances.20on.20continuous.20subtype.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/instances.20on.20continuous.20subtype.html">instances on continuous subtype</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="243272083"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/instances%20on%20continuous%20subtype/near/243272083" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/instances.20on.20continuous.20subtype.html#243272083">(Jun 19 2021 at 22:26)</a>:</h4>
<p>In <a href="https://github.com/leanprover-community/mathlib/issues/8004">#8004</a>, <span class="user-mention" data-user-id="260507">@Heather Macbeth</span> suggested to remove the <code>monoid</code>, <code>group</code>, and <code>ring</code> instances on <code>{ f : α → β | continuous f }</code>. The idea is that the corresponding instances on <code>continuous_map α β</code> should be used instead. But we would keep the fact that <code>{ f : α → β | continuous f }</code> is a sub[monoid, group, ring] of <code>α → β</code>, because this can't be expressed with the bundled <code>continuous_map</code>. Is there a good reason to keep them ?</p>
<p>(cc <span class="user-mention" data-user-id="110087">@Scott Morrison</span> <span class="user-mention" data-user-id="267205">@Nicolò Cavalleri</span> )</p>



<a name="243272281"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/instances%20on%20continuous%20subtype/near/243272281" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/instances.20on.20continuous.20subtype.html#243272281">(Jun 19 2021 at 22:30)</a>:</h4>
<p>I can't help feeling those instances have a typo and should be spelt with <code>//</code> not <code>|</code></p>



<a name="243272285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/instances%20on%20continuous%20subtype/near/243272285" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/instances.20on.20continuous.20subtype.html#243272285">(Jun 19 2021 at 22:30)</a>:</h4>
<p>Because the current spelling just introduced an annoying <code>coe_sort ∘ set_of</code></p>



<a name="243272364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/instances%20on%20continuous%20subtype/near/243272364" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/instances.20on.20continuous.20subtype.html#243272364">(Jun 19 2021 at 22:32)</a>:</h4>
<p>I'm increasingly becoming of the opinion that it would actually be easier to handle bundled homs if <code>add_monoid_hom</code> were defeq to <code>subtype is_add_monoid_hom</code> because then you can reuse all sorts of results about subtypes, and  you can then prove things like <code>(unit →* unit) = (unit →+ unit)</code>!</p>



<a name="243272367"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/instances%20on%20continuous%20subtype/near/243272367" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/instances.20on.20continuous.20subtype.html#243272367">(Jun 19 2021 at 22:32)</a>:</h4>
<p>I think the idea is that you need a set if you want to say <code>is_subgroup</code>, so it makes sense to state everything in term of the set</p>



<a name="243272421"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/instances%20on%20continuous%20subtype/near/243272421" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/instances.20on.20continuous.20subtype.html#243272421">(Jun 19 2021 at 22:34)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113488-general/topic/instances.20on.20continuous.20subtype/near/243272364">said</a>:</p>
<blockquote>
<p>I'm increasingly becoming of the opinion that it would actually be easier to handle bundled homs if <code>add_monoid_hom</code> were defeq to <code>subtype is_add_monoid_hom</code> because then you can reuse all sorts of results about subtypes.</p>
</blockquote>
<p>All of those <code>is_...</code> are deprecated anyway. The original goal of the PR was to remove them from this file</p>



<a name="243272449"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/instances%20on%20continuous%20subtype/near/243272449" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/instances.20on.20continuous.20subtype.html#243272449">(Jun 19 2021 at 22:35)</a>:</h4>
<p>I'm referring to a hypothetical non-class <code>is_add_monoid_hom</code> not the one that already exists</p>



<a name="243272505"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/instances%20on%20continuous%20subtype/near/243272505" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/instances.20on.20continuous.20subtype.html#243272505">(Jun 19 2021 at 22:36)</a>:</h4>
<p>Oh okay, I see what you mean now. I'm not experimented enough to have an opinion on that, but I get your point.</p>



<a name="243272527"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/instances%20on%20continuous%20subtype/near/243272527" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/instances.20on.20continuous.20subtype.html#243272527">(Jun 19 2021 at 22:37)</a>:</h4>
<p>On the other hand "this vestigial code bears a resemblance to a large refactor that <em>might</em> be a good idea" isn't a particularly good argument to keep it around</p>



<a name="243272761"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/instances%20on%20continuous%20subtype/near/243272761" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/instances.20on.20continuous.20subtype.html#243272761">(Jun 19 2021 at 22:43)</a>:</h4>
<p>Perhaps try making a follow-up PR to remove them all and see what if anything breaks?</p>



<a name="243273652"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/instances%20on%20continuous%20subtype/near/243273652" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/instances.20on.20continuous.20subtype.html#243273652">(Jun 19 2021 at 23:07)</a>:</h4>
<p>The refactor in question is analogous to the one I'm attempting in <a href="https://github.com/leanprover-community/mathlib/issues/7834">#7834</a> (except not for <code>continuous</code> but <code>measurable</code>), while the instances you're proposing be removed are analogous to the ones I'm proposing be added in <a href="https://github.com/leanprover-community/mathlib/issues/7833">#7833</a></p>



<a name="243275401"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/instances%20on%20continuous%20subtype/near/243275401" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/instances.20on.20continuous.20subtype.html#243275401">(Jun 19 2021 at 23:50)</a>:</h4>
<p>Wait I'm not sure to understand anymore <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span> I thought you were talking about removing the unbundled and already deprecated algebraic typeclasses <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span> <br>
Also, the idea is to remove them because they already exist for bundled <code>continuous_map</code>s, which are supposed to be used instead of <code>subtype continuous</code>, so your work on <code>subtype</code>s would only apply if we decided to switch back to <code>subtype continuous</code> &gt; <code>continuous_map</code>.</p>
<p>I'm sorry if I'm misunderstanding something, which is possible since I'm not a native english speaker <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="243277328"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/instances%20on%20continuous%20subtype/near/243277328" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/instances.20on.20continuous.20subtype.html#243277328">(Jun 20 2021 at 00:37)</a>:</h4>
<p>Re: the original question --- I'm in favor of removing the instances. I think they predate meaningful development/usage of <code>continuous_map</code>.</p>



<a name="243277600"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/instances%20on%20continuous%20subtype/near/243277600" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/instances.20on.20continuous.20subtype.html#243277600">(Jun 20 2021 at 00:44)</a>:</h4>
<p>I am also in favor of removing them: I was proposing to tag them as deprecated in PR <a href="https://github.com/leanprover-community/mathlib/issues/7844">#7844</a>, but then people did not want to do that because it had nothing to do with the rest of the PR</p>



<a name="243277682"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/instances%20on%20continuous%20subtype/near/243277682" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/instances.20on.20continuous.20subtype.html#243277682">(Jun 20 2021 at 00:46)</a>:</h4>
<p>I think Scott was thinking it was better to remove them one year ago but at the time <code>continuous_map</code> was just born and part of the library that is now written in terms of <code>continuous_map</code> was written with the subtype, so it was too early to do that if I recall correctly</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>