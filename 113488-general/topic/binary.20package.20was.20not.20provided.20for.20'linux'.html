---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html">binary package was not provided for 'linux'</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="298391364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/298391364" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#298391364">(Sep 12 2022 at 14:22)</a>:</h4>
<p>I've just had a few CI runs fail due to this elan error:</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>$ curl https://raw.githubusercontent.com/leanprover/elan/master/elan-init.sh -sSf <span class="p">|</span> sh -s -- --default-toolchain none -y
$ <span class="nb">source</span> ~/.elan/env
$ lean +leanprover/lean4:nightly-2022-09-12
info: downloading component <span class="s1">'lean'</span>
error: binary package was not provided <span class="k">for</span> <span class="s1">'linux'</span>
</code></pre></div>
<p>Has anybody else run into this error as well?</p>



<a name="298397191"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/298397191" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jannis Limperg <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#298397191">(Sep 12 2022 at 14:53)</a>:</h4>
<p>A student of mine also had this issue earlier, but with Windows and manual <code>lake build</code>. Both nightly-2022-09-11 and nightly-2022-09-07 (I think).</p>



<a name="298398256"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/298398256" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#298398256">(Sep 12 2022 at 14:59)</a>:</h4>
<p>I'm also getting 500 errors on github itself, so maybe this is just a general outage.</p>



<a name="298410903"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/298410903" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#298410903">(Sep 12 2022 at 15:57)</a>:</h4>
<p>Mmmh, this is strange.  I'm still getting the errors, but Lean 3 releases seem to be completely unaffected.</p>



<a name="298416524"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/298416524" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> John Burnham <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#298416524">(Sep 12 2022 at 16:26)</a>:</h4>
<p>I've run into the same issue for recent nightly:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">λ</span> <span class="n">elan</span> <span class="n">update</span>
<span class="n">info</span><span class="o">:</span> <span class="n">syncing</span> <span class="n">channel</span> <span class="n">updates</span> <span class="n">for</span> <span class="bp">'</span><span class="n">nightly'</span>
<span class="n">info</span><span class="o">:</span> <span class="n">latest</span> <span class="n">update</span> <span class="n">on</span> <span class="n">nightly</span><span class="o">,</span> <span class="n">lean</span> <span class="n">version</span> <span class="n">nightly</span><span class="bp">-</span><span class="mi">2022</span><span class="bp">-</span><span class="mi">09</span><span class="bp">-</span><span class="mi">12</span>
<span class="n">info</span><span class="o">:</span> <span class="n">downloading</span> <span class="n">component</span> <span class="bp">'</span><span class="n">lean'</span>
<span class="n">error</span><span class="o">:</span> <span class="n">binary</span> <span class="n">package</span> <span class="n">was</span> <span class="n">not</span> <span class="n">provided</span> <span class="n">for</span> <span class="bp">'</span><span class="n">linux'</span>
<span class="n">info</span><span class="o">:</span> <span class="n">syncing</span> <span class="n">channel</span> <span class="n">updates</span> <span class="n">for</span> <span class="bp">'</span><span class="n">stable'</span>
<span class="n">info</span><span class="o">:</span> <span class="n">latest</span> <span class="n">update</span> <span class="n">on</span> <span class="n">stable</span><span class="o">,</span> <span class="n">lean</span> <span class="n">version</span> <span class="n">v4.0.0</span><span class="bp">-</span><span class="n">m5</span>
<span class="n">info</span><span class="o">:</span> <span class="n">syncing</span> <span class="n">channel</span> <span class="n">updates</span> <span class="n">for</span> <span class="bp">'</span><span class="n">nightly'</span>
<span class="n">info</span><span class="o">:</span> <span class="n">latest</span> <span class="n">update</span> <span class="n">on</span> <span class="n">nightly</span><span class="o">,</span> <span class="n">lean</span> <span class="n">version</span> <span class="n">nightly</span><span class="bp">-</span><span class="mi">2020</span><span class="bp">-</span><span class="mi">01</span><span class="bp">-</span><span class="mi">15</span>
<span class="n">info</span><span class="o">:</span> <span class="n">syncing</span> <span class="n">channel</span> <span class="n">updates</span> <span class="n">for</span> <span class="bp">'</span><span class="n">stable'</span>
<span class="n">info</span><span class="o">:</span> <span class="n">latest</span> <span class="n">update</span> <span class="n">on</span> <span class="n">stable</span><span class="o">,</span> <span class="n">lean</span> <span class="n">version</span> <span class="n">v3.4.2</span>

  <span class="n">leanprover</span><span class="bp">/</span><span class="n">lean4</span><span class="o">:</span><span class="n">nightly</span> <span class="n">update</span> <span class="n">failed</span> <span class="bp">-</span> <span class="n">Lean</span> <span class="o">(</span><span class="n">version</span> <span class="mi">4</span><span class="bp">.</span><span class="mi">0</span><span class="bp">.</span><span class="mi">0</span><span class="bp">-</span><span class="n">nightly</span><span class="bp">-</span><span class="mi">2022</span><span class="bp">-</span><span class="mi">09</span><span class="bp">-</span><span class="mi">11</span><span class="o">,</span> <span class="n">commit</span> <span class="mi">1749210</span><span class="n">a4b39</span><span class="o">,</span> <span class="n">Release</span><span class="o">)</span>
       <span class="n">leanprover</span><span class="bp">/</span><span class="n">lean4</span><span class="o">:</span><span class="n">stable</span> <span class="n">unchanged</span> <span class="bp">-</span> <span class="n">Lean</span> <span class="o">(</span><span class="n">version</span> <span class="mi">4</span><span class="bp">.</span><span class="mi">0</span><span class="bp">.</span><span class="mi">0</span><span class="o">,</span> <span class="n">commit</span> <span class="mi">7</span><span class="n">dbfaf9b7519</span><span class="o">,</span> <span class="n">Release</span><span class="o">)</span>
       <span class="n">leanprover</span><span class="bp">/</span><span class="n">lean</span><span class="o">:</span><span class="n">nightly</span> <span class="n">unchanged</span> <span class="bp">-</span> <span class="n">Lean</span> <span class="o">(</span><span class="n">version</span> <span class="mi">3</span><span class="bp">.</span><span class="mi">4</span><span class="bp">.</span><span class="mi">2</span><span class="o">,</span> <span class="n">nightly</span><span class="bp">-</span><span class="mi">2020</span><span class="bp">-</span><span class="mi">01</span><span class="bp">-</span><span class="mi">15</span><span class="o">,</span> <span class="n">commit</span> <span class="mi">72</span><span class="n">a965986fa5</span><span class="o">,</span> <span class="n">Release</span><span class="o">)</span>
        <span class="n">leanprover</span><span class="bp">/</span><span class="n">lean</span><span class="o">:</span><span class="n">stable</span> <span class="n">unchanged</span> <span class="bp">-</span> <span class="n">Lean</span> <span class="o">(</span><span class="n">version</span> <span class="mi">3</span><span class="bp">.</span><span class="mi">4</span><span class="bp">.</span><span class="mi">2</span><span class="o">,</span> <span class="n">commit</span> <span class="n">cbd2b6686ddb</span><span class="o">,</span> <span class="n">Release</span><span class="o">)</span>
</code></pre></div>



<a name="298417976"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/298417976" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> John Burnham <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#298417976">(Sep 12 2022 at 16:33)</a>:</h4>
<p>I think it's a github outage based on twitter and <a href="https://downdetector.com/status/github/">https://downdetector.com/status/github/</a> reports, but what's strange is that I can manually download from <a href="https://github.com/leanprover/lean4-nightly/releases/tag/nightly-2022-09-12">https://github.com/leanprover/lean4-nightly/releases/tag/nightly-2022-09-12</a></p>



<a name="298418148"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/298418148" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#298418148">(Sep 12 2022 at 16:34)</a>:</h4>
<p>cc <span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span> In case you haven't seen it already.</p>



<a name="298418429"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/298418429" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#298418429">(Sep 12 2022 at 16:36)</a>:</h4>
<p>My hopes are on "outage". Wouldn't be the first time.</p>



<a name="298423362"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/298423362" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#298423362">(Sep 12 2022 at 17:01)</a>:</h4>
<p>I don't think this is an outage issue. The GitHub page now seems to load the asset list lazily (grep <a href="https://github.com/leanprover/lean4-nightly/releases/tag/nightly-2022-09-08">https://github.com/leanprover/lean4-nightly/releases/tag/nightly-2022-09-08</a> 's source for <a href="https://github.com/leanprover/lean4-nightly/releases/expanded_assets/nightly-2022-09-08">https://github.com/leanprover/lean4-nightly/releases/expanded_assets/nightly-2022-09-08</a> to see what I mean). Perhaps this only happens after a certain number of assets?</p>



<a name="298423618"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/298423618" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#298423618">(Sep 12 2022 at 17:02)</a>:</h4>
<p>Can you check <a href="https://github.com/leanprover-community/lean/releases">https://github.com/leanprover-community/lean/releases</a>?  Is it loaded non-lazily?</p>



<a name="298424134"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/298424134" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#298424134">(Sep 12 2022 at 17:05)</a>:</h4>
<p>Yes, if you wget the lean 3 releases page you can see the tarball URLs, but <a href="https://github.com/leanprover/lean4-nightly/releases">https://github.com/leanprover/lean4-nightly/releases</a> only has a bunch of <code>https://github.com/leanprover/lean4-nightly/releases/expanded_assets</code>-starting links</p>



<a name="298424285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/298424285" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#298424285">(Sep 12 2022 at 17:06)</a>:</h4>
<p>You can even see this in-browser: One asset list is collapsed by default while the other is not.</p>
<p>Edit: Never mind, the interface change is not a good indicator. Old Lean 3 releases have collapsed assets which are not lazy-loaded. But the Lean 4 assets all seem to be lazily loaded.</p>



<a name="298425734"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/298425734" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#298425734">(Sep 12 2022 at 17:14)</a>:</h4>
<p>Uh oh.</p>



<a name="298428301"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/298428301" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#298428301">(Sep 12 2022 at 17:29)</a>:</h4>
<p><a href="https://github.com/leanprover/elan/pull/83">https://github.com/leanprover/elan/pull/83</a></p>



<a name="298433508"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/298433508" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Lovett <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#298433508">(Sep 12 2022 at 17:58)</a>:</h4>
<p>Time to create a Lean version of <code>elan</code> using gh CLI ?</p>
<ul>
<li>gh release list -R <a href="https://github.com/leanprover/lean4-nightly/">https://github.com/leanprover/lean4-nightly/</a></li>
<li>gh release download nightly-2022-09-12 -R <a href="https://github.com/leanprover/lean4-nightly/">https://github.com/leanprover/lean4-nightly/</a> -p  *-linux.tar.zst</li>
</ul>



<a name="298581995"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/298581995" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#298581995">(Sep 13 2022 at 13:16)</a>:</h4>
<p>The corresponding PR to nixpkgs was merged 4 hours ago. I just ran <code>nix-channel --update</code> and rebuilt my system. But I'm still stuck with elan 1.4.1. Why is nix letting me down?</p>



<a name="298582995"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/298582995" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#298582995">(Sep 13 2022 at 13:22)</a>:</h4>
<p><a href="https://status.nixos.org/">https://status.nixos.org/</a>  Last nixos-unstable channel update was a day ago.</p>



<a name="298583245"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/298583245" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#298583245">(Sep 13 2022 at 13:23)</a>:</h4>
<p><a href="https://nixpk.gs/pr-tracker.html?pr=191035">https://nixpk.gs/pr-tracker.html?pr=191035</a> is useful too (<a href="https://nixpk.gs/pr-tracker.html?pr=191039">https://nixpk.gs/pr-tracker.html?pr=191039</a> if you're on 22.05)</p>



<a name="298583600"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/298583600" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#298583600">(Sep 13 2022 at 13:25)</a>:</h4>
<p>You can use a bit of mutable state in the meantime:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">nix</span><span class="bp">-</span><span class="n">env</span> <span class="bp">-</span><span class="n">f</span> <span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">github.com</span><span class="bp">/</span><span class="n">nixos</span><span class="bp">/</span><span class="n">nixpkgs</span><span class="bp">/</span><span class="n">archive</span><span class="bp">/</span><span class="n">master.zip</span> <span class="bp">-</span><span class="n">iA</span> <span class="n">elan</span>
</code></pre></div>



<a name="298584323"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/298584323" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#298584323">(Sep 13 2022 at 13:29)</a>:</h4>
<p>That's evil, right?</p>



<a name="298584359"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/298584359" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#298584359">(Sep 13 2022 at 13:29)</a>:</h4>
<p>Can nix tell me about all the mutable state that I've used in the past, so that I can undo it?</p>



<a name="298584570"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/298584570" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#298584570">(Sep 13 2022 at 13:30)</a>:</h4>
<p>You can also do <code>nix-shell -I nixpkgs=https://github.com/nixos/nixpkgs/archive/master.zip -p elan</code> to get a temporary shell with the newest elan. No mutable state, but slightly less convenient.</p>



<a name="298584619"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/298584619" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#298584619">(Sep 13 2022 at 13:31)</a>:</h4>
<p>But vscode will not know about that elan.</p>



<a name="298584631"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/298584631" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#298584631">(Sep 13 2022 at 13:31)</a>:</h4>
<p>Maybe I should just wait for a day.</p>



<a name="298584697"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/298584697" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#298584697">(Sep 13 2022 at 13:31)</a>:</h4>
<p>Can't I instruct <code>nix-channel --update</code> to <em>really</em> give me actual unstable?</p>



<a name="298584709"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/298584709" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#298584709">(Sep 13 2022 at 13:31)</a>:</h4>
<p>You can do <code>nix-env -q</code> to see all of the mutable "overrides".  And then use <code>nix-env -e elan</code> to get rid of it again.</p>



<a name="298729275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/298729275" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#298729275">(Sep 14 2022 at 09:03)</a>:</h4>
<p>/me is very confused</p>



<a name="298729293"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/298729293" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#298729293">(Sep 14 2022 at 09:03)</a>:</h4>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>❯ <span class="nb">cd</span> ../mathlib

mathlib on  refactor-wlog
❯ elan show
installed toolchains
--------------------

leanprover-community/lean:3.35.0
leanprover-community/lean:3.42.0
leanprover-community/lean:3.42.1
leanprover-community/lean:3.44.1
leanprover-community/lean:3.45.0
leanprover-community/lean:3.47.0
leanprover-community/lean:3.48.0
leanprover/lean4:nightly-2022-09-11 <span class="o">(</span>default<span class="o">)</span>
leanprover/lean4:nightly-2022-09-12
leanprover/lean4:nightly-2022-09-13

active toolchain
----------------

leanprover-community/lean:3.48.0 <span class="o">(</span>overridden by <span class="s1">'/home/jmc/repos/mathlib/leanpkg.toml'</span><span class="o">)</span>
Lean <span class="o">(</span>version <span class="m">3</span>.48.0, commit 283f6ed8083a, Release<span class="o">)</span>


mathlib on  refactor-wlog
❯ lean --version
Lean <span class="o">(</span>version <span class="m">3</span>.48.0, commit 283f6ed8083a, Release<span class="o">)</span>

mathlib on  refactor-wlog
❯ <span class="nb">cd</span> ../mathlib4

mathlib4 on  master <span class="o">[</span>?<span class="o">]</span>
❯ elan show
installed toolchains
--------------------

leanprover-community/lean:3.35.0
leanprover-community/lean:3.42.0
leanprover-community/lean:3.42.1
leanprover-community/lean:3.44.1
leanprover-community/lean:3.45.0
leanprover-community/lean:3.47.0
leanprover-community/lean:3.48.0
leanprover/lean4:nightly-2022-09-11 <span class="o">(</span>default<span class="o">)</span>
leanprover/lean4:nightly-2022-09-12
leanprover/lean4:nightly-2022-09-13

active toolchain
----------------

leanprover/lean4:nightly-2022-09-11 <span class="o">(</span>overridden by <span class="s1">'/home/jmc/repos/mathlib4/lean-toolchain'</span><span class="o">)</span>
<span class="o">(</span>error reading lean version<span class="o">)</span>


mathlib4 on  master <span class="o">[</span>?<span class="o">]</span>
❯ lean --version
error: <span class="nb">command</span> failed: <span class="s1">'lean'</span>
info: caused by: No such file or directory <span class="o">(</span>os error <span class="m">2</span><span class="o">)</span>
</code></pre></div>



<a name="298729389"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/298729389" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#298729389">(Sep 14 2022 at 09:04)</a>:</h4>
<p>Any idea where that error can come from?</p>



<a name="298733834"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/298733834" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#298733834">(Sep 14 2022 at 09:35)</a>:</h4>
<p>That's because we use patchelf+makeWrapper to make the lean4 builds work on nixos.  As a result, they depend on the stdenv used in elan.  So if you run the garbage collector, old downloads will stop working.</p>



<a name="298733879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/298733879" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#298733879">(Sep 14 2022 at 09:35)</a>:</h4>
<p>Just run <code>elan uninstall leanprover/lean4:nightly-2022-09-11</code></p>



<a name="298733995"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/298733995" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#298733995">(Sep 14 2022 at 09:36)</a>:</h4>
<p>But it was only downloaded this morning, and I didn't gc after that</p>



<a name="298734518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/298734518" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#298734518">(Sep 14 2022 at 09:39)</a>:</h4>
<p>What does <code>ldd (elan which lean)</code> say?</p>



<a name="299514250"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/299514250" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#299514250">(Sep 19 2022 at 07:22)</a>:</h4>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>❯ ldd <span class="o">(</span>elan which lean<span class="o">)</span>
zsh: missing end of string
</code></pre></div>



<a name="299514383"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/299514383" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#299514383">(Sep 19 2022 at 07:23)</a>:</h4>
<p>I assume it should be <code>ldd $(elan which lean)</code>, i.e. antiquotation.</p>



<a name="299515975"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/299515975" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#299515975">(Sep 19 2022 at 07:38)</a>:</h4>
<p>Aah, makes sense</p>



<a name="299516022"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/299516022" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#299516022">(Sep 19 2022 at 07:38)</a>:</h4>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>❯ ldd <span class="k">$(</span>elan which lean<span class="k">)</span>
        linux-vdso.so.1 <span class="o">(</span>0x00007fff865e6000<span class="o">)</span>
        libleanshared.so <span class="o">=</span>&gt; /home/jmc/.elan/toolchains/leanprover--lean4---nightly-2022-09-15/bin/../lib/lean/libleanshared.so <span class="o">(</span>0x00007fb628911000<span class="o">)</span>
        libdl.so.2 <span class="o">=</span>&gt; /nix/store/q29bwjibv9gi9n86203s38n0577w09sx-glibc-2.33-117/lib/libdl.so.2 <span class="o">(</span>0x00007fb62890c000<span class="o">)</span>
        libpthread.so.0 <span class="o">=</span>&gt; /nix/store/q29bwjibv9gi9n86203s38n0577w09sx-glibc-2.33-117/lib/libpthread.so.0 <span class="o">(</span>0x00007fb6288ec000<span class="o">)</span>
        libc.so.6 <span class="o">=</span>&gt; /nix/store/q29bwjibv9gi9n86203s38n0577w09sx-glibc-2.33-117/lib/libc.so.6 <span class="o">(</span>0x00007fb628717000<span class="o">)</span>
        libm.so.6 <span class="o">=</span>&gt; /nix/store/q29bwjibv9gi9n86203s38n0577w09sx-glibc-2.33-117/lib/libm.so.6 <span class="o">(</span>0x00007fb6285d6000<span class="o">)</span>
        librt.so.1 <span class="o">=</span>&gt; /nix/store/q29bwjibv9gi9n86203s38n0577w09sx-glibc-2.33-117/lib/librt.so.1 <span class="o">(</span>0x00007fb6285c9000<span class="o">)</span>
        /lib64/ld-linux-x86-64.so.2 <span class="o">=</span>&gt; /nix/store/q29bwjibv9gi9n86203s38n0577w09sx-glibc-2.33-117/lib64/ld-linux-x86-64.so.2 <span class="o">(</span>0x00007fb62bb79000<span class="o">)</span>
</code></pre></div>



<a name="299517428"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/299517428" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#299517428">(Sep 19 2022 at 07:50)</a>:</h4>
<p>That's a different nightly (2022-09-15) from before, do both of them fail to execute?</p>



<a name="299517586"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/299517586" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#299517586">(Sep 19 2022 at 07:51)</a>:</h4>
<p>I removed the <code>2022-09-11</code> version. That one is now also broken <span aria-label="sad" class="emoji emoji-2639" role="img" title="sad">:sad:</span></p>



<a name="299517680"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/299517680" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#299517680">(Sep 19 2022 at 07:52)</a>:</h4>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>❯ elan run leanprover/lean4:nightly-2022-09-11 lean --version
error: <span class="nb">command</span> failed: <span class="s1">'lean'</span>
info: caused by: No such file or directory <span class="o">(</span>os error <span class="m">2</span><span class="o">)</span>

❯ elan run leanprover/lean4:nightly-2022-09-12 lean --version
Lean <span class="o">(</span>version <span class="m">4</span>.0.0-nightly-2022-09-12, commit ec2372e8d4ca, Release<span class="o">)</span>
</code></pre></div>



<a name="299599629"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/299599629" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#299599629">(Sep 19 2022 at 16:23)</a>:</h4>
<p>Gitpod is unusable in recent mathlib(3) PRs due to this problem. What else should be done to fix it now that <a href="https://github.com/leanprover/elan/pull/83">https://github.com/leanprover/elan/pull/83</a> has been merged?</p>



<a name="299602860"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/299602860" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#299602860">(Sep 19 2022 at 16:41)</a>:</h4>
<p>A Docker image probably needs to be rebuilt, but in the meantime you can run <code>elan self update</code> inside the Gitpod VS Code terminal</p>



<a name="299603235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/299603235" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#299603235">(Sep 19 2022 at 16:43)</a>:</h4>
<p>(and then click on any error message buttons that showed up when you opened Gitpod, such as <code>Run leanpkg configure</code> and <code>Restart lean</code>)</p>



<a name="299608290"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/299608290" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#299608290">(Sep 19 2022 at 17:10)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span>, are you able to rebuild the docker images? I think only you have permission to publish them</p>



<a name="299636768"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/299636768" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Lovett <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#299636768">(Sep 19 2022 at 20:07)</a>:</h4>
<p>I just tried this gitpod (<a href="https://gitpod.io/#https://github.com/leanprover/lean4-samples">https://gitpod.io/#https://github.com/leanprover/lean4-samples</a>) and it worked fine:<br>
<a href="/user_uploads/3121/o3uEbU4qeR0QLEkbyx5iIzbe/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/o3uEbU4qeR0QLEkbyx5iIzbe/image.png" title="image.png"><img src="/user_uploads/3121/o3uEbU4qeR0QLEkbyx5iIzbe/image.png"></a></div>



<a name="299637568"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/299637568" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#299637568">(Sep 19 2022 at 20:12)</a>:</h4>
<p>I think it's just the lean3 docker containers that are the issue, as they're hosted elsewhere rather than rebuild by gitpod</p>



<a name="300645542"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/300645542" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#300645542">(Sep 25 2022 at 12:38)</a>:</h4>
<p>I use gitpod and I'm also having this problem with my lean3 project. It is unusable now.</p>



<a name="300651496"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/300651496" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#300651496">(Sep 25 2022 at 13:36)</a>:</h4>
<p>See the advice above, <code>elan self update</code> makes it usable again</p>



<a name="300653867"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/300653867" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#300653867">(Sep 25 2022 at 13:59)</a>:</h4>
<p>I tried that. Didn't work. I had installed lean in my gitpod using brew. I tried the curl script to see if there is any difference. I got further, but now I'm getting hundreds of errors of the form "invalid object declaration" and "excessive memory consumption detected".</p>



<a name="300655100"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/300655100" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#300655100">(Sep 25 2022 at 14:09)</a>:</h4>
<p><a href="http://www.gitpodstatus.com">www.gitpodstatus.com</a> says "In eu68 and us68 clusters, we have diagnosed issues that cause git push and loading of dotfiles to fail. We've ceased the traffic shift to eu68 and us68, please stop running workspaces on those clusters, restart your workspaces, and they'll land on eu67 and us67. We're currently investigating the issue, and will provide an update soon."</p>



<a name="300662002"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/binary%20package%20was%20not%20provided%20for%20%27linux%27/near/300662002" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/binary.20package.20was.20not.20provided.20for.20'linux'.html#300662002">(Sep 25 2022 at 15:16)</a>:</h4>
<p>Loading of dotfiles seems to be the problem for me at the moment - it won't load .profile.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>