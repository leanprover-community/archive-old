---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Typeclasses.20on.20module.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html">Typeclasses on module</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="267627989"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267627989" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267627989">(Jan 11 2022 at 18:50)</a>:</h4>
<p>Why does the definition of <code>module</code> require such strong typeclasses? Is it because somehow those are forced by the rest anyway?</p>



<a name="267631342"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267631342" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267631342">(Jan 11 2022 at 19:17)</a>:</h4>
<p>what do you consider "strong" in this case?</p>



<a name="267632685"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267632685" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267632685">(Jan 11 2022 at 19:28)</a>:</h4>
<p><code>semiring</code> instead of <code>monoid</code> + <code>add_monoid</code> for example</p>



<a name="267632951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267632951" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267632951">(Jan 11 2022 at 19:30)</a>:</h4>
<p>For the action of a monoid, you can just use <code>mul_action</code>.</p>



<a name="267633023"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267633023" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267633023">(Jan 11 2022 at 19:31)</a>:</h4>
<p>Oh I see.... you want the action compatible with addition in the add_monoid</p>



<a name="267633142"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267633142" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267633142">(Jan 11 2022 at 19:32)</a>:</h4>
<p>We have <a href="https://leanprover-community.github.io/mathlib_docs/find/distrib_mul_action">docs#distrib_mul_action</a> .</p>



<a name="267633220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267633220" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267633220">(Jan 11 2022 at 19:33)</a>:</h4>
<p>All in all, the instance jump from <code>distrib_mul_action</code>/<code>mul_action_with_zero</code> is high.</p>



<a name="267633280"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267633280" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267633280">(Jan 11 2022 at 19:33)</a>:</h4>
<p>I usually find myself wanting <code>distrib_mul_action_with_zero</code> (<a href="https://github.com/leanprover-community/mathlib/pull/9123">#9123</a>), but that's not what I meant here.</p>



<a name="267633409"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267633409" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267633409">(Jan 11 2022 at 19:34)</a>:</h4>
<p>As long as we're at it, there should be a typeclass <code>smul_with_zero_right</code> which would unify <a href="https://leanprover-community.github.io/mathlib_docs/find/smul_zero'">docs#smul_zero'</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/smul_zero">docs#smul_zero</a></p>



<a name="267633489"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267633489" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267633489">(Jan 11 2022 at 19:35)</a>:</h4>
<p>ping <span class="user-mention" data-user-id="310045">@Eric Wieser</span></p>



<a name="267633641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267633641" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267633641">(Jan 11 2022 at 19:36)</a>:</h4>
<p>What examples do you have in mind? If we start adding classes for everything under the sun, we'll be doing nonsense forever.</p>



<a name="267633765"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267633765" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267633765">(Jan 11 2022 at 19:37)</a>:</h4>
<p>Eric had an instance of a <code>distrib_mul_action_with_zero</code> which was not a module. <code>smul_with_zero_right</code> is just here to be the intersection of two things which are used a lot.</p>



<a name="267633808"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267633808" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267633808">(Jan 11 2022 at 19:37)</a>:</h4>
<p>ah yes, the classic combinatorics question of how many different sets of legs can you pull off a caterpillar</p>



<a name="267633921"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267633921" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267633921">(Jan 11 2022 at 19:38)</a>:</h4>
<p>But again that's not what my question is about. I'm asking why <code>module</code> is taking <code>semiring</code> and not <code>monoid</code> + <code>add_monoid</code></p>



<a name="267634050"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267634050" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267634050">(Jan 11 2022 at 19:39)</a>:</h4>
<p>Can you deduce <code>(a + b) \smul c = a \smul c + b \smul c</code> without it?</p>



<a name="267634186"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267634186" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267634186">(Jan 11 2022 at 19:40)</a>:</h4>
<p>It makes no math difference because the endomorphisms of an <code>add_comm_monoid</code> form a semiring anyways. So instead of a module over a semiring you would have a module over the semiring presented by something that might not be a semiring yet.</p>



<a name="267634401"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267634401" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267634401">(Jan 11 2022 at 19:42)</a>:</h4>
<p>I'm confused. Say <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> is a commutative additive monoid, then yes <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mi>n</mi><mi>d</mi><mo stretchy="false">(</mo><mi>M</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">End(M)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal">n</span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mclose">)</span></span></span></span> is a semiring, and giving a module structure is equivalent to giving a morphism of semirings <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>→</mo><mi>E</mi><mi>n</mi><mi>d</mi><mo stretchy="false">(</mo><mi>M</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R \to End(M)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal">n</span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mclose">)</span></span></span></span>, but now you're suggesting to just give a morphism of monoids <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>→</mo><mi>E</mi><mi>n</mi><mi>d</mi><mo stretchy="false">(</mo><mi>M</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R \to End(M)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal">n</span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mclose">)</span></span></span></span>?</p>



<a name="267634468"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267634468" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267634468">(Jan 11 2022 at 19:42)</a>:</h4>
<p>No, a morphism of <code>has_add/zero/mul/one</code>s</p>



<a name="267634482"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267634482" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267634482">(Jan 11 2022 at 19:43)</a>:</h4>
<p>Oh ok..</p>



<a name="267634566"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267634566" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267634566">(Jan 11 2022 at 19:43)</a>:</h4>
<p>But I can't think of any instances where you construct a semiring by starting with something that doesn't satisfy distributivity and then imposing distributivity as a relation. But perhaps such a thing is out there?</p>



<a name="267634671"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267634671" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267634671">(Jan 11 2022 at 19:44)</a>:</h4>
<p>Right, I can't think of any examples where this would be useful.</p>



<a name="267634772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267634772" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267634772">(Jan 11 2022 at 19:45)</a>:</h4>
<p>So do the axioms of <code>module \a \b</code> imply <code>semiring \a</code>?</p>



<a name="267634798"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267634798" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267634798">(Jan 11 2022 at 19:45)</a>:</h4>
<p>No, not in general</p>



<a name="267634862"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267634862" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267634862">(Jan 11 2022 at 19:46)</a>:</h4>
<p>For example if <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> is trivial, you won't be able to get any info about <code>R</code>.</p>



<a name="267634883"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267634883" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267634883">(Jan 11 2022 at 19:46)</a>:</h4>
<p><span class="user-mention" data-user-id="387244">@Yaël Dillies</span>, can you be clear about exactly what alternate definition you're proposing for <code>module</code>, in the form of a <code>class</code> declaration?</p>



<a name="267635014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267635014" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267635014">(Jan 11 2022 at 19:47)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">@[protect_proj]</span> <span class="kd">class</span> <span class="n">module'</span> <span class="o">(</span><span class="n">R</span> <span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">monoid</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">add_monoid</span> <span class="n">R</span><span class="o">]</span>
  <span class="o">[</span><span class="n">add_comm_monoid</span> <span class="n">M</span><span class="o">]</span> <span class="kd">extends</span> <span class="n">distrib_mul_action</span> <span class="n">R</span> <span class="n">M</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">add_smul</span> <span class="o">:</span> <span class="bp">∀</span><span class="o">(</span><span class="n">r</span> <span class="n">s</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">M</span><span class="o">),</span> <span class="o">(</span><span class="n">r</span> <span class="bp">+</span> <span class="n">s</span><span class="o">)</span> <span class="bp">•</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">r</span> <span class="bp">•</span> <span class="n">x</span> <span class="bp">+</span> <span class="n">s</span> <span class="bp">•</span> <span class="n">x</span><span class="o">)</span>
<span class="o">(</span><span class="n">zero_smul</span> <span class="o">:</span> <span class="bp">∀</span><span class="n">x</span> <span class="o">:</span> <span class="n">M</span><span class="o">,</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="bp">•</span> <span class="n">x</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">)</span>
</code></pre></div>



<a name="267635137"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267635137" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267635137">(Jan 11 2022 at 19:48)</a>:</h4>
<p>That would probably work (for essentially the same reason that Reid mentioned above, as the map <code>R \to End(M)</code> would be both a morphism of <code>monoid</code>s and of <code>add_monoid</code>s)</p>



<a name="267635250"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267635250" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267635250">(Jan 11 2022 at 19:49)</a>:</h4>
<p>you also don't need to stop there, you could have <code>[has_zero R] [has_add R] [has_one R] [has_mul R]</code>, maybe after making corresponding changes to the superclasses</p>



<a name="267635380"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267635380" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267635380">(Jan 11 2022 at 19:50)</a>:</h4>
<p>These are haskell's semirings right ;)?</p>



<a name="267635400"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267635400" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267635400">(Jan 11 2022 at 19:50)</a>:</h4>
<p>module over a <code>Num</code></p>



<a name="267635496"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267635496" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267635496">(Jan 11 2022 at 19:51)</a>:</h4>
<p>What are the examples that you want to support this way?</p>



<a name="267635664"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267635664" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267635664">(Jan 11 2022 at 19:52)</a>:</h4>
<p>In some sense there can't be any because a <code>module'</code> over a whatever <code>R</code> is "the same" as an ordinary module over some other ring constructed from <code>R</code> (which is <code>R</code> itself if <code>R</code> was already a ring).</p>



<a name="267635753"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267635753" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267635753">(Jan 11 2022 at 19:53)</a>:</h4>
<p>It just felt wrong to bump my instances for the sake of using <code>module</code> and I wanted an explanation.</p>



<a name="267636097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267636097" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267636097">(Jan 11 2022 at 19:56)</a>:</h4>
<p>Fair enough! Did you get one? <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



<a name="267636121"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267636121" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267636121">(Jan 11 2022 at 19:56)</a>:</h4>
<p>I guess I did!</p>



<a name="267637454"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267637454" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267637454">(Jan 11 2022 at 20:05)</a>:</h4>
<p>My explanation was rather compressed, and I could give a more expanded one. Let's instead take the simpler question of why <code>mul_action</code> has <code> [monoid α]</code> and not just <code>[has_one α] [has_mul α]</code>.</p>
<p>If I have <code>[has_one M] [has_mul M]</code> and a <code>mul_action</code> of <code>M</code> on a set <code>X</code>, I certainly can't prove that <code>M</code> is actually a monoid (e.g. for <code>a b c : M</code>, we have <code>(a * b) * c = a * (b * c)</code>) from that because, as Adam noted, the set <code>X</code> could be a singleton and all the laws for an action would hold automatically. However, I do know that for any <code>a b c : M</code> and <code>x : X</code>, we must have<br>
<code>((a * b) * c) • x = (a * (b * c)) • x</code><br>
because the laws for an action imply that both are equal to<br>
<code>a • (b • (c • x))</code>.</p>



<a name="267637596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267637596" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267637596">(Jan 11 2022 at 20:06)</a>:</h4>
<p>So I could form a quotient of <code>M</code> where we impose the relations <code>(a * b) * c = a * (b * c)</code> for all <code>a b c</code>, and the action of <code>M</code> on <code>X</code> will descend to the quotient. For the same reason, I might as well also impose the relations <code>1 * a = a = a * 1</code>. Once I do that, I made <code>M</code> into a monoid.</p>



<a name="267637803"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267637803" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267637803">(Jan 11 2022 at 20:08)</a>:</h4>
<p>And because of the way I formed this quotient, say <code>N</code>, giving an action of the monoid <code>N</code> on <code>X</code> is equivalent to giving an action of the original thing <code>M</code> on <code>X</code>.</p>



<a name="267637859"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267637859" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267637859">(Jan 11 2022 at 20:08)</a>:</h4>
<p>So, there's not really any point in considering actions by things that aren't monoids.</p>



<a name="267637874"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses%20on%20module/near/267637874" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Typeclasses.20on.20module.html#267637874">(Jan 11 2022 at 20:08)</a>:</h4>
<p>Same in the additive context for semirings.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>