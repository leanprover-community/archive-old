---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/bors.20failing.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20failing.html">bors failing</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="241874140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20failing/near/241874140" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20failing.html#241874140">(Jun 08 2021 at 06:06)</a>:</h4>
<p>bors has been failing recently due to some instance search becoming slow. I'll fix it by adjusting locally the priorities, but for the record here is the instance search it tries to solve:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="bp">@</span><span class="n">is_scalar_tower</span> <span class="n">R</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
  <span class="o">(</span><span class="bp">@</span><span class="n">smul_with_zero.to_has_scalar</span> <span class="n">R</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
     <span class="o">(</span><span class="bp">@</span><span class="n">mul_zero_class.to_has_zero</span> <span class="n">R</span>
        <span class="o">(</span><span class="bp">@</span><span class="n">mul_zero_one_class.to_mul_zero_class</span> <span class="n">R</span>
           <span class="o">(</span><span class="bp">@</span><span class="n">monoid_with_zero.to_mul_zero_one_class</span> <span class="n">R</span>
              <span class="o">(</span><span class="bp">@</span><span class="n">semiring.to_monoid_with_zero</span> <span class="n">R</span> <span class="o">(</span><span class="bp">@</span><span class="n">comm_semiring.to_semiring</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)))))</span>
     <span class="o">(</span><span class="bp">@</span><span class="n">add_zero_class.to_has_zero</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
        <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
           <span class="o">(</span><span class="bp">@</span><span class="n">add_comm_monoid.to_add_monoid</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
              <span class="o">(</span><span class="bp">@</span><span class="n">non_unital_non_assoc_semiring.to_add_comm_monoid</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                 <span class="o">(</span><span class="bp">@</span><span class="n">non_assoc_semiring.to_non_unital_non_assoc_semiring</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                    <span class="o">(</span><span class="bp">@</span><span class="n">semiring.to_non_assoc_semiring</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                       <span class="o">(</span><span class="bp">@</span><span class="n">comm_semiring.to_semiring</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                          <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial.comm_semiring</span> <span class="n">R</span> <span class="n">S₁</span> <span class="n">_inst_1</span><span class="o">))))))))</span>
     <span class="o">(</span><span class="bp">@</span><span class="n">mul_action_with_zero.to_smul_with_zero</span> <span class="n">R</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
        <span class="o">(</span><span class="bp">@</span><span class="n">semiring.to_monoid_with_zero</span> <span class="n">R</span> <span class="o">(</span><span class="bp">@</span><span class="n">comm_semiring.to_semiring</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">))</span>
        <span class="o">(</span><span class="bp">@</span><span class="n">add_zero_class.to_has_zero</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
           <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
              <span class="o">(</span><span class="bp">@</span><span class="n">add_comm_monoid.to_add_monoid</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                 <span class="o">(</span><span class="bp">@</span><span class="n">non_unital_non_assoc_semiring.to_add_comm_monoid</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                    <span class="o">(</span><span class="bp">@</span><span class="n">non_assoc_semiring.to_non_unital_non_assoc_semiring</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                       <span class="o">(</span><span class="bp">@</span><span class="n">semiring.to_non_assoc_semiring</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                          <span class="o">(</span><span class="bp">@</span><span class="n">comm_semiring.to_semiring</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                             <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial.comm_semiring</span> <span class="n">R</span> <span class="n">S₁</span> <span class="n">_inst_1</span><span class="o">))))))))</span>
        <span class="o">(</span><span class="bp">@</span><span class="n">module.to_mul_action_with_zero</span> <span class="n">R</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span> <span class="o">(</span><span class="bp">@</span><span class="n">comm_semiring.to_semiring</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
           <span class="o">(</span><span class="bp">@</span><span class="n">non_unital_non_assoc_semiring.to_add_comm_monoid</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
              <span class="o">(</span><span class="bp">@</span><span class="n">non_assoc_semiring.to_non_unital_non_assoc_semiring</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                 <span class="o">(</span><span class="bp">@</span><span class="n">semiring.to_non_assoc_semiring</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                    <span class="o">(</span><span class="bp">@</span><span class="n">comm_semiring.to_semiring</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                       <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial.comm_semiring</span> <span class="n">R</span> <span class="n">S₁</span> <span class="n">_inst_1</span><span class="o">)))))</span>
           <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial.module</span> <span class="n">R</span> <span class="n">R</span> <span class="n">S₁</span> <span class="o">(</span><span class="bp">@</span><span class="n">comm_semiring.to_semiring</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span> <span class="n">_inst_1</span>
              <span class="o">(</span><span class="bp">@</span><span class="n">semiring.to_module</span> <span class="n">R</span> <span class="o">(</span><span class="bp">@</span><span class="n">comm_semiring.to_semiring</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">))))))</span>
  <span class="o">(</span><span class="bp">@</span><span class="n">smul_with_zero.to_has_scalar</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
     <span class="o">(</span><span class="bp">@</span><span class="n">mul_zero_class.to_has_zero</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
        <span class="o">(</span><span class="bp">@</span><span class="n">mul_zero_one_class.to_mul_zero_class</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
           <span class="o">(</span><span class="bp">@</span><span class="n">monoid_with_zero.to_mul_zero_one_class</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
              <span class="o">(</span><span class="bp">@</span><span class="n">semiring.to_monoid_with_zero</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                 <span class="o">(</span><span class="bp">@</span><span class="n">comm_semiring.to_semiring</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                    <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial.comm_semiring</span> <span class="n">R</span> <span class="n">S₁</span> <span class="n">_inst_1</span><span class="o">))))))</span>
     <span class="o">(</span><span class="bp">@</span><span class="n">add_zero_class.to_has_zero</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
        <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
           <span class="o">(</span><span class="bp">@</span><span class="n">add_comm_monoid.to_add_monoid</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
              <span class="o">(</span><span class="bp">@</span><span class="n">non_unital_non_assoc_semiring.to_add_comm_monoid</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                 <span class="o">(</span><span class="bp">@</span><span class="n">non_assoc_semiring.to_non_unital_non_assoc_semiring</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                    <span class="o">(</span><span class="bp">@</span><span class="n">semiring.to_non_assoc_semiring</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                       <span class="o">(</span><span class="bp">@</span><span class="n">comm_semiring.to_semiring</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                          <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial.comm_semiring</span> <span class="n">R</span> <span class="n">S₁</span> <span class="n">_inst_1</span><span class="o">))))))))</span>
     <span class="o">(</span><span class="bp">@</span><span class="n">mul_action_with_zero.to_smul_with_zero</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
        <span class="o">(</span><span class="bp">@</span><span class="n">semiring.to_monoid_with_zero</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
           <span class="o">(</span><span class="bp">@</span><span class="n">comm_semiring.to_semiring</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial.comm_semiring</span> <span class="n">R</span> <span class="n">S₁</span> <span class="n">_inst_1</span><span class="o">)))</span>
        <span class="o">(</span><span class="bp">@</span><span class="n">add_zero_class.to_has_zero</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
           <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
              <span class="o">(</span><span class="bp">@</span><span class="n">add_comm_monoid.to_add_monoid</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                 <span class="o">(</span><span class="bp">@</span><span class="n">non_unital_non_assoc_semiring.to_add_comm_monoid</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                    <span class="o">(</span><span class="bp">@</span><span class="n">non_assoc_semiring.to_non_unital_non_assoc_semiring</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                       <span class="o">(</span><span class="bp">@</span><span class="n">semiring.to_non_assoc_semiring</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                          <span class="o">(</span><span class="bp">@</span><span class="n">comm_semiring.to_semiring</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                             <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial.comm_semiring</span> <span class="n">R</span> <span class="n">S₁</span> <span class="n">_inst_1</span><span class="o">))))))))</span>
        <span class="o">(</span><span class="bp">@</span><span class="n">module.to_mul_action_with_zero</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
           <span class="o">(</span><span class="bp">@</span><span class="n">comm_semiring.to_semiring</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial.comm_semiring</span> <span class="n">R</span> <span class="n">S₁</span> <span class="n">_inst_1</span><span class="o">))</span>
           <span class="o">(</span><span class="bp">@</span><span class="n">non_unital_non_assoc_semiring.to_add_comm_monoid</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
              <span class="o">(</span><span class="bp">@</span><span class="n">non_assoc_semiring.to_non_unital_non_assoc_semiring</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                 <span class="o">(</span><span class="bp">@</span><span class="n">semiring.to_non_assoc_semiring</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                    <span class="o">(</span><span class="bp">@</span><span class="n">comm_semiring.to_semiring</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                       <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial.comm_semiring</span> <span class="n">R</span> <span class="n">S₁</span> <span class="n">_inst_1</span><span class="o">)))))</span>
           <span class="o">(</span><span class="bp">@</span><span class="n">semiring.to_module</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
              <span class="o">(</span><span class="bp">@</span><span class="n">comm_semiring.to_semiring</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                 <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial.comm_semiring</span> <span class="n">R</span> <span class="n">S₁</span> <span class="n">_inst_1</span><span class="o">))))))</span>
  <span class="o">(</span><span class="bp">@</span><span class="n">smul_with_zero.to_has_scalar</span> <span class="n">R</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
     <span class="o">(</span><span class="bp">@</span><span class="n">mul_zero_class.to_has_zero</span> <span class="n">R</span>
        <span class="o">(</span><span class="bp">@</span><span class="n">mul_zero_one_class.to_mul_zero_class</span> <span class="n">R</span>
           <span class="o">(</span><span class="bp">@</span><span class="n">monoid_with_zero.to_mul_zero_one_class</span> <span class="n">R</span>
              <span class="o">(</span><span class="bp">@</span><span class="n">semiring.to_monoid_with_zero</span> <span class="n">R</span> <span class="o">(</span><span class="bp">@</span><span class="n">comm_semiring.to_semiring</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)))))</span>
     <span class="o">(</span><span class="bp">@</span><span class="n">add_zero_class.to_has_zero</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
        <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
           <span class="o">(</span><span class="bp">@</span><span class="n">add_comm_monoid.to_add_monoid</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
              <span class="o">(</span><span class="bp">@</span><span class="n">non_unital_non_assoc_semiring.to_add_comm_monoid</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                 <span class="o">(</span><span class="bp">@</span><span class="n">non_assoc_semiring.to_non_unital_non_assoc_semiring</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                    <span class="o">(</span><span class="bp">@</span><span class="n">semiring.to_non_assoc_semiring</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                       <span class="o">(</span><span class="bp">@</span><span class="n">comm_semiring.to_semiring</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                          <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial.comm_semiring</span> <span class="n">R</span> <span class="n">S₁</span> <span class="n">_inst_1</span><span class="o">))))))))</span>
     <span class="o">(</span><span class="bp">@</span><span class="n">mul_action_with_zero.to_smul_with_zero</span> <span class="n">R</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
        <span class="o">(</span><span class="bp">@</span><span class="n">semiring.to_monoid_with_zero</span> <span class="n">R</span> <span class="o">(</span><span class="bp">@</span><span class="n">comm_semiring.to_semiring</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">))</span>
        <span class="o">(</span><span class="bp">@</span><span class="n">add_zero_class.to_has_zero</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
           <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
              <span class="o">(</span><span class="bp">@</span><span class="n">add_comm_monoid.to_add_monoid</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                 <span class="o">(</span><span class="bp">@</span><span class="n">non_unital_non_assoc_semiring.to_add_comm_monoid</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                    <span class="o">(</span><span class="bp">@</span><span class="n">non_assoc_semiring.to_non_unital_non_assoc_semiring</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                       <span class="o">(</span><span class="bp">@</span><span class="n">semiring.to_non_assoc_semiring</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                          <span class="o">(</span><span class="bp">@</span><span class="n">comm_semiring.to_semiring</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                             <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial.comm_semiring</span> <span class="n">R</span> <span class="n">S₁</span> <span class="n">_inst_1</span><span class="o">))))))))</span>
        <span class="o">(</span><span class="bp">@</span><span class="n">module.to_mul_action_with_zero</span> <span class="n">R</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span> <span class="o">(</span><span class="bp">@</span><span class="n">comm_semiring.to_semiring</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
           <span class="o">(</span><span class="bp">@</span><span class="n">non_unital_non_assoc_semiring.to_add_comm_monoid</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
              <span class="o">(</span><span class="bp">@</span><span class="n">non_assoc_semiring.to_non_unital_non_assoc_semiring</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                 <span class="o">(</span><span class="bp">@</span><span class="n">semiring.to_non_assoc_semiring</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                    <span class="o">(</span><span class="bp">@</span><span class="n">comm_semiring.to_semiring</span> <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial</span> <span class="n">S₁</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span>
                       <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial.comm_semiring</span> <span class="n">R</span> <span class="n">S₁</span> <span class="n">_inst_1</span><span class="o">)))))</span>
           <span class="o">(</span><span class="bp">@</span><span class="n">mv_polynomial.module</span> <span class="n">R</span> <span class="n">R</span> <span class="n">S₁</span> <span class="o">(</span><span class="bp">@</span><span class="n">comm_semiring.to_semiring</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">)</span> <span class="n">_inst_1</span>
              <span class="o">(</span><span class="bp">@</span><span class="n">semiring.to_module</span> <span class="n">R</span> <span class="o">(</span><span class="bp">@</span><span class="n">comm_semiring.to_semiring</span> <span class="n">R</span> <span class="n">_inst_1</span><span class="o">))))))</span>
</code></pre></div>
<p>The chain of reductions has become longer since the inclusion of <code>non_unital_non_assoc_semiring</code> and <code>non_assoc_semiring</code> in our main spine of typeclass inclusions. Together with old type classes, this is not surprising it is getting slow to handle. May I suggest that, in Lean 4, we keep the main spine as short as possible (to make sure that most mainstream applications are as fast as possible), and register instances from more exotic classes with just slightly lower priority, to make sure this doesn't bite us again?</p>



<a name="241874372"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20failing/near/241874372" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20failing.html#241874372">(Jun 08 2021 at 06:12)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/issues/7840">#7840</a>. Might be worth merging with priority 37 once the current batch is finished.</p>



<a name="241874423"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20failing/near/241874423" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20failing.html#241874423">(Jun 08 2021 at 06:12)</a>:</h4>
<p>(goes down from 13s to 144ms on my computer)</p>



<a name="241875491"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20failing/near/241875491" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20failing.html#241875491">(Jun 08 2021 at 06:33)</a>:</h4>
<p>The current batch just failed. <span class="user-mention" data-user-id="310045">@Eric Wieser</span> , <span class="user-mention" data-user-id="110087">@Scott Morrison</span> , what about merging <a href="https://github.com/leanprover-community/mathlib/issues/7840">#7840</a> now?</p>



<a name="241875768"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20failing/near/241875768" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20failing.html#241875768">(Jun 08 2021 at 06:37)</a>:</h4>
<p>In what way are they part of the "main spine"?</p>



<a name="241875772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20failing/near/241875772" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20failing.html#241875772">(Jun 08 2021 at 06:37)</a>:</h4>
<p>Is there a simple priority change that would eject them from that spine?</p>



<a name="241875833"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20failing/near/241875833" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20failing.html#241875833">(Jun 08 2021 at 06:38)</a>:</h4>
<p><span class="user-mention" data-user-id="110050">@Sebastien Gouezel</span> thanks for debugging this!</p>



<a name="241876400"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20failing/near/241876400" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20failing.html#241876400">(Jun 08 2021 at 06:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113488-general/topic/bors.20failing/near/241875772">said</a>:</p>
<blockquote>
<p>Is there a simple priority change that would eject them from that spine?</p>
</blockquote>
<p>I am not sure how Lean manages things for old style structures. The definition of a semiring is that it extends <code>non_unital_semiring α, non_assoc_semiring α, monoid_with_zero α</code>, so if you're looking for the addition in a semiring you will have to pass through either <code>non_unital_semiring</code> or <code>non_assoc_semiring</code>. It's in this sense that I am saying they are part of the main spine. But we shouldn't add a shortcut from <code>semiring</code> to <code>has_add</code>, because we have already seen that adding shortcuts only makes things worse most of the time.</p>



<a name="241876504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20failing/near/241876504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20failing.html#241876504">(Jun 08 2021 at 06:48)</a>:</h4>
<p>Things will be completely different in Lean 4 since we can't extend things in all directions at the same time because of new style structures. Hopefully, this will lean to a cleaner design.</p>



<a name="241877837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20failing/near/241877837" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20failing.html#241877837">(Jun 08 2021 at 07:05)</a>:</h4>
<p><del>I didn't think we used extends there</del></p>



<a name="241877852"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20failing/near/241877852" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20failing.html#241877852">(Jun 08 2021 at 07:05)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/semiring/src">src#semiring</a></p>



<a name="257564605"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20failing/near/257564605" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20failing.html#257564605">(Oct 14 2021 at 16:31)</a>:</h4>
<p>It's the second time that bors fails to merge <a href="https://github.com/leanprover-community/mathlib/issues/9706">#9706</a> without any apparent reason. Any idea?</p>



<a name="257565944"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20failing/near/257565944" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20failing.html#257565944">(Oct 14 2021 at 16:40)</a>:</h4>
<p>I tried clearing the temp files as some of the runners were running out of space: <a href="#narrow/stream/113538-CI/topic/CI.20runner.20status/near/257562907">https://leanprover.zulipchat.com/#narrow/stream/113538-CI/topic/CI.20runner.20status/near/257562907</a> </p>
<p>Hopefully that will fix things...</p>



<a name="257566066"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20failing/near/257566066" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20failing.html#257566066">(Oct 14 2021 at 16:41)</a>:</h4>
<p>Note that other PRs went through in the meantime without problems <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="257581529"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bors%20failing/near/257581529" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/bors.20failing.html#257581529">(Oct 14 2021 at 18:22)</a>:</h4>
<p>I don't understand the latest failure in the "export as low-level text file" step: <a href="https://github.com/leanprover-community/mathlib/runs/3897800798#step:11:4">https://github.com/leanprover-community/mathlib/runs/3897800798#step:11:4</a></p>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>Run lean --recursive --export=mathlib.txt src/
&lt;unknown&gt;:1:1: error: unknown declaration '_private.2353234301.add'
Error: Process completed with exit code 1.
</code></pre></div>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>