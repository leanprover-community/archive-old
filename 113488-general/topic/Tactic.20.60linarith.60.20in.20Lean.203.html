---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Tactic.20.60linarith.60.20in.20Lean.203.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Tactic.20.60linarith.60.20in.20Lean.203.html">Tactic `linarith` in Lean 3</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="260535466"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Tactic%20%60linarith%60%20in%20Lean%203/near/260535466" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> FR <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Tactic.20.60linarith.60.20in.20Lean.203.html#260535466">(Nov 06 2021 at 20:50)</a>:</h4>
<p>These days I'm trying to learn Lean. I downloaded <a href="https://github.com/leanprover-community/tutorials">https://github.com/leanprover-community/tutorials</a>. Some hours ago, I met the problem below <a href="/user_uploads/3121/vEGEnRlveHwN1pMAFshU1e0i/DGTLJ8YVO9D3TZSHNTK.png">DGTLJ8YVO9D3TZSHNTK.png</a>, but I didn't care. Now I find something more confusing. <a href="/user_uploads/3121/-gS1Qh4VxwgfpbpsnlosiLTB/image.png">image.png</a> <a href="/user_uploads/3121/9BG4fJfFVTtsdigwsXlqjsUd/image.png">image.png</a> I wonder what happened to them.</p>
<div class="message_inline_image"><a href="/user_uploads/3121/vEGEnRlveHwN1pMAFshU1e0i/DGTLJ8YVO9D3TZSHNTK.png" title="DGTLJ8YVO9D3TZSHNTK.png"><img src="/user_uploads/3121/vEGEnRlveHwN1pMAFshU1e0i/DGTLJ8YVO9D3TZSHNTK.png"></a></div><div class="message_inline_image"><a href="/user_uploads/3121/-gS1Qh4VxwgfpbpsnlosiLTB/image.png" title="image.png"><img src="/user_uploads/3121/-gS1Qh4VxwgfpbpsnlosiLTB/image.png"></a></div><div class="message_inline_image"><a href="/user_uploads/3121/9BG4fJfFVTtsdigwsXlqjsUd/image.png" title="image.png"><img src="/user_uploads/3121/9BG4fJfFVTtsdigwsXlqjsUd/image.png"></a></div>



<a name="260535967"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Tactic%20%60linarith%60%20in%20Lean%203/near/260535967" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Tactic.20.60linarith.60.20in.20Lean.203.html#260535967">(Nov 06 2021 at 21:03)</a>:</h4>
<p>It's hard to help you from screenshots. Can you post a <a href="https://leanprover-community.github.io/mwe.html">#mwe</a>?</p>



<a name="260537369"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Tactic%20%60linarith%60%20in%20Lean%203/near/260537369" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> FR <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Tactic.20.60linarith.60.20in.20Lean.203.html#260537369">(Nov 06 2021 at 21:35)</a>:</h4>
<p>Sorry for that, <a href="/user_uploads/3121/6Y_jzIopROxHf3eIg82QUoqX/test.lean">here</a> is it. I noticed that it shows me a different type in this file (I don't know why). Maybe there is something about the problem.</p>



<a name="260537731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Tactic%20%60linarith%60%20in%20Lean%203/near/260537731" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Tactic.20.60linarith.60.20in.20Lean.203.html#260537731">(Nov 06 2021 at 21:42)</a>:</h4>
<p>linarith is not reducing the goal</p>



<a name="260537742"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Tactic%20%60linarith%60%20in%20Lean%203/near/260537742" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Tactic.20.60linarith.60.20in.20Lean.203.html#260537742">(Nov 06 2021 at 21:43)</a>:</h4>
<p>You can force reduction using <code>dsimp only</code> before <code>linarith</code></p>



<a name="260537953"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Tactic%20%60linarith%60%20in%20Lean%203/near/260537953" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Tactic.20.60linarith.60.20in.20Lean.203.html#260537953">(Nov 06 2021 at 21:47)</a>:</h4>
<p><span class="user-mention" data-user-id="110596">@Rob Lewis</span> do you think <code>linarith</code> should try to beta-reduce the goal (and/or assumptions) before doing its work?</p>



<a name="260538852"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Tactic%20%60linarith%60%20in%20Lean%203/near/260538852" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> FR <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Tactic.20.60linarith.60.20in.20Lean.203.html#260538852">(Nov 06 2021 at 22:05)</a>:</h4>
<p>Thank you! I found the following two lines in the origin file (I didn't notice them before).</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">set_option</span> <span class="n">pp.beta</span> <span class="n">true</span>
<span class="kd">set_option</span> <span class="n">pp.coercions</span> <span class="n">false</span>
</code></pre></div>
<p>The first line makes it show me the type <code>x₀ - 1 / (↑n + 1) ≤ u</code> instead of <code>(λ (n : ℕ), x₀ - 1 / (↑n + 1)) n ≤ u</code>. However, there are no real effects. It's very confusing.</p>



<a name="260539930"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Tactic%20%60linarith%60%20in%20Lean%203/near/260539930" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Tactic.20.60linarith.60.20in.20Lean.203.html#260539930">(Nov 06 2021 at 22:29)</a>:</h4>
<p><code>pp</code> options just change what the pretty printer is printing, not the actual term as stored internally.</p>



<a name="260539942"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Tactic%20%60linarith%60%20in%20Lean%203/near/260539942" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Tactic.20.60linarith.60.20in.20Lean.203.html#260539942">(Nov 06 2021 at 22:29)</a>:</h4>
<p>Forcing reduction with <code>dsimp only</code> is not an uncommon idiom.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>