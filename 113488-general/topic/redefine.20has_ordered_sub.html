---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/redefine.20has_ordered_sub.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/redefine.20has_ordered_sub.html">redefine has_ordered_sub</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="292837631"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/redefine%20has_ordered_sub/near/292837631" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/redefine.20has_ordered_sub.html#292837631">(Aug 10 2022 at 21:42)</a>:</h4>
<p>Here's a petition. Currently, the <a href="https://leanprover-community.github.io/mathlib_docs/find/has_ordered_sub">docs#has_ordered_sub</a> typeclass has <code>∀ (a b c : α), a - b ≤ c ↔ a ≤ c + b</code> as an assumption. I want it to have <code>∀ (a b c : α), a - b ≤ c ↔ a ≤ b + c</code> instead. The key difference is that this would allow us to put a <code>has_ordered_sub</code> instance on ordinals. I think every current concrete instance is with commutative addition, so this change shouldn't impact it.</p>



<a name="292837999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/redefine%20has_ordered_sub/near/292837999" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/redefine.20has_ordered_sub.html#292837999">(Aug 10 2022 at 21:45)</a>:</h4>
<p>I think this may have already been the original intention. Quoting from the docstring: </p>
<blockquote>
<p>In other words, <code>a - b</code> is the least <code>c</code> such that <code>a ≤ b + c</code>.</p>
</blockquote>
<p>This of course is only true in noncommutative contexts with the redefinition I'm proposing.</p>



<a name="292838290"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/redefine%20has_ordered_sub/near/292838290" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/redefine.20has_ordered_sub.html#292838290">(Aug 10 2022 at 21:48)</a>:</h4>
<p>Also, almost all of the API is proven with the <code>add_comm_semigroup</code> assumption.</p>



<a name="292838710"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/redefine%20has_ordered_sub/near/292838710" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/redefine.20has_ordered_sub.html#292838710">(Aug 10 2022 at 21:51)</a>:</h4>
<p>Oh actually, this change is actually very easy to do</p>



<a name="292838763"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/redefine%20has_ordered_sub/near/292838763" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/redefine.20has_ordered_sub.html#292838763">(Aug 10 2022 at 21:52)</a>:</h4>
<p>It's literally just swapping a few <code>_right</code> lemmas with a few <code>_left</code> lemmas and that's it</p>



<a name="292839159"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/redefine%20has_ordered_sub/near/292839159" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/redefine.20has_ordered_sub.html#292839159">(Aug 10 2022 at 21:56)</a>:</h4>
<p>Yeah let's try this: <a href="https://github.com/leanprover-community/mathlib/pull/15991">#15991</a></p>



<a name="292845171"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/redefine%20has_ordered_sub/near/292845171" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/redefine.20has_ordered_sub.html#292845171">(Aug 10 2022 at 22:54)</a>:</h4>
<p>Oh, wait</p>



<a name="292845241"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/redefine%20has_ordered_sub/near/292845241" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/redefine.20has_ordered_sub.html#292845241">(Aug 10 2022 at 22:55)</a>:</h4>
<p>This change would mean that additive groups no longer have an ordered substraction</p>



<a name="292845247"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/redefine%20has_ordered_sub/near/292845247" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/redefine.20has_ordered_sub.html#292845247">(Aug 10 2022 at 22:55)</a>:</h4>
<p>That's probably undesirable</p>



<a name="292845717"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/redefine%20has_ordered_sub/near/292845717" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/redefine.20has_ordered_sub.html#292845717">(Aug 10 2022 at 23:00)</a>:</h4>
<p>I guess we could make two separate classes<code>has_left_ordered_sub</code> and <code>has_right_ordered_sub</code> but maybe that's overkill</p>



<a name="292846312"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/redefine%20has_ordered_sub/near/292846312" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/redefine.20has_ordered_sub.html#292846312">(Aug 10 2022 at 23:06)</a>:</h4>
<p>Actually, having two separate classes might not be such a bad idea. We do have a concrete purpose for each, after all.</p>



<a name="292848652"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/redefine%20has_ordered_sub/near/292848652" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/redefine.20has_ordered_sub.html#292848652">(Aug 10 2022 at 23:36)</a>:</h4>
<p>I wish we had more examples of <code>has_left_ordered_sub</code> though, i.e. the one for ordinals</p>



<a name="292862800"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/redefine%20has_ordered_sub/near/292862800" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/redefine.20has_ordered_sub.html#292862800">(Aug 11 2022 at 03:28)</a>:</h4>
<p>I guess <a href="https://leanprover-community.github.io/mathlib_docs/find/nonote">docs#nonote</a> would also have a <code>has_left_ordered_sub</code> instance, so that's two examples?</p>



<a name="292862811"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/redefine%20has_ordered_sub/near/292862811" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/redefine.20has_ordered_sub.html#292862811">(Aug 11 2022 at 03:28)</a>:</h4>
<p>Kind of a lame example since that's basically just ordinals again and there's not all that much API on that, but still</p>



<a name="292884838"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/redefine%20has_ordered_sub/near/292884838" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/redefine.20has_ordered_sub.html#292884838">(Aug 11 2022 at 08:13)</a>:</h4>
<p>I think ordinal subtraction should really be written -a+b, but mathlib lacks a typeclass/notation for subtraction/division/quotient from the left ... I guess that's partially because mathlib doesn't have <a href="https://en.m.wikipedia.org/wiki/Quasigroup">https://en.m.wikipedia.org/wiki/Quasigroup</a></p>



<a name="292885393"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/redefine%20has_ordered_sub/near/292885393" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/redefine.20has_ordered_sub.html#292885393">(Aug 11 2022 at 08:17)</a>:</h4>
<p>We're about to get Jordan algebras. How about octonions and Moufang loops?</p>
<p>We also see left exponential notation in <a href="https://en.m.wikipedia.org/wiki/Racks_and_quandles">https://en.m.wikipedia.org/wiki/Racks_and_quandles</a></p>



<a name="292894076"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/redefine%20has_ordered_sub/near/292894076" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/redefine.20has_ordered_sub.html#292894076">(Aug 11 2022 at 09:24)</a>:</h4>
<p>The current definition of <code>has_ordered_sub</code> feels a lot more canonical, since you're adding/subtracting <code>b</code> on the right on both sides of the <code>↔</code>. It's unfortunate that it doesn't apply for ordinals indeed, but I don't think it's worth it to add a separate class just for <code>ordinal</code> (and <code>nonote</code>), unless we find more examples.</p>



<a name="292903651"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/redefine%20has_ordered_sub/near/292903651" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/redefine.20has_ordered_sub.html#292903651">(Aug 11 2022 at 10:35)</a>:</h4>
<p>Presumaby things like <code>ordinal × ordinal</code> are also examples, but I don't think they're interesting <em>enough</em> unless you have a convincing use for them</p>



<a name="292945332"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/redefine%20has_ordered_sub/near/292945332" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/redefine.20has_ordered_sub.html#292945332">(Aug 11 2022 at 14:53)</a>:</h4>
<p>I think we also have structures order-isomorphic to subsets of ordinals as examples, such as the lex sum of N and N</p>



<a name="292945422"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/redefine%20has_ordered_sub/near/292945422" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/redefine.20has_ordered_sub.html#292945422">(Aug 11 2022 at 14:53)</a>:</h4>
<p>Though in that case addition is badly behaved too</p>



<a name="292947121"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/redefine%20has_ordered_sub/near/292947121" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/redefine.20has_ordered_sub.html#292947121">(Aug 11 2022 at 15:02)</a>:</h4>
<p>I think the <a href="https://leanprover-community.github.io/mathlib_docs/find/add_opposite">docs#add_opposite</a> of ordinals will satisfy has_ordered_sub, if sub is unchanged even though add is swapped.</p>



<a name="292954830"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/redefine%20has_ordered_sub/near/292954830" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/redefine.20has_ordered_sub.html#292954830">(Aug 11 2022 at 15:41)</a>:</h4>
<p>Could we use that to easily port theorems of <code>has_ordered_sub</code> to ordinals?</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>