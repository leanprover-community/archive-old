---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/option.2Eelim.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/option.2Eelim.html">option.elim</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="278748002"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/option.elim/near/278748002" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/option.2Eelim.html#278748002">(Apr 12 2022 at 20:20)</a>:</h4>
<p>Should the arguments of <a href="https://leanprover-community.github.io/mathlib_docs/find/option.elim">docs#option.elim</a> be swapped so that it behaves like <a href="https://leanprover-community.github.io/mathlib_docs/find/sum.elim">docs#sum.elim</a>? Mario in <code>number_theory.dioph</code> defined <a href="https://leanprover-community.github.io/mathlib_docs/find/option.cons">docs#option.cons</a>, which is just <code>option.elim</code> with the arguments swapped.</p>



<a name="278750550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/option.elim/near/278750550" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/option.2Eelim.html#278750550">(Apr 12 2022 at 20:43)</a>:</h4>
<p>What side do <a href="https://leanprover-community.github.io/mathlib_docs/find/and.elim">docs#and.elim</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/or.elim">docs#or.elim</a> fall on?</p>



<a name="278750867"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/option.elim/near/278750867" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/option.2Eelim.html#278750867">(Apr 12 2022 at 20:46)</a>:</h4>
<p>Seem like they agree with <code>option</code></p>



<a name="278753054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/option.elim/near/278753054" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/option.2Eelim.html#278753054">(Apr 12 2022 at 21:04)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/iff.elim">docs#iff.elim</a> goes the other way though</p>



<a name="278753215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/option.elim/near/278753215" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/option.2Eelim.html#278753215">(Apr 12 2022 at 21:06)</a>:</h4>
<p>As does <a href="https://leanprover-community.github.io/mathlib_docs/find/nat.elim">docs#nat.elim</a></p>



<a name="278753296"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/option.elim/near/278753296" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/option.2Eelim.html#278753296">(Apr 12 2022 at 21:07)</a>:</h4>
<p>My feeling is that the <code>option.cons</code> order is the right one, and the rule should be "<code>elim</code> is just non-dependent <code>rec</code>"</p>



<a name="278753431"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/option.elim/near/278753431" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/option.2Eelim.html#278753431">(Apr 12 2022 at 21:08)</a>:</h4>
<p>As opposed to the current meaning "as decided by a possibly biased coin toss, <code>elim</code> is the non-dependent version of either <code>rec</code> or <code>rec_on</code>"</p>



<a name="278753445"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/option.elim/near/278753445" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/option.2Eelim.html#278753445">(Apr 12 2022 at 21:08)</a>:</h4>
<p>What does lean 4 do?</p>



<a name="278763285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/option.elim/near/278763285" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/option.2Eelim.html#278763285">(Apr 12 2022 at 22:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113488-general/topic/option.2Eelim/near/278753445">said</a>:</p>
<blockquote>
<p>What does lean 4 do?</p>
</blockquote>
<p>Same as lean 3: it's not autogenerated so when it is created manually it's a coin toss what you get</p>



<a name="278763598"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/option.elim/near/278763598" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/option.2Eelim.html#278763598">(Apr 12 2022 at 22:48)</a>:</h4>
<p>Does lean 4 still generate both rec and rec_on?</p>



<a name="278763983"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/option.elim/near/278763983" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/option.2Eelim.html#278763983">(Apr 12 2022 at 22:53)</a>:</h4>
<p>yes, although they are a lot less useful since they aren't <code>@[elab_as_elminator]</code></p>



<a name="278763988"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/option.elim/near/278763988" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/option.2Eelim.html#278763988">(Apr 12 2022 at 22:54)</a>:</h4>
<p>you can't really use them directly anymore</p>



<a name="278764325"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/option.elim/near/278764325" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/option.2Eelim.html#278764325">(Apr 12 2022 at 22:58)</a>:</h4>
<p>Why even bother having both then?</p>



<a name="278764382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/option.elim/near/278764382" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/option.2Eelim.html#278764382">(Apr 12 2022 at 22:59)</a>:</h4>
<p>Idle question: how feasible is it to have some syntax where you can do <code>eliminator foo.rec a b c</code> and have elaborate like <code>elab_as_eliminator</code>? (Maybe it could be like an expression version of the <code>induction</code> tactic?)</p>



<a name="278764889"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/option.elim/near/278764889" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/option.2Eelim.html#278764889">(Apr 12 2022 at 23:04)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span> They seemed to be used at least by the <code>induction</code> tactic. (edit: oh, why <em>both</em>)</p>



<a name="278764976"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/option.elim/near/278764976" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/option.2Eelim.html#278764976">(Apr 12 2022 at 23:05)</a>:</h4>
<p>I'm surprised <code>rec</code> alone isn't enough and that <code>rec_on</code> is worth leaving around</p>



<a name="278764998"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/option.elim/near/278764998" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/option.2Eelim.html#278764998">(Apr 12 2022 at 23:05)</a>:</h4>
<p>Maybe there's a <code>mutual</code> case where only one exists, like in lean 3</p>



<a name="278765483"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/option.elim/near/278765483" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/option.2Eelim.html#278765483">(Apr 12 2022 at 23:12)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/13403">#13403</a> for moving <code>option.cons</code>. I didn't make the notation global.</p>



<a name="278779942"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/option.elim/near/278779942" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/option.2Eelim.html#278779942">(Apr 13 2022 at 03:22)</a>:</h4>
<p>Yeah, I would be on board with a term mode syntax for <code>@[elab_as_eliminator]</code>. That can be implemented in user space too</p>



<a name="285768482"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/option.elim/near/285768482" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/option.2Eelim.html#285768482">(Jun 11 2022 at 08:52)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/14681">#14681</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>