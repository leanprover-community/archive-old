---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/duplicate.20lemma.20.3A.20nat_ne_top.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/duplicate.20lemma.20.3A.20nat_ne_top.html">duplicate lemma : nat_ne_top</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="291761506"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/duplicate%20lemma%20%3A%20nat_ne_top/near/291761506" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/duplicate.20lemma.20.3A.20nat_ne_top.html#291761506">(Aug 02 2022 at 20:05)</a>:</h4>
<p>It seems that <code>ennreal.nat_ne_top</code> and <code>ennreal.coe_nat_ne_top</code> are duplicates. I am planning on deleting the latter (because the former is shorter and we also have <code>ennreal.top_ne_nat</code> but no <code>ennreal.top_ne_coe_nat</code>), unless someone objects that <code>coe</code> should be in the name.</p>



<a name="291766552"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/duplicate%20lemma%20%3A%20nat_ne_top/near/291766552" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/duplicate.20lemma.20.3A.20nat_ne_top.html#291766552">(Aug 02 2022 at 20:46)</a>:</h4>
<p>We do have rather a few <code>coe_nat</code> lemmas here, and that's what I would have expected to call it.</p>



<a name="291766724"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/duplicate%20lemma%20%3A%20nat_ne_top/near/291766724" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/duplicate.20lemma.20.3A.20nat_ne_top.html#291766724">(Aug 02 2022 at 20:47)</a>:</h4>
<p>They are also not precisely the same - <code>coe_nat</code> is not a simp lemma and has <code>n</code> implicit, and <code>nat_ne</code> has it as a simp lemma and nat explicit. Which one do you plan to use?</p>



<a name="291771313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/duplicate%20lemma%20%3A%20nat_ne_top/near/291771313" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/duplicate.20lemma.20.3A.20nat_ne_top.html#291771313">(Aug 02 2022 at 21:29)</a>:</h4>
<p>At some point we probably ought to standardize on <code>coe_nat</code> vs <code>nat_cast</code></p>



<a name="291771416"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/duplicate%20lemma%20%3A%20nat_ne_top/near/291771416" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/duplicate.20lemma.20.3A.20nat_ne_top.html#291771416">(Aug 02 2022 at 21:30)</a>:</h4>
<p>especially since now lemmas like <a href="https://leanprover-community.github.io/mathlib_docs/find/int.coe_nat_one">docs#int.coe_nat_one</a> are defeq to <a href="https://leanprover-community.github.io/mathlib_docs/find/nat.cast_one">docs#nat.cast_one</a></p>



<a name="291771529"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/duplicate%20lemma%20%3A%20nat_ne_top/near/291771529" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/duplicate.20lemma.20.3A.20nat_ne_top.html#291771529">(Aug 02 2022 at 21:31)</a>:</h4>
<p>The <code>coe_nat</code> naming convention was just for <code>coe : ℕ → ℤ</code>, right?</p>



<a name="291772316"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/duplicate%20lemma%20%3A%20nat_ne_top/near/291772316" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/duplicate.20lemma.20.3A.20nat_ne_top.html#291772316">(Aug 02 2022 at 21:39)</a>:</h4>
<p>Sorry, perhaps I should have been clearer that they aren't quite exactly the same. A quick grep suggests that <code>nat_ne_top</code> is used 12 times (explicitly) but <code>coe_nat_ne_top</code> is used 8 times. Of course, who knows how many times the former is used inside <code>simp</code>.  So, I would keep <code>nat_ne_top</code> as is, delete <code>coe_nat_ne_top</code>, and replace uses of the latter with the former. Reasoning:</p>
<ol>
<li>The name doesn't need <code>coe</code> because it's clear from context (we're in <code>ennreal</code> namespace after all), and this does parallel some lemmas elsewhere in the file.</li>
<li>When used as a rewrite lemma, if the explicit argument can be inferred, then it will be. If you need to provide the argument, you can do so without <code>@</code>.</li>
</ol>



<a name="291781747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/duplicate%20lemma%20%3A%20nat_ne_top/near/291781747" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/duplicate.20lemma.20.3A.20nat_ne_top.html#291781747">(Aug 02 2022 at 23:17)</a>:</h4>
<p>Yeah, I see the logic of that. Are you going to rename the other coe_nat lemmas in ennreal?</p>



<a name="291782275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/duplicate%20lemma%20%3A%20nat_ne_top/near/291782275" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/duplicate.20lemma.20.3A.20nat_ne_top.html#291782275">(Aug 02 2022 at 23:24)</a>:</h4>
<p>If that's the consensus, I guess we could, but it should probably be a separate PR. Right now I'm just trying to deduplicate.</p>



<a name="291785146"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/duplicate%20lemma%20%3A%20nat_ne_top/near/291785146" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/duplicate.20lemma.20.3A.20nat_ne_top.html#291785146">(Aug 03 2022 at 00:02)</a>:</h4>
<p>Oh for sure.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>