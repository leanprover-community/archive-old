---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Strange.20build.20failure.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Strange.20build.20failure.html">Strange build failure</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="264442597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Strange%20build%20failure/near/264442597" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Strange.20build.20failure.html#264442597">(Dec 10 2021 at 12:57)</a>:</h4>
<p>I may be misinterpreting something, but there has been a lot of weird failures of the "build mathlib" run since yesterday (at least). The job fails but the log shows the <code>leanpkg build</code> step to be running. I "solved" it in <a href="https://github.com/leanprover-community/mathlib/issues/10682">#10682</a> by re-running all the jobs (twice !), but it also affects e.g. <a href="https://github.com/leanprover-community/mathlib/issues/10705">#10705</a> and <a href="https://github.com/leanprover-community/mathlib/issues/10702">#10702</a>. Does anyone know what is happening ?</p>



<a name="264443054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Strange%20build%20failure/near/264443054" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Strange.20build.20failure.html#264443054">(Dec 10 2021 at 13:00)</a>:</h4>
<p>My PRs are also affected by this, as mentioned <a href="#narrow/stream/144837-PR-reviews/topic/.2310668">here</a>. However I have no idea why this is happening as well.</p>



<a name="264443929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Strange%20build%20failure/near/264443929" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Strange.20build.20failure.html#264443929">(Dec 10 2021 at 13:08)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/issues/10701">#10701</a> had the same problem but now reports a (deterministic) timeout in <code>algebraic_geometry/presheafed_space/has_colimits.lean</code></p>



<a name="264443989"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Strange%20build%20failure/near/264443989" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Strange.20build.20failure.html#264443989">(Dec 10 2021 at 13:08)</a>:</h4>
<p>So this seems to be the same problem as <a href="#narrow/stream/113488-general/topic/mathlib.20broke">https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib.20broke</a> (sorry for duplicating)</p>



<a name="264445251"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Strange%20build%20failure/near/264445251" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Strange.20build.20failure.html#264445251">(Dec 10 2021 at 13:18)</a>:</h4>
<p>Oh and it seems to be affecting master too !? I am currently unable to get working oleans for current master</p>



<a name="264445809"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Strange%20build%20failure/near/264445809" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Strange.20build.20failure.html#264445809">(Dec 10 2021 at 13:23)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/issues/10703">#10703</a> should improve presheafed_space a bit - maybe it could have used higher priority</p>



<a name="264447084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Strange%20build%20failure/near/264447084" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Strange.20build.20failure.html#264447084">(Dec 10 2021 at 13:32)</a>:</h4>
<p>bors just finished a batch</p>



<a name="264447117"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Strange%20build%20failure/near/264447117" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Strange.20build.20failure.html#264447117">(Dec 10 2021 at 13:32)</a>:</h4>
<p>should we bump the prio on that PR?</p>



<a name="264447185"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Strange%20build%20failure/near/264447185" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Strange.20build.20failure.html#264447185">(Dec 10 2021 at 13:32)</a>:</h4>
<p>It seems to be part of the next batch</p>



<a name="264447195"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Strange%20build%20failure/near/264447195" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Strange.20build.20failure.html#264447195">(Dec 10 2021 at 13:32)</a>:</h4>
<p>It's in the current batch, yeah</p>



<a name="264447243"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Strange%20build%20failure/near/264447243" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Strange.20build.20failure.html#264447243">(Dec 10 2021 at 13:33)</a>:</h4>
<p>Best case, trying to change priority now doesn't do anything, worst case it cancels this batch</p>



<a name="264447601"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Strange%20build%20failure/near/264447601" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Strange.20build.20failure.html#264447601">(Dec 10 2021 at 13:36)</a>:</h4>
<p>I bumped the prio. If this batch fails, hopefully that means that <a href="https://github.com/leanprover-community/mathlib/issues/10703">#10703</a> will be tried on its own right after the failure.</p>



<a name="264449931"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Strange%20build%20failure/near/264449931" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Strange.20build.20failure.html#264449931">(Dec 10 2021 at 13:54)</a>:</h4>
<p>Links to PRs are failing. Must change "issues" to "pull" now. Strange github regression ...</p>



<a name="264450225"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Strange%20build%20failure/near/264450225" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Strange.20build.20failure.html#264450225">(Dec 10 2021 at 13:57)</a>:</h4>
<p>Yup, see also: <a href="#narrow/stream/236604-Zulip-meta/topic/linkifier.20to.20PRs/near/264364086">https://leanprover.zulipchat.com/#narrow/stream/236604-Zulip-meta/topic/linkifier.20to.20PRs/near/264364086</a></p>



<a name="264461822"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Strange%20build%20failure/near/264461822" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Strange.20build.20failure.html#264461822">(Dec 10 2021 at 15:21)</a>:</h4>
<p>Let's hope the build failures are now gone</p>



<a name="264464879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Strange%20build%20failure/near/264464879" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Strange.20build.20failure.html#264464879">(Dec 10 2021 at 15:43)</a>:</h4>
<p>I guess we still need to merge master to failing branches, right ?</p>



<a name="264465100"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Strange%20build%20failure/near/264465100" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Strange.20build.20failure.html#264465100">(Dec 10 2021 at 15:44)</a>:</h4>
<p>Only the ones failing with timeouts in <code>algebraic_geometry/presheafed_space/has_colimits.lean</code>. The ones where the server just died (maybe that was another thread), you can restart the build</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>