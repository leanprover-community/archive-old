---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html">CI takes several hours and then cancels</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="294796070"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/294796070" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#294796070">(Aug 23 2022 at 03:00)</a>:</h4>
<p>Dear All,</p>
<p>I have been experiencing the following issue with <a href="https://github.com/leanprover-community/mathlib/pull/16192">#16192</a>.</p>
<p>CI begins building mathlib, and after 6+ hours it cancels.  I tried re-running a couple of times, I also tried merging master, but nothing seems to make progress.  I do not know if it is an issue with the PR or with something else.  Is there something that I am missing?</p>
<p>Thanks!</p>



<a name="294796207"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/294796207" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#294796207">(Aug 23 2022 at 03:03)</a>:</h4>
<p>In case it helps, CI was successful sometimes in <a href="https://github.com/leanprover-community/mathlib/pull/15984">#15984</a> with those same lemmas (plus more in other files).  Thus, I do not think that the issue is with the lemmas themselves.</p>



<a name="294804938"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/294804938" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#294804938">(Aug 23 2022 at 05:28)</a>:</h4>
<p>Nevermind: CI was successful today! <span aria-label="octopus" class="emoji emoji-1f419" role="img" title="octopus">:octopus:</span></p>



<a name="294866860"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/294866860" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#294866860">(Aug 23 2022 at 13:37)</a>:</h4>
<p>I had the same issues with a couple of PRs at the weekend. I also had a situation where a PR was waiting a couple hours in the queue to begin the <code>lint mathlib</code> step, which seemed unusual.</p>



<a name="294894736"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/294894736" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#294894736">(Aug 23 2022 at 15:43)</a>:</h4>
<p>Yeah, this has been <a href="#narrow/stream/144837-PR-reviews/topic/.2316178">happening</a></p>



<a name="295256294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/295256294" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#295256294">(Aug 25 2022 at 15:35)</a>:</h4>
<p>I have a PR <a href="https://github.com/leanprover-community/mathlib/pull/16158">#16158</a> that I cannot merge because of apparent CI issues.</p>



<a name="295256615"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/295256615" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#295256615">(Aug 25 2022 at 15:37)</a>:</h4>
<p>It was sent to bors yesterday but it was cancelled due to a merge conflict. I fixed this conflict (renaming <code>round</code> to <code>round_eq</code>) and merged master but after building for nearly six hours over night, it was cancelled. I merged master again this morning and it has just been cancelled at the six hour mark while still building.</p>



<a name="295256728"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/295256728" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#295256728">(Aug 25 2022 at 15:38)</a>:</h4>
<p>Am I stuck? How can I get this merged?</p>



<a name="295256803"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/295256803" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#295256803">(Aug 25 2022 at 15:39)</a>:</h4>
<p>Try again. I've sometimes had to rerun CI thrice before it working.</p>



<a name="295256954"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/295256954" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#295256954">(Aug 25 2022 at 15:40)</a>:</h4>
<p>But is this CI being weird or is the build genuinely a six-hour run now?</p>



<a name="295257023"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/295257023" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#295257023">(Aug 25 2022 at 15:40)</a>:</h4>
<p>CI being weird.</p>



<a name="295257092"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/295257092" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#295257092">(Aug 25 2022 at 15:40)</a>:</h4>
<p>OK I'll hit rerun and cross my fingers.</p>



<a name="295257099"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/295257099" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#295257099">(Aug 25 2022 at 15:40)</a>:</h4>
<p>This also happens to linting, which usually takes 40min.</p>



<a name="295257233"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/295257233" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#295257233">(Aug 25 2022 at 15:41)</a>:</h4>
<p>I have seen the reports about the linting taking far too long.</p>



<a name="295257324"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/295257324" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#295257324">(Aug 25 2022 at 15:41)</a>:</h4>
<p>Oh, do you think you're not hitting the same problem here?</p>



<a name="295257391"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/295257391" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#295257391">(Aug 25 2022 at 15:42)</a>:</h4>
<p>I have no idea.</p>



<a name="295257485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/295257485" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#295257485">(Aug 25 2022 at 15:42)</a>:</h4>
<p>My guess is that at 22:41 this evening I'll be back here.</p>



<a name="295257943"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/295257943" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#295257943">(Aug 25 2022 at 15:45)</a>:</h4>
<p>Oliver, I've had this 6 hour issue with both lintiing and build steps now on various PRs. It's CI being weird, but it's getting really annoying.</p>



<a name="295258013"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/295258013" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#295258013">(Aug 25 2022 at 15:45)</a>:</h4>
<p>Ah OK thanks, that's good data.</p>



<a name="295262166"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/295262166" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#295262166">(Aug 25 2022 at 16:07)</a>:</h4>
<p>Is it swapping/thrashing? How much memory do the builders have?</p>



<a name="295262628"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/295262628" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#295262628">(Aug 25 2022 at 16:09)</a>:</h4>
<p>I don't think anyone has diagnosed it</p>



<a name="295263857"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/295263857" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#295263857">(Aug 25 2022 at 16:15)</a>:</h4>
<p>Is it only on lena/nael and friends, or also on the hoskinson ones?</p>



<a name="295271499"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/295271499" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#295271499">(Aug 25 2022 at 16:59)</a>:</h4>
<p>My two ~6 hour runs took place on <code>nael</code> and <code>lane</code> respectively.</p>



<a name="295271623"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/295271623" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#295271623">(Aug 25 2022 at 16:59)</a>:</h4>
<p>The new run is taking place on <code>hoskinson3</code> <span aria-label="fingers crossed" class="emoji emoji-1f91e" role="img" title="fingers crossed">:fingers_crossed:</span></p>



<a name="295272158"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/295272158" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#295272158">(Aug 25 2022 at 17:02)</a>:</h4>
<p>Can someone check the percentage of failures on <code>nael</code> and others? Maybe it's so low that CI would be faster without them?</p>



<a name="295286751"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/295286751" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#295286751">(Aug 25 2022 at 18:26)</a>:</h4>
<p>If you want another data point, <a href="https://github.com/leanprover-community/mathlib/pull/16127">#16127</a> has been linting for 5h30 and is not done yet!</p>



<a name="295293254"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/295293254" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#295293254">(Aug 25 2022 at 19:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="321459">Damiano Testa</span> <a href="#narrow/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels/near/295286751">said</a>:</p>
<blockquote>
<p>If you want another data point, <a href="https://github.com/leanprover-community/mathlib/pull/16127">#16127</a> has been linting for 5h30 and is not done yet!</p>
</blockquote>
<p>I note that this timed out also ran on <code>nael</code>.</p>



<a name="295297090"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/295297090" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#295297090">(Aug 25 2022 at 19:30)</a>:</h4>
<p>Yes, this has been a pretty common pattern recently.  I'll rerun the failed jobs and eventually it will build.</p>



<a name="295305628"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/295305628" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#295305628">(Aug 25 2022 at 20:29)</a>:</h4>
<p>The reattempted linting finished in 40min on <code>hoskinson2</code>.</p>



<a name="295330605"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/295330605" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#295330605">(Aug 26 2022 at 00:35)</a>:</h4>
<p>I've just restarted linting on <a href="https://github.com/leanprover-community/mathlib/pull/16231">#16231</a> after it timed out on <code>nela</code> after 6 hours.</p>



<a name="295351686"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/295351686" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#295351686">(Aug 26 2022 at 04:16)</a>:</h4>
<p>I would be tempted to cancel any linting jobs that take over 80 minutes. That's almost certainly more than is required for linting.</p>



<a name="295376302"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/295376302" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#295376302">(Aug 26 2022 at 08:32)</a>:</h4>
<p>Maybe the Freiburg runners should be end-of-lifed. Or at least reserved for much more trivial tasks.</p>



<a name="295573494"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/295573494" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kalle Kytölä <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#295573494">(Aug 27 2022 at 10:11)</a>:</h4>
<p>What is the recommended way to restart CI in these cases? Should one just push some tiny change? <a href="https://github.com/leanprover-community/mathlib/pull/15321">#15321</a> seems to have the same issue.</p>



<a name="295573651"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/295573651" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#295573651">(Aug 27 2022 at 10:12)</a>:</h4>
<p>Go <a href="https://github.com/leanprover-community/mathlib/runs/8045277604?check_suite_focus=true">here</a> and click <code>Re-run jobs</code>, <code>Re-run failed jobs</code>.</p>



<a name="295749001"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/295749001" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#295749001">(Aug 28 2022 at 19:07)</a>:</h4>
<p>another datapoint: <a href="https://github.com/leanprover-community/mathlib/pull/16269">#16269</a> failed now 3 times in the linting stage. this is PR only adds comments...</p>



<a name="295751762"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/295751762" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#295751762">(Aug 28 2022 at 19:44)</a>:</h4>
<p>Data point: <a href="https://github.com/leanprover-community/mathlib/runs/8058480550?check_suite_focus=true">mathlib build succeeded after 5 attempts</a><br>
In reverse chronological order:<br>
nela (lost communication)<br>
nela (exceeded 360 min)<br>
lena (exceeded 360 min)<br>
nale (exceeded 360 min)</p>



<a name="295752967"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/295752967" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#295752967">(Aug 28 2022 at 20:00)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/16231">#16231</a>: build mathlib cancelled on <code>nael</code> after 364m</p>



<a name="295753152"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/295753152" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#295753152">(Aug 28 2022 at 20:02)</a>:</h4>
<p>(Is it at all useful to be reporting these datapoints here, or is this all monitored in a more systematic way somewhere?)</p>



<a name="295753360"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/295753360" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#295753360">(Aug 28 2022 at 20:05)</a>:</h4>
<p>I would say that it is clear: if a job is not handled by <code>hoskinsoni</code>, it will almost certainly time out.</p>



<a name="295753448"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/295753448" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#295753448">(Aug 28 2022 at 20:06)</a>:</h4>
<p>There was some talk about how runners had their disk full. Can we somehow clear their hardrive from all the past logs?</p>



<a name="295762478"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/295762478" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#295762478">(Aug 28 2022 at 22:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="422543">Stuart Presnell</span> <a href="#narrow/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels/near/295753152">said</a>:</p>
<blockquote>
<p>(Is it at all useful to be reporting these datapoints here, or is this all monitored in a more systematic way somewhere?)</p>
</blockquote>
<p>Yes, thank you for reporting these! Unfortunately we're still investigating what's going on with the Freiberg runners. Would anyone be opposed if we just disabled them temporarily? This could mean that everyone's builds will have to wait in queue longer (note that the <code>staging</code> build which gets merged into <code>master</code> has a dedicated runner so it won't be affected).</p>



<a name="295762550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/295762550" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#295762550">(Aug 28 2022 at 22:39)</a>:</h4>
<p>Given that most builds take over a day of restarting the jobs, I'm very fine with this!</p>



<a name="295772832"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/295772832" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#295772832">(Aug 29 2022 at 02:27)</a>:</h4>
<p>OK, I've disabled the Freiberg runners (lane, lena, nale, nael, nela). After they finish (or fail) their currently running jobs, no more jobs should be sent to them.</p>



<a name="296693363"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/296693363" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#296693363">(Sep 01 2022 at 20:19)</a>:</h4>
<p>The queue seems to be coping alright! This seems like a completely positive change all around :)</p>



<a name="296693617"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/CI%20takes%20several%20hours%20and%20then%20cancels/near/296693617" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/CI.20takes.20several.20hours.20and.20then.20cancels.html#296693617">(Sep 01 2022 at 20:21)</a>:</h4>
<p>I agree!  I rarely had to wait for a job to start and they were all successful, when they were supposed to be!  <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>