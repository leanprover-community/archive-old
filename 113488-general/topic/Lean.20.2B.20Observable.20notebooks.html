---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html">Lean + Observable notebooks</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="171903627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/171903627" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#171903627">(Jul 28 2019 at 20:48)</a>:</h4>
<p>I've been playing around with displaying and interacting with Lean files on the web using "Observable notebooks" recently. See this page for a demonstration:</p>
<p><a href="https://observablehq.com/@bryangingechen/fibonacci-formalized-1-some-sums" target="_blank" title="https://observablehq.com/@bryangingechen/fibonacci-formalized-1-some-sums">https://observablehq.com/@bryangingechen/fibonacci-formalized-1-some-sums</a></p>
<p>Basically, the notebook displays some simple Lean code in several embedded Lean editors with lots of markdown / LaTeX explanation around them. You can click to the left of any of the "cells" to see their Javascript source code. You can write and edit notebooks like this directly in your browser if you create a free account on <a href="http://observablehq.com" target="_blank" title="http://observablehq.com">observablehq.com</a> by e.g. signing in with Github.</p>
<p>One feature I rigged into the Lean editor cells is that they pass their messages from the Lean server back to Javascript. Since Observable notebooks work like spreadsheets, I could make "Lean-driven" graphics like the ones in the following notebook:</p>
<p><a href="https://observablehq.com/@bryangingechen/fibonacci-formalized-2-bees-and-cars" target="_blank" title="https://observablehq.com/@bryangingechen/fibonacci-formalized-2-bees-and-cars">https://observablehq.com/@bryangingechen/fibonacci-formalized-2-bees-and-cars</a></p>
<p>Try changing the numbers in the <code>#eval</code> statements in the editors above the family tree graphic and the car configuration graphic and seeing how they change. (Don't make them too large or else browser Lean will run out of memory). </p>
<p>It'd be interesting to see what else this could be used for!</p>
<p>I wrote a little bit more about Observable notebooks and how you can write notebooks like these at the end of the first notebook above, but feel free to ask here if you have any questions.</p>



<a name="171904372"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/171904372" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#171904372">(Jul 28 2019 at 21:10)</a>:</h4>
<p>I haven't seen anyone do anything except D3 visualizations on Observable. This is great!</p>



<a name="171904627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/171904627" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#171904627">(Jul 28 2019 at 21:19)</a>:</h4>
<p>This is really cool!</p>



<a name="171904709"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/171904709" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#171904709">(Jul 28 2019 at 21:21)</a>:</h4>
<p>I love reading interactive notebook explanations; I still look at Peter Norvig's Jupyter notebooks from time to time for reference.</p>



<a name="171904870"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/171904870" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#171904870">(Jul 28 2019 at 21:25)</a>:</h4>
<p>Thanks, glad you guys like it! I'm hoping other folks will try out writing some notebooks with Lean. I'm sure the code I wrote could be improved so I'm looking forward to feedback.</p>



<a name="171905124"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/171905124" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#171905124">(Jul 28 2019 at 21:32)</a>:</h4>
<p>I might give it a shot in the next couple weeks. I'm mostly a Jupyter person since I like to program in languages that don't have a native WASM backend like Lean, so this is incentive to figure out how ObservableHQ works.</p>



<a name="171953699"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/171953699" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yao Liu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#171953699">(Jul 29 2019 at 15:06)</a>:</h4>
<p>Great! I'll see if I can learn some basics of Lean this way. I love Observable for the ability to easily write in LaTeX. For suggestions, as much as I like to write long posts to explain, Observable is at its best for smallish notebook so people could fork out and tinker with (and also making PR). I recall Kevin's suggestion for math people was to start off by reading definitions and statements, not the proofs, of interesting theorems, to get familiar with the syntax. Fibonacci stuff is as good as any.</p>



<a name="171955577"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/171955577" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#171955577">(Jul 29 2019 at 15:28)</a>:</h4>
<p>Yeah, point taken about the long notebooks. In fact, Fibonacci parts 1 and 2 were actually originally one super-long notebook.</p>



<a name="172151354"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/172151354" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#172151354">(Jul 31 2019 at 18:14)</a>:</h4>
<p>It's now possible to use Lean running on your computer as a backend to the Lean editors on Observable!</p>
<p><a href="https://observablehq.com/@bryangingechen/lean-websocketd" target="_blank" title="https://observablehq.com/@bryangingechen/lean-websocketd">https://observablehq.com/@bryangingechen/lean-websocketd</a></p>
<p>In short, <a href="http://websocketd.com/" target="_blank" title="http://websocketd.com/">websocketd</a> makes it really convenient to turn any program that reads from stdin and writes to stdout to a local webserver, so I wrote a little bit of code to replace the connection to Emscripten Lean with a connection to that server.</p>
<p>Using this, you can play around with Lean in notebooks without being constrained by the various shortcomings of Lean in the browser. For instance, you can import from Lean packages on your computer without having to create and upload some <code>library.zip</code> bundle.</p>



<a name="172151658"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/172151658" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#172151658">(Jul 31 2019 at 18:17)</a>:</h4>
<p>Whoah! That's really wicked! Well done.</p>



<a name="172151727"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/172151727" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#172151727">(Jul 31 2019 at 18:18)</a>:</h4>
<p>I guess it also gives some speed up. wasm can only do so much.</p>



<a name="172152690"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/172152690" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#172152690">(Jul 31 2019 at 18:28)</a>:</h4>
<p>Very true, particularly since it is single-threaded. However, Emscripten Lean does seem to be able to avoid some crashes. Something to do with the way it treats null pointer dereferences I guess.</p>



<a name="172156464"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/172156464" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#172156464">(Jul 31 2019 at 19:11)</a>:</h4>
<blockquote>
<p>It's now possible to use Lean running on your computer as a backend to the Lean editors on Observable!</p>
<p><a href="https://observablehq.com/@bryangingechen/lean-websocketd" target="_blank" title="https://observablehq.com/@bryangingechen/lean-websocketd">https://observablehq.com/@bryangingechen/lean-websocketd</a></p>
<p>In short, <a href="http://websocketd.com/" target="_blank" title="http://websocketd.com/">websocketd</a> makes it really convenient to turn any program that reads from stdin and writes to stdout to a local webserver, so I wrote a little bit of code to replace the connection to Emscripten Lean with a connection to that server.</p>
<p>Using this, you can play around with Lean in notebooks without being constrained by the various shortcomings of Lean in the browser. For instance, you can import from Lean packages on your computer without having to create and upload some <code>library.zip</code> bundle.</p>
</blockquote>
<p>what the... this is insane! <span aria-label="flushed" class="emoji emoji-1f633" role="img" title="flushed">:flushed:</span></p>



<a name="172157020"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/172157020" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#172157020">(Jul 31 2019 at 19:18)</a>:</h4>
<p>why have I never heard of observablehq?! It's so slick!</p>



<a name="172157355"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/172157355" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#172157355">(Jul 31 2019 at 19:22)</a>:</h4>
<p><span class="user-mention" data-user-id="123965">@Bryan Gin-ge Chen</span>  On the website, it says <code>Unlimited free viewers</code> for the paid version. Does this mean your notebooks can only be viewed a certain number of times if you don't have a subscription?</p>



<a name="172157741"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/172157741" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#172157741">(Jul 31 2019 at 19:28)</a>:</h4>
<p>I think that's referring to private team notebooks where you can give out some login keys for other people to view (but not edit). I haven't noticed any restrictions with my free account yet.</p>



<a name="172157804"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/172157804" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#172157804">(Jul 31 2019 at 19:29)</a>:</h4>
<p>Maybe <a href="https://talk.observablehq.com/t/teams-features/1937/2" target="_blank" title="https://talk.observablehq.com/t/teams-features/1937/2">this post</a> will clarify things.</p>



<a name="172157986"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/172157986" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#172157986">(Jul 31 2019 at 19:32)</a>:</h4>
<p>Nice! I'll start reading observablehq tutorials then! :)</p>



<a name="172158086"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/172158086" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#172158086">(Jul 31 2019 at 19:33)</a>:</h4>
<p>Great, feel free to reach out if you have any questions!</p>



<a name="172167088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/172167088" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#172167088">(Jul 31 2019 at 21:21)</a>:</h4>
<p>I most certainly will - thanks! :)</p>



<a name="173975032"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/173975032" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#173975032">(Aug 23 2019 at 14:55)</a>:</h4>
<p>I built an interactive <a href="https://observablehq.com/@kappelmann/lean-proof-view" target="_blank" title="https://observablehq.com/@kappelmann/lean-proof-view">Lean proof view</a> on top of <span class="user-mention" data-user-id="123965">@Bryan Gin-ge Chen</span>'s neat work - feel free to check it out and tell me what you like and what you miss :) Its purpose is to interactively compare a standard maths proof and Lean proof, side by side. <a href="/user_uploads/3121/BCMJzTQuKsSjtjHWJce7sQ4R/pasted_image.png" target="_blank" title="pasted_image.png">image</a> (note: first page visit downloads ~20MB of Lean files, so it might take a bit).</p>
<div class="message_inline_image"><a href="/user_uploads/3121/BCMJzTQuKsSjtjHWJce7sQ4R/pasted_image.png" target="_blank" title="image"><img src="/user_uploads/3121/BCMJzTQuKsSjtjHWJce7sQ4R/pasted_image.png"></a></div>



<a name="173975321"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/173975321" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#173975321">(Aug 23 2019 at 14:58)</a>:</h4>
<p>Nice!</p>



<a name="173975402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/173975402" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#173975402">(Aug 23 2019 at 14:59)</a>:</h4>
<p>This is read-only Lean, right? So what is the difference with <code>format_lean</code> (apart from slow loading time and dependence on observablehq)?</p>



<a name="173975508"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/173975508" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#173975508">(Aug 23 2019 at 15:00)</a>:</h4>
<p>It is fully interactive</p>



<a name="173975529"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/173975529" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#173975529">(Aug 23 2019 at 15:00)</a>:</h4>
<p>How do you interact?</p>



<a name="173975550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/173975550" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#173975550">(Aug 23 2019 at 15:01)</a>:</h4>
<p>You can use the Lean editor below the proof view</p>



<a name="173975562"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/173975562" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#173975562">(Aug 23 2019 at 15:01)</a>:</h4>
<p>or you can change the proof view command to </p>
<div class="codehilite"><pre><span></span><span class="nx">proofView</span><span class="p">({</span><span class="nx">proof</span><span class="o">:</span> <span class="nx">sqrtTwoIrrat</span><span class="p">,</span> <span class="nx">invalidation</span><span class="p">,</span> <span class="nx">indexOffset</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">editorOpts</span><span class="o">:</span> <span class="p">{</span><span class="nx">readOnly</span><span class="o">:</span> <span class="kc">false</span><span class="p">}})</span>
</pre></div>



<a name="173975718"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/173975718" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#173975718">(Aug 23 2019 at 15:03)</a>:</h4>
<p>Is it meant to update the top of the page (with step by step proof)?</p>



<a name="173975806"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/173975806" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#173975806">(Aug 23 2019 at 15:04)</a>:</h4>
<p>It looks very promising anyway.</p>



<a name="173975901"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/173975901" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#173975901">(Aug 23 2019 at 15:05)</a>:</h4>
<p>Changing the proof in the editor below does not automatically update the step by step proof at the top (there was an attempt to do so, but it's not straightforward). If you want to update the proof at the top, you need to replace the value of <code>sqrtTwoIrrat</code>(just below the step by step proof view) with the new content</p>



<a name="173975904"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/173975904" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#173975904">(Aug 23 2019 at 15:05)</a>:</h4>
<p>Could you get rid of that awful green, it looks a lot like <a href="https://upload.wikimedia.org/wikipedia/commons/7/74/Coq_8.5_stdlib_proof.png" target="_blank" title="https://upload.wikimedia.org/wikipedia/commons/7/74/Coq_8.5_stdlib_proof.png">https://upload.wikimedia.org/wikipedia/commons/7/74/Coq_8.5_stdlib_proof.png</a> which is one of those things from the past that make people not even try Coq and come here instead</p>
<div class="message_inline_image"><a href="https://upload.wikimedia.org/wikipedia/commons/7/74/Coq_8.5_stdlib_proof.png" target="_blank" title="https://upload.wikimedia.org/wikipedia/commons/7/74/Coq_8.5_stdlib_proof.png"><img src="https://upload.wikimedia.org/wikipedia/commons/7/74/Coq_8.5_stdlib_proof.png"></a></div>



<a name="173976027"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/173976027" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#173976027">(Aug 23 2019 at 15:07)</a>:</h4>
<p>It says "You have 1 unsaved change. Fork this notebook to save." when I try to edit that</p>



<a name="173976110"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/173976110" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Kappelmann <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#173976110">(Aug 23 2019 at 15:08)</a>:</h4>
<p>Yep, that means you can now create a fork of my notebook if you want to - just like in git.</p>



<a name="173976136"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/173976136" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#173976136">(Aug 23 2019 at 15:08)</a>:</h4>
<p>Anyway, I think we need a lighter variation on this in order to display read-only Lean files (something we could host on <a href="http://github.io" target="_blank" title="http://github.io">github.io</a> pages for instances).</p>



<a name="176951617"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/176951617" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#176951617">(Sep 30 2019 at 17:03)</a>:</h4>
<p>Today I wanted to try to get into this more but found out that all notebooks stopped working on my Firefox. What happened?</p>



<a name="176951701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/176951701" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#176951701">(Sep 30 2019 at 17:04)</a>:</h4>
<p>Interesting, they are working for me. Do you mean that every Observable notebook is failing, or just the ones with Lean editors?</p>



<a name="176951867"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/176951867" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#176951867">(Sep 30 2019 at 17:06)</a>:</h4>
<p>More precisely the notebooks are working, but none of the Lean editors are working.</p>



<a name="176951951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/176951951" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#176951951">(Sep 30 2019 at 17:07)</a>:</h4>
<p>In what way precisely do they fail to work? Can you share a screenshot? Do you see any errors in your browser's dev console?</p>



<a name="176952090"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/176952090" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#176952090">(Sep 30 2019 at 17:08)</a>:</h4>
<p><a href="/user_uploads/3121/_0L3-7qmzc_2J7_ebXVE_zM9/Screen-Shot-2019-09-30-at-13.07.13.png" target="_blank" title="Screen-Shot-2019-09-30-at-13.07.13.png">Screen-Shot-2019-09-30-at-13.07.13.png</a> <br>
log:</p>
<div class="message_inline_image"><a href="/user_uploads/3121/_0L3-7qmzc_2J7_ebXVE_zM9/Screen-Shot-2019-09-30-at-13.07.13.png" target="_blank" title="Screen-Shot-2019-09-30-at-13.07.13.png"><img src="/user_uploads/3121/_0L3-7qmzc_2J7_ebXVE_zM9/Screen-Shot-2019-09-30-at-13.07.13.png"></a></div><div class="codehilite"><pre><span></span>Content Security Policy: Couldn’t process unknown directive ‘prefetch-src’
Content Security Policy: The page’s settings blocked the loading of a resource at eval (“script-src”).
Content Security Policy: The page’s settings blocked the loading of a resource at inline (“script-src”). 3 proof-view-designer-template:1:1
resetting open lean files... hello-lean-prover.js:483:11
downloading lean... 9aa8d4b2-493f-404a-802d-bd2bf573409f:8:49093
starting lean... 9aa8d4b2-493f-404a-802d-bd2bf573409f:8:48228
</pre></div>



<a name="176952263"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/176952263" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#176952263">(Sep 30 2019 at 17:10)</a>:</h4>
<p>Ah, OK, the cells aren't loading for me either. <span class="user-mention" data-user-id="198376">@Kevin Kappelmann</span> </p>
<p>Does the editor for this notebook load for you? <a href="https://observablehq.com/@kappelmann/lean-proof-view" target="_blank" title="https://observablehq.com/@kappelmann/lean-proof-view">https://observablehq.com/@kappelmann/lean-proof-view</a></p>



<a name="176952312"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/176952312" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#176952312">(Sep 30 2019 at 17:11)</a>:</h4>
<p>Because that one and the <a href="https://observablehq.com/@bryangingechen/hello-lean-prover" target="_blank" title="https://observablehq.com/@bryangingechen/hello-lean-prover">notebook that implements the editor</a> both work for me.</p>



<a name="176952327"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/176952327" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#176952327">(Sep 30 2019 at 17:11)</a>:</h4>
<p>lol it took a looooong time</p>



<a name="176952374"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/176952374" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#176952374">(Sep 30 2019 at 17:11)</a>:</h4>
<p>but i loaded it</p>



<a name="176952443"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/176952443" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#176952443">(Sep 30 2019 at 17:12)</a>:</h4>
<p>I guess it was just slow on cold boot</p>



<a name="176952808"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/176952808" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#176952808">(Sep 30 2019 at 17:16)</a>:</h4>
<p>Hmm. When I refreshed <a href="https://observablehq.com/@kappelmann/proof-view-designer-template" target="_blank" title="https://observablehq.com/@kappelmann/proof-view-designer-template">the Proof View Designer Template notebook</a> it loaded quickly, but then I get the message: <code>file '/library/init/default.lean' not found</code> which means that something screwed up the notebook's IndexedDB cache on my end. I'll have to investigate this further.</p>
<p>Glad you got things working though! Feel free to ask here if you run into more trouble!</p>



<a name="176953205"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/176953205" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#176953205">(Sep 30 2019 at 17:22)</a>:</h4>
<p><a href="https://observablehq.com/@kappelmann/lean-proof-view" target="_blank" title="https://observablehq.com/@kappelmann/lean-proof-view">https://observablehq.com/@kappelmann/lean-proof-view</a> still doesn't display any of the lean cells.</p>
<p>log:</p>
<div class="codehilite"><pre><span></span>Content Security Policy: Couldn’t process unknown directive ‘prefetch-src’
Content Security Policy: The page’s settings blocked the loading of a resource at eval (“script-src”).
Content Security Policy: The page’s settings blocked the loading of a resource at inline (“script-src”). 3 lean-proof-view:1:1
resetting open lean files... hello-lean-prover.js:483:11
downloading lean... 2a56e349-1112-a845-b6e5-28d9d8a66f8c:8:49093
TypeError: First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object. 2a56e349-1112-a845-b6e5-28d9d8a66f8c:8:1610
    u blob:https://kappelmann.static.observableusercontent.com/2a56e349-1112-a845-b6e5-28d9d8a66f8c:8
    u blob:https://kappelmann.static.observableusercontent.com/2a56e349-1112-a845-b6e5-28d9d8a66f8c:8
    c blob:https://kappelmann.static.observableusercontent.com/2a56e349-1112-a845-b6e5-28d9d8a66f8c:8
    onsuccess blob:https://kappelmann.static.observableusercontent.com/2a56e349-1112-a845-b6e5-28d9d8a66f8c:8
starting lean... 2a56e349-1112-a845-b6e5-28d9d8a66f8c:8:48228
</pre></div>



<a name="176953464"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/176953464" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#176953464">(Sep 30 2019 at 17:25)</a>:</h4>
<p><a href="https://observablehq.com/@bryangingechen/hello-lean-prover" target="_blank" title="https://observablehq.com/@bryangingechen/hello-lean-prover">https://observablehq.com/@bryangingechen/hello-lean-prover</a> displays everything normally</p>



<a name="176953772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/176953772" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#176953772">(Sep 30 2019 at 17:28)</a>:</h4>
<p>Could you try the following:<br>
- navigate to the "Storage" tab in the Firefox dev tools from the lean-proof-view notebook<br>
- click on Indexed DB in the list on the left<br>
- open the <a href="https://kappelmann.static.observableusercontent.com" target="_blank" title="https://kappelmann.static.observableusercontent.com">https://kappelmann.static.observableusercontent.com</a> entry<br>
- right click and delete the "leanlibrary (default)" entry<br>
- refresh</p>



<a name="177090577"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/177090577" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#177090577">(Oct 01 2019 at 19:44)</a>:</h4>
<p>Ah, the TypeError disappeared.</p>



<a name="177090871"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/177090871" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#177090871">(Oct 01 2019 at 19:47)</a>:</h4>
<p>OK, great. I made a small change so that the libraries get loaded more robustly going forward. Do share in this thread if you end up making anything with Observable+Lean!</p>



<a name="177110244"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/177110244" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20.2B.20Observable.20notebooks.html#177110244">(Oct 02 2019 at 00:07)</a>:</h4>
<p>I did not have time and I confirmed it loads well now. Thank you! I will!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>