---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/olean.20cache.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html">olean cache</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="197066669"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197066669" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197066669">(May 10 2020 at 17:17)</a>:</h4>
<p>I have two questions about olean cache:</p>
<ol>
<li>Is there any reason to use <code>tar.gz</code> and not, e.g., <code>tar.xz</code>?</li>
<li>Is there a command to remove old files from <code>~/.mathlib</code>? I know about <code>rm ~/.mathlib/*.tar*</code> but I'd like to preserve, e.g., caches corresponding to live branch heads.</li>
</ol>



<a name="197671471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197671471" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197671471">(May 15 2020 at 10:13)</a>:</h4>
<p>Ping here. Can we switch to <code>tar.xz</code>?</p>



<a name="197671539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197671539" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197671539">(May 15 2020 at 10:14)</a>:</h4>
<p>I think this is a question for <span class="user-mention" data-user-id="110596">@Rob Lewis</span></p>



<a name="197671542"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197671542" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197671542">(May 15 2020 at 10:14)</a>:</h4>
<p>This would save bandwidth and upload/download times.</p>



<a name="197671577"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197671577" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197671577">(May 15 2020 at 10:14)</a>:</h4>
<p>Well, I would need to adjust leanproject too, but not much (maybe not at all)</p>



<a name="197671736"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197671736" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197671736">(May 15 2020 at 10:16)</a>:</h4>
<p>I think 2 is for <span class="user-mention" data-user-id="110031">@Patrick Massot</span> , this seems like a leanproject command. For 1, I don't know if there was a reason. We could change it but it will break urls for leanproject, so there would need to be a change there. And we'd need to keep checking gz for backward compatibility.</p>



<a name="197672033"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197672033" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197672033">(May 15 2020 at 10:20)</a>:</h4>
<p>I checked, the unpacking function is generic enough but of course the url contains .tar.gz</p>



<a name="197672079"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197672079" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197672079">(May 15 2020 at 10:20)</a>:</h4>
<p>The lazy transition solution would be to first try tar.xz and fall back to tar.gz</p>



<a name="197672124"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197672124" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197672124">(May 15 2020 at 10:21)</a>:</h4>
<p>I don't see any issue it could cause</p>



<a name="197672126"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197672126" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197672126">(May 15 2020 at 10:21)</a>:</h4>
<p><span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> was there a reason to use gz? I don't remember which of us set that up. If I did it, gz was probably just inertia.</p>



<a name="197672226"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197672226" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197672226">(May 15 2020 at 10:22)</a>:</h4>
<p>The only transition issue is people with outdated leanproject will start getting errors.</p>



<a name="197672250"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197672250" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197672250">(May 15 2020 at 10:22)</a>:</h4>
<p>About deleting old archives, I can implement it if you tell me precisely what you want. Or I can merge a PR, this is probably just as fast to do it rather than telling me</p>



<a name="197672276"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197672276" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197672276">(May 15 2020 at 10:22)</a>:</h4>
<blockquote>
<p>The only transition issue is people with outdated leanproject will start getting errors.</p>
</blockquote>
<p>True, this is already pretty bad</p>



<a name="197672297"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197672297" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197672297">(May 15 2020 at 10:23)</a>:</h4>
<p>Are .xz so much smaller than .gz?</p>



<a name="197672434"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197672434" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197672434">(May 15 2020 at 10:24)</a>:</h4>
<p>Repacking</p>



<a name="197672492"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197672492" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197672492">(May 15 2020 at 10:25)</a>:</h4>
<p>Also need to add download time and unpacking time</p>



<a name="197672578"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197672578" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197672578">(May 15 2020 at 10:26)</a>:</h4>
<p>I wonder why some of today's files are <code>tar.bz2</code></p>



<a name="197672617"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197672617" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197672617">(May 15 2020 at 10:26)</a>:</h4>
<p>local cache?</p>



<a name="197672662"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197672662" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197672662">(May 15 2020 at 10:27)</a>:</h4>
<p>yes</p>



<a name="197672667"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197672667" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197672667">(May 15 2020 at 10:27)</a>:</h4>
<p>It saves ~7mb, not insignificant.</p>



<a name="197672965"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197672965" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197672965">(May 15 2020 at 10:31)</a>:</h4>
<p><code>xz</code>: 19M, <code>bz2</code>: 23M, <code>gz</code>: 26M</p>



<a name="197673023"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197673023" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197673023">(May 15 2020 at 10:32)</a>:</h4>
<p>What about unpacking times?</p>



<a name="197673062"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197673062" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197673062">(May 15 2020 at 10:32)</a>:</h4>
<p><code>xz</code>: 2.2s</p>



<a name="197673092"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197673092" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197673092">(May 15 2020 at 10:33)</a>:</h4>
<p><code>gz</code>: 0.8s</p>



<a name="197673117"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197673117" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197673117">(May 15 2020 at 10:33)</a>:</h4>
<p><code>bz2</code>: 3.8s</p>



<a name="197673175"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197673175" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197673175">(May 15 2020 at 10:34)</a>:</h4>
<p>Ok, this is a huge difference. Probably negligible compared to download time, but maybe not compared to local copy</p>



<a name="197673218"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197673218" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197673218">(May 15 2020 at 10:35)</a>:</h4>
<p>So probably local cache should be stored in <code>tar.gz</code></p>



<a name="197673392"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197673392" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197673392">(May 15 2020 at 10:37)</a>:</h4>
<p>For me download time is 40-80s depending on I-don't-know-what</p>



<a name="197673432"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197673432" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197673432">(May 15 2020 at 10:37)</a>:</h4>
<p>(yes, I probably should change the ISP)</p>



<a name="197673670"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197673670" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197673670">(May 15 2020 at 10:40)</a>:</h4>
<p>That's your normal download speed for a 27mb file? We pay "a lot" for the fancy Azure CDN for fast download speeds, so I just want to make sure it's not a limitation there.</p>



<a name="197673681"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197673681" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197673681">(May 15 2020 at 10:40)</a>:</h4>
<p>Unfortunately, "forced to use home Internet all the time" and "hard to switch the ISP" came together.</p>



<a name="197673706"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197673706" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197673706">(May 15 2020 at 10:41)</a>:</h4>
<p>The bottleneck is definitely on my side.</p>



<a name="197673722"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197673722" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197673722">(May 15 2020 at 10:41)</a>:</h4>
<p>Even Zulip must be slow at this rate</p>



<a name="197673816"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197673816" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197673816">(May 15 2020 at 10:42)</a>:</h4>
<p>Even Amazon video / Netflix work at this rate (never tried HD).</p>



<a name="197674025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197674025" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197674025">(May 15 2020 at 10:45)</a>:</h4>
<p>The optimal compression method is gonna depend on both bandwidth and processing time. My guess is I'd see a small gain from xz but nothing that significant. Slow laptop on a university connection will prefer gz.</p>



<a name="197674052"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197674052" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197674052">(May 15 2020 at 10:45)</a>:</h4>
<p>But there are clear gains from xz on the Azure side, it basically cuts 25% off the bill.</p>



<a name="197674083"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197674083" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197674083">(May 15 2020 at 10:45)</a>:</h4>
<p><span class="user-mention silent" data-user-id="214703">Yury G. Kudryashov</span> <a href="#narrow/stream/113488-general/topic/olean.20cache/near/197673392">said</a>:</p>
<blockquote>
<p>For me download time is 40-80s depending on I-don't-know-what</p>
</blockquote>
<p>For me, it's more like 90 seconds, and this is the normal speed due to my internet connection...</p>



<a name="197674086"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197674086" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197674086">(May 15 2020 at 10:46)</a>:</h4>
<p>Not that saving $3/mo matters so much.</p>



<a name="197674164"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197674164" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197674164">(May 15 2020 at 10:46)</a>:</h4>
<p>And decompressing time will be completely negligible, so I vote strongly for <code>.xz</code>.</p>



<a name="197674189"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197674189" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197674189">(May 15 2020 at 10:47)</a>:</h4>
<p>I had no idea it was still possible to get 300kbps lines.</p>



<a name="197674226"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197674226" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197674226">(May 15 2020 at 10:47)</a>:</h4>
<p>All the houses in the neighborhood have optical fiber, except mine and my direct neighbor's because of bad luck.</p>



<a name="197674237"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197674237" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197674237">(May 15 2020 at 10:47)</a>:</h4>
<p>I lived in Papua New Guinea for half a year... glad I didn't know about <code>leanproject</code> back then (-;<br>
We had a satellite connection to Asia, and could receive email / browse a 2 kbps, or something like that.</p>



<a name="197674354"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197674354" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197674354">(May 15 2020 at 10:49)</a>:</h4>
<p>Now I picture Yury living on a small island in the middle of a huge Canadian lake, surrounded by 100km of forest with no other human being (but lots of animals).</p>



<a name="197674407"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197674407" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197674407">(May 15 2020 at 10:50)</a>:</h4>
<p>although Toronto didn't look  exactly like that last time I checked</p>



<a name="197674457"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197674457" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197674457">(May 15 2020 at 10:50)</a>:</h4>
<p>And Sebastien the same, except it's a French lake and the animals all have optical fiber.</p>



<a name="197674504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197674504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197674504">(May 15 2020 at 10:50)</a>:</h4>
<p>We don't have the right kind of lakes in France</p>



<a name="197674541"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197674541" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197674541">(May 15 2020 at 10:51)</a>:</h4>
<p>I have a 6Mbps Internet via a phone line.</p>



<a name="197674586"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197674586" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197674586">(May 15 2020 at 10:51)</a>:</h4>
<p>Same here: when I am really in trouble, I use the phone :)</p>



<a name="197674684"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197674684" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197674684">(May 15 2020 at 10:53)</a>:</h4>
<p>Something like <a href="https://www.privateislandsonline.com/uploads/resize/_1548_image_cbb0871e3b.jpg-2148-1600.jpg">https://www.privateislandsonline.com/uploads/resize/_1548_image_cbb0871e3b.jpg-2148-1600.jpg</a></p>
<div class="message_inline_image"><a href="https://www.privateislandsonline.com/uploads/resize/_1548_image_cbb0871e3b.jpg-2148-1600.jpg"><img src="https://www.privateislandsonline.com/uploads/resize/_1548_image_cbb0871e3b.jpg-2148-1600.jpg"></a></div>



<a name="197674849"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197674849" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197674849">(May 15 2020 at 10:55)</a>:</h4>
<p>Ooh well... it's only 2 months ago that I had 0 kbps for 3 days because they cut an internet cable at a construction site in town.</p>



<a name="197674882"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197674882" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197674882">(May 15 2020 at 10:55)</a>:</h4>
<p>I've been on a small island in the middle of a lake in Canada surrounded by forests that looks <em>remarkably</em> like that one. It took me a while to convince myself that that was actually not a photo of the island I've been to.</p>



<a name="197675766"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197675766" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197675766">(May 15 2020 at 11:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110596">Rob Lewis</span> <a href="#narrow/stream/113488-general/topic/olean.20cache/near/197672126">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="110043">Gabriel Ebner</span> was there a reason to use gz? I don't remember which of us set that up. If I did it, gz was probably just inertia.</p>
</blockquote>
<p>Yes, it was inertia.  I don't see any reason why we couldn't switch to <code>xz</code>.  We could also deploy both <code>xz</code> and <code>gz</code> for a while while leanproject support is being rolled out.</p>



<a name="197675792"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197675792" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197675792">(May 15 2020 at 11:07)</a>:</h4>
<p>Another idea: we could drop the <code>.lean</code> files and just distribute the <code>.olean</code> files.</p>



<a name="197676232"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197676232" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197676232">(May 15 2020 at 11:12)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="gp">$</span> ls -l *.tar.xz
<span class="go">-rw-r--r-- 1 urkud users 17979212 May 15 07:04 without-leans.tar.xz</span>
<span class="go">-rw-r--r-- 1 urkud users 19744024 May 15 07:10 with-leans.tar.xz</span>
</code></pre></div>



<a name="197679354"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197679354" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197679354">(May 15 2020 at 11:47)</a>:</h4>
<p>You might also be interested in <code>zstd</code>.</p>
<blockquote>
<p>Arch Linux added support for zstd as a package compression method in October 2019 with the release of the pacman 5.2 package manager,[25] and in January 2020 switched from xz to zstd for the packages in the official repository. Arch uses zstd -c -T0 --ultra -20 -, the size of all compressed packages combined increased by 0.8% (compared to xz), the decompression speed is 1300% faster, decompression memory increased by 50 MiB when using multiple threads, compression memory increases but scales with the number of threads used.</p>
</blockquote>



<a name="197681344"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/olean%20cache/near/197681344" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/olean.20cache.html#197681344">(May 15 2020 at 12:10)</a>:</h4>
<p>Sounds good!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>