---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/.60differentiate.60.20tactic.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60differentiate.60.20tactic.html">`differentiate` tactic</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="243460723"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60differentiate%60%20tactic/near/243460723" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Stevens <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60differentiate.60.20tactic.html#243460723">(Jun 22 2021 at 00:40)</a>:</h4>
<p>Before I start diving in to try and write my first tactic, is there prior art for a tactic that calculates the derivative of a function, and proves that the function is differentiable? (Before Mario gets unhappy, I've been thinking of the existing Bertrand PR as a fairly cheap way for me to find out what's currently painful - e.g. real arithmetic and differentiation - in the hope of finding some low-hanging fruit for general improvements.) I twice ended up writing totally mechanical proofs e.g. <a href="https://github.com/leanprover-community/mathlib/pull/8002/files#diff-779714ecbcf3ae1ddff8a35448792a63daacd8e7c2b942aa723c2c19b65ec2ddR397">https://github.com/leanprover-community/mathlib/pull/8002/files#diff-779714ecbcf3ae1ddff8a35448792a63daacd8e7c2b942aa723c2c19b65ec2ddR397</a>. (Even worse, I ended up almost perfectly duplicating the proof - once to calculate the derivative, and once to prove that we actually are differentiable and the derivative isn't 0 for stupid reasons - but I'm more sure I just missed the API that I was meant to use.)</p>



<a name="243460961"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60differentiate%60%20tactic/near/243460961" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60differentiate.60.20tactic.html#243460961">(Jun 22 2021 at 00:44)</a>:</h4>
<p>I thought there was a simp set for this?</p>



<a name="243461235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60differentiate%60%20tactic/near/243461235" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60differentiate.60.20tactic.html#243461235">(Jun 22 2021 at 00:48)</a>:</h4>
<p>You can avoid the duplication by proving a <code>has_deriv</code> lemma instead of differentiable + derivative equals f</p>



<a name="243727408"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%60differentiate%60%20tactic/near/243727408" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Benjamin Davidson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.60differentiate.60.20tactic.html#243727408">(Jun 23 2021 at 23:48)</a>:</h4>
<p>Yes, I've found that I can usually use <code>simp</code> to take care of those goals, and I'll use <code>has_deriv_at</code> if I want to avoid having to continually supply proofs for both <code>deriv</code> and <code>differentiable</code>/<code>differentiable_at</code>.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>