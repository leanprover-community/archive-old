---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/conjecture.20declaration.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html">conjecture declaration</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="264642243"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/264642243" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#264642243">(Dec 12 2021 at 20:34)</a>:</h4>
<p>What do people think of introducing a declaration type (not sure this is the technical term) <code>conjecture</code> which can be named, would need no proof, and can't be called (or can be called but throws a <code>sorry</code>-like warning)?<br>
For example,</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.nat.prime</span>

<span class="n">conjecture</span> <span class="n">goldbach</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="n">p.prime</span> <span class="bp">∧</span> <span class="n">q.prime</span> <span class="bp">∧</span> <span class="n">p</span> <span class="bp">+</span> <span class="n">q</span> <span class="bp">=</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">n</span>
</code></pre></div>
<p>Of course, that's cosmetic, but maybe the kind of cosmetics we want?</p>



<a name="264642447"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/264642447" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#264642447">(Dec 12 2021 at 20:39)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span>, would it be any use for your outreach?</p>



<a name="264643605"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/264643605" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#264643605">(Dec 12 2021 at 21:05)</a>:</h4>
<p>Might also be interesting for this to support proving corollaries of conjectures</p>



<a name="264644086"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/264644086" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#264644086">(Dec 12 2021 at 21:17)</a>:</h4>
<p>You can define conjectures as Props. This doesn't require any special features, and it lets you formulate corollaries of conjectures fairly easily:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">goldbach_conjecture</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">),</span> <span class="bp">∃</span> <span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="n">p.prime</span> <span class="bp">∧</span> <span class="n">q.prime</span> <span class="bp">∧</span> <span class="n">p</span> <span class="bp">+</span> <span class="n">q</span> <span class="bp">=</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">n</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">goldbach_conjecture</span><span class="o">)</span> <span class="o">:</span> <span class="n">false</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">obtain</span> <span class="o">⟨</span><span class="n">p</span><span class="o">,</span> <span class="n">q</span><span class="o">,</span> <span class="n">hp</span><span class="o">,</span> <span class="n">hq</span><span class="o">,</span> <span class="n">h</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">h</span> <span class="mi">0</span><span class="o">,</span>
  <span class="n">linarith</span> <span class="o">[</span><span class="n">hp.pos</span><span class="o">,</span> <span class="n">hq.pos</span><span class="o">],</span>
<span class="kd">end</span>
</code></pre></div>



<a name="264644260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/264644260" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#264644260">(Dec 12 2021 at 21:21)</a>:</h4>
<p>I wonder if being able to put named arguments before the colon would be useful.  If you do that here with <code>goldbach_conjecture</code>, you get a predicate on <code>n</code> rather than a universally quantified statement.</p>



<a name="264644495"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/264644495" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#264644495">(Dec 12 2021 at 21:26)</a>:</h4>
<p>I think pre-colon arguments would be the main motivation for a special command</p>



<a name="264644532"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/264644532" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#264644532">(Dec 12 2021 at 21:27)</a>:</h4>
<p>Yeah I think that mathlib would be enhanced with statements of eg the Birch and Swinnerton-Dyer conjecture and more generally famous conjectures in mathematics such as the millennium problems. One thing about BSD is that in its most general form it assumes other conjectures, as well as assuming theorems which are too hard to prove in Lean</p>



<a name="264645298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/264645298" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#264645298">(Dec 12 2021 at 21:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="307953">Ruben Van de Velde</span> <a href="#narrow/stream/113488-general/topic/conjecture.20declaration/near/264643605">said</a>:</p>
<blockquote>
<p>Might also be interesting for this to support proving corollaries of conjectures</p>
</blockquote>
<p>Yes, that's one thing I had in mind.</p>



<a name="264645513"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/264645513" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#264645513">(Dec 12 2021 at 21:52)</a>:</h4>
<p>My point is mostly to make things look nice and clearly say "Hey, this is a conjecture".</p>



<a name="264645771"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/264645771" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#264645771">(Dec 12 2021 at 21:58)</a>:</h4>
<p>What's the argument against a separate project for conjectures?</p>



<a name="264648377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/264648377" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#264648377">(Dec 12 2021 at 22:55)</a>:</h4>
<p>You can prove corollaries of conjectures without special syntax:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">conjecture.goldbach</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">),</span> <span class="mi">2</span> <span class="bp">≤</span> <span class="n">n</span> <span class="bp">→</span> <span class="bp">∃</span> <span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="n">p.prime</span> <span class="bp">∧</span> <span class="n">q.prime</span> <span class="bp">∧</span> <span class="n">p</span> <span class="bp">+</span> <span class="n">q</span> <span class="bp">=</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">n</span>

<span class="kd">lemma</span> <span class="n">conjecture.goldbach.c1</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">conjecture.goldbach</span><span class="o">)</span> <span class="o">:</span> <span class="bp">...</span> <span class="o">:=</span> <span class="bp">...</span>
</code></pre></div>



<a name="264648427"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/264648427" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#264648427">(Dec 12 2021 at 22:56)</a>:</h4>
<p>If we put conjectures in <code>namespace conjecture</code>, then <code>#print prefix conjecture</code> will give us a list of all formalized conjectures.</p>



<a name="264648774"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/264648774" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#264648774">(Dec 12 2021 at 23:03)</a>:</h4>
<p>I think it's important to have strong separation when it comes to conjectures being in mathlib, particularly if the intention is to build results depending on the validity of certain conjectures. The statements of conjectures changes over time, even famous conjectures. E.g. <a href="https://core.ac.uk/download/pdf/82815264.pdf">https://core.ac.uk/download/pdf/82815264.pdf</a> (see the footnote on page 1)</p>



<a name="264649017"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/264649017" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#264649017">(Dec 12 2021 at 23:08)</a>:</h4>
<p>If conjectures are written as in Yury's or Kyle's post, then I don't think there is any possibility of confusion between conjectures and axioms, because the reader is reminded of the dependence on the conjecture in every theorem</p>



<a name="264649097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/264649097" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#264649097">(Dec 12 2021 at 23:10)</a>:</h4>
<p>So what would one do when a counterexample is found for a given conjecture? Delete the 37571 lines in mathlib that depend on it?</p>



<a name="264649102"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/264649102" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#264649102">(Dec 12 2021 at 23:10)</a>:</h4>
<p>sure</p>



<a name="264649105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/264649105" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#264649105">(Dec 12 2021 at 23:10)</a>:</h4>
<p>Ok fair enough.</p>



<a name="264649107"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/264649107" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#264649107">(Dec 12 2021 at 23:10)</a>:</h4>
<p>only after the counterexample is actually formalized though</p>



<a name="264649119"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/264649119" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#264649119">(Dec 12 2021 at 23:11)</a>:</h4>
<p>since then the counterexample theorem strictly dominates all 37571 lines</p>



<a name="264649133"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/264649133" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#264649133">(Dec 12 2021 at 23:11)</a>:</h4>
<p>some of those lines might actually be part of the counterexample proof though, in which case they aren't junk</p>



<a name="264649189"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/264649189" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#264649189">(Dec 12 2021 at 23:12)</a>:</h4>
<p>If it's "false for trivial reasons" like in Grothendieck's paper, then the conjecture can probably just be edited and the proofs modified to accomodate the change</p>



<a name="264649199"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/264649199" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#264649199">(Dec 12 2021 at 23:13)</a>:</h4>
<p>since presumably nothing was depending on the error</p>



<a name="264649619"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/264649619" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#264649619">(Dec 12 2021 at 23:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/113488-general/topic/conjecture.20declaration/near/264649097">said</a>:</p>
<blockquote>
<p>So what would one do when a counterexample is found for a given conjecture? Delete the 37571 lines in mathlib that depend on it?</p>
</blockquote>
<p>One can ask the same question about all the lemmas in papers that assume GRH right? Its not so uncommon in some areas</p>



<a name="264649632"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/264649632" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#264649632">(Dec 12 2021 at 23:24)</a>:</h4>
<p>They're still interesting results that are maybe worthless if GRH turns out to be wrong</p>



<a name="264649658"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/264649658" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#264649658">(Dec 12 2021 at 23:25)</a>:</h4>
<p>But also maybe salvageable under a weaker assumption. At least many false conjectures aren't just outright wrong, rather true under some extra hypotheses, deletion seems a bit extreme</p>



<a name="264657083"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/264657083" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#264657083">(Dec 13 2021 at 02:19)</a>:</h4>
<p>Especially if the 37571 lines constitute a proof of false from the conjecture and thus the disproof</p>



<a name="264657630"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/264657630" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#264657630">(Dec 13 2021 at 02:30)</a>:</h4>
<p>I'm convinced. But I still think it's better to, say, name a proposition <code>conjecture.the_Riemann_hypothesis</code> as opposed to having <code>sorry</code>s and/or axioms around in the <code>conjecture</code> namespace.</p>



<a name="264657646"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/264657646" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#264657646">(Dec 13 2021 at 02:31)</a>:</h4>
<p>I guess it wasn't made clear above how the conjecture idea would be implemented.</p>



<a name="264661502"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/264661502" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#264661502">(Dec 13 2021 at 03:57)</a>:</h4>
<p>This is a reasonable use for type classes</p>



<a name="265198246"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/265198246" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#265198246">(Dec 16 2021 at 18:26)</a>:</h4>
<p>I suggest the following:</p>
<ul>
<li>We declare facts with no proofs as typeclasses in one of 2 namespaces <code>todo</code> (there is a proof on paper, not yet formalized in mathlib) and <code>conjecture</code> (there is no proof accepted by math community). E.g.,</li>
</ul>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">class</span> <span class="n">todo.fermat_last_theorem</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">nat</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">flt</span> <span class="o">:</span> <span class="mi">3</span> <span class="bp">≤</span> <span class="n">n</span> <span class="bp">→</span> <span class="bp">∀</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">nat</span><span class="o">,</span> <span class="n">a</span> <span class="bp">≠</span> <span class="mi">0</span> <span class="bp">→</span> <span class="n">b</span> <span class="bp">≠</span> <span class="mi">0</span> <span class="bp">→</span> <span class="n">a</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">≠</span> <span class="n">c</span> <span class="bp">^</span> <span class="n">n</span><span class="o">)</span>
</code></pre></div>
<ul>
<li>For each typeclass, we define a theorem that works as a public interface for this class. E.g.,</li>
</ul>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">pow_add_pow_ne_pow</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="n">n</span> <span class="o">:</span> <span class="n">nat</span><span class="o">}</span> <span class="o">[</span><span class="n">todo.fermat_last_theorem</span> <span class="n">n</span><span class="o">]</span> <span class="o">(</span><span class="n">hn</span> <span class="o">:</span> <span class="mi">3</span> <span class="bp">≤</span> <span class="n">n</span><span class="o">)</span> <span class="o">(</span><span class="n">ha</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">)</span> <span class="o">(</span><span class="n">hb</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">)</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">nat</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">a</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">≠</span> <span class="n">c</span> <span class="bp">^</span> <span class="n">n</span> <span class="o">:=</span>
<span class="n">todo.fermat_last_theorem.flt</span> <span class="n">hn</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">ha</span> <span class="n">hb</span>
</code></pre></div>
<ul>
<li>If we formalize a fact that depends on FLT, then we assume <code>[todo.fermat_last_theorem n]</code> or <code>[∀ n, todo.fermat_last_theorem n]</code> and call <code>pow_add_pow_ne_pow</code> here and there.</li>
<li><code>doc-gen</code> highlights assumptions in the <code>conjecture</code> and <code>todo</code> namespaces (e.g., makes them bold red). This rule takes precedence over the current "semi-hidden typeclass assumption".</li>
<li>If some day the theorem is formalized (it's not a realistic assumption for FLT in the next few years but we can use the same trick for simpler results), then we just drop the typeclass assumption and all proofs still work.</li>
</ul>



<a name="265199901"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/265199901" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#265199901">(Dec 16 2021 at 18:39)</a>:</h4>
<p>(deleted)</p>



<a name="265201187"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/265201187" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#265201187">(Dec 16 2021 at 18:49)</a>:</h4>
<p>Is there a way we can get the bold red highlight without having to teach doc-gen about special namespaces?</p>



<a name="265201242"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/265201242" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#265201242">(Dec 16 2021 at 18:49)</a>:</h4>
<p>Say for instance: typeclasses with no instances are always shown in red</p>



<a name="265204350"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/265204350" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#265204350">(Dec 16 2021 at 19:10)</a>:</h4>
<p>We'll have instance <code>todo.fermat_last_theorem 3</code></p>



<a name="265204394"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/265204394" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#265204394">(Dec 16 2021 at 19:10)</a>:</h4>
<p>We need either a special namespace, or a special attribute.</p>



<a name="265223758"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/265223758" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#265223758">(Dec 16 2021 at 21:44)</a>:</h4>
<p>Okay, I really like this idea.</p>



<a name="265223889"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/265223889" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#265223889">(Dec 16 2021 at 21:45)</a>:</h4>
<p>This approach only works for conjectures we can state, but I assume this is doomed to be.</p>



<a name="265226116"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/265226116" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#265226116">(Dec 16 2021 at 22:03)</a>:</h4>
<p>The main use case I thought about is formalizing some results that depend either on a conjecture, or on a very complicated theorem.</p>



<a name="265235938"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/265235938" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#265235938">(Dec 16 2021 at 23:42)</a>:</h4>
<p>How would this work with conjectures which are known in some cases but not others</p>



<a name="265236144"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/265236144" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#265236144">(Dec 16 2021 at 23:45)</a>:</h4>
<p>E.g. for elliptic curves in 1990 it was known that modular elliptic curves had many nice properties and several individual elliptic curves were proven to be modular, then wiles proved flt by showing semistable elliptic curves are modular. Only later were all elliptic curves over the rationals shown to be modular.</p>
<p>I don't really see with this system how you get useful results out of knowing the conjecture in some cases, compared to just stating theorems with regular hypotheses for the conjecture</p>



<a name="265251270"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/265251270" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#265251270">(Dec 17 2021 at 03:55)</a>:</h4>
<p><span class="user-mention" data-user-id="127136">@Alex J. Best</span> you can have instances for the known cases. That looks nice to me...</p>



<a name="265251666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/265251666" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#265251666">(Dec 17 2021 at 04:01)</a>:</h4>
<p>But you would then need whatever conditions the partial result is known under to also be a class right? If I prove FLT for Mersenne primes I'd have to make <code>is_mersenne_prime</code> a  class to fit into this system?<br>
Its nice that one wouldn't have to change any lines sure, but some parts of mathematics just don't feel like typeclasses to me</p>



<a name="265252674"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/265252674" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#265252674">(Dec 17 2021 at 04:21)</a>:</h4>
<p>I don't think that'd be the case; you could just state the signature originally as <code>lemma flt {p : nat} (hp : is_mersenne_prime p) [todo.goldbach_or_some_nonsense p] {a b c : nat} : a ^ p + b ^ p != c ^ p</code>, and when we actually have a proof just remove the <code>todo</code>. (apologies for the ascii art, haven't set up xcompose on this computer yet)</p>



<a name="265253189"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/265253189" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#265253189">(Dec 17 2021 at 04:33)</a>:</h4>
<p><span class="user-mention" data-user-id="127136">@Alex J. Best</span> maybe using <code>fact</code> for that would be ok?</p>



<a name="265254187"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/265254187" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#265254187">(Dec 17 2021 at 04:56)</a>:</h4>
<p>or just make the proof of the special case into a <code>def</code>/<code>lemma</code> and then if you ever actually use it somewhere, use <code>letI</code></p>



<a name="282416258"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/282416258" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#282416258">(May 15 2022 at 16:18)</a>:</h4>
<p>Did anyone make any progress on this?</p>



<a name="282420536"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/282420536" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#282420536">(May 15 2022 at 17:55)</a>:</h4>
<p>I didn't.</p>



<a name="282532969"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/282532969" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#282532969">(May 16 2022 at 17:39)</a>:</h4>
<p>Speaking of <code>conjecture</code> as a keyword, we could also add <code>corollary</code> next to <code>theorem</code> and <code>lemma</code>. But adding <code>conjecture</code> is certainly more important.</p>



<a name="282538098"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/282538098" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#282538098">(May 16 2022 at 18:10)</a>:</h4>
<p>It would be useful to be able to formalise the statement of a <code>conjecture</code>, leaving it for someone else to provide the proof (since mathlib doesn’t allow <code>sorry</code>). This could also be used in proving that different formulations of a statement are equivalent — for example, the various statements of the Four Colour Theorem in graph theory.</p>



<a name="282540809"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/282540809" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#282540809">(May 16 2022 at 18:29)</a>:</h4>
<p>AFAIR, the plan was to create typeclasses for conjectures.</p>



<a name="282551414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/282551414" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#282551414">(May 16 2022 at 19:52)</a>:</h4>
<p>To refine <span class="user-mention" data-user-id="214703">@Yury G. Kudryashov</span>'s idea a little, the typeclass could be fully parameterized as if it were the actual theorem statement.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">class</span> <span class="n">todo.fermat_last_theorem</span>
  <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">hn</span> <span class="o">:</span> <span class="mi">3</span> <span class="bp">≤</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span> <span class="o">(</span><span class="n">ha</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">)</span> <span class="o">(</span><span class="n">hb</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">)</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">proof</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">≠</span> <span class="n">c</span> <span class="bp">^</span> <span class="n">n</span><span class="o">)</span>

<span class="kd">theorem</span> <span class="n">pow_add_pow_ne_pow</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="n">n</span> <span class="o">:</span> <span class="n">nat</span><span class="o">}</span> <span class="o">(</span><span class="n">hn</span> <span class="o">:</span> <span class="mi">3</span> <span class="bp">≤</span> <span class="n">n</span><span class="o">)</span> <span class="o">(</span><span class="n">ha</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">)</span> <span class="o">(</span><span class="n">hb</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">)</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">nat</span><span class="o">)</span>
  <span class="o">[</span><span class="n">todo.fermat_last_theorem</span> <span class="n">n</span> <span class="n">hn</span> <span class="n">ha</span> <span class="n">hb</span> <span class="n">c</span><span class="o">]</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">≠</span> <span class="n">c</span> <span class="bp">^</span> <span class="n">n</span> <span class="o">:=</span>
<span class="n">todo.fermat_last_theorem.proof</span> <span class="n">hn</span> <span class="n">ha</span> <span class="n">hb</span>
</code></pre></div>
<p>That way you have the ability to fill in very specific special cases.</p>



<a name="282551927"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/282551927" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#282551927">(May 16 2022 at 19:56)</a>:</h4>
<p>Potentially that framework could be automated using an attribute (for Lean 3), maybe something like this:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">@[conjecture "pow_add_pow_ne_pow"]</span>
<span class="kd">def</span> <span class="n">fermat_last_theorem</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">hn</span> <span class="o">:</span> <span class="mi">3</span> <span class="bp">≤</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span> <span class="o">(</span><span class="n">ha</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">)</span> <span class="o">(</span><span class="n">hb</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">)</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">),</span>
  <span class="n">a</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">≠</span> <span class="n">c</span> <span class="bp">^</span> <span class="n">n</span>
</code></pre></div>
<p>In Lean 4, I think it's possible to define a <code>conjecture</code> keyword that would generate the typeclass and the typeclass-dependent theorem statement from something like this:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">conjecture</span> <span class="n">pow_add_pow_ne_pow</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span> <span class="o">(</span><span class="n">hn</span> <span class="o">:</span> <span class="mi">3</span> <span class="bp">≤</span> <span class="n">n</span><span class="o">)</span> <span class="o">(</span><span class="n">ha</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">)</span> <span class="o">(</span><span class="n">hb</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">)</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">a</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">≠</span> <span class="n">c</span> <span class="bp">^</span> <span class="n">n</span>
</code></pre></div>



<a name="282552343"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/282552343" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#282552343">(May 16 2022 at 20:00)</a>:</h4>
<p>IMHO, typeclasses should only depend on typeclasses. So, I think that this should be</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">class</span> <span class="n">conjecture.FLT</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">nat</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">flt</span> <span class="o">:</span> <span class="mi">3</span> <span class="bp">≤</span> <span class="n">n</span> <span class="bp">→</span> <span class="bp">...</span><span class="o">)</span>
</code></pre></div>
<p>Then you can prove lemmas assuming <code>[FLT n]</code> or <code>[∀ n, FLT n]</code>.</p>



<a name="282552632"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/282552632" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#282552632">(May 16 2022 at 20:01)</a>:</h4>
<p>What do you mean by "only depend on typeclasses"?</p>



<a name="282552864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/282552864" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#282552864">(May 16 2022 at 20:03)</a>:</h4>
<p>I really want the <code>conjecture</code> keyword, personally.</p>



<a name="282553002"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/282553002" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#282553002">(May 16 2022 at 20:04)</a>:</h4>
<p>Maybe it doesn't make sense having these propositions in the arguments for the class (though I'm not sure it hurts), and this would be fine too:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">class</span> <span class="n">todo.fermat_last_theorem</span> <span class="o">(</span><span class="n">n</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">proof</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">≠</span> <span class="mi">0</span> <span class="bp">→</span> <span class="n">b</span> <span class="bp">≠</span> <span class="mi">0</span> <span class="bp">→</span> <span class="mi">3</span> <span class="bp">≤</span> <span class="n">n</span> <span class="bp">→</span> <span class="n">a</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">≠</span> <span class="n">c</span> <span class="bp">^</span> <span class="n">n</span><span class="o">)</span>
</code></pre></div>



<a name="282553104"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/282553104" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#282553104">(May 16 2022 at 20:05)</a>:</h4>
<p>The point I was trying to make is that it would be good to have these classes be fully parameterized so that you can prove special cases and add them as instances -- it might be too hard proving it for all a, b, and c for a specific n.</p>



<a name="282553387"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/282553387" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#282553387">(May 16 2022 at 20:07)</a>:</h4>
<p>I think it's fine if these instances can't always be found through typeclass search, which might happen if the conditions require additional proofs or data. Having them be instances lets them show up in the "instances" list in the documentation.</p>



<a name="282557342"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/conjecture%20declaration/near/282557342" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/conjecture.20declaration.html#282557342">(May 16 2022 at 20:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="306601">Kyle Miller</span> <a href="#narrow/stream/113488-general/topic/conjecture.20declaration/near/282553387">said</a>:</p>
<blockquote>
<p>I think it's fine if these instances can't always be found through typeclass search, which might happen if the conditions require additional proofs or data. Having them be instances lets them show up in the "instances" list in the documentation.</p>
</blockquote>
<p>I think that we should list non-instance definitions/lemmas in the documentation too.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>