---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/deriv.20neg.20lemmas.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/deriv.20neg.20lemmas.html">deriv neg lemmas</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="254683886"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deriv%20neg%20lemmas/near/254683886" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/deriv.20neg.20lemmas.html#254683886">(Sep 24 2021 at 10:41)</a>:</h4>
<p>Why are <a href="https://leanprover-community.github.io/mathlib_docs/find/deriv_within.neg">docs#deriv_within.neg</a>, <a href="https://leanprover-community.github.io/mathlib_docs/find/deriv.neg">docs#deriv.neg</a>, <a href="https://leanprover-community.github.io/mathlib_docs/find/fderiv_within_neg">docs#fderiv_within_neg</a>, <a href="https://leanprover-community.github.io/mathlib_docs/find/fderiv_neg">docs#fderiv_neg</a> about <code>(λ y, -f y)</code> and not <code>-f</code>? Historical artifact?</p>



<a name="254684247"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deriv%20neg%20lemmas/near/254684247" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/deriv.20neg.20lemmas.html#254684247">(Sep 24 2021 at 10:44)</a>:</h4>
<p>I think it is more useful in practice</p>



<a name="254684450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deriv%20neg%20lemmas/near/254684450" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/deriv.20neg.20lemmas.html#254684450">(Sep 24 2021 at 10:46)</a>:</h4>
<p>Hmm... right now I wanted to change <code>deriv (-f)</code> into <code>-deriv f</code> and had to use <code>convert</code>. Wouldn't call that useful.</p>



<a name="254684500"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deriv%20neg%20lemmas/near/254684500" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/deriv.20neg.20lemmas.html#254684500">(Sep 24 2021 at 10:47)</a>:</h4>
<p>why did you have <code>-f</code> though</p>



<a name="254684549"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deriv%20neg%20lemmas/near/254684549" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/deriv.20neg.20lemmas.html#254684549">(Sep 24 2021 at 10:47)</a>:</h4>
<p>The lemmas are designed to compute <code>deriv</code> of a lambda with a complicated body</p>



<a name="254684574"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deriv%20neg%20lemmas/near/254684574" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/deriv.20neg.20lemmas.html#254684574">(Sep 24 2021 at 10:48)</a>:</h4>
<p>You can use <a href="https://leanprover-community.github.io/mathlib_docs/find/pi.neg_def">docs#pi.neg_def</a> to rewrite</p>



<a name="254684631"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deriv%20neg%20lemmas/near/254684631" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/deriv.20neg.20lemmas.html#254684631">(Sep 24 2021 at 10:48)</a>:</h4>
<p>That's just how it is. See the proof of <a href="https://leanprover-community.github.io/mathlib_docs/find/concave_on_of_deriv_antitone">docs#concave_on_of_deriv_antitone</a></p>



<a name="254684642"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deriv%20neg%20lemmas/near/254684642" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/deriv.20neg.20lemmas.html#254684642">(Sep 24 2021 at 10:48)</a>:</h4>
<p>Or at least, you should be able to... seems it's missing unlike <a href="https://leanprover-community.github.io/mathlib_docs/find/pi.add_def">docs#pi.add_def</a> (edit: added in <a href="https://github.com/leanprover-community/mathlib/issues/9361">#9361</a>)</p>



<a name="254684755"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deriv%20neg%20lemmas/near/254684755" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/deriv.20neg.20lemmas.html#254684755">(Sep 24 2021 at 10:49)</a>:</h4>
<p>Well anyways "doesn't work for my specific use case" doesn't contradict "is more useful".</p>



<a name="254684884"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deriv%20neg%20lemmas/near/254684884" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/deriv.20neg.20lemmas.html#254684884">(Sep 24 2021 at 10:50)</a>:</h4>
<p>Well I guess I can align.</p>



<a name="254684885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deriv%20neg%20lemmas/near/254684885" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/deriv.20neg.20lemmas.html#254684885">(Sep 24 2021 at 10:50)</a>:</h4>
<p>The same reason it doesn't work for you is the reason that your version wouldn't work for the intended purposes of <code>deriv.neg</code></p>



<a name="254684984"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deriv%20neg%20lemmas/near/254684984" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/deriv.20neg.20lemmas.html#254684984">(Sep 24 2021 at 10:51)</a>:</h4>
<p>of course, we could have both!</p>



<a name="254685620"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deriv%20neg%20lemmas/near/254685620" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/deriv.20neg.20lemmas.html#254685620">(Sep 24 2021 at 10:57)</a>:</h4>
<p>If you want to compute <code>deriv (\lam x, exp (- x^2))</code> or something, then after applying <a href="https://leanprover-community.github.io/mathlib_docs/find/deriv_exp">docs#deriv_exp</a>, higher-order unification will leave you with <code>deriv (\lam x, - x^2)</code> so that's the form we want <a href="https://leanprover-community.github.io/mathlib_docs/find/deriv.neg">docs#deriv.neg</a> to match</p>



<a name="254686094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deriv%20neg%20lemmas/near/254686094" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/deriv.20neg.20lemmas.html#254686094">(Sep 24 2021 at 11:01)</a>:</h4>
<p>Yeah okay. Thanks!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>