---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Cannot.20import.20tactic.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Cannot.20import.20tactic.html">Cannot import tactic</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="243760190"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Cannot%20import%20tactic/near/243760190" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yuhang Lin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Cannot.20import.20tactic.html#243760190">(Jun 24 2021 at 09:24)</a>:</h4>
<p>I am trying to import Lean's standard tactics in VSC but there is an error message stating "invalid import: tactic". How to solve this problem?</p>



<a name="243760779"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Cannot%20import%20tactic/near/243760779" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Cannot.20import.20tactic.html#243760779">(Jun 24 2021 at 09:31)</a>:</h4>
<p><code>tactic</code> comes from <code>mathlib</code> (not strictly Lean's "standard" tactics) -- what did you run? If you're trying to create a project you should follow these instructions if you haven't already: <a href="https://leanprover-community.github.io/leanproject.html#creating-a-new-project">https://leanprover-community.github.io/leanproject.html#creating-a-new-project</a>, or otherwise let us know what you're trying to do.</p>



<a name="243761210"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Cannot%20import%20tactic/near/243761210" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yuhang Lin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Cannot.20import.20tactic.html#243761210">(Jun 24 2021 at 09:37)</a>:</h4>
<p>Thank you for answering. I tried to add mathlib to that project using "leanproject add-mathlib" in the project folder. But an error message occurred saying "Invalid git repository".</p>



<a name="243762078"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Cannot%20import%20tactic/near/243762078" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Cannot.20import.20tactic.html#243762078">(Jun 24 2021 at 09:47)</a>:</h4>
<p>Ah. You have an existing project? How did you create it? Can you show what the layout of your project looks like? And if you know how to do so, the output of <code>lean --path</code> run from your project directory?</p>



<a name="243766576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Cannot%20import%20tactic/near/243766576" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yuhang Lin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Cannot.20import.20tactic.html#243766576">(Jun 24 2021 at 10:34)</a>:</h4>
<p>Output of lean --path:<br>
{<br>
  "is_user_leanpkg_path": true,<br>
  "leanpkg_path_file": "/Users/linyuhang/.lean/leanpkg.path",<br>
  "path": [<br>
    "/Users/linyuhang/.elan/toolchains/leanprover-community--lean---3.24.0/bin/../library",<br>
    "/Users/linyuhang/.elan/toolchains/leanprover-community--lean---3.24.0/bin/../lib/lean/library",<br>
    "/Users/linyuhang/.lean/./."<br>
  ]<br>
}</p>
<p>Layout:<br>
<a href="/user_uploads/3121/zmaoBzOP5F-d43C5lOUi3eNF/Screenshot-2021-06-24-at-11.33.23-AM.png">Screenshot-2021-06-24-at-11.33.23-AM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/zmaoBzOP5F-d43C5lOUi3eNF/Screenshot-2021-06-24-at-11.33.23-AM.png" title="Screenshot-2021-06-24-at-11.33.23-AM.png"><img src="/user_uploads/3121/zmaoBzOP5F-d43C5lOUi3eNF/Screenshot-2021-06-24-at-11.33.23-AM.png"></a></div>



<a name="243772379"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Cannot%20import%20tactic/near/243772379" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Cannot.20import.20tactic.html#243772379">(Jun 24 2021 at 11:42)</a>:</h4>
<p>There's no path file and no _target</p>



<a name="243772470"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Cannot%20import%20tactic/near/243772470" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Cannot.20import.20tactic.html#243772470">(Jun 24 2021 at 11:43)</a>:</h4>
<p>Are you working on mathlib or on a project which has mathlib as a dependency? If this is a new project then why not just follow the instructions in the link above for making a new lean project?</p>



<a name="243772755"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Cannot%20import%20tactic/near/243772755" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yuhang Lin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Cannot.20import.20tactic.html#243772755">(Jun 24 2021 at 11:46)</a>:</h4>
<p>The project has no mathlib dependency. I just wonder how can I add that to the project?</p>



<a name="243774154"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Cannot%20import%20tactic/near/243774154" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Cannot.20import.20tactic.html#243774154">(Jun 24 2021 at 12:00)</a>:</h4>
<p><code>leanproject add-mathlib</code> from the project directory (the same directory that contains <code>leanpkg.toml</code> and <code>.gitignore</code>) should be the way to do it. I'm not sure why it failed earlier, are you sure you ran it in the correct directory?</p>



<a name="243827273"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Cannot%20import%20tactic/near/243827273" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yuhang Lin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Cannot.20import.20tactic.html#243827273">(Jun 24 2021 at 18:30)</a>:</h4>
<p>Yes, I am pretty sure I did that in the correct directory as I checked using "ls" command.</p>



<a name="243827384"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Cannot%20import%20tactic/near/243827384" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Cannot.20import.20tactic.html#243827384">(Jun 24 2021 at 18:31)</a>:</h4>
<p>Can you try running <code>leanproject --debug add-mathlib</code> and pasting the output that appears into Zulip?</p>



<a name="243827540"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Cannot%20import%20tactic/near/243827540" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Cannot.20import.20tactic.html#243827540">(Jun 24 2021 at 18:32)</a>:</h4>
<p>If all else fails, running <code>leanproject new new_package_name</code> should create a new Lean project with a dependency on mathlib. Maybe you could try copying your work into a new project created that way.</p>



<a name="243830154"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Cannot%20import%20tactic/near/243830154" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yuhang Lin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Cannot.20import.20tactic.html#243830154">(Jun 24 2021 at 18:51)</a>:</h4>
<p>Traceback (most recent call last):<br>
  File "/Users/linyuhang/opt/anaconda3/lib/python3.8/site-packages/mathlibtools/lib.py", line 330, in from_path<br>
    repo = Repo(path, search_parent_directories=True)<br>
  File "/Users/linyuhang/opt/anaconda3/lib/python3.8/site-packages/git/repo/base.py", line 181, in __init__<br>
    raise InvalidGitRepositoryError(epath)<br>
git.exc.InvalidGitRepositoryError: /Users/linyuhang/Downloads/tutorials</p>
<p>During handling of the above exception, another exception occurred:</p>
<p>Traceback (most recent call last):<br>
  File "/Users/linyuhang/opt/anaconda3/bin/leanproject", line 8, in &lt;module&gt;<br>
    sys.exit(safe_cli())<br>
  File "/Users/linyuhang/opt/anaconda3/lib/python3.8/site-packages/mathlibtools/leanproject.py", line 341, in safe_cli<br>
    handle_exception(err, str(err))<br>
  File "/Users/linyuhang/opt/anaconda3/lib/python3.8/site-packages/mathlibtools/leanproject.py", line 63, in handle_exception<br>
    raise exc<br>
  File "/Users/linyuhang/opt/anaconda3/lib/python3.8/site-packages/mathlibtools/leanproject.py", line 339, in safe_cli<br>
    cli() # pylint: disable=no-value-for-parameter<br>
  File "/Users/linyuhang/opt/anaconda3/lib/python3.8/site-packages/click/core.py", line 829, in __call__<br>
    return self.main(*args, **kwargs)<br>
  File "/Users/linyuhang/opt/anaconda3/lib/python3.8/site-packages/click/core.py", line 782, in main<br>
    rv = self.invoke(ctx)<br>
  File "/Users/linyuhang/opt/anaconda3/lib/python3.8/site-packages/click/core.py", line 1259, in invoke<br>
    return _process_result(sub_ctx.command.invoke(sub_ctx))<br>
  File "/Users/linyuhang/opt/anaconda3/lib/python3.8/site-packages/click/core.py", line 1066, in invoke<br>
    return ctx.invoke(self.callback, **ctx.params)<br>
  File "/Users/linyuhang/opt/anaconda3/lib/python3.8/site-packages/click/core.py", line 610, in invoke<br>
    return callback(*args, **kwargs)<br>
  File "/Users/linyuhang/opt/anaconda3/lib/python3.8/site-packages/mathlibtools/leanproject.py", line 99, in add_mathlib<br>
    proj().add_mathlib()<br>
  File "/Users/linyuhang/opt/anaconda3/lib/python3.8/site-packages/mathlibtools/leanproject.py", line 51, in proj<br>
    return LeanProject.from_path(Path('.'), cache_url, force_download,<br>
  File "/Users/linyuhang/opt/anaconda3/lib/python3.8/site-packages/mathlibtools/lib.py", line 332, in from_path<br>
    raise InvalidLeanProject('Invalid git repository')<br>
mathlibtools.lib.InvalidLeanProject: Invalid git repository</p>



<a name="243830370"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Cannot%20import%20tactic/near/243830370" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yuhang Lin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Cannot.20import.20tactic.html#243830370">(Jun 24 2021 at 18:52)</a>:</h4>
<p>Thank you, I will just copy the work anyway.</p>



<a name="243833901"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Cannot%20import%20tactic/near/243833901" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Cannot.20import.20tactic.html#243833901">(Jun 24 2021 at 19:20)</a>:</h4>
<p>Which command gave you this output? Did you try <code>leanproject new new_package_name</code>? Could you paste the output of <code>leanproject get tutorials</code>?</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>