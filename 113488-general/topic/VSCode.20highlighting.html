---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/VSCode.20highlighting.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VSCode.20highlighting.html">VSCode highlighting</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="223161389"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VSCode%20highlighting/near/223161389" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VSCode.20highlighting.html#223161389">(Jan 18 2021 at 20:30)</a>:</h4>
<p>How hard would it be to have a VSCode extension setting defining a list of extra words that should be highlighted (say in tactic mode if this makes sense)?</p>



<a name="223162355"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VSCode%20highlighting/near/223162355" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VSCode.20highlighting.html#223162355">(Jan 18 2021 at 20:46)</a>:</h4>
<p>VS Code expects grammars to be provided as a file, so I don't see an easy way to modify the grammar dynamically: <a href="https://code.visualstudio.com/api/language-extensions/syntax-highlight-guide#contributing-a-basic-grammar">https://code.visualstudio.com/api/language-extensions/syntax-highlight-guide#contributing-a-basic-grammar</a></p>
<p>See also <a href="https://github.com/microsoft/vscode/issues/53885">https://github.com/microsoft/vscode/issues/53885</a></p>
<p>VS Code does support <a href="https://code.visualstudio.com/api/language-extensions/semantic-highlight-guide">semantic highlighting</a> but this looks to me like a big project.</p>
<p>I'm sure Gabriel wouldn't mind a PR which just added some extra keywords to this file: <a href="https://github.com/leanprover/vscode-lean/blob/master/syntaxes/lean.json">https://github.com/leanprover/vscode-lean/blob/master/syntaxes/lean.json</a></p>
<p>The grammar doesn't currently have any way of detecting what's in tactic mode or not at the moment though.</p>



<a name="223162620"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VSCode%20highlighting/near/223162620" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VSCode.20highlighting.html#223162620">(Jan 18 2021 at 20:49)</a>:</h4>
<p>Too bad. Thanks for answering. I'm pretty sure Gabriel wouldn't like my list.</p>



<a name="223199428"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VSCode%20highlighting/near/223199428" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VSCode.20highlighting.html#223199428">(Jan 19 2021 at 08:45)</a>:</h4>
<p>Let me clarify the criteria for inclusion in the vscode syntax highlighting: I will add it if and only if it is used in mathlib.</p>



<a name="223199522"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VSCode%20highlighting/near/223199522" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VSCode.20highlighting.html#223199522">(Jan 19 2021 at 08:46)</a>:</h4>
<p>Let me clarify that my list is absolutely not for general consumption <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span></p>



<a name="223199535"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VSCode%20highlighting/near/223199535" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VSCode.20highlighting.html#223199535">(Jan 19 2021 at 08:46)</a>:</h4>
<p>It's part of my controlled natural language experiment.</p>



<a name="223199563"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VSCode%20highlighting/near/223199563" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VSCode.20highlighting.html#223199563">(Jan 19 2021 at 08:46)</a>:</h4>
<p>So it's also French as well?  Yes, the chances are not good.</p>



<a name="223199797"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VSCode%20highlighting/near/223199797" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VSCode.20highlighting.html#223199797">(Jan 19 2021 at 08:49)</a>:</h4>
<p>It might be possible to use the same trick that we use for Lean 4 here.  Have two syntax highlighting files, and the extension sets a property on the file that changes the highlighting.  This could even be in two different extension.  But this takes work and time.</p>



<a name="223199805"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VSCode%20highlighting/near/223199805" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VSCode.20highlighting.html#223199805">(Jan 19 2021 at 08:49)</a>:</h4>
<p>Yes, it is. If you feel brave, open the next block</p>
<div class="spoiler-block"><div class="spoiler-header">
</div><div class="spoiler-content" aria-hidden="true">
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">precedence</span> <span class="bp">`</span><span class="n">applique</span><span class="bp">`</span><span class="o">:</span><span class="mi">0</span>
<span class="kd">precedence</span> <span class="bp">`</span><span class="n">appliqu</span><span class="bp">é`</span><span class="o">:</span><span class="mi">0</span>
<span class="kd">precedence</span> <span class="bp">`à`</span><span class="o">:</span><span class="mi">0</span>
<span class="kd">precedence</span> <span class="bp">`</span><span class="n">on</span><span class="bp">`</span><span class="o">:</span><span class="mi">0</span>
<span class="kd">precedence</span> <span class="bp">`</span><span class="n">obtient</span><span class="bp">`</span><span class="o">:</span><span class="mi">0</span>
<span class="kd">precedence</span> <span class="bp">`</span><span class="n">que</span><span class="bp">`</span><span class="o">:</span><span class="mi">0</span>
<span class="kd">precedence</span> <span class="bp">`</span><span class="n">tel</span><span class="bp">`</span><span class="o">:</span><span class="mi">0</span>
<span class="kd">precedence</span> <span class="bp">`</span><span class="n">convient</span><span class="bp">`</span><span class="o">:</span><span class="mi">0</span>
<span class="kd">precedence</span> <span class="bp">`</span><span class="n">les</span><span class="bp">`</span><span class="o">:</span><span class="mi">0</span>
<span class="kd">precedence</span> <span class="bp">`</span><span class="n">deux</span><span class="bp">`</span><span class="o">:</span><span class="mi">0</span>
<span class="kd">precedence</span> <span class="bp">`</span><span class="n">une</span><span class="bp">`</span><span class="o">:</span><span class="mi">0</span>
<span class="kd">precedence</span> <span class="bp">`</span><span class="n">contradiction</span><span class="bp">`</span><span class="o">:</span><span class="mi">0</span>
<span class="kd">precedence</span> <span class="bp">`</span><span class="n">conclut</span><span class="bp">`</span><span class="o">:</span><span class="mi">0</span>
<span class="kd">precedence</span> <span class="bp">`</span><span class="n">par</span><span class="bp">`</span><span class="o">:</span><span class="mi">0</span>
<span class="kd">precedence</span> <span class="bp">`</span><span class="n">calcule</span><span class="bp">`</span><span class="o">:</span><span class="mi">0</span>
<span class="kd">precedence</span> <span class="bp">`</span><span class="n">dans</span><span class="bp">`</span><span class="o">:</span><span class="mi">0</span>
<span class="kd">precedence</span> <span class="bp">`</span><span class="n">combine</span><span class="bp">`</span><span class="o">:</span><span class="mi">0</span>
<span class="kd">precedence</span> <span class="bp">`</span><span class="n">remplace</span><span class="bp">`</span><span class="o">:</span><span class="mi">0</span>
<span class="kd">precedence</span> <span class="bp">`</span><span class="n">contrapose</span><span class="bp">`</span><span class="o">:</span><span class="mi">0</span>
<span class="kd">precedence</span> <span class="bp">`</span><span class="n">discute</span><span class="bp">`</span><span class="o">:</span><span class="mi">0</span>
<span class="kd">precedence</span> <span class="bp">`</span><span class="n">selon</span><span class="bp">`</span><span class="o">:</span><span class="mi">0</span>
<span class="kd">precedence</span> <span class="bp">`</span><span class="n">il</span><span class="bp">`</span><span class="o">:</span><span class="mi">0</span>
<span class="kd">precedence</span> <span class="bp">`</span><span class="n">suffit</span><span class="bp">`</span><span class="o">:</span><span class="mi">0</span>
<span class="kd">precedence</span> <span class="bp">`</span><span class="n">de</span><span class="bp">`</span><span class="o">:</span><span class="mi">0</span>
<span class="kd">precedence</span> <span class="bp">`</span><span class="n">montrer</span><span class="bp">`</span><span class="o">:</span><span class="mi">0</span>
</code></pre></div>
</div></div>



<a name="223199902"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VSCode%20highlighting/near/223199902" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VSCode.20highlighting.html#223199902">(Jan 19 2021 at 08:50)</a>:</h4>
<p>I need to prepare Lean+mathlib+VScode+extension bundles for my course anyway. I may simply hack the grammar there.</p>



<a name="223199970"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VSCode%20highlighting/near/223199970" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VSCode.20highlighting.html#223199970">(Jan 19 2021 at 08:51)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span>, if these are keywords for your natural language tactics, would you consider <code>begin[natural] end</code>? If so, I think the lean grammar could do something like "if you see this funny tactic block, delegate to another syntax highlighter"</p>



<a name="223200094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VSCode%20highlighting/near/223200094" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VSCode.20highlighting.html#223200094">(Jan 19 2021 at 08:53)</a>:</h4>
<p>Which at least would mean there are only a few lines of weirdness in lean-vscode instead of an unexpected pile of French words!</p>



<a name="223200375"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VSCode%20highlighting/near/223200375" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VSCode.20highlighting.html#223200375">(Jan 19 2021 at 08:57)</a>:</h4>
<p>Je suis curieux de voir ce que ça va donner. Tu pourras poster un exemple de tes fichiers quand tu seras content de ce à quoi ça ressemble ?</p>
<p>(Sorry for the French, but it feels in line with the discussion :-)</p>



<a name="223200381"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VSCode%20highlighting/near/223200381" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VSCode.20highlighting.html#223200381">(Jan 19 2021 at 08:57)</a>:</h4>
<p>Again, I never suggested to add any word to the official VScode extension. I was asking about a new variable in settings that any user (or Lean project) could set.</p>



<a name="223200707"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VSCode%20highlighting/near/223200707" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VSCode.20highlighting.html#223200707">(Jan 19 2021 at 09:00)</a>:</h4>
<p>It looks like you might be looking for an "injection grammar"</p>



<a name="223200743"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VSCode%20highlighting/near/223200743" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VSCode.20highlighting.html#223200743">(Jan 19 2021 at 09:00)</a>:</h4>
<p><a href="https://code.visualstudio.com/api/language-extensions/syntax-highlight-guide#injection-grammars">https://code.visualstudio.com/api/language-extensions/syntax-highlight-guide#injection-grammars</a></p>



<a name="223200881"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VSCode%20highlighting/near/223200881" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VSCode.20highlighting.html#223200881">(Jan 19 2021 at 09:02)</a>:</h4>
<p>Which at least would mean you don't have to fork lean-vscode, you can just distribute a custom extension alongside it</p>



<a name="223201275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VSCode%20highlighting/near/223201275" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VSCode.20highlighting.html#223201275">(Jan 19 2021 at 09:07)</a>:</h4>
<p>Thanks for the pointer Eric!</p>



<a name="223201319"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VSCode%20highlighting/near/223201319" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VSCode.20highlighting.html#223201319">(Jan 19 2021 at 09:07)</a>:</h4>
<p>Small sample for <span class="user-mention" data-user-id="110050">@Sebastien Gouezel</span> </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">m154</span>
<span class="kn">import</span> <span class="bp">.</span><span class="n">tactiques</span>

<span class="c1">-- Définition de « limite de f en x₀ = y₀ »</span>
<span class="c1">-- Lean n'a pas besoin de parenthèse dans f(x)</span>
<span class="kd">def</span> <span class="n">continue_en</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">x₀</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="bp">∀</span> <span class="n">ε</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">δ</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">x</span><span class="o">,</span> <span class="bp">|</span><span class="n">x</span> <span class="bp">-</span> <span class="n">x₀</span><span class="bp">|</span> <span class="bp">≤</span> <span class="n">δ</span> <span class="bp">→</span> <span class="bp">|</span><span class="n">f</span> <span class="n">x</span> <span class="bp">-</span> <span class="n">f</span> <span class="n">x₀</span><span class="bp">|</span> <span class="bp">≤</span> <span class="n">ε</span>

<span class="c1">-- Une suite u est une fonction de ℕ dans ℝ</span>
<span class="c1">-- Définition de « u tend vers l »</span>
<span class="kd">def</span> <span class="n">limite_suite</span> <span class="o">(</span><span class="n">u</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">l</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="bp">∀</span> <span class="n">ε</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">N</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">n</span> <span class="bp">≥</span> <span class="n">N</span><span class="o">,</span> <span class="bp">|</span><span class="n">u</span> <span class="n">n</span> <span class="bp">-</span> <span class="n">l</span><span class="bp">|</span> <span class="bp">≤</span> <span class="n">ε</span>

<span class="c1">-- Si f est continue en x₀ et la suite u tend vers x₀ alors la suite f ∘ u,</span>
<span class="c1">-- qui envoie n sur f (u n), tend vers f x₀</span>
<span class="kd">example</span> <span class="o">(</span><span class="n">f</span> <span class="n">u</span> <span class="n">x₀</span><span class="o">)</span> <span class="o">(</span><span class="n">hu</span> <span class="o">:</span> <span class="n">limite_suite</span> <span class="n">u</span> <span class="n">x₀</span><span class="o">)</span> <span class="o">(</span><span class="n">hf</span> <span class="o">:</span> <span class="n">continue_en</span> <span class="n">f</span> <span class="n">x₀</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">limite_suite</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">u</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="n">x₀</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">Montrons</span> <span class="n">que</span> <span class="bp">∀</span> <span class="n">ε</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">N</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">),</span> <span class="bp">∀</span> <span class="n">n</span> <span class="bp">≥</span> <span class="n">N</span><span class="o">,</span> <span class="bp">|</span><span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">u</span><span class="o">)</span> <span class="n">n</span> <span class="bp">-</span> <span class="n">f</span> <span class="n">x₀</span><span class="bp">|</span> <span class="bp">≤</span> <span class="n">ε</span><span class="o">,</span>
  <span class="n">Soit</span> <span class="o">(</span><span class="n">ε</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">),</span>
  <span class="n">Par</span> <span class="n">hf</span> <span class="n">appliqu</span><span class="bp">é</span> <span class="bp">à</span> <span class="o">[</span><span class="n">ε</span><span class="o">,</span> <span class="n">ε_pos</span><span class="o">]</span> <span class="n">on</span> <span class="n">obtient</span> <span class="n">δ</span> <span class="n">tel</span> <span class="n">que</span>
    <span class="o">(</span><span class="n">δ_pos</span> <span class="o">:</span> <span class="n">δ</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">(</span><span class="n">Hf</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="bp">|</span><span class="n">x</span> <span class="bp">-</span> <span class="n">x₀</span><span class="bp">|</span> <span class="bp">≤</span> <span class="n">δ</span> <span class="bp">→</span> <span class="bp">|</span><span class="n">f</span> <span class="n">x</span> <span class="bp">-</span> <span class="n">f</span> <span class="n">x₀</span><span class="bp">|</span> <span class="bp">≤</span> <span class="n">ε</span><span class="o">),</span>
  <span class="n">Par</span> <span class="n">hu</span> <span class="n">appliqu</span><span class="bp">é</span> <span class="bp">à</span> <span class="o">[</span><span class="n">δ</span><span class="o">,</span> <span class="n">δ_pos</span><span class="o">]</span> <span class="n">on</span> <span class="n">obtient</span> <span class="n">N</span> <span class="n">tel</span> <span class="n">que</span>
    <span class="o">(</span><span class="n">Hu</span> <span class="o">:</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">N</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">),</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">),</span> <span class="n">n</span> <span class="bp">≥</span> <span class="n">N</span> <span class="bp">→</span> <span class="bp">|</span><span class="n">u</span> <span class="n">n</span> <span class="bp">-</span> <span class="n">x₀</span><span class="bp">|</span> <span class="bp">≤</span> <span class="n">δ</span><span class="o">),</span>
  <span class="n">Montrons</span> <span class="n">que</span> <span class="n">N</span> <span class="n">convient</span><span class="o">,</span>
  <span class="n">Soit</span> <span class="o">(</span><span class="n">n</span> <span class="bp">≥</span> <span class="n">N</span><span class="o">),</span>
  <span class="n">Par</span> <span class="n">Hf</span> <span class="n">il</span> <span class="n">suffit</span> <span class="n">de</span> <span class="n">montrer</span> <span class="n">que</span> <span class="bp">|</span><span class="n">u</span> <span class="n">n</span> <span class="bp">-</span> <span class="n">x₀</span><span class="bp">|</span> <span class="bp">≤</span> <span class="n">δ</span><span class="o">,</span>
  <span class="n">On</span> <span class="n">conclut</span> <span class="n">par</span> <span class="n">Hu</span> <span class="n">appliqu</span><span class="bp">é</span> <span class="bp">à</span> <span class="o">[</span><span class="n">n</span><span class="o">,</span> <span class="n">n_ge</span><span class="o">],</span>
<span class="kd">end</span>

<span class="kd">def</span> <span class="n">croissante</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">∀</span> <span class="n">x₁</span> <span class="n">x₂</span><span class="o">,</span> <span class="n">x₁</span> <span class="bp">≤</span> <span class="n">x₂</span> <span class="bp">→</span> <span class="n">f</span> <span class="n">x₁</span> <span class="bp">≤</span> <span class="n">f</span> <span class="n">x₂</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">f</span> <span class="n">g</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">hf</span> <span class="o">:</span> <span class="n">croissante</span> <span class="n">f</span><span class="o">)</span> <span class="o">(</span><span class="n">hg</span> <span class="o">:</span> <span class="n">croissante</span> <span class="n">g</span><span class="o">)</span> <span class="o">:</span> <span class="n">croissante</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">Soit</span> <span class="n">x₁</span> <span class="n">x₂</span><span class="o">,</span>
  <span class="n">Supposons</span> <span class="n">h</span> <span class="o">:</span> <span class="n">x₁</span> <span class="bp">≤</span> <span class="n">x₂</span><span class="o">,</span>
  <span class="n">Montrons</span> <span class="n">que</span> <span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">x₁</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">x₂</span><span class="o">),</span>
  <span class="n">Par</span> <span class="n">hf</span> <span class="n">appliqu</span><span class="bp">é</span> <span class="bp">à</span> <span class="o">[</span><span class="n">x₁</span><span class="o">,</span> <span class="n">x₂</span><span class="o">,</span> <span class="n">h</span><span class="o">]</span> <span class="n">on</span> <span class="n">obtient</span> <span class="o">(</span><span class="n">hf'</span> <span class="o">:</span> <span class="n">f</span> <span class="n">x₁</span> <span class="bp">≤</span> <span class="n">f</span> <span class="n">x₂</span><span class="o">),</span>
  <span class="n">On</span> <span class="n">conclut</span> <span class="n">par</span> <span class="n">hg</span> <span class="n">appliqu</span><span class="bp">é</span> <span class="bp">à</span> <span class="o">[</span><span class="n">f</span> <span class="n">x₁</span><span class="o">,</span> <span class="n">f</span> <span class="n">x₂</span><span class="o">,</span> <span class="n">hf'</span><span class="o">],</span>
<span class="kd">end</span>
</code></pre></div>



<a name="223201485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VSCode%20highlighting/near/223201485" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VSCode.20highlighting.html#223201485">(Jan 19 2021 at 09:09)</a>:</h4>
<p>Let me emphasize again that the main goal is not to make Lean easier to write (students actually manage to write Lean code), but to make it easier to go from Lean to paper.</p>



<a name="223201533"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VSCode%20highlighting/near/223201533" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VSCode.20highlighting.html#223201533">(Jan 19 2021 at 09:10)</a>:</h4>
<p>I would love to have an english version of this!</p>



<a name="223201630"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VSCode%20highlighting/near/223201630" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VSCode.20highlighting.html#223201630">(Jan 19 2021 at 09:11)</a>:</h4>
<p>To be honest, I'm surprised by how well it works. I'm almost thinking we should maybe think a bit about seriously using something like this even in mathlib.</p>



<a name="223201950"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VSCode%20highlighting/near/223201950" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VSCode.20highlighting.html#223201950">(Jan 19 2021 at 09:14)</a>:</h4>
<p>we only need to also have versions with lowercases letter, and replace <code>.</code> by something else, so that we can end sentences with  <code>.</code> instead of <code>,</code>.</p>



<a name="223201979"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VSCode%20highlighting/near/223201979" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VSCode.20highlighting.html#223201979">(Jan 19 2021 at 09:14)</a>:</h4>
<p>and <code>and</code> should be a noop.</p>



<a name="223202032"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VSCode%20highlighting/near/223202032" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VSCode.20highlighting.html#223202032">(Jan 19 2021 at 09:15)</a>:</h4>
<p>It definitely helps here that French is disjoint from Lean keywords.</p>



<a name="223202235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VSCode%20highlighting/near/223202235" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VSCode.20highlighting.html#223202235">(Jan 19 2021 at 09:17)</a>:</h4>
<p>Do <code>begin[foo] end</code> blocks get custom parsers (eg, can choose something other than commas), or just a custom monad type?</p>



<a name="223202747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VSCode%20highlighting/near/223202747" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VSCode.20highlighting.html#223202747">(Jan 19 2021 at 09:23)</a>:</h4>
<p>This is awesome! Those proofs are really cool!</p>



<a name="223203545"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VSCode%20highlighting/near/223203545" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VSCode.20highlighting.html#223203545">(Jan 19 2021 at 09:32)</a>:</h4>
<p>Note that those tactics are not only aliases for the standard tactics with crazy parsers, they also work more to prove stuff we would never write on paper. For instance <code>On conclut par H</code> looks like an alias to <code>exact</code> but it also tries <code>apply H</code> and <code>linarith only [H]</code>.</p>



<a name="223203608"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VSCode%20highlighting/near/223203608" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VSCode.20highlighting.html#223203608">(Jan 19 2021 at 09:33)</a>:</h4>
<p>They also do some cleanup compared to their vanilla versions, for instance beta-reductions.</p>



<a name="223203713"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VSCode%20highlighting/near/223203713" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VSCode.20highlighting.html#223203713">(Jan 19 2021 at 09:34)</a>:</h4>
<p>And they work to hide intuistionistic madness.</p>



<a name="223203769"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VSCode%20highlighting/near/223203769" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VSCode.20highlighting.html#223203769">(Jan 19 2021 at 09:34)</a>:</h4>
<p>Blurring the distinction between <code>or.elim</code> and excluded middle, or between <code>cases</code> and <code>choose</code>.</p>



<a name="223205124"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VSCode%20highlighting/near/223205124" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VSCode.20highlighting.html#223205124">(Jan 19 2021 at 09:49)</a>:</h4>
<p>Also, <code>Montrons que</code> is not only <code>change</code>. If the goal is a disjunction, it will try <code>left, change ...,</code> and <code>right, change ...</code>.</p>



<a name="223210294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VSCode%20highlighting/near/223210294" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VSCode.20highlighting.html#223210294">(Jan 19 2021 at 10:44)</a>:</h4>
<p>Patrick this is really fabulous. I would imagine that people like Hales and Koepke would be very interested in what you are doing. Thanks for sharing!</p>



<a name="223235918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VSCode%20highlighting/near/223235918" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Peattie <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VSCode.20highlighting.html#223235918">(Jan 19 2021 at 14:47)</a>:</h4>
<p>I agree that this is very cool <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span> !</p>
<p><span class="user-mention silent" data-user-id="110031">Patrick Massot</span> <a href="#narrow/stream/113488-general/topic/VSCode.20highlighting/near/223161389">said</a>:</p>
<blockquote>
<p>How hard would it be to have a VSCode extension setting defining a list of extra words that should be highlighted (say in tactic mode if this makes sense)?</p>
</blockquote>
<p>I think if you just wanted a set of words to have different styling throughout the document, you could do this with <a href="https://code.visualstudio.com/api/references/vscode-api#TextEditorDecorationType">decorations in VSCode</a>. This is how the <a href="https://github.com/rsbondi/highlight-words">highlight-words</a> extension works for example. The disadvantage of not using the grammar is that it'd be harder to, say, not do the highlighting within comments.</p>



<a name="251739999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VSCode%20highlighting/near/251739999" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VSCode.20highlighting.html#251739999">(Sep 02 2021 at 16:06)</a>:</h4>
<p>Very meta. <a href="/user_uploads/3121/bxRsezbwZ5sQxxnbQf7_71f9/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/bxRsezbwZ5sQxxnbQf7_71f9/image.png" title="image.png"><img src="/user_uploads/3121/bxRsezbwZ5sQxxnbQf7_71f9/image.png"></a></div>



<a name="251884437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/VSCode%20highlighting/near/251884437" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Masdeu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/VSCode.20highlighting.html#251884437">(Sep 03 2021 at 13:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/113488-general/topic/VSCode.20highlighting/near/223201533">said</a>:</p>
<blockquote>
<p>I would love to have an english version of this!</p>
</blockquote>
<p>I looked hard for typical food staples of english cuisine, but unfortunately none of them have made it into Zulip yet.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>