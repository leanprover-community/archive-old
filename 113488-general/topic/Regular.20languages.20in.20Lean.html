---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Regular.20languages.20in.20Lean.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Regular.20languages.20in.20Lean.html">Regular languages in Lean</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="229028678"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Regular%20languages%20in%20Lean/near/229028678" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Noam Atar <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Regular.20languages.20in.20Lean.html#229028678">(Mar 05 2021 at 21:35)</a>:</h4>
<p>Hey! I formulated regular languages and proved the Myhill-Nerode theorem in Lean. The code is right here:<br>
<a href="https://github.com/atarnoam/lean-automata">https://github.com/atarnoam/lean-automata</a></p>
<p>If you want to read it and have suggestions, I'd love to hear them!<br>
I'd also like to upload this to mathlib. Can I have permissions to do pull requests to mathlib? (My github username is atarnoam)</p>



<a name="229030326"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Regular%20languages%20in%20Lean/near/229030326" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Regular.20languages.20in.20Lean.html#229030326">(Mar 05 2021 at 21:50)</a>:</h4>
<p><span class="user-mention" data-user-id="251122">@Noam Atar</span> Invite sent! <a href="https://github.com/leanprover-community/mathlib/invitations">https://github.com/leanprover-community/mathlib/invitations</a></p>
<p>I haven't looked at your code yet, but there's a PR in progress on regular languages by <span class="user-mention" data-user-id="267202">@Fox Thomson</span> at <a href="https://github.com/leanprover-community/mathlib/issues/6225">#6225</a>.</p>



<a name="229031992"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Regular%20languages%20in%20Lean/near/229031992" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Noam Atar <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Regular.20languages.20in.20Lean.html#229031992">(Mar 05 2021 at 22:03)</a>:</h4>
<p>Oh, interesting! I see he decided to wait for the definition of regularity. I'll wait too then</p>



<a name="229032886"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Regular%20languages%20in%20Lean/near/229032886" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Regular.20languages.20in.20Lean.html#229032886">(Mar 05 2021 at 22:10)</a>:</h4>
<p>I don't know of anyone other than Fox that is working on regular automata and languages for mathlib right now (please correct me if I'm wrong!), so it would probably make sense for you two to coordinate your efforts.</p>



<a name="229090387"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Regular%20languages%20in%20Lean/near/229090387" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Fox Thomson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Regular.20languages.20in.20Lean.html#229090387">(Mar 06 2021 at 11:29)</a>:</h4>
<p>Yes sorry I forgot to close that PR, I think it makes more sence to state regular languages in terms of regular expressions, once we have this then we can state things like M-N and the pumping lemma with it but for now I'd say to get it into mathlib without the <code>is_regular</code></p>



<a name="229104596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Regular%20languages%20in%20Lean/near/229104596" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexandre Rademaker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Regular.20languages.20in.20Lean.html#229104596">(Mar 06 2021 at 15:07)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="251122">@Noam Atar</span>, nice work, do you have any documentation or paper explaining details? I would be very interested in the learnings during the experiment. For instance, when I see <a href="https://github.com/atarnoam/lean-automata/blob/main/src/regular_languages.lean#L124-L140">https://github.com/atarnoam/lean-automata/blob/main/src/regular_languages.lean#L124-L140</a> I am puzzled if that was the only way to make it. Yes, I know <a href="https://en.wikipedia.org/wiki/Curry–Howard_correspondence">https://en.wikipedia.org/wiki/Curry–Howard_correspondence</a>, but yet, some decisions probably have reasons behind them.</p>



<a name="229105274"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Regular%20languages%20in%20Lean/near/229105274" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Noam Atar <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Regular.20languages.20in.20Lean.html#229105274">(Mar 06 2021 at 15:17)</a>:</h4>
<p><span class="user-mention" data-user-id="267202">@Fox Thomson</span> What part do you mean?</p>



<a name="229105679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Regular%20languages%20in%20Lean/near/229105679" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Noam Atar <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Regular.20languages.20in.20Lean.html#229105679">(Mar 06 2021 at 15:22)</a>:</h4>
<p><span class="user-mention" data-user-id="121542">@Alexandre Rademaker</span> Hey, I just wrote it for fun and to learn lean. What you asked about is the standard way to build a DFA out of a regular language, as in the proof of M.N. You can read about it here: <a href="https://en.wikipedia.org/wiki/Myhill%E2%80%93Nerode_theorem">https://en.wikipedia.org/wiki/Myhill%E2%80%93Nerode_theorem</a></p>



<a name="229111825"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Regular%20languages%20in%20Lean/near/229111825" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Fox Thomson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Regular.20languages.20in.20Lean.html#229111825">(Mar 06 2021 at 16:50)</a>:</h4>
<p><span class="user-mention" data-user-id="251122">@Noam Atar</span> Stating things like <code>instance fintype_language_space_of_regular (l : language α) (M : DFA α σ) [fintype σ] (h : M.accepts = l)  : fintype (space l)</code> which should be easily refactorable when we have a flexible <code>is_regular</code></p>



<a name="229654016"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Regular%20languages%20in%20Lean/near/229654016" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexandre Rademaker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Regular.20languages.20in.20Lean.html#229654016">(Mar 10 2021 at 13:09)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="251122">@Noam Atar</span>, what is unusual for me is the definition with a tactic mode proof.</p>



<a name="229990775"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Regular%20languages%20in%20Lean/near/229990775" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Noam Atar <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Regular.20languages.20in.20Lean.html#229990775">(Mar 12 2021 at 08:09)</a>:</h4>
<p><span class="user-mention" data-user-id="121542">@Alexandre Rademaker</span> tactic mode is just a nice way to work to get a term of some type. It doesn't care if that term is a definition or a proof!</p>



<a name="229996519"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Regular%20languages%20in%20Lean/near/229996519" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Regular.20languages.20in.20Lean.html#229996519">(Mar 12 2021 at 09:07)</a>:</h4>
<p>It matters if you make a definition using a complicated tactic and it turns out to be a completely unwieldy term that you can't reason about easily</p>



<a name="230169959"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Regular%20languages%20in%20Lean/near/230169959" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Noam Atar <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Regular.20languages.20in.20Lean.html#230169959">(Mar 13 2021 at 15:39)</a>:</h4>
<p>Of course</p>



<a name="288993617"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Regular%20languages%20in%20Lean/near/288993617" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bjørn Kjos-Hanssen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Regular.20languages.20in.20Lean.html#288993617">(Jul 08 2022 at 21:09)</a>:</h4>
<p>It's a bit awkward how <code>list</code>s are (by their inductive definition) extended on the left and consequently DFAs work that way too. So a word like <code>lean</code> is processed by the DFA in the order <code>n,a,e,l</code>. Any easy way around that?</p>



<a name="289086053"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Regular%20languages%20in%20Lean/near/289086053" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Regular.20languages.20in.20Lean.html#289086053">(Jul 10 2022 at 06:40)</a>:</h4>
<p><span class="user-mention" data-user-id="347475">@Bjørn Kjos-Hanssen</span>  you could redefine what "process" means to process the characters from the front and work your way down the list; this makes more sense to me anyway</p>



<a name="289086059"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Regular%20languages%20in%20Lean/near/289086059" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Regular.20languages.20in.20Lean.html#289086059">(Jul 10 2022 at 06:40)</a>:</h4>
<p>i.e. a DFA processes <code>a :: l</code> if <code>s</code> steps via <code>a</code> to <code>s'</code> and <code>s'</code> processes <code>l</code></p>



<a name="289118267"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Regular%20languages%20in%20Lean/near/289118267" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bjørn Kjos-Hanssen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Regular.20languages.20in.20Lean.html#289118267">(Jul 10 2022 at 18:51)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> well, it's just the opposite convention from most treatments of automata. But yeah, in a way it doesn't matter.</p>



<a name="289135557"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Regular%20languages%20in%20Lean/near/289135557" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Regular.20languages.20in.20Lean.html#289135557">(Jul 11 2022 at 02:14)</a>:</h4>
<p><span class="user-mention" data-user-id="347475">@Bjørn Kjos-Hanssen</span> I think you misunderstood me. I mean that "lean" should be written as <code>[l, e, a, n]</code> and it should be processed in the order <code>l,e,a,n</code></p>



<a name="289135575"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Regular%20languages%20in%20Lean/near/289135575" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Regular.20languages.20in.20Lean.html#289135575">(Jul 11 2022 at 02:15)</a>:</h4>
<p>and this should be ensured by writing the "DFA processes <code>l</code>" definition so that elements are pulled from the front of the list instead of the back</p>



<a name="289136937"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Regular%20languages%20in%20Lean/near/289136937" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Diamond <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Regular.20languages.20in.20Lean.html#289136937">(Jul 11 2022 at 02:45)</a>:</h4>
<p>since <code>DFA.eval_from</code> uses <code>foldl</code>, isn't it already pulling elements from the "front"?</p>



<a name="289136991"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Regular%20languages%20in%20Lean/near/289136991" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Diamond <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Regular.20languages.20in.20Lean.html#289136991">(Jul 11 2022 at 02:46)</a>:</h4>
<p>oh I guess you mean that the input list has to be constructed via prepends... but the folding itself works left-to-right</p>



<a name="289491221"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Regular%20languages%20in%20Lean/near/289491221" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bjørn Kjos-Hanssen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Regular.20languages.20in.20Lean.html#289491221">(Jul 13 2022 at 17:12)</a>:</h4>
<p><span class="user-mention" data-user-id="380294">@Matt Diamond</span> Anyway there is <a href="https://github.com/leanprover-community/mathlib/blob/00dbc7b27bf4a4d2b0990d95e555de0bf23dce8a/src/computability/NFA.lean#L55">eval_from_append_singleton</a> which lets you work in the expected direction</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>