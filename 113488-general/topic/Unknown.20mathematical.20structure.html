---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Unknown.20mathematical.20structure.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Unknown.20mathematical.20structure.html">Unknown mathematical structure</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="227401648"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Unknown%20mathematical%20structure/near/227401648" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alistair Tucker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Unknown.20mathematical.20structure.html#227401648">(Feb 23 2021 at 09:21)</a>:</h4>
<p>Hello everyone. Thank you all for working so hard on this amazing project!</p>
<p>I have defined an inductive type</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">order.bounded_lattice</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">semilattice_sup_bot</span> <span class="n">α</span><span class="o">]</span>

<span class="kd">inductive</span> <span class="n">q</span> <span class="o">(</span><span class="n">r</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span>
<span class="bp">|</span> <span class="n">base</span> <span class="o">:</span> <span class="n">q</span> <span class="bp">⊥</span>
<span class="bp">|</span> <span class="n">succ</span> <span class="o">(</span><span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">c</span> <span class="bp">&lt;</span> <span class="n">b</span> <span class="bp">→</span> <span class="n">r</span> <span class="n">c</span> <span class="n">b</span> <span class="bp">→</span> <span class="n">q</span> <span class="n">c</span> <span class="bp">→</span> <span class="n">q</span> <span class="n">b</span>
</code></pre></div>
<p>depending on a relation <code>r</code> satisfying the following axioms:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">variable</span> <span class="o">{</span><span class="n">r</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">}</span>

<span class="kd">variable</span> <span class="n">hr₀</span> <span class="o">:</span> <span class="n">r</span> <span class="bp">⊥</span> <span class="bp">⊥</span>
<span class="kd">variable</span> <span class="n">hr₁</span> <span class="o">(</span><span class="n">b</span> <span class="n">c</span> <span class="n">d</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">d</span> <span class="bp">≤</span> <span class="n">c</span> <span class="bp">→</span> <span class="n">r</span> <span class="n">d</span> <span class="n">b</span> <span class="bp">→</span> <span class="n">r</span> <span class="n">c</span> <span class="n">b</span>
<span class="kd">variable</span> <span class="n">hr₂</span> <span class="o">(</span><span class="n">b</span> <span class="n">c</span> <span class="n">d</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">r</span> <span class="n">d</span> <span class="n">b</span> <span class="bp">→</span> <span class="n">r</span> <span class="n">d</span> <span class="n">c</span> <span class="bp">→</span> <span class="n">r</span> <span class="n">d</span> <span class="o">(</span><span class="n">b</span> <span class="bp">⊔</span> <span class="n">c</span><span class="o">)</span>
</code></pre></div>
<p>Here are some examples of properties that derive from the axioms:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">hr₄</span> <span class="o">{</span><span class="n">b</span> <span class="o">:</span> <span class="n">α</span><span class="o">}</span> <span class="o">:</span> <span class="n">q</span> <span class="n">r</span> <span class="n">b</span> <span class="bp">→</span> <span class="n">r</span> <span class="n">b</span> <span class="n">b</span>
<span class="kd">lemma</span> <span class="n">hr₅</span> <span class="o">{</span><span class="n">b</span> <span class="n">c</span> <span class="n">d</span> <span class="o">:</span> <span class="n">α</span><span class="o">}</span> <span class="o">:</span> <span class="n">r</span> <span class="n">d</span> <span class="n">c</span> <span class="bp">→</span> <span class="n">q</span> <span class="n">r</span> <span class="n">b</span> <span class="bp">→</span> <span class="n">r</span> <span class="o">(</span><span class="n">b</span> <span class="bp">⊔</span> <span class="n">d</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span> <span class="bp">⊔</span> <span class="n">c</span><span class="o">)</span>
<span class="kd">lemma</span> <span class="n">hr₆</span> <span class="o">{</span><span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">α</span><span class="o">}</span> <span class="o">:</span> <span class="n">q</span> <span class="n">r</span> <span class="n">b</span> <span class="bp">→</span> <span class="n">q</span> <span class="n">r</span> <span class="n">c</span> <span class="bp">→</span> <span class="n">q</span> <span class="n">r</span> <span class="o">(</span><span class="n">b</span> <span class="bp">⊔</span> <span class="n">c</span><span class="o">)</span>
<span class="kd">lemma</span> <span class="n">hr₈</span> <span class="o">{</span><span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">}</span> <span class="o">:</span> <span class="n">q</span> <span class="n">r</span> <span class="n">a</span> <span class="bp">→</span> <span class="bp">∀</span> <span class="n">c</span> <span class="bp">&lt;</span> <span class="n">a</span><span class="o">,</span> <span class="n">q</span> <span class="n">r</span> <span class="n">c</span> <span class="bp">→</span> <span class="bp">∃</span> <span class="n">b</span><span class="o">,</span> <span class="n">c</span> <span class="bp">≤</span> <span class="n">b</span> <span class="bp">∧</span> <span class="n">b</span> <span class="bp">&lt;</span> <span class="n">a</span> <span class="bp">∧</span> <span class="n">q</span> <span class="n">r</span> <span class="n">b</span> <span class="bp">∧</span> <span class="n">r</span> <span class="n">b</span> <span class="n">a</span>
</code></pre></div>



<a name="227401683"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Unknown%20mathematical%20structure/near/227401683" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alistair Tucker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Unknown.20mathematical.20structure.html#227401683">(Feb 23 2021 at 09:21)</a>:</h4>
<p>My question is, is there a better way to express this by using the machinery of mathlib? I can prove all these various things by hand but I don't have a name for this structure and I wonder if I'm reinventing the wheel...</p>



<a name="227401874"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Unknown%20mathematical%20structure/near/227401874" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Unknown.20mathematical.20structure.html#227401874">(Feb 23 2021 at 09:23)</a>:</h4>
<p>What drives you to investigate this particular combination of axioms?</p>



<a name="227401988"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Unknown%20mathematical%20structure/near/227401988" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alistair Tucker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Unknown.20mathematical.20structure.html#227401988">(Feb 23 2021 at 09:24)</a>:</h4>
<p>It' s supposed to model the relationships among a particular set of partial differential equations :)</p>



<a name="227402068"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Unknown%20mathematical%20structure/near/227402068" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Unknown.20mathematical.20structure.html#227402068">(Feb 23 2021 at 09:25)</a>:</h4>
<p>One random observation I can make is that <code>r</code> doesn't need to have the same domain and codomain</p>



<a name="227402136"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Unknown%20mathematical%20structure/near/227402136" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Unknown.20mathematical.20structure.html#227402136">(Feb 23 2021 at 09:26)</a>:</h4>
<p>although <code>q</code> needs it</p>



<a name="227402252"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Unknown%20mathematical%20structure/near/227402252" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Unknown.20mathematical.20structure.html#227402252">(Feb 23 2021 at 09:27)</a>:</h4>
<p>I think you would be best served just making up some name for this and working with it for a while</p>



<a name="227402456"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Unknown%20mathematical%20structure/near/227402456" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alistair Tucker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Unknown.20mathematical.20structure.html#227402456">(Feb 23 2021 at 09:29)</a>:</h4>
<p>I'm not sure what you mean by a different domain and codomain of <code>r</code>. Something like <code>r : α → β → Prop</code>?</p>



<a name="227402465"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Unknown%20mathematical%20structure/near/227402465" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Unknown.20mathematical.20structure.html#227402465">(Feb 23 2021 at 09:29)</a>:</h4>
<p>yeah</p>



<a name="227402483"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Unknown%20mathematical%20structure/near/227402483" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alistair Tucker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Unknown.20mathematical.20structure.html#227402483">(Feb 23 2021 at 09:29)</a>:</h4>
<p>Sorry I'm not a real mathematician :)</p>



<a name="227402493"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Unknown%20mathematical%20structure/near/227402493" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Unknown.20mathematical.20structure.html#227402493">(Feb 23 2021 at 09:29)</a>:</h4>
<p>also A doesn't need a bottom</p>



<a name="227402596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Unknown%20mathematical%20structure/near/227402596" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Unknown.20mathematical.20structure.html#227402596">(Feb 23 2021 at 09:30)</a>:</h4>
<p>I don't see how your generalization works Mario, can you paste the code?</p>



<a name="227402629"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Unknown%20mathematical%20structure/near/227402629" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Unknown.20mathematical.20structure.html#227402629">(Feb 23 2021 at 09:31)</a>:</h4>
<p><code>q b -&gt; q c</code> requires b and c to be the same type, right?</p>



<a name="227403053"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Unknown%20mathematical%20structure/near/227403053" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Unknown.20mathematical.20structure.html#227403053">(Feb 23 2021 at 09:35)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">order.bounded_lattice</span>

<span class="kd">structure</span> <span class="n">tuckerian</span> <span class="o">{</span><span class="n">α</span> <span class="n">β</span><span class="o">}</span> <span class="o">[</span><span class="n">preorder</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">semilattice_sup_bot</span> <span class="n">β</span><span class="o">]</span> <span class="o">(</span><span class="n">r</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">bottom</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">a</span><span class="o">,</span> <span class="n">r</span> <span class="n">a</span> <span class="bp">⊥</span><span class="o">)</span>
<span class="o">(</span><span class="n">sup</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">β</span><span class="o">),</span> <span class="n">r</span> <span class="n">a</span> <span class="n">b</span> <span class="bp">→</span> <span class="n">r</span> <span class="n">a</span> <span class="n">c</span> <span class="bp">→</span> <span class="n">r</span> <span class="n">a</span> <span class="o">(</span><span class="n">b</span> <span class="bp">⊔</span> <span class="n">c</span><span class="o">))</span>
<span class="o">(</span><span class="n">downward_closed</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">α</span><span class="o">,</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">b</span> <span class="bp">→</span> <span class="bp">∀</span> <span class="n">c</span> <span class="o">:</span> <span class="n">β</span><span class="o">,</span> <span class="n">r</span> <span class="n">b</span> <span class="n">c</span> <span class="bp">→</span> <span class="n">r</span> <span class="n">a</span> <span class="n">c</span><span class="o">)</span>

<span class="kd">inductive</span> <span class="n">tuckerian_closure</span> <span class="o">{</span><span class="n">α</span><span class="o">}</span> <span class="o">[</span><span class="n">semilattice_sup_bot</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">r</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span>
<span class="bp">|</span> <span class="n">base</span> <span class="o">:</span> <span class="n">tuckerian_closure</span> <span class="bp">⊥</span>
<span class="bp">|</span> <span class="n">succ</span> <span class="o">(</span><span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">c</span> <span class="bp">&lt;</span> <span class="n">b</span> <span class="bp">→</span> <span class="n">r</span> <span class="n">c</span> <span class="n">b</span> <span class="bp">→</span> <span class="n">tuckerian_closure</span> <span class="n">c</span> <span class="bp">→</span> <span class="n">tuckerian_closure</span> <span class="n">b</span>
</code></pre></div>



<a name="227403185"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Unknown%20mathematical%20structure/near/227403185" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alistair Tucker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Unknown.20mathematical.20structure.html#227403185">(Feb 23 2021 at 09:36)</a>:</h4>
<p>Wow! I always wanted something named after me :) Thank you very much</p>



<a name="227403188"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Unknown%20mathematical%20structure/near/227403188" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Unknown.20mathematical.20structure.html#227403188">(Feb 23 2021 at 09:36)</a>:</h4>
<p>The first two axioms say that for each fixed <code>a</code>, <code>r a</code> is a sub-<code>sup_bot_semilattice</code></p>



<a name="227403432"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Unknown%20mathematical%20structure/near/227403432" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Unknown.20mathematical.20structure.html#227403432">(Feb 23 2021 at 09:38)</a>:</h4>
<p>so this is an antitone function from <code>A -&gt; sup_bot_subsemilattice B</code></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>