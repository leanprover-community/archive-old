---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/real.2Emul_inv.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/real.2Emul_inv.html">real.mul_inv</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="265869899"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/real.mul_inv/near/265869899" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/real.2Emul_inv.html#265869899">(Dec 23 2021 at 00:18)</a>:</h4>
<p>I spent some time looking for the lemma <code>(a * b)⁻¹ = a⁻¹ * b⁻¹</code> for reals. I eventually found <code>mul_inv₀</code>, but it seems like this would be hard for someone to guess, or find in the docs. Can we make <code>real.mul_inv</code> an alias for the real version of this lemma?</p>



<a name="265869957"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/real.mul_inv/near/265869957" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/real.2Emul_inv.html#265869957">(Dec 23 2021 at 00:19)</a>:</h4>
<p>I think this is pretty sensible; <code>mul_inv</code> for groups, <code>mul_inv₀</code> for groups with zero [like (R,*)]. I feel like it's surprising the first time but thenforth fine. Maybe in undergraduate mode...</p>



<a name="265871062"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/real.mul_inv/near/265871062" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/real.2Emul_inv.html#265871062">(Dec 23 2021 at 00:32)</a>:</h4>
<p>I don't think we should provide aliases of a lemma about a typeclass for every instance of that typeclass.  That's what <code>library_search</code> is for.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.real.basic</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">a</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">b</span><span class="bp">⁻¹</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">library_search</span>
</code></pre></div>



<a name="265871082"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/real.mul_inv/near/265871082" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/real.2Emul_inv.html#265871082">(Dec 23 2021 at 00:32)</a>:</h4>
<p>More generally, do you know about the automation we have for such things, like <code>ring</code> and <code>field_simp</code>?</p>



<a name="265871897"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/real.mul_inv/near/265871897" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/real.2Emul_inv.html#265871897">(Dec 23 2021 at 00:47)</a>:</h4>
<p>Yes I know about the automation, but in my case, <code>ring</code> and <code>field_simp</code> failed to resolve or make noticeable progress on the goal.<br>
I suppose I could have tried <code>library_search</code>. I guess the reason I didn't here is that I decided that if the lemma existed, I would probably be able to find it by searching "mul inv" in the docs, but I did that and didn't find it. Then I went to the definition of <code>group_with_zero</code> in <code>algebra/group_with_zero/defs.lean</code> and didn't find it nearby, then later realized that what I needed was in <code>algebra/group_with_zero/basic.lean</code>.</p>



<a name="265872004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/real.mul_inv/near/265872004" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/real.2Emul_inv.html#265872004">(Dec 23 2021 at 00:48)</a>:</h4>
<p>I just felt my confusion would have been avoided if this lemma, which is identical to <code>mul_inv</code>, had the same name.</p>



<a name="265872396"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/real.mul_inv/near/265872396" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/real.2Emul_inv.html#265872396">(Dec 23 2021 at 00:56)</a>:</h4>
<p>Perhaps I don't know as much about the proof automation as I think. Is there a single-tactic or two-tactic proof of the following lemma:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.real.basic</span>
<span class="kd">lemma</span> <span class="n">equality4</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">/</span> <span class="mi">3</span> <span class="bp">*</span> <span class="n">log</span> <span class="mi">4</span> <span class="bp">/</span> <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="n">log</span> <span class="mi">4</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">2</span> <span class="bp">/</span> <span class="mi">3</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="gr">sorry</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="265872544"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/real.mul_inv/near/265872544" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/real.2Emul_inv.html#265872544">(Dec 23 2021 at 00:59)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">analysis.special_functions.log</span>

<span class="kn">open</span> <span class="n">real</span>

<span class="kd">lemma</span> <span class="n">equality4</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">/</span> <span class="mi">3</span> <span class="bp">*</span> <span class="n">log</span> <span class="mi">4</span> <span class="bp">/</span> <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="n">log</span> <span class="mi">4</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">2</span> <span class="bp">/</span> <span class="mi">3</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">have</span> <span class="o">:</span> <span class="n">log</span> <span class="mi">4</span> <span class="bp">≠</span> <span class="mi">0</span> <span class="o">:=</span> <span class="n">real.log_ne_zero_of_pos_of_ne_one</span> <span class="o">(</span><span class="kd">by</span> <span class="n">norm_num</span><span class="o">)</span> <span class="o">(</span><span class="kd">by</span> <span class="n">norm_num</span><span class="o">),</span>
  <span class="n">field_simp</span><span class="o">,</span>
  <span class="n">ring</span>
<span class="kd">end</span>
</code></pre></div>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>