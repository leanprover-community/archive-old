---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/.2Emathlib.20is.207.20gigs.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.2Emathlib.20is.207.20gigs.html">.mathlib is 7 gigs</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="216200415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/.mathlib%20is%207%20gigs/near/216200415" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.2Emathlib.20is.207.20gigs.html#216200415">(Nov 10 2020 at 11:48)</a>:</h4>
<p>I am running out of disc space on a machine, and I note that I have a <code>.mathlib</code> directory with 310 zipped mathlib olean bundles in. I'd like to delete all of them (it is extremely rare that caching them helps me -- the vast majority of them are me just updating master every couple of days or looking at PR's) but I don't just want to blunder in and <code>rm -rf</code> them, at least not before checking. Is this safe?</p>



<a name="216200529"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/.mathlib%20is%207%20gigs/near/216200529" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.2Emathlib.20is.207.20gigs.html#216200529">(Nov 10 2020 at 11:49)</a>:</h4>
<p>I also have two directories <code>bin</code> and <code>hooks</code>, and a file called <code>url</code>, all of which I should presumably keep.</p>



<a name="216200892"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/.mathlib%20is%207%20gigs/near/216200892" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.2Emathlib.20is.207.20gigs.html#216200892">(Nov 10 2020 at 11:53)</a>:</h4>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>du -hs .mathlib
11G     .mathlib
</code></pre></div>



<a name="216200999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/.mathlib%20is%207%20gigs/near/216200999" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.2Emathlib.20is.207.20gigs.html#216200999">(Nov 10 2020 at 11:54)</a>:</h4>
<p>I'm pretty sure that <code>rm *.tar.*</code> is safe</p>



<a name="216201225"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/.mathlib%20is%207%20gigs/near/216201225" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.2Emathlib.20is.207.20gigs.html#216201225">(Nov 10 2020 at 11:57)</a>:</h4>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>find ./ -maxdepth <span class="m">1</span> -type f -mtime +30 -print -name <span class="s1">'*.tar.*'</span>
<span class="c1"># lists all caches older than 30 days (assuming you are inside `.mathlib`)</span>
</code></pre></div>



<a name="216202068"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/.mathlib%20is%207%20gigs/near/216202068" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.2Emathlib.20is.207.20gigs.html#216202068">(Nov 10 2020 at 12:07)</a>:</h4>
<p>The bin and hooks folders are remnant of the old times, they are not used anymore. And you can safely delete everything in <code>.mathlib</code> especially if you have no idea what the url file is doing (it does something that was requested but I never the point, and it will be recreated automatically).</p>



<a name="216276509"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/.mathlib%20is%207%20gigs/near/216276509" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.2Emathlib.20is.207.20gigs.html#216276509">(Nov 10 2020 at 21:23)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span> Are hooks no longer supported by <code>leanproject</code>?</p>



<a name="216332561"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/.mathlib%20is%207%20gigs/near/216332561" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.2Emathlib.20is.207.20gigs.html#216332561">(Nov 11 2020 at 11:13)</a>:</h4>
<p>They are still supported but they are no longer stored there, they are part of the python package.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>