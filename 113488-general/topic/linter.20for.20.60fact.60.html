---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/linter.20for.20.60fact.60.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/linter.20for.20.60fact.60.html">linter for `fact`</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="204988595"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/linter%20for%20%60fact%60/near/204988595" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/linter.20for.20.60fact.60.html#204988595">(Jul 25 2020 at 05:00)</a>:</h4>
<p>I don't think this is an issue yet, but I noticed <span class="user-mention" data-user-id="110050">@Sebastien Gouezel</span> introduced <code>instance : fact ((0 : ‚Ñù) &lt; 1) := zero_lt_one</code> in <a href="https://github.com/leanprover-community/mathlib/pull/3528/files#diff-7133d335dc07594a328658c93fc0e380R373">https://github.com/leanprover-community/mathlib/pull/3528/files#diff-7133d335dc07594a328658c93fc0e380R373</a></p>
<p>I suspect that other people will want that <code>fact</code>, perhaps outside the manifolds directories.</p>
<p>Perhaps at some point we should add a linter that checks for duplicated instances?</p>



<a name="204991207"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/linter%20for%20%60fact%60/near/204991207" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/linter.20for.20.60fact.60.html#204991207">(Jul 25 2020 at 06:35)</a>:</h4>
<p>I don't think there should be any global instances for <code>fact</code></p>



<a name="204991352"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/linter%20for%20%60fact%60/near/204991352" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/linter.20for.20.60fact.60.html#204991352">(Jul 25 2020 at 06:40)</a>:</h4>
<p>how does this instance get used right now? is it for getting to <code>nonempty Icc (0:\R) 1</code>?</p>



<a name="204991603"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/linter%20for%20%60fact%60/near/204991603" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/linter.20for.20.60fact.60.html#204991603">(Jul 25 2020 at 06:49)</a>:</h4>
<p>If so, I think that should be an instance of its own</p>



<a name="204992300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/linter%20for%20%60fact%60/near/204992300" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/linter.20for.20.60fact.60.html#204992300">(Jul 25 2020 at 07:14)</a>:</h4>
<p>No, it is to get a manifold with boundary structure on <code>Icc 0 1</code>, which requires the fact. And this manifold with boundary structure will be used all over the place when we mention smooth homotopies.</p>



<a name="204992363"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/linter%20for%20%60fact%60/near/204992363" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/linter.20for.20.60fact.60.html#204992363">(Jul 25 2020 at 07:16)</a>:</h4>
<p>shouldn't we need this fact only in the definition of the manifold with boundary structure?</p>



<a name="204992427"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/linter%20for%20%60fact%60/near/204992427" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/linter.20for.20.60fact.60.html#204992427">(Jul 25 2020 at 07:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113488-general/topic/linter.20for.20.60fact.60/near/204991207">said</a>:</p>
<blockquote>
<p>I don't think there should be any global instances for <code>fact</code></p>
</blockquote>
<p>I wouldn't mind having <code>fact (nat.prime 2)</code> as a global instance.</p>



<a name="204994700"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/linter%20for%20%60fact%60/near/204994700" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/linter.20for.20.60fact.60.html#204994700">(Jul 25 2020 at 08:32)</a>:</h4>
<p>It's not about what would be nice to have, it's about making <code>fact</code> performant. <code>fact</code> is the least efficient of all typeclasses, because it is an unstructured bag of theorems that must be linearly enumerated for any <code>fact</code> typeclass instance. I would prefer that the behavior of <code>fact</code> inference is under control of the user, meaning only local instances and hypotheses are allowed</p>



<a name="204994709"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/linter%20for%20%60fact%60/near/204994709" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/linter.20for.20.60fact.60.html#204994709">(Jul 25 2020 at 08:33)</a>:</h4>
<p>If you want a manifold with boundary structure on <code>Icc 0 1</code>, make that an instance</p>



<a name="205004371"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/linter%20for%20%60fact%60/near/205004371" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/linter.20for.20.60fact.60.html#205004371">(Jul 25 2020 at 13:42)</a>:</h4>
<p>Like in <a href="https://github.com/leanprover-community/mathlib/issues/3549">#3549</a>?</p>



<a name="205011374"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/linter%20for%20%60fact%60/near/205011374" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/linter.20for.20.60fact.60.html#205011374">(Jul 25 2020 at 16:47)</a>:</h4>
<p>By the way, don't forget that you can use <code>localized</code> for instances too. It seems quite reasonable that things like <code>fact (prime 2)</code> can be put in a locale for a bunch of related files</p>



<a name="205011575"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/linter%20for%20%60fact%60/near/205011575" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/linter.20for.20.60fact.60.html#205011575">(Jul 25 2020 at 16:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113488-general/topic/linter.20for.20.60fact.60/near/204991207">said</a>:</p>
<blockquote>
<p>I don't think there should be any global instances for <code>fact</code></p>
</blockquote>
<p>in this case, how about a linter that checks for instances of <code>fact</code>?</p>



<a name="205011844"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/linter%20for%20%60fact%60/near/205011844" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/linter.20for.20.60fact.60.html#205011844">(Jul 25 2020 at 16:57)</a>:</h4>
<p>sure, that sounds easy enough</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>