---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/timeout.20error.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/timeout.20error.html">timeout error</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="211720938"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/timeout%20error/near/211720938" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kondo Yuki <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/timeout.20error.html#211720938">(Sep 30 2020 at 06:39)</a>:</h4>
<p>We attempt to prove a theorem by the tactic dec_trivial,<br>
but  Lean outputs an error message "(deterministic) timeout".</p>
<p>Is it possible to change settings about timeout?</p>



<a name="211721316"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/timeout%20error/near/211721316" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/timeout.20error.html#211721316">(Sep 30 2020 at 06:45)</a>:</h4>
<p>use <code>norm_num</code> instead</p>



<a name="211722294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/timeout%20error/near/211722294" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kondo Yuki <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/timeout.20error.html#211722294">(Sep 30 2020 at 07:02)</a>:</h4>
<p>I tried norm_num, but Lean says: unknown identifier 'norm_num'.<br>
Where is norm_num  defined?</p>



<a name="211722487"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/timeout%20error/near/211722487" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/timeout.20error.html#211722487">(Sep 30 2020 at 07:04)</a>:</h4>
<p>It's a tactic defined in mathlib. You'll need to put <code>import tactic</code> at the top of your file.</p>



<a name="211723001"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/timeout%20error/near/211723001" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/timeout.20error.html#211723001">(Sep 30 2020 at 07:11)</a>:</h4>
<p><span class="user-mention" data-user-id="334882">@Kondo Yuki</span> It would be very helpful if you could give a bit more detail about what you are doing. You can paste code here, please use <a href="https://github.com/leanprover-community/mathlib/wiki/Code-in-backticks">#backticks</a> to format it. Try to make sure that the code runs upon copy-paste, see <a href="https://leanprover-community.github.io/mwe.html">#mwe</a>.</p>



<a name="211724156"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/timeout%20error/near/211724156" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kondo Yuki <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/timeout.20error.html#211724156">(Sep 30 2020 at 07:28)</a>:</h4>
<p>We attempt to prove a theorem, VT_0(4) is optimal.<br>
The following is our formalization of it.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.fintype</span> <span class="n">data.vector</span>
<span class="kn">import</span> <span class="bp">.</span><span class="n">LevenshteinCode</span> <span class="bp">.</span><span class="n">DelCode</span> <span class="bp">.</span><span class="n">Optimality</span>

<span class="kd">lemma</span> <span class="n">optimal_VTCode_4_0</span> <span class="o">:</span>
  <span class="n">is_optimal</span> <span class="o">(</span><span class="n">VTCode</span> <span class="mi">4</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:=</span> <span class="n">dec_trivial</span>
</code></pre></div>



<a name="211724590"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/timeout%20error/near/211724590" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/timeout.20error.html#211724590">(Sep 30 2020 at 07:33)</a>:</h4>
<p>But since we have no idea what <code>VTCode</code> is (or what is in the imports <code>.LevenshteinCode .DelCode .Optimality</code>, it will be very hard to help you.</p>



<a name="211724694"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/timeout%20error/near/211724694" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/timeout.20error.html#211724694">(Sep 30 2020 at 07:34)</a>:</h4>
<p><span class="user-mention" data-user-id="334882">@Kondo Yuki</span> Is the code in some online repository that we could look at?</p>



<a name="211724958"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/timeout%20error/near/211724958" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/timeout.20error.html#211724958">(Sep 30 2020 at 07:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="334882">Kondo Yuki</span> <a href="#narrow/stream/113488-general/topic/timeout.20error/near/211720938">said</a>:</p>
<blockquote>
<p>Is it possible to change settings about timeout?</p>
</blockquote>
<p>I haven't tried it, but there's the top-level command</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">set_option</span> <span class="n">timeout</span> <span class="n">NNNN</span>
</code></pre></div>

<p>where <code>NNNN</code> is some number (100000 by default in my installation).</p>



<a name="211725157"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/timeout%20error/near/211725157" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kondo Yuki <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/timeout.20error.html#211725157">(Sep 30 2020 at 07:41)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span>  the code can be download at  Cotoleta -lean library for formalized coding theory-. <a href="https://manau.jp/Lean/cotoleta/">https://manau.jp/Lean/cotoleta/</a>.</p>



<a name="211725930"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/timeout%20error/near/211725930" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/timeout.20error.html#211725930">(Sep 30 2020 at 07:50)</a>:</h4>
<p>Wow, that project has a really long history already!</p>



<a name="211732979"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/timeout%20error/near/211732979" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/timeout.20error.html#211732979">(Sep 30 2020 at 09:09)</a>:</h4>
<p><span class="user-mention" data-user-id="334882">@Kondo Yuki</span> Don't you want to host it as a git repository somewhere?</p>



<a name="211733299"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/timeout%20error/near/211733299" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/timeout.20error.html#211733299">(Sep 30 2020 at 09:12)</a>:</h4>
<p>I just downloaded the zip file. It seems that your project is not setup as a lean package. So it will take some time to get it working on my machine</p>



<a name="211734155"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/timeout%20error/near/211734155" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/timeout.20error.html#211734155">(Sep 30 2020 at 09:21)</a>:</h4>
<p><span class="user-mention" data-user-id="334882">@Kondo Yuki</span> I'm trying to compile your files, but I'm having unrelated lean errors.</p>



<a name="211734188"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/timeout%20error/near/211734188" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/timeout.20error.html#211734188">(Sep 30 2020 at 09:21)</a>:</h4>
<p>It would be very helpful if you could tell us exactly which version of mathlib you are using (by pasting the git commit hash here)</p>



<a name="211734440"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/timeout%20error/near/211734440" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/timeout.20error.html#211734440">(Sep 30 2020 at 09:23)</a>:</h4>
<p>My tests were using <code>dd8da5165bd00b07408dbb87173e96908c6926a4</code>, which is the <code>lean-3.4.2</code> branch of mathlib.</p>



<a name="211764642"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/timeout%20error/near/211764642" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/timeout.20error.html#211764642">(Sep 30 2020 at 14:05)</a>:</h4>
<p><span class="user-mention" data-user-id="334882">@Kondo Yuki</span> It looks like your function works, you just need to raise the timeout to compute <code>is_optimal (VTCode 4 0)</code>. You can also run lean at the console, where I believe there is no timeout</p>



<a name="211764887"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/timeout%20error/near/211764887" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/timeout.20error.html#211764887">(Sep 30 2020 at 14:07)</a>:</h4>
<p>Then again, it appears you are calculating that <code>is_optimal (VTCode 1 0)</code>, <code>is_optimal (VTCode 2 0)</code>, <code>is_optimal (VTCode 3 0)</code>, <code>is_optimal (VTCode 4 0)</code> are all optimal, so a reasonable conjecture is that they are all optimal, which yields a much faster proof</p>



<a name="211865308"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/timeout%20error/near/211865308" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kondo Yuki <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/timeout.20error.html#211865308">(Oct 01 2020 at 03:20)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> Thank you for your confirmation and advice.</p>



<a name="211866438"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/timeout%20error/near/211866438" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kondo Yuki <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/timeout.20error.html#211866438">(Oct 01 2020 at 03:47)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> We are using <code>acf2038a720036d2e6fdc035bc57627da71d343c</code>, which is the <code>lean-3.4.2</code> branch of mathlib.</p>



<a name="211868887"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/timeout%20error/near/211868887" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/timeout.20error.html#211868887">(Oct 01 2020 at 04:43)</a>:</h4>
<p>Weird. On my copy of mathlib I have</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>git show origin/lean-3.4.2 <span class="p">|</span> head -1
commit dd8da5165bd00b07408dbb87173e96908c6926a4
</code></pre></div>



<a name="211868953"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/timeout%20error/near/211868953" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/timeout.20error.html#211868953">(Oct 01 2020 at 04:44)</a>:</h4>
<p>Which is a commit from Feb 5.</p>



<a name="211868964"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/timeout%20error/near/211868964" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/timeout.20error.html#211868964">(Oct 01 2020 at 04:44)</a>:</h4>
<p>Otoh,</p>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>commit acf2038a720036d2e6fdc035bc57627da71d343c
Date:   Sun Dec 29 03:52:23 2019 -0500
</code></pre></div>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>