---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html">Proposal: `fix x` for `assume x`</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="194764067"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194764067" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194764067">(Apr 21 2020 at 06:14)</a>:</h4>
<p>I would like to propose a small extension to Lean's structure language, namely <code>fix</code> as an alias for <code>assume</code>, intended to be used for data (as opposed to propositions).</p>
<p>Where mathematicians would write "Let <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span> be a real number. Assume <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">x &gt; 0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>. If <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>&gt;</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">x &gt; 3</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span></span></span></span>, then <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>x</mi><mn>2</mn></msup><mo>&gt;</mo><mn>9</mn></mrow><annotation encoding="application/x-tex">x^2 &gt; 9</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.853208em;vertical-align:-0.0391em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">9</span></span></span></span>, in Lean we would write</p>
<div class="codehilite"><pre><span></span><span class="k">assume</span> <span class="n">x</span><span class="o">,</span>
<span class="k">assume</span> <span class="n">h</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span>
<span class="k">show</span> <span class="n">x</span> <span class="bp">&gt;</span> <span class="mi">3</span> <span class="bp">→</span> <span class="n">x</span> <span class="err">^</span> <span class="mi">2</span> <span class="bp">&gt;</span> <span class="mi">9</span><span class="o">,</span> <span class="k">from</span> <span class="bp">...</span>
</pre></div>


<p>My proposal is to allow <code>fix</code>, so we could write</p>
<div class="codehilite"><pre><span></span><span class="n">fix</span> <span class="n">x</span><span class="o">,</span>
<span class="k">assume</span> <span class="n">h</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span>
<span class="k">show</span> <span class="n">x</span> <span class="bp">&gt;</span> <span class="mi">3</span> <span class="bp">→</span> <span class="n">x</span> <span class="err">^</span> <span class="mi">2</span> <span class="bp">&gt;</span> <span class="mi">9</span><span class="o">,</span> <span class="k">from</span> <span class="bp">...</span>
</pre></div>


<p>"Fix x" is often used in mathematics as a synonym for "let x be a ...", especially in proofs and at the beginning of a section ("in this section, we fix ..."). It's short and works well when we don't write the type, like above. <code>fix</code>-<code>assume</code>-<code>show</code> is also the Isabelle/Isar idiom.</p>
<p>Of course, Lean has Curry-Howard, but in other places identical or nearly identical pairs of commands exist, e.g. <code>constant</code> vs. <code>axiom</code>, <code>let</code> vs. <code>have</code>, <code>def</code> vs. <code>lemma</code>. Why not <code>fix</code> vs. <code>assume</code>?</p>
<p>In <a href="https://github.com/blanchette/logical_verification_2020/raw/master/hitchhikers_guide.pdf" title="https://github.com/blanchette/logical_verification_2020/raw/master/hitchhikers_guide.pdf">The Hitchhiker's Guide to Logical Verification</a>, which is used to teach interactive theorem proving, we introduced <code>fix</code> as an abbreviation for <code>assume</code>. It makes teaching easier, I find. See e.g. the schematic example on p. 35 (45 including the forematter).</p>
<p>What are your thoughts? <span class="user-mention" data-user-id="110049">@Mario Carneiro</span>  wouldn't it help you when golfing? <span class="user-mention" data-user-id="238446">@Anne Baanen</span>,  <span class="user-mention" data-user-id="110596">@Rob Lewis</span> , <span class="user-mention" data-user-id="133635">@Sander Dahmen</span> , and of course Buzzard et al. (<span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> , <span class="user-mention" data-user-id="112680">@Johan Commelin</span> , <span class="user-mention" data-user-id="110031">@Patrick Massot</span> ),  wouldn't it help you write nicer looking math proofs?</p>



<a name="194764086"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194764086" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194764086">(Apr 21 2020 at 06:15)</a>:</h4>
<p>I think this actually used to exist</p>



<a name="194764097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194764097" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194764097">(Apr 21 2020 at 06:15)</a>:</h4>
<p>I prefer <code>\lam</code> for golfing</p>



<a name="194764183"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194764183" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194764183">(Apr 21 2020 at 06:16)</a>:</h4>
<p>Personally, I just use <code>\lam</code> always and don't think about it. I don't like superfluous options. But <code>fix</code> for me has problematic connotations from its usage in Coq</p>



<a name="194764480"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194764480" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194764480">(Apr 21 2020 at 06:22)</a>:</h4>
<p>My recollection is that around lean 2 / early lean 3, there were a lot more synonymous keywords, like <code>hypothesis</code>, <code>conjecture</code> etc, including <code>fix</code> and <code>assume</code> as synonyms for <code>\lam</code>. This list was later cut down because too many options lead to analysis paralysis - people need to know all the synonyms, and know that they <em>are</em> synonyms. For me even <code>assume</code> is not good because of this.</p>



<a name="194764503"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194764503" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194764503">(Apr 21 2020 at 06:23)</a>:</h4>
<p>For example <code>def</code> and <code>theorem</code> are subtly different, but <code>lemma</code> is the same as <code>theorem</code> and <code>definition</code> is the same as <code>def</code>. Why?</p>



<a name="194764515"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194764515" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194764515">(Apr 21 2020 at 06:23)</a>:</h4>
<p>Yes, I understand that "analysis paralysis" can be a problem.</p>



<a name="194764594"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194764594" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194764594">(Apr 21 2020 at 06:24)</a>:</h4>
<p>Is it possible to declare <code>fix</code> as a notation for <code>\lam</code>? I think it can be</p>



<a name="194764601"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194764601" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194764601">(Apr 21 2020 at 06:25)</a>:</h4>
<p>I'm also not a fan of aliases in general. But I'm ready to make an exception for Curry-Howard. Concerning <code>lemma</code> (et al.) vs. <code>def</code> (et al.), I wish the small difference had been made on the universe (<code>Type _</code> or <code>Prop</code>), so these could be considered "Curry-Howard aliases".</p>



<a name="194764616"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194764616" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194764616">(Apr 21 2020 at 06:25)</a>:</h4>
<p>Yes, it is possible, and that's what I do in the Hitchhiker's Guide. But we don't get syntax highlighting in VS Code.</p>



<a name="194764672"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194764672" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194764672">(Apr 21 2020 at 06:26)</a>:</h4>
<p>That actually doesn't depend on anything in lean</p>



<a name="194764680"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194764680" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194764680">(Apr 21 2020 at 06:26)</a>:</h4>
<p>you just need to update the extension for the new highlighting</p>



<a name="194764690"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194764690" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194764690">(Apr 21 2020 at 06:26)</a>:</h4>
<p>Well, <span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> won't treat <code>fix</code> as a keyword unless it's a keyword.</p>



<a name="194764695"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194764695" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194764695">(Apr 21 2020 at 06:26)</a>:</h4>
<p>And I won't fork his extension just for that.</p>



<a name="194764704"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194764704" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194764704">(Apr 21 2020 at 06:27)</a>:</h4>
<p>It would be nice if there were another way to set up highlighting per project so that we get things like <code>#lint</code> in color</p>



<a name="194764716"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194764716" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194764716">(Apr 21 2020 at 06:27)</a>:</h4>
<p>Regardless, I want to raise the matter with the whole community, in the hope that they say <code>fix x</code> is great, we want it, etc. If nobody cares, I'll just go away.</p>



<a name="194764726"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194764726" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194764726">(Apr 21 2020 at 06:27)</a>:</h4>
<p>I mean, lean knows about "user commands" and is configurable in this way, but the extension doesn't</p>



<a name="194764746"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194764746" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194764746">(Apr 21 2020 at 06:28)</a>:</h4>
<p>Again, I don't want a private extension. I'm making a proposal to change Lean for everybody.</p>



<a name="194764804"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194764804" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194764804">(Apr 21 2020 at 06:28)</a>:</h4>
<p>That "fix" isn't shown in blue, I can live with. The syntax highlighting has other, much worse oddities.</p>



<a name="194764821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194764821" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194764821">(Apr 21 2020 at 06:28)</a>:</h4>
<p>What about functions called <code>fix</code>?</p>



<a name="194764838"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194764838" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194764838">(Apr 21 2020 at 06:29)</a>:</h4>
<p>I know that this has been used at least 2 or 3 times in mathlib</p>



<a name="194764840"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194764840" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194764840">(Apr 21 2020 at 06:29)</a>:</h4>
<p>I'm guessing they would behave like functions called <code>assume</code>.</p>



<a name="194764859"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194764859" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194764859">(Apr 21 2020 at 06:29)</a>:</h4>
<p>no, they almost always are being used to mean a fixpoint / recursive function of some kind</p>



<a name="194764911"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194764911" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194764911">(Apr 21 2020 at 06:30)</a>:</h4>
<p>Sure, but if there's a strong concensus, I'm sure it will be easy to rename them to have more specific names.</p>



<a name="194764925"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194764925" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194764925">(Apr 21 2020 at 06:30)</a>:</h4>
<p>for example <code>well_founded.fix</code></p>



<a name="194764927"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194764927" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194764927">(Apr 21 2020 at 06:30)</a>:</h4>
<p>Anyway, I know you're not going to use <code>fix</code>, so that's 1:0 against. I'm curious to hear what the others will have to say.</p>



<a name="194764950"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194764950" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194764950">(Apr 21 2020 at 06:31)</a>:</h4>
<p>of course. I'm obviously not the target audience for this so I'm happy to hear other voices. I'm just curious what the rollout would look like here</p>



<a name="194765020"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194765020" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194765020">(Apr 21 2020 at 06:32)</a>:</h4>
<p>I don't think there are any functions called <code>assume</code>, but that's no surprise since declaring a function the same name as a keyword is a pain</p>



<a name="194765314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194765314" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194765314">(Apr 21 2020 at 06:38)</a>:</h4>
<p>I like the idea, because it lowers the barrier for newcomers (something that Lean is already pretty good at in general). The "analysis paralysis" is a bit of a problem, but I think we can overcome that. Especially if VScode tooltips explain the aliases / differences. (I don't think we currently have tooltips on keywords, do we?)</p>



<a name="194765437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194765437" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194765437">(Apr 21 2020 at 06:40)</a>:</h4>
<p>Oh, my mistake, I checked the logs and the word for this in early lean 3 was <code>take</code></p>



<a name="194765590"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194765590" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194765590">(Apr 21 2020 at 06:43)</a>:</h4>
<p>I prefer <code>fix</code>, but I recognise the name clash with the <code>fix</code> from Coq.</p>



<a name="194765625"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194765625" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194765625">(Apr 21 2020 at 06:44)</a>:</h4>
<p>I think this is the issue that resulted in the removal of <code>take</code> as a keyword: <a href="https://github.com/leanprover/lean/pull/1706" title="https://github.com/leanprover/lean/pull/1706">https://github.com/leanprover/lean/pull/1706</a></p>



<a name="194765801"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194765801" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194765801">(Apr 21 2020 at 06:47)</a>:</h4>
<p>From that issue.<br>
<span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span> said:</p>
<blockquote>
<p>I think I would be fine with just calling it <code>list.take</code> and making it <code>protected</code>. Using dot-notation for list functions is more ergonomic than opening the namespace anyway.</p>
</blockquote>
<p>So all the <code>fix</code> functions can be made <code>protected</code> and continue their existence.</p>



<a name="194765983"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194765983" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194765983">(Apr 21 2020 at 06:50)</a>:</h4>
<p>Also interested to hear <span class="user-mention" data-user-id="110865">@Jeremy Avigad</span> 's position since he uses this kind of style often</p>



<a name="194766003"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194766003" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194766003">(Apr 21 2020 at 06:50)</a>:</h4>
<p>I'm siding with Jeremy here: "<code>take</code> is nice for teaching students how to write proofs, and for that purpose, lambda, fun, and assume are not very natural as substitutes. So, I will be sorry to see it go. That said, I can live without it."</p>



<a name="194766102"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194766102" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194766102">(Apr 21 2020 at 06:52)</a>:</h4>
<p>Considering that lean's term mode was originally based pretty directly on Isar, I'm curious if I will find <code>fix</code> if I dig far enough into the past of lean 2, before I got involved</p>



<a name="194769560"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194769560" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194769560">(Apr 21 2020 at 07:41)</a>:</h4>
<p>I will vote in favour of adding <code>fix</code>. The naming conflict doesn't seem a big deal (there are namespaces for this, after all), and choosing between <code>fix</code> and <code>assume</code> doesn't sound more difficult than choosing between <code>def</code> and <code>lemma</code>. (Could a linter see the difference between <code>λ</code>, <code>assume</code>, and <code>fix</code>?)</p>



<a name="194771531"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194771531" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194771531">(Apr 21 2020 at 08:06)</a>:</h4>
<p>I never tell Xena people about this verbose term mode style and I personally find it hard to read the moment the number of goals starts to increase and one misplaced comma can throw things into chaos. Because I am always telling beginners to go straight into tactic mode and stay there, it's easy for us to get a fix, we could just add a tactic. Trying to make "verbose term mode" closer to English is an interesting question but it's not the mode for me personally. I am well aware that it can be popular amongst beginners with a CS background though</p>



<a name="194771638"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194771638" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194771638">(Apr 21 2020 at 08:08)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> But do you also tell them to use tactic mode for definitions? Jasmin is talking about definitions here.</p>



<a name="194772151"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194772151" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194772151">(Apr 21 2020 at 08:15)</a>:</h4>
<p>Oh I see. I tell them never to make definitions</p>



<a name="194772163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194772163" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194772163">(Apr 21 2020 at 08:15)</a>:</h4>
<p>And leave that to the experts</p>



<a name="194772187"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194772187" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194772187">(Apr 21 2020 at 08:15)</a>:</h4>
<p>Well I was thinking of structured proofs. Indeed, it doesn't concern Kevin.</p>



<a name="194772200"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194772200" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194772200">(Apr 21 2020 at 08:15)</a>:</h4>
<p>I think tactic mode is "structured proofs"</p>



<a name="194772254"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194772254" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194772254">(Apr 21 2020 at 08:16)</a>:</h4>
<p>I have a lot of trouble structuring term mode proofs well</p>



<a name="194772276"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194772276" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194772276">(Apr 21 2020 at 08:16)</a>:</h4>
<p>as in, every kind of indentation is terrible</p>



<a name="194772284"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194772284" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194772284">(Apr 21 2020 at 08:16)</a>:</h4>
<p>That's debatable, but if "structured proof" is controversial terminology, I mean "assume have show calc" proofs.</p>



<a name="194772302"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194772302" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194772302">(Apr 21 2020 at 08:17)</a>:</h4>
<p>I find <code>calc</code> hard to indent.</p>



<a name="194772316"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194772316" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194772316">(Apr 21 2020 at 08:17)</a>:</h4>
<p>I'm saying that for "assume have show calc" there are literally tactics called each of those</p>



<a name="194772388"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194772388" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194772388">(Apr 21 2020 at 08:18)</a>:</h4>
<p>(technically there is no <code>calc</code> tactic but <code>calc</code> as a tactic means <code>exact calc</code>)</p>



<a name="194772622"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194772622" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194772622">(Apr 21 2020 at 08:20)</a>:</h4>
<p>From what I've seen of isabelle, I think that Isar structured proofs look much more like tactic proofs than term mode, because of the neat indentation and block structure</p>



<a name="194772683"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194772683" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194772683">(Apr 21 2020 at 08:21)</a>:</h4>
<p>For example, how do you do a case split on an or hypothesis in isar? IIRC it looks basically like <code>cases h, { subproof }, { subproof }</code> with different keywords</p>



<a name="194773661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194773661" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194773661">(Apr 21 2020 at 08:32)</a>:</h4>
<p>See p. 45, top-right example of <a href="https://isabelle.in.tum.de/website-Isabelle2014/dist/Isabelle2014/doc/prog-prove.pdf" title="https://isabelle.in.tum.de/website-Isabelle2014/dist/Isabelle2014/doc/prog-prove.pdf">https://isabelle.in.tum.de/website-Isabelle2014/dist/Isabelle2014/doc/prog-prove.pdf</a></p>



<a name="194773819"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194773819" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194773819">(Apr 21 2020 at 08:34)</a>:</h4>
<p>It's true that Isar feels in some sense more flexible than Lean term-based structured proofs. The grammar feels less constraining, more like tactics and less like writing a term.</p>



<a name="194773848"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194773848" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194773848">(Apr 21 2020 at 08:34)</a>:</h4>
<p>The error messages are also less wild. More like writing an imperative program and less like writing a Haskell program.</p>



<a name="194773888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194773888" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194773888">(Apr 21 2020 at 08:35)</a>:</h4>
<p>Whereas Isabelle tactic mode is just horrible if you're used to Coq's or Lean's. No names for hypotheses? Come on.</p>



<a name="194773997"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194773997" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194773997">(Apr 21 2020 at 08:36)</a>:</h4>
<blockquote>
<p>Proof commands perform transitions of Isar/VM machine configurations,which are block-structured, consisting of a stack of nodes with three main components: logical proof context, current facts, and open goals. (<a href="https://isabelle.in.tum.de/dist/Isabelle2020/doc/isar-ref.pdf" title="https://isabelle.in.tum.de/dist/Isabelle2020/doc/isar-ref.pdf">https://isabelle.in.tum.de/dist/Isabelle2020/doc/isar-ref.pdf</a> p.129)</p>
</blockquote>
<p>This sounds an <em>awful</em> lot like a description of tactics a la lean</p>



<a name="194774444"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194774444" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194774444">(Apr 21 2020 at 08:41)</a>:</h4>
<p>Still, you can't invoke a tactic in the middle of an Isar proof to change the proof goal. You always need a <code>fix</code>, an <code>assume</code>, a <code>have</code>, a <code>let</code>, a <code>define</code>, or a <code>show</code> (I'm perhaps forgetting one or two, like <code>guess</code>).</p>



<a name="194774558"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194774558" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194774558">(Apr 21 2020 at 08:43)</a>:</h4>
<p>But the <code>{ }</code> have a very special semantics. They look superficially like the parentheses surrounding proof subterms, but their main purpose is to delimit the scope of <code>fix</code>es and <code>assume</code>s. You can nest them arbitrarily.</p>



<a name="194774575"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194774575" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194774575">(Apr 21 2020 at 08:43)</a>:</h4>
<p>A bit like <code>{ }</code> in C++ w.r.t. variable definitions, really.</p>



<a name="194774641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194774641" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194774641">(Apr 21 2020 at 08:44)</a>:</h4>
<p>Yes, I think that isar top level commands map well to lean tactics, but not necessarily vice versa - lean tactics can do additional things that isabelle can't. So I think "structured proofs" in lean should be a specially curated subset of tactics with formatting conventions to make it more "structured"</p>



<a name="194774843"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194774843" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194774843">(Apr 21 2020 at 08:46)</a>:</h4>
<p>In principle we could even have a linter or something to enforce these guidelines so that you can have something with as much formal structure as isar</p>



<a name="194775401"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194775401" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194775401">(Apr 21 2020 at 08:52)</a>:</h4>
<p>The current situation is indeed quite messy, and when I teach I have to hide quite a bit of "junk" (e.g. the <code>assume</code> and <code>calc</code> tactics). Even then, it's still messy. Maybe getting rid of "structured proofs" and focusing on the other two, tactics and raw proof terms, is the way to go. Isn't that what Coq does anyway?</p>



<a name="194776134"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194776134" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194776134">(Apr 21 2020 at 09:00)</a>:</h4>
<p>Reading quickly, I have the impression you are using a correspondence between term mode and structured proofs, but I don't think this holds: you can perfectly make a structured proof in tactic mode also, using <code>have</code>, <code>show</code>, <code>calc</code>, <code>obtain</code> and so on. That's the mode I prefer, by the way: it keeps some readability, but you have a goal state and everything, so writing proofs is way easier than in term mode.</p>
<p>And I wouldn't mind having <code>fix</code> available there as a synonym for <code>assume</code> or <code>intro</code>.</p>



<a name="194776590"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194776590" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194776590">(Apr 21 2020 at 09:04)</a>:</h4>
<p>When I met Makarius in Bonn, he somehow was convinced that structured proofs would be removed from Lean 4. I don't know anything about that, and personally I wouldn't want them gone. Term mode is not flexible enough to simulate Isar-style proofs a la <code>induction, case, have, have, show</code>.</p>



<a name="194776669"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194776669" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194776669">(Apr 21 2020 at 09:05)</a>:</h4>
<p>Given the context of the discussion I'm not sure what sense of "structured proofs" you mean</p>



<a name="194776677"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194776677" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194776677">(Apr 21 2020 at 09:05)</a>:</h4>
<blockquote>
<p>structured proofs would be removed from Lean 4</p>
</blockquote>
<p>Which meaning of structured proof is this using?</p>



<a name="194776861"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194776861" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194776861">(Apr 21 2020 at 09:07)</a>:</h4>
<p>Jasmin, I'm a bit confused by your question because you initially asked for mathematicians opinion but, much later in the conversation, I suddenly realized this was all about crazy term mode proofs, so I don't see how this has anything to do with us.</p>



<a name="194777283"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194777283" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194777283">(Apr 21 2020 at 09:11)</a>:</h4>
<p>My preferred way of juggling between tactics and terms is explained in <a href="https://leanprover-community.github.io/lean-web-editor/#url=https%3A%2F%2Fraw.githubusercontent.com%2Fleanprover-community%2Ftutorials%2Fmaster%2Fsrc%2Ffirst_proofs.lean" title="https://leanprover-community.github.io/lean-web-editor/#url=https%3A%2F%2Fraw.githubusercontent.com%2Fleanprover-community%2Ftutorials%2Fmaster%2Fsrc%2Ffirst_proofs.lean">https://leanprover-community.github.io/lean-web-editor/#url=https%3A%2F%2Fraw.githubusercontent.com%2Fleanprover-community%2Ftutorials%2Fmaster%2Fsrc%2Ffirst_proofs.lean</a> if you are patient enough to read. The default mode is tactic, but with a lot of small scale back and forth using relatively low complexity expressions and <code>by</code>.</p>



<a name="194777305"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194777305" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194777305">(Apr 21 2020 at 09:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110050">Sebastien Gouezel</span> <a href="#narrow/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60/near/194776134" title="#narrow/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60/near/194776134">said</a>:</p>
<blockquote>
<p>And I wouldn't mind having <code>fix</code> available there as a synonym for <code>assume</code> or <code>intro</code>.</p>
</blockquote>
<p>I agree here, as a tactic I think <code>fix</code> is unproblematic as a synonym for <code>assume</code></p>



<a name="194777306"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194777306" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194777306">(Apr 21 2020 at 09:11)</a>:</h4>
<p>I assumed Jasmin meant "structured tactics" with that since he mentioned the <code>assume</code> tactic, which is my default meaning of the term as well. Basically, I'm agreeing with Mario:</p>
<blockquote>
<p>I think "structured proofs" in lean should be a specially curated subset of tactics with formatting conventions to make it more "structured"</p>
</blockquote>



<a name="194777410"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194777410" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194777410">(Apr 21 2020 at 09:13)</a>:</h4>
<p>And, like Sébastien, I think that non-trivial proofs involving some mathematical idea should be done using structuring tactics, with occasional comments. See for instance <a href="#narrow/stream/116395-maths/topic/Lebesgue.20number.20lemma/near/194033514" title="#narrow/stream/116395-maths/topic/Lebesgue.20number.20lemma/near/194033514">https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Lebesgue.20number.20lemma/near/194033514</a></p>



<a name="194777582"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194777582" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194777582">(Apr 21 2020 at 09:15)</a>:</h4>
<p>About the broad idea of separating assumption introduction from data introduction, there is a difficulty with bounded quantifiers. In my course a <em>lot</em> of goals start with <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∀</mi><mi>ε</mi><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\forall \varepsilon &gt; 0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.73354em;vertical-align:-0.0391em;"></span><span class="mord">∀</span><span class="mord mathdefault">ε</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>. There I really don't want to write <code>fix epsilon, assume epsilon_pos</code>. So the neutral <code>intros epsilon epsilon_pos</code> is convenient.</p>



<a name="194777663"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194777663" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194777663">(Apr 21 2020 at 09:16)</a>:</h4>
<p>I think the isar notion of "structured proofs" precludes a proof like this:</p>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">inf_lt</span> <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="n">set</span> <span class="n">ℝ</span><span class="o">}</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">}</span> <span class="o">(</span><span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="n">is_an_inf_of</span> <span class="n">A</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">∀</span> <span class="n">y</span><span class="o">,</span> <span class="n">x</span> <span class="bp">&lt;</span> <span class="n">y</span> <span class="bp">→</span> <span class="bp">∃</span> <span class="n">a</span> <span class="err">∈</span> <span class="n">A</span><span class="o">,</span> <span class="n">a</span> <span class="bp">&lt;</span> <span class="n">y</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="c1">-- Let `y` be any real number.</span>
  <span class="n">intro</span> <span class="n">y</span><span class="o">,</span>
  <span class="c1">-- Let&#39;s prove the contrapositive</span>
  <span class="n">contrapose</span><span class="o">,</span>
  <span class="c1">-- The symbol `¬` means negation. Let&#39;s ask Lean to rewrite the goal without negation,</span>
  <span class="c1">-- pushing negation through quantifiers and inequalities</span>
  <span class="n">push_neg</span><span class="o">,</span>
  <span class="c1">-- Let&#39;s assume the premise, calling the assumption `h`</span>
  <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
  <span class="c1">-- `h` is exactly saying `y` is a lower bound of `A` so the second part of</span>
  <span class="c1">-- the infimum assumption `hx` applied to `y` and `h` is exactly what we want.</span>
  <span class="n">exact</span> <span class="n">hx</span><span class="bp">.</span><span class="mi">2</span> <span class="n">y</span> <span class="n">h</span>
<span class="kn">end</span>
</pre></div>


<p>because of the use of "non-approved" tactics like <code>contrapose</code> and <code>push_neg</code> being used for changing the goal statement</p>



<a name="194777710"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194777710" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194777710">(Apr 21 2020 at 09:16)</a>:</h4>
<p>Also I don't care about the Coq meaning of <code>fix</code>, but we could use <code>take</code> instead. <code>fix</code> sounds more like cases on a existential assumption to me.</p>



<a name="194777716"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194777716" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194777716">(Apr 21 2020 at 09:17)</a>:</h4>
<p>much like our rule on "nonterminal simp", isar extends this to basically all tactics except for the small list Jasmin gave above</p>



<a name="194777815"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194777815" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194777815">(Apr 21 2020 at 09:18)</a>:</h4>
<p>If you violate this rule too much, your tactic script ends up more like a coq style imperative proof</p>



<a name="194777855"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194777855" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194777855">(Apr 21 2020 at 09:19)</a>:</h4>
<p>(I'm not making a value judgment here, but I think this is the line that "structured proofs" is trying to draw)</p>



<a name="194777976"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194777976" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194777976">(Apr 21 2020 at 09:20)</a>:</h4>
<p>So instead of  <code>contrapose, push_neg</code>, you would say : <code>suffices H : ..., by { contrapose, push_neg, exact H}</code>.</p>



<a name="194777985"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194777985" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194777985">(Apr 21 2020 at 09:20)</a>:</h4>
<p>This was not the example of structured proof, the Lebesgue number lemma was</p>



<a name="194777997"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194777997" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194777997">(Apr 21 2020 at 09:20)</a>:</h4>
<p>Yes, sure.</p>



<a name="194778879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194778879" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194778879">(Apr 21 2020 at 09:30)</a>:</h4>
<p>Sorry, I see that terminology is confusing. When I teach Lean, I tell my students that there are tactical proofs, structured proofs, and raw proof terms. In tactical, I use <code>intro</code>. In "structures proofs", I use <code>assume</code> (and <code>fix</code>). In raw proof terms, I use <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi></mrow><annotation encoding="application/x-tex">\lambda</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">λ</span></span></span></span>. If anybody has a better name for structured proofs a.k.a. syntactically sugared proof terms, I'm a taker.</p>
<p>As for <span class="user-mention" data-user-id="110031">@Patrick Massot</span> : True, I forgot for a moment that many of you guys wouldn't care because you use tactics for nearly everything.</p>



<a name="194779137"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194779137" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194779137">(Apr 21 2020 at 09:32)</a>:</h4>
<p>I would say that lean has two modes, term mode and tactic mode. Both modes have idioms that can be used to make the proof more structured for presentation purposes</p>



<a name="194779139"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194779139" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194779139">(Apr 21 2020 at 09:32)</a>:</h4>
<p>But not for definitions, and I think you were talking about definitions as well, right?</p>



<a name="194779240"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194779240" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194779240">(Apr 21 2020 at 09:33)</a>:</h4>
<p>although because term mode is an expression grammar the options for out of band annotations are more limited</p>



<a name="194779811"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194779811" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194779811">(Apr 21 2020 at 09:39)</a>:</h4>
<p>Johan, I wasn't thinking about definitions. And indeed, Mario, I agree that "structured proofs" are just a subtype, but for teaching it's convenient to have a different name.</p>



<a name="194780022"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194780022" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194780022">(Apr 21 2020 at 09:41)</a>:</h4>
<p>sure, but if you include structured proofs that makes 4 modes total, not 3, that's my point</p>



<a name="194780089"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194780089" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194780089">(Apr 21 2020 at 09:42)</a>:</h4>
<p>and the mathematicians on the chat seem to prefer the mode that you haven't enumerated</p>



<a name="194780180"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194780180" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194780180">(Apr 21 2020 at 09:43)</a>:</h4>
<p>because there is definitely also such a thing as "unstructured tactic proofs", such as those that you get from people learning to write tactics from NNG</p>



<a name="194780578"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194780578" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194780578">(Apr 21 2020 at 09:47)</a>:</h4>
<p>Well I'm only teaching three modes.</p>



<a name="194780608"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194780608" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194780608">(Apr 21 2020 at 09:47)</a>:</h4>
<p>But you're right. I teach very briefly the <code>have</code> and <code>let</code> tactics -- I guess that's the fourth mode.</p>



<a name="194780742"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194780742" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194780742">(Apr 21 2020 at 09:49)</a>:</h4>
<p>Maybe I should just give up on that <code>assume</code> <code>show</code> stuff and use <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi></mrow><annotation encoding="application/x-tex">\lambda</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">λ</span></span></span></span>. But Rob teaches the previous course with that (and raw proof terms)...</p>



<a name="194780774"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194780774" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194780774">(Apr 21 2020 at 09:49)</a>:</h4>
<p>Jasmin, what do you think of the proof given by Patrick at <a href="#narrow/stream/116395-maths/topic/Lebesgue.20number.20lemma/near/194033514" title="#narrow/stream/116395-maths/topic/Lebesgue.20number.20lemma/near/194033514">https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Lebesgue.20number.20lemma/near/194033514</a>? For me, that's the most readable we can achieve with Lean today.</p>



<a name="194781222"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194781222" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194781222">(Apr 21 2020 at 09:54)</a>:</h4>
<p>I like it. It's basically Isar. And it shows that one doesn't need proof terms to write structured proofs.</p>



<a name="194781518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194781518" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194781518">(Apr 21 2020 at 09:58)</a>:</h4>
<p>I have been pointing students towards this "obtain" style since I saw it. But for me, the most readable style is the one that Mario posted above, where you just write any old proof but put comments everywhere :-)</p>



<a name="194781621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194781621" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194781621">(Apr 21 2020 at 09:59)</a>:</h4>
<p>Someone at Bonn really wanted to grill me about the difference between forward proofs and backward proofs, but I often feel I have nothing to say here. For some reason I don't think I understand the question properly.</p>



<a name="194781937"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194781937" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194781937">(Apr 21 2020 at 10:02)</a>:</h4>
<p>It starts already with the huge fractions that computer scientists use with T's on their side. We call stacks of them "trees", and when we "climb" the "tree" from the "root", you'd think we're going upwards but actually we say "backwards". Very easy, you see. But if you descend the "tree" from the "leaves", then you proceed "forwards", not downwards. Proof terms are also bidirectional (inside out or outside in).</p>



<a name="194782337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194782337" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194782337">(Apr 21 2020 at 10:08)</a>:</h4>
<p>Hey Kevin, do you know Rob recorded a video to explain to us one flavor of the big fraction thing?</p>



<a name="194782397"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194782397" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194782397">(Apr 21 2020 at 10:09)</a>:</h4>
<p>The flavor which is about finding the most complicated way to explain a trivial proof. Unfortunately it's not the one we'd need to understand Mario's thesis. For that we need the typing rules big fractions, but it's related I think.</p>



<a name="194782677"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194782677" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194782677">(Apr 21 2020 at 10:13)</a>:</h4>
<p>Videos 5 and 7 at <a href="http://robertylewis.com/logic_and_modeling/lecture_1" title="http://robertylewis.com/logic_and_modeling/lecture_1">http://robertylewis.com/logic_and_modeling/lecture_1</a>. You need to click your way until it shows the slides properly. Unfortunately I haven't found the playback speed option so it's pretty painful to watch. Take this as a patience exercise.</p>



<a name="194782903"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194782903" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194782903">(Apr 21 2020 at 10:16)</a>:</h4>
<p>Perhaps it would be better to talk not about "structured proofs" like a different category, but "proof structuring" as an (incremental) method of organizing tactic proofs using specific structuring tactics.</p>



<a name="194782993"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194782993" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194782993">(Apr 21 2020 at 10:17)</a>:</h4>
<p>This doesn't help me. I need a name for <code>assume have show</code>-style proofs, so I can tell my students, "Write a foo-bar proof" and they'll know what I mean. Any ideas anybody?</p>



<a name="194783076"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194783076" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194783076">(Apr 21 2020 at 10:18)</a>:</h4>
<p><code>(fix) assume have show</code> is too much of a mouthful.</p>



<a name="194784586"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194784586" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194784586">(Apr 21 2020 at 10:34)</a>:</h4>
<p>raw term proof/structured term proof/raw tactic proof/structured tactic proof</p>



<a name="194786297"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194786297" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194786297">(Apr 21 2020 at 10:56)</a>:</h4>
<p>I could live with "structured proof term" (with proof before term). For tactics, I guess "structured" arises once you start using "have", more or less?</p>



<a name="194789330"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194789330" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194789330">(Apr 21 2020 at 11:33)</a>:</h4>
<p>"have" or "suffices" or "obtain"</p>



<a name="194789346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194789346" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194789346">(Apr 21 2020 at 11:33)</a>:</h4>
<p>and sometimes "change" or "show"</p>



<a name="194791064"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194791064" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194791064">(Apr 21 2020 at 11:54)</a>:</h4>
<p>and especially <code>{ }</code></p>



<a name="194808170"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194808170" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jeremy Avigad <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194808170">(Apr 21 2020 at 14:18)</a>:</h4>
<p>I don't have a strong opinion here. In the early days of Lean, we had lots of aliases. The words <code>structure</code> and <code>record</code> were interchangeable, and we had <code>take</code> and <code>assume</code>. All of these were the same: <code>theorem</code> <code>lemma</code> <code>proposition</code> <code>corollary</code> and probably more. Instead of <code>variable</code> you could write <code>premise</code>, and instead of <code>parameter</code> you could write <code>hypothesis</code>. I think <code>conjecture</code> was allowed for something as well.</p>
<p>At one point early in the Lean 3 years, Leo decided to clean up and simplify syntax. The only synonyms he kept were <code>axiom</code> / <code>constant</code> and <code>theorem</code> / <code>lemma</code>.</p>
<p>Ultimately, I think he was right. The proliferation of keywords made the system feel messy and chaotic. It is easy to explain and get used to <code>assume</code>; I have had no trouble explaining the double use to students. One of the attractive things about Lean is that the syntax is so clean.</p>
<p><span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span> will also remember the endless discussion over the use of <code>.</code> for projection notation, as in<code>l.cons</code>. IIRC, before that we used <code>l.&gt;cons</code>, and there was a lot of worry that if we used a period the ambiguity with namespaces would confuse people and cause problems. But eventually Leo made a decision, and in hindsight, it was the right one.</p>
<p>Leo has a really good sense for these things. He is almost always right.  I suspect that once we start using Lean 4, we will cringe when we look back on all the underscores. (Incidentally, in the early days of Lean, we also debated underscores vs. hyphens, which Agda uses, as in <code>my-long-theorem-name</code>. Leo rejected that, because it would mean requiring spaces around a minus sign, so we could not write <code>x-y</code>.)</p>



<a name="194808779"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194808779" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jeremy Avigad <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194808779">(Apr 21 2020 at 14:22)</a>:</h4>
<p>Oh, another Leo innovation: we used to write <code>definition</code> before he shortened it to <code>def</code>. I think that is why <code>def</code> isn't syntax highlighted in the Zulip code blocks.</p>



<a name="194809455"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194809455" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194809455">(Apr 21 2020 at 14:27)</a>:</h4>
<p>Originally it was <code>l^.cons</code> I think. But yes, that was a fun change. At first we were cautious about <code>^.</code> itself being too crazy to keep, but soon we started using it so much that not only couldn't we live without it, we even started thinking about making its syntax almost invisible. It simply was that good.</p>



<a name="194809688"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194809688" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194809688">(Apr 21 2020 at 14:29)</a>:</h4>
<p>It actually still works:</p>
<div class="codehilite"><pre><span></span><span class="bp">#</span><span class="kn">check</span> <span class="o">[]</span><span class="err">^</span><span class="bp">.</span><span class="n">length</span>
</pre></div>



<a name="194810111"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194810111" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194810111">(Apr 21 2020 at 14:32)</a>:</h4>
<p>Are there any ambiguities in <code>x.foo</code> that are not fixed by <code>x .foo</code>? If so we can probably remove <code>^.</code></p>



<a name="194810274"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194810274" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194810274">(Apr 21 2020 at 14:33)</a>:</h4>
<p>there are precisely 0 uses of <code>^.</code> in mathlib</p>



<a name="194810367"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194810367" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194810367">(Apr 21 2020 at 14:34)</a>:</h4>
<p>Yes, it's already been removed in Lean 4</p>



<a name="194818711"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194818711" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194818711">(Apr 21 2020 at 15:25)</a>:</h4>
<p><span class="user-mention" data-user-id="110865">@Jeremy Avigad</span> Thanks for the historical perspective. It explains why Lean is half against aliases and half in favor -- a slightly messy state. I surely never mention <code>definition</code> to my students, nor <code>fun</code> for <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi></mrow><annotation encoding="application/x-tex">\lambda</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">λ</span></span></span></span> etc. Given that the axiom of choice is specified with <code>axiom</code> even though the result type is <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span></span></span></span>, I'm guessing there's more dead wood there.</p>



<a name="194820438"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194820438" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194820438">(Apr 21 2020 at 15:36)</a>:</h4>
<p>Note that <code>axiom/constant</code> will actually be a meaningful choice in Lean 4: <code>constant</code>s have to be inhabited. I actually can't think of any synonyms still left apart from ASCII syntax.</p>



<a name="194821667"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194821667" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194821667">(Apr 21 2020 at 15:45)</a>:</h4>
<p><code>rw</code> vs. <code>rewrite</code>?</p>



<a name="194823045"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194823045" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194823045">(Apr 21 2020 at 15:55)</a>:</h4>
<p><code>axiom</code> and <code>constant</code> are actually distinct all through the lean process, but I've never been able to figure out what the difference is</p>



<a name="194823802"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194823802" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194823802">(Apr 21 2020 at 16:00)</a>:</h4>
<p>The fact that <code>choice</code> has type alpha isn't actually that relevant - while it is easy to explain the difference between <code>def</code> and <code>theorem</code> via the curry howard Prop/Type distinction, in lean the difference is in other things: <code>def</code>s are elaborated synchronously, and they have code generated, while <code>theorem</code>s do not. It makes sense then that <code>choice</code> should be an <code>axiom</code> since it has no code, by comparison to a <code>meta constant</code> which has no lean definition but nevertheless has code. <code>constant</code> is used nowhere in lean core so I don't know exactly what its purpose is</p>



<a name="194826354"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194826354" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194826354">(Apr 21 2020 at 16:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="121058">Jasmin Blanchette</span> <a href="#narrow/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60/near/194821667" title="#narrow/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60/near/194821667">said</a>:</p>
<blockquote>
<p><code>rw</code> vs. <code>rewrite</code>?</p>
</blockquote>
<p>Ah, that does look redundant. I assume no-one is actually using <code>rewrite</code>, just like with <code>definition</code>.</p>



<a name="194826604"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/194826604" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#194826604">(Apr 21 2020 at 16:20)</a>:</h4>
<p>Not that either of them is in Lean 4 right now. We did kill <code>return</code> in favor of <code>pure</code>!</p>



<a name="195343823"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/195343823" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jeremy Avigad <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#195343823">(Apr 26 2020 at 17:20)</a>:</h4>
<p>This thread involved some historical storytelling, and I belatedly realized that I should have given <span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span>  credit for the current form of anonymous projections. It was Leo's idea to use them for projections of a structure so that for example we could write <code>p.fst</code> and Lean would infer from the type of <code>p</code> that this means <code>prod.fst p</code>. But Sebastian quickly pointed out that the same trick would work for any theorem or definition in a namespace with the same name as the type, allowing us to write <code>l.length</code> first <code>list.length l</code>. What a stroke of genius! It's a good thing he is so involved in the syntax of Lean 4.</p>



<a name="195344318"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/195344318" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#195344318">(Apr 26 2020 at 17:34)</a>:</h4>
<p>Oh, I didn't even remember that change, only the syntactic one... it's interesting that there hasn't been much discussion so far about generalizing the notation even further, e.g. over super structures (seems relatively straightforward) or typeclasses (less clear). No changes there in Lean 4, yet.</p>



<a name="195344566"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/195344566" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#195344566">(Apr 26 2020 at 17:38)</a>:</h4>
<p>This is indeed very convenient.</p>



<a name="195344603"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/195344603" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#195344603">(Apr 26 2020 at 17:39)</a>:</h4>
<p>Hey, we did ask very loudly for a more powerful dot notation for super structures in Lean 4.</p>



<a name="195344705"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal%3A%20%60fix%20x%60%20for%20%60assume%20x%60/near/195344705" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60.html#195344705">(Apr 26 2020 at 17:41)</a>:</h4>
<p>Sebastian, see also <a href="#narrow/stream/113488-general/topic/to_extending" title="#narrow/stream/113488-general/topic/to_extending">https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/to_extending</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>