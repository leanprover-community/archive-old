---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/git.20gone.20wrong.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/git.20gone.20wrong.html">git gone wrong</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="260834679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/git%20gone%20wrong/near/260834679" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/git.20gone.20wrong.html#260834679">(Nov 09 2021 at 17:57)</a>:</h4>
<p>erm, I seem to have added every person who has pushed code in the past week to <a href="https://github.com/leanprover-community/mathlib/issues/9779">#9779</a> by a bad merge commit. should I just nuke it from the sky or is there a better way to fix it?</p>



<a name="260847546"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/git%20gone%20wrong/near/260847546" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/git.20gone.20wrong.html#260847546">(Nov 09 2021 at 19:21)</a>:</h4>
<p><code>git reset --hard HEAD@{1}</code> should take you back to where you were before the merge commit, where you can try again</p>



<a name="260847564"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/git%20gone%20wrong/near/260847564" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/git.20gone.20wrong.html#260847564">(Nov 09 2021 at 19:21)</a>:</h4>
<p>(but will discard all your changes you made during the merge)</p>



<a name="260850925"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/git%20gone%20wrong/near/260850925" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/git.20gone.20wrong.html#260850925">(Nov 09 2021 at 19:49)</a>:</h4>
<p>that's a really nice tip, thanks</p>



<a name="260850964"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/git%20gone%20wrong/near/260850964" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/git.20gone.20wrong.html#260850964">(Nov 09 2021 at 19:49)</a>:</h4>
<p>I did <code>reset --hard HEAD~423</code> and accidentally had to redo the commit... oh well</p>



<a name="260851135"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/git%20gone%20wrong/near/260851135" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/git.20gone.20wrong.html#260851135">(Nov 09 2021 at 19:51)</a>:</h4>
<p>Note that <code>@{n}</code> means "where I was <code>n</code> operations ago" as opposed to <code>~n</code> which means "<code>n</code> commits ago"</p>



<a name="260851180"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/git%20gone%20wrong/near/260851180" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/git.20gone.20wrong.html#260851180">(Nov 09 2021 at 19:51)</a>:</h4>
<p><code>git reflog</code> shows you what those operations were</p>



<a name="260851431"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/git%20gone%20wrong/near/260851431" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/git.20gone.20wrong.html#260851431">(Nov 09 2021 at 19:53)</a>:</h4>
<p>Or you can run <code>git log</code> and manually copy the commit hash (say <code>abc123</code>) then do a <code>git reset abc123 --hard</code>. It's useful if you want to double check the commit message before doing the hard reset</p>



<a name="260853253"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/git%20gone%20wrong/near/260853253" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/git.20gone.20wrong.html#260853253">(Nov 09 2021 at 20:06)</a>:</h4>
<p><code>reflog</code> shows the commit messages too</p>



<a name="260872526"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/git%20gone%20wrong/near/260872526" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/git.20gone.20wrong.html#260872526">(Nov 09 2021 at 22:36)</a>:</h4>
<p>True! And the abbreviated commit hashes shown by <code>reflog</code> work as inputs for <code>git reset</code> too</p>



<a name="260873443"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/git%20gone%20wrong/near/260873443" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/git.20gone.20wrong.html#260873443">(Nov 09 2021 at 22:45)</a>:</h4>
<p>One of my "favorite" git tricks is that <code>@</code> is a shorthand for <code>HEAD</code>, so you can also use <code>@@{1}</code> to go back one operation</p>



<a name="260952669"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/git%20gone%20wrong/near/260952669" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mac <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/git.20gone.20wrong.html#260952669">(Nov 10 2021 at 07:05)</a>:</h4>
<p>Only slightly related comment: this thread for some reason made me realize that the "reflog" of "git reflog" is suppose to be read as  <strong>ref</strong>-log instead of re-<strong>flog</strong>, the latter being how I had read it forever. I had always thought it strange that git had chose "flogging" for part of its jargon. <span aria-label="rolling on the floor laughing" class="emoji emoji-1f923" role="img" title="rolling on the floor laughing">:rolling_on_the_floor_laughing:</span></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>