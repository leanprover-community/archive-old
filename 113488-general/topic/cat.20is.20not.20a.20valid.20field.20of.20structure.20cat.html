---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/cat.20is.20not.20a.20valid.20field.20of.20structure.20cat.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/cat.20is.20not.20a.20valid.20field.20of.20structure.20cat.html">cat is not a valid field of structure cat</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="321540124"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cat%20is%20not%20a%20valid%20field%20of%20structure%20cat/near/321540124" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kind Bubble <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/cat.20is.20not.20a.20valid.20field.20of.20structure.20cat.html#321540124">(Jan 15 2023 at 23:11)</a>:</h4>
<p>Here I've tried to define the category of categories. But I ran into an issue:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">Main.lean</span><span class="o">:</span><span class="mi">25</span><span class="o">:</span><span class="mi">23</span><span class="o">:</span> <span class="n">error</span><span class="o">:</span> <span class="bp">'</span><span class="n">Cat'</span> <span class="n">is</span> <span class="n">not</span> <span class="n">a</span> <span class="n">field</span> <span class="n">of</span> <span class="kd">structure</span> <span class="bp">'</span><span class="n">Cat'</span>
</code></pre></div>
<p>I guess a structure can't be comprised of itself?</p>
<p>See the last line for where the error occurs. </p>
<p>How might I work around this?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">Init.Data.ToString.Basic</span>

<span class="kd">universe</span> <span class="n">u</span>

<span class="kd">structure</span> <span class="n">Cat</span> <span class="n">where</span>
  <span class="n">Obj</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span>
  <span class="n">Hom</span> <span class="o">:</span> <span class="bp">∀</span><span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">∀</span><span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span> <span class="kt">Type</span> <span class="n">u</span>
  <span class="n">Idn</span> <span class="o">:</span> <span class="bp">∀</span><span class="o">(</span><span class="n">X</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">X</span>
  <span class="n">Cmp</span> <span class="o">:</span> <span class="bp">∀</span><span class="o">(</span><span class="n">X</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">∀</span><span class="o">(</span><span class="n">Y</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">∀</span><span class="o">(</span><span class="n">Z</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">∀</span><span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">),</span><span class="bp">∀</span><span class="o">(</span><span class="n">_</span><span class="o">:</span><span class="n">Hom</span> <span class="n">Y</span> <span class="n">Z</span><span class="o">),</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">Z</span>
  <span class="n">Id1</span> <span class="o">:</span> <span class="bp">∀</span><span class="o">(</span><span class="n">X</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">∀</span><span class="o">(</span><span class="n">Y</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">∀</span><span class="o">(</span><span class="n">f</span><span class="o">:</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">),(</span><span class="n">Cmp</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">Y</span><span class="o">)</span> <span class="n">f</span> <span class="o">(</span><span class="n">Idn</span> <span class="n">Y</span><span class="o">)</span> <span class="bp">=</span> <span class="n">f</span>
  <span class="n">Id2</span> <span class="o">:</span> <span class="bp">∀</span><span class="o">(</span><span class="n">X</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">∀</span><span class="o">(</span><span class="n">Y</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">∀</span><span class="o">(</span><span class="n">f</span><span class="o">:</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">),(</span><span class="n">Cmp</span> <span class="n">X</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span> <span class="o">(</span><span class="n">Idn</span> <span class="n">X</span><span class="o">)</span> <span class="n">f</span> <span class="bp">=</span> <span class="n">f</span>
  <span class="n">Ass</span> <span class="o">:</span> <span class="bp">∀</span><span class="o">(</span><span class="n">W</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">∀</span><span class="o">(</span><span class="n">X</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">∀</span><span class="o">(</span><span class="n">Y</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">∀</span><span class="o">(</span><span class="n">Z</span><span class="o">:</span><span class="n">Obj</span><span class="o">),</span><span class="bp">∀</span><span class="o">(</span><span class="n">f</span><span class="o">:</span><span class="n">Hom</span> <span class="n">W</span> <span class="n">X</span><span class="o">),</span><span class="bp">∀</span><span class="o">(</span><span class="n">g</span><span class="o">:</span><span class="n">Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">),</span><span class="bp">∀</span><span class="o">(</span><span class="n">h</span><span class="o">:</span><span class="n">Hom</span> <span class="n">Y</span> <span class="n">Z</span><span class="o">),(</span><span class="n">Cmp</span> <span class="n">W</span> <span class="n">X</span> <span class="n">Z</span><span class="o">)</span> <span class="n">f</span> <span class="o">(</span><span class="n">Cmp</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="n">g</span> <span class="n">h</span><span class="o">)</span> <span class="bp">=</span> <span class="n">Cmp</span> <span class="n">W</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">(</span><span class="n">Cmp</span> <span class="n">W</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span> <span class="n">h</span>

<span class="kd">def</span> <span class="n">Cmp</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">}</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="n">C.Obj</span><span class="o">}</span> <span class="o">{</span><span class="n">Y</span> <span class="o">:</span> <span class="n">C.Obj</span><span class="o">}</span> <span class="o">{</span><span class="n">Z</span> <span class="o">:</span> <span class="n">C.Obj</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">C.Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">C.Hom</span> <span class="n">Y</span> <span class="n">Z</span><span class="o">)</span> <span class="o">:=</span> <span class="n">C.Cmp</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="n">f</span> <span class="n">g</span>

<span class="kd">notation</span> <span class="n">g</span> <span class="s2">"∘"</span> <span class="n">f</span> <span class="bp">=&gt;</span> <span class="n">Cmp</span> <span class="n">f</span> <span class="n">g</span>

<span class="kd">structure</span> <span class="n">Fun</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">(</span><span class="n">D</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="n">where</span>
   <span class="n">Obj</span> <span class="o">:</span> <span class="bp">∀</span><span class="o">(</span><span class="n">_</span> <span class="o">:</span> <span class="n">C.Obj</span><span class="o">),</span><span class="n">D.Obj</span>
   <span class="n">Mor</span> <span class="o">:</span> <span class="bp">∀</span><span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">C.Obj</span><span class="o">),</span><span class="bp">∀</span><span class="o">(</span><span class="n">Y</span> <span class="o">:</span> <span class="n">C.Obj</span><span class="o">),</span><span class="bp">∀</span><span class="o">(</span><span class="n">_</span> <span class="o">:</span> <span class="n">C.Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">),</span><span class="n">D.Hom</span> <span class="o">(</span><span class="n">Obj</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">Obj</span> <span class="n">Y</span><span class="o">)</span>
   <span class="n">Idn</span> <span class="o">:</span> <span class="bp">∀</span><span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">C.Obj</span><span class="o">),</span><span class="n">Mor</span> <span class="n">X</span> <span class="n">X</span> <span class="o">(</span><span class="n">C.Idn</span> <span class="n">X</span><span class="o">)</span> <span class="bp">=</span> <span class="n">D.Idn</span> <span class="o">(</span><span class="n">Obj</span> <span class="n">X</span><span class="o">)</span>
   <span class="n">Cmp</span> <span class="o">:</span> <span class="bp">∀</span><span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">C.Obj</span><span class="o">),</span><span class="bp">∀</span><span class="o">(</span><span class="n">Y</span> <span class="o">:</span> <span class="n">C.Obj</span><span class="o">),</span><span class="bp">∀</span><span class="o">(</span><span class="n">Z</span> <span class="o">:</span> <span class="n">C.Obj</span><span class="o">),</span><span class="bp">∀</span><span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">C.Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">),</span><span class="bp">∀</span><span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">C.Hom</span> <span class="n">Y</span> <span class="n">Z</span><span class="o">),</span><span class="n">D.Cmp</span> <span class="o">(</span><span class="n">Obj</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">Obj</span> <span class="n">Y</span><span class="o">)</span> <span class="o">(</span><span class="n">Obj</span> <span class="n">Z</span><span class="o">)</span> <span class="o">(</span><span class="n">Mor</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">f</span><span class="o">)</span> <span class="o">(</span><span class="n">Mor</span> <span class="n">Y</span> <span class="n">Z</span> <span class="n">g</span><span class="o">)</span> <span class="bp">=</span> <span class="n">Mor</span> <span class="n">X</span> <span class="n">Z</span> <span class="o">(</span><span class="n">C.Cmp</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">(</span><span class="n">f</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span><span class="o">))</span>

<span class="kd">def</span> <span class="n">CatIdn</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">:</span> <span class="n">Fun</span> <span class="n">C</span> <span class="n">C</span> <span class="o">:=</span>
<span class="o">{</span><span class="n">Obj</span> <span class="o">:=</span> <span class="k">fun</span><span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">C.Obj</span><span class="o">)</span><span class="bp">=&gt;</span><span class="n">X</span><span class="o">,</span> <span class="n">Mor</span> <span class="o">:=</span> <span class="k">fun</span><span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">C.Obj</span><span class="o">)</span><span class="bp">=&gt;</span><span class="k">fun</span><span class="o">(</span><span class="n">Y</span> <span class="o">:</span> <span class="n">C.Obj</span><span class="o">)</span><span class="bp">=&gt;</span><span class="k">fun</span><span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">C.Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span><span class="bp">=&gt;</span><span class="n">f</span><span class="o">,</span> <span class="n">Idn</span> <span class="o">:=</span> <span class="k">fun</span><span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">C.Obj</span><span class="o">)</span><span class="bp">=&gt;</span><span class="n">Eq.refl</span> <span class="o">(</span><span class="n">C.Idn</span> <span class="n">X</span><span class="o">),</span><span class="n">Cmp</span> <span class="o">:=</span> <span class="k">fun</span><span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">C.Obj</span><span class="o">)</span><span class="bp">=&gt;</span><span class="k">fun</span><span class="o">(</span><span class="n">Y</span> <span class="o">:</span> <span class="n">C.Obj</span><span class="o">)</span><span class="bp">=&gt;</span><span class="k">fun</span><span class="o">(</span><span class="n">Z</span> <span class="o">:</span> <span class="n">C.Obj</span><span class="o">)</span><span class="bp">=&gt;</span><span class="k">fun</span><span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">C.Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span><span class="bp">=&gt;</span><span class="k">fun</span><span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">C.Hom</span> <span class="n">Y</span> <span class="n">Z</span><span class="o">)</span><span class="bp">=&gt;</span><span class="n">Eq.refl</span> <span class="o">(</span><span class="n">C.Cmp</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="n">f</span> <span class="n">g</span><span class="o">)}</span>

<span class="kd">def</span> <span class="n">CatCmp</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">(</span><span class="n">D</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">(</span><span class="n">E</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">Fun</span> <span class="n">C</span> <span class="n">D</span><span class="o">)</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="n">Fun</span> <span class="n">D</span> <span class="n">E</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">Fun</span> <span class="n">C</span> <span class="n">E</span><span class="o">):=</span>
<span class="o">{</span><span class="n">Obj</span> <span class="o">:=</span> <span class="k">fun</span><span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">C.Obj</span><span class="o">)</span><span class="bp">=&gt;</span><span class="o">(</span><span class="n">G.Obj</span> <span class="o">(</span><span class="n">F.Obj</span> <span class="n">X</span><span class="o">)),</span><span class="n">Mor</span> <span class="o">:=</span> <span class="k">fun</span><span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">C.Obj</span><span class="o">)</span><span class="bp">=&gt;</span><span class="k">fun</span><span class="o">(</span><span class="n">Y</span> <span class="o">:</span> <span class="n">C.Obj</span><span class="o">)</span><span class="bp">=&gt;</span><span class="k">fun</span><span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">C.Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span><span class="bp">=&gt;</span><span class="o">(</span><span class="n">G.Mor</span><span class="o">)</span> <span class="o">(</span><span class="n">F.Obj</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">F.Obj</span> <span class="n">Y</span><span class="o">)</span> <span class="o">((</span><span class="n">F.Mor</span><span class="o">)</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">f</span><span class="o">),</span><span class="n">Idn</span> <span class="o">:=</span> <span class="k">fun</span><span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">C.Obj</span><span class="o">)</span><span class="bp">=&gt;</span> <span class="o">((</span><span class="n">Eq.trans</span><span class="o">)</span> <span class="o">(</span><span class="n">congrArg</span> <span class="o">(</span><span class="n">G.Mor</span> <span class="o">(</span><span class="n">F.Obj</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">F.Obj</span> <span class="n">X</span><span class="o">))</span> <span class="o">(</span><span class="n">F.Idn</span> <span class="n">X</span><span class="o">)</span> <span class="o">)</span> <span class="o">(</span><span class="n">G.Idn</span> <span class="o">(</span><span class="n">F.Obj</span> <span class="n">X</span><span class="o">))),</span><span class="n">Cmp</span> <span class="o">:=</span> <span class="k">fun</span><span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">C.Obj</span><span class="o">)</span><span class="bp">=&gt;</span><span class="k">fun</span><span class="o">(</span><span class="n">Y</span> <span class="o">:</span> <span class="n">C.Obj</span><span class="o">)</span><span class="bp">=&gt;</span><span class="k">fun</span><span class="o">(</span><span class="n">Z</span> <span class="o">:</span> <span class="n">C.Obj</span><span class="o">)</span><span class="bp">=&gt;</span><span class="k">fun</span><span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">C.Hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span><span class="bp">=&gt;</span><span class="k">fun</span><span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">C.Hom</span> <span class="n">Y</span> <span class="n">Z</span><span class="o">)</span><span class="bp">=&gt;</span><span class="o">((</span><span class="n">Eq.trans</span><span class="o">)</span> <span class="o">(</span><span class="n">G.Cmp</span> <span class="o">(</span><span class="n">F.Obj</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">F.Obj</span> <span class="n">Y</span><span class="o">)</span> <span class="o">(</span><span class="n">F.Obj</span> <span class="n">Z</span><span class="o">)</span> <span class="o">(</span><span class="n">F.Mor</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">f</span><span class="o">)</span> <span class="o">(</span><span class="n">F.Mor</span> <span class="n">Y</span> <span class="n">Z</span> <span class="n">g</span><span class="o">))</span> <span class="o">(</span><span class="n">congrArg</span> <span class="o">(</span><span class="n">G.Mor</span> <span class="o">(</span><span class="n">F.Obj</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">F.Obj</span> <span class="n">Z</span><span class="o">))</span> <span class="o">(</span><span class="n">F.Cmp</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="n">f</span> <span class="n">g</span><span class="o">)))}</span>

<span class="kd">def</span> <span class="n">CatId1</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">(</span><span class="n">D</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">Fun</span> <span class="n">C</span> <span class="n">D</span><span class="o">)</span> <span class="o">:</span> <span class="o">((</span><span class="n">CatCmp</span> <span class="n">C</span> <span class="n">D</span> <span class="n">D</span><span class="o">)</span> <span class="n">F</span> <span class="o">(</span><span class="n">CatIdn</span> <span class="n">D</span><span class="o">)</span> <span class="bp">=</span> <span class="n">F</span><span class="o">)</span> <span class="o">:=</span> <span class="n">Eq.refl</span> <span class="n">F</span>

<span class="kd">def</span> <span class="n">CatId2</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">(</span><span class="n">D</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">Fun</span> <span class="n">C</span> <span class="n">D</span><span class="o">)</span> <span class="o">:</span> <span class="o">((</span><span class="n">CatCmp</span> <span class="n">C</span> <span class="n">C</span> <span class="n">D</span><span class="o">)</span> <span class="o">(</span><span class="n">CatIdn</span> <span class="n">C</span><span class="o">)</span> <span class="n">F</span> <span class="bp">=</span> <span class="n">F</span><span class="o">)</span> <span class="o">:=</span> <span class="n">Eq.refl</span> <span class="n">F</span>

<span class="kd">def</span> <span class="n">CatAss</span> <span class="o">(</span><span class="n">B</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">(</span><span class="n">D</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">(</span><span class="n">E</span> <span class="o">:</span> <span class="n">Cat</span><span class="o">)</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">Fun</span> <span class="n">B</span> <span class="n">C</span><span class="o">)</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="n">Fun</span> <span class="n">C</span> <span class="n">D</span><span class="o">)</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">Fun</span> <span class="n">D</span> <span class="n">E</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">CatCmp</span> <span class="n">B</span> <span class="n">C</span> <span class="n">E</span> <span class="n">F</span> <span class="o">(</span><span class="n">CatCmp</span> <span class="n">C</span> <span class="n">D</span> <span class="n">E</span> <span class="n">G</span> <span class="n">H</span><span class="o">)</span> <span class="bp">=</span> <span class="n">CatCmp</span> <span class="n">B</span> <span class="n">D</span> <span class="n">E</span> <span class="o">(</span><span class="n">CatCmp</span> <span class="n">B</span> <span class="n">C</span> <span class="n">D</span> <span class="n">F</span> <span class="n">G</span><span class="o">)</span> <span class="n">H</span><span class="o">)</span> <span class="o">:=</span> <span class="n">Eq.refl</span> <span class="o">(</span><span class="n">CatCmp</span> <span class="n">B</span> <span class="n">C</span> <span class="n">E</span> <span class="n">F</span> <span class="o">(</span><span class="n">CatCmp</span> <span class="n">C</span> <span class="n">D</span> <span class="n">E</span> <span class="n">G</span> <span class="n">H</span><span class="o">))</span>

<span class="kd">def</span> <span class="n">Category</span> <span class="o">:</span> <span class="n">Cat</span> <span class="o">:=</span> <span class="o">{</span><span class="n">Cat</span><span class="o">,</span><span class="n">Fun</span><span class="o">,</span><span class="n">CatIdn</span><span class="o">,</span><span class="n">CatCmp</span><span class="o">,</span><span class="n">CatId1</span><span class="o">,</span><span class="n">CatId2</span><span class="o">,</span><span class="n">CatAss</span><span class="o">}</span>
</code></pre></div>



<a name="321540702"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cat%20is%20not%20a%20valid%20field%20of%20structure%20cat/near/321540702" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/cat.20is.20not.20a.20valid.20field.20of.20structure.20cat.html#321540702">(Jan 15 2023 at 23:21)</a>:</h4>
<p>As far as I know that's not valid syntax to make a structure instance? Oh -- this is lean 4? Then I'm not so sure. But it's still a pretty wacky way to do it. What happens if you try it the normal way? <code>Obj := Cat</code> etc.</p>



<a name="321541021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cat%20is%20not%20a%20valid%20field%20of%20structure%20cat/near/321541021" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kind Bubble <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/cat.20is.20not.20a.20valid.20field.20of.20structure.20cat.html#321541021">(Jan 15 2023 at 23:27)</a>:</h4>
<p>Oh! It's just the wrong syntax haha. Ok thanks Professor.</p>



<a name="321541323"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cat%20is%20not%20a%20valid%20field%20of%20structure%20cat/near/321541323" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/cat.20is.20not.20a.20valid.20field.20of.20structure.20cat.html#321541323">(Jan 15 2023 at 23:32)</a>:</h4>
<p>I tried the code with the correct syntax (<code>def Category : Cat where  Obj := Cat ...</code> or <code>{ Obj := Cat, ... }</code> but Lean reports universe error. I realized the problem is that even though <code>Cat</code> is one universe higher, <code>Fun</code> is in the original universe, so you either need to allow different universes for <code>Obj</code> and <code>Hom</code>, or else need to specify the universe of <code>Fun</code> to be one higher.</p>



<a name="321541476"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cat%20is%20not%20a%20valid%20field%20of%20structure%20cat/near/321541476" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/cat.20is.20not.20a.20valid.20field.20of.20structure.20cat.html#321541476">(Jan 15 2023 at 23:35)</a>:</h4>
<p>something like</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">structure</span> <span class="n">Fun</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat.</span><span class="o">{</span><span class="n">u</span><span class="o">})</span> <span class="o">(</span><span class="n">D</span> <span class="o">:</span> <span class="n">Cat.</span><span class="o">{</span><span class="n">u</span><span class="o">})</span> <span class="o">:</span> <span class="kt">Type</span> <span class="o">(</span><span class="n">u</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="n">where</span>
</code></pre></div>



<a name="321549625"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cat%20is%20not%20a%20valid%20field%20of%20structure%20cat/near/321549625" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kind Bubble <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/cat.20is.20not.20a.20valid.20field.20of.20structure.20cat.html#321549625">(Jan 16 2023 at 01:29)</a>:</h4>
<p>thanks!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>