---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Lean.20in.20LaTeX.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20in.20LaTeX.html">Lean in LaTeX</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="192677228"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20in%20LaTeX/near/192677228" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20in.20LaTeX.html#192677228">(Apr 02 2020 at 14:58)</a>:</h4>
<p>I get an error when copy-pasting the definition of a perfectoid ring into a <code>\begin{lstlisting} \end{lstlisting}</code> block. The error is at the unicode <code>\varpi</code> character and says</p>
<div class="codehilite"><pre><span></span>ERROR: Package ucs Error: Unknown Unicode character 982 = U+03D6,

--- TeX said ---

(ucs)                possibly declared in uni-3.def.
(ucs)                Type H to see if it is available with options.

See the ucs package documentation for explanation.
Type  H &lt;return&gt;  for immediate help.
 ...

l.204 (ramified  : ∃ ϖ
                          : pseudo_uniformizer R, ϖ^p ∣ p in Rᵒ)
--- HELP ---
From the .log file...

Unicode character 982 = U+03D6:
GREEK PI SYMBOL
GREEK SMALL LETTER OMEGA PI
Character available with following options:
   mathletters, postscript.
Enter I!&lt;RET&gt; to define the glyph.
</pre></div>


<p>Rather than just launching in and trying to fix it myself I thought I'd ask here first. I have the package working fine and displaying other Lean code.</p>



<a name="192678959"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20in%20LaTeX/near/192678959" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20in.20LaTeX.html#192678959">(Apr 02 2020 at 15:08)</a>:</h4>
<p>What did we do in the paper?</p>



<a name="192678975"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20in%20LaTeX/near/192678975" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20in.20LaTeX.html#192678975">(Apr 02 2020 at 15:09)</a>:</h4>
<p>That also had this symbol, right?</p>



<a name="192679287"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20in%20LaTeX/near/192679287" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20in.20LaTeX.html#192679287">(Apr 02 2020 at 15:10)</a>:</h4>
<p>Good question. I guess Patrick did some magic or something?</p>



<a name="192679315"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20in%20LaTeX/near/192679315" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20in.20LaTeX.html#192679315">(Apr 02 2020 at 15:10)</a>:</h4>
<p>Maybe you need to hack your <code>lstlean.tex</code> file: <a href="https://github.com/leanprover-community/lean/blob/4b40cea334bfba36e204e65475c1f21db7367b5f/extras/latex/lstlean.tex#L81" title="https://github.com/leanprover-community/lean/blob/4b40cea334bfba36e204e65475c1f21db7367b5f/extras/latex/lstlean.tex#L81">https://github.com/leanprover-community/lean/blob/4b40cea334bfba36e204e65475c1f21db7367b5f/extras/latex/lstlean.tex#L81</a></p>



<a name="192679446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20in%20LaTeX/near/192679446" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20in.20LaTeX.html#192679446">(Apr 02 2020 at 15:11)</a>:</h4>
<p>Right -- but I'm not a hacker and I don't know what else I have to do afterwards. I don't really understand TeX packages.</p>



<a name="192693943"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20in%20LaTeX/near/192693943" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20in.20LaTeX.html#192693943">(Apr 02 2020 at 16:41)</a>:</h4>
<p>I think your solution is here: <a href="https://en.wikibooks.org/wiki/LaTeX/Source_Code_Listings" title="https://en.wikibooks.org/wiki/LaTeX/Source_Code_Listings">https://en.wikibooks.org/wiki/LaTeX/Source_Code_Listings</a>, at heading "Encoding Issues"</p>



<a name="192694170"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20in%20LaTeX/near/192694170" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20in.20LaTeX.html#192694170">(Apr 02 2020 at 16:43)</a>:</h4>
<p>Another person moaning about LaTeX having issues with UTF-8 here: <a href="https://analyzethedatanotthedrivel.org/2011/08/15/typesetting-utf8-apl-code-with-the-latex-lstlisting-package/" title="https://analyzethedatanotthedrivel.org/2011/08/15/typesetting-utf8-apl-code-with-the-latex-lstlisting-package/">https://analyzethedatanotthedrivel.org/2011/08/15/typesetting-utf8-apl-code-with-the-latex-lstlisting-package/</a></p>



<a name="192694504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20in%20LaTeX/near/192694504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20in.20LaTeX.html#192694504">(Apr 02 2020 at 16:46)</a>:</h4>
<p>StackOverflow claims that the minted package with XeLaTeX would work seamlessly because it uses Pygments under the hood... although, I have no idea about the current status of Pygments syntax highlighting as seen by the number of red squares in this chat...</p>



<a name="192695061"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20in%20LaTeX/near/192695061" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20in.20LaTeX.html#192695061">(Apr 02 2020 at 16:51)</a>:</h4>
<p><a href="https://github.com/pygments/pygments/pull/1415" title="https://github.com/pygments/pygments/pull/1415">A fix has been merged into pygments master</a>, no idea when a new version will be released though.</p>



<a name="192696860"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20in%20LaTeX/near/192696860" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20in.20LaTeX.html#192696860">(Apr 02 2020 at 17:04)</a>:</h4>
<p>Also see <a href="https://tex.stackexchange.com/questions/343494/minted-red-box-around-greek-characters" title="https://tex.stackexchange.com/questions/343494/minted-red-box-around-greek-characters">https://tex.stackexchange.com/questions/343494/minted-red-box-around-greek-characters</a> for disabling the boxes in minted in general</p>



<a name="192714035"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20in%20LaTeX/near/192714035" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Lean.20in.20LaTeX.html#192714035">(Apr 02 2020 at 19:28)</a>:</h4>
<p>We used an old lstlean.tex in the perfectoid project, but someone added a couple of extra lines. I've stared at the diff and added</p>
<div class="codehilite"><pre><span></span>{ϖ}{{\ensuremath{\mathrm{\mathnormal{\varpi}}}}}1
</pre></div>


<p>and</p>
<div class="codehilite"><pre><span></span>{ᵒ}{{\color{symbolcolor}\ensuremath{^\circ}}}1
</pre></div>


<p>but I've basically come up with these lines by some kind of pattern matching algorithm and don't really know if they're right. The <code>color</code> stuff on the little circle is not in our project, it's just guesswork.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>