---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Visual.20Studio.20Code.3A.20.22spawn.20ENOTDIR.22.20error.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Visual.20Studio.20Code.3A.20.22spawn.20ENOTDIR.22.20error.html">Visual Studio Code: "spawn ENOTDIR" error</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="229112879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Visual%20Studio%20Code%3A%20%22spawn%20ENOTDIR%22%20error/near/229112879" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Visual.20Studio.20Code.3A.20.22spawn.20ENOTDIR.22.20error.html#229112879">(Mar 06 2021 at 17:06)</a>:</h4>
<p>I don't think I've seen reports of this before. What does <code>elan show</code> say from the command line?</p>



<a name="229124700"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Visual%20Studio%20Code%3A%20%22spawn%20ENOTDIR%22%20error/near/229124700" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> François Sunatori <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Visual.20Studio.20Code.3A.20.22spawn.20ENOTDIR.22.20error.html#229124700">(Mar 06 2021 at 20:02)</a>:</h4>
<p>Hi @Bryan Gin-ge Chen this is the output I get for elan show</p>
<p>installed toolchains</p>
<hr>
<p>stable (default)<br>
leanprover-community-lean-3.17.1<br>
leanprover-community-lean-3.18.4<br>
leanprover-community-lean-3.23.0<br>
leanprover-community-lean-3.26.0<br>
leanprover-community-lean-3.27.0</p>
<p>active toolchain</p>
<hr>
<p>stable (default)<br>
Lean (version 3.4.2, commit cbd2b6686ddb, Release)</p>



<a name="229126050"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Visual%20Studio%20Code%3A%20%22spawn%20ENOTDIR%22%20error/near/229126050" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Visual.20Studio.20Code.3A.20.22spawn.20ENOTDIR.22.20error.html#229126050">(Mar 06 2021 at 20:22)</a>:</h4>
<p>OK, that could be reasonable if you ran <code>elan show</code> in a random directory. When you're running VS Code, are you opening a directory containing a <a href="https://leanprover-community.github.io/install/project.html">Lean project</a>? 99% of the time you want your Lean code to be part of a Lean project. What do you see when you run <code>elan show</code> in the project you're trying to work in?</p>



<a name="229127076"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Visual%20Studio%20Code%3A%20%22spawn%20ENOTDIR%22%20error/near/229127076" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> François Sunatori <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Visual.20Studio.20Code.3A.20.22spawn.20ENOTDIR.22.20error.html#229127076">(Mar 06 2021 at 20:37)</a>:</h4>
<p>When in Mathlib I run <code>elan show</code> and get</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">installed</span> <span class="n">toolchains</span>
<span class="c1">--------------------</span>

<span class="n">stable</span> <span class="o">(</span><span class="n">default</span><span class="o">)</span>
<span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">-</span><span class="n">lean</span><span class="bp">-</span><span class="mi">3</span><span class="bp">.</span><span class="mi">17</span><span class="bp">.</span><span class="mi">1</span>
<span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">-</span><span class="n">lean</span><span class="bp">-</span><span class="mi">3</span><span class="bp">.</span><span class="mi">18</span><span class="bp">.</span><span class="mi">4</span>
<span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">-</span><span class="n">lean</span><span class="bp">-</span><span class="mi">3</span><span class="bp">.</span><span class="mi">23</span><span class="bp">.</span><span class="mi">0</span>
<span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">-</span><span class="n">lean</span><span class="bp">-</span><span class="mi">3</span><span class="bp">.</span><span class="mi">26</span><span class="bp">.</span><span class="mi">0</span>
<span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">-</span><span class="n">lean</span><span class="bp">-</span><span class="mi">3</span><span class="bp">.</span><span class="mi">27</span><span class="bp">.</span><span class="mi">0</span>

<span class="n">active</span> <span class="n">toolchain</span>
<span class="c1">----------------</span>

<span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">-</span><span class="n">lean</span><span class="bp">-</span><span class="mi">3</span><span class="bp">.</span><span class="mi">27</span><span class="bp">.</span><span class="mi">0</span> <span class="o">(</span><span class="n">overridden</span> <span class="kd">by</span> <span class="bp">'/</span><span class="n">Users</span><span class="bp">/</span><span class="n">fss</span><span class="bp">/</span><span class="n">Dropbox</span><span class="bp">/</span><span class="n">Documents</span><span class="bp">/</span><span class="n">lean</span><span class="bp">/</span><span class="n">mathlib</span><span class="bp">/</span><span class="n">leanpkg.toml'</span><span class="o">)</span>
<span class="n">Lean</span> <span class="o">(</span><span class="n">version</span> <span class="mi">3</span><span class="bp">.</span><span class="mi">27</span><span class="bp">.</span><span class="mi">0</span><span class="o">,</span> <span class="n">commit</span> <span class="n">de35266fe596</span><span class="o">,</span> <span class="n">Release</span><span class="o">)</span>
</code></pre></div>



<a name="229127909"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Visual%20Studio%20Code%3A%20%22spawn%20ENOTDIR%22%20error/near/229127909" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Visual.20Studio.20Code.3A.20.22spawn.20ENOTDIR.22.20error.html#229127909">(Mar 06 2021 at 20:48)</a>:</h4>
<p>If you open VS Code in that directory and go to "Help &gt; Toggle Developer Tools" do you see any suspicious errors in the console?</p>



<a name="229128836"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Visual%20Studio%20Code%3A%20%22spawn%20ENOTDIR%22%20error/near/229128836" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> François Sunatori <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Visual.20Studio.20Code.3A.20.22spawn.20ENOTDIR.22.20error.html#229128836">(Mar 06 2021 at 21:00)</a>:</h4>
<p>This is what I see when I place the cursor in a file<br>
<a href="/user_uploads/3121/HEVLnkDDiSVmgvAoobI0kI0N/Screen-Shot-2021-03-06-at-16.00.28.png">Screen-Shot-2021-03-06-at-16.00.28.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/HEVLnkDDiSVmgvAoobI0kI0N/Screen-Shot-2021-03-06-at-16.00.28.png" title="Screen-Shot-2021-03-06-at-16.00.28.png"><img src="/user_uploads/3121/HEVLnkDDiSVmgvAoobI0kI0N/Screen-Shot-2021-03-06-at-16.00.28.png"></a></div>



<a name="229129017"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Visual%20Studio%20Code%3A%20%22spawn%20ENOTDIR%22%20error/near/229129017" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Visual.20Studio.20Code.3A.20.22spawn.20ENOTDIR.22.20error.html#229129017">(Mar 06 2021 at 21:03)</a>:</h4>
<p>In case it helps, Google/GH search finds e.g. <a href="https://github.com/microsoft/vscode/issues/118164">https://github.com/microsoft/vscode/issues/118164</a> as a recent (open) VSCode issue (which seems to mention SSH / containers, but one of the comments there at least seems to mention another possible scenario it's showing up in on Big Sur), so if all else fails maybe you try downgrading as shown there and see if it goes away</p>



<a name="229129245"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Visual%20Studio%20Code%3A%20%22spawn%20ENOTDIR%22%20error/near/229129245" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Visual.20Studio.20Code.3A.20.22spawn.20ENOTDIR.22.20error.html#229129245">(Mar 06 2021 at 21:07)</a>:</h4>
<p>Right, if the problem only appeared after you upgraded VS Code then the upgrade seems like a likely culprit.</p>



<a name="229130239"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Visual%20Studio%20Code%3A%20%22spawn%20ENOTDIR%22%20error/near/229130239" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> François Sunatori <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Visual.20Studio.20Code.3A.20.22spawn.20ENOTDIR.22.20error.html#229130239">(Mar 06 2021 at 21:22)</a>:</h4>
<p>I'm not sure if I had upgraded (maybe some auto update), but downgrading to 1.53.2 solved it. Thanks for your help <span class="user-mention" data-user-id="321696">@Julian Berman</span> and <span class="user-mention" data-user-id="123965">@Bryan Gin-ge Chen</span> !</p>



<a name="229130253"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Visual%20Studio%20Code%3A%20%22spawn%20ENOTDIR%22%20error/near/229130253" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Visual.20Studio.20Code.3A.20.22spawn.20ENOTDIR.22.20error.html#229130253">(Mar 06 2021 at 21:22)</a>:</h4>
<p>hooray for moving backwards :) -- glad it helped</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>