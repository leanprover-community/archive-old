---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/unused.20argument.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unused.20argument.html">unused argument</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="202197329"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unused%20argument/near/202197329" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unused.20argument.html#202197329">(Jun 27 2020 at 17:53)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/3198/checks?check_run_id=814314665">https://github.com/leanprover-community/mathlib/pull/3198/checks?check_run_id=814314665</a></p>



<a name="202197331"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unused%20argument/near/202197331" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unused.20argument.html#202197331">(Jun 27 2020 at 17:53)</a>:</h4>
<p>lint tells me that I have an unused argument</p>



<a name="202197333"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unused%20argument/near/202197333" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unused.20argument.html#202197333">(Jun 27 2020 at 17:53)</a>:</h4>
<p>but I think I used it</p>



<a name="202197336"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unused%20argument/near/202197336" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unused.20argument.html#202197336">(Jun 27 2020 at 17:53)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> could you check this? thanks</p>



<a name="202198054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unused%20argument/near/202198054" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unused.20argument.html#202198054">(Jun 27 2020 at 18:09)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> What happens if you remove the argument?</p>



<a name="202198136"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unused%20argument/near/202198136" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unused.20argument.html#202198136">(Jun 27 2020 at 18:10)</a>:</h4>
<p>it's used in the <code>char_p.cast_eq_zero</code> line</p>



<a name="202198145"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unused%20argument/near/202198145" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unused.20argument.html#202198145">(Jun 27 2020 at 18:10)</a>:</h4>
<p><code>invalid rewrite tactic, failed to synthesize type class instance</code></p>



<a name="202198154"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unused%20argument/near/202198154" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unused.20argument.html#202198154">(Jun 27 2020 at 18:11)</a>:</h4>
<p>That's a different lemma</p>



<a name="202198160"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unused%20argument/near/202198160" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unused.20argument.html#202198160">(Jun 27 2020 at 18:11)</a>:</h4>
<p>It's complaining about <code>of_irreducible_expand</code></p>



<a name="202198165"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unused%20argument/near/202198165" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unused.20argument.html#202198165">(Jun 27 2020 at 18:11)</a>:</h4>
<p>And there I don't see how it's used</p>



<a name="202198174"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unused%20argument/near/202198174" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unused.20argument.html#202198174">(Jun 27 2020 at 18:11)</a>:</h4>
<p>You seem to be looking at <code>of_separable_expand</code></p>



<a name="202198177"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unused%20argument/near/202198177" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unused.20argument.html#202198177">(Jun 27 2020 at 18:11)</a>:</h4>
<p>oh I'm blind</p>



<a name="202198225"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unused%20argument/near/202198225" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unused.20argument.html#202198225">(Jun 27 2020 at 18:12)</a>:</h4>
<p>Tip: copy the linter output to the bottom of the file, and ctrl-click on the names</p>



<a name="202198232"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unused%20argument/near/202198232" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unused.20argument.html#202198232">(Jun 27 2020 at 18:12)</a>:</h4>
<p><span class="user-mention" data-user-id="111080">@Floris van Doorn</span> Could <code>#lint</code> be "Try this"-ified?</p>



<a name="202198470"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unused%20argument/near/202198470" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unused.20argument.html#202198470">(Jun 27 2020 at 18:18)</a>:</h4>
<p>For certain linters it might be possible to get a "Try this" in theory. I think quite some work is needed though, to determine what parts to replace, and how to guess how the source looks from the elaborated expression. In this particular case, it would have to insert an <code>omit HF</code> just before the declaration...</p>



<a name="202198489"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unused%20argument/near/202198489" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unused.20argument.html#202198489">(Jun 27 2020 at 18:19)</a>:</h4>
<p>No... I didn't mean anything fancy.</p>



<a name="202198497"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unused%20argument/near/202198497" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unused.20argument.html#202198497">(Jun 27 2020 at 18:19)</a>:</h4>
<p>Just that you can hit <code>Alt-V</code> and have the output of <code>#lint</code> be copied to the main window.</p>



<a name="202198540"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unused%20argument/near/202198540" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unused.20argument.html#202198540">(Jun 27 2020 at 18:20)</a>:</h4>
<p>I guess it just saves 5 keystrokes...</p>



<a name="202198546"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unused%20argument/near/202198546" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unused.20argument.html#202198546">(Jun 27 2020 at 18:20)</a>:</h4>
<p>But it will save them a lot of times for a lot of people.</p>



<a name="202198554"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unused%20argument/near/202198554" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unused.20argument.html#202198554">(Jun 27 2020 at 18:20)</a>:</h4>
<p>Of course you should only do this if it's easy.</p>



<a name="202198653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unused%20argument/near/202198653" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unused.20argument.html#202198653">(Jun 27 2020 at 18:24)</a>:</h4>
<p>I think that should be possible. I don't know if the <code>try this</code> logic to decide what to replace is already compatible with things other than tactics.<br>
Note: there is also a hole command linter option</p>



<a name="202198721"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unused%20argument/near/202198721" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unused.20argument.html#202198721">(Jun 27 2020 at 18:25)</a>:</h4>
<p>Aaah, I forgot about the hole command</p>



<a name="202198774"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unused%20argument/near/202198774" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unused.20argument.html#202198774">(Jun 27 2020 at 18:26)</a>:</h4>
<p>Unfortunately you cannot use hole commands at the top level (would that be possible/desirable to change <span class="user-mention" data-user-id="110043">@Gabriel Ebner</span>?), so you currently have to write <code>#eval _</code> or something.</p>



<a name="202199608"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unused%20argument/near/202199608" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unused.20argument.html#202199608">(Jun 27 2020 at 18:48)</a>:</h4>
<p>I opened an issue about better integrating <code>#lint</code> with vscode-lean a while back: <a href="https://github.com/leanprover/vscode-lean/issues/149">leanprover/vscode-lean#149</a> </p>
<p>There aren't any real concrete ideas there yet though.</p>



<a name="202199996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unused%20argument/near/202199996" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unused.20argument.html#202199996">(Jun 27 2020 at 18:57)</a>:</h4>
<p>In Lean 3.17 we could make the linting output a widget and make the declaration names clickable.</p>



<a name="202200059"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unused%20argument/near/202200059" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unused.20argument.html#202200059">(Jun 27 2020 at 18:58)</a>:</h4>
<p>Presumably then we could also have the extension add diagnostics at the locations of the linter errors?</p>



<a name="202200144"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unused%20argument/near/202200144" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unused.20argument.html#202200144">(Jun 27 2020 at 19:00)</a>:</h4>
<p>Oh yes, I'm also missing the summer festivals. <span aria-label="sweet potato" class="emoji emoji-1f360" role="img" title="sweet potato">:sweet_potato:</span> <span aria-label="octopus" class="emoji emoji-1f419" role="img" title="octopus">:octopus:</span></p>



<a name="202200612"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unused%20argument/near/202200612" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unused.20argument.html#202200612">(Jun 27 2020 at 19:11)</a>:</h4>
<p>I'm really looking forward to the <code>extract_goal</code> widget, paired with the recently discussed name-auto-generator.</p>



<a name="202200855"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unused%20argument/near/202200855" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unused.20argument.html#202200855">(Jun 27 2020 at 19:16)</a>:</h4>
<p>BTW, at least for the current file it is possible to generate diagnostics from Lean, without modifying the vscode extension at all:</p>
<div class="codehilite"><pre><span></span><code><span class="n">def</span> <span class="n">a</span> <span class="o">:=</span> <span class="mi">5</span> <span class="c1">--&lt;- blue squiggles here</span>
<span class="n">def</span> <span class="n">b</span> <span class="o">:=</span> <span class="mi">4</span>

<span class="kn">open</span> <span class="n">tactic</span> <span class="n">widget</span>
<span class="bp">#</span><span class="kn">eval</span> <span class="n">do</span>
<span class="n">e</span> <span class="err">←</span> <span class="n">get_env</span><span class="o">,</span>
<span class="n">some</span> <span class="n">p</span> <span class="err">←</span> <span class="n">pure</span> <span class="err">$</span> <span class="n">e</span><span class="bp">.</span><span class="n">decl_pos</span> <span class="bp">``</span><span class="n">a</span><span class="o">,</span>
<span class="k">let</span> <span class="n">w</span> <span class="o">:</span> <span class="n">tc</span> <span class="n">unit</span> <span class="n">string</span> <span class="o">:=</span>
    <span class="n">tc</span><span class="bp">.</span><span class="n">stateless</span> <span class="err">$</span> <span class="bp">λ</span> <span class="bp">_</span><span class="o">,</span> <span class="n">pure</span> <span class="o">[</span>
        <span class="n">h</span> <span class="s2">&quot;details&quot;</span> <span class="o">[</span><span class="n">attr</span><span class="bp">.</span><span class="n">val</span> <span class="s2">&quot;open&quot;</span> <span class="s2">&quot;true&quot;</span><span class="o">]</span> <span class="o">[</span>
            <span class="n">h</span> <span class="s2">&quot;summary&quot;</span> <span class="o">[]</span> <span class="o">[</span><span class="s2">&quot;unused argument&quot;</span><span class="o">],</span>
            <span class="s2">&quot;blah&quot;</span><span class="o">]],</span>
<span class="n">trace_widget_at</span> <span class="n">p</span> <span class="n">w</span><span class="bp">.</span><span class="n">to_component</span> <span class="s2">&quot;unused argument: blah&quot;</span>
</code></pre></div>



<a name="295312061"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unused%20argument/near/295312061" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unused.20argument.html#295312061">(Aug 25 2022 at 21:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/113488-general/topic/unused.20argument/near/202200612">said</a>:</p>
<blockquote>
<p>I'm really looking forward to the <code>extract_goal</code> widget, paired with the recently discussed name-auto-generator.</p>
</blockquote>
<p>Has it been done in the meanwhile?</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>