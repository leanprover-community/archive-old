---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/State.20of.20first-class.20first-order.20tactics.20in.20Lean.203.2F4.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/State.20of.20first-class.20first-order.20tactics.20in.20Lean.203.2F4.html">State of first-class first-order tactics in Lean 3/4</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="202246177"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/State%20of%20first-class%20first-order%20tactics%20in%20Lean%203/4/near/202246177" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Karl Palmskog <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/State.20of.20first-class.20first-order.20tactics.20in.20Lean.203.2F4.html#202246177">(Jun 28 2020 at 17:32)</a>:</h4>
<p>For first-order solving, Isabelle and HOL4 have <a href="http://www.gilith.com/metis/">Metis</a>, HOL Light has Meson, and Coq has <a href="https://coq.inria.fr/refman/proof-engine/tactics.html#coq:tacn.firstorder">firstorder</a> and <a href="https://github.com/lukaszcz/coqhammer#tactics">sauto</a>. What is the closest Lean analogue currently and is it known how it performs on some benchmark? (This would be interesting to know since the <a href="https://www.mimuw.edu.pl/~lukaszcz/sauto.pdf">work on sauto</a> will be presented at IJCAR <a href="https://easychair.org/smart-program/IJCAR2020/2020-07-03.html#session:46059">next week</a>).</p>



<a name="202246568"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/State%20of%20first-class%20first-order%20tactics%20in%20Lean%203/4/near/202246568" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/State.20of.20first-class.20first-order.20tactics.20in.20Lean.203.2F4.html#202246568">(Jun 28 2020 at 17:42)</a>:</h4>
<p>As far as I know, <code>by {[smt] eblast}</code> is the only thing we have related to first order automation.</p>



<a name="202246576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/State%20of%20first-class%20first-order%20tactics%20in%20Lean%203/4/near/202246576" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/State.20of.20first-class.20first-order.20tactics.20in.20Lean.203.2F4.html#202246576">(Jun 28 2020 at 17:43)</a>:</h4>
<p><span class="user-mention" data-user-id="116585">@Seul Baek</span> has two PRs to write bindings, one for Vampire and one for SPASS, but I don't think they're almost finished.</p>



<a name="202246580"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/State%20of%20first-class%20first-order%20tactics%20in%20Lean%203/4/near/202246580" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/State.20of.20first-class.20first-order.20tactics.20in.20Lean.203.2F4.html#202246580">(Jun 28 2020 at 17:43)</a>:</h4>
<p><span class="user-mention" data-user-id="116045">@Jesse Michael Han</span>, anything to add?</p>



<a name="202246732"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/State%20of%20first-class%20first-order%20tactics%20in%20Lean%203/4/near/202246732" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Karl Palmskog <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/State.20of.20first-class.20first-order.20tactics.20in.20Lean.203.2F4.html#202246732">(Jun 28 2020 at 17:47)</a>:</h4>
<p>so <code>eblast</code> calls external solvers and does proof reconstruction? (If so, this is a bit different from Metis or firstorder, which runs inside the proof assistant like a "regular" tactic.)</p>



<a name="202246791"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/State%20of%20first-class%20first-order%20tactics%20in%20Lean%203/4/near/202246791" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/State.20of.20first-class.20first-order.20tactics.20in.20Lean.203.2F4.html#202246791">(Jun 28 2020 at 17:49)</a>:</h4>
<p><code>eblast</code> is not a binding. It is implemented as part of Lean using smt reasoning style</p>



<a name="202247095"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/State%20of%20first-class%20first-order%20tactics%20in%20Lean%203/4/near/202247095" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jesse Michael Han <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/State.20of.20first-class.20first-order.20tactics.20in.20Lean.203.2F4.html#202247095">(Jun 28 2020 at 17:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="198375">Karl Palmskog</span> <a href="#narrow/stream/113488-general/topic/State.20of.20first-class.20first-order.20tactics.20in.20Lean.203.2F4/near/202246732">said</a>:</p>
<blockquote>
<p>so <code>eblast</code> calls external solvers and does proof reconstruction? (If so, this is a bit different from Metis or firstorder, which runs inside the proof assistant like a "regular" tactic.)</p>
</blockquote>
<p>this description more closely describes Seul's Vampire bindings</p>
<p><code>eblast</code> performs e-matching (heuristic instantiation) and congruence closure in a loop</p>
<p>there was a <code>super</code> tactic for superposition reasoning, but iirc it's not being maintained</p>



<a name="202248196"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/State%20of%20first-class%20first-order%20tactics%20in%20Lean%203/4/near/202248196" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/State.20of.20first-class.20first-order.20tactics.20in.20Lean.203.2F4.html#202248196">(Jun 28 2020 at 18:23)</a>:</h4>
<p>The paper on sauto focuses on the orthogonal complement of mathlib (intuitionistic computer science) so I wouldn't be surprised if we have nothing like that.</p>



<a name="202248800"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/State%20of%20first-class%20first-order%20tactics%20in%20Lean%203/4/near/202248800" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Karl Palmskog <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/State.20of.20first-class.20first-order.20tactics.20in.20Lean.203.2F4.html#202248800">(Jun 28 2020 at 18:38)</a>:</h4>
<p><code>sauto</code> was evaluated on (problems from) CompCert, which uses classical logic. It had about 17% success rate, which is lower than for the general Coq library benchmark, but still pretty high I think.</p>



<a name="202282670"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/State%20of%20first-class%20first-order%20tactics%20in%20Lean%203/4/near/202282670" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/State.20of.20first-class.20first-order.20tactics.20in.20Lean.203.2F4.html#202282670">(Jun 29 2020 at 08:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116045">Jesse Michael Han</span> <a href="#narrow/stream/113488-general/topic/State.20of.20first-class.20first-order.20tactics.20in.20Lean.203.2F4/near/202247095">said</a>:</p>
<blockquote>
<p>there was a <code>super</code> tactic for superposition reasoning, but iirc it's not being maintained</p>
</blockquote>
<p>Yes, here is the original one: <a href="https://github.com/leanprover/super">https://github.com/leanprover/super</a>  And here is a recent rewrite: <a href="https://github.com/gebner/super2/">https://github.com/gebner/super2/</a><br>
Here is talk about it from the Matryoshka 2018 workshop: <a href="https://gebner.org/pdfs/2018-06-27_super.pdf">https://gebner.org/pdfs/2018-06-27_super.pdf</a><br>
<code>super</code> kind of works but its main problem is that it's slow.  It uses the built-in unification of Lean, and while this works great in many cases, you quickly run into corner cases with horrific performance or obscure bugs.  The other issue is that the Lean 3 API hasn't exposed the primitives (such as temporary metavariables) intended for this kind of application (this has improved a bit in the community edition though).</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>