---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html">homeomorph.trans and calc</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="199225731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/199225731" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#199225731">(May 29 2020 at 23:50)</a>:</h4>
<p>Is there some way to make <code>calc</code> work with <code>homeomorph</code>? MWE:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">topology</span><span class="bp">.</span><span class="n">homeomorph</span>

<span class="n">local</span> <span class="n">attribute</span> <span class="o">[</span><span class="n">trans</span><span class="o">]</span> <span class="n">homeomorph</span><span class="bp">.</span><span class="n">trans</span>

<span class="n">def</span> <span class="n">sq</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">topological_space</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">α</span> <span class="err">≃ₜ</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">α</span> <span class="err">≃ₜ</span> <span class="n">α</span> <span class="o">:=</span>
<span class="k">calc</span> <span class="n">α</span> <span class="err">≃ₜ</span> <span class="n">α</span> <span class="o">:</span> <span class="n">h</span>
  <span class="bp">...</span>  <span class="err">≃ₜ</span> <span class="n">α</span> <span class="o">:</span> <span class="n">h</span>
<span class="c">/-</span><span class="cm"></span>
<span class="cm">type mismatch at application</span>
<span class="cm">  homeomorph.trans</span>
<span class="cm">term</span>
<span class="cm">  α</span>
<span class="cm">has type</span>
<span class="cm">  Type : Type 1</span>
<span class="cm">but is expected to have type</span>
<span class="cm">  topological_space ?m_1 : Type ?</span>
<span class="cm">-/</span>
</code></pre></div>



<a name="199225978"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/199225978" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#199225978">(May 29 2020 at 23:54)</a>:</h4>
<p>I wanted something analogous with <code>equiv</code> today as well, would be great if something like this worked</p>



<a name="199225992"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/199225992" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#199225992">(May 29 2020 at 23:54)</a>:</h4>
<p>With <code>equiv</code> it does work though (just tested). Something about <code>calc</code> not supplying the right number of arguments to <code>trans</code>?</p>



<a name="199226045"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/199226045" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#199226045">(May 29 2020 at 23:54)</a>:</h4>
<p>It seems that <code>@[trans]</code> doesn't work with non-explicit after explicit ones.</p>



<a name="199226086"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/199226086" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#199226086">(May 29 2020 at 23:55)</a>:</h4>
<p>That doesn't occur in <code>homeomorph.trans</code> though. Are the <code>[]</code> arguments confusing it?</p>



<a name="199226094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/199226094" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#199226094">(May 29 2020 at 23:55)</a>:</h4>
<p>/me tests</p>



<a name="199226117"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/199226117" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#199226117">(May 29 2020 at 23:56)</a>:</h4>
<p>I mean that <code>homeomorph α β</code> is actually <code>@homeomorph α β [topological_space α] [topological_space β]</code>, and probably <code>trans</code> can't deal with this.</p>



<a name="199226186"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/199226186" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#199226186">(May 29 2020 at 23:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110032">Reid Barton</span> <a href="#narrow/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc/near/199225992">said</a>:</p>
<blockquote>
<p>With <code>equiv</code> it does work though (just tested). Something about <code>calc</code> not supplying the right number of arguments to <code>trans</code>?</p>
</blockquote>
<p>Oh! Good to know, I should've actually tried</p>



<a name="199226190"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/199226190" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#199226190">(May 29 2020 at 23:56)</a>:</h4>
<p>Here is the error with <code>pp.all</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="mi">9</span><span class="o">:</span><span class="mi">3</span><span class="o">:</span> <span class="n">type</span> <span class="n">mismatch</span> <span class="n">at</span> <span class="n">application</span>
  <span class="bp">@</span><span class="n">homeomorph</span><span class="bp">.</span><span class="n">trans</span><span class="bp">.</span><span class="o">{</span><span class="err">?</span><span class="n">l_1</span> <span class="err">?</span><span class="n">l_2</span> <span class="err">?</span><span class="n">l_3</span><span class="o">}</span> <span class="err">?</span><span class="n">m_4</span> <span class="err">?</span><span class="n">m_5</span> <span class="err">?</span><span class="n">m_6</span> <span class="n">α</span>
<span class="n">term</span>
  <span class="n">α</span>
<span class="n">has</span> <span class="n">type</span>
  <span class="kt">Type</span> <span class="o">:</span> <span class="kt">Type</span> <span class="mi">1</span>
<span class="n">but</span> <span class="n">is</span> <span class="n">expected</span> <span class="n">to</span> <span class="k">have</span> <span class="n">type</span>
  <span class="n">topological_space</span><span class="bp">.</span><span class="o">{</span><span class="err">?</span><span class="n">l_1</span><span class="o">}</span> <span class="err">?</span><span class="n">m_2</span> <span class="o">:</span> <span class="kt">Type</span> <span class="err">?</span><span class="n">l_1</span>
</code></pre></div>



<a name="199226218"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/199226218" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#199226218">(May 29 2020 at 23:57)</a>:</h4>
<p>I tried making a copy of <code>homeomorph.trans</code> with all the <code>[]</code> arguments turned to <code>{}</code> and it didn't help.</p>



<a name="199226361"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/199226361" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#199226361">(May 29 2020 at 23:59)</a>:</h4>
<p>I've used <code>calc</code> successfully with a pretty complicated <code>[trans]</code> lemma type before and it worked, so not sure what is going on, or how <code>calc</code> decides how to build the application...</p>



<a name="199226867"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/199226867" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#199226867">(May 30 2020 at 00:05)</a>:</h4>
<p>I feel like I must be doing something very dumb, but I can't figure out what...</p>



<a name="199227007"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/199227007" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#199227007">(May 30 2020 at 00:08)</a>:</h4>
<p>That bad application looks like something that has to be fixed in C++</p>



<a name="199227059"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/199227059" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#199227059">(May 30 2020 at 00:09)</a>:</h4>
<p>What confuses me is that this <code>[trans]</code> lemma works fine: <a href="https://github.com/rwbarton/lean-homotopy-theory/blob/lean-3.4.2/src/data/bij_on.lean#L67">https://github.com/rwbarton/lean-homotopy-theory/blob/lean-3.4.2/src/data/bij_on.lean#L67</a></p>



<a name="199227177"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/199227177" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#199227177">(May 30 2020 at 00:11)</a>:</h4>
<div class="codehilite"><pre><span></span><code>        <span class="n">expr</span> <span class="n">trans</span>    <span class="o">=</span> <span class="n">mk_op_fn</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">trans_it</span><span class="o">-&gt;</span><span class="n">m_name</span><span class="p">,</span> <span class="n">trans_it</span><span class="o">-&gt;</span><span class="n">m_num_args</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="n">pos</span><span class="p">);</span>
</code></pre></div>



<a name="199227199"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/199227199" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#199227199">(May 30 2020 at 00:12)</a>:</h4>
<p>this does not instill confidence</p>



<a name="199227271"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/199227271" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#199227271">(May 30 2020 at 00:13)</a>:</h4>
<p><code>Bij_on.trans</code> has three arguments "objects that are related" right before the explicit arguments.</p>



<a name="199227323"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/199227323" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#199227323">(May 30 2020 at 00:14)</a>:</h4>
<p>Now I'm wondering if the issue is actually with the type of <code>homeomorph</code></p>



<a name="199227360"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/199227360" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#199227360">(May 30 2020 at 00:14)</a>:</h4>
<p>While <code>homeomorph.trans</code> has three arguments <code>[topological_space ...]</code> between types and explicit args.</p>



<a name="199227376"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/199227376" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#199227376">(May 30 2020 at 00:15)</a>:</h4>
<p>Yes, I see</p>



<a name="199227398"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/199227398" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#199227398">(May 30 2020 at 00:15)</a>:</h4>
<p>I'm reading the source of calc now. Did you know that when you write <code>a -&gt; b</code> as an expression in a calc proof, it gets turned into <code>implies a b</code>?</p>



<a name="199227416"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/199227416" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#199227416">(May 30 2020 at 00:15)</a>:</h4>
<p>5 is for the three things and the two relations</p>



<a name="199227518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/199227518" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#199227518">(May 30 2020 at 00:16)</a>:</h4>
<p>But for <code>homeomorph</code> we have extra args between three and two.</p>



<a name="199227550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/199227550" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#199227550">(May 30 2020 at 00:17)</a>:</h4>
<p>well, there is a simple solution...</p>



<a name="199228467"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/199228467" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#199228467">(May 30 2020 at 00:35)</a>:</h4>
<p>I think what this should do is unify the trans lemma against <code>op _ a b -&gt; op' _ b c -&gt; op'' _ a c</code> where the <code>op</code>'s are specified by the trans lemma and there are <code>op.n_args-2</code> <code>_</code> for each op</p>



<a name="199228651"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/199228651" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#199228651">(May 30 2020 at 00:38)</a>:</h4>
<p>Even this won't actually work here because in this case <code>op</code> also has extra implicit arguments that come after <code>a b</code></p>



<a name="199228712"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/199228712" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#199228712">(May 30 2020 at 00:40)</a>:</h4>
<p>in that case you will have to elaborate the pre-expression <code>op a b</code> or use mk_app to build those parts</p>



<a name="199228758"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/199228758" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#199228758">(May 30 2020 at 00:40)</a>:</h4>
<p>What if we just apply the trans lemma to the two proofs as a <code>pexpr</code>?</p>



<a name="199228796"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/199228796" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#199228796">(May 30 2020 at 00:41)</a>:</h4>
<p>because the typing part of the <code>calc</code> also provides some information, about the form of the subgoals that needs to be used both outside the calc block and to type the proofs</p>



<a name="199228844"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/199228844" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#199228844">(May 30 2020 at 00:42)</a>:</h4>
<p>hmm, I see</p>



<a name="199228854"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/199228854" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#199228854">(May 30 2020 at 00:42)</a>:</h4>
<p>that is, it is like <code>(trans_lemma (proof1 : op a b) (proof2 : op b c) : op a c)</code></p>



<a name="199228863"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/199228863" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#199228863">(May 30 2020 at 00:43)</a>:</h4>
<p>I'm not sure if those are ascriptions or actual identity functions</p>



<a name="199229167"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/199229167" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#199229167">(May 30 2020 at 00:48)</a>:</h4>
<p>oh weird. There is an actual identity function inserted if it is a 1-step calc, i.e. <code>calc a = b : proof</code> is the same as <code>show a = b, from proof</code>, but not if there are two or more steps. I guess because the transitivity lemma is invoked with <code>a</code> and <code>b</code> as arguments it is considered unnecessary to add an extra <code>show</code></p>



<a name="199229192"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/199229192" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#199229192">(May 30 2020 at 00:49)</a>:</h4>
<p>maybe I should start using <code>calc a = b: rfl</code> for golfing :P</p>



<a name="199229528"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/199229528" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#199229528">(May 30 2020 at 00:55)</a>:</h4>
<p><code>calc</code> should really be a tactic. I'm sure Sebastian would do a better job of it, but I should look into something like <code>user_notation</code> for being able to call tactics without <code>by</code> and allowing metavariables to escape the <code>by</code> block, so that you can implement <code>calc</code> as a tactic. I also think it would enable more elaborate notations for tactics in term mode</p>



<a name="200650455"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/200650455" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#200650455">(Jun 12 2020 at 09:32)</a>:</h4>
<p>Hrm, I just encountered wanting <code>calc</code> for <code>≃+</code>, and it not working. :-(</p>



<a name="200655327"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/200655327" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#200655327">(Jun 12 2020 at 10:36)</a>:</h4>
<p>As in "nobody tagged the transitivity result with <code>trans</code>, or as in "I tagged it with <code>trans</code> and it still didn't work"?</p>



<a name="200661250"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/200661250" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#200661250">(Jun 12 2020 at 12:03)</a>:</h4>
<p>Good point. It had <code>@[trans]</code> all along, but chokes on the typeclass arguments.</p>



<a name="200684263"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/200684263" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#200684263">(Jun 12 2020 at 15:25)</a>:</h4>
<p>As in trans makes some assumptions about arguments of trans lemmas and we can't make <code>homeomorph.trans</code> satisfy these assumptions</p>



<a name="200684308"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/200684308" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#200684308">(Jun 12 2020 at 15:25)</a>:</h4>
<p>So we need to fix calc</p>



<a name="201047683"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/201047683" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#201047683">(Jun 16 2020 at 17:23)</a>:</h4>
<p>Added <a href="https://github.com/leanprover-community/lean/issues/341">lean#341</a></p>



<a name="201049347"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/201049347" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#201049347">(Jun 16 2020 at 17:36)</a>:</h4>
<p>Smallest pseudoprime to base 2</p>



<a name="267492467"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/267492467" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#267492467">(Jan 10 2022 at 20:05)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> <span class="user-mention" data-user-id="110032">@Reid Barton</span> Am I right that this is won't fix in Lean 3?</p>



<a name="267492494"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/homeomorph.trans%20and%20calc/near/267492494" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/homeomorph.2Etrans.20and.20calc.html#267492494">(Jan 10 2022 at 20:05)</a>:</h4>
<p>Does it work in Lean 4?</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>