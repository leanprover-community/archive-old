---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/(no.20topic).html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html">(no topic)</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="123008190"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/123008190" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#123008190">(Feb 26 2018 at 18:50)</a>:</h4>
<p>So general chatter goes in "archives" topic?</p>



<a name="123008198"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/123008198" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#123008198">(Feb 26 2018 at 18:51)</a>:</h4>
<p>oh no I have made (no topic). Do I have to have a topic?</p>



<a name="123008201"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/123008201" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#123008201">(Feb 26 2018 at 18:51)</a>:</h4>
<p>no topic necessary for off-topic conversation</p>



<a name="123008205"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/123008205" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#123008205">(Feb 26 2018 at 18:51)</a>:</h4>
<p>I don't understand how to have off-topic conversation</p>



<a name="123033113"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/123033113" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#123033113">(Feb 27 2018 at 08:10)</a>:</h4>
<p>Chris has already observed that mathematicians frequently want to sum from 0 to n, or 1 to n, and have a bunch of basic facts about such sums available to them. I know there are finsets and fintypes or whatever, but this case of summing from 0 to n or 1 to n is such a common usage case in maths. Is there already a specialised type for dealing specifically with such sums, which is easier to handle than dealing with general finsets? I am thinking about teaching induction to mathematicians without having to fill their heads with what I would call "specialised types" such as finset.</p>



<a name="123033117"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/123033117" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#123033117">(Feb 27 2018 at 08:10)</a>:</h4>
<p>If not I might be tempted to build such things myself but I don't want to reinvent the wheel.</p>



<a name="123033165"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/123033165" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#123033165">(Feb 27 2018 at 08:12)</a>:</h4>
<p>I was faced with a similar situation last year. The formulation of <code>sum</code> I find is less than conducive to reasoning. I'm not sure if my lemmas about <code>foldl</code> and <code>foldr</code> are still around (I think they are now in mathlib) but your best bet I think is to prove <code>sum (xs ++ ys) = sum xs + sum ys</code>. That should get you started at least</p>



<a name="123033218"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/123033218" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#123033218">(Feb 27 2018 at 08:14)</a>:</h4>
<p>DId you try <code>by simp</code>? I think this is the consequence of several lemmas</p>



<a name="123033225"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/123033225" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#123033225">(Feb 27 2018 at 08:15)</a>:</h4>
<p>But I'm also working on a definition of sums over natural numbers to make this sort of thing easier</p>



<a name="123033478"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/123033478" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#123033478">(Feb 27 2018 at 08:25)</a>:</h4>
<p>I didn't try simp because I was writing teaching materials and for some reason I wanted to be "explicit" about what was happening -- e.g. "this lemma with this name shows the fundamental fact which we will need, namely that the sum to n+1 is related to the sum to n in this obvious way". There is a danger with the sort of stuff I was doing that simp would just clear the goal completely and I know I can target it with (have blah, by simp) or whatever, but my goal was not to prove the lemma, it was to show math undergraduates how to use induction in Lean without any extra bells and whistles.</p>



<a name="123033519"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/123033519" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#123033519">(Feb 27 2018 at 08:26)</a>:</h4>
<p>I suspect that in general as my thoughts about teaching progress I will want access to lemmas with possibly names that Mario disapproves of and which state things which he does not want in mathlib (e.g. because they can be done with a fold in one line or some such thing). Things like folds are what I am trying to avoid currently because I do not want to teach them any functional programming.</p>



<a name="123033527"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/123033527" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#123033527">(Feb 27 2018 at 08:27)</a>:</h4>
<p>You CS guys might think this is mad, but look at Chris Hughes -- he showed up knowing a bit of matlab and had no idea what a functional program was, and I got him doing mathematics in Lean very quickly because of tactic mode. The more tactics / lemmas there are, the more mathematicians are able to stay away from the whole functional thing, and they can just get into it later when it all begins to make more sense.</p>



<a name="123033576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/123033576" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sean Leather <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#123033576">(Feb 27 2018 at 08:29)</a>:</h4>
<p><span class="user-mention" data-user-email="k.buzzard@imperial.ac.uk" data-user-id="110038">@Kevin Buzzard</span> Not mad at all. Tactics are great for incrementally proving theorems.</p>



<a name="123033577"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/123033577" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#123033577">(Feb 27 2018 at 08:30)</a>:</h4>
<p>I think that will limit how much you can do but there must still be interesting fragments</p>



<a name="123033619"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/123033619" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sean Leather <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#123033619">(Feb 27 2018 at 08:30)</a>:</h4>
<p>... and this is coming from a CS guy, though, again, I'm not sure why that matters. <span class="emoji emoji-1f609" title="wink">:wink:</span></p>



<a name="123033630"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/123033630" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#123033630">(Feb 27 2018 at 08:31)</a>:</h4>
<p>I think that you can get through a whole bunch of my introduction to proof course in Lean without really knowing too much about functional programming. I've seen it happen.</p>



<a name="123033635"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/123033635" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#123033635">(Feb 27 2018 at 08:32)</a>:</h4>
<p>My job is not to teach functional programming, it is to teach rigorous thinking.</p>



<a name="123033666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/123033666" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#123033666">(Feb 27 2018 at 08:32)</a>:</h4>
<p>I think functional programming is especially hard to avoid as you're scaling up your proof efforts which often doesn't really come up in introductions</p>



<a name="123033679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/123033679" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sean Leather <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#123033679">(Feb 27 2018 at 08:32)</a>:</h4>
<p><span class="user-mention" data-user-email="k.buzzard@imperial.ac.uk" data-user-id="110038">@Kevin Buzzard</span>  I'm sure you're right. Why do you feel the need to defend that idea?</p>



<a name="123033683"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/123033683" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#123033683">(Feb 27 2018 at 08:32)</a>:</h4>
<p>If that's the kind of teaching you are going for, I recommend giving a direct inductive definition like it is done in TPIL</p>



<a name="123033685"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/123033685" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#123033685">(Feb 27 2018 at 08:33)</a>:</h4>
<p>I would be interested to hear <span class="user-mention" data-user-email="chrishughes24@gmail.com" data-user-id="110044">@Chris Hughes</span> 's take on the issue. I am not sure he knows what a fold is but he has proved the fundamental theorem of arithmetic and much more in Lean.</p>



<a name="123033691"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/123033691" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#123033691">(Feb 27 2018 at 08:33)</a>:</h4>
<p>then you can give all the natural lemmas and prove basic properties and there is no hidden magic</p>



<a name="123042606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/123042606" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#123042606">(Feb 27 2018 at 13:14)</a>:</h4>
<p>I totally agree that tactics is the way to teach lean to maths students. I proved the fundamental theorem of arithmetic without even knowing what lambda did, and this gave me enough proficiency very quickly, that I've probably learnt a fair amount about functional programming, whatever that is, without really thinking about trying to learn functional programming.</p>



<a name="123061458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/123061458" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#123061458">(Feb 27 2018 at 22:00)</a>:</h4>
<p>Hey Patrick did you make an arbitrary product of rings a ring recently?</p>



<a name="123061860"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/123061860" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#123061860">(Feb 27 2018 at 22:10)</a>:</h4>
<p><span class="user-mention" data-user-email="patrickmassot@free.fr" data-user-id="110031">@Patrick Massot</span> I need that now! But it's in gitter chat and it'll be hard to find :-/</p>



<a name="123061930"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/123061930" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#123061930">(Feb 27 2018 at 22:12)</a>:</h4>
<p>Aah I've found it by looking through your github repos until I found the right commit :-)</p>



<a name="123066299"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/123066299" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#123066299">(Feb 28 2018 at 00:15)</a>:</h4>
<p>Yes: <a href="https://github.com/PatrickMassot/lean-differential-topology/blob/master/src/indexed_product.lean" target="_blank" title="https://github.com/PatrickMassot/lean-differential-topology/blob/master/src/indexed_product.lean">https://github.com/PatrickMassot/lean-differential-topology/blob/master/src/indexed_product.lean</a> I will make a PR at some point</p>



<a name="125960052"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/125960052" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#125960052">(May 01 2018 at 20:02)</a>:</h4>
<p><a href="/user_uploads/3121/AwppWERsWgYQlkaoTxtLAKL-/pic1.png" target="_blank" title="pic1.png">pic1.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/AwppWERsWgYQlkaoTxtLAKL-/pic1.png" target="_blank" title="pic1.png"><img src="/user_uploads/3121/AwppWERsWgYQlkaoTxtLAKL-/pic1.png"></a></div>



<a name="125960056"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/125960056" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#125960056">(May 01 2018 at 20:02)</a>:</h4>
<p>he made that</p>



<a name="125960075"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/125960075" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#125960075">(May 01 2018 at 20:03)</a>:</h4>
<p>it's the syntax tree for my proof that sqrt(3) is irrational</p>



<a name="125960087"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/125960087" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#125960087">(May 01 2018 at 20:03)</a>:</h4>
<p>it's like <code>set_option pp.all</code></p>



<a name="125960160"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/125960160" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#125960160">(May 01 2018 at 20:04)</a>:</h4>
<p>In fact we made it from the output of <code>set_option pp.all</code> and some emacs trickery and some python code</p>



<a name="125960168"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/125960168" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#125960168">(May 01 2018 at 20:04)</a>:</h4>
<p>and then he made that in blender</p>



<a name="125960195"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/125960195" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#125960195">(May 01 2018 at 20:05)</a>:</h4>
<p>red dots are functions, blue are evaluated terms</p>



<a name="125960445"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/125960445" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#125960445">(May 01 2018 at 20:10)</a>:</h4>
<p>I proved it for non integer nth roots of integers.</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">nat</span><span class="bp">.</span><span class="n">gcd</span> <span class="n">algebra</span><span class="bp">.</span><span class="n">group_power</span> <span class="n">data</span><span class="bp">.</span><span class="n">rat</span>

<span class="kn">open</span> <span class="n">nat</span> <span class="n">int</span>
<span class="kn">lemma</span> <span class="n">nat</span><span class="bp">.</span><span class="n">mul_pow</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span> <span class="err">^</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">a</span> <span class="err">^</span> <span class="n">n</span> <span class="bp">*</span> <span class="n">b</span> <span class="err">^</span> <span class="n">n</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">induction</span> <span class="n">n</span><span class="bp">;</span> <span class="n">simp</span> <span class="o">[</span><span class="bp">*</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">pow_succ</span><span class="o">,</span> <span class="n">mul_comm</span><span class="o">,</span> <span class="n">mul_assoc</span><span class="o">,</span> <span class="n">mul_left_comm</span><span class="o">]</span>

<span class="kn">lemma</span> <span class="n">nat</span><span class="bp">.</span><span class="n">dvd_of_pow_dvd_pow</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">},</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">n</span> <span class="bp">→</span> <span class="n">a</span> <span class="err">^</span> <span class="n">n</span> <span class="err">∣</span> <span class="n">b</span> <span class="err">^</span> <span class="n">n</span> <span class="bp">→</span> <span class="n">a</span> <span class="err">∣</span> <span class="n">b</span>
<span class="bp">|</span> <span class="n">a</span> <span class="mi">0</span>     <span class="o">:=</span> <span class="bp">λ</span> <span class="n">n</span> <span class="n">hn</span> <span class="n">h</span><span class="o">,</span> <span class="n">dvd_zero</span> <span class="bp">_</span>
<span class="bp">|</span> <span class="n">a</span> <span class="o">(</span><span class="n">b</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">n</span> <span class="n">hn</span> <span class="n">h</span><span class="o">,</span>
<span class="k">let</span> <span class="n">d</span> <span class="o">:=</span> <span class="n">nat</span><span class="bp">.</span><span class="n">gcd</span> <span class="n">a</span> <span class="o">(</span><span class="n">b</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="k">in</span>
<span class="k">have</span> <span class="n">hd</span> <span class="o">:</span> <span class="n">nat</span><span class="bp">.</span><span class="n">gcd</span> <span class="n">a</span> <span class="o">(</span><span class="n">b</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span> <span class="n">d</span> <span class="o">:=</span> <span class="n">rfl</span><span class="o">,</span>
  <span class="k">match</span> <span class="n">d</span><span class="o">,</span> <span class="n">hd</span> <span class="k">with</span>
  <span class="bp">|</span> <span class="mi">0</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">hd</span><span class="o">,</span> <span class="o">(</span><span class="n">eq_zero_of_gcd_eq_zero_right</span> <span class="n">hd</span><span class="o">)</span><span class="bp">.</span><span class="n">symm</span> <span class="bp">▸</span> <span class="n">dvd_zero</span> <span class="bp">_</span>
  <span class="bp">|</span> <span class="mi">1</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">hd</span><span class="o">,</span>
    <span class="k">begin</span>
      <span class="k">have</span> <span class="n">h₁</span> <span class="o">:</span> <span class="n">a</span> <span class="err">^</span> <span class="n">n</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span> <span class="n">coprime</span><span class="bp">.</span><span class="n">eq_one_of_dvd</span> <span class="o">(</span><span class="n">coprime</span><span class="bp">.</span><span class="n">pow</span> <span class="n">n</span> <span class="n">n</span> <span class="n">hd</span><span class="o">)</span> <span class="n">h</span><span class="o">,</span>
      <span class="k">have</span> <span class="o">:=</span> <span class="n">pow_dvd_pow</span> <span class="n">a</span> <span class="n">hn</span><span class="o">,</span>
      <span class="n">rw</span> <span class="o">[</span><span class="n">nat</span><span class="bp">.</span><span class="n">pow_one</span><span class="o">,</span> <span class="n">h₁</span><span class="o">]</span> <span class="n">at</span> <span class="n">this</span><span class="o">,</span>
      <span class="n">exact</span> <span class="n">dvd</span><span class="bp">.</span><span class="n">trans</span> <span class="n">this</span> <span class="o">(</span><span class="n">one_dvd</span> <span class="bp">_</span><span class="o">),</span>
    <span class="kn">end</span>
  <span class="bp">|</span> <span class="o">(</span><span class="n">d</span><span class="bp">+</span><span class="mi">2</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">hd</span><span class="o">,</span>
    <span class="k">have</span> <span class="o">(</span><span class="n">b</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="bp">/</span> <span class="o">(</span><span class="n">d</span><span class="bp">+</span><span class="mi">2</span><span class="o">)</span> <span class="bp">&lt;</span> <span class="o">(</span><span class="n">b</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="o">:=</span> <span class="n">div_lt_self</span> <span class="n">dec_trivial</span> <span class="n">dec_trivial</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">ha</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">=</span> <span class="o">(</span><span class="n">d</span><span class="bp">+</span><span class="mi">2</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">a</span> <span class="bp">/</span> <span class="o">(</span><span class="n">d</span><span class="bp">+</span><span class="mi">2</span><span class="o">))</span> <span class="o">:=</span>
      <span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="err">←</span> <span class="n">hd</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">mul_div_cancel&#39;</span> <span class="o">(</span><span class="n">gcd_dvd_left</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">)],</span>
    <span class="k">have</span> <span class="n">hb</span> <span class="o">:</span> <span class="o">(</span><span class="n">b</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(</span><span class="n">d</span><span class="bp">+</span><span class="mi">2</span><span class="o">)</span> <span class="bp">*</span> <span class="o">((</span><span class="n">b</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="bp">/</span> <span class="o">(</span><span class="n">d</span><span class="bp">+</span><span class="mi">2</span><span class="o">))</span> <span class="o">:=</span>
      <span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="err">←</span> <span class="n">hd</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">mul_div_cancel&#39;</span> <span class="o">(</span><span class="n">gcd_dvd_right</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">)],</span>
    <span class="k">have</span> <span class="n">a</span> <span class="bp">/</span> <span class="o">(</span><span class="n">d</span><span class="bp">+</span><span class="mi">2</span><span class="o">)</span> <span class="err">∣</span> <span class="o">(</span><span class="n">b</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="bp">/</span> <span class="o">(</span><span class="n">d</span><span class="bp">+</span><span class="mi">2</span><span class="o">)</span> <span class="o">:=</span> <span class="n">nat</span><span class="bp">.</span><span class="n">dvd_of_pow_dvd_pow</span> <span class="n">hn</span> <span class="err">$</span> <span class="n">dvd_of_mul_dvd_mul_left</span>
      <span class="o">(</span><span class="k">show</span> <span class="o">(</span><span class="n">d</span> <span class="bp">+</span> <span class="mi">2</span><span class="o">)</span> <span class="err">^</span> <span class="n">n</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="k">from</span> <span class="n">pos_pow_of_pos</span> <span class="bp">_</span> <span class="o">(</span><span class="n">dec_trivial</span><span class="o">))</span>
      <span class="o">(</span><span class="k">by</span> <span class="n">rwa</span> <span class="o">[</span><span class="err">←</span> <span class="n">nat</span><span class="bp">.</span><span class="n">mul_pow</span><span class="o">,</span> <span class="err">←</span> <span class="n">nat</span><span class="bp">.</span><span class="n">mul_pow</span><span class="o">,</span> <span class="err">←</span> <span class="n">ha</span><span class="o">,</span> <span class="err">←</span> <span class="n">hb</span><span class="o">]),</span>
    <span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">ha</span><span class="o">,</span> <span class="n">hb</span><span class="o">]</span><span class="bp">;</span>
      <span class="n">exact</span> <span class="n">mul_dvd_mul_left</span> <span class="bp">_</span> <span class="n">this</span>
  <span class="kn">end</span>
<span class="n">using_well_founded</span> <span class="o">{</span><span class="n">rel_tac</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">,</span> <span class="bp">`</span><span class="o">[</span><span class="n">exact</span> <span class="bp">⟨_</span><span class="o">,</span> <span class="n">measure_wf</span> <span class="n">psigma</span><span class="bp">.</span><span class="n">snd</span><span class="bp">⟩</span><span class="o">]}</span>

<span class="kn">lemma</span> <span class="n">int</span><span class="bp">.</span><span class="n">nat_abs_pow</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span><span class="bp">.</span><span class="n">nat_abs</span> <span class="err">^</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="n">a</span> <span class="err">^</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">nat_abs</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">induction</span> <span class="n">n</span><span class="bp">;</span> <span class="n">simp</span> <span class="o">[</span><span class="bp">*</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">pow_succ</span><span class="o">,</span> <span class="bp">_</span><span class="n">root_</span><span class="bp">.</span><span class="n">pow_succ</span><span class="o">,</span> <span class="n">nat_abs_mul</span><span class="o">,</span> <span class="n">mul_comm</span><span class="o">]</span>

<span class="kn">lemma</span> <span class="n">int</span><span class="bp">.</span><span class="n">dvd_of_pow_dvd_pow</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">}</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">}</span> <span class="o">(</span><span class="n">hn</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">n</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">a</span> <span class="err">^</span> <span class="n">n</span> <span class="err">∣</span> <span class="n">b</span> <span class="err">^</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="err">∣</span> <span class="n">b</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">rw</span> <span class="o">[</span><span class="err">←</span> <span class="n">nat_abs_dvd</span><span class="o">,</span> <span class="err">←</span> <span class="n">dvd_nat_abs</span><span class="o">,</span> <span class="err">←</span> <span class="n">int</span><span class="bp">.</span><span class="n">nat_abs_pow</span><span class="o">,</span> <span class="err">←</span> <span class="n">int</span><span class="bp">.</span><span class="n">nat_abs_pow</span><span class="o">,</span> <span class="n">int</span><span class="bp">.</span><span class="n">coe_nat_dvd</span><span class="o">]</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="err">←</span> <span class="n">nat_abs_dvd</span><span class="o">,</span> <span class="err">←</span> <span class="n">dvd_nat_abs</span><span class="o">,</span> <span class="n">int</span><span class="bp">.</span><span class="n">coe_nat_dvd</span><span class="o">],</span>
  <span class="n">exact</span> <span class="n">nat</span><span class="bp">.</span><span class="n">dvd_of_pow_dvd_pow</span> <span class="n">hn</span> <span class="n">h</span>
<span class="kn">end</span>

<span class="kn">lemma</span> <span class="n">int</span><span class="bp">.</span><span class="n">cast_pow</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">ring</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="o">((</span><span class="n">a</span> <span class="err">^</span> <span class="n">n</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="err">^</span> <span class="n">n</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">induction</span> <span class="n">n</span><span class="bp">;</span> <span class="n">simp</span> <span class="o">[</span><span class="bp">*</span><span class="o">,</span> <span class="bp">_</span><span class="n">root_</span><span class="bp">.</span><span class="n">pow_succ</span><span class="o">]</span>

<span class="n">def</span> <span class="n">nth_root_irrational</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">}</span> <span class="o">{</span><span class="n">a</span> <span class="o">:</span> <span class="n">ℚ</span><span class="o">}</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">}</span> <span class="o">(</span><span class="n">hn</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">n</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">a</span> <span class="err">^</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">x</span><span class="o">)</span> <span class="o">:</span> <span class="o">{</span><span class="n">a&#39;</span> <span class="o">:</span> <span class="bp">ℤ</span> <span class="bp">//</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">a&#39;</span><span class="o">}</span> <span class="o">:=</span>
<span class="k">have</span> <span class="n">had</span> <span class="o">:</span> <span class="o">((</span><span class="n">a</span><span class="bp">.</span><span class="n">denom</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="o">:</span> <span class="n">ℚ</span><span class="o">)</span> <span class="bp">≠</span> <span class="mi">0</span> <span class="o">:=</span> <span class="n">int</span><span class="bp">.</span><span class="n">cast_ne_zero</span><span class="bp">.</span><span class="mi">2</span> <span class="o">(</span><span class="n">ne_of_lt</span> <span class="o">(</span><span class="n">int</span><span class="bp">.</span><span class="n">coe_nat_lt</span><span class="bp">.</span><span class="mi">2</span> <span class="n">a</span><span class="bp">.</span><span class="mi">3</span><span class="o">))</span><span class="bp">.</span><span class="n">symm</span><span class="o">,</span>
<span class="bp">⟨</span><span class="n">a</span><span class="bp">.</span><span class="n">num</span><span class="o">,</span>
<span class="k">begin</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">rat</span><span class="bp">.</span><span class="n">num_denom</span> <span class="n">a</span><span class="o">,</span> <span class="n">rat</span><span class="bp">.</span><span class="n">mk_eq_div</span><span class="o">,</span> <span class="n">div_pow</span> <span class="bp">_</span> <span class="n">had</span><span class="o">,</span> <span class="n">div_eq_iff_mul_eq</span> <span class="o">(</span><span class="n">pow_ne_zero</span> <span class="bp">_</span> <span class="n">had</span><span class="o">),</span>
    <span class="err">←</span> <span class="n">int</span><span class="bp">.</span><span class="n">cast_pow</span><span class="o">,</span> <span class="err">←</span> <span class="n">int</span><span class="bp">.</span><span class="n">cast_mul</span><span class="o">,</span> <span class="err">←</span> <span class="n">int</span><span class="bp">.</span><span class="n">cast_pow</span><span class="o">,</span> <span class="n">int</span><span class="bp">.</span><span class="n">cast_inj</span><span class="o">]</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
  <span class="k">have</span> <span class="o">:=</span> <span class="n">int</span><span class="bp">.</span><span class="n">coe_nat_dvd</span><span class="bp">.</span><span class="mi">1</span> <span class="o">(</span><span class="n">dvd_nat_abs</span><span class="bp">.</span><span class="mi">2</span> <span class="o">(</span><span class="n">int</span><span class="bp">.</span><span class="n">dvd_of_pow_dvd_pow</span> <span class="n">hn</span> <span class="o">(</span><span class="n">dvd_of_mul_left_eq</span> <span class="bp">_</span> <span class="n">h</span><span class="o">))),</span>
  <span class="k">have</span> <span class="o">:=</span> <span class="n">coprime</span><span class="bp">.</span><span class="n">eq_one_of_dvd</span> <span class="n">a</span><span class="bp">.</span><span class="mi">4</span><span class="bp">.</span><span class="n">symm</span> <span class="n">this</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">rat</span><span class="bp">.</span><span class="n">num_denom</span> <span class="n">a</span><span class="o">,</span> <span class="n">rat</span><span class="bp">.</span><span class="n">mk_eq_div</span><span class="o">,</span> <span class="n">this</span><span class="o">],</span>
  <span class="n">simp</span><span class="o">,</span>
<span class="kn">end</span><span class="bp">⟩</span>
</pre></div>



<a name="125960579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/125960579" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#125960579">(May 01 2018 at 20:13)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="n">def</span> <span class="n">nth_root_irrational</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">}</span> <span class="o">{</span><span class="n">a</span> <span class="o">:</span> <span class="n">ℚ</span><span class="o">}</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">}</span> <span class="o">(</span><span class="n">hn</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">n</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">a</span> <span class="err">^</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">x</span><span class="o">)</span> <span class="o">:</span> <span class="o">{</span><span class="n">a&#39;</span> <span class="o">:</span> <span class="bp">ℤ</span> <span class="bp">//</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">a&#39;</span><span class="o">}</span> <span class="o">:=</span>
</pre></div>



<a name="125960583"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/125960583" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#125960583">(May 01 2018 at 20:13)</a>:</h4>
<p>yay you made it constructive :D</p>



<a name="125960586"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/125960586" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#125960586">(May 01 2018 at 20:13)</a>:</h4>
<blockquote>
<p>he made that</p>
</blockquote>
<p>who?</p>



<a name="125960829"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/125960829" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#125960829">(May 01 2018 at 20:18)</a>:</h4>
<p>His son I believe</p>



<a name="125960845"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/125960845" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#125960845">(May 01 2018 at 20:19)</a>:</h4>
<p>oh</p>



<a name="125984628"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/125984628" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#125984628">(May 02 2018 at 09:01)</a>:</h4>
<blockquote>
<p>yay you made it constructive :D</p>
</blockquote>
<p>Actually, it makes no difference since if a rational number is an integer, then you can obtain its value using <code>rat.num</code>, or <code>rat.floor</code></p>



<a name="125984672"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/125984672" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#125984672">(May 02 2018 at 09:02)</a>:</h4>
<p>(which is to say, that theorem would still be constructive with <code>exists</code>)</p>



<a name="130300533"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/130300533" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> gary <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#130300533">(Jul 25 2018 at 20:31)</a>:</h4>
<p>Hi all,</p>
<p>I'm working on applying formal methods to cryptocurrency protocols. We're a well funded startup (recently raised $20 million) and pay competetively. </p>
<p>If anyone has interest, please message me.</p>
<p>Thanks!</p>



<a name="132250941"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/132250941" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Dagit <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#132250941">(Aug 16 2018 at 16:38)</a>:</h4>
<p>I have an expression that uses a type class instance. Is there a command to that prints out which instance was inferred?</p>



<a name="132250998"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/132250998" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#132250998">(Aug 16 2018 at 16:40)</a>:</h4>
<p>Before the code printing the expression, use <code>set_option pp.implicit true</code> so that the pretty printer shows more parts of your expression, namely, implicit parameters (which include class instances)</p>



<a name="132251070"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/132251070" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Dagit <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#132251070">(Aug 16 2018 at 16:41)</a>:</h4>
<p>Thanks</p>



<a name="132357521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/132357521" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Keeley Hoek <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#132357521">(Aug 18 2018 at 11:57)</a>:</h4>
<p>(deleted)</p>



<a name="151864889"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/151864889" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicholas Scheel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#151864889">(Dec 16 2018 at 04:49)</a>:</h4>
<p>(deleted)</p>



<a name="154581476"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/154581476" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Namdak Tonpa <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#154581476">(Jan 07 2019 at 16:32)</a>:</h4>
<p>I know I'm flooding, but here is IRC bot written in pure Lean 3.4.1 (someone asked me in lounge)<br>
<a href="https://github.com/forked-from-1kasper/leanbot" target="_blank" title="https://github.com/forked-from-1kasper/leanbot">https://github.com/forked-from-1kasper/leanbot</a><br>
Can't wait to write WebSocket binary protocol for Lean4!</p>



<a name="154584968"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/154584968" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moses Schönfinkel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#154584968">(Jan 07 2019 at 17:24)</a>:</h4>
<p>This is the kind of flooding that is appreciated. By all means do continue to flood.</p>



<a name="166056537"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/166056537" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#166056537">(May 20 2019 at 04:52)</a>:</h4>
<p>(deleted)</p>



<a name="171590176"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/171590176" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Cyril Cohen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#171590176">(Jul 24 2019 at 09:13)</a>:</h4>
<p>(deleted)</p>



<a name="174419677"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/174419677" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Daniel Donnelly <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#174419677">(Aug 29 2019 at 03:06)</a>:</h4>
<p>I'm not sure either how to make a "function that returns a string".  I've tried 10 different thoughts on it :/</p>



<a name="175142449"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/175142449" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Daniel Donnelly <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#175142449">(Sep 07 2019 at 14:17)</a>:</h4>
<p>(deleted)</p>



<a name="192119060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/192119060" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Uranus Testing <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#192119060">(Mar 28 2020 at 11:41)</a>:</h4>
<p>deleted</p>



<a name="193026527"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/193026527" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Phiroc <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#193026527">(Apr 06 2020 at 11:16)</a>:</h4>
<p>What is <em>prod,</em> exactly? Not <em>mult,</em> obviously.</p>



<a name="193026587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/193026587" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#193026587">(Apr 06 2020 at 11:17)</a>:</h4>
<p>it is the type former for pairs</p>



<a name="193026603"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/193026603" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#193026603">(Apr 06 2020 at 11:17)</a>:</h4>
<p><code>prod A B</code> is the type of pairs of an element of A and an element of B</p>



<a name="193026635"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/193026635" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#193026635">(Apr 06 2020 at 11:17)</a>:</h4>
<p>like cartesian product but with types instead of sets</p>



<a name="193026736"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/193026736" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#193026736">(Apr 06 2020 at 11:18)</a>:</h4>
<p>it's usually written <code>A \times B</code> or <code>A × B</code></p>



<a name="193026781"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/193026781" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Phiroc <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#193026781">(Apr 06 2020 at 11:19)</a>:</h4>
<p>I see.</p>



<a name="193026902"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/193026902" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Phiroc <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#193026902">(Apr 06 2020 at 11:20)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> , but that's the proof provided by the author of the book.</p>



<a name="193026921"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/193026921" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Phiroc <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#193026921">(Apr 06 2020 at 11:20)</a>:</h4>
<p>How would you write the proof?</p>



<a name="193026954"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/193026954" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#193026954">(Apr 06 2020 at 11:21)</a>:</h4>
<p>Can you please reply on the correct thread?</p>



<a name="198476617"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/198476617" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#198476617">(May 22 2020 at 18:22)</a>:</h4>
<p>simple noob question - how do I prove 1 + 1 = 2 in lean? it seems like it should be something built into "nat" but i can't find it</p>



<a name="198476675"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/198476675" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#198476675">(May 22 2020 at 18:22)</a>:</h4>
<p><code>rfl</code></p>



<a name="198476913"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/198476913" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#198476913">(May 22 2020 at 18:24)</a>:</h4>
<p>ok thanks. how could I have figured that out without bugging you, is there some way I missed?</p>



<a name="198477003"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/198477003" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#198477003">(May 22 2020 at 18:25)</a>:</h4>
<p>The first trick would have been to post this in the "new members" stream, with a topic.</p>



<a name="198477043"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/198477043" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#198477043">(May 22 2020 at 18:25)</a>:</h4>
<p>And then try <code>by library_search</code></p>



<a name="198477128"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/198477128" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#198477128">(May 22 2020 at 18:26)</a>:</h4>
<p>ok. thanks!</p>



<a name="198519937"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/198519937" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#198519937">(May 23 2020 at 05:39)</a>:</h4>
<p><span class="user-mention" data-user-id="238605">@Kevin Lacker</span> Have you seen the tutorials? They definitely help. For example the natural number game. See <a href="https://leanprover-community.github.io/">#homepage</a> for some links to get started</p>



<a name="198684284"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/198684284" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ami <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#198684284">(May 25 2020 at 16:18)</a>:</h4>
<p>(deleted)</p>



<a name="198685987"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/198685987" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#198685987">(May 25 2020 at 16:41)</a>:</h4>
<p>Is there any way to forbid "no topic" posts?</p>
<p>Ami, I don't understand what exactly you want to prove. If I interpret the definitions correctly, then you have</p>
<div class="codehilite"><pre><span></span><code><span class="kn">inductive</span> <span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span>
<span class="bp">|</span> <span class="n">one</span> <span class="o">:</span> <span class="n">M</span>
<span class="bp">|</span> <span class="n">two</span> <span class="o">:</span> <span class="n">M</span>

<span class="n">def</span> <span class="n">Q</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">M</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">M</span><span class="bp">.</span><span class="n">two</span>
<span class="n">def</span> <span class="n">P</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">M</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">M</span><span class="bp">.</span><span class="n">one</span>
</code></pre></div>


<p>How exactly do you define <code>Φ(x)</code>: is it <code>(∀ y, Q y) → P x</code> or <code>∀ y, (Q y → P x)</code>?</p>



<a name="198686113"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/198686113" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ami <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#198686113">(May 25 2020 at 16:43)</a>:</h4>
<p>the first one.</p>



<a name="198686122"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/198686122" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#198686122">(May 25 2020 at 16:43)</a>:</h4>
<p>And what are you trying to prove about <code>Φ</code>?</p>



<a name="198686128"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/198686128" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#198686128">(May 25 2020 at 16:43)</a>:</h4>
<p>Ami, it will be much easier to get someone putting enough energy into answering your question if you put more energy asking it (eg. typing it and providing enough context)</p>



<a name="198686224"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/198686224" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ami <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#198686224">(May 25 2020 at 16:44)</a>:</h4>
<p>That's true. I will do it.</p>



<a name="198700250"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/198700250" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#198700250">(May 25 2020 at 20:29)</a>:</h4>
<p>hmm, i was looking at what seems to be a totally different tutorial linked from a totally different home page, at <a href="https://leanprover.github.io/">https://leanprover.github.io/</a> .</p>



<a name="198700533"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/198700533" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#198700533">(May 25 2020 at 20:33)</a>:</h4>
<p>That webpage is more closely linked to the last official lean release, as opposed to the work being dont by members of this chat on mathlib and the community fork (while we wait for lean 4). So I'd definitely recommend the <a href="https://leanprover-community.github.io/">https://leanprover-community.github.io/</a> version of everything.</p>



<a name="198702190"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/198702190" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#198702190">(May 25 2020 at 21:01)</a>:</h4>
<p>Maybe it's time to kindly ask for a couple of links from <a href="https://leanprover.github.io/">https://leanprover.github.io/</a> to <a href="https://leanprover-community.github.io/">https://leanprover-community.github.io/</a></p>



<a name="201235655"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/201235655" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#201235655">(Jun 18 2020 at 07:29)</a>:</h4>
<p>Google still puts all the official out of date pages ahead of the community pages when you're searching for lean</p>



<a name="202543240"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/202543240" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> James Arthur <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#202543240">(Jul 01 2020 at 08:32)</a>:</h4>
<p>(deleted)</p>



<a name="210765874"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/210765874" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#210765874">(Sep 21 2020 at 16:27)</a>:</h4>
<p>Nat golf anyone? I was writing lecture notes.</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>

<span class="kn">example</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">+</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">n</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span> <span class="bp">=</span> <span class="n">n</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="k">have</span> <span class="n">h2</span> <span class="o">:=</span> <span class="n">nat</span><span class="bp">.</span><span class="n">mod_add_div</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">+</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">n</span><span class="o">)</span> <span class="mi">2</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">h3</span> <span class="o">:</span> <span class="mi">2</span> <span class="bp">*</span> <span class="o">((</span><span class="mi">1</span> <span class="bp">+</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">n</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">n</span> <span class="bp">→</span>
          <span class="o">(</span><span class="mi">1</span> <span class="bp">+</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">n</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span> <span class="bp">=</span> <span class="n">n</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">h</span><span class="o">,</span> <span class="n">mul_left_cancel&#39;</span> <span class="bp">_</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">simp</span> <span class="bp">*</span> <span class="n">at</span> <span class="bp">*</span><span class="o">,</span> <span class="n">cc</span><span class="o">,</span>
<span class="kn">end</span>
</code></pre></div>



<a name="210768574"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/210768574" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shing Tak Lam <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#210768574">(Sep 21 2020 at 16:51)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">example</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">+</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">n</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span> <span class="bp">=</span> <span class="n">n</span> <span class="o">:=</span>
<span class="n">nat</span><span class="bp">.</span><span class="n">div_eq_of_lt_le</span> <span class="o">(</span><span class="k">by</span> <span class="n">linarith</span><span class="o">)</span> <span class="o">(</span><span class="k">by</span> <span class="o">{</span><span class="n">rw</span> <span class="n">nat</span><span class="bp">.</span><span class="n">succ_eq_add_one</span><span class="o">,</span> <span class="n">linarith</span><span class="o">})</span>
</code></pre></div>



<a name="210798981"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/210798981" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#210798981">(Sep 21 2020 at 20:58)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">example</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">+</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">n</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span> <span class="bp">=</span> <span class="n">n</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">add_mul_div_left</span> <span class="mi">1</span> <span class="n">n</span> <span class="o">(</span><span class="k">by</span> <span class="n">simp</span><span class="o">))</span><span class="bp">.</span><span class="n">trans</span> <span class="o">(</span><span class="n">zero_add</span> <span class="bp">_</span><span class="o">)</span>
</code></pre></div>



<a name="210799425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/210799425" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#210799425">(Sep 21 2020 at 21:02)</a>:</h4>
<p>I guess if we're golfing the proof:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">example</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">+</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">n</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span> <span class="bp">=</span> <span class="n">n</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">add_mul_div_left</span> <span class="mi">1</span><span class="n">n</span><span class="o">(</span><span class="k">by</span> <span class="n">simp</span><span class="o">))</span><span class="bp">.</span><span class="n">trans</span><span class="err">$</span><span class="n">zero_add</span> <span class="bp">_</span>
</code></pre></div>



<a name="210807689"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/210807689" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#210807689">(Sep 21 2020 at 22:21)</a>:</h4>
<p>golfing is no excuse for poor formatting :P</p>



<a name="210893153"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/210893153" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#210893153">(Sep 22 2020 at 16:08)</a>:</h4>
<p>I need some excuse to have bad formatting though :(</p>



<a name="211029103"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/211029103" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Vaibhav Karve <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#211029103">(Sep 23 2020 at 16:37)</a>:</h4>
<p>[Deleted message]</p>



<a name="214946508"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/214946508" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Tomas Skrivan <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#214946508">(Oct 29 2020 at 10:00)</a>:</h4>
<p>(deleted)</p>



<a name="226552686"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/226552686" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#226552686">(Feb 16 2021 at 18:12)</a>:</h4>
<p>(deleted)</p>



<a name="227102954"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/227102954" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Nelson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#227102954">(Feb 20 2021 at 16:43)</a>:</h4>
<p>(deleted)</p>



<a name="229124627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/229124627" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> François Sunatori <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#229124627">(Mar 06 2021 at 20:01)</a>:</h4>
<p>(deleted)</p>



<a name="280628199"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/280628199" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#280628199">(Apr 29 2022 at 12:57)</a>:</h4>
<p>/poll What should the notation for <code>order_dual</code> be?<br>
<code>ᵒᵈ</code><br>
<code>﹥⇄﹤</code></p>



<a name="319573313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/319573313" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#319573313">(Jan 05 2023 at 12:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> has marked this topic as resolved.</p>



<a name="319573314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/319573314" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#319573314">(Jan 05 2023 at 12:20)</a>:</h4>
<p>This topic was moved here from <a class="stream-topic" data-stream-id="113488" href="/#narrow/stream/113488-general/topic/Stating.20properties.20of.20monadic.20results">#general &gt; Stating properties of monadic results</a> by <span class="user-mention silent" data-user-id="310045">Eric Wieser</span>.</p>



<a name="319573392"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/319573392" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#319573392">(Jan 05 2023 at 12:21)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> has marked this topic as unresolved.</p>



<a name="319573449"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/319573449" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#319573449">(Jan 05 2023 at 12:21)</a>:</h4>
<p>(ugh, the double checkmarks when editing topic names get me every time)</p>



<a name="319573523"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%28no%20topic%29/near/319573523" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/(no.20topic).html#319573523">(Jan 05 2023 at 12:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> has marked this topic as unresolved.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>