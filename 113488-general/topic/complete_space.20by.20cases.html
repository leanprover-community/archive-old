---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/complete_space.20by.20cases.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/complete_space.20by.20cases.html">complete_space by cases</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="225874311"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/complete_space%20by%20cases/near/225874311" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rémy Degenne <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/complete_space.20by.20cases.html#225874311">(Feb 10 2021 at 17:19)</a>:</h4>
<p>On <a href="https://github.com/leanprover-community/mathlib/tree/Lp_complete">branch#Lp_complete</a> , I am working on a proof of completeness of Lp spaces. I did it separately for two cases (p infinite, or not). Now I want to put those together into one final theorem . However I encounter difficulties, illustrated in the following code in which I don't know how to replace the last <code>sorry</code>:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">measure_theory.lp_space</span>

<span class="kn">open</span> <span class="n">measure_theory</span>
<span class="n">open_locale</span> <span class="n">ennreal</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">α</span> <span class="n">E</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">measurable_space</span> <span class="n">α</span><span class="o">]</span> <span class="o">{</span><span class="n">p</span> <span class="o">:</span> <span class="n">ℝ</span><span class="bp">≥</span><span class="mi">0</span><span class="bp">∞</span><span class="o">}</span> <span class="o">{</span><span class="n">μ</span> <span class="o">:</span> <span class="n">measure</span> <span class="n">α</span><span class="o">}</span>
  <span class="o">[</span><span class="n">measurable_space</span> <span class="n">E</span><span class="o">]</span> <span class="o">[</span><span class="n">normed_group</span> <span class="n">E</span><span class="o">]</span> <span class="o">[</span><span class="n">borel_space</span> <span class="n">E</span><span class="o">]</span>
  <span class="o">[</span><span class="n">topological_space.second_countable_topology</span> <span class="n">E</span><span class="o">]</span> <span class="o">[</span><span class="n">complete_space</span> <span class="n">E</span><span class="o">]</span>

<span class="kd">lemma</span> <span class="n">complete_space_Lp_of_ne_top</span> <span class="o">[</span><span class="n">hp</span> <span class="o">:</span> <span class="n">fact</span><span class="o">(</span><span class="mi">1</span> <span class="bp">≤</span> <span class="n">p</span><span class="o">)]</span> <span class="o">(</span><span class="n">hp_ne_top</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">≠</span> <span class="bp">∞</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">complete_space</span> <span class="o">(</span><span class="n">Lp</span> <span class="n">E</span> <span class="n">p</span> <span class="n">μ</span><span class="o">)</span> <span class="o">:=</span> <span class="gr">sorry</span>

<span class="kd">lemma</span> <span class="n">complete_space_Lp_top</span> <span class="o">:</span> <span class="n">complete_space</span> <span class="o">(</span><span class="n">Lp</span> <span class="n">E</span> <span class="bp">∞</span> <span class="n">μ</span><span class="o">)</span> <span class="o">:=</span> <span class="gr">sorry</span>

<span class="kd">lemma</span> <span class="n">complete_space_Lp</span> <span class="o">[</span><span class="n">hp</span> <span class="o">:</span> <span class="n">fact</span><span class="o">(</span><span class="mi">1</span> <span class="bp">≤</span> <span class="n">p</span><span class="o">)]</span> <span class="o">:</span> <span class="n">complete_space</span> <span class="o">(</span><span class="n">Lp</span> <span class="n">E</span> <span class="n">p</span> <span class="n">μ</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">by_cases</span> <span class="n">hp_top</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">=</span> <span class="bp">∞</span><span class="o">,</span>
  <span class="o">{</span> <span class="k">have</span> <span class="n">h_eq</span> <span class="o">:</span> <span class="n">Lp</span> <span class="n">E</span> <span class="n">p</span> <span class="n">μ</span> <span class="bp">=</span> <span class="n">Lp</span> <span class="n">E</span> <span class="bp">∞</span> <span class="n">μ</span><span class="o">,</span> <span class="kd">by</span> <span class="n">rw</span> <span class="n">hp_top</span><span class="o">,</span>
     <span class="c1">-- I want to use `complete_space_Lp_top`</span>
    <span class="gr">sorry</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">exact</span> <span class="n">complete_space_Lp_of_ne_top</span> <span class="n">hp_top</span><span class="o">,</span> <span class="o">},</span>
<span class="kd">end</span>
</code></pre></div>
<p>I can prove <code>complete_space (Lp E ∞ μ)</code>, but I cannot find a way to get <code>complete_space (Lp E p μ)</code> from that and <code>p = ∞</code>.</p>



<a name="225876389"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/complete_space%20by%20cases/near/225876389" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/complete_space.20by.20cases.html#225876389">(Feb 10 2021 at 17:33)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">measure_theory.lp_space</span>

<span class="kn">open</span> <span class="n">measure_theory</span>
<span class="n">open_locale</span> <span class="n">ennreal</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">α</span> <span class="n">E</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">measurable_space</span> <span class="n">α</span><span class="o">]</span> <span class="o">{</span><span class="n">p</span> <span class="o">:</span> <span class="n">ℝ</span><span class="bp">≥</span><span class="mi">0</span><span class="bp">∞</span><span class="o">}</span> <span class="o">{</span><span class="n">μ</span> <span class="o">:</span> <span class="n">measure</span> <span class="n">α</span><span class="o">}</span>
  <span class="o">[</span><span class="n">measurable_space</span> <span class="n">E</span><span class="o">]</span> <span class="o">[</span><span class="n">normed_group</span> <span class="n">E</span><span class="o">]</span> <span class="o">[</span><span class="n">borel_space</span> <span class="n">E</span><span class="o">]</span>
  <span class="o">[</span><span class="n">topological_space.second_countable_topology</span> <span class="n">E</span><span class="o">]</span> <span class="o">[</span><span class="n">complete_space</span> <span class="n">E</span><span class="o">]</span>

<span class="kd">lemma</span> <span class="n">complete_space_Lp_of_ne_top</span> <span class="o">[</span><span class="n">hp</span> <span class="o">:</span> <span class="n">fact</span><span class="o">(</span><span class="mi">1</span> <span class="bp">≤</span> <span class="n">p</span><span class="o">)]</span> <span class="o">(</span><span class="n">hp_ne_top</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">≠</span> <span class="bp">∞</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">complete_space</span> <span class="o">(</span><span class="n">Lp</span> <span class="n">E</span> <span class="n">p</span> <span class="n">μ</span><span class="o">)</span> <span class="o">:=</span> <span class="gr">sorry</span>

<span class="kd">lemma</span> <span class="n">complete_space_Lp_top</span> <span class="o">:</span> <span class="n">complete_space</span> <span class="o">(</span><span class="n">Lp</span> <span class="n">E</span> <span class="bp">∞</span> <span class="n">μ</span><span class="o">)</span> <span class="o">:=</span> <span class="gr">sorry</span>

<span class="kd">lemma</span> <span class="n">complete_space_Lp</span> <span class="o">[</span><span class="n">hp</span> <span class="o">:</span> <span class="n">fact</span><span class="o">(</span><span class="mi">1</span> <span class="bp">≤</span> <span class="n">p</span><span class="o">)]</span> <span class="o">:</span> <span class="n">complete_space</span> <span class="o">(</span><span class="n">Lp</span> <span class="n">E</span> <span class="n">p</span> <span class="n">μ</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">by_cases</span> <span class="n">hp_top</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">=</span> <span class="bp">∞</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">convert</span> <span class="n">complete_space_Lp_top</span><span class="o">,</span>
    <span class="n">apply_instance</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">exact</span> <span class="n">complete_space_Lp_of_ne_top</span> <span class="n">hp_top</span><span class="o">,</span> <span class="o">},</span>
<span class="kd">end</span>
</code></pre></div>
<p>When you have something which looks like your goal, but in which some things are different from your goal, use <code>convert</code>: it will only leave you with proof goals saying that the things that look different are in fact the same.</p>



<a name="225876758"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/complete_space%20by%20cases/near/225876758" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rémy Degenne <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/complete_space.20by.20cases.html#225876758">(Feb 10 2021 at 17:35)</a>:</h4>
<p>Thank you! I keep forgetting about that tactic.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>