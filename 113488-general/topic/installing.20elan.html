---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/installing.20elan.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/installing.20elan.html">installing elan</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="193630361"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/installing%20elan/near/193630361" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/installing.20elan.html#193630361">(Apr 10 2020 at 23:41)</a>:</h4>
<p>When I give the approved installation command (on a Mac)<br>
 curl <a href="https://raw.githubusercontent.com/Kha/elan/master/elan-init.sh" title="https://raw.githubusercontent.com/Kha/elan/master/elan-init.sh">https://raw.githubusercontent.com/Kha/elan/master/elan-init.sh</a> -sSf | sh<br>
I get an error about an expired SSL certificate.  Hence I cannot install the Lean prover.<br>
Help!</p>



<a name="193631882"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/installing%20elan/near/193631882" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/installing.20elan.html#193631882">(Apr 11 2020 at 00:04)</a>:</h4>
<p>The approved installation instructions on a Mac are <a href="https://github.com/leanprover-community/mathlib/blob/master/docs/install/macos.md" title="https://github.com/leanprover-community/mathlib/blob/master/docs/install/macos.md">here</a> (perhaps you're already following them). The expired SSL certificate error is very strange though; I can't reproduce it.</p>



<a name="193631887"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/installing%20elan/near/193631887" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/installing.20elan.html#193631887">(Apr 11 2020 at 00:05)</a>:</h4>
<p>I can't reproduce this either, but according to <a href="https://stackoverflow.com/questions/18964175/how-to-fix-curl-60-ssl-certificate-invalid-certificate-chain" title="https://stackoverflow.com/questions/18964175/how-to-fix-curl-60-ssl-certificate-invalid-certificate-chain">https://stackoverflow.com/questions/18964175/how-to-fix-curl-60-ssl-certificate-invalid-certificate-chain</a> it seems if you download <a href="https://raw.githubusercontent.com/Kha/elan/master/elan-init.sh" title="https://raw.githubusercontent.com/Kha/elan/master/elan-init.sh">https://raw.githubusercontent.com/Kha/elan/master/elan-init.sh</a> by hand  and edit all calls to <code>curl</code> in that script to add <code>-k</code>. and then run it with <code>cat elan-init.sh | sh</code> it might work. (when I say edit calls to curl I mean the lines like <code>ensure curl -sSf</code> should be changed to <code>ensure curl -sSfk</code>.)</p>



<a name="193632523"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/installing%20elan/near/193632523" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/installing.20elan.html#193632523">(Apr 11 2020 at 00:17)</a>:</h4>
<p>I found that some people had a similar problem on Linux and fixed it using something like<br>
sudo apt-get ca-certificates.     But I don't know the Mac OS  analogue.  (brew ca-certificates didn't work.)</p>



<a name="193632692"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/installing%20elan/near/193632692" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/installing.20elan.html#193632692">(Apr 11 2020 at 00:20)</a>:</h4>
<p>Are you able to open <a href="https://raw.githubusercontent.com/Kha/elan/master/elan-init.sh" title="https://raw.githubusercontent.com/Kha/elan/master/elan-init.sh">https://raw.githubusercontent.com/Kha/elan/master/elan-init.sh</a> in your browser?</p>



<a name="193632884"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/installing%20elan/near/193632884" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/installing.20elan.html#193632884">(Apr 11 2020 at 00:24)</a>:</h4>
<p>Yes,  I can open that script,  and I tried editing it as someone suggested above to add the -k option, but that produced a different error, namely,<br>
curl: (35) error:1407742E:SSL routines:SSL23_GET_SERVER_HELLO:tlsv1 alert protocol version<br>
elan: command failed: curl -sSfk <a href="https://github.com/Kha/elan/releases/latest" title="https://github.com/Kha/elan/releases/latest">https://github.com/Kha/elan/releases/latest</a><br>
curl: (35) error:1407742E:SSL routines:SSL23_GET_SERVER_HELLO:tlsv1 alert protocol version<br>
elan: command failed: curl -sSfLk <a href="https://github.com/Kha/elan/releases/download//elan-x86_64-apple-darwin.tar.gz" title="https://github.com/Kha/elan/releases/download//elan-x86_64-apple-darwin.tar.gz">https://github.com/Kha/elan/releases/download//elan-x86_64-apple-darwin.tar.gz</a> -o /var/folders/_b/h558g4210fx_2cchc9p4d6c00000gn/T/tmp.0tDPbhOl/elan-init.tar.gz</p>



<a name="193633113"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/installing%20elan/near/193633113" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/installing.20elan.html#193633113">(Apr 11 2020 at 00:31)</a>:</h4>
<p>Maybe updating curl  by reinstalling it using homebrew (<a href="https://brew.sh/" title="https://brew.sh/">https://brew.sh/</a>) would help, if it isn't already up to date. What does <code>curl -v</code> output?</p>



<a name="193633459"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/installing%20elan/near/193633459" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/installing.20elan.html#193633459">(Apr 11 2020 at 00:39)</a>:</h4>
<p>reinstalled curl using brew,  no change in the error messages, <br>
<span aria-label="beer" class="emoji emoji-1f37a" role="img" title="beer">:beer:</span>  /usr/local/Cellar/curl/7.69.1: 459 files, 3.2MB<br>
iMac:Documents beeson$ curl -v<br>
curl: no URL specified!<br>
curl: try 'curl --help' or 'curl --manual' for more information</p>



<a name="193633519"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/installing%20elan/near/193633519" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/installing.20elan.html#193633519">(Apr 11 2020 at 00:41)</a>:</h4>
<p>Also tried exporting a certificate file from Keychain  and passing it to curl with the -file  option, which however<br>
was not recognized.   Mac usually uses keychain rather than certificate files but can export them.</p>



<a name="193633530"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/installing%20elan/near/193633530" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Pit Sinning <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/installing.20elan.html#193633530">(Apr 11 2020 at 00:41)</a>:</h4>
<p>I think it might be that you're using a deprecated OpenSSL version. Or perhaps you need to update your root CAs <a href="https://curl.haxx.se/docs/caextract.html" title="https://curl.haxx.se/docs/caextract.html">https://curl.haxx.se/docs/caextract.html</a> <br>
I'm unsure how Mac OS handles CAs though.</p>



<a name="193633906"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/installing%20elan/near/193633906" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Pit Sinning <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/installing.20elan.html#193633906">(Apr 11 2020 at 00:51)</a>:</h4>
<p>also, try <code>curl -V</code> (uppercase) instead</p>



<a name="193633913"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/installing%20elan/near/193633913" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/installing.20elan.html#193633913">(Apr 11 2020 at 00:51)</a>:</h4>
<p>OK so I finally went to GitHub and downloaded elan directly, and that worked.  So now I have Lean installed.  Thanks for trying to help me.   Too bad it didn't work for me like in Scott's nice video.</p>



<a name="193636224"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/installing%20elan/near/193636224" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/installing.20elan.html#193636224">(Apr 11 2020 at 01:38)</a>:</h4>
<p>Sorry about the video. It may well be out of date. I now longer have my (virtual) windows machine sitting around, so it's nontrivial for me to verify it. If someone tells me they've tested it and it's now wrong, I'll take it down.</p>



<a name="193643672"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/installing%20elan/near/193643672" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/installing.20elan.html#193643672">(Apr 11 2020 at 05:31)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> I think the problem is the Mac installation video</p>



<a name="193643676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/installing%20elan/near/193643676" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/installing.20elan.html#193643676">(Apr 11 2020 at 05:31)</a>:</h4>
<p>I guess both of them are quite out of date nowadays....</p>



<a name="193650806"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/installing%20elan/near/193650806" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/installing.20elan.html#193650806">(Apr 11 2020 at 09:14)</a>:</h4>
<p>I'll go take them down.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>