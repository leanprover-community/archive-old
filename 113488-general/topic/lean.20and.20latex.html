---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/lean.20and.20latex.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20and.20latex.html">lean and latex</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="220974388"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20and%20latex/near/220974388" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20and.20latex.html#220974388">(Dec 26 2020 at 18:40)</a>:</h4>
<p>I want to be able to mix Lean code and math mode within a LaTeX document. I am writing calculations about Bernoulli numbers where everything happening in nat I want to be in <code>lstlean</code> and everything in <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">Q</mi></mrow><annotation encoding="application/x-tex">\mathbb{Q}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.85556em;vertical-align:-0.16667em;"></span><span class="mord"><span class="mord mathbb">Q</span></span></span></span></span> I want to be in <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mo>∑</mo><mrow><mi>i</mi><mo>+</mo><mi>j</mi><mo>=</mo><mi>n</mi></mrow></msub><msub><mi>c</mi><mi>i</mi></msub><msub><mi>B</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\sum_{i+j=n}c_iB_i</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.185818em;vertical-align:-0.43581800000000004em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16195399999999993em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.43581800000000004em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> maths mode. Ultimately it means that I would like to have <code>lstlean</code> working in numerators of LaTeX <code>\frac{&lt;numerators&gt;}{&lt;denominators&gt;}</code>s and <code>_{&lt;subscripts&gt;}</code>. Or should I just use some kind of tt mode, <code>\mathtt</code> or something? I have no understanding of what is actually going on here but this sort of trick seems to be a kind of cool way of keeping a rational $/$ distinguished from a natural <code>/</code> and similarly for <code>-</code>.</p>



<a name="220974390"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20and%20latex/near/220974390" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20and.20latex.html#220974390">(Dec 26 2020 at 18:40)</a>:</h4>
<p><a href="/user_uploads/3121/PNC84aG9dbhz_RcLYREpTF2k/badlatex.png">badlatex.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/PNC84aG9dbhz_RcLYREpTF2k/badlatex.png" title="badlatex.png"><img src="/user_uploads/3121/PNC84aG9dbhz_RcLYREpTF2k/badlatex.png"></a></div>



<a name="220974416"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20and%20latex/near/220974416" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20and.20latex.html#220974416">(Dec 26 2020 at 18:41)</a>:</h4>
<p>I would just fake it using <code>\mathtt</code> and <code>\color</code></p>



<a name="220974577"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20and%20latex/near/220974577" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20and.20latex.html#220974577">(Dec 26 2020 at 18:45)</a>:</h4>
<p><a href="/user_uploads/3121/t5zGzGG3RXa70CIO2RAGK9EH/better.png">better.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/t5zGzGG3RXa70CIO2RAGK9EH/better.png" title="better.png"><img src="/user_uploads/3121/t5zGzGG3RXa70CIO2RAGK9EH/better.png"></a></div>



<a name="220974625"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20and%20latex/near/220974625" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20and.20latex.html#220974625">(Dec 26 2020 at 18:46)</a>:</h4>
<p>maths mode eats the spaces in the lean</p>



<a name="220974650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20and%20latex/near/220974650" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20and.20latex.html#220974650">(Dec 26 2020 at 18:47)</a>:</h4>
<p><code>\mbox{\texttt{...}}</code> might help with that</p>



<a name="220974702"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20and%20latex/near/220974702" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20and.20latex.html#220974702">(Dec 26 2020 at 18:48)</a>:</h4>
<p>you might even be able to use lstlean in there, not sure</p>



<a name="220974871"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20and%20latex/near/220974871" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20and.20latex.html#220974871">(Dec 26 2020 at 18:53)</a>:</h4>
<p>Nice -- </p>
<div class="codehilite" data-code-language="TeX"><pre><span></span><code><span class="sb">$$</span><span class="nv">\sum</span><span class="nb">_{</span><span class="o">(</span><span class="nb">i,j</span><span class="o">)</span><span class="nv">\in\mbox</span><span class="nb">{</span><span class="nv">\lstinline</span><span class="nb">{antidiagonal n}}}</span><span class="nv">\frac</span><span class="nb">{</span><span class="nv">\mbox</span><span class="nb">{</span><span class="nv">\lstinline</span><span class="nb">{pascal i j}}}{</span><span class="nv">\mbox</span><span class="nb">{</span><span class="nv">\lstinline</span><span class="nb">{j.succ}}}B_i </span><span class="o">=</span><span class="nb"> </span><span class="m">1</span><span class="nb">.</span><span class="s">$$</span>
</code></pre></div>
<p>gives me<br>
<a href="/user_uploads/3121/0Kyt2U6H1nkk-EWuGO6iAmRk/nice.png">nice.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/0Kyt2U6H1nkk-EWuGO6iAmRk/nice.png" title="nice.png"><img src="/user_uploads/3121/0Kyt2U6H1nkk-EWuGO6iAmRk/nice.png"></a></div>



<a name="220974921"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20and%20latex/near/220974921" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20and.20latex.html#220974921">(Dec 26 2020 at 18:55)</a>:</h4>
<p>The Lean font is a tiny bit too big compared to the maths font. The Lean <code>n</code> is bigger than the maths <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(i,j)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span></span></span></span>.</p>



<a name="220975066"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20and%20latex/near/220975066" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20and.20latex.html#220975066">(Dec 26 2020 at 19:00)</a>:</h4>
<p>At some point I modified my local lstlean.tex to scale things down slightly (in the whole document, not just math mode):</p>
<div class="codehilite" data-code-language="TeX"><pre><span></span><code><span class="c">% Default style fors listingsred</span>
lineskip=<span class="nb">{</span>-1.5pt<span class="nb">}</span>,
basicstyle=<span class="nb">{</span><span class="k">\ttfamily\scalefont</span><span class="nb">{</span>.95<span class="nb">}}</span>,
</code></pre></div>
<p>You could probably make a macro for <code>\mbox{\lstinline</code> that passes a <code>basicstyle</code> that scales it down.</p>



<a name="220975076"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20and%20latex/near/220975076" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20and.20latex.html#220975076">(Dec 26 2020 at 19:01)</a>:</h4>
<p>Can I get something like that in the docs? It's some theorem about Bernoulli numbers which I have in some branch of mathlib. I don't even know if it's the right way to document it, I've just been goofing around with writing some stuff  up in LaTeX.</p>



<a name="220975311"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20and%20latex/near/220975311" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20and.20latex.html#220975311">(Dec 26 2020 at 19:07)</a>:</h4>
<p>I think it's dangerous to use formatting tricks to convey semantic info in the docs. Even if the trick were used uniformly through all the doc pages, people showing up on a random page won't necessarily pick up on that. If there's something important to point out about the division maybe it's better to spell it out.</p>



<a name="220975313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/lean%20and%20latex/near/220975313" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/lean.20and.20latex.html#220975313">(Dec 26 2020 at 19:08)</a>:</h4>
<p>I don't object to the styling though.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>