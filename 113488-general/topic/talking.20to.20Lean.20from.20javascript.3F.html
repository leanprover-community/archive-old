---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/talking.20to.20Lean.20from.20javascript.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/talking.20to.20Lean.20from.20javascript.3F.html">talking to Lean from javascript?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="204413744"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/talking%20to%20Lean%20from%20javascript%3F/near/204413744" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/talking.20to.20Lean.20from.20javascript.3F.html#204413744">(Jul 20 2020 at 12:04)</a>:</h4>
<p>Hi all (perhaps <span class="user-mention" data-user-id="123965">@Bryan Gin-ge Chen</span> and/or <span class="user-mention" data-user-id="121918">@Edward Ayers</span> specifically?)</p>
<p>What is the current state of calling Lean from javascript? Say I wanted to create a webpage that did not show a text editor at all, but some other interface, but I wanted to make calls to Lean under the hood. Is this possible? Is there some <code>lean.js</code> I can add in a script tag and do something with?</p>
<p>Is it possible to do this in a way that would work both in a standalone webpage, and in a widget in VSCode?</p>



<a name="204414930"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/talking%20to%20Lean%20from%20javascript%3F/near/204414930" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/talking.20to.20Lean.20from.20javascript.3F.html#204414930">(Jul 20 2020 at 12:20)</a>:</h4>
<p>So the current model of widgets is that the logic and html are entirely done in lean and are connected to specific point in the lean source document. So I think what you are describing could be done with a modified version of widgets but probably not with what is there right now. idk if there is a way of directly getting values from the Lean VM using lean.js</p>



<a name="204417199"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/talking%20to%20Lean%20from%20javascript%3F/near/204417199" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/talking.20to.20Lean.20from.20javascript.3F.html#204417199">(Jul 20 2020 at 12:44)</a>:</h4>
<p>So <span class="user-mention" data-user-id="121918">@Edward Ayers</span>, does this mean that running javascript in a widget that then talks to the server API is currently out of scope?</p>



<a name="204417260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/talking%20to%20Lean%20from%20javascript%3F/near/204417260" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/talking.20to.20Lean.20from.20javascript.3F.html#204417260">(Jul 20 2020 at 12:45)</a>:</h4>
<p>yes that's right. Once you are in a widget all of the UI logic etc has to be written in Lean</p>



<a name="204417269"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/talking%20to%20Lean%20from%20javascript%3F/near/204417269" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/talking.20to.20Lean.20from.20javascript.3F.html#204417269">(Jul 20 2020 at 12:45)</a>:</h4>
<p>I guess you could make the entire webapp as a widget</p>



<a name="204417335"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/talking%20to%20Lean%20from%20javascript%3F/near/204417335" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/talking.20to.20Lean.20from.20javascript.3F.html#204417335">(Jul 20 2020 at 12:46)</a>:</h4>
<p>But then you wouldn't be able to use javascript libraries</p>



<a name="204417575"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/talking%20to%20Lean%20from%20javascript%3F/near/204417575" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/talking.20to.20Lean.20from.20javascript.3F.html#204417575">(Jul 20 2020 at 12:49)</a>:</h4>
<p>I think for your use case it would be more useful to have an api where javascript communicates with lean and idk if that exists currently</p>



<a name="204417974"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/talking%20to%20Lean%20from%20javascript%3F/near/204417974" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/talking.20to.20Lean.20from.20javascript.3F.html#204417974">(Jul 20 2020 at 12:53)</a>:</h4>
<p>When I made widgets the purpose was for inserting little bits of interactive UI without having to manage lean, C++, javascript every time you change something. It might be possible one day to build a full web app in lean but that's out of scope for me rn.</p>



<a name="204436279"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/talking%20to%20Lean%20from%20javascript%3F/near/204436279" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/talking.20to.20Lean.20from.20javascript.3F.html#204436279">(Jul 20 2020 at 15:23)</a>:</h4>
<p>Yes, it's possible, but it's a bit more complicated at the moment than using just a <code>&lt;script&gt;</code> tag.</p>
<p>Here's a quick demo I just whipped together from <a href="https://github.com/bryangingechen/lean-client-js/blob/cache/lean-client-js-browser/lib_test.html">a test file</a> in <a href="https://github.com/bryangingechen/lean-client-js/tree/cache/lean-client-js-browser#lean-client-js-browser">my fork of <code>lean-client-js-browser</code></a>: </p>
<p><a href="https://bl.ocks.org/bryangingechen/5dd3910365d477dc01fc5c3577d96278/f871317dc4d4468a3e28ecbc513cf5d98f3efb91">https://bl.ocks.org/bryangingechen/5dd3910365d477dc01fc5c3577d96278/f871317dc4d4468a3e28ecbc513cf5d98f3efb91</a></p>
<p>Basically, I've packaged lean-client-js-browser into a "UMD module" and then loading it asynchronously using <a href="https://github.com/d3/d3-require">d3-require</a>. I'm using the same <code>leanBrowser.js</code> UMD module in my Observable notebooks. Happy to expand on anything above or to help out with any project you have in mind.</p>
<p>I don't think there's an easy way to do it in both a webpage and a widget in VS Code yet, but maybe <span class="user-mention" data-user-id="121918">@Edward Ayers</span> has some ideas...</p>



<a name="204436415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/talking%20to%20Lean%20from%20javascript%3F/near/204436415" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/talking.20to.20Lean.20from.20javascript.3F.html#204436415">(Jul 20 2020 at 15:24)</a>:</h4>
<p>Ah, I didn't see Ed's message when I was responding since I was focused on the "Mentions" stream. My answer above addresses only "What is the current state of calling Lean from javascript? Say I wanted to create a webpage that did not show a text editor at all, but some other interface, but I wanted to make calls to Lean under the hood. Is this possible?"</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>