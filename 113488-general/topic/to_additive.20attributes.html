---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/to_additive.20attributes.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/to_additive.20attributes.html">to_additive attributes</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="199275161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/to_additive%20attributes/near/199275161" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/to_additive.20attributes.html#199275161">(May 30 2020 at 20:43)</a>:</h4>
<div class="codehilite"><pre><span></span><code>      <span class="n">transform_decl_with_prefix_dict</span> <span class="n">dict</span> <span class="n">src</span> <span class="n">tgt</span>
        <span class="o">[</span><span class="bp">`</span><span class="kn">reducible</span><span class="o">,</span> <span class="bp">`</span><span class="n">simp</span><span class="o">,</span> <span class="bp">`</span><span class="kn">instance</span><span class="o">,</span> <span class="bp">`</span><span class="n">refl</span><span class="o">,</span> <span class="bp">`</span><span class="n">symm</span><span class="o">,</span> <span class="bp">`</span><span class="n">trans</span><span class="o">,</span> <span class="bp">`</span><span class="n">elab_as_eliminator</span><span class="o">,</span> <span class="bp">`</span><span class="n">no_rsimp</span><span class="o">],</span>
</code></pre></div>


<p>Can we make this list extensible? Maybe by ... giving these attributes an attribute?</p>



<a name="199275803"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/to_additive%20attributes/near/199275803" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/to_additive.20attributes.html#199275803">(May 30 2020 at 21:00)</a>:</h4>
<p>Do you want to extend it outside of mathlib? If not, just as values here. AFAIR every read of an attribute comes at a price</p>



<a name="199275820"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/to_additive%20attributes/near/199275820" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/to_additive.20attributes.html#199275820">(May 30 2020 at 21:01)</a>:</h4>
<p><span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> am I right?</p>



<a name="199275876"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/to_additive%20attributes/near/199275876" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/to_additive.20attributes.html#199275876">(May 30 2020 at 21:02)</a>:</h4>
<p>In mathlib, but I don't want to create more dependencies if it's avoidable...</p>



<a name="199275941"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/to_additive%20attributes/near/199275941" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/to_additive.20attributes.html#199275941">(May 30 2020 at 21:04)</a>:</h4>
<p>I guess I could just create my attribute somewhere low in the hierarchy and then use it later</p>



<a name="199276001"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/to_additive%20attributes/near/199276001" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/to_additive.20attributes.html#199276001">(May 30 2020 at 21:06)</a>:</h4>
<p>This is a list of names. They don't need to be defined at this point.</p>



<a name="199276010"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/to_additive%20attributes/near/199276010" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/to_additive.20attributes.html#199276010">(May 30 2020 at 21:06)</a>:</h4>
<p>Oh I see, I'm not used to this style but I guess it works.</p>



<a name="199276021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/to_additive%20attributes/near/199276021" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/to_additive.20attributes.html#199276021">(May 30 2020 at 21:07)</a>:</h4>
<p>If the code accidentally assumes that the attributes are defined, I can fix it tonight.</p>



<a name="199276399"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/to_additive%20attributes/near/199276399" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/to_additive.20attributes.html#199276399">(May 30 2020 at 21:18)</a>:</h4>
<p><span class="user-mention" data-user-id="214703">@Yury G. Kudryashov</span> It's slow, but optimizable with a bit of effort.  For "list of names", we can just copy the workaround used in the nolints attribute.</p>



<a name="199278866"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/to_additive%20attributes/near/199278866" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/to_additive.20attributes.html#199278866">(May 30 2020 at 22:26)</a>:</h4>
<p>I'm afraid that I don't understand this workaround. Why exactly the new code is faster? Which call is slow and what is a fast alternative?</p>



<a name="199278876"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/to_additive%20attributes/near/199278876" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/to_additive.20attributes.html#199278876">(May 30 2020 at 22:27)</a>:</h4>
<p>Is <code>@[to_additive]</code> slow for the same reason?</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>