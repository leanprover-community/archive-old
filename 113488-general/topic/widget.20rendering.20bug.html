---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/widget.20rendering.20bug.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/widget.20rendering.20bug.html">widget rendering bug</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="211094213"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/widget%20rendering%20bug/near/211094213" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/widget.20rendering.20bug.html#211094213">(Sep 24 2020 at 06:36)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="121918">@Edward Ayers</span>, just letting you know about a widget rendering bug:<br>
If you look at the (wildly in progress) <code>opens_le_cover</code> branch, on commit 0c329591c6a20ebd252df92966ba94af88a1129b, line 135 of <code>category_theory.limits.cofinal</code>, the goal displays as</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">‚ä¢</span> <span class="mi">ùü≠</span> <span class="o">(</span><span class="n">cocone</span> <span class="o">(</span><span class="n">F</span> <span class="bp">‚ãô</span> <span class="n">G</span><span class="o">)</span>  <span class="bp">‚âÖ</span> <span class="n">extend_cocone</span> <span class="bp">‚ãô</span> <span class="n">cocones.whiskering</span> <span class="n">F</span>
     <span class="o">)</span>
</code></pre></div>

<p>(the close parenthesis has gone stray).</p>



<a name="211096424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/widget%20rendering%20bug/near/211096424" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/widget.20rendering.20bug.html#211096424">(Sep 24 2020 at 07:16)</a>:</h4>
<p>Oof. I'll have a look</p>



<a name="211096626"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/widget%20rendering%20bug/near/211096626" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/widget.20rendering.20bug.html#211096626">(Sep 24 2020 at 07:19)</a>:</h4>
<p>Does it change if you make the window bigger and smaller?</p>



<a name="211096824"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/widget%20rendering%20bug/near/211096824" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/widget.20rendering.20bug.html#211096824">(Sep 24 2020 at 07:22)</a>:</h4>
<p>It's rendering ok for me :/ maybe I'm missing something?<br>
<a href="/user_uploads/3121/NJfl6JhbITH1bAlvbs_6984H/image.png">image.png</a> <br>
<a href="/user_uploads/3121/BDAX1OuKDigFHwbTEGoC7rTl/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/NJfl6JhbITH1bAlvbs_6984H/image.png" title="image.png"><img src="/user_uploads/3121/NJfl6JhbITH1bAlvbs_6984H/image.png"></a></div><div class="message_inline_image"><a href="/user_uploads/3121/BDAX1OuKDigFHwbTEGoC7rTl/image.png" title="image.png"><img src="/user_uploads/3121/BDAX1OuKDigFHwbTEGoC7rTl/image.png"></a></div>



<a name="211096849"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/widget%20rendering%20bug/near/211096849" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/widget.20rendering.20bug.html#211096849">(Sep 24 2020 at 07:23)</a>:</h4>
<p>I've seen this failure mode before though</p>



<a name="211096859"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/widget%20rendering%20bug/near/211096859" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/widget.20rendering.20bug.html#211096859">(Sep 24 2020 at 07:23)</a>:</h4>
<p>I've seen this bug too</p>



<a name="211097003"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/widget%20rendering%20bug/near/211097003" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/widget.20rendering.20bug.html#211097003">(Sep 24 2020 at 07:25)</a>:</h4>
<p>Whats happening is the <code>(cocone (F ‚ãô G))</code> element is wrapped in an <code>inline-block</code> to get the pretty linebreaking to work, but sometimes the layout maths is off and it linebreaks in this block before the outer one linebreaks</p>



<a name="211097016"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/widget%20rendering%20bug/near/211097016" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/widget.20rendering.20bug.html#211097016">(Sep 24 2020 at 07:25)</a>:</h4>
<p>Maybe it only happens for certain fonts</p>



<a name="211097021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/widget%20rendering%20bug/near/211097021" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/widget.20rendering.20bug.html#211097021">(Sep 24 2020 at 07:25)</a>:</h4>
<p>What fonts are you guys using?</p>



<a name="211098344"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/widget%20rendering%20bug/near/211098344" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/widget.20rendering.20bug.html#211098344">(Sep 24 2020 at 07:43)</a>:</h4>
<p>Ok I've tried changing the fonts etc and I can't get this theorem to exhibit this bug, so I'll keep programming until I find an example of the bug and then try to diagnose it. Hopefully the bug doesn't arise too frequently to be a massive issue in the mean time.</p>



<a name="211099898"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/widget%20rendering%20bug/near/211099898" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/widget.20rendering.20bug.html#211099898">(Sep 24 2020 at 08:03)</a>:</h4>
<p>Another funny rendering bug is that <code>Œª (n : ‚Ñï), n &gt; n</code> breaks like this:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">Œª</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">‚Ñï</span><span class="o">)</span>
  <span class="o">,</span> <span class="n">n</span> <span class="bp">&gt;</span> <span class="n">n</span>
</code></pre></div>

<p>In the API documentation we solve these issues by post-processing the formatted expression a little bit, i.e. move parenthesis inside: <a href="https://github.com/leanprover-community/doc-gen/blob/fe4f42fdda23b690695b40d353e5da6d49cf9d65/src/export_json.lean#L70-L126">https://github.com/leanprover-community/doc-gen/blob/fe4f42fdda23b690695b40d353e5da6d49cf9d65/src/export_json.lean#L70-L126</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>