---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/swap.20one.20goal.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/swap.20one.20goal.html">swap one goal</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="213999456"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/swap%20one%20goal/near/213999456" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/swap.20one.20goal.html#213999456">(Oct 21 2020 at 01:34)</a>:</h4>
<p>Just something that occurred to me, but should <code>swap</code> when there's just one goal be an error? Or are there cases (probably involving things like <code>;</code>?) where the current behavior (do nothing) is useful?</p>



<a name="213999895"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/swap%20one%20goal/near/213999895" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/swap.20one.20goal.html#213999895">(Oct 21 2020 at 01:44)</a>:</h4>
<p>Are you asking because not having an error is giving you trouble?</p>



<a name="214000145"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/swap%20one%20goal/near/214000145" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/swap.20one.20goal.html#214000145">(Oct 21 2020 at 01:48)</a>:</h4>
<p>No actual trouble, I just had a <code>swap</code> that did nothing left over in my proof after a refactor.</p>



<a name="214000336"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/swap%20one%20goal/near/214000336" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/swap.20one.20goal.html#214000336">(Oct 21 2020 at 01:52)</a>:</h4>
<p>So it can be kind of noisy</p>



<a name="214000344"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/swap%20one%20goal/near/214000344" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/swap.20one.20goal.html#214000344">(Oct 21 2020 at 01:52)</a>:</h4>
<p>I also feel like it should be an error</p>



<a name="214000467"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/swap%20one%20goal/near/214000467" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/swap.20one.20goal.html#214000467">(Oct 21 2020 at 01:54)</a>:</h4>
<p>If you're swapping the first two goals, you should know what the two goals correspond to, i.e. that they exist and they say something specific. Otherwise, you could do <code>try { swap }</code></p>



<a name="214000472"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/swap%20one%20goal/near/214000472" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/swap.20one.20goal.html#214000472">(Oct 21 2020 at 01:54)</a>:</h4>
<p>I haven't really thought about it, but most tactics fail instead of doing nothing, on the premise that the user probably intended for something to happen.</p>



<a name="214000574"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/swap%20one%20goal/near/214000574" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/swap.20one.20goal.html#214000574">(Oct 21 2020 at 01:56)</a>:</h4>
<p>I'm using the slightly awkward <code>specialize h _, swap, { ... },</code> repeatedly to provide a series of complicated arguments to a hypothesis</p>



<a name="214000701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/swap%20one%20goal/near/214000701" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/swap.20one.20goal.html#214000701">(Oct 21 2020 at 01:59)</a>:</h4>
<p>I don't see the connection between this last part and the rest</p>



<a name="214000975"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/swap%20one%20goal/near/214000975" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/swap.20one.20goal.html#214000975">(Oct 21 2020 at 02:03)</a>:</h4>
<p>I think what happened was that one of the <code>{ ... }</code>s actually turned out to be trivial, so I moved it inline in place of the <code>_</code></p>



<a name="214000987"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/swap%20one%20goal/near/214000987" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/swap.20one.20goal.html#214000987">(Oct 21 2020 at 02:03)</a>:</h4>
<p>then I had a <code>swap</code> that did nothing</p>



<a name="214001001"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/swap%20one%20goal/near/214001001" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/swap.20one.20goal.html#214001001">(Oct 21 2020 at 02:04)</a>:</h4>
<p>I don't think I would say that we shouldn't let tactic do nothing. Sometimes, it's a natural generalization, like providing zero arguments to a function can sometimes make sense. Especially when you're trying to apply the same tactics multiple times</p>



<a name="214001042"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/swap%20one%20goal/near/214001042" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/swap.20one.20goal.html#214001042">(Oct 21 2020 at 02:04)</a>:</h4>
<p>but the whole construction feels kind of awkward in the first place</p>



<a name="214001161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/swap%20one%20goal/near/214001161" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/swap.20one.20goal.html#214001161">(Oct 21 2020 at 02:06)</a>:</h4>
<p>I see what you mean</p>



<a name="214001168"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/swap%20one%20goal/near/214001168" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/swap.20one.20goal.html#214001168">(Oct 21 2020 at 02:06)</a>:</h4>
<p>It would make things better to get <code>swap</code> to fail</p>



<a name="214013267"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/swap%20one%20goal/near/214013267" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/swap.20one.20goal.html#214013267">(Oct 21 2020 at 06:48)</a>:</h4>
<p>I also think swap should fail on one goal. Someone who wants it can still run <code>try {swap}</code>.</p>



<a name="214013504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/swap%20one%20goal/near/214013504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/swap.20one.20goal.html#214013504">(Oct 21 2020 at 06:52)</a>:</h4>
<p>If <code>swap</code> did a rotation, then it would be reasonable for it to succeed on 1 goal</p>



<a name="214013594"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/swap%20one%20goal/near/214013594" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/swap.20one.20goal.html#214013594">(Oct 21 2020 at 06:52)</a>:</h4>
<p>but I think the present behavior is to move goal <code>n</code> to the front, in which case it should probably require that goal <code>n</code> exists</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>