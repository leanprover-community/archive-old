---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Passing.20the.20Theorem.20Proving.20in.20Lean.20unit.20tests.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Passing.20the.20Theorem.20Proving.20in.20Lean.20unit.20tests.3F.html">Passing the Theorem Proving in Lean unit tests?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="205011718"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Passing%20the%20Theorem%20Proving%20in%20Lean%20unit%20tests%3F/near/205011718" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sam Estep <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Passing.20the.20Theorem.20Proving.20in.20Lean.20unit.20tests.3F.html#205011718">(Jul 25 2020 at 16:54)</a>:</h4>
<p>Hi all! I'm still fairly new to Lean and am working through the Theorem Proving in Lean book (currently on Chapter 5), but occasionally I've been running into things that don't work for me locally. As a sanity check, I went to try running the test suite for the book, but that also failed on my machine, so it seemed like just an issue with my local Lean setup. But when I tried running the tests in a Docker image built using the <a href="https://leanprover-community.github.io/install/debian_details.html">Lean Community Ubuntu instructions</a>, I got exactly the same errors <a href="https://pastebin.com/3gLMBPJD">(pasted here)</a>:</p>
<div class="codehilite"><pre><span></span><code>$ curl https://raw.githubusercontent.com/samestep/lean-docker/8846c6c/Dockerfile | docker build -t lean -
$ docker run -it lean
# git clone https://github.com/leanprover/theorem_proving_in_lean.git
# cd theorem_proving_in_lean
# make install-deps
# make leantest
</code></pre></div>


<p>Is there something wrong with my Lean setup (both locally and in the linked Dockerfile), or are these tests simply out of date? If the latter, would it be worthwhile if I submit a PR fixing the tests, and possibly adding some sort of CI setup to the repo for the book?</p>



<a name="205011996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Passing%20the%20Theorem%20Proving%20in%20Lean%20unit%20tests%3F/near/205011996" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Passing.20the.20Theorem.20Proving.20in.20Lean.20unit.20tests.3F.html#205011996">(Jul 25 2020 at 17:00)</a>:</h4>
<p>You are probably using a <code>lean</code> version which is too recent for this book.</p>



<a name="205012027"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Passing%20the%20Theorem%20Proving%20in%20Lean%20unit%20tests%3F/near/205012027" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sam Estep <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Passing.20the.20Theorem.20Proving.20in.20Lean.20unit.20tests.3F.html#205012027">(Jul 25 2020 at 17:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110031">Patrick Massot</span> <a href="#narrow/stream/113488-general/topic/Passing.20the.20Theorem.20Proving.20in.20Lean.20unit.20tests.3F/near/205011996">said</a>:</p>
<blockquote>
<p>You are probably using a <code>lean</code> version which is too recent for this book.</p>
</blockquote>
<p>Ah that would make sense; what's a version that works with the book?</p>



<a name="205030384"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Passing%20the%20Theorem%20Proving%20in%20Lean%20unit%20tests%3F/near/205030384" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Wong <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Passing.20the.20Theorem.20Proving.20in.20Lean.20unit.20tests.3F.html#205030384">(Jul 26 2020 at 01:34)</a>:</h4>
<p>The "leanprover" organization (as opposed to "leanprover-community") is for the original Microsoft version of Lean <em>3.x</em>, which is no longer developed</p>



<a name="205030425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Passing%20the%20Theorem%20Proving%20in%20Lean%20unit%20tests%3F/near/205030425" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Wong <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Passing.20the.20Theorem.20Proving.20in.20Lean.20unit.20tests.3F.html#205030425">(Jul 26 2020 at 01:34)</a>:</h4>
<p>So that repo probably uses the last Microsoft release, Lean 3.4</p>



<a name="205030427"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Passing%20the%20Theorem%20Proving%20in%20Lean%20unit%20tests%3F/near/205030427" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Passing.20the.20Theorem.20Proving.20in.20Lean.20unit.20tests.3F.html#205030427">(Jul 26 2020 at 01:34)</a>:</h4>
<p>This is not quite accurate.</p>



<a name="205030434"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Passing%20the%20Theorem%20Proving%20in%20Lean%20unit%20tests%3F/near/205030434" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Passing.20the.20Theorem.20Proving.20in.20Lean.20unit.20tests.3F.html#205030434">(Jul 26 2020 at 01:35)</a>:</h4>
<p>Lean is still being very actively developed, by Leonardo de Moura at Microsoft, but they are working on Lean 4.</p>



<a name="205030440"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Passing%20the%20Theorem%20Proving%20in%20Lean%20unit%20tests%3F/near/205030440" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Passing.20the.20Theorem.20Proving.20in.20Lean.20unit.20tests.3F.html#205030440">(Jul 26 2020 at 01:35)</a>:</h4>
<p>It is true that Lean 3 is no longer being developed in the <code>leanprover</code> organisation.</p>



<a name="205051836"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Passing%20the%20Theorem%20Proving%20in%20Lean%20unit%20tests%3F/near/205051836" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Passing.20the.20Theorem.20Proving.20in.20Lean.20unit.20tests.3F.html#205051836">(Jul 26 2020 at 13:15)</a>:</h4>
<p>I would suggest rewriting the examples/tests/exercises in <a href="https://leanprover.github.io/theorem_proving_in_lean/">#tpil</a> to work under the community Lean to learn the evolution since 3.4 instead of sticking to 3.4 and learn some outdated muscle memory.</p>



<a name="205052154"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Passing%20the%20Theorem%20Proving%20in%20Lean%20unit%20tests%3F/near/205052154" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Passing.20the.20Theorem.20Proving.20in.20Lean.20unit.20tests.3F.html#205052154">(Jul 26 2020 at 13:24)</a>:</h4>
<p>Sure, but <span class="user-mention" data-user-id="110865">@Jeremy Avigad</span> only has 24 hours per day...</p>



<a name="205052361"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Passing%20the%20Theorem%20Proving%20in%20Lean%20unit%20tests%3F/near/205052361" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Passing.20the.20Theorem.20Proving.20in.20Lean.20unit.20tests.3F.html#205052361">(Jul 26 2020 at 13:29)</a>:</h4>
<p>Oh I meant for beginners reading <a href="https://leanprover.github.io/theorem_proving_in_lean/">#tpil</a> and doing exercises in it. This task is a good first task, easy enough for any beginner.</p>



<a name="205057390"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Passing%20the%20Theorem%20Proving%20in%20Lean%20unit%20tests%3F/near/205057390" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sam Estep <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Passing.20the.20Theorem.20Proving.20in.20Lean.20unit.20tests.3F.html#205057390">(Jul 26 2020 at 16:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="296911">Utensil Song</span> <a href="#narrow/stream/113488-general/topic/Passing.20the.20Theorem.20Proving.20in.20Lean.20unit.20tests.3F/near/205051836">said</a>:</p>
<blockquote>
<p>I would suggest rewriting the examples/tests/exercises in <a href="https://leanprover.github.io/theorem_proving_in_lean/">#tpil</a> to work under the community Lean to learn the evolution since 3.4 instead of sticking to 3.4 and learn some outdated muscle memory.</p>
</blockquote>
<p>That sounds like a good idea! I've forked the repo to my personal GitHub to start working on that. Is there a more recent (Lean 3 community) reference that I can refer to while doing this? I notice that <a href="https://leanprover.github.io/reference/lean_reference.pdf">The Lean Reference Manual</a> is also outdated as you describe</p>



<a name="205057729"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Passing%20the%20Theorem%20Proving%20in%20Lean%20unit%20tests%3F/near/205057729" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Passing.20the.20Theorem.20Proving.20in.20Lean.20unit.20tests.3F.html#205057729">(Jul 26 2020 at 16:15)</a>:</h4>
<p>There’s no such an updated reference AFAIK. I just picked things up by reading changelog or reading/searching/asking on Zulip. Hopefully there would be an updated one for Lean 4.</p>



<a name="205057776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Passing%20the%20Theorem%20Proving%20in%20Lean%20unit%20tests%3F/near/205057776" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Passing.20the.20Theorem.20Proving.20in.20Lean.20unit.20tests.3F.html#205057776">(Jul 26 2020 at 16:16)</a>:</h4>
<p>（deleted）</p>



<a name="205058341"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Passing%20the%20Theorem%20Proving%20in%20Lean%20unit%20tests%3F/near/205058341" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sam Estep <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Passing.20the.20Theorem.20Proving.20in.20Lean.20unit.20tests.3F.html#205058341">(Jul 26 2020 at 16:32)</a>:</h4>
<p>Also, looking at the topics in the "new members" stream vs this one, it seems like I may have started this topic in the wrong stream; apologies for that! I'll ask further questions about this in the "new members" stream to avoid spamming this one with off-topic messages</p>



<a name="205123587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Passing%20the%20Theorem%20Proving%20in%20Lean%20unit%20tests%3F/near/205123587" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jeremy Avigad <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Passing.20the.20Theorem.20Proving.20in.20Lean.20unit.20tests.3F.html#205123587">(Jul 27 2020 at 14:28)</a>:</h4>
<p>It might not be too hard to update TPiL to the latest version of Lean. Patrick is right that I am juggling a number of things, but it is on my to-do list...</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>