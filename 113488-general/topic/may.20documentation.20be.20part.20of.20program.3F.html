---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/may.20documentation.20be.20part.20of.20program.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/may.20documentation.20be.20part.20of.20program.3F.html">may documentation be part of program?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="318888181"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/may%20documentation%20be%20part%20of%20program%3F/near/318888181" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Erika Su <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/may.20documentation.20be.20part.20of.20program.3F.html#318888181">(Jan 01 2023 at 17:44)</a>:</h4>
<p>(It's not a question specific to lean, rather more general question for software engineer)</p>
<p>For lean (or coq, or any other programming language providing rich meta-programming and flexible utillity), is it possible to have certain library and/or compiler plugin such that</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="sd">/-- documentation on True -/</span>
<span class="n">Inductive</span> <span class="n">Unit</span> <span class="n">where</span>
     <span class="n">unit</span> <span class="o">:</span> <span class="n">Unit</span>
</code></pre></div>
<p>can be compiled into something like</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c1">-- definition of Unit</span>
<span class="kn">namespace</span> <span class="n">Unit</span>
<span class="kd">def</span> <span class="n">doc</span> <span class="o">:</span> <span class="n">DocType</span> <span class="o">:=</span> <span class="n">coe</span> <span class="s2">"documentation on True"</span>  <span class="c1">-- may be complicated as documentation may refer to semantic object, which require a "reference type" for semantic object</span>
<span class="kd">end</span> <span class="n">Unit</span>
<span class="c1">-- or use attribute to associate documentation with the corresponding item</span>
</code></pre></div>
<p>The relevant issues and advantages of this method might include:</p>
<ol>
<li>Need a way to refer identifier's "name" rather than its value</li>
<li>Documentation needs to follows the programs' dependency: suppose A depends on B, B's documentation can't mention A, otherwise causing a loop of dependency. Or documents need to be compiled after the code.</li>
<li>Documentation should not be compiled in certain cases, they shall be attributed accordingly.</li>
<li>It's convenient for User can provide custom lean-native implementation (via typeclass) for parsing document to custom data and provide output of multiple format. </li>
<li>furthermore, it may be possible to attach certain data (format, etc.) to items so that source code can viewed as/compiled to a "notebook" such as jupyter and mathematica, which might be useful for proof assistant.</li>
</ol>
<p>My question is, is it practical to implement such feature? If so, what need to be added/changed to implement such feature? compiler plugin, preprocessor, or a library (a generalized version of doc-gen4)?</p>
<p>I hope this question is not too bold.</p>
<p>Also, it may be a good idea to give a more conspicuous link to lean4-metaprogramming-book..... I didn't find it til tonight.....</p>



<a name="318892669"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/may%20documentation%20be%20part%20of%20program%3F/near/318892669" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/may.20documentation.20be.20part.20of.20program.3F.html#318892669">(Jan 01 2023 at 18:29)</a>:</h4>
<p>It's already possibly to programmatically get a docstring for a declaration, if that's your question</p>



<a name="318892694"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/may%20documentation%20be%20part%20of%20program%3F/near/318892694" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/may.20documentation.20be.20part.20of.20program.3F.html#318892694">(Jan 01 2023 at 18:29)</a>:</h4>
<p>That's how <a href="https://leanprover-community.github.io/mathlib_docs">#docs</a> and <a href="https://leanprover-community.github.io/mathlib4_docs">#docs4</a> work</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>