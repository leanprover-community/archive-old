---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/sym.20notation.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/sym.20notation.html">sym notation</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="254088063"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/sym%20notation/near/254088063" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/sym.20notation.html#254088063">(Sep 20 2021 at 17:37)</a>:</h4>
<p>Is there a better notation to build concrete elements in <code>sym</code>?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.sym.basic</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">sym</span> <span class="n">α</span> <span class="mi">3</span> <span class="o">:=</span>
<span class="n">a</span> <span class="o">::</span> <span class="n">b</span> <span class="o">::</span> <span class="n">c</span> <span class="o">::</span> <span class="n">sym.nil</span>
</code></pre></div>



<a name="254088114"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/sym%20notation/near/254088114" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/sym.20notation.html#254088114">(Sep 20 2021 at 17:37)</a>:</h4>
<p>(<a href="https://leanprover-community.github.io/mathlib_docs/find/sym">docs#sym</a>)</p>



<a name="254088194"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/sym%20notation/near/254088194" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/sym.20notation.html#254088194">(Sep 20 2021 at 17:38)</a>:</h4>
<p>Eric, the documentation bot <span aria-label="rofl" class="emoji emoji-1f923" role="img" title="rofl">:rofl:</span></p>



<a name="254088419"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/sym%20notation/near/254088419" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/sym.20notation.html#254088419">(Sep 20 2021 at 17:39)</a>:</h4>
<p>No one's ever really wanted to before <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span>.  I'd suggest using <code>::</code> like that, though if you want there's also</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">sym</span> <span class="n">α</span> <span class="mi">3</span> <span class="o">:=</span> <span class="o">⟨[</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">,</span> <span class="n">c</span><span class="o">],</span> <span class="n">rfl</span><span class="o">⟩</span>
</code></pre></div>



<a name="254088582"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/sym%20notation/near/254088582" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/sym.20notation.html#254088582">(Sep 20 2021 at 17:40)</a>:</h4>
<p>Why is <code>[, , ]</code> notation not implemented for <code>has_insert</code> and <code>has_nil</code>?</p>



<a name="254088604"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/sym%20notation/near/254088604" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/sym.20notation.html#254088604">(Sep 20 2021 at 17:40)</a>:</h4>
<p>Oh wait, there's no <code>has_nil</code>!</p>



<a name="254088659"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/sym%20notation/near/254088659" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/sym.20notation.html#254088659">(Sep 20 2021 at 17:41)</a>:</h4>
<p>I didn't check -- I'm pretty sure it's using the coercion from <code>list</code> there.</p>



<a name="254088966"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/sym%20notation/near/254088966" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/sym.20notation.html#254088966">(Sep 20 2021 at 17:43)</a>:</h4>
<p><code>sym</code> has no <a href="https://leanprover-community.github.io/mathlib_docs/find/has_insert">docs#has_insert</a> anyway (nor can it, the types aren't right)</p>



<a name="254089160"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/sym%20notation/near/254089160" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/sym.20notation.html#254089160">(Sep 20 2021 at 17:44)</a>:</h4>
<p>Well, <code>has_insert</code> could well be heterogenous if we wanted to.</p>



<a name="254091893"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/sym%20notation/near/254091893" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/sym.20notation.html#254091893">(Sep 20 2021 at 18:01)</a>:</h4>
<p>There's <a href="https://leanprover-community.github.io/mathlib_docs/find/has_emptyc">docs#has_emptyc</a></p>



<a name="254101067"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/sym%20notation/near/254101067" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/sym.20notation.html#254101067">(Sep 20 2021 at 19:03)</a>:</h4>
<p>Can you use set notation <code>{a, b, c}</code> ?</p>



<a name="254108308"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/sym%20notation/near/254108308" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/sym.20notation.html#254108308">(Sep 20 2021 at 19:57)</a>:</h4>
<p>No, that requires <code>has_insert</code> which can't apply here</p>



<a name="254108453"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/sym%20notation/near/254108453" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/sym.20notation.html#254108453">(Sep 20 2021 at 19:58)</a>:</h4>
<p><span class="user-mention" data-user-id="387244">@Yaël Dillies</span>, you might have to fiddle with out_param to avoid confusing the elaborator</p>



<a name="254108493"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/sym%20notation/near/254108493" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/sym.20notation.html#254108493">(Sep 20 2021 at 19:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110044">Chris Hughes</span> <a href="#narrow/stream/113488-general/topic/sym.20notation/near/254101067">said</a>:</p>
<blockquote>
<p>Can you use set notation <code>{a, b, c}</code> ?</p>
</blockquote>
<p>Didn't have much success doing so...</p>



<a name="254108525"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/sym%20notation/near/254108525" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/sym.20notation.html#254108525">(Sep 20 2021 at 19:59)</a>:</h4>
<p>Oh yeah, I'm not yet friend with the elaborator.</p>



<a name="254468293"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/sym%20notation/near/254468293" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/sym.20notation.html#254468293">(Sep 23 2021 at 02:00)</a>:</h4>
<p>Why <code>has_insert</code> can't apply here? We can define it to mean <code>cons</code>.</p>



<a name="254482001"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/sym%20notation/near/254482001" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/sym.20notation.html#254482001">(Sep 23 2021 at 05:15)</a>:</h4>
<p>Because it has signature <code>insert : A → B → B</code> which doesn't unify with cons.</p>



<a name="254492311"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/sym%20notation/near/254492311" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/sym.20notation.html#254492311">(Sep 23 2021 at 07:22)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.sym.basic</span>

<span class="kd">variable</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span>

<span class="kd">instance</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span> <span class="o">:</span> <span class="n">has_coe_t</span> <span class="o">(</span><span class="n">sym</span> <span class="n">α</span> <span class="n">n</span><span class="o">)</span> <span class="o">(</span><span class="n">multiset</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">⟨</span><span class="n">subtype.val</span><span class="o">⟩</span>

<span class="kd">@[simp]</span> <span class="kd">lemma</span> <span class="n">sym.coe_nil</span> <span class="o">:</span> <span class="o">((</span><span class="n">sym.nil</span> <span class="o">:</span> <span class="n">sym</span> <span class="n">α</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span> <span class="n">multiset</span> <span class="n">α</span><span class="o">)</span> <span class="bp">=</span> <span class="o">{}</span> <span class="o">:=</span> <span class="n">rfl</span>

<span class="kd">@[simp]</span> <span class="kd">lemma</span> <span class="n">sym.coe_cons</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">sym</span> <span class="n">α</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">((</span><span class="n">sym.cons</span> <span class="n">a</span> <span class="n">s</span><span class="o">)</span> <span class="o">:</span> <span class="n">multiset</span> <span class="n">α</span><span class="o">)</span> <span class="bp">=</span> <span class="n">a</span> <span class="o">::</span><span class="bp">ₘ</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">multiset</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">cases</span> <span class="n">s</span><span class="o">,</span>
  <span class="n">refl</span>
<span class="kd">end</span>

<span class="kd">instance</span> <span class="o">[</span><span class="n">decidable_eq</span> <span class="n">α</span><span class="o">]</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span> <span class="o">:</span> <span class="n">decidable_eq</span> <span class="o">(</span><span class="n">sym</span> <span class="n">α</span> <span class="n">n</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span>
<span class="k">if</span> <span class="n">h</span> <span class="o">:</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">multiset</span> <span class="n">α</span><span class="o">)</span> <span class="bp">=</span> <span class="n">y</span>
  <span class="k">then</span> <span class="n">is_true</span> <span class="o">(</span><span class="n">subtype.ext</span> <span class="n">h</span><span class="o">)</span>
  <span class="k">else</span> <span class="n">is_false</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">H</span><span class="o">,</span> <span class="n">h</span> <span class="o">(</span><span class="n">congr_arg</span> <span class="n">_</span> <span class="n">H</span><span class="o">))</span>

<span class="kd">notation</span> <span class="bp">`</span><span class="n">s</span><span class="o">[</span><span class="bp">`</span> <span class="n">l</span><span class="o">:(</span><span class="n">foldr</span> <span class="bp">`</span><span class="o">,</span> <span class="bp">`</span> <span class="o">(</span><span class="n">h</span> <span class="n">t</span><span class="o">,</span> <span class="n">sym.cons</span> <span class="n">h</span> <span class="n">t</span><span class="o">)</span> <span class="n">sym.nil</span> <span class="bp">`</span><span class="o">]</span><span class="bp">`</span><span class="o">)</span> <span class="o">:=</span> <span class="n">l</span>

<span class="c1">-- for some reason, wouldn't work with subtype.decidable</span>
<span class="kd">example</span> <span class="o">:</span> <span class="n">s</span><span class="o">[</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">]</span> <span class="bp">=</span> <span class="n">s</span><span class="o">[</span><span class="mi">2</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">3</span><span class="o">]</span> <span class="o">:=</span> <span class="n">dec_trivial</span>
</code></pre></div>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>