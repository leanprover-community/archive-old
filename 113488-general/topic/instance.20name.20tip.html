---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/instance.20name.20tip.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/instance.20name.20tip.html">instance name tip</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="237007413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/instance%20name%20tip/near/237007413" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/instance.20name.20tip.html#237007413">(May 01 2021 at 22:54)</a>:</h4>
<p>Well blow me down if I didn't just discover completely by accident a trick to solve a problem which has annoyed me for years.</p>
<p>Sometimes I am staring at code which says</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">instance</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">(</span><span class="n">G</span><span class="bp">ᵢ</span> <span class="o">:</span> <span class="n">ℤ</span> <span class="bp">→</span> <span class="n">add_subgroup</span> <span class="n">R</span><span class="o">)</span>
  <span class="o">[</span><span class="n">has_add_subgroup_decomposition</span> <span class="n">G</span><span class="bp">ᵢ</span><span class="o">]</span> <span class="o">[</span><span class="n">add_subgroup.is_gmonoid</span> <span class="n">G</span><span class="bp">ᵢ</span><span class="o">]</span> <span class="o">:</span>
  <span class="n">algebra</span> <span class="o">(</span><span class="n">zero_piece_subring</span> <span class="n">G</span><span class="bp">ᵢ</span><span class="o">)</span> <span class="o">(</span><span class="n">nonneg_piece_subring_of_int_grading</span> <span class="n">G</span><span class="bp">ᵢ</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">...</span>
</code></pre></div>
<p>or whatever, and thinking "I wish I knew the explicit name of that instance" (e.g. so I can explicitly feed it somewhere else). The algorithm to generate instance names is something I've never been on top of (and at least in the past depended on whether we were in the root namespace or not, although this might have changed recently).</p>
<p>Here's a stupid hack: just replace the def after the <code>:=</code> by <code>sorry #exit</code> and then <code>instance</code> gets underlined in orange, and when you click on it, it says <code>declaration 'direct_sum.has_add_subgroup_decomposition.nonneg_piece_subring_of_int_grading.algebra' uses sorry</code> <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>