---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Error.20using.20lean.20--run.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Error.20using.20lean.20--run.html">Error using lean --run</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="219520047"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Error%20using%20lean%20--run/near/219520047" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Tung Tran <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Error.20using.20lean.20--run.html#219520047">(Dec 10 2020 at 19:16)</a>:</h4>
<p>Hello everyone! I'm trying to run lean (built from source from the official leanprover/lean git repo) on my .lean file, but an error occurred:<br>
$ ../bin/lean --run src/test_lean.lean<br>
&lt;unknown&gt;:1:1: error: unknown declaration 'main'</p>
<p>I traced it back to line 646 in lean.cpp:<br>
eval_helper fn(main_env, opts, "main");</p>
<p>But I've got no clue what to do next. Also, the file test_lean.lean has the following content (which is a part of tutorial):<br>
import data.real.basic</p>
<p>example {a b c : ℝ} (hab : a ≤ b) : c + a ≤ c + b :=<br>
begin<br>
  rw ← sub_nonneg,<br>
  have key : (c + b) - (c + a) = b - a, -- Here we introduce an intermediate statement named key<br>
  { ring, },  -- and prove it between curly braces<br>
  rw key, -- we can now use the key statement<br>
  rw sub_nonneg,<br>
  exact hab,<br>
end</p>
<p>Thanks in advance!</p>



<a name="219520513"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Error%20using%20lean%20--run/near/219520513" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Error.20using.20lean.20--run.html#219520513">(Dec 10 2020 at 19:20)</a>:</h4>
<p>What are you trying to do with the --run flag? <code>lean --run file.lean</code> looks for <code>def main : io unit</code> (or possibly <code>tactic unit</code> too?) in <code>file.lean</code> and executes it.</p>



<a name="219520543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Error%20using%20lean%20--run/near/219520543" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Error.20using.20lean.20--run.html#219520543">(Dec 10 2020 at 19:20)</a>:</h4>
<p>leanprover/ or leanprover-community/?</p>



<a name="219520546"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Error%20using%20lean%20--run/near/219520546" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Error.20using.20lean.20--run.html#219520546">(Dec 10 2020 at 19:20)</a>:</h4>
<p>If your aim is just to check your example, use <code>lean file.lean</code> without the flag.</p>



<a name="219521688"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Error%20using%20lean%20--run/near/219521688" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Tung Tran <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Error.20using.20lean.20--run.html#219521688">(Dec 10 2020 at 19:26)</a>:</h4>
<p>Thanks everyone for the fast response! <br>
I was using leanprover/ (I've tried both leanprove/ and the community version, though). I was just checking as well, but having no output makes me think something was wrong. And thank you Rob, that was great help!</p>



<a name="219523157"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Error%20using%20lean%20--run/near/219523157" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Error.20using.20lean.20--run.html#219523157">(Dec 10 2020 at 19:38)</a>:</h4>
<p>Tung, since you seem to be the kind of person who wants to build everything from source and do everything the hard way, you should read <a href="https://leanprover-community.github.io/toolchain.html">https://leanprover-community.github.io/toolchain.html</a>. That's about the only community-written documentation telling the truth instead of making things look easy.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>