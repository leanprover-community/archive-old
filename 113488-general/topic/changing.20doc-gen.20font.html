---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/changing.20doc-gen.20font.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/changing.20doc-gen.20font.html">changing doc-gen font</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="269609210"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/changing%20doc-gen%20font/near/269609210" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/changing.20doc-gen.20font.html#269609210">(Jan 27 2022 at 17:41)</a>:</h4>
<p>as we can see in <a href="https://leanprover-community.github.io/mathlib_docs/find/number_field.ring_of_integers_algebra">docs#number_field.ring_of_integers_algebra</a>, the issue with weird alignment has also now extended to doc-gen. The way to fix this in the infoview is by using a font like "dejavu sans mono"; however, this is not on Google Fonts, which the current docgen uses for webfonts (and is likely much faster than locally, because of caching). So I thought i'd look for other options - what font do you all use for the infoview that avoids this issue?</p>



<a name="269609382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/changing%20doc-gen%20font/near/269609382" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/changing.20doc-gen.20font.html#269609382">(Jan 27 2022 at 17:42)</a>:</h4>
<p><a href="/user_uploads/3121/GQz5chZAuSqSLwZt7QGBsxFe/image.png">image.png</a>  whilst talking about this, I realised like all fun issues, it's machine dependent (this does not seem to happen on OS X) so here's a screenshot of the issue for those lucky to not have it [Windows 10, Firefox]</p>
<div class="message_inline_image"><a href="/user_uploads/3121/GQz5chZAuSqSLwZt7QGBsxFe/image.png" title="image.png"><img src="/user_uploads/3121/GQz5chZAuSqSLwZt7QGBsxFe/image.png"></a></div>



<a name="269609450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/changing%20doc-gen%20font/near/269609450" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/changing.20doc-gen.20font.html#269609450">(Jan 27 2022 at 17:43)</a>:</h4>
<p><a href="/user_uploads/3121/J8nK8d0KUDWHOeEgJw0hWyM0/image.png">image.png</a> <br>
Fine on Firefox+MacOS FWIW.</p>
<div class="message_inline_image"><a href="/user_uploads/3121/J8nK8d0KUDWHOeEgJw0hWyM0/image.png" title="image.png"><img src="/user_uploads/3121/J8nK8d0KUDWHOeEgJw0hWyM0/image.png"></a></div>



<a name="269609589"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/changing%20doc-gen%20font/near/269609589" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/changing.20doc-gen.20font.html#269609589">(Jan 27 2022 at 17:44)</a>:</h4>
<p>Also fine on chromium+linux.</p>



<a name="269609672"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/changing%20doc-gen%20font/near/269609672" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/changing.20doc-gen.20font.html#269609672">(Jan 27 2022 at 17:44)</a>:</h4>
<p>fine on Chrome/Windows, so seems to be a Firefox issue... drats</p>



<a name="269609697"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/changing%20doc-gen%20font/near/269609697" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/changing.20doc-gen.20font.html#269609697">(Jan 27 2022 at 17:44)</a>:</h4>
<p>Although my ùìû looks very different from yours.</p>



<a name="269609805"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/changing%20doc-gen%20font/near/269609805" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/changing.20doc-gen.20font.html#269609805">(Jan 27 2022 at 17:45)</a>:</h4>
<p>Also fine on firefox+linux.</p>



<a name="269609963"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/changing%20doc-gen%20font/near/269609963" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/changing.20doc-gen.20font.html#269609963">(Jan 27 2022 at 17:46)</a>:</h4>
<p>Fine on Chrome/MacOS</p>



<a name="269610014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/changing%20doc-gen%20font/near/269610014" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/changing.20doc-gen.20font.html#269610014">(Jan 27 2022 at 17:46)</a>:</h4>
<p>And Chrome+Windows</p>



<a name="269610056"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/changing%20doc-gen%20font/near/269610056" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/changing.20doc-gen.20font.html#269610056">(Jan 27 2022 at 17:47)</a>:</h4>
<p>I think part of the issue is that ùìû is not included in Source Code Pro, so it renders differently for every one of us.  (Here it is apparently picked up from FreeSerif???)  If you find a fallback font containing ùìû that works fine, we can add it to doc-gen.</p>



<a name="269610094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/changing%20doc-gen%20font/near/269610094" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/changing.20doc-gen.20font.html#269610094">(Jan 27 2022 at 17:47)</a>:</h4>
<p>BTW, I don't think DejaVu Sans Mono contains that glyph either.</p>



<a name="269611236"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/changing%20doc-gen%20font/near/269611236" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/changing.20doc-gen.20font.html#269611236">(Jan 27 2022 at 17:54)</a>:</h4>
<p>the rendered font on OSX Firefox seems to be one of the STIX fonts, which seem explicitly designed for mathematics and are <a href="https://fonts.google.com/specimen/STIX+Two+Text">on Google fonts</a> - should I prepare a PR using this?</p>



<a name="269620166"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/changing%20doc-gen%20font/near/269620166" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/changing.20doc-gen.20font.html#269620166">(Jan 27 2022 at 18:54)</a>:</h4>
<p>aaah it turns out the google fonts version does not include the ùìû character; I really don't want to include a whole file for this directly because of caching but I can't think of a better option currently</p>



<a name="269620532"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/changing%20doc-gen%20font/near/269620532" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/changing.20doc-gen.20font.html#269620532">(Jan 27 2022 at 18:57)</a>:</h4>
<p>There's no caching advantage to using google's copy.  Browsers disabled that sidechannel leak a long time ago.</p>



<a name="269664313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/changing%20doc-gen%20font/near/269664313" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/changing.20doc-gen.20font.html#269664313">(Jan 28 2022 at 00:36)</a>:</h4>
<p>finally sorted this - <a href="https://github.com/leanprover-community/doc-gen/pull/153">https://github.com/leanprover-community/doc-gen/pull/153</a></p>



<a name="269664336"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/changing%20doc-gen%20font/near/269664336" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/changing.20doc-gen.20font.html#269664336">(Jan 28 2022 at 00:36)</a>:</h4>
<p>if someone can tell me what the correct thing to do with licenses is, would  be much appreciated</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>