---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Embeddings.20of.20a.20.20number.20field.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Embeddings.20of.20a.20.20number.20field.html">Embeddings of a  number field</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="286708377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Embeddings%20of%20a%20%20number%20field/near/286708377" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Xavier Roblot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Embeddings.20of.20a.20.20number.20field.html#286708377">(Jun 19 2022 at 12:53)</a>:</h4>
<p>I am currently working on defining and proving basic results on the embeddings of a number field <code>K</code>  into an algebraic closed field <code>A</code> of char. 0. There are two natural choices to define those: we can see them as plain ring homomorphisms <code> K →+* A</code> or as <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">Q</mi></mrow><annotation encoding="application/x-tex">\mathbb{Q}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8556em;vertical-align:-0.1667em;"></span><span class="mord mathbb">Q</span></span></span></span>-algebra homomorphisms <code>K →ₐ[ℚ] A</code>. Of course, these are equivalent  thanks to <a href="https://leanprover-community.github.io/mathlib_docs/find/ring_hom.equiv_rat_alg_hom">docs#ring_hom.equiv_rat_alg_hom</a>.<br>
The goal of this thread is to discuss between these two choices and come up (hopefully) with a decision.</p>



<a name="286708535"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Embeddings%20of%20a%20%20number%20field/near/286708535" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Embeddings.20of.20a.20.20number.20field.html#286708535">(Jun 19 2022 at 12:57)</a>:</h4>
<p>I would go with plain ring homomorphisms. There are diamonds lurking here IIRC. Why not keep things as simple as possible? I would love to see a proof of the formula for the rank of the unit group of a number field btw!</p>



<a name="286708536"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Embeddings%20of%20a%20%20number%20field/near/286708536" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Xavier Roblot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Embeddings.20of.20a.20.20number.20field.html#286708536">(Jun 19 2022 at 12:57)</a>:</h4>
<p>/poll Embeddings of a number field<br>
Ring hom. <code> K →+* A</code><br>
Alg. hom.  <code>K →ₐ[ℚ] A</code></p>



<a name="286708600"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Embeddings%20of%20a%20%20number%20field/near/286708600" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Embeddings.20of.20a.20.20number.20field.html#286708600">(Jun 19 2022 at 12:59)</a>:</h4>
<p>I agree with Kevin. The <code>algebra_rat</code> diamond is really annoying.</p>



<a name="286708604"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Embeddings%20of%20a%20%20number%20field/near/286708604" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Embeddings.20of.20a.20.20number.20field.html#286708604">(Jun 19 2022 at 12:59)</a>:</h4>
<p>I would also guess that many of the basic things you can prove about these will work in any characteristic.</p>



<a name="286712997"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Embeddings%20of%20a%20%20number%20field/near/286712997" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Embeddings.20of.20a.20.20number.20field.html#286712997">(Jun 19 2022 at 14:38)</a>:</h4>
<p>Oh but then you would also want to work over the base field, which might not be a prime field.</p>



<a name="286763923"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Embeddings%20of%20a%20%20number%20field/near/286763923" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Embeddings.20of.20a.20.20number.20field.html#286763923">(Jun 20 2022 at 08:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="130384">Riccardo Brasca</span> <a href="#narrow/stream/113488-general/topic/Embeddings.20of.20a.20.20number.20field/near/286708600">said</a>:</p>
<blockquote>
<p>I agree with Kevin. The <code>algebra_rat</code> diamond is really annoying.</p>
</blockquote>
<p><span class="user-mention" data-user-id="127136">@Alex J. Best</span> did you get around to dealing with this diamond in the last days? Otherwise I'd like to take a shot at it this afternoon.</p>



<a name="286793968"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Embeddings%20of%20a%20%20number%20field/near/286793968" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Embeddings.20of.20a.20.20number.20field.html#286793968">(Jun 20 2022 at 13:22)</a>:</h4>
<p>No I didn't look at this one got too distracted by eta for structures type diamonds.</p>



<a name="286802325"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Embeddings%20of%20a%20%20number%20field/near/286802325" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Embeddings.20of.20a.20.20number.20field.html#286802325">(Jun 20 2022 at 14:25)</a>:</h4>
<p>Anyone assessed difficulty of backporting structure eta defeq?</p>



<a name="309566399"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Embeddings%20of%20a%20%20number%20field/near/309566399" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Xavier Roblot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Embeddings.20of.20a.20.20number.20field.html#309566399">(Nov 14 2022 at 10:18)</a>:</h4>
<p>I am reviving this old thread to discuss the next step after embeddings of a number field that is places of a number field. </p>
<p>For <code>K</code> a number field and <code>φ : K →+* A</code> an embedding into a <code>normed_division_ring A</code>, I define the place associated to <code>φ</code> by <code>place K φ := norm ∘ φ</code>. (I guess at some point I should prove that all the places of <code>K</code> - in the usual sense of equivalent classes of absolute values -, are obtained that way. I am not sure if Ostrowski theorem is in Lean yet.) I am interested to know if people agree with this definition or have some better ideas on how to proceed. </p>
<p>For the moment, I am working on infinite places of <code>K</code>, that is the case <code>A = ℂ</code>. I have proved (with some difficulties) that two embeddings into <code>ℂ</code> define the same infinite place iff they are equal or complex conjugate (<a href="https://github.com/leanprover-community/mathlib/pull/17285">#17285</a>, still WIP). My next step is to prove that the number of places defined by real embeddings is the number of real embeddings and the number of places defined by complex embeddings is half the number of complex embeddings. Well, in fact, I have an almost complete proof of these facts but it is pretty ugly and not satisfactory in many ways... </p>
<p>I would like to get some advice / suggestions concerning the following points:</p>
<ul>
<li>
<p>I need to work with the set of embeddings into <code>ℂ</code> and the set of infinite places and their cardinalities. Is it better to defined those as <code>fintype</code>, <code>finset</code> or <code>set.finite</code>? So far, I have worked with <code>fintype</code>.</p>
</li>
<li>
<p>I think it would be useful for applications to be able to work with the set of embeddings into <code>ℂ</code> modulo the equivalence relation "define the same place" or a set of representatives of the embeddings modulo this relation. What is the best way to do that? Should I use <code>setoid</code>? Is there another / better way to do that? </p>
</li>
<li>
<p>What would be the lemmas /methods I could use to prove that the number of places defined by complex embeddings is half the number of complex embeddings? I have been using <a href="https://leanprover-community.github.io/mathlib_docs/find/fintype.sum_fiberwise">docs#fintype.sum_fiberwise</a>, but I find myself having to deal with quite a lot of technical difficulties so I am suspecting there is a better way to proceed.</p>
</li>
</ul>



<a name="309566839"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Embeddings%20of%20a%20%20number%20field/near/309566839" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Embeddings.20of.20a.20.20number.20field.html#309566839">(Nov 14 2022 at 10:21)</a>:</h4>
<p>Ostrowski's theorem is one of the projects people worked on during this september's Xena workshop. Students are still on it.</p>



<a name="309567241"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Embeddings%20of%20a%20%20number%20field/near/309567241" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Embeddings.20of.20a.20.20number.20field.html#309567241">(Nov 14 2022 at 10:23)</a>:</h4>
<p>There's Ostrowski for Q somewhere, but not the function/number field Version AFAIK</p>



<a name="309571365"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Embeddings%20of%20a%20%20number%20field/near/309571365" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Embeddings.20of.20a.20.20number.20field.html#309571365">(Nov 14 2022 at 10:49)</a>:</h4>
<p>Concerning your first question, we have to think if it is better to have the embeddings as a new type or a (fin)set of type <code>K →+* ℂ</code>. Do you think usually one has a ring hom and at some point they want to consider is as an embedding or rather one starts with an embedding in the first place?</p>



<a name="309571786"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Embeddings%20of%20a%20%20number%20field/near/309571786" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Embeddings.20of.20a.20.20number.20field.html#309571786">(Nov 14 2022 at 10:51)</a>:</h4>
<p>The second question is similar, we have to figure out if it's more common to say that two embedding are equivalent or to speak about the equivalence class. In my opinion the actual equivalence class will be less useful, since one cannot apply it to elements, but I am not sure. In any case we surely want the <code>setoid</code>.</p>



<a name="309572024"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Embeddings%20of%20a%20%20number%20field/near/309572024" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Embeddings.20of.20a.20.20number.20field.html#309572024">(Nov 14 2022 at 10:53)</a>:</h4>
<p>Isn't proving that all the equivalence classes have cardinality <code>2</code> enough? Or maybe this is the difficult part?</p>



<a name="309574366"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Embeddings%20of%20a%20%20number%20field/near/309574366" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Embeddings.20of.20a.20.20number.20field.html#309574366">(Nov 14 2022 at 11:07)</a>:</h4>
<p>The Xena Ostrowski is the general one.</p>



<a name="309583286"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Embeddings%20of%20a%20%20number%20field/near/309583286" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Xavier Roblot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Embeddings.20of.20a.20.20number.20field.html#309583286">(Nov 14 2022 at 12:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="130384">Riccardo Brasca</span> <a href="#narrow/stream/113488-general/topic/Embeddings.20of.20a.20.20number.20field/near/309571365">said</a>:</p>
<blockquote>
<p>Concerning your first question, we have to think if it is better to have the embeddings as a new type or a (fin)set of type <code>K →+* ℂ</code>. Do you think usually one has a ring hom and at some point they want to consider is as an embedding or rather one starts with an embedding in the first place?</p>
</blockquote>
<p>Embeddings are fine since they are exactly <code>(K→+* ℂ)</code> so they are naturally a type. For places, I am inclined to use type for the time being since I am more confortable with those. </p>
<blockquote>
<p>The second question is similar, we have to figure out if it's more common to say that two embedding are equivalent or to speak about the equivalence class. In my opinion the actual equivalence class will be less useful, since one cannot apply it to elements, but I am not sure. In any case we surely want the <code>setoid</code>.</p>
</blockquote>
<p>I agree that the equivalence class would be less useful. I'll define the <code>setoid</code></p>
<blockquote>
<p>Isn't proving that all the equivalence classes have cardinality <code>2</code> enough? Or maybe this is the difficult part?</p>
</blockquote>
<p>It is not that it is difficult but more that it is painful. I'll see if I can do it in a better way.</p>



<a name="309586000"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Embeddings%20of%20a%20%20number%20field/near/309586000" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Embeddings.20of.20a.20.20number.20field.html#309586000">(Nov 14 2022 at 12:17)</a>:</h4>
<p>Ah I see, you question is about places. Then I think having the <code>finset</code> would be nice.</p>



<a name="309587303"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Embeddings%20of%20a%20%20number%20field/near/309587303" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Embeddings.20of.20a.20.20number.20field.html#309587303">(Nov 14 2022 at 12:27)</a>:</h4>
<p>Sorry, I already changed my mind. The type of (the elements of) this <code>finset</code> is less clear, so maybe let's just go with a <code>fintype</code>.</p>



<a name="309592018"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Embeddings%20of%20a%20%20number%20field/near/309592018" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Embeddings.20of.20a.20.20number.20field.html#309592018">(Nov 14 2022 at 12:56)</a>:</h4>
<p>What did Maria Ines do in her work on adeles?</p>



<a name="309911990"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Embeddings%20of%20a%20%20number%20field/near/309911990" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> María Inés de Frutos Fernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Embeddings.20of.20a.20.20number.20field.html#309911990">(Nov 14 2022 at 17:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/113488-general/topic/Embeddings.20of.20a.20.20number.20field/near/309574366">said</a>:</p>
<blockquote>
<p>The Xena Ostrowski is the general one.</p>
</blockquote>
<p>I think so far the students have been working on the rational case and the K(X) case, but they haven't yet thought about the general number/function field case.</p>



<a name="309912511"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Embeddings%20of%20a%20%20number%20field/near/309912511" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> María Inés de Frutos Fernández <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Embeddings.20of.20a.20.20number.20field.html#309912511">(Nov 14 2022 at 17:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113488-general/topic/Embeddings.20of.20a.20.20number.20field/near/309592018">said</a>:</p>
<blockquote>
<p>What did Maria Ines do in her work on adeles?</p>
</blockquote>
<p>I didn't write a definition of infinite place for my work on adèles (I got the infinite part of the adèle ring as ℝ ⊗[ℚ] K).</p>



<a name="309914248"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Embeddings%20of%20a%20%20number%20field/near/309914248" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Embeddings.20of.20a.20.20number.20field.html#309914248">(Nov 14 2022 at 17:40)</a>:</h4>
<p>Ah sorry! I thought so</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>