---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/simp.20hole.20command.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/simp.20hole.20command.html">simp hole command</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="196054090"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/simp%20hole%20command/near/196054090" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/simp.20hole.20command.html#196054090">(May 02 2020 at 14:25)</a>:</h4>
<p>I saw that <code>squeeze_simp</code> now has a hole command that allows you to replace it with its output. Could we also add a hole command to regular <code>simp</code> that will say "replace me by <code>squeeze_simp</code>, and after that by the output of <code>squeeze_simp</code>"?</p>



<a name="196054900"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/simp%20hole%20command/near/196054900" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/simp.20hole.20command.html#196054900">(May 02 2020 at 14:47)</a>:</h4>
<p>Do you mean "code action" by "hole command"?  (Hole commands are <code>{!!}</code>.)</p>



<a name="196055331"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/simp%20hole%20command/near/196055331" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/simp.20hole.20command.html#196055331">(May 02 2020 at 14:59)</a>:</h4>
<p>I guess I mean "code action". The thing that gives you a <span aria-label="bulb" class="emoji emoji-1f4a1" role="img" title="bulb">:bulb:</span> in VScode</p>



<a name="196055336"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/simp%20hole%20command/near/196055336" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/simp.20hole.20command.html#196055336">(May 02 2020 at 14:59)</a>:</h4>
<p>I guess hole commands are a special case?</p>



<a name="196055340"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/simp%20hole%20command/near/196055340" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/simp.20hole.20command.html#196055340">(May 02 2020 at 14:59)</a>:</h4>
<p>Or one is implemented via the other?</p>



<a name="196055559"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/simp%20hole%20command/near/196055559" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/simp.20hole.20command.html#196055559">(May 02 2020 at 15:04)</a>:</h4>
<p>There is a code action for hole commands (<code>{!!}</code>).</p>



<a name="196055593"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/simp%20hole%20command/near/196055593" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/simp.20hole.20command.html#196055593">(May 02 2020 at 15:05)</a>:</h4>
<p>You could add a code action that checks if the word <code>simp</code> is under the cursor and then prompts to prepend <code>squeeze_</code>.</p>



<a name="196055657"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/simp%20hole%20command/near/196055657" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/simp.20hole.20command.html#196055657">(May 02 2020 at 15:06)</a>:</h4>
<p>But could it do both in one go?</p>



<a name="196056283"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/simp%20hole%20command/near/196056283" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/simp.20hole.20command.html#196056283">(May 02 2020 at 15:21)</a>:</h4>
<p>If you're good with javascript, sure.</p>



<a name="196067355"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/simp%20hole%20command/near/196067355" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Steffan <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/simp.20hole.20command.html#196067355">(May 02 2020 at 19:53)</a>:</h4>
<p>thats me</p>



<a name="196067408"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/simp%20hole%20command/near/196067408" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Steffan <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/simp.20hole.20command.html#196067408">(May 02 2020 at 19:54)</a>:</h4>
<p>why do you need JS for that tho?<br>
more like, you don't put JS in Lean, right? x)</p>



<a name="196067415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/simp%20hole%20command/near/196067415" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/simp.20hole.20command.html#196067415">(May 02 2020 at 19:54)</a>:</h4>
<p>The VS code extension is written in TypeScript</p>



<a name="196067418"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/simp%20hole%20command/near/196067418" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Steffan <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/simp.20hole.20command.html#196067418">(May 02 2020 at 19:54)</a>:</h4>
<p>Oh</p>



<a name="196067421"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/simp%20hole%20command/near/196067421" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/simp.20hole.20command.html#196067421">(May 02 2020 at 19:54)</a>:</h4>
<p><a href="https://github.com/leanprover/vscode-lean" title="https://github.com/leanprover/vscode-lean">https://github.com/leanprover/vscode-lean</a></p>



<a name="196067424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/simp%20hole%20command/near/196067424" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Steffan <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/simp.20hole.20command.html#196067424">(May 02 2020 at 19:54)</a>:</h4>
<p>Well I don't do that stuff.</p>



<a name="196067426"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/simp%20hole%20command/near/196067426" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/simp.20hole.20command.html#196067426">(May 02 2020 at 19:54)</a>:</h4>
<p>like all VS code extensions I guess</p>



<a name="196067441"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/simp%20hole%20command/near/196067441" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Steffan <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/simp.20hole.20command.html#196067441">(May 02 2020 at 19:55)</a>:</h4>
<p>yes, I don't know how to do a vscode extension tho.</p>



<a name="196069417"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/simp%20hole%20command/near/196069417" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/simp.20hole.20command.html#196069417">(May 02 2020 at 20:47)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> What you describe sounds possible, though I don't see a non-hacky way to do it. The issue is that I don't know how to get the <code>squeeze_simp</code> output from Lean without modifying the file. It'd be much nicer if we had an interface to have the Lean server evaluate some code without adding it to the file. I guess that's what the hole commands are for, but it's annoying to have to add <code>{!!}</code> whenever we want to use them (and apparently we also can't use them in tactics).</p>
<p>Anyways I won't have time to tackle it in the near future, but if you open an issue at the vscode-lean repo I'll try and circle back to this when I can. I do think we could try and add more code actions (particularly relating to linting).</p>



<a name="196069895"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/simp%20hole%20command/near/196069895" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/simp.20hole.20command.html#196069895">(May 02 2020 at 21:00)</a>:</h4>
<p><span class="user-mention" data-user-id="123965">@Bryan Gin-ge Chen</span> voila: <a href="https://github.com/leanprover/vscode-lean/issues/157" title="https://github.com/leanprover/vscode-lean/issues/157">https://github.com/leanprover/vscode-lean/issues/157</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>