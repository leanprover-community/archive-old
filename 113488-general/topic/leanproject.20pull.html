---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/leanproject.20pull.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html">leanproject pull</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="233615428"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/233615428" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#233615428">(Apr 08 2021 at 07:52)</a>:</h4>
<p>Should there be a <code>leanproject pull</code> that does <code>git pull</code> and <code>leanproject get-mathlib-cache</code>?<br>
I see people getting confused by changed tomls and lots of breaking code because they use <code>leanproject up</code>.</p>



<a name="233615711"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/233615711" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#233615711">(Apr 08 2021 at 07:55)</a>:</h4>
<p>What happens if it pulls, but the oleans haven't been uploaded yet?</p>



<a name="233616033"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/233616033" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#233616033">(Apr 08 2021 at 07:59)</a>:</h4>
<p>I think that's unlikely to happen. If people only use <code>leanproject up</code> to bump mathlib, and then push. Then others can <code>lp pull</code> to see the results.</p>



<a name="233616367"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/233616367" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#233616367">(Apr 08 2021 at 08:02)</a>:</h4>
<p>Isn't this what the git hooks that leanproject provides were meant to be for?</p>



<a name="233616390"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/233616390" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#233616390">(Apr 08 2021 at 08:02)</a>:</h4>
<p>So that <code>git pull</code> gets the cache</p>



<a name="233616492"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/233616492" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#233616492">(Apr 08 2021 at 08:03)</a>:</h4>
<p>But also so does <code>git checkout some_old_branch_with_an_older_mathlib</code></p>



<a name="233618509"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/233618509" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#233618509">(Apr 08 2021 at 08:26)</a>:</h4>
<p>I never use <code>leanproject up</code> because I don't really understand what it does. For the liquid project I always do <code>git pull</code>, <code>leanproject get-m</code>, <code>leanproject build</code>.</p>



<a name="233618759"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/233618759" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#233618759">(Apr 08 2021 at 08:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113488-general/topic/leanproject.20pull/near/233616367">said</a>:</p>
<blockquote>
<p>Isn't this what the git hooks that leanproject provides were meant to be for?</p>
</blockquote>
<p>Probably, but maybe <code>lp pull</code> could still do the same thing?</p>



<a name="253863452"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/253863452" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#253863452">(Sep 18 2021 at 12:01)</a>:</h4>
<p>I just added a <code>pull</code> command to leanproject because the combination  <code>git pull &amp;&amp; leanproject get-mathlib-cache</code> (or<code>git pull &amp;&amp; leanproject get-cache</code> when working on mathlib) is so common and requires some additional care when upstream bumps mathlib. Please upgrade your <code>leanproject</code> using <code>pip install -U mathlibtools</code> and report any issue.</p>



<a name="253884521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/253884521" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#253884521">(Sep 18 2021 at 18:09)</a>:</h4>
<p>I just tried this on LTE, and it seems to work flawlessly</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>$ lp pull
Pulling from origin
Looking <span class="k">for</span> lean-liquid oleans <span class="k">for</span> a80e1d714
  locally...
  Found <span class="nb">local</span> lean-liquid oleans
Located matching cache
Applying cache
  files extracted: <span class="m">1721</span> <span class="o">[</span><span class="m">00</span>:07, <span class="m">244</span>.17/s<span class="o">]</span>
</code></pre></div>



<a name="254007396"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/254007396" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#254007396">(Sep 20 2021 at 07:19)</a>:</h4>
<p>Works perfectly for me as well.</p>



<a name="254035888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/254035888" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#254035888">(Sep 20 2021 at 11:43)</a>:</h4>
<p>Hmm, I'm having trouble with this in LTE:</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>lean-liquid$ leanproject get-mathlib-cache
SHA b<span class="s1">'fbc9e5e306b8cd0a8ecccdb759ca09f16c44af86'</span> could not be resolved, git returned: b<span class="s1">'fbc9e5e306b8cd0a8ecccdb759ca09f16c44af86 missing'</span>
</code></pre></div>



<a name="254036126"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/254036126" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#254036126">(Sep 20 2021 at 11:45)</a>:</h4>
<p>Hmm, I think there's a missing <code>git fetch</code> that I might have removed by accident</p>



<a name="254036233"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/254036233" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#254036233">(Sep 20 2021 at 11:46)</a>:</h4>
<p>Probably because I thought it made no sense for <code>get-cache</code>. Clearly it makes sense for <code>get-mathlib-cache</code></p>



<a name="254036626"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/254036626" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#254036626">(Sep 20 2021 at 11:50)</a>:</h4>
<p>Can you run with <code>--debug</code> to get the full traceback?</p>



<a name="254036929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/254036929" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#254036929">(Sep 20 2021 at 11:53)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span> sorry, I already did a <code>cd _target/deps/mathlib</code> and <code>leanproject get-cache</code>. Now the problem is no longer reproducible.</p>



<a name="254036958"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/254036958" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#254036958">(Sep 20 2021 at 11:53)</a>:</h4>
<p>Probably after another mathlib bump I can post the debug trace.</p>



<a name="254844705"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/254844705" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#254844705">(Sep 25 2021 at 14:39)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span> This is not the output I am looking for, right?</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>lp get-mathlib-cache
Looking <span class="k">for</span> lean-liquid oleans <span class="k">for</span> 6ea816834
  locally...
  Found <span class="nb">local</span> lean-liquid oleans
Located matching cache
Applying cache
  files extracted: <span class="m">1752</span> <span class="o">[</span><span class="m">00</span>:07, <span class="m">235</span>.14/s<span class="o">]</span>
</code></pre></div>
<p>I think it did what I intended: extracting 1752 files looks like it was working with mathlib oleans. But the output is talking about <code>lean-liquid</code> oleans. Is that a bug?</p>



<a name="254846299"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/254846299" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#254846299">(Sep 25 2021 at 15:02)</a>:</h4>
<p>Oh whoops, that's a bug for sure!</p>



<a name="254846326"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/254846326" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#254846326">(Sep 25 2021 at 15:02)</a>:</h4>
<p>I guess the project name is populated wrongly in get-mathlib-cache</p>



<a name="254846462"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/254846462" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#254846462">(Sep 25 2021 at 15:04)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib-tools/blob/89426c098138f2c1270f05eca59360354863fd25/mathlibtools/lib.py#L583">https://github.com/leanprover-community/mathlib-tools/blob/89426c098138f2c1270f05eca59360354863fd25/mathlibtools/lib.py#L583</a> is the wrong line</p>



<a name="254846500"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/254846500" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#254846500">(Sep 25 2021 at 15:05)</a>:</h4>
<p><code>self.name</code> should be <code>"mathlib"</code></p>



<a name="257057846"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/257057846" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#257057846">(Oct 11 2021 at 12:37)</a>:</h4>
<p>I just had the same error (ping)</p>



<a name="257058743"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/257058743" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#257058743">(Oct 11 2021 at 12:45)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib-tools/pull/119">https://github.com/leanprover-community/mathlib-tools/pull/119</a> fixes the bug in the message</p>



<a name="257059271"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/257059271" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#257059271">(Oct 11 2021 at 12:49)</a>:</h4>
<p>CI fails on that PR, but it fails on master too (due to updates to <code>mypy</code>)</p>



<a name="257109205"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/257109205" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#257109205">(Oct 11 2021 at 19:51)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span> Do you know what changed in mypy?</p>



<a name="257109307"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/257109307" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#257109307">(Oct 11 2021 at 19:52)</a>:</h4>
<p>No idea, it looks like it was already broken in the last commit you pushed. Presumably it just got cleverer and looks for things it didn't look for before</p>



<a name="257109371"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/257109371" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#257109371">(Oct 11 2021 at 19:52)</a>:</h4>
<p>Too bad, it sounded like you had something precise in mind</p>



<a name="257109384"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/257109384" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#257109384">(Oct 11 2021 at 19:52)</a>:</h4>
<p>I'll investigate</p>



<a name="257109448"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/257109448" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#257109448">(Oct 11 2021 at 19:53)</a>:</h4>
<p>I had a quick look; maybe it's an upstream bug in GitPython?</p>



<a name="257109450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/257109450" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#257109450">(Oct 11 2021 at 19:53)</a>:</h4>
<p><a href="https://github.com/gitpython-developers/GitPython/issues/1095">https://github.com/gitpython-developers/GitPython/issues/1095</a></p>



<a name="257109464"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/257109464" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#257109464">(Oct 11 2021 at 19:53)</a>:</h4>
<p>Previously it had no type information, now it seems to have incomplete ones</p>



<a name="257109587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/257109587" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#257109587">(Oct 11 2021 at 19:55)</a>:</h4>
<p>A better issue link is <a href="https://github.com/gitpython-developers/GitPython/issues/1349">https://github.com/gitpython-developers/GitPython/issues/1349</a></p>



<a name="257109604"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/257109604" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#257109604">(Oct 11 2021 at 19:55)</a>:</h4>
<p>At any rate, the fix is probably just to tell mypy to be quiet somehow</p>



<a name="257109998"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/257109998" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#257109998">(Oct 11 2021 at 19:59)</a>:</h4>
<p>From the error log:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">mathlibtools</span><span class="bp">/</span><span class="n">git_helpers.py</span><span class="o">:</span><span class="mi">5</span><span class="o">:</span> <span class="n">error</span><span class="o">:</span> <span class="n">Name</span> <span class="s2">"git.Commit"</span> <span class="n">is</span> <span class="n">not</span> <span class="n">defined</span>
<span class="n">mathlibtools</span><span class="bp">/</span><span class="n">git_helpers.py</span><span class="o">:</span><span class="mi">10</span><span class="o">:</span> <span class="n">error</span><span class="o">:</span> <span class="n">Name</span> <span class="s2">"git.Commit"</span> <span class="n">is</span> <span class="n">not</span> <span class="n">defined</span>
<span class="n">mathlibtools</span><span class="bp">/</span><span class="n">git_helpers.py</span><span class="o">:</span><span class="mi">58</span><span class="o">:</span> <span class="n">error</span><span class="o">:</span> <span class="n">Name</span> <span class="s2">"git.Commit"</span> <span class="n">is</span> <span class="n">not</span> <span class="n">defined</span>
<span class="n">mathlibtools</span><span class="bp">/</span><span class="n">git_helpers.py</span><span class="o">:</span><span class="mi">63</span><span class="o">:</span> <span class="n">error</span><span class="o">:</span> <span class="n">Module</span> <span class="n">has</span> <span class="n">no</span> <span class="kn">attribute</span> <span class="s2">"Commit"</span>
<span class="n">mathlibtools</span><span class="bp">/</span><span class="n">lib.py</span><span class="o">:</span><span class="mi">429</span><span class="o">:</span> <span class="n">error</span><span class="o">:</span> <span class="n">Incompatible</span> <span class="n">types</span> <span class="k">in</span> <span class="n">assignment</span> <span class="o">(</span><span class="n">expression</span> <span class="n">has</span> <span class="n">type</span> <span class="s2">"None"</span><span class="o">,</span> <span class="kd">variable</span> <span class="n">has</span> <span class="n">type</span> <span class="s2">"Repo"</span><span class="o">)</span>
<span class="n">mathlibtools</span><span class="bp">/</span><span class="n">lib.py</span><span class="o">:</span><span class="mi">673</span><span class="o">:</span> <span class="n">error</span><span class="o">:</span> <span class="n">Argument</span> <span class="mi">1</span> <span class="n">to</span> <span class="s2">"Path"</span> <span class="n">has</span> <span class="n">incompatible</span> <span class="n">type</span> <span class="s2">"Union[str, PathLike[Any], None]"</span><span class="bp">;</span> <span class="n">expected</span> <span class="s2">"Union[str, PathLike[str]]"</span>
<span class="n">mathlibtools</span><span class="bp">/</span><span class="n">lib.py</span><span class="o">:</span><span class="mi">954</span><span class="o">:</span> <span class="n">error</span><span class="o">:</span> <span class="n">Unsupported</span> <span class="n">right</span> <span class="n">operand</span> <span class="n">type</span> <span class="n">for</span> <span class="k">in</span> <span class="o">(</span><span class="s2">"Callable[[], IterableList[Head]]"</span><span class="o">)</span>
</code></pre></div>
<p>The first four and the last one are probably a bug in the upstream mypy stubs, the 5th is mypy being annoying because it now knows how to ask what type something is and can't deduce <code>Optional[T]</code> from <code>if x then: y = z else y = None</code>, the 6th looks like a mixture of an actual possible crash in a corner case we don't care about and some <code>str</code>/<code>bytes</code> stupidity, and the last one also looks like a bug</p>



<a name="257111833"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/257111833" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#257111833">(Oct 11 2021 at 20:16)</a>:</h4>
<p>I can confirm I locally managed to go from zero error to errors with updating GitPython (without updating mypy)</p>



<a name="257112073"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/257112073" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#257112073">(Oct 11 2021 at 20:19)</a>:</h4>
<p>Maybe we just pin gitpython for now?</p>



<a name="257112272"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/257112272" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#257112272">(Oct 11 2021 at 20:21)</a>:</h4>
<p>No, I think I can fix things anyway.</p>



<a name="257112922"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/leanproject%20pull/near/257112922" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/leanproject.20pull.html#257112922">(Oct 11 2021 at 20:28)</a>:</h4>
<p>There was one remaining weird failure, I gave up on that one.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>