---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/superscripts.20in.20identifiers.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/superscripts.20in.20identifiers.html">superscripts in identifiers</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="272446793"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/superscripts%20in%20identifiers/near/272446793" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/superscripts.20in.20identifiers.html#272446793">(Feb 18 2022 at 19:34)</a>:</h4>
<p>Are superscripts not supported in identifiers? I just tried <code>def aᵉ : ℕ := 1</code> and it does not work.</p>



<a name="272448609"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/superscripts%20in%20identifiers/near/272448609" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/superscripts.20in.20identifiers.html#272448609">(Feb 18 2022 at 19:51)</a>:</h4>
<p><a href="https://github.com/leanprover-community/lean/blob/65ad4ffdb3abac75be748554e3cbe990fb1c6500/src/util/name.cpp#L28-L56">https://github.com/leanprover-community/lean/blob/65ad4ffdb3abac75be748554e3cbe990fb1c6500/src/util/name.cpp#L28-L56</a> is the source code, as you can see it's not entirely simple to say what is and isn't valid. But not every unicode character is for sure.</p>



<a name="272448799"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/superscripts%20in%20identifiers/near/272448799" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/superscripts.20in.20identifiers.html#272448799">(Feb 18 2022 at 19:52)</a>:</h4>
<p>Numeric subscripts work.</p>



<a name="272449218"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/superscripts%20in%20identifiers/near/272449218" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/superscripts.20in.20identifiers.html#272449218">(Feb 18 2022 at 19:56)</a>:</h4>
<p>Interesting. There was a time when I thought that Lean's unicode support was as good as Agda's, but I guess not. If I make a PR with a <code>is_sup_script_alnum_unicode</code>, do you think it would get merged?</p>



<a name="272449553"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/superscripts%20in%20identifiers/near/272449553" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/superscripts.20in.20identifiers.html#272449553">(Feb 18 2022 at 19:57)</a>:</h4>
<p>You can always use french quotes:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="bp">«</span><span class="n">a</span><span class="bp">ᵉ»</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="o">:=</span> <span class="mi">1</span>
<span class="k">#check</span> <span class="bp">«</span><span class="n">a</span><span class="bp">ᵉ»</span>
</code></pre></div>



<a name="272449675"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/superscripts%20in%20identifiers/near/272449675" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/superscripts.20in.20identifiers.html#272449675">(Feb 18 2022 at 19:58)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="bp">«</span><span class="n">my</span> <span class="n">little</span> <span class="n">nat</span><span class="bp">»</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="o">:=</span> <span class="mi">1</span>
<span class="k">#check</span> <span class="bp">«</span><span class="n">my</span> <span class="n">little</span> <span class="n">nat</span><span class="bp">»</span>
</code></pre></div>



<a name="272449724"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/superscripts%20in%20identifiers/near/272449724" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/superscripts.20in.20identifiers.html#272449724">(Feb 18 2022 at 19:58)</a>:</h4>
<p>Via <code>\f&lt;&lt;&gt;&gt;</code></p>



<a name="272449770"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/superscripts%20in%20identifiers/near/272449770" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/superscripts.20in.20identifiers.html#272449770">(Feb 18 2022 at 19:58)</a>:</h4>
<p>Oh, I didn't know about the french quotes. Nice.</p>



<a name="272450966"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/superscripts%20in%20identifiers/near/272450966" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/superscripts.20in.20identifiers.html#272450966">(Feb 18 2022 at 20:06)</a>:</h4>
<p>I guess, <span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> knows exactly what parts of Unicode are supported without french quotes and where to add more in the lean source.</p>



<a name="272450972"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/superscripts%20in%20identifiers/near/272450972" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/superscripts.20in.20identifiers.html#272450972">(Feb 18 2022 at 20:06)</a>:</h4>
<p>You can also make notations for things you want to look a specific way rather than have them be identifiers</p>



<a name="272452398"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/superscripts%20in%20identifiers/near/272452398" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/superscripts.20in.20identifiers.html#272452398">(Feb 18 2022 at 20:20)</a>:</h4>
<p>The reason this is not supported is because <code>ᵉ</code> should be notation.  The official list of supported Unicode classes is here: <a href="https://github.com/leanprover-community/lean/blob/402f41cdedbd46a368fb7807bebe83550d887631/src/util/name.cpp#L27-L56">https://github.com/leanprover-community/lean/blob/402f41cdedbd46a368fb7807bebe83550d887631/src/util/name.cpp#L27-L56</a></p>



<a name="272452520"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/superscripts%20in%20identifiers/near/272452520" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/superscripts.20in.20identifiers.html#272452520">(Feb 18 2022 at 20:21)</a>:</h4>
<p>I'm happy to merge additions to the Lean 3 list iff they are added to Lean 4.  (Please just stick to the current set of allowed identifiers.)</p>



<a name="272452605"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/superscripts%20in%20identifiers/near/272452605" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/superscripts.20in.20identifiers.html#272452605">(Feb 18 2022 at 20:22)</a>:</h4>
<p>There is indeed a cost in supporting lot of unicode in identifier names. It makes things unusable as notations without putting spaces everywhere.</p>



<a name="272453622"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/superscripts%20in%20identifiers/near/272453622" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/superscripts.20in.20identifiers.html#272453622">(Feb 18 2022 at 20:30)</a>:</h4>
<p>I didn't realize that you end up with problems regarding notation if you also allowed them as identifiers. I don't seem to have this problem when I define notation using normal ascii characters.</p>



<a name="272454082"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/superscripts%20in%20identifiers/near/272454082" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/superscripts.20in.20identifiers.html#272454082">(Feb 18 2022 at 20:35)</a>:</h4>
<p>Are you sure?</p>



<a name="272454205"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/superscripts%20in%20identifiers/near/272454205" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/superscripts.20in.20identifiers.html#272454205">(Feb 18 2022 at 20:36)</a>:</h4>
<p>Try</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">postfix</span> <span class="bp">`</span><span class="n">aaa</span><span class="bp">`</span><span class="o">:</span><span class="mi">100</span> <span class="o">:=</span> <span class="n">nat.succ</span>
<span class="kd">postfix</span> <span class="bp">`ᵉ`</span><span class="o">:</span><span class="mi">100</span> <span class="o">:=</span> <span class="n">nat.succ</span>

<span class="kd">lemma</span> <span class="n">baaa</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">naaa</span> <span class="bp">=</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span> <span class="o">:=</span> <span class="n">rfl</span>
<span class="kd">lemma</span> <span class="n">booo</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">n</span><span class="bp">ᵉ</span> <span class="bp">=</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span> <span class="o">:=</span> <span class="n">rfl</span>
</code></pre></div>



<a name="272454659"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/superscripts%20in%20identifiers/near/272454659" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/superscripts.20in.20identifiers.html#272454659">(Feb 18 2022 at 20:41)</a>:</h4>
<p>Yeah, maybe it fails with <code>postfix</code>, but I can do this without problem:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">notation</span> <span class="n">x</span> <span class="bp">`</span><span class="n">foobar</span><span class="bp">`</span> <span class="n">y</span> <span class="o">:=</span> <span class="o">(</span><span class="mi">2</span> <span class="o">:</span> <span class="n">nat</span><span class="o">)</span>
<span class="kd">def</span> <span class="n">thefoobar</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="o">:=</span> <span class="o">(</span><span class="mi">1</span> <span class="n">foobar</span> <span class="mi">2</span><span class="o">)</span>
</code></pre></div>



<a name="272461888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/superscripts%20in%20identifiers/near/272461888" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/superscripts.20in.20identifiers.html#272461888">(Feb 18 2022 at 21:47)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">Nfoobarm</span>
</code></pre></div>
<p>Probably fails</p>



<a name="272461907"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/superscripts%20in%20identifiers/near/272461907" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/superscripts.20in.20identifiers.html#272461907">(Feb 18 2022 at 21:47)</a>:</h4>
<p>Without spaces</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>