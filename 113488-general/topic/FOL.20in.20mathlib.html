---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/FOL.20in.20mathlib.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/FOL.20in.20mathlib.html">FOL in mathlib</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="211255074"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/FOL%20in%20mathlib/near/211255074" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/FOL.20in.20mathlib.html#211255074">(Sep 25 2020 at 13:09)</a>:</h4>
<p>While updating the lean files from MM0, I have come to face once more the fact that everything outside mathlib bitrots; I was previously depending on flypitch but it's really not feasible to keep up such dependencies because the lean versions don't match up (it hasn't been updated since 3.4.2). But the FOL formalization in there is definitely useful for other stuff, so I would like to look (once more) into getting it into mathlib.</p>
<p>Are there any additional changes that should be made to <a href="https://github.com/flypitch/flypitch/blob/master/src/fol.lean">FOL</a> to make it fit in mathlib? This will probably be a new top level folder like <code>proof_theory</code>; any ideas on what the scope should be?</p>



<a name="211255624"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/FOL%20in%20mathlib/near/211255624" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/FOL.20in.20mathlib.html#211255624">(Sep 25 2020 at 13:14)</a>:</h4>
<p>I'm definitely in favor. There have been more than a handful of people showing up here asking about FOL who we've directed to Flypitch. It would be great to have it local and up to date</p>



<a name="211255786"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/FOL%20in%20mathlib/near/211255786" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/FOL.20in.20mathlib.html#211255786">(Sep 25 2020 at 13:15)</a>:</h4>
<p>We should be very careful with docs. Like it or not, people who think "Lean = logic" will be drawn to this file without necessarily understanding what it's doing. It needs to be clear e.g. that this is unconnected to the foundations of Lean, what a deep embedding is, etc</p>



<a name="211255789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/FOL%20in%20mathlib/near/211255789" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/FOL.20in.20mathlib.html#211255789">(Sep 25 2020 at 13:15)</a>:</h4>
<p><span class="user-mention" data-user-id="302826">@Aaron Anderson</span> has been working on this as well</p>



<a name="211255907"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/FOL%20in%20mathlib/near/211255907" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/FOL.20in.20mathlib.html#211255907">(Sep 25 2020 at 13:16)</a>:</h4>
<p>CC <span class="user-mention" data-user-id="111080">@Floris van Doorn</span> <span class="user-mention" data-user-id="116045">@Jesse Michael Han</span> Are there any lingering things that you wanted to update about the development? I recall there being some churn about dvector and dfin</p>



<a name="211256132"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/FOL%20in%20mathlib/near/211256132" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/FOL.20in.20mathlib.html#211256132">(Sep 25 2020 at 13:18)</a>:</h4>
<p>Note also that in the lean-omin directory, Reid has developed "finvec". A nice api around <code>fin n -&gt; R</code>.</p>



<a name="211257471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/FOL%20in%20mathlib/near/211257471" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/FOL.20in.20mathlib.html#211257471">(Sep 25 2020 at 13:29)</a>:</h4>
<p>Yes, recently I tried to get it closer to mathlib readiness:<br>
<a href="https://github.com/rwbarton/lean-omin/blob/master/src/for_mathlib/finvec.lean">https://github.com/rwbarton/lean-omin/blob/master/src/for_mathlib/finvec.lean</a></p>



<a name="211264196"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/FOL%20in%20mathlib/near/211264196" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jesse Michael Han <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/FOL.20in.20mathlib.html#211264196">(Sep 25 2020 at 14:21)</a>:</h4>
<p>IIRC floris would have preferred our FOL library to to use <code>finvec</code> over <code>dvector</code>. </p>
<p>bringing flypitch from 3.4.2 to 3.20 is not high on my to-do list at the moment, but i'm happy to accept PRs/endorse incorporating the code into mathlib</p>



<a name="211272132"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/FOL%20in%20mathlib/near/211272132" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/FOL.20in.20mathlib.html#211272132">(Sep 25 2020 at 15:21)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110032">Reid Barton</span> <a href="#narrow/stream/113488-general/topic/FOL.20in.20mathlib/near/211257471">said</a>:</p>
<blockquote>
<p>Yes, recently I tried to get it closer to mathlib readiness:<br>
<a href="https://github.com/rwbarton/lean-omin/blob/master/src/for_mathlib/finvec.lean">https://github.com/rwbarton/lean-omin/blob/master/src/for_mathlib/finvec.lean</a></p>
</blockquote>
<p>I would be very happy when this reaches mathlib! In case you're taking "requests", one of the main things that seems missing from mathlib is support for quotients, e.g. as in <br>
<a href="https://github.com/flypitch/flypitch/blob/aea5800db1f4cce53fc4a113711454b27388ecf8/src/to_mathlib.lean#L321">https://github.com/flypitch/flypitch/blob/aea5800db1f4cce53fc4a113711454b27388ecf8/src/to_mathlib.lean#L321</a><br>
<a href="https://github.com/flypitch/flypitch/blob/aea5800db1f4cce53fc4a113711454b27388ecf8/src/to_mathlib.lean#L331">https://github.com/flypitch/flypitch/blob/aea5800db1f4cce53fc4a113711454b27388ecf8/src/to_mathlib.lean#L331</a></p>



<a name="211286567"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/FOL%20in%20mathlib/near/211286567" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jeremy Avigad <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/FOL.20in.20mathlib.html#211286567">(Sep 25 2020 at 17:13)</a>:</h4>
<p>Naming suggestion: call the folder "formal logic". Any deeply embedded logical system can go there. I prefer that to "proof theory" because it can include model theory and purely semantic developments as well.</p>



<a name="211287371"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/FOL%20in%20mathlib/near/211287371" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/FOL.20in.20mathlib.html#211287371">(Sep 25 2020 at 17:20)</a>:</h4>
<p>Yes, I'd like to use <code>finvec</code> instead of the non-standard <code>dvector</code> for the first-order logic file. But we can also port it to mathlib with <code>dvector</code> and port it to <code>finvec</code> once Reid merges his file.<br>
Also note that if you just want to use <code>fol.lean</code> (and at most ~10 other files), there is a compiling version of that file on the branch <code>lean-3.14.0</code>, which should be a lot easier to port to the current version: <a href="https://github.com/flypitch/flypitch/blob/lean-3.14.0/src/fol.lean">https://github.com/flypitch/flypitch/blob/lean-3.14.0/src/fol.lean</a>. I started porting flypitch to a (then) recent version of Lean, but fixing proofs later in the development was very painful :(</p>



<a name="211311384"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/FOL%20in%20mathlib/near/211311384" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/FOL.20in.20mathlib.html#211311384">(Sep 25 2020 at 20:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/113488-general/topic/FOL.20in.20mathlib/near/211255789">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="302826">Aaron Anderson</span> has been working on this as well</p>
</blockquote>
<p>My work so far has been at <a href="https://github.com/leanprover-community/mathlib/tree/fol-attempt.">branch#fol-attempt.</a> I have at least a basic proof of concept that flypitch structures can be ported with <code>finvec</code>, and a development of some basic model theory ideas that IIRC aren't in flypitch.</p>



<a name="211311463"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/FOL%20in%20mathlib/near/211311463" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/FOL.20in.20mathlib.html#211311463">(Sep 25 2020 at 20:09)</a>:</h4>
<p>I tried porting some of <code>fol.lean</code>, but got bogged down, I forget which lean version that was on.</p>



<a name="211311610"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/FOL%20in%20mathlib/near/211311610" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/FOL.20in.20mathlib.html#211311610">(Sep 25 2020 at 20:10)</a>:</h4>
<p>I could probably get a PR or two out of it just to get the ball rolling, but it'd be hard for me to port all of <code>fol.lean</code> without some help from people with more technical lean experience.</p>



<a name="211555003"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/FOL%20in%20mathlib/near/211555003" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexandre Rademaker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/FOL.20in.20mathlib.html#211555003">(Sep 28 2020 at 21:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110596">Rob Lewis</span> <a href="#narrow/stream/113488-general/topic/FOL.20in.20mathlib/near/211255786">said</a>:</p>
<blockquote>
<p>We should be very careful with docs. Like it or not, people who think "Lean = logic" will be drawn to this file without necessarily understanding what it's doing. It needs to be clear e.g. that this is unconnected to the foundations of Lean, what a deep embedding is, etc</p>
</blockquote>
<p>Yep, I would be one of those people. I am particular curious about what is the scope and goal of the definitions pointed by <span class="user-mention" data-user-id="110049">@Mario Carneiro</span> .</p>



<a name="211555064"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/FOL%20in%20mathlib/near/211555064" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/FOL.20in.20mathlib.html#211555064">(Sep 28 2020 at 21:51)</a>:</h4>
<p>Which definitions are you referring to?</p>



<a name="212245435"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/FOL%20in%20mathlib/near/212245435" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/FOL.20in.20mathlib.html#212245435">(Oct 04 2020 at 22:56)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/issues/4406">#4406</a> has the most important parts of <code>data.finvec</code>. I'm not sure if the stuff related to <code>set (finvec n R)</code> is as generally useful so I'm going to hold off on it for now.</p>



<a name="212781050"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/FOL%20in%20mathlib/near/212781050" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexandre Rademaker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/FOL.20in.20mathlib.html#212781050">(Oct 09 2020 at 03:52)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> , I am talking about the file <a href="https://github.com/flypitch/flypitch/blob/master/src/fol.lean">https://github.com/flypitch/flypitch/blob/master/src/fol.lean</a> . I didn’t understand its content and scope</p>



<a name="212781069"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/FOL%20in%20mathlib/near/212781069" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/FOL.20in.20mathlib.html#212781069">(Oct 09 2020 at 03:53)</a>:</h4>
<p>The idea is to define what first order logic is, so that you can state and prove theorems in proof theory and model theory</p>



<a name="212781082"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/FOL%20in%20mathlib/near/212781082" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/FOL.20in.20mathlib.html#212781082">(Oct 09 2020 at 03:53)</a>:</h4>
<p>in particular, flypitch itself was concerned with proving the independence of the continuum hypothesis from the axioms of ZFC, which requires the notion of provability in ZFC to state</p>



<a name="212781247"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/FOL%20in%20mathlib/near/212781247" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexandre Rademaker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/FOL.20in.20mathlib.html#212781247">(Oct 09 2020 at 03:58)</a>:</h4>
<p>Can you suggest any text about it?</p>



<a name="212781255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/FOL%20in%20mathlib/near/212781255" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/FOL.20in.20mathlib.html#212781255">(Oct 09 2020 at 03:58)</a>:</h4>
<p>there were a couple papers about flypitch by Jesse and Floris</p>



<a name="212781266"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/FOL%20in%20mathlib/near/212781266" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/FOL.20in.20mathlib.html#212781266">(Oct 09 2020 at 03:59)</a>:</h4>
<p><a href="https://github.com/flypitch/flypitch-itp-2019/releases/tag/1.1">https://github.com/flypitch/flypitch-itp-2019/releases/tag/1.1</a></p>



<a name="212781333"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/FOL%20in%20mathlib/near/212781333" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/FOL.20in.20mathlib.html#212781333">(Oct 09 2020 at 04:00)</a>:</h4>
<p>Also <a href="https://flypitch.github.io/assets/flypitch-cpp.pdf">https://flypitch.github.io/assets/flypitch-cpp.pdf</a></p>



<a name="212781342"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/FOL%20in%20mathlib/near/212781342" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexandre Rademaker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/FOL.20in.20mathlib.html#212781342">(Oct 09 2020 at 04:00)</a>:</h4>
<p>Thank you very much</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>