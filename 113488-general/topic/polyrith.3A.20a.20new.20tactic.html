---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html">polyrith: a new tactic</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="289312457"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/289312457" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#289312457">(Jul 12 2022 at 11:57)</a>:</h4>
<p>I'm excited to announce a new mathlib tactic, <code>polyrith</code>! <a href="https://github.com/leanprover-community/mathlib/pull/14878">#14878</a> landed last night so this is now live in mathlib.</p>
<p>Sort of like <code>linarith</code>, <code>polyrith</code> works when you have a bunch of equality hypotheses that imply an equality goal, but you don't want to go through annoying calculation steps to explain why.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic.polyrith</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">ℚ</span><span class="o">)</span> <span class="o">(</span><span class="n">h1</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">+</span> <span class="n">y</span> <span class="bp">=</span> <span class="mi">3</span><span class="o">)</span> <span class="o">(</span><span class="n">h2</span> <span class="o">:</span> <span class="mi">3</span><span class="bp">*</span><span class="n">x</span> <span class="bp">=</span> <span class="mi">7</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">x</span><span class="bp">*</span><span class="n">x</span><span class="bp">*</span><span class="n">y</span> <span class="bp">+</span> <span class="n">y</span><span class="bp">*</span><span class="n">x</span><span class="bp">*</span><span class="n">y</span> <span class="bp">+</span> <span class="mi">6</span><span class="bp">*</span><span class="n">x</span> <span class="bp">=</span> <span class="mi">3</span><span class="bp">*</span><span class="n">x</span><span class="bp">*</span><span class="n">y</span> <span class="bp">+</span> <span class="mi">14</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">polyrith</span>
</code></pre></div>
<p>Unlike <code>linarith</code>, though, <code>polyrith</code> is a self-replacing tactic! When it finds the combination of hypotheses that prove the goal, it will suggest a call to <code>linear_combination</code>. So in this sense, it's kind of like <code>library_search</code>, in that it should never appear in finished code.</p>
<p>This is for a special reason. <code>polyrith</code> works by calling Sage, a computer algebra tool, via its web API. So it requires an active internet connection (support for local Sage coming later), and we don't want to leave these external calls in library code. </p>
<p>I think <code>polyrith</code> is unique among mathlib tactics in calling external processes. You may need to install the Python package <code>requests</code> if you don't have it already. And, while it's been tested on a few different systems, there may be some unforeseen engineering issues, since this is uncharted territory for mathlib. Try it out and let us know if you run into issues! </p>
<p>Many thanks to <span class="user-mention" data-user-id="452188">@Dhruv Bhatia</span> for implementing this! Also to <span class="user-mention" data-user-id="310045">@Eric Wieser</span> for substantial improvements during review, and to <span class="user-mention" data-user-id="458879">@Abby Goldberg</span> for contributing <code>linear_combination</code>, which <code>polyrith</code> depends on.</p>



<a name="289328959"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/289328959" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#289328959">(Jul 12 2022 at 14:07)</a>:</h4>
<p>Cool! Does this work over any field, or just fields like \Q or \R?</p>



<a name="289329627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/289329627" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#289329627">(Jul 12 2022 at 14:12)</a>:</h4>
<p>Is this the Gröbner basis tactic I've heard about?</p>



<a name="289330211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/289330211" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#289330211">(Jul 12 2022 at 14:16)</a>:</h4>
<p>(judging by the "groebner" tag, I presume the answer is yes)</p>



<a name="289332456"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/289332456" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#289332456">(Jul 12 2022 at 14:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="282271">Bolton Bailey</span> <a href="#narrow/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic/near/289328959">said</a>:</p>
<blockquote>
<p>Cool! Does this work over any field, or just fields like \Q or \R?</p>
</blockquote>
<p>Depends on what exactly you mean by "works" <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span> it will pretend that whatever field you're working over is <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">Q</mi></mrow><annotation encoding="application/x-tex">\mathbb{Q}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8556em;vertical-align:-0.1667em;"></span><span class="mord mathbb">Q</span></span></span></span>. It uses <code>ring</code> for normalization and we don't have a comparable way to normalize expressions in more specific fields. With some tweaks it could report back coefficients and leave it to you to normalize yourself, but this isn't implemented yet.</p>



<a name="289332515"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/289332515" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#289332515">(Jul 12 2022 at 14:31)</a>:</h4>
<p>And yes, it uses Singular's Gröbner basis computation (via Sage) to find the coefficients.</p>



<a name="289333024"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/289333024" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#289333024">(Jul 12 2022 at 14:34)</a>:</h4>
<p>Let me mention that <span class="user-mention" data-user-id="266440">@Shing Tak Lam</span> has been working on a Gröbner basis implementation within Lean itself.</p>



<a name="289333156"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/289333156" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#289333156">(Jul 12 2022 at 14:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic/near/289333024">said</a>:</p>
<blockquote>
<p>Let me mention that <span class="user-mention silent" data-user-id="266440">Shing Tak Lam</span> has been working on a Gröbner basis implementation within Lean itself.</p>
</blockquote>
<p>Cool, it would be very interesting to try to hook that up to <code>polyrith</code> when it's ready!</p>



<a name="289333740"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/289333740" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shing Tak Lam <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#289333740">(Jul 12 2022 at 14:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic/near/289333024">said</a>:</p>
<blockquote>
<p>Let me mention that <span class="user-mention silent" data-user-id="266440">Shing Tak Lam</span> has been working on a Gröbner basis implementation within Lean itself.</p>
</blockquote>
<p>(I have an implementation in <em>Lean 4</em> <a href="https://github.com/shingtaklam1324/iva">here</a> which just has a basic implementation of Buchberger's algorithm. I've had a look at doing it using mathlib's <code>mv_polynomial</code>s, but nothing so far.)</p>



<a name="289343258"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/289343258" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#289343258">(Jul 12 2022 at 15:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110596">Rob Lewis</span> <a href="#narrow/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic/near/289312457">said</a>:</p>
<blockquote>
<p>I'm excited to announce a new mathlib tactic, <code>polyrith</code>! <a href="https://github.com/leanprover-community/mathlib/pull/14878">#14878</a> landed last night so this is now live in mathlib.</p>
<p>Sort of like <code>linarith</code>, <code>polyrith</code> works when you have a bunch of equality hypotheses that imply an equality goal, but you don't want to go through annoying calculation steps to explain why.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic.polyrith</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">ℚ</span><span class="o">)</span> <span class="o">(</span><span class="n">h1</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">+</span> <span class="n">y</span> <span class="bp">=</span> <span class="mi">3</span><span class="o">)</span> <span class="o">(</span><span class="n">h2</span> <span class="o">:</span> <span class="mi">3</span><span class="bp">*</span><span class="n">x</span> <span class="bp">=</span> <span class="mi">7</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">x</span><span class="bp">*</span><span class="n">x</span><span class="bp">*</span><span class="n">y</span> <span class="bp">+</span> <span class="n">y</span><span class="bp">*</span><span class="n">x</span><span class="bp">*</span><span class="n">y</span> <span class="bp">+</span> <span class="mi">6</span><span class="bp">*</span><span class="n">x</span> <span class="bp">=</span> <span class="mi">3</span><span class="bp">*</span><span class="n">x</span><span class="bp">*</span><span class="n">y</span> <span class="bp">+</span> <span class="mi">14</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">polyrith</span>
</code></pre></div>
<p>Unlike <code>linarith</code>, though, <code>polyrith</code> is a self-replacing tactic! When it finds the combination of hypotheses that prove the goal, it will suggest a call to <code>linear_combination</code>. So in this sense, it's kind of like <code>library_search</code>, in that it should never appear in finished code.</p>
<p>This is for a special reason. <code>polyrith</code> works by calling Sage, a computer algebra tool, via its web API. So it requires an active internet connection (support for local Sage coming later), and we don't want to leave these external calls in library code. </p>
<p>I think <code>polyrith</code> is unique among mathlib tactics in calling external processes. You may need to install the Python package <code>requests</code> if you don't have it already. And, while it's been tested on a few different systems, there may be some unforeseen engineering issues, since this is uncharted territory for mathlib. Try it out and let us know if you run into issues! </p>
<p>Many thanks to <span class="user-mention silent" data-user-id="452188">Dhruv Bhatia</span> for implementing this! Also to <span class="user-mention silent" data-user-id="310045">Eric Wieser</span> for substantial improvements during review, and to <span class="user-mention silent" data-user-id="458879">Abby Goldberg</span> for contributing <code>linear_combination</code>, which <code>polyrith</code> depends on.</p>
</blockquote>
<p>This is extremely cool.</p>



<a name="289375960"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/289375960" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#289375960">(Jul 12 2022 at 19:45)</a>:</h4>
<p>I tried to use this to prove Pascal's Hexagon theorem from the 100 theorems list, but got a server error <span aria-label="frown" class="emoji emoji-1f641" role="img" title="frown">:frown:</span> </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic.polyrith</span>
<span class="kn">import</span> <span class="n">data.real.basic</span>

<span class="kd">def</span> <span class="n">collinear</span> <span class="o">(</span><span class="n">x1</span> <span class="n">y1</span> <span class="n">x2</span> <span class="n">y2</span> <span class="n">x3</span> <span class="n">y3</span> <span class="o">:</span> <span class="n">ℚ</span><span class="o">)</span> <span class="o">:=</span> <span class="o">(</span><span class="n">x2</span> <span class="bp">-</span> <span class="n">x1</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y3</span> <span class="bp">-</span> <span class="n">y1</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(</span><span class="n">x3</span> <span class="bp">-</span> <span class="n">x1</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y2</span> <span class="bp">-</span> <span class="n">y1</span><span class="o">)</span>

<span class="kd">theorem</span> <span class="n">pascal_hexagon</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">d</span> <span class="n">e</span> <span class="n">f</span> <span class="n">x1</span> <span class="n">y1</span> <span class="n">x2</span> <span class="n">y2</span> <span class="n">x3</span> <span class="n">y3</span> <span class="n">x4</span> <span class="n">y4</span> <span class="n">x5</span> <span class="n">y5</span> <span class="n">x6</span> <span class="n">y6</span> <span class="n">x7</span> <span class="n">y7</span> <span class="n">x8</span> <span class="n">y8</span> <span class="n">x9</span> <span class="n">y9</span> <span class="o">:</span> <span class="n">ℚ</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h1</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">x1</span> <span class="bp">^</span> <span class="mi">2</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">x1</span> <span class="bp">*</span> <span class="n">y1</span> <span class="bp">+</span> <span class="n">c</span> <span class="bp">*</span> <span class="n">y1</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">+</span> <span class="n">d</span> <span class="bp">*</span> <span class="n">x1</span> <span class="bp">+</span> <span class="n">e</span> <span class="bp">*</span> <span class="n">y1</span> <span class="bp">+</span> <span class="n">f</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h2</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">x2</span> <span class="bp">^</span> <span class="mi">2</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">x2</span> <span class="bp">*</span> <span class="n">y2</span> <span class="bp">+</span> <span class="n">c</span> <span class="bp">*</span> <span class="n">y2</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">+</span> <span class="n">d</span> <span class="bp">*</span> <span class="n">x2</span> <span class="bp">+</span> <span class="n">e</span> <span class="bp">*</span> <span class="n">y2</span> <span class="bp">+</span> <span class="n">f</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h3</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">x3</span> <span class="bp">^</span> <span class="mi">2</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">x3</span> <span class="bp">*</span> <span class="n">y3</span> <span class="bp">+</span> <span class="n">c</span> <span class="bp">*</span> <span class="n">y3</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">+</span> <span class="n">d</span> <span class="bp">*</span> <span class="n">x3</span> <span class="bp">+</span> <span class="n">e</span> <span class="bp">*</span> <span class="n">y3</span> <span class="bp">+</span> <span class="n">f</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h4</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">x4</span> <span class="bp">^</span> <span class="mi">2</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">x4</span> <span class="bp">*</span> <span class="n">y4</span> <span class="bp">+</span> <span class="n">c</span> <span class="bp">*</span> <span class="n">y4</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">+</span> <span class="n">d</span> <span class="bp">*</span> <span class="n">x4</span> <span class="bp">+</span> <span class="n">e</span> <span class="bp">*</span> <span class="n">y4</span> <span class="bp">+</span> <span class="n">f</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h5</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">x5</span> <span class="bp">^</span> <span class="mi">2</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">x5</span> <span class="bp">*</span> <span class="n">y5</span> <span class="bp">+</span> <span class="n">c</span> <span class="bp">*</span> <span class="n">y5</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">+</span> <span class="n">d</span> <span class="bp">*</span> <span class="n">x5</span> <span class="bp">+</span> <span class="n">e</span> <span class="bp">*</span> <span class="n">y5</span> <span class="bp">+</span> <span class="n">f</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h6</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">x6</span> <span class="bp">^</span> <span class="mi">2</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">x6</span> <span class="bp">*</span> <span class="n">y6</span> <span class="bp">+</span> <span class="n">c</span> <span class="bp">*</span> <span class="n">y6</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">+</span> <span class="n">d</span> <span class="bp">*</span> <span class="n">x6</span> <span class="bp">+</span> <span class="n">e</span> <span class="bp">*</span> <span class="n">y6</span> <span class="bp">+</span> <span class="n">f</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h12</span> <span class="o">:</span> <span class="n">collinear</span> <span class="n">x1</span> <span class="n">y1</span> <span class="n">x2</span> <span class="n">y2</span> <span class="n">x7</span> <span class="n">y7</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h23</span> <span class="o">:</span> <span class="n">collinear</span> <span class="n">x2</span> <span class="n">y2</span> <span class="n">x3</span> <span class="n">y3</span> <span class="n">x8</span> <span class="n">y8</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h34</span> <span class="o">:</span> <span class="n">collinear</span> <span class="n">x3</span> <span class="n">y3</span> <span class="n">x4</span> <span class="n">y4</span> <span class="n">x9</span> <span class="n">y9</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h45</span> <span class="o">:</span> <span class="n">collinear</span> <span class="n">x4</span> <span class="n">y4</span> <span class="n">x5</span> <span class="n">y5</span> <span class="n">x7</span> <span class="n">y7</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h56</span> <span class="o">:</span> <span class="n">collinear</span> <span class="n">x5</span> <span class="n">y5</span> <span class="n">x6</span> <span class="n">y6</span> <span class="n">x8</span> <span class="n">y8</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h61</span> <span class="o">:</span> <span class="n">collinear</span> <span class="n">x6</span> <span class="n">y6</span> <span class="n">x1</span> <span class="n">y1</span> <span class="n">x9</span> <span class="n">y9</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">collinear</span> <span class="n">x7</span> <span class="n">y7</span> <span class="n">x8</span> <span class="n">y8</span> <span class="n">x9</span> <span class="n">y9</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">unfold</span> <span class="n">collinear</span> <span class="n">at</span> <span class="bp">*</span><span class="o">,</span>
  <span class="n">polyrith</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code>
</code></pre></div>



<a name="289378684"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/289378684" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#289378684">(Jul 12 2022 at 20:06)</a>:</h4>
<p>From the end of the <code>Lean: Server Error</code> output:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">Traceback</span> <span class="o">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="o">):</span>
  <span class="n">File</span> <span class="s2">"/Users/boltonbailey/Desktop/mathlibcontribution/mathlib/src/../scripts/polyrith_sage.py"</span><span class="o">,</span> <span class="n">line</span> <span class="mi">84</span><span class="o">,</span> <span class="k">in</span> <span class="bp">&lt;</span><span class="n">module</span><span class="bp">&gt;</span>
    <span class="n">main</span><span class="o">()</span>
  <span class="n">File</span> <span class="s2">"/Users/boltonbailey/Desktop/mathlibcontribution/mathlib/src/../scripts/polyrith_sage.py"</span><span class="o">,</span> <span class="n">line</span> <span class="mi">77</span><span class="o">,</span> <span class="k">in</span> <span class="n">main</span>
    <span class="n">output</span> <span class="bp">=</span> <span class="n">dict</span><span class="o">(</span><span class="n">success</span><span class="bp">=</span><span class="n">True</span><span class="o">,</span> <span class="n">data</span><span class="bp">=</span><span class="n">evaluate_in_sage</span><span class="o">(</span><span class="n">final_query</span><span class="o">))</span>
  <span class="n">File</span> <span class="s2">"/Users/boltonbailey/Desktop/mathlibcontribution/mathlib/src/../scripts/polyrith_sage.py"</span><span class="o">,</span> <span class="n">line</span> <span class="mi">51</span><span class="o">,</span> <span class="k">in</span> <span class="n">evaluate_in_sage</span>
    <span class="n">raise</span> <span class="n">Exception</span><span class="o">(</span><span class="n">response</span><span class="o">)</span>
<span class="n">Exception</span><span class="o">:</span> <span class="o">{</span><span class="bp">'</span><span class="n">success'</span><span class="o">:</span> <span class="n">False</span><span class="o">}</span>
</code></pre></div>



<a name="289379251"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/289379251" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#289379251">(Jul 12 2022 at 20:12)</a>:</h4>
<p>Noted, we definitely need to work on error reporting. This problem seems to be too big (or false) for Sage, at least through its web API. This is the Sage code generated for your example:</p>
<div class="codehilite" data-code-language="Python"><pre><span></span><code><span class="kn">import</span> <span class="nn">json</span>
<span class="n">P</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="s1">'var'</span><span class="p">,</span> <span class="mi">24</span><span class="p">)</span>
<span class="p">[</span><span class="n">var0</span><span class="p">,</span> <span class="n">var1</span><span class="p">,</span> <span class="n">var2</span><span class="p">,</span> <span class="n">var3</span><span class="p">,</span> <span class="n">var4</span><span class="p">,</span> <span class="n">var5</span><span class="p">,</span> <span class="n">var6</span><span class="p">,</span> <span class="n">var7</span><span class="p">,</span> <span class="n">var8</span><span class="p">,</span> <span class="n">var9</span><span class="p">,</span> <span class="n">var10</span><span class="p">,</span> <span class="n">var11</span><span class="p">,</span> <span class="n">var12</span><span class="p">,</span> <span class="n">var13</span><span class="p">,</span> <span class="n">var14</span><span class="p">,</span> <span class="n">var15</span><span class="p">,</span> <span class="n">var16</span><span class="p">,</span> <span class="n">var17</span><span class="p">,</span> <span class="n">var18</span><span class="p">,</span> <span class="n">var19</span><span class="p">,</span> <span class="n">var20</span><span class="p">,</span> <span class="n">var21</span><span class="p">,</span> <span class="n">var22</span><span class="p">,</span> <span class="n">var23</span><span class="p">]</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="n">gens</span> <span class="o">=</span> <span class="p">[(((((((</span><span class="n">var6</span> <span class="o">*</span> <span class="p">(</span><span class="n">var7</span> <span class="o">^</span> <span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="p">((</span><span class="n">var8</span> <span class="o">*</span> <span class="n">var7</span><span class="p">)</span> <span class="o">*</span> <span class="n">var9</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="n">var10</span> <span class="o">*</span> <span class="p">(</span><span class="n">var9</span> <span class="o">^</span> <span class="mi">2</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="n">var11</span> <span class="o">*</span> <span class="n">var7</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="n">var12</span> <span class="o">*</span> <span class="n">var9</span><span class="p">))</span> <span class="o">+</span> <span class="n">var13</span><span class="p">)</span> <span class="o">-</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(((((((</span><span class="n">var6</span> <span class="o">*</span> <span class="p">(</span><span class="n">var14</span> <span class="o">^</span> <span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="p">((</span><span class="n">var8</span> <span class="o">*</span> <span class="n">var14</span><span class="p">)</span> <span class="o">*</span> <span class="n">var15</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="n">var10</span> <span class="o">*</span> <span class="p">(</span><span class="n">var15</span> <span class="o">^</span> <span class="mi">2</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="n">var11</span> <span class="o">*</span> <span class="n">var14</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="n">var12</span> <span class="o">*</span> <span class="n">var15</span><span class="p">))</span> <span class="o">+</span> <span class="n">var13</span><span class="p">)</span> <span class="o">-</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(((((((</span><span class="n">var6</span> <span class="o">*</span> <span class="p">(</span><span class="n">var16</span> <span class="o">^</span> <span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="p">((</span><span class="n">var8</span> <span class="o">*</span> <span class="n">var16</span><span class="p">)</span> <span class="o">*</span> <span class="n">var17</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="n">var10</span> <span class="o">*</span> <span class="p">(</span><span class="n">var17</span> <span class="o">^</span> <span class="mi">2</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="n">var11</span> <span class="o">*</span> <span class="n">var16</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="n">var12</span> <span class="o">*</span> <span class="n">var17</span><span class="p">))</span> <span class="o">+</span> <span class="n">var13</span><span class="p">)</span> <span class="o">-</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(((((((</span><span class="n">var6</span> <span class="o">*</span> <span class="p">(</span><span class="n">var18</span> <span class="o">^</span> <span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="p">((</span><span class="n">var8</span> <span class="o">*</span> <span class="n">var18</span><span class="p">)</span> <span class="o">*</span> <span class="n">var19</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="n">var10</span> <span class="o">*</span> <span class="p">(</span><span class="n">var19</span> <span class="o">^</span> <span class="mi">2</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="n">var11</span> <span class="o">*</span> <span class="n">var18</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="n">var12</span> <span class="o">*</span> <span class="n">var19</span><span class="p">))</span> <span class="o">+</span> <span class="n">var13</span><span class="p">)</span> <span class="o">-</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(((((((</span><span class="n">var6</span> <span class="o">*</span> <span class="p">(</span><span class="n">var20</span> <span class="o">^</span> <span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="p">((</span><span class="n">var8</span> <span class="o">*</span> <span class="n">var20</span><span class="p">)</span> <span class="o">*</span> <span class="n">var21</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="n">var10</span> <span class="o">*</span> <span class="p">(</span><span class="n">var21</span> <span class="o">^</span> <span class="mi">2</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="n">var11</span> <span class="o">*</span> <span class="n">var20</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="n">var12</span> <span class="o">*</span> <span class="n">var21</span><span class="p">))</span> <span class="o">+</span> <span class="n">var13</span><span class="p">)</span> <span class="o">-</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(((((((</span><span class="n">var6</span> <span class="o">*</span> <span class="p">(</span><span class="n">var22</span> <span class="o">^</span> <span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="p">((</span><span class="n">var8</span> <span class="o">*</span> <span class="n">var22</span><span class="p">)</span> <span class="o">*</span> <span class="n">var23</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="n">var10</span> <span class="o">*</span> <span class="p">(</span><span class="n">var23</span> <span class="o">^</span> <span class="mi">2</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="n">var11</span> <span class="o">*</span> <span class="n">var22</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="n">var12</span> <span class="o">*</span> <span class="n">var23</span><span class="p">))</span> <span class="o">+</span> <span class="n">var13</span><span class="p">)</span> <span class="o">-</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(((</span><span class="n">var14</span> <span class="o">-</span> <span class="n">var7</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">var3</span> <span class="o">-</span> <span class="n">var9</span><span class="p">))</span> <span class="o">-</span> <span class="p">((</span><span class="n">var1</span> <span class="o">-</span> <span class="n">var7</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">var15</span> <span class="o">-</span> <span class="n">var9</span><span class="p">))),</span> <span class="p">(((</span><span class="n">var16</span> <span class="o">-</span> <span class="n">var14</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">var5</span> <span class="o">-</span> <span class="n">var15</span><span class="p">))</span> <span class="o">-</span> <span class="p">((</span><span class="n">var0</span> <span class="o">-</span> <span class="n">var14</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">var17</span> <span class="o">-</span> <span class="n">var15</span><span class="p">))),</span> <span class="p">(((</span><span class="n">var18</span> <span class="o">-</span> <span class="n">var16</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">var2</span> <span class="o">-</span> <span class="n">var17</span><span class="p">))</span> <span class="o">-</span> <span class="p">((</span><span class="n">var4</span> <span class="o">-</span> <span class="n">var16</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">var19</span> <span class="o">-</span> <span class="n">var17</span><span class="p">))),</span> <span class="p">(((</span><span class="n">var20</span> <span class="o">-</span> <span class="n">var18</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">var3</span> <span class="o">-</span> <span class="n">var19</span><span class="p">))</span> <span class="o">-</span> <span class="p">((</span><span class="n">var1</span> <span class="o">-</span> <span class="n">var18</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">var21</span> <span class="o">-</span> <span class="n">var19</span><span class="p">))),</span> <span class="p">(((</span><span class="n">var22</span> <span class="o">-</span> <span class="n">var20</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">var5</span> <span class="o">-</span> <span class="n">var21</span><span class="p">))</span> <span class="o">-</span> <span class="p">((</span><span class="n">var0</span> <span class="o">-</span> <span class="n">var20</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">var23</span> <span class="o">-</span> <span class="n">var21</span><span class="p">))),</span> <span class="p">(((</span><span class="n">var7</span> <span class="o">-</span> <span class="n">var22</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">var2</span> <span class="o">-</span> <span class="n">var23</span><span class="p">))</span> <span class="o">-</span> <span class="p">((</span><span class="n">var4</span> <span class="o">-</span> <span class="n">var22</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">var9</span> <span class="o">-</span> <span class="n">var23</span><span class="p">)))]</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">((((</span><span class="n">var0</span> <span class="o">-</span> <span class="n">var1</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">var2</span> <span class="o">-</span> <span class="n">var3</span><span class="p">))</span> <span class="o">-</span> <span class="p">((</span><span class="n">var4</span> <span class="o">-</span> <span class="n">var1</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">var5</span> <span class="o">-</span> <span class="n">var3</span><span class="p">))))</span>
<span class="n">I</span> <span class="o">=</span> <span class="n">ideal</span><span class="p">(</span><span class="n">gens</span><span class="p">)</span>
<span class="n">coeffs</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">lift</span><span class="p">(</span><span class="n">I</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">([</span><span class="n">polynomial_to_string</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">coeffs</span><span class="p">]))</span>
</code></pre></div>
<p>and pasting that into <a href="https://sagecell.sagemath.org/">https://sagecell.sagemath.org/</a> times out.</p>



<a name="289379427"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/289379427" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#289379427">(Jul 12 2022 at 20:13)</a>:</h4>
<p>For people not at ICERM, you can have a look at <a href="https://hrmacbeth.github.io/computations_in_lean/index.html">https://hrmacbeth.github.io/computations_in_lean/index.html</a></p>



<a name="289380405"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/289380405" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#289380405">(Jul 12 2022 at 20:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="268315">Anatole Dedecker</span> <a href="#narrow/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic/near/289379427">said</a>:</p>
<blockquote>
<p>For people not at ICERM, you can have a look at <a href="https://hrmacbeth.github.io/computations_in_lean/index.html">https://hrmacbeth.github.io/computations_in_lean/index.html</a></p>
</blockquote>
<p>Highly recommended reading! Thanks <span class="user-mention" data-user-id="260507">@Heather Macbeth</span> (and <span class="user-mention" data-user-id="268315">@Anatole Dedecker</span> for proofreading <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span> )</p>



<a name="289380481"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/289380481" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#289380481">(Jul 12 2022 at 20:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110596">Rob Lewis</span> <a href="#narrow/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic/near/289379251">said</a>:</p>
<blockquote>
<p>Noted, we definitely need to work on error reporting. This problem seems to be too big (or false) for Sage, at least through its web API. This is the Sage code generated for your example:</p>
<div class="codehilite" data-code-language="Python"><pre><span></span><code><span class="kn">import</span> <span class="nn">json</span>
<span class="n">P</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="s1">'var'</span><span class="p">,</span> <span class="mi">24</span><span class="p">)</span>
<span class="p">[</span><span class="n">var0</span><span class="p">,</span> <span class="n">var1</span><span class="p">,</span> <span class="n">var2</span><span class="p">,</span> <span class="n">var3</span><span class="p">,</span> <span class="n">var4</span><span class="p">,</span> <span class="n">var5</span><span class="p">,</span> <span class="n">var6</span><span class="p">,</span> <span class="n">var7</span><span class="p">,</span> <span class="n">var8</span><span class="p">,</span> <span class="n">var9</span><span class="p">,</span> <span class="n">var10</span><span class="p">,</span> <span class="n">var11</span><span class="p">,</span> <span class="n">var12</span><span class="p">,</span> <span class="n">var13</span><span class="p">,</span> <span class="n">var14</span><span class="p">,</span> <span class="n">var15</span><span class="p">,</span> <span class="n">var16</span><span class="p">,</span> <span class="n">var17</span><span class="p">,</span> <span class="n">var18</span><span class="p">,</span> <span class="n">var19</span><span class="p">,</span> <span class="n">var20</span><span class="p">,</span> <span class="n">var21</span><span class="p">,</span> <span class="n">var22</span><span class="p">,</span> <span class="n">var23</span><span class="p">]</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="n">gens</span> <span class="o">=</span> <span class="p">[(((((((</span><span class="n">var6</span> <span class="o">*</span> <span class="p">(</span><span class="n">var7</span> <span class="o">^</span> <span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="p">((</span><span class="n">var8</span> <span class="o">*</span> <span class="n">var7</span><span class="p">)</span> <span class="o">*</span> <span class="n">var9</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="n">var10</span> <span class="o">*</span> <span class="p">(</span><span class="n">var9</span> <span class="o">^</span> <span class="mi">2</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="n">var11</span> <span class="o">*</span> <span class="n">var7</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="n">var12</span> <span class="o">*</span> <span class="n">var9</span><span class="p">))</span> <span class="o">+</span> <span class="n">var13</span><span class="p">)</span> <span class="o">-</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(((((((</span><span class="n">var6</span> <span class="o">*</span> <span class="p">(</span><span class="n">var14</span> <span class="o">^</span> <span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="p">((</span><span class="n">var8</span> <span class="o">*</span> <span class="n">var14</span><span class="p">)</span> <span class="o">*</span> <span class="n">var15</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="n">var10</span> <span class="o">*</span> <span class="p">(</span><span class="n">var15</span> <span class="o">^</span> <span class="mi">2</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="n">var11</span> <span class="o">*</span> <span class="n">var14</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="n">var12</span> <span class="o">*</span> <span class="n">var15</span><span class="p">))</span> <span class="o">+</span> <span class="n">var13</span><span class="p">)</span> <span class="o">-</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(((((((</span><span class="n">var6</span> <span class="o">*</span> <span class="p">(</span><span class="n">var16</span> <span class="o">^</span> <span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="p">((</span><span class="n">var8</span> <span class="o">*</span> <span class="n">var16</span><span class="p">)</span> <span class="o">*</span> <span class="n">var17</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="n">var10</span> <span class="o">*</span> <span class="p">(</span><span class="n">var17</span> <span class="o">^</span> <span class="mi">2</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="n">var11</span> <span class="o">*</span> <span class="n">var16</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="n">var12</span> <span class="o">*</span> <span class="n">var17</span><span class="p">))</span> <span class="o">+</span> <span class="n">var13</span><span class="p">)</span> <span class="o">-</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(((((((</span><span class="n">var6</span> <span class="o">*</span> <span class="p">(</span><span class="n">var18</span> <span class="o">^</span> <span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="p">((</span><span class="n">var8</span> <span class="o">*</span> <span class="n">var18</span><span class="p">)</span> <span class="o">*</span> <span class="n">var19</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="n">var10</span> <span class="o">*</span> <span class="p">(</span><span class="n">var19</span> <span class="o">^</span> <span class="mi">2</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="n">var11</span> <span class="o">*</span> <span class="n">var18</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="n">var12</span> <span class="o">*</span> <span class="n">var19</span><span class="p">))</span> <span class="o">+</span> <span class="n">var13</span><span class="p">)</span> <span class="o">-</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(((((((</span><span class="n">var6</span> <span class="o">*</span> <span class="p">(</span><span class="n">var20</span> <span class="o">^</span> <span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="p">((</span><span class="n">var8</span> <span class="o">*</span> <span class="n">var20</span><span class="p">)</span> <span class="o">*</span> <span class="n">var21</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="n">var10</span> <span class="o">*</span> <span class="p">(</span><span class="n">var21</span> <span class="o">^</span> <span class="mi">2</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="n">var11</span> <span class="o">*</span> <span class="n">var20</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="n">var12</span> <span class="o">*</span> <span class="n">var21</span><span class="p">))</span> <span class="o">+</span> <span class="n">var13</span><span class="p">)</span> <span class="o">-</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(((((((</span><span class="n">var6</span> <span class="o">*</span> <span class="p">(</span><span class="n">var22</span> <span class="o">^</span> <span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="p">((</span><span class="n">var8</span> <span class="o">*</span> <span class="n">var22</span><span class="p">)</span> <span class="o">*</span> <span class="n">var23</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="n">var10</span> <span class="o">*</span> <span class="p">(</span><span class="n">var23</span> <span class="o">^</span> <span class="mi">2</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="n">var11</span> <span class="o">*</span> <span class="n">var22</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="n">var12</span> <span class="o">*</span> <span class="n">var23</span><span class="p">))</span> <span class="o">+</span> <span class="n">var13</span><span class="p">)</span> <span class="o">-</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(((</span><span class="n">var14</span> <span class="o">-</span> <span class="n">var7</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">var3</span> <span class="o">-</span> <span class="n">var9</span><span class="p">))</span> <span class="o">-</span> <span class="p">((</span><span class="n">var1</span> <span class="o">-</span> <span class="n">var7</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">var15</span> <span class="o">-</span> <span class="n">var9</span><span class="p">))),</span> <span class="p">(((</span><span class="n">var16</span> <span class="o">-</span> <span class="n">var14</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">var5</span> <span class="o">-</span> <span class="n">var15</span><span class="p">))</span> <span class="o">-</span> <span class="p">((</span><span class="n">var0</span> <span class="o">-</span> <span class="n">var14</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">var17</span> <span class="o">-</span> <span class="n">var15</span><span class="p">))),</span> <span class="p">(((</span><span class="n">var18</span> <span class="o">-</span> <span class="n">var16</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">var2</span> <span class="o">-</span> <span class="n">var17</span><span class="p">))</span> <span class="o">-</span> <span class="p">((</span><span class="n">var4</span> <span class="o">-</span> <span class="n">var16</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">var19</span> <span class="o">-</span> <span class="n">var17</span><span class="p">))),</span> <span class="p">(((</span><span class="n">var20</span> <span class="o">-</span> <span class="n">var18</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">var3</span> <span class="o">-</span> <span class="n">var19</span><span class="p">))</span> <span class="o">-</span> <span class="p">((</span><span class="n">var1</span> <span class="o">-</span> <span class="n">var18</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">var21</span> <span class="o">-</span> <span class="n">var19</span><span class="p">))),</span> <span class="p">(((</span><span class="n">var22</span> <span class="o">-</span> <span class="n">var20</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">var5</span> <span class="o">-</span> <span class="n">var21</span><span class="p">))</span> <span class="o">-</span> <span class="p">((</span><span class="n">var0</span> <span class="o">-</span> <span class="n">var20</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">var23</span> <span class="o">-</span> <span class="n">var21</span><span class="p">))),</span> <span class="p">(((</span><span class="n">var7</span> <span class="o">-</span> <span class="n">var22</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">var2</span> <span class="o">-</span> <span class="n">var23</span><span class="p">))</span> <span class="o">-</span> <span class="p">((</span><span class="n">var4</span> <span class="o">-</span> <span class="n">var22</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">var9</span> <span class="o">-</span> <span class="n">var23</span><span class="p">)))]</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">((((</span><span class="n">var0</span> <span class="o">-</span> <span class="n">var1</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">var2</span> <span class="o">-</span> <span class="n">var3</span><span class="p">))</span> <span class="o">-</span> <span class="p">((</span><span class="n">var4</span> <span class="o">-</span> <span class="n">var1</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">var5</span> <span class="o">-</span> <span class="n">var3</span><span class="p">))))</span>
<span class="n">I</span> <span class="o">=</span> <span class="n">ideal</span><span class="p">(</span><span class="n">gens</span><span class="p">)</span>
<span class="n">coeffs</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">lift</span><span class="p">(</span><span class="n">I</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">([</span><span class="n">polynomial_to_string</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">coeffs</span><span class="p">]))</span>
</code></pre></div>
<p>and pasting that into <a href="https://sagecell.sagemath.org/">https://sagecell.sagemath.org/</a> times out.</p>
</blockquote>
<p>Note: I extracted this using <code>set_option trace.polyrith true</code>. Also on the to-do list is better tracing support.</p>



<a name="289381395"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/289381395" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#289381395">(Jul 12 2022 at 20:31)</a>:</h4>
<blockquote>
<p>or false</p>
</blockquote>
<p>Indeed the issue might be that I need to rule out points being on top of one another</p>



<a name="289390046"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/289390046" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#289390046">(Jul 12 2022 at 21:47)</a>:</h4>
<p>Where did the <code>quaternion_simps</code> come from in that tutorial?</p>



<a name="289400617"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/289400617" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#289400617">(Jul 12 2022 at 23:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic/near/289390046">said</a>:</p>
<blockquote>
<p>Where did the <code>quaternion_simps</code> come from in that tutorial?</p>
</blockquote>
<p><a href="https://github.com/hrmacbeth/computations_in_lean/blob/main/src/02_Using_Polyrith/03_double_cover.lean#L15">https://github.com/hrmacbeth/computations_in_lean/blob/main/src/02_Using_Polyrith/03_double_cover.lean#L15</a></p>



<a name="289417372"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/289417372" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#289417372">(Jul 13 2022 at 05:33)</a>:</h4>
<p>Huh, I guess github search failed me</p>



<a name="292239520"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/292239520" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Praneeth Kolichala <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#292239520">(Aug 06 2022 at 07:26)</a>:</h4>
<p>We can get <code>polyrith</code> to work with negations of equalities as well if we add the following lemma:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">mul_inv_one_of_ne</span> <span class="o">{</span><span class="n">k</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">field</span> <span class="n">k</span><span class="o">]</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">k</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">≠</span> <span class="n">b</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span> <span class="bp">-</span> <span class="n">b</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">a</span> <span class="bp">-</span> <span class="n">b</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">sub_ne_zero_of_ne</span> <span class="n">h</span><span class="o">]</span>
</code></pre></div>
<p>Then, we just need to preprocess all the parameters by applying this lemma if the argument is of the form <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo mathvariant="normal">≠</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a \neq b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span> instead of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>=</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a = b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span>. Is anyone working on this?</p>
<p>If we add this, we can do some more cool things. Here is the fact that at most one line of the form <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mi>x</mi><mo>+</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">ax + b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">a</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span> goes through two distinct points proved automatically using polyrith (after unfolding definitions):</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">structure</span> <span class="n">line</span> <span class="o">:=</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span>
<span class="kd">def</span> <span class="n">line.contains</span> <span class="o">(</span><span class="n">l</span> <span class="o">:</span> <span class="n">line</span><span class="o">)</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">×</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="n">p.snd</span> <span class="bp">=</span> <span class="n">l.a</span> <span class="bp">*</span> <span class="n">p.fst</span> <span class="bp">+</span> <span class="n">l.b</span>

<span class="kd">example</span> <span class="o">{</span><span class="n">x₀</span> <span class="n">x₁</span> <span class="n">y₀</span> <span class="n">y₁</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">x₀</span> <span class="bp">≠</span> <span class="n">x₁</span><span class="o">)</span> <span class="o">:</span> <span class="n">set.subsingleton</span> <span class="o">{</span><span class="n">l</span> <span class="o">:</span> <span class="n">line</span> <span class="bp">|</span> <span class="n">l.contains</span> <span class="o">(</span><span class="n">x₀</span><span class="o">,</span> <span class="n">y₀</span><span class="o">)</span> <span class="bp">∧</span> <span class="n">l.contains</span> <span class="o">(</span><span class="n">x₁</span><span class="o">,</span> <span class="n">y₁</span><span class="o">)</span> <span class="o">}</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="o">{</span> <span class="n">rintros</span> <span class="o">⟨</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">⟩</span> <span class="o">⟨</span><span class="n">H₁</span><span class="o">,</span> <span class="n">H₂</span><span class="o">⟩</span> <span class="o">⟨</span><span class="n">a'</span><span class="o">,</span> <span class="n">b'</span><span class="o">⟩</span> <span class="o">⟨</span><span class="n">H₁'</span><span class="o">,</span> <span class="n">H₂'</span><span class="o">⟩,</span> <span class="n">simp</span> <span class="o">[</span><span class="n">line.contains</span><span class="o">]</span> <span class="n">at</span> <span class="bp">*</span><span class="o">,</span> <span class="n">split</span><span class="bp">;</span> <span class="n">polyrith</span> <span class="o">[</span><span class="n">mul_inv_one_of_ne</span> <span class="n">h</span><span class="o">],</span> <span class="o">}</span>
</code></pre></div>
<p>(Crucially, this relies on the fact that the x-values are different).</p>
<p>We could also extend it to proving goals of the form <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo mathvariant="normal">≠</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a \neq b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span> by introducing <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>=</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a = b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span> as a hypothesis and trying to prove <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">1 = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> (the same strategy works for proving <code>false</code>, although you'd have to guess what the field/ring is).</p>



<a name="292243620"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/292243620" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#292243620">(Aug 06 2022 at 09:08)</a>:</h4>
<p>Nice! <code>polyrith</code> is one of those tactics which is more useful than you might expect! (modulo Heather's talk where she explained loads of uses so I should up my expectations!). I've used it several times with undergraduates in the past couple of weeks</p>



<a name="292309567"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/292309567" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#292309567">(Aug 07 2022 at 09:26)</a>:</h4>
<p><span class="user-mention" data-user-id="437861">@Praneeth Kolichala</span> Cool! I have a couple WIP pull requests for <code>polyrith</code> and <code>linear_combination</code>. <span class="user-mention" data-user-id="260507">@Heather Macbeth</span> and I were discussing syntax for "contraposed" linear combinations, with one disequality hypothesis and a disequality goal. I'm overcommitted and travelilng right now so don't expect much movement from me in the next week or two. But if you have ideas for how to integrate this into <code>polyrith</code> and want to work on it, definitely go ahead!</p>



<a name="314969408"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/314969408" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Miguel Marco <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#314969408">(Dec 09 2022 at 19:41)</a>:</h4>
<p>Hi,</p>
<p>I already wrote this in a github issue, but I am not sure if that is the right place to comment it, so just in case, i will include it here too:</p>
<p>to cover the case where your goal is not really in the ideal generated by your hypothesis, but in its radical, you can either use Sage's <code>saturation</code>method (which will give you the needed exponent), or write a proof for this:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">{</span><span class="n">F</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">field</span> <span class="n">F</span><span class="o">]</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">F</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">F</span><span class="o">)</span> <span class="o">(</span><span class="n">rel</span> <span class="o">:</span> <span class="n">f</span> <span class="bp">*</span> <span class="o">(</span><span class="n">c</span> <span class="bp">•</span> <span class="n">X</span> <span class="bp">-</span><span class="mi">1</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">)</span>  <span class="o">:</span> <span class="n">c</span> <span class="bp">=</span> <span class="mi">0</span>
</code></pre></div>
<p>and ask Sage  for a lift of 1 to the ideal generated by your hypothesis and c*X - 1 (being c what you want to prove, and X a new variable). Then you can use Sage's answer to write the needed hypothesis (as a linear combination) and apply it.</p>
<p>I have a (probably suboptimal) proof of that result if you need it.</p>



<a name="314969666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/314969666" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Miguel Marco <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#314969666">(Dec 09 2022 at 19:43)</a>:</h4>
<p>The second approach only needs one call to Sage, but the resulting proof might be not so clear.</p>



<a name="314971123"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/314971123" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#314971123">(Dec 09 2022 at 19:52)</a>:</h4>
<p>I'm working on polyrith now BTW. I don't really know how to implement what you suggested</p>



<a name="314974414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/314974414" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#314974414">(Dec 09 2022 at 20:13)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="461731">@Miguel Marco</span>, I think this was already implemented in the PR <a href="https://github.com/leanprover-community/mathlib/pull/15425">#15425</a>, right?</p>



<a name="314974448"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/314974448" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#314974448">(Dec 09 2022 at 20:13)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="461731">@Miguel Marco</span>, I think this was already implemented in the PR <a href="https://github.com/leanprover-community/mathlib/pull/15425">#15425</a>, right?</p>



<a name="314974478"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/314974478" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#314974478">(Dec 09 2022 at 20:13)</a>:</h4>
<p>See this comment:<br>
<a href="https://github.com/leanprover-community/mathlib/pull/15425#issuecomment-1201895845">https://github.com/leanprover-community/mathlib/pull/15425#issuecomment-1201895845</a></p>



<a name="314974672"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/314974672" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#314974672">(Dec 09 2022 at 20:14)</a>:</h4>
<p>It's a shame the PR hasn't been merged, we don't have many people who can review meta code.</p>



<a name="314974893"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/314974893" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Miguel Marco <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#314974893">(Dec 09 2022 at 20:16)</a>:</h4>
<p>Let me give an example.</p>
<p>Say you want to prove this:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">ℚ</span><span class="o">)</span> <span class="o">(</span><span class="n">h1</span> <span class="o">:</span> <span class="n">b</span><span class="bp">^</span><span class="mi">4</span>  <span class="bp">+</span> <span class="n">b</span><span class="bp">^</span><span class="mi">2</span><span class="bp">*</span><span class="n">c</span> <span class="bp">=</span> <span class="mi">2</span><span class="bp">*</span><span class="n">a</span><span class="bp">*</span><span class="n">b</span><span class="bp">*</span><span class="n">c</span><span class="bp">^</span><span class="mi">2</span><span class="o">)</span> <span class="o">(</span><span class="n">h2</span> <span class="o">:</span> <span class="n">b</span><span class="bp">^</span><span class="mi">2</span><span class="bp">*</span><span class="n">c</span><span class="bp">^</span><span class="mi">2</span>  <span class="bp">+</span> <span class="n">b</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">=</span> <span class="mi">2</span><span class="bp">*</span><span class="n">a</span><span class="bp">*</span><span class="n">b</span><span class="bp">*</span><span class="n">c</span><span class="o">)</span> <span class="o">(</span><span class="n">h3</span><span class="o">:</span>  <span class="n">c</span><span class="bp">^</span><span class="mi">3</span> <span class="bp">=</span> <span class="n">b</span><span class="bp">^</span><span class="mi">2</span><span class="o">)</span> <span class="o">(</span><span class="n">h4</span><span class="o">:</span>  <span class="n">a</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">=</span> <span class="n">b</span><span class="bp">^</span><span class="mi">2</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span><span class="bp">*</span><span class="n">c</span> <span class="bp">=</span> <span class="n">b</span>
</code></pre></div>
<p>then you rewrite your equations as polynomials being equal to zero, and send the following code to Sage:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">R.</span><span class="bp">&lt;</span><span class="n">a</span><span class="o">,</span><span class="n">b</span><span class="o">,</span><span class="n">c</span><span class="o">,</span><span class="n">X</span><span class="bp">&gt;</span> <span class="bp">=</span> <span class="n">QQ</span><span class="o">[]</span>
<span class="n">I</span> <span class="bp">=</span> <span class="n">R.ideal</span><span class="o">([</span><span class="n">b</span><span class="bp">^</span><span class="mi">4</span> <span class="bp">-</span> <span class="mi">2</span><span class="bp">*</span><span class="n">a</span><span class="bp">*</span><span class="n">b</span><span class="bp">*</span><span class="n">c</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">+</span> <span class="n">b</span><span class="bp">^</span><span class="mi">2</span><span class="bp">*</span><span class="n">c</span><span class="o">,</span> <span class="n">b</span><span class="bp">^</span><span class="mi">2</span><span class="bp">*</span><span class="n">c</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">-</span> <span class="mi">2</span><span class="bp">*</span><span class="n">a</span><span class="bp">*</span><span class="n">b</span><span class="bp">*</span><span class="n">c</span> <span class="bp">+</span> <span class="n">b</span><span class="bp">^</span><span class="mi">2</span><span class="o">,</span> <span class="n">c</span><span class="bp">^</span><span class="mi">3</span> <span class="bp">-</span> <span class="n">b</span><span class="bp">^</span><span class="mi">2</span><span class="o">,</span> <span class="n">a</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">-</span> <span class="n">b</span><span class="bp">^</span><span class="mi">2</span><span class="o">,</span> <span class="o">(</span><span class="n">a</span><span class="bp">*</span><span class="n">c</span> <span class="bp">-</span> <span class="n">b</span><span class="o">)</span> <span class="bp">*</span> <span class="n">X</span> <span class="bp">-</span><span class="mi">1</span> <span class="o">])</span>
<span class="n">R.one</span><span class="o">()</span><span class="bp">.</span><span class="n">lift</span><span class="o">(</span><span class="n">I</span><span class="o">)</span>
</code></pre></div>
<p>and you get</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="o">[</span><span class="mi">0</span><span class="o">,</span> <span class="n">X</span><span class="bp">^</span><span class="mi">2</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">c</span><span class="bp">^</span><span class="mi">2</span><span class="bp">*</span><span class="n">X</span><span class="bp">^</span><span class="mi">2</span><span class="o">,</span> <span class="bp">-</span><span class="n">a</span><span class="bp">*</span><span class="n">c</span><span class="bp">*</span><span class="n">X</span> <span class="bp">+</span> <span class="n">b</span><span class="bp">*</span><span class="n">X</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">]</span>
</code></pre></div>
<p>which means that </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="mi">0</span><span class="bp">*</span><span class="o">(</span><span class="n">b</span><span class="bp">^</span><span class="mi">4</span> <span class="bp">-</span> <span class="mi">2</span><span class="bp">*</span><span class="n">a</span><span class="bp">*</span><span class="n">b</span><span class="bp">*</span><span class="n">c</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">+</span> <span class="n">b</span><span class="bp">^</span><span class="mi">2</span><span class="bp">*</span><span class="n">c</span><span class="o">)</span><span class="bp">+</span><span class="n">X</span><span class="bp">^</span><span class="mi">2</span><span class="bp">*</span><span class="o">(</span><span class="n">b</span><span class="bp">^</span><span class="mi">2</span><span class="bp">*</span><span class="n">c</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">-</span> <span class="mi">2</span><span class="bp">*</span><span class="n">a</span><span class="bp">*</span><span class="n">b</span><span class="bp">*</span><span class="n">c</span> <span class="bp">+</span> <span class="n">b</span><span class="bp">^</span><span class="mi">2</span><span class="o">)</span><span class="bp">+</span><span class="mi">0</span><span class="bp">*</span><span class="o">(</span> <span class="n">c</span><span class="bp">^</span><span class="mi">3</span> <span class="bp">-</span> <span class="n">b</span><span class="bp">^</span><span class="mi">2</span><span class="o">)</span><span class="bp">+</span><span class="n">c</span><span class="bp">^</span><span class="mi">2</span><span class="bp">*</span><span class="n">X</span><span class="bp">^</span><span class="mi">2</span><span class="bp">*</span><span class="o">(</span><span class="n">c</span><span class="bp">^</span><span class="mi">3</span> <span class="bp">-</span> <span class="n">b</span><span class="bp">^</span><span class="mi">2</span><span class="o">,</span> <span class="n">a</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">-</span> <span class="n">b</span><span class="bp">^</span><span class="mi">2</span><span class="o">)</span><span class="bp">+</span><span class="o">(</span><span class="bp">-</span><span class="n">a</span><span class="bp">*</span><span class="n">c</span><span class="bp">*</span><span class="n">X</span> <span class="bp">+</span> <span class="n">b</span><span class="bp">*</span><span class="n">X</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">)</span><span class="bp">*</span><span class="o">(</span> <span class="o">(</span><span class="n">a</span><span class="bp">*</span><span class="n">c</span> <span class="bp">-</span> <span class="n">b</span><span class="o">)</span> <span class="bp">*</span> <span class="n">X</span> <span class="bp">-</span><span class="mi">1</span><span class="o">)</span><span class="bp">=</span> <span class="mi">1</span>
</code></pre></div>
<p>it could be easily checked with a <code>ring</code>, <code>linear_combination</code> or similar.</p>
<p>Then you rewrite your starting hypothesis, and it should simplify to</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="o">(</span><span class="bp">-</span><span class="n">a</span><span class="bp">*</span><span class="n">c</span><span class="bp">*</span><span class="n">X</span> <span class="bp">+</span> <span class="n">b</span><span class="bp">*</span><span class="n">X</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">)</span><span class="bp">*</span><span class="o">(</span> <span class="o">(</span><span class="n">a</span><span class="bp">*</span><span class="n">c</span> <span class="bp">-</span> <span class="n">b</span><span class="o">)</span> <span class="bp">*</span> <span class="n">X</span> <span class="bp">-</span><span class="mi">1</span><span class="o">)</span>
</code></pre></div>
<p>then you apply the lemma I posted before (being <code>f=(-a*c*X + b*X - 1)</code> ) to conclude that <code>(a*c - b) = 0</code>.</p>



<a name="314975688"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/314975688" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Miguel Marco <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#314975688">(Dec 09 2022 at 20:21)</a>:</h4>
<p><span class="user-mention silent" data-user-id="260507">Heather Macbeth</span> <a href="#narrow/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic/near/314974414">said</a>:</p>
<blockquote>
<p>Hi <span class="user-mention silent" data-user-id="461731">Miguel Marco</span>, I think this was already implemented in the PR <a href="https://github.com/leanprover-community/mathlib/pull/15425">#15425</a>, right?</p>
</blockquote>
<p>If I am understanding well the code in that PR, it checks if a specific power of the goal is in the idea. The advantage of the method I propose is that it proves that <em>some</em> power is in the ideal (and hence, it should be equal to zero modulo the hypothesis), without knowing which power.</p>



<a name="314975993"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/314975993" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#314975993">(Dec 09 2022 at 20:23)</a>:</h4>
<p>No, that was an earlier implementation (as described in the first message on the PR) -- as of the comment I linked to, the "standard trick" (which I believe is what you describe) is used.</p>



<a name="314976267"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/314976267" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#314976267">(Dec 09 2022 at 20:24)</a>:</h4>
<p>Or, <del>perhaps indeed I'm misremembering,</del> <span class="user-mention" data-user-id="110596">@Rob Lewis</span> can confirm whether he actually implemented it or just intended to!  Note the PR is currently blocked by <a href="https://github.com/leanprover-community/mathlib/pull/15428">#15428</a> (hint to meta code reviewers ...)</p>



<a name="314976449"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/314976449" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#314976449">(Dec 09 2022 at 20:26)</a>:</h4>
<p>Ah yes, see <a href="https://github.com/leanprover-community/mathlib/pull/15425#issuecomment-1201895845">a later comment</a>:</p>
<blockquote>
<p>I've implemented the "standard trick" (see also 4.2 Prop 8 of Cox, Little, O'Shea). This is still pending docs, test updates, and <a href="https://github.com/leanprover-community/mathlib/pull/15428">#15428</a> (which I think is ready to go).</p>
</blockquote>



<a name="314976682"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/314976682" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#314976682">(Dec 09 2022 at 20:27)</a>:</h4>
<p><span class="user-mention" data-user-id="461731">@Miguel Marco</span> Are you able to review Lean meta code?  Maybe you can help us get <a href="https://github.com/leanprover-community/mathlib/pull/15428">#15428</a> and <a href="https://github.com/leanprover-community/mathlib/pull/15425">#15425</a> merged!</p>



<a name="314977374"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/314977374" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#314977374">(Dec 09 2022 at 20:31)</a>:</h4>
<p>By the way, <span class="user-mention" data-user-id="110049">@Mario Carneiro</span>, it seems like it would be a shame to lose this work of Rob's, which has been awaiting review since September (and which makes polyrith much more powerful).  Is there any chance you could incorporate it into your polyrith port?</p>



<a name="314977645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/314977645" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Miguel Marco <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#314977645">(Dec 09 2022 at 20:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="260507">Heather Macbeth</span> <a href="#narrow/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic/near/314975993">said</a>:</p>
<blockquote>
<p>No, that was an earlier implementation (as described in the first message on the PR) -- as of the comment I linked to, the "standard trick" (which I believe is what you describe) is used.</p>
</blockquote>
<p>I see. Yes, it is the same idea. Although, if you are not interested in the exponent, and just want to prove that the result must be zero, you don't need to do this part:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">power</span> <span class="bp">=</span> <span class="n">max</span><span class="o">(</span><span class="n">cf.degree</span><span class="o">(</span><span class="n">aux</span><span class="o">)</span> <span class="n">for</span> <span class="n">cf</span> <span class="k">in</span> <span class="n">coeffs</span><span class="o">)</span>
<span class="n">coeffs</span> <span class="bp">=</span> <span class="o">[</span><span class="n">P</span><span class="o">(</span><span class="n">cf.subs</span><span class="o">(</span><span class="n">aux</span> <span class="bp">=</span> <span class="mi">1</span><span class="bp">/</span><span class="n">p</span><span class="o">)</span><span class="bp">*</span><span class="n">p</span><span class="bp">^</span><span class="n">power</span><span class="o">)</span> <span class="n">for</span> <span class="n">cf</span> <span class="k">in</span> <span class="n">coeffs</span><span class="o">[:</span><span class="n">int</span><span class="o">(</span><span class="bp">-</span><span class="mi">1</span><span class="o">)]]</span>
</code></pre></div>
<p>and just apply the lemma i mentioned. However, it might be a good idea to get the exponent, since it is quite straightforward to compute, and gives you a more readable proof. It was a nice exercise to prove the lemma though <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span></p>



<a name="314977800"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/314977800" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Miguel Marco <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#314977800">(Dec 09 2022 at 20:34)</a>:</h4>
<p><span class="user-mention silent" data-user-id="260507">Heather Macbeth</span> <a href="#narrow/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic/near/314976682">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="461731">Miguel Marco</span> Are you able to review Lean meta code?  Maybe you can help us get <a href="https://github.com/leanprover-community/mathlib/pull/15428">#15428</a> and <a href="https://github.com/leanprover-community/mathlib/pull/15425">#15425</a> merged!</p>
</blockquote>
<p>I can try to give it a look.... but have absolutely no experience with meta code. So I wouldn't trust my review, at least for the moment.</p>



<a name="314977966"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/314977966" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#314977966">(Dec 09 2022 at 20:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="260507">Heather Macbeth</span> <a href="#narrow/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic/near/314977374">said</a>:</p>
<blockquote>
<p>By the way, <span class="user-mention silent" data-user-id="110049">Mario Carneiro</span>, it seems like it would be a shame to lose this work of Rob's, which has been awaiting review since September (and which makes polyrith much more powerful).  Is there any chance you could incorporate it into your polyrith port?</p>
</blockquote>
<p>Sure, but it won't make it to V1</p>



<a name="314978520"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/314978520" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Miguel Marco <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#314978520">(Dec 09 2022 at 20:39)</a>:</h4>
<p>I can help with the Sage/Singular side if you want though. I would be specially interested in using a local instance instead of relying on an online service.</p>



<a name="314978651"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/314978651" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#314978651">(Dec 09 2022 at 20:40)</a>:</h4>
<p>Relatedly, there's another polyrith patch at <a href="https://github.com/leanprover-community/mathlib/pull/17142">#17142</a></p>



<a name="314979322"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/314979322" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#314979322">(Dec 09 2022 at 20:45)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/15428">#15428</a> LGTM, just needs some documentation fixes. I think I missed Rob's comment that it was ready for another round of review.</p>



<a name="314979797"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/314979797" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#314979797">(Dec 09 2022 at 20:48)</a>:</h4>
<p>I can review the meta code in <a href="https://github.com/leanprover-community/mathlib/pull/15425">#15425</a>, but if you have expertise in SageMath then your review would definitely be appreciated <span class="user-mention" data-user-id="461731">@Miguel Marco</span>!</p>



<a name="314985390"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/polyrith%3A%20a%20new%20tactic/near/314985390" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/polyrith.3A.20a.20new.20tactic.html#314985390">(Dec 09 2022 at 21:26)</a>:</h4>
<p>Well the initial version is up at <a href="https://github.com/leanprover-community/mathlib4/pull/942">mathlib4#942</a>. Didn't know all these extensions would come out of the woodwork today</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>