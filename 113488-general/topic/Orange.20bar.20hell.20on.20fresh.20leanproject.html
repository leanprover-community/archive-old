---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html">Orange bar hell on fresh leanproject</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="287600049"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287600049" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287600049">(Jun 27 2022 at 16:07)</a>:</h4>
<p>I'm seeing something a bit weird with a new leanproject I just made. Following the instructions under <a href="https://leanprover-community.github.io/install/project.html">"Creating a Lean Project"</a> it works fine. But if I change the <code>topology.basic</code> import to <code>data.polynomial.basic</code>, I get orange bar hell. Do I need to run something after <code>leanproject new</code> to get oleans for mathlib?</p>



<a name="287600238"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287600238" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287600238">(Jun 27 2022 at 16:09)</a>:</h4>
<p>You shouldn't need to. What happens if you try <code>lean --make src</code> in the root directory of the project? And were there any errors when you ran <code>leanproject new</code>?</p>



<a name="287600518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287600518" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287600518">(Jun 27 2022 at 16:10)</a>:</h4>
<p>No errors when I ran <code>leanproject new</code>. When I run <code>lean --make src</code> I start seeing it compile a bunch of mathlib files.</p>



<a name="287600799"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287600799" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287600799">(Jun 27 2022 at 16:12)</a>:</h4>
<p>What about <code>leanproject get-mathlib-cache</code>? what is the output of that?</p>



<a name="287600912"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287600912" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287600912">(Jun 27 2022 at 16:13)</a>:</h4>
<p>If you were unlucky and created your project in a recent 30-minute window, you got a version of mathlib that did not have complete oleans. Perhaps the simplest thing to try is to create a new project first, and then we can try more sophisticated debugging.</p>



<a name="287601015"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287601015" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287601015">(Jun 27 2022 at 16:14)</a>:</h4>
<p>Ok, I'll start from scratch again</p>



<a name="287601359"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287601359" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287601359">(Jun 27 2022 at 16:16)</a>:</h4>
<p>First thing that happens when I put <code>import data.polynomial.basic</code> in <code>src/test.lean</code> is "Could not resolve data.polynomia", which is weird itself, but restarting Lean makes that go away.</p>



<a name="287601427"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287601427" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287601427">(Jun 27 2022 at 16:17)</a>:</h4>
<p>Now I still get an orange bar on <code>import data.polynomial.basic</code>.</p>



<a name="287601557"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287601557" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287601557">(Jun 27 2022 at 16:18)</a>:</h4>
<p>Here's the <code>leanproject new</code> output</p>
<div class="codehilite" data-code-language="Todotxt"><pre><span></span><code>(base) 12:09:57 risc0-all-files #=# leanproject new lean-prototyping
&gt; cd lean-prototyping
&gt; git init -q
&gt; git checkout -b lean-3.8.0
Switched to a new branch 'lean-3.8.0'
configuring lean-prototyping 0.1
Adding mathlib
mathlib: cloning https://github.com/leanprover-community/mathlib to _target/deps/mathlib
&gt; git clone https://github.com/leanprover-community/mathlib _target/deps/mathlib
Cloning into '_target/deps/mathlib'...
remote: Enumerating objects: 307734, done.
remote: Counting objects: 100% (402/402), done.
remote: Compressing objects: 100% (276/276), done.
remote: Total 307734 (delta 206), reused 271 (delta 126), pack-reused 307332
Receiving objects: 100% (307734/307734), 161.86 MiB | 35.60 MiB/s, done.
Resolving deltas: 100% (246274/246274), done.
&gt; git checkout --detach 8c836ac9dfa53d6acac4f2a693f2c718f013fe51    # in directory _target/deps/mathlib
HEAD is now at 8c836ac9df Merge branch 'master' of https://github.com/leanprover-community/mathlib
configuring lean-prototyping 0.1
mathlib: trying to update _target/deps/mathlib to revision 8c836ac9dfa53d6acac4f2a693f2c718f013fe51
&gt; git checkout --detach 8c836ac9dfa53d6acac4f2a693f2c718f013fe51    # in directory _target/deps/mathlib
HEAD is now at 8c836ac9df Merge branch 'master' of https://github.com/leanprover-community/mathlib
Looking for lean-prototyping oleans for 8c836ac9df
<span class="err">  </span>locally...
<span class="err">  </span>Found local lean-prototyping oleans
Located matching cache
Applying cache
<span class="err">  </span>files extracted: 2498 [00:13, 187.86/s]
</code></pre></div>



<a name="287601849"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287601849" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287601849">(Jun 27 2022 at 16:20)</a>:</h4>
<p>Still an orange bar after 2 minutes. Trying <code>leanproject get-mathilb-cache</code> ...</p>



<a name="287602031"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287602031" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287602031">(Jun 27 2022 at 16:21)</a>:</h4>
<p>It finds the local cache, but still orange bars the import.</p>



<a name="287602035"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287602035" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287602035">(Jun 27 2022 at 16:21)</a>:</h4>
<p>Your Lean (or the one leanproject is choosing for you) is incredibly old -- <code>3.8.0</code>. I'm pretty sure we've seen this before and making sure you're on some recent version of mathlibtools was the fix.</p>



<a name="287602052"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287602052" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287602052">(Jun 27 2022 at 16:22)</a>:</h4>
<p>What's <code>leanproject --version</code>?</p>



<a name="287602130"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287602130" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287602130">(Jun 27 2022 at 16:22)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="o">(</span><span class="n">base</span><span class="o">)</span> <span class="mi">12</span><span class="o">:</span><span class="mi">22</span><span class="o">:</span><span class="mi">06</span> <span class="n">lean</span><span class="bp">-</span><span class="n">prototyping</span> <span class="bp">#=#</span> <span class="n">leanproject</span> <span class="c1">--version</span>
<span class="n">leanproject</span><span class="o">,</span> <span class="n">version</span> <span class="mi">1</span><span class="bp">.</span><span class="mi">1</span><span class="bp">.</span><span class="mi">0</span>
</code></pre></div>



<a name="287602190"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287602190" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287602190">(Jun 27 2022 at 16:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="321696">Julian Berman</span> <a href="#narrow/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject/near/287602035">said</a>:</p>
<blockquote>
<p>Your Lean (or the one leanproject is choosing for you) is incredibly old -- <code>3.8.0</code>. I'm pretty sure we've seen this before and making sure you're on some recent version of mathlibtools was the fix.</p>
</blockquote>
<p>I'm not sure that this is the correct diagnosis. IIRC <code>leanproject</code> prints out junk like this sometimes even when you're doing things right, and you don't end up on 3.8.0.</p>



<a name="287602238"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287602238" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287602238">(Jun 27 2022 at 16:23)</a>:</h4>
<p>What does <code>elan show</code> say?</p>



<a name="287602286"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287602286" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287602286">(Jun 27 2022 at 16:23)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="o">(</span><span class="n">base</span><span class="o">)</span> <span class="mi">12</span><span class="o">:</span><span class="mi">22</span><span class="o">:</span><span class="mi">12</span> <span class="n">lean</span><span class="bp">-</span><span class="n">prototyping</span> <span class="bp">#=#</span> <span class="n">elan</span> <span class="k">show</span>
<span class="n">installed</span> <span class="n">toolchains</span>
<span class="c1">--------------------</span>

<span class="n">stable</span> <span class="o">(</span><span class="n">default</span><span class="o">)</span>
<span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">-</span><span class="n">lean</span><span class="bp">-</span><span class="mi">3</span><span class="bp">.</span><span class="mi">20</span><span class="bp">.</span><span class="mi">0</span>
<span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">-</span><span class="n">lean</span><span class="bp">-</span><span class="mi">3</span><span class="bp">.</span><span class="mi">21</span><span class="bp">.</span><span class="mi">0</span>
<span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">-</span><span class="n">lean</span><span class="bp">-</span><span class="mi">3</span><span class="bp">.</span><span class="mi">23</span><span class="bp">.</span><span class="mi">0</span>
<span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">-</span><span class="n">lean</span><span class="bp">-</span><span class="mi">3</span><span class="bp">.</span><span class="mi">26</span><span class="bp">.</span><span class="mi">0</span>
<span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">-</span><span class="n">lean</span><span class="bp">-</span><span class="mi">3</span><span class="bp">.</span><span class="mi">27</span><span class="bp">.</span><span class="mi">0</span>
<span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">-</span><span class="n">lean</span><span class="bp">-</span><span class="mi">3</span><span class="bp">.</span><span class="mi">28</span><span class="bp">.</span><span class="mi">0</span>
<span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">-</span><span class="n">lean</span><span class="bp">-</span><span class="mi">3</span><span class="bp">.</span><span class="mi">30</span><span class="bp">.</span><span class="mi">0</span>
<span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">-</span><span class="n">lean</span><span class="bp">-</span><span class="mi">3</span><span class="bp">.</span><span class="mi">31</span><span class="bp">.</span><span class="mi">0</span>
<span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">-</span><span class="n">lean</span><span class="bp">-</span><span class="mi">3</span><span class="bp">.</span><span class="mi">32</span><span class="bp">.</span><span class="mi">1</span>
<span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">-</span><span class="n">lean</span><span class="bp">-</span><span class="mi">3</span><span class="bp">.</span><span class="mi">33</span><span class="bp">.</span><span class="mi">0</span>
<span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">-</span><span class="n">lean</span><span class="bp">-</span><span class="mi">3</span><span class="bp">.</span><span class="mi">34</span><span class="bp">.</span><span class="mi">0</span>
<span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">-</span><span class="n">lean</span><span class="bp">-</span><span class="mi">3</span><span class="bp">.</span><span class="mi">35</span><span class="bp">.</span><span class="mi">0</span>
<span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">-</span><span class="n">lean</span><span class="bp">-</span><span class="mi">3</span><span class="bp">.</span><span class="mi">35</span><span class="bp">.</span><span class="mi">1</span>
<span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">-</span><span class="n">lean</span><span class="bp">-</span><span class="mi">3</span><span class="bp">.</span><span class="mi">8</span><span class="bp">.</span><span class="mi">0</span>
<span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">/</span><span class="n">lean</span><span class="o">:</span><span class="mi">3</span><span class="bp">.</span><span class="mi">30</span><span class="bp">.</span><span class="mi">0</span>
<span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">/</span><span class="n">lean</span><span class="o">:</span><span class="mi">3</span><span class="bp">.</span><span class="mi">35</span><span class="bp">.</span><span class="mi">1</span>
<span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">/</span><span class="n">lean</span><span class="o">:</span><span class="mi">3</span><span class="bp">.</span><span class="mi">37</span><span class="bp">.</span><span class="mi">0</span>
<span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">/</span><span class="n">lean</span><span class="o">:</span><span class="mi">3</span><span class="bp">.</span><span class="mi">38</span><span class="bp">.</span><span class="mi">0</span>
<span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">/</span><span class="n">lean</span><span class="o">:</span><span class="mi">3</span><span class="bp">.</span><span class="mi">39</span><span class="bp">.</span><span class="mi">0</span>
<span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">/</span><span class="n">lean</span><span class="o">:</span><span class="mi">3</span><span class="bp">.</span><span class="mi">39</span><span class="bp">.</span><span class="mi">1</span>
<span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">/</span><span class="n">lean</span><span class="o">:</span><span class="mi">3</span><span class="bp">.</span><span class="mi">39</span><span class="bp">.</span><span class="mi">2</span>
<span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">/</span><span class="n">lean</span><span class="o">:</span><span class="mi">3</span><span class="bp">.</span><span class="mi">40</span><span class="bp">.</span><span class="mi">0</span>
<span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">/</span><span class="n">lean</span><span class="o">:</span><span class="mi">3</span><span class="bp">.</span><span class="mi">41</span><span class="bp">.</span><span class="mi">0</span>
<span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">/</span><span class="n">lean</span><span class="o">:</span><span class="mi">3</span><span class="bp">.</span><span class="mi">42</span><span class="bp">.</span><span class="mi">0</span>
<span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">/</span><span class="n">lean</span><span class="o">:</span><span class="mi">3</span><span class="bp">.</span><span class="mi">42</span><span class="bp">.</span><span class="mi">1</span>
<span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">/</span><span class="n">lean</span><span class="o">:</span><span class="mi">3</span><span class="bp">.</span><span class="mi">43</span><span class="bp">.</span><span class="mi">0</span>

<span class="n">active</span> <span class="n">toolchain</span>
<span class="c1">----------------</span>

<span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">/</span><span class="n">lean</span><span class="o">:</span><span class="mi">3</span><span class="bp">.</span><span class="mi">43</span><span class="bp">.</span><span class="mi">0</span> <span class="o">(</span><span class="n">overridden</span> <span class="kd">by</span> <span class="bp">'/</span><span class="n">Users</span><span class="bp">/</span><span class="n">boltonbailey</span><span class="bp">/</span><span class="n">Desktop</span><span class="bp">/</span><span class="n">risc0</span><span class="bp">-</span><span class="n">all</span><span class="bp">-</span><span class="n">files</span><span class="bp">/</span><span class="n">lean</span><span class="bp">-</span><span class="n">prototyping</span><span class="bp">/</span><span class="n">leanpkg.toml'</span><span class="o">)</span>
<span class="n">Lean</span> <span class="o">(</span><span class="n">version</span> <span class="mi">3</span><span class="bp">.</span><span class="mi">43</span><span class="bp">.</span><span class="mi">0</span><span class="o">,</span> <span class="n">commit</span> <span class="n">bfce34363b0e</span><span class="o">,</span> <span class="n">Release</span><span class="o">)</span>
</code></pre></div>



<a name="287602344"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287602344" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287602344">(Jun 27 2022 at 16:24)</a>:</h4>
<p>The "could not resolve data.polynomia" is also normal when you don't have the right oleans; it's the last error before the orange bars kick in and Lean doesn't clear the old error before it starts attempting to import <code>data.polynomial</code>.</p>



<a name="287602425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287602425" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287602425">(Jun 27 2022 at 16:24)</a>:</h4>
<p>I think the 3.8.0 thing is a red herring. What happens with <code>leanproject get-mathlib-cache</code>?</p>



<a name="287602498"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287602498" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287602498">(Jun 27 2022 at 16:25)</a>:</h4>
<p>I ran that before. It finds the local oleans, and when I restart, I still get orange bars.</p>



<a name="287602701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287602701" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287602701">(Jun 27 2022 at 16:26)</a>:</h4>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>$ leanproject new fishcake
&gt; <span class="nb">cd</span> fishcake
&gt; git init -q
&gt; git checkout -b lean-3.41.0
Switched to a new branch <span class="s1">'lean-3.41.0'</span>
configuring fishcake <span class="m">0</span>.1
Adding mathlib
...
Applying cache
  files extracted: <span class="m">2498</span> <span class="o">[</span><span class="m">00</span>:04, <span class="m">604</span>.98/s<span class="o">]</span>
$ <span class="nb">cd</span> fishcake/
/fishcake$ lean --version
Lean <span class="o">(</span>version <span class="m">3</span>.43.0, commit bfce34363b0e, Release<span class="o">)</span>
</code></pre></div>
<p>Note 3.41 v 3.43 and my set-up is fine.</p>



<a name="287602733"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287602733" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287602733">(Jun 27 2022 at 16:26)</a>:</h4>
<p>What's in <code>/Users/boltonbailey/Desktop/risc0-all-files/lean-prototyping/leanpkg.toml</code></p>



<a name="287602766"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287602766" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287602766">(Jun 27 2022 at 16:27)</a>:</h4>
<p>I'm trying to find that old thread but IIRC another symptom was <code>leanproject</code> putting the old version in there too</p>



<a name="287602779"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287602779" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287602779">(Jun 27 2022 at 16:27)</a>:</h4>
<div class="codehilite" data-code-language="TOML"><pre><span></span><code><span class="k">[package]</span><span class="w"></span>
<span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"lean-prototyping"</span><span class="w"></span>
<span class="n">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"0.1"</span><span class="w"></span>
<span class="n">lean_version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"leanprover-community/lean:3.43.0"</span><span class="w"></span>
<span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"src"</span><span class="w"></span>

<span class="k">[dependencies]</span><span class="w"></span>
<span class="n">mathlib</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">git</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"https://github.com/leanprover-community/mathlib"</span><span class="p">,</span><span class="w"> </span><span class="n">rev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"8c836ac9dfa53d6acac4f2a693f2c718f013fe51"</span><span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="287602807"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287602807" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287602807">(Jun 27 2022 at 16:27)</a>:</h4>
<p>OK then yeah I'm wrong but I also don't see that revision of mathlib... Ah never mind I do too, and it indeed wants 3.43.0. Hrm.</p>



<a name="287603194"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287603194" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287603194">(Jun 27 2022 at 16:30)</a>:</h4>
<p>You shouldn't have revision <code>8c836ac9dfa53d6acac4f2a693f2c718f013fe51</code> -- this one was reverted</p>



<a name="287603468"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287603468" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287603468">(Jun 27 2022 at 16:31)</a>:</h4>
<p>Two other ideas until/unless someone has brighter ones is to either <code>rm</code> the olean cache for that commit, maybe it was partially corrupted and you're running into an issue reported elsewhere where the partial cache is still being reused, or otherwise a last resort is to open one of the olean files and see what it says at the start (it should say the version amongst some gibberish) just in case.</p>



<a name="287603614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287603614" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287603614">(Jun 27 2022 at 16:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="306601">Kyle Miller</span> <a href="#narrow/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject/near/287603194">said</a>:</p>
<blockquote>
<p>You shouldn't have revision <code>8c836ac9dfa53d6acac4f2a693f2c718f013fe51</code> -- this one was reverted</p>
</blockquote>
<p>I see it no?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">~/</span><span class="n">Development</span><span class="bp">/</span><span class="n">mathlib</span> <span class="n">is</span> <span class="n">a</span> <span class="n">git</span> <span class="n">repository</span> <span class="n">on</span> <span class="n">master</span>
<span class="bp">âŠ™</span>  <span class="n">g</span> <span class="k">show</span> <span class="mi">8</span><span class="n">c836ac9dfa53d6acac4f2a693f2c718f013fe51</span>                                                                                  <span class="n">julian</span><span class="bp">@</span><span class="n">Airm</span>
<span class="n">commit</span> <span class="mi">8</span><span class="n">c836ac9dfa53d6acac4f2a693f2c718f013fe51</span> <span class="o">(</span><span class="n">origin</span><span class="bp">/</span><span class="n">zmod.lift_injective_iff</span><span class="o">,</span> <span class="n">origin</span><span class="bp">/</span><span class="n">lean</span><span class="bp">-</span><span class="mi">3</span><span class="bp">.</span><span class="mi">43</span><span class="bp">.</span><span class="mi">0</span><span class="o">)</span>
<span class="n">Merge</span><span class="o">:</span> <span class="mi">8535</span><span class="n">ba9ea5</span> <span class="mi">331</span><span class="n">df5a23a</span>
<span class="n">Author</span><span class="o">:</span> <span class="n">Heather</span> <span class="n">Macbeth</span> <span class="bp">&lt;</span><span class="mi">25316162</span><span class="bp">+</span><span class="n">hrmacbeth</span><span class="bp">@</span><span class="n">users.noreply.github.com</span><span class="bp">&gt;</span>
<span class="n">Date</span><span class="o">:</span>   <span class="n">Mon</span> <span class="n">Jun</span> <span class="mi">27</span> <span class="mi">11</span><span class="o">:</span><span class="mi">05</span><span class="o">:</span><span class="mi">55</span> <span class="mi">2022</span> <span class="bp">-</span><span class="mi">0400</span>

    <span class="n">Merge</span> <span class="n">branch</span> <span class="bp">'</span><span class="n">master'</span> <span class="n">of</span> <span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">github.com</span><span class="bp">/</span><span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">/</span><span class="n">mathlib</span>
</code></pre></div>
<p>It looks like it's <a href="https://github.com/leanprover-community/mathlib/commit/8c836ac9dfa53d6acac4f2a693f2c718f013fe51">https://github.com/leanprover-community/mathlib/commit/8c836ac9dfa53d6acac4f2a693f2c718f013fe51</a> -- or are you saying Bolton shouldn't be using it anyhow?</p>



<a name="287603615"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287603615" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287603615">(Jun 27 2022 at 16:32)</a>:</h4>
<p>Try doing <code>leanproject upgrade-mathlib</code> and make sure that the <code>rev</code> becomes <code>05565f4d64c988f5ad3bc97eae5413229c34d01d</code></p>



<a name="287603682"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287603682" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287603682">(Jun 27 2022 at 16:33)</a>:</h4>
<p><span class="user-mention" data-user-id="321696">@Julian Berman</span> Yes, I'm saying that commit should not be used. It's not in the <code>master</code> history anymore.</p>



<a name="287603740"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287603740" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287603740">(Jun 27 2022 at 16:33)</a>:</h4>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code><span class="o">(</span>base<span class="o">)</span> <span class="m">12</span>:33:09 lean-prototyping $ leanproject upgrade-mathl
ib
mathlib: trying to update _target/deps/mathlib to revision 8c836ac9dfa53d6acac4f2a693f2c718f013fe51
&gt; git checkout --detach 8c836ac9dfa53d6acac4f2a693f2c718f013fe51    <span class="c1"># in directory _target/deps/mathlib</span>
HEAD is now at 8c836ac9df Merge branch <span class="s1">'master'</span> of https://github.com/leanprover-community/mathlib
remote: Enumerating objects: <span class="m">71</span>, <span class="k">done</span>.
remote: Counting objects: <span class="m">100</span>% <span class="o">(</span><span class="m">71</span>/71<span class="o">)</span>, <span class="k">done</span>.
remote: Compressing objects: <span class="m">100</span>% <span class="o">(</span><span class="m">33</span>/33<span class="o">)</span>, <span class="k">done</span>.
remote: Total <span class="m">71</span> <span class="o">(</span>delta <span class="m">44</span><span class="o">)</span>, reused <span class="m">56</span> <span class="o">(</span>delta <span class="m">38</span><span class="o">)</span>, pack-reused <span class="m">0</span>
Unpacking objects: <span class="m">100</span>% <span class="o">(</span><span class="m">71</span>/71<span class="o">)</span>, <span class="m">54</span>.71 KiB <span class="p">|</span> <span class="m">636</span>.00 KiB/s, <span class="k">done</span>.
From https://github.com/leanprover-community/mathlib
   7191e89632..57e7b8004e  RD_condexp_mono         -&gt; origin/RD_condexp_mono
   ccb29fa8bc..1e61bac1f1  RD_lp_order             -&gt; origin/RD_lp_order
   ce83742c3a..400492c049  apurva/convex_cone_zero -&gt; origin/apurva/convex_cone_zero
   f4ee9f84db..ba43919145  jsm28/two_smul_angle_lemmas -&gt; origin/jsm28/two_smul_angle_lemmas
 * <span class="o">[</span>new branch<span class="o">]</span>            limit_cardinal_refactor -&gt; origin/limit_cardinal_refactor
   331df5a23a..05565f4d64  master                  -&gt; origin/master
   05565f4d64..68e0160128  staging                 -&gt; origin/staging
configuring lean-prototyping <span class="m">0</span>.1
mathlib: trying to update _target/deps/mathlib to revision 8c836ac9dfa53d6acac4f2a693f2c718f013fe51
&gt; git checkout --detach 8c836ac9dfa53d6acac4f2a693f2c718f013fe51    <span class="c1"># in directory _target/deps/mathlib</span>
HEAD is now at 8c836ac9df Merge branch <span class="s1">'master'</span> of https://github.com/leanprover-community/mathlib
Looking <span class="k">for</span> lean-prototyping oleans <span class="k">for</span> 8c836ac9df
  locally...
  Found <span class="nb">local</span> lean-prototyping oleans
Located matching cache
Applying cache
  files extracted: <span class="m">2498</span> <span class="o">[</span><span class="m">00</span>:13, <span class="m">179</span>.07/s<span class="o">]</span>
</code></pre></div>



<a name="287603951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287603951" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287603951">(Jun 27 2022 at 16:35)</a>:</h4>
<p>Also, apologies in advance if <code>leanproject upgrade-mathlib</code> doesn't work -- I don't know what it does in this situation.</p>



<a name="287603990"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287603990" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287603990">(Jun 27 2022 at 16:35)</a>:</h4>
<p>Are you working in the freshly created project, or the one you started with at the beginning of the thread?</p>



<a name="287604068"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287604068" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287604068">(Jun 27 2022 at 16:36)</a>:</h4>
<p>Freshly created after you told me to do so.</p>



<a name="287604100"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287604100" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287604100">(Jun 27 2022 at 16:36)</a>:</h4>
<p>Were the bad commits removed before or after? :-)</p>



<a name="287604148"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287604148" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287604148">(Jun 27 2022 at 16:36)</a>:</h4>
<p>Before, I'm fairly sure.</p>



<a name="287604284"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287604284" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287604284">(Jun 27 2022 at 16:37)</a>:</h4>
<p>It's very puzzling that you'd be on <code>8c836ac9dfa53d6acac4f2a693f2c718f013fe51</code> still, so maybe we turn if off and turn it on again for good measure... (i.e., create a fresh project)</p>



<a name="287604501"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287604501" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287604501">(Jun 27 2022 at 16:39)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="o">(</span><span class="n">base</span><span class="o">)</span> <span class="mi">12</span><span class="o">:</span><span class="mi">30</span><span class="o">:</span><span class="mi">17</span> <span class="n">risc0</span><span class="bp">-</span><span class="n">all</span><span class="bp">-</span><span class="n">files</span> <span class="bp">#=#</span> <span class="n">leanproject</span> <span class="n">new</span> <span class="n">yet</span><span class="bp">-</span><span class="n">another</span><span class="bp">-</span><span class="n">fresh</span><span class="bp">-</span><span class="n">start</span>
<span class="bp">&gt;</span> <span class="n">cd</span> <span class="n">yet</span><span class="bp">-</span><span class="n">another</span><span class="bp">-</span><span class="n">fresh</span><span class="bp">-</span><span class="n">start</span>
<span class="bp">&gt;</span> <span class="n">git</span> <span class="n">init</span> <span class="bp">-</span><span class="n">q</span>
<span class="bp">&gt;</span> <span class="n">git</span> <span class="n">checkout</span> <span class="bp">-</span><span class="n">b</span> <span class="n">lean</span><span class="bp">-</span><span class="mi">3</span><span class="bp">.</span><span class="mi">8</span><span class="bp">.</span><span class="mi">0</span>
<span class="n">Switched</span> <span class="n">to</span> <span class="n">a</span> <span class="n">new</span> <span class="n">branch</span> <span class="bp">'</span><span class="n">lean</span><span class="bp">-</span><span class="mi">3</span><span class="bp">.</span><span class="mi">8</span><span class="bp">.</span><span class="mi">0</span><span class="bp">'</span>
<span class="n">configuring</span> <span class="n">yet</span><span class="bp">-</span><span class="n">another</span><span class="bp">-</span><span class="n">fresh</span><span class="bp">-</span><span class="n">start</span> <span class="mi">0</span><span class="bp">.</span><span class="mi">1</span>
<span class="n">Adding</span> <span class="n">mathlib</span>
<span class="n">mathlib</span><span class="o">:</span> <span class="n">cloning</span> <span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">github.com</span><span class="bp">/</span><span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">/</span><span class="n">mathlib</span> <span class="n">to</span> <span class="n">_target</span><span class="bp">/</span><span class="n">deps</span><span class="bp">/</span><span class="n">mathlib</span>
<span class="bp">&gt;</span> <span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">github.com</span><span class="bp">/</span><span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">/</span><span class="n">mathlib</span> <span class="n">_target</span><span class="bp">/</span><span class="n">deps</span><span class="bp">/</span><span class="n">mathlib</span>
<span class="n">Cloning</span> <span class="n">into</span> <span class="bp">'</span><span class="n">_target</span><span class="bp">/</span><span class="n">deps</span><span class="bp">/</span><span class="n">mathlib'...</span>
<span class="n">remote</span><span class="o">:</span> <span class="n">Enumerating</span> <span class="n">objects</span><span class="o">:</span> <span class="mi">306972</span><span class="o">,</span> <span class="n">done.</span>
<span class="n">remote</span><span class="o">:</span> <span class="n">Counting</span> <span class="n">objects</span><span class="o">:</span> <span class="mi">100</span><span class="bp">%</span> <span class="o">(</span><span class="mi">660</span><span class="bp">/</span><span class="mi">660</span><span class="o">),</span> <span class="n">done.</span>
<span class="n">remote</span><span class="o">:</span> <span class="n">Compressing</span> <span class="n">objects</span><span class="o">:</span> <span class="mi">100</span><span class="bp">%</span> <span class="o">(</span><span class="mi">335</span><span class="bp">/</span><span class="mi">335</span><span class="o">),</span> <span class="n">done.</span>
<span class="n">remote</span><span class="o">:</span> <span class="n">Total</span> <span class="mi">306972</span> <span class="o">(</span><span class="n">delta</span> <span class="mi">420</span><span class="o">),</span> <span class="n">reused</span> <span class="mi">522</span> <span class="o">(</span><span class="n">delta</span> <span class="mi">325</span><span class="o">),</span> <span class="n">pack</span><span class="bp">-</span><span class="n">reused</span> <span class="mi">306312</span>
<span class="n">Receiving</span> <span class="n">objects</span><span class="o">:</span> <span class="mi">100</span><span class="bp">%</span> <span class="o">(</span><span class="mi">306972</span><span class="bp">/</span><span class="mi">306972</span><span class="o">),</span> <span class="mi">161</span><span class="bp">.</span><span class="mi">70</span> <span class="n">MiB</span> <span class="bp">|</span> <span class="mi">14</span><span class="bp">.</span><span class="mi">33</span> <span class="n">MiB</span><span class="bp">/</span><span class="n">s</span><span class="o">,</span> <span class="n">done.</span>
<span class="n">Resolving</span> <span class="n">deltas</span><span class="o">:</span> <span class="mi">100</span><span class="bp">%</span> <span class="o">(</span><span class="mi">245617</span><span class="bp">/</span><span class="mi">245617</span><span class="o">),</span> <span class="n">done.</span>
<span class="bp">&gt;</span> <span class="n">git</span> <span class="n">checkout</span> <span class="c1">--detach 8c836ac9dfa53d6acac4f2a693f2c718f013fe51    # in directory _target/deps/mathlib</span>
<span class="n">HEAD</span> <span class="n">is</span> <span class="n">now</span> <span class="n">at</span> <span class="mi">8</span><span class="n">c836ac9df</span> <span class="n">Merge</span> <span class="n">branch</span> <span class="bp">'</span><span class="n">master'</span> <span class="n">of</span> <span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">github.com</span><span class="bp">/</span><span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">/</span><span class="n">mathlib</span>
<span class="n">configuring</span> <span class="n">yet</span><span class="bp">-</span><span class="n">another</span><span class="bp">-</span><span class="n">fresh</span><span class="bp">-</span><span class="n">start</span> <span class="mi">0</span><span class="bp">.</span><span class="mi">1</span>
<span class="n">mathlib</span><span class="o">:</span> <span class="n">trying</span> <span class="n">to</span> <span class="n">update</span> <span class="n">_target</span><span class="bp">/</span><span class="n">deps</span><span class="bp">/</span><span class="n">mathlib</span> <span class="n">to</span> <span class="n">revision</span> <span class="mi">8</span><span class="n">c836ac9dfa53d6acac4f2a693f2c718f013fe51</span>
<span class="bp">&gt;</span> <span class="n">git</span> <span class="n">checkout</span> <span class="c1">--detach 8c836ac9dfa53d6acac4f2a693f2c718f013fe51    # in directory _target/deps/mathlib</span>
<span class="n">HEAD</span> <span class="n">is</span> <span class="n">now</span> <span class="n">at</span> <span class="mi">8</span><span class="n">c836ac9df</span> <span class="n">Merge</span> <span class="n">branch</span> <span class="bp">'</span><span class="n">master'</span> <span class="n">of</span> <span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">github.com</span><span class="bp">/</span><span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">/</span><span class="n">mathlib</span>
<span class="n">Looking</span> <span class="n">for</span> <span class="n">yet</span><span class="bp">-</span><span class="n">another</span><span class="bp">-</span><span class="n">fresh</span><span class="bp">-</span><span class="n">start</span> <span class="n">oleans</span> <span class="n">for</span> <span class="mi">8</span><span class="n">c836ac9df</span>
  <span class="n">locally...</span>
  <span class="n">Found</span> <span class="kn">local</span> <span class="n">yet</span><span class="bp">-</span><span class="n">another</span><span class="bp">-</span><span class="n">fresh</span><span class="bp">-</span><span class="n">start</span> <span class="n">oleans</span>
<span class="n">Located</span> <span class="n">matching</span> <span class="n">cache</span>
<span class="n">Applying</span> <span class="n">cache</span>
  <span class="n">files</span> <span class="n">extracted</span><span class="o">:</span> <span class="mi">2498</span> <span class="o">[</span><span class="mi">00</span><span class="o">:</span><span class="mi">15</span><span class="o">,</span> <span class="mi">165</span><span class="bp">.</span><span class="mi">14</span><span class="bp">/</span><span class="n">s</span><span class="o">]</span>
<span class="o">(</span><span class="n">base</span><span class="o">)</span> <span class="mi">12</span><span class="o">:</span><span class="mi">38</span><span class="o">:</span><span class="mi">56</span> <span class="n">risc0</span><span class="bp">-</span><span class="n">all</span><span class="bp">-</span><span class="n">files</span> <span class="bp">#=#</span>
</code></pre></div>



<a name="287604527"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287604527" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287604527">(Jun 27 2022 at 16:39)</a>:</h4>
<p>Still <code>8c836ac9dfa53d6acac4f2a693f2c718f013fe51</code></p>



<a name="287604935"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287604935" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287604935">(Jun 27 2022 at 16:42)</a>:</h4>
<p>Hmm, I'm getting that too</p>



<a name="287605023"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287605023" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287605023">(Jun 27 2022 at 16:43)</a>:</h4>
<p>Yes, I can also reproduce (together with orange bar hell). So right now <code>leanproject new</code> is broken.</p>



<a name="287607534"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287607534" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287607534">(Jun 27 2022 at 17:01)</a>:</h4>
<p>I've reproduced it without <code>leanproject</code>.</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>$ mkdir foo
$ <span class="nb">cd</span> foo
$ leanpkg init foo
<span class="c1"># now edit the leanpkg.toml file to use lean_version = "leanprover-community/lean:3.43.0"</span>
$ leanpkg configure
$ leanpkg add leanprover-community/mathlib
</code></pre></div>
<p>Then if you look at the <code>leanpkg.toml</code> it has <code>rev = "8c836ac9dfa53d6acac4f2a693f2c718f013fe51"</code>.</p>
<p>If I leave it at <code>lean:3.42.1</code> (the default for me), then it has <code>rev = "c81c6c91781f12ac7005367a4477dcb2f6be638f"</code>, which is a commit from 12 days ago. I guess <code>leanpkg</code> knows what version of mathlib to use for each version of lean somehow?</p>



<a name="287608053"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287608053" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287608053">(Jun 27 2022 at 17:05)</a>:</h4>
<p>It's because the <code>lean-3.43.0</code> branch is still on that commit</p>



<a name="287608207"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Orange%20bar%20hell%20on%20fresh%20leanproject/near/287608207" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Orange.20bar.20hell.20on.20fresh.20leanproject.html#287608207">(Jun 27 2022 at 17:06)</a>:</h4>
<p>gaargh I thought it would be something like that but I checked tags not branches.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>