---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html">Advanced multiplication world final level</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="189240758"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189240758" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Helwer <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189240758">(Feb 27 2020 at 18:24)</a>:</h4>
<p>Anyone have any small hints for the final level of advanced multiplication world that doesn't give away the full game? I'm at:<br>
case mynat.succ<br>
a b d : mynat,<br>
hd : a ≠ 0 → a * b = a * d → b = d,<br>
anz : a ≠ 0,<br>
h : a * b = a * succ d<br>
⊢ b = succ d</p>



<a name="189241263"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189241263" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189241263">(Feb 27 2020 at 18:29)</a>:</h4>
<p>unfold the definition of a * succ d , then use the inductive hypothesis and left cancellation of addition</p>



<a name="189241705"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189241705" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Helwer <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189241705">(Feb 27 2020 at 18:33)</a>:</h4>
<p>So use induction a second time?</p>



<a name="189245422"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189245422" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189245422">(Feb 27 2020 at 19:05)</a>:</h4>
<p>This doesn't look good. Isn't <code>hd</code> useless?</p>



<a name="189245451"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189245451" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189245451">(Feb 27 2020 at 19:05)</a>:</h4>
<p>We know a isn't zero, but we also know that ab isn't ad from h, so hd can never be used.</p>



<a name="189245479"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189245479" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189245479">(Feb 27 2020 at 19:05)</a>:</h4>
<p>I'm really sorry about this final level -- nobody can do it ;-)</p>



<a name="189245550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189245550" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189245550">(Feb 27 2020 at 19:06)</a>:</h4>
<p>I usually ask students if they can prove it in maths rather than in Lean!</p>



<a name="189245589"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189245589" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Helwer <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189245589">(Feb 27 2020 at 19:06)</a>:</h4>
<p>No worries, it's nice to have a challenge! I definitely banged my head against the first level in advanced multiplication world for an hour before getting it - makes victory all the sweeter.</p>



<a name="189245608"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189245608" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Helwer <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189245608">(Feb 27 2020 at 19:06)</a>:</h4>
<p>I've started trying to follow this proof on math stackexchange: <a href="https://math.stackexchange.com/a/3219757/616655" target="_blank" title="https://math.stackexchange.com/a/3219757/616655">https://math.stackexchange.com/a/3219757/616655</a></p>



<a name="189245656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189245656" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Helwer <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189245656">(Feb 27 2020 at 19:07)</a>:</h4>
<p>but then I get to "To say that m≠0 means that m=z+1 for some z" and I don't know how to introduce a new variable z</p>



<a name="189245730"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189245730" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189245730">(Feb 27 2020 at 19:07)</a>:</h4>
<p>You can do <code>cases m with z</code> to do that.</p>



<a name="189245871"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189245871" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Helwer <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189245871">(Feb 27 2020 at 19:09)</a>:</h4>
<p>Ahhhh yeah that would do it. Also before that... I have a * b \ne 0 and a \ne 0 but don't think I have a theorem to get to b \ne 0</p>



<a name="189245921"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189245921" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Helwer <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189245921">(Feb 27 2020 at 19:09)</a>:</h4>
<p>I suppose I could look up how to introduce &amp; prove new theorems mid-proof</p>



<a name="189246270"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189246270" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189246270">(Feb 27 2020 at 19:12)</a>:</h4>
<p>But I am concerned that the state that your game is problematic because you will need induction at some point and your <code>hd</code> is useless. I think your <code>hd</code> needs to be beefed up to have a "for all b" in . I don't think you can finish from here, whatever a 2 point answer on stackexchange says</p>



<a name="189246549"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189246549" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Helwer <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189246549">(Feb 27 2020 at 19:16)</a>:</h4>
<p>Well I did try a double induction strategy at one point and after much finangling  managed to change a<em>b = a</em>c =&gt; b = c to b<em>a = c</em>a =&gt; b = c lol. But perhaps I will try the induction again from the top without adding a "revert ha" at the beginning</p>



<a name="189246751"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189246751" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Helwer <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189246751">(Feb 27 2020 at 19:18)</a>:</h4>
<p>huh... actually that probably would have worked because then I could just use mul_comm and the inductive hypothesis? I will try this!</p>



<a name="189260247"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189260247" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Helwer <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189260247">(Feb 27 2020 at 21:41)</a>:</h4>
<p>All right I throw in the towel... does anyone have a proof of this? Would love to go over it line by line.</p>



<a name="189261251"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189261251" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189261251">(Feb 27 2020 at 21:52)</a>:</h4>
<p>Credit : I copied this (with some light edits) from the solutions, but I won't link to them unless you ask for it as I don't want to spoil any fun ;):</p>
<div class="codehilite"><pre><span></span>  <span class="n">revert</span> <span class="n">b</span><span class="o">,</span>
  <span class="n">induction</span> <span class="n">c</span> <span class="k">with</span> <span class="n">d</span> <span class="n">hd</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">intro</span> <span class="n">b</span><span class="o">,</span>
    <span class="n">rw</span> <span class="n">mul_zero</span><span class="o">,</span>
    <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
    <span class="n">cases</span> <span class="o">(</span><span class="n">eq_zero_or_eq_zero_of_mul_eq_zero</span> <span class="n">a</span> <span class="n">b</span> <span class="n">h</span><span class="o">),</span>
      <span class="n">exfalso</span><span class="o">,</span>
      <span class="n">apply</span> <span class="n">ha</span><span class="o">,</span>
      <span class="n">assumption</span><span class="o">,</span>
    <span class="n">assumption</span><span class="o">,</span>
  <span class="o">},</span>
  <span class="o">{</span> <span class="n">intros</span> <span class="n">b</span> <span class="n">hb</span><span class="o">,</span>
    <span class="n">cases</span> <span class="n">b</span> <span class="k">with</span> <span class="n">c</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">rw</span> <span class="n">mul_zero</span> <span class="n">at</span> <span class="n">hb</span><span class="o">,</span>
      <span class="n">rw</span> <span class="n">mul_succ</span> <span class="n">at</span> <span class="n">hb</span><span class="o">,</span>
      <span class="n">exfalso</span><span class="o">,</span>
      <span class="n">apply</span> <span class="n">ha</span><span class="o">,</span>
      <span class="n">rw</span> <span class="n">eq_comm</span> <span class="n">at</span> <span class="n">hb</span><span class="o">,</span>
      <span class="n">apply</span> <span class="n">add_left_eq_zero</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">d</span><span class="o">)</span> <span class="n">a</span> <span class="n">hb</span><span class="o">,</span>
    <span class="o">},</span>
    <span class="o">{</span> <span class="n">congr</span><span class="o">,</span> <span class="c1">-- c = d -&gt; succ c = succ d</span>
      <span class="n">apply</span> <span class="n">hd</span><span class="o">,</span>
      <span class="n">rw</span> <span class="n">mul_succ</span> <span class="n">at</span> <span class="n">hb</span><span class="o">,</span>
      <span class="n">rw</span> <span class="n">mul_succ</span> <span class="n">at</span> <span class="n">hb</span><span class="o">,</span>
      <span class="n">apply</span> <span class="n">add_right_cancel</span> <span class="o">(</span><span class="n">a</span><span class="bp">*</span><span class="n">c</span><span class="o">)</span> <span class="n">a</span> <span class="o">(</span><span class="n">a</span><span class="bp">*</span><span class="n">d</span><span class="o">)</span> <span class="n">hb</span>
    <span class="o">}</span>
  <span class="o">}</span>
</pre></div>



<a name="189262876"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189262876" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Helwer <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189262876">(Feb 27 2020 at 22:11)</a>:</h4>
<p>lol what is this revert b thing</p>



<a name="189263270"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189263270" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189263270">(Feb 27 2020 at 22:16)</a>:</h4>
<p>revert is the opposite of intro, it turns a statement with given variable into a forall</p>



<a name="189263342"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189263342" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189263342">(Feb 27 2020 at 22:16)</a>:</h4>
<p>I think it is listed under the tactics box on the left in natural number game.</p>



<a name="189263380"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189263380" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Helwer <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189263380">(Feb 27 2020 at 22:17)</a>:</h4>
<p>Oh sure, I've just never seen it used in this specific way... still going through the proof</p>



<a name="189263632"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189263632" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Helwer <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189263632">(Feb 27 2020 at 22:20)</a>:</h4>
<p>Huh I was actually very close, except for the use of "revert b" (which effect I still don't understand on the proof - makes the inductive hypothesis nicer?) and the use of case instead of a second induction</p>



<a name="189264661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189264661" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Helwer <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189264661">(Feb 27 2020 at 22:31)</a>:</h4>
<p>Okay yeah this is very strange. Don't know why "revert b" has the effect that it does on the inductive hypothesis, can anyone explain? Thanks for the proof btw!</p>



<a name="189264746"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189264746" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189264746">(Feb 27 2020 at 22:32)</a>:</h4>
<p>Without revert, b is fixed in the whole inductive proof.</p>



<a name="189264776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189264776" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189264776">(Feb 27 2020 at 22:33)</a>:</h4>
<p>(Note I don't even know what you want to prove, I can only tell what revert is doing to inductive proofs).</p>



<a name="189264996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189264996" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Helwer <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189264996">(Feb 27 2020 at 22:36)</a>:</h4>
<p>so it looks like without "revert b", "cases b with e" rewrites our inductive hypothesis to "hd : a * succ e = a * d → succ e = d"<br>
whereas<em>with</em> "revert b" it's rewritten to "∀ (b : mynat), a * b = a * d → b = d" which we can actually use to solve the proof</p>



<a name="189265153"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189265153" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Helwer <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189265153">(Feb 27 2020 at 22:38)</a>:</h4>
<p>trying to wrap my head around when I'd want to put a universally-quantified variable in the inductive hypothesis vs not</p>



<a name="189265228"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189265228" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189265228">(Feb 27 2020 at 22:39)</a>:</h4>
<p>Can someone post the goal of this proof?</p>



<a name="189265244"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189265244" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Helwer <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189265244">(Feb 27 2020 at 22:39)</a>:</h4>
<p>theorem mul_left_cancel (a b c : mynat) (ha : a ≠ 0) : a * b = a * c → b = c :=</p>



<a name="189265403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189265403" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189265403">(Feb 27 2020 at 22:42)</a>:</h4>
<blockquote>
<p>so it looks like without "revert b", "cases b with e" </p>
</blockquote>
<p>This is a typo, right? If you revert b you cannot case on b.</p>



<a name="189265523"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189265523" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Helwer <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189265523">(Feb 27 2020 at 22:43)</a>:</h4>
<p>This cases is nested within an induction, here's my (horribly formatted) proof:<br>
revert b,<br>
induction c with d hd,</p>
<p>intros b h,<br>
rw mul_zero at h,<br>
rw mul_eq_zero_iff at h,<br>
cases h with p q,<br>
exfalso,<br>
apply ha,<br>
exact p,<br>
exact q,</p>
<p>intros b h,<br>
cases b with e,<br>
rw mul_zero at h,<br>
symmetry at h,<br>
exfalso,<br>
apply ha,<br>
rw mul_eq_zero_iff at h,<br>
cases h with p q,<br>
exact p,<br>
exfalso,<br>
apply succ_ne_zero d,<br>
exact q,<br>
rw succ_eq_succ_iff,<br>
apply hd,<br>
rw mul_succ a e at h,<br>
rw mul_succ a d at h,<br>
rw add_right_cancel_iff at h,<br>
exact h,</p>



<a name="189265525"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189265525" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189265525">(Feb 27 2020 at 22:43)</a>:</h4>
<p>The first two lines of the proof are <code>revert b, induction c with d hd,</code>. Here it should be very easy to compare the induction hypothesis you get with or without the revert. Clearly the one you get after revert is stronger.</p>



<a name="189265665"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189265665" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Helwer <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189265665">(Feb 27 2020 at 22:44)</a>:</h4>
<p>I guess what I want to get at is what exactly is this doing and in what circumstances would I want to do this (reverting a variable declaration is a new technique in this natural numbers game tutorial)</p>



<a name="189265726"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189265726" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189265726">(Feb 27 2020 at 22:45)</a>:</h4>
<p>It's just a matter of whether you've fixing a value for <code>b</code> before you do the induction or not.</p>



<a name="189265749"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189265749" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189265749">(Feb 27 2020 at 22:46)</a>:</h4>
<p>By the way, I don't know if this is explained in the natural number game, but the recommended way of doing those first two lines is <code>induction c with d hd generalizing b,</code> which does the <code>intro</code> afterwards (but this may be too much magic if you already have difficulties here).</p>



<a name="189265803"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189265803" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189265803">(Feb 27 2020 at 22:46)</a>:</h4>
<p><code>intro b</code> effectively says "let b be some particular value", and <code>revert b</code> says: actually, let's make life harder, by proving this for all values of <code>b</code></p>



<a name="189265865"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189265865" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189265865">(Feb 27 2020 at 22:47)</a>:</h4>
<p>I don't think <code>generalizing</code> works in natural number game?</p>



<a name="189265941"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189265941" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level.html#189265941">(Feb 27 2020 at 22:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="264607">Andrew Helwer</span> <a href="#narrow/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level/near/189265153" title="#narrow/stream/113488-general/topic/Advanced.20multiplication.20world.20final.20level/near/189265153">said</a>:</p>
<blockquote>
<p>trying to wrap my head around when I'd want to put a universally-quantified variable in the inductive hypothesis vs not</p>
</blockquote>
<p>it depends! sometimes proving a more general statement is easier. in fact, for some inductive proofs you need to generalize to entirely different statements in order to be able to prove them comfortably (i.e. generalizing in a way that is trickier than just using revert).<br>
if you have a bunch of universal quantifiers at the beginning of your statement, revert is just the same thing as shuffling around the order of those quantifiers, usually in a way that yields the strongest induction hypothesis when you introduce the variable you want to induct on.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>