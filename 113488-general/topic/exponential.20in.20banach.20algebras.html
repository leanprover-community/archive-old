---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/exponential.20in.20banach.20algebras.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html">exponential in banach algebras</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="248773988"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/248773988" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#248773988">(Aug 08 2021 at 14:47)</a>:</h4>
<p>Hello everyone ! I recently opened <a href="https://github.com/leanprover-community/mathlib/issues/8576">#8576</a> wich defines exponential in a Banach algebra. As written in the PR description, it is not completely ready for review, but I wanted to open the PR anyway because I'd like to get as many opinions as possibles on my code as soon as possible. I also have a few specific questions about design decisions :</p>
<ul>
<li><strong>Explicit parameters</strong> : currently, both the field and the algebra are explicit parameters. I think the field has to be explicit anyway because it can't be inferred and a type can be a normed algebra over two distinct fields. But the algebra could be inferred 1) when the function is applied 2) by explicitely giving the type of the function. In my opinion it's more readable if it is explicit, because I feel like <code>exp ‚Ñù</code> reads as "real exponential", not "the exponential in an arbitrary Banach <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">R</mi></mrow><annotation encoding="application/x-tex">\R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord mathbb">R</span></span></span></span>-algebra", so having <code>exp ‚Ñù ‚Ñù</code> and <code>exp ‚Ñù ùî∏</code> is better to me, but I'd like your opinion on that.</li>
<li><strong>Normal form for "in the disc of convergence"</strong> : if the base field is not <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">R</mi></mrow><annotation encoding="application/x-tex">\R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord mathbb">R</span></span></span></span> or <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">C</mi></mrow><annotation encoding="application/x-tex">\mathbb{C}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord mathbb">C</span></span></span></span>, the exponential map is not well-defined everywhere (p-adics are a counterexample). So I have multiple lemmas requiring for some variable to be in the disc of convergence, and I don't know if I should write it as <code>‚Üë‚à•x‚à•‚Çä &lt; (exp_series ùïÇ ùî∏).radius</code> or <code>x ‚àà emetric.ball (0 : ùî∏) (exp_series ùïÇ ùî∏).radius</code>. Currently I just use whatever is more convenient in the proof but that's a bad heuristic, so I'd like your opinion on that too.</li>
<li><strong>Future of <code>complex.exp</code> and <code>real.exp</code></strong> : In the PR, I prove that this general definition agrees with <code>complex.exp</code> and <code>real.exp</code>. The question is : should the new definition replace the old ones ? That is, do we want anyone using <code>real.exp</code> to import a whole chunk of the analysis and topology library of mathlib ? In my opinion this is not a big problem since in most cases you want to use the derivative of <code>exp</code> anyway so you end up importing analysis, but I'm not experienced enough to take this decision. </li>
</ul>
<p>Thanks in advance !</p>



<a name="248910428"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/248910428" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#248910428">(Aug 09 2021 at 21:25)</a>:</h4>
<p>About the last question, I would get rid of <code>real.exp</code> and <code>complex.exp</code>, especially their ugly proofs of differentiability. But I guess <span class="user-mention" data-user-id="110049">@Mario Carneiro</span> has a different opinion.</p>



<a name="248910687"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/248910687" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#248910687">(Aug 09 2021 at 21:27)</a>:</h4>
<p>I don't mind having a less ugly proof of differentiability, but the definition of <code>real.exp</code> should not depend on a "huge chunk of analysis", which I'm sure is even larger than the huge chunk of topology that originally motivated the redefinition of <code>real</code></p>



<a name="248910822"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/248910822" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#248910822">(Aug 09 2021 at 21:28)</a>:</h4>
<p>We could keep declaration of <code>real.exp</code>, especially since <code>exp ‚Ñù ‚Ñù</code> is indeed a bit bad to read, but reproving all its properties from the general theory.</p>



<a name="248910847"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/248910847" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#248910847">(Aug 09 2021 at 21:28)</a>:</h4>
<p>I still miss the good old days when real numbers were defined properly.</p>



<a name="248910854"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/248910854" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#248910854">(Aug 09 2021 at 21:29)</a>:</h4>
<p>having a proof of equivalence seems fine to me, and will help with all the advanced material</p>



<a name="248910901"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/248910901" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#248910901">(Aug 09 2021 at 21:29)</a>:</h4>
<p>the real numbers <em>are</em> defined properly, the way they are in the textbooks</p>



<a name="248910920"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/248910920" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#248910920">(Aug 09 2021 at 21:29)</a>:</h4>
<p>they just aren't defined in neo-Bourbaki style</p>



<a name="248910927"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/248910927" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#248910927">(Aug 09 2021 at 21:29)</a>:</h4>
<p>I'm sure we would understand the performance issues now, and have fast real numbers properly defined.</p>



<a name="248910979"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/248910979" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#248910979">(Aug 09 2021 at 21:30)</a>:</h4>
<p>That's not how they are defined in good textbooks.</p>



<a name="248911010"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/248911010" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#248911010">(Aug 09 2021 at 21:30)</a>:</h4>
<p>And our definition wasn't neo-Bourbaki, it was good old Bourbaki.</p>



<a name="249513780"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/249513780" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#249513780">(Aug 15 2021 at 13:52)</a>:</h4>
<p><span class="user-mention silent" data-user-id="268315">Anatole Dedecker</span> has marked this topic as resolved.</p>



<a name="249513783"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/249513783" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#249513783">(Aug 15 2021 at 13:52)</a>:</h4>
<p><span class="user-mention silent" data-user-id="268315">Anatole Dedecker</span> has marked this topic as unresolved.</p>



<a name="258125329"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/258125329" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#258125329">(Oct 19 2021 at 00:57)</a>:</h4>
<p>What's wrong with having (relatively) large dependencies for <code>real</code>/<code>exp</code>/whatever? Especially if it reduces the total amount of LOC we need to maintain.</p>



<a name="258125354"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/258125354" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#258125354">(Oct 19 2021 at 00:57)</a>:</h4>
<p>I understand that before CI it was a problem.</p>



<a name="258125678"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/258125678" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#258125678">(Oct 19 2021 at 01:01)</a>:</h4>
<p>I don't think there's a huge problem. But CI is still an issue (we have some ad-hoc runners helping the CI queue, while we get more online), and the total compilation time is still a huge pain when refactoring anything low level. Having to wait several hours between rounds of changes is not efficient.</p>



<a name="258125752"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/258125752" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#258125752">(Oct 19 2021 at 01:02)</a>:</h4>
<p>But I agree reducing compile time can't come at the arbitrary expense of good library design.</p>



<a name="258128482"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/258128482" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#258128482">(Oct 19 2021 at 01:41)</a>:</h4>
<p>It's not clear that changing the definition of <code>exp</code> to something based on the general exponential function will increase the total compile time.</p>



<a name="258128577"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/258128577" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#258128577">(Oct 19 2021 at 01:42)</a>:</h4>
<p>(and yes, I think that analytic functions should be used in more places)</p>



<a name="278641841"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278641841" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278641841">(Apr 12 2022 at 02:45)</a>:</h4>
<p>Perhaps I'm missing something mathematically; but what's the benefit of defining <a href="https://leanprover-community.github.io/mathlib_docs/find/exp">docs#exp</a> over an arbitrary base ring ùïÇ vs just using ‚Ñö?</p>
<p>Is <a href="https://leanprover-community.github.io/mathlib_docs/find/exp_series">docs#exp_series</a> meaningful today in the absence of <a href="https://leanprover-community.github.io/mathlib_docs/find/char_zero">docs#char_zero</a>? It looks to me like it ends up truncating the terms that would be a divide by zero, which doesn't seem particularly useful.</p>



<a name="278647206"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278647206" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278647206">(Apr 12 2022 at 04:29)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/padic.char_zero">docs#padic.char_zero</a></p>



<a name="278647290"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278647290" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278647290">(Apr 12 2022 at 04:30)</a>:</h4>
<p>AFAIR, <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> asked to define it over any field.</p>



<a name="278651117"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278651117" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278651117">(Apr 12 2022 at 05:56)</a>:</h4>
<p>I'm certainly in favour of a general field.  Whether assuming <code>char_zero</code> or not, it depends.  It might be fun if some identities also work without the assumption...</p>



<a name="278657604"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278657604" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278657604">(Apr 12 2022 at 07:36)</a>:</h4>
<p>I need it over the p-adic numbers which are characteristic 0. I don't have any use for it in char p</p>



<a name="278660214"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278660214" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278660214">(Apr 12 2022 at 08:06)</a>:</h4>
<p>Whether the identities work or not without <code>char_zero</code>; is it reasonable to define <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn><mo>+</mo><mi>x</mi><mo>+</mo><mfrac><msup><mi>x</mi><mn>2</mn></msup><mn>2</mn></mfrac></mrow><annotation encoding="application/x-tex">exp(x) = 1 + x + \frac{x^2}{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">e</span><span class="mord mathnormal">x</span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.3629em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0179em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> in characteristic 3? Because that's what we do right now, and it seems like nonsense to me, because the terms we're removing aren't zero in real life, they're undefined.</p>



<a name="278660376"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278660376" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278660376">(Apr 12 2022 at 08:08)</a>:</h4>
<p>(regarding my <code>rat</code> suggestion, perhaps I'm under the false impression that every char_zero normed algebra over a field must also be a normed algebra over the rationals)</p>



<a name="278660921"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278660921" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278660921">(Apr 12 2022 at 08:14)</a>:</h4>
<p>I guess that in char p &gt; 0 the correct thing is to use something like <a href="https://en.wikipedia.org/wiki/Divided_power_structure">https://en.wikipedia.org/wiki/Divided_power_structure</a></p>



<a name="278662160"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278662160" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278662160">(Apr 12 2022 at 08:29)</a>:</h4>
<p>I agree that 1+x+x^2/2 is not a useful function in char 3 (or at least not useful to me). Note that Johan's suggestion involves a lot of extra structure on a ring, basically you're saying "give me a whole bunch of elements <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>c</mi><mi>n</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">c_n(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> satisfying axioms which are satisfied by <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>x</mi><mi>n</mi></msup><mi mathvariant="normal">/</mi><mi>n</mi><mo stretchy="false">!</mo></mrow><annotation encoding="application/x-tex">x^n/n!</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mord">/</span><span class="mord mathnormal">n</span><span class="mclose">!</span></span></span></span> and then just add the <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>c</mi><mi>n</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">c_n(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> up instead" (in fact we don't add them up, we do other things with them, but that's another story). If the ring is a <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">Q</mi></mrow><annotation encoding="application/x-tex">\mathbb{Q}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8556em;vertical-align:-0.1667em;"></span><span class="mord mathbb">Q</span></span></span></span>-algebra then there are unique choices for the <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>c</mi><mi>n</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">c_n(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>, but in char p there can be others. Note that you don't attempt to define these when <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">x=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>, you do it only for "small" <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span> (all <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span> in an ideal).</p>



<a name="278662559"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278662559" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278662559">(Apr 12 2022 at 08:33)</a>:</h4>
<p>However let me stress that the usual exponential and logarithm play a useful role much earlier on in the <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span></span></span></span>-adic theory (the story of when things converge is different, but the basic ideas are the same).</p>



<a name="278662927"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278662927" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278662927">(Apr 12 2022 at 08:37)</a>:</h4>
<p>I'm not even claiming that <code>1+x+x^2</code> in characteristic 3 isn't a useful function, just that it's not deserving of the name <code>exp</code></p>



<a name="278662979"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278662979" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278662979">(Apr 12 2022 at 08:37)</a>:</h4>
<p>People aren't going to use exp in char 3 so maybe it doesn't matter what it's called?</p>



<a name="278663062"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278663062" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278663062">(Apr 12 2022 at 08:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113488-general/topic/exponential.20in.20banach.20algebras/near/278662927">said</a>:</p>
<blockquote>
<p>I'm not even claiming that <code>1+x+x^2</code> in characteristic 3 isn't a useful function, just that it's not deserving of the name <code>exp</code></p>
</blockquote>
<p><code>1 + x - x^2</code>, you mean?</p>



<a name="278663327"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278663327" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278663327">(Apr 12 2022 at 08:40)</a>:</h4>
<p>I'm advocating for putting <code>[char_zero ùïÇ]</code> on the definition (even though it would be unused), as a clear indication than the name only makes sense in that situation</p>



<a name="278663496"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278663496" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278663496">(Apr 12 2022 at 08:42)</a>:</h4>
<p>And then my follow up question is "if I do that, is there any A for which <code>ùïÇ = ‚Ñö</code> isn't a valid choice?"</p>



<a name="278666727"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278666727" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278666727">(Apr 12 2022 at 09:13)</a>:</h4>
<p>What is A here? We'll need it for Q-algebras with a notion of convergence.</p>



<a name="278671754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278671754" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278671754">(Apr 12 2022 at 10:04)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/exp">docs#exp</a></p>



<a name="278671765"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278671765" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278671765">(Apr 12 2022 at 10:04)</a>:</h4>
<p><code>ùî∏</code> is the algebra in which we're computing the exponential</p>



<a name="278671783"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278671783" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278671783">(Apr 12 2022 at 10:04)</a>:</h4>
<p><code>ùïÇ</code> is some nonsense argument that doesn't actually matter, see <a href="https://leanprover-community.github.io/mathlib_docs/find/exp_eq_exp">docs#exp_eq_exp</a></p>



<a name="278674895"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278674895" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278674895">(Apr 12 2022 at 10:40)</a>:</h4>
<p>Won't you then have to carry <code>normed_space ‚Ñö ùî∏</code> everywhere? I'm hitting something similar in <a href="https://github.com/leanprover-community/mathlib/pull/13379">#13379</a> where I could prove stuff about <code>normed_space ‚Ñö E</code> but if you do you will need to assume that all your real normed spaces are also rational normed spaces (unless I missed an instance?)</p>



<a name="278675673"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278675673" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278675673">(Apr 12 2022 at 10:51)</a>:</h4>
<p>I'm currently trying to work out if this is true:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">instance</span> <span class="n">normed_algebra_rat</span> <span class="o">{</span><span class="bp">ùïú</span><span class="o">}</span> <span class="o">[</span><span class="n">normed_division_ring</span> <span class="bp">ùïú</span><span class="o">]</span> <span class="o">[</span><span class="n">char_zero</span> <span class="bp">ùïú</span><span class="o">]</span> <span class="o">:</span> <span class="n">normed_algebra</span> <span class="n">‚Ñö</span> <span class="bp">ùïú</span> <span class="o">:=</span>
</code></pre></div>



<a name="278676539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278676539" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278676539">(Apr 12 2022 at 11:00)</a>:</h4>
<p>given that a normed field is not a normed ring which is a field (because the conventions on norms are different for rings and fields) I think it's only wise to check these things carefully!</p>



<a name="278676742"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278676742" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278676742">(Apr 12 2022 at 11:03)</a>:</h4>
<p>I can't seem to prove it, likely because it's not true</p>



<a name="278676850"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278676850" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278676850">(Apr 12 2022 at 11:04)</a>:</h4>
<p>Fundamentally it seems I need some typeclass that says  that the norm preserves casts of rationals / naturals / integers</p>



<a name="278676899"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278676899" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278676899">(Apr 12 2022 at 11:04)</a>:</h4>
<p>Many many lemmas under <code>analysis.convex.</code> need such a typeclass.</p>



<a name="278677023"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278677023" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278677023">(Apr 12 2022 at 11:06)</a>:</h4>
<p>I think "preserves cast of nat" probably implies all the rest?</p>



<a name="278677054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278677054" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278677054">(Apr 12 2022 at 11:06)</a>:</h4>
<p>Is there a more mathematical notion for this?</p>



<a name="278677092"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278677092" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278677092">(Apr 12 2022 at 11:07)</a>:</h4>
<p>I did manage to prove a few results that were a bit surprising in that direction. Let me dig out...</p>



<a name="278677171"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278677171" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278677171">(Apr 12 2022 at 11:07)</a>:</h4>
<p>(some examples: <a href="https://leanprover-community.github.io/mathlib_docs/find/pi.normed_space">docs#pi.normed_space</a> satisfies such a typeclass, <a href="https://leanprover-community.github.io/mathlib_docs/find/euclidean_space">docs#euclidean_space</a> does not)</p>



<a name="278677611"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278677611" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278677611">(Apr 12 2022 at 11:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113488-general/topic/exponential.20in.20banach.20algebras/near/278675673">said</a>:</p>
<blockquote>
<p>I'm currently trying to work out if this is true:</p>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">instance</span> <span class="n">normed_algebra_rat</span> <span class="o">{</span><span class="bp">ùïú</span><span class="o">}</span> <span class="o">[</span><span class="n">normed_division_ring</span> <span class="bp">ùïú</span><span class="o">]</span> <span class="o">[</span><span class="n">char_zero</span> <span class="bp">ùïú</span><span class="o">]</span> <span class="o">:</span> <span class="n">normed_algebra</span> <span class="n">‚Ñö</span> <span class="bp">ùïú</span> <span class="o">:=</span>
</code></pre></div><br>
</p>
</blockquote>
<p>Unless I'm confused, the p-adics are a counterexample.</p>



<a name="278677702"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278677702" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278677702">(Apr 12 2022 at 11:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Ya√´l Dillies</span> <a href="#narrow/stream/113488-general/topic/exponential.20in.20banach.20algebras/near/278676899">said</a>:</p>
<blockquote>
<p>Many many lemmas under <code>analysis.convex.</code> need such a typeclass.</p>
</blockquote>
<p>The stereotypical example is <a href="https://leanprover-community.github.io/mathlib_docs/find/convex_on_norm">docs#convex_on_norm</a></p>



<a name="278677793"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278677793" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278677793">(Apr 12 2022 at 11:14)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/normed_algebra">docs#normed_algebra</a></p>



<a name="278677826"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278677826" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278677826">(Apr 12 2022 at 11:15)</a>:</h4>
<p>Oh wait, it already exists?!</p>



<a name="278677859"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278677859" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278677859">(Apr 12 2022 at 11:15)</a>:</h4>
<p>Reid, <a href="https://leanprover-community.github.io/mathlib_docs/find/padic_norm_e.norm_int_le_one">docs#padic_norm_e.norm_int_le_one</a> does seem to confirm you're correct</p>



<a name="278677971"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278677971" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278677971">(Apr 12 2022 at 11:16)</a>:</h4>
<p><code> normed_algebra ‚Ñö ùïú</code> needs <code>normed_field ‚Ñö</code> -- is there an instance of this? Number theorists have lots of norms that they want to put on the rationals.</p>



<a name="278678087"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278678087" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278678087">(Apr 12 2022 at 11:17)</a>:</h4>
<p>Yes, the real one <a href="https://leanprover-community.github.io/mathlib_docs/find/rat.normed_field">docs#rat.normed_field</a></p>



<a name="278678318"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278678318" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278678318">(Apr 12 2022 at 11:20)</a>:</h4>
<p><span class="user-mention" data-user-id="268315">@Anatole Dedecker</span>, turns out <a href="https://leanprover-community.github.io/mathlib_docs/find/normed_algebra">docs#normed_algebra</a> is what we wanted all along.</p>



<a name="278678450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278678450" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278678450">(Apr 12 2022 at 11:22)</a>:</h4>
<p>Over the reals, I take it?</p>



<a name="278678615"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278678615" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278678615">(Apr 12 2022 at 11:24)</a>:</h4>
<p>We wanted to state lemmas more generally than for <code>‚Ñù</code>.</p>



<a name="278678879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278678879" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278678879">(Apr 12 2022 at 11:27)</a>:</h4>
<p>Yael, it sounds like you're talking about something different to what I was asking about</p>



<a name="278678940"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278678940" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278678940">(Apr 12 2022 at 11:28)</a>:</h4>
<p>I believe it's related, because the answer to your question is also an answer to mine.</p>



<a name="278679403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278679403" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278679403">(Apr 12 2022 at 11:32)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/13384">#13384</a> is the strongest instance I was able to prove</p>



<a name="278679435"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278679435" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278679435">(Apr 12 2022 at 11:32)</a>:</h4>
<p>Just wanted to comment since I'm the author of the <code>exp</code> files. Indeed the case of a field with nonzero characteristic is a bit stupid. I must admit that I didn't have a lot of other examples in mind than <code>real</code> and <code>complex</code> at the time, I barely knew about p-adics, so I was really over-generalizing without thinking much about it <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="278679605"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278679605" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278679605">(Apr 12 2022 at 11:34)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Ya√´l Dillies</span> <a href="#narrow/stream/113488-general/topic/exponential.20in.20banach.20algebras/near/278678318">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="268315">Anatole Dedecker</span>, turns out <a href="https://leanprover-community.github.io/mathlib_docs/find/normed_algebra">docs#normed_algebra</a> is what we wanted all along.</p>
</blockquote>
<p>Oh is it ? I have to find what was the problem again <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span> (Since it seems not to be clear, Yael is talking about related problem we faced while trying to generalize the base field)</p>



<a name="278680105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278680105" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278680105">(Apr 12 2022 at 11:40)</a>:</h4>
<p>(the base field of <code>exp</code> or the base field of <code>normed_algebra</code>?)</p>



<a name="278680194"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278680194" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278680194">(Apr 12 2022 at 11:41)</a>:</h4>
<p>The base field for convexity, it is not related to exponential</p>



<a name="278680555"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278680555" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278680555">(Apr 12 2022 at 11:44)</a>:</h4>
<p>I still think we should definitely be able to make everything an exponential over the rational though, and it connects with something that has been talked about before : we should remove the dependence on the norm in the <em>definition</em> of exp, so that we can have an exponential for matrices that is completely independent of the norm that the user wants to put on its matrices. Of course all the theorems related to the convergence radius, or differentiability, will depend on a norm, but it may allow us to reserve the <code>normed_algebra</code> hypothesis for cases where it is really needed.</p>



<a name="278681144"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278681144" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278681144">(Apr 12 2022 at 11:51)</a>:</h4>
<p>I'm not completely sure, but I even think that <a href="https://leanprover-community.github.io/mathlib_docs/find/exp_series_radius_eq_top">docs#exp_series_radius_eq_top</a> could be done with just the assumption that we indeed have a normed algebra over Q</p>



<a name="278681303"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278681303" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278681303">(Apr 12 2022 at 11:52)</a>:</h4>
<p>The problem was that <code>‚à•a ‚Ä¢ x + b ‚Ä¢ y‚à•</code> is not necessarily <code>a ‚Ä¢ ‚à•x‚à•</code>, so we couldn't turn convex combinations within the norm to convex combinations outside the norm.</p>



<a name="278809050"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278809050" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278809050">(Apr 13 2022 at 10:09)</a>:</h4>
<p>From <span class="user-mention" data-user-id="260507">@Heather Macbeth</span>'s comment on <a href="https://github.com/leanprover-community/mathlib/pull/13384">#13384</a>, I realize the answer is probably "yes, it suffices to only provide <code>exp</code> if a normed ‚Ñö-algebra structure is available on A, but different choices of the ring A might need a different <code>normed_field</code> structure on <code>‚Ñö</code> to the one that's currently canonical (<a href="https://leanprover-community.github.io/mathlib_docs/find/rat.normed_field">docs#rat.normed_field</a>)"</p>



<a name="278809204"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278809204" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278809204">(Apr 13 2022 at 10:11)</a>:</h4>
<p>Which means we want don't want to specialize to <code>Q</code>, so users can provide a type synonym carrying an alternative <code>normed_field</code> structure?</p>



<a name="278809425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278809425" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278809425">(Apr 13 2022 at 10:13)</a>:</h4>
<p>Even if I really like <code>p</code>-adic norms, I think <a href="https://leanprover-community.github.io/mathlib_docs/find/rat.normed_field">docs#rat.normed_field</a> is a reasonable instance. We can use type synonyms for <code>p</code>-adic norms on <code>Q</code>.</p>



<a name="278809544"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278809544" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278809544">(Apr 13 2022 at 10:14)</a>:</h4>
<p>I didn't see Scott's answer <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="278809603"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278809603" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278809603">(Apr 13 2022 at 10:15)</a>:</h4>
<p>Eric: That sounds right to me. The power series for the exponential function converges for x=p^2 if Q has the p-adic norm as does the power series for log(1+x). One proof that exp and log define inverse bijections between a small disc in Qp centre 0 and a small disc centre 1 is "it's true for the reals because of calculus, so the formal power series must be inverse of each other so it works for the p-adics too"</p>



<a name="278809676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278809676" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278809676">(Apr 13 2022 at 10:16)</a>:</h4>
<p>I'm not sure I care about norms on Q, I don't think I want to use exp and log on Q, only on Qp</p>



<a name="278810113"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278810113" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278810113">(Apr 13 2022 at 10:22)</a>:</h4>
<p>Kevin, you realize that I'm talking about <code>exp ‚Ñö A : A ‚Üí A</code>, right? Would you call this "exp on ‚Ñö" or "exp on A"?</p>



<a name="278940699"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278940699" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278940699">(Apr 14 2022 at 09:09)</a>:</h4>
<p>Regarding making the exponential work over matrices without picking a norm, <a href="https://github.com/leanprover-community/mathlib/pull/13426">#13426</a> takes a step towards this goal</p>



<a name="278941613"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278941613" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278941613">(Apr 14 2022 at 09:19)</a>:</h4>
<p>Oh indeed, thanks !</p>



<a name="278942272"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/278942272" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#278942272">(Apr 14 2022 at 09:26)</a>:</h4>
<p>I've a branch elsewhere that does the rest, which I'll rebase once that is merged</p>



<a name="279053938"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/279053938" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#279053938">(Apr 15 2022 at 06:36)</a>:</h4>
<p>After that change we can obviously just remove ùïÇ from the definition (in favor of using ‚Ñö internally), as the definition doesn't depend on its normed or even topological space structure any more</p>



<a name="279054432"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/279054432" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#279054432">(Apr 15 2022 at 06:48)</a>:</h4>
<p>(the requirements are now just <code>[field ùïÇ] [ring ùî∏] [algebra ùïÇ ùî∏] [topological_space ùî∏] [topological_ring ùî∏] [has_continuous_const_smul ùïÇ ùî∏]</code>)</p>



<a name="279055260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/279055260" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#279055260">(Apr 15 2022 at 07:04)</a>:</h4>
<p>I'm sorry to cause all this trouble just from this claim (which I've never followed up on) that "number theorists use p-adic log I promise"..</p>



<a name="279055423"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/279055423" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#279055423">(Apr 15 2022 at 07:07)</a>:</h4>
<p>Following up on claims like that is what your students are for, right? ;)</p>



<a name="281505670"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/281505670" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#281505670">(May 06 2022 at 23:37)</a>:</h4>
<p>I'm confused again about <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span>'s p-adic norm speculations; I was able to show that for any two normed algebras over different fields, <code>(exp_series ùïÇ ùî∏).radius = (exp_series ùïÇ' ùî∏).radius</code>; so it seems there would be no motivation for putting a different norm on <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">Q</mi></mrow><annotation encoding="application/x-tex">\mathbb{Q}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8556em;vertical-align:-0.1667em;"></span><span class="mord mathbb">Q</span></span></span></span> anyway.</p>



<a name="281505836"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/281505836" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#281505836">(May 06 2022 at 23:39)</a>:</h4>
<p>Either that, or the existing lemmas stated in terms of <a href="https://leanprover-community.github.io/mathlib_docs/find/formal_multilinear_series.radius">docs#formal_multilinear_series.radius</a> are of no use in the p-adic case as they require too strong a sense of convergence</p>



<a name="281505903"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/281505903" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#281505903">(May 06 2022 at 23:40)</a>:</h4>
<p>Either way, it increasingly seems like there's no point even mentioning any other field in the lemmas</p>



<a name="281505945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/281505945" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#281505945">(May 06 2022 at 23:41)</a>:</h4>
<p>(My original plan was to leave <code>ùïÇ</code> in the lemmas but not the definitions, but that creates a lot of annoyance for... nothing?)</p>



<a name="281526212"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/281526212" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#281526212">(May 07 2022 at 07:44)</a>:</h4>
<p>The formal exponential power series <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>‚àë</mo><msup><mi>x</mi><mi>n</mi></msup><mi mathvariant="normal">/</mi><mi>n</mi><mo stretchy="false">!</mo></mrow><annotation encoding="application/x-tex">\sum x^n/n!</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop op-symbol small-op" style="position:relative;top:0em;">‚àë</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mord">/</span><span class="mord mathnormal">n</span><span class="mclose">!</span></span></span></span> converges in a p-adic field iff <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">‚à£</mi><mi>x</mi><mi mathvariant="normal">‚à£</mi><mo>&lt;</mo><mi mathvariant="normal">‚à£</mi><mi>p</mi><msup><mi mathvariant="normal">‚à£</mi><mrow><mn>1</mn><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><mi>p</mi><mo>‚àí</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">|x|&lt; |p|^{1/(p-1)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">‚à£</span><span class="mord mathnormal">x</span><span class="mord">‚à£</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.138em;vertical-align:-0.25em;"></span><span class="mord">‚à£</span><span class="mord mathnormal">p</span><span class="mord"><span class="mord">‚à£</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1/</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">p</span><span class="mbin mtight">‚àí</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span> and in particular the answer depends on <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span></span></span></span>.</p>



<a name="281526290"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/281526290" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#281526290">(May 07 2022 at 07:47)</a>:</h4>
<p>Is a padic field a normed algebra over Q? My guess is that it must not be</p>



<a name="281526339"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/281526339" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#281526339">(May 07 2022 at 07:48)</a>:</h4>
<p>Because if it were, then I have a proof that it converges everywhere</p>



<a name="281526345"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/281526345" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#281526345">(May 07 2022 at 07:48)</a>:</h4>
<p>When you say Q do you mean "Q with some fixed norm on it that isn't the p-adic norm"?</p>



<a name="281526348"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/281526348" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#281526348">(May 07 2022 at 07:48)</a>:</h4>
<p>Any norm</p>



<a name="281526360"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/281526360" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#281526360">(May 07 2022 at 07:49)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/normed_algebra">docs#normed_algebra</a></p>



<a name="281526366"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/281526366" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#281526366">(May 07 2022 at 07:49)</a>:</h4>
<p>See my comment above about the radius of convergence being equal for all choices of field (...that satisfy <a href="https://leanprover-community.github.io/mathlib_docs/find/nondiscrete_normed_field">docs#nondiscrete_normed_field</a> and normed_algebra)</p>



<a name="281526421"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/281526421" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#281526421">(May 07 2022 at 07:50)</a>:</h4>
<p>There is [normed_field k] in that definition, which says to me the incorrect (in number theory) statement "there's only one norm on the rationals"</p>



<a name="281526425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/281526425" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#281526425">(May 07 2022 at 07:51)</a>:</h4>
<p>Sure, but that's not important here</p>



<a name="281526433"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/281526433" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#281526433">(May 07 2022 at 07:51)</a>:</h4>
<p>Let's say you can pick a type synonym <code>number_theory_rat</code> and put whatever norm you like on it</p>



<a name="281526474"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/281526474" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#281526474">(May 07 2022 at 07:52)</a>:</h4>
<p>My claim is that no matter what you do, it won't satisfy that typeclass</p>



<a name="281526481"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/281526481" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#281526481">(May 07 2022 at 07:52)</a>:</h4>
<p>I can't see any problem with making Qp into a normed algebra over Q</p>



<a name="281526503"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/281526503" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#281526503">(May 07 2022 at 07:52)</a>:</h4>
<p>Is Qp a <a href="https://leanprover-community.github.io/mathlib_docs/find/complete_space">docs#complete_space</a>?</p>



<a name="281526510"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/281526510" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#281526510">(May 07 2022 at 07:53)</a>:</h4>
<p>Qp seems a normed algebra</p>



<a name="281526520"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/281526520" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#281526520">(May 07 2022 at 07:53)</a>:</h4>
<p>Yes, it is complete, as metric space</p>



<a name="281526592"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/281526592" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#281526592">(May 07 2022 at 07:55)</a>:</h4>
<p>The norm of n! is not n! in the p-adic case. Does this help?</p>



<a name="281526597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/281526597" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#281526597">(May 07 2022 at 07:55)</a>:</h4>
<p>Any integer has norm at most 1</p>



<a name="281526639"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/281526639" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#281526639">(May 07 2022 at 07:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113488-general/topic/exponential.20in.20banach.20algebras/near/281505670">said</a>:</p>
<blockquote>
<p>I'm confused again about <span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span>'s p-adic norm speculations; I was able to show that for any two normed algebras over different fields, <code>(exp_series ùïÇ ùî∏).radius = (exp_series ùïÇ' ùî∏).radius</code>; so it seems there would be no motivation for putting a different norm on <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">Q</mi></mrow><annotation encoding="application/x-tex">\mathbb{Q}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8556em;vertical-align:-0.1667em;"></span><span class="mord mathbb">Q</span></span></span></span> anyway.</p>
</blockquote>
<p>But here we are changing  <code>ùî∏</code>, aren't we?</p>



<a name="281526664"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/281526664" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#281526664">(May 07 2022 at 07:57)</a>:</h4>
<p>Sure, but I think I also have a proof that <code>(exp_series ‚Ñö A).radius = ‚ä§</code> for one particular choice of norm on Q, and any A</p>



<a name="281526719"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/281526719" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#281526719">(May 07 2022 at 07:58)</a>:</h4>
<p>I'll check if I had any unexpected typeclasses that I haven't mentioned here</p>



<a name="281526806"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/281526806" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#281526806">(May 07 2022 at 08:00)</a>:</h4>
<p>But this depends on the particular norm, right? Qp is a normed algebra over Q with the p-adic norm</p>



<a name="281527055"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/281527055" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#281527055">(May 07 2022 at 08:05)</a>:</h4>
<p>Ah thanks, you've made me realize my confusion. The escape is "there is no <code>normed_algebra Q Qp</code> instance possible using the default norm on Q"</p>



<a name="281527503"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/281527503" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#281527503">(May 07 2022 at 08:18)</a>:</h4>
<p>I can certainly believe that. If you're doing p-adic stuff then the norm on Q coming from the map Q -&gt; R and the usual norm on R plays no role</p>



<a name="281527597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/281527597" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#281527597">(May 07 2022 at 08:20)</a>:</h4>
<p>Fields like R and Qp are compete with respect to one canonical norm, but Q lives in all of these and gets a different norm from each inclusion</p>



<a name="281527603"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exponential%20in%20banach%20algebras/near/281527603" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exponential.20in.20banach.20algebras.html#281527603">(May 07 2022 at 08:21)</a>:</h4>
<p>Same goes for Z</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>