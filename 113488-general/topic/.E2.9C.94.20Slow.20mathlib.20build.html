---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/.E2.9C.94.20Slow.20mathlib.20build.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Slow.20mathlib.20build.html">âœ” Slow mathlib build</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="287833661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Slow%20mathlib%20build/near/287833661" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jon Eugster <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Slow.20mathlib.20build.html#287833661">(Jun 29 2022 at 10:32)</a>:</h4>
<p>How long does it usually take CI to build the entire mathlib, if you change a fundamental file which is imported everywhere?</p>
<p>I've been wondering if a run that takes 2h to compile is an indication that something in that commit really slows mathlib down or if that's normal for changes far down the import chain.</p>



<a name="287834129"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Slow%20mathlib%20build/near/287834129" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Slow.20mathlib.20build.html#287834129">(Jun 29 2022 at 10:38)</a>:</h4>
<p>We just hit 5 hours (see <a href="#narrow/stream/113538-CI/topic/build.20time.20bot/near/287664965">here</a>), so I would say it's normal.</p>



<a name="287834181"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Slow%20mathlib%20build/near/287834181" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Slow.20mathlib.20build.html#287834181">(Jun 29 2022 at 10:38)</a>:</h4>
<p>We have tools which compile mathlib branches in the cloud; I haven't compiled mathlib for a very long time.</p>



<a name="287834444"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Slow%20mathlib%20build/near/287834444" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Slow.20mathlib.20build.html#287834444">(Jun 29 2022 at 10:41)</a>:</h4>
<p>My experience is that my laptop is about 2x faster than the build time bot, and a powerful desktop machine 2.5x to maybe 3x. So 2 hours is probably fine.</p>



<a name="287835249"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Slow%20mathlib%20build/near/287835249" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jon Eugster <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Slow.20mathlib.20build.html#287835249">(Jun 29 2022 at 10:50)</a>:</h4>
<p>Thanks! Didn't know about that stream</p>



<a name="287835254"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Slow%20mathlib%20build/near/287835254" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Slow.20mathlib.20build.html#287835254">(Jun 29 2022 at 10:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="385895">Jon Eugster</span> has marked this topic as resolved.</p>



<a name="287853976"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Slow%20mathlib%20build/near/287853976" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Slow.20mathlib.20build.html#287853976">(Jun 29 2022 at 13:36)</a>:</h4>
<p>Note that the build time bot is about twice as slow as the github builds are</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>