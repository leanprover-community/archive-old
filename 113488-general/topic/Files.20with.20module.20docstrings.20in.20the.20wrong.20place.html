---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Files.20with.20module.20docstrings.20in.20the.20wrong.20place.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Files.20with.20module.20docstrings.20in.20the.20wrong.20place.html">Files with module docstrings in the wrong place</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="218833090"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Files%20with%20module%20docstrings%20in%20the%20wrong%20place/near/218833090" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Files.20with.20module.20docstrings.20in.20the.20wrong.20place.html#218833090">(Dec 04 2020 at 13:37)</a>:</h4>
<p>Searching for <code>/-\nCopyright[^\n]*\n[^\n]*\nAuthor[^\n]*\n\n</code>, I found over 100 files that seem to have their heading in the copyright comment instead of in a dedicated markdown comment (which then doesn't appear in the docs). Is this worth a lint-sprint, or automation?</p>



<a name="218833194"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Files%20with%20module%20docstrings%20in%20the%20wrong%20place/near/218833194" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Files.20with.20module.20docstrings.20in.20the.20wrong.20place.html#218833194">(Dec 04 2020 at 13:38)</a>:</h4>
<p>I realized that <a href="https://github.com/leanprover-community/mathlib/issues/5222">#5222</a> was the tip of the iceberg</p>



<a name="218855220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Files%20with%20module%20docstrings%20in%20the%20wrong%20place/near/218855220" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Files.20with.20module.20docstrings.20in.20the.20wrong.20place.html#218855220">(Dec 04 2020 at 16:22)</a>:</h4>
<p>You should be able to find them in <a href="https://github.com/leanprover-community/mathlib/blob/master/scripts/copy-mod-doc-exceptions.txt"><code>scripts/copy-mod-doc-exceptions.txt</code></a> if you search for <code>ERR_MOD</code>.</p>



<a name="218855315"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Files%20with%20module%20docstrings%20in%20the%20wrong%20place/near/218855315" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Files.20with.20module.20docstrings.20in.20the.20wrong.20place.html#218855315">(Dec 04 2020 at 16:23)</a>:</h4>
<p>I think at one point it was mentioned that instead of fixing them all at once with a script we should give ourselves a chance to write real module docstrings.</p>



<a name="218856227"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Files%20with%20module%20docstrings%20in%20the%20wrong%20place/near/218856227" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Files.20with.20module.20docstrings.20in.20the.20wrong.20place.html#218856227">(Dec 04 2020 at 16:30)</a>:</h4>
<p>Right, if we fix them with a script, then we don't have <code>ERR_MOD</code> anymore to remind us of the work that needs to be done.</p>



<a name="218860196"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Files%20with%20module%20docstrings%20in%20the%20wrong%20place/near/218860196" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Files.20with.20module.20docstrings.20in.20the.20wrong.20place.html#218860196">(Dec 04 2020 at 16:58)</a>:</h4>
<p>Then maybe doc-gen should learn to read the copyright header too, if it can't find a module docstring?</p>



<a name="218860646"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Files%20with%20module%20docstrings%20in%20the%20wrong%20place/near/218860646" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Files.20with.20module.20docstrings.20in.20the.20wrong.20place.html#218860646">(Dec 04 2020 at 17:01)</a>:</h4>
<p>Ideally we would have a lint-sprint that adds proper module docs...</p>



<a name="218863366"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Files%20with%20module%20docstrings%20in%20the%20wrong%20place/near/218863366" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Files.20with.20module.20docstrings.20in.20the.20wrong.20place.html#218863366">(Dec 04 2020 at 17:21)</a>:</h4>
<p>I'm thinking that just having a title visible on 100 more doc pages would be a big improvement</p>



<a name="218863470"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Files%20with%20module%20docstrings%20in%20the%20wrong%20place/near/218863470" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Files.20with.20module.20docstrings.20in.20the.20wrong.20place.html#218863470">(Dec 04 2020 at 17:22)</a>:</h4>
<p>Can we add a different marker for <code>ERR_DOC</code> so that we keep that reminder?</p>



<a name="218863547"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Files%20with%20module%20docstrings%20in%20the%20wrong%20place/near/218863547" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Files.20with.20module.20docstrings.20in.20the.20wrong.20place.html#218863547">(Dec 04 2020 at 17:23)</a>:</h4>
<p>Heck, requiring more than three non-blank lines of doc is probably enough</p>



<a name="218863663"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Files%20with%20module%20docstrings%20in%20the%20wrong%20place/near/218863663" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Files.20with.20module.20docstrings.20in.20the.20wrong.20place.html#218863663">(Dec 04 2020 at 17:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113488-general/topic/Files.20with.20module.20docstrings.20in.20the.20wrong.20place/near/218863470">said</a>:</p>
<blockquote>
<p>Can we add a different marker for <code>ERR_DOC</code> so that we keep that reminder?</p>
</blockquote>
<p>That would solve the issue. If you can do something like that, you get my <span aria-label="thumbs up" class="emoji emoji-1f44d" role="img" title="thumbs up">:thumbs_up:</span></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>