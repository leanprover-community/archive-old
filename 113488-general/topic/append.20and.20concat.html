---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/append.20and.20concat.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html">append and concat</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="299602232"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/299602232" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#299602232">(Sep 19 2022 at 16:37)</a>:</h4>
<p>The names <a href="https://leanprover-community.github.io/mathlib_docs/find/list.append">docs#list.append</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/list.concat">docs#list.concat</a> look like they are swapped around. Is this intentional? (I think there already was discussion about this somewhere, but I can't find it)</p>



<a name="299602375"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/299602375" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#299602375">(Sep 19 2022 at 16:38)</a>:</h4>
<p>More generally, all instances of <a href="https://leanprover-community.github.io/mathlib_docs/find/has_append">docs#has_append</a> look they ought to be called <code>has_concat</code>.</p>



<a name="299606434"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/299606434" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#299606434">(Sep 19 2022 at 17:00)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/list.cons">docs#list.cons</a></p>



<a name="299620640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/299620640" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#299620640">(Sep 19 2022 at 18:21)</a>:</h4>
<p>(I also remember seeing another discussion about this)</p>



<a name="299620970"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/299620970" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#299620970">(Sep 19 2022 at 18:23)</a>:</h4>
<p>The classic functional programming cute wordplay for appending an element to the end of a list is <code>snoc</code>.</p>



<a name="299621426"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/299621426" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#299621426">(Sep 19 2022 at 18:26)</a>:</h4>
<p>It's not uncommon to use "appending" or "concatenating" lists interchangeably, so I'd hesitate swapping the names. I think it'd be better to find a better name for <code>list.concat</code>.</p>



<a name="299621503"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/299621503" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#299621503">(Sep 19 2022 at 18:27)</a>:</h4>
<p>Note that we do have <a href="https://leanprover-community.github.io/mathlib_docs/find/fin.snoc">docs#fin.snoc</a></p>



<a name="299621530"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/299621530" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#299621530">(Sep 19 2022 at 18:27)</a>:</h4>
<p>We should probably use snoc for lists as well...</p>



<a name="299621753"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/299621753" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#299621753">(Sep 19 2022 at 18:28)</a>:</h4>
<p>I disagree. Concatenating always means "putting two things of the same one after each other". Appending can refer to concatenating, but not the other way around.</p>



<a name="299621841"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/299621841" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#299621841">(Sep 19 2022 at 18:29)</a>:</h4>
<p>And appending is the counterpart to prepending, which is <a href="https://leanprover-community.github.io/mathlib_docs/find/list.cons">docs#list.cons</a>.</p>



<a name="299621963"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/299621963" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#299621963">(Sep 19 2022 at 18:29)</a>:</h4>
<p>How does it sound renaming <code>append</code> to <code>concat</code>, and <code>concat</code> to <code>snoc</code>?</p>



<a name="299622144"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/299622144" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#299622144">(Sep 19 2022 at 18:30)</a>:</h4>
<p>it sounds like a massive name change affecting the whole language</p>



<a name="299622412"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/299622412" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#299622412">(Sep 19 2022 at 18:32)</a>:</h4>
<p>Not only the whole language (Lean3) but also Lean4</p>



<a name="299622748"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/299622748" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#299622748">(Sep 19 2022 at 18:34)</a>:</h4>
<p>Judge it yourself: <a href="https://github.com/leanprover-community/lean/pull/771">lean#771</a></p>



<a name="299623373"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/299623373" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#299623373">(Sep 19 2022 at 18:38)</a>:</h4>
<p>Note that most uses should be unaffected as they use the <code>++</code> notation.</p>



<a name="299623433"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/299623433" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#299623433">(Sep 19 2022 at 18:38)</a>:</h4>
<p>I think we should try and find the past discussion before doing anything drastic</p>



<a name="299623564"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/299623564" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#299623564">(Sep 19 2022 at 18:39)</a>:</h4>
<p>This change also needs buy-in from the Lean 4 developers.</p>



<a name="299628122"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/299628122" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#299628122">(Sep 19 2022 at 19:06)</a>:</h4>
<p>I think it's worth splitting this discussion in two, since I guess renaming <code>concat</code> to <code>snoc</code> is comparatively uncontroversial</p>



<a name="299628738"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/299628738" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#299628738">(Sep 19 2022 at 19:11)</a>:</h4>
<p>(Unfortunately) calling <code>(++)</code> "append" is pretty common in Haskell as well: <a href="https://hackage.haskell.org/package/base-4.17.0.0/docs/Data-List.html#v:-43--43-">https://hackage.haskell.org/package/base-4.17.0.0/docs/Data-List.html#v:-43--43-</a></p>
<blockquote>
<div class="codehilite" data-code-language="Haskell"><pre><span></span><code><span class="p">(</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="w"> </span><span class="kr">infixr</span><span class="w"> </span><span class="mi">5</span><span class="w"></span>
</code></pre></div>
<p>Append two lists [...]</p>
</blockquote>



<a name="299629098"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/299629098" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#299629098">(Sep 19 2022 at 19:13)</a>:</h4>
<p>From Haskell I expect <code>append</code> to have type <code>a -&gt; a -&gt; a</code> and <code>concat</code> to have type <code>[a] -&gt; a</code> (as in <a href="https://hackage.haskell.org/package/base-4.17.0.0/docs/Data-Monoid.html">https://hackage.haskell.org/package/base-4.17.0.0/docs/Data-Monoid.html</a>)</p>



<a name="299629221"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/299629221" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#299629221">(Sep 19 2022 at 19:14)</a>:</h4>
<p>What Haskell calls <code>concat</code> Lean calls <a href="https://leanprover-community.github.io/mathlib_docs/find/list.join">docs#list.join</a> (which fits with monad terminology)</p>



<a name="299631174"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/299631174" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#299631174">(Sep 19 2022 at 19:28)</a>:</h4>
<p>I have to say I find snoc quite a poor term</p>



<a name="299632476"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/299632476" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Stoll <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#299632476">(Sep 19 2022 at 19:37)</a>:</h4>
<p>In (Common) Lisp, <code>append</code> joins two lists (non-destructively) and <code>concat</code> joins them destructively (i.e., by modifying the last pointer of the first list).<br>
Magma uses <code>Append</code> to extend a sequence (the datatype similar to lists) by one element (at the end) and <code>cat</code> (an infix operator) to join sequences.</p>



<a name="299633161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/299633161" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#299633161">(Sep 19 2022 at 19:42)</a>:</h4>
<p>Another data point: <a href="https://www.swi-prolog.org/pldoc/doc_for?object=append/3">https://www.swi-prolog.org/pldoc/doc_for?object=append/3</a></p>
<div class="codehilite" data-code-language="Prolog"><pre><span></span><code><span class="nf">append</span><span class="p">(</span><span class="s s-Atom">?</span><span class="nv">List1</span><span class="p">,</span> <span class="s s-Atom">?</span><span class="nv">List2</span><span class="p">,</span> <span class="s s-Atom">?</span><span class="nv">List1AndList2</span><span class="p">)</span>
    <span class="nv">List1AndList2</span> <span class="o">is</span> <span class="s s-Atom">the</span> <span class="s s-Atom">concatenation</span> <span class="s s-Atom">of</span> <span class="nv">List1</span> <span class="s s-Atom">and</span> <span class="nv">List2</span>
</code></pre></div>



<a name="299657267"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/299657267" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#299657267">(Sep 19 2022 at 22:46)</a>:</h4>
<p>My reasoning is etymological. <code>append</code> makes sense to me as <code>[a] -&gt; a -&gt; [a]</code> because <code>prepend</code> would then mean <code>a -&gt; [a] -&gt; [a]</code>, and <code>concatenate</code> comes from the latin roots for "to chain together", which makes sense for two objects of the same type. It's a bit surprising to me that Haskell append takes two containers, but I guess that's worth something. In Python, 'append' adds a single element to a list.</p>



<a name="299657986"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/299657986" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#299657986">(Sep 19 2022 at 22:52)</a>:</h4>
<p>Also, <span class="user-mention" data-user-id="387244">@Yaël Dillies</span>  perhaps where you saw this was <a href="#narrow/stream/113488-general/topic/lists/near/298062291">this thread</a> (where a relatively new user says that "concatenate is ++", so seems like this does indeed have the potential to confuse people as is).</p>



<a name="299661959"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/299661959" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#299661959">(Sep 19 2022 at 23:32)</a>:</h4>
<p>That's the thread I was thinking of, thanks!</p>



<a name="299664136"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/299664136" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#299664136">(Sep 19 2022 at 23:59)</a>:</h4>
<p>For what it's worth, Python's use of the word "append" trips me up pretty much every time I've been away from the language for a while.</p>
<p>If we're using etymologies here, then "append" is "hang after" and "prepend" is "hang before." It's not clear that prepend couldn't mean <code>flip append</code>.</p>



<a name="299664227"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/299664227" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#299664227">(Sep 20 2022 at 00:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="307953">Ruben Van de Velde</span> <a href="#narrow/stream/113488-general/topic/append.20and.20concat/near/299631174">said</a>:</p>
<blockquote>
<p>I have to say I find snoc quite a poor term</p>
</blockquote>
<p>A nicer alternative for this is <code>list.push</code> (though this is not the function you'd want to use to for modeling stacks using <code>list</code>!)</p>



<a name="299664305"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/299664305" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#299664305">(Sep 20 2022 at 00:01)</a>:</h4>
<p>Then the definition of <a href="https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Array.push#doc">docs4#Array.push</a> would be in terms of <code>List.push</code>.</p>



<a name="299671491"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/299671491" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#299671491">(Sep 20 2022 at 01:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="306601">Kyle Miller</span> <a href="#narrow/stream/113488-general/topic/append.20and.20concat/near/299664136">said</a>:</p>
<blockquote>
<p>If we're using etymologies here, then "append" is "hang after" and "prepend" is "hang before." It's not clear that prepend couldn't mean <code>flip append</code>.</p>
</blockquote>
<p>My reasoning is this: If this were the intended definition, there would have been no reason for the term prepend to have arisen as a portmanteau, since there would already have been a way to express the notion: instead of saying "prepend list_b to a" we could just say "append a to list_b".</p>



<a name="299700056"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/299700056" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#299700056">(Sep 20 2022 at 07:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="282271">Bolton Bailey</span> <a href="#narrow/stream/113488-general/topic/append.20and.20concat/near/299657267">said</a>:</p>
<blockquote>
<p>My reasoning is etymological. <code>append</code> makes sense to me as <code>[a] -&gt; a -&gt; [a]</code> because <code>prepend</code> would then mean <code>a -&gt; [a] -&gt; [a]</code>, and <code>concatenate</code> comes from the latin roots for "to chain together", which makes sense for two objects of the same type. It's a bit surprising to me that Haskell append takes two containers, but I guess that's worth something. In Python, 'append' adds a single element to a list.</p>
</blockquote>
<p>Yes that's exactly my reasoning as well.</p>



<a name="299740137"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/299740137" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Stoll <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#299740137">(Sep 20 2022 at 12:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="307953">Ruben Van de Velde</span> <a href="#narrow/stream/113488-general/topic/append.20and.20concat/near/299631174">said</a>:</p>
<blockquote>
<p>I have to say I find snoc quite a poor term</p>
</blockquote>
<p>I agree. I think mathlib is inteded to be useful for mathematicians, and almost no mathematician will know that <code>snoc</code> is even a thing (and so will have problems finding it). I myself wouldn't without having read this conversation.</p>



<a name="299749043"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/299749043" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#299749043">(Sep 20 2022 at 13:26)</a>:</h4>
<p>Well <code>cons</code> isn't a word I recognize from mathematics either, with terms like this there will always be some learning curve for the language, that seems unavoidable</p>



<a name="299784555"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/299784555" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#299784555">(Sep 20 2022 at 15:12)</a>:</h4>
<p>I'd go so far as to say that <code>list</code> isn't really a word I recognise from mathematics!</p>



<a name="300170697"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/300170697" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#300170697">(Sep 22 2022 at 14:12)</a>:</h4>
<p>Just to put my two cents in - that's definitely not what I would have expected <code>concat</code> to mean. <code>append</code> is a bit more ambiguous, to be fair.</p>



<a name="306745701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/306745701" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#306745701">(Oct 28 2022 at 20:42)</a>:</h4>
<p>What should happen here? The current situation seems very weird and it keeps cropping up. See for example <a href="https://github.com/leanprover-community/mathlib/pull/17209">#17209</a></p>



<a name="306825416"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/306825416" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#306825416">(Oct 29 2022 at 11:38)</a>:</h4>
<p>I personally think nothing should happen. It's not so hard to learn that "append" and "concat" mean what they do in Lean. Every language seems to make mutually incompatible choices, and there is no uniquely correct choice.</p>



<a name="306832019"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/306832019" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#306832019">(Oct 29 2022 at 12:31)</a>:</h4>
<p>Personally I think the way forward here is:</p>
<ul>
<li>Put together a document (gist) indicating the terminology used by as many languages as possible, both for and against the change</li>
<li>Make an offer to deal with making the change in Lean 4</li>
<li>Put forth the above two items to Leo to be the final arbiter</li>
<li>If the change is OK'd for lean4, backport to Lean 3</li>
</ul>



<a name="306832377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/306832377" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#306832377">(Oct 29 2022 at 12:34)</a>:</h4>
<p>Item 1 could go in the docs as a library note even if we don't go forward with the other steps</p>



<a name="307075456"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/307075456" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#307075456">(Oct 31 2022 at 10:46)</a>:</h4>
<p>I had no idea <code>list.concat</code> existed. I was writing <code>l ++ [a]</code> instead of <code>list.concat l a</code> all the time. In fact, I have nearly 200 occurrences of terms like  <code>l ++ [a]</code> in my project!</p>



<a name="307078586"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/307078586" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#307078586">(Oct 31 2022 at 11:07)</a>:</h4>
<p>Do you feel like you didn't know about it because it is misnamed? Would you have thought of looking for <code>list.append</code>?</p>



<a name="307079716"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/307079716" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#307079716">(Oct 31 2022 at 11:14)</a>:</h4>
<p>I am not sure. I vaguely remember that, when I was starting with my project, I had trouble remembering that <code>++</code> was called <code>list.append</code> which I needed to know in order to write the lemma names by heart. IIRC <code>list.concat</code> was what I expected <code>++</code> to be called. Nevertheless, I am now very comfortable with <code>list.append</code> and I would have big trouble getting used to the other name.</p>



<a name="307079829"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/307079829" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#307079829">(Oct 31 2022 at 11:15)</a>:</h4>
<p>As for <code>list.concat</code>, I don't think I ever actively searched for a different way to write <code>l ++ [a]</code>.</p>



<a name="307080630"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/append%20and%20concat/near/307080630" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/append.20and.20concat.html#307080630">(Oct 31 2022 at 11:19)</a>:</h4>
<p>I can imagine <code>l.concat a</code> is slightly easier than <code>l ++ [a]</code> but, after I looked up <code>list.concat</code> now, it seems to me that <code>l ++ [a]</code> is better because more lemmata are available without converting it to the other form.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>