---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Don't.20close.20the.20goal.20automatically.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Don't.20close.20the.20goal.20automatically.html">Don't close the goal automatically</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="262318779"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Don%27t%20close%20the%20goal%20automatically/near/262318779" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johannes C. Mayer <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Don't.20close.20the.20goal.20automatically.html#262318779">(Nov 22 2021 at 13:35)</a>:</h4>
<p>Is there some way to prevent the <code>rw</code>, <code>simp</code>, <code>unfload</code>, <code>conv</code> mode, and other tactics like this from closing the goal automatically? E.g. here it is closed by <code>rw</code>:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">h₁</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">=</span> <span class="mi">5</span><span class="o">)</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">=</span> <span class="mi">5</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="n">h₁</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>I know that I can use <code>change</code>, or <code>dsimp</code> like below if x is a constant. But that does not work in the above example.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">x</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="o">:=</span> <span class="mi">5</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">=</span> <span class="mi">5</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">change</span> <span class="n">x</span> <span class="bp">=</span> <span class="mi">5</span> <span class="k">with</span> <span class="mi">5</span> <span class="bp">=</span> <span class="mi">5</span><span class="o">,</span>
  <span class="n">refl</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>Sometimes I just want to look at the effectively solved statement that is trivially true, to better understand why it actually is now true (in these examples it is of course completely obvious but if the statement is more complex it might not be that easy).</p>



<a name="262327715"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Don%27t%20close%20the%20goal%20automatically/near/262327715" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Don't.20close.20the.20goal.20automatically.html#262327715">(Nov 22 2021 at 14:44)</a>:</h4>
<p>You could write your own <code>rw'</code> tactic which does <code>rw</code> but doesn't try <code>refl</code> at the end! This is what I did in the natural number game. But basically yours is a very minority use case -- most people just want to close goals quickly.</p>



<a name="262336993"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Don%27t%20close%20the%20goal%20automatically/near/262336993" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johannes C. Mayer <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Don't.20close.20the.20goal.20automatically.html#262336993">(Nov 22 2021 at 15:50)</a>:</h4>
<p>Ah, ok thanks. I might look into that. I was wondering why it works differently in the natural number game.</p>



<a name="262345693"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Don%27t%20close%20the%20goal%20automatically/near/262345693" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Don't.20close.20the.20goal.20automatically.html#262345693">(Nov 22 2021 at 16:48)</a>:</h4>
<p>NNG is Lean for beginners. mathlib is Lean in expert mode :-)</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>