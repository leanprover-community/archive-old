---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/exact.20this.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exact.20this.html">exact this</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="130305391"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exact%20this/near/130305391" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exact.20this.html#130305391">(Jul 25 2018 at 22:10)</a>:</h4>
<p>Today I came across several instance of <code>have := stuff, exact this</code> closing a goal where <code>exact stuff</code> doesn't. I guess this is yet another elaboration subtlety, but I'd like to know if there is a nicer way to do this in one tactic.</p>



<a name="130314992"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exact%20this/near/130314992" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exact.20this.html#130314992">(Jul 26 2018 at 01:31)</a>:</h4>
<p>I use Chris's trick: <code>exact (stuff : _)</code></p>



<a name="130327840"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exact%20this/near/130327840" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exact.20this.html#130327840">(Jul 26 2018 at 07:51)</a>:</h4>
<p>Thanks!</p>



<a name="130353906"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exact%20this/near/130353906" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exact.20this.html#130353906">(Jul 26 2018 at 15:56)</a>:</h4>
<p>Could we get a mathlib tactic replacing <code>exact</code> which tries <code>exact</code> and then Chris's trick?</p>



<a name="130353926"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exact%20this/near/130353926" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exact.20this.html#130353926">(Jul 26 2018 at 15:57)</a>:</h4>
<p><span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span> : is this a well known bug or a feature?</p>



<a name="130354033"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exact%20this/near/130354033" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exact.20this.html#130354033">(Jul 26 2018 at 15:58)</a>:</h4>
<p>I'll go with feature</p>



<a name="130354040"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exact%20this/near/130354040" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exact.20this.html#130354040">(Jul 26 2018 at 15:58)</a>:</h4>
<p>Too easy...</p>



<a name="130354069"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exact%20this/near/130354069" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exact.20this.html#130354069">(Jul 26 2018 at 15:59)</a>:</h4>
<p>Seriously, what do I miss to understand this thing?</p>



<a name="130354309"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exact%20this/near/130354309" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exact.20this.html#130354309">(Jul 26 2018 at 16:02)</a>:</h4>
<p>I mean, it's clear that omitting the expected type can lead to different elaboration results in some cases, and in some of these cases, the result without expected type may even be preferable. Whether that is something that could be improved in the elaborator can only be decided on a case by case basis.</p>



<a name="130354494"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exact%20this/near/130354494" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exact.20this.html#130354494">(Jul 26 2018 at 16:05)</a>:</h4>
<p>I sort of understand this. What I don't get is how <code>(stuff : _)</code> differs from not specifying the expected type of <code>stuff</code>. Here we really mean underscore, this is not an abbreviation for Zulip purposes.</p>



<a name="130355110"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exact%20this/near/130355110" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exact.20this.html#130355110">(Jul 26 2018 at 16:14)</a>:</h4>
<p>Where do you not specify it? If you use <code>exact stuff</code>, the expected type is the goal.</p>



<a name="130355120"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exact%20this/near/130355120" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exact.20this.html#130355120">(Jul 26 2018 at 16:14)</a>:</h4>
<p>In both <code>have := stuff</code> and <code>(stuff : _)</code>, there is no expected type</p>



<a name="130355632"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exact%20this/near/130355632" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exact.20this.html#130355632">(Jul 26 2018 at 16:23)</a>:</h4>
<p>I mean <code>exact stuff</code> versus <code>exact (stuff : _)</code>, both meant to close the current goal.</p>



<a name="130355646"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exact%20this/near/130355646" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exact.20this.html#130355646">(Jul 26 2018 at 16:23)</a>:</h4>
<p>Sometimes only the later succeeds</p>



<a name="130356150"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exact%20this/near/130356150" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exact.20this.html#130356150">(Jul 26 2018 at 16:31)</a>:</h4>
<p>As I said, only in <code>exact stuff</code> do you have an expected type. It's the goal.</p>



<a name="130356190"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exact%20this/near/130356190" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exact.20this.html#130356190">(Jul 26 2018 at 16:31)</a>:</h4>
<p>Sorry I'm slow.</p>



<a name="130356242"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exact%20this/near/130356242" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exact.20this.html#130356242">(Jul 26 2018 at 16:32)</a>:</h4>
<p>But it's really really hot here</p>



<a name="130356283"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exact%20this/near/130356283" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exact.20this.html#130356283">(Jul 26 2018 at 16:33)</a>:</h4>
<p>I'm very grateful to spend the remaining summer in the land of air conditioning :)</p>



<a name="130356295"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exact%20this/near/130356295" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exact.20this.html#130356295">(Jul 26 2018 at 16:33)</a>:</h4>
<p>USA?</p>



<a name="130356748"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exact%20this/near/130356748" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exact.20this.html#130356748">(Jul 26 2018 at 16:41)</a>:</h4>
<p>Yes, I'm doing an internship under Leo until October</p>



<a name="130356771"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exact%20this/near/130356771" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exact.20this.html#130356771">(Jul 26 2018 at 16:41)</a>:</h4>
<p>Oooh, that sounds like a very good idea!</p>



<a name="294624018"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exact%20this/near/294624018" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Luis Castillo <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exact.20this.html#294624018">(Aug 22 2022 at 08:03)</a>:</h4>
<p>Hi, all! I have a doubt with the exact tactic. My local context is:</p>
<p>hQ: Q ∉ r<br>
H: P = Q<br>
hP: Q ∈ r<br>
⊢ false</p>
<p>and typing "exact hQ hP," closes the goal, but typing "exact hP hQ," does not. I don't understand why. Could sb explain me the difference?</p>



<a name="294624818"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/exact%20this/near/294624818" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/exact.20this.html#294624818">(Aug 22 2022 at 08:07)</a>:</h4>
<p><code>Q ∉ r</code> is definitionally <code>Q ∈ r → false</code>. <code>Q ∈ r</code> is <strong>not</strong> definitionally <code>Q ∉ r → false</code>. This requires double negation elimination (<a href="https://leanprover-community.github.io/mathlib_docs/find/not_not">docs#not_not</a>)</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>