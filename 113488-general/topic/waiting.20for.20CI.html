---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/waiting.20for.20CI.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/waiting.20for.20CI.html">waiting for CI</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="271462974"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/waiting%20for%20CI/near/271462974" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joachim Breitner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/waiting.20for.20CI.html#271462974">(Feb 10 2022 at 17:15)</a>:</h4>
<p>Waiting for CI to finish is annoying. (Not a useful post, of course)</p>



<a name="271475107"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/waiting%20for%20CI/near/271475107" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/waiting.20for.20CI.html#271475107">(Feb 10 2022 at 18:39)</a>:</h4>
<p>CI wait time just gives me a good chunk of time in which to start writing new PRs!</p>



<a name="271484907"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/waiting%20for%20CI/near/271484907" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/waiting.20for.20CI.html#271484907">(Feb 10 2022 at 19:51)</a>:</h4>
<p>When support for squashing and delegation gets added to <a href="https://github.blog/changelog/2021-10-27-pull-request-merge-queue-limited-beta/">GitHub merge queues</a>, this will be a thing of the past! Squashing is certainly on their roadmap, but I don't know if delegation is too.</p>



<a name="271485569"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/waiting%20for%20CI/near/271485569" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/waiting.20for.20CI.html#271485569">(Feb 10 2022 at 19:56)</a>:</h4>
<p>Will it? The time to run CI is still pretty long regardless, no? I don't send as many PRs as I wish I did but in other similar situations I sometimes use e.g. <code>gh run watch 123456789 &amp;&amp; notify "CI is done, get back to work"</code></p>



<a name="271490813"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/waiting%20for%20CI/near/271490813" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joachim Breitner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/waiting.20for.20CI.html#271490813">(Feb 10 2022 at 20:38)</a>:</h4>
<p>Auto-merge once CI is green (whether with bors, mergify or GitHub native) makes it much less annoying, however. Having to manually check the status is silly. Once that eventually is fixed one way or another, there are significantly less cases, I think, where one might actually wait for CI.</p>



<a name="271491010"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/waiting%20for%20CI/near/271491010" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/waiting.20for.20CI.html#271491010">(Feb 10 2022 at 20:40)</a>:</h4>
<p>oh, I see you're in the conversation Joachim, but for all others this is being tracked by <a href="https://github.com/leanprover-community/mathlib/pull/11609">#11609</a></p>



<a name="271493194"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/waiting%20for%20CI/near/271493194" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/waiting.20for.20CI.html#271493194">(Feb 10 2022 at 20:58)</a>:</h4>
<p>If you have a few independent prs then you just switch to another branch.</p>



<a name="271493195"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/waiting%20for%20CI/near/271493195" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/waiting.20for.20CI.html#271493195">(Feb 10 2022 at 20:58)</a>:</h4>
<p>If you have a few independent prs then you just switch to another branch.</p>



<a name="271493196"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/waiting%20for%20CI/near/271493196" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/waiting.20for.20CI.html#271493196">(Feb 10 2022 at 20:58)</a>:</h4>
<p>And in many cases you don't need to wait for tests and lint.</p>



<a name="271498251"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/waiting%20for%20CI/near/271498251" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joachim Breitner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/waiting.20for.20CI.html#271498251">(Feb 10 2022 at 21:37)</a>:</h4>
<p>You mean saying <code>bors merge</code>before lint is green? Isn't that pretty bad style and can cause whole batches to fail and thus annoy everyone else? Or is that ok, as bors will retry and bisect and nobody will mind?</p>



<a name="271504061"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/waiting%20for%20CI/near/271504061" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/waiting.20for.20CI.html#271504061">(Feb 10 2022 at 22:21)</a>:</h4>
<p>Didn't we very recently configure bors to wait for CI to go green anyway?</p>



<a name="271504173"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/waiting%20for%20CI/near/271504173" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/waiting.20for.20CI.html#271504173">(Feb 10 2022 at 22:22)</a>:</h4>
<p>Worst case scenario is you annoy everyone else by making them wait for a rebuild after the first build falls</p>



<a name="271504584"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/waiting%20for%20CI/near/271504584" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/waiting.20for.20CI.html#271504584">(Feb 10 2022 at 22:27)</a>:</h4>
<p>Eric, that's the PR that I linked beforehand - there's issues there</p>



<a name="271511004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/waiting%20for%20CI/near/271511004" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/waiting.20for.20CI.html#271511004">(Feb 10 2022 at 23:40)</a>:</h4>
<p>Sorry, I was reading in a bus and misinterpreted the issue. I thought that you're waiting for oleans to continue working on the branch.</p>



<a name="271512347"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/waiting%20for%20CI/near/271512347" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/waiting.20for.20CI.html#271512347">(Feb 10 2022 at 23:56)</a>:</h4>
<p>I usually don't care how soon (± 5h) an approved commit will be merged.</p>



<a name="271563182"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/waiting%20for%20CI/near/271563182" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/waiting.20for.20CI.html#271563182">(Feb 11 2022 at 11:29)</a>:</h4>
<p>I get an email notification when one of my PRs fails CI (I don’t know if this is the default or if I’ve set something to do this). Is there a way to get a notification when CI passes?</p>



<a name="274304511"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/waiting%20for%20CI/near/274304511" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/waiting.20for.20CI.html#274304511">(Mar 06 2022 at 12:56)</a>:</h4>
<p><span class="user-mention" data-user-id="422543">@Stuart Presnell</span> go to settings-&gt;notifications-&gt;actions and disable "Send notifications for failed workflows only"</p>



<a name="274331652"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/waiting%20for%20CI/near/274331652" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/waiting.20for.20CI.html#274331652">(Mar 06 2022 at 22:22)</a>:</h4>
<p>Hmm, now I'm getting an email for each successful stage of CI (the Dependent Issues workflow, the linter self test, etc.) which is much more detail than I want.  Is there a way I can set things up so I only get a notification when the CI has finished running, to tell me whether it succeeded, failed, or was cancelled?</p>



<a name="274332607"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/waiting%20for%20CI/near/274332607" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/waiting.20for.20CI.html#274332607">(Mar 06 2022 at 22:43)</a>:</h4>
<p>If there's no better option, you can always set up email filters to ignore all but the Build and Lint steps</p>



<a name="278535358"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/waiting%20for%20CI/near/278535358" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/waiting.20for.20CI.html#278535358">(Apr 11 2022 at 10:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="325367">Mauricio Collares</span> <a href="#narrow/stream/113488-general/topic/waiting.20for.20CI/near/271484907">said</a>:</p>
<blockquote>
<p>When support for squashing and delegation gets added to <a href="https://github.blog/changelog/2021-10-27-pull-request-merge-queue-limited-beta/">GitHub merge queues</a>, this will be a thing of the past! Squashing is certainly on their roadmap, but I don't know if delegation is too.</p>
</blockquote>
<p>If I understand correctly, GitHub merge queues now support squashing according to the screenshot in <a href="https://docs.github.com/en/repositories/configuring-branches-and-merges-in-your-repository/configuring-pull-request-merges/managing-a-merge-queue">https://docs.github.com/en/repositories/configuring-branches-and-merges-in-your-repository/configuring-pull-request-merges/managing-a-merge-queue</a>. I don't know what the commit message is in this case, and I don't think GH merge queues support delegation yet.</p>



<a name="278536881"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/waiting%20for%20CI/near/278536881" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/waiting.20for.20CI.html#278536881">(Apr 11 2022 at 11:01)</a>:</h4>
<p>Interesting. I think it makes (or will eventually make) bors obsolete?</p>



<a name="278537071"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/waiting%20for%20CI/near/278537071" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/waiting.20for.20CI.html#278537071">(Apr 11 2022 at 11:03)</a>:</h4>
<p>Right now we're on the wait-list for that feature, so can't even try it out yet</p>



<a name="278537607"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/waiting%20for%20CI/near/278537607" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/waiting.20for.20CI.html#278537607">(Apr 11 2022 at 11:09)</a>:</h4>
<p>They prioritize projects with a high number of merged PRs and mathlib hasn't had a PR merged to master in two years ;)</p>



<a name="278538758"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/waiting%20for%20CI/near/278538758" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/waiting.20for.20CI.html#278538758">(Apr 11 2022 at 11:21)</a>:</h4>
<p>I'm sure we could send a politely-worded email to request a boost, but I don't think the maintainers have discussed this; I only signed us up for the beta so that we had a head start when the discussion eventually happens</p>



<a name="278539140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/waiting%20for%20CI/near/278539140" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/waiting.20for.20CI.html#278539140">(Apr 11 2022 at 11:25)</a>:</h4>
<p>Do GitHub merge queues have a <code>bors d+</code> equivalent?</p>



<a name="278539431"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/waiting%20for%20CI/near/278539431" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/waiting.20for.20CI.html#278539431">(Apr 11 2022 at 11:28)</a>:</h4>
<p>seems there is for "<code>bors d+</code>, wait for build merge" (<a href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/incorporating-changes-from-a-pull-request/merging-a-pull-request-with-a-merge-queue#adding-a-pull-request-to-a-merge-queue">here</a>) whilst I can't see one for "do minor changes then merge"</p>



<a name="278540873"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/waiting%20for%20CI/near/278540873" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/waiting.20for.20CI.html#278540873">(Apr 11 2022 at 11:42)</a>:</h4>
<p>I filed a feature suggestion at <a href="https://github.com/github/feedback/discussions/14699">https://github.com/github/feedback/discussions/14699</a></p>



<a name="278541065"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/waiting%20for%20CI/near/278541065" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/waiting.20for.20CI.html#278541065">(Apr 11 2022 at 11:44)</a>:</h4>
<p>Note that this could be a security breach. "Do something small and merge" puts a lot of trust on the collaborator, who could upturn the entire library as "something small" before merging.</p>



<a name="278541195"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/waiting%20for%20CI/near/278541195" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/waiting.20for.20CI.html#278541195">(Apr 11 2022 at 11:46)</a>:</h4>
<p>yes, this does seem like the sort of thing only a project that isn't executable could do</p>



<a name="278541269"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/waiting%20for%20CI/near/278541269" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/waiting.20for.20CI.html#278541269">(Apr 11 2022 at 11:46)</a>:</h4>
<p>Hence not having it might be an intentional safety from Github, but I would be glad to be proven wrong.</p>



<a name="278547677"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/waiting%20for%20CI/near/278547677" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/waiting.20for.20CI.html#278547677">(Apr 11 2022 at 12:45)</a>:</h4>
<p>This feels like something for a custom workflow to handle</p>



<a name="278547721"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/waiting%20for%20CI/near/278547721" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/waiting.20for.20CI.html#278547721">(Apr 11 2022 at 12:45)</a>:</h4>
<p>That custom workflow can parse a user comment / some mathlib-specific trust data, and then fire off the github merge queue</p>



<a name="322769867"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/waiting%20for%20CI/near/322769867" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rémi Bottinelli <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/waiting.20for.20CI.html#322769867">(Jan 21 2023 at 19:14)</a>:</h4>
<p>I was wondering if I could <code>bors r+</code> before waiting for my PR to build successfully, and a search directed me here. Can I?</p>



<a name="322771103"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/waiting%20for%20CI/near/322771103" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/waiting.20for.20CI.html#322771103">(Jan 21 2023 at 19:26)</a>:</h4>
<p>Since <a href="https://app.bors.tech/repositories/24316">#bors</a> is idle right now, I think you can just do it.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>