---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/long.20term.20mode.20proofs.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html">long term mode proofs</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="198738866"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198738866" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198738866">(May 26 2020 at 09:32)</a>:</h4>
<p>My experience is that I find fixing/maintaining long term mode proofs harder than fixing/maintaining long tactic proofs.<br>
What are the benefits of writing long term mode proofs?</p>



<a name="198738919"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198738919" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198738919">(May 26 2020 at 09:33)</a>:</h4>
<p>I think it's mostly showing off.</p>



<a name="198739267"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198739267" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198739267">(May 26 2020 at 09:38)</a>:</h4>
<p>Also making sure no one can touch it ever, so it remains <em>your</em> proof.</p>



<a name="198739328"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198739328" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198739328">(May 26 2020 at 09:39)</a>:</h4>
<p>Doesn't isabelle style map to term mode proofs (using lots of have/show)?</p>



<a name="198739343"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198739343" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198739343">(May 26 2020 at 09:39)</a>:</h4>
<p>I guess that's the initial motivation for most of the keywords and such</p>



<a name="198739499"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198739499" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198739499">(May 26 2020 at 09:41)</a>:</h4>
<p>If I understand correctly, Isabelle style map to using SledgeHammer in Lean, so it maps to nothing</p>



<a name="198739517"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198739517" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198739517">(May 26 2020 at 09:41)</a>:</h4>
<p>For me, the difference between term and tactic mode proofs that require diagnosis all comes down to the fact that I find it so much more convenient to read the intermediate tactic state in a tactic mode proof than in a term mode proof.</p>



<a name="198739569"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198739569" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198739569">(May 26 2020 at 09:42)</a>:</h4>
<p>Even if there are lots of "literate" <code>have</code>, <code>show</code>, and <code>assume</code>s.</p>



<a name="198739581"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198739581" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198739581">(May 26 2020 at 09:42)</a>:</h4>
<p>No, Isabelle style maps to structured tactic proof (you have a goal state that you can see all the time in your proof).</p>



<a name="198739619"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198739619" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198739619">(May 26 2020 at 09:42)</a>:</h4>
<p>It sounds like all complaints boil down to the same thing: you can't see the tactic state in a term proof</p>



<a name="198739629"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198739629" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198739629">(May 26 2020 at 09:42)</a>:</h4>
<p>this is literally a feature that existed in lean 2</p>



<a name="198739663"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198739663" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198739663">(May 26 2020 at 09:43)</a>:</h4>
<p>there is no innate reason why term proofs can't show the context and expected type</p>



<a name="198739730"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198739730" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198739730">(May 26 2020 at 09:44)</a>:</h4>
<p>so I don't see it as a failing of term mode so much as a missing feature in lean 3</p>



<a name="198739751"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198739751" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198739751">(May 26 2020 at 09:44)</a>:</h4>
<p>You can open a PR to Lean3, but I'm not sure this will exist in Lean4</p>



<a name="198740307"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198740307" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198740307">(May 26 2020 at 09:51)</a>:</h4>
<p>How hard is it to add this feature (to Lean 3.x.c)?</p>



<a name="198740434"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198740434" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198740434">(May 26 2020 at 09:53)</a>:</h4>
<p>It depends on what you want.  If you want to have it show up as the goal, then I think the hardest part is figuring out what types to show.  That is, where do you want term-mode goals in <code>f (by exact g (by simp) b)</code>?</p>



<a name="198741377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198741377" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198741377">(May 26 2020 at 10:03)</a>:</h4>
<p>What was it like in Lean 2?</p>



<a name="198741575"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198741575" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198741575">(May 26 2020 at 10:05)</a>:</h4>
<p>You could place your cursor over a parenthesis and it would tell you the type of the expression</p>



<a name="198741855"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198741855" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198741855">(May 26 2020 at 10:08)</a>:</h4>
<p>I think the most useful thing would be, if you mouse over a constant it shows the goal that you would get if you replaced the entire application with that constant at the head with <code>_</code></p>



<a name="198741958"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198741958" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198741958">(May 26 2020 at 10:09)</a>:</h4>
<p>so for <code>f (by exact g (by simp) b)</code> you could mouse over <code>f</code> and get the result type, <code>g</code> gives you the same as the <code>exact</code>, the open paren on <code>by simp</code> gives you the type that <code>simp</code> is solving, and <code>b</code> gives you the type of <code>b</code></p>



<a name="198742454"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198742454" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198742454">(May 26 2020 at 10:15)</a>:</h4>
<p>This would be useful even for tactic mode, since we still use a lot of short terms there.</p>



<a name="198743135"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198743135" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198743135">(May 26 2020 at 10:25)</a>:</h4>
<p>I don't think it ever displayed the context, did it?</p>



<a name="198743284"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198743284" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198743284">(May 26 2020 at 10:26)</a>:</h4>
<p>Parentheses always felt a bit arbitrary, Mario's suggestion sounds more sensible to me</p>



<a name="198743445"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198743445" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198743445">(May 26 2020 at 10:29)</a>:</h4>
<p>This was back in the days when it was emacs mode and the context display was this janky console printing thing</p>



<a name="198743457"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198743457" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198743457">(May 26 2020 at 10:29)</a>:</h4>
<p>I think it showed the type in the mini-bar</p>



<a name="198743762"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198743762" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198743762">(May 26 2020 at 10:33)</a>:</h4>
<p>It would be nice if <code>have</code>, <code>let</code> etc. also qualified as "constants" here.</p>



<a name="198745324"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198745324" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198745324">(May 26 2020 at 10:52)</a>:</h4>
<p>I find that long tactics mode proofs can often be very hard to maintain, because they're not divided up, and you can't tell how to fix it, because you don't know what the tactic state was supposed to look like, and the thing that changed is not necessarily anywhere near the bit that breaks.</p>



<a name="198745369"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198745369" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198745369">(May 26 2020 at 10:52)</a>:</h4>
<p>This is more of a issue with <code>have</code>s versus no <code>have</code>s rather than term mode or tactic mode.</p>



<a name="198745566"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198745566" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198745566">(May 26 2020 at 10:55)</a>:</h4>
<p>I think you should try to keep any proof below about 100 lines. Beyond that it should be broken up into lemmas, which are better in every way with respect to understandability, doc comments, having intermediate statements, and increasing build parallelism</p>



<a name="198745700"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198745700" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198745700">(May 26 2020 at 10:56)</a>:</h4>
<p>actually 100 is too generous. Even 50 is pretty big</p>



<a name="198746398"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198746398" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198746398">(May 26 2020 at 11:03)</a>:</h4>
<p>Looking at my most recent big proof in <a href="https://github.com/leanprover-community/mathlib/issues/2792">#2792</a> , the longest proofs are 38, 59, and 83 lines, and the 83 line proof has two really obvious sub-lemmas that it could be broken into. There is also a 50 line definition but that is written with deliberately short lines for formatting reasons</p>



<a name="198747382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198747382" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198747382">(May 26 2020 at 11:15)</a>:</h4>
<p>That's simply not how real maths work. Of course you can always use <code>extract_goal</code> to cut a proof into pieces, but you'll get meaningless lemmas.</p>



<a name="198747996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198747996" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198747996">(May 26 2020 at 11:22)</a>:</h4>
<p>Of course, I'm talking about good lemmas here, not just chopping the proof in half</p>



<a name="198748108"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198748108" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198748108">(May 26 2020 at 11:24)</a>:</h4>
<p>Of course this is how real maths works, humans have to chunk things up in order to understand them, and this happens all the time in paper proofs</p>



<a name="198748175"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198748175" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198748175">(May 26 2020 at 11:25)</a>:</h4>
<p>But the inductive step of a tricky induction is also a reasonable place to make a lemma, even though it may not be the prettiest thing</p>



<a name="198748342"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198748342" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198748342">(May 26 2020 at 11:27)</a>:</h4>
<p>I want to fight the notion that every top level theorem/lemma should be "meaningful". This is actively harmful in formalization</p>



<a name="198748394"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198748394" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198748394">(May 26 2020 at 11:28)</a>:</h4>
<p><a href="https://github.com/leanprover-community/lean/issues/275">lean#275</a></p>



<a name="198748426"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198748426" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198748426">(May 26 2020 at 11:28)</a>:</h4>
<p>This is a quick&amp;dirty implementation.  If you really want this, you need to live with unexpected side effects.</p>



<a name="198748478"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198748478" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198748478">(May 26 2020 at 11:29)</a>:</h4>
<p>What if you are in a term inside tactic mode?</p>



<a name="198748510"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198748510" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198748510">(May 26 2020 at 11:29)</a>:</h4>
<p>For instance in the stupid example <code>by exact some_term sub_term other_arg</code>?</p>



<a name="198748873"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198748873" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198748873">(May 26 2020 at 11:33)</a>:</h4>
<p>It's a bit quirky.  Between <code>by</code> and <code>exact</code> it will show you the goal of the tactic block.  On <code>some_term</code>, <code>sub_term</code>, <code>other_arg</code> it will show you the type of the subterm.<br>
So far as expected.  But it will also show the tactic block goal on the space between <code>some_term</code> and <code>sub_term</code>. <span aria-label="shrug" class="emoji emoji-1f937" role="img" title="shrug">:shrug:</span></p>



<a name="198749417"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198749417" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198749417">(May 26 2020 at 11:40)</a>:</h4>
<p>Isn't the type of <code>some_term</code> going to be the same thing as the <code>by exact</code>?</p>



<a name="198749458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198749458" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198749458">(May 26 2020 at 11:40)</a>:</h4>
<p>Ooh... will it show the full goal state, or only types?</p>



<a name="198749513"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198749513" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198749513">(May 26 2020 at 11:41)</a>:</h4>
<p>Screenshot suggests full goal state</p>



<a name="198749520"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198749520" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198749520">(May 26 2020 at 11:41)</a>:</h4>
<p>Yep, full goal state!</p>



<a name="198749564"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198749564" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198749564">(May 26 2020 at 11:42)</a>:</h4>
<p>I think it's time for a new lean release! It's been like 3 days already!</p>



<a name="198749684"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198749684" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198749684">(May 26 2020 at 11:43)</a>:</h4>
<p>I'm kind of waiting for <span class="user-mention" data-user-id="121918">@Edward Ayers</span> to finish dividing up the widget PR.  But depending on how long that's going to take, we could also make a release now.</p>



<a name="198749862"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198749862" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198749862">(May 26 2020 at 11:45)</a>:</h4>
<p>Oh yes, let's have that widget thing!</p>



<a name="198749864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198749864" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198749864">(May 26 2020 at 11:45)</a>:</h4>
<p>There are 12 new commits already...</p>



<a name="198749928"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198749928" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198749928">(May 26 2020 at 11:46)</a>:</h4>
<p>Otoh... I guess there won't be much mathlib breakage... so that isn't a reason to release early</p>



<a name="198750724"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198750724" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198750724">(May 26 2020 at 11:55)</a>:</h4>
<p>Mmh, there is also one change that might reduce linting time by up to 50%.  So maybe it's better to test it soon.</p>



<a name="198757182"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198757182" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198757182">(May 26 2020 at 12:56)</a>:</h4>
<p>By the way, in IntelliJ (and other JetBrains projects like PyCharm) if one selects a term/expression and presses cntr-cmd-P (on a mac, don't know the windows keys off hand) it shows the type of the term.  It is amazingly useful, especially in Scala (but even in Python).  I wonder if vs-code has support for something like this.</p>



<a name="198757417"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198757417" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198757417">(May 26 2020 at 12:58)</a>:</h4>
<p>Maybe relevant: <a href="https://github.com/microsoft/vscode/issues/65890">https://github.com/microsoft/vscode/issues/65890</a></p>



<a name="198757515"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198757515" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198757515">(May 26 2020 at 12:59)</a>:</h4>
<p>(Python? what kind of type information does it give?)</p>



<a name="198757881"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198757881" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198757881">(May 26 2020 at 13:01)</a>:</h4>
<p><a href="https://docs.python.org/3/library/typing.html">Python has static types now!</a>  Well sort of.  Also, IntelliJ is pretty smart about guessing the type.  If your function only has one return and it returns a string, then it knows the type of the function output is a string, for example.</p>



<a name="198758054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198758054" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shing Tak Lam <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198758054">(May 26 2020 at 13:02)</a>:</h4>
<p>In VSCode if you hover over a variable it gives you the type (if it can figure it out/has type hints)</p>



<a name="198758140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198758140" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198758140">(May 26 2020 at 13:03)</a>:</h4>
<p>That is the problem.  In IntelliJ you can hover over a <em>selection</em>.  That is a big difference than a single variable.</p>



<a name="198758357"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198758357" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198758357">(May 26 2020 at 13:04)</a>:</h4>
<p>The vscode side is easy.  The hard part is the Lean side, we don't really store enough information to interpret ranges as expressions.  At the moment we only store one position per expression (typically the "start").</p>



<a name="198758478"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198758478" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198758478">(May 26 2020 at 13:06)</a>:</h4>
<p>Yeah, I'm thinking for the future, like Lean 4.  But are you sure this exists in vs-code for any language?  The issue I linked above suggested that it maybe doesn't.</p>



<a name="198758595"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/long%20term%20mode%20proofs/near/198758595" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/long.20term.20mode.20proofs.html#198758595">(May 26 2020 at 13:07)</a>:</h4>
<p>Yeah, I don't think any language extension does that so far.  But we're doing many things in Lean that other languages don't.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>