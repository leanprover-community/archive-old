---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Search.20API.20docs.20on.20mobile.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Search.20API.20docs.20on.20mobile.html">Search API docs on mobile</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="261070632"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Search%20API%20docs%20on%20mobile/near/261070632" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Search.20API.20docs.20on.20mobile.html#261070632">(Nov 10 2021 at 23:21)</a>:</h4>
<p>I just tried to search the API docs on my android mobile; I tried Chrome and duck duck go browsers and I couldn't find elliptic curves by searching in the search box, I just got octopuses.</p>



<a name="261070672"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Search%20API%20docs%20on%20mobile/near/261070672" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Search.20API.20docs.20on.20mobile.html#261070672">(Nov 10 2021 at 23:21)</a>:</h4>
<p>Dioes it just not work on mobile?</p>



<a name="261071329"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Search%20API%20docs%20on%20mobile/near/261071329" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Search.20API.20docs.20on.20mobile.html#261071329">(Nov 10 2021 at 23:28)</a>:</h4>
<p>I think we're running into <a href="https://bugs.chromium.org/p/chromium/issues/detail?id=154571">https://bugs.chromium.org/p/chromium/issues/detail?id=154571</a></p>



<a name="261071334"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Search%20API%20docs%20on%20mobile/near/261071334" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Search.20API.20docs.20on.20mobile.html#261071334">(Nov 10 2021 at 23:28)</a>:</h4>
<p>I never got it working on mobile</p>



<a name="261071397"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Search%20API%20docs%20on%20mobile/near/261071397" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Search.20API.20docs.20on.20mobile.html#261071397">(Nov 10 2021 at 23:29)</a>:</h4>
<p><a href="https://caniuse.com/?search=SharedWorker">https://caniuse.com/?search=SharedWorker</a> suggests it works on mobile firefox</p>



<a name="261071813"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Search%20API%20docs%20on%20mobile/near/261071813" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Search.20API.20docs.20on.20mobile.html#261071813">(Nov 10 2021 at 23:33)</a>:</h4>
<p>It works on Firefox for me</p>



<a name="261072169"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Search%20API%20docs%20on%20mobile/near/261072169" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Search.20API.20docs.20on.20mobile.html#261072169">(Nov 10 2021 at 23:37)</a>:</h4>
<p>It looks like maybe if we used <code>navigator.serviceWorker</code> instead of <code>SharedWorker</code> we'd be ok, but I can't tell whether the semantics are similar enough</p>



<a name="261075529"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Search%20API%20docs%20on%20mobile/near/261075529" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Search.20API.20docs.20on.20mobile.html#261075529">(Nov 11 2021 at 00:15)</a>:</h4>
<p>An octopus is a hyperelliptic curve right?</p>



<a name="261075754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Search%20API%20docs%20on%20mobile/near/261075754" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Search.20API.20docs.20on.20mobile.html#261075754">(Nov 11 2021 at 00:18)</a>:</h4>
<p>Yes, genus 8</p>



<a name="261075938"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Search%20API%20docs%20on%20mobile/near/261075938" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Search.20API.20docs.20on.20mobile.html#261075938">(Nov 11 2021 at 00:20)</a>:</h4>
<p>Works for me on Firefox/android <br>
<a href="/user_uploads/3121/Jj7nM_OeAIzJgIbF9kuTHhsx/Screenshot_20211110-172002.png">Screenshot_20211110-172002.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/Jj7nM_OeAIzJgIbF9kuTHhsx/Screenshot_20211110-172002.png" title="Screenshot_20211110-172002.png"><img src="/user_uploads/3121/Jj7nM_OeAIzJgIbF9kuTHhsx/Screenshot_20211110-172002.png"></a></div>



<a name="261112862"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Search%20API%20docs%20on%20mobile/near/261112862" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Search.20API.20docs.20on.20mobile.html#261112862">(Nov 11 2021 at 09:58)</a>:</h4>
<p>Also works for me on Firefox! At least that's my own problem solved... . When do we get our own app?</p>



<a name="261116162"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Search%20API%20docs%20on%20mobile/near/261116162" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Search.20API.20docs.20on.20mobile.html#261116162">(Nov 11 2021 at 10:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113488-general/topic/Search.20API.20docs.20on.20mobile/near/261072169">said</a>:</p>
<blockquote>
<p>It looks like maybe if we used <code>navigator.serviceWorker</code> instead of <code>SharedWorker</code> we'd be ok, but I can't tell whether the semantics are similar enough</p>
</blockquote>
<p>It looks like <a href="https://github.com/GoogleChrome/samples/tree/gh-pages/service-worker/post-message">https://github.com/GoogleChrome/samples/tree/gh-pages/service-worker/post-message</a> would be a good template to follow if someone wants to try doing this. But <a href="https://stackoverflow.com/questions/29741922/prevent-service-worker-from-automatically-stopping">https://stackoverflow.com/questions/29741922/prevent-service-worker-from-automatically-stopping</a> suggests that the background search job might end up being killed due to inactivity; vs the current behavior where clicking a search result can kill the worker if no other tabs are open<br>
.</p>



<a name="261143220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Search%20API%20docs%20on%20mobile/near/261143220" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Search.20API.20docs.20on.20mobile.html#261143220">(Nov 11 2021 at 14:55)</a>:</h4>
<p>I think that any work on this should probably build on <a href="https://github.com/leanprover-community/doc-gen/issues/131">doc-gen#131</a> . There's one remaining issue there, to make the 404 page work with the new search, but honestly we should have fixed and merged that a long time ago</p>



<a name="261144092"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Search%20API%20docs%20on%20mobile/near/261144092" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Search.20API.20docs.20on.20mobile.html#261144092">(Nov 11 2021 at 15:02)</a>:</h4>
<p>For me the fact that populating the search index with that PR takes 30s rather than 6s (on my machine) is still a concern</p>



<a name="261144239"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Search%20API%20docs%20on%20mobile/near/261144239" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Search.20API.20docs.20on.20mobile.html#261144239">(Nov 11 2021 at 15:03)</a>:</h4>
<p>I forgot this wasn't merged. It's really a shame.</p>



<a name="261146027"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Search%20API%20docs%20on%20mobile/near/261146027" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Search.20API.20docs.20on.20mobile.html#261146027">(Nov 11 2021 at 15:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113488-general/topic/Search.20API.20docs.20on.20mobile/near/261144092">said</a>:</p>
<blockquote>
<p>For me the fact that populating the search index with that PR takes 30s rather than 6s (on my machine) is still a concern</p>
</blockquote>
<p>I wonder what the difference is, I didn't see anywhere close to a 4x slowdown in Chrome.</p>



<a name="261146580"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Search%20API%20docs%20on%20mobile/near/261146580" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Search.20API.20docs.20on.20mobile.html#261146580">(Nov 11 2021 at 15:22)</a>:</h4>
<p>Well the indexing data is at least 4x bigger, so it doesn't surprise me that much</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>