---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/unordered.20intervals.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unordered.20intervals.html">unordered intervals</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="270328202"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unordered%20intervals/near/270328202" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unordered.20intervals.html#270328202">(Feb 02 2022 at 03:27)</a>:</h4>
<p>Should we have something more generic for unordered intervals? We already have unordered <code>Icc</code> and <code>Ioc</code> intervals. Several theorems like <a href="https://leanprover-community.github.io/mathlib_docs/find/complex.integral_boundary_rect_eq_zero_of_continuous_on_of_differentiable_on">docs#complex.integral_boundary_rect_eq_zero_of_continuous_on_of_differentiable_on</a> use unordered <code>Ioo</code> intervals (and it looks ugly without a definition). Should we have something like this?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">set.unordered_Ixx</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">linear_order</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">Ixx</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">set</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="o">:=</span>
<span class="n">Ixx</span> <span class="o">(</span><span class="n">min</span> <span class="n">a</span> <span class="n">b</span><span class="o">)</span> <span class="o">(</span><span class="n">max</span> <span class="n">a</span> <span class="n">b</span><span class="o">)</span>

<span class="kd">notation</span> <span class="bp">`</span><span class="n">ICC</span><span class="bp">`</span> <span class="o">:=</span> <span class="n">unordered_Ixx</span> <span class="n">Icc</span>
<span class="kd">notation</span> <span class="bp">`</span><span class="n">IOC</span><span class="bp">`</span> <span class="o">:=</span> <span class="n">unordered_Ixx</span> <span class="n">Ioc</span>
<span class="kd">notation</span> <span class="bp">`</span><span class="n">ICO</span><span class="bp">`</span> <span class="o">:=</span> <span class="n">unordered_Ixx</span> <span class="n">Ico</span>
<span class="kd">notation</span> <span class="bp">`</span><span class="n">IOO</span><span class="bp">`</span> <span class="o">:=</span> <span class="n">unordered_Ixx</span> <span class="n">Ioo</span>
</code></pre></div>



<a name="270329144"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unordered%20intervals/near/270329144" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unordered.20intervals.html#270329144">(Feb 02 2022 at 03:42)</a>:</h4>
<p>Discussion about long names in that file moved to <a href="#narrow/stream/113488-general/topic/Lemma.20names.20in.20cauchy_integral.2Elean">https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lemma.20names.20in.20cauchy_integral.2Elean</a></p>



<a name="270341821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unordered%20intervals/near/270341821" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unordered.20intervals.html#270341821">(Feb 02 2022 at 06:49)</a>:</h4>
<p>Same thought here, except that you shouldn't use one def + notation but directly call the defs <code>set.IXX</code> (for when we'll want the <code>finset</code> versions)</p>



<a name="270344412"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unordered%20intervals/near/270344412" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unordered.20intervals.html#270344412">(Feb 02 2022 at 07:31)</a>:</h4>
<p>If we use definitions, then we'll need to repeat some theorems three or for times. I'm not sure if this is really bad. I'll think again in the morning.</p>



<a name="270349591"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unordered%20intervals/near/270349591" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unordered.20intervals.html#270349591">(Feb 02 2022 at 08:35)</a>:</h4>
<p>We already do this for <code>set.Ixx</code> (and actually 8 times if you take <code>finset.Ixx</code> into account!), so that seems like the natural continuation, unless you want <code>IXX</code> to be a really thin wrapper around <code>Ixx</code> and always walk up to <code>Ixx</code> in proofs involving <code>IXX</code>.</p>



<a name="270352679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unordered%20intervals/near/270352679" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unordered.20intervals.html#270352679">(Feb 02 2022 at 09:03)</a>:</h4>
<p>I never understand why people object to code reuse. Argument reuse happens across mathematics and sometimes it really is the case that there"s no underlying theorem which is the root cause -- it's a more abstract "principle" which refuses to be boxed into a concrete abstraction. Martin Hairer once emphasised this to me in a conversation we had about formalising his area.</p>



<a name="270497406"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unordered%20intervals/near/270497406" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/unordered.20intervals.html#270497406">(Feb 03 2022 at 03:58)</a>:</h4>
<p>There is a trade-off here: code reuse vs discoverability of lemmas. In case of generic defs and lemmas, they will be named <code>unordered_symm</code>/<code>unordered_of_le</code> or <code>IXX_symm</code>/<code>IXX_of_le</code> instead of <code>ICC_symm</code>/<code>ICC_of_le</code>.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>