---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/removing.20decidability.20instances.20from.20polynomials.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/removing.20decidability.20instances.20from.20polynomials.html">removing decidability instances from polynomials</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="171396398"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/removing%20decidability%20instances%20from%20polynomials/near/171396398" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/removing.20decidability.20instances.20from.20polynomials.html#171396398">(Jul 22 2019 at 01:34)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="112680">@Johan Commelin</span>, I noticed you've been doing some work recently on power series, so thought I'd ask you about this --- shall we make polynomials completely classical, and remove all the decidability instances?</p>
<p>I made a start on doing this, but it was quickly bit-rotting with all your changes. I think I've managed to merge back to master, at <a href="https://github.com/leanprover-community/mathlib/compare/decidable_eq" target="_blank" title="https://github.com/leanprover-community/mathlib/compare/decidable_eq">https://github.com/leanprover-community/mathlib/compare/decidable_eq</a></p>



<a name="171396401"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/removing%20decidability%20instances%20from%20polynomials/near/171396401" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/removing.20decidability.20instances.20from.20polynomials.html#171396401">(Jul 22 2019 at 01:34)</a>:</h4>
<p>It's not quite done yet --- there are still problems in <code>mv_polynomial</code>.</p>



<a name="171396402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/removing%20decidability%20instances%20from%20polynomials/near/171396402" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/removing.20decidability.20instances.20from.20polynomials.html#171396402">(Jul 22 2019 at 01:34)</a>:</h4>
<p>Any chance you could take a look at it, and see if it's worth proceeding?</p>



<a name="171396683"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/removing%20decidability%20instances%20from%20polynomials/near/171396683" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/removing.20decidability.20instances.20from.20polynomials.html#171396683">(Jul 22 2019 at 01:43)</a>:</h4>
<p>I think Mario said this was a good idea. I don't have a strong opinion. Will take a look now.</p>



<a name="171396688"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/removing%20decidability%20instances%20from%20polynomials/near/171396688" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/removing.20decidability.20instances.20from.20polynomials.html#171396688">(Jul 22 2019 at 01:43)</a>:</h4>
<p>What I can see looks good</p>



<a name="171396742"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/removing%20decidability%20instances%20from%20polynomials/near/171396742" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/removing.20decidability.20instances.20from.20polynomials.html#171396742">(Jul 22 2019 at 01:44)</a>:</h4>
<p>Yep, it certainly didn't become less readable <span aria-label="stuck out tongue wink" class="emoji emoji-1f61c" role="img" title="stuck out tongue wink">:stuck_out_tongue_wink:</span></p>



<a name="171396743"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/removing%20decidability%20instances%20from%20polynomials/near/171396743" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/removing.20decidability.20instances.20from.20polynomials.html#171396743">(Jul 22 2019 at 01:44)</a>:</h4>
<p>If it also speeds up things, I would rather have this merged sooner than later.</p>



<a name="171396753"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/removing%20decidability%20instances%20from%20polynomials/near/171396753" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/removing.20decidability.20instances.20from.20polynomials.html#171396753">(Jul 22 2019 at 01:45)</a>:</h4>
<p>Now I need to go back to bed. See you guys later today.</p>



<a name="171396756"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/removing%20decidability%20instances%20from%20polynomials/near/171396756" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/removing.20decidability.20instances.20from.20polynomials.html#171396756">(Jul 22 2019 at 01:45)</a>:</h4>
<p>I think there is still one broken file. I'm building now to try to find it.</p>



<a name="171397386"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/removing%20decidability%20instances%20from%20polynomials/near/171397386" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/removing.20decidability.20instances.20from.20polynomials.html#171397386">(Jul 22 2019 at 01:59)</a>:</h4>
<p>(deleted)</p>



<a name="171397456"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/removing%20decidability%20instances%20from%20polynomials/near/171397456" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/removing.20decidability.20instances.20from.20polynomials.html#171397456">(Jul 22 2019 at 02:00)</a>:</h4>
<p>(deleted)</p>



<a name="171397591"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/removing%20decidability%20instances%20from%20polynomials/near/171397591" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/removing.20decidability.20instances.20from.20polynomials.html#171397591">(Jul 22 2019 at 02:05)</a>:</h4>
<p>I'm getting strange errors like</p>
<div class="codehilite"><pre><span></span>synthesized type class instance is not definitionally equal to expression inferred by typing rules, synthesized
  finset.has_union
inferred
  finset.has_union
</pre></div>



<a name="171397596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/removing%20decidability%20instances%20from%20polynomials/near/171397596" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/removing.20decidability.20instances.20from.20polynomials.html#171397596">(Jul 22 2019 at 02:05)</a>:</h4>
<p>which expands with <code>pp.all</code> to</p>
<div class="codehilite"><pre><span></span>synthesized type class instance is not definitionally equal to expression inferred by typing rules, synthesized
  @finset.has_union.{0} nat (λ (a b : nat), nat.decidable_eq a b)
inferred
  @finset.has_union.{0} nat (λ (a b : nat), classical.prop_decidable (@eq.{1} nat a b))
</pre></div>



<a name="171397640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/removing%20decidability%20instances%20from%20polynomials/near/171397640" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/removing.20decidability.20instances.20from.20polynomials.html#171397640">(Jul 22 2019 at 02:06)</a>:</h4>
<p>But I don't know how to diagnose where <code>nat.decidable_eq</code> instances are creeping in.</p>



<a name="171397851"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/removing%20decidability%20instances%20from%20polynomials/near/171397851" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/removing.20decidability.20instances.20from.20polynomials.html#171397851">(Jul 22 2019 at 02:13)</a>:</h4>
<p>I think <code>convert</code> will fix those issues</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>