---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Sever.20sharing.20in.20live.20share.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Sever.20sharing.20in.20live.20share.html">Sever sharing in live share</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="202019373"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Sever%20sharing%20in%20live%20share/near/202019373" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Sever.20sharing.20in.20live.20share.html#202019373">(Jun 25 2020 at 20:17)</a>:</h4>
<p>Is it possible to tweak the Lean extension in VS Code to enable server sharing (so as to view the goals)? <span class="user-mention" data-user-id="246273">@Bhavik Mehta</span> told me that for server sharing to work, the server needs to be TCP port or URL and Lean is not either of those.</p>



<a name="202019429"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Sever%20sharing%20in%20live%20share/near/202019429" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Sever.20sharing.20in.20live.20share.html#202019429">(Jun 25 2020 at 20:18)</a>:</h4>
<p>As far as I know, Lean isn't either of those</p>



<a name="202019449"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Sever%20sharing%20in%20live%20share/near/202019449" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Sever.20sharing.20in.20live.20share.html#202019449">(Jun 25 2020 at 20:18)</a>:</h4>
<p>Plus if this works then it might make collaboration easier for LFCM</p>



<a name="202019486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Sever%20sharing%20in%20live%20share/near/202019486" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Sever.20sharing.20in.20live.20share.html#202019486">(Jun 25 2020 at 20:18)</a>:</h4>
<p>There is no obstruction, but it needs work.</p>



<a name="202019550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Sever%20sharing%20in%20live%20share/near/202019550" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Sever.20sharing.20in.20live.20share.html#202019550">(Jun 25 2020 at 20:19)</a>:</h4>
<p>Basically you need to be very nice to Bryan or Gabriel.</p>



<a name="202048911"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Sever%20sharing%20in%20live%20share/near/202048911" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Sever.20sharing.20in.20live.20share.html#202048911">(Jun 26 2020 at 03:22)</a>:</h4>
<p>Oh, I'll by anyone 3 good Belgian beers (or something with the same value, if you don't like beers or Belgians...) if they can make this work smoothly before LFTCM!</p>



<a name="202052379"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Sever%20sharing%20in%20live%20share/near/202052379" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Sever.20sharing.20in.20live.20share.html#202052379">(Jun 26 2020 at 04:42)</a>:</h4>
<p>You're talking about working with <a href="https://visualstudio.microsoft.com/services/live-share/">https://visualstudio.microsoft.com/services/live-share/</a>?</p>



<a name="202053790"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Sever%20sharing%20in%20live%20share/near/202053790" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Sever.20sharing.20in.20live.20share.html#202053790">(Jun 26 2020 at 05:19)</a>:</h4>
<p>Yep, at least that's whay I was thinking of</p>



<a name="202054826"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Sever%20sharing%20in%20live%20share/near/202054826" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Sever.20sharing.20in.20live.20share.html#202054826">(Jun 26 2020 at 05:44)</a>:</h4>
<p>Yes.</p>



<a name="202055154"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Sever%20sharing%20in%20live%20share/near/202055154" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Sever.20sharing.20in.20live.20share.html#202055154">(Jun 26 2020 at 05:52)</a>:</h4>
<p>Yes. Currently it's extremely inconvenient. I will be working with summer students this summer and would donate three more. Currently what you can do is that one person uses Lean and the others can also type but they can't see the errors or goal state because if they run a local server then the imports fail</p>



<a name="202056350"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Sever%20sharing%20in%20live%20share/near/202056350" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Sever.20sharing.20in.20live.20share.html#202056350">(Jun 26 2020 at 06:23)</a>:</h4>
<p>Wow, I'm playing around with it now (with my laptop on macOS and my desktop on Windows) and it works much better than I thought it would. Some observations:</p>
<ul>
<li>There's a useless "leanpkg.toml" message when the extension on the guest's side opens. </li>
<li>The cursor of the guest doesn't track the host's automatically, but as a guest, if I put my cursor inside a tactic the goal window (sometimes) works and I can see the goal locally, <strong>as long as the file doesn't rely on any imports.</strong></li>
<li>Underlines and hovers seem to work only if the host has the same file in view. </li>
<li>To get files with imports working properly, I think at a minimum the host will need to set up <a href="https://docs.microsoft.com/en-us/visualstudio/liveshare/reference/security#controlling-file-access-and-visibility">a <code>.vsls.json</code> file</a>. I tried using the following, which at least gets <code>_target/deps/mathlib</code> to show up on the guest side:</li>
</ul>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
    <span class="nt">&quot;$schema&quot;</span><span class="p">:</span> <span class="s2">&quot;http://json.schemastore.org/vsls&quot;</span><span class="p">,</span>
    <span class="nt">&quot;gitignore&quot;</span><span class="p">:</span><span class="s2">&quot;none&quot;</span><span class="p">,</span>
    <span class="nt">&quot;excludeFiles&quot;</span><span class="p">:[</span>
        <span class="s2">&quot;!*.olean&quot;</span><span class="p">,</span>
        <span class="s2">&quot;*!leanpkg.path&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;hideFiles&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>


<ul>
<li>I wonder if we need to take a look at <a href="https://github.com/leanprover/vscode-lean/blob/master/src/extension.ts#L25">the code that hides the oleans from view</a>. Maybe if we show them, we can get live share to transfer them to the guests' computers?</li>
<li>The goal window seems to work very inconsistently. As a guest, the goal view is often just stuck in a blank state, but if I start editing the file then that causes stuff to appear. (Unfortunately, it still complains about not being able to find the imports in the path).</li>
<li>Here's a weird state I got in:<br>
<a href="/user_uploads/3121/ZU9EY5XHziAgJTmCBXGu-3QO/Screenshot-2020-06-26-02.19.59.png">Screenshot-2020-06-26-02.19.59.png</a> <div class="message_inline_image"><a href="/user_uploads/3121/ZU9EY5XHziAgJTmCBXGu-3QO/Screenshot-2020-06-26-02.19.59.png" title="Screenshot-2020-06-26-02.19.59.png"><img src="/user_uploads/3121/ZU9EY5XHziAgJTmCBXGu-3QO/Screenshot-2020-06-26-02.19.59.png"></a></div></li>
</ul>
<p>I typed in <code>library_search</code> on the guest's side and got two suggestions. Neither of them work, but I get different errors. Also note the problems panel showing two different open versions of <code>blah.lean</code>, which I don't understand.</p>
<p>I think I need to read up more on how live share actually works in order to work more on this, but the only info I could find about getting extensions to work with live share was <a href="https://docs.microsoft.com/en-us/visualstudio/liveshare/reference/extensions#known-issues">this list of random issues and suggestions</a>, which doesn't give enough of an explanation for me.</p>



<a name="202056418"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Sever%20sharing%20in%20live%20share/near/202056418" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Sever.20sharing.20in.20live.20share.html#202056418">(Jun 26 2020 at 06:25)</a>:</h4>
<p>I think there's hope to get things working, but most likely only after the current info view refactor (with widgets) settles down.</p>
<p><a href="https://github.com/leanprover/vscode-lean/issues/191">leanprover/vscode-lean#191</a></p>



<a name="202056494"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Sever%20sharing%20in%20live%20share/near/202056494" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Sever.20sharing.20in.20live.20share.html#202056494">(Jun 26 2020 at 06:26)</a>:</h4>
<p><span class="user-mention" data-user-id="123965">@Bryan Gin-ge Chen</span> Is there a particular brand of Belgian beer that you are fond of?</p>



<a name="202056506"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Sever%20sharing%20in%20live%20share/near/202056506" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Sever.20sharing.20in.20live.20share.html#202056506">(Jun 26 2020 at 06:26)</a>:</h4>
<p>Because it seems that I should start preparing...</p>



<a name="202058103"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Sever%20sharing%20in%20live%20share/near/202058103" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Sever.20sharing.20in.20live.20share.html#202058103">(Jun 26 2020 at 07:01)</a>:</h4>
<p><span class="user-mention" data-user-id="123965">@Bryan Gin-ge Chen</span> data.real.basic does not import library_search, I don't think!</p>



<a name="202059592"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Sever%20sharing%20in%20live%20share/near/202059592" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Sever.20sharing.20in.20live.20share.html#202059592">(Jun 26 2020 at 07:24)</a>:</h4>
<p>Are you sure? This seems to work in a recent mathlib:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">real</span><span class="bp">.</span><span class="n">basic</span>

<span class="kn">example</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">library_search</span>
</code></pre></div>


<p>It also seems to work in the <a href="https://leanprover-community.github.io/lean-web-editor/#code=import%20data.real.basic%0A%0Aexample%20%3A%20%E2%84%95%20%3A%3D%20by%20library_search">web editor</a>.</p>



<a name="202067731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Sever%20sharing%20in%20live%20share/near/202067731" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Sever.20sharing.20in.20live.20share.html#202067731">(Jun 26 2020 at 09:11)</a>:</h4>
<p>Oh! Sorry, I must have made a slip.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>