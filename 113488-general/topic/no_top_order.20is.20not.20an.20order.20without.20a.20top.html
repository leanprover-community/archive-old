---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html">no_top_order is not an order without a top</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="267354304"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267354304" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rémy Degenne <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267354304">(Jan 09 2022 at 11:54)</a>:</h4>
<p>I just got very confused by the <code>no_top_order</code> and <code>no_bot_order</code> classes, which are not what I thought they were by reading the name and the docstrings. Let's look at <code>no_top_order</code> and <code>order_top</code>, which are defined as</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="sd">/-- Order without a maximal element. Sometimes called cofinal. -/</span>
<span class="kd">class</span> <span class="n">no_top_order</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">has_lt</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">no_top</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">a'</span><span class="o">,</span> <span class="n">a</span> <span class="bp">&lt;</span> <span class="n">a'</span><span class="o">)</span>

<span class="sd">/-- An order is an `order_top` if it has a greatest element. -/</span>
<span class="kd">class</span> <span class="n">order_top</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">has_le</span> <span class="n">α</span><span class="o">]</span> <span class="kd">extends</span> <span class="n">has_top</span> <span class="n">α</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">le_top</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">,</span> <span class="n">a</span> <span class="bp">≤</span> <span class="bp">⊤</span><span class="o">)</span>
</code></pre></div>
<p>(<a href="https://leanprover-community.github.io/mathlib_docs/find/no_top_order">docs#no_top_order</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/order_top">docs#order_top</a>)<br>
<code>no_top_order</code> is actually stronger than not having a <code>⊤</code> element verifying <code>le_top</code>.  Consider a type with three elements <code>a,b,c</code> such that <code>a &lt; b</code> and <code>a &lt; c</code> (and no other order relations). Then there is no <code>⊤</code> because <code>b</code> and <code>c</code> are not comparable, but this is not a <code>no_top_order</code> either, because <code>b</code> and <code>c</code> don't verify the <code>no_top</code> condition. <code>no_top_order</code> also excludes "local" tops.</p>
<p>That issue disappears for linear orders, for which you either have <code>order_top</code> or <code>no_top_order</code>. The whole issue is really that unless the order is linear, you don't have <a href="https://leanprover-community.github.io/mathlib_docs/find/le_of_not_lt">docs#le_of_not_lt</a> .</p>
<p>In the same way, the predicate <a href="https://leanprover-community.github.io/mathlib_docs/find/is_top">docs#is_top</a> is not in general the opposite of what you get from <a href="https://leanprover-community.github.io/mathlib_docs/find/no_top_order.no_top">docs#no_top_order.no_top</a> . Nonetheless, the docstring of <code>is_top</code> states "This predicate is useful, e.g., to make some statements and proofs work in both cases [order_top α] and [no_top_order α]". This makes me think that the author of those lines probably had linear orders in mind.</p>
<p>In conclusion: should we give another name to <code>no_top_order</code> to better reflect that it is stronger than not being an <code>order_top</code>? At least the docstrings need to be modified.</p>



<a name="267354868"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267354868" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267354868">(Jan 09 2022 at 12:07)</a>:</h4>
<p>Yeah this is indeed confusing to people who discover the order library. We could rename them to <code>no_max_order</code>/<code>no_min_order</code>.</p>



<a name="267354878"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267354878" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267354878">(Jan 09 2022 at 12:07)</a>:</h4>
<p>But also I don't think this is <em>too</em> important.</p>



<a name="267354879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267354879" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267354879">(Jan 09 2022 at 12:07)</a>:</h4>
<p>That's the intended behavior. The name is unfortunate but I think standard (modulo some adaptation to our terminology for top elements), since the main interest in this predicate is in total orders</p>



<a name="267354938"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267354938" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267354938">(Jan 09 2022 at 12:08)</a>:</h4>
<p>for example, "dense linear order without endpoints" is a common term for orders like Q</p>



<a name="267354946"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267354946" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267354946">(Jan 09 2022 at 12:09)</a>:</h4>
<p>I disagree, Mario. I use it everywhere and mostly not in linear orders.</p>



<a name="267354953"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267354953" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267354953">(Jan 09 2022 at 12:09)</a>:</h4>
<p>and the terminology emphasizes what the order does not have even though it is a positive statement (every element has a greater element)</p>



<a name="267355028"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267355028" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267355028">(Jan 09 2022 at 12:10)</a>:</h4>
<p><span class="user-mention" data-user-id="387244">@Yaël Dillies</span> Er, I mean the birthplace of the concept is in the linear setting. It generalizes, as many things do, to beyond where the conventional terminology makes a lot of sense</p>



<a name="267355194"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267355194" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rémy Degenne <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267355194">(Jan 09 2022 at 12:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top/near/267354878">said</a>:</p>
<blockquote>
<p>But also I don't think this is <em>too</em> important.</p>
</blockquote>
<p>No it's not very important, indeed. It's still confusing. I am perfectly ok with leaving the name as it is if the notion is only useful for linear orders. But I'll PR some changes to the docstrings in that file to point out that the name reflects what happens in the linear order case.</p>



<a name="267355212"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267355212" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267355212">(Jan 09 2022 at 12:15)</a>:</h4>
<p>I don't think "has no maximal element" is a correct gloss either in the preorder setting</p>



<a name="267355228"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267355228" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rémy Degenne <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267355228">(Jan 09 2022 at 12:15)</a>:</h4>
<p>And indeed the code I was originally writing was about a linear order. i only got surprised by that subtlety once I tried removing hypotheses from my lemmas as much as possible.</p>



<a name="267355378"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267355378" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267355378">(Jan 09 2022 at 12:18)</a>:</h4>
<p>The comment on <code>no_top_order</code> already says "Order without a maximal element." so I'm not sure what you want to change</p>



<a name="267355471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267355471" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rémy Degenne <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267355471">(Jan 09 2022 at 12:20)</a>:</h4>
<p>add a sentence stating that in a linear order, this is the same as not being <code>order_top</code>, but not in general?</p>



<a name="267355479"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267355479" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267355479">(Jan 09 2022 at 12:20)</a>:</h4>
<p>There should be a lemma saying that</p>



<a name="267355507"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267355507" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267355507">(Jan 09 2022 at 12:22)</a>:</h4>
<p>there is <a href="https://leanprover-community.github.io/mathlib_docs/find/not_is_top">docs#not_is_top</a> but it's not a biconditional</p>



<a name="267357206"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267357206" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267357206">(Jan 09 2022 at 13:02)</a>:</h4>
<p>Okay, here's something that's really confusing: <span class="user-mention" data-user-id="214703">@Yury G. Kudryashov</span>'s docstring for <a href="https://leanprover-community.github.io/mathlib_docs/find/is_bot">docs#is_bot</a>, <a href="https://leanprover-community.github.io/mathlib_docs/find/is_top">docs#is_top</a>. <code>is_bot</code> never applies in a <code>no_bot_order</code>, so <code>is_bot</code> is most definitely not allowing to treat <code>order_bot</code> and <code>no_bot_order</code> simultaneously.</p>



<a name="267357285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267357285" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267357285">(Jan 09 2022 at 13:04)</a>:</h4>
<p>Yury, did you mean "to orders which have a bot not declared through <code>order_bot</code>", "to preorders which might have several bots", or did you mean to define <code>is_min</code> instead? In the latter case, I suspect your lemmas in <a href="https://github.com/leanprover-community/mathlib/pull/9396">#9396</a> generalize.</p>



<a name="267357361"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267357361" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267357361">(Jan 09 2022 at 13:06)</a>:</h4>
<p><span class="user-mention" data-user-id="387244">@Yaël Dillies</span> <a href="#narrow/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top/near/267357206">said</a>:</p>
<blockquote>
<p><code>is_bot</code> never applies in a <code>no_bot_order</code>, so <code>is_bot</code> is most definitely not allowing to treat <code>order_bot</code> and <code>no_bot_order</code> simultaneously.</p>
</blockquote>
<p>What do you mean? They are <em>supposed</em> to be mutually exclusive. The claim that connects them is that <code>order_bot</code> holds iff there exists <code>a</code> such that <code>is_bot a</code>, and <code>no_bot_order</code> holds iff there does not exist <code>a</code> such that <code>is_bot a</code> (under certain additional hypotheses)</p>



<a name="267357384"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267357384" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267357384">(Jan 09 2022 at 13:07)</a>:</h4>
<p>Have a look at Yury's description of <a href="https://github.com/leanprover-community/mathlib/pull/9493">#9493</a></p>



<a name="267357396"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267357396" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267357396">(Jan 09 2022 at 13:07)</a>:</h4>
<p>I perfectly agree with you, hence me not understanding what Yury meant.</p>



<a name="267357514"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267357514" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267357514">(Jan 09 2022 at 13:09)</a>:</h4>
<p>I think he meant what I said. There are complications with directly using a disjunction of <code>order_bot</code> and <code>no_bot_order</code> because these are typeclasses, not props, and <code>order_bot</code> also comes with a designated bottom element which is difficult to work with here. With <code>is_bot</code>, you can do the case disjunction cleanly using <code>by_cases h : \exists a, is_bot a</code></p>



<a name="267357579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267357579" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267357579">(Jan 09 2022 at 13:10)</a>:</h4>
<p>To make that work, you need lemmas that say that you can construct an <code>order_bot</code> given <code>is_bot a</code>, and a <code>no_top_order</code> given <code>\neg \exists a, is_bot a</code></p>



<a name="267357591"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267357591" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267357591">(Jan 09 2022 at 13:11)</a>:</h4>
<p>So Yury meant "to orders which have a bot not declared through <code>order_bot</code>"?</p>



<a name="267357633"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267357633" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267357633">(Jan 09 2022 at 13:12)</a>:</h4>
<p>Yeah, if you don't have a bot at all, and you want to reason with <code>order_bot</code> and <code>no_bot_order</code> anyway you have to do something like that</p>



<a name="267357636"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267357636" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267357636">(Jan 09 2022 at 13:12)</a>:</h4>
<p>A similar thing is done with the <code>nontriviality</code> tactic</p>



<a name="267357646"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267357646" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267357646">(Jan 09 2022 at 13:13)</a>:</h4>
<p>you don't know that it is either trivial or nontrivial but you can do a case disjunction and get a typeclass in each case</p>



<a name="267357649"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267357649" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267357649">(Jan 09 2022 at 13:13)</a>:</h4>
<p>What's confusing is that the "certain additional hypotheses" comprises being linear, which to my eyes (and Rémy's) is quite a strong condition which we shouldn't just sweep under the rug.</p>



<a name="267357655"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267357655" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267357655">(Jan 09 2022 at 13:13)</a>:</h4>
<p>Sure, the lemma that requires this should point out that the hypothesis is necessary</p>



<a name="267357697"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267357697" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267357697">(Jan 09 2022 at 13:14)</a>:</h4>
<p>The docstrings for <a href="https://leanprover-community.github.io/mathlib_docs/find/is_bot">docs#is_bot</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/is_top">docs#is_top</a> are confusing because they are in the most basic order theory file but were written with <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">R</mi></mrow><annotation encoding="application/x-tex">\R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord mathbb">R</span></span></span></span> in mind (I think?).</p>



<a name="267357704"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267357704" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267357704">(Jan 09 2022 at 13:14)</a>:</h4>
<p><code>is_bot</code> is a very basic definition</p>



<a name="267357708"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267357708" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267357708">(Jan 09 2022 at 13:14)</a>:</h4>
<p>it says that an element is minimum</p>



<a name="267357710"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267357710" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267357710">(Jan 09 2022 at 13:15)</a>:</h4>
<p>But the docstring doesn't reflect that.</p>



<a name="267357720"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267357720" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267357720">(Jan 09 2022 at 13:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top/near/267357708">said</a>:</p>
<blockquote>
<p>it says that an element is minimum</p>
</blockquote>
<p>No it doesn't <span aria-label="stuck out tongue" class="emoji emoji-1f61b" role="img" title="stuck out tongue">:stuck_out_tongue:</span></p>



<a name="267357724"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267357724" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267357724">(Jan 09 2022 at 13:15)</a>:</h4>
<p>??</p>



<a name="267357728"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267357728" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267357728">(Jan 09 2022 at 13:15)</a>:</h4>
<p>It says that it is less or equal to everything</p>



<a name="267357733"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267357733" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267357733">(Jan 09 2022 at 13:15)</a>:</h4>
<p>Anyway, I need <code>is_min</code> and <code>is_max</code> now, so I'll define them next to <code>is_bot</code> and <code>is_top</code> and clarify the docstrings.</p>



<a name="267357741"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267357741" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267357741">(Jan 09 2022 at 13:16)</a>:</h4>
<p>that is, a global minimum element</p>



<a name="267357750"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267357750" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267357750">(Jan 09 2022 at 13:16)</a>:</h4>
<p>... which is not what being minimal is.</p>



<a name="267357784"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267357784" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267357784">(Jan 09 2022 at 13:16)</a>:</h4>
<p>I said minimum not minimal</p>



<a name="267357787"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267357787" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267357787">(Jan 09 2022 at 13:16)</a>:</h4>
<p>Arf, got me</p>



<a name="267357794"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267357794" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267357794">(Jan 09 2022 at 13:16)</a>:</h4>
<p>I think minimal and maximal are defined as well</p>



<a name="267357811"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267357811" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267357811">(Jan 09 2022 at 13:17)</a>:</h4>
<p>We have <a href="https://leanprover-community.github.io/mathlib_docs/find/is_min_on">docs#is_min_on</a>, but it's minimum, and with a set and an indexing type on top</p>



<a name="267357867"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267357867" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267357867">(Jan 09 2022 at 13:18)</a>:</h4>
<p>also <a href="https://leanprover-community.github.io/mathlib_docs/find/is_least">docs#is_least</a></p>



<a name="267357873"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267357873" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267357873">(Jan 09 2022 at 13:18)</a>:</h4>
<p>That's minimum, not minimal</p>



<a name="267357875"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267357875" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267357875">(Jan 09 2022 at 13:18)</a>:</h4>
<p>I have <a href="https://github.com/leanprover-community/mathlib/pull/11268">#11268</a> for minimal elements.</p>



<a name="267357950"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267357950" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267357950">(Jan 09 2022 at 13:20)</a>:</h4>
<p>I'm surprised it managed to evade mathlibification for so long</p>



<a name="267357967"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267357967" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267357967">(Jan 09 2022 at 13:21)</a>:</h4>
<p>there is a weird version of minimality appearing in <a href="https://leanprover-community.github.io/mathlib_docs/find/zorn.exists_maximal_of_chains_bounded">docs#zorn.exists_maximal_of_chains_bounded</a></p>



<a name="267357970"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267357970" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267357970">(Jan 09 2022 at 13:21)</a>:</h4>
<p>Agreed! And I wouldn't be surprised if it's actually already in some dark corner file of the library. What I'm sure of is that it is not where it should be, aka <code>order.basic</code>.</p>



<a name="267357979"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267357979" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267357979">(Jan 09 2022 at 13:21)</a>:</h4>
<p>Yeah, Zorn uses minimality without having special predicates.</p>



<a name="267358024"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267358024" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267358024">(Jan 09 2022 at 13:22)</a>:</h4>
<p>In fact, you might want to consider whether that definition is better than yours for the preorder case</p>



<a name="267358035"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267358035" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267358035">(Jan 09 2022 at 13:22)</a>:</h4>
<p>It sure is</p>



<a name="267358038"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267358038" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267358038">(Jan 09 2022 at 13:23)</a>:</h4>
<p>that is, x is maximal if <code>\forall y, x &lt;= y -&gt; y &lt;= x</code> instead of <code>\forall y, x &lt;= y -&gt; x = y</code></p>



<a name="267358342"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267358342" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267358342">(Jan 09 2022 at 13:31)</a>:</h4>
<p>Another way people stated minimality is as in <a href="https://leanprover-community.github.io/mathlib_docs/find/eq_bot_of_minimal">docs#eq_bot_of_minimal</a></p>



<a name="267359270"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267359270" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267359270">(Jan 09 2022 at 13:57)</a>:</h4>
<p>You're right, Mario, this definition is great.</p>



<a name="267360789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267360789" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267360789">(Jan 09 2022 at 14:31)</a>:</h4>
<p>On another note, I'm very skeptical of the <code>Sometimes called cofinal.</code> part of the docstring</p>



<a name="267360843"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267360843" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267360843">(Jan 09 2022 at 14:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top/near/267357206">said</a>:</p>
<blockquote>
<p>Okay, here's something that's really confusing: <span class="user-mention silent" data-user-id="214703">Yury G. Kudryashov</span>'s docstring for <a href="https://leanprover-community.github.io/mathlib_docs/find/is_bot">docs#is_bot</a>, <a href="https://leanprover-community.github.io/mathlib_docs/find/is_top">docs#is_top</a>. <code>is_bot</code> never applies in a <code>no_bot_order</code>, so <code>is_bot</code> is most definitely not allowing to treat <code>order_bot</code> and <code>no_bot_order</code> simultaneously.</p>
</blockquote>
<p>I meant something like <a href="https://leanprover-community.github.io/mathlib_docs/find/exists_countable_dense_bot_top">docs#exists_countable_dense_bot_top</a> . It states something about <code>bot</code>/<code>top</code> but works both for types with <code>bot</code>/<code>top</code>, and for types without <code>bot</code>/<code>top</code>. Feel free to improve the docstring.</p>



<a name="267479057"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/no_top_order%20is%20not%20an%20order%20without%20a%20top/near/267479057" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/no_top_order.20is.20not.20an.20order.20without.20a.20top.html#267479057">(Jan 10 2022 at 18:22)</a>:</h4>
<p>I'm renaming the instances and trying to make the docstrings more understandable in <a href="https://github.com/leanprover-community/mathlib/pull/11357">#11357</a>. The docstrings do not make as much sense as they could because we're missing <code>is_min</code>/<code>is_max</code> and the real <code>no_bot_order</code>/<code>no_top_order</code>.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>