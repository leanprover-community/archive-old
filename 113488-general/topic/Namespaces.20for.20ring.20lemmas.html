---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Namespaces.20for.20ring.20lemmas.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Namespaces.20for.20ring.20lemmas.html">Namespaces for ring lemmas</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="292619880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Namespaces%20for%20ring%20lemmas/near/292619880" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Stoll <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Namespaces.20for.20ring.20lemmas.html#292619880">(Aug 09 2022 at 17:10)</a>:</h4>
<p>There is</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code> <span class="kd">theorem</span> <span class="n">neg_add_eq_sub</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u_1</span><span class="o">}</span> <span class="o">[</span><span class="n">subtraction_comm_monoid</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span>
<span class="bp">-</span><span class="n">a</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">b</span> <span class="bp">-</span> <span class="n">a</span>
</code></pre></div>
<p>in the root name space and defined in <code>algebra.group.basic</code>, but</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code> <span class="kd">theorem</span> <span class="n">tactic.ring.add_neg_eq_sub</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u_1</span><span class="o">}</span> <span class="o">[</span><span class="n">add_group</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span>
<span class="n">a</span> <span class="bp">+</span> <span class="bp">-</span><span class="n">b</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">-</span> <span class="n">b</span>
</code></pre></div>
<p>in the <code>tactic.ring</code> namespace and defined in <code>tactic.ring</code>.<br>
Is there a (good) reason for this asymmetry?<br>
(There are a few other statements in <code>tactic.ring</code> that look like they should be in <code>algebra.group.basic</code> or a similar file.)</p>



<a name="292621951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Namespaces%20for%20ring%20lemmas/near/292621951" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Namespaces.20for.20ring.20lemmas.html#292621951">(Aug 09 2022 at 17:21)</a>:</h4>
<p>You can ignore the lemmas in the<code>tactic.ring</code> namespace, they only exist to be used by the <code>ring</code> tactic</p>



<a name="292622783"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Namespaces%20for%20ring%20lemmas/near/292622783" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Stoll <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Namespaces.20for.20ring.20lemmas.html#292622783">(Aug 09 2022 at 17:26)</a>:</h4>
<p>But <code>add_neg_eq_sub</code> does not seem to exist somewhere else (and I just needed it).</p>



<a name="292622864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Namespaces%20for%20ring%20lemmas/near/292622864" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Stoll <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Namespaces.20for.20ring.20lemmas.html#292622864">(Aug 09 2022 at 17:27)</a>:</h4>
<p><code>suggest</code> told me that the statement is <code>tactic.ring....</code>.</p>



<a name="292627080"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Namespaces%20for%20ring%20lemmas/near/292627080" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Namespaces.20for.20ring.20lemmas.html#292627080">(Aug 09 2022 at 17:52)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/sub_eq_add_neg">docs#sub_eq_add_neg</a></p>



<a name="292627465"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Namespaces%20for%20ring%20lemmas/near/292627465" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Stoll <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Namespaces.20for.20ring.20lemmas.html#292627465">(Aug 09 2022 at 17:54)</a>:</h4>
<p>Thanks. Why is <code>neg_add_eq_sub</code> in the other direction?</p>



<a name="292633817"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Namespaces%20for%20ring%20lemmas/near/292633817" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Namespaces.20for.20ring.20lemmas.html#292633817">(Aug 09 2022 at 18:30)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/sub_eq_neg_add">docs#sub_eq_neg_add</a> also exists. Not sure why <code>neg_add_eq_sub</code> is reversed.</p>



<a name="292642012"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Namespaces%20for%20ring%20lemmas/near/292642012" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Namespaces.20for.20ring.20lemmas.html#292642012">(Aug 09 2022 at 19:21)</a>:</h4>
<p>Tactics often come with peculiarly stated lemmas simply because it's much easier to run the elaborator outside the tactic than it is to build complex term mode proofs within it</p>



<a name="292642121"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Namespaces%20for%20ring%20lemmas/near/292642121" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Namespaces.20for.20ring.20lemmas.html#292642121">(Aug 09 2022 at 19:22)</a>:</h4>
<p>(in my experience, largely due to <code> `(_) </code> notation not working with universe metavariables)</p>



<a name="292643368"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Namespaces%20for%20ring%20lemmas/near/292643368" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Namespaces.20for.20ring.20lemmas.html#292643368">(Aug 09 2022 at 19:30)</a>:</h4>
<p>That explains <a href="https://leanprover-community.github.io/mathlib_docs/find/tactic.ring.add_neg_eq_sub">docs#tactic.ring.add_neg_eq_sub</a>, not <a href="https://leanprover-community.github.io/mathlib_docs/find/neg_add_eq_sub">docs#neg_add_eq_sub</a>.</p>



<a name="292668307"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Namespaces%20for%20ring%20lemmas/near/292668307" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Namespaces.20for.20ring.20lemmas.html#292668307">(Aug 09 2022 at 22:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113488-general/topic/Namespaces.20for.20ring.20lemmas/near/292642012">said</a>:</p>
<blockquote>
<p>Tactics often come with peculiarly stated lemmas simply because it's much easier to run the elaborator outside the tactic than it is to build complex term mode proofs within it</p>
</blockquote>
<p>It's also significantly more efficient. In many cases you don't even need to call the elaborator at all, you just call expr constructors directly</p>



<a name="292672568"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Namespaces%20for%20ring%20lemmas/near/292672568" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Namespaces.20for.20ring.20lemmas.html#292672568">(Aug 09 2022 at 23:17)</a>:</h4>
<p>Ah, the point being that everything is elaborated once at startup rather than on each tactic invocation?</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>