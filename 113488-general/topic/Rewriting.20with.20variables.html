---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Rewriting.20with.20variables.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Rewriting.20with.20variables.html">Rewriting with variables</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="266006870"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Rewriting%20with%20variables/near/266006870" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Rewriting.20with.20variables.html#266006870">(Dec 24 2021 at 14:51)</a>:</h4>
<p>Say I have a goal like <code>p.fst * p.snd = 10</code> and I have variables <code>x := p.fst</code> and <code>y := p.snd</code>. How do I rewrite the goal so that it reads <code>x * y = 10</code>.</p>



<a name="266007076"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Rewriting%20with%20variables/near/266007076" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Rewriting.20with.20variables.html#266007076">(Dec 24 2021 at 14:55)</a>:</h4>
<p>are those created from <code>let</code>? You can just use <code>change x * y = 10</code> if so, but if you want to rewrite (which I'd recommend) then the <code>set</code> tactic may be better.</p>



<a name="266007148"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Rewriting%20with%20variables/near/266007148" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Rewriting.20with.20variables.html#266007148">(Dec 24 2021 at 14:56)</a>:</h4>
<p><code>dsimp only [x, y]</code> might work</p>



<a name="266007149"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Rewriting%20with%20variables/near/266007149" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Rewriting.20with.20variables.html#266007149">(Dec 24 2021 at 14:56)</a>:</h4>
<p>Yes, they are <code>let</code> variables.</p>



<a name="266007170"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Rewriting%20with%20variables/near/266007170" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Rewriting.20with.20variables.html#266007170">(Dec 24 2021 at 14:57)</a>:</h4>
<p><code>dsimp</code> didn't work.</p>



<a name="266007245"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Rewriting%20with%20variables/near/266007245" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Rewriting.20with.20variables.html#266007245">(Dec 24 2021 at 14:58)</a>:</h4>
<p><code>change</code> works. Great.</p>



<a name="266007254"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Rewriting%20with%20variables/near/266007254" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Rewriting.20with.20variables.html#266007254">(Dec 24 2021 at 14:58)</a>:</h4>
<p>they want to go the other way, Eric :)</p>



<a name="266007475"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Rewriting%20with%20variables/near/266007475" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Rewriting.20with.20variables.html#266007475">(Dec 24 2021 at 15:02)</a>:</h4>
<p>Hmm... can't I do a <code>let ⟨x, y⟩ := p</code> instead of doing two lets?</p>



<a name="266007504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Rewriting%20with%20variables/near/266007504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Rewriting.20with.20variables.html#266007504">(Dec 24 2021 at 15:03)</a>:</h4>
<p>try <code>obtain \&lt;x, y&gt; := p</code>; but i'd not recommend this unless you never want to see <code>p</code> again</p>



<a name="266007509"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Rewriting%20with%20variables/near/266007509" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Rewriting.20with.20variables.html#266007509">(Dec 24 2021 at 15:03)</a>:</h4>
<p>Using normal parenthesis doesn't work either.</p>



<a name="266007583"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Rewriting%20with%20variables/near/266007583" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Rewriting.20with.20variables.html#266007583">(Dec 24 2021 at 15:04)</a>:</h4>
<p><code>obtain</code> works. Is that a tactic?</p>



<a name="266007592"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Rewriting%20with%20variables/near/266007592" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Rewriting.20with.20variables.html#266007592">(Dec 24 2021 at 15:04)</a>:</h4>
<p>yeah, it's a different syntax for <code>rcases</code></p>



<a name="266007630"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Rewriting%20with%20variables/near/266007630" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Rewriting.20with.20variables.html#266007630">(Dec 24 2021 at 15:05)</a>:</h4>
<p>Haha. It shows <code>(x, y).fst</code> and <code>(x, y).snd</code></p>



<a name="266007686"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Rewriting%20with%20variables/near/266007686" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Rewriting.20with.20variables.html#266007686">(Dec 24 2021 at 15:06)</a>:</h4>
<p>welcome to lean :p <code>dsimp</code> will then clear that (or maybe <code>simp only</code>) but that's type theory for you</p>



<a name="266007765"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Rewriting%20with%20variables/near/266007765" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Rewriting.20with.20variables.html#266007765">(Dec 24 2021 at 15:08)</a>:</h4>
<p>Ah, nice. Thanks a lot.</p>



<a name="266007787"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Rewriting%20with%20variables/near/266007787" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Rewriting.20with.20variables.html#266007787">(Dec 24 2021 at 15:08)</a>:</h4>
<p>Working with relations on products is going to get annoying.</p>



<a name="266007821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Rewriting%20with%20variables/near/266007821" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Rewriting.20with.20variables.html#266007821">(Dec 24 2021 at 15:09)</a>:</h4>
<p>Is there a version of <code>assume</code> that can destruct using ⟨x, y⟩?</p>



<a name="266007936"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Rewriting%20with%20variables/near/266007936" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Rewriting.20with.20variables.html#266007936">(Dec 24 2021 at 15:10)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/tactics.html#rintro">tactic#rintro</a></p>



<a name="266008212"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Rewriting%20with%20variables/near/266008212" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Rewriting.20with.20variables.html#266008212">(Dec 24 2021 at 15:16)</a>:</h4>
<p>Bernd, when you are in tactic mode, on every new step (that is, what comes right after a comma, for example), the first word you write always refers to a tactic. Like exact, refine, intro, cases, change, convert, congr, induction, norm_num... Some of those tactics take identifiers, some take expressions, some have a very precise syntax that take locations (at h, at *, at |-). Hopefully that helps your differentiate tactic tokens from term tokens</p>



<a name="266008251"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Rewriting%20with%20variables/near/266008251" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Rewriting.20with.20variables.html#266008251">(Dec 24 2021 at 15:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="238446">Anne Baanen</span> <a href="#narrow/stream/113488-general/topic/Rewriting.20with.20variables/near/266007936">said</a>:</p>
<blockquote>
<p><a href="https://leanprover-community.github.io/mathlib_docs/tactics.html#rintro">tactic#rintro</a></p>
</blockquote>
<p>Fantastic.</p>



<a name="266008318"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Rewriting%20with%20variables/near/266008318" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Rewriting.20with.20variables.html#266008318">(Dec 24 2021 at 15:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="308899">Yakov Pechersky</span> <a href="#narrow/stream/113488-general/topic/Rewriting.20with.20variables/near/266008212">said</a>:</p>
<blockquote>
<p>Bernd, when you are in tactic mode, on every new step (that is, what comes right after a comma, for example), the first word you write always refers to a tactic. Like exact, refine, intro, cases, change, convert, congr, induction, norm_num... Some of those tactics take identifiers, some take expressions, some have a very precise syntax that take locations (at h, at *, at |-). Hopefully that helps your differentiate tactic tokens from term tokens</p>
</blockquote>
<p>So <code>let</code> is also a tactic? Interesting.</p>



<a name="266008453"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Rewriting%20with%20variables/near/266008453" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Rewriting.20with.20variables.html#266008453">(Dec 24 2021 at 15:20)</a>:</h4>
<p>The thing that may be confusing you is that let is also a thing in term mode:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">:</span> <span class="mi">1</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span>
<span class="k">let</span> <span class="n">a</span> <span class="o">:=</span> <span class="n">rfl</span> <span class="k">in</span> <span class="n">a</span>
</code></pre></div>
<p>but it's just a coincidence. <code>assume</code> is also synonymous with <code>\lam</code>, and there was one more that just flew out of my head, but other than that there is no real overlap (afair)</p>



<a name="266008653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Rewriting%20with%20variables/near/266008653" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Rewriting.20with.20variables.html#266008653">(Dec 24 2021 at 15:23)</a>:</h4>
<p>Yes, that does confuse me. I also have a hard time making sense of tactic definitions.</p>



<a name="266011741"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Rewriting%20with%20variables/near/266011741" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Rewriting.20with.20variables.html#266011741">(Dec 24 2021 at 16:24)</a>:</h4>
<p>dec_trivial is another token that is the same in both term mode and tactic mode</p>



<a name="266026650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Rewriting%20with%20variables/near/266026650" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Rewriting.20with.20variables.html#266026650">(Dec 24 2021 at 22:08)</a>:</h4>
<p>Some tokens that act approximately the same in term and tactic mode: <code>assume</code>, <code>have</code>, <code>let</code>, <code>suffices</code>, <code>show</code>, <code>calc</code>, <code>by</code>, <code>from</code></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>