---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/My.20favorite.20group.20lemma.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html">My favorite group lemma</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="190013996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190013996" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando cau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190013996">(Mar 08 2020 at 13:32)</a>:</h4>
<p>Hello I'm a beginner </p>
<p>I don't understand i how to prove my favorite group lemma  :D Can anyone help me ? </p>
<div class="codehilite"><pre><span></span><span class="kn">example</span><span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">:((</span><span class="bp">∀</span> <span class="n">c</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span>  <span class="n">c</span> <span class="bp">=</span> <span class="n">c</span><span class="bp">⁻¹</span><span class="o">)</span>  <span class="bp">→</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span> <span class="n">a</span><span class="bp">*</span><span class="n">b</span> <span class="bp">=</span> <span class="n">b</span><span class="bp">*</span><span class="n">a</span><span class="o">)):=</span>
<span class="k">begin</span>
    <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
    <span class="n">intros</span> <span class="n">a</span> <span class="n">b</span><span class="o">,</span>
    <span class="k">calc</span>
        <span class="n">a</span><span class="bp">*</span><span class="n">b</span> <span class="bp">=</span> <span class="o">(</span><span class="n">a</span><span class="bp">*</span><span class="n">b</span><span class="o">)</span><span class="bp">⁻¹</span>  <span class="o">:</span> <span class="n">h</span> <span class="o">(</span><span class="n">a</span><span class="bp">*</span><span class="n">b</span><span class="o">)</span>
        <span class="bp">...</span> <span class="bp">=</span> <span class="n">b</span><span class="bp">⁻¹</span> <span class="bp">*</span><span class="n">a</span><span class="bp">⁻¹</span> <span class="o">:</span> <span class="k">by</span>  <span class="n">rw</span> <span class="n">mul_inv_rev</span>
        <span class="bp">...</span> <span class="bp">=</span> <span class="n">b</span><span class="bp">*</span><span class="n">a</span><span class="bp">⁻¹</span>    <span class="o">:</span> <span class="n">sorry</span>
        <span class="bp">...</span> <span class="bp">=</span> <span class="n">b</span><span class="bp">*</span><span class="n">a</span>      <span class="o">:</span> <span class="n">sorry</span>
<span class="kn">end</span>
<span class="n">Edit</span> <span class="o">:</span> <span class="n">thx</span> <span class="n">Donald</span>
</pre></div>



<a name="190014340"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190014340" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Donald Sebastian Leung <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190014340">(Mar 08 2020 at 13:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="269635">orlando cau</span> <a href="#narrow/stream/113488-general/topic/3.2E7.20and.20maths/near/190013996" title="#narrow/stream/113488-general/topic/3.2E7.20and.20maths/near/190013996">said</a>:</p>
<blockquote>
<p>Hello I'm a beginner </p>
<p>I don't understand i how to prove my favorite group lemma  :D Can anyone help me ? <br>
example(G : Type)[group G] :((∀ c : G,  c = c⁻¹)  → (∀ a b : G, a<em>b = b</em>a)):= <br>
begin<br>
    intro h,<br>
    intros a b,<br>
    calc<br>
        a<em>b = (a</em>b)⁻¹  : h (a*b) <br>
        ... = b⁻¹ *a⁻¹ : by  rw mul_inv_rev<br>
        ... = b*a⁻¹    : sorry<br>
        ... = b*a      : sorry<br>
end</p>
</blockquote>
<p>You probably want to rewrite in the reverse direction, which can be accomplished by, e.g. <code>rw ← h</code> (where <code>h</code> is your equality hypothesis)</p>



<a name="190014364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190014364" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Donald Sebastian Leung <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190014364">(Mar 08 2020 at 13:45)</a>:</h4>
<p>Also, you'd probably want to <a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet#code" target="_blank" title="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet#code">format your code</a> next time, just so that it's a bit easier on the eyes of the person trying to help you</p>



<a name="190014656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190014656" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason KY. <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190014656">(Mar 08 2020 at 13:54)</a>:</h4>
<p>I was able to solve it this way</p>
<div class="codehilite"><pre><span></span><span class="kn">variables</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span>

<span class="kn">example</span> <span class="o">(</span><span class="n">y</span> <span class="n">z</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="o">:</span> <span class="n">y</span> <span class="bp">*</span> <span class="n">z</span> <span class="bp">=</span> <span class="n">z</span> <span class="bp">*</span> <span class="n">y</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">suffices</span> <span class="o">:</span> <span class="n">z</span> <span class="bp">*</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">z</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">y</span><span class="bp">⁻¹</span><span class="o">,</span>
    <span class="n">rw</span> <span class="o">[</span><span class="n">this</span><span class="o">,</span> <span class="n">h</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">z</span><span class="o">)],</span> <span class="n">apply</span> <span class="n">mul_inv_rev</span><span class="o">,</span>
  <span class="n">conv</span> <span class="o">{</span><span class="n">to_lhs</span><span class="o">,</span> <span class="n">rw</span> <span class="o">[</span><span class="n">h</span> <span class="n">z</span><span class="o">,</span> <span class="n">h</span> <span class="n">y</span><span class="o">]}</span>
<span class="kn">end</span>
</pre></div>



<a name="190014738"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190014738" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando cau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190014738">(Mar 08 2020 at 13:57)</a>:</h4>
<p>Thx, i'm verry beginner, i try to understand your code !</p>



<a name="190014786"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190014786" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Donald Sebastian Leung <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190014786">(Mar 08 2020 at 13:58)</a>:</h4>
<p>By the way, did you try out the <a href="https://wwwf.imperial.ac.uk/~buzzard/xena/natural_number_game/" target="_blank" title="https://wwwf.imperial.ac.uk/~buzzard/xena/natural_number_game/">natural number game</a>?</p>



<a name="190014982"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190014982" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando cau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190014982">(Mar 08 2020 at 14:04)</a>:</h4>
<p>No i don't try natural number game  ! I just see <a href="https://gist.github.com/PatrickMassot/79d7f53b3777c48e0910e131aedff7ea#file-proof_tutorial-lean-L57" target="_blank" title="https://gist.github.com/PatrickMassot/79d7f53b3777c48e0910e131aedff7ea#file-proof_tutorial-lean-L57">this tutorial</a> and i try to understand the language  ! thx</p>



<a name="190015053"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190015053" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Donald Sebastian Leung <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190015053">(Mar 08 2020 at 14:07)</a>:</h4>
<p>Nice <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span> Are you stepping through the tutorial in a web editor / VSCode, or are you just reading through the file on GitHub?</p>



<a name="190015375"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190015375" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando cau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190015375">(Mar 08 2020 at 14:17)</a>:</h4>
<p>Ohhh it's Ok ! It's My first proof <span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span></p>
<p>I install vs Code and lean yesterday ! </p>
<div class="codehilite"><pre><span></span><span class="kn">variables</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span>
<span class="kn">example</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">a</span> <span class="o">:=</span>
<span class="k">begin</span>
    <span class="k">calc</span>
        <span class="n">a</span><span class="bp">*</span><span class="n">b</span> <span class="bp">=</span> <span class="o">(</span><span class="n">a</span><span class="bp">*</span><span class="n">b</span><span class="o">)</span><span class="bp">⁻¹</span>  <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span>  <span class="err">←</span> <span class="n">h</span><span class="o">(</span><span class="n">a</span><span class="bp">*</span><span class="n">b</span><span class="o">)</span>
        <span class="bp">...</span> <span class="bp">=</span> <span class="n">b</span><span class="bp">⁻¹</span> <span class="bp">*</span><span class="n">a</span><span class="bp">⁻¹</span> <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="n">mul_inv_rev</span>
        <span class="bp">...</span> <span class="bp">=</span> <span class="n">b</span><span class="bp">*</span><span class="n">a</span><span class="bp">⁻¹</span>    <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="err">←</span> <span class="n">h</span><span class="o">(</span><span class="n">b</span><span class="o">)</span>
        <span class="bp">...</span> <span class="bp">=</span> <span class="n">b</span><span class="bp">*</span><span class="n">a</span>      <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="err">←</span> <span class="n">h</span><span class="o">(</span><span class="n">a</span><span class="o">)</span>
<span class="kn">end</span>
</pre></div>



<a name="190015884"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190015884" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190015884">(Mar 08 2020 at 14:35)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">variables</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span>
<span class="kn">example</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">a</span> <span class="o">:=</span>
<span class="k">calc</span>
        <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">=</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span>  <span class="err">←</span> <span class="n">h</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span>
        <span class="bp">...</span>   <span class="bp">=</span> <span class="n">b</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">a</span><span class="bp">⁻¹</span> <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="n">mul_inv_rev</span>
        <span class="bp">...</span>   <span class="bp">=</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">a</span><span class="bp">⁻¹</span>   <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="err">←</span> <span class="n">h</span> <span class="n">b</span>
        <span class="bp">...</span>   <span class="bp">=</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">a</span>     <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="err">←</span> <span class="n">h</span> <span class="n">a</span>
</pre></div>


<p>You don't need the brackets for <code>h(a)</code> etc -- in functional programming we know that <code>h</code> is a function so the next thing will be the input, we don't need brackets to tell us this. On the other hand the computer scientists like their spaces before and after <code>*</code></p>



<a name="190016054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190016054" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando cau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190016054">(Mar 08 2020 at 14:41)</a>:</h4>
<p>Thanks Kevin, i try to do other little proof ! This is very fun !</p>



<a name="190016057"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190016057" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190016057">(Mar 08 2020 at 14:41)</a>:</h4>
<p>But of course this is cheating, because you didn't prove <code>mul_inv_rev</code> :-)</p>



<a name="190016060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190016060" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190016060">(Mar 08 2020 at 14:41)</a>:</h4>
<p>Give me 1 minute and I will make you ten more questions like this.</p>



<a name="190016125"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190016125" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190016125">(Mar 08 2020 at 14:43)</a>:</h4>
<p>Here -- <a href="https://leanprover-community.github.io/lean-web-editor/#code=import%20tactic%0A%2F-!%0ABasic%20definitions%20in%20group%20theory.%0AThe%20beginner%20mathematician%20should%20ignore%20this%20part%3B%20definitions%20are%0Acan%20be%20intimidating.%20Skip%20down%20to%20line%2050%2C%20this%20part%20is%20technical.%0A-%2F%0A%0Aset_option%20old_structure_cmd%20true%20--%20it's%20better%20for%20this%20kind%20of%20stuff%0A%0A--%20We're%20overwriting%20inbuilt%20group%20theory%20here%20so%20we%20always%20work%20in%0A--%20a%20namespace%0A%0Anamespace%20mygroup%0A%0A--%20definitions%20of%20the%20group%20classes%0A%0Asection%20groupdefs%20%0A%0A--%20Set%20up%20notation%20typeclass%20using%20%60extends%60.%0Aclass%20has_group_notation%20%28G%20%3A%20Type%29%20extends%20has_mul%20G%2C%20has_one%20G%2C%20has_inv%20G%0A%0A--%20definition%20of%20the%20group%20structure%0Aclass%20group%20%28G%20%3A%20Type%29%20extends%20has_group_notation%20G%20%3A%3D%0A%28mul_assoc%20%3A%20%E2%88%80%20%28a%20b%20c%20%3A%20G%29%2C%20a%20*%20b%20*%20c%20%3D%20a%20*%20%28b%20*%20c%29%29%0A%28one_mul%20%3A%20%E2%88%80%20%28a%20%3A%20G%29%2C%201%20*%20a%20%3D%20a%29%0A%28mul_left_inv%20%3A%20%E2%88%80%20%28a%20%3A%20G%29%2C%20a%E2%81%BB%C2%B9%20*%20a%20%3D%201%29%0A%0Aclass%20comm_group%20%28G%20%3A%20Type%29%20extends%20group%20G%20%3A%3D%0A%28mul_comm%20%3A%20%E2%88%80%20a%20b%20%3A%20G%2C%20a%20*%20b%20%3D%20b%20*%20a%29%0A%0A--%20definition%20of%20powers%0A%40%5Bsimp%5D%20def%20group_pow_nat%20%7BG%20%3A%20Type%7D%20%5Bgroup%20G%5D%20%3A%20G%20%E2%86%92%20%E2%84%95%20%E2%86%92%20G%0A%7C%20g%200%20%3A%3D%201%0A%7C%20g%20%28n%20%2B%201%29%20%3A%3D%20group_pow_nat%20g%20n%20*%20g%0A%0Ainstance%20group_has_pow_nat%20%7BG%20%3A%20Type%7D%20%5Bgroup%20G%5D%20%3A%20has_pow%20G%20%E2%84%95%20%3A%3D%20%E2%9F%A8group_pow_nat%E2%9F%A9%0A%0A%40%5Bsimp%5D%20def%20group_pow%20%7BG%20%3A%20Type%7D%20%5Bgroup%20G%5D%20%3A%20G%20%E2%86%92%20%E2%84%A4%20%E2%86%92%20G%0A%7C%20g%20%28int.of_nat%20n%29%20%3A%3D%20group_pow_nat%20g%20n%0A%7C%20g%20-%5B1%2B%20n%5D%20%3A%3D%20%28group_pow_nat%20g%20%28n%20%2B%201%29%29%E2%81%BB%C2%B9%0A%0Ainstance%20group_has_pow%20%7BG%20%3A%20Type%7D%20%5Bgroup%20G%5D%20%3A%20has_pow%20G%20%E2%84%A4%20%3A%3D%20%E2%9F%A8group_pow%E2%9F%A9%0A%0A--%20Center%20of%20a%20group%0Adef%20center%20%28G%20%3A%20Type%29%20%5Bgroup%20G%5D%20%3A%3D%20%7Bg%20%3A%20G%20%7C%20%E2%88%80%20k%20%3A%20G%2C%20k%20*%20g%20%3D%20g%20*%20k%7D%0Aattribute%20%5Breducible%5D%20center%0A%0Aend%20groupdefs%0A%0A--%20START%20HERE%0A%0A%2F-%0A%0AFor%20a%20group%20G%2C%20you%20start%20with%20the%20following%20axioms%3A%0A%0Amul_assoc%20%3A%20%E2%88%80%20%28a%20b%20c%20%3A%20G%29%2C%20a%20*%20b%20*%20c%20%3D%20a%20*%20%28b%20*%20c%29%0Aone_mul%20%3A%20%E2%88%80%20%28a%20%3A%20G%29%2C%201%20*%20a%20%3D%20a%0Amul_left_inv%20%3A%20%E2%88%80%20%28a%20%3A%20G%29%2C%20a%E2%81%BB%C2%B9%20*%20a%20%3D%201%0A%0AThe%20goal%20is%20to%20prove%20the%20following%20theorems%20%28in%20the%20order%20listed%29%20%3A%0A%0A%60mul_left_cancel%20%3A%20%E2%88%80%20%28a%20b%20c%20%3A%20G%29%2C%20a%20*%20b%20%3D%20a%20*%20c%20%E2%86%92%20b%20%3D%20c%60%0A%60mul_eq_of_eq_inv_mul%20%7Ba%20x%20y%20%3A%20G%7D%20%3A%20x%20%3D%20a%E2%81%BB%C2%B9%20*%20y%20%E2%86%92%20a%20*%20x%20%3D%20y%60%0A%60mul_one%20%28a%20%3A%20G%29%20%3A%20a%20*%201%20%3D%20a%60%0A%60mul_right_inv%20%28a%20%3A%20G%29%20%3A%20a%20*%20a%E2%81%BB%C2%B9%20%3D%201%60%0A%60eq_mul_inv_of_mul_eq%20%7Ba%20b%20c%20%3A%20G%7D%20%28h%20%3A%20a%20*%20c%20%3D%20b%29%20%3A%20a%20%3D%20b%20*%20c%E2%81%BB%C2%B9%60%0A%60mul_left_eq_self%20%7Ba%20b%20%3A%20G%7D%20%3A%20a%20*%20b%20%3D%20b%20%E2%86%94%20a%20%3D%201%60%0A%60eq_inv_of_mul_eq_one%20%7Ba%20b%20%3A%20G%7D%20%28h%20%3A%20a%20*%20b%20%3D%201%29%20%3A%20a%20%3D%20b%E2%81%BB%C2%B9%60%0A%60inv_inv%20%28a%20%3A%20G%29%20%3A%20a%20%E2%81%BB%C2%B9%20%E2%81%BB%C2%B9%20%3D%20a%60%0A%60inv_eq_of_mul_eq_one%20%7Ba%20b%20%3A%20G%7D%20%28h%20%3A%20a%20*%20b%20%3D%201%29%20%3A%20a%E2%81%BB%C2%B9%20%3D%20b%60%0A%60mul_inv_rev%20%7Ba%20b%20%3A%20G%7D%20%3A%20%28a%20*%20b%29%E2%81%BB%C2%B9%20%3D%20b%E2%81%BB%C2%B9%20*%20a%E2%81%BB%C2%B9%60%0A%0A-%2F%0A%0Avariables%20%7BG%20%3A%20Type%7D%20%5Bgroup%20G%5D%20%20%0A%0Alemma%20mul_left_cancel%20%28a%20x%20y%20%3A%20G%29%20%28Habac%20%3A%20a%20*%20x%20%3D%20a%20*%20y%29%20%3A%20x%20%3D%20y%20%3A%3D%20%0Abegin%0A%20%20sorry%0Aend%0A%0Alemma%20mul_eq_of_eq_inv_mul%20%7Ba%20x%20y%20%3A%20G%7D%20%28h%20%3A%20x%20%3D%20a%E2%81%BB%C2%B9%20*%20y%29%20%3A%20a%20*%20x%20%3D%20y%20%3A%3D%0Abegin%0A%20%20sorry%0Aend%0A%0Atheorem%20mul_one%20%28a%20%3A%20G%29%20%3A%20a%20*%201%20%3D%20a%20%3A%3D%0Abegin%0A%20%20sorry%0Aend%0A%0Atheorem%20mul_right_inv%20%28a%20%3A%20G%29%20%3A%20a%20*%20a%E2%81%BB%C2%B9%20%3D%201%20%3A%3D%0Abegin%0A%20%20sorry%0Aend%0A%0Alemma%20eq_mul_inv_of_mul_eq%20%7Ba%20b%20c%20%3A%20G%7D%20%28h%20%3A%20a%20*%20c%20%3D%20b%29%20%3A%20a%20%3D%20b%20*%20c%E2%81%BB%C2%B9%20%3A%3D%0Abegin%0A%20%20sorry%0Aend%0A%0Alemma%20mul_left_eq_self%20%7Ba%20b%20%3A%20G%7D%20%3A%20a%20*%20b%20%3D%20b%20%E2%86%94%20a%20%3D%201%20%3A%3D%0Abegin%0A%20%20sorry%0Aend%0A%0Alemma%20eq_inv_of_mul_eq_one%20%7Ba%20b%20%3A%20G%7D%20%28h%20%3A%20a%20*%20b%20%3D%201%29%20%3A%20a%20%3D%20b%E2%81%BB%C2%B9%20%3A%3D%0Abegin%0A%20%20sorry%0Aend%0A%0Alemma%20inv_inv%20%28a%20%3A%20G%29%20%3A%20a%20%E2%81%BB%C2%B9%20%E2%81%BB%C2%B9%20%3D%20a%20%3A%3D%0Abegin%0A%20%20sorry%0Aend%0A%0Alemma%20inv_eq_of_mul_eq_one%20%7Ba%20b%20%3A%20G%7D%20%28h%20%3A%20a%20*%20b%20%3D%201%29%20%3A%20a%E2%81%BB%C2%B9%20%3D%20b%20%3A%3D%0Abegin%0A%20%20sorry%0Aend%0A%0A--%20for%20orlando%20cao%0Alemma%20mul_inv_rev%20%7Ba%20b%20%3A%20G%7D%20%3A%20%28a%20*%20b%29%E2%81%BB%C2%B9%20%3D%20b%E2%81%BB%C2%B9%20*%20a%E2%81%BB%C2%B9%20%3A%3D%0Abegin%0A%20%20sorry%0Aend%0A%0Aend%20mygroup" target="_blank" title="https://leanprover-community.github.io/lean-web-editor/#code=import%20tactic%0A%2F-!%0ABasic%20definitions%20in%20group%20theory.%0AThe%20beginner%20mathematician%20should%20ignore%20this%20part%3B%20definitions%20are%0Acan%20be%20intimidating.%20Skip%20down%20to%20line%2050%2C%20this%20part%20is%20technical.%0A-%2F%0A%0Aset_option%20old_structure_cmd%20true%20--%20it's%20better%20for%20this%20kind%20of%20stuff%0A%0A--%20We're%20overwriting%20inbuilt%20group%20theory%20here%20so%20we%20always%20work%20in%0A--%20a%20namespace%0A%0Anamespace%20mygroup%0A%0A--%20definitions%20of%20the%20group%20classes%0A%0Asection%20groupdefs%20%0A%0A--%20Set%20up%20notation%20typeclass%20using%20%60extends%60.%0Aclass%20has_group_notation%20%28G%20%3A%20Type%29%20extends%20has_mul%20G%2C%20has_one%20G%2C%20has_inv%20G%0A%0A--%20definition%20of%20the%20group%20structure%0Aclass%20group%20%28G%20%3A%20Type%29%20extends%20has_group_notation%20G%20%3A%3D%0A%28mul_assoc%20%3A%20%E2%88%80%20%28a%20b%20c%20%3A%20G%29%2C%20a%20*%20b%20*%20c%20%3D%20a%20*%20%28b%20*%20c%29%29%0A%28one_mul%20%3A%20%E2%88%80%20%28a%20%3A%20G%29%2C%201%20*%20a%20%3D%20a%29%0A%28mul_left_inv%20%3A%20%E2%88%80%20%28a%20%3A%20G%29%2C%20a%E2%81%BB%C2%B9%20*%20a%20%3D%201%29%0A%0Aclass%20comm_group%20%28G%20%3A%20Type%29%20extends%20group%20G%20%3A%3D%0A%28mul_comm%20%3A%20%E2%88%80%20a%20b%20%3A%20G%2C%20a%20*%20b%20%3D%20b%20*%20a%29%0A%0A--%20definition%20of%20powers%0A%40%5Bsimp%5D%20def%20group_pow_nat%20%7BG%20%3A%20Type%7D%20%5Bgroup%20G%5D%20%3A%20G%20%E2%86%92%20%E2%84%95%20%E2%86%92%20G%0A%7C%20g%200%20%3A%3D%201%0A%7C%20g%20%28n%20%2B%201%29%20%3A%3D%20group_pow_nat%20g%20n%20*%20g%0A%0Ainstance%20group_has_pow_nat%20%7BG%20%3A%20Type%7D%20%5Bgroup%20G%5D%20%3A%20has_pow%20G%20%E2%84%95%20%3A%3D%20%E2%9F%A8group_pow_nat%E2%9F%A9%0A%0A%40%5Bsimp%5D%20def%20group_pow%20%7BG%20%3A%20Type%7D%20%5Bgroup%20G%5D%20%3A%20G%20%E2%86%92%20%E2%84%A4%20%E2%86%92%20G%0A%7C%20g%20%28int.of_nat%20n%29%20%3A%3D%20group_pow_nat%20g%20n%0A%7C%20g%20-%5B1%2B%20n%5D%20%3A%3D%20%28group_pow_nat%20g%20%28n%20%2B%201%29%29%E2%81%BB%C2%B9%0A%0Ainstance%20group_has_pow%20%7BG%20%3A%20Type%7D%20%5Bgroup%20G%5D%20%3A%20has_pow%20G%20%E2%84%A4%20%3A%3D%20%E2%9F%A8group_pow%E2%9F%A9%0A%0A--%20Center%20of%20a%20group%0Adef%20center%20%28G%20%3A%20Type%29%20%5Bgroup%20G%5D%20%3A%3D%20%7Bg%20%3A%20G%20%7C%20%E2%88%80%20k%20%3A%20G%2C%20k%20*%20g%20%3D%20g%20*%20k%7D%0Aattribute%20%5Breducible%5D%20center%0A%0Aend%20groupdefs%0A%0A--%20START%20HERE%0A%0A%2F-%0A%0AFor%20a%20group%20G%2C%20you%20start%20with%20the%20following%20axioms%3A%0A%0Amul_assoc%20%3A%20%E2%88%80%20%28a%20b%20c%20%3A%20G%29%2C%20a%20*%20b%20*%20c%20%3D%20a%20*%20%28b%20*%20c%29%0Aone_mul%20%3A%20%E2%88%80%20%28a%20%3A%20G%29%2C%201%20*%20a%20%3D%20a%0Amul_left_inv%20%3A%20%E2%88%80%20%28a%20%3A%20G%29%2C%20a%E2%81%BB%C2%B9%20*%20a%20%3D%201%0A%0AThe%20goal%20is%20to%20prove%20the%20following%20theorems%20%28in%20the%20order%20listed%29%20%3A%0A%0A%60mul_left_cancel%20%3A%20%E2%88%80%20%28a%20b%20c%20%3A%20G%29%2C%20a%20*%20b%20%3D%20a%20*%20c%20%E2%86%92%20b%20%3D%20c%60%0A%60mul_eq_of_eq_inv_mul%20%7Ba%20x%20y%20%3A%20G%7D%20%3A%20x%20%3D%20a%E2%81%BB%C2%B9%20*%20y%20%E2%86%92%20a%20*%20x%20%3D%20y%60%0A%60mul_one%20%28a%20%3A%20G%29%20%3A%20a%20*%201%20%3D%20a%60%0A%60mul_right_inv%20%28a%20%3A%20G%29%20%3A%20a%20*%20a%E2%81%BB%C2%B9%20%3D%201%60%0A%60eq_mul_inv_of_mul_eq%20%7Ba%20b%20c%20%3A%20G%7D%20%28h%20%3A%20a%20*%20c%20%3D%20b%29%20%3A%20a%20%3D%20b%20*%20c%E2%81%BB%C2%B9%60%0A%60mul_left_eq_self%20%7Ba%20b%20%3A%20G%7D%20%3A%20a%20*%20b%20%3D%20b%20%E2%86%94%20a%20%3D%201%60%0A%60eq_inv_of_mul_eq_one%20%7Ba%20b%20%3A%20G%7D%20%28h%20%3A%20a%20*%20b%20%3D%201%29%20%3A%20a%20%3D%20b%E2%81%BB%C2%B9%60%0A%60inv_inv%20%28a%20%3A%20G%29%20%3A%20a%20%E2%81%BB%C2%B9%20%E2%81%BB%C2%B9%20%3D%20a%60%0A%60inv_eq_of_mul_eq_one%20%7Ba%20b%20%3A%20G%7D%20%28h%20%3A%20a%20*%20b%20%3D%201%29%20%3A%20a%E2%81%BB%C2%B9%20%3D%20b%60%0A%60mul_inv_rev%20%7Ba%20b%20%3A%20G%7D%20%3A%20%28a%20*%20b%29%E2%81%BB%C2%B9%20%3D%20b%E2%81%BB%C2%B9%20*%20a%E2%81%BB%C2%B9%60%0A%0A-%2F%0A%0Avariables%20%7BG%20%3A%20Type%7D%20%5Bgroup%20G%5D%20%20%0A%0Alemma%20mul_left_cancel%20%28a%20x%20y%20%3A%20G%29%20%28Habac%20%3A%20a%20*%20x%20%3D%20a%20*%20y%29%20%3A%20x%20%3D%20y%20%3A%3D%20%0Abegin%0A%20%20sorry%0Aend%0A%0Alemma%20mul_eq_of_eq_inv_mul%20%7Ba%20x%20y%20%3A%20G%7D%20%28h%20%3A%20x%20%3D%20a%E2%81%BB%C2%B9%20*%20y%29%20%3A%20a%20*%20x%20%3D%20y%20%3A%3D%0Abegin%0A%20%20sorry%0Aend%0A%0Atheorem%20mul_one%20%28a%20%3A%20G%29%20%3A%20a%20*%201%20%3D%20a%20%3A%3D%0Abegin%0A%20%20sorry%0Aend%0A%0Atheorem%20mul_right_inv%20%28a%20%3A%20G%29%20%3A%20a%20*%20a%E2%81%BB%C2%B9%20%3D%201%20%3A%3D%0Abegin%0A%20%20sorry%0Aend%0A%0Alemma%20eq_mul_inv_of_mul_eq%20%7Ba%20b%20c%20%3A%20G%7D%20%28h%20%3A%20a%20*%20c%20%3D%20b%29%20%3A%20a%20%3D%20b%20*%20c%E2%81%BB%C2%B9%20%3A%3D%0Abegin%0A%20%20sorry%0Aend%0A%0Alemma%20mul_left_eq_self%20%7Ba%20b%20%3A%20G%7D%20%3A%20a%20*%20b%20%3D%20b%20%E2%86%94%20a%20%3D%201%20%3A%3D%0Abegin%0A%20%20sorry%0Aend%0A%0Alemma%20eq_inv_of_mul_eq_one%20%7Ba%20b%20%3A%20G%7D%20%28h%20%3A%20a%20*%20b%20%3D%201%29%20%3A%20a%20%3D%20b%E2%81%BB%C2%B9%20%3A%3D%0Abegin%0A%20%20sorry%0Aend%0A%0Alemma%20inv_inv%20%28a%20%3A%20G%29%20%3A%20a%20%E2%81%BB%C2%B9%20%E2%81%BB%C2%B9%20%3D%20a%20%3A%3D%0Abegin%0A%20%20sorry%0Aend%0A%0Alemma%20inv_eq_of_mul_eq_one%20%7Ba%20b%20%3A%20G%7D%20%28h%20%3A%20a%20*%20b%20%3D%201%29%20%3A%20a%E2%81%BB%C2%B9%20%3D%20b%20%3A%3D%0Abegin%0A%20%20sorry%0Aend%0A%0A--%20for%20orlando%20cao%0Alemma%20mul_inv_rev%20%7Ba%20b%20%3A%20G%7D%20%3A%20%28a%20*%20b%29%E2%81%BB%C2%B9%20%3D%20b%E2%81%BB%C2%B9%20*%20a%E2%81%BB%C2%B9%20%3A%3D%0Abegin%0A%20%20sorry%0Aend%0A%0Aend%20mygroup">you can build group theory from the axioms at this link</a></p>



<a name="190016165"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190016165" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190016165">(Mar 08 2020 at 14:44)</a>:</h4>
<p>Start reading at line 50</p>



<a name="190016550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190016550" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190016550">(Mar 08 2020 at 14:58)</a>:</h4>
<p><span class="user-mention" data-user-id="269635">@orlando cau</span></p>



<a name="190016566"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190016566" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando cau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190016566">(Mar 08 2020 at 14:59)</a>:</h4>
<p>ok thank you i try this game :)</p>



<a name="190269076"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190269076" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190269076">(Mar 11 2020 at 10:53)</a>:</h4>
<p>Hello Sorry, i got a problem with my computer :-(  I don't do my homework !</p>



<a name="190274786"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190274786" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190274786">(Mar 11 2020 at 12:19)</a>:</h4>
<p>Hello, </p>
<p>I read some tutorial and i do some exercice : but i have  basic problem ! </p>
<div class="codehilite"><pre><span></span><span class="kn">variables</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span>
<span class="n">def</span> <span class="n">multiplication</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">:=</span> <span class="n">a</span><span class="bp">*</span><span class="n">b</span>
<span class="n">def</span> <span class="n">left_mul_by</span> <span class="o">(</span><span class="n">a</span>  <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">b</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span> <span class="n">multiplication</span> <span class="n">a</span> <span class="n">b</span>
<span class="kn">lemma</span> <span class="n">test</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span><span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">b</span><span class="o">)</span> <span class="o">:</span> <span class="n">c</span><span class="bp">*</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">c</span> <span class="bp">*</span> <span class="n">b</span> <span class="o">:=</span>   <span class="c1">---- i try a first lemma because i don&#39;t understand the logic of the language</span>
<span class="k">begin</span>
    <span class="k">let</span> <span class="n">f</span> <span class="o">:=</span> <span class="n">left_mul_by</span> <span class="n">c</span><span class="o">,</span>
    <span class="k">show</span> <span class="n">c</span> <span class="bp">*</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">c</span> <span class="bp">*</span> <span class="n">b</span><span class="o">,</span> <span class="k">from</span> <span class="n">eq</span><span class="bp">.</span><span class="n">subst</span> <span class="n">h</span> <span class="n">f</span><span class="o">,</span>          <span class="c1">---- don&#39;t work  :(</span>
<span class="kn">end</span>
</pre></div>



<a name="190275339"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190275339" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190275339">(Mar 11 2020 at 12:27)</a>:</h4>
<p>You don't need those definitions, and the proof is <code>rw h</code>.</p>



<a name="190275393"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190275393" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190275393">(Mar 11 2020 at 12:28)</a>:</h4>
<p>What have you read so far?</p>



<a name="190275494"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190275494" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190275494">(Mar 11 2020 at 12:29)</a>:</h4>
<p>You can spend years playing with Lean without ever writing <code>eq.subst</code>, which is a very low-level thing not intended for end-users.</p>



<a name="190275739"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190275739" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190275739">(Mar 11 2020 at 12:33)</a>:</h4>
<p>ohhh, it's work ... thank you  ! I read (a little) [this course]  (<a href="https://leanprover.github.io/logic_and_proof/" target="_blank" title="https://leanprover.github.io/logic_and_proof/">https://leanprover.github.io/logic_and_proof/</a>) and do some exercice !</p>



<a name="190275855"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190275855" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190275855">(Mar 11 2020 at 12:34)</a>:</h4>
<p>How did you install lean+mathlib?</p>



<a name="190275869"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190275869" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190275869">(Mar 11 2020 at 12:34)</a>:</h4>
<p>Do you have a working python+pip setup?</p>



<a name="190275890"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190275890" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190275890">(Mar 11 2020 at 12:35)</a>:</h4>
<p>Yes i install lean + mathlib !  All it's ok !</p>



<a name="190275976"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190275976" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190275976">(Mar 11 2020 at 12:36)</a>:</h4>
<p>Can you run <code>pip install --upgrade mathlib-tools</code> (maybe prefixed with <code>sudo</code>, and maybe replacing <code>pip</code> by <code>pip3</code> depending on your python setup)?</p>



<a name="190276064"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190276064" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190276064">(Mar 11 2020 at 12:37)</a>:</h4>
<p>If this work you can run </p>
<div class="codehilite"><pre><span></span>leanproject get tutorials
code tutorials
</pre></div>


<p>and read the file <code>src/first_proofs.lean</code>.</p>



<a name="190276158"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190276158" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190276158">(Mar 11 2020 at 12:38)</a>:</h4>
<p>You can also play the <a href="http://wwwf.imperial.ac.uk/~buzzard/xena/natural_number_game/" target="_blank" title="http://wwwf.imperial.ac.uk/~buzzard/xena/natural_number_game/">natural numbers game</a> online.</p>



<a name="190276724"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190276724" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190276724">(Mar 11 2020 at 12:46)</a>:</h4>
<p>Hum it's does'nt work : but i'm on windows 10 ! Thx for the tutorial with real number it's very insteresting !  </p>
<div class="codehilite"><pre><span></span><span class="err">$</span> <span class="n">pip</span> <span class="n">install</span> <span class="c1">--upgrade mathlib-tools</span>
<span class="n">ERROR</span><span class="p">:</span> <span class="n">Could</span> <span class="ow">not</span> <span class="n">find</span> <span class="n">a</span> <span class="n">version</span> <span class="n">that</span> <span class="n">satisfies</span> <span class="n">the</span> <span class="n">requirement</span> <span class="n">mathlib</span><span class="o">-</span><span class="n">tools</span> <span class="p">(</span><span class="n">from</span> <span class="n">versions</span><span class="p">:</span> <span class="n">none</span><span class="p">)</span>
<span class="n">ERROR</span><span class="p">:</span> <span class="n">No</span> <span class="n">matching</span> <span class="n">distribution</span> <span class="n">found</span> <span class="kr">for</span> <span class="n">mathlib</span><span class="o">-</span><span class="n">tools</span>

<span class="n">orlando</span><span class="err">@</span><span class="n">LAPTOP</span><span class="o">-</span><span class="mi">487</span><span class="n">KLHV8</span> <span class="n">MINGW64</span> <span class="o">~/</span><span class="n">my_project</span> <span class="p">(</span><span class="n">lean</span><span class="o">-</span><span class="mf">3.6.1</span><span class="p">)</span>
<span class="err">$</span> <span class="n">pip3</span> <span class="n">install</span> <span class="c1">--upgrade mathlib-tools</span>
<span class="n">ERROR</span><span class="p">:</span> <span class="n">Could</span> <span class="ow">not</span> <span class="n">find</span> <span class="n">a</span> <span class="n">version</span> <span class="n">that</span> <span class="n">satisfies</span> <span class="n">the</span> <span class="n">requirement</span> <span class="n">mathlib</span><span class="o">-</span><span class="n">tools</span> <span class="p">(</span><span class="n">from</span> <span class="n">versions</span><span class="p">:</span> <span class="n">none</span><span class="p">)</span>
<span class="n">ERROR</span><span class="p">:</span> <span class="n">No</span> <span class="n">matching</span> <span class="n">distribution</span> <span class="n">found</span> <span class="kr">for</span> <span class="n">mathlib</span><span class="o">-</span><span class="n">tools</span>
</pre></div>



<a name="190277365"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190277365" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190277365">(Mar 11 2020 at 12:54)</a>:</h4>
<p>What is your python3 version ?</p>



<a name="190277414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190277414" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190277414">(Mar 11 2020 at 12:55)</a>:</h4>
<p>Run python3 --version</p>



<a name="190277490"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190277490" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190277490">(Mar 11 2020 at 12:56)</a>:</h4>
<p>And also "pip3 --version" for good measure</p>



<a name="190278255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190278255" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190278255">(Mar 11 2020 at 13:05)</a>:</h4>
<p>-- &gt; Python 3.8.2<br>
and <br>
---&gt;  pip 20.0.2</p>



<a name="190279268"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190279268" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190279268">(Mar 11 2020 at 13:16)</a>:</h4>
<p>Oops, it's my fault. I should have written: <code>pip3 install mathlibtools</code> (without the hyphen)</p>



<a name="190279448"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190279448" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190279448">(Mar 11 2020 at 13:18)</a>:</h4>
<p>ok, no problem Patrick</p>



<a name="190279636"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190279636" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190279636">(Mar 11 2020 at 13:20)</a>:</h4>
<p>I wish the <code>pip</code> error message could be more explicit. The current message makes it very hard to distinguish actual version issues with stupid typos.</p>



<a name="190280432"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190280432" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190280432">(Mar 11 2020 at 13:28)</a>:</h4>
<p><span class="user-mention" data-user-id="270476">@orlando</span> does it work now?</p>



<a name="190280738"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190280738" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190280738">(Mar 11 2020 at 13:31)</a>:</h4>
<p>it's ok i have the tuto !</p>



<a name="190281429"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190281429" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190281429">(Mar 11 2020 at 13:38)</a>:</h4>
<p>Good, I hope you'll learn a couple of things by reading it.</p>



<a name="190281759"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190281759" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190281759">(Mar 11 2020 at 13:41)</a>:</h4>
<p>thx you Patrick !</p>



<a name="190324364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190324364" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190324364">(Mar 11 2020 at 19:56)</a>:</h4>
<p>Hello <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span>  i do your group game, but i have some problem : <br>
1/ it's complicated ! <br>
2/ i don't finish ! (2 goals) ! <br>
3/ can i simplify ??? <br>
But : this is cooooooooool <span aria-label="sunglasses" class="emoji emoji-1f60e" role="img" title="sunglasses">:sunglasses:</span> thank you for this exercice ! <br>
<a href="/user_uploads/3121/1EvhJYC5-y59sonDI1Fvdhw0/groupe.lean" target="_blank" title="groupe.lean">groupe.lean</a></p>



<a name="190324494"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190324494" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190324494">(Mar 11 2020 at 19:57)</a>:</h4>
<p>It's easier to read if you post the file directly like this:</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">tactic</span>
<span class="c">/-</span><span class="cm">!</span>
<span class="cm">Basic definitions in group theory.</span>
<span class="cm">The beginner mathematician should ignore this part; definitions are</span>
<span class="cm">can be intimidating. Skip down to line 50, this part is technical.</span>
<span class="cm">-/</span>

<span class="kn">set_option</span> <span class="n">old_structure_cmd</span> <span class="n">true</span> <span class="c1">-- it&#39;s better for this kind of stuff</span>

<span class="c1">-- We&#39;re overwriting inbuilt group theory here so we always work in</span>
<span class="c1">-- a namespace</span>

<span class="kn">namespace</span> <span class="n">mygroup</span>

<span class="c1">-- definitions of the group classes</span>

<span class="kn">section</span> <span class="n">groupdefs</span>

<span class="c1">-- Set up notation typeclass using `extends`.</span>
<span class="n">class</span> <span class="n">has_group_notation</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="kn">extends</span> <span class="n">has_mul</span> <span class="n">G</span><span class="o">,</span> <span class="n">has_one</span> <span class="n">G</span><span class="o">,</span> <span class="n">has_inv</span> <span class="n">G</span>

<span class="c1">-- definition of the group structure</span>
<span class="n">class</span> <span class="n">group</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="kn">extends</span> <span class="n">has_group_notation</span> <span class="n">G</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">mul_assoc</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">G</span><span class="o">),</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">c</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">*</span> <span class="o">(</span><span class="n">b</span> <span class="bp">*</span> <span class="n">c</span><span class="o">))</span>
<span class="o">(</span><span class="n">one_mul</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">G</span><span class="o">),</span> <span class="mi">1</span> <span class="bp">*</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">a</span><span class="o">)</span>
<span class="o">(</span><span class="n">mul_left_inv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">G</span><span class="o">),</span> <span class="n">a</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">a</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">)</span>

<span class="n">class</span> <span class="n">comm_group</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="kn">extends</span> <span class="n">group</span> <span class="n">G</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">mul_comm</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">a</span><span class="o">)</span>

<span class="c1">-- definition of powers</span>
<span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="n">def</span> <span class="n">group_pow_nat</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">:</span> <span class="n">G</span> <span class="bp">→</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">G</span>
<span class="bp">|</span> <span class="n">g</span> <span class="mi">0</span> <span class="o">:=</span> <span class="mi">1</span>
<span class="bp">|</span> <span class="n">g</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:=</span> <span class="n">group_pow_nat</span> <span class="n">g</span> <span class="n">n</span> <span class="bp">*</span> <span class="n">g</span>

<span class="kn">instance</span> <span class="n">group_has_pow_nat</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">:</span> <span class="n">has_pow</span> <span class="n">G</span> <span class="bp">ℕ</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="n">group_pow_nat</span><span class="bp">⟩</span>

<span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="n">def</span> <span class="n">group_pow</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">:</span> <span class="n">G</span> <span class="bp">→</span> <span class="bp">ℤ</span> <span class="bp">→</span> <span class="n">G</span>
<span class="bp">|</span> <span class="n">g</span> <span class="o">(</span><span class="n">int</span><span class="bp">.</span><span class="n">of_nat</span> <span class="n">n</span><span class="o">)</span> <span class="o">:=</span> <span class="n">group_pow_nat</span> <span class="n">g</span> <span class="n">n</span>
<span class="bp">|</span> <span class="n">g</span> <span class="bp">-</span><span class="o">[</span><span class="mi">1</span><span class="bp">+</span> <span class="n">n</span><span class="o">]</span> <span class="o">:=</span> <span class="o">(</span><span class="n">group_pow_nat</span> <span class="n">g</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span><span class="bp">⁻¹</span>

<span class="kn">instance</span> <span class="n">group_has_pow</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">:</span> <span class="n">has_pow</span> <span class="n">G</span> <span class="bp">ℤ</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="n">group_pow</span><span class="bp">⟩</span>

<span class="c1">-- Center of a group</span>
<span class="n">def</span> <span class="n">center</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">:=</span> <span class="o">{</span><span class="n">g</span> <span class="o">:</span> <span class="n">G</span> <span class="bp">|</span> <span class="bp">∀</span> <span class="n">k</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span> <span class="n">k</span> <span class="bp">*</span> <span class="n">g</span> <span class="bp">=</span> <span class="n">g</span> <span class="bp">*</span> <span class="n">k</span><span class="o">}</span>
<span class="n">attribute</span> <span class="o">[</span><span class="kn">reducible</span><span class="o">]</span> <span class="n">center</span>

<span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="kn">lemma</span> <span class="n">mul_left_inv_simp</span><span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}[</span><span class="n">group</span> <span class="n">G</span><span class="o">](</span><span class="n">a</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">a</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span>
<span class="k">begin</span>
    <span class="n">exact</span> <span class="n">group</span><span class="bp">.</span><span class="n">mul_left_inv</span> <span class="n">a</span><span class="o">,</span>
<span class="kn">end</span>
<span class="kn">lemma</span> <span class="n">rev_o</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}[</span><span class="n">group</span> <span class="n">G</span><span class="o">](</span><span class="n">a</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span> <span class="mi">1</span> <span class="bp">=</span> <span class="n">a</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">a</span>  <span class="o">:=</span>
<span class="k">begin</span>
    <span class="n">exact</span> <span class="n">eq</span><span class="bp">.</span><span class="n">symm</span><span class="o">(</span> <span class="n">group</span><span class="bp">.</span><span class="n">mul_left_inv</span> <span class="n">a</span><span class="o">),</span>
<span class="kn">end</span>
<span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="kn">lemma</span> <span class="n">mul_assoc_simp</span><span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}[</span><span class="n">group</span> <span class="n">G</span><span class="o">](</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">c</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">*</span><span class="o">(</span><span class="n">b</span> <span class="bp">*</span> <span class="n">c</span> <span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
    <span class="n">exact</span> <span class="n">group</span><span class="bp">.</span><span class="n">mul_assoc</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span><span class="o">,</span>
<span class="kn">end</span>

<span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="kn">lemma</span> <span class="n">rev_mul_assoc_simp</span><span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}[</span><span class="n">group</span> <span class="n">G</span><span class="o">](</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span>   <span class="n">a</span> <span class="bp">*</span> <span class="o">(</span><span class="n">b</span> <span class="bp">*</span> <span class="n">c</span> <span class="o">)</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">c</span> <span class="o">:=</span>
<span class="k">begin</span>
    <span class="n">exact</span> <span class="n">eq</span><span class="bp">.</span><span class="n">symm</span> <span class="o">(</span><span class="n">group</span><span class="bp">.</span><span class="n">mul_assoc</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span><span class="o">),</span>
<span class="kn">end</span>

<span class="kn">end</span> <span class="n">groupdefs</span>

<span class="c1">-- START HERE</span>

<span class="c">/-</span><span class="cm"></span>

<span class="cm">For a group G, you start with the following axioms:</span>

<span class="cm">mul_assoc : ∀ (a b c : G), (a * b) * c = a * (b * c)</span>
<span class="cm">one_mul : ∀ (a : G), 1 * a = a</span>
<span class="cm">mul_left_inv : ∀ (a : G), a⁻¹ * a = 1</span>

<span class="cm">The goal is to prove the following theorems (in the order listed) :</span>

<span class="cm">`mul_left_cancel : ∀ (a b c : G), a * b = a * c → b = c`</span>
<span class="cm">`mul_eq_of_eq_inv_mul {a x y : G} : x = a⁻¹ * y → a * x = y`</span>
<span class="cm">`mul_one (a : G) : a * 1 = a`</span>
<span class="cm">`mul_right_inv (a : G) : a * a⁻¹ = 1`</span>
<span class="cm">`eq_mul_inv_of_mul_eq {a b c : G} (h : a * c = b) : a = b * c⁻¹`</span>
<span class="cm">`mul_left_eq_self {a b : G} : a * b = b ↔ a = 1`</span>
<span class="cm">`eq_inv_of_mul_eq_one {a b : G} (h : a * b = 1) : a = b⁻¹`</span>
<span class="cm">`inv_inv (a : G) : a ⁻¹ ⁻¹ = a`</span>
<span class="cm">`inv_eq_of_mul_eq_one {a b : G} (h : a * b = 1) : a⁻¹ = b`</span>
<span class="cm">`mul_inv_rev {a b : G} : (a * b)⁻¹ = b⁻¹ * a⁻¹`</span>

<span class="cm">-/</span>

<span class="kn">variables</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span>
<span class="kn">variables</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="n">z</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span>
<span class="kn">lemma</span> <span class="n">trans_appl</span><span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">G</span> <span class="bp">→</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">b</span> <span class="bp">→</span> <span class="n">f</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">b</span> <span class="o">:=</span>
<span class="k">begin</span>
    <span class="n">intros</span> <span class="n">a</span> <span class="n">b</span><span class="o">,</span>
    <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">congr_arg</span> <span class="o">(</span><span class="n">f</span><span class="o">)</span> <span class="n">h</span>
<span class="kn">end</span>
<span class="kn">lemma</span> <span class="n">mul_left_cancel</span> <span class="o">(</span><span class="n">a</span> <span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span>  <span class="n">a</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">y</span>  <span class="bp">→</span>  <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span> <span class="o">:=</span>
<span class="k">begin</span>
    <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
    <span class="k">let</span> <span class="n">p</span> <span class="o">:=</span> <span class="n">a</span><span class="bp">*</span><span class="n">x</span><span class="o">,</span>
    <span class="k">let</span> <span class="n">q</span> <span class="o">:=</span> <span class="n">a</span><span class="bp">*</span><span class="n">y</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">h1</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">=</span> <span class="n">q</span><span class="o">,</span> <span class="k">from</span> <span class="n">h</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">hp</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">a</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">=</span> <span class="mi">1</span> <span class="bp">*</span> <span class="n">x</span><span class="o">,</span> <span class="k">from</span>  <span class="n">trans_appl</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">t</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span> <span class="n">t</span> <span class="bp">*</span><span class="n">x</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">a</span><span class="o">)</span> <span class="o">(</span><span class="mi">1</span><span class="o">)</span> <span class="o">(</span><span class="n">mul_left_inv_simp</span> <span class="n">a</span><span class="o">),</span>
    <span class="k">have</span> <span class="n">hq</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">a</span><span class="o">)</span> <span class="bp">*</span> <span class="n">y</span> <span class="bp">=</span> <span class="mi">1</span> <span class="bp">*</span> <span class="n">y</span><span class="o">,</span> <span class="k">from</span>  <span class="n">trans_appl</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">t</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span> <span class="n">t</span> <span class="bp">*</span><span class="n">y</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">a</span><span class="o">)</span> <span class="o">(</span><span class="mi">1</span><span class="o">)</span> <span class="o">(</span><span class="n">mul_left_inv_simp</span> <span class="n">a</span><span class="o">),</span>
    <span class="k">have</span> <span class="n">Hpq</span> <span class="o">:</span> <span class="n">a</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span><span class="n">x</span><span class="o">)</span> <span class="bp">=</span> <span class="n">a</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="o">(</span><span class="n">a</span><span class="bp">*</span><span class="n">y</span><span class="o">),</span> <span class="k">from</span> <span class="n">trans_appl</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">t</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span> <span class="n">a</span><span class="bp">⁻¹</span> <span class="bp">*</span><span class="n">t</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span><span class="n">x</span><span class="o">)</span>  <span class="o">(</span><span class="n">a</span><span class="bp">*</span><span class="n">y</span><span class="o">)</span> <span class="n">h</span><span class="o">,</span>
    <span class="k">calc</span>
        <span class="n">x</span>   <span class="bp">=</span> <span class="mi">1</span> <span class="bp">*</span> <span class="n">x</span>            <span class="o">:</span> <span class="n">eq</span><span class="bp">.</span><span class="n">symm</span> <span class="o">(</span><span class="n">group</span><span class="bp">.</span><span class="n">one_mul</span> <span class="n">x</span><span class="o">)</span>
        <span class="bp">...</span> <span class="bp">=</span> <span class="n">a</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">x</span>      <span class="o">:</span> <span class="n">eq</span><span class="bp">.</span><span class="n">symm</span> <span class="o">(</span><span class="n">hp</span><span class="o">)</span>
        <span class="bp">...</span> <span class="bp">=</span> <span class="n">a</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span><span class="n">x</span> <span class="o">)</span>    <span class="o">:</span> <span class="n">group</span><span class="bp">.</span><span class="n">mul_assoc</span> <span class="n">a</span><span class="bp">⁻¹</span>  <span class="n">a</span> <span class="n">x</span>
        <span class="bp">...</span> <span class="bp">=</span> <span class="n">a</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="o">(</span><span class="n">a</span><span class="bp">*</span><span class="n">y</span><span class="o">)</span>      <span class="o">:</span> <span class="n">Hpq</span>
        <span class="bp">...</span> <span class="bp">=</span> <span class="n">a</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">a</span><span class="bp">*</span><span class="n">y</span>        <span class="o">:</span> <span class="n">rev_mul_assoc_simp</span> <span class="o">(</span><span class="n">a</span><span class="bp">⁻¹</span><span class="o">)</span>  <span class="n">a</span> <span class="n">y</span>
        <span class="bp">...</span> <span class="bp">=</span> <span class="mi">1</span> <span class="bp">*</span> <span class="n">y</span>            <span class="o">:</span> <span class="n">hq</span>
        <span class="bp">...</span> <span class="bp">=</span>  <span class="n">y</span>               <span class="o">:</span> <span class="n">group</span><span class="bp">.</span><span class="n">one_mul</span> <span class="n">y</span>
<span class="kn">end</span>

<span class="kn">lemma</span> <span class="n">mul_eq_of_eq_inv_mul</span> <span class="o">{</span><span class="n">a</span> <span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">G</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">a</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span> <span class="o">:=</span>
<span class="k">begin</span>
<span class="c1">---  Strategie :</span>
<span class="c1">---                  x = a⁻¹ y  =&gt;  a^⁻¹ a x = a⁻¹ y  and use lemma mul_left_cancel a^⁻¹ ax y to get ax = y</span>
<span class="c1">---</span>
    <span class="k">have</span> <span class="n">hx</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">a</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">=</span><span class="mi">1</span> <span class="bp">*</span>  <span class="n">x</span><span class="o">,</span> <span class="k">from</span> <span class="n">trans_appl</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">t</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span> <span class="n">t</span> <span class="bp">*</span><span class="n">x</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">a</span><span class="o">)</span> <span class="o">(</span><span class="mi">1</span><span class="o">)</span> <span class="o">(</span><span class="n">mul_left_inv_simp</span> <span class="n">a</span><span class="o">),</span>
    <span class="k">have</span> <span class="n">h1</span> <span class="o">:</span> <span class="mi">1</span> <span class="bp">*</span> <span class="n">x</span>   <span class="bp">=</span> <span class="n">x</span><span class="o">,</span> <span class="k">from</span> <span class="n">group</span><span class="bp">.</span><span class="n">one_mul</span> <span class="n">x</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">H</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">a</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">a</span><span class="bp">⁻¹</span> <span class="bp">*</span><span class="n">y</span><span class="o">,</span> <span class="k">from</span> <span class="k">calc</span>
        <span class="o">(</span><span class="n">a</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">a</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">=</span> <span class="mi">1</span> <span class="bp">*</span> <span class="n">x</span> <span class="o">:</span> <span class="n">hx</span>
        <span class="bp">...</span>           <span class="bp">=</span> <span class="n">x</span>     <span class="o">:</span> <span class="n">h1</span>
        <span class="bp">...</span>           <span class="bp">=</span> <span class="n">a</span><span class="bp">⁻¹</span> <span class="bp">*</span><span class="n">y</span> <span class="o">:</span> <span class="n">h</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">G</span> <span class="o">:</span> <span class="n">a</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span><span class="n">x</span><span class="o">)</span> <span class="bp">=</span> <span class="n">a</span><span class="bp">⁻¹</span> <span class="bp">*</span><span class="n">y</span><span class="o">,</span> <span class="k">from</span> <span class="k">calc</span>
        <span class="n">a</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span><span class="n">x</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(</span><span class="n">a</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">a</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="o">:</span> <span class="n">rev_mul_assoc_simp</span> <span class="n">a</span><span class="bp">⁻¹</span>  <span class="n">a</span> <span class="n">x</span>
        <span class="bp">...</span>          <span class="bp">=</span> <span class="n">a</span><span class="bp">⁻¹</span> <span class="bp">*</span><span class="n">y</span>        <span class="o">:</span> <span class="n">H</span><span class="o">,</span>
    <span class="k">show</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span> <span class="k">from</span> <span class="n">mul_left_cancel</span> <span class="o">(</span><span class="n">a</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span><span class="bp">*</span><span class="n">x</span><span class="o">)</span> <span class="o">(</span><span class="n">y</span><span class="o">)</span> <span class="o">(</span><span class="n">G</span><span class="o">),</span>
<span class="kn">end</span>

<span class="kn">theorem</span> <span class="n">mul_one</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">*</span> <span class="mi">1</span> <span class="bp">=</span> <span class="n">a</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="k">have</span> <span class="n">H</span> <span class="o">:</span> <span class="mi">1</span> <span class="bp">=</span> <span class="n">a</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">a</span><span class="o">,</span> <span class="k">by</span> <span class="n">simp</span><span class="o">,</span>
  <span class="k">show</span> <span class="n">a</span> <span class="bp">*</span> <span class="mi">1</span> <span class="bp">=</span> <span class="n">a</span><span class="o">,</span> <span class="k">from</span> <span class="n">mul_eq_of_eq_inv_mul</span> <span class="o">(</span><span class="n">H</span><span class="o">),</span>
<span class="kn">end</span>

<span class="kn">theorem</span> <span class="n">mul_right_inv</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">a</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="k">have</span> <span class="n">h</span> <span class="o">:</span> <span class="n">a</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">⁻¹</span> <span class="bp">*</span><span class="mi">1</span><span class="o">,</span> <span class="k">from</span> <span class="n">eq</span><span class="bp">.</span><span class="n">symm</span> <span class="o">(</span><span class="n">mul_one</span> <span class="n">a</span><span class="bp">⁻¹</span><span class="o">),</span>
  <span class="k">show</span> <span class="n">a</span> <span class="bp">*</span><span class="n">a</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">,</span> <span class="k">from</span> <span class="n">mul_eq_of_eq_inv_mul</span> <span class="o">(</span><span class="n">h</span><span class="o">),</span>
<span class="kn">end</span>

<span class="kn">lemma</span> <span class="n">eq_mul_inv_of_mul_eq</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">G</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">c</span> <span class="bp">=</span> <span class="n">b</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">c</span><span class="bp">⁻¹</span> <span class="o">:=</span>
<span class="k">begin</span>
    <span class="k">have</span> <span class="n">H</span> <span class="o">:</span> <span class="o">(</span> <span class="n">a</span> <span class="bp">*</span>  <span class="n">c</span> <span class="o">)</span> <span class="bp">*</span> <span class="n">c</span><span class="bp">⁻¹</span>  <span class="bp">=</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">c</span> <span class="bp">⁻¹</span><span class="o">,</span>
        <span class="k">from</span>  <span class="n">trans_appl</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">t</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span> <span class="n">t</span> <span class="bp">*</span><span class="n">c</span><span class="bp">⁻¹</span> <span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">c</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span><span class="o">),</span>
    <span class="k">show</span>  <span class="n">a</span> <span class="bp">=</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">c</span><span class="bp">⁻¹</span> <span class="o">,</span> <span class="k">from</span> <span class="k">calc</span>
        <span class="n">a</span>       <span class="bp">=</span> <span class="n">a</span> <span class="bp">*</span> <span class="mi">1</span>             <span class="o">:</span>  <span class="n">eq</span><span class="bp">.</span><span class="n">symm</span> <span class="o">(</span><span class="n">mul_one</span> <span class="o">(</span><span class="n">a</span><span class="o">))</span>
        <span class="bp">...</span>     <span class="bp">=</span> <span class="n">a</span> <span class="bp">*</span> <span class="o">(</span><span class="n">c</span> <span class="bp">*</span> <span class="n">c</span><span class="bp">⁻¹</span> <span class="o">)</span>    <span class="o">:</span>  <span class="n">trans_appl</span><span class="o">(</span><span class="bp">λ</span> <span class="n">t</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">t</span><span class="o">)</span> <span class="o">(</span><span class="mi">1</span><span class="o">)</span> <span class="o">(</span><span class="n">c</span> <span class="bp">*</span> <span class="n">c</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="o">(</span><span class="n">eq</span><span class="bp">.</span><span class="n">symm</span> <span class="o">(</span><span class="n">mul_right_inv</span> <span class="n">c</span><span class="o">))</span>
        <span class="bp">...</span>     <span class="bp">=</span> <span class="o">(</span> <span class="n">a</span> <span class="bp">*</span>  <span class="n">c</span> <span class="o">)</span> <span class="bp">*</span> <span class="n">c</span><span class="bp">⁻¹</span>  <span class="o">:</span>  <span class="n">rev_mul_assoc_simp</span> <span class="o">(</span><span class="n">a</span><span class="o">)</span> <span class="o">(</span><span class="n">c</span><span class="o">)</span> <span class="o">(</span><span class="n">c</span><span class="bp">⁻¹</span><span class="o">)</span>
        <span class="bp">...</span>     <span class="bp">=</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">c</span><span class="bp">⁻¹</span>           <span class="o">:</span> <span class="n">H</span>
<span class="kn">end</span>
<span class="kn">lemma</span> <span class="n">mul_left_eq_self</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">G</span><span class="o">}</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">b</span> <span class="bp">↔</span> <span class="n">a</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span>
<span class="k">begin</span>
    <span class="n">sorry</span> <span class="c1">--- i dont know iff.intro ? ? ? or Split ??? i don&#39;t understand !</span>
<span class="kn">end</span>

<span class="kn">lemma</span> <span class="n">eq_inv_of_mul_eq_one</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">G</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">b</span><span class="bp">⁻¹</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="k">have</span> <span class="n">H</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">=</span> <span class="mi">1</span> <span class="bp">*</span> <span class="n">b</span><span class="bp">⁻¹</span><span class="o">,</span> <span class="k">from</span> <span class="n">eq_mul_inv_of_mul_eq</span> <span class="o">(</span><span class="n">h</span><span class="o">),</span>
  <span class="k">show</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">b</span><span class="bp">⁻¹</span><span class="o">,</span> <span class="k">from</span> <span class="k">calc</span>
    <span class="n">a</span>   <span class="bp">=</span> <span class="mi">1</span> <span class="bp">*</span> <span class="n">b</span><span class="bp">⁻¹</span>  <span class="o">:</span> <span class="n">H</span>
    <span class="bp">...</span> <span class="bp">=</span> <span class="n">b</span><span class="bp">⁻¹</span>      <span class="o">:</span> <span class="n">group</span><span class="bp">.</span><span class="n">one_mul</span> <span class="o">(</span><span class="n">b</span><span class="bp">⁻¹</span><span class="o">),</span>
<span class="kn">end</span>

<span class="kn">lemma</span> <span class="n">inv_inv</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">⁻¹</span> <span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">a</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="k">let</span> <span class="n">b</span> <span class="o">:=</span> <span class="n">a</span><span class="bp">⁻¹</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">h</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">,</span> <span class="k">from</span> <span class="n">mul_right_inv</span> <span class="n">a</span><span class="o">,</span>
  <span class="k">show</span> <span class="n">b</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">a</span><span class="o">,</span> <span class="k">from</span> <span class="n">eq</span><span class="bp">.</span><span class="n">symm</span> <span class="o">(</span><span class="n">eq_inv_of_mul_eq_one</span> <span class="n">h</span><span class="o">),</span>
<span class="kn">end</span>

<span class="kn">lemma</span> <span class="n">inv_eq_of_mul_eq_one</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">G</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">b</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="k">have</span> <span class="n">H</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">b</span><span class="bp">⁻¹</span><span class="o">,</span> <span class="k">from</span> <span class="n">eq_inv_of_mul_eq_one</span> <span class="n">h</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">He</span><span class="o">:</span>  <span class="n">b</span> <span class="bp">=</span> <span class="n">a</span><span class="bp">⁻¹</span> <span class="o">,</span> <span class="k">from</span> <span class="k">calc</span>
        <span class="n">b</span>       <span class="bp">=</span> <span class="n">b</span><span class="bp">⁻¹</span> <span class="bp">⁻¹</span>  <span class="o">:</span> <span class="n">eq</span><span class="bp">.</span><span class="n">symm</span><span class="o">(</span><span class="n">inv_inv</span> <span class="n">b</span><span class="o">)</span>
        <span class="bp">...</span>     <span class="bp">=</span> <span class="n">a</span><span class="bp">⁻¹</span>     <span class="o">:</span> <span class="n">trans_appl</span><span class="o">(</span><span class="bp">λ</span> <span class="n">t</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span> <span class="n">t</span><span class="bp">⁻¹</span> <span class="o">)</span> <span class="o">(</span><span class="n">b</span><span class="bp">⁻¹</span> <span class="o">)</span> <span class="o">(</span><span class="n">a</span><span class="o">)</span> <span class="o">(</span><span class="n">eq</span><span class="bp">.</span><span class="n">symm</span> <span class="n">H</span><span class="o">),</span>
    <span class="k">show</span> <span class="n">a</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">b</span><span class="o">,</span> <span class="k">from</span> <span class="n">eq</span><span class="bp">.</span><span class="n">symm</span> <span class="n">He</span><span class="o">,</span>
<span class="kn">end</span>

<span class="c1">-- for orlando cau</span>
<span class="kn">lemma</span> <span class="n">mul_inv_rev</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">G</span><span class="o">}</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">b</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">a</span><span class="bp">⁻¹</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">sorry</span>
<span class="kn">end</span>
<span class="kn">end</span> <span class="n">mygroup</span>
</pre></div>



<a name="190324631"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190324631" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190324631">(Mar 11 2020 at 19:58)</a>:</h4>
<p>For the <code>iff</code> you can start like this:</p>
<div class="codehilite"><pre><span></span><span class="k">begin</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
     <span class="bp">...</span>
  <span class="o">},</span>
  <span class="o">{</span> <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
     <span class="bp">...</span>
  <span class="o">},</span>
<span class="kn">end</span>
</pre></div>



<a name="190324915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190324915" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190324915">(Mar 11 2020 at 20:01)</a>:</h4>
<p>the other goal is the one you need for your favourite lemma :-) Why not start with <code>apply inv_eq_of_mul_eq_one</code>?</p>
<p>I am just racing out the office, certainly your proofs can be simplified but it's pretty cool that you did so many :-)</p>



<a name="190325283"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190325283" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190325283">(Mar 11 2020 at 20:05)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span>  thx for the split  iff !  For my favorite lemma, yes  is the one  <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span> i have the maths proof but it's complicated to do ! <br>
I will make it : Probably tomorrow !</p>



<a name="190325316"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190325316" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190325316">(Mar 11 2020 at 20:05)</a>:</h4>
<p>What's the maths proof?</p>



<a name="190325600"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190325600" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190325600">(Mar 11 2020 at 20:08)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">a</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">1</span> <span class="n">so</span> <span class="k">by</span>  <span class="n">inv_eq_of_mul_eq_one</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">b</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">a</span> <span class="bp">⁻¹</span>
</pre></div>



<a name="190333017"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190333017" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190333017">(Mar 11 2020 at 21:21)</a>:</h4>
<p>So why not <code>apply inv_eq_of_mul_eq_one</code>?</p>



<a name="190333143"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190333143" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190333143">(Mar 11 2020 at 21:22)</a>:</h4>
<p>Computer scientists like to write proofs backwards</p>



<a name="190333602"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190333602" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190333602">(Mar 11 2020 at 21:27)</a>:</h4>
<p>You don't have to go backwards, nothing prevents you to write:</p>
<div class="codehilite"><pre><span></span> <span class="k">have</span> <span class="n">key</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span><span class="bp">*</span><span class="o">(</span><span class="n">b</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">a</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">,</span>
  <span class="n">sorry</span><span class="o">,</span>
 <span class="n">exact</span>  <span class="n">inv_eq_of_mul_eq_one</span> <span class="n">key</span><span class="o">,</span>
</pre></div>



<a name="190333666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190333666" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190333666">(Mar 11 2020 at 21:28)</a>:</h4>
<p>and replace sorry by a proof of course.</p>



<a name="190336039"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190336039" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190336039">(Mar 11 2020 at 21:53)</a>:</h4>
<p>Yes i do that ! But the proof is a little complicated  <span aria-label="rolling on the floor laughing" class="emoji emoji-1f923" role="img" title="rolling on the floor laughing">:rolling_on_the_floor_laughing:</span></p>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">mul_inv_rev</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">G</span><span class="o">}</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">b</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">a</span><span class="bp">⁻¹</span> <span class="o">:=</span>
<span class="k">begin</span>
    <span class="k">have</span> <span class="n">H</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">b</span><span class="bp">⁻¹</span> <span class="bp">*</span><span class="n">a</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="mi">1</span> <span class="bp">*</span><span class="n">a</span><span class="bp">⁻¹</span><span class="o">,</span>
            <span class="k">from</span> <span class="n">trans_appl</span><span class="o">(</span><span class="bp">λ</span> <span class="n">t</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">a</span><span class="bp">⁻¹</span> <span class="o">)</span> <span class="o">(</span><span class="n">b</span> <span class="bp">*</span><span class="n">b</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="o">(</span><span class="mi">1</span><span class="o">)</span> <span class="o">(</span><span class="n">mul_right_inv</span> <span class="n">b</span><span class="o">),</span>
    <span class="k">have</span> <span class="n">Ha</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">*</span> <span class="o">(</span><span class="n">b</span><span class="bp">⁻¹</span> <span class="bp">*</span><span class="n">a</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">=</span> <span class="n">a</span><span class="bp">⁻¹</span><span class="o">,</span> <span class="k">from</span> <span class="k">calc</span>
        <span class="n">b</span> <span class="bp">*</span> <span class="o">(</span><span class="n">b</span><span class="bp">⁻¹</span> <span class="bp">*</span><span class="n">a</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">=</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">b</span><span class="bp">⁻¹</span> <span class="bp">*</span><span class="n">a</span><span class="bp">⁻¹</span> <span class="o">:</span> <span class="n">rev_mul_assoc_simp</span> <span class="o">(</span><span class="n">b</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span><span class="bp">⁻¹</span><span class="o">)</span>
        <span class="bp">...</span>          <span class="bp">=</span> <span class="mi">1</span> <span class="bp">*</span><span class="n">a</span><span class="bp">⁻¹</span>    <span class="o">:</span> <span class="n">H</span>
        <span class="bp">...</span>          <span class="bp">=</span> <span class="n">a</span><span class="bp">⁻¹</span>       <span class="o">:</span> <span class="n">group</span><span class="bp">.</span><span class="n">one_mul</span> <span class="n">a</span><span class="bp">⁻¹</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">h</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">b</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">a</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">=</span> <span class="mi">1</span><span class="o">,</span> <span class="k">from</span> <span class="k">calc</span>
        <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">b</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">a</span><span class="bp">⁻¹</span><span class="o">)</span>  <span class="bp">=</span> <span class="n">a</span> <span class="bp">*</span> <span class="o">(</span><span class="n">b</span> <span class="bp">*</span> <span class="o">(</span><span class="n">b</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">a</span><span class="bp">⁻¹</span><span class="o">))</span> <span class="o">:</span> <span class="n">mul_assoc_simp</span> <span class="o">(</span><span class="n">a</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">a</span><span class="bp">⁻¹</span><span class="o">)</span>
        <span class="bp">...</span>                    <span class="bp">=</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">a</span><span class="bp">⁻¹</span>             <span class="o">:</span> <span class="n">trans_appl</span><span class="o">(</span><span class="bp">λ</span> <span class="n">t</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span> <span class="n">a</span><span class="bp">*</span><span class="n">t</span> <span class="o">)</span> <span class="o">(</span><span class="n">b</span> <span class="bp">*</span> <span class="o">(</span><span class="n">b</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">a</span><span class="bp">⁻¹</span><span class="o">))</span> <span class="o">(</span><span class="n">a</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="o">(</span><span class="n">Ha</span><span class="o">)</span>
        <span class="bp">...</span>                    <span class="bp">=</span> <span class="mi">1</span>                   <span class="o">:</span> <span class="n">mul_right_inv</span> <span class="n">a</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">inv_eq_of_mul_eq_one</span> <span class="o">(</span><span class="n">h</span><span class="o">),</span>
<span class="kn">end</span>
</pre></div>



<a name="190336814"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190336814" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190336814">(Mar 11 2020 at 22:01)</a>:</h4>
<p>Why not just apply and then rewrite a couple of times?</p>



<a name="190336869"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190336869" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190336869">(Mar 11 2020 at 22:02)</a>:</h4>
<p>These systems are designed to go backwards</p>



<a name="190336957"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190336957" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190336957">(Mar 11 2020 at 22:03)</a>:</h4>
<p>i don't know, how can i do that :D</p>



<a name="190337122"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190337122" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190337122">(Mar 11 2020 at 22:05)</a>:</h4>
<p>Did you do the apply line yet?</p>



<a name="190337563"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190337563" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190337563">(Mar 11 2020 at 22:11)</a>:</h4>
<p>what is the apply line ? (sorry i'm not english, i'm French and don't speack very well)</p>



<a name="190338091"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190338091" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190338091">(Mar 11 2020 at 22:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113488-general/topic/My.20favorite.20group.20lemma/near/190333017" title="#narrow/stream/113488-general/topic/My.20favorite.20group.20lemma/near/190333017">said</a>:</p>
<blockquote>
<p>So why not <code>apply inv_eq_of_mul_eq_one</code>?</p>
</blockquote>
<p>add this to your proof</p>



<a name="190338871"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190338871" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190338871">(Mar 11 2020 at 22:27)</a>:</h4>
<p>and then start rewriting, e.g. <code>rw mul_assoc</code></p>



<a name="190339264"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190339264" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190339264">(Mar 11 2020 at 22:32)</a>:</h4>
<p>actually the rewrites are problematic because they clash with the real definitions in the root namespace. Change the end of your file to this:</p>
<div class="codehilite"><pre><span></span><span class="kn">namespace</span> <span class="n">group</span>

<span class="c1">-- for orlando cau</span>
<span class="kn">lemma</span> <span class="n">mul_inv_rev</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">G</span><span class="o">}</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">b</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">a</span><span class="bp">⁻¹</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">apply</span> <span class="n">inv_eq_of_mul_eq_one</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">mul_assoc</span><span class="o">,</span>
  <span class="n">sorry</span>
<span class="kn">end</span>

<span class="kn">end</span> <span class="n">group</span>

<span class="kn">end</span> <span class="n">mygroup</span>
</pre></div>



<a name="190339375"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190339375" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190339375">(Mar 11 2020 at 22:34)</a>:</h4>
<p>That <code>namespace group</code> line could really do with being on the line before <code>-- START HERE</code></p>



<a name="190343037"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190343037" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190343037">(Mar 11 2020 at 23:24)</a>:</h4>
<p>okay !!!! </p>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">mul_inv_rev&#39;</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">G</span><span class="o">}</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">b</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">a</span><span class="bp">⁻¹</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">apply</span> <span class="n">inv_eq_of_mul_eq_one</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">mul_assoc_simp</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">mul_left_cancel</span> <span class="n">a</span><span class="bp">⁻¹</span> <span class="o">,</span>
  <span class="n">rw</span> <span class="n">rev_mul_assoc_simp</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">mul_left_inv</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">one_mul</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">rev_mul_assoc_simp</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">mul_one</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">mul_right_inv</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">one_mul</span><span class="o">,</span>
<span class="kn">end</span>
</pre></div>



<a name="190369164"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190369164" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190369164">(Mar 12 2020 at 09:15)</a>:</h4>
<p>You don't have to use <code>apply</code> if you don't want it, and you don't have to make it complicated. You can write:</p>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">mul_inv_rev</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">G</span><span class="o">}</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">b</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">a</span><span class="bp">⁻¹</span> <span class="o">:=</span>
<span class="k">begin</span>
 <span class="k">have</span> <span class="n">key</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span><span class="bp">*</span><span class="o">(</span><span class="n">b</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">a</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">group</span><span class="bp">.</span><span class="n">mul_assoc</span><span class="o">,</span> <span class="err">←</span> <span class="n">group</span><span class="bp">.</span><span class="n">mul_assoc</span> <span class="n">b</span><span class="o">,</span> <span class="n">mul_right_inv</span><span class="o">,</span> <span class="n">group</span><span class="bp">.</span><span class="n">one_mul</span><span class="o">,</span> <span class="n">mul_right_inv</span><span class="o">],</span>
 <span class="n">exact</span>  <span class="n">inv_eq_of_mul_eq_one</span> <span class="n">key</span><span class="o">,</span>
<span class="kn">end</span>
</pre></div>



<a name="190369247"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190369247" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190369247">(Mar 12 2020 at 09:16)</a>:</h4>
<p>If you want the proof script to be readable, you can use a <code>calc</code> to do the exact same proof:</p>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">G</span><span class="o">}</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">b</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">a</span><span class="bp">⁻¹</span> <span class="o">:=</span>
<span class="k">begin</span>
 <span class="k">have</span> <span class="n">key</span> <span class="o">:=</span>
 <span class="k">calc</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span><span class="bp">*</span><span class="o">(</span><span class="n">b</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">a</span><span class="bp">⁻¹</span><span class="o">)</span>
        <span class="bp">=</span> <span class="n">a</span><span class="bp">*</span><span class="o">(</span><span class="n">b</span><span class="bp">*</span><span class="o">(</span><span class="n">b</span><span class="bp">⁻¹*</span><span class="n">a</span><span class="bp">⁻¹</span><span class="o">))</span> <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="n">group</span><span class="bp">.</span><span class="n">mul_assoc</span>
    <span class="bp">...</span> <span class="bp">=</span> <span class="n">a</span><span class="bp">*</span><span class="o">(</span><span class="n">b</span><span class="bp">*</span><span class="n">b</span><span class="bp">⁻¹*</span><span class="n">a</span><span class="bp">⁻¹</span><span class="o">)</span>   <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="err">←</span> <span class="n">group</span><span class="bp">.</span><span class="n">mul_assoc</span> <span class="n">b</span>
    <span class="bp">...</span> <span class="bp">=</span> <span class="n">a</span><span class="bp">*</span><span class="o">(</span><span class="mi">1</span><span class="bp">*</span><span class="n">a</span><span class="bp">⁻¹</span><span class="o">)</span>       <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="n">mul_right_inv</span>
    <span class="bp">...</span> <span class="bp">=</span> <span class="n">a</span><span class="bp">*</span><span class="n">a</span><span class="bp">⁻¹</span>           <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="n">group</span><span class="bp">.</span><span class="n">one_mul</span>
    <span class="bp">...</span> <span class="bp">=</span> <span class="mi">1</span>               <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="n">mul_right_inv</span><span class="o">,</span>
 <span class="n">exact</span>  <span class="n">inv_eq_of_mul_eq_one</span> <span class="n">key</span><span class="o">,</span>
<span class="kn">end</span>
</pre></div>



<a name="190369402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190369402" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190369402">(Mar 12 2020 at 09:19)</a>:</h4>
<p>But really the last three lines (at least) shouldn't be there. The problem is that your file completely messes up <code>simp</code> attribute (that are tricky to use right). You need to remove them from the associativity lemmas, and add them to <code>mul_left_inv</code>, <code>mul_right_inv</code>, <code>one_mul</code> and <code>mul_one</code>. Then you can write:</p>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">G</span><span class="o">}</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">b</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">a</span><span class="bp">⁻¹</span> <span class="o">:=</span>
<span class="k">begin</span>
 <span class="k">have</span> <span class="n">key</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span><span class="bp">*</span><span class="o">(</span><span class="n">b</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">a</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">group</span><span class="bp">.</span><span class="n">mul_assoc</span><span class="o">,</span> <span class="err">←</span> <span class="n">group</span><span class="bp">.</span><span class="n">mul_assoc</span> <span class="n">b</span><span class="o">],</span>
  <span class="n">simp</span><span class="o">,</span>
 <span class="n">exact</span>  <span class="n">inv_eq_of_mul_eq_one</span> <span class="n">key</span><span class="o">,</span>
<span class="kn">end</span>
</pre></div>



<a name="190369519"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190369519" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190369519">(Mar 12 2020 at 09:20)</a>:</h4>
<p>The actual nice proof would of course be entirely automatic. Currently I think even mathlib cannot do it fully automatically, but this is only a matter of finding someone who knows a bit of tactic writing and has time for it...</p>



<a name="190369692"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190369692" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190369692">(Mar 12 2020 at 09:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="270476">orlando</span> <a href="#narrow/stream/113488-general/topic/My.20favorite.20group.20lemma/near/190337563" title="#narrow/stream/113488-general/topic/My.20favorite.20group.20lemma/near/190337563">said</a>:</p>
<blockquote>
<p>what is the apply line ? (sorry i'm not english, i'm French and don't speack very well)</p>
</blockquote>
<p>I guessed that from your Lean file name <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span> Where are you? (sorry if you already answered that question, there too many new users for me to remember everyone).</p>



<a name="190369707"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190369707" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190369707">(Mar 12 2020 at 09:22)</a>:</h4>
<p>I guessed it from the space before the question mark</p>



<a name="190369840"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190369840" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190369840">(Mar 12 2020 at 09:24)</a>:</h4>
<p>In my case you even get more information from that: I have spaces before question marks when I'm typing on my phone, because I'm too lazy to switch to English keyboard or go back and erase spaces introduced automatically.</p>



<a name="190369904"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190369904" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190369904">(Mar 12 2020 at 09:25)</a>:</h4>
<p>Il y a beaucoup de Français ici. <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span></p>



<a name="190369924"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190369924" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190369924">(Mar 12 2020 at 09:25)</a>:</h4>
<p>(But I'm not one of them... although I live 8km from the border...)</p>



<a name="190372603"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190372603" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190372603">(Mar 12 2020 at 10:02)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span>  thank you, for the comment ! It's nice, i will try to simplify my proof with rw, it's a good exercice for me, i want to understand <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>
<p>Bonjour de la France (Grenoble Alpes)    <span class="user-mention" data-user-id="112680">@Johan Commelin</span></p>



<a name="190447412"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190447412" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190447412">(Mar 12 2020 at 21:27)</a>:</h4>
<p>Hello, </p>
<p>I have a problem  <span aria-label="innocent" class="emoji emoji-1f607" role="img" title="innocent">:innocent:</span> </p>
<div class="codehilite"><pre><span></span><span class="kn">variables</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">R</span><span class="o">]</span>
<span class="n">def</span> <span class="n">Gm</span>  <span class="o">:=</span>  <span class="o">{</span> <span class="n">x</span> <span class="o">:</span> <span class="n">R</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="n">y</span> <span class="o">:</span> <span class="n">R</span><span class="o">,</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">y</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">}</span>
<span class="kn">example</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span> <span class="err">∈</span>  <span class="n">Gm</span><span class="o">(</span><span class="n">R</span><span class="o">))</span> <span class="bp">→</span> <span class="o">(</span><span class="n">b</span> <span class="err">∈</span> <span class="n">Gm</span><span class="o">(</span><span class="n">R</span><span class="o">))</span> <span class="bp">→</span>  <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">b</span> <span class="err">∈</span>  <span class="n">Gm</span><span class="o">(</span><span class="n">R</span><span class="o">))</span> <span class="o">:=</span>
<span class="k">begin</span>
    <span class="n">intros</span> <span class="n">ha</span> <span class="n">hb</span><span class="o">,</span>
    <span class="n">unfold</span> <span class="n">Gm</span> <span class="n">at</span> <span class="n">ha</span><span class="o">,</span>
    <span class="n">sorry</span>  <span class="c1">-- a ∈ Gm(R) so exist y_a s.t a * y_a = 1, how to have y_a</span>
           <span class="c1">-- ellim.exist  doesn&#39;t work directly ?</span>
<span class="kn">end</span>
</pre></div>



<a name="190447576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190447576" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190447576">(Mar 12 2020 at 21:29)</a>:</h4>
<p><code>cases ha with y hy</code></p>



<a name="190447602"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190447602" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190447602">(Mar 12 2020 at 21:29)</a>:</h4>
<p>Alternatively, replace your <code>intros</code> with <code>rintros?</code>, and see what it tells you.</p>



<a name="190447910"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190447910" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190447910">(Mar 12 2020 at 21:33)</a>:</h4>
<p>Cases is ok ...  thank you <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span> <br>
I will try to make Gm a group <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>



<a name="190449042"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190449042" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190449042">(Mar 12 2020 at 21:45)</a>:</h4>
<p>Then you could make <code>Gm</code> a group functor</p>



<a name="190449276"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190449276" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190449276">(Mar 12 2020 at 21:48)</a>:</h4>
<p>Orlando, you can still pick up the efficient way from the beginning: the first line of this proof should be <code>rintros ⟨a', ha⟩ ⟨b', hb⟩,</code></p>



<a name="190449467"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190449467" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190449467">(Mar 12 2020 at 21:50)</a>:</h4>
<p>Ok, verry nice Patrick !!! </p>
<p>Kevin, yes it's my goal, but slowly, i have to study the language before !</p>



<a name="190450841"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190450841" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190450841">(Mar 12 2020 at 22:04)</a>:</h4>
<p>I guess it's worth saying that <code>Gm</code> is already defined in lean and it's called <code>units</code>. But feel free to define it yourself for practice</p>



<a name="190450855"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190450855" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190450855">(Mar 12 2020 at 22:05)</a>:</h4>
<p>You can look at how it was done in mathlib after</p>



<a name="190527504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190527504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190527504">(Mar 13 2020 at 16:55)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span>  </p>
<p>I learn a little about units and i make my favorite commutative algebra  lemma, it's fun but complicated !  it's killing me <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span> </p>
<div class="codehilite"><pre><span></span><span class="c1">---</span>
<span class="c1">---   Goal : 0. Understand with a little example :D</span>
<span class="c1">---             create  Gm : R → Ab has a group fonctor from category of ring → Abelian group</span>
<span class="c1">---           -----------------------  &gt; &gt; &gt; &gt; &gt;   difficult !    I have to make a group first :D</span>

<span class="kn">import</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">ring</span>
<span class="kn">universe</span> <span class="n">u</span>
<span class="kn">variable</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span>
<span class="kn">structure</span> <span class="n">Gm</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">:=</span>   <span class="c1">--- Object ?</span>
<span class="o">(</span><span class="n">val</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span>
<span class="o">(</span><span class="n">inv</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span>
<span class="o">(</span><span class="n">val_inv</span> <span class="o">:</span> <span class="n">val</span> <span class="bp">*</span> <span class="n">inv</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">)</span>
<span class="o">(</span><span class="n">inv_val</span> <span class="o">:</span> <span class="n">inv</span> <span class="bp">*</span> <span class="n">val</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">)</span>
<span class="kn">namespace</span> <span class="n">Gm</span>
<span class="kn">variables</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">R</span><span class="o">]</span>
<span class="c1">------    My universe</span>
<span class="kn">instance</span> <span class="o">:</span> <span class="n">has_coe</span> <span class="o">(</span><span class="n">Gm</span> <span class="n">R</span><span class="o">)</span> <span class="n">R</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="n">val</span><span class="bp">⟩</span>    <span class="c1">---- ici c&#39;est la valeur de l&#39;unité dans R instance ???</span>
<span class="c1">--- Exemple of Gm element !</span>
<span class="n">def</span> <span class="n">Nil_lemma_for_fun___D</span><span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">a</span> <span class="bp">=</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">R</span><span class="o">))</span> <span class="bp">→</span> <span class="n">Gm</span> <span class="n">R</span> <span class="o">:=</span>
    <span class="k">begin</span>
        <span class="c1">--- My favorite commutative lemma : η^2 =0 → (1+η) × (1-η) = 1 so 1+η ∈ Gm(R) :D</span>
        <span class="c1">---                               :</span>
        <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
        <span class="k">let</span> <span class="n">val_inv</span> <span class="o">:</span> <span class="o">(</span><span class="mi">1</span><span class="bp">+</span><span class="n">a</span><span class="o">)</span><span class="bp">*</span> <span class="o">(</span><span class="mi">1</span><span class="bp">-</span><span class="n">a</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">,</span> <span class="k">from</span>
            <span class="k">calc</span>
                <span class="o">(</span><span class="mi">1</span><span class="bp">+</span><span class="n">a</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">1</span><span class="bp">-</span><span class="n">a</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">1</span><span class="bp">*</span><span class="mi">1</span>  <span class="bp">-</span> <span class="n">a</span><span class="bp">*</span><span class="n">a</span>        <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">eq</span><span class="bp">.</span><span class="n">symm</span> <span class="o">(</span><span class="n">mul_self_sub_mul_self_eq</span> <span class="o">(</span><span class="mi">1</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span><span class="o">))]</span>
                <span class="bp">...</span>           <span class="bp">=</span> <span class="mi">1</span><span class="bp">*</span><span class="mi">1</span>  <span class="bp">-</span> <span class="mi">0</span>          <span class="o">:</span> <span class="k">by</span> <span class="n">exact</span> <span class="n">congr_arg</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">l</span><span class="o">,</span> <span class="mi">1</span><span class="bp">*</span><span class="mi">1</span> <span class="bp">-</span> <span class="n">l</span><span class="o">)</span>  <span class="o">(</span><span class="n">h</span><span class="o">)</span>
                <span class="bp">...</span>           <span class="bp">=</span> <span class="mi">1</span>                 <span class="o">:</span> <span class="k">by</span> <span class="n">simp</span><span class="o">,</span>
        <span class="k">let</span> <span class="n">inv_val</span> <span class="o">:</span> <span class="o">(</span><span class="mi">1</span><span class="bp">-</span><span class="n">a</span><span class="o">)</span><span class="bp">*</span> <span class="o">(</span><span class="mi">1</span><span class="bp">+</span><span class="n">a</span><span class="o">)</span><span class="bp">=</span> <span class="mi">1</span><span class="o">,</span> <span class="k">from</span>
            <span class="k">calc</span>
                <span class="o">(</span><span class="mi">1</span><span class="bp">-</span><span class="n">a</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">1</span><span class="bp">+</span><span class="n">a</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(</span><span class="mi">1</span><span class="bp">+</span><span class="n">a</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">1</span><span class="bp">-</span><span class="n">a</span><span class="o">)</span>    <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="n">mul_comm</span>
                <span class="bp">...</span>          <span class="bp">=</span> <span class="mi">1</span>                 <span class="o">:</span> <span class="n">val_inv</span><span class="o">,</span>
        <span class="n">exact</span> <span class="bp">⟨</span><span class="mi">1</span><span class="bp">+</span><span class="n">a</span><span class="o">,</span><span class="mi">1</span><span class="bp">-</span><span class="n">a</span><span class="o">,</span> <span class="n">val_inv</span><span class="o">,</span><span class="n">inv_val</span><span class="bp">⟩</span>
    <span class="kn">end</span>

<span class="kn">protected</span> <span class="n">def</span>  <span class="n">linv</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">Gm</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">Gm</span> <span class="n">R</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="n">x</span><span class="bp">.</span><span class="n">inv</span><span class="o">,</span><span class="n">x</span><span class="bp">.</span><span class="n">val</span><span class="o">,</span><span class="n">x</span><span class="bp">.</span><span class="n">inv_val</span><span class="o">,</span><span class="n">x</span><span class="bp">.</span><span class="n">val_inv</span><span class="bp">⟩</span>
<span class="c1">--- Perhaps i can drop inv_val cause commutativity (all Ring are commutative :D)</span>
<span class="c">/-</span><span class="cm">- Gm herite de la structure de la multiplication de R -/</span>
<span class="kn">protected</span> <span class="n">def</span> <span class="n">mul</span> <span class="o">(</span><span class="n">u₁</span> <span class="n">u₂</span> <span class="o">:</span> <span class="n">Gm</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="n">Gm</span> <span class="n">R</span> <span class="o">:=</span>
<span class="bp">⟨</span><span class="n">u₁</span><span class="bp">.</span><span class="n">val</span> <span class="bp">*</span> <span class="n">u₂</span><span class="bp">.</span><span class="n">val</span><span class="o">,</span>
<span class="n">u₂</span><span class="bp">.</span><span class="n">inv</span> <span class="bp">*</span> <span class="n">u₁</span><span class="bp">.</span><span class="n">inv</span><span class="o">,</span>
<span class="k">have</span> <span class="n">u₁</span><span class="bp">.</span><span class="n">val</span> <span class="bp">*</span> <span class="o">(</span><span class="n">u₂</span><span class="bp">.</span><span class="n">val</span> <span class="bp">*</span> <span class="n">u₂</span><span class="bp">.</span><span class="n">inv</span><span class="o">)</span> <span class="bp">*</span> <span class="n">u₁</span><span class="bp">.</span><span class="n">inv</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">,</span> <span class="k">by</span>
<span class="k">begin</span>
    <span class="k">let</span> <span class="n">a</span>  <span class="o">:=</span> <span class="n">u₁</span><span class="bp">.</span><span class="n">val</span><span class="o">,</span>
    <span class="k">let</span> <span class="n">b</span>  <span class="o">:=</span> <span class="n">u₂</span><span class="bp">.</span><span class="n">val</span><span class="o">,</span>
    <span class="k">let</span> <span class="n">b&#39;</span> <span class="o">:=</span> <span class="n">u₂</span><span class="bp">.</span><span class="n">inv</span><span class="o">,</span>
    <span class="k">let</span> <span class="n">a&#39;</span> <span class="o">:=</span> <span class="n">u₁</span><span class="bp">.</span><span class="n">inv</span><span class="o">,</span>
    <span class="k">show</span>  <span class="n">a</span> <span class="bp">*</span> <span class="o">(</span><span class="n">b</span> <span class="bp">*</span> <span class="n">b&#39;</span><span class="o">)</span> <span class="bp">*</span> <span class="n">a&#39;</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">,</span> <span class="k">from</span>
        <span class="k">calc</span>
            <span class="n">a</span> <span class="bp">*</span> <span class="o">(</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">b&#39;</span> <span class="o">)</span> <span class="bp">*</span> <span class="n">a&#39;</span> <span class="bp">=</span>  <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">a&#39;</span>     <span class="o">:</span> <span class="k">by</span> <span class="n">exact</span> <span class="n">congr_arg</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">l</span><span class="o">,</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">l</span>  <span class="bp">*</span> <span class="n">a&#39;</span><span class="o">)</span>  <span class="o">(</span><span class="n">u₂</span><span class="bp">.</span><span class="n">val_inv</span><span class="o">)</span>
            <span class="bp">...</span>                 <span class="bp">=</span>   <span class="n">a</span> <span class="bp">*</span> <span class="n">a&#39;</span>          <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="n">mul_one</span> <span class="n">a</span>
            <span class="bp">...</span>                 <span class="bp">=</span>   <span class="mi">1</span>               <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="n">u₁</span><span class="bp">.</span><span class="n">val_inv</span><span class="o">,</span>
<span class="kn">end</span><span class="o">,</span>
<span class="k">by</span> <span class="n">simpa</span> <span class="n">only</span> <span class="o">[</span><span class="n">mul_assoc</span><span class="o">],</span>
<span class="k">have</span> <span class="n">u₂</span><span class="bp">.</span><span class="n">inv</span> <span class="bp">*</span> <span class="o">(</span><span class="n">u₁</span><span class="bp">.</span><span class="n">inv</span> <span class="bp">*</span><span class="n">u₁</span><span class="bp">.</span><span class="n">val</span><span class="o">)</span> <span class="bp">*</span> <span class="n">u₂</span><span class="bp">.</span><span class="n">val</span>  <span class="bp">=</span> <span class="mi">1</span><span class="o">,</span> <span class="k">by</span>
<span class="k">begin</span>
    <span class="k">let</span> <span class="n">b&#39;</span>  <span class="o">:=</span> <span class="n">u₁</span><span class="bp">.</span><span class="n">val</span><span class="o">,</span>
    <span class="k">let</span> <span class="n">a&#39;</span>  <span class="o">:=</span> <span class="n">u₂</span><span class="bp">.</span><span class="n">val</span><span class="o">,</span>
    <span class="k">let</span> <span class="n">a</span>   <span class="o">:=</span> <span class="n">u₂</span><span class="bp">.</span><span class="n">inv</span><span class="o">,</span>
    <span class="k">let</span> <span class="n">b</span>   <span class="o">:=</span> <span class="n">u₁</span><span class="bp">.</span><span class="n">inv</span><span class="o">,</span>
    <span class="k">show</span>  <span class="n">a</span> <span class="bp">*</span> <span class="o">(</span><span class="n">b</span> <span class="bp">*</span> <span class="n">b&#39;</span><span class="o">)</span> <span class="bp">*</span> <span class="n">a&#39;</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">,</span> <span class="k">from</span>
        <span class="k">calc</span>
            <span class="n">a</span> <span class="bp">*</span> <span class="o">(</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">b&#39;</span> <span class="o">)</span> <span class="bp">*</span> <span class="n">a&#39;</span> <span class="bp">=</span>  <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">a&#39;</span>     <span class="o">:</span> <span class="k">by</span> <span class="n">exact</span> <span class="n">congr_arg</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">l</span><span class="o">,</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">l</span>  <span class="bp">*</span> <span class="n">a&#39;</span><span class="o">)</span>  <span class="o">(</span><span class="n">u₁</span><span class="bp">.</span><span class="n">inv_val</span><span class="o">)</span>
            <span class="bp">...</span>                 <span class="bp">=</span>   <span class="n">a</span> <span class="bp">*</span> <span class="n">a&#39;</span>          <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="n">mul_one</span> <span class="n">a</span>
            <span class="bp">...</span>                 <span class="bp">=</span>   <span class="mi">1</span>               <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="n">u₂</span><span class="bp">.</span><span class="n">inv_val</span><span class="o">,</span>
<span class="kn">end</span><span class="o">,</span>
<span class="k">by</span> <span class="n">simpa</span> <span class="n">only</span> <span class="o">[</span><span class="n">mul_assoc</span><span class="o">],</span>  <span class="c1">-- what is simpa  = Sympathique ???</span>
<span class="bp">⟩</span>
<span class="kn">instance</span> <span class="o">:</span> <span class="n">has_mul</span> <span class="o">(</span><span class="n">Gm</span> <span class="n">R</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="n">Gm</span><span class="bp">.</span><span class="n">mul</span><span class="bp">⟩</span>
<span class="kn">instance</span> <span class="o">:</span> <span class="n">has_one</span> <span class="o">(</span><span class="n">Gm</span> <span class="n">R</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">⟨⟨</span><span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="n">mul_one</span> <span class="mi">1</span><span class="o">,</span> <span class="n">one_mul</span> <span class="mi">1</span><span class="bp">⟩⟩</span>
<span class="kn">instance</span> <span class="o">:</span> <span class="n">has_inv</span> <span class="o">(</span><span class="n">Gm</span> <span class="n">R</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="n">Gm</span><span class="bp">.</span><span class="n">linv</span><span class="bp">⟩</span>
<span class="kn">end</span> <span class="n">Gm</span>
</pre></div>



<a name="190527671"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190527671" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190527671">(Mar 13 2020 at 16:56)</a>:</h4>
<p>There are many facts about units in <code>algebra/group/units</code>.</p>



<a name="190527747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190527747" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190527747">(Mar 13 2020 at 16:57)</a>:</h4>
<p>They're defined in any (incl. non-commutative) monoid, but you can think about a ring, if you want.</p>



<a name="190527964"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190527964" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190527964">(Mar 13 2020 at 16:59)</a>:</h4>
<p>Hello <span class="user-mention" data-user-id="214703">@Yury G. Kudryashov</span> </p>
<p>Okay, but i want learn how to use, so i redo some stuff <span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span>  it's difficult for a beginner to learn !</p>



<a name="190528002"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190528002" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190528002">(Mar 13 2020 at 16:59)</a>:</h4>
<p><code>simpa</code> is more or less <code>simp; assumption</code>, and <code>simpa using lalala</code> is something like <code>have this := lalala; simp at this |-; assumption</code></p>



<a name="190614246"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190614246" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190614246">(Mar 14 2020 at 21:01)</a>:</h4>
<p>Hello, </p>
<p>I have i little problem with the existential quantifier  <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">ring</span>
<span class="kn">import</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">ring_exp</span>
<span class="kn">import</span> <span class="n">algebra</span><span class="bp">.</span><span class="n">ring</span>
<span class="n">universes</span> <span class="n">u</span>           <span class="c1">---- ???</span>
<span class="kn">variables</span> <span class="o">{</span><span class="n">R_1</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}{</span><span class="n">R_2</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}[</span><span class="n">comm_ring</span> <span class="n">R_1</span><span class="o">][</span><span class="n">comm_ring</span> <span class="n">R_2</span><span class="o">]</span>
<span class="kn">structure</span> <span class="n">Idem</span><span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)[</span><span class="n">comm_ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">e</span> <span class="o">:</span> <span class="n">R</span><span class="o">)(</span><span class="n">idem</span> <span class="o">:</span> <span class="n">e</span><span class="bp">*</span><span class="n">e</span>  <span class="bp">=</span> <span class="n">e</span><span class="o">)</span>
<span class="kn">namespace</span> <span class="n">Idem</span>
<span class="n">def</span> <span class="n">map</span><span class="o">(</span> <span class="n">f</span> <span class="o">:</span> <span class="n">ring_hom</span> <span class="n">R_1</span> <span class="n">R_2</span><span class="o">)</span> <span class="o">:</span> <span class="n">Idem</span> <span class="o">(</span><span class="n">R_1</span><span class="o">)</span> <span class="bp">→</span> <span class="n">Idem</span> <span class="n">R_2</span>  <span class="o">:=</span>
 <span class="bp">λ</span> <span class="n">E</span><span class="o">,</span> <span class="bp">⟨</span> <span class="n">f</span> <span class="n">E</span><span class="bp">.</span><span class="n">e</span><span class="o">,</span> <span class="k">by</span> <span class="n">rw</span>  <span class="o">[</span><span class="err">←</span> <span class="n">f</span><span class="bp">.</span><span class="n">map_mul</span><span class="o">,</span> <span class="n">E</span><span class="bp">.</span><span class="n">idem</span><span class="o">]</span><span class="bp">⟩</span>
<span class="kn">end</span> <span class="n">Idem</span>

<span class="kn">structure</span> <span class="n">Uni_2</span><span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)[</span><span class="n">comm_ring</span> <span class="n">R</span><span class="o">]</span>  <span class="o">:=</span>
<span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span>
<span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span>
<span class="o">(</span><span class="n">certificat</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">R</span><span class="o">,</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">y</span> <span class="bp">=</span> <span class="o">(</span><span class="mi">1</span> <span class="o">:</span> <span class="n">R</span><span class="o">))</span>
<span class="kn">namespace</span> <span class="n">Uni_2</span>
<span class="n">def</span> <span class="n">map</span><span class="o">(</span> <span class="n">f</span> <span class="o">:</span> <span class="n">ring_hom</span> <span class="n">R_1</span> <span class="n">R_2</span><span class="o">)</span> <span class="o">:</span> <span class="n">Uni_2</span> <span class="n">R_1</span> <span class="bp">→</span> <span class="n">Uni_2</span> <span class="n">R_2</span>  <span class="o">:=</span>
 <span class="bp">λ</span> <span class="n">ob</span><span class="o">,</span> <span class="bp">⟨</span> <span class="n">f</span> <span class="n">ob</span><span class="bp">.</span><span class="n">a</span><span class="o">,</span><span class="n">f</span> <span class="n">ob</span><span class="bp">.</span><span class="n">b</span><span class="o">,</span>  <span class="k">begin</span>
        <span class="n">cases</span> <span class="n">ob</span><span class="bp">.</span><span class="n">certificat</span> <span class="k">with</span> <span class="n">xob</span> <span class="n">h</span><span class="o">,</span>      <span class="c1">-- how to get directly xob and yob ? with one cases ?</span>
        <span class="n">cases</span> <span class="n">h</span> <span class="k">with</span> <span class="n">yob</span> <span class="n">n</span><span class="o">,</span>
        <span class="k">have</span> <span class="n">H</span> <span class="o">:</span> <span class="o">(</span><span class="n">f</span> <span class="n">ob</span><span class="bp">.</span><span class="n">a</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">f</span> <span class="n">xob</span><span class="o">)</span> <span class="bp">+</span>  <span class="o">(</span><span class="n">f</span> <span class="n">ob</span><span class="bp">.</span><span class="n">b</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">f</span> <span class="n">yob</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">,</span> <span class="k">by</span>
        <span class="n">rw</span>  <span class="o">[</span><span class="err">←</span> <span class="n">f</span><span class="bp">.</span><span class="n">map_mul</span><span class="o">,</span><span class="err">←</span> <span class="n">f</span><span class="bp">.</span><span class="n">map_mul</span><span class="o">,</span><span class="err">←</span> <span class="n">f</span><span class="bp">.</span><span class="n">map_add</span><span class="o">,</span><span class="n">n</span><span class="o">,</span><span class="n">f</span><span class="bp">.</span><span class="n">map_one</span><span class="o">]</span>
        <span class="o">,</span><span class="n">sorry</span><span class="o">,</span>
        <span class="kn">end</span><span class="o">,</span>
        <span class="c1">---          I dont understand how to use (f xob) (f yo),  i have the certicate H   :(</span>
        <span class="bp">⟩</span>
<span class="kn">end</span> <span class="n">Uni_2</span>
</pre></div>



<a name="190614321"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190614321" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190614321">(Mar 14 2020 at 21:03)</a>:</h4>
<div class="codehilite"><pre><span></span>        <span class="n">use</span> <span class="n">f</span> <span class="n">xob</span><span class="o">,</span>
        <span class="n">use</span> <span class="n">f</span> <span class="n">yob</span><span class="o">,</span>
        <span class="n">assumption</span><span class="o">,</span>
</pre></div>



<a name="190614328"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190614328" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190614328">(Mar 14 2020 at 21:03)</a>:</h4>
<p>hey, you've come a long way recently :-)</p>



<a name="190614505"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190614505" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190614505">(Mar 14 2020 at 21:07)</a>:</h4>
<p>The <code>universes u</code> thing is because this is not ZFC, they are assuming the existence of infinitely many inaccessible cardinals <em>shrug</em>. It means that category theory is easier because you don't have to keep fussing about the difference between sets and classes, but I have never really seen the point of it. You are supposed to be even more universe polymorphic and write <code>universes u v</code> and <code>{R_1 : Type u}{R_2 : Type v}</code>. But if you don't put the line at all and just write <code>{R_1 : Type}{R_2 : Type}</code> it works fine.</p>



<a name="190614575"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190614575" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190614575">(Mar 14 2020 at 21:09)</a>:</h4>
<p><code>rcases ob.certificat with ⟨xob, yob, n⟩,</code> is how to get everything directly.</p>



<a name="190614628"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190614628" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190614628">(Mar 14 2020 at 21:10)</a>:</h4>
<p>you're a magician <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span>  !!! </p>
<p>Ps : i will try to contruct some action of Gm on Uni_2 :-D</p>



<a name="190614835"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190614835" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190614835">(Mar 14 2020 at 21:16)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span>  : okay for universes,  an other question  : what is the difference betwen $a \in R$ and a : R ?</p>



<a name="190614901"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190614901" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190614901">(Mar 14 2020 at 21:19)</a>:</h4>
<p>Nothing really.</p>



<a name="190614915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190614915" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190614915">(Mar 14 2020 at 21:19)</a>:</h4>
<p>In set theory we say that a ring is a set R plus addition, multiplication, axioms. In type theory they say a ring is a type R plus addition, multiplication, axioms.</p>



<a name="190614958"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190614958" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190614958">(Mar 14 2020 at 21:20)</a>:</h4>
<p>One difference is that in set theory, the elements of R are also sets, even though we have to remember never to ask about their elements because the elements are irrelevant. In type theory, the terms of type R are just terms, they are not types, and in particular we can't ask for their elements. If <code>r : R</code> then <code>a : r</code> doesn't make sense.</p>



<a name="190614969"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190614969" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190614969">(Mar 14 2020 at 21:21)</a>:</h4>
<p>This the good part of type theory -- we think of R as a set and then we just forget that its elements are also sets, we treat them as "atoms". In type theory they really are atoms, so it is closer to how we think about things.</p>



<a name="190615019"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190615019" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190615019">(Mar 14 2020 at 21:23)</a>:</h4>
<p>The bad part of type theory is that every term has exactly one type, so this means that the natural number 3, the integer 3, the real number 3 etc are all different 3's. The function <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">N</mi><mo>→</mo><mi mathvariant="double-struck">Z</mi></mrow><annotation encoding="application/x-tex">\mathbb{N}\to\mathbb{Z}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">N</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">Z</span></span></span></span></span> is not the inclusion, it's the "coercion", and these functions are a bit annoying at first because mathematicians don't ever explicitly think about them and it takes a while to learn how to deal with them.</p>



<a name="190615028"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190615028" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190615028">(Mar 14 2020 at 21:24)</a>:</h4>
<p>Ok, if a and b satisfy a b : R , you can form new type (a = b), in my example * Idem ,  'Idem'  is an example  of this type !</p>



<a name="190615285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190615285" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190615285">(Mar 14 2020 at 21:31)</a>:</h4>
<p>Oh yeah that's the other use of types. There are two universes of types: <code>Type</code> and <code>Prop</code>. The terms of type <code>Type</code> are what mathematicians think of as sets -- e.g. the reals, the p-adic numbers, a group, a manifold, whatever. The terms of type <code>Prop</code> are true-false statements e.g. the Riemann Hypothesis, the statement <code>2+2=4</code> or the statement <code>2+2=5</code>. If <code>R : Type</code> then <code>x : R</code> is what we call an element of R. If <code>P : Prop</code> then <code>h : P</code> is what we call a proof of P. So type theory can be used to unify these two ideas of sets and functions, and of true/false statements and implications. <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mi>Q</mi></mrow><annotation encoding="application/x-tex">P\implies Q</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.70733em;vertical-align:-0.024em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">Q</span></span></span></span> is written <code>P → Q</code> in Lean and is thought of as a function from proofs of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span></span></span></span> to proofs of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi></mrow><annotation encoding="application/x-tex">Q</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">Q</span></span></span></span>, which is exactly what <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mi>Q</mi></mrow><annotation encoding="application/x-tex">P\implies Q</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.70733em;vertical-align:-0.024em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">Q</span></span></span></span> gives you.</p>



<a name="190615341"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190615341" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190615341">(Mar 14 2020 at 21:33)</a>:</h4>
<p>It's a crazy way to think about mathematics but now this is the way I think about it, and it is no different to the usual way really, it's just a different point of view.</p>



<a name="190615396"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190615396" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190615396">(Mar 14 2020 at 21:34)</a>:</h4>
<p>A proof of <code>∀ n, 2 * n = n + n</code> is a function which takes as input a number <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span>, and then as output gives a proof of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mi>n</mi><mo>=</mo><mi>n</mi><mo>+</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">2n=n+n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span>.</p>



<a name="190615404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190615404" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190615404">(Mar 14 2020 at 21:34)</a>:</h4>
<p>Everything is a function in this world.</p>



<a name="190615699"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190615699" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190615699">(Mar 14 2020 at 21:44)</a>:</h4>
<p>1/ it's really an interesting point of view. In fact (i learn this in a video), a=b is the type of proof  that a b, but if you have two proofs: p q: [a= b], you can form a new type [p=q] ect !   I have to think more about this  but I have met several times examples where it is important to pay attention to the proof of equality (to the different proof)! (i use google traductor my english is bad!)</p>
<p>2/ the work you did on lean and mathlib is really execptional! Congratulations! It's a great project, I hope to understand a little more !</p>



<a name="190615851"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190615851" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190615851">(Mar 14 2020 at 21:49)</a>:</h4>
<p>I did nothing on Lean and essentially nothing on mathlib. I absolutely agree it's exceptional. </p>
<p>That stuff about different proofs of <code>a = b</code> is <em>not true in Lean</em>. It is true in some other systems. In Lean there is at most one proof of <code>a = b</code>. This is a very big subject, but as a mathematician I find the whole thing ridiculous.</p>



<a name="190615904"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190615904" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190615904">(Mar 14 2020 at 21:50)</a>:</h4>
<p>I use Lean because it seems that this design decision makes a system which is much better for the kind of mathematics which I do.</p>



<a name="190615912"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190615912" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190615912">(Mar 14 2020 at 21:51)</a>:</h4>
<p>What is your background?</p>



<a name="190615916"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190615916" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190615916">(Mar 14 2020 at 21:51)</a>:</h4>
<p>I'm an algebraic number theorist in London.</p>



<a name="190616123"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190616123" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190616123">(Mar 14 2020 at 21:57)</a>:</h4>
<p>Orlando, you can also have a look at <a href="https://leanprover-community.github.io/lean-perfectoid-spaces/type_theory.html" target="_blank" title="https://leanprover-community.github.io/lean-perfectoid-spaces/type_theory.html">https://leanprover-community.github.io/lean-perfectoid-spaces/type_theory.html</a> about foundations</p>



<a name="190616163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190616163" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190616163">(Mar 14 2020 at 21:58)</a>:</h4>
<p>I'm not an 'academic mathematician', I just wrote a thesis in the inverse  Galois problem' in 2011. Now I study mathematics for my pleasure, I do not have a great theoretical background! But I know a bit of number theory and algebraic geometry (but really little, it's complicated).</p>



<a name="190616220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190616220" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190616220">(Mar 14 2020 at 22:00)</a>:</h4>
<p>thx <span class="user-mention" data-user-id="110031">@Patrick Massot</span></p>



<a name="190620161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190620161" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190620161">(Mar 14 2020 at 23:33)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span>  : I little arithmetic joke, i have no proof …  key : Artin conductor, Serre-Deligne  … too complicated for me   <span aria-label="yum" class="emoji emoji-1f60b" role="img" title="yum">:yum:</span></p>
<p>Let <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>=</mo><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="true" scriptlevel="0"><mfrac><mrow><msubsup><mi>E</mi><mn>6</mn><mn>5</mn></msubsup><mo>+</mo><mn>7</mn><msubsup><mi>E</mi><mn>4</mn><mn>3</mn></msubsup><msubsup><mi>E</mi><mn>6</mn><mn>3</mn></msubsup><mo>−</mo><mn>8</mn><msub><mi>E</mi><mn>6</mn></msub><msubsup><mi>E</mi><mn>4</mn><mn>6</mn></msubsup></mrow><mn>15552</mn></mfrac></mstyle></mstyle></mstyle></menclose></mrow><annotation encoding="application/x-tex">f = \boxed{ \frac{E_6^5 +7 E_4^3 E_6^3-8 E_6E_4^6}{15552}}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.857108em;vertical-align:-1.0259999999999998em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8311080000000004em;"><span style="top:-4.857108em;"><span class="pstrut" style="height:4.857108em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4911079999999999em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">5</span><span class="mord">5</span><span class="mord">5</span><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.4518920000000004em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">7</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.4518920000000004em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.4518920000000004em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">8</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.4518920000000004em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span><span style="top:-3.8311080000000004em;"><span class="pstrut" style="height:4.857108em;"></span><span class="stretchy fbox" style="height:2.857108em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.0259999999999998em;"><span></span></span></span></span></span></span></span></span> where <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>E</mi><mn>6</mn></msub></mrow><annotation encoding="application/x-tex">E_6</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>E</mi><mn>4</mn></msub></mrow><annotation encoding="application/x-tex">E_4</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> are Eisenstein series :</p>
<div class="codehilite"><pre><span></span><span class="n">sage</span><span class="p">:</span> <span class="n">E4</span>
<span class="mi">1</span> <span class="o">+</span> <span class="mi">240</span><span class="o">*</span><span class="n">q</span> <span class="o">+</span> <span class="mi">2160</span><span class="o">*</span><span class="n">q</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">6720</span><span class="o">*</span><span class="n">q</span><span class="o">^</span><span class="mi">3</span><span class="o">+...</span>
</pre></div>


<p>I give you <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span></span></span></span> :</p>
<div class="codehilite"><pre><span></span><span class="n">q</span> <span class="o">-</span> <span class="mi">99180</span><span class="o">*</span><span class="n">q</span><span class="o">^</span><span class="mi">3</span> <span class="o">-</span> <span class="mi">82300928</span><span class="o">*</span><span class="n">q</span><span class="o">^</span><span class="mi">4</span> <span class="o">-</span> <span class="mi">9240014250</span><span class="o">*</span><span class="n">q</span><span class="o">^</span><span class="mi">5</span> <span class="o">-</span> <span class="mi">250922631168</span><span class="o">*</span><span class="n">q</span><span class="o">^</span><span class="mi">6</span> <span class="o">-</span> <span class="mi">1803292256920</span><span class="o">*</span><span class="n">q</span><span class="o">^</span><span class="mi">7</span> <span class="o">+</span> <span class="mi">3927484661760</span><span class="o">*</span><span class="n">q</span><span class="o">^</span><span class="mi">8</span> <span class="o">+</span> <span class="mi">69888751712253</span><span class="o">*</span><span class="n">q</span><span class="o">^</span><span class="mi">9</span> <span class="o">+</span> <span class="mi">52730118144000</span><span class="o">*</span><span class="n">q</span><span class="o">^</span><span class="mi">10</span> <span class="o">-</span> <span class="mi">1073448094642308</span><span class="o">*</span><span class="n">q</span><span class="o">^</span><span class="mi">11</span> <span class="o">-</span> <span class="mi">2159808927252480</span><span class="o">*</span><span class="n">q</span><span class="o">^</span><span class="mi">12</span> <span class="o">+</span> <span class="mi">8077328528018750</span><span class="o">*</span><span class="n">q</span><span class="o">^</span><span class="mi">13</span> <span class="o">+</span> <span class="mi">30845089913831424</span><span class="o">*</span><span class="n">q</span><span class="o">^</span><span class="mi">14</span> <span class="o">-</span> <span class="mi">28190600602173000</span><span class="o">*</span><span class="n">q</span><span class="o">^</span><span class="mi">15</span> <span class="o">-</span> <span class="mi">203338491650637824</span><span class="o">*</span><span class="n">q</span><span class="o">^</span><span class="mi">16</span> <span class="o">-</span> <span class="mi">249926961314852910</span><span class="o">*</span><span class="n">q</span><span class="o">^</span><span class="mi">17</span>
</pre></div>


<p>Denote by <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">a_n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> the coefficient of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span></span></span></span> and  let <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo>=</mo><msup><mi>x</mi><mn>3</mn></msup><mo>−</mo><mn>3</mn><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><mn>11</mn><mi>x</mi><mo>−</mo><mn>17</mn><mo>∈</mo><mi mathvariant="double-struck">Z</mi><mo stretchy="false">[</mo><mi>x</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">P = x^3 - 3x^2 + 11x - 17 \in \mathbb{\Z}[x]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord">3</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mord">1</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68354em;vertical-align:-0.0391em;"></span><span class="mord">1</span><span class="mord">7</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">Z</span></span></span><span class="mopen">[</span><span class="mord mathdefault">x</span><span class="mclose">]</span></span></span></span>. </p>
<p>We have : forall prime <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span></span></span></span> :  <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="true" scriptlevel="0"><mrow><msub><mi>a</mi><mi>p</mi></msub><mo>=</mo><msub><mi>N</mi><mi>p</mi></msub><mo>−</mo><mn>1</mn><mspace></mspace><mspace width="1em"></mspace><mo stretchy="false">(</mo><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mspace width="0.3333333333333333em"></mspace><mn>59</mn><mo stretchy="false">)</mo></mrow></mstyle></mstyle></mstyle></menclose></mrow><annotation encoding="application/x-tex"> \boxed{ a_p = N_p-1 \pmod{59} }</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.716108em;vertical-align:-0.6261079999999999em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.09em;"><span style="top:-3.716108em;"><span class="pstrut" style="height:3.716108em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:1em;"></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.3333333333333333em;"></span><span class="mord">5</span><span class="mord">9</span><span class="mclose">)</span></span></span></span></span><span style="top:-3.0900000000000003em;"><span class="pstrut" style="height:3.716108em;"></span><span class="stretchy fbox" style="height:1.716108em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6261079999999999em;"><span></span></span></span></span></span></span></span></span> where <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>N</mi><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">N_p</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> is the Numbers of roots of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span></span></span></span> in <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="double-struck">F</mi><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">\mathbb{F}_p</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.974998em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">F</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> ! </p>
<p>Exemple :  we have <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>17</mn></msub><mo>=</mo><mo>−</mo><mn>249926961314852910</mn><mo>=</mo><mn>2</mn><mspace></mspace><mspace width="0.4444444444444444em"></mspace><mo stretchy="false">(</mo><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mspace width="0.3333333333333333em"></mspace><mn>59</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">a_{17} =  - 249926961314852910 = 2 \pmod{59}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">7</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord">2</span><span class="mord">4</span><span class="mord">9</span><span class="mord">9</span><span class="mord">2</span><span class="mord">6</span><span class="mord">9</span><span class="mord">6</span><span class="mord">1</span><span class="mord">3</span><span class="mord">1</span><span class="mord">4</span><span class="mord">8</span><span class="mord">5</span><span class="mord">2</span><span class="mord">9</span><span class="mord">1</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.4444444444444444em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.3333333333333333em;"></span><span class="mord">5</span><span class="mord">9</span><span class="mclose">)</span></span></span></span>  so three root for <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mspace></mspace><mspace width="0.4444444444444444em"></mspace><mo stretchy="false">(</mo><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mspace width="0.3333333333333333em"></mspace><mn>17</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P \pmod{17}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.4444444444444444em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.3333333333333333em;"></span><span class="mord">1</span><span class="mord">7</span><span class="mclose">)</span></span></span></span> ! </p>
<div class="codehilite"><pre><span></span><span class="n">sage</span><span class="p">:</span> <span class="n">g</span>
<span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">-</span> <span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">11</span><span class="o">*</span><span class="n">x</span> <span class="o">-</span> <span class="mi">17</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">p</span>
<span class="mi">17</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">g</span><span class="o">.</span><span class="n">factor_mod</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="n">x</span> <span class="o">*</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">5</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">9</span><span class="p">)</span>
</pre></div>


<p>Good night !</p>



<a name="190636196"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190636196" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190636196">(Mar 15 2020 at 08:07)</a>:</h4>
<p>What you say isn't true for p=2 (the discriminant of the polynomial is a multiple of 2, even though the discriminant of the field it generates is not) and it may or may not be true for p=59 (one would have to do an explicit check). For all other primes <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span></span></span></span> one can argue as follows: the space of level 1 weight 30 cusp forms is 2-dimensional and <a href="https://www.lmfdb.org/ModularForm/GL2/Q/holomorphic/1/30/a/a/" target="_blank" title="https://www.lmfdb.org/ModularForm/GL2/Q/holomorphic/1/30/a/a/">the basis of eigenforms</a> is a pair of Galois conjugate forms defined over <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">Q</mi><mo stretchy="false">(</mo><msqrt><mn>51349</mn></msqrt><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathbb{Q}(\sqrt{51349})</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.1572200000000001em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathbb">Q</span></span><span class="mopen">(</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.90722em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">5</span><span class="mord">1</span><span class="mord">3</span><span class="mord">4</span><span class="mord">9</span></span></span><span style="top:-2.86722em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg height="1.08em" preserveAspectRatio="xMinYMin slice" viewBox="0 0 400000 1080" width="400em"><path d="M95,702 c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14 c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54 c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10 s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429 c69,-144,104.5,-217.7,106.5,-221 l0 -0 c5.3,-9.3,12,-14,20,-14 H400000v40H845.2724 s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7 c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z M834 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.13278em;"><span></span></span></span></span></span><span class="mclose">)</span></span></span></span>. One checks that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>59</mn></mrow><annotation encoding="application/x-tex">59</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span><span class="mord">9</span></span></span></span> splits in this field (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><msup><mn>4</mn><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">14^2</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">4</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span> is congruent to <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>51349</mn></mrow><annotation encoding="application/x-tex">51349</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span><span class="mord">1</span><span class="mord">3</span><span class="mord">4</span><span class="mord">9</span></span></span></span> mod <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>59</mn></mrow><annotation encoding="application/x-tex">59</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span><span class="mord">9</span></span></span></span>), so there are two mod 59 Galois representations attached to this form. With notation as in the LMFDB link, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>β</mi></mrow><annotation encoding="application/x-tex">\beta</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05278em;">β</span></span></span></span> is <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>96</mn><msqrt><mn>51349</mn></msqrt></mrow><annotation encoding="application/x-tex">96\sqrt{51349}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.13278em;"></span><span class="mord">9</span><span class="mord">6</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.90722em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">5</span><span class="mord">1</span><span class="mord">3</span><span class="mord">4</span><span class="mord">9</span></span></span><span style="top:-2.86722em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg height="1.08em" preserveAspectRatio="xMinYMin slice" viewBox="0 0 400000 1080" width="400em"><path d="M95,702 c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14 c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54 c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10 s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429 c69,-144,104.5,-217.7,106.5,-221 l0 -0 c5.3,-9.3,12,-14,20,-14 H400000v40H845.2724 s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7 c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z M834 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.13278em;"><span></span></span></span></span></span></span></span></span> is congruent to <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>±</mo><mn>46</mn></mrow><annotation encoding="application/x-tex">\pm46</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">±</span><span class="mord">4</span><span class="mord">6</span></span></span></span> and setting <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>β</mi><mo>=</mo><mo>−</mo><mn>46</mn></mrow><annotation encoding="application/x-tex">\beta=-46</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05278em;">β</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord">4</span><span class="mord">6</span></span></span></span> mod 59 shows that one 59 specialisation of the eigenform is precisely mod 59 reduction of the form you write down (the coefficients agree for <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>q</mi><mi>i</mi></msup></mrow><annotation encoding="application/x-tex">q^i</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.019104em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span></span></span></span></span></span></span></span>  for <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>≤</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">i\leq2</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.79549em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> and this is enough). The splitting field of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span></span></span></span> is unramified outside of 59 and has Galois group <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">S_3</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>, and your claim (for <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>≠</mo><mn>2</mn><mo separator="true">,</mo><mn>59</mn></mrow><annotation encoding="application/x-tex">p\not=2,59</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span></span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">5</span><span class="mord">9</span></span></span></span>) follows from the claim that the mod 59 Galois representation attached to the eigenform (corresponding to the <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="fraktur">p</mi></mrow><annotation encoding="application/x-tex">\mathfrak{p}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.71302em;vertical-align:-0.18906em;"></span><span class="mord"><span class="mord mathfrak">p</span></span></span></span></span>-adic place above <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">Q</mi><mo stretchy="false">(</mo><msqrt><mn>51349</mn></msqrt><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathbb{Q}(\sqrt{51349})</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.1572200000000001em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathbb">Q</span></span><span class="mopen">(</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.90722em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">5</span><span class="mord">1</span><span class="mord">3</span><span class="mord">4</span><span class="mord">9</span></span></span><span style="top:-2.86722em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg height="1.08em" preserveAspectRatio="xMinYMin slice" viewBox="0 0 400000 1080" width="400em"><path d="M95,702 c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14 c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54 c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10 s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429 c69,-144,104.5,-217.7,106.5,-221 l0 -0 c5.3,-9.3,12,-14,20,-14 H400000v40H845.2724 s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7 c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z M834 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.13278em;"><span></span></span></span></span></span><span class="mclose">)</span></span></span></span> where <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>β</mi><mo>≡</mo><mo>−</mo><mn>46</mn></mrow><annotation encoding="application/x-tex">\beta\equiv-46</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05278em;">β</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≡</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord">4</span><span class="mord">6</span></span></span></span>) has image precisely <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">S_3</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>. Note that the <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo>−</mo><mn>1</mn><mo>=</mo><mn>29</mn></mrow><annotation encoding="application/x-tex">k-1=29</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">9</span></span></span></span>'th power of the mod 59 cyclotomic character is the quadratic character corresponding to the quadratic subfield of the splitting field of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span></span></span></span> so all the numerics check out. The <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">S_3</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> representation is modular, coming from a weight 1 cusp form, and some standard level and weight optimisation shows that there is a mod 59 representation of level 1 and weight 30 corresponding to the representation; it suffices to prove that this is our mod 59 eigenform, but it must be one of the two eigenforms so again you can check which one it is by writing down the power series to enough terms, and indeed you already did that. So done :-)</p>



<a name="190642441"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190642441" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190642441">(Mar 15 2020 at 11:19)</a>:</h4>
<p>Ok, thx Kevin , for the prime <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> (my bad), This is really  crazy arithmetic <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span>  Yes i write down the series and do computation and also the trick <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>30</mn><mo>−</mo><mn>1</mn><mo>=</mo><mfrac><mrow><mn>59</mn><mo>−</mo><mn>1</mn></mrow><mn>2</mn></mfrac></mrow><annotation encoding="application/x-tex">30 -1= \frac{59-1}{2}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">3</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">5</span><span class="mord mtight">9</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> <span aria-label="innocent" class="emoji emoji-1f607" role="img" title="innocent">:innocent:</span>   But this is really deep mathematics !!!  My example is just a baby-instance and i can't go further !</p>



<a name="190664946"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190664946" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190664946">(Mar 15 2020 at 20:15)</a>:</h4>
<p>Hello, </p>
<p>i have 2 little question : </p>
<ol>
<li>
<p>it's possible to create a functor from Ring to Ring ! that send  <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span></span></span></span> to <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">R[X]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mclose">]</span></span></span></span> ?  </p>
</li>
<li>
<p>Is there a structure of commutative ring for <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex"> R[X] </annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mclose">]</span></span></span></span> (in lean)  Where $R$ is a commutative Ring ? </p>
</li>
</ol>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">ring</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">polynomial</span>
<span class="kn">import</span> <span class="n">algebra</span><span class="bp">.</span><span class="n">category</span><span class="bp">.</span><span class="n">CommRing</span><span class="bp">.</span><span class="n">basic</span>

<span class="kn">open</span> <span class="n">category_theory</span>
<span class="kn">open</span> <span class="n">functor</span>
<span class="kn">open</span> <span class="n">CommRing</span>
<span class="kn">open</span> <span class="n">polynomial</span>
<span class="n">universes</span>  <span class="n">v</span> <span class="n">u</span>
<span class="n">local</span> <span class="kn">notation</span> <span class="bp">`</span><span class="n">Ring</span><span class="bp">`</span> <span class="o">:=</span> <span class="n">CommRing</span><span class="bp">.</span><span class="o">{</span><span class="n">u</span><span class="o">}</span>
<span class="n">local</span> <span class="kn">notation</span> <span class="bp">`</span><span class="n">Set</span><span class="bp">`</span> <span class="o">:=</span>  <span class="kt">Type</span> <span class="n">u</span>               <span class="bp">-</span>


<span class="n">def</span> <span class="n">poly</span> <span class="o">:</span>  <span class="n">Ring</span>  <span class="err">⥤</span>  <span class="n">Set</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">obj</span> <span class="o">:=</span>   <span class="bp">λ</span> <span class="n">α</span> <span class="o">:</span> <span class="n">Ring</span><span class="o">,</span> <span class="n">polynomial</span> <span class="n">α</span><span class="o">,</span>
  <span class="n">map</span> <span class="o">:=</span> <span class="bp">λ</span><span class="o">(</span> <span class="n">α</span> <span class="n">β</span> <span class="o">:</span> <span class="n">Ring</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="err">⟶</span> <span class="n">β</span><span class="o">),</span>   <span class="n">polynomial</span><span class="bp">.</span><span class="n">map</span> <span class="n">f</span><span class="o">,</span>
<span class="o">}</span>

<span class="o">(</span><span class="n">deterministic</span><span class="o">)</span> <span class="n">timeout</span>
</pre></div>



<a name="190665976"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190665976" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190665976">(Mar 15 2020 at 20:40)</a>:</h4>
<p>Lean does a lot of stuff without using the category theory language. The construction is called <code>polynomial</code>:</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">polynomial</span>

<span class="n">noncomputable</span> <span class="kn">example</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">:</span>
  <span class="n">comm_ring</span> <span class="o">(</span><span class="n">polynomial</span> <span class="n">R</span><span class="o">)</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">apply_instance</span>
</pre></div>


<p>The import gives you a function <code>polynomial</code> which eats a type and returns a new type. The example shows that if the type it eats is known by the typeclass system to have a ring structure, then the output type also gets a ring structure.</p>



<a name="190712990"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190712990" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190712990">(Mar 16 2020 at 12:10)</a>:</h4>
<p>Thx Kevin, </p>
<p>i have to stop a couple a day, i will go back next week, have fun and thx again for all !</p>



<a name="190860868"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190860868" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190860868">(Mar 17 2020 at 15:07)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span>  <br>
I can't move cause @corona bidule !!!</p>
<p>So I try to explain my goal in the middle of the file ! (Hard computation for the moment, but i want to simplify all) ! </p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">ring</span>
<span class="kn">import</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">ring_exp</span>
<span class="kn">import</span> <span class="n">algebra</span><span class="bp">.</span><span class="n">category</span><span class="bp">.</span><span class="n">CommRing</span><span class="bp">.</span><span class="n">basic</span>

<span class="kn">open</span> <span class="n">CommRing</span>

<span class="n">universes</span> <span class="n">v</span> <span class="n">u</span>
<span class="n">local</span> <span class="kn">notation</span> <span class="bp">`</span> <span class="n">Ring</span> <span class="bp">`</span>     <span class="o">:=</span>    <span class="n">CommRing</span><span class="bp">.</span><span class="o">{</span><span class="n">u</span><span class="o">}</span>
<span class="n">local</span> <span class="kn">notation</span> <span class="bp">`</span> <span class="n">Set</span>  <span class="bp">`</span>     <span class="o">:=</span>    <span class="kt">Type</span> <span class="n">u</span>

<span class="c1">---          study of co-maximal familly ! I do the job why two elements for the moment  !</span>
<span class="kn">namespace</span> <span class="n">co_maxi</span>
<span class="kn">variables</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">comm_ring</span><span class="bp">.</span><span class="o">{</span><span class="n">u</span><span class="o">}</span> <span class="n">R</span> <span class="o">]</span>

<span class="n">def</span> <span class="n">co_max</span>  <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span>   <span class="o">:=</span>
             <span class="bp">∃</span> <span class="n">u</span> <span class="n">v</span> <span class="o">:</span>  <span class="n">R</span><span class="o">,</span>    <span class="n">a</span> <span class="bp">*</span> <span class="n">u</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">v</span> <span class="bp">=</span> <span class="mi">1</span>

<span class="n">local</span> <span class="kn">infix</span>     <span class="err">⊥</span>  <span class="o">:=</span>  <span class="n">co_max</span> <span class="n">R</span>   <span class="c1">--- notation</span>

<span class="kn">lemma</span> <span class="n">one_perp</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span>    <span class="o">:</span>  <span class="mi">1</span> <span class="err">⊥</span> <span class="n">a</span> <span class="o">:=</span>   <span class="c1">--- with 1 * 1 + a * 0 = 1</span>
<span class="k">begin</span>
    <span class="k">have</span> <span class="n">h</span><span class="o">:</span> <span class="mi">1</span> <span class="bp">*</span> <span class="mi">1</span> <span class="bp">+</span> <span class="n">a</span> <span class="bp">*</span> <span class="mi">0</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">,</span>
        <span class="n">rw</span> <span class="o">[</span><span class="n">one_mul</span><span class="o">,</span><span class="n">mul_zero</span><span class="o">,</span><span class="n">add_zero</span><span class="o">],</span>
    <span class="n">use</span> <span class="bp">⟨</span><span class="mi">1</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="n">h</span><span class="bp">⟩</span>
<span class="kn">end</span>

<span class="kn">lemma</span> <span class="n">symm</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span> <span class="err">⊥</span> <span class="n">b</span><span class="o">)</span> <span class="bp">→</span>  <span class="o">(</span><span class="n">b</span> <span class="err">⊥</span> <span class="n">a</span><span class="o">)</span>  <span class="o">:=</span>   <span class="c1">--- a u + b v = 1 → b v + a u = 1</span>
    <span class="bp">λ</span> <span class="bp">⟨</span><span class="n">u</span><span class="o">,</span><span class="n">v</span><span class="o">,</span><span class="n">k</span><span class="bp">⟩</span><span class="o">,</span>
        <span class="k">begin</span>
            <span class="k">have</span>  <span class="n">t</span> <span class="o">:</span>  <span class="n">b</span> <span class="bp">*</span> <span class="n">v</span> <span class="bp">+</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">u</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">,</span>
                <span class="n">rw</span> <span class="n">add_comm</span><span class="o">,</span>  <span class="n">assumption</span><span class="o">,</span>
            <span class="n">use</span> <span class="bp">⟨</span><span class="n">v</span><span class="o">,</span><span class="n">u</span><span class="o">,</span><span class="n">t</span><span class="bp">⟩</span><span class="o">,</span>
        <span class="kn">end</span>

<span class="kn">lemma</span> <span class="n">abab_trick</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span> <span class="err">⊥</span> <span class="n">c</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="n">b</span> <span class="err">⊥</span> <span class="n">c</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span> <span class="err">⊥</span> <span class="n">c</span> <span class="o">:=</span>    <span class="c1">---  Trick to simplify proof !  if a ⊥ c and b ⊥ c then ab ⊥ c  from calculus !</span>
    <span class="bp">λ</span> <span class="bp">⟨</span><span class="n">ua</span><span class="o">,</span><span class="n">va</span><span class="o">,</span><span class="n">ka</span><span class="bp">⟩</span>  <span class="bp">⟨</span><span class="n">ub</span><span class="o">,</span><span class="n">vb</span><span class="o">,</span><span class="n">kb</span><span class="bp">⟩</span><span class="o">,</span>
        <span class="k">begin</span>
            <span class="k">have</span> <span class="n">J</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span> <span class="n">ua</span> <span class="bp">*</span> <span class="n">ub</span><span class="o">)</span> <span class="bp">+</span> <span class="n">c</span> <span class="bp">*</span> <span class="o">(</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">ua</span> <span class="bp">*</span> <span class="n">vb</span> <span class="bp">+</span> <span class="n">va</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">ub</span> <span class="bp">+</span> <span class="n">va</span> <span class="bp">*</span> <span class="n">c</span> <span class="bp">*</span> <span class="n">vb</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">,</span>
                 <span class="k">by</span> <span class="k">calc</span>
                    <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span> <span class="n">ua</span> <span class="bp">*</span> <span class="n">ub</span><span class="o">)</span> <span class="bp">+</span> <span class="n">c</span> <span class="bp">*</span> <span class="o">(</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">ua</span> <span class="bp">*</span> <span class="n">vb</span> <span class="bp">+</span> <span class="n">va</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">ub</span> <span class="bp">+</span> <span class="n">va</span> <span class="bp">*</span> <span class="n">c</span> <span class="bp">*</span> <span class="n">vb</span><span class="o">)</span>  <span class="bp">=</span>  <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">ua</span> <span class="bp">+</span> <span class="n">c</span> <span class="bp">*</span> <span class="n">va</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">b</span> <span class="bp">*</span> <span class="n">ub</span> <span class="bp">+</span> <span class="n">c</span> <span class="bp">*</span> <span class="n">vb</span><span class="o">)</span> <span class="o">:</span> <span class="k">by</span> <span class="n">ring_exp</span>
                    <span class="bp">...</span>                                                                    <span class="bp">=</span>   <span class="mi">1</span>                                    <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">ka</span><span class="o">,</span><span class="n">kb</span><span class="o">,</span> <span class="n">one_mul</span><span class="o">],</span>
        <span class="n">use</span> <span class="bp">⟨</span> <span class="n">ua</span> <span class="bp">*</span> <span class="n">ub</span><span class="o">,</span>  <span class="n">a</span> <span class="bp">*</span> <span class="n">ua</span> <span class="bp">*</span> <span class="n">vb</span> <span class="bp">+</span> <span class="n">va</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">ub</span> <span class="bp">+</span> <span class="n">va</span> <span class="bp">*</span> <span class="n">c</span> <span class="bp">*</span> <span class="n">vb</span> <span class="o">,</span> <span class="n">J</span><span class="bp">⟩</span><span class="o">,</span>
        <span class="kn">end</span>
<span class="c1">---- We do the big calculus, now is trivial induction !</span>
<span class="c1">---- for exemple a ⊥ c →  a^2 ⊥ c  using abab_trick a a c !  induction ...</span>
<span class="kn">open</span> <span class="n">nat</span>
<span class="kn">lemma</span> <span class="n">star</span> <span class="o">(</span><span class="n">a</span>  <span class="n">b</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">nat</span><span class="o">):</span>   <span class="o">(</span><span class="n">a</span> <span class="err">⊥</span> <span class="n">b</span><span class="o">)</span> <span class="bp">→</span> <span class="o">((</span><span class="n">a</span><span class="err">^</span><span class="n">n</span><span class="o">)</span> <span class="err">⊥</span> <span class="n">b</span><span class="o">)</span>  <span class="o">:=</span>
    <span class="bp">λ</span> <span class="n">u</span><span class="o">,</span>
        <span class="n">nat</span><span class="bp">.</span><span class="n">rec_on</span> <span class="n">n</span>
                <span class="o">(</span><span class="k">show</span>  <span class="o">(</span><span class="n">a</span><span class="err">^</span><span class="mi">0</span><span class="o">)</span> <span class="err">⊥</span> <span class="n">b</span><span class="o">,</span> <span class="o">{</span><span class="n">rw</span> <span class="n">pow_zero</span> <span class="n">a</span><span class="o">,</span> <span class="n">apply</span> <span class="n">one_perp</span><span class="o">,</span> <span class="o">})</span>
                <span class="o">(</span><span class="k">assume</span> <span class="n">n</span><span class="o">,</span> <span class="k">assume</span> <span class="n">re</span> <span class="o">:</span> <span class="o">((</span><span class="n">a</span><span class="err">^</span><span class="n">n</span><span class="o">)</span> <span class="err">⊥</span> <span class="n">b</span><span class="o">),</span> <span class="k">show</span> <span class="o">(</span><span class="n">a</span><span class="err">^</span><span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">))</span> <span class="err">⊥</span> <span class="n">b</span><span class="o">,</span>
                       <span class="o">{</span><span class="n">rw</span> <span class="n">pow_succ</span> <span class="n">a</span> <span class="n">n</span><span class="o">,</span><span class="n">apply</span> <span class="n">abab_trick</span><span class="o">,</span> <span class="n">assumption</span><span class="o">,</span><span class="n">assumption</span><span class="o">})</span>

<span class="kn">theorem</span> <span class="n">My_favorite_localisation_lemma</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="o">(</span><span class="n">n</span> <span class="n">m</span> <span class="o">:</span> <span class="n">nat</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span> <span class="err">⊥</span> <span class="n">b</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="n">a</span><span class="err">^</span><span class="n">n</span><span class="o">)</span> <span class="err">⊥</span> <span class="o">(</span><span class="n">b</span><span class="err">^</span><span class="n">m</span><span class="o">)</span> <span class="o">:=</span>                 <span class="c1">--- the goals</span>
    <span class="bp">λ</span> <span class="n">u</span><span class="o">,</span> <span class="k">begin</span>
        <span class="n">apply</span> <span class="n">star</span><span class="o">,</span>
        <span class="n">apply</span> <span class="n">symm</span><span class="o">,</span>    <span class="c1">-- is there a repeat method ? How to programme such method ?</span>
        <span class="n">apply</span> <span class="n">star</span><span class="o">,</span>
        <span class="n">apply</span> <span class="n">symm</span><span class="o">,</span>
        <span class="n">assumption</span><span class="o">,</span>
    <span class="kn">end</span>
<span class="c1">----</span>
<span class="c1">---     We want to proof 𝔸 is a local functor : a scheaf for global Zariski for Affᵒᵖ.</span>
<span class="c1">----   ( Note 𝔸 is structural for Ring so if you do the job for 𝔸 you do the job for all ring i.e Spec R := Hom(R,•) is a scheme (in sense of functorial geometry)</span>
<span class="c1">---    (ref Jantzen : &#39;algebraic group and representation&#39; the first chapter) for all ring R : i can explain) !</span>
<span class="c1">---                 for the moment only with 2-covering famillies</span>
<span class="c1">---     There is two axioms :</span>
<span class="c1">---             1/ Separation : (for two elements ONLY)</span>
<span class="c1">---                      let R : comm_ring</span>
<span class="c1">---                      Let f,g ∈ R :  f ⊥ g.</span>
<span class="c1">---                      Let a ∈ R :</span>
<span class="c1">---                             ∃ m n : ℕ,  f^m a = 0 ∧  g^n a = 0   --- i.e a = 0 in localisation  {f^k k ∈ N⋆} and   {g^k k ∈ N⋆}</span>
<span class="c1">---                      Since f ⊥ g , we have f^m ⊥ b^n</span>
<span class="c1">---                      Have (u,v) s.t   f^m u + g^n v = 1</span>
<span class="c1">---                      multipliying by a give f^m au  + g^n a v = a  so 0 = a !</span>
<span class="c1">---    Note : i don&#39;t use Localisation library for the moment (i have to study) !</span>
<span class="kn">theorem</span> <span class="n">Separation_axiom</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="n">g</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="n">f</span> <span class="err">⊥</span> <span class="n">g</span> <span class="bp">→</span> <span class="o">(</span> <span class="bp">∃</span> <span class="n">m</span> <span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span> <span class="n">f</span><span class="err">^</span><span class="n">m</span> <span class="bp">*</span> <span class="n">a</span> <span class="bp">=</span> <span class="mi">0</span> <span class="bp">∧</span> <span class="n">g</span><span class="err">^</span><span class="n">n</span> <span class="bp">*</span> <span class="n">a</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">)</span>   <span class="bp">→</span>   <span class="n">a</span> <span class="bp">=</span> <span class="mi">0</span>  <span class="o">:=</span>  <span class="bp">λ</span> <span class="n">certif</span>  <span class="bp">⟨</span><span class="n">m</span><span class="o">,</span><span class="n">n</span><span class="o">,</span><span class="k">proof</span><span class="bp">⟩</span><span class="o">,</span>
<span class="k">begin</span>
    <span class="k">have</span> <span class="n">H</span> <span class="o">:</span> <span class="o">(</span><span class="n">f</span><span class="err">^</span><span class="n">m</span><span class="o">)</span> <span class="err">⊥</span> <span class="o">(</span><span class="n">g</span><span class="err">^</span><span class="n">n</span><span class="o">),</span>
        <span class="n">apply</span> <span class="n">My_favorite_localisation_lemma</span><span class="o">,</span>
        <span class="n">assumption</span><span class="o">,</span>
    <span class="n">rcases</span> <span class="n">H</span> <span class="k">with</span> <span class="bp">⟨</span><span class="n">ua</span><span class="o">,</span><span class="n">va</span><span class="o">,</span><span class="n">ka</span><span class="bp">⟩</span><span class="o">,</span>
        <span class="n">apply</span> <span class="n">eq</span><span class="bp">.</span><span class="n">symm</span><span class="o">,</span>
        <span class="k">have</span> <span class="n">H</span> <span class="o">:</span>  <span class="mi">0</span>  <span class="bp">=</span> <span class="o">(</span><span class="n">f</span> <span class="err">^</span> <span class="n">m</span> <span class="bp">*</span> <span class="n">a</span><span class="bp">*</span> <span class="n">ua</span>  <span class="bp">+</span>  <span class="n">g</span> <span class="err">^</span> <span class="n">n</span> <span class="bp">*</span><span class="n">a</span> <span class="bp">*</span> <span class="n">va</span><span class="o">),</span>
            <span class="n">rw</span> <span class="o">[</span><span class="k">proof</span><span class="bp">.</span><span class="mi">1</span><span class="o">,</span><span class="k">proof</span><span class="bp">.</span><span class="mi">2</span><span class="o">],</span>
            <span class="n">apply</span> <span class="n">eq</span><span class="bp">.</span><span class="n">symm</span><span class="o">,</span>
            <span class="n">rw</span> <span class="o">[</span><span class="n">zero_mul</span><span class="o">,</span><span class="n">zero_mul</span><span class="o">,</span><span class="n">add_zero</span><span class="o">],</span>
        <span class="k">have</span> <span class="n">G</span> <span class="o">:</span> <span class="o">(</span><span class="n">f</span> <span class="err">^</span> <span class="n">m</span> <span class="bp">*</span> <span class="n">a</span><span class="bp">*</span> <span class="n">ua</span>  <span class="bp">+</span>  <span class="n">g</span> <span class="err">^</span> <span class="n">n</span> <span class="bp">*</span><span class="n">a</span> <span class="bp">*</span> <span class="n">va</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(</span><span class="n">f</span> <span class="err">^</span> <span class="n">m</span> <span class="bp">*</span> <span class="n">ua</span>  <span class="bp">+</span>  <span class="n">g</span> <span class="err">^</span> <span class="n">n</span>  <span class="bp">*</span> <span class="n">va</span><span class="o">)</span> <span class="bp">*</span> <span class="n">a</span><span class="o">,</span>
        <span class="n">ring</span><span class="o">,</span>
        <span class="n">rewrite</span> <span class="o">[</span><span class="n">H</span><span class="o">,</span><span class="n">G</span><span class="o">,</span><span class="n">ka</span><span class="o">,</span><span class="n">one_mul</span> <span class="n">a</span><span class="o">],</span>
<span class="kn">end</span>
<span class="c1">---   Gluing_axiome :</span>
<span class="c1">---</span>
<span class="kn">set_option</span> <span class="n">class</span><span class="bp">.</span><span class="n">instance_max_depth</span> <span class="mi">20</span>
<span class="kn">theorem</span> <span class="n">gluing_data</span> <span class="o">(</span><span class="n">f</span> <span class="n">g</span> <span class="o">:</span> <span class="n">R</span><span class="o">)(</span><span class="n">s_f</span> <span class="n">s_g</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span>
         <span class="n">f</span> <span class="err">⊥</span> <span class="n">g</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span> <span class="n">f</span><span class="err">^</span><span class="n">m</span> <span class="bp">*</span> <span class="n">g</span><span class="err">^</span><span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="n">m</span><span class="o">)</span> <span class="bp">*</span> <span class="n">s_f</span> <span class="bp">=</span> <span class="n">g</span><span class="err">^</span><span class="n">m</span> <span class="bp">*</span> <span class="n">f</span><span class="err">^</span><span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="n">m</span><span class="o">)</span> <span class="bp">*</span> <span class="n">s_g</span><span class="o">)</span> <span class="bp">→</span>  <span class="o">(</span><span class="bp">∃</span> <span class="n">s</span> <span class="o">:</span> <span class="n">R</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">N_f</span> <span class="n">N_g</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span> <span class="n">f</span><span class="err">^</span><span class="o">(</span><span class="n">N_f</span><span class="bp">+</span><span class="n">n</span><span class="o">)</span> <span class="bp">*</span> <span class="n">s</span> <span class="bp">=</span> <span class="n">f</span><span class="err">^</span><span class="n">N_f</span> <span class="bp">*</span> <span class="n">s_f</span> <span class="bp">∧</span>  <span class="n">g</span><span class="err">^</span><span class="o">(</span><span class="n">N_g</span><span class="bp">+</span><span class="n">n</span><span class="o">)</span> <span class="bp">*</span> <span class="n">s</span> <span class="bp">=</span> <span class="n">g</span><span class="err">^</span><span class="n">N_g</span> <span class="bp">*</span> <span class="n">s_g</span><span class="o">)</span> <span class="o">:=</span>
         <span class="bp">λ</span> <span class="n">certif</span> <span class="bp">⟨</span><span class="n">m</span><span class="o">,</span><span class="n">proof_m</span><span class="bp">⟩</span><span class="o">,</span> <span class="k">begin</span>
            <span class="k">have</span> <span class="n">H</span><span class="o">:</span> <span class="o">(</span><span class="n">f</span><span class="err">^</span><span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="n">m</span><span class="o">))</span> <span class="err">⊥</span> <span class="o">(</span><span class="n">g</span><span class="err">^</span><span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="n">m</span><span class="o">)),</span>
                <span class="n">apply</span> <span class="n">My_favorite_localisation_lemma</span><span class="o">,</span>
                <span class="n">assumption</span><span class="o">,</span>
            <span class="n">rcases</span> <span class="n">H</span> <span class="k">with</span> <span class="bp">⟨</span><span class="n">vf</span><span class="o">,</span><span class="n">vg</span><span class="o">,</span><span class="n">proof_n_plus_m_f_g</span><span class="bp">⟩</span><span class="o">,</span>
            <span class="n">existsi</span> <span class="o">[</span><span class="n">vf</span> <span class="bp">*</span><span class="n">s_f</span> <span class="bp">*</span> <span class="n">f</span><span class="err">^</span><span class="n">m</span><span class="bp">+</span> <span class="n">vg</span><span class="bp">*</span><span class="n">s_g</span><span class="bp">*</span><span class="n">g</span><span class="err">^</span><span class="n">m</span><span class="o">,</span><span class="n">m</span><span class="o">,</span><span class="n">m</span><span class="o">],</span>
                <span class="n">split</span><span class="o">,</span>
                    <span class="k">have</span> <span class="n">H</span> <span class="o">:</span> <span class="n">f</span> <span class="err">^</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">n</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">vf</span> <span class="bp">*</span> <span class="n">s_f</span> <span class="bp">*</span> <span class="n">f</span> <span class="err">^</span> <span class="n">m</span> <span class="bp">+</span> <span class="n">vg</span> <span class="bp">*</span> <span class="n">s_g</span> <span class="bp">*</span> <span class="n">g</span> <span class="err">^</span> <span class="n">m</span><span class="o">)</span> <span class="bp">=</span>   <span class="o">(</span> <span class="n">f</span> <span class="err">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">m</span><span class="o">)</span><span class="bp">*</span> <span class="n">vf</span> <span class="bp">*</span> <span class="n">s_f</span> <span class="bp">*</span> <span class="n">f</span> <span class="err">^</span> <span class="n">m</span> <span class="bp">+</span>  <span class="n">g</span> <span class="err">^</span> <span class="n">m</span> <span class="bp">*</span><span class="n">f</span> <span class="err">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">m</span><span class="o">)</span> <span class="bp">*</span><span class="n">s_g</span> <span class="bp">*</span> <span class="n">vg</span><span class="o">),</span>
                        <span class="n">ring_exp</span><span class="o">,</span>
                        <span class="n">rw</span> <span class="o">[</span><span class="n">H</span><span class="o">,</span><span class="n">eq</span><span class="bp">.</span><span class="n">symm</span> <span class="n">proof_m</span><span class="o">],</span>
                            <span class="k">have</span> <span class="n">B</span> <span class="o">:</span> <span class="n">f</span> <span class="err">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">m</span><span class="o">)</span> <span class="bp">*</span> <span class="n">vf</span> <span class="bp">*</span> <span class="n">s_f</span> <span class="bp">*</span> <span class="n">f</span> <span class="err">^</span> <span class="n">m</span> <span class="bp">+</span> <span class="n">f</span> <span class="err">^</span> <span class="n">m</span> <span class="bp">*</span> <span class="n">g</span> <span class="err">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">m</span><span class="o">)</span> <span class="bp">*</span> <span class="n">s_f</span> <span class="bp">*</span> <span class="n">vg</span> <span class="bp">=</span> <span class="n">f</span><span class="err">^</span><span class="n">m</span> <span class="bp">*</span><span class="n">s_f</span> <span class="bp">*</span><span class="o">(</span><span class="n">f</span> <span class="err">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">m</span><span class="o">)</span> <span class="bp">*</span> <span class="n">vf</span> <span class="bp">+</span> <span class="n">g</span> <span class="err">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">m</span><span class="o">)</span> <span class="bp">*</span> <span class="n">vg</span><span class="o">),</span>
                            <span class="n">ring</span><span class="o">,</span>
                            <span class="n">rw</span> <span class="o">[</span><span class="n">B</span><span class="o">,</span><span class="n">proof_n_plus_m_f_g</span><span class="o">,</span><span class="n">mul_one</span><span class="o">],</span>
                    <span class="k">have</span> <span class="n">H</span> <span class="o">:</span> <span class="n">g</span> <span class="err">^</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">n</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">vf</span> <span class="bp">*</span> <span class="n">s_f</span> <span class="bp">*</span> <span class="n">f</span> <span class="err">^</span> <span class="n">m</span> <span class="bp">+</span> <span class="n">vg</span> <span class="bp">*</span> <span class="n">s_g</span> <span class="bp">*</span> <span class="n">g</span> <span class="err">^</span> <span class="n">m</span><span class="o">)</span> <span class="bp">=</span>      <span class="n">f</span> <span class="err">^</span> <span class="n">m</span> <span class="bp">*</span><span class="n">g</span> <span class="err">^</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="n">m</span><span class="o">)</span> <span class="bp">*</span><span class="n">s_f</span> <span class="bp">*</span><span class="n">vf</span> <span class="bp">+</span> <span class="n">g</span> <span class="err">^</span> <span class="n">m</span><span class="bp">*</span> <span class="n">g</span> <span class="err">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">m</span><span class="o">)</span> <span class="bp">*</span> <span class="n">vg</span> <span class="bp">*</span> <span class="n">s_g</span><span class="o">,</span>
                        <span class="n">ring_exp</span><span class="o">,</span>
                    <span class="n">rw</span> <span class="o">[</span><span class="n">H</span><span class="o">,</span><span class="n">proof_m</span><span class="o">],</span>
                        <span class="k">have</span> <span class="n">B</span> <span class="o">:</span> <span class="n">g</span> <span class="err">^</span> <span class="n">m</span> <span class="bp">*</span> <span class="n">f</span> <span class="err">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">m</span><span class="o">)</span> <span class="bp">*</span> <span class="n">s_g</span> <span class="bp">*</span> <span class="n">vf</span> <span class="bp">+</span> <span class="n">g</span> <span class="err">^</span> <span class="n">m</span> <span class="bp">*</span> <span class="n">g</span> <span class="err">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">m</span><span class="o">)</span> <span class="bp">*</span> <span class="n">vg</span> <span class="bp">*</span> <span class="n">s_g</span> <span class="bp">=</span> <span class="n">g</span><span class="err">^</span><span class="n">m</span> <span class="bp">*</span> <span class="n">s_g</span> <span class="bp">*</span><span class="o">(</span><span class="n">f</span> <span class="err">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">m</span><span class="o">)</span> <span class="bp">*</span> <span class="n">vf</span> <span class="bp">+</span> <span class="n">g</span> <span class="err">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">m</span><span class="o">)</span> <span class="bp">*</span> <span class="n">vg</span> <span class="o">),</span>
                        <span class="n">ring</span><span class="o">,</span>
                        <span class="n">rw</span> <span class="o">[</span><span class="n">B</span><span class="o">,</span><span class="n">proof_n_plus_m_f_g</span><span class="o">,</span><span class="n">mul_one</span><span class="o">],</span>
<span class="kn">end</span>
</pre></div>



<a name="190876640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190876640" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190876640">(Mar 17 2020 at 16:42)</a>:</h4>
<div class="codehilite"><pre><span></span>        <span class="n">repeat</span> <span class="o">{</span><span class="n">apply</span> <span class="n">star</span><span class="o">,</span> <span class="n">apply</span> <span class="n">symm</span><span class="o">},</span>    <span class="c1">-- is there a repeat method ? How to programme such method ?</span>
        <span class="n">assumption</span><span class="o">,</span>
</pre></div>



<a name="190876988"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190876988" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190876988">(Mar 17 2020 at 16:44)</a>:</h4>
<p>and end with <code>end co_maxi</code> and you're done. I don't understand what your question is.</p>



<a name="190878761"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190878761" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190878761">(Mar 17 2020 at 16:56)</a>:</h4>
<p>Hello, </p>
<p>My question is, do you have an idea to simplify calculus, i have to do the same thing for a familly <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>f</mi><mn>1</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>f</mi><mi>n</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(f_1,\dots,f_n)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> of comaximal element of a ring. It's complicate  computation ! For the moment,  i have no idea how to do that ! Perhaps the library "localization " can help  !</p>



<a name="190880563"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190880563" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190880563">(Mar 17 2020 at 17:08)</a>:</h4>
<p>My MSc student Ramon Fernandez Mir did this <a href="https://github.com/ramonfmir/lean-scheme/blob/6d3ec18fecfd174b79d0ce5c85a783f326dd50f6/src/spectrum_of_a_ring/structure_sheaf.lean#L30" target="_blank" title="https://github.com/ramonfmir/lean-scheme/blob/6d3ec18fecfd174b79d0ce5c85a783f326dd50f6/src/spectrum_of_a_ring/structure_sheaf.lean#L30">here</a>.</p>



<a name="190880851"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190880851" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190880851">(Mar 17 2020 at 17:10)</a>:</h4>
<p>There is an interesting story behind it all, but nobody wrote the paper yet. <a href="https://www.imperial.ac.uk/media/imperial-college/faculty-of-engineering/computing/public/1819-ug-projects/Fernandez-I-MirR-Schemes-in-Lean.pdf" target="_blank" title="https://www.imperial.ac.uk/media/imperial-college/faculty-of-engineering/computing/public/1819-ug-projects/Fernandez-I-MirR-Schemes-in-Lean.pdf">Here</a> is Ramon's write-up.</p>



<a name="190888474"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190888474" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190888474">(Mar 17 2020 at 18:02)</a>:</h4>
<p>You can compress stuff a bit when it's trivial, for instance the beginning could be:</p>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">one_perp</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span>    <span class="o">:</span>  <span class="mi">1</span> <span class="err">⊥</span> <span class="n">a</span> <span class="o">:=</span>   <span class="c1">--- with 1 * 1 + a * 0 = 1</span>
<span class="bp">⟨</span><span class="mi">1</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span> <span class="k">by</span> <span class="n">ring</span><span class="bp">⟩</span>

<span class="kn">lemma</span> <span class="n">symm</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span> <span class="err">⊥</span> <span class="n">b</span><span class="o">)</span> <span class="bp">→</span>  <span class="o">(</span><span class="n">b</span> <span class="err">⊥</span> <span class="n">a</span><span class="o">)</span>  <span class="o">:=</span>   <span class="c1">--- a u + b v = 1 → b v + a u = 1</span>
<span class="bp">λ</span> <span class="bp">⟨</span><span class="n">u</span><span class="o">,</span><span class="n">v</span><span class="o">,</span><span class="n">k</span><span class="bp">⟩</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">v</span><span class="o">,</span><span class="n">u</span><span class="o">,</span> <span class="k">by</span> <span class="n">rwa</span> <span class="n">add_comm</span><span class="bp">⟩</span>

<span class="kn">lemma</span> <span class="n">abab_trick</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span> <span class="err">⊥</span> <span class="n">c</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="n">b</span> <span class="err">⊥</span> <span class="n">c</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span> <span class="err">⊥</span> <span class="n">c</span> <span class="o">:=</span>    <span class="c1">---  Trick to simplify proof !  if a ⊥ c and b ⊥ c then ab ⊥ c  from calculus !</span>
    <span class="bp">λ</span> <span class="bp">⟨</span><span class="n">ua</span><span class="o">,</span><span class="n">va</span><span class="o">,</span><span class="n">ka</span><span class="bp">⟩</span>  <span class="bp">⟨</span><span class="n">ub</span><span class="o">,</span><span class="n">vb</span><span class="o">,</span><span class="n">kb</span><span class="bp">⟩</span><span class="o">,</span>
        <span class="k">begin</span>
            <span class="k">have</span> <span class="n">J</span> <span class="o">:=</span> <span class="k">calc</span>
                    <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span> <span class="n">ua</span> <span class="bp">*</span> <span class="n">ub</span><span class="o">)</span> <span class="bp">+</span> <span class="n">c</span> <span class="bp">*</span> <span class="o">(</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">ua</span> <span class="bp">*</span> <span class="n">vb</span> <span class="bp">+</span> <span class="n">va</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">ub</span> <span class="bp">+</span> <span class="n">va</span> <span class="bp">*</span> <span class="n">c</span> <span class="bp">*</span> <span class="n">vb</span><span class="o">)</span>  <span class="bp">=</span>  <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">ua</span> <span class="bp">+</span> <span class="n">c</span> <span class="bp">*</span> <span class="n">va</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">b</span> <span class="bp">*</span> <span class="n">ub</span> <span class="bp">+</span> <span class="n">c</span> <span class="bp">*</span> <span class="n">vb</span><span class="o">)</span> <span class="o">:</span> <span class="k">by</span> <span class="n">ring</span>
                    <span class="bp">...</span>                                                                    <span class="bp">=</span>   <span class="mi">1</span>                                    <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">ka</span><span class="o">,</span><span class="n">kb</span><span class="o">,</span> <span class="n">one_mul</span><span class="o">],</span>
        <span class="n">use</span> <span class="bp">⟨</span> <span class="n">ua</span> <span class="bp">*</span> <span class="n">ub</span><span class="o">,</span>  <span class="n">a</span> <span class="bp">*</span> <span class="n">ua</span> <span class="bp">*</span> <span class="n">vb</span> <span class="bp">+</span> <span class="n">va</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">ub</span> <span class="bp">+</span> <span class="n">va</span> <span class="bp">*</span> <span class="n">c</span> <span class="bp">*</span> <span class="n">vb</span> <span class="o">,</span> <span class="n">J</span><span class="bp">⟩</span><span class="o">,</span>
        <span class="kn">end</span>
</pre></div>



<a name="190888746"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190888746" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190888746">(Mar 17 2020 at 18:04)</a>:</h4>
<p>I remember Mario once saying that it didn't matter if the proof looked incomprehensible if the statement was mathematically trivial, because then nobody wants to read the proof anyway.</p>



<a name="190889515"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190889515" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190889515">(Mar 17 2020 at 18:11)</a>:</h4>
<p>I don't even think those proofs are less readable than the original ones.</p>



<a name="190894683"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190894683" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190894683">(Mar 17 2020 at 18:52)</a>:</h4>
<p>Hum i try to read (to understand the language) some proof and it's very difficult  !  Patrick thx you !  </p>
<p>Perhaps a stupid question (sorry) : i thinck i don't understand something  ? </p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">ring_theory</span><span class="bp">.</span><span class="n">algebra</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">polynomial</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">finsupp</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">zmod</span><span class="bp">.</span><span class="n">basic</span>
<span class="kn">import</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">ring</span>
<span class="kn">import</span> <span class="n">algebra</span><span class="bp">.</span><span class="n">category</span><span class="bp">.</span><span class="n">CommRing</span><span class="bp">.</span><span class="n">basic</span>
<span class="kn">import</span> <span class="n">foncteur</span><span class="bp">.</span><span class="n">comax</span>
<span class="kn">open</span> <span class="n">zmod</span>
<span class="bp">@</span><span class="o">[</span><span class="kn">reducible</span><span class="o">]</span> <span class="n">def</span> <span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span> <span class="o">:=</span> <span class="n">zmod</span><span class="o">(</span><span class="mi">15</span><span class="o">)</span>
<span class="n">def</span>  <span class="kn">eval</span>  <span class="o">:</span> <span class="bp">ℤ</span>  <span class="bp">→</span> <span class="n">R</span> <span class="o">:=</span>
    <span class="bp">λ</span> <span class="n">n</span><span class="o">,</span> <span class="n">n</span>
<span class="bp">#</span><span class="kn">eval</span> <span class="kn">eval</span><span class="o">(</span><span class="mi">19</span><span class="o">)</span>
<span class="kn">open</span> <span class="n">co_maxi</span>
<span class="n">def</span> <span class="n">A</span> <span class="o">:=</span>   <span class="n">co_maxi</span><span class="bp">.</span><span class="n">gluing_data</span> <span class="n">R</span> <span class="o">(</span><span class="mi">6</span><span class="o">)(</span><span class="bp">-</span><span class="mi">5</span><span class="o">)</span> <span class="mi">1</span> <span class="o">(</span><span class="bp">-</span><span class="mi">1</span><span class="o">)</span> <span class="mi">1</span> <span class="bp">⟨</span> <span class="mi">1</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span> <span class="k">by</span> <span class="n">ring</span><span class="bp">⟩</span>  <span class="bp">⟨</span><span class="mi">1</span><span class="o">,</span><span class="k">by</span> <span class="n">ring</span> <span class="bp">⟩</span>  <span class="c1">---  6 * 1 + (-5) *1 = 1,  ,m = 1 cause  6 × 5 = 0</span>
<span class="c1">--- The gluing point is 4 because 4 mod 3 = 1 and 4 mod 5 = -1,</span>
<span class="bp">#</span><span class="kn">print</span> <span class="n">A</span> <span class="c1">--- where is 4 ???</span>
<span class="c1">-- Can I execute my proof ?? or it&#39;s a stupid idea ? -- i give Lean all the calculus so he have the answer ! ! ! But where ???</span>
</pre></div>



<a name="190894943"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190894943" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190894943">(Mar 17 2020 at 18:54)</a>:</h4>
<p>import fonctor.comax is my previous file !</p>



<a name="190895220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190895220" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190895220">(Mar 17 2020 at 18:56)</a>:</h4>
<p>Try <code>#eval A</code> or <code>#reduce A</code>?</p>



<a name="190895359"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190895359" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190895359">(Mar 17 2020 at 18:57)</a>:</h4>
<p>reduce : give me indeterminate time out ! <br>
For #eval A</p>
<div class="codehilite"><pre><span></span><span class="n">new</span><span class="bp">.</span><span class="n">lean</span><span class="o">:</span><span class="mi">17</span><span class="o">:</span><span class="mi">0</span><span class="o">:</span> <span class="n">warning</span>
<span class="n">result</span> <span class="n">type</span> <span class="n">does</span> <span class="n">not</span> <span class="k">have</span> <span class="n">an</span> <span class="kn">instance</span> <span class="n">of</span> <span class="n">type</span> <span class="n">class</span> <span class="err">&#39;</span><span class="n">has_repr&#39;</span><span class="o">,</span> <span class="n">dumping</span> <span class="n">internal</span> <span class="n">representation</span>
<span class="n">new</span><span class="bp">.</span><span class="n">lean</span><span class="o">:</span><span class="mi">17</span><span class="o">:</span><span class="mi">0</span><span class="o">:</span> <span class="n">information</span> <span class="kn">eval</span> <span class="n">result</span>
<span class="bp">#</span><span class="mi">0</span>
</pre></div>



<a name="190895758"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190895758" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190895758">(Mar 17 2020 at 19:00)</a>:</h4>
<p><code>#eval A</code> won't work because <code>A</code> has type <code>∃ s : R, ∃ N_f N_g : ℕ, f^(N_f+n) * s = f^N_f * s_f ∧  g^(N_g+n) * s = g^N_g * s_g</code> (with some specific values substituted for the variables) and this is an <code>∃</code>, so it's a prop. That means there is no data at "runtime".</p>



<a name="190895794"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190895794" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190895794">(Mar 17 2020 at 19:00)</a>:</h4>
<p><code>#reduce A</code> might work in principle I guess, but I'm not surprised it doesn't work in practice.</p>



<a name="190896249"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190896249" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190896249">(Mar 17 2020 at 19:04)</a>:</h4>
<p>If you want to be able to use your proofs to compute directly with <code>#eval</code>, then you would need to change some or all of your <code>∃</code> into subtypes or sigma types or custom structures that contain the data you need to eventually arrive at the result <code>4</code>.</p>



<a name="190896325"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190896325" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190896325">(Mar 17 2020 at 19:05)</a>:</h4>
<p>For example, rather than the prop <code>∃ u v :  R,    a * u + b * v = 1</code>, you would want to work with a structure that contains <code>u</code>, <code>v</code> and the proof of <code>a * u + b * v = 1</code></p>



<a name="190896721"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190896721" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190896721">(Mar 17 2020 at 19:08)</a>:</h4>
<p>Ok, i try !   Thx !</p>



<a name="190897833"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190897833" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190897833">(Mar 17 2020 at 19:17)</a>:</h4>
<p>You'll also have to switch to <code>def</code> when the result is data (rather than a prop), and you may need to rearrange your definitions to put <code>use</code> earlier, and other changes. (Does <code>use</code> work to construct general structures?) Don't hesitate to ask questions if this way of using Lean is new to you.</p>



<a name="190916387"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190916387" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190916387">(Mar 17 2020 at 21:59)</a>:</h4>
<p>hum for the moment i don't know if i start with : </p>
<div class="codehilite"><pre><span></span><span class="kn">structure</span> <span class="n">Uni_2</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}(</span><span class="n">a</span> <span class="n">b</span><span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">u</span> <span class="o">:</span> <span class="n">R</span><span class="o">)(</span><span class="n">v</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span>
<span class="o">(</span><span class="n">certificat</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">u</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">v</span> <span class="bp">=</span> <span class="o">(</span><span class="mi">1</span> <span class="o">:</span> <span class="n">R</span><span class="o">))</span>
</pre></div>


<p>or with</p>
<div class="codehilite"><pre><span></span><span class="kn">structure</span> <span class="n">Uni_2</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}[</span><span class="n">comm_ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">a</span> <span class="n">b</span><span class="o">:</span> <span class="n">R</span><span class="o">)</span>
<span class="o">(</span><span class="n">u</span> <span class="o">:</span> <span class="n">R</span><span class="o">)(</span><span class="n">v</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span>
<span class="o">(</span><span class="n">certificat</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">u</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">v</span> <span class="bp">=</span> <span class="o">(</span><span class="mi">1</span> <span class="o">:</span> <span class="n">R</span><span class="o">))</span>
</pre></div>



<a name="190918007"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190918007" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190918007">(Mar 17 2020 at 22:17)</a>:</h4>
<p>The first one. Think of it as a replacement for <code>co_max</code>, which is data instead of merely a proposition.</p>



<a name="190920775"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190920775" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190920775">(Mar 17 2020 at 22:47)</a>:</h4>
<p>Okay, i thinck i understand ! I have to create other structure, for exemple : a structure for the condition : </p>
<div class="codehilite"><pre><span></span><span class="o">(</span><span class="bp">∃</span> <span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span> <span class="n">f</span><span class="err">^</span><span class="n">m</span> <span class="bp">*</span> <span class="n">g</span><span class="err">^</span><span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="n">m</span><span class="o">)</span> <span class="bp">*</span> <span class="n">s_f</span> <span class="bp">=</span> <span class="n">g</span><span class="err">^</span><span class="n">m</span> <span class="bp">*</span> <span class="n">f</span><span class="err">^</span><span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="n">m</span><span class="o">)</span> <span class="bp">*</span> <span class="n">s_g</span><span class="o">)</span>
</pre></div>



<a name="190920807"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190920807" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190920807">(Mar 17 2020 at 22:47)</a>:</h4>
<p>thx Reid !!!</p>



<a name="190921064"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/My%20favorite%20group%20lemma/near/190921064" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/My.20favorite.20group.20lemma.html#190921064">(Mar 17 2020 at 22:50)</a>:</h4>
<p>In  fact, it's mathematicaly coherent ! Tomorow :D</p>
<div class="codehilite"><pre><span></span><span class="kn">parameters</span> <span class="o">(</span><span class="n">f</span> <span class="n">g</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span>
<span class="kn">structure</span> <span class="n">localy_zero</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="kn">extends</span>  <span class="n">comax</span><span class="o">(</span><span class="n">f</span><span class="o">)(</span><span class="n">g</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span>
<span class="o">(</span><span class="k">proof</span><span class="o">:</span> <span class="n">f</span><span class="err">^</span><span class="n">m</span> <span class="bp">*</span> <span class="n">a</span> <span class="bp">=</span> <span class="mi">0</span> <span class="bp">∧</span> <span class="n">g</span><span class="err">^</span><span class="n">n</span> <span class="bp">*</span> <span class="n">a</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">)</span>
</pre></div>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>