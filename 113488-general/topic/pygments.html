---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/pygments.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html">pygments</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="123002866"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/123002866" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#123002866">(Feb 26 2018 at 16:23)</a>:</h4>
<p>my understanding was zulip uses an old version of pygments, and that the lean pygments update was never merged to begin with</p>



<a name="123002921"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/123002921" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#123002921">(Feb 26 2018 at 16:24)</a>:</h4>
<p>we can still do </p>
<div class="codehilite"><pre><span></span><span class="n">meta</span> <span class="n">def</span> <span class="n">f</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">sorry</span>
</pre></div>



<a name="123002930"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/123002930" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#123002930">(Feb 26 2018 at 16:24)</a>:</h4>
<p>which is a bit disappointing</p>



<a name="123002938"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/123002938" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#123002938">(Feb 26 2018 at 16:24)</a>:</h4>
<p>I had better luck with earlier tests</p>



<a name="123002948"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/123002948" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#123002948">(Feb 26 2018 at 16:25)</a>:</h4>
<p>I don't think there is such an option</p>



<a name="123002966"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/123002966" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#123002966">(Feb 26 2018 at 16:25)</a>:</h4>
<p>let me try again:</p>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">:</span> <span class="mi">1</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">=</span> <span class="mi">2</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">norm_num</span>
</pre></div>



<a name="123003003"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/123003003" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#123003003">(Feb 26 2018 at 16:26)</a>:</h4>
<p>that one is nicer</p>



<a name="123003010"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/123003010" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#123003010">(Feb 26 2018 at 16:26)</a>:</h4>
<p>pygments doesn't like meta...</p>



<a name="123003170"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/123003170" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#123003170">(Feb 26 2018 at 16:30)</a>:</h4>
<p>i think pygments for lean is still on highlighting based on lean 2's syntax, iirc</p>



<a name="123003200"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/123003200" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#123003200">(Feb 26 2018 at 16:31)</a>:</h4>
<p>I guess that could explain a lot</p>



<a name="123003261"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/123003261" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#123003261">(Feb 26 2018 at 16:32)</a>:</h4>
<p>yeah, first i think we'll need to submit a support ticket to zulip and see if they will fork pygments for us, and then we can update the pygment's lexer file for lean</p>



<a name="123003279"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/123003279" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#123003279">(Feb 26 2018 at 16:33)</a>:</h4>
<p>Yes, I guess <span class="user-mention" data-user-email="rwbarton@gmail.com" data-user-id="110032">@Reid Barton</span> will do that for us</p>



<a name="123003285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/123003285" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#123003285">(Feb 26 2018 at 16:33)</a>:</h4>
<p>I've already checked with the Zulip devs and they would be happy to fork pygments if there is a request to do so.</p>



<a name="123003336"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/123003336" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#123003336">(Feb 26 2018 at 16:34)</a>:</h4>
<p>If someone here can produce a patch then I can take care of getting it upstreamed</p>



<a name="123003356"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/123003356" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#123003356">(Feb 26 2018 at 16:35)</a>:</h4>
<p>Great, <span class="user-mention" data-user-email="sebasti@nullri.ch" data-user-id="110024">@Sebastian Ullrich</span> already has everything we need</p>



<a name="123003400"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/123003400" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#123003400">(Feb 26 2018 at 16:36)</a>:</h4>
<p>I'm requested elsewhere. See you</p>



<a name="123003826"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/123003826" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#123003826">(Feb 26 2018 at 16:48)</a>:</h4>
<p>Our pygments fork is at <a href="https://bitbucket.org/gebner/pygments-main" target="_blank" title="https://bitbucket.org/gebner/pygments-main">https://bitbucket.org/gebner/pygments-main</a></p>



<a name="155163511"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/155163511" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#155163511">(Jan 15 2019 at 11:54)</a>:</h4>
<p>I ran all of mathlib and a couple of my projects through Gabriel's pygments fork, using the following command:</p>
<div class="codehilite"><pre><span></span>find . -name &#39;*.lean&#39; \( -exec ~/.local/bin/pygmentize -l lean -F raiseonerror &#39;{}&#39; &#39;;&#39; -o -exec echo $&#39;\npygmentize failed:&#39; &#39;{}&#39; &#39;;&#39; -quit \)
</pre></div>


<p>There was just one lexer error, it doesn't know about the escape sequence <code>"\t"</code>. <span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> should I submit a PR, or would it be easier for you to just fix it yourself?</p>



<a name="155163531"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/155163531" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#155163531">(Jan 15 2019 at 11:55)</a>:</h4>
<p>(Minimum failing example: <code>example : string := "\t"</code>)</p>



<a name="155163672"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/155163672" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#155163672">(Jan 15 2019 at 11:58)</a>:</h4>
<p>It also doesn't know about <code>"\x12"</code>, <code>"\u1234"</code>, or <code>"\'"</code> (I checked the Lean source to see what escape sequences exist)</p>



<a name="155163795"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/155163795" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#155163795">(Jan 15 2019 at 12:01)</a>:</h4>
<p>Please file a PR.</p>



<a name="155163875"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/155163875" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#155163875">(Jan 15 2019 at 12:02)</a>:</h4>
<p>OK</p>



<a name="155164033"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/155164033" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#155164033">(Jan 15 2019 at 12:05)</a>:</h4>
<p>I think you can get pwned with <code>-exec</code> if someone writes a malicious mathlib PR, although I've never understood the details (I read this in the find man page)</p>



<a name="155167115"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/155167115" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#155167115">(Jan 15 2019 at 13:02)</a>:</h4>
<blockquote>
<p>Please file a PR.</p>
</blockquote>
<p>I think I managed to do this.</p>



<a name="155167460"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/155167460" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#155167460">(Jan 15 2019 at 13:08)</a>:</h4>
<p>Merged.  I've also given you write access if you want.</p>



<a name="155168459"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/155168459" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#155168459">(Jan 15 2019 at 13:23)</a>:</h4>
<p>I know <span class="user-mention" data-user-id="110031">@Patrick Massot</span> was also having LaTeX problems with some specific characters but I don't know whether that's something that would be fixed within pygments or outside it</p>



<a name="155168553"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/155168553" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#155168553">(Jan 15 2019 at 13:25)</a>:</h4>
<p>Reid, you only need to try using pygment with LaTeX to see it's all broken, and needs fixing from pygment</p>



<a name="155169307"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/155169307" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#155169307">(Jan 15 2019 at 13:38)</a>:</h4>
<p>Now I'm confused: I can't reproduce the problem</p>



<a name="155169837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/155169837" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#155169837">(Jan 15 2019 at 13:46)</a>:</h4>
<p>The following works:</p>
<div class="codehilite"><pre><span></span>\documentclass{article}

\usepackage{newunicodechar}

\newunicodechar{α}{\ensuremath{\alpha}}
\newunicodechar{β}{\ensuremath{\beta}}
\newunicodechar{ι}{\ensuremath{\iota}}
\newunicodechar{𝓤}{\ensuremath{\mathcal{U}}}
\newunicodechar{⁻}{\ensuremath{^-}}
\newunicodechar{¹}{\ensuremath{^1}}
\newunicodechar{∈}{\ensuremath{\in}}
\newunicodechar{∘}{\ensuremath{\circ}}
\newunicodechar{∀}{\ensuremath{\forall}}
\newunicodechar{∃}{\ensuremath{\exists}}
\newunicodechar{𝓝}{\ensuremath{\mathcal{N}}}
\newunicodechar{⨯}{\ensuremath{\mathcal{\times}}}
\newunicodechar{⟨}{\ensuremath{\langle}}
\newunicodechar{⟩}{\ensuremath{\rangle}}

\usepackage{minted}
\begin{document}
\begin{minted}{lean}
example  {f : α → β} (hf : uniform_continuous&#39; f) : continuous f :=
suffices ∀ a, ∀ V ∈ 𝓝 (f a), f ⁻¹&#39; V ∈ 𝓝 a,
  from continuous_iff_nhds_sets.2 this,
assume a V Vin,
suffices ∃ U ∈ 𝓤 α, f ⁻¹&#39; V = ι a ⁻¹&#39; U,  by rwa mem_nhds_uniformity&#39;,
have exW : ∃ W ∈ 𝓤 β, V = ι (f a) ⁻¹&#39; W, by rwa mem_nhds_uniformity&#39; at Vin,
let ⟨W, W_in, hWV⟩ := exW in
⟨(f ⨯ f) ⁻¹&#39; W, hf W W_in,  -- let&#39;s use U = (f ⨯ f) ⁻¹&#39; W
  calc
    f ⁻¹&#39; V = f ⁻¹&#39; (ι (f a) ⁻¹&#39; W) : by rw hWV
        ... = (ι (f a) ∘ f) ⁻¹&#39; W   : rfl
        ... = (f⨯f ∘ ι a) ⁻¹&#39; W     : by rw show ι (f a) ∘ f = (f ⨯ f) ∘ ι a,
                                            by ext ; refl
        ... = ι a ⁻¹&#39; (f⨯f ⁻¹&#39; W)   : rfl⟩
\end{minted}
\end{document}
</pre></div>


<p>compiled using <code> xelatex -shell-escape test.tex</code> after installing Gabriel's pygment fork</p>



<a name="155169965"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/155169965" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#155169965">(Jan 15 2019 at 13:47)</a>:</h4>
<p>of course the <code>newunicodechar</code> lines are ugly, and you can't even do it once and for all because of TeX super small memory capacity. But this is not related to pygment</p>



<a name="155170760"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/155170760" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#155170760">(Jan 15 2019 at 13:58)</a>:</h4>
<p>AFAIR, we at some point declared a "fallback" token class in the Lean pygments tokenizer so that it should never fail on an unknown notation now</p>



<a name="155171886"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/155171886" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#155171886">(Jan 15 2019 at 14:15)</a>:</h4>
<p>If you use a font with enough symbols (such as the Isabelle fonts I sent you the other day), everything works out of the box without any need for <code>\newunicodechar</code>.<br>
Unrelated (and out of topic): should I PR <a href="https://github.com/sgouezel/mathlib/tree/essai6" target="_blank" title="https://github.com/sgouezel/mathlib/tree/essai6">https://github.com/sgouezel/mathlib/tree/essai6</a> at once, or split it in smaller bits (and maybe wait for the refactoring)? :)</p>



<a name="155172615"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/155172615" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#155172615">(Jan 15 2019 at 14:26)</a>:</h4>
<p>Oh, I forgot this email! I'll try to find it back</p>



<a name="155172655"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/155172655" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#155172655">(Jan 15 2019 at 14:27)</a>:</h4>
<p>About the PR, here is a rule of thumb: each time GitHub says "Large diffs are not rendered by default" you may consider splitting in smaller bits</p>



<a name="155172807"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/155172807" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#155172807">(Jan 15 2019 at 14:30)</a>:</h4>
<p>I think if you want reasonably fast merging you should aim for &lt;200 lines per PR. If you are adding a new file, I guess you can make them a bit larger. But everything &gt;500 lines seems to just rot away in the queue.</p>



<a name="155172875"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/155172875" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#155172875">(Jan 15 2019 at 14:30)</a>:</h4>
<p>We are talking about " 3,734 additions and 264 deletions. " in one commit here</p>



<a name="155172881"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/155172881" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#155172881">(Jan 15 2019 at 14:30)</a>:</h4>
<p>I do understand that this means you will have to create 10-20 PRs...</p>



<a name="155172895"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/155172895" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#155172895">(Jan 15 2019 at 14:30)</a>:</h4>
<p>Let's wait for the reorganization maybe</p>



<a name="155173389"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/155173389" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#155173389">(Jan 15 2019 at 14:37)</a>:</h4>
<p>My question was mainly a joke, of course I won't PR it in one go. And yes, I will wait for the refactoring before I submit anything. By the way, I am really happy to have done something in Lean (define the space of all nonempty compact metric spaces, with the Gromov-Hausdorff distance) that does not even make sense in Isabelle.</p>



<a name="155173468"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/155173468" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#155173468">(Jan 15 2019 at 14:38)</a>:</h4>
<p>Does it directly make sense in DTT, or did you still have to cheat a bit?</p>



<a name="155184044"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/155184044" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#155184044">(Jan 15 2019 at 16:38)</a>:</h4>
<p>It makes sense to consider all compact subsets of <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi mathvariant="normal">ℓ</mi><mi mathvariant="normal">∞</mi></msup><mo>(</mo><mrow><mi mathvariant="double-struck">N</mi></mrow><mo>)</mo></mrow><annotation encoding="application/x-tex">\ell^\infty(\mathbb{N})</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base"><span class="mord"><span class="mord mathrm">ℓ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">∞</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathbb">N</span></span><span class="mclose">)</span></span></span></span> modulo isometry (and it also makes sense in Isabelle). Call the quotient <code>GH_space</code>. It is easy to check that any compact metric space can be isometrically embedded in <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi mathvariant="normal">ℓ</mi><mi mathvariant="normal">∞</mi></msup><mo>(</mo><mrow><mi mathvariant="double-struck">N</mi></mrow><mo>)</mo></mrow><annotation encoding="application/x-tex">\ell^\infty(\mathbb{N})</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base"><span class="mord"><span class="mord mathrm">ℓ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">∞</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathbb">N</span></span><span class="mclose">)</span></span></span></span>, which gives a canonical map associating to any compact metric type a <code>GH_space</code> element. This is the part that does not make sense in Isabelle: you can not define a map that will take a type (with some additional typeclass properties) and yield an element of another type.</p>



<a name="155184670"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/155184670" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#155184670">(Jan 15 2019 at 16:48)</a>:</h4>
<p>I understand that. But my distant memory of GH distance between X and Y  involve sending X and Y into any other metric space. Is such a definition already problematic (and only heuristic) in set theory?</p>



<a name="155187105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/155187105" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#155187105">(Jan 15 2019 at 17:21)</a>:</h4>
<blockquote>
<p>But my distant memory of GH distance between X and Y  involve sending X and Y into any other metric space. Is such a definition already problematic (and only heuristic) in set theory?</p>
</blockquote>
<p>Textbooks do not really go to such details, but they should: if you say "all compact metric spaces up to isometry", this is not well defined (but if you notice that the cardinal of such a space is bounded, then everything is easy to solve). In the same way, if you say "send X and Y to all metric spaces", this is not well defined, but in fact all that matters is the union of the images of X and Y, which is compact and therefore has bounded cardinal. This is essentially what I do, saying that it is enough to consider embeddings in <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi mathvariant="normal">ℓ</mi><mi mathvariant="normal">∞</mi></msup><mo>(</mo><mrow><mi mathvariant="double-struck">N</mi></mrow><mo>)</mo></mrow><annotation encoding="application/x-tex">\ell^\infty(\mathbb{N})</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base"><span class="mord"><span class="mord mathrm">ℓ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">∞</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathbb">N</span></span><span class="mclose">)</span></span></span></span> to say something about all metric spaces.</p>



<a name="155187371"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/155187371" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#155187371">(Jan 15 2019 at 17:25)</a>:</h4>
<p>Still, do you think everybody working with GH distance will be happy with your definition?</p>



<a name="155187414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/155187414" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#155187414">(Jan 15 2019 at 17:25)</a>:</h4>
<p>Should we ask Gromov? <span class="emoji emoji-1f609" title="wink">:wink:</span></p>



<a name="155187510"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/155187510" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#155187510">(Jan 15 2019 at 17:26)</a>:</h4>
<p>Yes, because I prove that it gives what you expect: for any embeddings of X and Y in metric spaces, the Gromov-Hausdorff distance between X and Y is bounded above by the Hausdorff distance of the images. And there is one such embedding that realizes the Gromov-Hausdorff distance.</p>



<a name="155187605"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/155187605" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#155187605">(Jan 15 2019 at 17:28)</a>:</h4>
<p>In fact, the API is designed so that, in the end, you should completely forget that it was defined using <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi mathvariant="normal">ℓ</mi><mi mathvariant="normal">∞</mi></msup><mo>(</mo><mrow><mi mathvariant="double-struck">N</mi></mrow><mo>)</mo></mrow><annotation encoding="application/x-tex">\ell^\infty(\mathbb{N})</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base"><span class="mord"><span class="mord mathrm">ℓ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">∞</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathbb">N</span></span><span class="mclose">)</span></span></span></span>: this is just a handy technical tool in the construction.</p>



<a name="165337936"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/165337936" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#165337936">(May 10 2019 at 13:57)</a>:</h4>
<p>What is the current status of pygments?</p>



<a name="165337962"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/165337962" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#165337962">(May 10 2019 at 13:57)</a>:</h4>
<p>Where is the most up to date version hosted? I couldn't find a repo on <span class="user-mention" data-user-id="110043">@Gabriel Ebner</span>'s github account with <code>pygm</code> in the name...</p>



<a name="165338141"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/165338141" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#165338141">(May 10 2019 at 13:59)</a>:</h4>
<p>Aah, I now found <a href="https://bitbucket.org/leanprover/pygments-main" target="_blank" title="https://bitbucket.org/leanprover/pygments-main">https://bitbucket.org/leanprover/pygments-main</a>. Is that the version I should use?</p>



<a name="165338176"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/165338176" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#165338176">(May 10 2019 at 14:00)</a>:</h4>
<p><a href="https://bitbucket.org/gebner/pygments-main" target="_blank" title="https://bitbucket.org/gebner/pygments-main">https://bitbucket.org/gebner/pygments-main</a></p>



<a name="165458660"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/165458660" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#165458660">(May 12 2019 at 10:22)</a>:</h4>
<p>We had to come back to this pygment issue for the <a href="https://leanprover-community.github.io/lean-perfectoid-spaces/" target="_blank" title="https://leanprover-community.github.io/lean-perfectoid-spaces/">perfectoid website</a>. Of course we use Gabriel's pygments. But I think we should really try to PR it upstream. Very unfortunately, I see on <a href="https://pypi.org/project/Pygments/#history" target="_blank" title="https://pypi.org/project/Pygments/#history">https://pypi.org/project/Pygments/#history</a> that we have missed a release. <span class="user-mention" data-user-id="110043">@Gabriel Ebner</span>  don't you want to open a PR? Clearly they are currently very active. It would be very nice to get rid of these red rectangles we get everywhere on Zulip. Maybe we should also introduce a more specific language code like "lean3" to prepare for future mess in the Lean4 transition</p>



<a name="165466634"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/165466634" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#165466634">(May 12 2019 at 14:20)</a>:</h4>
<p>Ok, I'll look into making a PR.  My experience with bitbucket and mercurial is very lacking though, so it might take a bit.  I'm not sure if we should have different syntaxes for <code>lean3</code> and <code>lean4</code>.  Right now the differences (for syntax highlighting) are very minimal (just a few new keywords).</p>



<a name="165466691"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/165466691" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#165466691">(May 12 2019 at 14:22)</a>:</h4>
<p>Their use of bitbucket and mercurial is indeed very painful...</p>



<a name="190322715"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/190322715" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#190322715">(Mar 11 2020 at 19:40)</a>:</h4>
<p>I happened to look at pygments again today because of the mathlib doc-gen stuff and it looks like <a href="https://github.com/pygments/pygments" target="_blank" title="https://github.com/pygments/pygments">pygments development now occurs on github</a> (and there's even been <a href="https://github.com/pygments/pygments/commit/411a7b47413e5a1658ff1f5d1aa2f55ff3443f22#diff-e110d5d6ccdb22d858afceedb5787045" target="_blank" title="https://github.com/pygments/pygments/commit/411a7b47413e5a1658ff1f5d1aa2f55ff3443f22#diff-e110d5d6ccdb22d858afceedb5787045">a commit</a> that updated the Lean syntax highlighting). </p>
<p><span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> it might be easier now to make a PR. If you'll be busy for a while with other stuff I can also try to tackle it sometime next week.</p>



<a name="190322753"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/190322753" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#190322753">(Mar 11 2020 at 19:40)</a>:</h4>
<p><span class="user-mention" data-user-id="123965">@Bryan Gin-ge Chen</span> Please do it!</p>



<a name="190323009"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/190323009" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#190323009">(Mar 11 2020 at 19:43)</a>:</h4>
<p>Wow... would that mean that the dear red boxes on Zulip might disappear in the near future?</p>



<a name="190323703"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/190323703" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#190323703">(Mar 11 2020 at 19:50)</a>:</h4>
<p>I hope so. It looks like Zulip is a few versions behind on pygments but presumably we can ping them to bump their dependency after we get pygments fixed.</p>



<a name="190332601"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/190332601" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#190332601">(Mar 11 2020 at 21:17)</a>:</h4>
<p>Getting rid of the red boxes would be so awesome!</p>



<a name="190611156"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/190611156" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#190611156">(Mar 14 2020 at 19:43)</a>:</h4>
<p>PR here: <a href="https://github.com/pygments/pygments/pull/1415" target="_blank" title="https://github.com/pygments/pygments/pull/1415">https://github.com/pygments/pygments/pull/1415</a></p>



<a name="209888549"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/209888549" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Peattie <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#209888549">(Sep 12 2020 at 16:20)</a>:</h4>
<p>Looks like Pygments just got a new release <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span> - <a href="https://github.com/pygments/pygments/releases/tag/2.7.0">https://github.com/pygments/pygments/releases/tag/2.7.0</a></p>



<a name="209888610"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/209888610" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#209888610">(Sep 12 2020 at 16:22)</a>:</h4>
<p>I've just pinged Zulip about it: <a href="https://github.com/zulip/zulip/issues/16335">https://github.com/zulip/zulip/issues/16335</a> <span aria-label="pray" class="emoji emoji-1f64f" role="img" title="pray">:pray:</span></p>



<a name="210964048"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/210964048" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#210964048">(Sep 23 2020 at 06:42)</a>:</h4>
<p>Syntax highlighting is now fixed! Compare <a href="#narrow/stream/113488-general/topic/app_builder_exception.20in.20.60nlinarith.60/near/204138256">this old message</a> and this one:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c1">-- works</span>
<span class="kd">example</span> <span class="o">(</span><span class="n">t</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">b</span><span class="o">)</span> <span class="o">:</span> <span class="bp">∥</span><span class="n">t</span><span class="bp">∥</span> <span class="bp">*</span> <span class="n">a</span> <span class="bp">≤</span> <span class="bp">∥</span><span class="n">t</span><span class="bp">∥</span> <span class="bp">*</span> <span class="n">b</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">nlinarith</span> <span class="o">[</span><span class="n">norm_nonneg</span> <span class="n">t</span><span class="o">]</span>
</code></pre></div>

<p>(<strong>Edit</strong>: scrolling back, it looks like it was changed sometime around 24 hours ago.)</p>



<a name="242452621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/242452621" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jeremy Avigad <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#242452621">(Jun 12 2021 at 14:10)</a>:</h4>
<p>I am using sphinx with pygments for syntax highlighting. Lean code gets highlighted, but "def" is not recognized as a keyword. Before I do some digging on my own, does anyone know offhand whether there is a better version of pygments that I should be using somehow?</p>



<a name="242455237"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/242455237" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#242455237">(Jun 12 2021 at 15:03)</a>:</h4>
<p>What I usually do is to copy pygment's theorem.py and then include the modified file using</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">\</span><span class="n">newmintinline</span><span class="o">[</span><span class="n">lean</span><span class="o">]{</span><span class="kd">theorem</span><span class="bp">.</span><span class="n">py</span><span class="o">:</span><span class="n">LeanLexer</span> <span class="bp">-</span><span class="n">x</span><span class="o">}{</span><span class="n">bgcolor</span><span class="bp">=</span><span class="n">white</span><span class="o">}</span>
<span class="bp">\</span><span class="n">newminted</span><span class="o">[</span><span class="n">leancode</span><span class="o">]{</span><span class="kd">theorem</span><span class="bp">.</span><span class="n">py</span><span class="o">:</span><span class="n">LeanLexer</span> <span class="bp">-</span><span class="n">x</span><span class="o">}{</span><span class="n">fontsize</span><span class="bp">=\</span><span class="n">footnotesize</span><span class="o">}</span>
</code></pre></div>
<p>Current theorem.py from our course: <a href="https://gist.github.com/Kha/ba248a9cd2d245d741c85bd8efb5442d">https://gist.github.com/Kha/ba248a9cd2d245d741c85bd8efb5442d</a></p>



<a name="242455246"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/242455246" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#242455246">(Jun 12 2021 at 15:03)</a>:</h4>
<p>This should of course be upstreamed... eventually</p>



<a name="242455289"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/242455289" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#242455289">(Jun 12 2021 at 15:04)</a>:</h4>
<p>What I haven't figured out yet is how to highlight <code>#check</code> but not <code>check</code></p>



<a name="242457326"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/242457326" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jeremy Avigad <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#242457326">(Jun 12 2021 at 15:45)</a>:</h4>
<p>Thanks! Sphinx also uses Pygments to generate the html docs, but I should be able to specify the new lexer in the <code>conf.py</code> configuration file. I'll try it later and report back.</p>



<a name="242457560"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/242457560" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#242457560">(Jun 12 2021 at 15:51)</a>:</h4>
<p>Which version of pygments are you using?</p>



<a name="242457583"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/242457583" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#242457583">(Jun 12 2021 at 15:51)</a>:</h4>
<p>The latest version has much better support than the one from about a year ago thanks to Bryan</p>



<a name="242457659"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/242457659" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#242457659">(Jun 12 2021 at 15:53)</a>:</h4>
<p>Xref <a href="https://github.com/zulip/zulip/issues/16335#issue-700291108">https://github.com/zulip/zulip/issues/16335#issue-700291108</a></p>



<a name="242458454"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/242458454" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jeremy Avigad <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#242458454">(Jun 12 2021 at 16:09)</a>:</h4>
<p>I installed the current version of Sphinx, which has Pygments built in. So I used whatever came with it. I am guessing that it is just an older version.</p>



<a name="242458763"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/242458763" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#242458763">(Jun 12 2021 at 16:15)</a>:</h4>
<p>Does sphinx have an all in one installer? I assumed you install it through pip, in which case it will use any pygments version already on your system, and only install the latest version if it can't find one</p>



<a name="242458820"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/242458820" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#242458820">(Jun 12 2021 at 16:16)</a>:</h4>
<p>Your python version is likely also relevant, as the python bundled with many distros is far older than pygments still releases for.</p>



<a name="242458941"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/242458941" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#242458941">(Jun 12 2021 at 16:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113488-general/topic/pygments/near/242457583">said</a>:</p>
<blockquote>
<p>The latest version has much better support than the one from about a year ago thanks to Bryan</p>
</blockquote>
<p>(I can't take too much credit! All the actual grammar changes were actually due to other folks (I think Floris, Gabriel and Reid?))</p>



<a name="242462183"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/242462183" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jeremy Avigad <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#242462183">(Jun 12 2021 at 17:33)</a>:</h4>
<p>Brilliant! I did <code>pip install --upgrade pygments</code>, and now <code>def</code> is highlighted correctly. <span class="user-mention" data-user-id="310045">@Eric Wieser</span>, many thanks. That was exactly the advice I needed.</p>



<a name="317018614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/317018614" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#317018614">(Dec 20 2022 at 19:01)</a>:</h4>
<p>I'm writing a Sphinx document with some Lean code and am curious about whether there's a better <a href="https://pygments.org/styles/">Pygments style</a> for Lean than the default one.</p>
<ul>
<li>Does anyone know which Pygments style Zulip uses?</li>
<li>I <a href="https://github.com/leanprover/alectryon/blob/master/alectryon/pygments_style.py">think I found</a> the Pygments style which is the Alectryon default?</li>
</ul>
<p>I'm also a bit confused about the wide world of syntax highlighting.  What is the <a href="https://leanprover.github.io/lean4/doc/tour.html">Lean 4 manual</a> using, is that also Pygments? Is it possible to take a VS Code theme that you're happy with and turn it into a Pygments style?</p>



<a name="317018934"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/317018934" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#317018934">(Dec 20 2022 at 19:03)</a>:</h4>
<p>The lean4 manual is using highlightjs; I found out by using "inspect element" in the browser and spotting the <code>hljs</code> class names.</p>



<a name="317019193"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/317019193" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#317019193">(Dec 20 2022 at 19:04)</a>:</h4>
<p>Arguably using Pygments is "cleaner" because it does the highlighting up-front when you generate the pages with sphinx, rather than on the fly on the user's device on each page load</p>



<a name="317019321"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/317019321" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#317019321">(Dec 20 2022 at 19:05)</a>:</h4>
<p>I think the pygments grammar is better than the hljs one for Lean 3 too; although I likely have some patches I could contribute back for hljs as it's what I use in presentations</p>



<a name="317019487"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/317019487" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#317019487">(Dec 20 2022 at 19:06)</a>:</h4>
<p><a href="https://leanprover.github.io/theorem_proving_in_lean/">#tpil</a> uses pygments; do you not like the style there?</p>



<a name="317019923"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/317019923" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#317019923">(Dec 20 2022 at 19:09)</a>:</h4>
<p>Indeed, it looks like <a href="https://leanprover.github.io/theorem_proving_in_lean/">#tpil</a> is using the default <a href="https://pygments.org/styles/">Pygments style</a>.  I think this is a nice style, but for teaching might prefer to use a style which closely mimics the VS Code theme in my setup.</p>



<a name="317020040"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/317020040" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#317020040">(Dec 20 2022 at 19:09)</a>:</h4>
<p>And I was also curious about what styles Zulip and Alectryon are using because I assume somebody already put a lot of thought into that?</p>



<a name="317021178"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/317021178" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#317021178">(Dec 20 2022 at 19:15)</a>:</h4>
<p><a href="https://github.com/zulip/zulip/blob/753deab0872c3113ad81f1e7577f390feab782da/static/styles/pygments.css">This</a> looks to be the Zulip style</p>



<a name="317021507"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/317021507" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#317021507">(Dec 20 2022 at 19:17)</a>:</h4>
<p>The dark zulip style <a href="https://github.com/zulip/zulip/blob/753deab0872c3113ad81f1e7577f390feab782da/static/styles/dark_theme.css#L879-L1053">is here</a></p>



<a name="317021823"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/317021823" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#317021823">(Dec 20 2022 at 19:18)</a>:</h4>
<p>(They were in the same file until <a href="https://github.com/zulip/zulip/commit/148f74d3a7c2d2d21727587f6163ccd8087ebad8#diff-a44a13b91a0631e2208006d4c97b43ed6ea0fa3873455dedf05940193e480b32">this commit</a>)</p>



<a name="317162054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/317162054" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#317162054">(Dec 21 2022 at 13:48)</a>:</h4>
<p>It looks like <span class="user-mention" data-user-id="451040">@Niklas Bülow</span> has written a custom Lean 4 Pygments lexer for Alectryon:<br>
<a href="https://github.com/leanprover/alectryon/blob/master/alectryon/pygments_lexer.py">https://github.com/leanprover/alectryon/blob/master/alectryon/pygments_lexer.py</a><br>
which differs from the default Pygments lexer<br>
<a href="https://github.com/pygments/pygments/blob/master/pygments/lexers/theorem.py">https://github.com/pygments/pygments/blob/master/pygments/lexers/theorem.py</a><br>
written, <a href="https://github.com/pygments/pygments/pull/1415">apparently</a>, by <span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> , <span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span> and <span class="user-mention" data-user-id="110032">@Reid Barton</span>.</p>
<p>Would it be possible to adopt any improvements Niklas has made into the default lexer and then eliminate the duplication?  I think the discrepancy will get annoying in a document which mixes Alectryon blocks with plain code blocks; their output is noticeably different.</p>



<a name="317162082"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/317162082" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#317162082">(Dec 21 2022 at 13:48)</a>:</h4>
<p>I had a quick look and here are some differences I noticed:</p>
<ul>
<li>Niklas' lexer categorizes as <code>Keyword.Namespace</code> some tokens which in the standard one are marked as <code>Keyword.Declaration</code>, including <code>theorem</code>, <code>noncomputable</code>, ...</li>
<li>Niklas' lexer categorizes as <code>Keyword.Namespace</code> some tokens which in the standard one are marked as <code>Keyword</code>, including <code>#eval</code>, <code>#check</code>,...</li>
<li>I <em>think</em> Niklas' lexer has a shorter keyword list overall but because of formatting differences I'm not sure.</li>
<li>Niklas' lexer doesn't treat docstrings differently from comments</li>
<li>Niklas' lexer has a list of symbols including <code>∀</code>, <code>≤</code>, <code>ℤ</code>, ... which are categorized as <code>Name.Builtin.Pseudo</code>; these have no special handling in the standard lexer</li>
</ul>



<a name="317162165"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/317162165" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#317162165">(Dec 21 2022 at 13:49)</a>:</h4>
<p>Note: there is the question of whether we need separate Lean 3 and Lean 4 lexers; Niklas' is specifically intended for Lean 4.  The languages may be close enough that we don't.</p>



<a name="317164003"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/317164003" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#317164003">(Dec 21 2022 at 13:57)</a>:</h4>
<p>I think Niklas' lexer is just a copy of <a href="https://github.com/leanprover/lean4/blob/master/doc/latex/lean4.py">https://github.com/leanprover/lean4/blob/master/doc/latex/lean4.py</a>. We did not contribute changes back because for the longest time upstream Pygments was unmaintained.</p>



<a name="317171210"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/317171210" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#317171210">(Dec 21 2022 at 14:27)</a>:</h4>
<p>Thanks!  Does that mean that (now that upstream Pygments is maintained again) the default Pygments lexer is strictly better?</p>



<a name="317192881"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/317192881" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#317192881">(Dec 21 2022 at 16:04)</a>:</h4>
<p>The default pygments lexer is for Lean3 AFAIK</p>



<a name="317193104"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/317193104" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#317193104">(Dec 21 2022 at 16:05)</a>:</h4>
<p>Looking at the <a href="https://github.com/pygments/pygments/commits/master/pygments/lexers/theorem.py">file history</a> the last update was by me two years ago, and I was definitely thinking of only Lean 3.</p>



<a name="317193562"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/317193562" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#317193562">(Dec 21 2022 at 16:07)</a>:</h4>
<blockquote>
<p>Note: there is the question of whether we need separate Lean 3 and Lean 4 lexers;</p>
</blockquote>
<p>I think this is a good idea, if we don't then we have to  worry about breaking Lean3 highlighting each time we add support for new Lean4 syntaxes. The languages have different grammars so they should expose different Lexers.</p>
<p>We can of course still share implementations between them</p>



<a name="317213081"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/317213081" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#317213081">(Dec 21 2022 at 17:44)</a>:</h4>
<p>One tricky point is that we'll have to choose which one is our Zulip default (probably Lean 4, to look forward).  And then make a mass change backwards to edit most earlier messages with unlabelled code blocks to have a Lean 3 label.</p>



<a name="317214099"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/317214099" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#317214099">(Dec 21 2022 at 17:49)</a>:</h4>
<p>I think that even admins can't do a mass message edit.</p>



<a name="317214135"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/317214135" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#317214135">(Dec 21 2022 at 17:49)</a>:</h4>
<p>If I remember correctly I already asked that question.</p>



<a name="317214516"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/317214516" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#317214516">(Dec 21 2022 at 17:51)</a>:</h4>
<p>Old messages contain the output of the syntax highlighting</p>



<a name="317214542"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/317214542" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#317214542">(Dec 21 2022 at 17:51)</a>:</h4>
<p>You can see that in really old messages where the highlighting is broken because the highlighter used at the time had bugs</p>



<a name="317214574"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/317214574" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#317214574">(Dec 21 2022 at 17:51)</a>:</h4>
<p>So there is no issue here with changing the default</p>



<a name="317214782"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/317214782" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#317214782">(Dec 21 2022 at 17:52)</a>:</h4>
<p>Maybe we can ask for having different per-stream defaults while the port is still happening?</p>



<a name="317214848"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/317214848" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#317214848">(Dec 21 2022 at 17:52)</a>:</h4>
<p>If people edit an old message then they might want to change <code> ``` </code> into <code> ```lean3 </code>. But that's not really a problem.</p>



<a name="317245155"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/317245155" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#317245155">(Dec 21 2022 at 20:40)</a>:</h4>
<p>Another day, another reason to love <img alt=":zulip:" class="emoji" src="/static/generated/emoji/images/emoji/unicode/zulip.png" title="zulip"></p>



<a name="317246414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/pygments/near/317246414" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/pygments.html#317246414">(Dec 21 2022 at 20:48)</a>:</h4>
<p>zulip's team always listens too, even to crazy bugs like not being able to search the word "unit"</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>