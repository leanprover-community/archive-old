---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/priority.2010.20vs.20100.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/priority.2010.20vs.20100.html">priority 10 vs 100</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="208390672"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/priority%2010%20vs%20100/near/208390672" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/priority.2010.20vs.20100.html#208390672">(Aug 28 2020 at 20:19)</a>:</h4>
<p>Is there any systematic meaning to the use of <code>priority 10</code> versus <code>priority 100</code> for instances?<br>
The "default priority" library note suggests using 100, but there are also many uses of <code>priority 10</code>.<br>
I see that <span class="user-mention" data-user-id="111080">@Floris van Doorn</span> changed many priorities to 10 in <a href="https://github.com/leanprover-community/mathlib/issues/1485">#1485</a> but then used 100 as the value in <a href="https://github.com/leanprover-community/mathlib/issues/1724">#1724</a>.<br>
I guess the question is whether there is some general rule that can usually tell me whether to use 10 or 100, and whether the current mix of 10s and 100s is information to be preserved or a historical accident.</p>



<a name="208390859"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/priority%2010%20vs%20100/near/208390859" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/priority.2010.20vs.20100.html#208390859">(Aug 28 2020 at 20:21)</a>:</h4>
<p>I see that <a href="https://github.com/leanprover-community/mathlib/issues/1485">#1485</a> changed priorities from 0 to 10 while <a href="https://github.com/leanprover-community/mathlib/issues/1724">#1724</a> changed them from 1000 to 100, so there seems to be some logic to it, but it could be that most of the instances that had priority 0 were of the sort that should have priority 100 and actually caused instances before we enforced the lowered priority with a linter.</p>



<a name="208392199"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/priority%2010%20vs%20100/near/208392199" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/priority.2010.20vs.20100.html#208392199">(Aug 28 2020 at 20:34)</a>:</h4>
<p>I think for a large part is a historical accident, but there is some logic to it. <br>
I want <code>classical.prop_decidable</code> to fire after any <code>[priority 100]</code> instances. I intentionally made some priorities other than 100, if my guess was that they would be more applicable (or less expensive) or less applicable (more expensive) than other instances with priority 100. That is mostly guesswork though.</p>



<a name="208392582"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/priority%2010%20vs%20100/near/208392582" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/priority.2010.20vs.20100.html#208392582">(Aug 28 2020 at 20:38)</a>:</h4>
<p>OK, I'll go through the priority 10 instances and try to guess whether there is a good reason for them</p>



<a name="208392751"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/priority%2010%20vs%20100/near/208392751" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/priority.2010.20vs.20100.html#208392751">(Aug 28 2020 at 20:40)</a>:</h4>
<p>Haha, the first instance I come across with a weird priority is <code>monoid.has_pow</code></p>



<a name="208392806"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/priority%2010%20vs%20100/near/208392806" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/priority.2010.20vs.20100.html#208392806">(Aug 28 2020 at 20:41)</a>:</h4>
<p>Are you going to redefine it so it's the same way around as nat.pow?</p>



<a name="208392911"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/priority%2010%20vs%20100/near/208392911" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/priority.2010.20vs.20100.html#208392911">(Aug 28 2020 at 20:42)</a>:</h4>
<p>Now I'm wondering whether it's useful to make a standard 1000 priority instance for <code>nat</code></p>



<a name="208392979"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/priority%2010%20vs%20100/near/208392979" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/priority.2010.20vs.20100.html#208392979">(Aug 28 2020 at 20:43)</a>:</h4>
<p>There are very few instances of <code>has_pow</code> anyways.</p>



<a name="208393136"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/priority%2010%20vs%20100/near/208393136" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/priority.2010.20vs.20100.html#208393136">(Aug 28 2020 at 20:44)</a>:</h4>
<p>OK, maybe I should be more specific: is there ever a good reason for an <code>extends</code> instance to have a priority like 10?</p>



<a name="208394258"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/priority%2010%20vs%20100/near/208394258" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/priority.2010.20vs.20100.html#208394258">(Aug 28 2020 at 20:57)</a>:</h4>
<p>I guess there ended up being only one case I cared about. <a href="https://github.com/leanprover-community/mathlib/issues/3968">#3968</a></p>



<a name="208397668"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/priority%2010%20vs%20100/near/208397668" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/priority.2010.20vs.20100.html#208397668">(Aug 28 2020 at 21:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110032">Reid Barton</span> <a href="#narrow/stream/113488-general/topic/priority.2010.20vs.20100/near/208393136">said</a>:</p>
<blockquote>
<p>OK, maybe I should be more specific: is there ever a good reason for an <code>extends</code> instance to have a priority like 10?</p>
</blockquote>
<p>If the class is rarely used, and is unlikely to solve a random type-class problem.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>