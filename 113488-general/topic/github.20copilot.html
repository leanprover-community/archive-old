---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/github.20copilot.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/github.20copilot.html">github copilot</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="244318856"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20copilot/near/244318856" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/github.20copilot.html#244318856">(Jun 29 2021 at 17:38)</a>:</h4>
<p>Has anyone used this already? <a href="https://copilot.github.com/">https://copilot.github.com/</a></p>



<a name="244321413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20copilot/near/244321413" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/github.20copilot.html#244321413">(Jun 29 2021 at 17:57)</a>:</h4>
<p>Signed up for the waitlist.</p>



<a name="244321686"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20copilot/near/244321686" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/github.20copilot.html#244321686">(Jun 29 2021 at 17:59)</a>:</h4>
<p>Let us know how it goes when you get access... Just saw the link on HN.</p>



<a name="244324359"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20copilot/near/244324359" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/github.20copilot.html#244324359">(Jun 29 2021 at 18:16)</a>:</h4>
<p>On this note, <a href="https://www.tabnine.com/">TabNine</a> could also be interesting to play with in the context of Lean</p>



<a name="244324757"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20copilot/near/244324757" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/github.20copilot.html#244324757">(Jun 29 2021 at 18:19)</a>:</h4>
<p>Oh and it looks like tabnine also works with the correct editor.</p>



<a name="244332578"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20copilot/near/244332578" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/github.20copilot.html#244332578">(Jun 29 2021 at 19:15)</a>:</h4>
<p>Just FYI, from the copilot waitlist signup:<br>
<a href="/user_uploads/3121/quiZ8VPNA7VYds7QrYXxHaCK/Screenshot-2021-06-29-at-13-12-46-Build-software-better-together.png">Screenshot-2021-06-29-at-13-12-46-Build-software-better-together.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/quiZ8VPNA7VYds7QrYXxHaCK/Screenshot-2021-06-29-at-13-12-46-Build-software-better-together.png" title="Screenshot-2021-06-29-at-13-12-46-Build-software-better-together.png"><img src="/user_uploads/3121/quiZ8VPNA7VYds7QrYXxHaCK/Screenshot-2021-06-29-at-13-12-46-Build-software-better-together.png"></a></div>



<a name="244335067"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20copilot/near/244335067" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matthew Ballard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/github.20copilot.html#244335067">(Jun 29 2021 at 19:33)</a>:</h4>
<p>I poked at TabNine in Python and wasn’t impressed.</p>



<a name="244347362"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20copilot/near/244347362" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/github.20copilot.html#244347362">(Jun 29 2021 at 21:03)</a>:</h4>
<p>this looks kinda like lean-gptf</p>



<a name="244364801"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20copilot/near/244364801" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/github.20copilot.html#244364801">(Jun 30 2021 at 00:17)</a>:</h4>
<p>Is there any reason to think that copilot or TabNine would support Lean, which has a very small user base?</p>



<a name="244364867"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20copilot/near/244364867" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/github.20copilot.html#244364867">(Jun 30 2021 at 00:18)</a>:</h4>
<p>Also, for tactic proofs, I imagine lean-gptf would do better than any other solution which can't see the tactic state.</p>



<a name="244369989"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20copilot/near/244369989" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/github.20copilot.html#244369989">(Jun 30 2021 at 02:03)</a>:</h4>
<p><span class="user-mention silent" data-user-id="115715">Jason Rute</span> <a href="#narrow/stream/113488-general/topic/github.20copilot/near/244364801">said</a>:</p>
<blockquote>
<p>Is there any reason to think that copilot or TabNine would support Lean, which has a very small user base?</p>
</blockquote>
<p>TabNine certainly does support Lean - I've only been using it this evening but it's already been pretty convenient and helpful so far</p>



<a name="244372557"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20copilot/near/244372557" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/github.20copilot.html#244372557">(Jun 30 2021 at 03:00)</a>:</h4>
<p>I stand corrected.  I’d love to hear your thoughts!</p>



<a name="244512561"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20copilot/near/244512561" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/github.20copilot.html#244512561">(Jul 01 2021 at 02:42)</a>:</h4>
<p>It's like a smarter version of VSCode autocomplete - since it's easy to setup and fast it's mostly been convenient in practice; the suggestions are sometimes really weird but also sometimes pretty smart, it filled in a couple of proofs of me earlier today and I just had this example</p>



<a name="244512571"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20copilot/near/244512571" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/github.20copilot.html#244512571">(Jul 01 2021 at 02:42)</a>:</h4>
<p><a href="/user_uploads/3121/vGbmBf87gMfO0gTroPCLHegp/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/vGbmBf87gMfO0gTroPCLHegp/image.png" title="image.png"><img src="/user_uploads/3121/vGbmBf87gMfO0gTroPCLHegp/image.png"></a></div>



<a name="244512620"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20copilot/near/244512620" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/github.20copilot.html#244512620">(Jul 01 2021 at 02:43)</a>:</h4>
<p>What's cool to me here is that there was no instance of <code>f.inv</code> anywhere in this file, and no instances of <code>to_nat_trans := f.inv</code> in mathlib, so presumably it made an analogy with the <code>hom := { to_nat_trans := f.hom</code> earlier to make this suggestion (and it was what I wanted!)</p>



<a name="244574315"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20copilot/near/244574315" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/github.20copilot.html#244574315">(Jul 01 2021 at 14:24)</a>:</h4>
<p>Meanwhile it seems less smart for me:<br>
<a href="/user_uploads/3121/QxBuhgFKnKUJJrgiOPEfVN9v/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/QxBuhgFKnKUJJrgiOPEfVN9v/image.png" title="image.png"><img src="/user_uploads/3121/QxBuhgFKnKUJJrgiOPEfVN9v/image.png"></a></div>



<a name="244582138"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20copilot/near/244582138" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/github.20copilot.html#244582138">(Jul 01 2021 at 15:10)</a>:</h4>
<p>is that copilot or tabnine</p>



<a name="244597360"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20copilot/near/244597360" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/github.20copilot.html#244597360">(Jul 01 2021 at 17:02)</a>:</h4>
<p>So <span class="user-mention" data-user-id="246273">@Bhavik Mehta</span> is using tabnine and <span class="user-mention" data-user-id="310045">@Eric Wieser</span> is using copilot, right?</p>



<a name="244597474"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20copilot/near/244597474" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/github.20copilot.html#244597474">(Jul 01 2021 at 17:03)</a>:</h4>
<p><span class="user-mention" data-user-id="249373">@Stanislas Polu</span> You should convince open ai to use gptf in copilot for lean. <span aria-label="rolling on the floor laughing" class="emoji emoji-1f923" role="img" title="rolling on the floor laughing">:rolling_on_the_floor_laughing:</span>   (More seriously, I could imagine a future when all of these coding helper tools use internal language-server-like information to make suggestions, either using the actual language server, or by training a world model to predict what the language server would say.)</p>



<a name="244600560"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20copilot/near/244600560" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/github.20copilot.html#244600560">(Jul 01 2021 at 17:26)</a>:</h4>
<p>Actually, it looks like TabNine already <a href="https://www.tabnine.com/semantic">makes use of LSP information</a>.  Since Lean 3's server is nonstandard, I assume it doesn't use it, but I can't be sure.</p>



<a name="244600820"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20copilot/near/244600820" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/github.20copilot.html#244600820">(Jul 01 2021 at 17:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="115715">Jason Rute</span> <a href="#narrow/stream/113488-general/topic/github.20copilot/near/244600560">said</a>:</p>
<blockquote>
<p>Actually, it looks like TabNine already <a href="https://www.tabnine.com/semantic">makes use of LSP information</a>.  Since Lean 3's server is nonstandard, I assume it doesn't use it, but I can't be sure.  If it does, maybe TabNine and lean-gptf aren't so different (but I honestly have no idea how tabnine (or copilot) work, only speculation)????</p>
</blockquote>
<p>I think a direct comparison isn't the most helpful thing here - in my mind the value of TabNine is to speed up filling in boilerplate and repetitive-looking code (eg I found it helpful when writing docstrings and my example above) whereas the value of lean-gptf is to suggest tactics in the middle of a non-trivial argument. I think their use-cases right now are somewhat orthogonal. That said, tabnine is easier to set up and integrate into my workflow than lean-gptf is - in my experience at least</p>



<a name="244601818"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20copilot/near/244601818" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/github.20copilot.html#244601818">(Jul 01 2021 at 17:37)</a>:</h4>
<p>Totally.  (I actually removed that comparison as I thought about it more.)   Part of my speculation though is that tools like gptf which aim to provide proof completion, and tools like tabnine which aim to provide code completion, are starting to converge.  We showed in gptf that combining the internal state of a theorem prover with lots of semantically aware training data and a powerful language model gave good prediction results (and even better if combined with a tree search).  This is really possible with any programming language to some extent and language servers make it easier to access such internal information (and generate training data).  Obviously we understand lean much better than TabNine likely does and our gptf training data is very well curated for the task at hand, but maybe one day the lean 4 language server will make its own language model autocomplete predictions based on semantic data, or maybe it will integrate seamlessly with external autocomplete tools like TabNice or CoPilot through LSP.</p>



<a name="244604512"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20copilot/near/244604512" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/github.20copilot.html#244604512">(Jul 01 2021 at 17:59)</a>:</h4>
<p>In copilot's defense, it did correctly fill in all the data fields for a structure I'd defined based on a similar definition within the same file</p>



<a name="244604661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20copilot/near/244604661" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/github.20copilot.html#244604661">(Jul 01 2021 at 18:00)</a>:</h4>
<p>That is, it was able to fill out <a href="https://github.com/pygae/lean-ga/commit/9f2f36dd9236faa4403f933e8800c395cd9b2516#diff-ea46f0747e8966ee3d0d9038acf03712d4167146505ba9a539e4ef8cd4b0b360R75-R81">these lines</a> based presumably on what it learned from the removed lines further down the patch</p>



<a name="244667806"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20copilot/near/244667806" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stanislas Polu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/github.20copilot.html#244667806">(Jul 02 2021 at 07:25)</a>:</h4>
<p>Note that OpenAI Codex, the model behind Copilot, was never trained on Lean code and Copilot does not leverage the LSP either. Its current Lean capabilities are zero-shot capabilities of Codex, based on what it sees from the content of your file before the place of completion. Don't expect it to be good, but it's already quite exciting to see that it picks up the syntax generally correctly. We're looking to include Lean code in future version of Codex which would make copilot potentially useful when working with Lean.</p>
<p>Alternatively, it is clear from this thread that the UX of Copilot is the right one as it requires no effort from the user compared with lean-gptf. We have new models of GPT-f that are much more powerful than what is currently available to the current <code>gptf</code> tactic. We're looking to make them available and are thinking about leveraging the Lean VSCode extension. Obviously we can't use the same UX as copilot as GPT-f only works in tactic mode and you generally want to see &gt;1 suggestions, but we could query the model in the background when working on a tactic state such that suggestions are displayed in the info view without user intervention.</p>
<p>Do you think it's the right direction? Any other idea? Happy to chat about these!</p>



<a name="244668023"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20copilot/near/244668023" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stanislas Polu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/github.20copilot.html#244668023">(Jul 02 2021 at 07:28)</a>:</h4>
<p>Also, on top of picking the syntax, Copilot is not completely dumb (though these examples are probably memorized) <br>
<a href="/user_uploads/3121/1jjOa6_Ybm_zltDfVstDlThU/Screen-Shot-2021-06-18-at-14.47.52.png">Screen-Shot-2021-06-18-at-14.47.52.png</a> <br>
<a href="/user_uploads/3121/8VRdJdpeh-eGU3yh2qRvKLRv/Screen-Shot-2021-06-18-at-14.54.47.png">Screen-Shot-2021-06-18-at-14.54.47.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/1jjOa6_Ybm_zltDfVstDlThU/Screen-Shot-2021-06-18-at-14.47.52.png" title="Screen-Shot-2021-06-18-at-14.47.52.png"><img src="/user_uploads/3121/1jjOa6_Ybm_zltDfVstDlThU/Screen-Shot-2021-06-18-at-14.47.52.png"></a></div><div class="message_inline_image"><a href="/user_uploads/3121/8VRdJdpeh-eGU3yh2qRvKLRv/Screen-Shot-2021-06-18-at-14.54.47.png" title="Screen-Shot-2021-06-18-at-14.54.47.png"><img src="/user_uploads/3121/8VRdJdpeh-eGU3yh2qRvKLRv/Screen-Shot-2021-06-18-at-14.54.47.png"></a></div>



<a name="244669954"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20copilot/near/244669954" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/github.20copilot.html#244669954">(Jul 02 2021 at 07:50)</a>:</h4>
<p>I think queries in the background are a very good move. The less the user needs to do, the better.</p>



<a name="244669965"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20copilot/near/244669965" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/github.20copilot.html#244669965">(Jul 02 2021 at 07:50)</a>:</h4>
<p>Whether this is computationally feasible, I don't know.</p>



<a name="244670005"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20copilot/near/244670005" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/github.20copilot.html#244670005">(Jul 02 2021 at 07:51)</a>:</h4>
<p>I can imagine that "fire a query when the user explicitly asks for it" vs "fire a query every time the user hits a key" is a difference of maybe almost two orders of magnitude.</p>



<a name="244670104"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20copilot/near/244670104" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stanislas Polu <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/github.20copilot.html#244670104">(Jul 02 2021 at 07:52)</a>:</h4>
<p>Definitely but I'm confident we'll make it work <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span>  (by make it work I mean finding the compute to support the Lean community more than technically which is OK as demonstrated by Copilot)</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>