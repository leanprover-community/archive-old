---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Bors.20adding.20random.20co-authors.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Bors.20adding.20random.20co-authors.html">Bors adding random co-authors</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="276404017"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Bors%20adding%20random%20co-authors/near/276404017" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Bors.20adding.20random.20co-authors.html#276404017">(Mar 23 2022 at 21:36)</a>:</h4>
<p>Bors seems to be very confused: <a href="https://github.com/leanprover-community/mathlib/commit/cd942870af69a837bde360337bee1a88eb1611c2">https://github.com/leanprover-community/mathlib/commit/cd942870af69a837bde360337bee1a88eb1611c2</a></p>



<a name="276404145"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Bors%20adding%20random%20co-authors/near/276404145" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Bors.20adding.20random.20co-authors.html#276404145">(Mar 23 2022 at 21:37)</a>:</h4>
<p>Have a look at the commit history. <span class="user-mention" data-user-id="252627">@Jujian Zhang</span> must have merged master not cleanly.</p>



<a name="276404224"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Bors%20adding%20random%20co-authors/near/276404224" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Bors.20adding.20random.20co-authors.html#276404224">(Mar 23 2022 at 21:38)</a>:</h4>
<p>Looks like they rebased or merged backwards</p>



<a name="276404233"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Bors%20adding%20random%20co-authors/near/276404233" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Bors.20adding.20random.20co-authors.html#276404233">(Mar 23 2022 at 21:38)</a>:</h4>
<p>A normal merge wouldn't do that</p>



<a name="276404395"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Bors%20adding%20random%20co-authors/near/276404395" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Bors.20adding.20random.20co-authors.html#276404395">(Mar 23 2022 at 21:39)</a>:</h4>
<p>but shouldn't Bors just take the message body of the PR as the commit message no matter what happened in the PR?</p>



<a name="276404551"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Bors%20adding%20random%20co-authors/near/276404551" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jujian Zhang <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Bors.20adding.20random.20co-authors.html#276404551">(Mar 23 2022 at 21:41)</a>:</h4>
<p>Haha, I am very sorry about this; I think I made a wrong commit somewhere in the timeline. And reverted a commit then merged origin/master again.</p>



<a name="276405013"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Bors%20adding%20random%20co-authors/near/276405013" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Bors.20adding.20random.20co-authors.html#276405013">(Mar 23 2022 at 21:45)</a>:</h4>
<p>don't worry. I was more surprised about what Bors did and I didn't see the full commit history. Seems to be related to <a href="#narrow/stream/113488-general/topic/Co-authored-by">https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Co-authored-by</a></p>



<a name="276406572"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Bors%20adding%20random%20co-authors/near/276406572" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Bors.20adding.20random.20co-authors.html#276406572">(Mar 23 2022 at 22:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="412682">Moritz Doll</span> <a href="#narrow/stream/113488-general/topic/Bors.20adding.20random.20co-authors/near/276404395">said</a>:</p>
<blockquote>
<p>but shouldn't Bors just take the message body of the PR as the commit message no matter what happened in the PR?</p>
</blockquote>
<p>Perhaps that should be an option, but right now the logic is:</p>
<ul>
<li>Take the name of the main committer from the author who made the PR on github</li>
<li>Take the email address from the first commit in the PR</li>
<li>Assemble a list of co-authored-by entries from all the other commits in the PR</li>
</ul>



<a name="276406634"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Bors%20adding%20random%20co-authors/near/276406634" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Bors.20adding.20random.20co-authors.html#276406634">(Mar 23 2022 at 22:00)</a>:</h4>
<p>Note that step two is dangerous, as sometimes this isn't the same person as the one submitting the PR!</p>



<a name="276406702"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Bors%20adding%20random%20co-authors/near/276406702" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Bors.20adding.20random.20co-authors.html#276406702">(Mar 23 2022 at 22:01)</a>:</h4>
<p>Typically, <a href="https://github.com/leanprover-community/mathlib/pull/12746">#12746</a> (although I don't mind)</p>



<a name="276453070"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Bors%20adding%20random%20co-authors/near/276453070" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Bors.20adding.20random.20co-authors.html#276453070">(Mar 24 2022 at 10:02)</a>:</h4>
<p>Maybe we should have a bot that detects that</p>



<a name="276603592"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Bors%20adding%20random%20co-authors/near/276603592" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joachim Breitner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Bors.20adding.20random.20co-authors.html#276603592">(Mar 25 2022 at 11:09)</a>:</h4>
<p>Step three is also dangerous, especially together with squash merges to master: depending on your git workflow, if you need to juggle a DAG of dependent PRs, the commits from dependent-upon PR appear as it they are also on the final PR (even if the actual changes from these commits are already in <code>master</code> - git won't know). Not horrible to give credit where no credit is due, but still a bit annoying. Hard to fix, though, without disabling that feature completely.</p>



<a name="276604100"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Bors%20adding%20random%20co-authors/near/276604100" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Bors.20adding.20random.20co-authors.html#276604100">(Mar 25 2022 at 11:14)</a>:</h4>
<p>I think having the option to disable automatic addition of coauthors would be the best (and then disabling it for mathlib). It is not hard to add a line "Coauthored-by: .." in the PR body.</p>



<a name="276615246"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Bors%20adding%20random%20co-authors/near/276615246" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Bors.20adding.20random.20co-authors.html#276615246">(Mar 25 2022 at 13:04)</a>:</h4>
<p>It's somewhat hard, as you have to find the user's email address (which is why bors struggles in some cases)</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>