---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/elementary.20probability.20advice.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html">elementary probability advice</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="306030991"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306030991" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jeremy Avigad <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306030991">(Oct 25 2022 at 13:40)</a>:</h4>
<p>I have a student with limited mathematical background -- the only proofs he has seen are in an intro to proof course for non-math majors. He wants to formalize some elementary probability, i.e. discrete spaces only. The mathlib API will force him to figure out measurability, ennreals, etc., and I am worried that he will have a hard time with all that. So instead I encouraged him to use a class that axiomatizes a discrete probability measure directly, i.e. the probability maps arbitrary sets to the reals. Dealing with countable additivity (with <code>tsum</code>) might also be too challenging, but it should be enough for him to use finite additivity.</p>
<p>In short, I am advising him to ignore mathlib's notion of probability and roll his own simpler version to work with. Is there an easy way to get a similar effect using notions in mathlib? I know that <code>pmf.to_measure</code> should provide an instance of whatever he writes down, but I want him to have an API that is as simple as possible.</p>



<a name="306035920"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306035920" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306035920">(Oct 25 2022 at 14:03)</a>:</h4>
<p>There is an area called probabilistic graph theory, which uses the language of probability and proves theorems of the form "a graph with the following properties must exist" by arguing that if you fix a sufficiently vertex set and then define edges randomly, the probability that the graph has all the properties is positive, and hence such a graph must exist. This can all be translated down into concrete statements involving counting rather than probability, but my understanding is that when people tried this in the past mathlib's probability API was not particuarly well-equipped to deal with such arguments. The same might be true here. In a finite situation of course finite additivity is enough. I'm wondering whether you're just adding to the evidence that we need to either rethink or simply implement anew probability in this finite setting. <span class="user-mention" data-user-id="243312">@Jason KY.</span> <span class="user-mention" data-user-id="246273">@Bhavik Mehta</span> do you have any thoughts on this?</p>



<a name="306037104"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306037104" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason KY. <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306037104">(Oct 25 2022 at 14:09)</a>:</h4>
<p>I think Bhavik has the G(n,p) model formalized in a branch (am I correct?)</p>



<a name="306038068"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306038068" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306038068">(Oct 25 2022 at 14:14)</a>:</h4>
<p>Somewhat correct - I have the distribution on finite sets where each element is present iid, probability p with some basic api. But I didn't explicitly link this to mathlib graphs, though it's technically more general</p>



<a name="306038075"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306038075" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jeremy Avigad <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306038075">(Oct 25 2022 at 14:14)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> Yes, I had that in mind. Such an API would be good for teaching, but it should also really helpful for proofs involving the probabilistic method.</p>



<a name="306038702"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306038702" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason KY. <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306038702">(Oct 25 2022 at 14:17)</a>:</h4>
<p>Most of the current finite probability stuff in mathlib is built on the measure theory sections (I don't know much about the <code>pmf</code> part of the library so maybe it's different there) so it might be difficult to avoid measure theory if they want to use mathlib. Doing probability without measure theory is certainly doable however (there are libraries in Coq and Mizar that only do discrete probability) and I think <span class="user-mention" data-user-id="330967">@Wrenna Robson</span> was interested in fromalising finite probability without measure theory in Lean.</p>



<a name="306038882"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306038882" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jeremy Avigad <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306038882">(Oct 25 2022 at 14:18)</a>:</h4>
<p>I don't think it has to be linked to graphs per se. Just a nice library for calculating with finite probabilities, without all the side conditions, would be good. My students are doing a small project now and will do a bigger one after that. I'll see if I can sell it to one of them.</p>



<a name="306039004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306039004" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306039004">(Oct 25 2022 at 14:18)</a>:</h4>
<p>Yes. I have less time currently for this stuff as I'm an internship but I do think it would be a good idea. The point is that a lot of fields use this fundamentally "naive probability" view and it's quite useful.</p>



<a name="306039256"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306039256" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306039256">(Oct 25 2022 at 14:20)</a>:</h4>
<p>As it happens I'm currently on an internship at a quantum computing company and one thing I've been wondering is: what do we actually need to use the language of probabilities as featured in quantum physics/quantum information theory? If I'm entirely honest... I think it's a lot closer to the finite distributions case.</p>



<a name="306039374"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306039374" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306039374">(Oct 25 2022 at 14:20)</a>:</h4>
<p>Or to pick another applied example that I'm familiar with, look at the use of probability in probabilistic relational Hoare logic.</p>



<a name="306039511"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306039511" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306039511">(Oct 25 2022 at 14:21)</a>:</h4>
<p>All of the other probability things I've done were all avoiding the probability library, but I think it's possible to combine them - I can put together a basic example tomorrow of a proof in probabilistic graph theory if it'd be helpful?</p>



<a name="306039643"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306039643" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306039643">(Oct 25 2022 at 14:22)</a>:</h4>
<p>The point is not so much that we need any one of these things, or graphs, etc. (though it would be good). The point is that there are a number of fields, inside and outside probability, which use probability while not really expecting the user to have any kind of grasp of the true details of measure theory etc.</p>



<a name="306039692"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306039692" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306039692">(Oct 25 2022 at 14:22)</a>:</h4>
<p>I am taking the Cambridge Extremal and Probabilistic Combinatorics course this term, and I would be very interested in applying the probability theory library in this finite setting.</p>



<a name="306040108"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306040108" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306040108">(Oct 25 2022 at 14:24)</a>:</h4>
<p>It shouldn't be the case that you have to have that kind of background in order to use it, because as we see here with Jeremy's student, sometimes people don't. We are limiting the ability of mathlib to be a foundation for later work if we don't look at creating a good interface onto naïve probability theory/a "theory of finite distributions". Really a lot of it is "theory of weighted finite non-negative sums where the sum of the weights is 1".</p>



<a name="306040534"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306040534" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306040534">(Oct 25 2022 at 14:26)</a>:</h4>
<p>My belief right now is that the current setup can be made to work without a good understanding of measure theory, just with a few examples of how to use it and perhaps a guide, but no need to explicitly talk about any measure theory</p>



<a name="306040547"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306040547" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306040547">(Oct 25 2022 at 14:26)</a>:</h4>
<p>I don't know anything about probability theory, but it seems it would be nice to have a bunch of lemmas relating the general theory to the elementary one, just like we have lemmas recasting all topology definitions in terms of epsilons and deltas when working with metric spaces.</p>



<a name="306040551"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306040551" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306040551">(Oct 25 2022 at 14:26)</a>:</h4>
<p>My longer-term suggestion for the health and future of the library is to get advice from different people who use probability in different ways when designing this (I have tried to sketch out a few above). I think it's a really good opportunity not simply to do interesting mathematics but to <em>make mathlib better</em> as a foundation for people to do mathematics and mathematical reasoning in a formal context.</p>



<a name="306040761"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306040761" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306040761">(Oct 25 2022 at 14:27)</a>:</h4>
<p>Yeah agreed Patrick and that wouldn't surprise me Bhavik, but currently we don't have a way into that.</p>



<a name="306041009"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306041009" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306041009">(Oct 25 2022 at 14:28)</a>:</h4>
<p>Jason and I will probably formalise some of the aforementioned course, and I am planning to take this as an opportunity to develop elementary probability theory in mathlib.</p>



<a name="306041056"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306041056" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306041056">(Oct 25 2022 at 14:29)</a>:</h4>
<p>Ultimately most of the maths of QM, I think, isn't "really" probability but has a probabilistic interpretation. But that probability does keep coming up.</p>



<a name="306041100"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306041100" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306041100">(Oct 25 2022 at 14:29)</a>:</h4>
<p>That would be really great Yaël.</p>



<a name="306041146"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306041146" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jeremy Avigad <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306041146">(Oct 25 2022 at 14:29)</a>:</h4>
<p>Agreed all around. Bhavik, maybe hold off on experimenting? I have some talented students in my class, and this will be a good project if I can talk them into it.</p>



<a name="306041459"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306041459" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306041459">(Oct 25 2022 at 14:30)</a>:</h4>
<p>One notion I've seen in some areas of probabilistic logic/formal methods btw is the notion of "subdistributions", which are basically just probability distributions where the sum of the probabilities is at most 1 rather than being exactly 1. Quite nice to have the flexibility to allow for things like that if it's natural.</p>



<a name="306041469"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306041469" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jeremy Avigad <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306041469">(Oct 25 2022 at 14:30)</a>:</h4>
<p>Oh, sorry, our messages are crossing. Yael, Jason, let me know if you are likely to do this within the next month or two.</p>



<a name="306041486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306041486" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306041486">(Oct 25 2022 at 14:30)</a>:</h4>
<p>One thing to bear in mind is that even when working with explicit distributions on finite spaces, some arguments still use infinite spaces under the hood - consider the G(n, p) model of random graphs, and the random variable on it given by "number of k-cliques in the graph". Now the expectation of this rv would be increasing in p, and the easiest way of showing this is to instead assign a uniform [0,1] to each edge, and derive G(n, p) and G(n, p') on that, then the coupled variables give the result immediately</p>



<a name="306041619"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306041619" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306041619">(Oct 25 2022 at 14:31)</a>:</h4>
<p>Yes. I do worry about this - that there's often sneaky uses of infinite stuff.</p>



<a name="306041629"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306041629" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306041629">(Oct 25 2022 at 14:31)</a>:</h4>
<p>And this is precisely what I did (in a more general form) in the branch I mentioned earlier</p>



<a name="306042006"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306042006" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306042006">(Oct 25 2022 at 14:32)</a>:</h4>
<p>(actually that's a slight lie - I did the probability of one existing, not the expected number, but the same principle applies!)</p>



<a name="306042098"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306042098" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306042098">(Oct 25 2022 at 14:33)</a>:</h4>
<p>(For reference: this is the paper I've been reading lately. The author has formalised this content in a tool built on top of Isabelle/HOL-Analysis, if you want a point of comparison of what other libraries can do.)</p>
<p><a href="https://arxiv.org/abs/1802.03188#:~:text=This%20logic%20follows%20the%20spirit,proofs%20of%20classical%20cryptographic%20protocols">https://arxiv.org/abs/1802.03188#:~:text=This%20logic%20follows%20the%20spirit,proofs%20of%20classical%20cryptographic%20protocols</a>.</p>



<a name="306042466"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306042466" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306042466">(Oct 25 2022 at 14:35)</a>:</h4>
<p>See the definition of "distributions" on page 11 (which isn't actually finitary, but it's also not really a measure theory perspective either...).</p>



<a name="306042654"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306042654" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306042654">(Oct 25 2022 at 14:36)</a>:</h4>
<p>Indeed in a footnote: "we do not consider distributions over arbitrary measurable spaces, only discrete ones".</p>



<a name="306043363"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306043363" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rémi Bottinelli <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306043363">(Oct 25 2022 at 14:39)</a>:</h4>
<p>Maybe this is totally off, but I was thinking  <em><a href="https://www.cs.ru.nl/B.Jacobs/PAPERS/ProbabilisticReasoning.pdf">Structured probabilistic reasonning</a></em> by Bart Jacobs could be a good resource to formalize "elementary" probability theory ?</p>



<a name="306045565"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306045565" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306045565">(Oct 25 2022 at 14:50)</a>:</h4>
<p>That actually looks really really good.</p>



<a name="306045618"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306045618" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306045618">(Oct 25 2022 at 14:50)</a>:</h4>
<p>Wow. Yeah no I think that could be a fantastic foundation.</p>



<a name="306045976"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306045976" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rémi Bottinelli <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306045976">(Oct 25 2022 at 14:52)</a>:</h4>
<p>Great :) Thought so too but one never knows!</p>



<a name="306049104"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306049104" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason KY. <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306049104">(Oct 25 2022 at 15:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110865">Jeremy Avigad</span> <a href="#narrow/stream/113488-general/topic/elementary.20probability.20advice/near/306041469">said</a>:</p>
<blockquote>
<p>Oh, sorry, our messages are crossing. Yael, Jason, let me know if you are likely to do this within the next month or two.</p>
</blockquote>
<p>I'm not sure what <span class="user-mention" data-user-id="387244">@Yaël Dillies</span>'s timeframe for this is. I don't plan to write too much serious lean for a bit while I'm doing phd applications so I think your student's project won't conflict with us.</p>



<a name="306056163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306056163" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306056163">(Oct 25 2022 at 15:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="330967">Wrenna Robson</span> <a href="#narrow/stream/113488-general/topic/elementary.20probability.20advice/near/306039256">said</a>:</p>
<blockquote>
<p>As it happens I'm currently on an internship at a quantum computing company and one thing I've been wondering is: what do we actually need to use the language of probabilities as featured in quantum physics/quantum information theory? If I'm entirely honest... I think it's a lot closer to the finite distributions case.</p>
</blockquote>
<p>I'd say the situation is quite similar to probability theory: the finite-dimensional case is easy like finite distributions, and in the infinite-dimensional case you have to get into much more complicated stuff like von Neumann algebras.</p>



<a name="306071922"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306071922" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kalle Kytölä <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306071922">(Oct 25 2022 at 16:42)</a>:</h4>
<p>I completely agree with <span class="user-mention silent" data-user-id="110031">Patrick Massot</span> , the problem is the lack of an API for finite probability spaces --- and the ideal solution would be an API. <span class="user-mention silent" data-user-id="246273">Bhavik Mehta</span>'s innocent-looking coupling example about graph probability brilliantly illustrates that the API really needs to connect to mathlib's measure theoretic probability.</p>



<a name="306071988"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306071988" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kalle Kytölä <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306071988">(Oct 25 2022 at 16:43)</a>:</h4>
<p>Incidentally, there was a <a href="#narrow/stream/116395-maths/topic/.60nnreal.60.20vs.2E.20.60ennreal.60.20in.20.60pmf.60/near/303518183">recent discussion</a> (and a PR <a href="https://github.com/leanprover-community/mathlib/pull/17032">#17032</a>) about making probability mass functions (pmf) <code>ennreal</code>-valued, instead of <code>nnreal</code> valued. I did not weigh in, since I have had very little time to contribute, but my fear is such a design choice will make elementary uses of probability more painful. For instance, if <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span></span></span></span> is a pmf on a finite set <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span>, and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mspace></mspace><mspace width="0.1111em"/><mo lspace="0em" rspace="0.17em"></mo><mtext> ⁣</mtext><mo lspace="0em" rspace="0em">:</mo><mspace width="0.3333em"/><mi>S</mi><mo>→</mo><mi mathvariant="double-struck">R</mi></mrow><annotation encoding="application/x-tex">f \colon S \to \R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace nobreak"></span><span class="mspace" style="margin-right:0.1111em;"></span><span class="mpunct"></span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mrel">:</span></span><span class="mspace" style="margin-right:0.3333em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord mathbb">R</span></span></span></span> is a function, one would like to write the expectation of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span> as</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="sans-serif">E</mi><mo stretchy="false">[</mo><mi>f</mi><mo stretchy="false">]</mo><mo>=</mo><munder><mo>∑</mo><mrow><mi>s</mi><mo>∈</mo><mi>S</mi></mrow></munder><mi>f</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mtext> </mtext><mi>p</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">\mathsf{E}[f] = \sum_{s \in S} f(s) \, p(s) ,</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathsf">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.3717em;vertical-align:-1.3217em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-1.8557em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3217em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mpunct">,</span></span></span></span></span></p>
<p>but with ennreal-valued pmfs one can't since there is no multiplication of <code>ℝ≥0∞</code> with <code>ℝ</code> (the summands don't <em>typecheck</em>). So favoring ennreals might be less painful now that there is no API for finite probabilities, but I'm afraid it will be a worse choice once an otherwise good API would be in place. (This had been my rationale for having <a href="https://leanprover-community.github.io/mathlib_docs/find/measure_theory.probability_measure">docs#measure_theory.probability_measure</a> to have a <a href="https://leanprover-community.github.io/mathlib_docs/find/measure_theory.probability_measure.has_coe_to_fun">docs#measure_theory.probability_measure.has_coe_to_fun</a>, which is <code>nnreal</code>-valued instead of simply using the underlying <a href="https://leanprover-community.github.io/mathlib_docs/find/measure_theory.measure.has_coe_to_fun">docs#measure_theory.measure.has_coe_to_fun</a>, but admittedly a lot of API is missing before this becomes anything more than a pain).</p>
<p>Anyway, no API is a big problem either way!</p>



<a name="306091728"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306091728" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306091728">(Oct 25 2022 at 18:09)</a>:</h4>
<p>I'd just like to point out that for the Birthday problem, I recently tried to restate it as the probability of a function being injective (as opposed to the cardinality of the set of functions/cardinality of the set of injective functions) and it was a pain. Further, I'm told that doing something like turning that into the standard interpretation about <code>n</code> independent iid random variables would be "a pain"</p>



<a name="306091901"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306091901" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306091901">(Oct 25 2022 at 18:10)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/blob/master/archive/100-theorems-list/93_birthday_problem.lean">https://github.com/leanprover-community/mathlib/blob/master/archive/100-theorems-list/93_birthday_problem.lean</a></p>
<p>This is the relevant code; there weas missing API that I needed to add for simple things, and also some of the lines are pretty "magical" if you don't know Lean</p>



<a name="306099290"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306099290" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306099290">(Oct 25 2022 at 18:47)</a>:</h4>
<p>I feel that we are really missing is a good notation for <code>(ℙ s).to_real</code> when <code>ℙ</code> is a probability measure (or a finite measure, or even a general measure maybe), and then a basic API around this notation. This would make it possible to avoid completely ennreals in a lot of natural situations.</p>



<a name="306104405"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306104405" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kalle Kytölä <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306104405">(Oct 25 2022 at 19:16)</a>:</h4>
<p>Is it clear <code>real</code> is better than <code>nnreal</code>?</p>
<p>For a few reasons I had thought <code>ℝ≥0</code> would be better here (in particular <code>nnreal</code>s coerce automatically to <code>real</code>s, whereas the other way around one may need positivity proofs) (although an argument for the opposite is that arithmetic on <code>real</code>s is less pathological). Either way, for such a purpose, in my opinion a decent notation is provided by <a href="https://leanprover-community.github.io/mathlib_docs/find/measure_theory.finite_measure.has_coe_to_fun">docs#measure_theory.finite_measure.has_coe_to_fun</a> (and <a href="https://leanprover-community.github.io/mathlib_docs/find/measure_theory.probability_measure.has_coe_to_fun">docs#measure_theory.probability_measure.has_coe_to_fun</a>), which allows to write simply <code>ℙ s</code> (which gets pretty-printed as <code>⇑ℙ s</code>). I think making these coercions to functions a default spelling might be a good idea for elementary probability; either keeping them <code>nnreal</code>-valued as they are or <code>real</code>-valued if we prefer that. Then an acceptable notation would exist, but obviously API around that is still missing.</p>
<p>(Just to clarify: <code>measure</code> obviously has an <code>ℝ≥0∞</code>-valued coe_to_fun, but <code>finite_measure</code> and <code>probability_measure</code> currently have an <code>ℝ≥0</code>-valued and could be changed to have <code>ℝ</code>-valued coe_to_funs.)</p>



<a name="306104564"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306104564" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306104564">(Oct 25 2022 at 19:17)</a>:</h4>
<p>Two advantages of <code>real</code>: more tactics work with it, and it's what it says in all the books</p>



<a name="306108683"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306108683" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kalle Kytölä <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306108683">(Oct 25 2022 at 19:43)</a>:</h4>
<p>Also, does someone have clear ideas about what the API should involve? I'm thinking: finite and countable additivity, monotonicity, complement probabilities, at least, maybe monotone increasing and decreasing convergence of measures. Anything connecting to expected values (integration) quite naturally remains <code>ennreal</code>-valued anyway. (Except on finite types with real-valued functions or more generally bounded measurable functions one could even have direct API for expected values with real values. Where real really in mathlib generality means <code>{R : Type*} [normed_add_comm_group R] [normed_space ℝ R] [complete_space R]</code>. But the elementary API choices start to get more complicated already here.)</p>
<p>This means duplicating some amount of API from measure theory (of course proofs get shorter as they only involve coercions from <code>ennreal</code> to whichever of the two finite alternatives we'd choose).</p>



<a name="306109047"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306109047" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kalle Kytölä <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306109047">(Oct 25 2022 at 19:45)</a>:</h4>
<p>I have been intending to change the notations in <a href="https://leanprover-community.github.io/mathlib_docs/measure_theory/measure/finite_measure_weak_convergence.html#top">this file</a> to <code>ℙ</code> and <code>Ω</code> instead of <code>μ</code> and <code>α</code>, so I think I could give the very basic API a go at the same time.</p>



<a name="306110437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306110437" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306110437">(Oct 25 2022 at 19:54)</a>:</h4>
<p>I am not sure about the coercion business. My problem is that most probability measure will comes as <code>(ℙ : measure Ω ) [is_probability_measure ℙ]</code>, and for these the ennreal-valued coercion is already registered.</p>



<a name="306110796"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306110796" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306110796">(Oct 25 2022 at 19:57)</a>:</h4>
<p>But we could have something like <code>ℙ.real s</code>, which is not too long. And it is not hard to say to a newcomer that the probability of a set is denoted always by <code>ℙ.real s</code> (and please don't ask why).</p>



<a name="306111825"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306111825" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kalle Kytölä <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306111825">(Oct 25 2022 at 20:02)</a>:</h4>
<p>I'm definitely biased: I construct most of my probability measures as weak limits (thermodynamical limits, scaling limits) of something else, and then they are <code>probability_measure</code>s, since that's the type that has the topology of weak convergence.</p>
<p>Also constructing anything from i.i.d. samples often involves infinite product measures, which don't make a lot of sense for <code>measure</code>s or even <code>finite_measure</code>s, do they?</p>
<p>So I'm not yet sure most probability measures would come as <code>(ℙ : measure Ω) [is_probability_measure ℙ]</code> rather than as <code>(ℙ : probability_measure Ω)</code>.</p>



<a name="306114813"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306114813" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306114813">(Oct 25 2022 at 20:20)</a>:</h4>
<p>Per that link above, I'm not sure if it's finite or discrete probability distributions that we need an API to. Both, quite possibly.</p>



<a name="306114935"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306114935" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306114935">(Oct 25 2022 at 20:21)</a>:</h4>
<p>The link that Rémi posted, to be clear.</p>



<a name="306114976"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306114976" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306114976">(Oct 25 2022 at 20:21)</a>:</h4>
<p>I'm really struck by the formalism presented there.</p>



<a name="306117144"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306117144" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306117144">(Oct 25 2022 at 20:34)</a>:</h4>
<p><a href="/user_uploads/3121/ZCH8I94G6WW5aurzey8A1soG/c72144e3-3953-4632-8f68-0759b298c90d.jpg">c72144e3-3953-4632-8f68-0759b298c90d.jpg</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/ZCH8I94G6WW5aurzey8A1soG/c72144e3-3953-4632-8f68-0759b298c90d.jpg" title="c72144e3-3953-4632-8f68-0759b298c90d.jpg"><img src="/user_uploads/3121/ZCH8I94G6WW5aurzey8A1soG/c72144e3-3953-4632-8f68-0759b298c90d.jpg"></a></div>



<a name="306117249"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306117249" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306117249">(Oct 25 2022 at 20:35)</a>:</h4>
<p>It's a serious formalism but it doesn't use a measure-based approach at all, it's doing quite a different thing for different reasons. But I think there could be a place for it.</p>



<a name="306117944"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306117944" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306117944">(Oct 25 2022 at 20:39)</a>:</h4>
<p>But to me this points to something built on top of multiset.</p>



<a name="306189328"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306189328" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306189328">(Oct 26 2022 at 08:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="311453">Frédéric Dupuis</span> <a href="#narrow/stream/113488-general/topic/elementary.20probability.20advice/near/306056163">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="330967">Wrenna Robson</span> <a href="#narrow/stream/113488-general/topic/elementary.20probability.20advice/near/306039256">said</a>:</p>
<blockquote>
<p>As it happens I'm currently on an internship at a quantum computing company and one thing I've been wondering is: what do we actually need to use the language of probabilities as featured in quantum physics/quantum information theory? If I'm entirely honest... I think it's a lot closer to the finite distributions case.</p>
</blockquote>
<p>I'd say the situation is quite similar to probability theory: the finite-dimensional case is easy like finite distributions, and in the infinite-dimensional case you have to get into much more complicated stuff like von Neumann algebras.</p>
</blockquote>
<p>Yeah - in quantum information theory one seems to only encounter finite dimensions, but I'm sure there are exceptions to that even there.</p>



<a name="306196839"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306196839" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306196839">(Oct 26 2022 at 09:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113488-general/topic/elementary.20probability.20advice/near/306104564">said</a>:</p>
<blockquote>
<p>Two advantages of <code>real</code>: more tactics work with it, and it's what it says in all the books</p>
</blockquote>
<p>Also <code>ℝ</code> has a well-behaved subtraction. For example I recently added <a href="https://leanprover-community.github.io/mathlib_docs/find/measure_theory.prob_compl_eq_one_sub">docs#measure_theory.prob_compl_eq_one_sub</a> but as I explain in the doc string, it's not really the lemma I wanted.</p>



<a name="306199571"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306199571" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306199571">(Oct 26 2022 at 09:33)</a>:</h4>
<p>Aye.</p>



<a name="306199604"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306199604" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306199604">(Oct 26 2022 at 09:33)</a>:</h4>
<p>And sometimes you do subtract probabilities</p>



<a name="306199637"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306199637" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306199637">(Oct 26 2022 at 09:33)</a>:</h4>
<p>(and expect negative results)</p>



<a name="306202122"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306202122" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306202122">(Oct 26 2022 at 09:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="330967">Wrenna Robson</span> <a href="#narrow/stream/113488-general/topic/elementary.20probability.20advice/near/306189328">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="311453">Frédéric Dupuis</span> <a href="#narrow/stream/113488-general/topic/elementary.20probability.20advice/near/306056163">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="330967">Wrenna Robson</span> <a href="#narrow/stream/113488-general/topic/elementary.20probability.20advice/near/306039256">said</a>:</p>
<blockquote>
<p>As it happens I'm currently on an internship at a quantum computing company and one thing I've been wondering is: what do we actually need to use the language of probabilities as featured in quantum physics/quantum information theory? If I'm entirely honest... I think it's a lot closer to the finite distributions case.</p>
</blockquote>
<p>I'd say the situation is quite similar to probability theory: the finite-dimensional case is easy like finite distributions, and in the infinite-dimensional case you have to get into much more complicated stuff like von Neumann algebras.</p>
</blockquote>
<p>Yeah - in quantum information theory one seems to only encounter finite dimensions, but I'm sure there are exceptions to that even there.</p>
</blockquote>
<p>(I should say: as in, "in the basic or practical approaches I've read".)</p>



<a name="306221765"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306221765" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Vincent Beffara <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306221765">(Oct 26 2022 at 11:50)</a>:</h4>
<p>From <code>probability/notation.lean</code>,</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">`</span><span class="n">ℙ</span><span class="bp">`</span> <span class="n">is</span> <span class="n">a</span> <span class="kd">notation</span> <span class="n">for</span> <span class="bp">`</span><span class="n">volume</span><span class="bp">`</span> <span class="n">on</span> <span class="n">a</span> <span class="n">measured</span> <span class="n">space</span>
</code></pre></div>
<p>so calling an explicit probability measure <code>ℙ</code> feels a bit dangerous. But on the other hand, one could change the meaning of the notation to instead take real values (so it would be notation for <code>λ s, (volume s).to_real</code>). I'm guessing that this particular notation is almost never used outside probability spaces anyway? Then, newcomers would say <code>ℙ</code> and have their expected behavior, and more experienced users can still use <code>volume</code> explicitly if needed to fit within the general measurable space API.</p>



<a name="306249559"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306249559" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306249559">(Oct 26 2022 at 14:15)</a>:</h4>
<p><a href="https://arxiv.org/pdf/1804.01193.pdf">https://arxiv.org/pdf/1804.01193.pdf</a> - This (essentially similar to the other Brett Jacobs pdf above in its approach) proposes a different notation/concept for probability. It has a lot of advantages as I see it, though the disadvantage of being unfamiliar notation. But at least it would avoid a confusion with the measure-theoretic interpretation of probability.</p>



<a name="306328146"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306328146" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kalle Kytölä <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306328146">(Oct 26 2022 at 20:49)</a>:</h4>
<p>I have two small concerns about <span class="user-mention" data-user-id="242586">@Vincent Beffara</span>'s proposal of having <code>ℙ</code> be notation for <code>λ s, (volume s).to_real</code> for elementary probability purposes.</p>



<a name="306328210"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306328210" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kalle Kytölä <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306328210">(Oct 26 2022 at 20:50)</a>:</h4>
<p>The first is that even in elementary probability one often has multiple probability measures around, so <code>volume</code> might not be a very universal spelling even under the hood (for example conditional probability versions of some original probability measure, coin tosses with different probability of heads, other parametric distributions such as Poisson, Geometric, ...).</p>



<a name="306328237"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306328237" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kalle Kytölä <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306328237">(Oct 26 2022 at 20:50)</a>:</h4>
<p>The second concern is a technicality and it might not be an issue at all. Would <code>ℙ</code> as notation for <code>λ s, (volume s).to_real</code> allow for natural development of API that would be convenient for elementary probability theory? I'm thinking in particular of rewrite lemmas and especially <code>@[simp]</code>-lemmas. Is it reasonable to find good simp normal forms for expression that involve <code>(volume s).to_real</code> under the hood (although perhaps with type class <code>[is_probability_measure volume]</code> floating around)? Sorry, I'm just not experienced enough with notations; I don't know if the simp normal form with the notation can be different from the simp normal form of the unfolded notation... ...so this might or might not be an issue at all.</p>



<a name="306338703"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306338703" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Vincent Beffara <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306338703">(Oct 26 2022 at 21:45)</a>:</h4>
<p><span class="user-mention silent" data-user-id="373986">Kalle Kytölä</span> <a href="#narrow/stream/113488-general/topic/elementary.20probability.20advice/near/306328210">said</a>:</p>
<blockquote>
<p>The first is that even in elementary probability one often has multiple probability measures around, so <code>volume</code> might not be a very universal spelling even under the hood (for example conditional probability versions of some original probability measure, coin tosses with different probability of heads, other parametric distributions such as Poisson, Geometric, ...).</p>
</blockquote>
<p>Not sure I would worry too much about this, because the usual theoretical setup is one probability space <code>\Omega</code> equipped with one probability measure <code>P</code> (a.k.a <code>volume</code>) and many random variables defined on <code>\Omega</code> with values in <code>\R</code>, <code>\N</code> and so on. The image measures are different for sure, but they are not <code>volume</code> : to get the probability that a r.v. <code>X</code> is in <code>s</code> we would not say  <code>\bbP s</code> but <code>\bbP {\omega | X \omega \in s}</code>. There are certainly the usual issues of constructing conditioned random variables and so on on the same probability space, but I believe we will have these in any case independent of the notation issue.</p>
<p>But come to think of it, <code>\bbP {\omega | X \omega \in s}</code> is definitely not usual probability notation, we would need something closer to <code>\bbP [X \in s]</code> and <code>\bbP [0 &lt; X]</code> and <code>\bbP [X^2 &lt; 1 \and Y \le X]</code> and ... and I have no idea if this is at all feasible.</p>



<a name="306346716"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306346716" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kalle Kytölä <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306346716">(Oct 26 2022 at 22:54)</a>:</h4>
<p>For conditioning in elementary probability I have in mind for example the fan favorite <em>"covid home test"</em> from freshman proba. I don't think such applications would be rare, especially if Lean were ever used for teaching elementary proba.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">probability.martingale.borel_cantelli</span>
<span class="kn">import</span> <span class="n">measure_theory.measure.finite_measure_weak_convergence</span>

<span class="kd">noncomputable theory</span>

<span class="n">localized</span> <span class="s2">"notation (name := measure_space.volume.to_real)</span>
<span class="s2">  `ℙ` := (λ s, (measure_theory.measure_space.volume s).to_real)"</span> <span class="k">in</span> <span class="n">elementary_probability</span>

<span class="kn">namespace</span> <span class="n">elementary_probability</span>

<span class="kn">open</span> <span class="n">measure_theory</span> <span class="n">ennreal</span> <span class="n">nnreal</span>
<span class="n">open_locale</span> <span class="n">ennreal</span> <span class="n">nnreal</span>

<span class="kn">section</span> <span class="n">covid_test</span>

<span class="kd">inductive</span> <span class="bp">Ω</span>
<span class="bp">|</span> <span class="n">true_pos</span>
<span class="bp">|</span> <span class="n">true_neg</span>
<span class="bp">|</span> <span class="n">false_pos</span>
<span class="bp">|</span> <span class="n">false_neg</span>

<span class="kd">instance</span> <span class="o">:</span> <span class="n">measurable_space</span> <span class="bp">Ω</span> <span class="o">:=</span> <span class="bp">⊤</span>
<span class="kd">instance</span> <span class="o">:</span> <span class="n">measure_space</span> <span class="bp">Ω</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">volume</span> <span class="o">:=</span> <span class="o">(</span><span class="mi">4</span> <span class="o">:</span> <span class="n">ℝ</span><span class="bp">≥</span><span class="mi">0</span><span class="bp">∞</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">•</span> <span class="n">measure.count</span> <span class="bp">..</span> <span class="o">}</span> <span class="c1">-- a better example would really use something interesting here, but...</span>

<span class="kd">def</span> <span class="n">sick</span> <span class="o">:</span> <span class="n">set</span> <span class="bp">Ω</span> <span class="o">:=</span> <span class="o">{</span><span class="bp">Ω.</span><span class="n">true_pos</span><span class="o">,</span> <span class="bp">Ω.</span><span class="n">false_neg</span><span class="o">}</span>
<span class="kd">def</span> <span class="n">healthy</span> <span class="o">:=</span> <span class="n">sick</span><span class="bp">ᶜ</span>
<span class="kd">def</span> <span class="n">home_test_pos</span> <span class="o">:</span> <span class="n">set</span> <span class="bp">Ω</span> <span class="o">:=</span> <span class="o">{</span><span class="bp">Ω.</span><span class="n">true_pos</span><span class="o">,</span> <span class="bp">Ω.</span><span class="n">false_pos</span><span class="o">}</span>
<span class="kd">def</span> <span class="n">home_test_neg</span> <span class="o">:=</span> <span class="n">home_test_pos</span><span class="bp">ᶜ</span>

<span class="kd">def</span> <span class="n">measure_theory.measure.conditioned</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">measurable_space</span> <span class="n">α</span><span class="o">]</span>
  <span class="o">(</span><span class="n">μ</span> <span class="o">:</span> <span class="n">measure</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span> <span class="o">(</span><span class="n">μ</span> <span class="n">C</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">•</span> <span class="o">(</span><span class="n">μ.restrict</span> <span class="n">C</span><span class="o">)</span>

<span class="kd">def</span> <span class="n">ℙ₁</span> <span class="o">:</span> <span class="n">measure</span> <span class="bp">Ω</span> <span class="o">:=</span> <span class="n">volume.conditioned</span> <span class="n">home_test_pos</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">ℙ</span> <span class="n">sick</span> <span class="bp">=</span> <span class="mi">1</span> <span class="bp">-</span> <span class="n">ℙ</span> <span class="n">healthy</span> <span class="o">:=</span> <span class="gr">sorry</span> <span class="c1">-- 1 ∈ ℝ</span>
<span class="kd">example</span> <span class="o">:</span> <span class="n">ℙ₁</span> <span class="n">sick</span> <span class="bp">=</span> <span class="mi">1</span> <span class="bp">-</span> <span class="n">ℙ₁</span> <span class="n">healthy</span> <span class="o">:=</span> <span class="gr">sorry</span> <span class="c1">-- 1 ∈ ℝ≥0∞</span>

<span class="n">localized</span> <span class="s2">"notation (name := measure_space.volume.conditioned.to_real)</span>
<span class="s2">  `ℙcond` := (λ s c, (measure_theory.measure_space.volume.conditioned c s).to_real)"</span> <span class="k">in</span> <span class="n">elementary_probability</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">ℙcond</span> <span class="n">sick</span> <span class="n">home_test_pos</span> <span class="bp">=</span> <span class="mi">1</span> <span class="bp">-</span> <span class="n">ℙcond</span> <span class="n">healthy</span> <span class="n">home_test_pos</span> <span class="o">:=</span> <span class="gr">sorry</span> <span class="c1">-- 1 ∈ ℝ again</span>

<span class="kd">end</span> <span class="n">covid_test</span>

<span class="kd">end</span> <span class="n">elementary_probability</span>
</code></pre></div>
<p>It is of course possible (like above) to define yet another specialized notation for conditional probabilities (assuming they are always conditional versions of <code>volume</code>), but this is definitely not my favorite route. My preferred approach would have the conditioning <code>probability_measure Ω → set Ω → probability_measure Ω</code> with junk value <code>default</code> when conditioning on zero probability events or non-measurable sets. And API around <code>probability_measure.has_coe_to_fun</code>. But Sébastien was not convinced of this coe_to_fun approach...</p>
<p>(<code>measure_theory.measure.conditioned</code> above is not well implemented for instance because it doesn't provide the junk values and can't automatically get the <code>[is_probability_measure]</code> type class, but that's beside the point)</p>



<a name="306346827"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/306346827" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kalle Kytölä <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#306346827">(Oct 26 2022 at 22:56)</a>:</h4>
<p>Incidentally I also failed to make simp lemmas hit the notation, but this may be just my incompetence:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">probability.martingale.borel_cantelli</span>
<span class="kn">import</span> <span class="n">measure_theory.measure.finite_measure_weak_convergence</span>

<span class="kd">noncomputable theory</span>

<span class="n">localized</span> <span class="s2">"notation (name := measure_space.volume.to_real)</span>
<span class="s2">  `ℙ` := (λ s, (measure_theory.measure_space.volume s).to_real)"</span> <span class="k">in</span> <span class="n">elementary_probability</span>

<span class="kn">namespace</span> <span class="n">elementary_probability</span>

<span class="kn">open</span> <span class="n">measure_theory</span> <span class="n">ennreal</span> <span class="n">nnreal</span>
<span class="n">open_locale</span> <span class="n">ennreal</span> <span class="n">nnreal</span>

<span class="kd">variables</span> <span class="o">{</span><span class="bp">Ω</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">measure_space</span> <span class="bp">Ω</span><span class="o">]</span> <span class="o">[</span><span class="n">is_probability_measure</span> <span class="o">(</span><span class="n">volume</span> <span class="o">:</span> <span class="n">measure</span> <span class="bp">Ω</span><span class="o">)]</span>

<span class="kd">@[simp]</span> <span class="kd">lemma</span> <span class="n">complement_proba</span>
  <span class="o">{</span><span class="n">E</span> <span class="o">:</span> <span class="n">set</span> <span class="bp">Ω</span><span class="o">}</span> <span class="o">(</span><span class="n">E_event</span> <span class="o">:</span> <span class="n">measurable_set</span> <span class="n">E</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">ℙ</span> <span class="n">E</span><span class="bp">ᶜ</span> <span class="bp">=</span> <span class="mi">1</span> <span class="bp">-</span> <span class="n">ℙ</span> <span class="n">E</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">have</span> <span class="n">key</span> <span class="o">:=</span> <span class="bp">@</span><span class="n">measure_compl</span> <span class="n">_</span> <span class="n">_</span> <span class="n">volume</span> <span class="n">_</span> <span class="n">E_event</span> <span class="o">(</span><span class="n">measure_ne_top</span> <span class="n">volume</span> <span class="n">E</span><span class="o">),</span>
  <span class="n">apply_fun</span> <span class="n">ennreal.to_real</span> <span class="n">at</span> <span class="n">key</span><span class="o">,</span>
  <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">function.comp_app</span><span class="o">,</span> <span class="n">key</span><span class="o">,</span> <span class="n">measure_univ</span><span class="o">],</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">ennreal.to_real_sub_of_le</span> <span class="n">_</span> <span class="n">ennreal.one_ne_top</span><span class="o">,</span> <span class="n">ennreal.one_to_real</span><span class="o">],</span>
  <span class="n">convert</span> <span class="n">measure_mono</span> <span class="n">E.subset_univ</span><span class="o">,</span>
  <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">measure_mono</span> <span class="n">E.subset_univ</span><span class="o">,</span> <span class="n">measure_univ</span><span class="o">],</span>
<span class="kd">end</span>

<span class="kd">example</span> <span class="o">{</span><span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="n">set</span> <span class="bp">Ω</span><span class="o">}</span> <span class="o">(</span><span class="n">A_event</span> <span class="o">:</span> <span class="n">measurable_set</span> <span class="n">A</span><span class="o">)</span> <span class="o">(</span><span class="n">B_event</span> <span class="o">:</span> <span class="n">measurable_set</span> <span class="n">B</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">ℙ</span> <span class="o">(</span><span class="n">A</span><span class="bp">ᶜ</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">1</span> <span class="bp">-</span> <span class="n">ℙ</span> <span class="o">(</span><span class="n">A</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="c1">--rw [complement_proba], -- makes progress as intended.</span>
  <span class="n">simp</span> <span class="o">[</span><span class="n">A_event</span><span class="o">],</span> <span class="c1">-- doesn't trigger the simp lemma `complement_proba`</span>
  <span class="gr">sorry</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">end</span> <span class="n">elementary_probability</span>
</code></pre></div>



<a name="308960934"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/308960934" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#308960934">(Nov 10 2022 at 10:42)</a>:</h4>
<p>As a follow-up to this discussion, Jason and I will start formalising the Extremal and Probabilistic Combinatorics Cambridge course content next week, <span class="user-mention" data-user-id="110865">@Jeremy Avigad</span>.</p>



<a name="308961171"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/308961171" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#308961171">(Nov 10 2022 at 10:44)</a>:</h4>
<p>I have little idea how much elementary probability we will need.</p>



<a name="309015318"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/309015318" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jeremy Avigad <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#309015318">(Nov 10 2022 at 15:38)</a>:</h4>
<p>Excellent! One of my students is working on a proof of the Lovasz Local Lemma. If he succeeds and you don't do it independently, maybe he can work his proof into whatever framework you develop. Please do keep me posted.</p>



<a name="309017817"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/309017817" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#309017817">(Nov 10 2022 at 15:49)</a>:</h4>
<p>Ah Lovasz Local Lemma is a great choice of project!</p>



<a name="309051727"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/309051727" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#309051727">(Nov 10 2022 at 18:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/113488-general/topic/elementary.20probability.20advice/near/308960934">said</a>:</p>
<blockquote>
<p>As a follow-up to this discussion, Jason and I will start formalising the Extremal and Probabilistic Combinatorics Cambridge course content next week, <span class="user-mention silent" data-user-id="110865">Jeremy Avigad</span>.</p>
</blockquote>
<p>cc <span class="user-mention" data-user-id="506168">@John Talbot</span>, since he has proved some extremal combinatorics results too</p>



<a name="319713800"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/319713800" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nathan Glover <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#319713800">(Jan 06 2023 at 03:33)</a>:</h4>
<p><strong>Jeremy Avigad|110865</strong> <a href="#narrow/stream/113488-general/topic/elementary.20probability.20advice/near/309015318">said</a>:</p>
<blockquote>
<p>Excellent! One of my students is working on a proof of the Lovasz Local Lemma. If he succeeds and you don't do it independently, maybe he can work his proof into whatever framework you develop. Please do keep me posted.</p>
</blockquote>
<p>I was a bit late on finishing the proof by the course deadline, but I did eventually get it done! Here it is: <a href="https://github.com/nsglover/lean-lovasz-local-lemma">https://github.com/nsglover/lean-lovasz-local-lemma</a></p>



<a name="319713876"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/319713876" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nathan Glover <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#319713876">(Jan 06 2023 at 03:34)</a>:</h4>
<p>If anyone has any general suggestions I'd be happy to hear them; this is my first time doing anything with Lean. I hear the community is currently switching to Lean 4 so I'll try to do the same for this proof at some point</p>



<a name="319818366"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/319818366" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#319818366">(Jan 06 2023 at 16:46)</a>:</h4>
<p>I shall have a look! On our side, <a href="https://github.com/YaelDillies/LeanCamCombi">LeanCamCombi</a> has been on hold for the holidays, but there is already some interesting API developed there.</p>



<a name="319868232"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elementary%20probability%20advice/near/319868232" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nathan Glover <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/elementary.20probability.20advice.html#319868232">(Jan 06 2023 at 21:43)</a>:</h4>
<p>Good to know thanks, I'll take a more in-depth look at some point. It seems really cool at a glance!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>