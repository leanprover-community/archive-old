---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/.E2.9C.94.20complex.20is.20a.20cstar_ring.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20complex.20is.20a.20cstar_ring.html">✔ complex is a cstar_ring</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="263180576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20complex%20is%20a%20cstar_ring/near/263180576" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20complex.20is.20a.20cstar_ring.html#263180576">(Nov 30 2021 at 17:37)</a>:</h4>
<p>I agree. Besides, I'm pretty sure <code>analysis/normed_space/star</code> is currently imported by nothing at all since it's so recent.</p>



<a name="263181066"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20complex%20is%20a%20cstar_ring/near/263181066" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20complex.20is.20a.20cstar_ring.html#263181066">(Nov 30 2021 at 17:41)</a>:</h4>
<p>sounds good: <a href="https://github.com/leanprover-community/mathlib/issues/10555">#10555</a></p>



<a name="263181189"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20complex%20is%20a%20cstar_ring/near/263181189" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20complex.20is.20a.20cstar_ring.html#263181189">(Nov 30 2021 at 17:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="197836">Jireh Loreaux</span> has marked this topic as resolved.</p>



<a name="263197685"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20complex%20is%20a%20cstar_ring/near/263197685" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20complex.20is.20a.20cstar_ring.html#263197685">(Nov 30 2021 at 19:42)</a>:</h4>
<p><span class="user-mention" data-user-id="311453">@Frédéric Dupuis</span> where do you think I should register the instance for <code>real</code>?  And I assume the one for <code>is_R_or_C</code> should go in <code>analysis/normed_space/is_R_or_C</code>.</p>



<a name="263204656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20complex%20is%20a%20cstar_ring/near/263204656" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20complex.20is.20a.20cstar_ring.html#263204656">(Nov 30 2021 at 20:35)</a>:</h4>
<p><span class="user-mention" data-user-id="197836">@Jireh Loreaux</span> The convention is not fully formed yet, but I think <code>analysis/normed_space/is_R_or_C</code> should be about normed spaces over <code>is_R_or_C</code> rather than about <code>is_R_or_C</code> as a normed space.</p>



<a name="263204820"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20complex%20is%20a%20cstar_ring/near/263204820" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20complex.20is.20a.20cstar_ring.html#263204820">(Nov 30 2021 at 20:36)</a>:</h4>
<p>I think maybe <code>data.complex.is_R_or_C</code> for the cstar-algebra instance (it already imports tons of stuff about normed spaces, so no real loss importing one more file).</p>



<a name="263205173"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20complex%20is%20a%20cstar_ring/near/263205173" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20complex.20is.20a.20cstar_ring.html#263205173">(Nov 30 2021 at 20:39)</a>:</h4>
<p>The <code>is_R_or_C</code> instance actually implies the other two, so it's up to you whether to add them explicitly -- if you want to add the real one I think it could live in <code>analysis/normed_space/star</code> itself.</p>



<a name="263205302"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20complex%20is%20a%20cstar_ring/near/263205302" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20complex.20is.20a.20cstar_ring.html#263205302">(Nov 30 2021 at 20:41)</a>:</h4>
<p>doesn't it help typeclass resolution to have separate instances?</p>



<a name="263205492"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20complex%20is%20a%20cstar_ring/near/263205492" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20complex.20is.20a.20cstar_ring.html#263205492">(Nov 30 2021 at 20:42)</a>:</h4>
<p>Good question!  I don't know.</p>
<p>(Note: if the instance contains <em>data</em>, then you definitely don't want to have separate instances.  But <code>cstar_ring</code> is a <code>Prop</code>-only class so that doesn't apply here.)</p>



<a name="263206580"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20complex%20is%20a%20cstar_ring/near/263206580" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20complex.20is.20a.20cstar_ring.html#263206580">(Nov 30 2021 at 20:50)</a>:</h4>
<p>I thought that was why there are a million instances listed explicitly in <code>data.real.basic</code>. Yes, I realize you don't want separate instances with data because then you'll be stuck in a sort of definitional equality hell.</p>



<a name="263210183"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20complex%20is%20a%20cstar_ring/near/263210183" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20complex.20is.20a.20cstar_ring.html#263210183">(Nov 30 2021 at 21:18)</a>:</h4>
<p>At the very least, maybe it will minimize imports in the future, and the proofs are short anyways. I'll include all three in the suggested places, but if you decide you only want <code>is_R_or_C</code> then we can remove the others.</p>



<a name="263211925"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20complex%20is%20a%20cstar_ring/near/263211925" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20complex.20is.20a.20cstar_ring.html#263211925">(Nov 30 2021 at 21:33)</a>:</h4>
<p>My impression at the moment is that <code>is_R_or_C</code> is a bit heavy, in the sense that importing it implies importing a ton of other stuff. So it might still be good to have the more specialized instances as well.</p>



<a name="263212069"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20complex%20is%20a%20cstar_ring/near/263212069" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20complex.20is.20a.20cstar_ring.html#263212069">(Nov 30 2021 at 21:34)</a>:</h4>
<p>But <code>analysis.complex.basic</code> imports <code>is_R_or_C</code>.</p>



<a name="263212193"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20complex%20is%20a%20cstar_ring/near/263212193" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20complex.20is.20a.20cstar_ring.html#263212193">(Nov 30 2021 at 21:35)</a>:</h4>
<p>What about the reals?</p>



<a name="263212323"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20complex%20is%20a%20cstar_ring/near/263212323" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20complex.20is.20a.20cstar_ring.html#263212323">(Nov 30 2021 at 21:36)</a>:</h4>
<p>Yes, they're much earlier in the hierarchy, so that's an argument for the separate <code>real.cstar_ring</code> instance at least.</p>



<a name="263212606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20complex%20is%20a%20cstar_ring/near/263212606" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20complex.20is.20a.20cstar_ring.html#263212606">(Nov 30 2021 at 21:39)</a>:</h4>
<p>Sounds good. Let's go for the <code>is_R_or_C</code> instance and the real instance. If <code>is_R_or_C</code> already imports the complex numbers there's not much point in having a separate instance for it.</p>



<a name="263212705"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20complex%20is%20a%20cstar_ring/near/263212705" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20complex.20is.20a.20cstar_ring.html#263212705">(Nov 30 2021 at 21:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="311453">Frédéric Dupuis</span> <a href="#narrow/stream/113488-general/topic/.E2.9C.94.20complex.20is.20a.20cstar_ring/near/263212606">said</a>:</p>
<blockquote>
<p>If <code>is_R_or_C</code> already imports the complex numbers</p>
</blockquote>
<p>other way around :)</p>



<a name="263212731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20complex%20is%20a%20cstar_ring/near/263212731" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20complex.20is.20a.20cstar_ring.html#263212731">(Nov 30 2021 at 21:40)</a>:</h4>
<p>Right :-)</p>



<a name="263212962"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20complex%20is%20a%20cstar_ring/near/263212962" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20complex.20is.20a.20cstar_ring.html#263212962">(Nov 30 2021 at 21:42)</a>:</h4>
<p>done</p>



<a name="263221602"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20complex%20is%20a%20cstar_ring/near/263221602" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20complex.20is.20a.20cstar_ring.html#263221602">(Nov 30 2021 at 23:02)</a>:</h4>
<p><span class="user-mention" data-user-id="260507">@Heather Macbeth</span>, CI gave an error about instance priority which I don't understand.</p>



<a name="263222254"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20complex%20is%20a%20cstar_ring/near/263222254" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20complex.20is.20a.20cstar_ring.html#263222254">(Nov 30 2021 at 23:09)</a>:</h4>
<p>It means that this instance will always apply, i.e. whenever Lean is looking for a <code>cstar_ring K</code> instance, it will look for <code>is_R_or_C K</code>. In general, this sort of thing can lead to performance issues, so we want those to have low priority. (In this particular case it's probably fine since <code>is_R_or_C</code> only has two instances, but still -- let's just lower the priority.)</p>



<a name="263224294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20complex%20is%20a%20cstar_ring/near/263224294" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20complex.20is.20a.20cstar_ring.html#263224294">(Nov 30 2021 at 23:34)</a>:</h4>
<p>100 is the usual priority choice for this type of thing</p>



<a name="263500247"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20complex%20is%20a%20cstar_ring/near/263500247" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20complex.20is.20a.20cstar_ring.html#263500247">(Dec 02 2021 at 21:05)</a>:</h4>
<p><span class="user-mention" data-user-id="260507">@Heather Macbeth</span> when you have a look at <a href="https://github.com/leanprover-community/mathlib/issues/10570">#10570</a> again (no rush), just make sure you see my question about renaming <code>star_isometry</code> and <code>star_normed_group_hom</code> to get projection  syntax (if this is even possible in this case).</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>