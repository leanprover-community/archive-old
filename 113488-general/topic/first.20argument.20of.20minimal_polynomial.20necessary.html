---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/first.20argument.20of.20minimal_polynomial.20necessary.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/first.20argument.20of.20minimal_polynomial.20necessary.html">first argument of minimal_polynomial necessary</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="196038184"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/first%20argument%20of%20minimal_polynomial%20necessary/near/196038184" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/first.20argument.20of.20minimal_polynomial.20necessary.html#196038184">(May 02 2020 at 07:17)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">polynomial</span> <span class="n">field_theory</span><span class="bp">.</span><span class="n">subfield</span> <span class="n">algebra</span><span class="bp">.</span><span class="n">group_ring_action</span> <span class="n">field_theory</span><span class="bp">.</span><span class="n">minimal_polynomial</span>

<span class="kn">set_option</span> <span class="n">profiler</span> <span class="n">true</span>

<span class="n">universes</span> <span class="n">u</span> <span class="n">v</span>

<span class="kn">variables</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">v</span><span class="o">)</span> <span class="o">[</span><span class="n">field</span> <span class="n">F</span><span class="o">]</span> <span class="o">[</span><span class="n">mul_semiring_action</span> <span class="n">G</span> <span class="n">F</span><span class="o">]</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span>

<span class="n">def</span> <span class="n">fixed</span> <span class="o">:</span> <span class="n">set</span> <span class="n">F</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">x</span> <span class="bp">|</span> <span class="bp">∀</span> <span class="n">g</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span> <span class="n">g</span> <span class="err">•</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span> <span class="o">}</span>

<span class="kn">instance</span> <span class="n">fixed</span><span class="bp">.</span><span class="n">is_subfield</span> <span class="o">:</span> <span class="n">is_subfield</span> <span class="o">(</span><span class="n">fixed</span> <span class="n">G</span> <span class="n">F</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">sorry</span>

<span class="kn">instance</span> <span class="n">fixed</span><span class="bp">.</span><span class="n">algebra</span> <span class="o">:</span> <span class="n">algebra</span> <span class="o">(</span><span class="n">fixed</span> <span class="n">G</span> <span class="n">F</span><span class="o">)</span> <span class="n">F</span> <span class="o">:=</span>
<span class="n">algebra</span><span class="bp">.</span><span class="n">of_subring</span> <span class="bp">_</span>

<span class="kn">variables</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">F</span><span class="o">)</span>

<span class="kn">theorem</span> <span class="n">is_integral_fixed</span> <span class="o">:</span> <span class="n">is_integral</span> <span class="o">(</span><span class="n">fixed</span> <span class="n">G</span> <span class="n">F</span><span class="o">)</span> <span class="n">x</span> <span class="o">:=</span>
<span class="n">sorry</span>

<span class="bp">#</span><span class="kn">check</span> <span class="bp">@</span><span class="n">minimal_polynomial</span> <span class="o">(</span><span class="n">fixed</span> <span class="n">G</span> <span class="n">F</span><span class="o">)</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="o">(</span><span class="n">is_integral_fixed</span> <span class="n">G</span> <span class="n">F</span> <span class="n">x</span><span class="o">)</span>
<span class="bp">#</span><span class="kn">check</span> <span class="bp">@</span><span class="n">minimal_polynomial</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="o">(</span><span class="n">is_integral_fixed</span> <span class="n">G</span> <span class="n">F</span> <span class="n">x</span><span class="o">)</span> <span class="c1">-- very slow</span>
</code></pre></div>



<a name="196038189"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/first%20argument%20of%20minimal_polynomial%20necessary/near/196038189" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/first.20argument.20of.20minimal_polynomial.20necessary.html#196038189">(May 02 2020 at 07:17)</a>:</h4>
<p>currently the first argument (the base field) is implicit</p>



<a name="196038192"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/first%20argument%20of%20minimal_polynomial%20necessary/near/196038192" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/first.20argument.20of.20minimal_polynomial.20necessary.html#196038192">(May 02 2020 at 07:17)</a>:</h4>
<p>but it seems that Lean cannot infer it</p>



<a name="196038248"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/first%20argument%20of%20minimal_polynomial%20necessary/near/196038248" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/first.20argument.20of.20minimal_polynomial.20necessary.html#196038248">(May 02 2020 at 07:18)</a>:</h4>
<p>I suppose type ascription also solves it:</p>
<div class="codehilite"><pre><span></span><code><span class="bp">#</span><span class="kn">check</span> <span class="o">(</span><span class="n">minimal_polynomial</span> <span class="o">(</span><span class="n">is_integral_fixed</span> <span class="n">G</span> <span class="n">F</span> <span class="n">x</span><span class="o">)</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="o">(</span><span class="n">fixed</span> <span class="n">G</span> <span class="n">F</span><span class="o">))</span> <span class="c1">-- not slow</span>
</code></pre></div>



<a name="196039148"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/first%20argument%20of%20minimal_polynomial%20necessary/near/196039148" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/first.20argument.20of.20minimal_polynomial.20necessary.html#196039148">(May 02 2020 at 07:48)</a>:</h4>
<p>I guess that most of the time this will not be slow, right?</p>



<a name="196040472"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/first%20argument%20of%20minimal_polynomial%20necessary/near/196040472" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/first.20argument.20of.20minimal_polynomial.20necessary.html#196040472">(May 02 2020 at 08:24)</a>:</h4>
<p>BTW, why can't it infer <code>fixed G F</code> from <code>is_integral_fixed G F x : is_integral (fixed G F) x</code>?</p>



<a name="196040535"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/first%20argument%20of%20minimal_polynomial%20necessary/near/196040535" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/first.20argument.20of.20minimal_polynomial.20necessary.html#196040535">(May 02 2020 at 08:27)</a>:</h4>
<p>OTOH, if <code>A</code> is an algebra over two different rings, then <code>minimal_polynomial R x _</code> in pretty-printer output looks better than <code>minimal_polynomial x _</code>.</p>



<a name="196040745"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/first%20argument%20of%20minimal_polynomial%20necessary/near/196040745" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/first.20argument.20of.20minimal_polynomial.20necessary.html#196040745">(May 02 2020 at 08:32)</a>:</h4>
<p>Yes, that's right. I think that is a good argument for making it explicit.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>