---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/.E2.9C.94.20Orange.20bar.20hell.20on.20fresh.20leanproject.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Orange.20bar.20hell.20on.20fresh.20leanproject.html">âœ” Orange bar hell on fresh leanproject</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="287629679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Orange%20bar%20hell%20on%20fresh%20leanproject/near/287629679" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Orange.20bar.20hell.20on.20fresh.20leanproject.html#287629679">(Jun 27 2022 at 20:01)</a>:</h4>
<p>Making a new project, I see this is resolved now. Thanks everyone for all your help!</p>



<a name="287629694"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Orange%20bar%20hell%20on%20fresh%20leanproject/near/287629694" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Orange.20bar.20hell.20on.20fresh.20leanproject.html#287629694">(Jun 27 2022 at 20:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="282271">Bolton Bailey</span> has marked this topic as resolved.</p>



<a name="287630532"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Orange%20bar%20hell%20on%20fresh%20leanproject/near/287630532" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Orange.20bar.20hell.20on.20fresh.20leanproject.html#287630532">(Jun 27 2022 at 20:08)</a>:</h4>
<p>It is? I guess because you are getting lean-3.44.1 now?</p>



<a name="287716550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Orange%20bar%20hell%20on%20fresh%20leanproject/near/287716550" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Orange.20bar.20hell.20on.20fresh.20leanproject.html#287716550">(Jun 28 2022 at 13:35)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="o">(</span><span class="n">base</span><span class="o">)</span> <span class="mi">9</span><span class="o">:</span><span class="mi">34</span><span class="o">:</span><span class="mi">39</span> <span class="n">Desktop</span> <span class="bp">#=#</span> <span class="n">leanproject</span> <span class="n">new</span> <span class="n">a</span><span class="bp">-</span><span class="n">new</span><span class="bp">-</span><span class="n">project</span>
<span class="bp">&gt;</span> <span class="n">cd</span> <span class="n">a</span><span class="bp">-</span><span class="n">new</span><span class="bp">-</span><span class="n">project</span>
<span class="bp">&gt;</span> <span class="n">git</span> <span class="n">init</span> <span class="bp">-</span><span class="n">q</span>
<span class="bp">&gt;</span> <span class="n">git</span> <span class="n">checkout</span> <span class="bp">-</span><span class="n">b</span> <span class="n">lean</span><span class="bp">-</span><span class="mi">3</span><span class="bp">.</span><span class="mi">8</span><span class="bp">.</span><span class="mi">0</span>
<span class="n">Switched</span> <span class="n">to</span> <span class="n">a</span> <span class="n">new</span> <span class="n">branch</span> <span class="bp">'</span><span class="n">lean</span><span class="bp">-</span><span class="mi">3</span><span class="bp">.</span><span class="mi">8</span><span class="bp">.</span><span class="mi">0</span><span class="bp">'</span>
<span class="n">configuring</span> <span class="n">a</span><span class="bp">-</span><span class="n">new</span><span class="bp">-</span><span class="n">project</span> <span class="mi">0</span><span class="bp">.</span><span class="mi">1</span>
<span class="n">Adding</span> <span class="n">mathlib</span>
<span class="n">mathlib</span><span class="o">:</span> <span class="n">cloning</span> <span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">github.com</span><span class="bp">/</span><span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">/</span><span class="n">mathlib</span> <span class="n">to</span> <span class="n">_target</span><span class="bp">/</span><span class="n">deps</span><span class="bp">/</span><span class="n">mathlib</span>
<span class="bp">&gt;</span> <span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">github.com</span><span class="bp">/</span><span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">/</span><span class="n">mathlib</span> <span class="n">_target</span><span class="bp">/</span><span class="n">deps</span><span class="bp">/</span><span class="n">mathlib</span>
<span class="n">Cloning</span> <span class="n">into</span> <span class="bp">'</span><span class="n">_target</span><span class="bp">/</span><span class="n">deps</span><span class="bp">/</span><span class="n">mathlib'...</span>
<span class="n">remote</span><span class="o">:</span> <span class="n">Enumerating</span> <span class="n">objects</span><span class="o">:</span> <span class="mi">307518</span><span class="o">,</span> <span class="n">done.</span>
<span class="n">remote</span><span class="o">:</span> <span class="n">Counting</span> <span class="n">objects</span><span class="o">:</span> <span class="mi">100</span><span class="bp">%</span> <span class="o">(</span><span class="mi">1123</span><span class="bp">/</span><span class="mi">1123</span><span class="o">),</span> <span class="n">done.</span>
<span class="n">remote</span><span class="o">:</span> <span class="n">Compressing</span> <span class="n">objects</span><span class="o">:</span> <span class="mi">100</span><span class="bp">%</span> <span class="o">(</span><span class="mi">529</span><span class="bp">/</span><span class="mi">529</span><span class="o">),</span> <span class="n">done.</span>
<span class="n">remote</span><span class="o">:</span> <span class="n">Total</span> <span class="mi">307518</span> <span class="o">(</span><span class="n">delta</span> <span class="mi">737</span><span class="o">),</span> <span class="n">reused</span> <span class="mi">919</span> <span class="o">(</span><span class="n">delta</span> <span class="mi">593</span><span class="o">),</span> <span class="n">pack</span><span class="bp">-</span><span class="n">reused</span> <span class="mi">306395</span>
<span class="n">Receiving</span> <span class="n">objects</span><span class="o">:</span> <span class="mi">100</span><span class="bp">%</span> <span class="o">(</span><span class="mi">307518</span><span class="bp">/</span><span class="mi">307518</span><span class="o">),</span> <span class="mi">163</span><span class="bp">.</span><span class="mi">75</span> <span class="n">MiB</span> <span class="bp">|</span> <span class="mi">22</span><span class="bp">.</span><span class="mi">33</span> <span class="n">MiB</span><span class="bp">/</span><span class="n">s</span><span class="o">,</span> <span class="n">done.</span>
<span class="n">Resolving</span> <span class="n">deltas</span><span class="o">:</span> <span class="mi">100</span><span class="bp">%</span> <span class="o">(</span><span class="mi">245652</span><span class="bp">/</span><span class="mi">245652</span><span class="o">),</span> <span class="n">done.</span>
<span class="bp">&gt;</span> <span class="n">git</span> <span class="n">checkout</span> <span class="c1">--detach 3594b635e7e1d8b92058f49a4adad7e5807926fa    # in directory _target/deps/mathlib</span>
<span class="n">HEAD</span> <span class="n">is</span> <span class="n">now</span> <span class="n">at</span> <span class="mi">3594</span><span class="n">b635e7</span> <span class="n">feat</span><span class="o">(</span><span class="n">probability_theory</span><span class="bp">/</span><span class="n">independence</span><span class="o">):</span> <span class="k">if</span> <span class="n">a</span> <span class="n">family</span> <span class="n">of</span> <span class="n">pi</span><span class="bp">-</span><span class="n">systems</span> <span class="n">is</span> <span class="n">independent</span><span class="o">,</span> <span class="k">then</span> <span class="n">so</span> <span class="n">are</span> <span class="n">the</span> <span class="n">generated</span> <span class="n">measurable</span> <span class="n">spaces</span> <span class="o">(</span><span class="bp">#</span><span class="mi">9387</span><span class="o">)</span>
<span class="n">configuring</span> <span class="n">a</span><span class="bp">-</span><span class="n">new</span><span class="bp">-</span><span class="n">project</span> <span class="mi">0</span><span class="bp">.</span><span class="mi">1</span>
<span class="n">mathlib</span><span class="o">:</span> <span class="n">trying</span> <span class="n">to</span> <span class="n">update</span> <span class="n">_target</span><span class="bp">/</span><span class="n">deps</span><span class="bp">/</span><span class="n">mathlib</span> <span class="n">to</span> <span class="n">revision</span> <span class="mi">3594</span><span class="n">b635e7e1d8b92058f49a4adad7e5807926fa</span>
<span class="bp">&gt;</span> <span class="n">git</span> <span class="n">checkout</span> <span class="c1">--detach 3594b635e7e1d8b92058f49a4adad7e5807926fa    # in directory _target/deps/mathlib</span>
<span class="n">HEAD</span> <span class="n">is</span> <span class="n">now</span> <span class="n">at</span> <span class="mi">3594</span><span class="n">b635e7</span> <span class="n">feat</span><span class="o">(</span><span class="n">probability_theory</span><span class="bp">/</span><span class="n">independence</span><span class="o">):</span> <span class="k">if</span> <span class="n">a</span> <span class="n">family</span> <span class="n">of</span> <span class="n">pi</span><span class="bp">-</span><span class="n">systems</span> <span class="n">is</span> <span class="n">independent</span><span class="o">,</span> <span class="k">then</span> <span class="n">so</span> <span class="n">are</span> <span class="n">the</span> <span class="n">generated</span> <span class="n">measurable</span> <span class="n">spaces</span> <span class="o">(</span><span class="bp">#</span><span class="mi">9387</span><span class="o">)</span>
<span class="n">Looking</span> <span class="n">for</span> <span class="n">a</span><span class="bp">-</span><span class="n">new</span><span class="bp">-</span><span class="n">project</span> <span class="n">oleans</span> <span class="n">for</span> <span class="mi">3594</span><span class="n">b635e7</span>
  <span class="n">locally...</span>
  <span class="n">remotely...</span>
  <span class="n">Found</span> <span class="n">remote</span> <span class="n">a</span><span class="bp">-</span><span class="n">new</span><span class="bp">-</span><span class="n">project</span> <span class="n">oleans</span>
<span class="n">Located</span> <span class="n">matching</span> <span class="n">cache</span>
  <span class="mi">3594</span><span class="n">b635e7</span><span class="o">:</span> <span class="mi">100</span><span class="bp">%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ|</span> <span class="mi">71</span><span class="bp">.</span><span class="mi">3</span><span class="n">M</span><span class="bp">/</span><span class="mi">71</span><span class="bp">.</span><span class="mi">3</span><span class="n">M</span> <span class="o">[</span><span class="mi">00</span><span class="o">:</span><span class="mi">03</span><span class="bp">&lt;</span><span class="mi">00</span><span class="o">:</span><span class="mi">00</span><span class="o">,</span> <span class="mi">21</span><span class="bp">.</span><span class="mi">4</span><span class="n">MB</span><span class="bp">/</span><span class="n">s</span><span class="o">]</span>
<span class="n">Applying</span> <span class="n">cache</span>
  <span class="n">files</span> <span class="n">extracted</span><span class="o">:</span> <span class="mi">2509</span> <span class="o">[</span><span class="mi">00</span><span class="o">:</span><span class="mi">12</span><span class="o">,</span> <span class="mi">197</span><span class="bp">.</span><span class="mi">76</span><span class="bp">/</span><span class="n">s</span><span class="o">]</span>
<span class="o">(</span><span class="n">base</span><span class="o">)</span> <span class="mi">9</span><span class="o">:</span><span class="mi">35</span><span class="o">:</span><span class="mi">26</span> <span class="n">Desktop</span> <span class="bp">#=#</span>
</code></pre></div>



<a name="287718078"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Orange%20bar%20hell%20on%20fresh%20leanproject/near/287718078" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Orange.20bar.20hell.20on.20fresh.20leanproject.html#287718078">(Jun 28 2022 at 13:47)</a>:</h4>
<p>This should be working now, right?</p>



<a name="287731627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Orange%20bar%20hell%20on%20fresh%20leanproject/near/287731627" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Orange.20bar.20hell.20on.20fresh.20leanproject.html#287731627">(Jun 28 2022 at 15:23)</a>:</h4>
<p>Yes, it works, I just find it weird that I'm still getting 3.8.0 rather than 3.44.1 as Reid suggested I should.</p>



<a name="287731777"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Orange%20bar%20hell%20on%20fresh%20leanproject/near/287731777" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Orange.20bar.20hell.20on.20fresh.20leanproject.html#287731777">(Jun 28 2022 at 15:24)</a>:</h4>
<p>I suspect the <code>leanpkg.toml</code> file says the right thing.</p>



<a name="287731927"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Orange%20bar%20hell%20on%20fresh%20leanproject/near/287731927" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Orange.20bar.20hell.20on.20fresh.20leanproject.html#287731927">(Jun 28 2022 at 15:24)</a>:</h4>
<p>Something that I missed yesterday was that <code> git checkout -b lean-3.8.0</code> was creating a new branch with that name -- in the end it shouldn't matter what the branch is called.</p>



<a name="287732725"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Orange%20bar%20hell%20on%20fresh%20leanproject/near/287732725" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Orange.20bar.20hell.20on.20fresh.20leanproject.html#287732725">(Jun 28 2022 at 15:29)</a>:</h4>
<p>It matters if your project is going to be a dependency of another project.</p>



<a name="287733014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Orange%20bar%20hell%20on%20fresh%20leanproject/near/287733014" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Orange.20bar.20hell.20on.20fresh.20leanproject.html#287733014">(Jun 28 2022 at 15:31)</a>:</h4>
<p>Also, explanation of what happened yesterday:</p>
<ul>
<li>We maintainers accidentally pushed some commits to the <code>master</code> branch directly, rather than through bors.</li>
<li>During this period, one of the bots woke up from its half hour nap and stepped the <code>lean-3.43.0</code> branch forward.</li>
<li>We reverted the changes to <code>master</code> but did not realize the <code>lean-3.43.0</code> branch was still pointing at the wrong thing.</li>
<li>The bot only knows how to step the <code>lean-*</code> branches forward, so it got stuck and stopped updating this branch.</li>
<li>Incidentally, the mathlib lean version was bumped up to <code>lean-3.44.1</code>, so creating new projects started working again.</li>
<li>We fixed the <code>lean-3.43.0</code> branch.</li>
</ul>



<a name="287756952"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%E2%9C%94%20Orange%20bar%20hell%20on%20fresh%20leanproject/near/287756952" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/.E2.9C.94.20Orange.20bar.20hell.20on.20fresh.20leanproject.html#287756952">(Jun 28 2022 at 18:29)</a>:</h4>
<p>As for the 3.8.0 thing, this is just the way leanproject works; it's an artefact of the initialisation process and should be ignored. I know it's confusing but it's certainly <em>not</em> attempting to use Lean 3.8.0 at any point.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>