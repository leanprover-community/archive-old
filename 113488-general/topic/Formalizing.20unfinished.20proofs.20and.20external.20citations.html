---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Formalizing.20unfinished.20proofs.20and.20external.20citations.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20unfinished.20proofs.20and.20external.20citations.html">Formalizing unfinished proofs and external citations</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="239952770"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20unfinished%20proofs%20and%20external%20citations/near/239952770" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrej Bauer <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20unfinished.20proofs.20and.20external.20citations.html#239952770">(May 23 2021 at 13:49)</a>:</h4>
<p>A while ago, in the prenatal stages of the Formal abstracts project by Tom Hales et al., we experimented with formalizing code that is not finished, and code that refers to external references (such as published papers). The experiment still works, somewhat amazingly, at  <a href="https://github.com/andrejbauer/formalabstracts">https://github.com/andrejbauer/formalabstracts</a> You can look at <a href="https://github.com/andrejbauer/formalabstracts/blob/master/meta_data.lean">meta_data.lean</a> for some explanation and the definitions, and the <a href="https://github.com/andrejbauer/formalabstracts/tree/master/fabstract">fabstract</a> folder for usage examples.</p>
<p>Anyhow, the idea is to replace the rather uninformative <code>sorry</code> with a more structured and manageable way of introducing unfinished business with a new <code>unfinished</code> keyword, which equips some unfinished proof or construction with a description (informal text, references to literature, etc.).</p>
<p>If there's some interest in this sort of thing, I can prepare a pull request for the library so that we can discuss the possibility of introducing this sort of thing.</p>



<a name="239956361"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20unfinished%20proofs%20and%20external%20citations/near/239956361" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20unfinished.20proofs.20and.20external.20citations.html#239956361">(May 23 2021 at 14:50)</a>:</h4>
<p>Reid Barton introduced such a keyword: <a href="https://github.com/leanprover-community/mathlib/blob/master/roadmap/todo.lean">todo</a>, which is only used in the <code>roadmap</code> directory of mathlib, and not in <code>src</code>.</p>



<a name="239956456"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20unfinished%20proofs%20and%20external%20citations/near/239956456" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrej Bauer <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20unfinished.20proofs.20and.20external.20citations.html#239956456">(May 23 2021 at 14:52)</a>:</h4>
<p>Ah, very good. I am proposing a significant upgrade to <code>todo</code>. It's like a <code>todo</code> which carries information (informal description, references, citations). Are <code>sorry</code>'s in mathlib proper forbidden?</p>



<a name="239956703"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20unfinished%20proofs%20and%20external%20citations/near/239956703" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20unfinished.20proofs.20and.20external.20citations.html#239956703">(May 23 2021 at 14:56)</a>:</h4>
<p>Yep (-; The roadmap directory is the only place where <code>sorry</code>-like things are allowed (for now).<br>
Personally I think <code>src/</code> should always remain <code>sorry</code>-free.</p>



<a name="239956735"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20unfinished%20proofs%20and%20external%20citations/near/239956735" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20unfinished.20proofs.20and.20external.20citations.html#239956735">(May 23 2021 at 14:58)</a>:</h4>
<p>But providing a richer experience to <code>sorry</code> with something like <code>unfinished</code> sounds like a very good idea to have in mathlib.</p>



<a name="239956778"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20unfinished%20proofs%20and%20external%20citations/near/239956778" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20unfinished.20proofs.20and.20external.20citations.html#239956778">(May 23 2021 at 14:58)</a>:</h4>
<p>If only to have it available in projects that depend on mathlib.</p>



<a name="239956957"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20unfinished%20proofs%20and%20external%20citations/near/239956957" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrej Bauer <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20unfinished.20proofs.20and.20external.20citations.html#239956957">(May 23 2021 at 15:00)</a>:</h4>
<p>Ok, I can make some light-weight functionality and will issue a PR. Where would this go, in <code>src/meta</code> or in <code>src/tactic</code>?</p>



<a name="239957069"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20unfinished%20proofs%20and%20external%20citations/near/239957069" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20unfinished.20proofs.20and.20external.20citations.html#239957069">(May 23 2021 at 15:02)</a>:</h4>
<p><code>src/tactic</code>, I think.</p>



<a name="239959419"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20unfinished%20proofs%20and%20external%20citations/near/239959419" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20unfinished.20proofs.20and.20external.20citations.html#239959419">(May 23 2021 at 15:42)</a>:</h4>
<p><span class="user-mention" data-user-id="345260">@Andrej Bauer</span> Our CI scripts only work fully for branches in the main mathlib repo, so we prefer PRs made from branches of mathlib rather than forks. I've sent you an invite: <a href="https://github.com/leanprover-community/mathlib/invitations">https://github.com/leanprover-community/mathlib/invitations</a></p>



<a name="239961255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20unfinished%20proofs%20and%20external%20citations/near/239961255" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrej Bauer <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20unfinished.20proofs.20and.20external.20citations.html#239961255">(May 23 2021 at 16:12)</a>:</h4>
<p>Thanks. Is there a technical reason for breaking the received wisdom about forks and PRs?</p>



<a name="239961400"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20unfinished%20proofs%20and%20external%20citations/near/239961400" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20unfinished.20proofs.20and.20external.20citations.html#239961400">(May 23 2021 at 16:15)</a>:</h4>
<p>Yes, because the CI scripts need a secret token to upload the built artefacts centrally</p>



<a name="239963292"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20unfinished%20proofs%20and%20external%20citations/near/239963292" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20unfinished.20proofs.20and.20external.20citations.html#239963292">(May 23 2021 at 16:48)</a>:</h4>
<p>And because mathlib is so big now that I can't review a PR which touches a file high up in the import heirarchy unless the system is also offering me fully compiled oleans of the PR</p>



<a name="239978565"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20unfinished%20proofs%20and%20external%20citations/near/239978565" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrej Bauer <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20unfinished.20proofs.20and.20external.20citations.html#239978565">(May 23 2021 at 21:14)</a>:</h4>
<p>So in principle if someone else sets up the CI for themselves, then they could issue PRs, but it's technically more demanding to set up the CI (and it requires resources). If you get really popular, you won't be able to just inviite everyone who wants to make a PR, but I suppose you'll cross that bridge when you come to it :-)</p>



<a name="239980031"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20unfinished%20proofs%20and%20external%20citations/near/239980031" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20unfinished.20proofs.20and.20external.20citations.html#239980031">(May 23 2021 at 21:41)</a>:</h4>
<p>The compiled oleans are uploaded via CI to <a href="http://oleanstorage.azureedge.net">oleanstorage.azureedge.net</a> which is a URL hardcoded in the python script leanproject, this storage is only writable by the mathlib CI (so its not free storage for anyone else!) and allows anyone who wants to inspect your PR to very conveniently get a built version of mathlib with your PR included (with <code>leanproject get-cache</code>). So its more than just more demanding to setup the CI for you,  currently you'd be asking any reviewers to go through a non-standard process to get oleans for your branch (or build them themselves) and therefore make the review process more involved for them if you don't use the existing mechanism.</p>
<p>This is not dissimilar to the Sage computer algebra system (a fairly large and long-running project), which has a centralised git repo called trac that everyone signs up for an account on, and then patchbots that build sage for all branches to check for errors.</p>



<a name="239980542"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20unfinished%20proofs%20and%20external%20citations/near/239980542" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrej Bauer <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20unfinished.20proofs.20and.20external.20citations.html#239980542">(May 23 2021 at 21:51)</a>:</h4>
<p>I see. Thanks for the explanation.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>