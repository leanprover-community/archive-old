---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/question.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/question.html">question</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="312455603"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/question/near/312455603" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> sedev627 <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/question.html#312455603">(Nov 27 2022 at 11:27)</a>:</h4>
<p><a href="/user_uploads/3121/LMmQ5evqscH5HP8ZIbeQzf4v/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/LMmQ5evqscH5HP8ZIbeQzf4v/image.png" title="image.png"><img src="/user_uploads/3121/LMmQ5evqscH5HP8ZIbeQzf4v/image.png"></a></div>



<a name="312455720"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/question/near/312455720" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> sedev627 <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/question.html#312455720">(Nov 27 2022 at 11:28)</a>:</h4>
<p>Can I get some advice....?</p>



<a name="312455795"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/question/near/312455795" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> sedev627 <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/question.html#312455795">(Nov 27 2022 at 11:29)</a>:</h4>
<p>I posted the above question, but not answered yet...</p>



<a name="312455915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/question/near/312455915" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/question.html#312455915">(Nov 27 2022 at 11:30)</a>:</h4>
<p>Can you post a <a href="https://leanprover-community.github.io/mwe.html">#mwe</a>, with <a href="https://github.com/leanprover-community/mathlib/wiki/Code-in-backticks">#backticks</a>?</p>



<a name="312456148"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/question/near/312456148" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> sedev627 <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/question.html#312456148">(Nov 27 2022 at 11:32)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>
<span class="kn">import</span> <span class="n">init.default</span>
<span class="kn">import</span> <span class="n">init.data.nat</span>
<span class="kd">def</span> <span class="n">arith_sum</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="n">ℕ</span>
<span class="bp">|</span> <span class="mi">0</span> <span class="o">:=</span> <span class="mi">0</span>
<span class="bp">|</span> <span class="o">(</span><span class="n">nat.succ</span> <span class="n">n</span><span class="o">)</span> <span class="o">:=</span> <span class="n">nat.succ</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">arith_sum</span> <span class="n">n</span>

<span class="kd">def</span> <span class="n">arith_formula</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="o">:=</span> <span class="n">n</span> <span class="bp">*</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span>
<span class="kn">open</span> <span class="n">nat</span>
<span class="kd">theorem</span> <span class="n">arith_eq</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">arith_formula</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">arith_sum</span> <span class="n">n</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="n">arith_formula</span><span class="o">,</span>
  <span class="n">induction</span> <span class="n">n</span><span class="o">,</span>
  <span class="o">{</span>
    <span class="n">ring</span><span class="o">,</span>
  <span class="o">},</span>
  <span class="o">{</span>
    <span class="n">rw</span> <span class="n">arith_sum</span><span class="o">,</span>
    <span class="n">rw</span> <span class="bp">←</span> <span class="n">n_ih</span><span class="o">,</span>
    <span class="n">rw</span> <span class="bp">←</span> <span class="n">add_one</span><span class="o">,</span>
    <span class="gr">sorry</span><span class="o">,</span>
  <span class="o">},</span>
<span class="kd">end</span>
</code></pre></div>



<a name="312456184"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/question/near/312456184" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> sedev627 <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/question.html#312456184">(Nov 27 2022 at 11:32)</a>:</h4>
<p>Is it working...?</p>



<a name="312456217"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/question/near/312456217" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Johnson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/question.html#312456217">(Nov 27 2022 at 11:33)</a>:</h4>
<p>That is not a <a href="https://leanprover-community.github.io/mwe.html">#mwe</a>.</p>



<a name="312456250"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/question/near/312456250" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> sedev627 <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/question.html#312456250">(Nov 27 2022 at 11:33)</a>:</h4>
<p>Oh sorry... I'll fix it</p>



<a name="312456358"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/question/near/312456358" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> sedev627 <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/question.html#312456358">(Nov 27 2022 at 11:34)</a>:</h4>
<p>Is it okay....?</p>



<a name="312456487"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/question/near/312456487" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> sedev627 <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/question.html#312456487">(Nov 27 2022 at 11:35)</a>:</h4>
<p>(deleted)</p>



<a name="312457025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/question/near/312457025" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> sedev627 <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/question.html#312457025">(Nov 27 2022 at 11:39)</a>:</h4>
<p>Precisely... I stuck at "How to erase common constant 1/2 in equation....?".</p>



<a name="312458195"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/question/near/312458195" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> sedev627 <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/question.html#312458195">(Nov 27 2022 at 11:51)</a>:</h4>
<p>Did I have some mistakes in above question...?</p>



<a name="312459794"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/question/near/312459794" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Johnson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/question.html#312459794">(Nov 27 2022 at 12:02)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">arith_eq</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span> <span class="o">:</span> <span class="n">arith_formula</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">arith_sum</span> <span class="n">n</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="n">arith_formula</span><span class="o">,</span> <span class="n">induction</span> <span class="n">n</span> <span class="k">with</span> <span class="n">n</span> <span class="n">ih</span><span class="o">,</span> <span class="o">{</span> <span class="n">ring</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="n">arith_sum</span><span class="o">,</span> <span class="bp">←</span><span class="n">ih</span><span class="o">,</span> <span class="bp">←</span><span class="n">nat.add_one</span><span class="o">,</span> <span class="bp">←</span><span class="n">nat.mul_left_inj</span> <span class="o">(</span><span class="kd">by</span> <span class="n">linarith</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="mi">2</span><span class="o">),</span>
      <span class="n">add_mul</span> <span class="n">_</span> <span class="n">_</span> <span class="mi">2</span><span class="o">,</span> <span class="n">nat.div_mul_cancel</span><span class="o">,</span> <span class="n">nat.div_mul_cancel</span><span class="o">],</span> <span class="n">ring</span><span class="o">,</span>
    <span class="n">repeat</span> <span class="o">{</span> <span class="n">rw</span> <span class="bp">←</span><span class="n">even_iff_two_dvd</span><span class="o">,</span> <span class="n">apply</span> <span class="n">nat.even_mul_succ_self</span> <span class="o">}},</span>
<span class="kd">end</span>
</code></pre></div>



<a name="312460885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/question/near/312460885" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> sedev627 <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/question.html#312460885">(Nov 27 2022 at 12:11)</a>:</h4>
<p>Thank you....!</p>



<a name="312463673"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/question/near/312463673" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> sedev627 <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/question.html#312463673">(Nov 27 2022 at 12:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="456794">Patrick Johnson</span> <a href="#narrow/stream/113488-general/topic/question/near/312459794">said</a>:</p>
<blockquote>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">arith_eq</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span> <span class="o">:</span> <span class="n">arith_formula</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">arith_sum</span> <span class="n">n</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="n">arith_formula</span><span class="o">,</span> <span class="n">induction</span> <span class="n">n</span> <span class="k">with</span> <span class="n">n</span> <span class="n">ih</span><span class="o">,</span> <span class="o">{</span> <span class="n">ring</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="n">arith_sum</span><span class="o">,</span> <span class="bp">←</span><span class="n">ih</span><span class="o">,</span> <span class="bp">←</span><span class="n">nat.add_one</span><span class="o">,</span> <span class="bp">←</span><span class="n">nat.mul_left_inj</span> <span class="o">(</span><span class="kd">by</span> <span class="n">linarith</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="mi">2</span><span class="o">),</span>
      <span class="n">add_mul</span> <span class="n">_</span> <span class="n">_</span> <span class="mi">2</span><span class="o">,</span> <span class="n">nat.div_mul_cancel</span><span class="o">,</span> <span class="n">nat.div_mul_cancel</span><span class="o">],</span> <span class="n">ring</span><span class="o">,</span>
    <span class="n">repeat</span> <span class="o">{</span> <span class="n">rw</span> <span class="bp">←</span><span class="n">even_iff_two_dvd</span><span class="o">,</span> <span class="n">apply</span> <span class="n">nat.even_mul_succ_self</span> <span class="o">}},</span>
<span class="kd">end</span>
</code></pre></div><br>
</p>
</blockquote>
<p>It has error "unknown identifier 'nat.mul_left_inj'"... where is nat.mul_left_inj?</p>



<a name="312464864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/question/near/312464864" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Johnson <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/question.html#312464864">(Nov 27 2022 at 12:47)</a>:</h4>
<p>I forgot to update my mathlib. Here is the fixed proof:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">arith_eq</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span> <span class="o">:</span> <span class="n">arith_formula</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">arith_sum</span> <span class="n">n</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="n">arith_formula</span><span class="o">,</span> <span class="n">induction</span> <span class="n">n</span> <span class="k">with</span> <span class="n">n</span> <span class="n">ih</span><span class="o">,</span> <span class="o">{</span> <span class="n">ring</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="n">arith_sum</span><span class="o">,</span> <span class="bp">←</span><span class="n">ih</span><span class="o">,</span> <span class="bp">←</span><span class="n">nat.add_one</span><span class="o">,</span> <span class="bp">←</span><span class="n">mul_right_cancel_iff_of_pos</span> <span class="o">(</span><span class="kd">by</span> <span class="n">linarith</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="mi">2</span><span class="o">),</span>
      <span class="n">add_mul</span> <span class="n">_</span> <span class="n">_</span> <span class="mi">2</span><span class="o">,</span> <span class="n">nat.div_mul_cancel</span><span class="o">,</span> <span class="n">nat.div_mul_cancel</span><span class="o">],</span> <span class="n">ring</span><span class="o">,</span>
    <span class="n">all_goals</span> <span class="o">{</span> <span class="n">rw</span> <span class="bp">←</span><span class="n">even_iff_two_dvd</span><span class="o">,</span> <span class="n">apply</span> <span class="n">nat.even_mul_succ_self</span> <span class="o">}},</span>
<span class="kd">end</span>
</code></pre></div>
<p>You also have to import <code>data.nat.parity</code></p>



<a name="312465004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/question/near/312465004" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> sedev627 <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/question.html#312465004">(Nov 27 2022 at 12:49)</a>:</h4>
<p>It is working....!!!! Thank you!</p>



<a name="312588189"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/question/near/312588189" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/question.html#312588189">(Nov 28 2022 at 09:45)</a>:</h4>
<p><span class="user-mention" data-user-id="260794">@sedev627</span> You can also use the <a href="https://leanprover-community.github.io/mathlib_docs/tactics.html#qify">tactic#qify</a> tactic, where you can give it information about whether something evenly divides, which lets it convert everything to rational arithmetic. Then <code>ring</code> works.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>
<span class="kn">import</span> <span class="n">init.default</span>
<span class="kn">import</span> <span class="n">init.data.nat</span>
<span class="kn">import</span> <span class="n">data.nat.parity</span>
<span class="kn">import</span> <span class="n">tactic.qify</span>

<span class="kd">def</span> <span class="n">arith_sum</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="n">ℕ</span>
<span class="bp">|</span> <span class="mi">0</span> <span class="o">:=</span> <span class="mi">0</span>
<span class="bp">|</span> <span class="o">(</span><span class="n">nat.succ</span> <span class="n">n</span><span class="o">)</span> <span class="o">:=</span> <span class="n">nat.succ</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">arith_sum</span> <span class="n">n</span>

<span class="kd">def</span> <span class="n">arith_formula</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="o">:=</span> <span class="n">n</span> <span class="bp">*</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span>
<span class="kn">open</span> <span class="n">nat</span>

<span class="kd">lemma</span> <span class="n">two_dvd_mul_succ_self</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="mi">2</span> <span class="bp">∣</span> <span class="n">n</span> <span class="bp">*</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="bp">←</span> <span class="n">even_iff_two_dvd</span><span class="o">],</span> <span class="n">exact</span> <span class="n">nat.even_mul_succ_self</span> <span class="n">n</span> <span class="o">}</span>

<span class="kd">theorem</span> <span class="n">arith_eq</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">arith_formula</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">arith_sum</span> <span class="n">n</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="n">arith_formula</span><span class="o">,</span>
  <span class="n">induction</span> <span class="n">n</span><span class="o">,</span>
  <span class="o">{</span>
    <span class="n">ring</span><span class="o">,</span>
  <span class="o">},</span>
  <span class="o">{</span>
    <span class="n">rw</span> <span class="n">arith_sum</span><span class="o">,</span>
    <span class="n">rw</span> <span class="bp">←</span> <span class="n">n_ih</span><span class="o">,</span>
    <span class="n">rw</span> <span class="bp">←</span> <span class="n">add_one</span><span class="o">,</span>

    <span class="n">qify</span> <span class="o">[</span><span class="n">two_dvd_mul_succ_self</span><span class="o">],</span>
    <span class="n">ring</span><span class="o">,</span>
  <span class="o">},</span>
<span class="kd">end</span>
</code></pre></div>



<a name="312974608"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/question/near/312974608" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> sedev627 <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/question.html#312974608">(Nov 30 2022 at 02:21)</a>:</h4>
<p>Can Type casting be do in lean prover?</p>



<a name="312974691"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/question/near/312974691" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> sedev627 <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/question.html#312974691">(Nov 30 2022 at 02:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="306601">Kyle Miller</span> <a href="#narrow/stream/113488-general/topic/question/near/312588189">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="260794">sedev627</span> You can also use the <a href="https://leanprover-community.github.io/mathlib_docs/tactics.html#qify">tactic#qify</a> tactic, where you can give it information about whether something evenly divides, which lets it convert everything to rational arithmetic. Then <code>ring</code> works.</p>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>
<span class="kn">import</span> <span class="n">init.default</span>
<span class="kn">import</span> <span class="n">init.data.nat</span>
<span class="kn">import</span> <span class="n">data.nat.parity</span>
<span class="kn">import</span> <span class="n">tactic.qify</span>

<span class="kd">def</span> <span class="n">arith_sum</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="n">ℕ</span>
<span class="bp">|</span> <span class="mi">0</span> <span class="o">:=</span> <span class="mi">0</span>
<span class="bp">|</span> <span class="o">(</span><span class="n">nat.succ</span> <span class="n">n</span><span class="o">)</span> <span class="o">:=</span> <span class="n">nat.succ</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">arith_sum</span> <span class="n">n</span>

<span class="kd">def</span> <span class="n">arith_formula</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="o">:=</span> <span class="n">n</span> <span class="bp">*</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span>
<span class="kn">open</span> <span class="n">nat</span>

<span class="kd">lemma</span> <span class="n">two_dvd_mul_succ_self</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="mi">2</span> <span class="bp">∣</span> <span class="n">n</span> <span class="bp">*</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="bp">←</span> <span class="n">even_iff_two_dvd</span><span class="o">],</span> <span class="n">exact</span> <span class="n">nat.even_mul_succ_self</span> <span class="n">n</span> <span class="o">}</span>

<span class="kd">theorem</span> <span class="n">arith_eq</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">arith_formula</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">arith_sum</span> <span class="n">n</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="n">arith_formula</span><span class="o">,</span>
  <span class="n">induction</span> <span class="n">n</span><span class="o">,</span>
  <span class="o">{</span>
    <span class="n">ring</span><span class="o">,</span>
  <span class="o">},</span>
  <span class="o">{</span>
    <span class="n">rw</span> <span class="n">arith_sum</span><span class="o">,</span>
    <span class="n">rw</span> <span class="bp">←</span> <span class="n">n_ih</span><span class="o">,</span>
    <span class="n">rw</span> <span class="bp">←</span> <span class="n">add_one</span><span class="o">,</span>

    <span class="n">qify</span> <span class="o">[</span><span class="n">two_dvd_mul_succ_self</span><span class="o">],</span>
    <span class="n">ring</span><span class="o">,</span>
  <span class="o">},</span>
<span class="kd">end</span>
</code></pre></div><br>
</p>
</blockquote>
<p>Oh... I saw it just now... This is what I want.. thank you :)</p>



<a name="317909233"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/question/near/317909233" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> sedev627 <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/question.html#317909233">(Dec 26 2022 at 05:30)</a>:</h4>
<p>Is there any examples using is_compact?</p>



<a name="317930930"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/question/near/317930930" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bulhwi Cha <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/question.html#317930930">(Dec 26 2022 at 09:58)</a>:</h4>
<p><span class="user-mention" data-user-id="260794">@sedev627</span> See <a href="https://leanprover-community.github.io/mathematics_in_lean/07_Topology.html#compactness">https://leanprover-community.github.io/mathematics_in_lean/07_Topology.html#compactness</a>.</p>



<a name="318307346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/question/near/318307346" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> sedev627 <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/question.html#318307346">(Dec 28 2022 at 18:39)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>

<span class="kd">def</span> <span class="n">id_</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">α</span> <span class="o">:=</span>
<span class="n">a</span>

<span class="kd">class</span> <span class="n">has_mul_</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">mul</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span><span class="o">)</span>

<span class="kd">class</span> <span class="n">semigroup_</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="kd">extends</span> <span class="n">has_mul_</span> <span class="n">α</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">mul_assoc</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">α</span><span class="o">,</span> <span class="n">mul</span> <span class="o">(</span><span class="n">mul</span> <span class="n">a</span> <span class="n">b</span><span class="o">)</span> <span class="n">c</span> <span class="bp">=</span> <span class="n">mul</span> <span class="n">a</span> <span class="o">(</span><span class="n">mul</span> <span class="n">b</span> <span class="n">c</span><span class="o">))</span>

<span class="kd">class</span> <span class="n">has_one_</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">one</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span>

<span class="kd">class</span> <span class="n">monoid_</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="kd">extends</span> <span class="n">semigroup_</span> <span class="n">α</span><span class="o">,</span> <span class="n">has_one</span> <span class="n">α</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">one_mul</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">a</span> <span class="o">:</span> <span class="n">α</span> <span class="o">,</span> <span class="n">mul</span> <span class="n">one</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">a</span><span class="o">)</span>
<span class="o">(</span><span class="n">mul_one</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">a</span> <span class="o">:</span> <span class="n">α</span> <span class="o">,</span> <span class="n">mul</span> <span class="n">a</span> <span class="n">one</span> <span class="bp">=</span> <span class="n">a</span><span class="o">)</span>

<span class="kd">class</span> <span class="n">has_inv_</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">inv</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span><span class="o">)</span>

<span class="kd">class</span> <span class="n">group_</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="kd">extends</span> <span class="n">monoid_</span> <span class="n">α</span><span class="o">,</span> <span class="n">has_inv_</span> <span class="n">α</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">mul_left_inv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">a</span> <span class="o">:</span> <span class="n">α</span> <span class="o">,</span> <span class="n">mul</span> <span class="o">(</span><span class="n">inv</span> <span class="n">a</span><span class="o">)</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">one</span><span class="o">)</span>


<span class="kd">class</span> <span class="n">subgroup_</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">group_</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">mul_inv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span><span class="o">},</span> <span class="n">a</span> <span class="bp">∈</span> <span class="n">S</span> <span class="bp">→</span> <span class="n">b</span> <span class="bp">∈</span> <span class="n">S</span> <span class="bp">→</span>  <span class="n">mul</span> <span class="n">a</span> <span class="o">(</span><span class="n">inv</span> <span class="n">b</span><span class="o">)</span> <span class="bp">∈</span> <span class="n">S</span><span class="o">)</span>
</code></pre></div>
<p>I struggled to define subgroup. What's wrong?</p>



<a name="318308041"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/question/near/318308041" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/question.html#318308041">(Dec 28 2022 at 18:44)</a>:</h4>
<p>Seems you allow <code>S</code> to be empty.</p>



<a name="318308355"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/question/near/318308355" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> sedev627 <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/question.html#318308355">(Dec 28 2022 at 18:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="417654">Martin Dvořák</span> <a href="#narrow/stream/113488-general/topic/question/near/318308041">said</a>:</p>
<blockquote>
<p>Seems you allow <code>S</code> to be empty.</p>
</blockquote>
<p>What should I do? I'm a beginner...</p>



<a name="318308588"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/question/near/318308588" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/question.html#318308588">(Dec 28 2022 at 18:49)</a>:</h4>
<p>What doesn't work that you want to do?</p>



<a name="318308839"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/question/near/318308839" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> sedev627 <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/question.html#318308839">(Dec 28 2022 at 18:51)</a>:</h4>
<p>I want subgroup_ to be well defined. However, the code now has an error.</p>



<a name="318308878"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/question/near/318308878" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/question.html#318308878">(Dec 28 2022 at 18:51)</a>:</h4>
<p>Show us.</p>



<a name="318309013"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/question/near/318309013" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> sedev627 <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/question.html#318309013">(Dec 28 2022 at 18:52)</a>:</h4>
<p><a href="/user_uploads/3121/eMyGKBg8Y0rnaEGHfvposPVl/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/eMyGKBg8Y0rnaEGHfvposPVl/image.png" title="image.png"><img src="/user_uploads/3121/eMyGKBg8Y0rnaEGHfvposPVl/image.png"></a></div>



<a name="318309094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/question/near/318309094" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> sedev627 <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/question.html#318309094">(Dec 28 2022 at 18:53)</a>:</h4>
<p>Can you see it...?</p>



<a name="318309309"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/question/near/318309309" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/question.html#318309309">(Dec 28 2022 at 18:55)</a>:</h4>
<p><code>mul</code> and <code>inv</code> are functions in their respective namespaces <code>has_mul_</code> and <code>has_inv_</code></p>



<a name="318309338"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/question/near/318309338" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/question.html#318309338">(Dec 28 2022 at 18:55)</a>:</h4>
<p>so you should either <code>open</code> them or write <code>has_mul_.mul</code> (or make a notation for it)</p>



<a name="318309387"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/question/near/318309387" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> sedev627 <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/question.html#318309387">(Dec 28 2022 at 18:56)</a>:</h4>
<p>Thank you!!!</p>



<a name="318309517"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/question/near/318309517" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/question.html#318309517">(Dec 28 2022 at 18:56)</a>:</h4>
<p>the reason you don't need to do that when you use <code>extends</code> is because they are actually local variables in that case (you can see them in the context in the goal view)</p>



<a name="318312179"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/question/near/318312179" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/question.html#318312179">(Dec 28 2022 at 19:17)</a>:</h4>
<p>Now when your code is syntactically correct, let's turn to the semantics. Do you want the empty set to be a subgroup?</p>



<a name="318312562"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/question/near/318312562" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/question.html#318312562">(Dec 28 2022 at 19:20)</a>:</h4>
<p>Unless you want to really change the mathematical definition, the empty set is not a subgroup...</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>