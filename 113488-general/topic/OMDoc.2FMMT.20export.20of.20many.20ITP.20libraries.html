---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/OMDoc.2FMMT.20export.20of.20many.20ITP.20libraries.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/OMDoc.2FMMT.20export.20of.20many.20ITP.20libraries.html">OMDoc/MMT export of many ITP libraries</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="198669349"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/OMDoc/MMT%20export%20of%20many%20ITP%20libraries/near/198669349" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/OMDoc.2FMMT.20export.20of.20many.20ITP.20libraries.html#198669349">(May 25 2020 at 13:34)</a>:</h4>
<p>I just came across <a href="https://arxiv.org/pdf/2005.03089.pdf">Experiences from Exporting Major Proof Assistant Libraries</a> by Michael Kohlhase and Florian Rabe.  They talk about their experiences translating the libraries of multiple proof assistants, specifically the ones of Coq, HOL Light, IMPS, Isabelle, Mizar, and PVS into a universal format: OMDoc/MMT.  The paper is a bit long so I've only skimmed it but here are some interesting points.</p>



<a name="198669365"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/OMDoc/MMT%20export%20of%20many%20ITP%20libraries/near/198669365" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/OMDoc.2FMMT.20export.20of.20many.20ITP.20libraries.html#198669365">(May 25 2020 at 13:34)</a>:</h4>
<p>I think they export the libraries of these provers into a common format called MMT, which can recheck the proofs.  For many provers, this is a big undertaking and they outline the steps they took for each prover.  While this alone doesn't make these systems interoperable, it is one step closer.</p>



<a name="198669380"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/OMDoc/MMT%20export%20of%20many%20ITP%20libraries/near/198669380" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/OMDoc.2FMMT.20export.20of.20many.20ITP.20libraries.html#198669380">(May 25 2020 at 13:34)</a>:</h4>
<p>They mention that Lean (and HOL4) are notably lacking.  They point out that even though Lean and Coq have similar foundations, what matters for this work is the implementation and they have very different implementations.</p>



<a name="198669391"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/OMDoc/MMT%20export%20of%20many%20ITP%20libraries/near/198669391" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/OMDoc.2FMMT.20export.20of.20many.20ITP.20libraries.html#198669391">(May 25 2020 at 13:34)</a>:</h4>
<p>They also have some good quotes:</p>
<ul>
<li>"Users of theorem provers often approach (and occasionally exasperate) developers with requests to be able to use, e.g., Coq’s tactics together with Isabelle’s sledgehammer tool, requests that sound simple to users but are infeasible for developers."</li>
<li>"Even a bug as blatant as accidentally generating all theorem files as empty strings (which then trivially recheck) can be surprisingly hard to notice because these exports involve large sets of large files often containing formalizations from domains that neither the prover expert nor the MMT expert understand."</li>
</ul>



<a name="198669423"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/OMDoc/MMT%20export%20of%20many%20ITP%20libraries/near/198669423" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/OMDoc.2FMMT.20export.20of.20many.20ITP.20libraries.html#198669423">(May 25 2020 at 13:35)</a>:</h4>
<p>In the final section, they have advice for designers of theorem provers and libraries (emphasis theirs).</p>
<ul>
<li>"We have a single clear and important recommendation for developers of theorem provers and libraries: <em>design systems with exports in mind!</em>"</li>
<li>"Provers should <em>trace user-level content</em> on its way through the elaboration pipeline into the kernel-level syntax."  (They however point out this needs to be balanced with performance.)</li>
<li>"Provers should commit to <em>maintaining a system-near export</em> in some standard data format such as XML or JSON and with a well-documented schema."</li>
<li>"Provers should <em>allow users to structure formalizations</em> with library integration in mind."  (I think they are saying here that in say Coq, one could check that a definition or theorem is actually compatible with HOL.  I don't think I understand the details.)</li>
</ul>



<a name="198670174"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/OMDoc/MMT%20export%20of%20many%20ITP%20libraries/near/198670174" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/OMDoc.2FMMT.20export.20of.20many.20ITP.20libraries.html#198670174">(May 25 2020 at 13:43)</a>:</h4>
<p>This also sounds similar in spirit to <span class="user-mention" data-user-id="110049">@Mario Carneiro</span>'s MMO project, but maybe I am mistaken.</p>



<a name="198670331"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/OMDoc/MMT%20export%20of%20many%20ITP%20libraries/near/198670331" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/OMDoc.2FMMT.20export.20of.20many.20ITP.20libraries.html#198670331">(May 25 2020 at 13:44)</a>:</h4>
<p>Isn't Dedukti something like this?</p>



<a name="198670363"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/OMDoc/MMT%20export%20of%20many%20ITP%20libraries/near/198670363" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/OMDoc.2FMMT.20export.20of.20many.20ITP.20libraries.html#198670363">(May 25 2020 at 13:44)</a>:</h4>
<p>Yes, Dedukti is meant to do exactly that.</p>



<a name="198670441"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/OMDoc/MMT%20export%20of%20many%20ITP%20libraries/near/198670441" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/OMDoc.2FMMT.20export.20of.20many.20ITP.20libraries.html#198670441">(May 25 2020 at 13:46)</a>:</h4>
<p><a href="https://vimeo.com/421123419">This talk</a> from Thursday is probably relevant too (unfortunately I missed it and haven't watched it yet).</p>



<a name="198670793"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/OMDoc/MMT%20export%20of%20many%20ITP%20libraries/near/198670793" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/OMDoc.2FMMT.20export.20of.20many.20ITP.20libraries.html#198670793">(May 25 2020 at 13:49)</a>:</h4>
<p>Here is the <a href="https://uniformal.github.io">MMT project website</a>.</p>



<a name="198671049"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/OMDoc/MMT%20export%20of%20many%20ITP%20libraries/near/198671049" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/OMDoc.2FMMT.20export.20of.20many.20ITP.20libraries.html#198671049">(May 25 2020 at 13:52)</a>:</h4>
<p>Isn't this insanity? How does MMT know that Lean's Banach spaces are the same as Isabelle's?</p>



<a name="198671093"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/OMDoc/MMT%20export%20of%20many%20ITP%20libraries/near/198671093" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/OMDoc.2FMMT.20export.20of.20many.20ITP.20libraries.html#198671093">(May 25 2020 at 13:53)</a>:</h4>
<p>They don't.  They make it very clear that library alignment is a separate and hard problem.</p>



<a name="198671135"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/OMDoc/MMT%20export%20of%20many%20ITP%20libraries/near/198671135" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/OMDoc.2FMMT.20export.20of.20many.20ITP.20libraries.html#198671135">(May 25 2020 at 13:53)</a>:</h4>
<p>So their goal is to make one system which contains the disjoint union of all the theorems in the other provers? With an emphasis on disjoint?</p>



<a name="198671163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/OMDoc/MMT%20export%20of%20many%20ITP%20libraries/near/198671163" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/OMDoc.2FMMT.20export.20of.20many.20ITP.20libraries.html#198671163">(May 25 2020 at 13:54)</a>:</h4>
<p>I think my operating system does that already</p>



<a name="198671681"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/OMDoc/MMT%20export%20of%20many%20ITP%20libraries/near/198671681" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/OMDoc.2FMMT.20export.20of.20many.20ITP.20libraries.html#198671681">(May 25 2020 at 13:59)</a>:</h4>
<p>I think the ultimate goal is alignment and interoperability (and they have written some papers on those topics), but I think they view this as a first step.  I don't know if their format is the correct one, but I imagine if Lean only lives in Lean and Isabelle only lives in Isabelle, then there is no hope at interoperability.  One needs an interchange format (that is better than Lean source code or .olean files).</p>



<a name="198671781"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/OMDoc/MMT%20export%20of%20many%20ITP%20libraries/near/198671781" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/OMDoc.2FMMT.20export.20of.20many.20ITP.20libraries.html#198671781">(May 25 2020 at 14:00)</a>:</h4>
<p>It seems they mention Lean's export format once in passing. I wonder whether they did not include it as an example because it is already basically solved, or because there is something making the export format not usable.</p>



<a name="198672034"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/OMDoc/MMT%20export%20of%20many%20ITP%20libraries/near/198672034" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/OMDoc.2FMMT.20export.20of.20many.20ITP.20libraries.html#198672034">(May 25 2020 at 14:03)</a>:</h4>
<p>I could also imagine that they don't have Lean, because they approached the Lean developers and they replied "wait until we've built Lean 4".</p>



<a name="198672328"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/OMDoc/MMT%20export%20of%20many%20ITP%20libraries/near/198672328" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/OMDoc.2FMMT.20export.20of.20many.20ITP.20libraries.html#198672328">(May 25 2020 at 14:06)</a>:</h4>
<p>One of the coauthors of the paper sent me an email some time ago because they wanted to parse and type-check the Lean export format using my trepplein tool.  They were interested in it because both trepplein and MMT are written in Scala.</p>



<a name="198672422"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/OMDoc/MMT%20export%20of%20many%20ITP%20libraries/near/198672422" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/OMDoc.2FMMT.20export.20of.20many.20ITP.20libraries.html#198672422">(May 25 2020 at 14:07)</a>:</h4>
<p>But apparently they didn't use it after all..</p>



<a name="198673324"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/OMDoc/MMT%20export%20of%20many%20ITP%20libraries/near/198673324" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/OMDoc.2FMMT.20export.20of.20many.20ITP.20libraries.html#198673324">(May 25 2020 at 14:16)</a>:</h4>
<p>Just for my own information, where can I find more on Lean's export format?  Is this what is in .olean files?  Is it also the information accessible in the "environment" in Lean?</p>



<a name="198673349"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/OMDoc/MMT%20export%20of%20many%20ITP%20libraries/near/198673349" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/OMDoc.2FMMT.20export.20of.20many.20ITP.20libraries.html#198673349">(May 25 2020 at 14:16)</a>:</h4>
<p><a href="https://github.com/leanprover-community/lean/blob/master/doc/export_format.md">https://github.com/leanprover-community/lean/blob/master/doc/export_format.md</a></p>



<a name="198673377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/OMDoc/MMT%20export%20of%20many%20ITP%20libraries/near/198673377" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/OMDoc.2FMMT.20export.20of.20many.20ITP.20libraries.html#198673377">(May 25 2020 at 14:17)</a>:</h4>
<p>I don't think it contains all of that information (e.g., notation is absent I think), just the important stuff.</p>



<a name="198673426"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/OMDoc/MMT%20export%20of%20many%20ITP%20libraries/near/198673426" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/OMDoc.2FMMT.20export.20of.20many.20ITP.20libraries.html#198673426">(May 25 2020 at 14:17)</a>:</h4>
<p>Probably attributes are absent too. Important = important for an external type checker to verify the proofs.</p>



<a name="198673503"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/OMDoc/MMT%20export%20of%20many%20ITP%20libraries/near/198673503" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/OMDoc.2FMMT.20export.20of.20many.20ITP.20libraries.html#198673503">(May 25 2020 at 14:18)</a>:</h4>
<p>No position information either.</p>



<a name="198673535"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/OMDoc/MMT%20export%20of%20many%20ITP%20libraries/near/198673535" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/OMDoc.2FMMT.20export.20of.20many.20ITP.20libraries.html#198673535">(May 25 2020 at 14:18)</a>:</h4>
<blockquote>
<p>Regarding elaboration, Isabelle is special among proof assistants in that it a very complex processing pipeline from heterogeneous user-level declarations to homogeneous kernel-level declarations.</p>
</blockquote>
<p>I must be missing something.  Isabelle's term-level syntax is extremely close to the kernel syntax, no hidden implicit arguments, etc.  Data types are elaborated similar to HOL.  And Isar is just as close to the kernel proofs as ssreflect tactics are to Coq proof terms.</p>



<a name="198673783"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/OMDoc/MMT%20export%20of%20many%20ITP%20libraries/near/198673783" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/OMDoc.2FMMT.20export.20of.20many.20ITP.20libraries.html#198673783">(May 25 2020 at 14:21)</a>:</h4>
<p>If it helps, here is a separate paper just on the Isabelle export: <a href="https://arxiv.org/pdf/2005.08884.pdf">https://arxiv.org/pdf/2005.08884.pdf</a></p>



<a name="198673827"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/OMDoc/MMT%20export%20of%20many%20ITP%20libraries/near/198673827" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/OMDoc.2FMMT.20export.20of.20many.20ITP.20libraries.html#198673827">(May 25 2020 at 14:22)</a>:</h4>
<p>I don't know enough about Isabelle to comment more.</p>



<a name="198674094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/OMDoc/MMT%20export%20of%20many%20ITP%20libraries/near/198674094" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/OMDoc.2FMMT.20export.20of.20many.20ITP.20libraries.html#198674094">(May 25 2020 at 14:24)</a>:</h4>
<p>Calling Lean a reimplementation of Coq is harsh</p>



<a name="198674525"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/OMDoc/MMT%20export%20of%20many%20ITP%20libraries/near/198674525" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/OMDoc.2FMMT.20export.20of.20many.20ITP.20libraries.html#198674525">(May 25 2020 at 14:28)</a>:</h4>
<blockquote>
<p>they are neither binary nor source compatible with Coq</p>
</blockquote>
<p>They say it like it's a bad thing.</p>



<a name="198676506"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/OMDoc/MMT%20export%20of%20many%20ITP%20libraries/near/198676506" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/OMDoc.2FMMT.20export.20of.20many.20ITP.20libraries.html#198676506">(May 25 2020 at 14:50)</a>:</h4>
<p><span class="user-mention" data-user-id="110032">@Reid Barton</span>  I don't think from their point of view the Lean export format is really a solution.  They seem to be interested in keeping user-level information, such as the tactics used in the proofs.  I'm less sure I understand the motivation of their project, so I can't comment on why they want that information.  However, I can comment on my own machine learning purposes.  Proof recording at the tactic level is really important for building systems like TacticToe.  For my own purposes, I've found ways to hack the Lean tactic library to record the information I need.  I would be great if theorem provers made it easy to do this without hacks.</p>



<a name="198678239"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/OMDoc/MMT%20export%20of%20many%20ITP%20libraries/near/198678239" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/OMDoc.2FMMT.20export.20of.20many.20ITP.20libraries.html#198678239">(May 25 2020 at 15:08)</a>:</h4>
<p>And I think Lean 4 might have some cool features in that regard which I look forward to seeing!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>