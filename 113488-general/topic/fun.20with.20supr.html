---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/fun.20with.20supr.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fun.20with.20supr.html">fun with supr</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="202038643"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fun%20with%20supr/near/202038643" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fun.20with.20supr.html#202038643">(Jun 25 2020 at 23:46)</a>:</h4>
<p>I really need to sleep, so let me offer relaxing exercises again.</p>
<div class="codehilite"><pre><span></span><code><span class="kn">lemma</span> <span class="n">supr_split</span> <span class="o">{</span><span class="n">α</span> <span class="n">ι</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">complete_lattice</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">ι</span> <span class="bp">→</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">ι</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span>
<span class="o">(</span><span class="err">⨆</span> <span class="n">i</span><span class="o">,</span> <span class="n">f</span> <span class="n">i</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(</span><span class="err">⨆</span> <span class="n">i</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">p</span> <span class="n">i</span><span class="o">),</span> <span class="n">f</span> <span class="n">i</span><span class="o">)</span> <span class="err">⊔</span> <span class="o">(</span><span class="err">⨆</span> <span class="n">i</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="bp">¬</span> <span class="n">p</span> <span class="n">i</span><span class="o">),</span> <span class="n">f</span> <span class="n">i</span><span class="o">)</span> <span class="o">:=</span>  <span class="n">sorry</span>


<span class="kn">lemma</span> <span class="n">supr_split_single</span> <span class="o">{</span><span class="n">α</span> <span class="n">ι</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">complete_lattice</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">ι</span> <span class="bp">→</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">i₀</span> <span class="o">:</span> <span class="n">ι</span><span class="o">)</span> <span class="o">:</span>
<span class="o">(</span><span class="err">⨆</span> <span class="n">i</span><span class="o">,</span> <span class="n">f</span> <span class="n">i</span><span class="o">)</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">i₀</span> <span class="err">⊔</span> <span class="o">(</span><span class="err">⨆</span> <span class="n">i</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">i</span> <span class="bp">≠</span> <span class="n">i₀</span><span class="o">),</span> <span class="n">f</span> <span class="n">i</span><span class="o">)</span> <span class="o">:=</span> <span class="n">sorry</span>
</code></pre></div>



<a name="202038663"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fun%20with%20supr/near/202038663" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fun.20with.20supr.html#202038663">(Jun 25 2020 at 23:47)</a>:</h4>
<p>What I actually need is the second one, but I guess the first one is natural too.</p>



<a name="202040546"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fun%20with%20supr/near/202040546" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fun.20with.20supr.html#202040546">(Jun 26 2020 at 00:14)</a>:</h4>
<p>EDIT: got rid of the <code>finish</code></p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>

<span class="kn">lemma</span> <span class="n">supr_split</span> <span class="o">{</span><span class="n">α</span> <span class="n">ι</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">complete_lattice</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">ι</span> <span class="bp">→</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">ι</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span>
<span class="o">(</span><span class="err">⨆</span> <span class="n">i</span><span class="o">,</span> <span class="n">f</span> <span class="n">i</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(</span><span class="err">⨆</span> <span class="n">i</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">p</span> <span class="n">i</span><span class="o">),</span> <span class="n">f</span> <span class="n">i</span><span class="o">)</span> <span class="err">⊔</span> <span class="o">(</span><span class="err">⨆</span> <span class="n">i</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="bp">¬</span> <span class="n">p</span> <span class="n">i</span><span class="o">),</span> <span class="n">f</span> <span class="n">i</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="k">have</span> <span class="o">:=</span> <span class="bp">@</span><span class="n">supr_union</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="n">f</span> <span class="o">{</span><span class="n">i</span> <span class="bp">|</span> <span class="n">p</span> <span class="n">i</span><span class="o">}</span> <span class="o">{</span><span class="n">i</span> <span class="bp">|</span> <span class="bp">¬</span> <span class="n">p</span> <span class="n">i</span><span class="o">},</span>
  <span class="n">dsimp</span> <span class="n">at</span> <span class="n">this</span><span class="o">,</span> <span class="n">rw</span> <span class="err">←</span> <span class="n">this</span><span class="o">,</span> <span class="n">clear</span> <span class="n">this</span><span class="o">,</span>
  <span class="k">have</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span><span class="o">,</span> <span class="o">(</span><span class="n">p</span> <span class="n">x</span> <span class="bp">∨</span> <span class="bp">¬</span> <span class="n">p</span> <span class="n">x</span><span class="o">)</span> <span class="bp">↔</span> <span class="n">true</span><span class="o">,</span> <span class="o">{</span> <span class="n">tauto</span><span class="bp">!</span><span class="o">,</span> <span class="o">},</span>
  <span class="n">congr</span><span class="o">,</span> <span class="n">dsimp</span><span class="o">,</span>
  <span class="n">ext</span><span class="o">,</span> <span class="n">rw</span> <span class="n">this</span><span class="o">,</span> <span class="n">simp</span><span class="o">,</span>
<span class="kn">end</span>

<span class="kn">lemma</span> <span class="n">supr_split_single</span> <span class="o">{</span><span class="n">α</span> <span class="n">ι</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">complete_lattice</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">ι</span> <span class="bp">→</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">i₀</span> <span class="o">:</span> <span class="n">ι</span><span class="o">)</span> <span class="o">:</span>
<span class="o">(</span><span class="err">⨆</span> <span class="n">i</span><span class="o">,</span> <span class="n">f</span> <span class="n">i</span><span class="o">)</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">i₀</span> <span class="err">⊔</span> <span class="o">(</span><span class="err">⨆</span> <span class="n">i</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">i</span> <span class="bp">≠</span> <span class="n">i₀</span><span class="o">),</span> <span class="n">f</span> <span class="n">i</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">rw</span> <span class="n">supr_split</span><span class="o">,</span> <span class="n">swap</span><span class="o">,</span> <span class="o">{</span> <span class="n">exact</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">i₀</span><span class="o">)</span> <span class="o">},</span>
  <span class="n">congr</span><span class="o">,</span> <span class="n">simp</span><span class="o">,</span>
<span class="kn">end</span>
</code></pre></div>



<a name="202041017"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fun%20with%20supr/near/202041017" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fun.20with.20supr.html#202041017">(Jun 26 2020 at 00:21)</a>:</h4>
<p>it seems like the current state of this "intern" social technology is "make a new topic in #general or #maths with the <code>sorry</code>, somebody may come along and fill it for you"</p>



<a name="202041154"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fun%20with%20supr/near/202041154" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fun.20with.20supr.html#202041154">(Jun 26 2020 at 00:23)</a>:</h4>
<p>I think it's probably underused</p>



<a name="202041350"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fun%20with%20supr/near/202041350" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fun.20with.20supr.html#202041350">(Jun 26 2020 at 00:26)</a>:</h4>
<p>Patrick, you should delegate whatever sorries you can; I'm happy to trade my time for yours on proof-generation (even if the proof is harder for me, say up to a 3x ratio) because I want to help clear the things that are stopping you from putting out more of a sphere-eversion roadmap. (and probably some others agree, or will find your sorries interesting enough to work on anyway)</p>



<a name="202042274"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fun%20with%20supr/near/202042274" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jesse Michael Han <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fun.20with.20supr.html#202042274">(Jun 26 2020 at 00:42)</a>:</h4>
<p>you can get <code>supr_split_single</code> with <code>by convert supr_split _ _; simp</code></p>



<a name="202050367"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fun%20with%20supr/near/202050367" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fun.20with.20supr.html#202050367">(Jun 26 2020 at 03:54)</a>:</h4>
<p>I wonder if we should have a separate "help me with this sorry" stream, specifically for people with PR experience to post in (i.e. not for newbies / learners)</p>



<a name="202050373"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fun%20with%20supr/near/202050373" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fun.20with.20supr.html#202050373">(Jun 26 2020 at 03:55)</a>:</h4>
<p>is there a way to do that without being too elitist? :-)</p>



<a name="202050446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fun%20with%20supr/near/202050446" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fun.20with.20supr.html#202050446">(Jun 26 2020 at 03:57)</a>:</h4>
<p>I think its fine to just use "general" and "maths" for that</p>



<a name="202050459"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fun%20with%20supr/near/202050459" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fun.20with.20supr.html#202050459">(Jun 26 2020 at 03:57)</a>:</h4>
<p>But if it is decided to start a new stream, may I suggest calling it <code>sorry (not sorry)</code> ? <span aria-label="stuck out tongue wink" class="emoji emoji-1f61c" role="img" title="stuck out tongue wink">:stuck_out_tongue_wink:</span></p>



<a name="202062199"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fun%20with%20supr/near/202062199" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fun.20with.20supr.html#202062199">(Jun 26 2020 at 08:03)</a>:</h4>
<p>Thank you very much Jalex. I'm always ashamed when I do that. Note that the two instances were very different. The first one was really a question about automation. I don't think proof assistant have any future if they can't do that kind of work automatically. Unfortunately I messed up the statement because I type \cap when I meant \cup (a decent proof assistant should have raised a warning as the statement was false because of this typo). The second instance if because it was almost 2am and I wanted to finish this proof.</p>



<a name="202062945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/fun%20with%20supr/near/202062945" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/fun.20with.20supr.html#202062945">(Jun 26 2020 at 08:13)</a>:</h4>
<p>Yesterday I tried to work late at night because it was too hot all day, but my brain is definitely better at 10am:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">lemma</span> <span class="n">supr_split</span> <span class="o">{</span><span class="n">α</span> <span class="n">ι</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">complete_lattice</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">ι</span> <span class="bp">→</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">ι</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span>
<span class="o">(</span><span class="err">⨆</span> <span class="n">i</span><span class="o">,</span> <span class="n">f</span> <span class="n">i</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(</span><span class="err">⨆</span> <span class="n">i</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">p</span> <span class="n">i</span><span class="o">),</span> <span class="n">f</span> <span class="n">i</span><span class="o">)</span> <span class="err">⊔</span> <span class="o">(</span><span class="err">⨆</span> <span class="n">i</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="bp">¬</span> <span class="n">p</span> <span class="n">i</span><span class="o">),</span> <span class="n">f</span> <span class="n">i</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">classical</span><span class="bp">.</span><span class="n">em</span><span class="o">]</span> <span class="kn">using</span> <span class="bp">@</span><span class="n">supr_union</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="n">f</span> <span class="o">{</span><span class="n">i</span> <span class="bp">|</span> <span class="n">p</span> <span class="n">i</span><span class="o">}</span> <span class="o">{</span><span class="n">i</span> <span class="bp">|</span> <span class="bp">¬</span> <span class="n">p</span> <span class="n">i</span><span class="o">}</span>
</code></pre></div>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>