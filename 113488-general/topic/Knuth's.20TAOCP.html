---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Knuth's.20TAOCP.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html">Knuth's TAOCP</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="227437420"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227437420" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227437420">(Feb 23 2021 at 14:24)</a>:</h4>
<p>Hi everyone - I'm trying out theorem provers for the first time - starting with Lean4 - my focus is proof by induction for now - in particular I'd like to use a prover for results in Knuth's TAOCP - so I'm starting with the very first example in Vol 1, Chapter 1, 1.2.1 Mathematical Induction</p>



<a name="227437486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227437486" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227437486">(Feb 23 2021 at 14:24)</a>:</h4>
<p>P(n): n times (n+3) is an even number</p>



<a name="227437619"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227437619" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227437619">(Feb 23 2021 at 14:25)</a>:</h4>
<p>I'm looking at the natural number game to get my bearings - is this a good place to start?</p>



<a name="227437641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227437641" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227437641">(Feb 23 2021 at 14:25)</a>:</h4>
<p>NNG is Lean3</p>



<a name="227437700"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227437700" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227437700">(Feb 23 2021 at 14:26)</a>:</h4>
<p>It will be extremely difficult to formalize TAOCP in Lean</p>



<a name="227437730"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227437730" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227437730">(Feb 23 2021 at 14:26)</a>:</h4>
<p>sure - will that be a problem</p>



<a name="227437733"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227437733" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227437733">(Feb 23 2021 at 14:26)</a>:</h4>
<p>Since you seem to have a CS background, I highly recommend Software Foundations</p>



<a name="227437759"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227437759" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227437759">(Feb 23 2021 at 14:26)</a>:</h4>
<p>Lean4 is very fresh, and there is very little in terms of formalised maths in Lean4 at the moment</p>



<a name="227437783"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227437783" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227437783">(Feb 23 2021 at 14:26)</a>:</h4>
<p>I don't intend to formalize TAOCP</p>



<a name="227437861"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227437861" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227437861">(Feb 23 2021 at 14:27)</a>:</h4>
<p>Knuth already did that</p>



<a name="227437911"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227437911" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227437911">(Feb 23 2021 at 14:27)</a>:</h4>
<p>I'd like to duplicate the results in a prover</p>



<a name="227438043"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227438043" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227438043">(Feb 23 2021 at 14:28)</a>:</h4>
<p>the subject being algorithms you can imagine or know the results are typically proved by induction</p>



<a name="227438131"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227438131" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227438131">(Feb 23 2021 at 14:28)</a>:</h4>
<p>I assumed you were asking for advice on where to start</p>



<a name="227438173"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227438173" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227438173">(Feb 23 2021 at 14:29)</a>:</h4>
<p>will it be easy to build simple induction proofs in Lean4 right now - or too much work?</p>



<a name="227438231"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227438231" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227438231">(Feb 23 2021 at 14:29)</a>:</h4>
<p>advice on anything is appreciated</p>



<a name="227438278"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227438278" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227438278">(Feb 23 2021 at 14:29)</a>:</h4>
<p>where to start? how to proceed with my interest?</p>



<a name="227438377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227438377" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227438377">(Feb 23 2021 at 14:30)</a>:</h4>
<p>There is little documentation for Lean4</p>



<a name="227438394"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227438394" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227438394">(Feb 23 2021 at 14:30)</a>:</h4>
<p>I would use Lean3 for now</p>



<a name="227438410"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227438410" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227438410">(Feb 23 2021 at 14:30)</a>:</h4>
<p>ok</p>



<a name="227438426"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227438426" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227438426">(Feb 23 2021 at 14:30)</a>:</h4>
<p>and since you are new to formal verification I would recommend <a href="https://softwarefoundations.cis.upenn.edu/lf-current/toc.html">https://softwarefoundations.cis.upenn.edu/lf-current/toc.html</a></p>



<a name="227438435"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227438435" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227438435">(Feb 23 2021 at 14:30)</a>:</h4>
<p>there's nothing wrong with the natural number game</p>



<a name="227438485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227438485" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227438485">(Feb 23 2021 at 14:30)</a>:</h4>
<p><span class="user-mention" data-user-id="391875">@Zartaj Majeed</span> please don't use the <code>(no topic)</code> title, I've moved your posts to a topic <code>Knuth's TAOCP</code></p>



<a name="227438488"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227438488" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227438488">(Feb 23 2021 at 14:30)</a>:</h4>
<p>but neither is it a structured textbook</p>



<a name="227438596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227438596" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227438596">(Feb 23 2021 at 14:31)</a>:</h4>
<p>once you complete that book, if you have interest in verifying algorithms you can move on to <em>Verified Functional Algorithms</em></p>



<a name="227438628"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227438628" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227438628">(Feb 23 2021 at 14:31)</a>:</h4>
<p>ok</p>



<a name="227438735"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227438735" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227438735">(Feb 23 2021 at 14:32)</a>:</h4>
<p>so you're saying don't try using Lean until one has read through those books</p>



<a name="227438768"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227438768" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227438768">(Feb 23 2021 at 14:32)</a>:</h4>
<p>Well, for me personally, I did those books and used Lean</p>



<a name="227438798"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227438798" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227438798">(Feb 23 2021 at 14:33)</a>:</h4>
<p>and now looking back?</p>



<a name="227438832"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227438832" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227438832">(Feb 23 2021 at 14:33)</a>:</h4>
<p>is that what you recommend?</p>



<a name="227439012"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227439012" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227439012">(Feb 23 2021 at 14:34)</a>:</h4>
<p>Yes, if you are interested in computer science</p>



<a name="227439096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227439096" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227439096">(Feb 23 2021 at 14:34)</a>:</h4>
<p>the exercises can be done in Lean (Software Foundations), the concepts map 1:1</p>



<a name="227439129"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227439129" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227439129">(Feb 23 2021 at 14:35)</a>:</h4>
<p>you will have to translate the supporting libraries yourself when needed</p>



<a name="227439175"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227439175" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227439175">(Feb 23 2021 at 14:35)</a>:</h4>
<p>I don't think there's any harm in trying to formalise TAOCP -- don't expect to get to the end, but I think it's completely reasonable to start. I would definitely recommend Lean 3 right now, it's simply too hard to use Lean 4 at the minute, the tooling is not yet there and you'll have enough problems if you've not used a theorem prover before.</p>



<a name="227439399"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227439399" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227439399">(Feb 23 2021 at 14:36)</a>:</h4>
<p>again - I'm not trying to formalize TAOCP - it contains the formal proofs or outlines of proofs - I'm trying to implement those proofs in a theorem prover - possibly I'm misunderstanding what you mean by formalizing</p>



<a name="227439550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227439550" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227439550">(Feb 23 2021 at 14:38)</a>:</h4>
<p>In this community, "formalise" MEANS "implement the proofs in a theorem prover".</p>



<a name="227439601"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227439601" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227439601">(Feb 23 2021 at 14:38)</a>:</h4>
<p>ok</p>



<a name="227439614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227439614" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227439614">(Feb 23 2021 at 14:38)</a>:</h4>
<p><a href="https://leanprover-community.github.io/lean-web-editor/#code=def%20is_even%20%28n%20%3A%20%E2%84%95%29%20%3A%3D%20%E2%88%83%20m%2C%202%20*%20m%20%3D%20n%0A%0Atheorem%20knuth121%20%28n%20%3A%20%E2%84%95%29%20%3A%20is_even%20%28n%20*%20%28n%20%2B%203%29%29%20%3A%3D%0Abegin%0A%20%20sorry%0Aend%0A">here</a> is a link to that first exercise.</p>



<a name="227439794"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227439794" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227439794">(Feb 23 2021 at 14:39)</a>:</h4>
<p>If you've worked through the natural number game you might well be in a position to have a crack at that exercise.</p>



<a name="227439809"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227439809" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227439809">(Feb 23 2021 at 14:39)</a>:</h4>
<p>thanks - so I get I need to replace sorry with a tactic</p>



<a name="227439916"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227439916" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227439916">(Feb 23 2021 at 14:40)</a>:</h4>
<p>yes, or, more likely, with a comma-separated list of tactics, just like in the natural number game.</p>



<a name="227439928"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227439928" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227439928">(Feb 23 2021 at 14:40)</a>:</h4>
<p>I'll go through the rest of the game to understand</p>



<a name="227439991"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227439991" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227439991">(Feb 23 2021 at 14:40)</a>:</h4>
<p>I assume there is big library of tactics available that I'll become familiar with</p>



<a name="227440283"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227440283" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227440283">(Feb 23 2021 at 14:41)</a>:</h4>
<p>The advantage of Andrew's suggest to formalise Software Foundations instead is that that book was _designed_ for formalising, whereas my experience with picking up random books / courses and trying to formalise them is that the material is not always appropriate for formalisation, or is perhaps in an awkward order or something.</p>



<a name="227440408"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227440408" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227440408">(Feb 23 2021 at 14:42)</a>:</h4>
<p>sure - I'd seen the penn material before</p>



<a name="227440525"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227440525" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227440525">(Feb 23 2021 at 14:42)</a>:</h4>
<p>I'll probably keep it in mind in parallel</p>



<a name="227440551"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227440551" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227440551">(Feb 23 2021 at 14:42)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/tactics.html">here</a> is your big list of tactics; but if you're a beginner then it might make more sense to go to the last level of NNG and then just look at the tactics which are "unlocked" on the left, because that's most of the basic ones.</p>



<a name="227440922"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227440922" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227440922">(Feb 23 2021 at 14:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113488-general/topic/Knuth's.20TAOCP/near/227439175">said</a>:</p>
<blockquote>
<p>I don't think there's any harm in trying to formalise TAOCP -- don't expect to get to the end, but I think it's completely reasonable to start.</p>
</blockquote>
<p>Rumour has it that even Knuth didn't get to the end yet <span aria-label="rofl" class="emoji emoji-1f923" role="img" title="rofl">:rofl:</span></p>



<a name="227441356"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227441356" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227441356">(Feb 23 2021 at 14:45)</a>:</h4>
<p>thanks Kevin - the list is very helpful - starting with induction...</p>



<a name="227441402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227441402" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227441402">(Feb 23 2021 at 14:46)</a>:</h4>
<p><span class="user-mention silent" data-user-id="391875">Zartaj Majeed</span> <a href="#narrow/stream/113488-general/topic/Knuth's.20TAOCP/near/227439399">said</a>:</p>
<blockquote>
<p>again - I'm not trying to formalize TAOCP - it contains the formal proofs or outlines of proofs - </p>
</blockquote>
<p>You will very soon discover how funny this sentence is. Nothing you can write on paper can ever be called formalized.</p>



<a name="227441586"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227441586" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227441586">(Feb 23 2021 at 14:46)</a>:</h4>
<p>yeah - people keep moving the goal posts on Knuth - whose fault is that</p>



<a name="227442463"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227442463" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227442463">(Feb 23 2021 at 14:51)</a>:</h4>
<p>so far:<br>
  induction n,<br>
  case 0 { 0 * (0 + 3) = 0 },</p>



<a name="227442495"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227442495" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227442495">(Feb 23 2021 at 14:51)</a>:</h4>
<p>invalid nested auto-quote tactic, '{' or 'begin' expected</p>



<a name="227442612"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227442612" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227442612">(Feb 23 2021 at 14:52)</a>:</h4>
<p>how do I say LHS = RHS?</p>



<a name="227442785"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227442785" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227442785">(Feb 23 2021 at 14:53)</a>:</h4>
<p>I would suggest starting with NNG</p>



<a name="227442805"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227442805" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227442805">(Feb 23 2021 at 14:53)</a>:</h4>
<p>it teaches you all the basic syntax and tricks etc</p>



<a name="227507031"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227507031" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227507031">(Feb 23 2021 at 21:32)</a>:</h4>
<p>If I remember right, TAOCP has lots of big sums early on and binomial numbers, etc. That shouldn't be too hard to formalize -- hm, mechanize -- in Lean 3.</p>



<a name="227587716"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227587716" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227587716">(Feb 24 2021 at 12:03)</a>:</h4>
<p>I'm almost done with NNG - going back to online lean I'm unable to use some of the tactics and get invalid import errors - e.g. invalid import: tactic.use</p>



<a name="227587821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227587821" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227587821">(Feb 24 2021 at 12:04)</a>:</h4>
<p>how do I make sure all tactics from NNG are available in online lean?</p>



<a name="227588006"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227588006" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227588006">(Feb 24 2021 at 12:06)</a>:</h4>
<p>Which "online lean" are you using? There are two, and one is a very old version</p>



<a name="227588055"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227588055" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227588055">(Feb 24 2021 at 12:06)</a>:</h4>
<p>I don't think that's easy. NNG uses its own special kind of tactics</p>



<a name="227588070"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227588070" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227588070">(Feb 24 2021 at 12:06)</a>:</h4>
<p><code>import tactic</code> is an easy way to get lots of common tactics</p>



<a name="227588140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227588140" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227588140">(Feb 24 2021 at 12:07)</a>:</h4>
<p>thanks Eric - that works - don't know why I did not try that first</p>



<a name="227588507"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227588507" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227588507">(Feb 24 2021 at 12:10)</a>:</h4>
<p>I simplified my first problem to this - <a href="https://leanprover-community.github.io/lean-web-editor/#code=import%20tactic%0A%0Adef%20is_even%20%28n%20%3A%20%E2%84%95%29%20%3A%3D%20%E2%88%83%20m%2C%202%20*%20m%20%3D%20n%0A%0Atheorem%20two_is_even%20%28n%20%3A%20%E2%84%95%29%20%3A%20is_even%20%282%29%20%3A%3D%0Abegin%0A%20%20%20%20use%201%2C%0A%20%20%20%20ring%2C%0Aend%0A">https://leanprover-community.github.io/lean-web-editor/#code=import%20tactic%0A%0Adef%20is_even%20%28n%20%3A%20%E2%84%95%29%20%3A%3D%20%E2%88%83%20m%2C%202%20*%20m%20%3D%20n%0A%0Atheorem%20two_is_even%20%28n%20%3A%20%E2%84%95%29%20%3A%20is_even%20%282%29%20%3A%3D%0Abegin%0A%20%20%20%20use%201%2C%0A%20%20%20%20ring%2C%0Aend%0A</a></p>



<a name="227588578"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227588578" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227588578">(Feb 24 2021 at 12:11)</a>:</h4>
<p>can the proof be improved?</p>



<a name="227588767"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227588767" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227588767">(Feb 24 2021 at 12:14)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>

<span class="kd">def</span> <span class="n">is_even</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">∃</span> <span class="n">m</span><span class="o">,</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">m</span> <span class="bp">=</span> <span class="n">n</span>

<span class="kd">theorem</span> <span class="n">two_is_even</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">is_even</span> <span class="o">(</span><span class="mi">2</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">⟨</span><span class="mi">1</span><span class="o">,</span> <span class="n">rfl</span><span class="o">⟩</span>
<span class="c">/-</span><span class="cm"></span>
<span class="cm">begin</span>
<span class="cm">   use 1,</span>
<span class="cm">  -- rw mul_one,</span>
<span class="cm">  -- refl,</span>
<span class="cm">  -- simp,</span>
<span class="cm">  ring,</span>
<span class="cm">end</span>
<span class="cm">-/</span>
</code></pre></div>



<a name="227588931"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227588931" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227588931">(Feb 24 2021 at 12:15)</a>:</h4>
<p>I would say <code>ring</code> is a bit of a hammer in this case, but it's semantically a very good tactic for the job</p>



<a name="227588939"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227588939" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227588939">(Feb 24 2021 at 12:15)</a>:</h4>
<p>thanks - I see any of these work</p>



<a name="227589017"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227589017" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227589017">(Feb 24 2021 at 12:16)</a>:</h4>
<p>well - all I see are nails</p>



<a name="227589032"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227589032" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227589032">(Feb 24 2021 at 12:16)</a>:</h4>
<p>maybe thorns</p>



<a name="227589052"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227589052" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227589052">(Feb 24 2021 at 12:16)</a>:</h4>
<p>but I agree</p>



<a name="227589066"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227589066" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227589066">(Feb 24 2021 at 12:16)</a>:</h4>
<p>In this particular case, the nail is already in the right place, so there's no need to grab the hammer</p>



<a name="227589134"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227589134" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227589134">(Feb 24 2021 at 12:17)</a>:</h4>
<p>lesson is don't underestimate refl!</p>



<a name="227590685"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227590685" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227590685">(Feb 24 2021 at 12:33)</a>:</h4>
<p>How do I expand d.succ to d + 1 so I can apply induction hypothesis hd in <a href="https://leanprover-community.github.io/lean-web-editor/#code=import%20tactic%0A%0Adef%20is_even%20%28n%20%3A%20%E2%84%95%29%20%3A%3D%20%E2%88%83%20m%2C%202%20*%20m%20%3D%20n%0A%0Atheorem%20knuth121%20%28n%20%3A%20%E2%84%95%29%20%3A%20is_even%20%28n%20*%20%28n%20%2B%203%29%29%20%3A%3D%0Abegin%0A%20%20induction%20n%20with%20d%20hd%2C%0A%20%20use%200%2C%0A%20%20ring%2C%0A%20%20rw%20is_even%2C%0A%20%20cases%20hd%20with%20c%20hdc%2C%0A%0Aend%0A">https://leanprover-community.github.io/lean-web-editor/#code=import%20tactic%0A%0Adef%20is_even%20%28n%20%3A%20%E2%84%95%29%20%3A%3D%20%E2%88%83%20m%2C%202%20*%20m%20%3D%20n%0A%0Atheorem%20knuth121%20%28n%20%3A%20%E2%84%95%29%20%3A%20is_even%20%28n%20*%20%28n%20%2B%203%29%29%20%3A%3D%0Abegin%0A%20%20induction%20n%20with%20d%20hd%2C%0A%20%20use%200%2C%0A%20%20ring%2C%0A%20%20rw%20is_even%2C%0A%20%20cases%20hd%20with%20c%20hdc%2C%0A%0Aend%0A</a></p>



<a name="227591074"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227591074" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227591074">(Feb 24 2021 at 12:36)</a>:</h4>
<p>That would be using <code>nat.add_one</code> or <code>nat.succ_eq_add_one</code></p>



<a name="227591609"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227591609" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227591609">(Feb 24 2021 at 12:41)</a>:</h4>
<p>that introduces another .succ - I'm trying to get rid of succ - induction step in NNG had succ d and I could replace d easily</p>



<a name="227591882"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227591882" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227591882">(Feb 24 2021 at 12:44)</a>:</h4>
<p>I don't think I've seen the dot notation before though its meaning is clear - just don't know how to manipulate such terms</p>



<a name="227592432"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227592432" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227592432">(Feb 24 2021 at 12:48)</a>:</h4>
<p><code>rw nat.succ_eq_add_one,</code> removes all the <code>succ</code>s for me in your link</p>



<a name="227592639"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227592639" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227592639">(Feb 24 2021 at 12:50)</a>:</h4>
<p>indeed - thanks!</p>



<a name="227594989"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227594989" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227594989">(Feb 24 2021 at 13:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="391875">Zartaj Majeed</span> <a href="#narrow/stream/113488-general/topic/Knuth's.20TAOCP/near/227589134">said</a>:</p>
<blockquote>
<p>lesson is don't underestimate refl!</p>
</blockquote>
<p>In NNG I explicitly don't talk about the power of <code>refl</code>, indeed internally I hacked things around so that stuff which is definitionally true doesn't get magically proved by the system if the user does not know it's definitionally true. For example <code>x + 0 = x</code> can be proved by <code>refl</code> but <code>0 + x = x</code> cannot. For me this looked confusing (mathematicians can't tell the difference between x + 0 = x and 0 + x = x so a system which distinguishes between them is a bit weird), so I make the user prove <code>x + 0 = x</code> with <code>add_zero</code>, whose proof is <code>refl</code> (but I don't tell them that).</p>



<a name="227595065"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227595065" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227595065">(Feb 24 2021 at 13:10)</a>:</h4>
<p>Since NNG the dot notation was introduced. <code>n.succ</code> is just the new way of writing <code>succ n</code> and they're equal by definition (they're even syntactically equal) so anything that worked for one should work for the other.</p>



<a name="227597738"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227597738" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227597738">(Feb 24 2021 at 13:30)</a>:</h4>
<p>NNG predates dot notation!?</p>



<a name="227597862"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227597862" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227597862">(Feb 24 2021 at 13:31)</a>:</h4>
<p>No, iirc NNG predates the use of dot notation by default in the infoview :)</p>



<a name="227601628"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227601628" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227601628">(Feb 24 2021 at 13:59)</a>:</h4>
<p>thanks for the explanation Kevin - I have just the d now so figuring out the right sequence of distributivity and associativity to apply</p>



<a name="227631899"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227631899" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227631899">(Feb 24 2021 at 16:53)</a>:</h4>
<blockquote>
<p>right sequence of distributivity and associativity to apply</p>
</blockquote>
<p>why don't you use <code>ring</code> lol</p>



<a name="227632013"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227632013" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227632013">(Feb 24 2021 at 16:54)</a>:</h4>
<p>i mean you used ring before right, why don't you want to use it now?</p>



<a name="227641384"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227641384" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227641384">(Feb 24 2021 at 17:45)</a>:</h4>
<p>I did but it seemed to take me further from the direction I want to go</p>



<a name="227653950"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227653950" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227653950">(Feb 24 2021 at 19:05)</a>:</h4>
<p>I'd appreciate some feedback on how  to map pen and paper induction proofs to lean</p>



<a name="227654088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227654088" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227654088">(Feb 24 2021 at 19:06)</a>:</h4>
<p>Here's the problem:<br>
given: E m, n * (n + 3) = 2 * m<br>
show: E k, (n + 1) * (n + 1 + 3) = 2 * k</p>



<a name="227654158"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227654158" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227654158">(Feb 24 2021 at 19:07)</a>:</h4>
<p>Approach 1:<br>
start with equality in induction hypothesis and transform to equality in goal</p>
<p>let n * (n + 3) = 2 * d<br>
&lt;=&gt; n * (n + 3) + n + 3 + n + 1 = 2 * d + n + 3<br>
&lt;=&gt; (n + 1) * (n + 3) + n + 1 = 2 * d + n + 3 + n + 1<br>
&lt;=&gt; (n + 1) * (n + 3 + 1) = 2 * d + 2 * n + 4<br>
&lt;=&gt; (n + 1) * (n + 1 + 3) = 2 * (d + n + 2)<br>
&lt;=&gt; (n + 1) * (n + 1 + 3) = 2 * k, where k := d + n + 2</p>



<a name="227654179"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227654179" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227654179">(Feb 24 2021 at 19:07)</a>:</h4>
<p>Approach 2:</p>



<a name="227654225"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227654225" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227654225">(Feb 24 2021 at 19:07)</a>:</h4>
<p>Approach 2:<br>
start with LHS of goal and use induction hypothesis at some point to reach RHS of goal</p>
<p>(n + 1) * (n + 1 + 3)<br>
= (n + 1) * (n + 3 + 1)<br>
= (n + 1) * (n + 3) + n + 1<br>
= n * (n + 3) + n + 3 + n + 1<br>
= 2 * d + n + 3 + n + 1, by induction hypothesis<br>
= 2 * d + 2 * n + 4<br>
= 2 * (d + n + 2)<br>
= 2 * k, where k := d + n + 2</p>



<a name="227655067"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227655067" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227655067">(Feb 24 2021 at 19:13)</a>:</h4>
<p>Have you done the NNG? Formalizing that is similar to what you would do in NNG</p>



<a name="227655108"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227655108" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227655108">(Feb 24 2021 at 19:13)</a>:</h4>
<p>For approach 1, I want efficient tactics that maintain the equality, some types of balancing operations</p>



<a name="227655331"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227655331" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227655331">(Feb 24 2021 at 19:15)</a>:</h4>
<p>Approach 2 seems bit easier in the sense there's just one expression to work with, just applying various arithmetic properties and operations and transforming to RHS</p>



<a name="227655509"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227655509" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227655509">(Feb 24 2021 at 19:16)</a>:</h4>
<p>I've done the NNG but now I'm trying to formulate a kind of general plan of attack, knowing which tools are better suited for which situation</p>



<a name="227655712"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227655712" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227655712">(Feb 24 2021 at 19:17)</a>:</h4>
<p>has anything been written up to help with this kind of question?</p>



<a name="227655871"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227655871" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227655871">(Feb 24 2021 at 19:18)</a>:</h4>
<p>Well, your proof is in the form of a <code>calc</code> proof, so you can just write it out like that</p>



<a name="227656216"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227656216" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227656216">(Feb 24 2021 at 19:21)</a>:</h4>
<p>don't know calc but I'll take your word for it - what I'm looking to come up with is a cheatsheet of sorts</p>



<a name="227656254"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227656254" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227656254">(Feb 24 2021 at 19:21)</a>:</h4>
<p>if you take approach 1, try these tactics</p>



<a name="227656281"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227656281" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227656281">(Feb 24 2021 at 19:21)</a>:</h4>
<p>if you take approach 2 try these tactics</p>



<a name="227656320"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227656320" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227656320">(Feb 24 2021 at 19:21)</a>:</h4>
<p>specific tactics not general advice</p>



<a name="227656447"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227656447" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227656447">(Feb 24 2021 at 19:22)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.nat.basic</span>
<span class="kn">import</span> <span class="n">tactic.ring</span>

<span class="kd">def</span> <span class="n">is_even</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">∃</span> <span class="n">m</span><span class="o">,</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">m</span> <span class="bp">=</span> <span class="n">n</span>

<span class="kd">theorem</span> <span class="n">knuth121</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">is_even</span> <span class="o">(</span><span class="n">n</span> <span class="bp">*</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">3</span><span class="o">))</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">induction</span> <span class="n">n</span> <span class="k">with</span> <span class="n">n</span> <span class="n">hn</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">use</span> <span class="mi">0</span><span class="o">,</span>
    <span class="n">simp</span> <span class="o">[</span><span class="n">nat.zero_mul</span><span class="o">,</span> <span class="n">nat.mul_zero</span><span class="o">]</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">cases</span> <span class="n">hn</span> <span class="k">with</span> <span class="n">d</span> <span class="n">hd</span><span class="o">,</span>
    <span class="n">use</span> <span class="o">(</span><span class="n">d</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">2</span><span class="o">),</span>
    <span class="k">calc</span> <span class="mi">2</span> <span class="bp">*</span> <span class="o">(</span><span class="n">d</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">2</span><span class="o">)</span>
        <span class="bp">=</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">d</span> <span class="bp">+</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">4</span> <span class="o">:</span> <span class="gr">sorry</span>
    <span class="bp">...</span> <span class="bp">=</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">d</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">3</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span> <span class="o">:</span> <span class="gr">sorry</span>
    <span class="bp">...</span> <span class="bp">=</span> <span class="n">n</span> <span class="bp">*</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">3</span><span class="o">)</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span> <span class="o">:</span> <span class="gr">sorry</span>
    <span class="bp">...</span> <span class="bp">=</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">3</span><span class="o">)</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span> <span class="o">:</span> <span class="gr">sorry</span>
    <span class="bp">...</span> <span class="bp">=</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">3</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:</span> <span class="gr">sorry</span>
    <span class="bp">...</span> <span class="bp">=</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="mi">3</span><span class="o">)</span> <span class="o">:</span> <span class="gr">sorry</span>
    <span class="o">}</span>
<span class="kd">end</span>
</code></pre></div>



<a name="227656457"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227656457" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227656457">(Feb 24 2021 at 19:22)</a>:</h4>
<p><a href="https://leanprover-community.github.io/extras/calc.html">Here's a page on calc mode</a>.</p>



<a name="227656514"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227656514" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227656514">(Feb 24 2021 at 19:23)</a>:</h4>
<p>Our tactic documentation can be improved, but it's <a href="https://leanprover-community.github.io/mathlib_docs/tactics.html">here</a>.</p>



<a name="227656603"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227656603" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zartaj Majeed <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227656603">(Feb 24 2021 at 19:23)</a>:</h4>
<p>nice - that's really useful</p>



<a name="227656657"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227656657" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227656657">(Feb 24 2021 at 19:24)</a>:</h4>
<div class="spoiler-block"><div class="spoiler-header">
<p>no calc solution</p>
</div><div class="spoiler-content" aria-hidden="true">
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.nat.basic</span>
<span class="kn">import</span> <span class="n">tactic.ring</span>

<span class="kd">def</span> <span class="n">is_even</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">∃</span> <span class="n">m</span><span class="o">,</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">m</span> <span class="bp">=</span> <span class="n">n</span>

<span class="kd">theorem</span> <span class="n">knuth121</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">is_even</span> <span class="o">(</span><span class="n">n</span> <span class="bp">*</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">3</span><span class="o">))</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">induction</span> <span class="n">n</span> <span class="k">with</span> <span class="n">n</span> <span class="n">hn</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">use</span> <span class="mi">0</span><span class="o">,</span>
    <span class="n">simp</span> <span class="o">[</span><span class="n">nat.zero_mul</span><span class="o">,</span> <span class="n">nat.mul_zero</span><span class="o">]</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">cases</span> <span class="n">hn</span> <span class="k">with</span> <span class="n">d</span> <span class="n">hd</span><span class="o">,</span>
    <span class="n">use</span> <span class="o">(</span><span class="n">d</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">2</span><span class="o">),</span>
    <span class="n">simp</span> <span class="o">[</span><span class="n">nat.mul_succ</span><span class="o">,</span> <span class="n">nat.succ_mul</span><span class="o">,</span> <span class="bp">←</span><span class="n">hd</span><span class="o">,</span> <span class="n">nat.succ_eq_add_one</span><span class="o">],</span>
    <span class="n">ring</span> <span class="o">}</span>
<span class="kd">end</span>
</code></pre></div>
</div></div>



<a name="227975423"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227975423" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227975423">(Feb 26 2021 at 19:01)</a>:</h4>
<div class="spoiler-block"><div class="spoiler-header">
<p>one line solution</p>
</div><div class="spoiler-content" aria-hidden="true">
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.nat.parity</span>

<span class="kd">theorem</span> <span class="n">knuth121</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">even</span> <span class="o">(</span><span class="n">n</span> <span class="bp">*</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">3</span><span class="o">))</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">em</span><span class="o">]</span> <span class="k">with</span> <span class="n">parity_simps</span>
</code></pre></div>
</div></div>



<a name="227976419"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Knuth%27s%20TAOCP/near/227976419" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Knuth's.20TAOCP.html#227976419">(Feb 26 2021 at 19:08)</a>:</h4>
<p>I think you have to use induction to get the marks :-)</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>