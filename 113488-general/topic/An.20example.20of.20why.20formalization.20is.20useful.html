---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html">An example of why formalization is useful</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="277293484"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277293484" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277293484">(Mar 31 2022 at 14:53)</a>:</h4>
<p>I really like what is going on with <a href="https://github.com/leanprover-community/mathlib/pull/12777">#12777</a>. <span class="user-mention" data-user-id="460212">@Sebastian Monnet</span> proved that if <code>E</code>,<code>F</code> and <code>K</code> are fields such that <code>finite_dimensional F E</code>, then <code>fintype (E →ₐ[F] K)</code>. We already have <a href="https://leanprover-community.github.io/mathlib_docs/find/field.alg_hom.fintype">docs#field.alg_hom.fintype</a>, that is exactly the same statement with the additional assumption <code>is_separable F E</code>.</p>
<p>The interesting part of the PR is that, with the new theorem, the linter will automatically flag all the theorem that can be generalized (for free!), removing the separability assumption. I think in normal math this is very difficult to achieve, if I generalize a 50 years old paper that assumes <code>p ≠ 2</code> to all primes, there is no way I can manually check and maybe generalize all the papers that use the old one.</p>



<a name="277293736"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277293736" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277293736">(Mar 31 2022 at 14:54)</a>:</h4>
<p>OK, of course right after I write this, Lean decided that something is wrong and didn't accept the new result, but still, the story is in principle interesting...</p>



<a name="277294680"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277294680" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277294680">(Mar 31 2022 at 15:01)</a>:</h4>
<p>I completely agree with you!  Automated reduction of assumptions is great!</p>
<p>In a similar vein, I was very impressed with I changed the definition of ideal to use <code>comm_semiring</code> instead of <code>comm_ring</code> and then noticing that essentially the only proofs that failed were the ones that explicitly involved using <code>-</code>!</p>



<a name="277295659"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277295659" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277295659">(Mar 31 2022 at 15:08)</a>:</h4>
<p>This happened to me a lot with the Bochner integral refactor, in which I removed a <code>second_countable_topology</code> assumption. Then I had to go through a bunch of linting steps, where the linter complained that I had useless assumptions in a bunch of files that do not directly depend on integration theory (notably many results in complex analysis).</p>



<a name="277344823"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277344823" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277344823">(Mar 31 2022 at 21:52)</a>:</h4>
<p>Whatever happened to the optional linter (I think written by <span class="user-mention" data-user-id="127136">@Alex J. Best</span>?) that tried to determine if a type class assumption was too strong (not just unnecessary)? It was far too slow to put into the automatic linting step, but it would be lovely to have it run once a day and put the output somewhere easily accessible.</p>



<a name="277345751"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277345751" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277345751">(Mar 31 2022 at 22:01)</a>:</h4>
<p>ah, I found some messages with Alex, and what you're meant to be able to do is (in mathlib):</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">leanpkg</span> <span class="n">add</span> <span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">github.com</span><span class="bp">/</span><span class="n">alexjbest</span><span class="bp">/</span><span class="n">lean</span><span class="bp">-</span><span class="n">generalisation</span>
</code></pre></div>
<p>then add <code>import generalisation_linter</code> in a file, and then run <code>#lint</code> as normally.</p>
<p>Right now this fails with <code>cannot find revision lean-3.42.0 in repository _target/deps/lean-generalisation</code> at the <code>leanpkg add</code> step.</p>



<a name="277345805"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277345805" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277345805">(Mar 31 2022 at 22:01)</a>:</h4>
<p>Alex's talk about the generalisation linter is at <a href="https://www.youtube.com/watch?v=pudd4F749tE">https://www.youtube.com/watch?v=pudd4F749tE</a>.</p>
<div class="youtube-video message_inline_image"><a data-id="pudd4F749tE" href="https://www.youtube.com/watch?v=pudd4F749tE"><img src="https://uploads.zulipusercontent.net/0fe1fd40d7673fd4f243768f1c16863711cbf4a0/68747470733a2f2f692e7974696d672e636f6d2f76692f70756464344637343974452f64656661756c742e6a7067"></a></div>



<a name="277354754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277354754" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277354754">(Mar 31 2022 at 23:48)</a>:</h4>
<p>i tried bumping at <code>https://github.com/ericrbg/lean-generalisation</code>, and trying to run it overnight on my laptop on mathlib. will report back what it finds!</p>



<a name="277361276"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277361276" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277361276">(Apr 01 2022 at 01:38)</a>:</h4>
<p>I ran it just up to <code>import algebra.group.basic</code>. There are essentially four classes of suggestions:</p>
<ul>
<li>broken ones that include <code>no_meet_fake_name</code> in the output</li>
<li>suggestions that might well be okay, but I'm not interested in: <code>#check @comp_mul_right /- _inst_1: semigroup ↝ has_mul is_associative -/</code></li>
<li>some that are "obviously silly": `#check @group.to_monoid /- _inst_1: group ↝ monoid -/</li>
<li>and some good ones!</li>
</ul>
<p>The first three classes are pretty easy to filter out. To ignore a superset of the second class, we can just filter out everything that suggests replacing one typeclass with multiple typeclasses. (They may well be valid, but I probably less valuable.) The third class would require a filter that declines suggestions that weaken a typeclass if the declaration is in the namespace.</p>
<p>The remaining suggestions up to <code>algebra.group.basic</code> I've implemented as <a href="https://github.com/leanprover-community/mathlib/pull/13092">#13092</a>; we'll see what CI says.</p>



<a name="277365172"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277365172" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277365172">(Apr 01 2022 at 02:54)</a>:</h4>
<p>Okay, this is kind of fun. :-) Many of the suggestions up to (an arbitrarily chosen target) <code>algebra.ring.pi</code> are in <a href="https://github.com/leanprover-community/mathlib/pull/13094">#13094</a>, <a href="https://github.com/leanprover-community/mathlib/pull/13095">#13095</a>, <a href="https://github.com/leanprover-community/mathlib/pull/13096">#13096</a>, <a href="https://github.com/leanprover-community/mathlib/pull/13097">#13097</a>, <a href="https://github.com/leanprover-community/mathlib/pull/13098">#13098</a>, <a href="https://github.com/leanprover-community/mathlib/pull/13099">#13099</a>.</p>



<a name="277380146"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277380146" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277380146">(Apr 01 2022 at 07:40)</a>:</h4>
<p>meanwhile, the version running on <code>mk_all</code> still hasn't finished... mypoor macbook :)</p>



<a name="277380756"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277380756" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277380756">(Apr 01 2022 at 07:47)</a>:</h4>
<p>worryingly, it also throws some errors of the form:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">WARNING</span> <span class="n">types</span> <span class="n">not</span> <span class="n">equal</span>
<span class="bp">&lt;</span><span class="kd">def</span> <span class="n">algebraic_geometry.Scheme.open_cover.finite_subcover</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="n">algebraic_geometry.Scheme</span><span class="o">},</span>
  <span class="n">X.open_cover</span> <span class="bp">→</span>
  <span class="bp">Π</span> <span class="o">[</span><span class="n">H</span> <span class="o">:</span> <span class="n">compact_space</span> <span class="bp">↥</span><span class="o">(</span><span class="n">X.to_LocallyRingedSpace.to_SheafedSpace.to_PresheafedSpace.carrier</span><span class="o">)],</span> <span class="n">X.open_cover</span> <span class="o">:=</span> <span class="bp">λ</span>
<span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="n">algebraic_geometry.Scheme</span><span class="o">}</span> <span class="o">(</span><span class="bp">𝒰</span> <span class="o">:</span> <span class="n">X.open_cover</span><span class="o">)</span>
<span class="o">[</span><span class="n">H</span> <span class="o">:</span> <span class="n">compact_space</span> <span class="bp">↥</span><span class="o">(</span><span class="n">X.to_LocallyRingedSpace.to_SheafedSpace.to_PresheafedSpace.carrier</span><span class="o">)],</span>
  <span class="k">let</span> <span class="n">t</span> <span class="o">:</span> <span class="n">finset</span> <span class="bp">↥</span><span class="o">(</span><span class="n">X.to_LocallyRingedSpace.to_SheafedSpace.to_PresheafedSpace.carrier</span><span class="o">)</span> <span class="o">:=</span> <span class="n">_.some</span>
  <span class="k">in</span> <span class="o">{</span><span class="n">J</span> <span class="o">:=</span> <span class="bp">↥</span><span class="n">t</span><span class="o">,</span>
      <span class="n">obj</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">t</span><span class="o">),</span> <span class="bp">𝒰.</span><span class="n">obj</span> <span class="o">(</span><span class="bp">𝒰.</span><span class="n">f</span> <span class="n">x.val</span><span class="o">),</span>
      <span class="n">map</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">t</span><span class="o">),</span> <span class="bp">𝒰.</span><span class="n">map</span> <span class="o">(</span><span class="bp">𝒰.</span><span class="n">f</span> <span class="n">x.val</span><span class="o">),</span>
      <span class="n">f</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="o">(</span><span class="n">X.to_LocallyRingedSpace.to_SheafedSpace.to_PresheafedSpace.carrier</span><span class="o">)),</span> <span class="n">Exists.some</span> <span class="n">_</span><span class="o">,</span>
      <span class="n">covers</span> <span class="o">:=</span> <span class="n">_</span><span class="o">,</span>
      <span class="n">is_open</span> <span class="o">:=</span> <span class="n">_</span><span class="o">}</span><span class="bp">&gt;</span>
<span class="n">WARNING</span> <span class="n">types</span> <span class="n">not</span> <span class="n">equal</span>
<span class="bp">&lt;</span><span class="kd">def</span> <span class="n">algebraic_geometry.PresheafedSpace.is_open_immersion.to_SheafedSpace_hom</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span>
<span class="o">[</span><span class="n">_inst_1</span> <span class="o">:</span> <span class="n">category_theory.category</span> <span class="n">C</span><span class="o">]</span> <span class="o">[</span><span class="n">_inst_2</span> <span class="o">:</span> <span class="n">category_theory.limits.has_products</span> <span class="n">C</span><span class="o">]</span>
<span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="n">algebraic_geometry.PresheafedSpace</span> <span class="n">C</span><span class="o">}</span> <span class="o">(</span><span class="n">Y</span> <span class="o">:</span> <span class="n">algebraic_geometry.SheafedSpace</span> <span class="n">C</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">⟶</span> <span class="n">Y.to_PresheafedSpace</span><span class="o">)</span>
<span class="o">[</span><span class="n">H</span> <span class="o">:</span> <span class="n">algebraic_geometry.PresheafedSpace.is_open_immersion</span> <span class="n">f</span><span class="o">],</span>
  <span class="n">algebraic_geometry.PresheafedSpace.is_open_immersion.to_SheafedSpace</span> <span class="n">Y</span> <span class="n">f</span> <span class="bp">⟶</span> <span class="n">Y</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span>
<span class="o">[</span><span class="n">_inst_1</span> <span class="o">:</span> <span class="n">category_theory.category</span> <span class="n">C</span><span class="o">]</span> <span class="o">[</span><span class="n">_inst_2</span> <span class="o">:</span> <span class="n">category_theory.limits.has_products</span> <span class="n">C</span><span class="o">]</span>
<span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="n">algebraic_geometry.PresheafedSpace</span> <span class="n">C</span><span class="o">}</span> <span class="o">(</span><span class="n">Y</span> <span class="o">:</span> <span class="n">algebraic_geometry.SheafedSpace</span> <span class="n">C</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">⟶</span> <span class="n">Y.to_PresheafedSpace</span><span class="o">)</span>
<span class="o">[</span><span class="n">H</span> <span class="o">:</span> <span class="n">algebraic_geometry.PresheafedSpace.is_open_immersion</span> <span class="n">f</span><span class="o">],</span> <span class="n">f</span><span class="bp">&gt;</span>
</code></pre></div>
<p>not sure how this happens</p>



<a name="277390471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277390471" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277390471">(Apr 01 2022 at 09:25)</a>:</h4>
<p>Just noting that we have <a href="https://github.com/leanprover-community/mathlib/tree/generalising_typeclasses">branch#generalising_typeclasses</a></p>



<a name="277390613"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277390613" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277390613">(Apr 01 2022 at 09:26)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="387244">@Yaël Dillies</span> Is anyone brave enough to merge master into a branch 2752 commits behind?</p>



<a name="277390652"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277390652" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277390652">(Apr 01 2022 at 09:27)</a>:</h4>
<p>I already did but then let the branch rot again <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



<a name="277399617"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277399617" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277399617">(Apr 01 2022 at 10:57)</a>:</h4>
<p>Ah, nice, after following the generalisation linters hints for a while, I realised it was going to be possible to generalise <code>module</code> to work over a <code>non_assoc_semiring</code>. This is now in <a href="https://github.com/leanprover-community/mathlib/pull/13111">#13111</a>.</p>



<a name="277399631"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277399631" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277399631">(Apr 01 2022 at 10:57)</a>:</h4>
<p>I wonder if we can bring <code>lie_module</code> back into the fold. :-)</p>



<a name="277401897"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277401897" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277401897">(Apr 01 2022 at 11:21)</a>:</h4>
<p>I think I decided not to make that generalization at the time because it didn't actually have any obvious instances</p>



<a name="277402004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277402004" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277402004">(Apr 01 2022 at 11:22)</a>:</h4>
<p>In particular, a non associative ring can't be a module over itself, because <code>mul_smul</code> is just associativity</p>



<a name="277402068"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277402068" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277402068">(Apr 01 2022 at 11:22)</a>:</h4>
<p>In fact, I think <code>mul_smul</code> implies the action behaves as if the ring were associative</p>



<a name="277402094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277402094" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277402094">(Apr 01 2022 at 11:23)</a>:</h4>
<p>are you saying this is the same as <a href="https://leanprover-community.github.io/mathlib_docs/find/monoid.exponent">docs#monoid.exponent</a> in that any module ends up automatically implying associativity?</p>



<a name="277402339"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277402339" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277402339">(Apr 01 2022 at 11:25)</a>:</h4>
<p>I will update <code>generalising_typeclasses</code> once you are done with all this, Scott.</p>



<a name="277403144"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277403144" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277403144">(Apr 01 2022 at 11:34)</a>:</h4>
<p>It's not quite as strong as implying associativity</p>



<a name="277403162"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277403162" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277403162">(Apr 01 2022 at 11:34)</a>:</h4>
<p>Just that the action factors via an embedding into something associative</p>



<a name="277403256"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277403256" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277403256">(Apr 01 2022 at 11:35)</a>:</h4>
<p><code>((a * b) * c) • x = (a * (b * c)) • x</code> is implied by the module axioms</p>



<a name="277403907"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277403907" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277403907">(Apr 01 2022 at 11:41)</a>:</h4>
<p>not sure how quotients work in non-assoc rings, but can you make a module of R into its "associtivisation"?</p>



<a name="277405747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277405747" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277405747">(Apr 01 2022 at 11:59)</a>:</h4>
<p>This example or a related one was discussed here some time ago</p>



<a name="277405904"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277405904" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277405904">(Apr 01 2022 at 12:00)</a>:</h4>
<p><a href="#narrow/stream/113488-general/topic/Typeclasses.20on.20module/near/267627989">https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclasses.20on.20module/near/267627989</a></p>



<a name="277408365"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277408365" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277408365">(Apr 01 2022 at 12:21)</a>:</h4>
<p>Yeah, okay, I think I won't bother with that PR. :-)</p>



<a name="277408461"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277408461" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277408461">(Apr 01 2022 at 12:22)</a>:</h4>
<p>I guess it is actually <code>non_unital_ring</code> that we may want modules for, for C^*-algebra purposes...?</p>



<a name="277409366"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277409366" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277409366">(Apr 01 2022 at 12:29)</a>:</h4>
<p>i still don't know why we didn't call those <code>rng</code>s... we're going to need 4k screens to fit Lean text soon</p>



<a name="277409493"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277409493" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277409493">(Apr 01 2022 at 12:30)</a>:</h4>
<p><code>random_number_generator</code>?</p>



<a name="277409916"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277409916" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277409916">(Apr 01 2022 at 12:33)</a>:</h4>
<p><code>ring</code> without the <code>i</code>dentity</p>



<a name="277410028"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277410028" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277410028">(Apr 01 2022 at 12:34)</a>:</h4>
<p>if you mean it'd get confused with that, it seems to already be called <a href="https://leanprover-community.github.io/mathlib_docs/find/rand_g">docs#rand_g</a></p>



<a name="277410067"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277410067" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277410067">(Apr 01 2022 at 12:34)</a>:</h4>
<p>and <code>rig</code> for <code>semiring</code> (ring without <code>n</code>egative), and presumably <code>rg</code>s for the silliest ones?</p>



<a name="277410235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277410235" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277410235">(Apr 01 2022 at 12:36)</a>:</h4>
<p>A name without vowels is likely to be read as an abbreviation.</p>



<a name="277410727"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277410727" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277410727">(Apr 01 2022 at 12:39)</a>:</h4>
<p><a href="https://en.wikipedia.org/wiki/Rng_(algebra)">These</a> are <a href="https://en.wikipedia.org/wiki/Semiring">common</a> names</p>



<a name="277412096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277412096" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277412096">(Apr 01 2022 at 12:51)</a>:</h4>
<p>Is it possible to run the generalization linter alone? <code>#lint</code> dies on many files on my machine.</p>



<a name="277412280"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277412280" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277412280">(Apr 01 2022 at 12:52)</a>:</h4>
<p>just type <code>generalization_linter</code></p>



<a name="277412290"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277412290" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277412290">(Apr 01 2022 at 12:52)</a>:</h4>
<p>after <code>#lint</code></p>



<a name="277412324"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277412324" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277412324">(Apr 01 2022 at 12:52)</a>:</h4>
<p>but it's really expensive it's still running on my laptop since ~yday 10GMT</p>



<a name="277412807"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277412807" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277412807">(Apr 01 2022 at 12:55)</a>:</h4>
<p>thanks, unfortunately it still times out..</p>



<a name="277415404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277415404" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277415404">(Apr 01 2022 at 13:14)</a>:</h4>
<p>Is it possible to run it from the command line?</p>



<a name="277415419"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277415419" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277415419">(Apr 01 2022 at 13:14)</a>:</h4>
<p>And not in VS Code</p>



<a name="277419434"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277419434" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277419434">(Apr 01 2022 at 13:41)</a>:</h4>
<p>You need to type <code>#lint only generalization_linter</code> if you don't want to do the default tests.</p>



<a name="277419560"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277419560" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277419560">(Apr 01 2022 at 13:42)</a>:</h4>
<p>oh dear, my poor CPU cycles are probably re-running simp-nf...</p>



<a name="277517137"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277517137" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277517137">(Apr 02 2022 at 09:03)</a>:</h4>
<p>still running, albeit single-threaded so hopefully it's nearly done... how long did it take to run the first time?</p>



<a name="277517505"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277517505" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277517505">(Apr 02 2022 at 09:10)</a>:</h4>
<p>I'm not sure it's ever been run on the entire library! :-)</p>



<a name="277851917"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277851917" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277851917">(Apr 05 2022 at 09:49)</a>:</h4>
<p>OK, I've tried now twice and it just outputs errors and never any suggestions :/ maybe this is a memory issue though, so I guess these results are going to have to wait.</p>
<p><a href="https://gist.github.com/ericrbg/e78cd06e2930763a07fd2f22c14a67d0">https://gist.github.com/ericrbg/e78cd06e2930763a07fd2f22c14a67d0</a></p>



<a name="277852949"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277852949" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277852949">(Apr 05 2022 at 09:58)</a>:</h4>
<p>If someone is ready to explain me how to do it I have some cpu time (and memory) to spare</p>



<a name="277856252"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277856252" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277856252">(Apr 05 2022 at 10:28)</a>:</h4>
<ol>
<li>Take a <code>mathlib</code> clone with cache</li>
<li><code>leanpkg add https://github.com/ericrbg/lean-generalisation</code></li>
<li><code>mk_all.sh</code> to get an <code>all.lean</code></li>
<li>Make a file that imports <code>all</code> and <code>generalisation_linter</code>, and under all that put <code>#lint only generalisation_linter</code></li>
<li><code>lean --make</code> that file into some output file</li>
</ol>
<p>If this works as I think it should, piping from that file should give you the output. It's likely worth trying step 4 with <code>logic.basic</code> instead of <code>all</code> first to check things are working as they should</p>



<a name="277857207"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277857207" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277857207">(Apr 05 2022 at 10:38)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">all</span>
<span class="kn">import</span> <span class="n">generalisation_linter</span>

<span class="bp">#</span><span class="n">lint</span> <span class="n">only</span> <span class="n">generalisation_linter</span>
</code></pre></div>
<p>and <code>lean --make src/test_linter.lean &gt; res</code> gives</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c">/-</span><span class="cm"> Checking 0 declarations (plus 0 automatically generated ones) in the current file with 1 linters -/</span>


<span class="c">/-</span><span class="cm"> All linting checks passed! -/</span>
</code></pre></div>
<p><span aria-label="rolling eyes" class="emoji emoji-1f644" role="img" title="rolling eyes">:rolling_eyes:</span></p>



<a name="277857258"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277857258" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277857258">(Apr 05 2022 at 10:39)</a>:</h4>
<p>You'll want <code>#lint_mathlib only generalisation_linter</code> or <code>#lint_all only generalisation_linter</code></p>



<a name="277857279"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277857279" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277857279">(Apr 05 2022 at 10:39)</a>:</h4>
<p>oopsies, yes, wrong lint command!</p>



<a name="277857383"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277857383" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277857383">(Apr 05 2022 at 10:40)</a>:</h4>
<p>Ah yes, with <code>logic.basic</code> it does something</p>



<a name="277857873"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277857873" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277857873">(Apr 05 2022 at 10:45)</a>:</h4>
<p>For future reference: one has to redirect stderr to obtain a file with the result</p>



<a name="277858813"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/277858813" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#277858813">(Apr 05 2022 at 10:55)</a>:</h4>
<p>It is of course still working, but the first output is</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">WARNING</span> <span class="n">types</span> <span class="n">not</span> <span class="n">equal</span>
<span class="bp">&lt;</span><span class="kd">def</span> <span class="n">category_theory.nat_trans.right_derived</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">[</span><span class="n">_inst_1</span> <span class="o">:</span> <span class="n">category_theory.category</span> <span class="n">C</span><span class="o">]</span> <span class="o">{</span><span class="n">D</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u_1</span><span class="o">}</span>
<span class="o">[</span><span class="n">_inst_2</span> <span class="o">:</span> <span class="n">category_theory.category</span> <span class="n">D</span><span class="o">]</span> <span class="o">[</span><span class="n">_inst_3</span> <span class="o">:</span> <span class="n">category_theory.abelian</span> <span class="n">C</span><span class="o">]</span>
<span class="o">[</span><span class="n">_inst_4</span> <span class="o">:</span> <span class="n">category_theory.has_injective_resolutions</span> <span class="n">C</span><span class="o">]</span> <span class="o">[</span><span class="n">_inst_5</span> <span class="o">:</span> <span class="n">category_theory.abelian</span> <span class="n">D</span><span class="o">]</span> <span class="o">{</span><span class="n">F</span> <span class="n">G</span> <span class="o">:</span> <span class="n">C</span> <span class="bp">⥤</span> <span class="n">D</span><span class="o">}</span>
<span class="o">[</span><span class="n">_inst_6</span> <span class="o">:</span> <span class="n">F.additive</span><span class="o">]</span> <span class="o">[</span><span class="n">_inst_7</span> <span class="o">:</span> <span class="n">G.additive</span><span class="o">],</span> <span class="o">(</span><span class="n">F</span> <span class="bp">⟶</span> <span class="n">G</span><span class="o">)</span> <span class="bp">→</span> <span class="bp">Π</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">),</span> <span class="n">F.right_derived</span> <span class="n">n</span> <span class="bp">⟶</span> <span class="n">G.right_derived</span> <span class="n">n</span> <span class="o">:=</span> <span class="bp">λ</span>
<span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">[</span><span class="n">_inst_1</span> <span class="o">:</span> <span class="n">category_theory.category</span> <span class="n">C</span><span class="o">]</span> <span class="o">{</span><span class="n">D</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u_1</span><span class="o">}</span> <span class="o">[</span><span class="n">_inst_2</span> <span class="o">:</span> <span class="n">category_theory.category</span> <span class="n">D</span><span class="o">]</span>
<span class="o">[</span><span class="n">_inst_3</span> <span class="o">:</span> <span class="n">category_theory.abelian</span> <span class="n">C</span><span class="o">]</span> <span class="o">[</span><span class="n">_inst_4</span> <span class="o">:</span> <span class="n">category_theory.has_injective_resolutions</span> <span class="n">C</span><span class="o">]</span>
<span class="o">[</span><span class="n">_inst_5</span> <span class="o">:</span> <span class="n">category_theory.abelian</span> <span class="n">D</span><span class="o">]</span> <span class="o">{</span><span class="n">F</span> <span class="n">G</span> <span class="o">:</span> <span class="n">C</span> <span class="bp">⥤</span> <span class="n">D</span><span class="o">}</span> <span class="o">[</span><span class="n">_inst_6</span> <span class="o">:</span> <span class="n">F.additive</span><span class="o">]</span> <span class="o">[</span><span class="n">_inst_7</span> <span class="o">:</span> <span class="n">G.additive</span><span class="o">]</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="n">F</span> <span class="bp">⟶</span> <span class="n">G</span><span class="o">)</span>
<span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">),</span>
  <span class="n">category_theory.whisker_left</span> <span class="o">(</span><span class="n">category_theory.injective_resolutions</span> <span class="n">C</span><span class="o">)</span>
    <span class="o">(</span><span class="n">category_theory.whisker_right</span> <span class="o">(</span><span class="n">category_theory.nat_trans.map_homotopy_category</span> <span class="n">α</span> <span class="o">(</span><span class="n">complex_shape.up</span> <span class="n">ℕ</span><span class="o">))</span>
       <span class="o">(</span><span class="n">homotopy_category.homology_functor</span> <span class="n">D</span> <span class="o">(</span><span class="n">complex_shape.up</span> <span class="n">ℕ</span><span class="o">)</span> <span class="n">n</span><span class="o">))</span><span class="bp">&gt;</span>
<span class="n">WARNING</span> <span class="n">types</span> <span class="n">not</span> <span class="n">equal</span>
<span class="bp">&lt;</span><span class="kd">def</span> <span class="n">category_theory.exp_terminal_iso_self</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">[</span><span class="n">_inst_1</span> <span class="o">:</span> <span class="n">category_theory.category</span> <span class="n">C</span><span class="o">]</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="n">C</span><span class="o">}</span>
<span class="o">[</span><span class="n">_inst_2</span> <span class="o">:</span> <span class="n">category_theory.limits.has_finite_products</span> <span class="n">C</span><span class="o">]</span> <span class="o">[</span><span class="n">_inst_4</span> <span class="o">:</span> <span class="n">category_theory.exponentiable</span> <span class="o">(</span><span class="bp">⊤</span><span class="n">_</span> <span class="n">C</span><span class="o">)],</span>
  <span class="o">(</span><span class="n">category_theory.exp</span> <span class="o">(</span><span class="bp">⊤</span><span class="n">_</span> <span class="n">C</span><span class="o">))</span><span class="bp">.</span><span class="n">obj</span> <span class="n">X</span> <span class="bp">≅</span> <span class="n">X</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">[</span><span class="n">_inst_1</span> <span class="o">:</span> <span class="n">category_theory.category</span> <span class="n">C</span><span class="o">]</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="n">C</span><span class="o">}</span>
<span class="o">[</span><span class="n">_inst_2</span> <span class="o">:</span> <span class="n">category_theory.limits.has_finite_products</span> <span class="n">C</span><span class="o">]</span> <span class="o">[</span><span class="n">_inst_4</span> <span class="o">:</span> <span class="n">category_theory.exponentiable</span> <span class="o">(</span><span class="bp">⊤</span><span class="n">_</span> <span class="n">C</span><span class="o">)],</span>
  <span class="n">category_theory.yoneda.ext</span> <span class="o">((</span><span class="n">category_theory.exp</span> <span class="o">(</span><span class="bp">⊤</span><span class="n">_</span> <span class="n">C</span><span class="o">))</span><span class="bp">.</span><span class="n">obj</span> <span class="n">X</span><span class="o">)</span> <span class="n">X</span>
    <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">Y</span> <span class="o">:</span> <span class="n">C</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">Y</span> <span class="bp">⟶</span> <span class="o">(</span><span class="n">category_theory.exp</span> <span class="o">(</span><span class="bp">⊤</span><span class="n">_</span> <span class="n">C</span><span class="o">))</span><span class="bp">.</span><span class="n">obj</span> <span class="n">X</span><span class="o">),</span>
       <span class="o">(</span><span class="n">category_theory.limits.prod.left_unitor</span> <span class="n">Y</span><span class="o">)</span><span class="bp">.</span><span class="n">inv</span> <span class="bp">≫</span> <span class="n">category_theory.cartesian_closed.uncurry</span> <span class="n">f</span><span class="o">)</span>
    <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">Y</span> <span class="o">:</span> <span class="n">C</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">Y</span> <span class="bp">⟶</span> <span class="n">X</span><span class="o">),</span>
       <span class="n">category_theory.cartesian_closed.curry</span> <span class="o">((</span><span class="n">category_theory.limits.prod.left_unitor</span> <span class="n">Y</span><span class="o">)</span><span class="bp">.</span><span class="n">hom</span> <span class="bp">≫</span> <span class="n">f</span><span class="o">))</span>
    <span class="n">category_theory.exp_terminal_iso_self._proof_9</span>
    <span class="n">category_theory.exp_terminal_iso_self._proof_10</span>
    <span class="n">category_theory.exp_terminal_iso_self._proof_11</span><span class="bp">&gt;</span>
<span class="n">WARNING</span> <span class="n">types</span> <span class="n">not</span> <span class="n">equal</span>
<span class="bp">&lt;</span><span class="kd">def</span> <span class="n">category_theory.injective.exact.desc</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">[</span><span class="n">_inst_1</span> <span class="o">:</span> <span class="n">category_theory.category</span> <span class="n">C</span><span class="o">]</span>
<span class="o">[</span><span class="n">_inst_2</span> <span class="o">:</span> <span class="n">category_theory.limits.has_zero_morphisms</span> <span class="n">C</span><span class="o">]</span> <span class="o">[</span><span class="n">_inst_3</span> <span class="o">:</span> <span class="n">category_theory.limits.has_images</span> <span class="n">C</span><span class="bp">ᵒᵖ</span><span class="o">]</span>
<span class="o">[</span><span class="n">_inst_4</span> <span class="o">:</span> <span class="n">category_theory.limits.has_equalizers</span> <span class="n">C</span><span class="bp">ᵒᵖ</span><span class="o">]</span> <span class="o">{</span><span class="n">J</span> <span class="n">Q</span> <span class="n">R</span> <span class="n">S</span> <span class="o">:</span> <span class="n">C</span><span class="o">}</span> <span class="o">[</span><span class="n">_inst_5</span> <span class="o">:</span> <span class="n">category_theory.injective</span> <span class="n">J</span><span class="o">]</span>
<span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">R</span> <span class="bp">⟶</span> <span class="n">J</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">Q</span> <span class="bp">⟶</span> <span class="n">R</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">R</span> <span class="bp">⟶</span> <span class="n">S</span><span class="o">)</span> <span class="o">[</span><span class="n">_inst_6</span> <span class="o">:</span> <span class="n">category_theory.exact</span> <span class="n">g.op</span> <span class="n">f.op</span><span class="o">],</span> <span class="n">f</span> <span class="bp">≫</span> <span class="n">h</span> <span class="bp">=</span> <span class="mi">0</span> <span class="bp">→</span> <span class="o">(</span><span class="n">S</span> <span class="bp">⟶</span> <span class="n">J</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">λ</span>
<span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">[</span><span class="n">_inst_1</span> <span class="o">:</span> <span class="n">category_theory.category</span> <span class="n">C</span><span class="o">]</span> <span class="o">[</span><span class="n">_inst_2</span> <span class="o">:</span> <span class="n">category_theory.limits.has_zero_morphisms</span> <span class="n">C</span><span class="o">]</span>
<span class="o">[</span><span class="n">_inst_3</span> <span class="o">:</span> <span class="n">category_theory.limits.has_images</span> <span class="n">C</span><span class="bp">ᵒᵖ</span><span class="o">]</span> <span class="o">[</span><span class="n">_inst_4</span> <span class="o">:</span> <span class="n">category_theory.limits.has_equalizers</span> <span class="n">C</span><span class="bp">ᵒᵖ</span><span class="o">]</span>
<span class="o">{</span><span class="n">J</span> <span class="n">Q</span> <span class="n">R</span> <span class="n">S</span> <span class="o">:</span> <span class="n">C</span><span class="o">}</span> <span class="o">[</span><span class="n">_inst_5</span> <span class="o">:</span> <span class="n">category_theory.injective</span> <span class="n">J</span><span class="o">]</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">R</span> <span class="bp">⟶</span> <span class="n">J</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">Q</span> <span class="bp">⟶</span> <span class="n">R</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">R</span> <span class="bp">⟶</span> <span class="n">S</span><span class="o">)</span>
<span class="o">[</span><span class="n">_inst_6</span> <span class="o">:</span> <span class="n">category_theory.exact</span> <span class="n">g.op</span> <span class="n">f.op</span><span class="o">]</span> <span class="o">(</span><span class="n">w</span> <span class="o">:</span> <span class="n">f</span> <span class="bp">≫</span> <span class="n">h</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">),</span> <span class="o">(</span><span class="n">category_theory.exact.lift</span> <span class="n">h.op</span> <span class="n">g.op</span> <span class="n">f.op</span> <span class="n">_</span><span class="o">)</span><span class="bp">.</span><span class="n">unop</span><span class="bp">&gt;</span>
</code></pre></div>
<p>that looks Eric's</p>



<a name="278293462"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/278293462" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#278293462">(Apr 08 2022 at 11:59)</a>:</h4>
<p><a href="https://gist.github.com/riccardobrasca/725a5a8c1390cc8add3f31d43cf2881c">Voilà</a>. The interesting output starts at line 605.</p>



<a name="278308592"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/278308592" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#278308592">(Apr 08 2022 at 14:03)</a>:</h4>
<p>this is amazing! I already see some nice generalisations here...</p>



<a name="278328763"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/278328763" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#278328763">(Apr 08 2022 at 16:28)</a>:</h4>
<p>this also reveals things that other linters should catch; for example, <a href="https://leanprover-community.github.io/mathlib_docs/find/algebra.id.smul_eq_mul">docs#algebra.id.smul_eq_mul</a> was purportedly about the <code>smul</code> from <code>algebra.id</code>, but it is about <code>has_mul.to_has_scalar</code>. (This linter catches it as we can generalise this lemma to <code>has_mulR</code>, even though that makes no sense for <code>algebra</code>)</p>



<a name="278329375"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/278329375" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#278329375">(Apr 08 2022 at 16:33)</a>:</h4>
<p>Some of those lemmas I just left behind for easy unification</p>



<a name="278329417"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/278329417" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#278329417">(Apr 08 2022 at 16:33)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/smul_eq_mul">docs#smul_eq_mul</a> is the same as <a href="https://leanprover-community.github.io/mathlib_docs/find/algebra.id.smul_eq_mul">docs#algebra.id.smul_eq_mul</a></p>



<a name="278329570"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/278329570" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#278329570">(Apr 08 2022 at 16:34)</a>:</h4>
<p>I didn't measure the effects of that, but note that the simp_nf linter doesn't seem to reject the dumplication</p>



<a name="278329635"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/278329635" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#278329635">(Apr 08 2022 at 16:35)</a>:</h4>
<p>Similarly for <a href="https://leanprover-community.github.io/mathlib_docs/find/algebra.mul_smul_comm">docs#algebra.mul_smul_comm</a> vs <a href="https://leanprover-community.github.io/mathlib_docs/find/mul_smul_comm">docs#mul_smul_comm</a></p>



<a name="278329641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/278329641" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#278329641">(Apr 08 2022 at 16:35)</a>:</h4>
<p>Oh, because Lean doesn't have to dig as far for the <code>has_mul</code>? That makes some sense</p>



<a name="278329663"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/278329663" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#278329663">(Apr 08 2022 at 16:35)</a>:</h4>
<p>Maybe, who knows</p>



<a name="278329789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/278329789" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#278329789">(Apr 08 2022 at 16:36)</a>:</h4>
<p>I only wanted to light and put back out again so many fires at once in some PRs related to those, and leaving behind the less general lemmas was a nice way to avoid the fire growing</p>



<a name="278329898"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/278329898" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#278329898">(Apr 08 2022 at 16:37)</a>:</h4>
<p>also interesteing that it gets some wrong in some weird ways (l632 of above):</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="k">#check</span> <span class="bp">@</span><span class="n">no_zero_smul_divisors.iff_algebra_map_injective</span>
<span class="c">/-</span><span class="cm"> _inst_2: ring ↝ euclidean_domain no_zero_divisors</span>
<span class="cm">_inst_3: is_domain ↝ no_zero_divisors nontrivial</span>
<span class="cm"> -/</span>
</code></pre></div>



<a name="278330160"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/278330160" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#278330160">(Apr 08 2022 at 16:39)</a>:</h4>
<p><code>is_domain</code> could in theory be replaced by those two typeclasses everywhere</p>



<a name="278330190"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/278330190" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#278330190">(Apr 08 2022 at 16:39)</a>:</h4>
<p>It exists to make the spelling shorter</p>



<a name="278330194"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/278330194" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#278330194">(Apr 08 2022 at 16:39)</a>:</h4>
<p>I meant more the <code>ring ↝ euclidean_domain </code></p>



<a name="278344644"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/278344644" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#278344644">(Apr 08 2022 at 18:33)</a>:</h4>
<p>first from this new full dataset: <a href="https://github.com/leanprover-community/mathlib/pull/13252">#13252</a></p>



<a name="278430465"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/278430465" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#278430465">(Apr 09 2022 at 21:01)</a>:</h4>
<p><span class="user-mention" data-user-id="284160">@Eric Rodriguez</span>, as it turns out I caught in <a href="https://github.com/leanprover-community/mathlib/pull/13268">#13268</a> the same generalization as the linter in <a href="https://github.com/leanprover-community/mathlib/pull/13260">#13260</a> <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="278430619"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/278430619" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#278430619">(Apr 09 2022 at 21:04)</a>:</h4>
<p>Too bad I'm not running on a very powerful machine.</p>



<a name="278430669"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/278430669" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#278430669">(Apr 09 2022 at 21:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="130384">Riccardo Brasca</span> <a href="#narrow/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful/near/278293462">said</a>:</p>
<blockquote>
<p><a href="https://gist.github.com/riccardobrasca/725a5a8c1390cc8add3f31d43cf2881c">Voilà</a>. The interesting output starts at line 605.</p>
</blockquote>
<p>if you want to PR results from it, here's some of the outputs. I'm working on PRing some of this stuff as a side-hobby</p>



<a name="278430752"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/278430752" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#278430752">(Apr 09 2022 at 21:07)</a>:</h4>
<p>Yeah I read it but this was on my mind's queue after the "Rename <code>nat.neg_one_pow_of_even</code>" task <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span></p>



<a name="278437510"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/278437510" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#278437510">(Apr 09 2022 at 23:53)</a>:</h4>
<p>I did a little editorial clean-up of <span class="user-mention" data-user-id="130384">@Riccardo Brasca</span>'s output, trying to remove the "garbage".</p>
<p><a href="https://gist.github.com/semorrison/bdf8e3a5e4e6da34071f94821cec805c">https://gist.github.com/semorrison/bdf8e3a5e4e6da34071f94821cec805c</a></p>



<a name="278437525"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/278437525" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#278437525">(Apr 09 2022 at 23:53)</a>:</h4>
<p>In particular I simply removed everything that replaces a single type class with multiple ones, as these appear to often incorrect or in any case low priority.</p>



<a name="278454260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/278454260" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#278454260">(Apr 10 2022 at 07:46)</a>:</h4>
<p>Do we want the <code>separated_space ↝ t2_space</code>? I remember some discussion about this.</p>



<a name="278541584"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/278541584" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#278541584">(Apr 11 2022 at 11:50)</a>:</h4>
<p>I did the suggestions for <code>data/polynomials/*</code> in <a href="https://github.com/leanprover-community/mathlib/pull/13342">#13342</a>.</p>



<a name="278820815"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/278820815" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#278820815">(Apr 13 2022 at 12:16)</a>:</h4>
<p>And me some of the suggestions (which I once again found independently <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span>) for <code>order.bounded_order</code> in <a href="https://github.com/leanprover-community/mathlib/pull/13419">#13419</a>.</p>



<a name="278820855"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/278820855" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#278820855">(Apr 13 2022 at 12:17)</a>:</h4>
<blockquote>
<p>The API for <code>with_top</code> and the API for <code>with_top</code> somehow...</p>
</blockquote>
<p>;b</p>



<a name="278820997"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/278820997" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#278820997">(Apr 13 2022 at 12:18)</a>:</h4>
<p>Whooops</p>



<a name="278949961"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/An%20example%20of%20why%20formalization%20is%20useful/near/278949961" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/An.20example.20of.20why.20formalization.20is.20useful.html#278949961">(Apr 14 2022 at 10:55)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/13443">#13443</a> for <code>number_theory.</code></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>