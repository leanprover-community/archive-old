---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/definition.20of.20real.20log.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/definition.20of.20real.20log.html">definition of real log</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="195528886"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/definition%20of%20real%20log/near/195528886" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/definition.20of.20real.20log.html#195528886">(Apr 28 2020 at 07:46)</a>:</h4>
<p>I have a controversial question (Kevin, close your eyes): how should we define the real logarithm of <code>x</code> when <code>x &lt; 0</code>. Currently, it is <code>0</code>, but I wonder if using <code>log |x|</code> would not be better, as it would satisfy the formulas <code>log(xy) = log x + log y</code> for all nonzero <code>x</code> and <code>y</code>, and <code>log' = 1/x</code> away from <code>0</code>. Given that proving that something is nonzero is often easier than checking its positivity, this would make these statements easier to apply. Any thoughts?</p>



<a name="195529745"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/definition%20of%20real%20log/near/195529745" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/definition.20of.20real.20log.html#195529745">(Apr 28 2020 at 07:56)</a>:</h4>
<p>That would also make it equal to the real part of our complex log.</p>



<a name="195529828"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/definition%20of%20real%20log/near/195529828" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/definition.20of.20real.20log.html#195529828">(Apr 28 2020 at 07:57)</a>:</h4>
<p>Ha ha I am over all this now. I remember Chris having problems with junk inputs with this definition but I can't remember the details. Isn't log|x| actually a useful function in fact? Isn't it the indefinite integral of 1/x for example?</p>



<a name="195529952"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/definition%20of%20real%20log/near/195529952" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/definition.20of.20real.20log.html#195529952">(Apr 28 2020 at 07:58)</a>:</h4>
<p>I think we had a similar discussion about the output of sqrt many years ago when I was learning this stuff (I wrote real.sqrt before there was one in mathlib because I needed it for my undergraduate problem sheets)</p>



<a name="195530009"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/definition%20of%20real%20log/near/195530009" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/definition.20of.20real.20log.html#195530009">(Apr 28 2020 at 07:59)</a>:</h4>
<p>I think Chris' observation was that exp (log (junk)) was not the traditional junk value of 0 but was actually 1</p>



<a name="195530790"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/definition%20of%20real%20log/near/195530790" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/definition.20of.20real.20log.html#195530790">(Apr 28 2020 at 08:07)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="bp">@</span><span class="o">[</span><span class="kn">irreducible</span><span class="o">]</span> <span class="n">def</span> <span class="n">junk</span> <span class="o">:=</span> <span class="mi">37</span>
</code></pre></div>



<a name="195531121"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/definition%20of%20real%20log/near/195531121" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/definition.20of.20real.20log.html#195531121">(Apr 28 2020 at 08:11)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">example</span> <span class="o">:</span> <span class="bp">âˆƒ</span> <span class="n">p</span><span class="o">,</span> <span class="n">irregular_prime</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">use</span> <span class="n">junk</span><span class="bp">;</span> <span class="n">exact</span> <span class="n">dec_trivial</span>
</code></pre></div>



<a name="195531234"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/definition%20of%20real%20log/near/195531234" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/definition.20of.20real.20log.html#195531234">(Apr 28 2020 at 08:12)</a>:</h4>
<p>Sorry for trolling...<br>
<span class="user-mention" data-user-id="110050">@Sebastien Gouezel</span> I think this is a great idea! I think this is even sometimes done in "real" maths, isn't it?</p>



<a name="195531265"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/definition%20of%20real%20log/near/195531265" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/definition.20of.20real.20log.html#195531265">(Apr 28 2020 at 08:13)</a>:</h4>
<p>As in, people write <code>ln x</code>, and they actually mean <code>ln |x|</code>, and this only gets corrected after a while</p>



<a name="195531467"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/definition%20of%20real%20log/near/195531467" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/definition.20of.20real.20log.html#195531467">(Apr 28 2020 at 08:14)</a>:</h4>
<p>One day there are going to be theses written about how 37 became the world's default junk value.</p>



<a name="195533110"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/definition%20of%20real%20log/near/195533110" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/definition.20of.20real.20log.html#195533110">(Apr 28 2020 at 08:33)</a>:</h4>
<p>I think this is a good idea as well. Two arguments in favor are the use of <code>ln |x|</code> in intro calc and the fact that <code>log |x| = Re (log x)</code> (both mentioned above)</p>



<a name="195533231"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/definition%20of%20real%20log/near/195533231" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/definition.20of.20real.20log.html#195533231">(Apr 28 2020 at 08:34)</a>:</h4>
<p>Less clear is whether <code>real.sqrt</code> should do the same thing</p>



<a name="195533421"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/definition%20of%20real%20log/near/195533421" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/definition.20of.20real.20log.html#195533421">(Apr 28 2020 at 08:36)</a>:</h4>
<p>when you said "intro calc" my first thought was the two tactics <code>by intro</code> and <code>by calc</code>... Lean syndrome</p>



<a name="195533473"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/definition%20of%20real%20log/near/195533473" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/definition.20of.20real.20log.html#195533473">(Apr 28 2020 at 08:37)</a>:</h4>
<p>should <code>real.sqrt (-4)</code> be <code>-2</code> or <code>2</code>?</p>



<a name="195533501"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/definition%20of%20real%20log/near/195533501" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/definition.20of.20real.20log.html#195533501">(Apr 28 2020 at 08:37)</a>:</h4>
<p>I think the only reasonable choices are <code>0</code> and <code>2</code></p>



<a name="195533518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/definition%20of%20real%20log/near/195533518" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/definition.20of.20real.20log.html#195533518">(Apr 28 2020 at 08:37)</a>:</h4>
<p>well <code>-2</code> would keep the monotonic property</p>



<a name="195537027"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/definition%20of%20real%20log/near/195537027" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/definition.20of.20real.20log.html#195537027">(Apr 28 2020 at 09:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110064">Kenny Lau</span> <a href="#narrow/stream/113488-general/topic/definition.20of.20real.20log/near/195533421" title="#narrow/stream/113488-general/topic/definition.20of.20real.20log/near/195533421">said</a>:</p>
<blockquote>
<p>when you said "intro calc" my first thought was the two tactics <code>by intro</code> and <code>by calc</code>... Lean syndrome</p>
</blockquote>
<p>It got me stuck for a couple of seconds too.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>