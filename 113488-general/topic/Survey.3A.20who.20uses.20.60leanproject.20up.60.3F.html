---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Survey.3A.20who.20uses.20.60leanproject.20up.60.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Survey.3A.20who.20uses.20.60leanproject.20up.60.3F.html">Survey: who uses `leanproject up`?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="196602938"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Survey%3A%20who%20uses%20%60leanproject%20up%60%3F/near/196602938" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Survey.3A.20who.20uses.20.60leanproject.20up.60.3F.html#196602938">(May 06 2020 at 08:34)</a>:</h4>
<p>We would like to change <code>leanproject up</code> so that it always does the equivalent of <code>git pull &amp;&amp; leanproject get-mathlib-cache</code> and we would like to know if this breaks anybody's workflow.  <a href="https://xkcd.com/1172/" title="https://xkcd.com/1172/">https://xkcd.com/1172/</a><br>
(The only difference is if you're in a project that is not <code>mathlib</code>, but has a <code>mathlib</code> dependency.  Right now <code>leanproject up</code> automatically upgrades the <code>mathlib</code> dependency.)<br>
Are you using <code>leanproject up</code> in a project that is not <code>mathlib</code>?  What do you think about this change?</p>



<a name="196603714"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Survey%3A%20who%20uses%20%60leanproject%20up%60%3F/near/196603714" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Survey.3A.20who.20uses.20.60leanproject.20up.60.3F.html#196603714">(May 06 2020 at 08:43)</a>:</h4>
<p>I have used leanproject up as a one-stop solution to students problems ("who l why does this code I cut and pasted from Zulip not work?") and this will break it</p>



<a name="196603841"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Survey%3A%20who%20uses%20%60leanproject%20up%60%3F/near/196603841" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Survey.3A.20who.20uses.20.60leanproject.20up.60.3F.html#196603841">(May 06 2020 at 08:45)</a>:</h4>
<p>Students are very likely to be working on projects which are not mathlib, which depend on mathlib, and which are several months old</p>



<a name="196603889"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Survey%3A%20who%20uses%20%60leanproject%20up%60%3F/near/196603889" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Survey.3A.20who.20uses.20.60leanproject.20up.60.3F.html#196603889">(May 06 2020 at 08:45)</a>:</h4>
<p>As long as there is a super-simple way for them to do whatever leanproject up currently does that's great</p>



<a name="196603970"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Survey%3A%20who%20uses%20%60leanproject%20up%60%3F/near/196603970" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Survey.3A.20who.20uses.20.60leanproject.20up.60.3F.html#196603970">(May 06 2020 at 08:46)</a>:</h4>
<p>They never need git pull because they never push, they don't have a clue what git is</p>



<a name="196604023"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Survey%3A%20who%20uses%20%60leanproject%20up%60%3F/near/196604023" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Survey.3A.20who.20uses.20.60leanproject.20up.60.3F.html#196604023">(May 06 2020 at 08:47)</a>:</h4>
<p>In my experience updates to mathlib are unlikely to break their code, and needing the newest tactics is more important</p>



<a name="196604083"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Survey%3A%20who%20uses%20%60leanproject%20up%60%3F/near/196604083" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jesse Michael Han <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Survey.3A.20who.20uses.20.60leanproject.20up.60.3F.html#196604083">(May 06 2020 at 08:48)</a>:</h4>
<p>Does the proposed change make <code>leanproject up</code>'s effect on a mathlib dependency equivalent to old <code>update-mathlib</code>?</p>



<a name="196604140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Survey%3A%20who%20uses%20%60leanproject%20up%60%3F/near/196604140" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Survey.3A.20who.20uses.20.60leanproject.20up.60.3F.html#196604140">(May 06 2020 at 08:48)</a>:</h4>
<p>Not quite, because it also pulls the latest version of the mathlib dependent project</p>



<a name="196604177"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Survey%3A%20who%20uses%20%60leanproject%20up%60%3F/near/196604177" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Survey.3A.20who.20uses.20.60leanproject.20up.60.3F.html#196604177">(May 06 2020 at 08:49)</a>:</h4>
<p>Gabriel's idea is that <code>leanproject up</code> is a dangerous command so it shouldn't be the easiest to type</p>



<a name="196604313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Survey%3A%20who%20uses%20%60leanproject%20up%60%3F/near/196604313" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Survey.3A.20who.20uses.20.60leanproject.20up.60.3F.html#196604313">(May 06 2020 at 08:50)</a>:</h4>
<p>His proposal would make it roughly equivalent with the old <code>git pull &amp;&amp; leanpkg configure &amp;&amp; update-mathlib</code></p>



<a name="196604408"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Survey%3A%20who%20uses%20%60leanproject%20up%60%3F/near/196604408" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jesse Michael Han <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Survey.3A.20who.20uses.20.60leanproject.20up.60.3F.html#196604408">(May 06 2020 at 08:51)</a>:</h4>
<p>i agree with this change, as it's likely nontrivial projects will suffer breaking changes from downstream versions of <code>mathlib</code></p>



<a name="196604418"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Survey%3A%20who%20uses%20%60leanproject%20up%60%3F/near/196604418" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Survey.3A.20who.20uses.20.60leanproject.20up.60.3F.html#196604418">(May 06 2020 at 08:51)</a>:</h4>
<p>Will there also be a <code>leanproject bump-mathlib</code>?</p>



<a name="196604464"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Survey%3A%20who%20uses%20%60leanproject%20up%60%3F/near/196604464" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Survey.3A.20who.20uses.20.60leanproject.20up.60.3F.html#196604464">(May 06 2020 at 08:52)</a>:</h4>
<p>Ideally it should fix any errors that show up...</p>



<a name="196604487"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Survey%3A%20who%20uses%20%60leanproject%20up%60%3F/near/196604487" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Survey.3A.20who.20uses.20.60leanproject.20up.60.3F.html#196604487">(May 06 2020 at 08:52)</a>:</h4>
<p>The current leanproject up would be renamed to something else of course</p>



<a name="196604503"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Survey%3A%20who%20uses%20%60leanproject%20up%60%3F/near/196604503" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Survey.3A.20who.20uses.20.60leanproject.20up.60.3F.html#196604503">(May 06 2020 at 08:52)</a>:</h4>
<p><code>leanproject upper</code>?</p>



<a name="196604521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Survey%3A%20who%20uses%20%60leanproject%20up%60%3F/near/196604521" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Survey.3A.20who.20uses.20.60leanproject.20up.60.3F.html#196604521">(May 06 2020 at 08:53)</a>:</h4>
<p>It already has two aliases: <code>leanproject update-mathlib</code> and <code>leanproject upgrade-mathlib</code></p>



<a name="196604639"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Survey%3A%20who%20uses%20%60leanproject%20up%60%3F/near/196604639" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jesse Michael Han <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Survey.3A.20who.20uses.20.60leanproject.20up.60.3F.html#196604639">(May 06 2020 at 08:54)</a>:</h4>
<p>what about <code>leanproject update</code> for the proposed version, and <code>leanproject up/upgrade</code> for the current one?</p>



<a name="196604714"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Survey%3A%20who%20uses%20%60leanproject%20up%60%3F/near/196604714" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Survey.3A.20who.20uses.20.60leanproject.20up.60.3F.html#196604714">(May 06 2020 at 08:54)</a>:</h4>
<p>I'm strongly against having update and upgrade doing different things.</p>



<a name="196604770"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Survey%3A%20who%20uses%20%60leanproject%20up%60%3F/near/196604770" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Survey.3A.20who.20uses.20.60leanproject.20up.60.3F.html#196604770">(May 06 2020 at 08:55)</a>:</h4>
<p>This would be extremely confusing. I put both as aliases because the world is very inconsistent here</p>



<a name="196605009"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Survey%3A%20who%20uses%20%60leanproject%20up%60%3F/near/196605009" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Survey.3A.20who.20uses.20.60leanproject.20up.60.3F.html#196605009">(May 06 2020 at 08:57)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110031">Patrick Massot</span> <a href="#narrow/stream/113488-general/topic/Survey.3A.20who.20uses.20.60leanproject.20up.60.3F/near/196604714" title="#narrow/stream/113488-general/topic/Survey.3A.20who.20uses.20.60leanproject.20up.60.3F/near/196604714">said</a>:</p>
<blockquote>
<p>I'm strongly against having update and upgrade doing different things.</p>
</blockquote>
<p>Strongly agree with Patrick. This sounds too much like <code>apt</code>. And it's horrible.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>