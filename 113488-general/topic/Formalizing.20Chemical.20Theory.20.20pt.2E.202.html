---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113488-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202.html">Formalizing Chemical Theory  pt. 2</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="299461299"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20Chemical%20Theory%20%20pt.%202/near/299461299" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Max Bobbin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202.html#299461299">(Sep 18 2022 at 17:57)</a>:</h4>
<p>We are excited to announce the culmination of several months of work. <a href="https://atomslab.github.io/LeanChemicalTheories/">Lean Chemical Theories</a> has been a project the ATOMS lab has worked on for a while now, and some of you may remember a <a href="#narrow/stream/113488-general/topic/Formalizing.20Chemical.20Theory">previous post</a> we had done. Since then, we have made many changes to our code and advancements in our understanding of Lean. Now we have finished our first paper, <a href="/user_uploads/3121/SlkRnu2Ib2UbZCQfgnekkmmL/Formalizing_Chemical_Theory.pdf">Formalizing_Chemical_Theory.pdf</a> aimed at exploring the use of Lean for scientific mathematical formulation. This paper is aimed at scientists to get them interested in using theorem provers for scientific purposes, mainly formalizing the math behind scientific theories. Our paper focuses on our formalization of two adsorption models, kinematics, and thermodynamics. The paper is styled as a tutorial on using Lean, meaning we choose to keep some proofs (like the Langmuir proof) simple for readability while sacrificing applicability (although we do talk about ways to improve on that proof in the supplementary section). <br>
We are definitely excited to see how the scientific community reacts and to collaborate with others as we continue with this project. We are also excited about the next steps we want to take. Some of you may remember my <a href="#narrow/stream/116395-maths/topic/Dimensional.20Analysis.20Community.20Input">post</a> about formalizing dimensional analysis. While I have started entirely redoing our code (and am sure I will be back soon in Zulip asking for guidance <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span> ), I am excited about what we will be able to achieve. We are also looking at expanding our formalization of thermodynamics and classical mechanics, with a long-term goal of tackling parts of Noether's theorem. <br>
We wanted to share the project with the Lean community to get some feedback on our code and to give an update on our project. Attached Is a link to our code and a draft of our paper. </p>
<p>This project has been possible with the work of <span class="user-mention" data-user-id="480695">@Samiha Sharlin ⚛️</span> <span class="user-mention" data-user-id="459354">@Parivash</span> <span class="user-mention" data-user-id="459337">@Catherine Wraback</span> <span class="user-mention" data-user-id="509962">@An Hong Dang</span>  along with our P.I. <span class="user-mention" data-user-id="424214">@Tyler Josephson ⚛️</span></p>



<a name="299463690"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20Chemical%20Theory%20%20pt.%202/near/299463690" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202.html#299463690">(Sep 18 2022 at 18:20)</a>:</h4>
<blockquote>
<p>Everything in Lean is a Type, whether natural numbers or real numbers, functions, Boolean conditions, or even entire proofs.</p>
</blockquote>
<p>I think it would be more accurate to say that everything in Lean is a <em>term</em> of a type. For example the real numbers are a type, but the real number <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi></mrow><annotation encoding="application/x-tex">\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span></span></span></span> is not itself a type, it is a term of type <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">R</mi></mrow><annotation encoding="application/x-tex">\R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord mathbb">R</span></span></span></span>.</p>



<a name="299465148"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20Chemical%20Theory%20%20pt.%202/near/299465148" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202.html#299465148">(Sep 18 2022 at 18:36)</a>:</h4>
<p>In your code you have a lot of repetition, for example you prove<br>
<code>filter.tendsto (λ x : ℝ, x^7/x) (nhds_within 0 (set.Ioi 0)) (nhds 0)</code> and then <code>filter.tendsto (λ x : ℝ, x^8/x^2) (nhds_within 0 (set.Ioi 0)) (nhds 0)</code> and then <code>filter.tendsto (λ x : ℝ, x^9/x^3) (nhds_within 0 (set.Ioi 0)) (nhds 0)</code> and so on. It would be much more compact to prove a more general result involving <code>x^a/x^b</code>, just once, and then deducing all of these theorems from the more general case. In fact this is in some sense what formalisation is encouraging you to do -- instead of doing similar work multiple times, figure out the common general result and just prove it once.</p>



<a name="299465322"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20Chemical%20Theory%20%20pt.%202/near/299465322" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202.html#299465322">(Sep 18 2022 at 18:38)</a>:</h4>
<p>There is a problem with <code>theorem tendsto_at_top_at_zero_radius</code>. Right now one of your hypotheses is <code>(hx : ∀ x, x ∈ {r : ℝ | r ≠ 0})</code>, and this hypothesis is <em>false</em> (because x could be zero), which means that if you assume it then you can deduce any conclusion at all. No doubt this is just a misstatement of what you actually mean but it does mean that <em>as it stands</em> you will never be able to apply this theorem in a useful situation because you will never be able to supply a proof of <code>hx</code> in any application.</p>



<a name="299466027"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20Chemical%20Theory%20%20pt.%202/near/299466027" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202.html#299466027">(Sep 18 2022 at 18:49)</a>:</h4>
<p>My final comment is: do you think you'll be able to publish this kind of work? Is there anywhere in the chemistry ecosystem which would be interested in your work? I am only asking because I know nothing about the chemistry ecosystem!</p>



<a name="299466299"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20Chemical%20Theory%20%20pt.%202/near/299466299" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202.html#299466299">(Sep 18 2022 at 18:53)</a>:</h4>
<p>Oh, actually, one more comment:it's very frustrating that you can't write <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>r</mi><mrow><mi>a</mi><mi>d</mi></mrow></msub></mrow><annotation encoding="application/x-tex">r_{ad}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> for your variable name in Lean (so you can make the code look more like the informal text). Is the problem that "subscript d" is not a thing in unicode or that it's there but there's just no short cut for it in VS Code?</p>



<a name="299466376"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20Chemical%20Theory%20%20pt.%202/near/299466376" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202.html#299466376">(Sep 18 2022 at 18:54)</a>:</h4>
<p>An interesting approach to formalizing classical thermodynamics (and especially the second law) would be to follow Carathéodory's formalization. Buchdahl's book is also a great reference on this approach.</p>



<a name="299466385"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20Chemical%20Theory%20%20pt.%202/near/299466385" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202.html#299466385">(Sep 18 2022 at 18:55)</a>:</h4>
<p>This would also be a great test to the manifold and differential forms library of mathlib.</p>



<a name="299467625"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20Chemical%20Theory%20%20pt.%202/near/299467625" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202.html#299467625">(Sep 18 2022 at 19:09)</a>:</h4>
<p>Unicode has no subscript d</p>



<a name="299468134"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20Chemical%20Theory%20%20pt.%202/near/299468134" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202.html#299468134">(Sep 18 2022 at 19:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="439483">Andrew Yang</span> <a href="#narrow/stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202/near/299466385">said</a>:</p>
<blockquote>
<p>This would also be a great test to the manifold and differential forms library of mathlib.</p>
</blockquote>
<p>We have differential forms already?</p>



<a name="299468643"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20Chemical%20Theory%20%20pt.%202/near/299468643" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202.html#299468643">(Sep 18 2022 at 19:23)</a>:</h4>
<p>Your <a href="https://atomslab.github.io/LeanChemicalTheories/find/motion_cont_diff_everywhere"><code>motion_cont_diff_everywhere</code> typeclass</a> has a field which is false too:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">with_top</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">m</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">),</span> <span class="bp">↑</span><span class="n">m</span> <span class="bp">&lt;</span> <span class="n">n</span> <span class="bp">∧</span> <span class="n">cont_diff</span> <span class="bp">𝕜</span> <span class="n">n</span> <span class="o">(</span><span class="n">deriv</span><span class="bp">^</span><span class="o">[</span><span class="n">m</span><span class="o">]</span> <span class="n">motion.position</span><span class="o">)</span>
</code></pre></div>
<p>or from the paper, section 3.5:</p>
<blockquote>
<p>The field contdiff states that for all n, defined as a natural number including positive infinity, and for all m, defined as a natural number, <strong>m is less than n</strong>, and the mth derivative of position is continuously differentiable n-times. The carrot [sic] symbol is the logical symbol for and, which requries both sides to true.</p>
</blockquote>
<p>with counterexample <code>m = n = 0</code>. I assume you meant:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">with_top</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">m</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="bp">↑</span><span class="n">m</span> <span class="bp">&lt;</span> <span class="n">n</span><span class="o">),</span> <span class="n">cont_diff</span> <span class="bp">𝕜</span> <span class="n">n</span> <span class="o">(</span><span class="n">deriv</span><span class="bp">^</span><span class="o">[</span><span class="n">m</span><span class="o">]</span> <span class="n">motion.position</span><span class="o">)</span>
</code></pre></div>



<a name="299469597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20Chemical%20Theory%20%20pt.%202/near/299469597" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202.html#299469597">(Sep 18 2022 at 19:34)</a>:</h4>
<p>Even the <a href="https://atomslab.github.io/LeanChemicalTheories/find/motion"><code>motion</code> typeclass</a> it derives from is quite strange; <code>motion real (fin 3 -&gt; real)</code> as a typeclass means "there is a canonical position trajectory associated with 3D spacetime" aka that there is a particle that is more canonical than any other particle. Thankfully it's at least not uninhabitable though!</p>



<a name="299470776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20Chemical%20Theory%20%20pt.%202/near/299470776" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202.html#299470776">(Sep 18 2022 at 19:51)</a>:</h4>
<p>Another observation; your<code>zero_lt_rpow hx hy</code> exists already as <a href="https://leanprover-community.github.io/mathlib_docs/find/real.rpow_pos_of_pos">docs#real.rpow_pos_of_pos</a> <code>hx</code>. It can sometimes be hard to guess whether the <code>zero_lt</code> or <code>pos</code> naming convention is used.</p>



<a name="299479783"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20Chemical%20Theory%20%20pt.%202/near/299479783" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Tyler Josephson ⚛️ <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202.html#299479783">(Sep 18 2022 at 22:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202/near/299466027">said</a>:</p>
<blockquote>
<p>My final comment is: do you think you'll be able to publish this kind of work? Is there anywhere in the chemistry ecosystem which would be interested in your work? I am only asking because I know nothing about the chemistry ecosystem!</p>
</blockquote>
<p>Thanks for the feedback! We wondered for a bit where to submit this, since the concept is pretty new. We'll first submit it to ACS Central Science, a general-purpose journal that I've found has been receptive to promising new areas, like when machine learning + chemistry was an up-and-coming thing. We'll also post it to the arXiv and share it on Twitter after a final round of edits with y'all's feedback, which should also generate interest.</p>



<a name="299483981"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20Chemical%20Theory%20%20pt.%202/near/299483981" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202.html#299483981">(Sep 18 2022 at 23:37)</a>:</h4>
<p>Your <code>motion_cont_diff_everywhere</code> typeclass has a field which is false too</p>



<a name="299488557"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20Chemical%20Theory%20%20pt.%202/near/299488557" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Max Bobbin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202.html#299488557">(Sep 19 2022 at 01:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202/near/299465148">said</a>:</p>
<blockquote>
<p>In your code you have a lot of repetition, for example you prove<br>
<code>filter.tendsto (λ x : ℝ, x^7/x) (nhds_within 0 (set.Ioi 0)) (nhds 0)</code> and then <code>filter.tendsto (λ x : ℝ, x^8/x^2) (nhds_within 0 (set.Ioi 0)) (nhds 0)</code> and then <code>filter.tendsto (λ x : ℝ, x^9/x^3) (nhds_within 0 (set.Ioi 0)) (nhds 0)</code> and so on. It would be much more compact to prove a more general result involving <code>x^a/x^b</code>, just once, and then deducing all of these theorems from the more general case. In fact this is in some sense what formalisation is encouraging you to do -- instead of doing similar work multiple times, figure out the common general result and just prove it once.</p>
</blockquote>
<p>That is true and that is a plan, sorry there should've been a comment in there explaining that. I was just in a time crunch to prove that result of lennard jones and brute forced the method. I plan to return to it eventually.</p>



<a name="299488650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20Chemical%20Theory%20%20pt.%202/near/299488650" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Max Bobbin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202.html#299488650">(Sep 19 2022 at 01:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202/near/299465322">said</a>:</p>
<blockquote>
<p>There is a problem with <code>theorem tendsto_at_top_at_zero_radius</code>. Right now one of your hypotheses is <code>(hx : ∀ x, x ∈ {r : ℝ | r ≠ 0})</code>, and this hypothesis is <em>false</em> (because x could be zero), which means that if you assume it then you can deduce any conclusion at all. No doubt this is just a misstatement of what you actually mean but it does mean that <em>as it stands</em> you will never be able to apply this theorem in a useful situation because you will never be able to supply a proof of <code>hx</code> in any application.</p>
</blockquote>
<p>Yes, I am aware of that. I was running into a lot of problems applying theorems about the lennard-jones derivative due to the discontinuity and that was a version I got to in order to get things to work. Thats also on the to-do list to fix</p>



<a name="299489130"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20Chemical%20Theory%20%20pt.%202/near/299489130" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Max Bobbin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202.html#299489130">(Sep 19 2022 at 01:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202/near/299469597">said</a>:</p>
<blockquote>
<p>Even the <a href="https://atomslab.github.io/LeanChemicalTheories/find/motion"><code>motion</code> typeclass</a> it derives from is quite strange; <code>motion real (fin 3 -&gt; real)</code> as a typeclass means "there is a canonical position trajectory associated with 3D spacetime" aka that there is a particle that is more canonical than any other particle. Thankfully it's at least not uninhabitable though!</p>
</blockquote>
<p>Could you elaborate on what you mean? I don't understand what you mean by a particle is more canonical than any other. Also, I will make those fixes to the cont_diff part</p>



<a name="299504480"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20Chemical%20Theory%20%20pt.%202/near/299504480" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202.html#299504480">(Sep 19 2022 at 05:47)</a>:</h4>
<p><code>motion</code> is a data-carrying type class. As such, up to definitional equality, there should only be one instance of that your class on a given type (otherwise Lean will not know which of the different instances to prefer). For this reason, data-carrying classes should only be used when there is a "canonical" instance for each type.</p>
<p>In particular, <code>position</code> is one of the data-carrying fields. So, for example, there should only be one instance of <code>motion real (fin 3 -&gt; real)</code>, and hence only one <code>position</code> in 3d space. So only one canonical particle in 3d space.</p>
<p>In this case, my guess would be that you probably just want <code>motion</code> to be a structure which takes the inner product space as an argument instead of extending that class.</p>



<a name="299521564"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20Chemical%20Theory%20%20pt.%202/near/299521564" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Tomas Skrivan <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202.html#299521564">(Sep 19 2022 at 08:22)</a>:</h4>
<p>I think with similar reasoning, <code>thermo_system</code> should be structure not a class</p>



<a name="299524052"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20Chemical%20Theory%20%20pt.%202/near/299524052" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Tomas Skrivan <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202.html#299524052">(Sep 19 2022 at 08:41)</a>:</h4>
<blockquote>
<p>The fourth kinematic equation, Equation 20, uses the inner product.  ...  we were unable to prove<br>
Equation 20 for complex time. </p>
</blockquote>
<p>You must be talking about the Equation 19 not 20. With complex numbers, Equation 19 should be <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>v</mi><mn>2</mn></msup><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><msubsup><mi>v</mi><mn>0</mn><mn>2</mn></msubsup><mo>+</mo><mi mathvariant="double-struck">a</mi><mo>⋅</mo><mi mathvariant="double-struck">d</mi><mo>+</mo><mi mathvariant="double-struck">d</mi><mo>⋅</mo><mi mathvariant="double-struck">a</mi></mrow><annotation encoding="application/x-tex">v^2(t)  = v_0^2 + \mathbb a \cdot \mathbb d + \mathbb d \cdot \mathbb a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0622em;vertical-align:-0.2481em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4445em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span> (It should work if I didn't make a mistake on paper). Over real numbers we have <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">a</mi><mo>⋅</mo><mi mathvariant="double-struck">d</mi><mo>=</mo><mi mathvariant="double-struck">d</mi><mo>⋅</mo><mi mathvariant="double-struck">a</mi></mrow><annotation encoding="application/x-tex">\mathbb a \cdot \mathbb d = \mathbb d \cdot \mathbb a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4445em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span> so the equation reduces to the Equation 19 as stated. Also I'm probably blind, but I do not see the definition of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">d</mi></mrow><annotation encoding="application/x-tex">\mathbb d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">d</span></span></span></span>, I had to check wikipedia to figure out what it means.</p>



<a name="299570367"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20Chemical%20Theory%20%20pt.%202/near/299570367" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Max Bobbin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202.html#299570367">(Sep 19 2022 at 14:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="346070">Tomas Skrivan</span> <a href="#narrow/stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202/near/299524052">said</a>:</p>
<blockquote>
<blockquote>
<p>The fourth kinematic equation, Equation 20, uses the inner product.  ...  we were unable to prove<br>
Equation 20 for complex time. </p>
</blockquote>
<p>You must be talking about the Equation 19 not 20. With complex numbers, Equation 19 should be <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>v</mi><mn>2</mn></msup><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><msubsup><mi>v</mi><mn>0</mn><mn>2</mn></msubsup><mo>+</mo><mi mathvariant="bold">a</mi><mo>⋅</mo><mi mathvariant="bold">d</mi><mo>+</mo><mi mathvariant="bold">d</mi><mo>⋅</mo><mi mathvariant="bold">a</mi></mrow><annotation encoding="application/x-tex">v^2(t)  = v_0^2 + \mathbf a \cdot \mathbf d + \mathbf d \cdot \mathbf a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0622em;vertical-align:-0.2481em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4445em;"></span><span class="mord mathbf">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord mathbf">d</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathbf">d</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4444em;"></span><span class="mord mathbf">a</span></span></span></span> (It should work if I didn't make a mistake on paper). Over real numbers we have <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">a</mi><mo>⋅</mo><mi mathvariant="bold">d</mi><mo>=</mo><mi mathvariant="bold">d</mi><mo>⋅</mo><mi mathvariant="bold">a</mi></mrow><annotation encoding="application/x-tex">\mathbf a \cdot \mathbf d = \mathbf d \cdot \mathbf a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4445em;"></span><span class="mord mathbf">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathbf">d</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathbf">d</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4444em;"></span><span class="mord mathbf">a</span></span></span></span> so the equation reduces to the Equation 19 as stated. Also I'm probably blind, but I do not see the definition of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">d</mi></mrow><annotation encoding="application/x-tex">\mathbf d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathbf">d</span></span></span></span>, I had to check wikipedia to figure out what it means.</p>
</blockquote>
<p>I will check to see if the equation is wrongly referenced, but we found out that the equation only works for real numbers and not complex numbers, which is what we discuss in the paper. In contrast, all the other equations worked fine for complex numbers, but that's because they didn't use the inner product</p>



<a name="299580704"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20Chemical%20Theory%20%20pt.%202/near/299580704" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Tomas Skrivan <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202.html#299580704">(Sep 19 2022 at 14:59)</a>:</h4>
<p>I would suggest changing Equation 19 to <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>v</mi><mn>2</mn></msup><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><msubsup><mi>v</mi><mn>0</mn><mn>2</mn></msubsup><mo>+</mo><mi mathvariant="bold">a</mi><mo>⋅</mo><mi mathvariant="bold">d</mi><mo>+</mo><mi mathvariant="bold">d</mi><mo>⋅</mo><mi mathvariant="bold">a</mi></mrow><annotation encoding="application/x-tex">v^2(t)  = v_0^2 + \mathbf a \cdot \mathbf d + \mathbf d \cdot \mathbf a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0622em;vertical-align:-0.2481em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4445em;"></span><span class="mord mathbf">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord mathbf">d</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathbf">d</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4444em;"></span><span class="mord mathbf">a</span></span></span></span>, then I'm fairly confident it can be proven even in the complex case. After that you change the discussion such that the formalization guards you from doing incorrect generalizations of Torricelli's equation from real to complex numbers, or something along those lines.</p>



<a name="299580965"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20Chemical%20Theory%20%20pt.%202/near/299580965" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Tomas Skrivan <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202.html#299580965">(Sep 19 2022 at 15:00)</a>:</h4>
<p>You can also prove that over the reals numbers it reduces to the original form of Torricelli's equation,  <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>v</mi><mn>2</mn></msup><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><msubsup><mi>v</mi><mn>0</mn><mn>2</mn></msubsup><mo>+</mo><mn>2</mn><mi mathvariant="bold">a</mi><mo>⋅</mo><mi mathvariant="bold">d</mi></mrow><annotation encoding="application/x-tex">v^2(t)  = v_0^2 +  2 \mathbf a \cdot \mathbf d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0622em;vertical-align:-0.2481em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span><span class="mord mathbf">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathbf">d</span></span></span></span>.</p>



<a name="299581402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20Chemical%20Theory%20%20pt.%202/near/299581402" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Max Bobbin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202.html#299581402">(Sep 19 2022 at 15:03)</a>:</h4>
<p>I will try that out, thanks for the suggestion</p>



<a name="299596519"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20Chemical%20Theory%20%20pt.%202/near/299596519" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Max Bobbin <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202.html#299596519">(Sep 19 2022 at 16:06)</a>:</h4>
<p>I asked this before in a different post, but I didn't fully understand it; what is the difference between structure and class. I see that you all mentioned something about data-carrying. What does that mean?</p>



<a name="299596864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20Chemical%20Theory%20%20pt.%202/near/299596864" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202.html#299596864">(Sep 19 2022 at 16:08)</a>:</h4>
<p><code>class</code> is syntax for <code>@[class] structure</code>, so in some sense the question is "when do I need <code>@[class]</code>?"</p>



<a name="299597342"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20Chemical%20Theory%20%20pt.%202/near/299597342" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202.html#299597342">(Sep 19 2022 at 16:11)</a>:</h4>
<p>A simple rule of thumb is "Am I ever going to write <code>instance : my_type X := _</code>?" If the answer is not a strong yes, then you should not make <code>my_type</code> a class.</p>



<a name="299605645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20Chemical%20Theory%20%20pt.%202/near/299605645" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202.html#299605645">(Sep 19 2022 at 16:56)</a>:</h4>
<p>Every class has at most one instance, not so for structures. As Eric said, a class is just a structure with a tag attached to it (the <code>@[class]</code> "I am a class" tag). The basic example I use to explain the difference to mathematicians is: it's very rare in maths to define two multiplications on the same set (e.g. if <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span> are real numbers, then you want <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>×</mo><mi>y</mi></mrow><annotation encoding="application/x-tex">x\times y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span> to mean usual multiplication and it would be unwise to start defining another one), so things like <code>has_mul</code> and <code>group</code> are classes. But groups typically have many subgroups -- given one group you might well want to talk about two subgroups of it; this would not be abnormal. So <code>subgroup</code> is a structure but not a class.</p>



<a name="299618027"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20Chemical%20Theory%20%20pt.%202/near/299618027" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Stevens <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202.html#299618027">(Sep 19 2022 at 18:05)</a>:</h4>
<p>Or: in some sense, it's reasonable to say that there's "only one way" a set is finite - either it's finite or it isn't - so there's no need for any data associated with that fact, it's just a fact. Knowing that there <em>is</em> a proof of finiteness is enough; you never care what the proof is. So it would be reasonable to represent "ways in which a set is known to be finite" as a class, because we don't care about any differences between proofs of finiteness.</p>
<p>But most structures are not meaningfully classes: for most structures, we <em>do</em> care about the differences between objects of that structure type. For example, a tuple is (morally) a structure, and most times you use a tuple in day-to-day programming, you do so because you want your program to choose what to do based on what specific data lives inside the tuple. (It's meaningful to create different tuples, all with the same type, which are different in ways we actually care about!) Classes are in some sense the "unusual" thing.</p>



<a name="305881204"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Formalizing%20Chemical%20Theory%20%20pt.%202/near/305881204" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Tyler Josephson ⚛️ <a href="https://leanprover-community.github.io/archive/stream/113488-general/topic/Formalizing.20Chemical.20Theory.20.20pt.2E.202.html#305881204">(Oct 24 2022 at 17:44)</a>:</h4>
<p>Update - as recommended, we changed all of our classes to structures, and incorporated some other feedback as well. We posted this manuscript to the arxiv - thanks everyone for helping us get this far!</p>
<p><a href="https://arxiv.org/abs/2210.12150">https://arxiv.org/abs/2210.12150</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>