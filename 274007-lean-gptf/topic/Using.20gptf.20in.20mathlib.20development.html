---
layout: archive
title: Zulip Chat Archive
permalink: /stream/274007-lean-gptf/topic/Using.20gptf.20in.20mathlib.20development.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/274007-lean-gptf/index.html">lean-gptf</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/274007-lean-gptf/topic/Using.20gptf.20in.20mathlib.20development.html">Using gptf in mathlib development</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="229295966"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/274007-lean-gptf/topic/Using%20gptf%20in%20mathlib%20development/near/229295966" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/274007-lean-gptf/topic/Using.20gptf.20in.20mathlib.20development.html#229295966">(Mar 08 2021 at 13:17)</a>:</h4>
<p>(Moving a conversation from <a class="stream-topic" data-stream-id="113488" href="/#narrow/stream/113488-general/topic/Lean.20in.20the.20wild">#general &gt; Lean in the wild</a>.)</p>
<p><span class="user-mention silent" data-user-id="110087">Scott Morrison</span> <a href="#narrow/stream/113488-general/topic/Lean.20in.20the.20wild/near/229248671">said</a>:</p>
<blockquote>
<p><a href="https://github.com/jesse-michael-han/lean-gptf#importing-lean-gptf-as-a-dependency-for-your-own-project">https://github.com/jesse-michael-han/lean-gptf#importing-lean-gptf-as-a-dependency-for-your-own-project</a> explains how to set it up as a dependency of a project. However this is not a viable approach for someone working directly in mathlib (e.g. many people here).</p>
<p>Do you have suggestions for using gptf regularly within mathlib?</p>
</blockquote>
<p>Thanks for bring this up.  One should just think of Lean <code>gptf</code> as just another powerful Lean tactic which is in currently in development, like <code>rw_hint</code> which won't be left in mathlib code. Given your expertise <span class="user-mention" data-user-id="110087">@Scott Morrison</span>, I would probably come to you for advice on this subject. <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="229296941"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/274007-lean-gptf/topic/Using%20gptf%20in%20mathlib%20development/near/229296941" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/274007-lean-gptf/topic/Using.20gptf.20in.20mathlib.20development.html#229296941">(Mar 08 2021 at 13:24)</a>:</h4>
<p>A few options I see (and <span class="user-mention" data-user-id="116045">@Jesse Michael Han</span> or <span class="user-mention" data-user-id="121918">@Edward Ayers</span> might have other thoughts).  </p>
<ol>
<li>Users could add it as a dependency, do their development, and then remove it as a dependency before making a PR.  (They would have to also remember to remove <code>install tactic.gpt</code> in the header too.)</li>
<li>We could look at PRing <code>gptf</code> or something similar to mathlib.  Most of the work is done by a call to an external API.  However, I think Lean GPT-f is still probably too much in development right now to do that.  (Also, unlike any other tactic, one would have to sign up for access to the API.)</li>
<li>Any other ideas?</li>
</ol>



<a name="229308587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/274007-lean-gptf/topic/Using%20gptf%20in%20mathlib%20development/near/229308587" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/274007-lean-gptf/topic/Using.20gptf.20in.20mathlib.20development.html#229308587">(Mar 08 2021 at 14:38)</a>:</h4>
<p>Sorry!  I may have totally misunderstood the problem.  Are you having trouble using it in mathlib?  I'm trying to set it up now in a <code>mathlib</code> branch  to see if it works.  (I'm running into trouble, but I also have to go to work...)</p>



<a name="229311744"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/274007-lean-gptf/topic/Using%20gptf%20in%20mathlib%20development/near/229311744" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jesse Michael Han <a href="https://leanprover-community.github.io/archive/stream/274007-lean-gptf/topic/Using.20gptf.20in.20mathlib.20development.html#229311744">(Mar 08 2021 at 14:59)</a>:</h4>
<p>it would take a nontrivial amount of work to prepare a PR that could pass review, but one approach that was suggested by <span class="user-mention" data-user-id="110049">@Mario Carneiro</span> is to just copy-paste code in a branch of <code>mathlib</code> until it's in a minimum viable state and let people use that for <code>mathlib</code> development</p>



<a name="229383747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/274007-lean-gptf/topic/Using%20gptf%20in%20mathlib%20development/near/229383747" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/274007-lean-gptf/topic/Using.20gptf.20in.20mathlib.20development.html#229383747">(Mar 08 2021 at 22:08)</a>:</h4>
<p>As a viable branch of <code>mathlib</code> would be a prerequisite for 2. in any case, this seems like a good option.</p>



<a name="229383890"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/274007-lean-gptf/topic/Using%20gptf%20in%20mathlib%20development/near/229383890" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/274007-lean-gptf/topic/Using.20gptf.20in.20mathlib.20development.html#229383890">(Mar 08 2021 at 22:08)</a>:</h4>
<p>For people to realistically use it (yes, please!) I think eventually PR'ing it into mathlib should be an aspiration.</p>



<a name="229475100"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/274007-lean-gptf/topic/Using%20gptf%20in%20mathlib%20development/near/229475100" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/274007-lean-gptf/topic/Using.20gptf.20in.20mathlib.20development.html#229475100">(Mar 09 2021 at 13:23)</a>:</h4>
<p>First, I was being a bit dense yesterday.   I now assume the issue is that currently <code>gptf</code> depends on <code>mathlib</code> so it can't be used as a dependency inside <code>mathlib</code>, right?  So yes, we either have to move <code>gptf</code> inside <code>mathlib</code> (or a branch), or remove the dependency on <code>mathlib</code>.  I don't think the latter would be that hard.  As far as I see, we don't use any theorems in mathlib.  We just use some convince meta programming code which could be duplicated if needed.  Right?  I'm really fine with whatever approach is easiest to implement and maintain and most likely to get folks using it.</p>



<a name="229510894"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/274007-lean-gptf/topic/Using%20gptf%20in%20mathlib%20development/near/229510894" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/274007-lean-gptf/topic/Using.20gptf.20in.20mathlib.20development.html#229510894">(Mar 09 2021 at 16:54)</a>:</h4>
<p>If you move gptf in a branch of mathlib, it can depend on other files in mathlib. All the <code>import</code>s of mathlib files will still work, so that shouldn't be a problem.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>