---
layout: archive
title: Zulip Chat Archive
permalink: /stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/index.html">graph theory</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html">Spectrum of a graph</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="233283743"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/233283743" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#233283743">(Apr 06 2021 at 08:29)</a>:</h4>
<p>Hello! Is there a helpful library for showing stuff about eigenvalues of the matrices that could help me? I saw that the eigenspace.lean file has some lemmas, but what I have right now is this:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">has_eigen</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="n">matrix</span> <span class="n">V</span> <span class="n">V</span> <span class="n">R</span><span class="o">)</span> <span class="o">(</span><span class="n">μ</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">V</span> <span class="bp">→</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
  <span class="n">x</span> <span class="bp">≠</span> <span class="mi">0</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">mul_vec</span> <span class="n">M</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">μ</span> <span class="bp">•</span> <span class="n">x</span><span class="o">)</span>
<span class="kd">def</span> <span class="n">has_eigenvector</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="n">matrix</span> <span class="n">V</span> <span class="n">V</span> <span class="n">R</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">V</span> <span class="bp">→</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
  <span class="bp">∃</span> <span class="n">μ</span> <span class="o">:</span> <span class="n">R</span><span class="o">,</span> <span class="n">has_eigen</span> <span class="n">M</span> <span class="n">μ</span> <span class="n">x</span>
<span class="kd">def</span> <span class="n">has_eigenvalue</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="n">matrix</span> <span class="n">V</span> <span class="n">V</span> <span class="n">R</span><span class="o">)</span> <span class="o">(</span><span class="n">μ</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
  <span class="bp">∃</span> <span class="n">x</span> <span class="o">:</span> <span class="n">V</span> <span class="bp">→</span> <span class="n">R</span><span class="o">,</span> <span class="n">has_eigen</span> <span class="n">M</span> <span class="n">μ</span> <span class="n">x</span>
</code></pre></div>
<p>(a definition of eigenvalue+eigenvector in terms of matrices on a commutative ring R)</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">symmetric_matrix</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="n">matrix</span> <span class="n">V</span> <span class="n">V</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span> <span class="n">M</span> <span class="bp">=</span> <span class="n">M</span><span class="bp">ᵀ</span>

<span class="kd">def</span> <span class="n">psd_matrix</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="n">matrix</span> <span class="n">V</span> <span class="n">V</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
  <span class="n">symmetric_matrix</span> <span class="n">M</span> <span class="bp">∧</span> <span class="bp">∀</span> <span class="n">x</span> <span class="o">:</span> <span class="n">V</span> <span class="bp">→</span> <span class="n">R</span><span class="o">,</span> <span class="n">dot_product</span> <span class="o">(</span><span class="n">vec_mul</span> <span class="n">x</span> <span class="n">M</span><span class="o">)</span> <span class="n">x</span> <span class="bp">≥</span> <span class="mi">0</span>
</code></pre></div>
<p>(definitions of symmetry and positive semidefiniteness)</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">psd_nonneg_eigenvalues</span> <span class="o">{</span><span class="n">M</span> <span class="o">:</span> <span class="n">matrix</span> <span class="n">V</span> <span class="n">V</span> <span class="n">R</span><span class="o">}</span> <span class="o">(</span><span class="n">H_psd</span> <span class="o">:</span> <span class="n">psd_matrix</span> <span class="n">M</span><span class="o">)</span> <span class="o">(</span><span class="n">μ</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">has_eigenvalue</span> <span class="n">M</span> <span class="n">μ</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">μ</span> <span class="bp">≥</span> <span class="mi">0</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>
<p>(I managed to prove that all eigenvalues of a PSD matrix are non-negative)</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">laplace_matrix</span> <span class="o">:</span> <span class="n">matrix</span> <span class="n">V</span> <span class="n">V</span> <span class="n">ℝ</span>
<span class="bp">|</span> <span class="n">i</span> <span class="n">j</span> <span class="o">:=</span> <span class="k">if</span> <span class="n">i</span> <span class="bp">=</span> <span class="n">j</span> <span class="k">then</span> <span class="n">G.degree</span> <span class="n">i</span> <span class="k">else</span> <span class="bp">-</span> <span class="n">G.adj_matrix</span> <span class="n">ℝ</span> <span class="n">i</span> <span class="n">j</span>
</code></pre></div>
<p>(the Laplacian matrix of a given undirected graph, with coefficients in ℝ)</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">psd_laplacian</span> <span class="o">(</span><span class="n">o</span> <span class="o">:</span> <span class="n">orientation</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span> <span class="n">psd_matrix</span> <span class="n">G.laplace_matrix</span> <span class="o">:=</span> <span class="gr">sorry</span>
<span class="kd">def</span> <span class="n">laplacian_eigenvalues</span> <span class="o">:</span> <span class="n">set</span> <span class="n">ℝ</span> <span class="o">:=</span> <span class="o">{</span><span class="n">μ</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">|</span> <span class="n">has_eigenvalue</span> <span class="n">G.laplace_matrix</span> <span class="n">μ</span><span class="o">}</span>
</code></pre></div>
<p>(I managed to prove that the Laplacian of a graph is positive semi-definite and I defined it's set of eigenvalues)<br>
Now, I easily have that the eigenvalues of the Laplacian are non-negative, but what I will want to work with after that is with l1,l2,...,ln where n is the number of vertices and li are the eigenvalues of the Laplacian. First, I need to show that the size of "laplacian_eigenvalues" is the size of V, basically to show that an n x n matrix that is positive semi-definite has n real eigenvalues, and since the smallest eigenvalue here is l1 = 0 (with corresponding eigenvector 1), I will want to work with l2 and ln. Also,  I will probably need to work with the characteristic polynomial of a matrix.<br>
I know this is a lot of information all over the place, if more clarification is needed, I will offer it. I just want some guidance on what libraries you think might be useful for me to progress, since I didn't  find much in the "linear_algebra" file so far. Thank you very much!</p>



<a name="233324837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/233324837" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#233324837">(Apr 06 2021 at 14:09)</a>:</h4>
<p>I don't think we have anything on eigenvalues or eigenvectors outside of <code>linear_algebra/eigenspace.lean</code>. I encourage you to begin PR-ing what you have in "easily-reviewable" chunks, as the results you're proving seem quite valuable!</p>



<a name="233325340"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/233325340" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#233325340">(Apr 06 2021 at 14:12)</a>:</h4>
<p>Yes, will do. I will probably need some assistance with the PR process at start, but as soon as I have something more concrete I will PR it. This post was just to raise awareness and maybe someone more experienced has some guidance <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="233350423"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/233350423" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alena Gusakov <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#233350423">(Apr 06 2021 at 16:32)</a>:</h4>
<p>For l1, l2, ..., ln I think you could try list.sort? That's what I was messing around with when I was trying to prove Havel-Hakimi not too long ago</p>



<a name="237139123"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/237139123" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#237139123">(May 03 2021 at 10:09)</a>:</h4>
<p>Hello again! I came back to let you know that I kinda finished with some work on incidence and Laplacian matrices of graphs in the <code>incidence.lean</code> and <code>laplacian.lean</code> files from my repo : <a href="https://github.com/gabrielmoise/Lean-work">https://github.com/gabrielmoise/Lean-work</a> (I also have a file with linear algebra, but that is for some future ideas regarding the spectrum of graphs).<br>
I will probably want to PR most of the stuff there, but since I am not very experienced with Lean, I wanted to ask (if you can spare some minutes) if any of the more experienced in graph theory (and in Lean) people can have a look on what I did, some feedback would help a lot. Wish you a wonderful day! <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="237243611"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/237243611" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#237243611">(May 03 2021 at 22:57)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">sum_complex_re</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">n</span> <span class="bp">→</span> <span class="n">ℂ</span><span class="o">}</span> <span class="o">:</span> <span class="o">(</span><span class="bp">∑</span> <span class="n">i</span> <span class="o">:</span> <span class="n">n</span><span class="o">,</span> <span class="n">x</span> <span class="n">i</span><span class="o">)</span><span class="bp">.</span><span class="n">re</span> <span class="bp">=</span> <span class="bp">∑</span> <span class="n">i</span> <span class="o">:</span> <span class="n">n</span><span class="o">,</span> <span class="o">(</span><span class="n">x</span> <span class="n">i</span><span class="o">)</span><span class="bp">.</span><span class="n">re</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">exact</span> <span class="n">complex.re_lm.map_sum</span>
</code></pre></div>
<p><code>lemma blah := by exact foo</code> can just be shortened to <code>lemma blah := foo</code> -- <code>by</code> means "move from term mode to tactic mode" and <code>exact</code> means "move from tactic mode to term mode". </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">vec_re</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">n</span> <span class="bp">→</span> <span class="n">ℂ</span><span class="o">)</span> <span class="o">:</span> <span class="n">n</span> <span class="bp">→</span> <span class="n">ℝ</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">i</span> <span class="o">:</span> <span class="n">n</span><span class="o">,</span> <span class="o">(</span><span class="n">x</span> <span class="n">i</span><span class="o">)</span><span class="bp">.</span><span class="n">re</span>
</code></pre></div>
<p>You can move <code>(i : n)</code> before the colon and then you don't need the lambda in the proof. It doesn't change the type of <code>vec_re</code>. I mean <code>def vec_re (x : n → ℂ) (i : n) : ℝ := (x i).re</code>.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">Coe</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="n">matrix</span> <span class="n">m</span> <span class="n">n</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:=</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="n">matrix</span> <span class="n">m</span> <span class="n">n</span> <span class="n">ℂ</span><span class="o">)</span>
</code></pre></div>
<p>Every time you make a definition you need to make an API for that definition. This is just a coercion and we have an API for coercions already. Why make your life harder by making a new definition? Then you have to teach Lean how to use it.</p>
<p>In <code>edge_val_equiv</code> you could do <code>rintro rfl</code> instead of <code>intro hyp, rw hyp</code>. </p>
<p><code>dot_product_helper</code> is surely never needed -- there are tactics like <code>congr'</code> which do it.</p>



<a name="237287961"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/237287961" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#237287961">(May 04 2021 at 08:39)</a>:</h4>
<p>The part with <code>Coe</code> was because it became annoying to write/read <code>(M : matrix V V ℂ)</code> in equations every time I needed to coerce M from reals to complex. I still don't know how to change this repetition.</p>



<a name="237288356"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/237288356" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#237288356">(May 04 2021 at 08:42)</a>:</h4>
<p>And for the <code>rintro rfl</code> part, for some reason the goal remains <code>e₁.val = e₁.val</code>.</p>



<a name="237288598"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/237288598" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#237288598">(May 04 2021 at 08:44)</a>:</h4>
<p>A random tip: your <code>degree_matrix</code> is <code>matrix.diagonal G.degree</code> I think (<a href="https://leanprover-community.github.io/mathlib_docs/find/matrix.diagonal">docs#matrix.diagonal</a>)</p>



<a name="237289121"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/237289121" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#237289121">(May 04 2021 at 08:49)</a>:</h4>
<p>It should do the trick, but types don't match right now, I will investigate</p>



<a name="237289882"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/237289882" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#237289882">(May 04 2021 at 08:56)</a>:</h4>
<p>Maybe <code>matrix.diagonal (λ v, G.degree v)</code></p>



<a name="237290155"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/237290155" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#237290155">(May 04 2021 at 08:59)</a>:</h4>
<p>Oh, and I notice now that in the <code>incidence.lean</code> file, what I created is not a directed incidence matrix, but an oriented incidence matrix for an oriented graph (not a directed graph). I am not sure how to rename it (I am not quite good with names) <code>or_inc_matrix</code> seems like it has something to do with the logical connective <code>or</code>. Any suggestions?</p>



<a name="237291447"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/237291447" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#237291447">(May 04 2021 at 09:09)</a>:</h4>
<p>I'm not familiar with that terminology, but wikipedia tells me that oriented graphs are a subset of directed graphs, yet <code>simple_graph</code> is an undirected graph</p>



<a name="237291629"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/237291629" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#237291629">(May 04 2021 at 09:10)</a>:</h4>
<p>Yes, they are a subset of directed graphs, but they can be derived from an undirected graph by choosing an orientation on the edges.</p>



<a name="237292379"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/237292379" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#237292379">(May 04 2021 at 09:17)</a>:</h4>
<p>Sure, but your definition doesn't say anything about that choice of orientation, so surely isn't about oriented graphs? (even if you can use it for them)</p>



<a name="237292484"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/237292484" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#237292484">(May 04 2021 at 09:18)</a>:</h4>
<p>Remember the name is <code>simple_graph.inc_matrix</code>, which might already resolve whatever ambiguity you're seeing</p>



<a name="237292541"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/237292541" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#237292541">(May 04 2021 at 09:19)</a>:</h4>
<p>I was talking about the <code>dir_inc_matrix</code> I defined, which is dependent to the orientation o.</p>



<a name="237292573"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/237292573" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#237292573">(May 04 2021 at 09:19)</a>:</h4>
<p>Oh, that wasn't clear</p>



<a name="237292669"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/237292669" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#237292669">(May 04 2021 at 09:20)</a>:</h4>
<p>Yes, I feel like I defined too many things in the <code>incidence.lean</code> file, so I will try to separate the new concepts I created into separate files. <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span> Sorry for the confusion!</p>



<a name="237294355"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/237294355" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#237294355">(May 04 2021 at 09:34)</a>:</h4>
<p>The confusion was just in the wording of your zulip message!</p>



<a name="237368759"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/237368759" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#237368759">(May 04 2021 at 17:44)</a>:</h4>
<p>Made the PR, <a href="https://github.com/leanprover-community/mathlib/pull/7498">https://github.com/leanprover-community/mathlib/pull/7498</a></p>



<a name="237547414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/237547414" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#237547414">(May 05 2021 at 18:54)</a>:</h4>
<p>Apparently, one important thing I need to do is to provide my <code>orientation</code> structure with an <code>inhabited</code> instance. I am not sure I can do that, since I don't know how to retrieve any elements from a <code>sym2 V</code>. Does anyone have any ideas?</p>



<a name="237547776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/237547776" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#237547776">(May 05 2021 at 18:57)</a>:</h4>
<p>I've dealt with this in the past by giving it an explicit V, that seems to shut the linter up. But my impression is that people don't like this approach and would rather you just marked the definition with some kind of <code>nolint</code> or <code>no_lint</code> tag -- search for this in mathlib and you'll see examples</p>



<a name="237549991"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/237549991" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#237549991">(May 05 2021 at 19:10)</a>:</h4>
<p>You can condition on <code>[inhabited V]</code></p>



<a name="237550057"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/237550057" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#237550057">(May 05 2021 at 19:11)</a>:</h4>
<p>And then you can get hold of a <code>sym2 V</code> with <code>default (sym2 V)</code></p>



<a name="237595009"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/237595009" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#237595009">(May 06 2021 at 02:14)</a>:</h4>
<p>It sounds like what you need is to define an orientation on each individual <code>sym2</code> edge using some kind of choice. For that, I see two options.</p>



<a name="237595158"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/237595158" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#237595158">(May 06 2021 at 02:16)</a>:</h4>
<p><code>sym2</code> is itself a quotient on <code>V x V</code>, so the most direct thing to try would be <code>quot.out</code>, which takes an element of a quotient and picks one of the possible elements of the equivalence class that corresponds to.</p>



<a name="237595332"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/237595332" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#237595332">(May 06 2021 at 02:19)</a>:</h4>
<p>The other option (a few more steps) is to use <code>sym2.equiv_multiset</code> to turn your <code>sym2</code> into a <code>multiset</code>, because we have a more robust API for those. Then you can use for instance <code>multiset.to_list</code> to turn it into an ordered list, or show that there exists a member of the multiset using <code>multiset.card_pos_iff_exists_mem</code> and then use <code>classical.some</code> to pick one.</p>



<a name="237667117"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/237667117" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#237667117">(May 06 2021 at 14:29)</a>:</h4>
<p>With your idea with <code>quot.out</code>, I get stuck trying to prove the following:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">@[ext]</span>
<span class="kd">structure</span> <span class="n">orientation</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="n">simple_graph</span> <span class="n">V</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">head</span> <span class="o">:</span> <span class="n">G.edge_set</span> <span class="bp">→</span> <span class="n">V</span><span class="o">)</span>
<span class="o">(</span><span class="n">tail</span> <span class="o">:</span> <span class="n">G.edge_set</span> <span class="bp">→</span> <span class="n">V</span><span class="o">)</span>
<span class="o">(</span><span class="n">consistent</span> <span class="o">(</span><span class="n">e</span> <span class="o">:</span> <span class="n">G.edge_set</span><span class="o">)</span> <span class="o">:</span> <span class="n">e.val</span> <span class="bp">=</span> <span class="bp">⟦</span><span class="o">(</span><span class="n">head</span><span class="o">(</span><span class="n">e</span><span class="o">),</span> <span class="n">tail</span><span class="o">(</span><span class="n">e</span><span class="o">))</span><span class="bp">⟧</span><span class="o">)</span>

<span class="kd">noncomputable</span> <span class="kd">def</span> <span class="n">default_orientation</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="n">simple_graph</span> <span class="n">V</span><span class="o">)</span> <span class="o">:</span> <span class="n">orientation</span> <span class="n">G</span> <span class="o">:=</span>
<span class="o">{</span>
  <span class="n">head</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">e</span> <span class="o">:</span> <span class="n">G.edge_set</span><span class="o">),</span> <span class="o">(</span><span class="n">quot.out</span> <span class="o">(</span><span class="n">e</span> <span class="o">:</span> <span class="n">sym2</span> <span class="n">V</span><span class="o">))</span><span class="bp">.</span><span class="n">fst</span><span class="o">,</span>
  <span class="n">tail</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">e</span> <span class="o">:</span> <span class="n">G.edge_set</span><span class="o">),</span> <span class="o">(</span><span class="n">quot.out</span> <span class="o">(</span><span class="n">e</span> <span class="o">:</span> <span class="n">sym2</span> <span class="n">V</span><span class="o">))</span><span class="bp">.</span><span class="n">snd</span><span class="o">,</span>
  <span class="n">consistent</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">e</span> <span class="o">:</span> <span class="n">G.edge_set</span><span class="o">),</span> <span class="kd">begin</span> <span class="n">rw</span> <span class="n">prod.mk.eta</span><span class="o">,</span> <span class="n">rw</span> <span class="bp">←</span><span class="n">subtype.val_eq_coe</span><span class="o">,</span> <span class="gr">sorry</span> <span class="kd">end</span>
  <span class="c1">-- e.val = ⟦quot.out e.val⟧</span>
<span class="o">}</span>

<span class="kd">noncomputable</span> <span class="kd">instance</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="n">simple_graph</span> <span class="n">V</span><span class="o">)</span> <span class="o">:</span> <span class="n">inhabited</span> <span class="o">(</span><span class="n">orientation</span> <span class="n">G</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">⟨</span><span class="n">G.default_orientation</span><span class="o">⟩</span>
</code></pre></div>
<p>Is what I am trying to prove even true?</p>



<a name="237683214"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/237683214" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#237683214">(May 06 2021 at 15:56)</a>:</h4>
<p>That goal looks true to me</p>



<a name="237683292"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/237683292" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#237683292">(May 06 2021 at 15:56)</a>:</h4>
<p>There'll be a lemma about <a href="https://leanprover-community.github.io/mathlib_docs/find/quot.out">docs#quot.out</a></p>



<a name="237683349"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/237683349" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#237683349">(May 06 2021 at 15:57)</a>:</h4>
<p>It's <a href="https://leanprover-community.github.io/mathlib_docs/find/quotient.out_eq">docs#quotient.out_eq</a></p>



<a name="237683450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/237683450" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#237683450">(May 06 2021 at 15:58)</a>:</h4>
<p>Maybe try using <code>quotient.out</code> instead?</p>



<a name="245597234"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/245597234" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#245597234">(Jul 11 2021 at 09:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="366674">Gabriel Moise</span> <a href="#narrow/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph/near/237368759">said</a>:</p>
<blockquote>
<p>Made the PR, <a href="https://github.com/leanprover-community/mathlib/pull/7498">https://github.com/leanprover-community/mathlib/pull/7498</a></p>
</blockquote>
<p>Hey! <br>
Seems like the PR has been idle for some time. Are there any other suggestions to be made, or any work in progress for it? <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="245613472"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/245613472" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#245613472">(Jul 11 2021 at 15:56)</a>:</h4>
<p><span class="user-mention" data-user-id="366674">@Gabriel Moise</span> I'm happy to see PRs on the way toward graph Laplacians!</p>
<p>For orientations, I'm wondering if it would be better dealing with directed graphs instead.  It also might make sense if this were all for multigraphs rather than simple graphs.  The code for orientations could probably be used (with modification) to turn undirected graphs into directed graphs.</p>
<p>I'll try putting together a PR for directed graphs and multigraphs today</p>



<a name="245631808"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/245631808" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#245631808">(Jul 11 2021 at 23:01)</a>:</h4>
<p>Here's a branch with a definition of multigraphs <a href="https://github.com/leanprover-community/mathlib/tree/multigraphs/src/combinatorics/multigraph">https://github.com/leanprover-community/mathlib/tree/multigraphs/src/combinatorics/multigraph</a></p>
<p>There's a <code>multigraph.to_multidigraph</code> function that chooses arbitrary edge orientations.</p>
<p>I didn't get around to finite multigraphs yet, other than local finiteness to be able to define degree.</p>



<a name="245645611"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/245645611" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#245645611">(Jul 12 2021 at 05:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="366674">Gabriel Moise</span> <a href="#narrow/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph/near/245597234">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="366674">Gabriel Moise</span> <a href="#narrow/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph/near/237368759">said</a>:</p>
<blockquote>
<p>Made the PR, <a href="https://github.com/leanprover-community/mathlib/pull/7498">https://github.com/leanprover-community/mathlib/pull/7498</a></p>
</blockquote>
<p>Hey! <br>
Seems like the PR has been idle for some time. Are there any other suggestions to be made, or any work in progress for it? <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>
</blockquote>
<p><span class="user-mention" data-user-id="306601">@Kyle Miller</span> <span class="user-mention" data-user-id="303889">@Alena Gusakov</span> <span class="user-mention" data-user-id="246273">@Bhavik Mehta</span> I think you're best at reviewing these PRs. Let me know if you want my input.</p>



<a name="245645622"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/245645622" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#245645622">(Jul 12 2021 at 05:01)</a>:</h4>
<p>I too am reviewing it now.</p>



<a name="245645748"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/245645748" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#245645748">(Jul 12 2021 at 05:04)</a>:</h4>
<p>(Speaking of which, I've contributed too much to <a href="https://github.com/leanprover-community/mathlib/issues/8223">#8223</a> to review it, I think.  This is homomorphisms and subgraphs.)</p>



<a name="245726102"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/245726102" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#245726102">(Jul 12 2021 at 18:21)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> The usual definition of an incidence matrix <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi></mrow><annotation encoding="application/x-tex">I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span></span></span></span> is a <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>×</mo><mi>m</mi></mrow><annotation encoding="application/x-tex">n\times m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">m</span></span></span></span> matrix where <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> is the number of vertices and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">m</span></span></span></span> is the number of edges.  This is easy enough to work with for mathematicians who are good at coercing stuff without blinking.  But there's a possibility to redefine it so that the columns correspond to the set of all unordered pairs, setting all the irrelevant columns to <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>, saving a whole lot of coercions at the cost of being conceptually a bit different.  This does not affect what <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><msup><mi>I</mi><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">II^T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span> is, which seems to be the important thing.</p>
<p>Do you have any thoughts about using the "junk data principle" here?</p>



<a name="245728577"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/245728577" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#245728577">(Jul 12 2021 at 18:38)</a>:</h4>
<p>Oooh I didn't catch it, but <a href="https://github.com/leanprover-community/mathlib/issues/7498">#7498</a> is defining the adjacency matrix, not the incidence matrix!</p>



<a name="245729948"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/245729948" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#245729948">(Jul 12 2021 at 18:47)</a>:</h4>
<p><span class="user-mention" data-user-id="387244">@Yaël Dillies</span> The adjacency matrix would be <code>adj_matrix :  matrix V V R</code> (see <a href="https://leanprover-community.github.io/mathlib_docs/find/simple_graph.adj_matrix">docs#simple_graph.adj_matrix</a>), but this is <code>inc_matrix : matrix V G.edge_set R</code>, unless I'm missing something</p>



<a name="245741104"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/245741104" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#245741104">(Jul 12 2021 at 20:09)</a>:</h4>
<p><span class="user-mention" data-user-id="306601">@Kyle Miller</span> hmm, I don't have a very good intuition here. But if you think including junk makes your life easier, well, go for it <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span></p>



<a name="245752838"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/245752838" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#245752838">(Jul 12 2021 at 21:30)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> It seems to simplify things a good amount (50% less code for unoriented incidence matrices) <a href="https://gist.github.com/kmill/7f876df1d581047cd8dc56ffafa291d0">https://gist.github.com/kmill/7f876df1d581047cd8dc56ffafa291d0</a></p>
<p>The theorems can also all be put together into a single statement (this is using the fact that the extra columns are 0, so it's not exactly junk data):</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">inc_matrix_mul_transpose</span> <span class="o">:</span>
  <span class="n">G.inc_matrix</span> <span class="n">R</span> <span class="bp">⬝</span> <span class="o">(</span><span class="n">G.inc_matrix</span> <span class="n">R</span><span class="o">)</span><span class="bp">ᵀ</span> <span class="bp">=</span> <span class="bp">λ</span> <span class="n">i</span> <span class="n">j</span><span class="o">,</span>
    <span class="k">if</span> <span class="n">i</span> <span class="bp">=</span> <span class="n">j</span> <span class="k">then</span> <span class="n">G.degree</span> <span class="n">i</span> <span class="k">else</span> <span class="k">if</span> <span class="n">G.adj</span> <span class="n">i</span> <span class="n">j</span> <span class="k">then</span> <span class="mi">1</span> <span class="k">else</span> <span class="mi">0</span>
</code></pre></div>
<p>I think <span class="user-mention" data-user-id="366674">@Gabriel Moise</span> would prefer that incidence matrices more accurately reflect the definition you find in mathematics, but this break with tradition seems reasonably-well justified to me.</p>



<a name="245921105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Spectrum%20of%20a%20graph/near/245921105" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph.html#245921105">(Jul 14 2021 at 05:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="306601">Kyle Miller</span> <a href="#narrow/stream/252551-graph-theory/topic/Spectrum.20of.20a.20graph/near/245729948">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> The adjacency matrix would be <code>adj_matrix :  matrix V V R</code> (see <a href="https://leanprover-community.github.io/mathlib_docs/find/simple_graph.adj_matrix">docs#simple_graph.adj_matrix</a>), but this is <code>inc_matrix : matrix V G.edge_set R</code>, unless I'm missing something</p>
</blockquote>
<p>Whoops don't mind me</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>