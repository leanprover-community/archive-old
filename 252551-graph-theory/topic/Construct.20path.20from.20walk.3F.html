---
layout: archive
title: Zulip Chat Archive
permalink: /stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/index.html">graph theory</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html">Construct path from walk?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="219041776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219041776" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chase Norman <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219041776">(Dec 07 2020 at 04:47)</a>:</h4>
<p>I have a question related to graph theory formalization. I'm looking to prove that given a directed graph and a walk from vertices x to y, one can construct a path from x to y. I am formalizing my walk as a list of vertices that satisfy <code>list.chain'</code> on some binary relation. The path would satisfy the <code>nodup</code> property.</p>
<p>I imagine some kind of proof inducting on the number of duplicate elements in the list, however the natural human intuition seems quite hand-wavy. Does anyone here have any advice or an example of a similar proof in the WIP mathlib addition? Thanks.</p>



<a name="219041822"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219041822" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alena Gusakov <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219041822">(Dec 07 2020 at 04:48)</a>:</h4>
<p>I have tried proving it and it is insanely obnoxious</p>



<a name="219041831"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219041831" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alena Gusakov <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219041831">(Dec 07 2020 at 04:48)</a>:</h4>
<p>My attempt was also based on the idea of duplicate elements</p>



<a name="219041906"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219041906" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alena Gusakov <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219041906">(Dec 07 2020 at 04:50)</a>:</h4>
<p>simple_graphs2 is the last branch I saw with an attempt but it's a couple of months behind mathlib, I've been slowly trying to slice it off into its own PRs</p>



<a name="219041938"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219041938" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alena Gusakov <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219041938">(Dec 07 2020 at 04:51)</a>:</h4>
<p>But I'm not convinced the definitions of path/walk there lend themselves to an easy proof of that lemma</p>



<a name="219041954"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219041954" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alena Gusakov <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219041954">(Dec 07 2020 at 04:51)</a>:</h4>
<p>Oh also simple_graphs2 doesn't have any directed graph stuff, you'd have to repurpose it a bit</p>



<a name="219042008"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219042008" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chase Norman <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219042008">(Dec 07 2020 at 04:52)</a>:</h4>
<p>would it be in walks.lean? How far did you get in the attempt?</p>



<a name="219042012"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219042012" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alena Gusakov <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219042012">(Dec 07 2020 at 04:52)</a>:</h4>
<p>I think it's there yeah</p>



<a name="219042014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219042014" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alena Gusakov <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219042014">(Dec 07 2020 at 04:52)</a>:</h4>
<p>I don't recall, it's one of the sorry'd proofs though (I think)</p>



<a name="219042020"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219042020" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alena Gusakov <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219042020">(Dec 07 2020 at 04:53)</a>:</h4>
<p>I have the obvious direction down, path -&gt; walk</p>



<a name="219042077"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219042077" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chase Norman <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219042077">(Dec 07 2020 at 04:54)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">exists_path_eq_exists_walk</span> <span class="o">:</span> <span class="n">exists_path</span> <span class="n">G</span> <span class="bp">=</span> <span class="n">exists_walk</span> <span class="n">G</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">ext</span> <span class="n">v</span> <span class="n">w</span><span class="o">,</span>
  <span class="n">sorry</span><span class="o">,</span>
  <span class="n">sorry</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="219042084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219042084" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alena Gusakov <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219042084">(Dec 07 2020 at 04:54)</a>:</h4>
<p>Ah yeah that must be it</p>



<a name="219042089"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219042089" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alena Gusakov <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219042089">(Dec 07 2020 at 04:55)</a>:</h4>
<p>Oh I guess I didn't prove the obvious direction lol, oops</p>



<a name="219042143"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219042143" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chase Norman <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219042143">(Dec 07 2020 at 04:56)</a>:</h4>
<p>Why is graph theory related work in combinatorics, if I may ask.</p>



<a name="219042163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219042163" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alena Gusakov <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219042163">(Dec 07 2020 at 04:56)</a>:</h4>
<p>I've always seen graph theory and combinatorics linked together</p>



<a name="219042166"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219042166" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219042166">(Dec 07 2020 at 04:57)</a>:</h4>
<p>It might actually be easier to show that both <code>exists_path</code> and <code>exists_walk</code> are equivalent to connectedness as defined with <code>eqv_gen</code></p>



<a name="219042416"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219042416" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chase Norman <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219042416">(Dec 07 2020 at 05:02)</a>:</h4>
<p>Is this the transitive closure? <code>eqv_gen</code>?</p>



<a name="219042429"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219042429" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219042429">(Dec 07 2020 at 05:03)</a>:</h4>
<p>Yes</p>



<a name="219042441"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219042441" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219042441">(Dec 07 2020 at 05:03)</a>:</h4>
<p>I'm not sure how smooth the API for it is</p>



<a name="219042713"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219042713" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chase Norman <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219042713">(Dec 07 2020 at 05:10)</a>:</h4>
<p>I feel like this just kicks the can down the road. I still feel like it would be hard to prove that there exists a path between two connected vertices.</p>



<a name="219046803"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219046803" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219046803">(Dec 07 2020 at 06:48)</a>:</h4>
<p>Prove it by induction on finsets: if every pair of elements in S is <code>eqv_gen</code>, then every pair or elements in S has a path</p>



<a name="219046903"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219046903" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chase Norman <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219046903">(Dec 07 2020 at 06:51)</a>:</h4>
<p>sounds like a walk</p>



<a name="219046971"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219046971" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219046971">(Dec 07 2020 at 06:52)</a>:</h4>
<p>Because when you induct on finsets every new element is known to be disjoint from all the others</p>



<a name="219047033"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219047033" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219047033">(Dec 07 2020 at 06:54)</a>:</h4>
<p>I feel like this question has come up before on zulip</p>



<a name="219047339"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219047339" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chase Norman <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219047339">(Dec 07 2020 at 07:01)</a>:</h4>
<p>Could you help me find this? Also I'm still misunderstanding you. If you induct on (I'm presuming) the length of the path, it's still possible you include a path that contains a node previously in the list. This would make the induction fail, as it creates a walk. Where does my logic fail?</p>



<a name="219047384"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219047384" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219047384">(Dec 07 2020 at 07:02)</a>:</h4>
<p>you aren't inducting on the length of the path</p>



<a name="219047390"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219047390" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219047390">(Dec 07 2020 at 07:02)</a>:</h4>
<p>you are inducting on the size of the set from which to select the vertices in the path</p>



<a name="219047478"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219047478" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219047478">(Dec 07 2020 at 07:04)</a>:</h4>
<p>Actually I think instead of S is pairwise <code>eqv_gen</code> in the hypothesis you might want every pair of elements in S has a walk in S</p>



<a name="219047555"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219047555" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219047555">(Dec 07 2020 at 07:06)</a>:</h4>
<p>oh, actually even better, to avoid having to find connected components: IH(S) = "for all x,y in S, if there is a walk from x to y in S then there is a path from x to y in S"</p>



<a name="219047624"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219047624" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chase Norman <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219047624">(Dec 07 2020 at 07:08)</a>:</h4>
<p>So if x and y are the only vertices, the result is the walk is the path. n=2</p>



<a name="219047637"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219047637" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219047637">(Dec 07 2020 at 07:09)</a>:</h4>
<p>the base case is of course |S| = 0</p>



<a name="219047644"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219047644" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chase Norman <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219047644">(Dec 07 2020 at 07:09)</a>:</h4>
<p>how would we restrict <code>|S|</code> when doing the inductive step? We would still need all the vertices to be options, right?</p>



<a name="219047649"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219047649" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219047649">(Dec 07 2020 at 07:09)</a>:</h4>
<p>?</p>



<a name="219047698"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219047698" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219047698">(Dec 07 2020 at 07:10)</a>:</h4>
<p>We just add an arbitrary vertex to S</p>



<a name="219047757"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219047757" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chase Norman <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219047757">(Dec 07 2020 at 07:12)</a>:</h4>
<p>Are you saying: if there's a path that contains the added vertex s, you're done. If not, then find the path from x to s and s to y?</p>



<a name="219047805"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219047805" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chase Norman <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219047805">(Dec 07 2020 at 07:12)</a>:</h4>
<p>What elements could we restrict from those paths so that we could use the IH?</p>



<a name="219047809"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219047809" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chase Norman <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219047809">(Dec 07 2020 at 07:12)</a>:</h4>
<p>I feel like I'm missing some obvious step.</p>



<a name="219047944"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219047944" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219047944">(Dec 07 2020 at 07:15)</a>:</h4>
<p>hm, you're right</p>



<a name="219048025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219048025" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219048025">(Dec 07 2020 at 07:16)</a>:</h4>
<p>I'm sure there is a simple inductive proof of this that does not need you to construct the whole vertex removing algorithm, and I'm pretty sure I posted it once on zulip but I can't find it :(</p>



<a name="219048196"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219048196" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219048196">(Dec 07 2020 at 07:20)</a>:</h4>
<p>I think the sketch Iâ€™d do is</p>
<ul>
<li>path -&gt; walk (straightforward)</li>
<li>walk -&gt; connected (probably the hardest, but induction on the length of the walk should work)</li>
<li>connected -&gt; path (follows from path being an equivalence relation)</li>
</ul>



<a name="219048209"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219048209" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chase Norman <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219048209">(Dec 07 2020 at 07:21)</a>:</h4>
<p>what is the formal definition of connected in your view?</p>



<a name="219048218"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219048218" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219048218">(Dec 07 2020 at 07:21)</a>:</h4>
<p>eqv_gen?</p>



<a name="219048220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219048220" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219048220">(Dec 07 2020 at 07:21)</a>:</h4>
<p><code>eqv_gen G.adj</code></p>



<a name="219048227"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219048227" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219048227">(Dec 07 2020 at 07:21)</a>:</h4>
<p>The transitive closure of adjacency</p>



<a name="219048268"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219048268" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219048268">(Dec 07 2020 at 07:22)</a>:</h4>
<p>walk -&gt; connected is easy</p>



<a name="219048282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219048282" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chase Norman <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219048282">(Dec 07 2020 at 07:22)</a>:</h4>
<p>yeah don't you just do that from transitivity? What I'm not understanding is how equivalence relation helps.</p>



<a name="219048283"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219048283" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219048283">(Dec 07 2020 at 07:22)</a>:</h4>
<p>I think the hard step in this proof is showing that path is an equivalence relation</p>



<a name="219048296"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219048296" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chase Norman <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219048296">(Dec 07 2020 at 07:23)</a>:</h4>
<p>Yeah for sure. Because you can form a walk out of paths, so knowing that path is an equivalence relation is enough to do the whole proof!</p>



<a name="219048349"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219048349" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219048349">(Dec 07 2020 at 07:24)</a>:</h4>
<p>How about: IH(y,w) = "if w is a walk from x to y, then there is a path from x to every point z in w"</p>



<a name="219048353"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219048353" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219048353">(Dec 07 2020 at 07:24)</a>:</h4>
<p>induction on walks</p>



<a name="219048551"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219048551" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219048551">(Dec 07 2020 at 07:29)</a>:</h4>
<p>In the inductive step, you have x -- a - y, and if y is in x..a then you are done by the IH, and if it is not then there is a path x..a by the IH which extends to a path x..y</p>



<a name="219048870"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219048870" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chase Norman <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219048870">(Dec 07 2020 at 07:35)</a>:</h4>
<p>That's more like it. That sounds powerful enough.</p>



<a name="219069392"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219069392" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219069392">(Dec 07 2020 at 11:36)</a>:</h4>
<p>I just ported over some of the definitions from <code>simple_graphs2</code> to use mathlib's simple graphs library, and I added a function to turn walks into paths between the same endpoints: <a href="https://github.com/leanprover-community/mathlib/blob/simple_graph_walks2/src/combinatorics/simple_graph/walks.lean#L127">https://github.com/leanprover-community/mathlib/blob/simple_graph_walks2/src/combinatorics/simple_graph/walks.lean#L127</a></p>
<p>This then proves that walks and paths generate the same relations: <a href="https://github.com/leanprover-community/mathlib/blob/simple_graph_walks2/src/combinatorics/simple_graph/walks.lean#L337">https://github.com/leanprover-community/mathlib/blob/simple_graph_walks2/src/combinatorics/simple_graph/walks.lean#L337</a> (I'm not sure the best way to encode relations from types -- is <code>nonempty</code> right?)</p>



<a name="219117669"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219117669" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chase Norman <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219117669">(Dec 07 2020 at 18:24)</a>:</h4>
<p>Where can I learn more about the types of inductive definitions you used in <code>to_path</code>? The syntax does not make sense to me and seems very powerful. Thanks for your help!</p>



<a name="219130556"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219130556" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219130556">(Dec 07 2020 at 20:00)</a>:</h4>
<p><a href="https://leanprover.github.io/reference/declarations.html#the-equation-compiler">https://leanprover.github.io/reference/declarations.html#the-equation-compiler</a> I think</p>



<a name="219804780"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/Construct%20path%20from%20walk%3F/near/219804780" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F.html#219804780">(Dec 14 2020 at 06:29)</a>:</h4>
<p>I've added some more to the branch and cleaned it up somewhat: <a href="https://github.com/leanprover-community/mathlib/blob/simple_graph_walks2/src/combinatorics/simple_graph/walks.lean">https://github.com/leanprover-community/mathlib/blob/simple_graph_walks2/src/combinatorics/simple_graph/walks.lean</a> (this now includes, for example, that <code>eqv_gen G.adj</code> is equal to <code>G.exists_walk</code>).</p>
<p>It still needs some work before it's ready for a PR, but the interface seems more-or-less fine (and it includes most of hedetniemi's <code>walk</code> module, specialized to simple graphs).  Some lemmas could stand to have more attention paid to their proofs (<code>is_path_iff.aux</code> for example), and a number of things could be named better.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>