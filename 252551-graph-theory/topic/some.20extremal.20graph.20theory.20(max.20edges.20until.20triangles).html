---
layout: archive
title: Zulip Chat Archive
permalink: /stream/252551-graph-theory/topic/some.20extremal.20graph.20theory.20(max.20edges.20until.20triangles).html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/index.html">graph theory</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/some.20extremal.20graph.20theory.20(max.20edges.20until.20triangles).html">some extremal graph theory (max edges until triangles)</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="280438081"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/some%20extremal%20graph%20theory%20%28max%20edges%20until%20triangles%29/near/280438081" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/some.20extremal.20graph.20theory.20(max.20edges.20until.20triangles).html#280438081">(Apr 28 2022 at 02:22)</a>:</h4>
<p>It seemed like we were ready to prove theorem I.2 in Bollobas's "Modern Graph Theory" that every graph with n vertices and more than n^2/4 vertices has a triangle, so here's <a href="https://github.com/leanprover-community/mathlib/pull/13758">#13758</a>.</p>
<p>There's a <code>sorry</code> for a consequence of Cauchy-Schwarz I couldn't find in mathlib, but other than that it was fairly straightforward once I thought of organizing the argument using a double sum over vertices and edges in the graph.</p>
<p>It also has an example showing the bound the theorem gives is tight, but there's still a <code>sorry</code> there for the number of edges in a bipartite graph.</p>



<a name="280438092"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/some%20extremal%20graph%20theory%20%28max%20edges%20until%20triangles%29/near/280438092" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/some.20extremal.20graph.20theory.20(max.20edges.20until.20triangles).html#280438092">(Apr 28 2022 at 02:22)</a>:</h4>
<p>If anyone wants to help finish this up, feel free!</p>



<a name="280438102"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/some%20extremal%20graph%20theory%20%28max%20edges%20until%20triangles%29/near/280438102" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/some.20extremal.20graph.20theory.20(max.20edges.20until.20triangles).html#280438102">(Apr 28 2022 at 02:23)</a>:</h4>
<p>Hopefully this is orthogonal to what you're doing with triangles, <span class="user-mention" data-user-id="387244">@Yaël Dillies</span> and <span class="user-mention" data-user-id="246273">@Bhavik Mehta</span>.</p>



<a name="280456500"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/some%20extremal%20graph%20theory%20%28max%20edges%20until%20triangles%29/near/280456500" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/some.20extremal.20graph.20theory.20(max.20edges.20until.20triangles).html#280456500">(Apr 28 2022 at 07:44)</a>:</h4>
<p>This looks <em>very</em> similar to what we have, in particular <a href="https://github.com/leanprover-community/mathlib/blob/01df77b33954aed5999e78837627e241523ebb49/src/combinatorics/szemeredi/triangle_removal.lean#L131-L132"><code>triangle_removal_2</code></a>, but I'm not sure how to connect both statements.</p>



<a name="280456559"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/some%20extremal%20graph%20theory%20%28max%20edges%20until%20triangles%29/near/280456559" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/some.20extremal.20graph.20theory.20(max.20edges.20until.20triangles).html#280456559">(Apr 28 2022 at 07:45)</a>:</h4>
<p><span class="user-mention" data-user-id="398581">@Mantas Baksys</span> has your <code>cauchy</code> on a branch, using the fact that <code>monovary f f</code>.</p>



<a name="280458370"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/some%20extremal%20graph%20theory%20%28max%20edges%20until%20triangles%29/near/280458370" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/some.20extremal.20graph.20theory.20(max.20edges.20until.20triangles).html#280458370">(Apr 28 2022 at 08:05)</a>:</h4>
<p>I want to help! Can I get commit access to non-master branches? My GitHub username is <code>collares</code>.</p>



<a name="280458445"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/some%20extremal%20graph%20theory%20%28max%20edges%20until%20triangles%29/near/280458445" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/some.20extremal.20graph.20theory.20(max.20edges.20until.20triangles).html#280458445">(Apr 28 2022 at 08:05)</a>:</h4>
<p>I won't push directly to the branch at first, it just feels like a convenient time to ask.</p>



<a name="280461832"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/some%20extremal%20graph%20theory%20%28max%20edges%20until%20triangles%29/near/280461832" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/some.20extremal.20graph.20theory.20(max.20edges.20until.20triangles).html#280461832">(Apr 28 2022 at 08:41)</a>:</h4>
<p>Invitation sent!</p>



<a name="280463860"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/some%20extremal%20graph%20theory%20%28max%20edges%20until%20triangles%29/near/280463860" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/some.20extremal.20graph.20theory.20(max.20edges.20until.20triangles).html#280463860">(Apr 28 2022 at 09:03)</a>:</h4>
<p>Bhavik claims it's totally unrelated.</p>



<a name="280467534"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/some%20extremal%20graph%20theory%20%28max%20edges%20until%20triangles%29/near/280467534" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/some.20extremal.20graph.20theory.20(max.20edges.20until.20triangles).html#280467534">(Apr 28 2022 at 09:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="306601">Kyle Miller</span> <a href="#narrow/stream/252551-graph-theory/topic/some.20extremal.20graph.20theory.20.28max.20edges.20until.20triangles.29/near/280438081">said</a>:</p>
<blockquote>
<p>It seemed like we were ready to prove theorem I.2 in Bollobas's "Modern Graph Theory" that every graph with n vertices and more than n^2/4 vertices has a triangle, so here's <a href="https://github.com/leanprover-community/mathlib/pull/13758">#13758</a>.</p>
<p>There's a <code>sorry</code> for a consequence of Cauchy-Schwarz I couldn't find in mathlib, but other than that it was fairly straightforward once I thought of organizing the argument using a double sum over vertices and edges in the graph.</p>
<p>It also has an example showing the bound the theorem gives is tight, but there's still a <code>sorry</code> there for the number of edges in a bipartite graph.</p>
</blockquote>
<p>The result is unrelated (though also very cool!) but we also needed a variant of Cauchy-Schwarz just like that one!</p>



<a name="280469338"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/some%20extremal%20graph%20theory%20%28max%20edges%20until%20triangles%29/near/280469338" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/some.20extremal.20graph.20theory.20(max.20edges.20until.20triangles).html#280469338">(Apr 28 2022 at 09:55)</a>:</h4>
<p>both of the division lemmas have almost the same proof:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code>  <span class="n">rw</span> <span class="o">[</span><span class="n">nat.add_div</span> <span class="n">two_pos</span><span class="o">,</span> <span class="n">n.mul_div_cancel_left</span> <span class="n">two_pos</span><span class="o">],</span>
  <span class="n">norm_num</span><span class="o">,</span>
</code></pre></div>



<a name="280473696"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/some%20extremal%20graph%20theory%20%28max%20edges%20until%20triangles%29/near/280473696" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/some.20extremal.20graph.20theory.20(max.20edges.20until.20triangles).html#280473696">(Apr 28 2022 at 10:39)</a>:</h4>
<p>It's very nice to see our work on cliques being used already!</p>



<a name="280475735"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/some%20extremal%20graph%20theory%20%28max%20edges%20until%20triangles%29/near/280475735" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/some.20extremal.20graph.20theory.20(max.20edges.20until.20triangles).html#280475735">(Apr 28 2022 at 11:01)</a>:</h4>
<p>wow, making a function <code>(complete_bipartite_graph V W).edge_set</code> to <code>V × W</code> with nice definitional properties is borderline impossible</p>



<a name="280482623"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/some%20extremal%20graph%20theory%20%28max%20edges%20until%20triangles%29/near/280482623" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Vincent Beffara <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/some.20extremal.20graph.20theory.20(max.20edges.20until.20triangles).html#280482623">(Apr 28 2022 at 12:06)</a>:</h4>
<p>Working with darts is always more pleasant in my experience</p>



<a name="280493837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/some%20extremal%20graph%20theory%20%28max%20edges%20until%20triangles%29/near/280493837" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/some.20extremal.20graph.20theory.20(max.20edges.20until.20triangles).html#280493837">(Apr 28 2022 at 13:33)</a>:</h4>
<p>As far as I understand it, three of the four sorries have already been proven in Zulip (either in this thread or in the Cauchy-Schwarz one), so I am trying to prove <code>bipartite_num_edges</code> now</p>



<a name="280494346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/some%20extremal%20graph%20theory%20%28max%20edges%20until%20triangles%29/near/280494346" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/some.20extremal.20graph.20theory.20(max.20edges.20until.20triangles).html#280494346">(Apr 28 2022 at 13:37)</a>:</h4>
<p>I was also trying that, Mauricio, how are you goijg about it? I wonder if darts are the easier way...</p>



<a name="280494710"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/some%20extremal%20graph%20theory%20%28max%20edges%20until%20triangles%29/near/280494710" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/some.20extremal.20graph.20theory.20(max.20edges.20until.20triangles).html#280494710">(Apr 28 2022 at 13:39)</a>:</h4>
<p>Although there doesn't seem to be a dart set, so you'd have to implement that and related lemmata...not too hard but still</p>



<a name="280495278"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/some%20extremal%20graph%20theory%20%28max%20edges%20until%20triangles%29/near/280495278" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/some.20extremal.20graph.20theory.20(max.20edges.20until.20triangles).html#280495278">(Apr 28 2022 at 13:43)</a>:</h4>
<p>Ah, sorry! I didn't want to duplicate work, and I haven't really started, so feel free to keep working on it :) I will take a look at the current clique API to see if doing Turán is feasible. I'd really like to eventually help to get a proof of Turán plus some sort of stability (as in the Szemerédi-less part of <a href="https://arxiv.org/abs/1501.03129">https://arxiv.org/abs/1501.03129</a> for example) into Mathlib.</p>



<a name="280495341"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/some%20extremal%20graph%20theory%20%28max%20edges%20until%20triangles%29/near/280495341" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/some.20extremal.20graph.20theory.20(max.20edges.20until.20triangles).html#280495341">(Apr 28 2022 at 13:43)</a>:</h4>
<p>The clique API is a week old so I suspect not <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span> but feel free to add to it!</p>



<a name="280495588"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/some%20extremal%20graph%20theory%20%28max%20edges%20until%20triangles%29/near/280495588" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/some.20extremal.20graph.20theory.20(max.20edges.20until.20triangles).html#280495588">(Apr 28 2022 at 13:45)</a>:</h4>
<p>Note that you can also try the Szemerédi-full part of the paper you just mentioned, because we have Szemerédi's regularity lemma on <a href="https://github.com/leanprover-community/mathlib/tree/szemeredi">branch#szemeredi</a></p>



<a name="280495990"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/some%20extremal%20graph%20theory%20%28max%20edges%20until%20triangles%29/near/280495990" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/some.20extremal.20graph.20theory.20(max.20edges.20until.20triangles).html#280495990">(Apr 28 2022 at 13:47)</a>:</h4>
<p>I hope to do the Szemerédi-full part eventually too, but usually with these proofs you prove things for cliques without Szemerédi, then do it for general H by applying Szemerédi to get a reduced graph (a graph with one vertex for each part in the Szemerédi partition of the original graph, and an edge for every "sufficiently dense" and regular pair), using the clique version (for K_{\chi(H)}) in the reduced graph and pulling the result back from the reduced graph.</p>



<a name="280496119"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/some%20extremal%20graph%20theory%20%28max%20edges%20until%20triangles%29/near/280496119" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/some.20extremal.20graph.20theory.20(max.20edges.20until.20triangles).html#280496119">(Apr 28 2022 at 13:48)</a>:</h4>
<p>But I will definitely try to do the Szemerédi application when the clique version is ready!</p>



<a name="280500364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/some%20extremal%20graph%20theory%20%28max%20edges%20until%20triangles%29/near/280500364" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/some.20extremal.20graph.20theory.20(max.20edges.20until.20triangles).html#280500364">(Apr 28 2022 at 14:17)</a>:</h4>
<p><span class="user-mention" data-user-id="284160">@Eric Rodriguez</span> It would probably take me a couple of days to fight lean, but to answer your earlier question I think I'd start with using <code>sum_degrees_eq_twice_card_edges</code> somehow.</p>



<a name="280504108"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/some%20extremal%20graph%20theory%20%28max%20edges%20until%20triangles%29/near/280504108" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/some.20extremal.20graph.20theory.20(max.20edges.20until.20triangles).html#280504108">(Apr 28 2022 at 14:43)</a>:</h4>
<p>The three non-Cauchy-Schwartz sorrys are solved in <a href="https://github.com/leanprover-community/mathlib/tree/ericrbg/triangle_free">branch#ericrbg/triangle_free</a></p>



<a name="280504176"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/some%20extremal%20graph%20theory%20%28max%20edges%20until%20triangles%29/near/280504176" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/some.20extremal.20graph.20theory.20(max.20edges.20until.20triangles).html#280504176">(Apr 28 2022 at 14:43)</a>:</h4>
<p>the equiv <code>complete_bipartite_graph V W).edge_set</code> to <code>V × W</code> is abhorrent</p>



<a name="280504293"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/some%20extremal%20graph%20theory%20%28max%20edges%20until%20triangles%29/near/280504293" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/some.20extremal.20graph.20theory.20(max.20edges.20until.20triangles).html#280504293">(Apr 28 2022 at 14:44)</a>:</h4>
<p>the last proof I did should probably be turned into a <code>calc</code> block</p>



<a name="280515422"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/some%20extremal%20graph%20theory%20%28max%20edges%20until%20triangles%29/near/280515422" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Vincent Beffara <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/some.20extremal.20graph.20theory.20(max.20edges.20until.20triangles).html#280515422">(Apr 28 2022 at 15:57)</a>:</h4>
<p><span class="user-mention silent" data-user-id="284160">Eric Rodriguez</span> <a href="#narrow/stream/252551-graph-theory/topic/some.20extremal.20graph.20theory.20.28max.20edges.20until.20triangles.29/near/280504176">said</a>:</p>
<blockquote>
<p>the equiv <code>complete_bipartite_graph V W).edge_set</code> to <code>V × W</code> is abhorrent</p>
</blockquote>
<p>Why do you need it though? Only in <code>bipartite_num_edges</code>? Because there a simpler proof using <a href="https://leanprover-community.github.io/mathlib_docs/find/simple_graph.dart_card_eq_sum_degrees">docs#simple_graph.dart_card_eq_sum_degrees</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/simple_graph.dart_card_eq_twice_card_edges">docs#simple_graph.dart_card_eq_twice_card_edges</a> seems to be doable.</p>



<a name="280518443"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/some%20extremal%20graph%20theory%20%28max%20edges%20until%20triangles%29/near/280518443" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/some.20extremal.20graph.20theory.20(max.20edges.20until.20triangles).html#280518443">(Apr 28 2022 at 16:17)</a>:</h4>
<p>I mean, it's the right thing to have mathematically regardless. It's just a shame it's so type theoretically awful to write</p>



<a name="280529684"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/some%20extremal%20graph%20theory%20%28max%20edges%20until%20triangles%29/near/280529684" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/some.20extremal.20graph.20theory.20(max.20edges.20until.20triangles).html#280529684">(Apr 28 2022 at 17:38)</a>:</h4>
<p>Thanks everyone for the help -- <a href="https://github.com/leanprover-community/mathlib/pull/13758">#13758</a> is now sorry-free! (<span class="user-mention" data-user-id="284160">@Eric Rodriguez</span> I merged your branch, so feel free to delete yours if you want.)</p>



<a name="280530397"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/some%20extremal%20graph%20theory%20%28max%20edges%20until%20triangles%29/near/280530397" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/some.20extremal.20graph.20theory.20(max.20edges.20until.20triangles).html#280530397">(Apr 28 2022 at 17:44)</a>:</h4>
<p>awesome, thanks for finding a nice golf!</p>



<a name="280534878"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/some%20extremal%20graph%20theory%20%28max%20edges%20until%20triangles%29/near/280534878" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/some.20extremal.20graph.20theory.20(max.20edges.20until.20triangles).html#280534878">(Apr 28 2022 at 18:16)</a>:</h4>
<p>I wonder if <code>∑ v, G.degree v ^ 2 ≤ G.edge_finset.card * fintype.card V</code> when <code>G</code> is triangle-free has an algebraic proof. If these are dimensions of vector spaces, then maybe some algebra structure for the tensor product of the edge space and the vertex space contains a direct sum of matrix algebras, one per vertex, each on a <code>G.degree v</code>-dimensional vector space.</p>



<a name="280561789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/some%20extremal%20graph%20theory%20%28max%20edges%20until%20triangles%29/near/280561789" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Vincent Beffara <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/some.20extremal.20graph.20theory.20(max.20edges.20until.20triangles).html#280561789">(Apr 28 2022 at 22:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="284160">Eric Rodriguez</span> <a href="#narrow/stream/252551-graph-theory/topic/some.20extremal.20graph.20theory.20.28max.20edges.20until.20triangles.29/near/280518443">said</a>:</p>
<blockquote>
<p>I mean, it's the right thing to have mathematically regardless. It's just a shame it's so type theoretically awful to write</p>
</blockquote>
<p>Agreed. This equiv on darts is a bit nicer IMO:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="bp">Φ₁</span> <span class="o">:</span> <span class="o">(</span><span class="n">complete_bipartite_graph</span> <span class="n">U</span> <span class="n">V</span><span class="o">)</span><span class="bp">.</span><span class="n">dart</span> <span class="bp">→</span> <span class="o">(</span><span class="n">U</span> <span class="bp">×</span> <span class="n">V</span><span class="o">)</span> <span class="bp">⊕</span> <span class="o">(</span><span class="n">V</span> <span class="bp">×</span> <span class="n">U</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rintro</span> <span class="o">⟨⟨</span><span class="n">x</span> <span class="bp">|</span> <span class="n">x</span><span class="o">,</span> <span class="n">y</span> <span class="bp">|</span> <span class="n">y</span><span class="o">⟩,</span> <span class="n">h</span><span class="o">⟩</span><span class="bp">;</span> <span class="o">{</span> <span class="n">simp</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span> <span class="n">contradiction</span> <span class="o">}</span> <span class="bp">&lt;|&gt;</span>
    <span class="o">{</span> <span class="n">exact</span> <span class="n">sum.inl</span> <span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">)</span> <span class="o">}</span> <span class="bp">&lt;|&gt;</span> <span class="o">{</span> <span class="n">exact</span> <span class="n">sum.inr</span> <span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">)</span> <span class="o">}</span>
<span class="kd">end</span>

<span class="kd">def</span> <span class="bp">Φ₂</span> <span class="o">:</span> <span class="o">(</span><span class="n">U</span> <span class="bp">×</span> <span class="n">V</span><span class="o">)</span> <span class="bp">⊕</span> <span class="o">(</span><span class="n">V</span> <span class="bp">×</span> <span class="n">U</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="n">complete_bipartite_graph</span> <span class="n">U</span> <span class="n">V</span><span class="o">)</span><span class="bp">.</span><span class="n">dart</span>
<span class="bp">|</span> <span class="o">(</span><span class="n">sum.inl</span> <span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">))</span> <span class="o">:=</span> <span class="o">⟨⟨</span><span class="n">sum.inl</span> <span class="n">x</span><span class="o">,</span> <span class="n">sum.inr</span> <span class="n">y</span><span class="o">⟩,</span> <span class="kd">by</span> <span class="n">simp</span><span class="o">⟩</span>
<span class="bp">|</span> <span class="o">(</span><span class="n">sum.inr</span> <span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">))</span> <span class="o">:=</span> <span class="o">⟨⟨</span><span class="n">sum.inr</span> <span class="n">x</span><span class="o">,</span> <span class="n">sum.inl</span> <span class="n">y</span><span class="o">⟩,</span> <span class="kd">by</span> <span class="n">simp</span><span class="o">⟩</span>

<span class="kd">def</span> <span class="n">toto</span> <span class="o">:</span> <span class="o">(</span><span class="n">complete_bipartite_graph</span> <span class="n">U</span> <span class="n">V</span><span class="o">)</span><span class="bp">.</span><span class="n">dart</span> <span class="bp">≃</span> <span class="o">(</span><span class="n">U</span> <span class="bp">×</span> <span class="n">V</span><span class="o">)</span> <span class="bp">⊕</span> <span class="o">(</span><span class="n">V</span> <span class="bp">×</span> <span class="n">U</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span>
  <span class="n">to_fun</span> <span class="o">:=</span> <span class="bp">Φ₁</span><span class="o">,</span>
  <span class="n">inv_fun</span> <span class="o">:=</span> <span class="bp">Φ₂</span><span class="o">,</span>
  <span class="n">left_inv</span> <span class="o">:=</span> <span class="kd">by</span> <span class="o">{</span> <span class="n">rintro</span> <span class="o">⟨⟨</span><span class="n">x</span> <span class="bp">|</span> <span class="n">x</span><span class="o">,</span> <span class="n">y</span> <span class="bp">|</span> <span class="n">y</span><span class="o">⟩,</span> <span class="n">h</span><span class="o">⟩</span><span class="bp">;</span> <span class="n">simp</span> <span class="o">[</span><span class="bp">Φ₁</span><span class="o">,</span> <span class="bp">Φ₂</span><span class="o">]</span> <span class="n">at</span> <span class="n">h</span> <span class="bp">⊢;</span> <span class="n">cases</span> <span class="n">h</span> <span class="o">},</span>
  <span class="n">right_inv</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="kd">by</span> <span class="o">{</span> <span class="n">cases</span> <span class="n">x</span><span class="bp">;</span> <span class="n">cases</span> <span class="n">x</span><span class="bp">;</span> <span class="n">simp</span> <span class="o">[</span><span class="bp">Φ₁</span><span class="o">,</span> <span class="bp">Φ₂</span><span class="o">]</span> <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<p>If <code>edge_set</code> were a quotient of <code>dart</code> as opposed to a set in <code>sym2</code>, one could then use <code>quotient.lift</code> ...</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>