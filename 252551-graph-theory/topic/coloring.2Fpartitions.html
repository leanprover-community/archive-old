---
layout: archive
title: Zulip Chat Archive
permalink: /stream/252551-graph-theory/topic/coloring.2Fpartitions.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/index.html">graph theory</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html">coloring/partitions</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="261999575"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/261999575" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#261999575">(Nov 18 2021 at 22:16)</a>:</h4>
<p>I've created this definition of <code>partitionable</code>:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="sd">/-- Whether a graph can be partitioned in at most `n` parts. -/</span>
<span class="kd">def</span> <span class="n">partitionable</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="bp">∃</span> <span class="o">(</span><span class="n">P</span> <span class="o">:</span> <span class="n">G.partition</span><span class="o">),</span> <span class="n">nonempty</span> <span class="o">(</span><span class="n">P.parts</span> <span class="bp">↪</span> <span class="n">fin</span> <span class="n">n</span><span class="o">)</span>
</code></pre></div>
<p>To prove this:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">partitionable_iff_colorable</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span> <span class="o">:</span>
  <span class="n">G.partitionable</span> <span class="n">n</span> <span class="bp">↔</span> <span class="n">G.colorable</span> <span class="n">n</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
    <span class="n">cases</span> <span class="n">h</span> <span class="k">with</span> <span class="n">P</span> <span class="n">h</span><span class="o">,</span>
    <span class="n">obtain</span> <span class="o">⟨</span><span class="n">f</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">h</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">C</span> <span class="o">:=</span> <span class="n">partition.to_coloring'</span> <span class="n">P</span><span class="o">,</span>
    <span class="n">use</span> <span class="n">G.recolor_of_embedding</span> <span class="n">f</span> <span class="n">C</span><span class="o">,</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">rintro</span> <span class="o">⟨</span><span class="n">C</span><span class="o">⟩,</span>
    <span class="k">have</span> <span class="n">P</span> <span class="o">:=</span> <span class="n">partition.from_coloring</span> <span class="n">C</span><span class="o">,</span>
    <span class="n">use</span> <span class="o">[</span><span class="n">P</span><span class="o">,</span> <span class="n">P.from_coloring_to_embedding</span> <span class="n">C</span><span class="o">],</span> <span class="o">},</span>
<span class="kd">end</span>
</code></pre></div>
<p>Now I need to define this function:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="sd">/-- An embedding from the parts of a partition to the colors of a coloring -/</span>
<span class="kd">def</span> <span class="n">from_coloring_to_embedding</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">v</span><span class="o">}</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">G.coloring</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">P.parts</span> <span class="bp">↪</span> <span class="n">α</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>
<p>Is it possible to do so?</p>



<a name="262001869"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/262001869" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#262001869">(Nov 18 2021 at 22:38)</a>:</h4>
<p>That definition of <code>partitionable</code> seems like a reasonable way to encode the idea.  I wonder though if it'd be easier to work with down the line if it used the <a href="https://leanprover-community.github.io/mathlib_docs/find/set.finite">docs#set.finite</a> interface:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">partitionable</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="bp">∃</span> <span class="o">(</span><span class="n">P</span> <span class="o">:</span> <span class="n">G.partition</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">P.parts.finite</span><span class="o">),</span> <span class="n">h.to_finset.card</span> <span class="bp">≤</span> <span class="n">n</span>
</code></pre></div>
<p>I'm not really sure, though, what's the most common way in mathlib of saying "this is a set with at most <code>n</code> elements."</p>



<a name="262001903"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/262001903" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#262001903">(Nov 18 2021 at 22:38)</a>:</h4>
<p>For <code>from_coloring_to_embedding</code>, I think you need additional hypotheses on what <code>P</code> is.</p>



<a name="262002088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/262002088" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#262002088">(Nov 18 2021 at 22:40)</a>:</h4>
<p><code>P</code> might have more independent sets than the number of color classes for <code>C</code>, and they might not me mergeable.</p>



<a name="262002561"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/262002561" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#262002561">(Nov 18 2021 at 22:45)</a>:</h4>
<p>Right, I had the impression that I lost important information with the abstraction</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="sd">/-- Creates a partition from a coloring. -/</span>
<span class="kd">def</span> <span class="n">from_coloring</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">v</span><span class="o">}</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">G.coloring</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">G.partition</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">let</span> <span class="n">parts</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">V</span><span class="o">)</span> <span class="o">:=</span> <span class="n">C.color_classes</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">is_partition</span> <span class="o">:</span> <span class="n">setoid.is_partition</span> <span class="n">parts</span><span class="o">,</span>
    <span class="o">{</span> <span class="kd">by</span> <span class="n">apply</span> <span class="n">coloring.color_classes_is_partition</span><span class="o">,</span> <span class="o">},</span>
  <span class="k">have</span> <span class="n">independent</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">s</span> <span class="bp">∈</span> <span class="n">parts</span><span class="o">),</span> <span class="n">is_antichain</span> <span class="n">G.adj</span> <span class="n">s</span><span class="o">,</span>
    <span class="o">{</span> <span class="kd">by</span> <span class="n">apply</span> <span class="n">coloring.color_classes_is_independent</span><span class="o">,</span> <span class="o">},</span>
  <span class="n">exact</span> <span class="n">partition.mk</span> <span class="n">parts</span> <span class="n">is_partition</span> <span class="n">independent</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="262002775"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/262002775" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#262002775">(Nov 18 2021 at 22:46)</a>:</h4>
<p>I want <code>P.parts</code> to be exactly the color classes themselves</p>



<a name="262002910"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/262002910" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#262002910">(Nov 18 2021 at 22:48)</a>:</h4>
<p>Are you wanting this?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">from_coloring_to_embedding</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">v</span><span class="o">}</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">G.coloring</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">from_coloring</span> <span class="n">C</span><span class="o">)</span><span class="bp">.</span><span class="n">parts</span> <span class="bp">↪</span> <span class="n">α</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>



<a name="262003008"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/262003008" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#262003008">(Nov 18 2021 at 22:49)</a>:</h4>
<p>Hm, I think so. Lemme try to plug that in</p>



<a name="262003586"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/262003586" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#262003586">(Nov 18 2021 at 22:55)</a>:</h4>
<p><code>use [P, P.from_coloring_to_embedding C]</code> is no longer accepted tho</p>



<a name="262003587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/262003587" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#262003587">(Nov 18 2021 at 22:55)</a>:</h4>
<p>Also, here's something that still needs design: how to express "this is a partition with at most <code>n</code> parts."  There's not really a way to say "let <code>P</code> be a bipartition" directly.</p>
<p>I'd thought about making <code>P.parts</code> be a <code>finset</code>, so it could be <code>(P : G.partition) (h : P.parts.card &lt;= 2)</code>, but that seems unnecessarily restrictive.</p>
<p>Leaving it as a <code>set</code>, another option is a predicate (not sure what to call it) like <code>P.parts_card_le 2</code></p>



<a name="262004208"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/262004208" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#262004208">(Nov 18 2021 at 23:00)</a>:</h4>
<p>I like the predicate idea more because it's more symmetrical with the idea of a coloring (no restrictions on the number of colors)</p>



<a name="262021697"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/262021697" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#262021697">(Nov 19 2021 at 03:03)</a>:</h4>
<p><span class="user-mention" data-user-id="306601">@Kyle Miller</span> Alright I think I've iterated on all of your comments, but there are some unfortunate sorrys in the way (I'm a bit exhaust)</p>



<a name="262021730"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/262021730" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#262021730">(Nov 19 2021 at 03:03)</a>:</h4>
<p>here</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">coloring.mem_color_classes</span> <span class="o">{</span><span class="n">v</span> <span class="o">:</span> <span class="n">V</span><span class="o">}</span> <span class="o">:</span> <span class="n">C.color_class</span> <span class="o">(</span><span class="n">C</span> <span class="n">v</span><span class="o">)</span> <span class="bp">∈</span> <span class="n">C.color_classes</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">use</span> <span class="n">v</span><span class="o">,</span>
  <span class="k">let</span> <span class="n">aa</span> <span class="o">:=</span> <span class="n">C.mem_color_class</span> <span class="n">v</span><span class="o">,</span>
  <span class="gr">sorry</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">coloring.color_classes_is_independent</span> <span class="o">:</span>
  <span class="bp">∀</span> <span class="o">(</span><span class="n">s</span> <span class="bp">∈</span> <span class="n">C.color_classes</span><span class="o">),</span> <span class="n">is_antichain</span> <span class="n">G.adj</span> <span class="n">s</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intros</span> <span class="n">s</span> <span class="n">hs</span> <span class="n">v</span> <span class="n">hv</span> <span class="n">w</span> <span class="n">hw</span> <span class="n">hnvw</span><span class="o">,</span>
  <span class="gr">sorry</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="262021748"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/262021748" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#262021748">(Nov 19 2021 at 03:03)</a>:</h4>
<p>And I couldn't make the conversation from earlier come true:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">from_coloring_to_embedding</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">v</span><span class="o">}</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">G.coloring</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">P.parts</span> <span class="bp">↪</span> <span class="n">α</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>



<a name="262021908"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/262021908" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#262021908">(Nov 19 2021 at 03:06)</a>:</h4>
<p>This version is useful because it's exactly what's expected in a proof in the context of partitions:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">coloring.color_classes_is_independent</span> <span class="o">:</span>
  <span class="bp">∀</span> <span class="o">(</span><span class="n">s</span> <span class="bp">∈</span> <span class="n">C.color_classes</span><span class="o">),</span> <span class="n">is_antichain</span> <span class="n">G.adj</span> <span class="n">s</span>
</code></pre></div>



<a name="262021926"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/262021926" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#262021926">(Nov 19 2021 at 03:07)</a>:</h4>
<p>but I couldn't prove it after changing the definition of <code>color_classes</code> to <code>(setoid.ker C).classes</code></p>



<a name="262022019"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/262022019" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#262022019">(Nov 19 2021 at 03:09)</a>:</h4>
<p>The branch is updated with my latest commit</p>



<a name="262022873"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/262022873" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#262022873">(Nov 19 2021 at 03:26)</a>:</h4>
<p>Please feel free to adjust those last details <span aria-label="pray" class="emoji emoji-1f64f" role="img" title="pray">:pray:</span></p>



<a name="262026957"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/262026957" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#262026957">(Nov 19 2021 at 04:50)</a>:</h4>
<p>Arthur, you can't computably eliminate from Prop into data. You only have the Prop that such an embedding exists (nonempty _), but you can't unwrap that nonempty hypothesis directly into data on its own. Of course, inside a proof, you can use tactic like <code>rcases</code> or <code>obtain</code> to retrieve a possible such embedding, so you might not need an explicit definition of <code>from_coloring_to_embedding</code>.</p>



<a name="262027115"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/262027115" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#262027115">(Nov 19 2021 at 04:53)</a>:</h4>
<p>Sorries are gone</p>



<a name="262027207"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/262027207" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#262027207">(Nov 19 2021 at 04:55)</a>:</h4>
<p>I'm not sure how <code>from_coloring_to_embedding</code> was supposed to work, so I deleted it. (It still lives on in a git commit and in this conversation.)</p>



<a name="262027377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/262027377" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#262027377">(Nov 19 2021 at 04:58)</a>:</h4>
<p>If anyone wants to figure out where they should go, what they should be called, or how to write them better, there are some lemmas about cardinalities about <code>setoid.ker</code> and <code>set.range</code>: <a href="https://github.com/leanprover-community/mathlib/blob/70b66747bd72293939b22546215808d1f72c508f/src/combinatorics/simple_graph/coloring.lean#L103-L147">https://github.com/leanprover-community/mathlib/blob/70b66747bd72293939b22546215808d1f72c508f/src/combinatorics/simple_graph/coloring.lean#L103-L147</a> (pr: <a href="https://github.com/leanprover-community/mathlib/issues/10287">#10287</a>)</p>



<a name="262027404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/262027404" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#262027404">(Nov 19 2021 at 04:59)</a>:</h4>
<p>Some syntax clean-up:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code>  <span class="o">{</span> <span class="n">rintro</span> <span class="o">⟨</span><span class="n">C</span><span class="o">⟩,</span>
    <span class="n">refine</span> <span class="o">⟨</span><span class="n">C.to_partition</span><span class="o">,</span> <span class="n">C.color_classes_finite_of_fintype</span><span class="o">,</span> <span class="n">le_trans</span> <span class="n">_</span> <span class="o">(</span><span class="n">fintype.card_fin</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">le</span><span class="o">⟩,</span>
    <span class="n">generalize_proofs</span> <span class="n">h</span><span class="o">,</span>
    <span class="n">haveI</span> <span class="o">:</span> <span class="n">fintype</span> <span class="n">C.color_classes</span> <span class="o">:=</span> <span class="n">C.color_classes_finite_of_fintype.fintype</span><span class="o">,</span>
    <span class="n">rw</span> <span class="n">h.card_to_finset</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">C.card_color_classes_le</span> <span class="o">},</span>
</code></pre></div>



<a name="262027927"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/262027927" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#262027927">(Nov 19 2021 at 05:09)</a>:</h4>
<p>Is something like this more general?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">fintype.card_le_of_surjective</span> <span class="o">{</span><span class="n">α</span> <span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">β</span><span class="o">]</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">function.surjective</span> <span class="n">f</span><span class="o">):</span> <span class="n">fintype.card</span> <span class="n">β</span> <span class="bp">≤</span> <span class="n">fintype.card</span> <span class="n">α</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">let</span> <span class="n">g</span> <span class="o">:</span> <span class="n">set.range</span> <span class="n">f</span> <span class="bp">→</span> <span class="n">α</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">y</span><span class="o">,</span> <span class="n">y.2.some</span><span class="o">,</span>
  <span class="k">have</span> <span class="o">:</span> <span class="n">function.injective</span> <span class="n">g</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">rintros</span> <span class="o">⟨</span><span class="n">x</span><span class="o">,</span> <span class="n">hx</span><span class="o">⟩</span> <span class="o">⟨</span><span class="n">x'</span><span class="o">,</span> <span class="n">hx'</span><span class="o">⟩,</span>
    <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">g</span><span class="o">],</span>
    <span class="k">have</span> <span class="n">h</span> <span class="o">:=</span> <span class="n">hx.some_spec</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">h'</span> <span class="o">:=</span> <span class="n">hx'.some_spec</span><span class="o">,</span>
    <span class="n">intro</span> <span class="n">he</span><span class="o">,</span>
    <span class="n">rw</span> <span class="o">[</span><span class="n">he</span><span class="o">,</span> <span class="n">h'</span><span class="o">]</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
    <span class="n">simp</span> <span class="o">[</span><span class="n">h</span><span class="o">],</span> <span class="o">},</span>
  <span class="n">classical</span><span class="o">,</span>
  <span class="n">haveI</span> <span class="o">:</span> <span class="n">fintype</span> <span class="o">(</span><span class="n">set.range</span> <span class="n">f</span><span class="o">)</span> <span class="o">:=</span> <span class="n">subtype.fintype</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">refine</span> <span class="n">le_trans</span> <span class="o">(</span><span class="n">le_of_eq</span> <span class="n">_</span><span class="o">)</span> <span class="o">(</span><span class="n">fintype.card_le_of_injective</span> <span class="n">_</span> <span class="n">this</span><span class="o">),</span>
  <span class="n">refine</span> <span class="n">fintype.card_congr</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">exact</span> <span class="o">(</span><span class="n">equiv.subtype_univ_equiv</span> <span class="n">h</span><span class="o">)</span><span class="bp">.</span><span class="n">symm</span>
<span class="kd">end</span>

<span class="c1">-- TODO move to correct place</span>
<span class="kd">lemma</span> <span class="n">fintype.card_range_le</span> <span class="o">{</span><span class="n">α</span> <span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">)</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">fintype</span> <span class="o">(</span><span class="n">set.range</span> <span class="n">f</span><span class="o">)]</span> <span class="o">:</span>
  <span class="n">fintype.card</span> <span class="o">(</span><span class="n">set.range</span> <span class="n">f</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">fintype.card</span> <span class="n">α</span> <span class="o">:=</span>
<span class="n">fintype.card_le_of_surjective</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">a</span><span class="o">,</span> <span class="o">⟨</span><span class="n">f</span> <span class="n">a</span><span class="o">,</span> <span class="kd">by</span> <span class="n">simp</span><span class="o">⟩)</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">a</span><span class="o">,</span> <span class="n">ha</span><span class="o">⟩,</span> <span class="o">⟨</span><span class="n">a</span><span class="o">,</span> <span class="n">ha</span><span class="o">⟩)</span>
</code></pre></div>



<a name="262028262"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/262028262" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#262028262">(Nov 19 2021 at 05:16)</a>:</h4>
<p>Oh, I should have looked for <a href="https://leanprover-community.github.io/mathlib_docs/find/fintype.card_le_of_surjective">docs#fintype.card_le_of_surjective</a></p>



<a name="262066617"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/262066617" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#262066617">(Nov 19 2021 at 13:34)</a>:</h4>
<p>Amazing! I'm going to backtrack your guys' ideas and try to wrap my head around them. My learning is skyrocketing. Thanks a lot</p>



<a name="262066656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/262066656" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#262066656">(Nov 19 2021 at 13:35)</a>:</h4>
<p>Amazing! I'm going to backtrack your guys' ideas and try to wrap my head around them. My learning is skyrocketing. Thanks a lot</p>



<a name="262099794"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/262099794" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#262099794">(Nov 19 2021 at 17:31)</a>:</h4>
<p><span class="user-mention" data-user-id="306601">@Kyle Miller</span> I've pushed <a href="https://github.com/leanprover-community/mathlib/pull/10287/commits/f646e62b52646b346577270c18a3e3a6fd75bc22">this commit</a> to the branch</p>



<a name="268466496"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/268466496" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#268466496">(Jan 18 2022 at 22:40)</a>:</h4>
<p><span class="user-mention" data-user-id="306601">@Kyle Miller</span> doesn't <a href="#narrow/stream/113489-new-members/topic/.E2.9C.94.20nat.2Efind/near/268465247">this definition</a> bother you a bit though? It bugs me because the chromatic number is something we want to minimize</p>



<a name="268466605"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/268466605" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#268466605">(Jan 18 2022 at 22:41)</a>:</h4>
<p>It seems to me that it should be applied to finite graphs, only</p>



<a name="268466711"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/268466711" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#268466711">(Jan 18 2022 at 22:42)</a>:</h4>
<p>There's theory about colorability of infinite graphs with finitely many colors</p>



<a name="268466805"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/268466805" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#268466805">(Jan 18 2022 at 22:43)</a>:</h4>
<p>So is it consistent with the literature that infinite graphs that can't be colored with a finite number of colors have chromatic number equal to zero?</p>



<a name="268466834"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/268466834" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#268466834">(Jan 18 2022 at 22:43)</a>:</h4>
<p>Like an infinite clique, for instance</p>



<a name="268466961"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/268466961" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#268466961">(Jan 18 2022 at 22:45)</a>:</h4>
<p>Oh, no, <code>0</code> is junk data I'm pretty sure.</p>



<a name="268467105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/268467105" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#268467105">(Jan 18 2022 at 22:46)</a>:</h4>
<p>But then are we currently able to prove that the chromatic number of an infinite clique is 0? (I think I've finally formulated my question properly)</p>



<a name="268471939"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/268471939" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#268471939">(Jan 18 2022 at 23:33)</a>:</h4>
<p><span class="user-mention" data-user-id="451983">@Arthur Paulino</span> Excellent question. It's possible, but it takes some missing lemmas (want to PR them? <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span>)</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">combinatorics.simple_graph.coloring</span>
<span class="kn">import</span> <span class="n">tactic</span>

<span class="kn">namespace</span> <span class="n">simple_graph</span>

<span class="kd">lemma</span> <span class="n">colorable_of_zero_le_chromatic_number</span> <span class="o">{</span><span class="n">V</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="n">simple_graph</span> <span class="n">V</span><span class="o">}</span>
  <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">G.chromatic_number</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">G.colorable</span> <span class="n">G.chromatic_number</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">obtain</span> <span class="o">⟨</span><span class="n">h</span><span class="o">,</span> <span class="n">hn</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">nat.nonempty_of_pos_Inf</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">colorable_chromatic_number</span> <span class="n">hn</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">colorable_of_embedding</span> <span class="o">{</span><span class="n">V</span> <span class="n">V'</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="n">simple_graph</span> <span class="n">V</span><span class="o">}</span> <span class="o">{</span><span class="n">G'</span> <span class="o">:</span> <span class="n">simple_graph</span> <span class="n">V'</span><span class="o">}</span>
  <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">G</span> <span class="bp">↪</span><span class="n">g</span> <span class="n">G'</span><span class="o">)</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">G'.colorable</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span> <span class="n">G.colorable</span> <span class="n">n</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">have</span> <span class="n">c</span> <span class="o">:</span> <span class="n">G'.coloring</span> <span class="o">(</span><span class="n">fin</span> <span class="n">n</span><span class="o">)</span> <span class="o">:=</span> <span class="n">h.to_coloring</span> <span class="o">(</span><span class="kd">by</span> <span class="n">simp</span><span class="o">),</span>
  <span class="n">exact</span> <span class="o">⟨</span><span class="n">c.comp</span> <span class="n">f</span><span class="o">⟩,</span>
<span class="kd">end</span>

<span class="c">/-</span><span class="cm"> replace chromatic_number_le_of_forall_imp with this -/</span>
<span class="kd">lemma</span> <span class="n">chromatic_number_le_of_forall_imp'</span> <span class="o">{</span><span class="n">V</span> <span class="n">V'</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="n">simple_graph</span> <span class="n">V</span><span class="o">}</span> <span class="o">{</span><span class="n">G'</span> <span class="o">:</span> <span class="n">simple_graph</span> <span class="n">V'</span><span class="o">}</span>
  <span class="o">{</span><span class="n">m</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span> <span class="o">(</span><span class="n">hc</span> <span class="o">:</span> <span class="n">G'.colorable</span> <span class="n">m</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">n</span><span class="o">,</span> <span class="n">G'.colorable</span> <span class="n">n</span> <span class="bp">→</span> <span class="n">G.colorable</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">G.chromatic_number</span> <span class="bp">≤</span> <span class="n">G'.chromatic_number</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">apply</span> <span class="n">cInf_le</span> <span class="n">chromatic_number_bdd_below</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">colorable_chromatic_number</span> <span class="n">hc</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">chromatic_number_le_of_embedding</span> <span class="o">{</span><span class="n">V</span> <span class="n">V'</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="n">simple_graph</span> <span class="n">V</span><span class="o">}</span> <span class="o">{</span><span class="n">G'</span> <span class="o">:</span> <span class="n">simple_graph</span> <span class="n">V'</span><span class="o">}</span>
  <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">G</span> <span class="bp">↪</span><span class="n">g</span> <span class="n">G'</span><span class="o">)</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">G'.colorable</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">G.chromatic_number</span> <span class="bp">≤</span> <span class="n">G'.chromatic_number</span> <span class="o">:=</span>
<span class="n">chromatic_number_le_of_forall_imp'</span> <span class="n">h</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">_</span><span class="o">,</span> <span class="n">colorable_of_embedding</span> <span class="n">f</span><span class="o">)</span>

<span class="kd">lemma</span> <span class="n">chromatic_number_top_eq_zero_of_infinite</span> <span class="o">(</span><span class="n">V</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">infinite</span> <span class="n">V</span><span class="o">]</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">⊤</span> <span class="o">:</span> <span class="n">simple_graph</span> <span class="n">V</span><span class="o">)</span><span class="bp">.</span><span class="n">chromatic_number</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">set</span> <span class="n">n</span> <span class="o">:=</span> <span class="o">(</span><span class="bp">⊤</span> <span class="o">:</span> <span class="n">simple_graph</span> <span class="n">V</span><span class="o">)</span><span class="bp">.</span><span class="n">chromatic_number</span><span class="o">,</span>
  <span class="n">by_contra</span> <span class="n">hc</span><span class="o">,</span>
  <span class="n">replace</span> <span class="n">hc</span> <span class="o">:=</span> <span class="n">pos_iff_ne_zero.mpr</span> <span class="n">hc</span><span class="o">,</span>
  <span class="k">have</span> <span class="o">:</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">≤</span> <span class="o">(</span><span class="bp">⊤</span> <span class="o">:</span> <span class="n">simple_graph</span> <span class="n">V</span><span class="o">)</span><span class="bp">.</span><span class="n">chromatic_number</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">convert_to</span> <span class="o">(</span><span class="bp">⊤</span> <span class="o">:</span> <span class="n">simple_graph</span> <span class="o">{</span><span class="n">m</span> <span class="bp">|</span> <span class="n">m</span> <span class="bp">&lt;</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">})</span><span class="bp">.</span><span class="n">chromatic_number</span> <span class="bp">≤</span> <span class="n">_</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">simp</span> <span class="o">[</span><span class="n">chromatic_number_complete_graph</span><span class="o">],</span> <span class="o">},</span>
    <span class="n">refine</span> <span class="n">chromatic_number_le_of_embedding</span> <span class="n">_</span> <span class="o">(</span><span class="n">colorable_of_zero_le_chromatic_number</span> <span class="n">hc</span><span class="o">),</span>
    <span class="n">apply</span> <span class="n">embedding.complete_graph.of_embedding</span><span class="o">,</span>
    <span class="n">exact</span> <span class="o">(</span><span class="n">function.embedding.subtype</span> <span class="n">_</span><span class="o">)</span><span class="bp">.</span><span class="n">trans</span> <span class="o">(</span><span class="n">infinite.nat_embedding</span> <span class="n">V</span><span class="o">),</span> <span class="o">},</span>
  <span class="n">exact</span> <span class="n">nat.not_succ_le_self</span> <span class="n">_</span> <span class="n">this</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">end</span> <span class="n">simple_graph</span>
</code></pre></div>



<a name="268471983"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/268471983" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#268471983">(Jan 18 2022 at 23:33)</a>:</h4>
<p>I didn't simplify the last lemma's proof.</p>



<a name="268472107"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/268472107" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#268472107">(Jan 18 2022 at 23:34)</a>:</h4>
<p>Wait, isn't this a hole? Shouldn't we tweak the definition of chromatic number to forbid this strangeness?</p>



<a name="268472201"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/268472201" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#268472201">(Jan 18 2022 at 23:35)</a>:</h4>
<p>this is pretty common in mathlib. <code>order_of (2 : ℤ) = 0</code>. <code>nat.card ℕ = 0</code>. it's a nice throw-away value</p>



<a name="268472674"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/268472674" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#268472674">(Jan 18 2022 at 23:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="306601">Kyle Miller</span> <a href="#narrow/stream/252551-graph-theory/topic/coloring.2Fpartitions/near/268471939">said</a>:</p>
<blockquote>
<p>(want to PR them? <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span>)</p>
</blockquote>
<p>Sure, np</p>



<a name="268472778"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/268472778" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#268472778">(Jan 18 2022 at 23:43)</a>:</h4>
<p>and because this is so widespread, it works well together, too; the <code>monoid.exponent</code> of a cyclic group is equal to its <code>nat.card</code>, same with the <code>chromatic_number</code> of a complete graph</p>



<a name="268472901"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/268472901" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#268472901">(Jan 18 2022 at 23:45)</a>:</h4>
<p>(although usually we end up stating the results in terms of <code>fintype</code>/<code>infinite</code> anways because the proof ends up being fairly different, as you can see above &amp; also in <a href="https://leanprover-community.github.io/mathlib_docs/find/is_cyclic.exponent_eq_card">docs#is_cyclic.exponent_eq_card</a>)</p>



<a name="268473060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/268473060" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#268473060">(Jan 18 2022 at 23:47)</a>:</h4>
<p>Now I'm curious to see how this concept (hack?) first got into mathlib <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span> <br>
Or is it a common practice in formalized mathematics?</p>



<a name="268473405"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/268473405" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#268473405">(Jan 18 2022 at 23:52)</a>:</h4>
<p>(<span class="user-mention" data-user-id="451983">@Arthur Paulino</span> I replaced the proof for <code>chromatic_number_top_eq_zero_of_infinite</code> with something a bit shorter.)</p>



<a name="268473837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/268473837" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#268473837">(Jan 18 2022 at 23:57)</a>:</h4>
<p>I feel a bit awkward PR'ing something you authored 100%, but babysitting PRs is something I don't mind if you don't enjoy it very much</p>



<a name="268474046"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/268474046" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#268474046">(Jan 18 2022 at 23:59)</a>:</h4>
<p>Will do in a few minutes <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="268475870"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/268475870" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#268475870">(Jan 19 2022 at 00:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="451983">Arthur Paulino</span> <a href="#narrow/stream/252551-graph-theory/topic/coloring.2Fpartitions/near/268473060">said</a>:</p>
<blockquote>
<p>Now I'm curious to see how this concept (hack?) first got into mathlib <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span> <br>
Or is it a common practice in formalized mathematics?</p>
</blockquote>
<p>Related: <a href="https://xenaproject.wordpress.com/2020/07/05/division-by-zero-in-type-theory-a-faq/">https://xenaproject.wordpress.com/2020/07/05/division-by-zero-in-type-theory-a-faq/</a></p>



<a name="268475876"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/coloring/partitions/near/268475876" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/coloring.2Fpartitions.html#268475876">(Jan 19 2022 at 00:20)</a>:</h4>
<p>(Oops, sorry about that Arthur. I'll PR it <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span>)</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>