---
layout: archive
title: Zulip Chat Archive
permalink: /stream/252551-graph-theory/topic/chromatic.20polynomial.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/index.html">graph theory</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/chromatic.20polynomial.html">chromatic polynomial</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="317433126"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/chromatic%20polynomial/near/317433126" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/chromatic.20polynomial.html#317433126">(Dec 22 2022 at 19:01)</a>:</h4>
<p>Now that we have <a href="https://leanprover-community.github.io/mathlib_docs/find/simple_graph.connected_component">docs#simple_graph.connected_component</a>, it's finally possible to write down the chromatic polynomial of a simple graph. To get things started, here's a WIP PR: <a href="https://github.com/leanprover-community/mathlib/pull/18003">#18003</a></p>
<p>I think the easiest way to prove that chromatic polynomials actually compute the number of colorings is to go by way of a special type of graph where there are two types of edges. These have their own notion of colorings, where edges of the first type are equality constraints (the incident vertices have the same color) and edges of the second type are inequality constraints (the incident vertices have different colors).</p>
<p>This is motivated by a version of the chromatic polynomial from statistical mechanics, the antiferromagnetic zero-temperature limit of the Q-states Potts model. The different edge types correspond to either (1) ferromagnetic or (2) antiferromagnetic bond strengths. Having two edge types also seems to be a good way to work with deletion/contraction of simple graphs.</p>



<a name="317433201"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/chromatic%20polynomial/near/317433201" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/chromatic.20polynomial.html#317433201">(Dec 22 2022 at 19:01)</a>:</h4>
<p>I'm not sure I'll spend too much time on this in the short term, and I'd be happy to have some help!</p>



<a name="317433404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/chromatic%20polynomial/near/317433404" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/chromatic.20polynomial.html#317433404">(Dec 22 2022 at 19:03)</a>:</h4>
<p>One important lemma that would be appreciated is the statement that the chromatic polynomial (of a "<code>del_contr</code>") satisfies the deletion-contraction relation.</p>



<a name="317435040"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/chromatic%20polynomial/near/317435040" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/chromatic.20polynomial.html#317435040">(Dec 22 2022 at 19:14)</a>:</h4>
<p><span class="user-mention" data-user-id="387244">@Yaël Dillies</span> I believe this is of interest to you for your LeanCamCombi project, if you want to help finish this off. <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>
<p>Tutte polynomials are still are a bit out, since we need more about graph nullity to be developed. (With my algebraic topology hat on I'd prefer to call it <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>b</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">b_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>.) This is what some current PRs about maximal trees that others are working on will lead to. There's also the small issue of the fact that there are many formulations of Tutte polynomials, all more-or-less equivalent, but there's one of them that I think has nicer properties, at least for the sorts of things I've been interested in.</p>



<a name="317435412"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/chromatic%20polynomial/near/317435412" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/chromatic.20polynomial.html#317435412">(Dec 22 2022 at 19:17)</a>:</h4>
<p>Since the Tutte polynomial specialises to the chromatic polynomial by restricting one variable to 0, is it better to define that first, and have the chromatic polynomial as a special case? Or is there some other generality gained by doing it separately?</p>



<a name="317435764"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/chromatic%20polynomial/near/317435764" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/chromatic.20polynomial.html#317435764">(Dec 22 2022 at 19:19)</a>:</h4>
<p>I think the main consideration is that there are too many Tutte polynomials (there's "the" Tutte polynomial, the dichromate polynomial, the dichromatic polynomial, and the partition function of the Q-states Potts model)</p>



<a name="317435996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/chromatic%20polynomial/near/317435996" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/chromatic.20polynomial.html#317435996">(Dec 22 2022 at 19:20)</a>:</h4>
<p>The secondary consideration is that the chromatic polynomial is a single-variable specialization with a nice-enough definition, so it seems harmless to just define it in its nice form and have lemmas connecting it to other graph polynomials later. The hardest part is the proof that it actually counts colorings, which you don't get "for free" from the Tutte polynomial.</p>



<a name="317443613"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/chromatic%20polynomial/near/317443613" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/chromatic.20polynomial.html#317443613">(Dec 22 2022 at 20:08)</a>:</h4>
<p>I forgot to mention another consideration: chromatic polynomials work just fine for simple graphs (and multigraphs don't add anything interesting to the theory), but Tutte polynomials are better suited for multigraphs.</p>



<a name="317444820"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/chromatic%20polynomial/near/317444820" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/chromatic.20polynomial.html#317444820">(Dec 22 2022 at 20:16)</a>:</h4>
<p>Ahah, I was about to spend the evening defining it! Very nice!</p>



<a name="317943642"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/chromatic%20polynomial/near/317943642" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/chromatic.20polynomial.html#317943642">(Dec 26 2022 at 11:49)</a>:</h4>
<p>What's the status of the PR? Can we work on it?</p>



<a name="317962696"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/chromatic%20polynomial/near/317962696" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/chromatic.20polynomial.html#317962696">(Dec 26 2022 at 14:09)</a>:</h4>
<p>I haven't done anything with this PR. Go ahead and work on it!</p>



<a name="318770814"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/chromatic%20polynomial/near/318770814" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/chromatic.20polynomial.html#318770814">(Dec 31 2022 at 18:31)</a>:</h4>
<p>I've added another direction for a proof that might be easier (and it's my favorite proof that evaluating the chromatic polynomial gives the number of colorings). It's a big <code>calc</code> block, and I haven't filled in any of the proofs yet: <a href="https://github.com/leanprover-community/mathlib/blob/bab246f42e9459f4374379d426ce3e46251355ce/src/combinatorics/simple_graph/chromatic.lean#L32">https://github.com/leanprover-community/mathlib/blob/bab246f42e9459f4374379d426ce3e46251355ce/src/combinatorics/simple_graph/chromatic.lean#L32</a></p>
<p>Feel free to chip in if you're so inclined! <a href="https://github.com/leanprover-community/mathlib/pull/18003">#18003</a></p>



<a name="318771291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/chromatic%20polynomial/near/318771291" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/chromatic.20polynomial.html#318771291">(Dec 31 2022 at 18:36)</a>:</h4>
<p>It might make sense to add some more intermediate steps, but I tried to give enough so that a human could follow it.</p>
<p>I'll mention here that</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code>    <span class="bp">...</span> <span class="bp">=</span> <span class="bp">∑</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">V</span> <span class="bp">→</span> <span class="n">α</span><span class="o">),</span> <span class="bp">∏</span> <span class="n">e</span> <span class="k">in</span> <span class="n">G.edge_finset</span><span class="o">,</span>
            <span class="o">(</span><span class="mi">1</span> <span class="bp">-</span> <span class="n">sym2.lift</span> <span class="o">⟨</span><span class="bp">λ</span> <span class="n">v</span> <span class="n">w</span><span class="o">,</span> <span class="n">ite</span> <span class="o">(</span><span class="n">v</span> <span class="bp">=</span> <span class="n">w</span><span class="o">)</span> <span class="mi">1</span> <span class="mi">0</span><span class="o">,</span> <span class="kd">by</span> <span class="o">{</span> <span class="n">intros</span><span class="o">,</span> <span class="n">simp_rw</span> <span class="n">eq_comm</span> <span class="o">}⟩</span> <span class="n">e</span><span class="o">)</span> <span class="o">:</span> <span class="n">_</span>
    <span class="bp">...</span> <span class="bp">=</span> <span class="bp">∑</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">V</span> <span class="bp">→</span> <span class="n">α</span><span class="o">),</span> <span class="bp">∑</span> <span class="n">A</span> <span class="k">in</span> <span class="n">G.edge_finset.powerset</span><span class="o">,</span> <span class="bp">∏</span> <span class="n">e</span> <span class="k">in</span> <span class="n">A</span><span class="o">,</span>
            <span class="o">(</span><span class="bp">-</span> <span class="n">sym2.lift</span> <span class="o">⟨</span><span class="bp">λ</span> <span class="n">v</span> <span class="n">w</span><span class="o">,</span> <span class="n">ite</span> <span class="o">(</span><span class="n">v</span> <span class="bp">=</span> <span class="n">w</span><span class="o">)</span> <span class="mi">1</span> <span class="mi">0</span><span class="o">,</span> <span class="kd">by</span> <span class="o">{</span> <span class="n">intros</span><span class="o">,</span> <span class="n">simp_rw</span> <span class="n">eq_comm</span> <span class="o">}⟩</span> <span class="n">e</span><span class="o">)</span> <span class="o">:</span> <span class="n">_</span>
</code></pre></div>
<p>is that general version of inclusion-exclusion that's for expanding a product of binomials.</p>
<p>i.e.,</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><munder><mo>∏</mo><mrow><mi>x</mi><mo>∈</mo><mi>X</mi></mrow></munder><mo stretchy="false">(</mo><msub><mi>a</mi><mi>x</mi></msub><mo>+</mo><msub><mi>b</mi><mi>x</mi></msub><mo stretchy="false">)</mo><mo>=</mo><munder><mo>∑</mo><mrow><mi>A</mi><mo>⊆</mo><mi>X</mi></mrow></munder><mrow><mo fence="true">(</mo><munder><mo>∏</mo><mrow><mi>x</mi><mo>∈</mo><mi>A</mi></mrow></munder><msub><mi>a</mi><mi>x</mi></msub><mo fence="true">)</mo></mrow><mrow><mo fence="true">(</mo><munder><mo>∏</mo><mrow><mi>x</mi><mo>∈</mo><mi>X</mi><mo>−</mo><mi>A</mi></mrow></munder><msub><mi>b</mi><mi>x</mi></msub><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\prod_{x \in X} (a_x + b_x) = \sum_{A\subseteq X} \left(\prod_{x\in A} a_x\right)\left(\prod_{x\in X-A} b_x\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.3717em;vertical-align:-1.3217em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-1.8557em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∏</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3217em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.1395em;vertical-align:-1.3895em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-1.8557em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">A</span><span class="mrel mtight">⊆</span><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3895em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">(</span></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-1.8557em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight">A</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∏</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3217em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size4">)</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">(</span></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-1.8557em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight">A</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∏</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3527em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size4">)</span></span></span></span></span></span></span></p>



<a name="318773864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/chromatic%20polynomial/near/318773864" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/chromatic.20polynomial.html#318773864">(Dec 31 2022 at 19:07)</a>:</h4>
<p>This is exactly <a href="https://leanprover-community.github.io/mathlib_docs/find/finset.sum_mul_sum">docs#finset.sum_mul_sum</a></p>



<a name="318897996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/chromatic%20polynomial/near/318897996" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/chromatic.20polynomial.html#318897996">(Jan 01 2023 at 19:29)</a>:</h4>
<p><span class="user-mention" data-user-id="387244">@Yaël Dillies</span> Seems like you might have meant to link to <a href="https://leanprover-community.github.io/mathlib_docs/find/finset.prod_add">docs#finset.prod_add</a></p>



<a name="318910270"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/chromatic%20polynomial/near/318910270" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/chromatic.20polynomial.html#318910270">(Jan 01 2023 at 22:05)</a>:</h4>
<p>Yes indeed!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>