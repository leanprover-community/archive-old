---
layout: archive
title: Zulip Chat Archive
permalink: /stream/252551-graph-theory/topic/walks.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/index.html">graph theory</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html">walks</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="227359088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/227359088" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alena Gusakov <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#227359088">(Feb 22 2021 at 23:46)</a>:</h4>
<blockquote>
<p>Why not define walks as lists with a chain constraint? Then you get lots of defns and lemmas for free</p>
</blockquote>



<a name="227359168"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/227359168" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alena Gusakov <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#227359168">(Feb 22 2021 at 23:47)</a>:</h4>
<p><span class="user-mention" data-user-id="308899">@Yakov Pechersky</span> what do you mean by this exactly?</p>



<a name="227359479"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/227359479" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#227359479">(Feb 22 2021 at 23:50)</a>:</h4>
<p>Something like a structure that takes a g : graph V, start : V, seq : list V, with the constraint that seq.chain start g.adj</p>



<a name="227359568"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/227359568" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#227359568">(Feb 22 2021 at 23:51)</a>:</h4>
<p>Then for a path, you say nodup (start :: seq) or something like that</p>



<a name="227359663"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/227359663" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#227359663">(Feb 22 2021 at 23:51)</a>:</h4>
<p>I just started reading Bollobas (Bhavik suggested it), so these could be very naive questions</p>



<a name="227360702"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/227360702" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alena Gusakov <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#227360702">(Feb 23 2021 at 00:01)</a>:</h4>
<p>I haven't tried using the chain API so I'm not really sure! I'll have to try it at some point</p>



<a name="227360809"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/227360809" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alena Gusakov <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#227360809">(Feb 23 2021 at 00:02)</a>:</h4>
<p><del>Didn't know it existed tbh</del></p>



<a name="227361917"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/227361917" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#227361917">(Feb 23 2021 at 00:12)</a>:</h4>
<p>Then cycles are a constraint that is like <code>(∀ h : seq ≠ []), seq.last h ≠ start</code></p>



<a name="227361946"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/227361946" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#227361946">(Feb 23 2021 at 00:13)</a>:</h4>
<p>That would be <code>is_cycle</code></p>



<a name="227362150"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/227362150" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alena Gusakov <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#227362150">(Feb 23 2021 at 00:14)</a>:</h4>
<p>Could also take advantage of list defs too, like count</p>



<a name="227362170"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/227362170" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alena Gusakov <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#227362170">(Feb 23 2021 at 00:15)</a>:</h4>
<p>Which is super convenient</p>



<a name="227362435"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/227362435" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#227362435">(Feb 23 2021 at 00:17)</a>:</h4>
<p>Ah I mentioned this a while ago - iirc the problem with that is that it doesn't generalise nicely to labelled graphs</p>



<a name="227362521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/227362521" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#227362521">(Feb 23 2021 at 00:18)</a>:</h4>
<p>Probably <span class="user-mention" data-user-id="306601">@Kyle Miller</span> can be more helpful</p>



<a name="227362715"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/227362715" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alena Gusakov <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#227362715">(Feb 23 2021 at 00:20)</a>:</h4>
<p>Wacky idea but what if we also used chains to describe walks in labelled graphs where incidence between edges is the relation instead of adjacency</p>



<a name="227362793"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/227362793" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alena Gusakov <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#227362793">(Feb 23 2021 at 00:21)</a>:</h4>
<p>That would fit into the design choice of treating edges as their own objects (useful for matroids)</p>



<a name="227363762"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/227363762" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alena Gusakov <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#227363762">(Feb 23 2021 at 00:31)</a>:</h4>
<p>Suppose edges are defined as sets of vertices, that would allow for things like hypergraphs eventually too</p>



<a name="227365499"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/227365499" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#227365499">(Feb 23 2021 at 00:48)</a>:</h4>
<p>Can't labeled graphs be done with sigma types?</p>



<a name="227366198"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/227366198" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#227366198">(Feb 23 2021 at 00:55)</a>:</h4>
<p>But for labelled multigraphs, you'll end up with some heterogeneous list type, at which point you might as well use the inductive type Kyle suggested in the first place</p>



<a name="227368554"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/227368554" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#227368554">(Feb 23 2021 at 01:20)</a>:</h4>
<p><span class="user-mention" data-user-id="308899">@Yakov Pechersky</span> If you think that structure would be better, I'd suggest trying to prove that if two vertices are connected by a walk, then they are also connected by a path.  That module I wrote was primarily to work out how to do that in as clean a way as I knew how.</p>
<p>There are a couple nice properties about that definition.  The first is that it gives a category of walks on the graph.  The second is that the definition of a path involves defining the support, which seems like it would be a useful finset to have around anyway.</p>



<a name="227368749"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/227368749" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#227368749">(Feb 23 2021 at 01:23)</a>:</h4>
<p>It seems like it could be useful taking the inductive type I wrote and generalize it to arbitrary relations, then specialize it for simple graphs.  I think there's still a walk-&gt;path result in the general case.</p>



<a name="227369369"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/227369369" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#227369369">(Feb 23 2021 at 01:30)</a>:</h4>
<p>Actually, rather than generalizing it to relations, it might be nice to generalize it to directed multigraphs (i.e., "relations" of type <code>a -&gt; a -&gt; Sort*</code>)</p>



<a name="227371728"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/227371728" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alena Gusakov <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#227371728">(Feb 23 2021 at 02:02)</a>:</h4>
<p>I haven't tried using the chain API so I'm not really sure! I'll have to try it at some point</p>



<a name="227655038"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/227655038" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#227655038">(Feb 24 2021 at 19:13)</a>:</h4>
<p>I forgot to mention that my code for walks was mostly based on <a href="https://github.com/leanprover-community/mathlib/blob/hedetniemi/src/graph_theory/paths.lean">https://github.com/leanprover-community/mathlib/blob/hedetniemi/src/graph_theory/paths.lean</a></p>



<a name="227655234"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/227655234" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#227655234">(Feb 24 2021 at 19:14)</a>:</h4>
<p>I'm testing it out right now, adding a lot of <code>walk</code> API that probably isn't really needed. There's missing <code>list.chain</code> API to do so that would be nice to have anyway. Thanks for the pointer.</p>



<a name="227655424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/227655424" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#227655424">(Feb 24 2021 at 19:15)</a>:</h4>
<p>An example of what I have right now:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">@[simp]</span> <span class="kd">lemma</span> <span class="n">last_coe</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="n">simple_graph</span> <span class="n">V</span><span class="o">)</span> <span class="o">(</span><span class="n">v</span> <span class="o">:</span> <span class="n">V</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">v</span> <span class="o">:</span> <span class="n">G.walk</span><span class="o">)</span><span class="bp">.</span><span class="n">last</span> <span class="bp">=</span> <span class="n">v</span> <span class="o">:=</span> <span class="n">rfl</span>
</code></pre></div>



<a name="243406235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243406235" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243406235">(Jun 21 2021 at 16:15)</a>:</h4>
<p><span class="user-mention" data-user-id="306601">@Kyle Miller</span> I saw you had some good stuff in <code>simple_graph_walks2</code>. Are you okay with me PRing it soon-ish?</p>



<a name="243406871"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243406871" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243406871">(Jun 21 2021 at 16:20)</a>:</h4>
<p>I've forgotten the exact state of the branch, but here's my last message about it: <a href="#narrow/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F/near/219804780">https://leanprover.zulipchat.com/#narrow/stream/252551-graph-theory/topic/Construct.20path.20from.20walk.3F/near/219804780</a></p>
<p>I think <span class="user-mention" data-user-id="303889">@Alena Gusakov</span> might have made use of some of it in another branch -- pinging her in case.</p>
<p>Anyway, it would be great if you PR'd it!</p>



<a name="243406970"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243406970" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243406970">(Jun 21 2021 at 16:21)</a>:</h4>
<p>Me offering that was actually from talking to her <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="243407129"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243407129" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243407129">(Jun 21 2021 at 16:22)</a>:</h4>
<p>I'm actually interested in multigraphs, so I will try to generalise your file.</p>



<a name="243407212"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243407212" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243407212">(Jun 21 2021 at 16:23)</a>:</h4>
<p><code>simple-graph</code> doesn't seem like a great fit for multigraphs honestly</p>



<a name="243407229"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243407229" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243407229">(Jun 21 2021 at 16:23)</a>:</h4>
<p>You may be better off looking at quivers although you may have some struggles</p>



<a name="243407248"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243407248" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243407248">(Jun 21 2021 at 16:23)</a>:</h4>
<p>Yeah of course</p>



<a name="243407294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243407294" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243407294">(Jun 21 2021 at 16:23)</a>:</h4>
<p>I was trying to prove Koningsberg using them and ran into so many issues, but I did actually manage to get some small amounts of code for paths there that typechecked</p>



<a name="243407304"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243407304" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243407304">(Jun 21 2021 at 16:24)</a>:</h4>
<p>How are you formalizing multigraphs? There are some discussions in this stream about the many ways that are possible.</p>



<a name="243407371"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243407371" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243407371">(Jun 21 2021 at 16:24)</a>:</h4>
<p>But I think one can abstract away even from multigraphs, and instead defining walks and paths on an arbitrary relation.</p>



<a name="243407456"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243407456" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243407456">(Jun 21 2021 at 16:25)</a>:</h4>
<p>For defining multigraph, I was thinking about a N-weighing of the complete graph. But Alena tells me this might not fit her matroid edges labelling needs.</p>



<a name="243407458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243407458" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243407458">(Jun 21 2021 at 16:25)</a>:</h4>
<p>I think there's discussion about that, too -- it would be nice having the category generated by a relation if it doesn't already exist</p>



<a name="243407489"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243407489" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243407489">(Jun 21 2021 at 16:25)</a>:</h4>
<p>What's that?</p>



<a name="243407716"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243407716" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243407716">(Jun 21 2021 at 16:27)</a>:</h4>
<p><span class="user-mention" data-user-id="387244">@Yaël Dillies</span>  <a href="https://gist.github.com/ericrbg/c2025ecbd87e161f1d4eba4604178336">https://gist.github.com/ericrbg/c2025ecbd87e161f1d4eba4604178336</a> is what I've got so far with quivesr</p>



<a name="243407965"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243407965" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243407965">(Jun 21 2021 at 16:29)</a>:</h4>
<p>Oh so <code>quiver</code> is actually already a generalisation of <code>multigraph</code>.</p>



<a name="243407997"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243407997" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243407997">(Jun 21 2021 at 16:29)</a>:</h4>
<p>Yeah, this is what I was trying to say</p>



<a name="243408004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243408004" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243408004">(Jun 21 2021 at 16:29)</a>:</h4>
<p>undirected things are quite annoying in it though</p>



<a name="243408070"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243408070" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243408070">(Jun 21 2021 at 16:30)</a>:</h4>
<p>and it's almost too-strongly type theoretic so it can be very frustrating working with it sometimes</p>



<a name="243408086"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243408086" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243408086">(Jun 21 2021 at 16:30)</a>:</h4>
<p>Oh</p>



<a name="243408114"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243408114" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243408114">(Jun 21 2021 at 16:30)</a>:</h4>
<p>So is there any advantage in having <code>multigraph</code>?</p>



<a name="243408180"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243408180" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243408180">(Jun 21 2021 at 16:31)</a>:</h4>
<p>I'd probably think so? But I think we should take some more care with the API</p>



<a name="243408390"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243408390" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243408390">(Jun 21 2021 at 16:32)</a>:</h4>
<p>The "path category" (not sure if this is the canonical name) would be a category on a type <code>α</code> with a distinguished relation, where the morphism sets are</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">inductive</span> <span class="n">path</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">(</span><span class="n">r</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Type</span> <span class="n">u</span>
<span class="bp">|</span> <span class="n">refl</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">}</span> <span class="o">:</span> <span class="n">path</span> <span class="n">x</span> <span class="n">x</span>
<span class="bp">|</span> <span class="n">cons</span> <span class="o">{</span><span class="n">x</span> <span class="n">y</span> <span class="n">z</span> <span class="o">:</span> <span class="n">α</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">r</span> <span class="n">x</span> <span class="n">y</span><span class="o">)</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">path</span> <span class="n">y</span> <span class="n">z</span><span class="o">)</span> <span class="o">:</span> <span class="n">path</span> <span class="n">x</span> <span class="n">z</span>
</code></pre></div>
<p>The "walk category" of a simple graph would come from this.</p>



<a name="243408516"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243408516" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243408516">(Jun 21 2021 at 16:33)</a>:</h4>
<p>Here I think we can generalise <code>r</code> to <code>Sort u</code>. In my mind this would allow paths on multigraphs.</p>



<a name="243408576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243408576" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243408576">(Jun 21 2021 at 16:34)</a>:</h4>
<p>Yeah, I was about to mention that.  Then you could also apply it to quivers.</p>



<a name="243408596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243408596" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243408596">(Jun 21 2021 at 16:34)</a>:</h4>
<p>graph things on <code>Sort</code> are very nice too, because <code>Prop</code>-valued multigraphs ↔ graphs</p>



<a name="243408628"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243408628" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243408628">(Jun 21 2021 at 16:34)</a>:</h4>
<p>Oh yeah, that's great!</p>



<a name="243408659"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243408659" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243408659">(Jun 21 2021 at 16:35)</a>:</h4>
<p>Although shall we allow loops in multigraphs? Alena says so?</p>



<a name="243408663"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243408663" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243408663">(Jun 21 2021 at 16:35)</a>:</h4>
<p>The reason simple graphs are special is that they are "simplicial": each edge is identified by its endpoints</p>



<a name="243408706"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243408706" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243408706">(Jun 21 2021 at 16:35)</a>:</h4>
<p>Multigraphs should allow loops.</p>



<a name="243408887"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243408887" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243408887">(Jun 21 2021 at 16:37)</a>:</h4>
<p>So we would have</p>
<ul>
<li><code>simple_graph</code>: loopless, undirected, simple</li>
<li><code>multigraph</code>: undirected</li>
<li>
<p><code>quiver</code>: directed<br>
as a nice hierarchy and, standing out,</p>
</li>
<li>
<p><code>hypergraph</code>: loopless, undirected, but hyperedges</p>
</li>
</ul>



<a name="243408902"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243408902" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243408902">(Jun 21 2021 at 16:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="306601">Kyle Miller</span> <a href="#narrow/stream/252551-graph-theory/topic/walks/near/243408390">said</a>:</p>
<blockquote>
<p>The "path category" (not sure if this is the canonical name) would be a category on a type <code>α</code> with a distinguished relation, where the morphism sets are</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">inductive</span> <span class="n">path</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">(</span><span class="n">r</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Type</span> <span class="n">u</span>
<span class="bp">|</span> <span class="n">refl</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">}</span> <span class="o">:</span> <span class="n">path</span> <span class="n">x</span> <span class="n">x</span>
<span class="bp">|</span> <span class="n">cons</span> <span class="o">{</span><span class="n">x</span> <span class="n">y</span> <span class="n">z</span> <span class="o">:</span> <span class="n">α</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">r</span> <span class="n">x</span> <span class="n">y</span><span class="o">)</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">path</span> <span class="n">y</span> <span class="n">z</span><span class="o">)</span> <span class="o">:</span> <span class="n">path</span> <span class="n">x</span> <span class="n">z</span>
</code></pre></div>
<p>The "walk category" of a simple graph would come from this.</p>
</blockquote>
<p>what's the difference between this and a poset category?</p>



<a name="243409046"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243409046" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243409046">(Jun 21 2021 at 16:38)</a>:</h4>
<p>Key constructions multigraphs should support is (1) a type of subgraphs and (2) a type of minors (or at least being able to contract and delete subsets of edges, and have the right algebraic relations on these constructions)</p>



<a name="243409131"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243409131" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243409131">(Jun 21 2021 at 16:39)</a>:</h4>
<p>And when we contract an edge, we don't want the other same-end edges to disappear, right?</p>



<a name="243409266"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243409266" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243409266">(Jun 21 2021 at 16:40)</a>:</h4>
<p>Indeed (they become loop edges)</p>



<a name="243409777"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243409777" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243409777">(Jun 21 2021 at 16:44)</a>:</h4>
<p>It seems that us graph-theorists here spend most of our time discussing and writing code, but are always unsure about it so nothing ever gets PRed <span aria-label="stuck out tongue" class="emoji emoji-1f61b" role="img" title="stuck out tongue">:stuck_out_tongue:</span></p>



<a name="243409955"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243409955" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243409955">(Jun 21 2021 at 16:46)</a>:</h4>
<p>There's a couple in the queue! Alena has one which I reviewed ages ago, and <span class="user-mention" data-user-id="366674">@Gabriel Moise</span>  (who just finished exams <span aria-label="party ball" class="emoji emoji-1f38a" role="img" title="party ball">:party_ball:</span>) was doing once on incidence matrices</p>



<a name="243413290"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243413290" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243413290">(Jun 21 2021 at 17:12)</a>:</h4>
<p>(I've been busy with the whole finishing my degree thing, and unfortunately it has nothing to do with Lean.)</p>
<p>With graphs I've felt there were some unsolved issues that, while I could PR the multigraph code I've written (I'm not sure where the branch is though...), it would be good to do some more research to nail down what would work well in the long term.  This is less true now than when he said it, but de Bruijn observed that the more abstract a piece of mathematics, the smaller the gaps, but "less abstract fields, like combinatorics, can be hard since they may contain simple intuitive ideas for which there is no tradition of formalization."  (from "Checking mathematics with computer assistance" in Notices of the AMS, Jan 1991)</p>
<p>One issue is ergonomics.  I spent a while trying to get subgraphs to "be" graphs, like how subgroups "are" groups, but the tricks used there don't apply, and the tricks I came up with don't seem to be worth the hassle.  There are </p>
<p>In addition to the key constructions, another issue is making sure multigraphs will play well with a corresponding directed graph type.  You'd want to be able to forget orientations of edges, but also be able to prove things about multigraphs given an arbitrary directed graph representative.  There's also the conversion from a multigraph to a simple graph, and you want to relate their connected components somehow.</p>
<p>Testing out implementations for the different possible definitions should show a good way forward.</p>



<a name="243561695"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243561695" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243561695">(Jun 22 2021 at 18:46)</a>:</h4>
<p>I don't have answers to those design questions, but I think we can adopt a more PR-friendly approach. Look out for the multigraph PR <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span></p>



<a name="243869291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243869291" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243869291">(Jun 25 2021 at 02:26)</a>:</h4>
<p>Just thought about something. If we later want to talk about random walks, we should allow infinite walks.</p>



<a name="243870412"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243870412" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243870412">(Jun 25 2021 at 02:54)</a>:</h4>
<p>Infinite walks might be a different kind of object, and the type of all finite walks is useful in itself (for example, to define connected components).  There are a couple ways you might formalize an infinite walk.  One is as a function <code>f : nat -&gt; V</code> such that <code>G.adj (f n) (f (n + 1))</code> for all <code>n</code>.  The other is as a kind of limit of finite walks, maybe formalized as a dependent pair <code>w : nat -&gt; V</code> and <code>f : (n : nat) -&gt; G.walk v (w n)</code> such that <code>f n</code> is the restriction of <code>f (n + 1)</code> for each <code>n</code>.</p>
<p>Alena and I had tried formalizing walks as graph homomorphisms from path graphs, but it was very painful defining all the operations you'd want to do with walks.  Though, this is another way you could define an infinite walk, as a graph homomorphism from the infinite ray graph.</p>



<a name="243870543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/252551-graph%20theory/topic/walks/near/243870543" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/252551-graph-theory/topic/walks.html#243870543">(Jun 25 2021 at 02:56)</a>:</h4>
<p>Should we then have something like <code>walk</code> and <code>finwalk</code>?</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>