[
    {
        "content": "<p>If I declare values as inhabited instances, how do I reference the instances?</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">def</span> <span class=\"n\">cell</span> <span class=\"o\">:=</span> <span class=\"n\">option</span> <span class=\"bp\">ℕ</span>\n<span class=\"n\">def</span> <span class=\"n\">heap</span> <span class=\"o\">:=</span> <span class=\"bp\">ℕ</span> <span class=\"bp\">→</span> <span class=\"n\">option</span> <span class=\"bp\">ℕ</span>\n<span class=\"n\">def</span> <span class=\"n\">env</span> <span class=\"o\">:=</span> <span class=\"n\">ident</span> <span class=\"bp\">→</span> <span class=\"bp\">ℕ</span>\n\n<span class=\"kn\">instance</span> <span class=\"o\">:</span> <span class=\"n\">inhabited</span> <span class=\"n\">env</span> <span class=\"o\">:=</span> <span class=\"bp\">⟨λ</span> <span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"mi\">0</span><span class=\"bp\">⟩</span>\n<span class=\"kn\">instance</span> <span class=\"o\">:</span> <span class=\"n\">inhabited</span> <span class=\"n\">heap</span> <span class=\"o\">:=</span> <span class=\"bp\">⟨λ</span> <span class=\"n\">h</span><span class=\"o\">,</span> <span class=\"n\">none</span><span class=\"bp\">⟩</span>\n<span class=\"kn\">instance</span> <span class=\"o\">:</span> <span class=\"n\">inhabited</span> <span class=\"n\">cell</span> <span class=\"o\">:=</span> <span class=\"bp\">⟨</span><span class=\"n\">none</span><span class=\"bp\">⟩</span>\n\n<span class=\"n\">def</span> <span class=\"n\">empty_env</span> <span class=\"n\">env</span> <span class=\"o\">:=</span>  <span class=\"n\">env</span><span class=\"bp\">.</span><span class=\"n\">inhabited</span>\n\n<span class=\"n\">def</span> <span class=\"n\">empty_heap</span> <span class=\"o\">:</span> <span class=\"n\">heap</span>  <span class=\"o\">:=</span> <span class=\"n\">heap</span><span class=\"bp\">.</span><span class=\"n\">inhabited</span>\n\n<span class=\"n\">def</span> <span class=\"n\">empty_cell</span> <span class=\"o\">:</span> <span class=\"n\">option</span> <span class=\"bp\">ℕ</span> <span class=\"o\">:=</span> <span class=\"n\">cell</span><span class=\"bp\">.</span><span class=\"n\">inhabited</span>\n</pre></div>\n\n\n<p>The last three \"def\" constructs don't seem to work.</p>",
        "id": 131964186,
        "sender_full_name": "Ken Roe",
        "timestamp": 1534011333
    },
    {
        "content": "<p>If you write <code>#print inhabited</code> you should see the following appear:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"bp\">@</span><span class=\"o\">[</span><span class=\"n\">class</span><span class=\"o\">]</span>\n<span class=\"kn\">structure</span> <span class=\"n\">inhabited</span> <span class=\"o\">:</span> <span class=\"n\">Sort</span> <span class=\"n\">u</span> <span class=\"bp\">→</span> <span class=\"n\">Sort</span> <span class=\"o\">(</span><span class=\"n\">max</span> <span class=\"mi\">1</span> <span class=\"n\">u</span><span class=\"o\">)</span>\n<span class=\"n\">fields</span><span class=\"o\">:</span>\n<span class=\"n\">inhabited</span><span class=\"bp\">.</span><span class=\"n\">default</span> <span class=\"o\">:</span> <span class=\"bp\">Π</span> <span class=\"o\">(</span><span class=\"n\">α</span> <span class=\"o\">:</span> <span class=\"n\">Sort</span> <span class=\"n\">u</span><span class=\"o\">)</span> <span class=\"o\">[</span><span class=\"n\">c</span> <span class=\"o\">:</span> <span class=\"n\">inhabited</span> <span class=\"n\">α</span><span class=\"o\">],</span> <span class=\"n\">α</span>\n</pre></div>\n\n\n<p>This tells you that <code>default env</code> is what you want.</p>",
        "id": 131964248,
        "sender_full_name": "Simon Hudon",
        "timestamp": 1534011477
    }
]