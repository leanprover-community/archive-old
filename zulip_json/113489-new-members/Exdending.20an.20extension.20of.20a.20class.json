[
    {
        "content": "<p>I am getting an error when I extend <code>axioms2</code>, itself being an extension of <code>incidence_geometry</code>. Why is this the case? The error pops up in the following line <code>variable [A3 : axioms3 point]</code></p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span>  <span class=\"n\">data.set</span> <span class=\"n\">tactic.interactive</span> <span class=\"n\">set_theory.zfc</span>\n<span class=\"kd\">class</span> <span class=\"n\">incidence_geometry</span> <span class=\"o\">(</span><span class=\"n\">point</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span><span class=\"o\">):=</span>\n<span class=\"o\">(</span><span class=\"n\">lines</span> <span class=\"o\">:</span> <span class=\"n\">set</span> <span class=\"o\">(</span><span class=\"n\">set</span> <span class=\"n\">point</span><span class=\"o\">))</span>\n<span class=\"o\">(</span><span class=\"n\">eqd</span> <span class=\"o\">:</span> <span class=\"n\">point</span> <span class=\"bp\">→</span> <span class=\"n\">point</span> <span class=\"bp\">→</span> <span class=\"n\">point</span> <span class=\"bp\">→</span> <span class=\"n\">point</span> <span class=\"bp\">→</span> <span class=\"kt\">Prop</span><span class=\"o\">)</span>\n\n<span class=\"o\">(</span><span class=\"n\">B</span><span class=\"o\">:</span> <span class=\"n\">point</span> <span class=\"bp\">→</span> <span class=\"n\">point</span> <span class=\"bp\">→</span> <span class=\"n\">point</span> <span class=\"bp\">→</span> <span class=\"kt\">Prop</span><span class=\"o\">)</span>\n<span class=\"o\">[</span><span class=\"n\">dec_B</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span> <span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"n\">c</span><span class=\"o\">,</span> <span class=\"n\">decidable</span> <span class=\"o\">(</span><span class=\"n\">B</span> <span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"n\">c</span><span class=\"o\">)]</span>\n<span class=\"c1\">-- Equidistance of 4 Points</span>\n<span class=\"o\">(</span><span class=\"n\">P1</span> <span class=\"o\">{}</span> <span class=\"o\">:</span> <span class=\"n\">point</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">P2</span> <span class=\"o\">{}</span> <span class=\"o\">:</span> <span class=\"n\">point</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">P3</span> <span class=\"o\">{}</span> <span class=\"o\">:</span> <span class=\"n\">point</span><span class=\"o\">)</span>\n\n<span class=\"o\">(</span><span class=\"n\">I1a</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span> <span class=\"o\">(</span><span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"o\">:</span> <span class=\"n\">point</span><span class=\"o\">),</span> <span class=\"n\">a</span><span class=\"bp\">≠</span><span class=\"n\">b</span> <span class=\"bp\">→</span> <span class=\"bp\">∃</span> <span class=\"o\">(</span><span class=\"n\">l</span> <span class=\"bp\">∈</span>  <span class=\"n\">lines</span><span class=\"o\">)</span> <span class=\"o\">,</span> <span class=\"n\">a</span><span class=\"bp\">∈</span> <span class=\"n\">l</span> <span class=\"bp\">∧</span> <span class=\"n\">b</span><span class=\"bp\">∈</span> <span class=\"n\">l</span><span class=\"o\">)</span>\n<span class=\"kn\">open</span> <span class=\"n\">incidence_geometry</span>\n\n<span class=\"kd\">variables</span> <span class=\"o\">{</span><span class=\"n\">point</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span><span class=\"o\">}</span> <span class=\"o\">[</span><span class=\"n\">A</span> <span class=\"o\">:</span> <span class=\"n\">incidence_geometry</span> <span class=\"n\">point</span><span class=\"o\">]</span>\n\n\n<span class=\"kd\">class</span> <span class=\"n\">axioms2</span> <span class=\"o\">(</span><span class=\"n\">point</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span><span class=\"o\">)</span> <span class=\"kd\">extends</span> <span class=\"n\">incidence_geometry</span> <span class=\"n\">point</span> <span class=\"o\">:=</span>\n<span class=\"o\">(</span><span class=\"n\">B1</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span> <span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"n\">c</span> <span class=\"o\">:</span> <span class=\"n\">point</span><span class=\"o\">,</span> <span class=\"n\">B</span> <span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"n\">c</span> <span class=\"bp\">→</span> <span class=\"n\">B</span> <span class=\"n\">c</span> <span class=\"n\">b</span> <span class=\"n\">a</span> <span class=\"o\">)</span>\n<span class=\"kn\">open</span> <span class=\"n\">axioms2</span>\n\n<span class=\"kd\">variable</span> <span class=\"o\">[</span><span class=\"n\">A2</span> <span class=\"o\">:</span> <span class=\"n\">axioms2</span> <span class=\"n\">point</span><span class=\"o\">]</span>\n<span class=\"kn\">include</span> <span class=\"n\">A2</span>\n\n<span class=\"kd\">lemma</span> <span class=\"n\">trivi</span> <span class=\"o\">(</span><span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"n\">c</span> <span class=\"n\">d</span><span class=\"o\">:</span> <span class=\"n\">point</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">eqd</span> <span class=\"n\">a</span> <span class=\"n\">a</span> <span class=\"n\">a</span> <span class=\"n\">a</span> <span class=\"bp\">→</span> <span class=\"n\">eqd</span> <span class=\"n\">a</span> <span class=\"n\">a</span> <span class=\"n\">a</span> <span class=\"n\">a</span><span class=\"o\">:=</span>\n<span class=\"kd\">begin</span>\n<span class=\"k\">have</span> <span class=\"o\">:=</span> <span class=\"n\">B1</span> <span class=\"n\">a</span> <span class=\"n\">a</span> <span class=\"n\">a</span><span class=\"o\">,</span>\n<span class=\"n\">simp</span><span class=\"o\">,</span>\n<span class=\"kd\">end</span>\n\n<span class=\"kd\">class</span> <span class=\"n\">axioms3</span> <span class=\"o\">(</span><span class=\"n\">point</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span><span class=\"o\">)</span> <span class=\"kd\">extends</span> <span class=\"n\">incidence_geometry</span> <span class=\"n\">point</span> <span class=\"o\">:=</span>\n<span class=\"o\">(</span><span class=\"n\">Ax</span><span class=\"o\">:</span> <span class=\"bp\">∀</span> <span class=\"o\">(</span><span class=\"n\">a</span> <span class=\"o\">:</span> <span class=\"n\">point</span><span class=\"o\">),</span> <span class=\"n\">a</span><span class=\"bp\">=</span><span class=\"n\">a</span><span class=\"o\">)</span>\n<span class=\"kn\">open</span> <span class=\"n\">axioms3</span>\n\n\n\n<span class=\"kd\">variable</span> <span class=\"o\">[</span><span class=\"n\">A3</span> <span class=\"o\">:</span> <span class=\"n\">axioms3</span> <span class=\"n\">point</span><span class=\"o\">]</span>\n<span class=\"kn\">include</span> <span class=\"n\">A3</span>\n\n<span class=\"kd\">lemma</span> <span class=\"n\">eqdsym</span> <span class=\"o\">(</span><span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"n\">c</span> <span class=\"n\">d</span><span class=\"o\">:</span> <span class=\"n\">point</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">eqd</span> <span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"n\">c</span> <span class=\"n\">d</span> <span class=\"bp\">→</span> <span class=\"n\">eqd</span> <span class=\"n\">c</span> <span class=\"n\">d</span> <span class=\"n\">a</span> <span class=\"n\">b</span><span class=\"o\">:=</span>\n<span class=\"kd\">begin</span>\n<span class=\"n\">intro</span> <span class=\"n\">hyp</span><span class=\"o\">,</span>\n\n<span class=\"k\">have</span> <span class=\"o\">:=</span> <span class=\"n\">C2</span> <span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"n\">c</span> <span class=\"n\">d</span> <span class=\"o\">(</span><span class=\"n\">C4</span> <span class=\"n\">a</span> <span class=\"n\">b</span><span class=\"o\">)</span> <span class=\"n\">hyp</span><span class=\"o\">,</span>\n<span class=\"kd\">end</span>\n</code></pre></div>",
        "id": 253786401,
        "sender_full_name": "Andre Hernandez-Espiet (Rutgers)",
        "timestamp": 1631903235
    },
    {
        "content": "<p>PS: Maybe this is unnecessary, is there a way to make definitions that require proofs within a class?</p>",
        "id": 253786773,
        "sender_full_name": "Andre Hernandez-Espiet (Rutgers)",
        "timestamp": 1631903391
    },
    {
        "content": "<p>In general you should not be naming class instances -- if you need to name them then this might be an indication that they should not be classes but might be better off as structures. Naming class instances means you have to all this include malarkey, and if you include things then you should omit them the moment you don't need to include them any more. None of your imports are relevant. If you remove all your instance names and includes and imports then you get</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">class</span> <span class=\"n\">incidence_geometry</span> <span class=\"o\">(</span><span class=\"n\">point</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span><span class=\"o\">):=</span>\n<span class=\"o\">(</span><span class=\"n\">lines</span> <span class=\"o\">:</span> <span class=\"n\">set</span> <span class=\"o\">(</span><span class=\"n\">set</span> <span class=\"n\">point</span><span class=\"o\">))</span>\n<span class=\"o\">(</span><span class=\"n\">eqd</span> <span class=\"o\">:</span> <span class=\"n\">point</span> <span class=\"bp\">→</span> <span class=\"n\">point</span> <span class=\"bp\">→</span> <span class=\"n\">point</span> <span class=\"bp\">→</span> <span class=\"n\">point</span> <span class=\"bp\">→</span> <span class=\"kt\">Prop</span><span class=\"o\">)</span>\n\n<span class=\"o\">(</span><span class=\"n\">B</span><span class=\"o\">:</span> <span class=\"n\">point</span> <span class=\"bp\">→</span> <span class=\"n\">point</span> <span class=\"bp\">→</span> <span class=\"n\">point</span> <span class=\"bp\">→</span> <span class=\"kt\">Prop</span><span class=\"o\">)</span>\n<span class=\"o\">[</span><span class=\"n\">dec_B</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span> <span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"n\">c</span><span class=\"o\">,</span> <span class=\"n\">decidable</span> <span class=\"o\">(</span><span class=\"n\">B</span> <span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"n\">c</span><span class=\"o\">)]</span>\n<span class=\"c1\">-- Equidistance of 4 Points</span>\n<span class=\"o\">(</span><span class=\"n\">P1</span> <span class=\"o\">{}</span> <span class=\"o\">:</span> <span class=\"n\">point</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">P2</span> <span class=\"o\">{}</span> <span class=\"o\">:</span> <span class=\"n\">point</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">P3</span> <span class=\"o\">{}</span> <span class=\"o\">:</span> <span class=\"n\">point</span><span class=\"o\">)</span>\n\n<span class=\"o\">(</span><span class=\"n\">I1a</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span> <span class=\"o\">(</span><span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"o\">:</span> <span class=\"n\">point</span><span class=\"o\">),</span> <span class=\"n\">a</span><span class=\"bp\">≠</span><span class=\"n\">b</span> <span class=\"bp\">→</span> <span class=\"bp\">∃</span> <span class=\"o\">(</span><span class=\"n\">l</span> <span class=\"bp\">∈</span>  <span class=\"n\">lines</span><span class=\"o\">)</span> <span class=\"o\">,</span> <span class=\"n\">a</span><span class=\"bp\">∈</span> <span class=\"n\">l</span> <span class=\"bp\">∧</span> <span class=\"n\">b</span><span class=\"bp\">∈</span> <span class=\"n\">l</span><span class=\"o\">)</span>\n<span class=\"kn\">open</span> <span class=\"n\">incidence_geometry</span>\n\n<span class=\"kd\">variables</span> <span class=\"o\">{</span><span class=\"n\">point</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span><span class=\"o\">}</span> <span class=\"o\">[</span><span class=\"n\">incidence_geometry</span> <span class=\"n\">point</span><span class=\"o\">]</span>\n\n\n<span class=\"kd\">class</span> <span class=\"n\">axioms2</span> <span class=\"o\">(</span><span class=\"n\">point</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span><span class=\"o\">)</span> <span class=\"kd\">extends</span> <span class=\"n\">incidence_geometry</span> <span class=\"n\">point</span> <span class=\"o\">:=</span>\n<span class=\"o\">(</span><span class=\"n\">B1</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span> <span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"n\">c</span> <span class=\"o\">:</span> <span class=\"n\">point</span><span class=\"o\">,</span> <span class=\"n\">B</span> <span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"n\">c</span> <span class=\"bp\">→</span> <span class=\"n\">B</span> <span class=\"n\">c</span> <span class=\"n\">b</span> <span class=\"n\">a</span> <span class=\"o\">)</span>\n<span class=\"kn\">open</span> <span class=\"n\">axioms2</span>\n\n<span class=\"kd\">variable</span> <span class=\"o\">[</span><span class=\"n\">axioms2</span> <span class=\"n\">point</span><span class=\"o\">]</span>\n\n<span class=\"kd\">lemma</span> <span class=\"n\">trivi</span> <span class=\"o\">(</span><span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"n\">c</span> <span class=\"n\">d</span><span class=\"o\">:</span> <span class=\"n\">point</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">eqd</span> <span class=\"n\">a</span> <span class=\"n\">a</span> <span class=\"n\">a</span> <span class=\"n\">a</span> <span class=\"bp\">→</span> <span class=\"n\">eqd</span> <span class=\"n\">a</span> <span class=\"n\">a</span> <span class=\"n\">a</span> <span class=\"n\">a</span><span class=\"o\">:=</span>\n<span class=\"kd\">begin</span>\n  <span class=\"n\">exact</span> <span class=\"n\">id</span><span class=\"o\">,</span>\n<span class=\"kd\">end</span>\n\n<span class=\"kd\">class</span> <span class=\"n\">axioms3</span> <span class=\"o\">(</span><span class=\"n\">point</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span><span class=\"o\">)</span> <span class=\"kd\">extends</span> <span class=\"n\">incidence_geometry</span> <span class=\"n\">point</span> <span class=\"o\">:=</span>\n<span class=\"o\">(</span><span class=\"n\">Ax</span><span class=\"o\">:</span> <span class=\"bp\">∀</span> <span class=\"o\">(</span><span class=\"n\">a</span> <span class=\"o\">:</span> <span class=\"n\">point</span><span class=\"o\">),</span> <span class=\"n\">a</span><span class=\"bp\">=</span><span class=\"n\">a</span><span class=\"o\">)</span>\n<span class=\"kn\">open</span> <span class=\"n\">axioms3</span>\n\n\n\n<span class=\"kd\">variable</span> <span class=\"o\">[</span><span class=\"n\">axioms3</span> <span class=\"n\">point</span><span class=\"o\">]</span>\n\n<span class=\"kd\">lemma</span> <span class=\"n\">eqdsym</span> <span class=\"o\">(</span><span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"n\">c</span> <span class=\"n\">d</span><span class=\"o\">:</span> <span class=\"n\">point</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">eqd</span> <span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"n\">c</span> <span class=\"n\">d</span> <span class=\"bp\">→</span> <span class=\"n\">eqd</span> <span class=\"n\">c</span> <span class=\"n\">d</span> <span class=\"n\">a</span> <span class=\"n\">b</span><span class=\"o\">:=</span>\n<span class=\"kd\">begin</span>\n<span class=\"n\">intro</span> <span class=\"n\">hyp</span><span class=\"o\">,</span>\n\n<span class=\"k\">have</span> <span class=\"o\">:=</span> <span class=\"n\">C2</span> <span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"n\">c</span> <span class=\"n\">d</span> <span class=\"o\">(</span><span class=\"n\">C4</span> <span class=\"n\">a</span> <span class=\"n\">b</span><span class=\"o\">)</span> <span class=\"n\">hyp</span><span class=\"o\">,</span>\n<span class=\"kd\">end</span>\n</code></pre></div>\n<p>which compiles other than the bit about C2, because there is no C2 defined anywhere in the file.</p>",
        "id": 253794810,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1631906662
    },
    {
        "content": "<p>Thanks! I guess I would also like to have a  hypothesis like <code>H: l\\in lines</code> as part of a theorem. In that case I needed the hypothesis to look something like <code>H\\in A.lines</code>, which was already a lot of work. Would using structures avoid these issues? I tried reading about them from <a href=\"https://leanprover.github.io/theorem_proving_in_lean/structures_and_records.html\">https://leanprover.github.io/theorem_proving_in_lean/structures_and_records.html</a> , but I was having a hard time turning my class into a structure. Do you recommend me learning from somewhere else?</p>\n<p>Also, how do I write latex inside a block of code, like <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>∈</mo></mrow><annotation encoding=\"application/x-tex\">\\in</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mrel\">∈</span></span></span></span>. I keep having it come out as <code>$$\\in$$</code>.</p>",
        "id": 254065759,
        "sender_full_name": "Andre Hernandez-Espiet (Rutgers)",
        "timestamp": 1632150813
    },
    {
        "content": "<p>For the last question, you can just copy and paste the symbols from your lean editor (vscode)</p>",
        "id": 254065921,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1632150876
    },
    {
        "content": "<p>And a class is a structure already, just a structure tagged with the <code>@[class]</code> attribute, which means it can be automatically inserted, have you read <a href=\"https://leanprover.github.io/theorem_proving_in_lean/type_classes.html\">https://leanprover.github.io/theorem_proving_in_lean/type_classes.html</a> ?</p>",
        "id": 254066233,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1632151022
    }
]