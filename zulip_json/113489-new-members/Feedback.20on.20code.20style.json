[
    {
        "content": "<p>I just wrote my first proof in Lean for an example not from the official tutorial. I'm hoping I can get some advice on Lean code style, because <strong>my proof looks is pretty messy to me</strong>. I think it would suffice if I just got <strong>some pointers on best practices that would make this proof more readable</strong>.</p>\n<p><strong>I don't want to use tactics just yet</strong>, as I want to first learn how to write good non-tactic Lean code before I start learning how to use tactics. </p>\n<p>So it would be really great if someone is willing to give me some pointers to best practices that would make this proof more readable.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kn\">example</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span><span class=\"n\">X</span><span class=\"o\">,</span>  <span class=\"n\">inductiveset</span> <span class=\"n\">X</span> <span class=\"bp\">→</span> <span class=\"n\">inductiveset</span> <span class=\"o\">(</span><span class=\"n\">spec</span> <span class=\"o\">(</span><span class=\"bp\">λ</span><span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">x</span> <span class=\"n\">sub</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"o\">:=</span>\n    <span class=\"bp\">λ</span><span class=\"n\">X</span><span class=\"o\">,</span> <span class=\"k\">assume</span> <span class=\"n\">hinductivesetX</span><span class=\"o\">:</span> <span class=\"n\">inductiveset</span> <span class=\"n\">X</span><span class=\"o\">,</span>\n    <span class=\"k\">have</span> <span class=\"n\">hQdef</span><span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"bp\">∀</span><span class=\"n\">u</span><span class=\"o\">,</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">spec</span> <span class=\"o\">(</span><span class=\"bp\">λ</span><span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">x</span> <span class=\"n\">sub</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"n\">X</span> <span class=\"bp\">↔</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">X</span> <span class=\"bp\">∧</span> <span class=\"o\">(</span><span class=\"bp\">λ</span><span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">x</span> <span class=\"n\">sub</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"n\">u</span><span class=\"o\">),</span> <span class=\"k\">from</span> <span class=\"o\">(</span><span class=\"n\">specdef</span> <span class=\"o\">(</span><span class=\"bp\">λ</span><span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">x</span> <span class=\"n\">sub</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"n\">X</span><span class=\"o\">),</span>\n    <span class=\"n\">and</span><span class=\"bp\">.</span><span class=\"n\">intro</span>\n        <span class=\"o\">(</span><span class=\"k\">show</span> <span class=\"n\">null</span> <span class=\"n\">ε</span> <span class=\"o\">(</span><span class=\"n\">spec</span> <span class=\"o\">(</span><span class=\"bp\">λ</span><span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">x</span> <span class=\"n\">sub</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"n\">X</span><span class=\"o\">),</span> <span class=\"k\">from</span>\n            <span class=\"k\">have</span> <span class=\"n\">h2</span><span class=\"o\">:</span> <span class=\"n\">null</span> <span class=\"n\">ε</span> <span class=\"n\">X</span><span class=\"o\">,</span> <span class=\"k\">from</span> <span class=\"n\">hinductivesetX</span><span class=\"bp\">.</span><span class=\"mi\">1</span><span class=\"o\">,</span>\n            <span class=\"k\">have</span> <span class=\"n\">h3</span><span class=\"o\">:</span> <span class=\"n\">null</span> <span class=\"n\">sub</span> <span class=\"n\">X</span><span class=\"o\">,</span> <span class=\"k\">from</span> <span class=\"o\">(</span><span class=\"bp\">λ</span><span class=\"n\">u</span><span class=\"o\">,</span> <span class=\"k\">assume</span> <span class=\"n\">hu</span><span class=\"o\">:</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">null</span><span class=\"o\">,</span> <span class=\"n\">absurd</span> <span class=\"n\">hu</span> <span class=\"o\">(</span><span class=\"n\">nulldef</span> <span class=\"n\">u</span><span class=\"o\">)),</span>\n            <span class=\"n\">suffices</span> <span class=\"n\">h4</span><span class=\"o\">:</span> <span class=\"n\">null</span> <span class=\"n\">ε</span> <span class=\"n\">X</span> <span class=\"bp\">∧</span> <span class=\"n\">null</span> <span class=\"n\">sub</span> <span class=\"n\">X</span><span class=\"o\">,</span> <span class=\"k\">from</span> <span class=\"o\">((</span><span class=\"n\">specdef</span> <span class=\"o\">(</span><span class=\"bp\">λ</span><span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">x</span> <span class=\"n\">sub</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"n\">null</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"mi\">2</span> <span class=\"n\">h4</span><span class=\"o\">,</span>\n            <span class=\"n\">and</span><span class=\"bp\">.</span><span class=\"n\">intro</span> <span class=\"n\">h2</span> <span class=\"n\">h3</span>\n        <span class=\"o\">)</span>\n        <span class=\"o\">(</span><span class=\"k\">show</span> <span class=\"bp\">∀</span><span class=\"n\">u</span><span class=\"o\">,</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"o\">(</span><span class=\"n\">spec</span> <span class=\"o\">(</span><span class=\"bp\">λ</span><span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">x</span> <span class=\"n\">sub</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"n\">u</span> <span class=\"n\">U</span> <span class=\"o\">[</span><span class=\"n\">u</span><span class=\"o\">]</span> <span class=\"n\">ε</span> <span class=\"o\">(</span><span class=\"n\">spec</span> <span class=\"o\">(</span><span class=\"bp\">λ</span><span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">x</span> <span class=\"n\">sub</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"n\">X</span><span class=\"o\">),</span> <span class=\"k\">from</span>\n            <span class=\"bp\">λ</span><span class=\"n\">u</span><span class=\"o\">,</span> <span class=\"k\">assume</span> <span class=\"n\">h2</span><span class=\"o\">:</span><span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"o\">(</span><span class=\"n\">spec</span> <span class=\"o\">(</span><span class=\"bp\">λ</span><span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">x</span> <span class=\"n\">sub</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"n\">X</span><span class=\"o\">),</span>\n            <span class=\"n\">suffices</span> <span class=\"n\">h3</span><span class=\"o\">:</span> <span class=\"n\">u</span> <span class=\"n\">U</span> <span class=\"o\">[</span><span class=\"n\">u</span><span class=\"o\">]</span> <span class=\"n\">ε</span> <span class=\"n\">X</span> <span class=\"bp\">∧</span> <span class=\"n\">u</span> <span class=\"n\">U</span> <span class=\"o\">[</span><span class=\"n\">u</span><span class=\"o\">]</span> <span class=\"n\">sub</span> <span class=\"n\">X</span><span class=\"o\">,</span> <span class=\"k\">from</span> <span class=\"o\">(</span><span class=\"n\">hQdef</span> <span class=\"o\">(</span><span class=\"n\">u</span> <span class=\"n\">U</span> <span class=\"o\">[</span><span class=\"n\">u</span><span class=\"o\">]))</span><span class=\"bp\">.</span><span class=\"mi\">2</span> <span class=\"n\">h3</span><span class=\"o\">,</span>\n            <span class=\"k\">have</span> <span class=\"n\">h4</span><span class=\"o\">:</span><span class=\"n\">u</span> <span class=\"n\">U</span> <span class=\"o\">[</span><span class=\"n\">u</span><span class=\"o\">]</span> <span class=\"n\">ε</span> <span class=\"n\">X</span><span class=\"o\">,</span> <span class=\"k\">from</span> <span class=\"o\">(</span><span class=\"n\">hinductivesetX</span><span class=\"bp\">.</span><span class=\"mi\">2</span> <span class=\"n\">u</span><span class=\"o\">)</span> <span class=\"o\">((</span><span class=\"n\">hQdef</span> <span class=\"n\">u</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"mi\">1</span> <span class=\"n\">h2</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"mi\">1</span><span class=\"o\">,</span>\n            <span class=\"k\">have</span> <span class=\"n\">h5</span><span class=\"o\">:</span><span class=\"n\">u</span> <span class=\"n\">U</span> <span class=\"o\">[</span><span class=\"n\">u</span><span class=\"o\">]</span> <span class=\"n\">sub</span> <span class=\"n\">X</span><span class=\"o\">,</span> <span class=\"k\">from</span>\n                <span class=\"k\">have</span> <span class=\"n\">h6</span><span class=\"o\">:</span><span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">X</span><span class=\"o\">,</span> <span class=\"k\">from</span> <span class=\"o\">((</span><span class=\"n\">hQdef</span> <span class=\"n\">u</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"mi\">1</span> <span class=\"n\">h2</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"mi\">1</span><span class=\"o\">,</span>\n                <span class=\"k\">have</span> <span class=\"n\">h7</span><span class=\"o\">:</span><span class=\"n\">u</span> <span class=\"n\">sub</span> <span class=\"n\">X</span><span class=\"o\">,</span> <span class=\"k\">from</span> <span class=\"o\">((</span><span class=\"n\">hQdef</span> <span class=\"n\">u</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"mi\">1</span> <span class=\"n\">h2</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"mi\">2</span><span class=\"o\">,</span>\n                <span class=\"bp\">λ</span><span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"k\">assume</span> <span class=\"n\">h8</span><span class=\"o\">:</span><span class=\"n\">x</span> <span class=\"n\">ε</span> <span class=\"o\">(</span><span class=\"n\">u</span> <span class=\"n\">U</span> <span class=\"o\">[</span><span class=\"n\">u</span><span class=\"o\">]),</span>\n                    <span class=\"k\">show</span> <span class=\"n\">x</span> <span class=\"n\">ε</span> <span class=\"n\">X</span><span class=\"o\">,</span> <span class=\"k\">from</span>\n                    <span class=\"k\">have</span> <span class=\"n\">h9</span><span class=\"o\">:</span> <span class=\"n\">x</span> <span class=\"n\">ε</span> <span class=\"n\">u</span> <span class=\"bp\">∨</span> <span class=\"n\">x</span> <span class=\"n\">ε</span> <span class=\"o\">[</span><span class=\"n\">u</span><span class=\"o\">],</span> <span class=\"k\">from</span> <span class=\"o\">(</span><span class=\"n\">uniondef</span> <span class=\"n\">x</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"mi\">1</span> <span class=\"n\">h8</span><span class=\"o\">,</span>\n                    <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">elim</span> <span class=\"n\">h9</span>\n                        <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">h10</span><span class=\"o\">:</span> <span class=\"n\">x</span> <span class=\"n\">ε</span> <span class=\"n\">u</span><span class=\"o\">,</span> <span class=\"o\">(</span><span class=\"n\">h7</span> <span class=\"n\">x</span><span class=\"o\">)</span> <span class=\"n\">h10</span><span class=\"o\">)</span>\n                        <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">h11</span><span class=\"o\">:</span> <span class=\"n\">x</span> <span class=\"n\">ε</span> <span class=\"o\">[</span><span class=\"n\">u</span><span class=\"o\">],</span>\n                            <span class=\"k\">have</span> <span class=\"n\">h12</span><span class=\"o\">:</span><span class=\"n\">x</span> <span class=\"bp\">=</span> <span class=\"n\">u</span><span class=\"o\">,</span> <span class=\"k\">from</span> <span class=\"o\">(</span> <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">elim</span> <span class=\"o\">((</span><span class=\"n\">pairdef</span> <span class=\"n\">x</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"mi\">1</span> <span class=\"n\">h11</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">h3</span><span class=\"o\">:</span><span class=\"n\">x</span><span class=\"bp\">=</span><span class=\"n\">u</span><span class=\"o\">,</span> <span class=\"n\">h3</span><span class=\"o\">)(</span><span class=\"k\">assume</span> <span class=\"n\">h3</span><span class=\"o\">:</span><span class=\"n\">x</span><span class=\"bp\">=</span><span class=\"n\">u</span><span class=\"o\">,</span> <span class=\"n\">h3</span><span class=\"o\">)</span> <span class=\"o\">),</span>\n                            <span class=\"k\">show</span> <span class=\"n\">x</span> <span class=\"n\">ε</span> <span class=\"n\">X</span><span class=\"o\">,</span> <span class=\"k\">from</span>\n                            <span class=\"n\">eq</span><span class=\"bp\">.</span><span class=\"n\">substr</span> <span class=\"n\">h12</span> <span class=\"n\">h6</span>\n                        <span class=\"o\">),</span>\n            <span class=\"n\">and</span><span class=\"bp\">.</span><span class=\"n\">intro</span> <span class=\"n\">h4</span> <span class=\"n\">h5</span>\n        <span class=\"o\">)</span>\n</pre></div>\n\n\n<p>Here are the background definitions and theorems:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kn\">constant</span> <span class=\"n\">Set</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span>\n<span class=\"kn\">constant</span> <span class=\"n\">In</span> <span class=\"o\">:</span> <span class=\"n\">Set</span> <span class=\"bp\">→</span> <span class=\"n\">Set</span> <span class=\"bp\">→</span> <span class=\"kt\">Prop</span>\n<span class=\"kn\">infix</span> <span class=\"bp\">`</span><span class=\"n\">ε</span><span class=\"bp\">`</span><span class=\"o\">:</span><span class=\"mi\">50</span>  <span class=\"o\">:=</span> <span class=\"n\">In</span>\n\n<span class=\"kn\">definition</span> <span class=\"n\">subsett</span> <span class=\"o\">(</span><span class=\"n\">S</span> <span class=\"n\">X</span><span class=\"o\">:</span> <span class=\"n\">Set</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"bp\">∀</span><span class=\"n\">u</span><span class=\"o\">,</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">S</span> <span class=\"bp\">→</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">X</span>\n<span class=\"kn\">infix</span> <span class=\"bp\">`</span><span class=\"n\">sub</span><span class=\"bp\">`</span><span class=\"o\">:</span><span class=\"mi\">50</span> <span class=\"o\">:=</span> <span class=\"n\">subsett</span>\n\n\n\n<span class=\"kn\">axiom</span> <span class=\"n\">axextentionality</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span><span class=\"n\">X</span><span class=\"o\">,</span> <span class=\"bp\">∀</span><span class=\"n\">Y</span><span class=\"o\">,</span> <span class=\"o\">(</span><span class=\"bp\">∀</span><span class=\"n\">u</span><span class=\"o\">,</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">X</span> <span class=\"bp\">↔</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">Y</span><span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"n\">X</span> <span class=\"bp\">=</span> <span class=\"n\">Y</span>\n<span class=\"kn\">axiom</span> <span class=\"n\">axpairing</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span><span class=\"n\">X</span><span class=\"o\">:</span><span class=\"n\">Set</span><span class=\"o\">,</span> <span class=\"bp\">∀</span><span class=\"n\">Y</span><span class=\"o\">:</span><span class=\"n\">Set</span><span class=\"o\">,</span> <span class=\"bp\">∃</span><span class=\"n\">S</span><span class=\"o\">:</span><span class=\"n\">Set</span><span class=\"o\">,</span> <span class=\"bp\">∀</span><span class=\"n\">u</span><span class=\"o\">,</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">S</span> <span class=\"bp\">↔</span> <span class=\"n\">u</span> <span class=\"bp\">=</span> <span class=\"n\">X</span> <span class=\"bp\">∨</span> <span class=\"n\">u</span> <span class=\"bp\">=</span> <span class=\"n\">Y</span>\n<span class=\"kn\">axiom</span> <span class=\"n\">axspecification</span> <span class=\"o\">(</span><span class=\"n\">φ</span> <span class=\"o\">:</span> <span class=\"n\">Set</span> <span class=\"bp\">→</span> <span class=\"kt\">Prop</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span><span class=\"n\">X</span><span class=\"o\">,</span> <span class=\"bp\">∃</span><span class=\"n\">S</span><span class=\"o\">,</span> <span class=\"o\">(</span><span class=\"bp\">∀</span><span class=\"n\">u</span><span class=\"o\">,</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">S</span> <span class=\"bp\">↔</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">X</span> <span class=\"bp\">∧</span> <span class=\"n\">φ</span> <span class=\"n\">u</span><span class=\"o\">)</span>\n<span class=\"kn\">axiom</span> <span class=\"n\">axunion</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span><span class=\"n\">X</span><span class=\"o\">,</span> <span class=\"bp\">∀</span><span class=\"n\">Y</span><span class=\"o\">,</span> <span class=\"bp\">∃</span><span class=\"n\">S</span><span class=\"o\">,</span> <span class=\"bp\">∀</span><span class=\"n\">u</span><span class=\"o\">,</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">S</span> <span class=\"bp\">↔</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">X</span> <span class=\"bp\">∨</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">Y</span>\n<span class=\"kn\">axiom</span> <span class=\"n\">existsset</span> <span class=\"o\">:</span> <span class=\"bp\">∃</span><span class=\"n\">S</span><span class=\"o\">:</span><span class=\"n\">Set</span><span class=\"o\">,</span> <span class=\"n\">S</span><span class=\"bp\">=</span><span class=\"n\">S</span>\n\n<span class=\"n\">noncomputable</span> <span class=\"kn\">definition</span> <span class=\"n\">pair</span> <span class=\"o\">(</span><span class=\"n\">x</span> <span class=\"n\">y</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"n\">classical</span><span class=\"bp\">.</span><span class=\"n\">some</span> <span class=\"o\">(</span><span class=\"n\">axpairing</span> <span class=\"n\">x</span> <span class=\"n\">y</span><span class=\"o\">)</span>\n<span class=\"n\">noncomputable</span> <span class=\"kn\">definition</span> <span class=\"n\">union</span> <span class=\"o\">(</span><span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"n\">classical</span><span class=\"bp\">.</span><span class=\"n\">some</span> <span class=\"o\">(</span><span class=\"n\">axunion</span> <span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">)</span>\n<span class=\"n\">noncomputable</span> <span class=\"kn\">definition</span> <span class=\"n\">null</span><span class=\"o\">:</span><span class=\"n\">Set</span> <span class=\"o\">:=</span> <span class=\"n\">classical</span><span class=\"bp\">.</span><span class=\"n\">some</span> <span class=\"o\">(</span><span class=\"n\">axspecification</span> <span class=\"o\">(</span><span class=\"bp\">λ</span><span class=\"n\">u</span><span class=\"o\">,</span> <span class=\"bp\">¬</span><span class=\"n\">u</span><span class=\"bp\">=</span><span class=\"n\">u</span><span class=\"o\">)</span>\n    <span class=\"o\">(</span><span class=\"n\">classical</span><span class=\"bp\">.</span><span class=\"n\">some</span> <span class=\"n\">existsset</span><span class=\"o\">)</span>  <span class=\"o\">)</span>\n<span class=\"n\">noncomputable</span> <span class=\"kn\">definition</span> <span class=\"n\">spec</span> <span class=\"o\">(</span><span class=\"n\">φ</span> <span class=\"o\">:</span> <span class=\"n\">Set</span> <span class=\"bp\">→</span> <span class=\"kt\">Prop</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">Set</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"n\">classical</span><span class=\"bp\">.</span><span class=\"n\">some</span> <span class=\"o\">(</span><span class=\"n\">axspecification</span> <span class=\"n\">φ</span> <span class=\"n\">X</span><span class=\"o\">)</span>\n\n<span class=\"kn\">theorem</span> <span class=\"n\">pairdef</span> <span class=\"o\">{</span><span class=\"n\">x</span> <span class=\"n\">y</span><span class=\"o\">:</span><span class=\"n\">Set</span><span class=\"o\">}</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span><span class=\"n\">u</span><span class=\"o\">,</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"o\">(</span><span class=\"n\">pair</span> <span class=\"n\">x</span> <span class=\"n\">y</span><span class=\"o\">)</span> <span class=\"bp\">↔</span> <span class=\"n\">u</span> <span class=\"bp\">=</span> <span class=\"n\">x</span> <span class=\"bp\">∨</span> <span class=\"n\">u</span> <span class=\"bp\">=</span> <span class=\"n\">y</span> <span class=\"o\">:=</span> <span class=\"n\">classical</span><span class=\"bp\">.</span><span class=\"n\">some_spec</span> <span class=\"o\">(</span><span class=\"n\">axpairing</span> <span class=\"n\">x</span> <span class=\"n\">y</span><span class=\"o\">)</span>\n<span class=\"kn\">theorem</span> <span class=\"n\">uniondef</span> <span class=\"o\">{</span><span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">:</span><span class=\"n\">Set</span><span class=\"o\">}</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span><span class=\"n\">u</span><span class=\"o\">,</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"o\">(</span><span class=\"n\">union</span> <span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">)</span> <span class=\"bp\">↔</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">X</span> <span class=\"bp\">∨</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">Y</span> <span class=\"o\">:=</span> <span class=\"n\">classical</span><span class=\"bp\">.</span><span class=\"n\">some_spec</span> <span class=\"o\">(</span><span class=\"n\">axunion</span> <span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">)</span>\n<span class=\"kn\">theorem</span> <span class=\"n\">nulldef</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span><span class=\"n\">u</span><span class=\"o\">,</span> <span class=\"bp\">¬</span><span class=\"o\">(</span><span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">null</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"n\">sorry</span>\n\n<span class=\"kn\">theorem</span> <span class=\"n\">specdef</span> <span class=\"o\">(</span><span class=\"n\">φ</span> <span class=\"o\">:</span> <span class=\"n\">Set</span> <span class=\"bp\">→</span> <span class=\"kt\">Prop</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">X</span><span class=\"o\">:</span><span class=\"n\">Set</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"bp\">∀</span><span class=\"n\">u</span><span class=\"o\">,</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">spec</span> <span class=\"n\">φ</span> <span class=\"n\">X</span> <span class=\"bp\">↔</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">X</span> <span class=\"bp\">∧</span> <span class=\"n\">φ</span> <span class=\"n\">u</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"n\">classical</span><span class=\"bp\">.</span><span class=\"n\">some_spec</span> <span class=\"o\">(</span><span class=\"n\">axspecification</span> <span class=\"n\">φ</span> <span class=\"n\">X</span><span class=\"o\">)</span>\n\n<span class=\"kn\">infix</span> <span class=\"bp\">`</span><span class=\"n\">U</span><span class=\"bp\">`</span><span class=\"o\">:</span><span class=\"mi\">50</span> <span class=\"o\">:=</span> <span class=\"n\">union</span>\n<span class=\"kn\">notation</span> <span class=\"bp\">`</span><span class=\"o\">[</span><span class=\"bp\">`</span> <span class=\"n\">x</span> <span class=\"bp\">`</span><span class=\"o\">,</span><span class=\"bp\">`</span> <span class=\"n\">y</span> <span class=\"bp\">`</span><span class=\"o\">]</span><span class=\"bp\">`</span> <span class=\"o\">:=</span> <span class=\"n\">pair</span> <span class=\"n\">x</span> <span class=\"n\">y</span>\n<span class=\"kn\">notation</span> <span class=\"bp\">`</span><span class=\"o\">[</span><span class=\"bp\">`</span> <span class=\"n\">x</span> <span class=\"bp\">`</span><span class=\"o\">]</span><span class=\"bp\">`</span> <span class=\"o\">:=</span> <span class=\"n\">pair</span> <span class=\"n\">x</span> <span class=\"n\">x</span>\n\n<span class=\"kn\">definition</span> <span class=\"n\">inductiveset</span> <span class=\"o\">(</span><span class=\"n\">S</span><span class=\"o\">:</span><span class=\"n\">Set</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"kt\">Prop</span> <span class=\"o\">:=</span> <span class=\"n\">null</span> <span class=\"n\">ε</span> <span class=\"n\">S</span> <span class=\"bp\">∧</span> <span class=\"bp\">∀</span><span class=\"n\">u</span><span class=\"o\">,</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">S</span> <span class=\"bp\">→</span> <span class=\"n\">u</span> <span class=\"n\">U</span> <span class=\"o\">[</span><span class=\"n\">u</span><span class=\"o\">]</span> <span class=\"n\">ε</span> <span class=\"n\">S</span>\n</pre></div>",
        "id": 193748888,
        "sender_full_name": "Chris M",
        "timestamp": 1586760078
    },
    {
        "content": "<p>what is ε? make sure your file can compile on its own</p>",
        "id": 193748949,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1586760183
    },
    {
        "content": "<p>whoops sorry for that, for got to copy it.</p>",
        "id": 193748963,
        "sender_full_name": "Chris M",
        "timestamp": 1586760241
    },
    {
        "content": "<p>Here's my best attempt at applying lean style guide stuff to your proof</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kn\">constant</span> <span class=\"n\">Set</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span>\n<span class=\"kn\">constant</span> <span class=\"n\">In</span> <span class=\"o\">:</span> <span class=\"n\">Set</span> <span class=\"bp\">→</span> <span class=\"n\">Set</span> <span class=\"bp\">→</span> <span class=\"kt\">Prop</span>\n<span class=\"kn\">infix</span> <span class=\"bp\">`</span><span class=\"n\">ε</span><span class=\"bp\">`</span><span class=\"o\">:</span><span class=\"mi\">50</span> <span class=\"o\">:=</span> <span class=\"n\">In</span>\n\n<span class=\"n\">def</span> <span class=\"n\">subsett</span> <span class=\"o\">(</span><span class=\"n\">S</span> <span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">Set</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"bp\">∀</span><span class=\"n\">u</span><span class=\"o\">,</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">S</span> <span class=\"bp\">→</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">X</span>\n<span class=\"kn\">infix</span> <span class=\"bp\">`</span><span class=\"n\">sub</span><span class=\"bp\">`</span><span class=\"o\">:</span><span class=\"mi\">50</span> <span class=\"o\">:=</span> <span class=\"n\">subsett</span>\n\n<span class=\"kn\">axiom</span> <span class=\"n\">ax_ext</span> <span class=\"o\">(</span><span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"bp\">∀</span> <span class=\"n\">u</span><span class=\"o\">,</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">X</span> <span class=\"bp\">↔</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">Y</span><span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"n\">X</span> <span class=\"bp\">=</span> <span class=\"n\">Y</span>\n<span class=\"kn\">axiom</span> <span class=\"n\">ax_pair</span> <span class=\"o\">(</span><span class=\"n\">X</span> <span class=\"n\">Y</span> <span class=\"o\">:</span> <span class=\"n\">Set</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"bp\">∃</span> <span class=\"n\">S</span> <span class=\"o\">:</span> <span class=\"n\">Set</span><span class=\"o\">,</span> <span class=\"bp\">∀</span> <span class=\"n\">u</span><span class=\"o\">,</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">S</span> <span class=\"bp\">↔</span> <span class=\"n\">u</span> <span class=\"bp\">=</span> <span class=\"n\">X</span> <span class=\"bp\">∨</span> <span class=\"n\">u</span> <span class=\"bp\">=</span> <span class=\"n\">Y</span>\n<span class=\"kn\">axiom</span> <span class=\"n\">ax_spec</span> <span class=\"o\">(</span><span class=\"n\">φ</span> <span class=\"o\">:</span> <span class=\"n\">Set</span> <span class=\"bp\">→</span> <span class=\"kt\">Prop</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"bp\">∃</span> <span class=\"n\">S</span><span class=\"o\">,</span> <span class=\"bp\">∀</span> <span class=\"n\">u</span><span class=\"o\">,</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">S</span> <span class=\"bp\">↔</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">X</span> <span class=\"bp\">∧</span> <span class=\"n\">φ</span> <span class=\"n\">u</span>\n<span class=\"kn\">axiom</span> <span class=\"n\">ax_union</span> <span class=\"o\">(</span><span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"bp\">∃</span> <span class=\"n\">S</span><span class=\"o\">,</span> <span class=\"bp\">∀</span><span class=\"n\">u</span><span class=\"o\">,</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">S</span> <span class=\"bp\">↔</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">X</span> <span class=\"bp\">∨</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">Y</span>\n<span class=\"kn\">axiom</span> <span class=\"n\">ax_exists_set</span> <span class=\"o\">:</span> <span class=\"bp\">∃</span> <span class=\"n\">S</span> <span class=\"o\">:</span> <span class=\"n\">Set</span><span class=\"o\">,</span> <span class=\"n\">S</span> <span class=\"bp\">=</span> <span class=\"n\">S</span>\n\n<span class=\"n\">noncomputable</span> <span class=\"n\">def</span> <span class=\"n\">pair</span> <span class=\"o\">(</span><span class=\"n\">x</span> <span class=\"n\">y</span> <span class=\"o\">:</span> <span class=\"n\">Set</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">Set</span> <span class=\"o\">:=</span>\n<span class=\"n\">classical</span><span class=\"bp\">.</span><span class=\"n\">some</span> <span class=\"o\">(</span><span class=\"n\">ax_pair</span> <span class=\"n\">x</span> <span class=\"n\">y</span><span class=\"o\">)</span>\n<span class=\"n\">noncomputable</span> <span class=\"n\">def</span> <span class=\"n\">union</span> <span class=\"o\">(</span><span class=\"n\">X</span> <span class=\"n\">Y</span> <span class=\"o\">:</span> <span class=\"n\">Set</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">Set</span> <span class=\"o\">:=</span>\n<span class=\"n\">classical</span><span class=\"bp\">.</span><span class=\"n\">some</span> <span class=\"o\">(</span><span class=\"n\">ax_union</span> <span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">)</span>\n<span class=\"n\">noncomputable</span> <span class=\"n\">def</span> <span class=\"n\">spec</span> <span class=\"o\">(</span><span class=\"n\">φ</span> <span class=\"o\">:</span> <span class=\"n\">Set</span> <span class=\"bp\">→</span> <span class=\"kt\">Prop</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">Set</span><span class=\"o\">)</span> <span class=\"o\">:=</span>\n<span class=\"n\">classical</span><span class=\"bp\">.</span><span class=\"n\">some</span> <span class=\"o\">(</span><span class=\"n\">ax_spec</span> <span class=\"n\">φ</span> <span class=\"n\">X</span><span class=\"o\">)</span>\n<span class=\"n\">noncomputable</span> <span class=\"n\">def</span> <span class=\"n\">null</span> <span class=\"o\">:</span> <span class=\"n\">Set</span> <span class=\"o\">:=</span>\n<span class=\"n\">spec</span> <span class=\"o\">(</span><span class=\"bp\">λ</span><span class=\"n\">u</span><span class=\"o\">,</span> <span class=\"n\">false</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">classical</span><span class=\"bp\">.</span><span class=\"n\">some</span> <span class=\"n\">ax_exists_set</span><span class=\"o\">)</span>\n\n<span class=\"kn\">theorem</span> <span class=\"n\">mem_pair</span> <span class=\"o\">{</span><span class=\"n\">x</span> <span class=\"n\">y</span> <span class=\"n\">u</span> <span class=\"o\">:</span> <span class=\"n\">Set</span><span class=\"o\">}</span> <span class=\"o\">:</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"o\">(</span><span class=\"n\">pair</span> <span class=\"n\">x</span> <span class=\"n\">y</span><span class=\"o\">)</span> <span class=\"bp\">↔</span> <span class=\"n\">u</span> <span class=\"bp\">=</span> <span class=\"n\">x</span> <span class=\"bp\">∨</span> <span class=\"n\">u</span> <span class=\"bp\">=</span> <span class=\"n\">y</span> <span class=\"o\">:=</span>\n<span class=\"n\">classical</span><span class=\"bp\">.</span><span class=\"n\">some_spec</span> <span class=\"o\">(</span><span class=\"n\">ax_pair</span> <span class=\"n\">x</span> <span class=\"n\">y</span><span class=\"o\">)</span> <span class=\"bp\">_</span>\n<span class=\"kn\">theorem</span> <span class=\"n\">mem_union</span> <span class=\"o\">{</span><span class=\"n\">X</span> <span class=\"n\">Y</span> <span class=\"n\">u</span> <span class=\"o\">:</span> <span class=\"n\">Set</span><span class=\"o\">}</span> <span class=\"o\">:</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"o\">(</span><span class=\"n\">union</span> <span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">)</span> <span class=\"bp\">↔</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">X</span> <span class=\"bp\">∨</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">Y</span> <span class=\"o\">:=</span>\n<span class=\"n\">classical</span><span class=\"bp\">.</span><span class=\"n\">some_spec</span> <span class=\"o\">(</span><span class=\"n\">ax_union</span> <span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">)</span> <span class=\"bp\">_</span>\n<span class=\"kn\">theorem</span> <span class=\"n\">mem_spec</span> <span class=\"o\">{</span><span class=\"n\">φ</span> <span class=\"o\">:</span> <span class=\"n\">Set</span> <span class=\"bp\">→</span> <span class=\"kt\">Prop</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">X</span> <span class=\"n\">u</span> <span class=\"o\">:</span> <span class=\"n\">Set</span><span class=\"o\">}</span> <span class=\"o\">:</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">spec</span> <span class=\"n\">φ</span> <span class=\"n\">X</span> <span class=\"bp\">↔</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">X</span> <span class=\"bp\">∧</span> <span class=\"n\">φ</span> <span class=\"n\">u</span> <span class=\"o\">:=</span>\n<span class=\"n\">classical</span><span class=\"bp\">.</span><span class=\"n\">some_spec</span> <span class=\"o\">(</span><span class=\"n\">ax_spec</span> <span class=\"n\">φ</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"bp\">_</span>\n<span class=\"kn\">theorem</span> <span class=\"n\">mem_null</span> <span class=\"o\">(</span><span class=\"n\">u</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"bp\">¬</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">null</span> <span class=\"o\">:=</span>\n<span class=\"bp\">λ</span> <span class=\"n\">h</span><span class=\"o\">,</span> <span class=\"o\">(</span><span class=\"n\">mem_spec</span><span class=\"bp\">.</span><span class=\"mi\">1</span> <span class=\"n\">h</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"mi\">2</span>\n\n<span class=\"kn\">infix</span> <span class=\"bp\">`</span><span class=\"n\">U</span><span class=\"bp\">`</span><span class=\"o\">:</span><span class=\"mi\">50</span> <span class=\"o\">:=</span> <span class=\"n\">union</span>\n<span class=\"kn\">notation</span> <span class=\"bp\">`</span><span class=\"o\">[</span><span class=\"bp\">`</span> <span class=\"n\">x</span> <span class=\"bp\">`</span><span class=\"o\">,</span><span class=\"bp\">`</span> <span class=\"n\">y</span> <span class=\"bp\">`</span><span class=\"o\">]</span><span class=\"bp\">`</span> <span class=\"o\">:=</span> <span class=\"n\">pair</span> <span class=\"n\">x</span> <span class=\"n\">y</span>\n<span class=\"kn\">notation</span> <span class=\"bp\">`</span><span class=\"o\">[</span><span class=\"bp\">`</span> <span class=\"n\">x</span> <span class=\"bp\">`</span><span class=\"o\">]</span><span class=\"bp\">`</span> <span class=\"o\">:=</span> <span class=\"n\">pair</span> <span class=\"n\">x</span> <span class=\"n\">x</span>\n\n<span class=\"n\">def</span> <span class=\"n\">inductive_set</span> <span class=\"o\">(</span><span class=\"n\">S</span><span class=\"o\">:</span><span class=\"n\">Set</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"kt\">Prop</span> <span class=\"o\">:=</span> <span class=\"n\">null</span> <span class=\"n\">ε</span> <span class=\"n\">S</span> <span class=\"bp\">∧</span> <span class=\"bp\">∀</span><span class=\"n\">u</span><span class=\"o\">,</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">S</span> <span class=\"bp\">→</span> <span class=\"n\">u</span> <span class=\"n\">U</span> <span class=\"o\">[</span><span class=\"n\">u</span><span class=\"o\">]</span> <span class=\"n\">ε</span> <span class=\"n\">S</span>\n\n<span class=\"kn\">example</span> <span class=\"o\">{</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">Set</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">hX</span> <span class=\"o\">:</span> <span class=\"n\">inductive_set</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">inductive_set</span> <span class=\"o\">(</span><span class=\"n\">spec</span> <span class=\"o\">(</span><span class=\"bp\">λ</span><span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">x</span> <span class=\"n\">sub</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"o\">:=</span>\n<span class=\"k\">have</span> <span class=\"n\">hQdef</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"bp\">∀</span><span class=\"n\">u</span><span class=\"o\">,</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">spec</span> <span class=\"o\">(</span><span class=\"bp\">λ</span><span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">x</span> <span class=\"n\">sub</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"n\">X</span> <span class=\"bp\">↔</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">X</span> <span class=\"bp\">∧</span> <span class=\"o\">(</span><span class=\"bp\">λ</span><span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">x</span> <span class=\"n\">sub</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"n\">u</span><span class=\"o\">),</span>\n<span class=\"k\">from</span> <span class=\"bp\">λ</span> <span class=\"bp\">_</span><span class=\"o\">,</span> <span class=\"n\">mem_spec</span><span class=\"o\">,</span>\n<span class=\"bp\">⟨</span> <span class=\"k\">show</span> <span class=\"n\">null</span> <span class=\"n\">ε</span> <span class=\"o\">(</span><span class=\"n\">spec</span> <span class=\"o\">(</span><span class=\"bp\">λ</span><span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">x</span> <span class=\"n\">sub</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"n\">X</span><span class=\"o\">),</span> <span class=\"k\">from</span>\n  <span class=\"k\">have</span> <span class=\"n\">h2</span> <span class=\"o\">:</span> <span class=\"n\">null</span> <span class=\"n\">ε</span> <span class=\"n\">X</span><span class=\"o\">,</span> <span class=\"k\">from</span> <span class=\"n\">hX</span><span class=\"bp\">.</span><span class=\"mi\">1</span><span class=\"o\">,</span>\n  <span class=\"k\">have</span> <span class=\"n\">h3</span> <span class=\"o\">:</span> <span class=\"n\">null</span> <span class=\"n\">sub</span> <span class=\"n\">X</span><span class=\"o\">,</span> <span class=\"k\">from</span> <span class=\"bp\">λ</span><span class=\"n\">u</span><span class=\"o\">,</span> <span class=\"k\">assume</span> <span class=\"n\">hu</span><span class=\"o\">:</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">null</span><span class=\"o\">,</span> <span class=\"o\">(</span><span class=\"n\">mem_null</span> <span class=\"bp\">_</span> <span class=\"n\">hu</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">elim</span><span class=\"o\">,</span>\n  <span class=\"n\">suffices</span> <span class=\"n\">h4</span><span class=\"o\">:</span> <span class=\"n\">null</span> <span class=\"n\">ε</span> <span class=\"n\">X</span> <span class=\"bp\">∧</span> <span class=\"n\">null</span> <span class=\"n\">sub</span> <span class=\"n\">X</span><span class=\"o\">,</span> <span class=\"k\">from</span> <span class=\"n\">mem_spec</span><span class=\"bp\">.</span><span class=\"mi\">2</span> <span class=\"n\">h4</span><span class=\"o\">,</span>\n  <span class=\"bp\">⟨</span><span class=\"n\">h2</span><span class=\"o\">,</span> <span class=\"n\">h3</span><span class=\"bp\">⟩</span><span class=\"o\">,</span>\n<span class=\"bp\">λ</span> <span class=\"n\">u</span><span class=\"o\">,</span> <span class=\"k\">assume</span> <span class=\"n\">h2</span> <span class=\"o\">:</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"o\">(</span><span class=\"n\">spec</span> <span class=\"o\">(</span><span class=\"bp\">λ</span><span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">x</span> <span class=\"n\">sub</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"n\">X</span><span class=\"o\">),</span>\n  <span class=\"k\">show</span> <span class=\"n\">u</span> <span class=\"n\">U</span> <span class=\"o\">[</span><span class=\"n\">u</span><span class=\"o\">]</span> <span class=\"n\">ε</span> <span class=\"o\">(</span><span class=\"n\">spec</span> <span class=\"o\">(</span><span class=\"bp\">λ</span><span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">x</span> <span class=\"n\">sub</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"n\">X</span><span class=\"o\">),</span> <span class=\"k\">from</span>\n  <span class=\"n\">suffices</span> <span class=\"n\">h3</span> <span class=\"o\">:</span> <span class=\"n\">u</span> <span class=\"n\">U</span> <span class=\"o\">[</span><span class=\"n\">u</span><span class=\"o\">]</span> <span class=\"n\">ε</span> <span class=\"n\">X</span> <span class=\"bp\">∧</span> <span class=\"n\">u</span> <span class=\"n\">U</span> <span class=\"o\">[</span><span class=\"n\">u</span><span class=\"o\">]</span> <span class=\"n\">sub</span> <span class=\"n\">X</span><span class=\"o\">,</span> <span class=\"k\">from</span> <span class=\"o\">(</span><span class=\"n\">hQdef</span> <span class=\"o\">(</span><span class=\"n\">u</span> <span class=\"n\">U</span> <span class=\"o\">[</span><span class=\"n\">u</span><span class=\"o\">]))</span><span class=\"bp\">.</span><span class=\"mi\">2</span> <span class=\"n\">h3</span><span class=\"o\">,</span>\n  <span class=\"bp\">⟨</span> <span class=\"k\">show</span> <span class=\"n\">u</span> <span class=\"n\">U</span> <span class=\"o\">[</span><span class=\"n\">u</span><span class=\"o\">]</span> <span class=\"n\">ε</span> <span class=\"n\">X</span><span class=\"o\">,</span> <span class=\"k\">from</span> <span class=\"o\">(</span><span class=\"n\">hX</span><span class=\"bp\">.</span><span class=\"mi\">2</span> <span class=\"n\">u</span><span class=\"o\">)</span> <span class=\"o\">((</span><span class=\"n\">hQdef</span> <span class=\"n\">u</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"mi\">1</span> <span class=\"n\">h2</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"mi\">1</span><span class=\"o\">,</span>\n    <span class=\"k\">show</span> <span class=\"n\">u</span> <span class=\"n\">U</span> <span class=\"o\">[</span><span class=\"n\">u</span><span class=\"o\">]</span> <span class=\"n\">sub</span> <span class=\"n\">X</span><span class=\"o\">,</span> <span class=\"k\">from</span>\n    <span class=\"k\">have</span> <span class=\"n\">h6</span> <span class=\"o\">:</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">X</span><span class=\"o\">,</span> <span class=\"k\">from</span> <span class=\"o\">((</span><span class=\"n\">hQdef</span> <span class=\"n\">u</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"mi\">1</span> <span class=\"n\">h2</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"mi\">1</span><span class=\"o\">,</span>\n    <span class=\"k\">have</span> <span class=\"n\">h7</span> <span class=\"o\">:</span> <span class=\"n\">u</span> <span class=\"n\">sub</span> <span class=\"n\">X</span><span class=\"o\">,</span> <span class=\"k\">from</span> <span class=\"o\">((</span><span class=\"n\">hQdef</span> <span class=\"n\">u</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"mi\">1</span> <span class=\"n\">h2</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"mi\">2</span><span class=\"o\">,</span>\n    <span class=\"bp\">λ</span><span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"k\">assume</span> <span class=\"n\">h8</span><span class=\"o\">:</span><span class=\"n\">x</span> <span class=\"n\">ε</span> <span class=\"o\">(</span><span class=\"n\">u</span> <span class=\"n\">U</span> <span class=\"o\">[</span><span class=\"n\">u</span><span class=\"o\">]),</span>\n      <span class=\"k\">show</span> <span class=\"n\">x</span> <span class=\"n\">ε</span> <span class=\"n\">X</span><span class=\"o\">,</span> <span class=\"k\">from</span>\n      <span class=\"k\">have</span> <span class=\"n\">h9</span> <span class=\"o\">:</span> <span class=\"n\">x</span> <span class=\"n\">ε</span> <span class=\"n\">u</span> <span class=\"bp\">∨</span> <span class=\"n\">x</span> <span class=\"n\">ε</span> <span class=\"o\">[</span><span class=\"n\">u</span><span class=\"o\">],</span> <span class=\"k\">from</span> <span class=\"n\">mem_union</span><span class=\"bp\">.</span><span class=\"mi\">1</span> <span class=\"n\">h8</span><span class=\"o\">,</span>\n      <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">elim</span> <span class=\"n\">h9</span>\n        <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">h10</span><span class=\"o\">:</span> <span class=\"n\">x</span> <span class=\"n\">ε</span> <span class=\"n\">u</span><span class=\"o\">,</span> <span class=\"o\">(</span><span class=\"n\">h7</span> <span class=\"n\">x</span><span class=\"o\">)</span> <span class=\"n\">h10</span><span class=\"o\">)</span>\n        <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">h11</span><span class=\"o\">:</span> <span class=\"n\">x</span> <span class=\"n\">ε</span> <span class=\"o\">[</span><span class=\"n\">u</span><span class=\"o\">],</span>\n          <span class=\"k\">have</span> <span class=\"n\">h12</span><span class=\"o\">:</span><span class=\"n\">x</span> <span class=\"bp\">=</span> <span class=\"n\">u</span><span class=\"o\">,</span> <span class=\"k\">from</span>\n            <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">elim</span> <span class=\"o\">(</span><span class=\"n\">mem_pair</span><span class=\"bp\">.</span><span class=\"mi\">1</span> <span class=\"n\">h11</span><span class=\"o\">)</span>\n              <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">h3</span><span class=\"o\">:</span><span class=\"n\">x</span><span class=\"bp\">=</span><span class=\"n\">u</span><span class=\"o\">,</span> <span class=\"n\">h3</span><span class=\"o\">)</span>\n              <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">h3</span><span class=\"o\">:</span><span class=\"n\">x</span><span class=\"bp\">=</span><span class=\"n\">u</span><span class=\"o\">,</span> <span class=\"n\">h3</span><span class=\"o\">),</span>\n          <span class=\"k\">show</span> <span class=\"n\">x</span> <span class=\"n\">ε</span> <span class=\"n\">X</span><span class=\"o\">,</span> <span class=\"k\">from</span>\n          <span class=\"n\">eq</span><span class=\"bp\">.</span><span class=\"n\">substr</span> <span class=\"n\">h12</span> <span class=\"n\">h6</span><span class=\"o\">)</span><span class=\"bp\">⟩⟩</span>\n</pre></div>",
        "id": 193750027,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1586761860
    },
    {
        "content": "<p>For the proof itself, I have difficulty using term mode for presentation purposes. I find that tactic mode is much easier to provide a overview of the proof structure</p>",
        "id": 193750078,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1586761944
    },
    {
        "content": "<p>If I am using term mode, I generally don't waste space on <code>have</code> and <code>show</code> style presentation, which is usually available via hovers anyway. As such, the proof packs way down:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kn\">example</span> <span class=\"o\">{</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">Set</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">hX</span> <span class=\"o\">:</span> <span class=\"n\">inductive_set</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">inductive_set</span> <span class=\"o\">(</span><span class=\"n\">spec</span> <span class=\"o\">(</span><span class=\"bp\">λ</span><span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">x</span> <span class=\"n\">sub</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"o\">:=</span>\n<span class=\"bp\">⟨</span><span class=\"n\">mem_spec</span><span class=\"bp\">.</span><span class=\"mi\">2</span> <span class=\"bp\">⟨</span><span class=\"n\">hX</span><span class=\"bp\">.</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"bp\">λ</span><span class=\"n\">u</span> <span class=\"n\">hu</span><span class=\"o\">,</span> <span class=\"o\">(</span><span class=\"n\">mem_null</span> <span class=\"bp\">_</span> <span class=\"n\">hu</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">elim</span><span class=\"bp\">⟩</span><span class=\"o\">,</span> <span class=\"bp\">λ</span> <span class=\"n\">u</span> <span class=\"n\">h2</span><span class=\"o\">,</span>\n <span class=\"n\">mem_spec</span><span class=\"bp\">.</span><span class=\"mi\">2</span> <span class=\"bp\">⟨</span><span class=\"o\">(</span><span class=\"n\">hX</span><span class=\"bp\">.</span><span class=\"mi\">2</span> <span class=\"n\">u</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">mem_spec</span><span class=\"bp\">.</span><span class=\"mi\">1</span> <span class=\"n\">h2</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"mi\">1</span><span class=\"o\">,</span>\n  <span class=\"bp\">λ</span> <span class=\"n\">x</span> <span class=\"n\">h8</span><span class=\"o\">,</span> <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">elim</span> <span class=\"o\">(</span><span class=\"n\">mem_union</span><span class=\"bp\">.</span><span class=\"mi\">1</span> <span class=\"n\">h8</span><span class=\"o\">)</span> <span class=\"o\">((</span><span class=\"n\">mem_spec</span><span class=\"bp\">.</span><span class=\"mi\">1</span> <span class=\"n\">h2</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"mi\">2</span> <span class=\"n\">x</span><span class=\"o\">)</span> <span class=\"err\">$</span> <span class=\"bp\">λ</span> <span class=\"n\">h11</span><span class=\"o\">,</span>\n  <span class=\"n\">eq</span><span class=\"bp\">.</span><span class=\"n\">substr</span> <span class=\"o\">((</span><span class=\"n\">or_self</span> <span class=\"bp\">_</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"mi\">1</span> <span class=\"o\">(</span><span class=\"n\">mem_pair</span><span class=\"bp\">.</span><span class=\"mi\">1</span> <span class=\"n\">h11</span><span class=\"o\">))</span> <span class=\"o\">(</span><span class=\"n\">mem_spec</span><span class=\"bp\">.</span><span class=\"mi\">1</span> <span class=\"n\">h2</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"mi\">1</span><span class=\"bp\">⟩⟩</span>\n</pre></div>",
        "id": 193750289,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1586762315
    },
    {
        "content": "<p>In tactic mode, it's a lot easier to have nice formatting and keep the have and show</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kn\">example</span> <span class=\"o\">{</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">Set</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">hX</span> <span class=\"o\">:</span> <span class=\"n\">inductive_set</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">inductive_set</span> <span class=\"o\">(</span><span class=\"n\">spec</span> <span class=\"o\">(</span><span class=\"bp\">λ</span><span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">x</span> <span class=\"n\">sub</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"o\">:=</span>\n<span class=\"k\">begin</span>\n  <span class=\"k\">have</span> <span class=\"n\">hQdef</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"bp\">∀</span><span class=\"n\">u</span><span class=\"o\">,</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">spec</span> <span class=\"o\">(</span><span class=\"bp\">λ</span><span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">x</span> <span class=\"n\">sub</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"n\">X</span> <span class=\"bp\">↔</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">X</span> <span class=\"bp\">∧</span> <span class=\"o\">(</span><span class=\"bp\">λ</span><span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">x</span> <span class=\"n\">sub</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"n\">u</span><span class=\"o\">),</span>\n  <span class=\"o\">{</span> <span class=\"n\">apply</span> <span class=\"n\">mem_spec</span> <span class=\"o\">},</span>\n  <span class=\"n\">split</span><span class=\"o\">,</span>\n  <span class=\"o\">{</span> <span class=\"k\">show</span> <span class=\"n\">null</span> <span class=\"n\">ε</span> <span class=\"o\">(</span><span class=\"n\">spec</span> <span class=\"o\">(</span><span class=\"bp\">λ</span><span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">x</span> <span class=\"n\">sub</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"n\">X</span><span class=\"o\">),</span>\n    <span class=\"k\">have</span> <span class=\"n\">h2</span> <span class=\"o\">:</span> <span class=\"n\">null</span> <span class=\"n\">ε</span> <span class=\"n\">X</span> <span class=\"o\">:=</span> <span class=\"n\">hX</span><span class=\"bp\">.</span><span class=\"mi\">1</span><span class=\"o\">,</span>\n    <span class=\"k\">have</span> <span class=\"n\">h3</span> <span class=\"o\">:</span> <span class=\"n\">null</span> <span class=\"n\">sub</span> <span class=\"n\">X</span><span class=\"o\">,</span>\n    <span class=\"o\">{</span> <span class=\"k\">assume</span> <span class=\"n\">u</span> <span class=\"o\">(</span><span class=\"n\">hu</span> <span class=\"o\">:</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">null</span><span class=\"o\">),</span>\n      <span class=\"n\">exact</span> <span class=\"o\">(</span><span class=\"n\">mem_null</span> <span class=\"bp\">_</span> <span class=\"n\">hu</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">elim</span> <span class=\"o\">},</span>\n    <span class=\"n\">suffices</span> <span class=\"n\">h4</span> <span class=\"o\">:</span> <span class=\"n\">null</span> <span class=\"n\">ε</span> <span class=\"n\">X</span> <span class=\"bp\">∧</span> <span class=\"n\">null</span> <span class=\"n\">sub</span> <span class=\"n\">X</span><span class=\"o\">,</span> <span class=\"k\">from</span> <span class=\"n\">mem_spec</span><span class=\"bp\">.</span><span class=\"mi\">2</span> <span class=\"n\">h4</span><span class=\"o\">,</span>\n    <span class=\"n\">exact</span> <span class=\"bp\">⟨</span><span class=\"n\">h2</span><span class=\"o\">,</span> <span class=\"n\">h3</span><span class=\"bp\">⟩</span> <span class=\"o\">},</span>\n  <span class=\"o\">{</span> <span class=\"k\">assume</span> <span class=\"n\">u</span> <span class=\"o\">(</span><span class=\"n\">h2</span> <span class=\"o\">:</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"o\">(</span><span class=\"n\">spec</span> <span class=\"o\">(</span><span class=\"bp\">λ</span><span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">x</span> <span class=\"n\">sub</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"n\">X</span><span class=\"o\">)),</span>\n    <span class=\"k\">show</span> <span class=\"n\">u</span> <span class=\"n\">U</span> <span class=\"o\">[</span><span class=\"n\">u</span><span class=\"o\">]</span> <span class=\"n\">ε</span> <span class=\"o\">(</span><span class=\"n\">spec</span> <span class=\"o\">(</span><span class=\"bp\">λ</span><span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">x</span> <span class=\"n\">sub</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"n\">X</span><span class=\"o\">),</span>\n    <span class=\"n\">suffices</span> <span class=\"n\">h3</span> <span class=\"o\">:</span> <span class=\"n\">u</span> <span class=\"n\">U</span> <span class=\"o\">[</span><span class=\"n\">u</span><span class=\"o\">]</span> <span class=\"n\">ε</span> <span class=\"n\">X</span> <span class=\"bp\">∧</span> <span class=\"n\">u</span> <span class=\"n\">U</span> <span class=\"o\">[</span><span class=\"n\">u</span><span class=\"o\">]</span> <span class=\"n\">sub</span> <span class=\"n\">X</span><span class=\"o\">,</span>\n    <span class=\"o\">{</span> <span class=\"n\">exact</span> <span class=\"o\">(</span><span class=\"n\">hQdef</span> <span class=\"o\">(</span><span class=\"n\">u</span> <span class=\"n\">U</span> <span class=\"o\">[</span><span class=\"n\">u</span><span class=\"o\">]))</span><span class=\"bp\">.</span><span class=\"mi\">2</span> <span class=\"n\">h3</span> <span class=\"o\">},</span>\n    <span class=\"n\">split</span><span class=\"o\">,</span>\n    <span class=\"o\">{</span> <span class=\"k\">show</span> <span class=\"n\">u</span> <span class=\"n\">U</span> <span class=\"o\">[</span><span class=\"n\">u</span><span class=\"o\">]</span> <span class=\"n\">ε</span> <span class=\"n\">X</span><span class=\"o\">,</span>\n      <span class=\"k\">from</span> <span class=\"o\">(</span><span class=\"n\">hX</span><span class=\"bp\">.</span><span class=\"mi\">2</span> <span class=\"n\">u</span><span class=\"o\">)</span> <span class=\"o\">((</span><span class=\"n\">hQdef</span> <span class=\"n\">u</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"mi\">1</span> <span class=\"n\">h2</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"mi\">1</span> <span class=\"o\">},</span>\n    <span class=\"o\">{</span> <span class=\"k\">show</span> <span class=\"n\">u</span> <span class=\"n\">U</span> <span class=\"o\">[</span><span class=\"n\">u</span><span class=\"o\">]</span> <span class=\"n\">sub</span> <span class=\"n\">X</span><span class=\"o\">,</span>\n      <span class=\"k\">have</span> <span class=\"n\">h6</span> <span class=\"o\">:</span> <span class=\"n\">u</span> <span class=\"n\">ε</span> <span class=\"n\">X</span> <span class=\"o\">:=</span> <span class=\"o\">((</span><span class=\"n\">hQdef</span> <span class=\"n\">u</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"mi\">1</span> <span class=\"n\">h2</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"mi\">1</span><span class=\"o\">,</span>\n      <span class=\"k\">have</span> <span class=\"n\">h7</span> <span class=\"o\">:</span> <span class=\"n\">u</span> <span class=\"n\">sub</span> <span class=\"n\">X</span> <span class=\"o\">:=</span> <span class=\"o\">((</span><span class=\"n\">hQdef</span> <span class=\"n\">u</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"mi\">1</span> <span class=\"n\">h2</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"mi\">2</span><span class=\"o\">,</span>\n      <span class=\"k\">assume</span> <span class=\"n\">x</span> <span class=\"o\">(</span><span class=\"n\">h8</span> <span class=\"o\">:</span> <span class=\"n\">x</span> <span class=\"n\">ε</span> <span class=\"o\">(</span><span class=\"n\">u</span> <span class=\"n\">U</span> <span class=\"o\">[</span><span class=\"n\">u</span><span class=\"o\">])),</span>\n      <span class=\"k\">show</span> <span class=\"n\">x</span> <span class=\"n\">ε</span> <span class=\"n\">X</span><span class=\"o\">,</span>\n      <span class=\"k\">have</span> <span class=\"n\">h9</span> <span class=\"o\">:</span> <span class=\"n\">x</span> <span class=\"n\">ε</span> <span class=\"n\">u</span> <span class=\"bp\">∨</span> <span class=\"n\">x</span> <span class=\"n\">ε</span> <span class=\"o\">[</span><span class=\"n\">u</span><span class=\"o\">]</span> <span class=\"o\">:=</span> <span class=\"n\">mem_union</span><span class=\"bp\">.</span><span class=\"mi\">1</span> <span class=\"n\">h8</span><span class=\"o\">,</span>\n      <span class=\"n\">cases</span> <span class=\"n\">h9</span> <span class=\"k\">with</span> <span class=\"n\">h10</span> <span class=\"n\">h11</span><span class=\"o\">,</span>\n      <span class=\"o\">{</span> <span class=\"n\">exact</span> <span class=\"o\">(</span><span class=\"n\">h7</span> <span class=\"n\">x</span><span class=\"o\">)</span> <span class=\"n\">h10</span> <span class=\"o\">},</span>\n      <span class=\"o\">{</span> <span class=\"k\">have</span> <span class=\"n\">h12</span> <span class=\"o\">:</span> <span class=\"n\">x</span> <span class=\"bp\">=</span> <span class=\"n\">u</span><span class=\"o\">,</span>\n        <span class=\"o\">{</span> <span class=\"n\">cases</span> <span class=\"n\">mem_pair</span><span class=\"bp\">.</span><span class=\"mi\">1</span> <span class=\"n\">h11</span> <span class=\"k\">with</span> <span class=\"n\">h3</span> <span class=\"n\">h3</span><span class=\"o\">,</span>\n          <span class=\"o\">{</span> <span class=\"n\">exact</span> <span class=\"n\">h3</span> <span class=\"o\">},</span>\n          <span class=\"o\">{</span> <span class=\"n\">exact</span> <span class=\"n\">h3</span> <span class=\"o\">}</span> <span class=\"o\">},</span>\n        <span class=\"k\">show</span> <span class=\"n\">x</span> <span class=\"n\">ε</span> <span class=\"n\">X</span><span class=\"o\">,</span>\n        <span class=\"n\">exact</span> <span class=\"n\">eq</span><span class=\"bp\">.</span><span class=\"n\">substr</span> <span class=\"n\">h12</span> <span class=\"n\">h6</span> <span class=\"o\">}</span> <span class=\"o\">}</span> <span class=\"o\">}</span>\n<span class=\"kn\">end</span>\n</pre></div>",
        "id": 193750844,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1586763170
    },
    {
        "content": "<p>how about don't use <code>axiom</code></p>",
        "id": 193750870,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1586763224
    },
    {
        "content": "<p>sure, but the replacement is harder to understand for a newbie</p>",
        "id": 193750919,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1586763257
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110049\">@Mario Carneiro</span>  Thanks for this, and apologies for the super late reply. Corona disrupted my routine and I didn't come around to reading this until now. Will be studying this.</p>",
        "id": 200060733,
        "sender_full_name": "Chris M",
        "timestamp": 1591595710
    }
]