[
    {
        "content": "<p>I notice <span class=\"user-mention\" data-user-id=\"110087\">@Scott Morrison</span> put up a nice short video on getting required dependencies, VS Code and Lean installed on Mac, here: <a href=\"https://www.youtube.com/watch?v=k8U6YOK7c0M\" target=\"_blank\" title=\"https://www.youtube.com/watch?v=k8U6YOK7c0M\">https://www.youtube.com/watch?v=k8U6YOK7c0M</a></p>\n<div class=\"youtube-video message_inline_image\"><a data-id=\"k8U6YOK7c0M\" href=\"https://www.youtube.com/watch?v=k8U6YOK7c0M\" target=\"_blank\" title=\"https://www.youtube.com/watch?v=k8U6YOK7c0M\"><img src=\"https://i.ytimg.com/vi/k8U6YOK7c0M/default.jpg\"></a></div>",
        "id": 135389084,
        "sender_full_name": "David Michael Roberts",
        "timestamp": 1538988674
    },
    {
        "content": "<p>I also rewrote my cheap Windows installation page: <a href=\"https://xenaproject.wordpress.com/a-cheap-hack-to-get-lean-and-mathlib-running-on-a-windows-10-machine/\" target=\"_blank\" title=\"https://xenaproject.wordpress.com/a-cheap-hack-to-get-lean-and-mathlib-running-on-a-windows-10-machine/\">https://xenaproject.wordpress.com/a-cheap-hack-to-get-lean-and-mathlib-running-on-a-windows-10-machine/</a> . I intend over the next day or two to make a link at the top of my blog pointing to various installation pages / posts, which are now randomly scattered online.</p>",
        "id": 135389378,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1538989011
    },
    {
        "content": "<p>I'm still going to make the corresponding video for installation on Windows!</p>",
        "id": 135391640,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1538992186
    },
    {
        "content": "<p>Be sure to ping me when you do. I am expecting this question to come up a fair bit at Imperial over the next few weeks</p>",
        "id": 135392629,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1538993497
    },
    {
        "content": "<p>Okay, the video for installing on Windows 10 is now up! <a href=\"https://www.youtube.com/watch?v=2f_9Zetekd8&amp;feature=youtu.be\" target=\"_blank\" title=\"https://www.youtube.com/watch?v=2f_9Zetekd8&amp;feature=youtu.be\">https://www.youtube.com/watch?v=2f_9Zetekd8&amp;feature=youtu.be</a></p>\n<div class=\"youtube-video message_inline_image\"><a data-id=\"2f_9Zetekd8\" href=\"https://www.youtube.com/watch?v=2f_9Zetekd8&amp;feature=youtu.be\" target=\"_blank\" title=\"https://www.youtube.com/watch?v=2f_9Zetekd8&amp;feature=youtu.be\"><img src=\"https://i.ytimg.com/vi/2f_9Zetekd8/default.jpg\"></a></div>",
        "id": 135441893,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1539056149
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span> Would it be possible for you to write a page for mathlib that links to the various tutorials and videos for installing lean and/or mathlib?</p>",
        "id": 135445219,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1539062180
    },
    {
        "content": "<p>I will try to find the time today. On this thread we have Scott's two videos, there are my cheap and less cheap blog posts, there is some elan link somewhere... Is that it?</p>",
        "id": 135446958,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1539065343
    },
    {
        "content": "<p>There's the official instructions of course!</p>",
        "id": 135446966,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1539065358
    },
    {
        "content": "<p>It would also be good to have follow on instructions for people who followed Scott's instructions and want mathlib</p>",
        "id": 135447815,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1539066729
    },
    {
        "content": "<p>Yes, I was thinking that's a separate video, that applies equally on Windows and macos, because it happens entirely within VS Code.</p>",
        "id": 135448769,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1539068335
    },
    {
        "content": "<p>(That's part of the reason for setting up a usable terminal on Windows, so afterwards everything can be done from VS Code.)</p>",
        "id": 135448783,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1539068362
    },
    {
        "content": "<p>(Although it occurs to me the Windows video should have included that one extra step, to hook up git bash as the default terminal instead of powershell.)</p>",
        "id": 135448790,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1539068395
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"130308\">@Neil Strickland</span> This thread contains two videos with installation instructions. Kevin is also updating his instructions. Would you mind adding links to these videos etc on your MO post? I think you pointed out a very good issue (that installation was horribly difficult). I also hope that we are addressing them now. What do you think?</p>",
        "id": 135451532,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1539072534
    },
    {
        "content": "<p>Maybe the windows video should go in its own topic, for ease of finding?</p>",
        "id": 135459174,
        "sender_full_name": "David Michael Roberts",
        "timestamp": 1539082146
    },
    {
        "content": "<p>Hopefully there will be permanent links to these soon from more prominent places...</p>",
        "id": 135460140,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1539083191
    },
    {
        "content": "<p>I am just going to have an \"installing lean\" link at the top of my blog with multiple options</p>",
        "id": 135464799,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1539088041
    },
    {
        "content": "<p>OK, so I have actually installed Lean and VS code as per <span class=\"user-mention\" data-user-id=\"110087\">@Scott Morrison</span> 's video, and now want to do some mathlibbing. But I am told by <span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span> 's post <a href=\"https://xenaproject.wordpress.com/2017/12/02/how-to-install-mathlib-and-keep-it-up-to-date/\" target=\"_blank\" title=\"https://xenaproject.wordpress.com/2017/12/02/how-to-install-mathlib-and-keep-it-up-to-date/\">https://xenaproject.wordpress.com/2017/12/02/how-to-install-mathlib-and-keep-it-up-to-date/</a> that I probably am better off with the nightly build of lean, so that mathlib will have the latest and greatest stuff.  After following the instructions at that post:</p>\n<div class=\"codehilite\"><pre><span></span>leanpkg new my_project\ncd my_project\nleanpkg add https://github.com/leanprover/mathlib\nleanpkg build\n</pre></div>\n\n\n<p>I get</p>\n<div class=\"codehilite\"><pre><span></span>davidroberts$ leanpkg build\nconfiguring my_project 0.1\nmathlib: trying to update _target/deps/mathlib to revision 905345a2ceaa5d0c7bc2f6310026961416b2cae4\n&gt; git checkout --detach 905345a2ceaa5d0c7bc2f6310026961416b2cae4    # in directory _target/deps/mathlib\nHEAD is now at 905345a fix(data/array/lemmas,...): fix build\n&gt; lean --make src\n</pre></div>\n\n\n<p>and this was much much quicker than I thought it would be. Is it working or no?</p>",
        "id": 135518661,
        "sender_full_name": "David Michael Roberts",
        "timestamp": 1539147061
    },
    {
        "content": "<p>It could well be.</p>",
        "id": 135518670,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1539147088
    },
    {
        "content": "<p>leanpkg build, and lean --make src don't compile all of mathlib</p>",
        "id": 135518672,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1539147099
    },
    {
        "content": "<p>They only compile those parts of it which are imported by some file in <code>src/</code>.</p>",
        "id": 135518674,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1539147109
    },
    {
        "content": "<p>This might mean nothing at all at the moment.</p>",
        "id": 135518675,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1539147116
    },
    {
        "content": "<p>Add a file under <code>src/</code> that imports, e.g. <code>data.nat.prime</code>.</p>",
        "id": 135518716,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1539147129
    },
    {
        "content": "<p><em>However</em>, what you did _still_ doesn't get you the latest and greatest version of mathlib.</p>",
        "id": 135518742,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1539147237
    },
    {
        "content": "<p>:-(</p>",
        "id": 135518743,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1539147238
    },
    {
        "content": "<p>If you look up that git commit hash you'll see it's from June 21.</p>",
        "id": 135518785,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1539147261
    },
    {
        "content": "<p>This is because <code>leanpkg</code> is taking you to the latest commit on the <code>lean-3.4.1</code> branch, which for some reason (<span class=\"user-mention\" data-user-id=\"110049\">@Mario Carneiro</span> ?) never gets updated?</p>",
        "id": 135518791,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1539147297
    },
    {
        "content": "<p>(We _really_ need to fix this issue.)</p>",
        "id": 135518799,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1539147308
    },
    {
        "content": "<p>Don't blame me, Kevin wanted it to stay still</p>",
        "id": 135518803,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1539147330
    },
    {
        "content": "<p>To get the actual latest version, you should edit your <code>leanpkg.toml</code> file.</p>",
        "id": 135518805,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1539147333
    },
    {
        "content": "<p>I guess it points to something like the earliest commit compatible with 3.4.1?</p>",
        "id": 135518808,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1539147354
    },
    {
        "content": "<p>And replace the line <code>lean_version = ...</code> with <code>lean_version = \"nightly-2018-08-23\"</code>.</p>",
        "id": 135518868,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1539147418
    },
    {
        "content": "<p>(I better make another video. :-)</p>",
        "id": 135518879,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1539147431
    },
    {
        "content": "<p>Aha, doing <code>leanpkg build</code> after adding a file to <code>src/</code>containing <code>import data.nat.prime</code> (plus an <code>#eval 2+2</code>) makes it do a lot more</p>",
        "id": 135518883,
        "sender_full_name": "David Michael Roberts",
        "timestamp": 1539147440
    },
    {
        "content": "<blockquote>\n<p>And replace the line <code>lean_version = ...</code> with <code>lean_version = \"nightly-2018-08-23\"</code>.</p>\n</blockquote>\n<p>ah, ok! I'll do that once the current build has finished</p>",
        "id": 135518898,
        "sender_full_name": "David Michael Roberts",
        "timestamp": 1539147477
    },
    {
        "content": "<p>I wonder if <span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span> cares about where <code>lean-3.4.1</code> points, anymore.</p>",
        "id": 135518938,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1539147495
    },
    {
        "content": "<p>If he doesn't, do you think we can keep it closer to master, <span class=\"user-mention\" data-user-id=\"110049\">@Mario Carneiro</span> ?</p>",
        "id": 135518943,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1539147509
    },
    {
        "content": "<p>I guess, but how close?</p>",
        "id": 135518945,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1539147527
    },
    {
        "content": "<p>As often as you can be bothered pushing it?</p>",
        "id": 135518952,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1539147545
    },
    {
        "content": "<p>Have a script that keeps it right up to master??</p>",
        "id": 135518957,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1539147557
    },
    {
        "content": "<p>Well, that's doing something.</p>",
        "id": 135519039,
        "sender_full_name": "David Michael Roberts",
        "timestamp": 1539147681
    },
    {
        "content": "<p>Question: why the nightly from the 21st of June?</p>",
        "id": 135519041,
        "sender_full_name": "David Michael Roberts",
        "timestamp": 1539147693
    },
    {
        "content": "<p>Oh ...</p>",
        "id": 135519082,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1539147725
    },
    {
        "content": "<p>Is that the 'latest and greatest' version of mathlib?</p>",
        "id": 135519097,
        "sender_full_name": "David Michael Roberts",
        "timestamp": 1539147757
    },
    {
        "content": "<p>No.</p>",
        "id": 135519100,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1539147769
    },
    {
        "content": "<p>These nightlies are versions of <em>Lean</em>, not of mathlib.</p>",
        "id": 135519113,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1539147798
    },
    {
        "content": "<p>mathlib changes most days!</p>",
        "id": 135519119,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1539147803
    },
    {
        "content": "<p>I've just edited my instruction above. You should use <code>nightly-2018-08-23</code>.</p>",
        "id": 135519125,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1539147815
    },
    {
        "content": "<p>(And maybe even edit your message above where you quoted me, so we can completely rewrite history. :-)</p>",
        "id": 135519133,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1539147834
    },
    {
        "content": "<p>Done!</p>",
        "id": 135519181,
        "sender_full_name": "David Michael Roberts",
        "timestamp": 1539147876
    },
    {
        "content": "<p>I now have <code>nightly-2018-08-23</code>, thanks!</p>",
        "id": 135519295,
        "sender_full_name": "David Michael Roberts",
        "timestamp": 1539148099
    },
    {
        "content": "<p>The \"you're better off with the nightly build\" comment was from when Lean 3.4 was changing a lot, and mathlib would change to keep up with Lean. This is all much less of an issue nowadays.</p>",
        "id": 135521818,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1539152638
    },
    {
        "content": "<blockquote>\n<p>Don't blame me, Kevin wanted it to stay still</p>\n</blockquote>\n<p>I wanted it to stay still between June and September. Thank you <em>very</em> much Mario for making it stay still over my summer project. I now really really don't want it to stay still any more for the simple reason that it is causing constant confusion amongst users.</p>",
        "id": 135521864,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1539152700
    },
    {
        "content": "<p>Can we just delete the branch <span class=\"user-mention\" data-user-id=\"110049\">@Mario Carneiro</span> or will this cause a new kind of confusion amongst users?</p>",
        "id": 135521928,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1539152840
    },
    {
        "content": "<p>No, it ties in to the way leanpkg works</p>",
        "id": 135521931,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1539152854
    },
    {
        "content": "<p>I think leanpkg gets even more confused if it's not there at all</p>",
        "id": 135521933,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1539152870
    },
    {
        "content": "<p>I was fearing this. Can we get it to track master somehow?</p>",
        "id": 135521975,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1539152888
    },
    {
        "content": "<p>Does someone want to write a git hook so that when I commit to master lean-3.4.1 moves too?</p>",
        "id": 135521976,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1539152890
    }
]