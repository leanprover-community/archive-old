[
    {
        "content": "<p>I'm working through the exercises in TIPL and am having trouble with some of the exercises</p>\n<p><a href=\"https://github.com/leanprover-community/mathlib/issues/3\" target=\"_blank\" title=\"https://github.com/leanprover-community/mathlib/issues/3\">#3</a>.1 </p>\n<p>Q1:I'm getting an error on the or.elim in the following code. Lean is saying that it's expecting a type  p∨q but is getting type q∨p. </p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kn\">example</span> <span class=\"o\">:</span> <span class=\"n\">p</span> <span class=\"bp\">∨</span> <span class=\"n\">q</span> <span class=\"bp\">↔</span> <span class=\"n\">q</span> <span class=\"bp\">∨</span> <span class=\"n\">p</span> <span class=\"o\">:=</span>\n  <span class=\"n\">iff</span><span class=\"bp\">.</span><span class=\"n\">intro</span> <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">h</span> <span class=\"o\">:</span> <span class=\"n\">p</span> <span class=\"bp\">∨</span> <span class=\"n\">q</span><span class=\"o\">,</span> <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">elim</span> <span class=\"n\">h</span>\n    <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">hp</span> <span class=\"o\">:</span> <span class=\"n\">p</span><span class=\"o\">,</span> <span class=\"k\">show</span> <span class=\"n\">q</span> <span class=\"bp\">∨</span> <span class=\"n\">p</span><span class=\"o\">,</span> <span class=\"k\">from</span> <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">intro_right</span> <span class=\"n\">q</span> <span class=\"n\">hp</span><span class=\"o\">)</span>\n    <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">hq</span> <span class=\"o\">:</span> <span class=\"n\">q</span><span class=\"o\">,</span> <span class=\"k\">show</span> <span class=\"n\">q</span> <span class=\"bp\">∨</span> <span class=\"n\">p</span><span class=\"o\">,</span> <span class=\"k\">from</span> <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">intro_left</span> <span class=\"n\">p</span> <span class=\"n\">hq</span><span class=\"o\">))</span>\n  <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">h2</span> <span class=\"o\">:</span> <span class=\"n\">q</span> <span class=\"bp\">∨</span> <span class=\"n\">p</span><span class=\"o\">,</span> <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">elim</span> <span class=\"n\">h2</span>\n    <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">hq</span> <span class=\"o\">:</span> <span class=\"n\">q</span><span class=\"o\">,</span> <span class=\"k\">show</span> <span class=\"n\">q</span> <span class=\"bp\">∨</span> <span class=\"n\">p</span><span class=\"o\">,</span> <span class=\"k\">from</span> <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">intro_left</span> <span class=\"n\">p</span> <span class=\"n\">hq</span><span class=\"o\">)</span>\n    <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">hp</span> <span class=\"o\">:</span> <span class=\"n\">p</span><span class=\"o\">,</span> <span class=\"k\">show</span> <span class=\"n\">q</span> <span class=\"bp\">∨</span> <span class=\"n\">p</span><span class=\"o\">,</span> <span class=\"k\">from</span> <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">intro_right</span> <span class=\"n\">q</span> <span class=\"n\">hp</span><span class=\"o\">))</span>\n</pre></div>\n\n\n<p>Q2: I'm getting type mismatch errors again for <code>show</code> and <code>or.intro</code> in the last line of this exercise. </p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kn\">example</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">∨</span> <span class=\"n\">q</span><span class=\"o\">)</span> <span class=\"bp\">∨</span> <span class=\"n\">r</span> <span class=\"bp\">↔</span> <span class=\"n\">p</span> <span class=\"bp\">∨</span> <span class=\"o\">(</span><span class=\"n\">q</span> <span class=\"bp\">∨</span> <span class=\"n\">r</span><span class=\"o\">)</span> <span class=\"o\">:=</span>\n  <span class=\"n\">iff</span><span class=\"bp\">.</span><span class=\"n\">intro</span>\n    <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">h</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">∨</span> <span class=\"n\">q</span><span class=\"o\">)</span> <span class=\"bp\">∨</span> <span class=\"n\">r</span><span class=\"o\">,</span> <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">elim</span> <span class=\"n\">h</span>\n      <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">hpq</span> <span class=\"o\">:</span> <span class=\"n\">p</span> <span class=\"bp\">∨</span> <span class=\"n\">q</span><span class=\"o\">,</span> <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">elim</span> <span class=\"n\">hpq</span>\n        <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">hp</span> <span class=\"o\">:</span> <span class=\"n\">p</span><span class=\"o\">,</span> <span class=\"k\">show</span> <span class=\"n\">p</span> <span class=\"bp\">∨</span> <span class=\"o\">(</span><span class=\"n\">q</span> <span class=\"bp\">∨</span> <span class=\"n\">r</span><span class=\"o\">),</span> <span class=\"k\">from</span> <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">intro_left</span> <span class=\"n\">p</span> <span class=\"n\">hp</span><span class=\"o\">)))</span>\n</pre></div>",
        "id": 189827803,
        "sender_full_name": "Rocky Kamen-Rubio",
        "timestamp": 1583436788
    },
    {
        "content": "<p>Q1: the error is indeed expected. Do you know what the second input to the <code>iff.intro</code> is supposed to be a proof of? And can you see what you're proving?</p>",
        "id": 189829479,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1583437822
    },
    {
        "content": "<p>Q2: your term is not really complete so it's not surprising you have errors. Why not put in some <code>_</code>s or <code>sorry</code>s to make the term compile?</p>",
        "id": 189829539,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1583437873
    },
    {
        "content": "<p>But honestly these \"verbose mode\" things are hell to debug. Why not use full term mode or full tactic mode?</p>",
        "id": 189829579,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1583437915
    },
    {
        "content": "<p>For Q2 the full errors tell you exactly what you are doing wrong. Lean tells you exactly what it expects you to be proving and what you are proving.</p>",
        "id": 189829696,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1583437984
    },
    {
        "content": "<p>The <code>show</code> is fine, Lean is just confused by the fact that you made an error later. Can you understand the error message?</p>",
        "id": 189830145,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1583438291
    },
    {
        "content": "<p>Q1: I thought the second input to iff.intro was just in the \"other direction\", so wouldn't it work essentially the same as the first input but with the p and q reversed?</p>\n<p>Q2: You're right, I missed a whole chunk of code when I copied it over. Here is the full proof. The errors still hold though</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kn\">example</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">∨</span> <span class=\"n\">q</span><span class=\"o\">)</span> <span class=\"bp\">∨</span> <span class=\"n\">r</span> <span class=\"bp\">↔</span> <span class=\"n\">p</span> <span class=\"bp\">∨</span> <span class=\"o\">(</span><span class=\"n\">q</span> <span class=\"bp\">∨</span> <span class=\"n\">r</span><span class=\"o\">)</span> <span class=\"o\">:=</span>\n  <span class=\"n\">iff</span><span class=\"bp\">.</span><span class=\"n\">intro</span>\n    <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">h</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">∨</span> <span class=\"n\">q</span><span class=\"o\">)</span> <span class=\"bp\">∨</span> <span class=\"n\">r</span><span class=\"o\">,</span> <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">elim</span> <span class=\"n\">h</span>\n      <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">hpq</span> <span class=\"o\">:</span> <span class=\"n\">p</span> <span class=\"bp\">∨</span> <span class=\"n\">q</span><span class=\"o\">,</span> <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">elim</span> <span class=\"n\">hpq</span>\n        <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">hp</span> <span class=\"o\">:</span> <span class=\"n\">p</span><span class=\"o\">,</span> <span class=\"k\">show</span> <span class=\"n\">p</span> <span class=\"bp\">∨</span> <span class=\"o\">(</span><span class=\"n\">q</span> <span class=\"bp\">∨</span> <span class=\"n\">r</span><span class=\"o\">),</span> <span class=\"k\">from</span> <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">intro_left</span> <span class=\"n\">p</span> <span class=\"n\">hp</span><span class=\"o\">)</span>\n        <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">hq</span> <span class=\"o\">:</span> <span class=\"n\">q</span><span class=\"o\">,</span> <span class=\"k\">show</span> <span class=\"n\">p</span> <span class=\"bp\">∨</span> <span class=\"o\">(</span><span class=\"n\">q</span> <span class=\"bp\">∨</span> <span class=\"n\">r</span><span class=\"o\">),</span> <span class=\"k\">from</span> <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">intro_right</span> <span class=\"o\">(</span><span class=\"n\">q</span> <span class=\"bp\">∨</span> <span class=\"n\">r</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">intro_left</span> <span class=\"n\">q</span> <span class=\"n\">hq</span><span class=\"o\">)))</span>\n      <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">hr</span> <span class=\"o\">:</span> <span class=\"n\">r</span><span class=\"o\">,</span> <span class=\"k\">show</span> <span class=\"n\">p</span> <span class=\"bp\">∨</span> <span class=\"o\">(</span><span class=\"n\">q</span> <span class=\"bp\">∨</span> <span class=\"n\">r</span><span class=\"o\">),</span> <span class=\"k\">from</span> <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">intro</span> <span class=\"o\">(</span><span class=\"n\">q</span> <span class=\"bp\">∨</span> <span class=\"n\">r</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">intro_left</span> <span class=\"n\">r</span> <span class=\"n\">hr</span><span class=\"o\">)))</span>\n    <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">h2</span> <span class=\"o\">:</span> <span class=\"n\">p</span> <span class=\"bp\">∨</span> <span class=\"o\">(</span><span class=\"n\">q</span> <span class=\"bp\">∨</span> <span class=\"n\">r</span><span class=\"o\">),</span> <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">elim</span> <span class=\"n\">h2</span>\n      <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">hp</span> <span class=\"o\">:</span> <span class=\"n\">p</span><span class=\"o\">,</span> <span class=\"k\">show</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">∨</span> <span class=\"n\">q</span><span class=\"o\">)</span> <span class=\"bp\">∨</span> <span class=\"n\">r</span><span class=\"o\">,</span> <span class=\"k\">from</span> <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">intro_left</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">∨</span> <span class=\"n\">q</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">intro_left</span> <span class=\"n\">p</span> <span class=\"n\">hp</span><span class=\"o\">))</span>\n      <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">hqr</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">q</span> <span class=\"bp\">∨</span> <span class=\"n\">r</span><span class=\"o\">),</span> <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">elim</span> <span class=\"n\">hqr</span>\n        <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">hq</span> <span class=\"o\">:</span> <span class=\"n\">q</span><span class=\"o\">,</span> <span class=\"k\">show</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">∨</span> <span class=\"n\">q</span><span class=\"o\">)</span> <span class=\"bp\">∨</span> <span class=\"n\">r</span><span class=\"o\">,</span> <span class=\"k\">from</span> <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">intro_left</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">∨</span> <span class=\"n\">q</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">intro_right</span> <span class=\"n\">q</span> <span class=\"n\">hq</span><span class=\"o\">))</span>\n        <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">hr</span> <span class=\"o\">:</span> <span class=\"n\">r</span><span class=\"o\">,</span> <span class=\"k\">show</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">∨</span> <span class=\"n\">q</span><span class=\"o\">)</span> <span class=\"bp\">∨</span> <span class=\"n\">r</span><span class=\"o\">,</span> <span class=\"k\">from</span> <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">intro_right</span> <span class=\"n\">r</span> <span class=\"n\">hr</span><span class=\"o\">)))</span>\n</pre></div>\n\n\n<p>Do you think it isn't productive to practice these proofs outside of tactic mode? I feel somewhat comfortable with tactic mode, but wanted to fully understand TIPL since I feel like I still don't understand a lot of what's going on in the chat/in other definitions I try to use. .</p>",
        "id": 189830871,
        "sender_full_name": "Rocky Kamen-Rubio",
        "timestamp": 1583438755
    },
    {
        "content": "<p>Q3: I'm getting a term mismatch for the two assume statements I'm passing intro <code>iff.intro</code>. I think I'm misunderstanding how iff.intro works more generally. Any guidance would be appreciated.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kn\">example</span> <span class=\"o\">:</span> <span class=\"n\">p</span> <span class=\"bp\">∧</span> <span class=\"o\">(</span><span class=\"n\">q</span> <span class=\"bp\">∨</span> <span class=\"n\">r</span><span class=\"o\">)</span> <span class=\"bp\">↔</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">∧</span> <span class=\"n\">q</span><span class=\"o\">)</span> <span class=\"bp\">∨</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">∧</span> <span class=\"n\">r</span><span class=\"o\">)</span> <span class=\"o\">:=</span>\n<span class=\"n\">iff</span><span class=\"bp\">.</span><span class=\"n\">intro</span>\n  <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">h</span> <span class=\"o\">:</span> <span class=\"n\">p</span> <span class=\"bp\">∧</span> <span class=\"o\">(</span><span class=\"n\">q</span> <span class=\"bp\">∨</span> <span class=\"n\">r</span><span class=\"o\">),</span>\n  <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">elim</span> <span class=\"o\">(</span><span class=\"n\">and</span><span class=\"bp\">.</span><span class=\"n\">right</span> <span class=\"n\">h</span><span class=\"o\">),</span>\n    <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">hq</span> <span class=\"o\">:</span> <span class=\"n\">q</span><span class=\"o\">,</span> <span class=\"k\">show</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">∧</span> <span class=\"n\">q</span><span class=\"o\">)</span> <span class=\"bp\">∨</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">∧</span> <span class=\"n\">r</span><span class=\"o\">),</span>\n    <span class=\"k\">from</span> <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">intro_left</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">∧</span> <span class=\"n\">q</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">and</span><span class=\"bp\">.</span><span class=\"n\">intro</span> <span class=\"o\">(</span><span class=\"n\">and</span><span class=\"bp\">.</span><span class=\"n\">left</span> <span class=\"n\">h</span><span class=\"o\">)</span>  <span class=\"n\">hq</span><span class=\"o\">))</span>\n    <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">hr</span> <span class=\"o\">:</span> <span class=\"n\">r</span><span class=\"o\">,</span> <span class=\"k\">show</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">∧</span> <span class=\"n\">q</span><span class=\"o\">)</span> <span class=\"bp\">∨</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">∧</span> <span class=\"n\">r</span><span class=\"o\">),</span>\n    <span class=\"k\">from</span> <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">intro_right</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">∧</span> <span class=\"n\">r</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">and</span><span class=\"bp\">.</span><span class=\"n\">intro</span> <span class=\"o\">(</span><span class=\"n\">and</span><span class=\"bp\">.</span><span class=\"n\">left</span> <span class=\"n\">h</span><span class=\"o\">)</span>  <span class=\"n\">hr</span><span class=\"o\">)))</span>\n  <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">h</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">∧</span> <span class=\"n\">q</span><span class=\"o\">)</span> <span class=\"bp\">∨</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">∧</span> <span class=\"n\">r</span><span class=\"o\">),</span>\n  <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">elim</span> <span class=\"n\">h</span><span class=\"o\">,</span>\n    <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">hpq</span> <span class=\"o\">:</span> <span class=\"n\">p</span> <span class=\"bp\">∧</span> <span class=\"n\">q</span><span class=\"o\">,</span> <span class=\"k\">show</span> <span class=\"n\">p</span> <span class=\"bp\">∧</span> <span class=\"o\">(</span><span class=\"n\">q</span> <span class=\"bp\">∨</span> <span class=\"n\">r</span><span class=\"o\">),</span>\n    <span class=\"k\">from</span> <span class=\"n\">and</span><span class=\"bp\">.</span><span class=\"n\">intro</span> <span class=\"o\">(</span><span class=\"n\">and</span><span class=\"bp\">.</span><span class=\"n\">left</span> <span class=\"n\">hpq</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">intro_left</span> <span class=\"n\">q</span> <span class=\"o\">(</span><span class=\"n\">and</span><span class=\"bp\">.</span><span class=\"n\">right</span> <span class=\"n\">hpq</span><span class=\"o\">)))</span>\n    <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">hpr</span> <span class=\"o\">:</span> <span class=\"n\">p</span> <span class=\"bp\">∧</span> <span class=\"n\">r</span><span class=\"o\">,</span> <span class=\"k\">show</span> <span class=\"n\">p</span> <span class=\"bp\">∧</span> <span class=\"o\">(</span><span class=\"n\">q</span> <span class=\"bp\">∨</span> <span class=\"n\">r</span><span class=\"o\">),</span>\n    <span class=\"k\">from</span> <span class=\"n\">and</span><span class=\"bp\">.</span><span class=\"n\">intro</span> <span class=\"o\">(</span><span class=\"n\">and</span><span class=\"bp\">.</span><span class=\"n\">left</span> <span class=\"n\">hpr</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">intro_left</span> <span class=\"n\">r</span> <span class=\"o\">(</span><span class=\"n\">and</span><span class=\"bp\">.</span><span class=\"n\">right</span> <span class=\"n\">hpr</span><span class=\"o\">))))</span>\n</pre></div>",
        "id": 189830992,
        "sender_full_name": "Rocky Kamen-Rubio",
        "timestamp": 1583438851
    },
    {
        "content": "<p>I personally have never seen the point of this super-verbose term mode. But others clearly think differently because it's explained in TPIL!</p>",
        "id": 189832715,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1583440058
    },
    {
        "content": "<p>Your Q3 the errors are a real mess and I just look at all this super-verbose term mode and think \"if this was my problem I'd just start again\"</p>",
        "id": 189832846,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1583440145
    },
    {
        "content": "<p>I'm sure it's possible to debug but I don't fancy it</p>",
        "id": 189832880,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1583440170
    },
    {
        "content": "<p>The error</p>\n<div class=\"codehilite\"><pre><span></span>  type mismatch, term\n    (?m_3, ?m_4)\n  has type\n    ?m_1 × ?m_2 : Type (max ? ?)\n  but is expected to have type\n    p ∧ (q ∨ r) → p ∧ q ∨ p ∧ r : Prop\n</pre></div>\n\n\n<p>just indicates that you've got the brackets wrong somewhere.</p>",
        "id": 189833132,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1583440319
    },
    {
        "content": "<p>I would start like this:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kn\">example</span> <span class=\"o\">:</span> <span class=\"n\">p</span> <span class=\"bp\">∧</span> <span class=\"o\">(</span><span class=\"n\">q</span> <span class=\"bp\">∨</span> <span class=\"n\">r</span><span class=\"o\">)</span> <span class=\"bp\">↔</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">∧</span> <span class=\"n\">q</span><span class=\"o\">)</span> <span class=\"bp\">∨</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">∧</span> <span class=\"n\">r</span><span class=\"o\">)</span> <span class=\"o\">:=</span>\n<span class=\"n\">iff</span><span class=\"bp\">.</span><span class=\"n\">intro</span> <span class=\"bp\">_</span> <span class=\"bp\">_</span>\n</pre></div>\n\n\n<p>and I'd just keep checking that the errors were not insane at all stages.</p>",
        "id": 189833269,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1583440385
    },
    {
        "content": "<p>As Kevin says, there's a way to build up proofs of simple logical propositions like this by \"chasing underscores\". I worked through a different example <a href=\"#narrow/stream/113489-new-members/topic/basics/near/185070320\" title=\"#narrow/stream/113489-new-members/topic/basics/near/185070320\">here</a> and in another post linked there.</p>",
        "id": 189833320,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1583440440
    },
    {
        "content": "<p>I resolve Q2. I misread how <code>or.intro</code> is defined. Its first input should be the type of the term NOT being exacted. Fixing this now makes the proof compile successfully. </p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kn\">example</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">∨</span> <span class=\"n\">q</span><span class=\"o\">)</span> <span class=\"bp\">∨</span> <span class=\"n\">r</span> <span class=\"bp\">↔</span> <span class=\"n\">p</span> <span class=\"bp\">∨</span> <span class=\"o\">(</span><span class=\"n\">q</span> <span class=\"bp\">∨</span> <span class=\"n\">r</span><span class=\"o\">)</span> <span class=\"o\">:=</span>\n  <span class=\"n\">iff</span><span class=\"bp\">.</span><span class=\"n\">intro</span>\n    <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">h</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">∨</span> <span class=\"n\">q</span><span class=\"o\">)</span> <span class=\"bp\">∨</span> <span class=\"n\">r</span><span class=\"o\">,</span> <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">elim</span> <span class=\"n\">h</span>\n      <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">hpq</span> <span class=\"o\">:</span> <span class=\"n\">p</span> <span class=\"bp\">∨</span> <span class=\"n\">q</span><span class=\"o\">,</span> <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">elim</span> <span class=\"n\">hpq</span>\n        <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">hp</span> <span class=\"o\">:</span> <span class=\"n\">p</span><span class=\"o\">,</span> <span class=\"k\">show</span> <span class=\"n\">p</span> <span class=\"bp\">∨</span> <span class=\"o\">(</span><span class=\"n\">q</span> <span class=\"bp\">∨</span> <span class=\"n\">r</span><span class=\"o\">),</span> <span class=\"k\">from</span> <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">intro_left</span> <span class=\"o\">(</span><span class=\"n\">q</span> <span class=\"bp\">∨</span> <span class=\"n\">r</span><span class=\"o\">)</span> <span class=\"n\">hp</span><span class=\"o\">)</span>\n        <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">hq</span> <span class=\"o\">:</span> <span class=\"n\">q</span><span class=\"o\">,</span> <span class=\"k\">show</span> <span class=\"n\">p</span> <span class=\"bp\">∨</span> <span class=\"o\">(</span><span class=\"n\">q</span> <span class=\"bp\">∨</span> <span class=\"n\">r</span><span class=\"o\">),</span> <span class=\"k\">from</span> <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">intro_right</span> <span class=\"n\">p</span> <span class=\"o\">(</span><span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">intro_left</span> <span class=\"n\">r</span> <span class=\"n\">hq</span><span class=\"o\">)))</span>\n      <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">hr</span> <span class=\"o\">:</span> <span class=\"n\">r</span><span class=\"o\">,</span> <span class=\"k\">show</span> <span class=\"n\">p</span> <span class=\"bp\">∨</span> <span class=\"o\">(</span><span class=\"n\">q</span> <span class=\"bp\">∨</span> <span class=\"n\">r</span><span class=\"o\">),</span> <span class=\"k\">from</span> <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">intro_right</span> <span class=\"n\">p</span> <span class=\"o\">(</span><span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">intro_right</span> <span class=\"n\">q</span> <span class=\"n\">hr</span><span class=\"o\">)))</span>\n    <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">h2</span> <span class=\"o\">:</span> <span class=\"n\">p</span> <span class=\"bp\">∨</span> <span class=\"o\">(</span><span class=\"n\">q</span> <span class=\"bp\">∨</span> <span class=\"n\">r</span><span class=\"o\">),</span> <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">elim</span> <span class=\"n\">h2</span>\n      <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">hp</span> <span class=\"o\">:</span> <span class=\"n\">p</span><span class=\"o\">,</span> <span class=\"k\">show</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">∨</span> <span class=\"n\">q</span><span class=\"o\">)</span> <span class=\"bp\">∨</span> <span class=\"n\">r</span><span class=\"o\">,</span> <span class=\"k\">from</span> <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">intro_left</span> <span class=\"n\">r</span> <span class=\"o\">(</span><span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">intro_left</span> <span class=\"n\">q</span> <span class=\"n\">hp</span><span class=\"o\">))</span>\n      <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">hqr</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">q</span> <span class=\"bp\">∨</span> <span class=\"n\">r</span><span class=\"o\">),</span> <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">elim</span> <span class=\"n\">hqr</span>\n        <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">hq</span> <span class=\"o\">:</span> <span class=\"n\">q</span><span class=\"o\">,</span> <span class=\"k\">show</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">∨</span> <span class=\"n\">q</span><span class=\"o\">)</span> <span class=\"bp\">∨</span> <span class=\"n\">r</span><span class=\"o\">,</span> <span class=\"k\">from</span> <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">intro_left</span> <span class=\"n\">r</span> <span class=\"o\">(</span><span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">intro_right</span> <span class=\"n\">p</span> <span class=\"n\">hq</span><span class=\"o\">))</span>\n        <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">hr</span> <span class=\"o\">:</span> <span class=\"n\">r</span><span class=\"o\">,</span> <span class=\"k\">show</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">∨</span> <span class=\"n\">q</span><span class=\"o\">)</span> <span class=\"bp\">∨</span> <span class=\"n\">r</span><span class=\"o\">,</span> <span class=\"k\">from</span> <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">intro_right</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">∨</span> <span class=\"n\">q</span><span class=\"o\">)</span> <span class=\"n\">hr</span><span class=\"o\">)))</span>\n</pre></div>",
        "id": 189834369,
        "sender_full_name": "Rocky Kamen-Rubio",
        "timestamp": 1583441052
    },
    {
        "content": "<p>Q4: I'm confused how to handle an implication in the assumption of another implication, such as <code>example : (((p → q) → p) → p) :=  sorry</code>. I get intuitively that if we can get p out of p implying q, that means that p must always be true because \"p implies q\" doesn't give us p on its own. I don't see how we could translate that into lean though. I was thinking about doing a <code>by_cases</code> since this is in the classical logic section, but I feel like I don't have good tools to work with a variable like <code>((p → q) → p)</code>.</p>",
        "id": 189837526,
        "sender_full_name": "Rocky Kamen-Rubio",
        "timestamp": 1583443116
    },
    {
        "content": "<p>do cases on <code>p</code></p>",
        "id": 189837553,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1583443140
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110049\">Mario Carneiro</span> <a href=\"#narrow/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises/near/189837553\" title=\"#narrow/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises/near/189837553\">said</a>:</p>\n<blockquote>\n<p>do cases on <code>p</code></p>\n</blockquote>\n<p>That was my original thought but I keep getting stuck here</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kn\">example</span> <span class=\"o\">:</span> <span class=\"o\">(((</span><span class=\"n\">p</span> <span class=\"bp\">→</span> <span class=\"n\">q</span><span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"n\">p</span><span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"n\">p</span><span class=\"o\">)</span> <span class=\"o\">:=</span>\n<span class=\"k\">assume</span> <span class=\"n\">hpqp</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">→</span> <span class=\"n\">q</span><span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"n\">p</span><span class=\"o\">,</span>\n<span class=\"n\">by_cases</span>\n  <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">hp</span> <span class=\"o\">:</span> <span class=\"n\">p</span><span class=\"o\">,</span> <span class=\"n\">hp</span><span class=\"o\">)</span>\n  <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">hnp</span> <span class=\"o\">:</span> <span class=\"bp\">¬</span> <span class=\"n\">p</span><span class=\"o\">,</span> <span class=\"k\">show</span> <span class=\"bp\">...</span><span class=\"o\">)</span>\n</pre></div>\n\n\n<p>I can't think of a way to use <code>hpqp</code> in a useful way here. I feel like maybe there's a function I'm forgetting.</p>",
        "id": 189837810,
        "sender_full_name": "Rocky Kamen-Rubio",
        "timestamp": 1583443320
    },
    {
        "content": "<p>Prove <code>false</code>, by using the assumption and the implication (which will require you to prove <code>p -&gt; q</code>)</p>",
        "id": 189837926,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1583443376
    },
    {
        "content": "<p>Q3 you have some extraneous commas after applying <code>or.elim</code></p>",
        "id": 189840894,
        "sender_full_name": "Reid Barton",
        "timestamp": 1583445173
    },
    {
        "content": "<p>These term mode proofs require a lot of attention to detail.</p>",
        "id": 189840915,
        "sender_full_name": "Reid Barton",
        "timestamp": 1583445195
    },
    {
        "content": "<p>I'm having a hard time with the classical problems, this is how far I got on the first one (Theorem boo) with before getting stuck. I may also just be completely on the wrong track too</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">open</span> <span class=\"n\">classical</span>\n\n<span class=\"kd\">variables</span> <span class=\"n\">p</span> <span class=\"n\">q</span> <span class=\"n\">r</span> <span class=\"n\">s</span> <span class=\"o\">:</span> <span class=\"kt\">Prop</span>\n\n\n<span class=\"kd\">lemma</span> <span class=\"n\">helper</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"bp\">¬</span><span class=\"n\">r</span> <span class=\"bp\">∧</span> <span class=\"bp\">¬</span><span class=\"n\">s</span><span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"bp\">¬</span><span class=\"o\">(</span><span class=\"n\">r</span> <span class=\"bp\">∨</span> <span class=\"n\">s</span><span class=\"o\">)</span> <span class=\"o\">:=</span>\n  <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">mh</span><span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"bp\">¬</span><span class=\"n\">r</span> <span class=\"bp\">∧</span> <span class=\"bp\">¬</span><span class=\"n\">s</span><span class=\"o\">),</span>\n   <span class=\"k\">show</span> <span class=\"bp\">¬</span><span class=\"o\">(</span><span class=\"n\">r</span> <span class=\"bp\">∨</span> <span class=\"n\">s</span><span class=\"o\">),</span>\n   <span class=\"k\">from</span> <span class=\"o\">(</span><span class=\"bp\">λ</span> <span class=\"n\">x</span><span class=\"o\">:</span> <span class=\"n\">r</span> <span class=\"bp\">∨</span> <span class=\"n\">s</span><span class=\"o\">,</span> <span class=\"n\">or.elim</span> <span class=\"n\">x</span> <span class=\"o\">(</span><span class=\"bp\">λ</span> <span class=\"n\">hr</span><span class=\"o\">:</span> <span class=\"n\">r</span><span class=\"o\">,</span> <span class=\"n\">absurd</span> <span class=\"n\">hr</span> <span class=\"n\">mh.left</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"bp\">λ</span> <span class=\"n\">hs</span><span class=\"o\">:</span> <span class=\"n\">s</span><span class=\"o\">,</span> <span class=\"n\">absurd</span> <span class=\"n\">hs</span> <span class=\"n\">mh.right</span><span class=\"o\">)</span> <span class=\"o\">)</span>\n  <span class=\"o\">)</span>\n\n<span class=\"kd\">lemma</span> <span class=\"n\">helper2</span> <span class=\"o\">:</span> <span class=\"bp\">¬</span><span class=\"o\">(</span><span class=\"n\">r</span> <span class=\"bp\">∨</span> <span class=\"n\">s</span><span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"bp\">¬</span><span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">→</span> <span class=\"n\">r</span> <span class=\"bp\">∨</span> <span class=\"n\">s</span><span class=\"o\">)</span> <span class=\"o\">:=</span>\n  <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">mh</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">r</span> <span class=\"bp\">∨</span> <span class=\"n\">s</span><span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"n\">false</span><span class=\"o\">,</span>\n   <span class=\"k\">show</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">→</span> <span class=\"n\">r</span> <span class=\"bp\">∨</span> <span class=\"n\">s</span><span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"n\">false</span><span class=\"o\">,</span>\n   <span class=\"k\">from</span> <span class=\"n\">or.elim</span> <span class=\"o\">(</span><span class=\"n\">em</span> <span class=\"n\">p</span><span class=\"o\">)</span>\n     <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">x</span><span class=\"o\">:</span> <span class=\"n\">p</span><span class=\"o\">,</span>\n      <span class=\"k\">show</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">→</span> <span class=\"n\">r</span> <span class=\"bp\">∨</span> <span class=\"n\">s</span><span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"n\">false</span><span class=\"o\">,</span>\n      <span class=\"k\">from</span> <span class=\"o\">(</span><span class=\"bp\">λ</span> <span class=\"n\">f</span><span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">→</span> <span class=\"n\">r</span> <span class=\"bp\">∨</span> <span class=\"n\">s</span><span class=\"o\">),</span> <span class=\"n\">mh</span> <span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"n\">x</span><span class=\"o\">)</span> <span class=\"o\">)</span>\n     <span class=\"o\">)</span>\n     <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">y</span><span class=\"o\">:</span> <span class=\"bp\">¬</span><span class=\"n\">p</span><span class=\"o\">,</span>\n      <span class=\"k\">show</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">→</span> <span class=\"n\">r</span> <span class=\"bp\">∨</span> <span class=\"n\">s</span><span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"n\">false</span><span class=\"o\">,</span>\n      <span class=\"k\">from</span> <span class=\"o\">(</span><span class=\"bp\">λ</span> <span class=\"n\">g</span><span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">→</span> <span class=\"n\">r</span> <span class=\"bp\">∨</span> <span class=\"n\">s</span><span class=\"o\">),</span> <span class=\"o\">)</span> <span class=\"c1\">-- This is where I'm stuck</span>\n     <span class=\"o\">)</span>\n   <span class=\"o\">)</span>\n\n<span class=\"kd\">theorem</span> <span class=\"n\">boo</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">→</span> <span class=\"n\">r</span> <span class=\"bp\">∨</span> <span class=\"n\">s</span><span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"o\">((</span><span class=\"n\">p</span> <span class=\"bp\">→</span> <span class=\"n\">r</span><span class=\"o\">)</span> <span class=\"bp\">∨</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">→</span> <span class=\"n\">s</span><span class=\"o\">))</span> <span class=\"o\">:=</span>\n  <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">mh</span><span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">→</span> <span class=\"n\">r</span> <span class=\"bp\">∨</span> <span class=\"n\">s</span><span class=\"o\">),</span>\n   <span class=\"k\">show</span> <span class=\"o\">((</span><span class=\"n\">p</span> <span class=\"bp\">→</span> <span class=\"n\">r</span><span class=\"o\">)</span> <span class=\"bp\">∨</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">→</span> <span class=\"n\">s</span><span class=\"o\">)),</span>\n   <span class=\"k\">from</span> <span class=\"n\">or.elim</span> <span class=\"o\">(</span><span class=\"n\">em</span> <span class=\"n\">r</span><span class=\"o\">)</span>\n     <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">hr</span><span class=\"o\">:</span> <span class=\"n\">r</span><span class=\"o\">,</span>\n      <span class=\"k\">show</span> <span class=\"o\">((</span><span class=\"n\">p</span> <span class=\"bp\">→</span> <span class=\"n\">r</span><span class=\"o\">)</span> <span class=\"bp\">∨</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">→</span> <span class=\"n\">s</span><span class=\"o\">)),</span>\n      <span class=\"k\">from</span> <span class=\"n\">or.inl</span> <span class=\"o\">(</span><span class=\"bp\">λ</span> <span class=\"n\">hp</span><span class=\"o\">:</span> <span class=\"n\">p</span><span class=\"o\">,</span> <span class=\"n\">hr</span><span class=\"o\">)</span>\n     <span class=\"o\">)</span>\n     <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">hnr</span><span class=\"o\">:</span> <span class=\"bp\">¬</span><span class=\"n\">r</span><span class=\"o\">,</span>\n      <span class=\"k\">show</span> <span class=\"o\">((</span><span class=\"n\">p</span> <span class=\"bp\">→</span> <span class=\"n\">r</span><span class=\"o\">)</span> <span class=\"bp\">∨</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">→</span> <span class=\"n\">s</span><span class=\"o\">)),</span>\n      <span class=\"k\">from</span> <span class=\"n\">or.elim</span> <span class=\"o\">(</span><span class=\"n\">em</span> <span class=\"n\">s</span><span class=\"o\">)</span>\n        <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">hs</span><span class=\"o\">:</span> <span class=\"n\">s</span><span class=\"o\">,</span>\n         <span class=\"k\">show</span> <span class=\"o\">((</span><span class=\"n\">p</span> <span class=\"bp\">→</span> <span class=\"n\">r</span><span class=\"o\">)</span> <span class=\"bp\">∨</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">→</span> <span class=\"n\">s</span><span class=\"o\">)),</span>\n         <span class=\"k\">from</span> <span class=\"n\">or.inr</span> <span class=\"o\">(</span><span class=\"bp\">λ</span> <span class=\"n\">hp1</span><span class=\"o\">:</span> <span class=\"n\">p</span><span class=\"o\">,</span> <span class=\"n\">hs</span><span class=\"o\">)</span>\n        <span class=\"o\">)</span>\n        <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">hns</span><span class=\"o\">:</span> <span class=\"bp\">¬</span><span class=\"n\">s</span><span class=\"o\">,</span>\n         <span class=\"k\">show</span> <span class=\"o\">((</span><span class=\"n\">p</span> <span class=\"bp\">→</span> <span class=\"n\">r</span><span class=\"o\">)</span> <span class=\"bp\">∨</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">→</span> <span class=\"n\">s</span><span class=\"o\">)),</span>\n         <span class=\"k\">from</span> <span class=\"n\">absurd</span> <span class=\"n\">mh</span> <span class=\"c1\">-- helper2 (helper (and.intro hnr hns))</span>\n        <span class=\"o\">)</span>\n     <span class=\"o\">)</span>\n  <span class=\"o\">)</span>\n</code></pre></div>",
        "id": 252244837,
        "sender_full_name": "Lucas Teixeira",
        "timestamp": 1630984016
    },
    {
        "content": "<p>My suggestion for <code>boo</code> is to start by cases on <code>em p</code></p>",
        "id": 252249230,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1630988530
    },
    {
        "content": "<p>you shouldn't need any other uses of EM</p>",
        "id": 252249258,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1630988571
    },
    {
        "content": "<p>What do you mean exactly by cases on em p?? <br>\nby_cases type is (p -&gt;q) -&gt; (~p -&gt;q) -&gt; q<br>\nwhile em p is p v ~p</p>",
        "id": 252250667,
        "sender_full_name": "Lucas Teixeira",
        "timestamp": 1630989878
    },
    {
        "content": "<p>My best guess is that you meant something like this:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">theorem</span> <span class=\"n\">boo</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">→</span> <span class=\"n\">r</span> <span class=\"bp\">∨</span> <span class=\"n\">s</span><span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"o\">((</span><span class=\"n\">p</span> <span class=\"bp\">→</span> <span class=\"n\">r</span><span class=\"o\">)</span> <span class=\"bp\">∨</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">→</span> <span class=\"n\">s</span><span class=\"o\">))</span> <span class=\"o\">:=</span>\n  <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">mh</span><span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">→</span> <span class=\"n\">r</span> <span class=\"bp\">∨</span> <span class=\"n\">s</span><span class=\"o\">),</span>\n   <span class=\"k\">show</span> <span class=\"o\">((</span><span class=\"n\">p</span> <span class=\"bp\">→</span> <span class=\"n\">r</span><span class=\"o\">)</span> <span class=\"bp\">∨</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">→</span> <span class=\"n\">s</span><span class=\"o\">)),</span>\n   <span class=\"k\">from</span> <span class=\"n\">or.elim</span> <span class=\"o\">(</span><span class=\"n\">em</span> <span class=\"n\">p</span><span class=\"o\">)</span>\n     <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">hp</span><span class=\"o\">:</span> <span class=\"n\">p</span><span class=\"o\">,</span>\n      <span class=\"n\">or.elim</span> <span class=\"o\">(</span><span class=\"n\">mh</span> <span class=\"n\">hp</span><span class=\"o\">)</span>\n        <span class=\"o\">(</span><span class=\"bp\">λ</span> <span class=\"n\">hr</span><span class=\"o\">:</span> <span class=\"n\">r</span><span class=\"o\">,</span> <span class=\"n\">or.inl</span> <span class=\"o\">(</span><span class=\"bp\">λ</span> <span class=\"n\">hp</span><span class=\"o\">:</span> <span class=\"n\">p</span><span class=\"o\">,</span> <span class=\"n\">hr</span><span class=\"o\">))</span>\n        <span class=\"o\">(</span><span class=\"bp\">λ</span> <span class=\"n\">hs</span><span class=\"o\">:</span> <span class=\"n\">s</span><span class=\"o\">,</span> <span class=\"n\">or.inr</span> <span class=\"o\">(</span><span class=\"bp\">λ</span> <span class=\"n\">hp</span><span class=\"o\">:</span> <span class=\"n\">p</span><span class=\"o\">,</span> <span class=\"n\">hs</span><span class=\"o\">))</span>\n     <span class=\"o\">)</span>\n     <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">hnp</span><span class=\"o\">:</span> <span class=\"bp\">¬</span><span class=\"n\">p</span><span class=\"o\">,</span>\n       <span class=\"n\">by_cases</span> <span class=\"n\">mh</span> <span class=\"bp\">...</span>\n     <span class=\"o\">)</span>\n  <span class=\"o\">)</span>\n</code></pre></div>\n<p>but that feels wrong and I think I'm misunderstanding you</p>",
        "id": 252253581,
        "sender_full_name": "Lucas Teixeira",
        "timestamp": 1630992425
    },
    {
        "content": "<p>Pretty sure he meant <code>or.cases_on</code>, but you're pretty much there already with <code>or.elim (em p)</code>.</p>",
        "id": 252271717,
        "sender_full_name": "Chris B",
        "timestamp": 1631004708
    },
    {
        "content": "<p>You're extremely close here. Without giving it away, just look at what resources you already have (the hypotheses) and look closely at the structure of the goal.</p>",
        "id": 252272127,
        "sender_full_name": "Chris B",
        "timestamp": 1631004952
    },
    {
        "content": "<p>Which I know sounds obvious.</p>",
        "id": 252272177,
        "sender_full_name": "Chris B",
        "timestamp": 1631004965
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"228466\">Chris B</span>Thanks! I appreciate you giving me a nudge without giving it away. What I ended up with is this :</p>\n<div class=\"spoiler-block\"><div class=\"spoiler-header\">\n</div><div class=\"spoiler-content\" aria-hidden=\"true\">\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">theorem</span> <span class=\"n\">boo</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">→</span> <span class=\"n\">r</span> <span class=\"bp\">∨</span> <span class=\"n\">s</span><span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"o\">((</span><span class=\"n\">p</span> <span class=\"bp\">→</span> <span class=\"n\">r</span><span class=\"o\">)</span> <span class=\"bp\">∨</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">→</span> <span class=\"n\">s</span><span class=\"o\">))</span> <span class=\"o\">:=</span>\n  <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">mh</span><span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">→</span> <span class=\"n\">r</span> <span class=\"bp\">∨</span> <span class=\"n\">s</span><span class=\"o\">),</span>\n   <span class=\"k\">show</span> <span class=\"o\">((</span><span class=\"n\">p</span> <span class=\"bp\">→</span> <span class=\"n\">r</span><span class=\"o\">)</span> <span class=\"bp\">∨</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">→</span> <span class=\"n\">s</span><span class=\"o\">)),</span>\n   <span class=\"k\">from</span> <span class=\"n\">or.elim</span> <span class=\"o\">(</span><span class=\"n\">em</span> <span class=\"n\">p</span><span class=\"o\">)</span>\n     <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">hp</span><span class=\"o\">:</span> <span class=\"n\">p</span><span class=\"o\">,</span>\n      <span class=\"n\">or.elim</span> <span class=\"o\">(</span><span class=\"n\">mh</span> <span class=\"n\">hp</span><span class=\"o\">)</span>\n        <span class=\"o\">(</span><span class=\"bp\">λ</span> <span class=\"n\">hr</span><span class=\"o\">:</span> <span class=\"n\">r</span><span class=\"o\">,</span> <span class=\"n\">or.inl</span> <span class=\"o\">(</span><span class=\"bp\">λ</span> <span class=\"n\">hp</span><span class=\"o\">:</span> <span class=\"n\">p</span><span class=\"o\">,</span> <span class=\"n\">hr</span><span class=\"o\">))</span>\n        <span class=\"o\">(</span><span class=\"bp\">λ</span> <span class=\"n\">hs</span><span class=\"o\">:</span> <span class=\"n\">s</span><span class=\"o\">,</span> <span class=\"n\">or.inr</span> <span class=\"o\">(</span><span class=\"bp\">λ</span> <span class=\"n\">hp</span><span class=\"o\">:</span> <span class=\"n\">p</span><span class=\"o\">,</span> <span class=\"n\">hs</span><span class=\"o\">))</span>\n     <span class=\"o\">)</span>\n     <span class=\"o\">(</span><span class=\"k\">assume</span> <span class=\"n\">hnp</span><span class=\"o\">:</span> <span class=\"n\">p</span> <span class=\"bp\">→</span> <span class=\"n\">false</span><span class=\"o\">,</span>\n       <span class=\"n\">or.inl</span><span class=\"o\">(</span><span class=\"bp\">λ</span> <span class=\"n\">hp</span><span class=\"o\">:</span> <span class=\"n\">p</span><span class=\"o\">,</span> <span class=\"n\">absurd</span> <span class=\"n\">hp</span> <span class=\"n\">hnp</span> <span class=\"o\">)</span>\n     <span class=\"o\">)</span>\n  <span class=\"o\">)</span>\n</code></pre></div>\n<p>Still, that last absurd feels a little brutish, and not so elegant. </p>\n</div></div>\n<p>Maybe there's another proof out there with a better pay off??</p>",
        "id": 252300617,
        "sender_full_name": "Lucas Teixeira",
        "timestamp": 1631019559
    },
    {
        "content": "<p>Wait, is posting final answers on this chat frowned upon?? I'll take it down if so</p>",
        "id": 252301079,
        "sender_full_name": "Lucas Teixeira",
        "timestamp": 1631019760
    },
    {
        "content": "<p>Perhaps spoiler tags?</p>\n<div class=\"codehilite\" data-code-language=\"Text only\"><pre><span></span><code>````spoiler\n```lean\ntheorem boo : _ := _\n```\n````\n</code></pre></div>",
        "id": 252301288,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1631019845
    },
    {
        "content": "<p>Becomes</p>\n<div class=\"spoiler-block\"><div class=\"spoiler-header\">\n</div><div class=\"spoiler-content\" aria-hidden=\"true\">\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">theorem</span> <span class=\"n\">boo</span> <span class=\"o\">:</span> <span class=\"n\">_</span> <span class=\"o\">:=</span> <span class=\"n\">_</span>\n</code></pre></div>\n</div></div>",
        "id": 252301336,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1631019869
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"238446\">Anne Baanen</span>  Thanks for the tip!</p>",
        "id": 252301588,
        "sender_full_name": "Lucas Teixeira",
        "timestamp": 1631019987
    },
    {
        "content": "<p>How to prove this one?<br>\n¬(p → q) → p ∧ ¬q<br>\nNeed help!</p>",
        "id": 281276700,
        "sender_full_name": "Will Wan",
        "timestamp": 1651744507
    },
    {
        "content": "<p>What have you tried so far?</p>",
        "id": 281277727,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1651745104
    },
    {
        "content": "<p>I tried to (em p).elim and (em q).elim, but cannot solve the hnp:¬p and hnq:¬q case. I think this is the wrong way.</p>",
        "id": 281278852,
        "sender_full_name": "Will Wan",
        "timestamp": 1651745838
    },
    {
        "content": "<p>Try working by contradiction - you should be able to get there from <code>¬(p → q)</code> and <code>¬(p ∧ ¬q)</code> using some of the things you've proved before</p>",
        "id": 281279346,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1651746173
    },
    {
        "content": "<p>I will say that casing on <code>q</code> is unnecessary</p>",
        "id": 281279502,
        "sender_full_name": "Eric Rodriguez",
        "timestamp": 1651746272
    },
    {
        "content": "<p>Managed to prove it by contradiction using lemma<br>\n    ¬(p ∧ ¬q) → (¬p ∨ q),  (I used double em casing on p and q to prove this one, wonder why it works here)<br>\n    (¬p ∨ q) → (p → q)<br>\n    and finally ¬(p ∧ ¬q) → (p → q), <br>\nthanks! :)</p>",
        "id": 281282601,
        "sender_full_name": "Will Wan",
        "timestamp": 1651748474
    },
    {
        "content": "<p>for future's sake, my solution:</p>\n<div class=\"spoiler-block\"><div class=\"spoiler-header\">\n</div><div class=\"spoiler-content\" aria-hidden=\"true\">\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">example</span> <span class=\"o\">{</span><span class=\"n\">p</span> <span class=\"n\">q</span> <span class=\"o\">:</span> <span class=\"kt\">Sort</span><span class=\"o\">}</span> <span class=\"o\">[</span><span class=\"n\">decidable</span> <span class=\"n\">p</span><span class=\"o\">]</span> <span class=\"o\">:</span> <span class=\"bp\">¬</span><span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">→</span> <span class=\"n\">q</span><span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"n\">p</span> <span class=\"bp\">∧</span> <span class=\"bp\">¬</span><span class=\"n\">q</span> <span class=\"o\">:=</span>\n<span class=\"bp\">λ</span> <span class=\"n\">h</span><span class=\"o\">,</span> <span class=\"n\">decidable.by_cases</span> <span class=\"o\">(</span><span class=\"bp\">λ</span> <span class=\"n\">hp</span><span class=\"o\">,</span> <span class=\"o\">⟨</span><span class=\"n\">hp</span><span class=\"o\">,</span> <span class=\"bp\">λ</span> <span class=\"n\">q</span><span class=\"o\">,</span> <span class=\"n\">h</span> <span class=\"o\">(</span><span class=\"bp\">λ</span> <span class=\"n\">_</span><span class=\"o\">,</span> <span class=\"n\">q</span><span class=\"o\">)⟩)</span> <span class=\"o\">(</span><span class=\"bp\">λ</span> <span class=\"n\">hp</span><span class=\"o\">,</span> <span class=\"n\">h.elim</span> <span class=\"n\">hp.elim</span><span class=\"o\">)</span>\n</code></pre></div>\n</div></div>",
        "id": 281296837,
        "sender_full_name": "Eric Rodriguez",
        "timestamp": 1651756306
    },
    {
        "content": "<p>Hello, I'm also doing the exercises in the book Theorem Proving in Lean 4 and am not sure whether my proofs are actually correct.</p>\n<p>My proof below does for example not return any error even though I have the impression that I'm not really proving anything:</p>\n<div class=\"spoiler-block\"><div class=\"spoiler-header\">\n<p>¬(p ∧ q) → ¬p ∨ ¬q </p>\n</div><div class=\"spoiler-content\" aria-hidden=\"true\">\n<p>variable (hpq : p ∧ q)</p>\n<p>example : ¬(p ∧ q) → ¬p ∨ ¬q :=<br>\n  fun h: ¬(p ∧ q) =&gt; <br>\n  Or.inl (fun hp : p =&gt; h hpq)</p>\n</div></div>\n<p>According to previous posts in this stream, the proof should  be more elaborate than this and classical logic should be required. So whats going on?</p>",
        "id": 282644657,
        "sender_full_name": "Fernand",
        "timestamp": 1652796144
    },
    {
        "content": "<p>With <code>variable (hpq : p ∧ q)</code> you assumed <code>p ∧ q</code>, so then in the example from <code>¬(p ∧ q)</code> it should be easy to prove anything.</p>",
        "id": 282645653,
        "sender_full_name": "Reid Barton",
        "timestamp": 1652796499
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"110032\">@Reid Barton</span> seems obvious now that you mention it. I felt that I was cheating somehow so thanks for calling it out ;)</p>",
        "id": 282646947,
        "sender_full_name": "Fernand",
        "timestamp": 1652797038
    }
]