[
    {
        "content": "<p>I ran <code>leanproject upgrade-mathlib</code> to get access to one the lemmas I edited which was recently merged. After doing this I started getting a huge number of errors - for example</p>\n<p><code>excessive memory consumption detected at 'expression replacer' (potential solution: increase memory consumption threshold)</code></p>\n<p>I also started getting messages saying things like</p>\n<p><code>imported file '/Users/boltonbailey/Desktop/myproject/_target/deps/mathlib/src/data/polynomial/eval.lean' uses sorry</code></p>\n<p>Not sure why I should ever get this message for a mathlib file. Can anyone troubleshoot what is going on?</p>\n<p>Another thing - If I <code>leanproject new</code> to make a fresh project and copy my <code>/src</code> folder into it, everything works fine.</p>",
        "id": 224938442,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1612300910
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"282271\">@Bolton Bailey</span> did you restart lean in VScode, after upgrading mathlib?</p>",
        "id": 224938547,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1612300946
    },
    {
        "content": "<p>no let me try that</p>",
        "id": 224938576,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1612300972
    },
    {
        "content": "<p>Yep, this seems to have fixed it. Thank you.</p>",
        "id": 224938790,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1612301073
    },
    {
        "content": "<p>This seems to be a common stumbling block. I wonder if there's a way for the extension to detect that it needs to be restarted? Or perhaps <code>leanproject</code> could output a reminder.</p>",
        "id": 224939315,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1612301306
    },
    {
        "content": "<p>emacs seems to handle this fine, fwiw</p>",
        "id": 224939415,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1612301360
    },
    {
        "content": "<p>Interesting! I wonder what <code>lean-mode</code> does differently.</p>",
        "id": 224939581,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1612301421
    },
    {
        "content": "<p>I was just following the instructions on <a href=\"https://leanprover-community.github.io/leanproject.html\">https://leanprover-community.github.io/leanproject.html</a> so a reminder there would be helpful.</p>",
        "id": 224956642,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1612311321
    },
    {
        "content": "<p>I opened a PR: <a href=\"https://github.com/leanprover-community/leanprover-community.github.io/pull/164\">https://github.com/leanprover-community/leanprover-community.github.io/pull/164</a></p>\n<p>Let me know if there's anything I should add / modify.</p>",
        "id": 224957942,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1612312193
    },
    {
        "content": "<p>Seems good to me.</p>",
        "id": 224963883,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1612316896
    }
]