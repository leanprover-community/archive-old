[
    {
        "content": "<p>What's the best way to prove this? I have a proof (strong induction on l1.length) but it's upwards of a hundred lines...</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kn\">import</span> <span class=\"n\">data</span><span class=\"bp\">.</span><span class=\"n\">list</span>\n<span class=\"n\">noncomputable</span> <span class=\"n\">theory</span>\n<span class=\"n\">open_locale</span> <span class=\"n\">classical</span>\n<span class=\"kn\">universe</span> <span class=\"n\">u</span>\n<span class=\"kn\">variables</span> <span class=\"o\">(</span><span class=\"n\">α</span> <span class=\"n\">β</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"n\">u</span><span class=\"o\">)</span>\n<span class=\"kn\">example</span> <span class=\"o\">{</span><span class=\"n\">l₁</span> <span class=\"n\">l₂</span> <span class=\"o\">:</span> <span class=\"n\">list</span> <span class=\"n\">β</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">r</span> <span class=\"o\">:</span> <span class=\"n\">α</span> <span class=\"bp\">→</span> <span class=\"n\">β</span> <span class=\"bp\">→</span> <span class=\"kt\">Prop</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">nodup</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span> <span class=\"o\">(</span><span class=\"n\">x</span> <span class=\"n\">y</span> <span class=\"o\">:</span> <span class=\"n\">α</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">b</span> <span class=\"o\">:</span> <span class=\"n\">β</span><span class=\"o\">),</span>\n    <span class=\"n\">x</span> <span class=\"bp\">≠</span> <span class=\"n\">y</span> <span class=\"bp\">→</span> <span class=\"bp\">¬</span> <span class=\"o\">(</span><span class=\"n\">r</span> <span class=\"n\">x</span> <span class=\"n\">b</span> <span class=\"bp\">∧</span> <span class=\"n\">r</span> <span class=\"n\">y</span> <span class=\"n\">b</span><span class=\"o\">))</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"bp\">∀</span> <span class=\"n\">a</span> <span class=\"o\">:</span> <span class=\"n\">α</span><span class=\"o\">,</span> <span class=\"n\">l₁</span><span class=\"bp\">.</span><span class=\"n\">countp</span> <span class=\"o\">(</span><span class=\"n\">r</span> <span class=\"n\">a</span><span class=\"o\">)</span> <span class=\"bp\">=</span> <span class=\"n\">l₂</span><span class=\"bp\">.</span><span class=\"n\">countp</span> <span class=\"o\">(</span><span class=\"n\">r</span> <span class=\"n\">a</span><span class=\"o\">))</span> <span class=\"bp\">→</span>\n    <span class=\"n\">l₁</span><span class=\"bp\">.</span><span class=\"n\">countp</span> <span class=\"o\">(</span><span class=\"bp\">λ</span> <span class=\"n\">b</span><span class=\"o\">,</span> <span class=\"bp\">∃</span> <span class=\"n\">a</span><span class=\"o\">,</span> <span class=\"n\">r</span> <span class=\"n\">a</span> <span class=\"n\">b</span><span class=\"o\">)</span> <span class=\"bp\">=</span> <span class=\"n\">l₂</span><span class=\"bp\">.</span><span class=\"n\">countp</span> <span class=\"o\">(</span><span class=\"bp\">λ</span> <span class=\"n\">b</span><span class=\"o\">,</span> <span class=\"bp\">∃</span> <span class=\"n\">a</span><span class=\"o\">,</span> <span class=\"n\">r</span> <span class=\"n\">a</span> <span class=\"n\">b</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"n\">sorry</span>\n</pre></div>",
        "id": 189558705,
        "sender_full_name": "Arjun Pitchanathan",
        "timestamp": 1583203759
    },
    {
        "content": "<p>I took a crack at this but I wasn't able to succeed. Can you post your proof or link to a gist?</p>",
        "id": 189628077,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1583265375
    },
    {
        "content": "<p><a href=\"https://gist.github.com/Superty/37d755fe1d4cabd50b8a2b4d2da4ca34#file-countp_nodup-lean-L97\" target=\"_blank\" title=\"https://gist.github.com/Superty/37d755fe1d4cabd50b8a2b4d2da4ca34#file-countp_nodup-lean-L97\">Here</a> it is. I'm not sure how readable it is. I tried to add some explanatory comments.</p>",
        "id": 189631371,
        "sender_full_name": "Arjun Pitchanathan",
        "timestamp": 1583267608
    }
]