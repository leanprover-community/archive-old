[
    {
        "content": "<p>If your file B requires A and your file C requires both A and B, what do you write as import in the file C? Only B, because it is shorter? Or both A and B, to make your code more robust?</p>",
        "id": 275351238,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1647338279
    },
    {
        "content": "<p>I personally reduce the imports because having reduced imports means it's easier to understand your position in the import tree and perform other algorithms, like looking at all the files that import one you're editing to see what breaks.</p>",
        "id": 275351751,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1647338537
    },
    {
        "content": "<p>This has been a topic of some discussion in the past. I don't think there is a real consensus, of course most files in mathlib transitively import hundreds of others, and nobody wants to list them all. But some people think that minimizing the set of transitive imports makes the intended background material less clear, and may make splitting / refactoring files harder.<br>\nSo it's basically up to individual file authors what to do for each file, but PRs changing this on many files will probably generate a lot of debate <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 275354892,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1647340415
    },
    {
        "content": "<p>The <code>leanproject reduce-imports</code> command can tell you about these transitive imports btw, which is useful when you have a file you know has too many imports at the top.</p>",
        "id": 275355023,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1647340491
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"127136\">Alex J. Best</span> <a href=\"#narrow/stream/113489-new-members/topic/Transitive.20imports/near/275354892\">said</a>:</p>\n<blockquote>\n<p>most files in mathlib transitively import hundreds of others</p>\n</blockquote>\n<p>Do they just import them transitively? Or there examples of a single file that requires hundreds of imports?</p>",
        "id": 275358648,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1647342770
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/iCghlB4H5L0686Vua1O1ze_r/import_graph.dot.png\">import_graph.dot.png</a> Just for fun, here is the import graph of the files in mathlib (generated by <code>leanproject import_graph</code>), there does not seem to be vertices with that huge degree.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/iCghlB4H5L0686Vua1O1ze_r/import_graph.dot.png\" title=\"import_graph.dot.png\"><img src=\"/user_uploads/3121/iCghlB4H5L0686Vua1O1ze_r/import_graph.dot.png\"></a></div>",
        "id": 275360905,
        "sender_full_name": "Vincent Beffara",
        "timestamp": 1647344346
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/mQLbDV31eY3h79IhYbDQ_mw8/import_graph.clean.dot.png\">import_graph.clean.dot.png</a> And here is the same graph with redundant imports removed everywhere for comparison.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/mQLbDV31eY3h79IhYbDQ_mw8/import_graph.clean.dot.png\" title=\"import_graph.clean.dot.png\"><img src=\"/user_uploads/3121/mQLbDV31eY3h79IhYbDQ_mw8/import_graph.clean.dot.png\"></a></div>",
        "id": 275360962,
        "sender_full_name": "Vincent Beffara",
        "timestamp": 1647344385
    },
    {
        "content": "<p>It does not look <em>that</em> different except in the top part where basic things like <code>tactic.basic</code> and <code>data.set</code> live</p>",
        "id": 275361180,
        "sender_full_name": "Vincent Beffara",
        "timestamp": 1647344536
    },
    {
        "content": "<p>Or if you like your hairy messes slightly more colorful, <a href=\"https://eric-wieser.github.io/mathlib-import-graph/\">https://eric-wieser.github.io/mathlib-import-graph/</a></p>",
        "id": 275361203,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1647344564
    },
    {
        "content": "<p>How can I add <code>dot.exe</code> to the path so that <code>leanproject</code> will find it?</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"bp\">$</span> <span class=\"n\">leanproject</span> <span class=\"kn\">import</span><span class=\"bp\">-</span><span class=\"n\">graph</span>\n<span class=\"o\">[</span><span class=\"n\">WinError</span> <span class=\"mi\">2</span><span class=\"o\">]</span> <span class=\"s2\">\"dot\"</span> <span class=\"n\">not</span> <span class=\"n\">found</span> <span class=\"k\">in</span> <span class=\"n\">path.</span>\n</code></pre></div>\n<p>I am on Windows 10 and <code>Git bash</code> is open.</p>",
        "id": 275361478,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1647344762
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"417654\">Martin Dvořák</span> <a href=\"#narrow/stream/113489-new-members/topic/Transitive.20imports/near/275358648\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"127136\">Alex J. Best</span> <a href=\"#narrow/stream/113489-new-members/topic/Transitive.20imports/near/275354892\">said</a>:</p>\n<blockquote>\n<p>most files in mathlib transitively import hundreds of others</p>\n</blockquote>\n<p>Do they just import them transitively? Or there examples of a single file that requires hundreds of imports?</p>\n</blockquote>\n<p>The only files with really a lot of imports I can think of are catchall imports, like <code>tactic</code>, even some of those will be transitive though. Almost all files have <code>&lt; 10</code> maximal imports, and most have <code>&lt;=3</code>.</p>",
        "id": 275363253,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1647345914
    },
    {
        "content": "<p>Do you have graphviz installed? <a href=\"https://graphviz.org/download/#windows\">https://graphviz.org/download/#windows</a></p>",
        "id": 275363360,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1647345972
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"127136\">Alex J. Best</span> <a href=\"#narrow/stream/113489-new-members/topic/Transitive.20imports/near/275363360\">said</a>:</p>\n<blockquote>\n<p>Do you have graphviz installed? <a href=\"https://graphviz.org/download/#windows\">https://graphviz.org/download/#windows</a></p>\n</blockquote>\n<p>I am not sure what \"installed\" means. I run it from the graphviz folder on my command line (the Windows one).</p>",
        "id": 275363803,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1647346276
    }
]