[
    {
        "content": "<p>Hi. I have a backbround in math, software engineering, and formal specification (Z). I just tried to install Lean and math lib on MacOS the fast way as described on <a href=\"https://leanprover-community.github.io/install/macos.html\">https://leanprover-community.github.io/install/macos.html</a>. The install script reported an error, but I was able to run Visual Studio Code. Where should install issues be reported? Zulip or GitHub? Thanks.</p>",
        "id": 248724470,
        "sender_full_name": "Arthur Ryman",
        "timestamp": 1628354411
    },
    {
        "content": "<p>Welcome! Please paste the error here.</p>",
        "id": 248724513,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1628354522
    },
    {
        "content": "<p>Installing extensions...<br>\nInstalling extension 'jroesch.lean'...<br>\n(node:60348) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.<br>\n(Use <code>Electron --trace-deprecation ...</code> to show where the warning was created)<br>\nExtension 'jroesch.lean' v0.16.39 was successfully installed.<br>\n(node:60348) UnhandledPromiseRejectionWarning: Canceled: Canceled<br>\n    at D (/Applications/Visual Studio <a href=\"http://Code.app/Contents/Resources/app/out/vs/code/node/cli.js:5:1157\">Code.app/Contents/Resources/app/out/vs/code/node/cli.js:5:1157</a>)<br>\n    at O.cancel (/Applications/Visual Studio <a href=\"http://Code.app/Contents/Resources/app/out/vs/code/node/cli.js:9:62880\">Code.app/Contents/Resources/app/out/vs/code/node/cli.js:9:62880</a>)<br>\n    at O.dispose (/Applications/Visual Studio <a href=\"http://Code.app/Contents/Resources/app/out/vs/code/node/cli.js:9:63012\">Code.app/Contents/Resources/app/out/vs/code/node/cli.js:9:63012</a>)<br>\n    at N.dispose (/Applications/Visual Studio <a href=\"http://Code.app/Contents/Resources/app/out/vs/code/node/cli.js:9:63274\">Code.app/Contents/Resources/app/out/vs/code/node/cli.js:9:63274</a>)<br>\n    at d (/Applications/Visual Studio <a href=\"http://Code.app/Contents/Resources/app/out/vs/code/node/cli.js:6:3655\">Code.app/Contents/Resources/app/out/vs/code/node/cli.js:6:3655</a>)<br>\n    at N.clear (/Applications/Visual Studio <a href=\"http://Code.app/Contents/Resources/app/out/vs/code/node/cli.js:6:4133\">Code.app/Contents/Resources/app/out/vs/code/node/cli.js:6:4133</a>)<br>\n    at N.dispose (/Applications/Visual Studio <a href=\"http://Code.app/Contents/Resources/app/out/vs/code/node/cli.js:6:4112\">Code.app/Contents/Resources/app/out/vs/code/node/cli.js:6:4112</a>)<br>\n    at dispose (/Applications/Visual Studio <a href=\"http://Code.app/Contents/Resources/app/out/vs/code/node/cli.js:6:4672\">Code.app/Contents/Resources/app/out/vs/code/node/cli.js:6:4672</a>)<br>\n    at dispose (/Applications/Visual Studio <a href=\"http://Code.app/Contents/Resources/app/out/vs/code/node/cliProcessMain.js:11:7330\">Code.app/Contents/Resources/app/out/vs/code/node/cliProcessMain.js:11:7330</a>)<br>\n    at d (/Applications/Visual Studio <a href=\"http://Code.app/Contents/Resources/app/out/vs/code/node/cli.js:6:3655\">Code.app/Contents/Resources/app/out/vs/code/node/cli.js:6:3655</a>)<br>\n    at /Applications/Visual Studio <a href=\"http://Code.app/Contents/Resources/app/out/vs/code/node/cli.js:6:3843\">Code.app/Contents/Resources/app/out/vs/code/node/cli.js:6:3843</a><br>\n    at /Applications/Visual Studio <a href=\"http://Code.app/Contents/Resources/app/out/vs/code/node/cli.js:6:3942\">Code.app/Contents/Resources/app/out/vs/code/node/cli.js:6:3942</a><br>\n    at Object.dispose (/Applications/Visual Studio <a href=\"http://Code.app/Contents/Resources/app/out/vs/code/node/cli.js:6:762\">Code.app/Contents/Resources/app/out/vs/code/node/cli.js:6:762</a>)<br>\n    at d (/Applications/Visual Studio <a href=\"http://Code.app/Contents/Resources/app/out/vs/code/node/cli.js:6:3788\">Code.app/Contents/Resources/app/out/vs/code/node/cli.js:6:3788</a>)<br>\n    at /Applications/Visual Studio <a href=\"http://Code.app/Contents/Resources/app/out/vs/code/node/cliProcessMain.js:14:41520\">Code.app/Contents/Resources/app/out/vs/code/node/cliProcessMain.js:14:41520</a><br>\n    at Map.forEach (&lt;anonymous&gt;)<br>\n    at Ne.dispose (/Applications/Visual Studio <a href=\"http://Code.app/Contents/Resources/app/out/vs/code/node/cliProcessMain.js:14:41496\">Code.app/Contents/Resources/app/out/vs/code/node/cliProcessMain.js:14:41496</a>)<br>\n    at d (/Applications/Visual Studio <a href=\"http://Code.app/Contents/Resources/app/out/vs/code/node/cli.js:6:3655\">Code.app/Contents/Resources/app/out/vs/code/node/cli.js:6:3655</a>)<br>\n    at N.clear (/Applications/Visual Studio <a href=\"http://Code.app/Contents/Resources/app/out/vs/code/node/cli.js:6:4133\">Code.app/Contents/Resources/app/out/vs/code/node/cli.js:6:4133</a>)<br>\n    at N.dispose (/Applications/Visual Studio <a href=\"http://Code.app/Contents/Resources/app/out/vs/code/node/cli.js:6:4112\">Code.app/Contents/Resources/app/out/vs/code/node/cli.js:6:4112</a>)<br>\n    at S.dispose (/Applications/Visual Studio <a href=\"http://Code.app/Contents/Resources/app/out/vs/code/node/cli.js:6:4672\">Code.app/Contents/Resources/app/out/vs/code/node/cli.js:6:4672</a>)<br>\n    at Object.M [as main] (/Applications/Visual Studio <a href=\"http://Code.app/Contents/Resources/app/out/vs/code/node/cliProcessMain.js:17:38649\">Code.app/Contents/Resources/app/out/vs/code/node/cliProcessMain.js:17:38649</a>)<br>\n    at runMicrotasks (&lt;anonymous&gt;)<br>\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)<br>\n    at async N (/Applications/Visual Studio <a href=\"http://Code.app/Contents/Resources/app/out/vs/code/node/cli.js:12:13842\">Code.app/Contents/Resources/app/out/vs/code/node/cli.js:12:13842</a>)<br>\n(node:60348) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag <code>--unhandled-rejections=strict</code> (see <a href=\"https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode\">https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode</a>). (rejection id: 1)<br>\n(node:60348) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.</p>",
        "id": 248724658,
        "sender_full_name": "Arthur Ryman",
        "timestamp": 1628354662
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"112680\">@Johan Commelin</span>  Thanks!</p>",
        "id": 248724675,
        "sender_full_name": "Arthur Ryman",
        "timestamp": 1628354703
    },
    {
        "content": "<p>Here's my brew config:<br>\nHOMEBREW_VERSION: 3.2.6<br>\nORIGIN: <a href=\"https://github.com/Homebrew/brew\">https://github.com/Homebrew/brew</a><br>\nHEAD: 265c8c36a4c0a74f478cba16417940b3b588736c<br>\nLast commit: 5 days ago<br>\nCore tap ORIGIN: <a href=\"https://github.com/Homebrew/homebrew-core\">https://github.com/Homebrew/homebrew-core</a><br>\nCore tap HEAD: 0d73d02e52030eb27231ce36ef0fc461f9fa62e8<br>\nCore tap last commit: 53 minutes ago<br>\nCore tap branch: master<br>\nHOMEBREW_PREFIX: /usr/local<br>\nHOMEBREW_CASK_OPTS: []<br>\nHOMEBREW_DISPLAY: /private/tmp/com.apple.launchd.B1u1E7nlur/org.macosforge.xquartz:0<br>\nHOMEBREW_MAKE_JOBS: 8<br>\nHomebrew Ruby: 2.6.3 =&gt; /usr/local/Homebrew/Library/Homebrew/vendor/portable-ruby/2.6.3_2/bin/ruby<br>\nCPU: octa-core 64-bit haswell<br>\nClang: 12.0.0 build 1200<br>\nGit: 2.24.3 =&gt; /Applications/Xcode.app/Contents/Developer/usr/bin/git<br>\nCurl: 7.64.1 =&gt; /usr/bin/curl<br>\nmacOS: 10.15.7-x86_64<br>\nCLT: 12.4.0.0.1.1610135815<br>\nXcode: 12.4<br>\nXQuartz: 2.7.11 =&gt; /opt/X11</p>",
        "id": 248724738,
        "sender_full_name": "Arthur Ryman",
        "timestamp": 1628354777
    },
    {
        "content": "<p>Hmm, at first sight this looks like some error in VScode while it was installing the Lean extension.</p>",
        "id": 248724845,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1628354983
    },
    {
        "content": "<p>Does Lean work? Did you test it yet?</p>",
        "id": 248724895,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1628355014
    },
    {
        "content": "<p>I tested it. Created test.lean and ran #eval 2+2 successfully. So it looks like the Lean extension is installed OK and working.</p>",
        "id": 248725196,
        "sender_full_name": "Arthur Ryman",
        "timestamp": 1628355483
    },
    {
        "content": "<p>I'll continue testing it. Is this issue worth reporting on GitHub?</p>",
        "id": 248725414,
        "sender_full_name": "Arthur Ryman",
        "timestamp": 1628355729
    },
    {
        "content": "<p>Ok. I'm not an installation expert. But I think this is a VScode issue. I don't think it comes from our install script.</p>",
        "id": 248725419,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1628355752
    },
    {
        "content": "<p>Have you used VScode before? Do similar errors occur if you install other plugins?</p>",
        "id": 248725430,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1628355776
    },
    {
        "content": "<p>Yes, looks like maybe the lean extension was built with a downlevel version of node and the current version of VSCode is bundling a later version with stricter behaviour.</p>",
        "id": 248725525,
        "sender_full_name": "Arthur Ryman",
        "timestamp": 1628355907
    },
    {
        "content": "<p>Aha. <span class=\"user-mention\" data-user-id=\"110043\">@Gabriel Ebner</span> could that be the case?</p>",
        "id": 248725548,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1628355959
    },
    {
        "content": "<p>No, I'm not a VSCode user - I use IntelliJ professionally. So I'll stumble around VScode for a while. If I see unexpected behaviour I'll report it here.</p>",
        "id": 248725610,
        "sender_full_name": "Arthur Ryman",
        "timestamp": 1628356017
    },
    {
        "content": "<p>Ok, thanks! And good luck and lots of fun with using lean (-;</p>",
        "id": 248725706,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1628356131
    },
    {
        "content": "<p>That seems like a harmless deprecation warning.  It doesn't break the extension for you, right?  Please feel free to submit a bug at <a href=\"https://github.com/leanprover/vscode-lean\">https://github.com/leanprover/vscode-lean</a></p>",
        "id": 248727911,
        "sender_full_name": "Gabriel Ebner",
        "timestamp": 1628359341
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"112680\">@Johan Commelin</span> Thanks. I appreciate your help.</p>",
        "id": 248733752,
        "sender_full_name": "Arthur Ryman",
        "timestamp": 1628367599
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110043\">@Gabriel Ebner</span> Agreed. I assume that when the extension was built the developer would have resolved any warnings. So it looks like a version mismatch. So far it's harmless as far as I can tell, but I'm just getting started. I will file a bug report.</p>",
        "id": 248733885,
        "sender_full_name": "Arthur Ryman",
        "timestamp": 1628367797
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110043\">@Gabriel Ebner</span> Here's the github issue: <a href=\"https://github.com/leanprover/vscode-lean/issues/279\">https://github.com/leanprover/vscode-lean/issues/279</a></p>",
        "id": 248734333,
        "sender_full_name": "Arthur Ryman",
        "timestamp": 1628368510
    }
]