[
    {
        "content": "<p>I would like to rewrite the lemma ZA_Unid, using calc and in a way that apply the variables in the hypothesis and use the lemmas ZA_IdR, ZA_idR.  I think by making the correct use of the tool this proof can get much smaller</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">lemma</span> <span class=\"n\">ZA_IdR</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"bp\">∀</span><span class=\"n\">a</span> <span class=\"o\">:</span><span class=\"n\">ℤ</span><span class=\"o\">,</span> <span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"mi\">0</span> <span class=\"bp\">=</span> <span class=\"n\">a</span><span class=\"o\">)</span> <span class=\"o\">:=</span>\n<span class=\"kd\">begin</span>\n  <span class=\"n\">intro</span> <span class=\"n\">a</span><span class=\"o\">,</span>\n  <span class=\"n\">rw</span> <span class=\"n\">int.add_zero</span><span class=\"o\">,</span> <span class=\"c1\">-- O add_zero aqui faz o papel do nosso Axiom</span>\n<span class=\"kd\">end</span>\n\n<span class=\"kd\">lemma</span> <span class=\"n\">ZA_IdL</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"bp\">∀</span><span class=\"n\">a</span> <span class=\"o\">:</span><span class=\"n\">ℤ</span><span class=\"o\">,</span> <span class=\"mi\">0</span> <span class=\"bp\">+</span> <span class=\"n\">a</span> <span class=\"bp\">=</span> <span class=\"n\">a</span><span class=\"o\">)</span> <span class=\"o\">:=</span>\n<span class=\"kd\">begin</span>\n  <span class=\"n\">intro</span> <span class=\"n\">a</span><span class=\"o\">,</span>\n  <span class=\"n\">rw</span> <span class=\"n\">add_comm</span><span class=\"o\">,</span>\n  <span class=\"n\">rw</span> <span class=\"n\">ZA_IdR</span><span class=\"o\">,</span>\n<span class=\"kd\">end</span>\n\n<span class=\"kd\">lemma</span> <span class=\"n\">ZA_UniId</span> <span class=\"o\">(</span><span class=\"n\">u</span> <span class=\"n\">v</span><span class=\"o\">:</span> <span class=\"n\">ℤ</span> <span class=\"o\">):</span> <span class=\"bp\">∀</span> <span class=\"o\">(</span><span class=\"n\">a</span><span class=\"o\">:</span> <span class=\"n\">ℤ</span> <span class=\"o\">),</span> <span class=\"o\">(</span> <span class=\"n\">u</span> <span class=\"bp\">+</span> <span class=\"n\">a</span> <span class=\"bp\">=</span> <span class=\"n\">a</span><span class=\"o\">)</span> <span class=\"bp\">∧</span> <span class=\"o\">(</span> <span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"n\">v</span> <span class=\"bp\">=</span> <span class=\"n\">a</span> <span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"n\">u</span> <span class=\"bp\">=</span> <span class=\"n\">v</span><span class=\"o\">:=</span>\n<span class=\"kd\">begin</span>\n  <span class=\"n\">intro</span> <span class=\"n\">a</span><span class=\"o\">,</span>                        <span class=\"c1\">-- Seja a inteiro</span>\n  <span class=\"n\">intro</span> <span class=\"n\">h</span><span class=\"o\">,</span>                        <span class=\"c1\">-- Suponha h: u + a = a ∧ a + v = a</span>\n  <span class=\"n\">cases</span> <span class=\"n\">h</span> <span class=\"k\">with</span> <span class=\"n\">hL</span> <span class=\"n\">hR</span><span class=\"o\">,</span>             <span class=\"c1\">-- Dividimos em casos hL: u + a = a  hR: a + v = a</span>\n                                  <span class=\"c1\">-- Calculamos</span>\n                                  <span class=\"c1\">-- hL:</span>\n  <span class=\"n\">rw</span> <span class=\"bp\">←</span> <span class=\"n\">add_neg_eq_zero</span> <span class=\"n\">at</span> <span class=\"n\">hL</span><span class=\"o\">,</span>     <span class=\"c1\">-- u + a + -a = 0</span>\n  <span class=\"n\">rw</span> <span class=\"n\">add_assoc</span> <span class=\"n\">at</span> <span class=\"n\">hL</span><span class=\"o\">,</span>             <span class=\"c1\">-- u + (a + -a) = 0</span>\n  <span class=\"n\">rw</span> <span class=\"n\">int.add_right_neg</span> <span class=\"n\">at</span> <span class=\"n\">hL</span><span class=\"o\">,</span>     <span class=\"c1\">-- u + 0 = 0</span>\n  <span class=\"n\">rw</span> <span class=\"n\">ZA_IdR</span> <span class=\"n\">at</span> <span class=\"n\">hL</span><span class=\"o\">,</span>                <span class=\"c1\">-- u = 0</span>\n                                  <span class=\"c1\">-- hR:</span>\n  <span class=\"n\">rw</span> <span class=\"bp\">←</span> <span class=\"n\">add_neg_eq_zero</span> <span class=\"n\">at</span> <span class=\"n\">hR</span><span class=\"o\">,</span>     <span class=\"c1\">-- a + v + -a = 0</span>\n  <span class=\"n\">rw</span> <span class=\"n\">int.add_comm</span> <span class=\"n\">a</span> <span class=\"n\">v</span> <span class=\"n\">at</span> <span class=\"n\">hR</span><span class=\"o\">,</span>      <span class=\"c1\">-- v + a + -a = 0</span>\n  <span class=\"n\">rw</span> <span class=\"n\">add_assoc</span> <span class=\"n\">at</span> <span class=\"n\">hR</span><span class=\"o\">,</span>             <span class=\"c1\">-- v + (a + -a) = 0</span>\n  <span class=\"n\">rw</span> <span class=\"n\">int.add_right_neg</span> <span class=\"n\">at</span> <span class=\"n\">hR</span><span class=\"o\">,</span>     <span class=\"c1\">-- v + 0 = 0</span>\n  <span class=\"n\">rw</span> <span class=\"n\">ZA_IdR</span> <span class=\"n\">at</span> <span class=\"n\">hR</span><span class=\"o\">,</span>                <span class=\"c1\">-- v = 0</span>\n  <span class=\"n\">rw</span> <span class=\"n\">hL</span><span class=\"o\">,</span>                          <span class=\"c1\">-- aplico hL no alvo  0 = v</span>\n  <span class=\"n\">rw</span> <span class=\"n\">hR</span><span class=\"o\">,</span>                          <span class=\"c1\">-- aplico hR no alvo  0 = 0</span>\n<span class=\"kd\">end</span>\n</code></pre></div>",
        "id": 280831275,
        "sender_full_name": "Ipojucã Moraes da Cruz",
        "timestamp": 1651464796
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"n\">tactic</span>\n\n<span class=\"kd\">lemma</span> <span class=\"n\">ZA_UniId</span> <span class=\"o\">(</span><span class=\"n\">u</span> <span class=\"n\">v</span><span class=\"o\">:</span> <span class=\"n\">ℤ</span> <span class=\"o\">):</span> <span class=\"bp\">∀</span> <span class=\"o\">(</span><span class=\"n\">a</span><span class=\"o\">:</span> <span class=\"n\">ℤ</span> <span class=\"o\">),</span> <span class=\"o\">(</span> <span class=\"n\">u</span> <span class=\"bp\">+</span> <span class=\"n\">a</span> <span class=\"bp\">=</span> <span class=\"n\">a</span><span class=\"o\">)</span> <span class=\"bp\">∧</span> <span class=\"o\">(</span> <span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"n\">v</span> <span class=\"bp\">=</span> <span class=\"n\">a</span> <span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"n\">u</span> <span class=\"bp\">=</span> <span class=\"n\">v</span><span class=\"o\">:=</span>\n<span class=\"kd\">begin</span>\n  <span class=\"n\">rintro</span> <span class=\"n\">a</span> <span class=\"o\">⟨</span><span class=\"n\">hL</span><span class=\"o\">,</span> <span class=\"n\">hR</span><span class=\"o\">⟩,</span>\n  <span class=\"k\">calc</span> <span class=\"n\">u</span> <span class=\"bp\">=</span> <span class=\"n\">u</span> <span class=\"bp\">+</span> <span class=\"mi\">0</span> <span class=\"o\">:</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span> <span class=\"n\">add_zero</span>\n  <span class=\"bp\">...</span>    <span class=\"bp\">=</span> <span class=\"n\">u</span> <span class=\"bp\">+</span> <span class=\"o\">(</span><span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"bp\">-</span><span class=\"n\">a</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span> <span class=\"n\">int.add_right_neg</span>\n  <span class=\"bp\">...</span>    <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"n\">u</span> <span class=\"bp\">+</span> <span class=\"n\">a</span><span class=\"o\">)</span> <span class=\"bp\">+</span> <span class=\"bp\">-</span><span class=\"n\">a</span> <span class=\"o\">:</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span> <span class=\"n\">add_assoc</span>\n  <span class=\"bp\">...</span>    <span class=\"bp\">=</span> <span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"bp\">-</span><span class=\"n\">a</span> <span class=\"o\">:</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span> <span class=\"n\">hL</span>\n  <span class=\"bp\">...</span>    <span class=\"bp\">=</span> <span class=\"bp\">-</span><span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"n\">a</span> <span class=\"o\">:</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span> <span class=\"n\">add_comm</span>\n  <span class=\"bp\">...</span>    <span class=\"bp\">=</span> <span class=\"bp\">-</span><span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"o\">(</span><span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"n\">v</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span> <span class=\"n\">hR</span>\n  <span class=\"bp\">...</span>    <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"n\">a</span><span class=\"o\">)</span> <span class=\"bp\">+</span> <span class=\"n\">v</span> <span class=\"o\">:</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span> <span class=\"n\">add_assoc</span>\n  <span class=\"bp\">...</span>    <span class=\"bp\">=</span> <span class=\"mi\">0</span> <span class=\"bp\">+</span> <span class=\"n\">v</span> <span class=\"o\">:</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span> <span class=\"n\">add_left_neg</span>\n  <span class=\"bp\">...</span>    <span class=\"bp\">=</span> <span class=\"n\">v</span> <span class=\"o\">:</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span> <span class=\"n\">zero_add</span>\n<span class=\"kd\">end</span>\n\n<span class=\"kd\">lemma</span> <span class=\"n\">ZA_UniId'</span> <span class=\"o\">(</span><span class=\"n\">u</span> <span class=\"n\">v</span><span class=\"o\">:</span> <span class=\"n\">ℤ</span> <span class=\"o\">):</span> <span class=\"bp\">∀</span> <span class=\"o\">(</span><span class=\"n\">a</span><span class=\"o\">:</span> <span class=\"n\">ℤ</span> <span class=\"o\">),</span> <span class=\"o\">(</span> <span class=\"n\">u</span> <span class=\"bp\">+</span> <span class=\"n\">a</span> <span class=\"bp\">=</span> <span class=\"n\">a</span><span class=\"o\">)</span> <span class=\"bp\">∧</span> <span class=\"o\">(</span> <span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"n\">v</span> <span class=\"bp\">=</span> <span class=\"n\">a</span> <span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"n\">u</span> <span class=\"bp\">=</span> <span class=\"n\">v</span><span class=\"o\">:=</span>\n<span class=\"kd\">begin</span>\n  <span class=\"n\">rintro</span> <span class=\"n\">a</span> <span class=\"o\">⟨</span><span class=\"n\">hL</span><span class=\"o\">,</span> <span class=\"n\">hR</span><span class=\"o\">⟩,</span>\n  <span class=\"n\">linarith</span><span class=\"o\">,</span>\n<span class=\"kd\">end</span>\n</code></pre></div>",
        "id": 280831760,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1651465469
    }
]