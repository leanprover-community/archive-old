[
    {
        "content": "<p>Is there a total matrix inverse function, defined on all matrices over a field that has the property that it returns left inverses when they exist, and right inverses when they exist, and <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mo stretchy=\"false\">(</mo><mi>A</mi><mi>B</mi><msup><mo stretchy=\"false\">)</mo><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo>=</mo><msup><mi>B</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><msup><mi>A</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding=\"application/x-tex\">(AB)^{-1} = B^{-1}A^{-1}</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:1.064108em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">A</span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">−</span><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8141079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">−</span><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">−</span><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span></span></span></span> for all matrices?</p>",
        "id": 169712147,
        "sender_full_name": "Chris Hughes",
        "timestamp": 1562336379
    },
    {
        "content": "<p>all matrices of any size? Or some fixed square size?</p>",
        "id": 169712220,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1562336416
    },
    {
        "content": "<p>Any size</p>",
        "id": 169712237,
        "sender_full_name": "Chris Hughes",
        "timestamp": 1562336428
    },
    {
        "content": "<p>I can't even make this question typecheck</p>",
        "id": 169712321,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1562336517
    },
    {
        "content": "<p>If A is an a * b matrix, what size is A^{-1} supposed to be?</p>",
        "id": 169712373,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1562336536
    },
    {
        "content": "<p>b * a</p>",
        "id": 169712380,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1562336543
    },
    {
        "content": "<p>and whether or not it's a left inverse or right inverse depends on whether a&lt;b or b&gt;a?</p>",
        "id": 169712404,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1562336566
    },
    {
        "content": "<blockquote>\n<p>b * a</p>\n</blockquote>\n<p>Yes.</p>",
        "id": 169712426,
        "sender_full_name": "Chris Hughes",
        "timestamp": 1562336585
    },
    {
        "content": "<blockquote>\n<p>and whether or not it's a left inverse or right inverse depends on whether a&lt;b or b&gt;a?</p>\n</blockquote>\n<p>Yes, but maybe neither inverse exists.</p>",
        "id": 169712553,
        "sender_full_name": "Chris Hughes",
        "timestamp": 1562336679
    },
    {
        "content": "<p>Does this work: <a href=\"https://en.wikipedia.org/wiki/Invertible_matrix#In_relation_to_its_adjugate\" target=\"_blank\" title=\"https://en.wikipedia.org/wiki/Invertible_matrix#In_relation_to_its_adjugate\">https://en.wikipedia.org/wiki/Invertible_matrix#In_relation_to_its_adjugate</a></p>",
        "id": 169712592,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1562336728
    },
    {
        "content": "<p>That's only for square matrices.</p>",
        "id": 169712678,
        "sender_full_name": "Chris Hughes",
        "timestamp": 1562336770
    },
    {
        "content": "<p>The problem is with the non-square matrices.</p>",
        "id": 169712680,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1562336771
    },
    {
        "content": "<p>How about this: <a href=\"https://en.wikipedia.org/wiki/Generalized_inverse\" target=\"_blank\" title=\"https://en.wikipedia.org/wiki/Generalized_inverse\">https://en.wikipedia.org/wiki/Generalized_inverse</a></p>",
        "id": 169712704,
        "sender_full_name": "Alexander Bentkamp",
        "timestamp": 1562336799
    },
    {
        "content": "<p>I am concerned that they talk about the real numbers here. Actually <span class=\"user-mention\" data-user-id=\"130500\">@Abhimanyu Pallavi Sudhir</span> has some paper about inverse matrices in more generality than is usually used by mathematicians, but he definitely needed the ground field to be the reals.</p>",
        "id": 169712807,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1562336888
    },
    {
        "content": "<p>I need it for rationals.</p>",
        "id": 169712843,
        "sender_full_name": "Chris Hughes",
        "timestamp": 1562336933
    },
    {
        "content": "<p>I've never really thought about this... can't the adjugate be generalised? What if you take cofactors where you don't delete a row and a column but \"at least one row, and at least one column\" so that you end up with squares of size <code>k-1 × k-1</code> where <code>k = min (m,n)</code>.</p>",
        "id": 169712894,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1562336996
    },
    {
        "content": "<p>Will that give you a left inverse where one exists?</p>",
        "id": 169712957,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1562337021
    },
    {
        "content": "<p>I have no idea if that would work, but it gives the correct result for square matrices.</p>",
        "id": 169712958,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1562337021
    },
    {
        "content": "<p>Wait -- where are you putting these cofactors?</p>",
        "id": 169712972,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1562337040
    },
    {
        "content": "<p>They need to be arranged in a nice box</p>",
        "id": 169712980,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1562337052
    },
    {
        "content": "<p>Aah, good point</p>",
        "id": 169712982,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1562337054
    },
    {
        "content": "<p>I think the pseudoinverse is what you want</p>",
        "id": 169712989,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1562337060
    },
    {
        "content": "<p>/me goes back to commutative algebra</p>",
        "id": 169713007,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1562337076
    },
    {
        "content": "<p>/me decides that if Mario is wrong then Chris will just ask again</p>",
        "id": 169715846,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1562339336
    },
    {
        "content": "<p>the moore-penrose inverse looks right, but also looks complicated -&gt; <a href=\"https://en.wikipedia.org/wiki/Proofs_involving_the_Moore%E2%80%93Penrose_inverse\" target=\"_blank\" title=\"https://en.wikipedia.org/wiki/Proofs_involving_the_Moore%E2%80%93Penrose_inverse\">https://en.wikipedia.org/wiki/Proofs_involving_the_Moore%E2%80%93Penrose_inverse</a></p>",
        "id": 169716189,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1562339601
    },
    {
        "content": "<p>it also needs singular value decomposition...</p>",
        "id": 169716273,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1562339699
    },
    {
        "content": "<p>and apparently both the SVD and the M-P inverse require the base field to be R or C</p>",
        "id": 169716416,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1562339808
    },
    {
        "content": "<p>That's pretty ugly</p>",
        "id": 169716449,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1562339839
    },
    {
        "content": "<p>How can such a thing work for R <em>and</em> C but not for general fields?</p>",
        "id": 169716464,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1562339862
    },
    {
        "content": "<p>I highly suspect that's not actually true, but you know mathematicians</p>",
        "id": 169716495,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1562339881
    },
    {
        "content": "<p>I understand that certain things only work for alg.closed fields, or only for ordered fields...</p>",
        "id": 169716537,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1562339885
    },
    {
        "content": "<p>There is quite a lot that is done on fields that are R or C</p>",
        "id": 169716556,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1562339905
    },
    {
        "content": "<p>I think that some of these definitions are quite analysis-y</p>",
        "id": 169716558,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1562339906
    },
    {
        "content": "<p>hilbert spaces and banach spaces come to mind</p>",
        "id": 169716572,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1562339923
    },
    {
        "content": "<p>Abhi told me that his matrix inverse stuff didn't work over a general field.</p>",
        "id": 169716573,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1562339925
    },
    {
        "content": "<blockquote>\n<p>hilbert spaces and banach spaces come to mind</p>\n</blockquote>\n<p>That's analysis</p>",
        "id": 169716583,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1562339938
    },
    {
        "content": "<p>Hmm..., maybe it is because they want to mention <code>A^*</code>?</p>",
        "id": 169716620,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1562339973
    },
    {
        "content": "<p>They are analysis <em>because</em> it says \"R or C\"</p>",
        "id": 169716634,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1562339984
    },
    {
        "content": "<p>Also, the section \"Definition\" on wiki, is really just a theorem (-;</p>",
        "id": 169716640,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1562339988
    },
    {
        "content": "<p>The definition of <em>a</em> pesudoinverse, as a predicate, isn't hard</p>",
        "id": 169716702,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1562340014
    },
    {
        "content": "<p>but proving existence is hard and requires these analysis-y assumptions</p>",
        "id": 169716715,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1562340031
    },
    {
        "content": "<p>By the way <span class=\"user-mention\" data-user-id=\"110044\">@Chris Hughes</span> these certainly don't necessarily exist over Q</p>",
        "id": 169716765,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1562340101
    },
    {
        "content": "<p>I expect that you can do similar things over CM fields and totally real fields</p>",
        "id": 169716865,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1562340188
    },
    {
        "content": "<p>wait, now I'm not sure if that's true. It's not clear to me if eigenvalue decomposition of some kind is required</p>",
        "id": 169716894,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1562340221
    },
    {
        "content": "<p>but Q is totally real</p>",
        "id": 169716902,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1562340229
    },
    {
        "content": "<p>It sure is...</p>",
        "id": 169717050,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1562340338
    },
    {
        "content": "<p>So it works over the algebraic reals</p>",
        "id": 169717051,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1562340338
    },
    {
        "content": "<p>That existence claim is a first order formula, right?</p>",
        "id": 169717052,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1562340338
    },
    {
        "content": "<p>Now I hope that you can do some Galois descent to go to subfields</p>",
        "id": 169717063,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1562340356
    },
    {
        "content": "<p>The inverse of an invertible matrix exists without any eigenvalue decomp</p>",
        "id": 169717114,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1562340373
    },
    {
        "content": "<p>So maybe the pseudoinverse also exists</p>",
        "id": 169717119,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1562340397
    },
    {
        "content": "<p>Doing SVD definitely requires eigenvalues though</p>",
        "id": 169717127,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1562340411
    },
    {
        "content": "<p>so that restricts application to algebraically closed fields and maybe real closed fields</p>",
        "id": 169717143,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1562340430
    },
    {
        "content": "<p>I would like yo deduce after the fact that it is defined over subfields</p>",
        "id": 169717224,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1562340492
    },
    {
        "content": "<blockquote>\n<p>I would like yo deduce after the fact that it is defined over subfields</p>\n</blockquote>\n<p>You've been doing too many Shimura varieties.</p>",
        "id": 169717247,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1562340524
    },
    {
        "content": "<p>I don't think it always works out so easily :-)</p>",
        "id": 169717258,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1562340542
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span> Look at <a href=\"https://en.wikipedia.org/wiki/Proofs_involving_the_Moore%E2%80%93Penrose_inverse#Definition\" target=\"_blank\" title=\"https://en.wikipedia.org/wiki/Proofs_involving_the_Moore%E2%80%93Penrose_inverse#Definition\">https://en.wikipedia.org/wiki/Proofs_involving_the_Moore%E2%80%93Penrose_inverse#Definition</a></p>",
        "id": 169717402,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1562340693
    },
    {
        "content": "<p>That characterisation is pretty algebraic..., so I would hope that it lends itself to Galois descent.</p>",
        "id": 169717421,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1562340720
    },
    {
        "content": "<p>remember we call it Galois <code>lift</code> here</p>",
        "id": 169717487,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1562340747
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110044\">@Chris Hughes</span> Do you want something that computes?</p>",
        "id": 169717543,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1562340807
    },
    {
        "content": "<p>Because this seems extremely slow...</p>",
        "id": 169717551,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1562340815
    },
    {
        "content": "<blockquote>\n<p>I am concerned that they talk about the real numbers here. Actually <span class=\"user-mention silent\" data-user-id=\"130500\">Abhimanyu Pallavi Sudhir</span> has some paper about inverse matrices in more generality than is usually used by mathematicians, but he definitely needed the ground field to be the reals.</p>\n</blockquote>\n<p>That's determinants, not inverses. And yeah, it's related to the SVD.</p>",
        "id": 169718178,
        "sender_full_name": "Abhimanyu Pallavi Sudhir",
        "timestamp": 1562341351
    },
    {
        "content": "<p>well, I guess they're related here. So you can take the determinant of a 2x3 matrix with real coefficients, right?</p>",
        "id": 169718211,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1562341389
    },
    {
        "content": "<p>But if that 2x3 matrix had rational coefficients, would the determinant be rational?</p>",
        "id": 169718230,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1562341410
    },
    {
        "content": "<p>No.</p>",
        "id": 169718234,
        "sender_full_name": "Abhimanyu Pallavi Sudhir",
        "timestamp": 1562341416
    },
    {
        "content": "<p>|det(1, 2)| = sqrt(5)</p>",
        "id": 169718243,
        "sender_full_name": "Abhimanyu Pallavi Sudhir",
        "timestamp": 1562341427
    },
    {
        "content": "<p>Or whatever 2^2+1 is.</p>",
        "id": 169718295,
        "sender_full_name": "Abhimanyu Pallavi Sudhir",
        "timestamp": 1562341452
    },
    {
        "content": "<p>it'll depend on what field you're in</p>",
        "id": 169718303,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1562341463
    },
    {
        "content": "<p>Oh wait -- but it can be a vector of rational entries.</p>",
        "id": 169718330,
        "sender_full_name": "Abhimanyu Pallavi Sudhir",
        "timestamp": 1562341481
    },
    {
        "content": "<p>If you use the determinant in (Pyle, 1962).</p>",
        "id": 169718340,
        "sender_full_name": "Abhimanyu Pallavi Sudhir",
        "timestamp": 1562341496
    },
    {
        "content": "<p>Or an m-vector with rational entries.</p>",
        "id": 169718349,
        "sender_full_name": "Abhimanyu Pallavi Sudhir",
        "timestamp": 1562341505
    },
    {
        "content": "<p>what is m?</p>",
        "id": 169718426,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1562341568
    },
    {
        "content": "<p>The dimension of the domain space.</p>",
        "id": 169718437,
        "sender_full_name": "Abhimanyu Pallavi Sudhir",
        "timestamp": 1562341585
    },
    {
        "content": "<p>So for n by m matrices the \"determinant\" can just be the wedge product of the m columns.</p>",
        "id": 169718457,
        "sender_full_name": "Abhimanyu Pallavi Sudhir",
        "timestamp": 1562341614
    },
    {
        "content": "<p>The Pyle determinant just flattens it out into an nCm dimensional vector.</p>",
        "id": 169718487,
        "sender_full_name": "Abhimanyu Pallavi Sudhir",
        "timestamp": 1562341659
    },
    {
        "content": "<blockquote>\n<p>and apparently both the SVD and the M-P inverse require the base field to be R or C</p>\n</blockquote>\n<p>Presumably because the SVD involves the notion of scaling and rotations. If you only allowed scaling, you would need algebraic closure. But allowing rotations allows the complex behavior to be mimicked by real numbers.</p>",
        "id": 169718721,
        "sender_full_name": "Abhimanyu Pallavi Sudhir",
        "timestamp": 1562341896
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110044\">@Chris Hughes</span> were any of these attempts useful? This seems like a reasonable MO question to me.</p>",
        "id": 169887322,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1562606249
    },
    {
        "content": "<p>I know that the answer is no now. None of the pseidoinverses are particularly useful for what I'm doing.</p>",
        "id": 169889690,
        "sender_full_name": "Chris Hughes",
        "timestamp": 1562607947
    }
]