[
    {
        "content": "<p>There are two natural structures that make it possible to speak about convex combinations (hence, convexity, convex functions etc): <code>[semimodule nnreal E]</code> and <code>[vector_space real E] [add_torsor E P]</code>.</p>",
        "id": 207690717,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1598048179
    },
    {
        "content": "<p>Unfortunately, in the most common case <code>[vector_space real E]</code> these two approaches result in non-defeq definitions.</p>",
        "id": 207690862,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1598048331
    },
    {
        "content": "<p>For a <code>[semimodule nnreal E]</code> we can talk about <code>a • x + (1 - a) • y</code> and for an <code>affine_space</code> we can talk about <code>a • (y -ᵥ x) +ᵥ x</code>.</p>",
        "id": 207691089,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1598048517
    },
    {
        "content": "<p>So, we either need some clever trick (I failed to come up with one) or stick to one of the approaches. <span class=\"user-mention\" data-user-id=\"110031\">@Patrick Massot</span> <span class=\"user-mention\" data-user-id=\"110050\">@Sebastien Gouezel</span> <span class=\"user-mention\" data-user-id=\"311453\">@Frédéric Dupuis</span> What do think?</p>",
        "id": 207691339,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1598048703
    },
    {
        "content": "<p>There's also a separate algebraic structure of <a href=\"https://ncatlab.org/nlab/show/convex+space\">convex space</a> which is a place where you can form convex combinations, and which you can obtain from either of these I guess. (Its free algebra on n+1 generators is the n-simplex.)</p>",
        "id": 207691943,
        "sender_full_name": "Reid Barton",
        "timestamp": 1598049146
    },
    {
        "content": "<p>This abstract version has some examples which don't really come from geometry, like the quotient <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">[</mo><mn>0</mn><mo separator=\"true\">,</mo><mn>1</mn><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">[0,1]</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[</span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">]</span></span></span></span> (as a convex set) by the <del>equivalence</del> relation <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>∼</mo><msup><mi>r</mi><mo lspace=\"0em\" mathvariant=\"normal\" rspace=\"0em\">′</mo></msup></mrow><annotation encoding=\"application/x-tex\">r \\sim r'</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∼</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.751892em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span> iff <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo separator=\"true\">,</mo><msup><mi>r</mi><mo lspace=\"0em\" mathvariant=\"normal\" rspace=\"0em\">′</mo></msup><mo>∈</mo><mo stretchy=\"false\">[</mo><mn>0</mn><mo separator=\"true\">,</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">r,r' \\in [0,1)</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.946332em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[</span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">)</span></span></span></span>.</p>",
        "id": 207692474,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1598049614
    },
    {
        "content": "<p><del>(or r=r'=1 :p)</del></p>",
        "id": 207692727,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1598049848
    },
    {
        "content": "<p><del>well yeah :)</del></p>",
        "id": 207692754,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1598049879
    },
    {
        "content": "<p>I would prioritize the affine space case which seems much more common.</p>",
        "id": 207697814,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1598054657
    },
    {
        "content": "<p>Is there no way to define some sort of \"pre-<code>add_torsor</code>\" typeclass that wouldn't require an additive group but only a monoid? Even if it's only used for this, it might be worth it if it's possible.</p>",
        "id": 207698069,
        "sender_full_name": "Frédéric Dupuis",
        "timestamp": 1598054936
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110032\">Reid Barton</span> <a href=\"#narrow/stream/116395-maths/topic/convexity/near/207691943\">said</a>:</p>\n<blockquote>\n<p>There's also a separate algebraic structure of <a href=\"https://ncatlab.org/nlab/show/convex+space\">convex space</a> which is a place where you can form convex combinations, and which you can obtain from either of these I guess. (Its free algebra on n+1 generators is the n-simplex.)</p>\n</blockquote>\n<p>If we go this way, then a <code>vector_space real E</code> will have two non-defeq instances.</p>",
        "id": 207702101,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1598061713
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"311453\">@Frédéric Dupuis</span> Do you have some definition?</p>",
        "id": 207702209,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1598061850
    },
    {
        "content": "<p>FWIW, I do think that these abstract convex gadgets deserve some attention. They're (positive) Archimedean analogues of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Z}_p</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.974998em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathbb\">Z</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15139200000000003em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span></span> modules, and the silly example I mentioned above is a \"torsion\" module, in some sense. The \"usual\" convex spaces, defined as subsets of real vector spaces, are analogous to lattices in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Q</mi><mi>p</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}_p</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.974998em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathbb\">Q</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15139200000000003em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span></span>-vector spaces.</p>",
        "id": 207702428,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1598062207
    },
    {
        "content": "<p>We can add a typeclass <code>convex_space</code> but then we'll have a diamond <code>vector_space ℝ E → add_torsor E E → convex_space E</code> vs <code>vector_space ℝ E → semimodule ℝ≥0 E → convex_space E</code>, and the resulting \"convex combination\" instances are not defeq.</p>",
        "id": 207706428,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1598069484
    },
    {
        "content": "<p>The second path <code>vector_space ℝ E → semimodule ℝ≥0 E → convex_space E</code> is essentially a restriction of scalars. Would it make sense to define something analogous to <code>scalar_tower</code> <span class=\"user-mention\" data-user-id=\"110064\">@Kenny Lau</span> ?</p>",
        "id": 207726946,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1598106721
    },
    {
        "content": "<p>I don't know</p>",
        "id": 207726998,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1598106788
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"214703\">@Yury G. Kudryashov</span> No, I don't have a specific definition, it was probably just wishful thinking.</p>",
        "id": 207727891,
        "sender_full_name": "Frédéric Dupuis",
        "timestamp": 1598108178
    },
    {
        "content": "<p>what's the definition of <code>convex_space</code>?</p>",
        "id": 207728151,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1598108614
    },
    {
        "content": "<p><a href=\"https://ncatlab.org/nlab/show/convex+space\">https://ncatlab.org/nlab/show/convex+space</a></p>",
        "id": 207728247,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1598108749
    }
]