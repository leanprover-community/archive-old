[
    {
        "content": "<p>As <span class=\"user-mention\" data-user-id=\"110049\">@Mario Carneiro</span> might know, we're doing the special case d=5, but should we generalize it and then PR it?</p>",
        "id": 127169584,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1527438069
    },
    {
        "content": "<p>Just for d=1 mod 4 right?</p>",
        "id": 127170071,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439072
    },
    {
        "content": "<p>I think there's definitely an argument for it.</p>",
        "id": 127170072,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439078
    },
    {
        "content": "<p>well</p>",
        "id": 127170107,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1527439083
    },
    {
        "content": "<p>These are pretty famous rings</p>",
        "id": 127170111,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439085
    },
    {
        "content": "<p>we can do Z[(1+sqrt(3))/2] also, you know</p>",
        "id": 127170114,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1527439093
    },
    {
        "content": "<p>d squarefree and 1 mod 4</p>",
        "id": 127170115,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439094
    },
    {
        "content": "<p>you don't want to do that ring Kenny</p>",
        "id": 127170116,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439103
    },
    {
        "content": "<p>it's not 2-d over Z</p>",
        "id": 127170117,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439106
    },
    {
        "content": "<p>I see what you mean</p>",
        "id": 127170118,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1527439115
    },
    {
        "content": "<p>the denominators pile up</p>",
        "id": 127170120,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439119
    },
    {
        "content": "<p>ok let's do Z[(1+sqrt(4d+1))/2] then</p>",
        "id": 127170121,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1527439132
    },
    {
        "content": "<p>the case d&gt;=0 and d&lt;0 are slightly different later on</p>",
        "id": 127170124,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439148
    },
    {
        "content": "<p>The number of units in that ring depends on whether d&gt;=0 (always infinite) or d&lt;0 (never)</p>",
        "id": 127170128,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439169
    },
    {
        "content": "<p>well they only did Z[sqrt(d)] for d&gt;=0, so I don't want to have to redo everything, so I'll just do d&gt;0</p>",
        "id": 127170129,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1527439174
    },
    {
        "content": "<p>I'm not sure this is a good generalization</p>",
        "id": 127170130,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1527439181
    },
    {
        "content": "<p>Mario these are fundamental objects in number theory</p>",
        "id": 127170133,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439192
    },
    {
        "content": "<p>They're the full ring of integers of a real quadratic field</p>",
        "id": 127170134,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439200
    },
    {
        "content": "<p>If d=3 mod 4</p>",
        "id": 127170179,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439206
    },
    {
        "content": "<p>(1+sqrt n)/2 seems a bit specific</p>",
        "id": 127170180,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1527439209
    },
    {
        "content": "<p>not at all</p>",
        "id": 127170183,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1527439215
    },
    {
        "content": "<p>Here's the logic</p>",
        "id": 127170184,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439217
    },
    {
        "content": "<p>The most simple number field is Q</p>",
        "id": 127170185,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439223
    },
    {
        "content": "<p>Then there's all the other number fields</p>",
        "id": 127170186,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439229
    },
    {
        "content": "<p>but we don't have number fields yet</p>",
        "id": 127170187,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439233
    },
    {
        "content": "<p>but the second simplest class of number fields are the quadratic fields</p>",
        "id": 127170188,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439245
    },
    {
        "content": "<p>Is there a general quadratic field?</p>",
        "id": 127170190,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1527439252
    },
    {
        "content": "<p>they're all of the form Q(sqrt(t)) for t a rational that is not a square</p>",
        "id": 127170191,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439254
    },
    {
        "content": "<p>Yes and we're doing it</p>",
        "id": 127170192,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439259
    },
    {
        "content": "<p>that's what I'm going to explain</p>",
        "id": 127170195,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439264
    },
    {
        "content": "<p>Q(sqrt(t)) can cunningly be rewritten as Q(sqrt(n)) with n a square-free integer</p>",
        "id": 127170199,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439286
    },
    {
        "content": "<p>the fields generated by sqrt(2) and sqrt(18) over Q are the same</p>",
        "id": 127170201,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439302
    },
    {
        "content": "<p>because 1/3 is in Q</p>",
        "id": 127170203,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439305
    },
    {
        "content": "<p>right</p>",
        "id": 127170204,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1527439309
    },
    {
        "content": "<p>And now there's a theory of integers in these fields</p>",
        "id": 127170206,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439318
    },
    {
        "content": "<p>and if n is not 1 and squarefree</p>",
        "id": 127170245,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439327
    },
    {
        "content": "<p>which is the general case</p>",
        "id": 127170246,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439342
    },
    {
        "content": "<p>then the integers in Q(sqrt(n)) are Z[sqrt(n)] if n is not 1 mod 4</p>",
        "id": 127170247,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439351
    },
    {
        "content": "<p>and what the title of this thread is if n=d is 1 mod 4</p>",
        "id": 127170248,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439361
    },
    {
        "content": "<p>you mean 1</p>",
        "id": 127170249,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1527439371
    },
    {
        "content": "<p>yes</p>",
        "id": 127170250,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439374
    },
    {
        "content": "<p>so then Z[(1+sqrt 5)/2] isn't in the list?</p>",
        "id": 127170257,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1527439389
    },
    {
        "content": "<p>sorry</p>",
        "id": 127170259,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439397
    },
    {
        "content": "<p>type</p>",
        "id": 127170260,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439397
    },
    {
        "content": "<p>typo</p>",
        "id": 127170261,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439399
    },
    {
        "content": "<p>d=5 is fine</p>",
        "id": 127170262,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439401
    },
    {
        "content": "<p>If Kenny does Z[(1+sqrt(d))/2] for d a nat which is congruent to 1 mod 4</p>",
        "id": 127170263,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439426
    },
    {
        "content": "<p>then we will have the integers of an arbitrary real quadratic field</p>",
        "id": 127170264,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439442
    },
    {
        "content": "<p>so what about Z[sqrt 5]? Is this not an integer ring?</p>",
        "id": 127170303,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1527439448
    },
    {
        "content": "<p>yes you did those</p>",
        "id": 127170304,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439454
    },
    {
        "content": "<p>Kenny is completing the job</p>",
        "id": 127170305,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439459
    },
    {
        "content": "<p>no, the elements of Z[sqrt(5)]  are integers</p>",
        "id": 127170306,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439474
    },
    {
        "content": "<p>but they are not the full ring of integers</p>",
        "id": 127170316,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439519
    },
    {
        "content": "<p>because there is an element alpha of the field of fractions of Z[sqrt(5)]</p>",
        "id": 127170317,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439519
    },
    {
        "content": "<p>Having the full ring is important</p>",
        "id": 127170318,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439519
    },
    {
        "content": "<p>Z[sqrt(5)] is not integrally closed</p>",
        "id": 127170319,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439519
    },
    {
        "content": "<p>The full ring has a property called being \"integrally closed\"</p>",
        "id": 127170320,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439519
    },
    {
        "content": "<p>but they are not <strong>all</strong> the integers</p>",
        "id": 127170323,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1527439532
    },
    {
        "content": "<p>the ring of integers of Q(sqrt(d)) is Z[sqrt(d)] if d is 3 mod 4 and Z[(1+sqrt(d))/2] if d is 1 mod 4</p>",
        "id": 127170324,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1527439532
    },
    {
        "content": "<p>there are more</p>",
        "id": 127170325,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1527439532
    },
    {
        "content": "<p>which is the root of a monic polynomial with coefficients in Z[sqrt(5)]</p>",
        "id": 127170326,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439539
    },
    {
        "content": "<p>Kenny you have to make d squarefree for this to be true</p>",
        "id": 127170328,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439552
    },
    {
        "content": "<p>Mario built Z[sqrt(18)]</p>",
        "id": 127170329,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439558
    },
    {
        "content": "<p>that's not a full ring of integers either</p>",
        "id": 127170368,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439567
    },
    {
        "content": "<p>so d can be in Z</p>",
        "id": 127170373,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439586
    },
    {
        "content": "<p>well ok</p>",
        "id": 127170374,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1527439587
    },
    {
        "content": "<p>Does your definition have a conjugation operation?</p>",
        "id": 127170375,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1527439587
    },
    {
        "content": "<p>but it must be not zero or 1</p>",
        "id": 127170376,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439592
    },
    {
        "content": "<p>sure there is conjugation</p>",
        "id": 127170377,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1527439600
    },
    {
        "content": "<p>and it must be \"squarefree\", so if p is prime then p^2 doesn't divide d</p>",
        "id": 127170378,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439604
    },
    {
        "content": "<p>the galois group is C2</p>",
        "id": 127170379,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1527439605
    },
    {
        "content": "<p>I would have used alpha and conj alpha</p>",
        "id": 127170380,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1527439608
    },
    {
        "content": "<p>yes that's a good idea</p>",
        "id": 127170381,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439618
    },
    {
        "content": "<p>I defined conjugation in Z[(1+sqrt(5))/2]</p>",
        "id": 127170382,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1527439621
    },
    {
        "content": "<p>if alpha is (1+sqrt(d))/2</p>",
        "id": 127170388,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439629
    },
    {
        "content": "<p>then its Galois conjugate is 1-alpha</p>",
        "id": 127170389,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439634
    },
    {
        "content": "<p><a href=\"https://github.com/kbuzzard/lean-squares-in-fibonacci/blob/master/src/Zalpha.lean#L256\" target=\"_blank\" title=\"https://github.com/kbuzzard/lean-squares-in-fibonacci/blob/master/src/Zalpha.lean#L256\">https://github.com/kbuzzard/lean-squares-in-fibonacci/blob/master/src/Zalpha.lean#L256</a></p>",
        "id": 127170390,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1527439639
    },
    {
        "content": "<p>It is a conjecture that infinitely many of these rings Z[(1+sqrt(d)/2] are unique factorization domains</p>",
        "id": 127170391,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439667
    },
    {
        "content": "<p>so if alpha is (1+sqrt(4k+1))/2, then it is the positive root of x^2 - x = k</p>",
        "id": 127170392,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1527439679
    },
    {
        "content": "<p>if k is negative then I think this is (1+37)/2</p>",
        "id": 127170432,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439699
    },
    {
        "content": "<p>do these rings make sense for other d?</p>",
        "id": 127170433,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1527439708
    },
    {
        "content": "<p>d=1 mod 4</p>",
        "id": 127170434,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439725
    },
    {
        "content": "<p>squarefree</p>",
        "id": 127170436,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1527439739
    },
    {
        "content": "<p>and not 1</p>",
        "id": 127170439,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439744
    },
    {
        "content": "<p>you don't want Z[(1+sqrt(9))/2]</p>",
        "id": 127170440,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1527439745
    },
    {
        "content": "<p>That looks like nonsquare</p>",
        "id": 127170444,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1527439759
    },
    {
        "content": "<p>not squarefree</p>",
        "id": 127170445,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1527439764
    },
    {
        "content": "<p>you want squarefree also</p>",
        "id": 127170446,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1527439766
    },
    {
        "content": "<p>you want both</p>",
        "id": 127170447,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1527439768
    },
    {
        "content": "<p>right</p>",
        "id": 127170448,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439768
    },
    {
        "content": "<p>To be honest I am a bit confused about that ring</p>",
        "id": 127170449,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439776
    },
    {
        "content": "<p>Is it 2-d over Z?</p>",
        "id": 127170450,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439780
    },
    {
        "content": "<p>I bet it is</p>",
        "id": 127170452,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439787
    },
    {
        "content": "<p>but I can prove it isn't</p>",
        "id": 127170454,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439795
    },
    {
        "content": "<p>that's never good</p>",
        "id": 127170455,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439800
    },
    {
        "content": "<p>alpha=(1+sqrt(9))/2</p>",
        "id": 127170499,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439812
    },
    {
        "content": "<p>oh wait</p>",
        "id": 127170501,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439817
    },
    {
        "content": "<p>alpha = 5</p>",
        "id": 127170502,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1527439820
    },
    {
        "content": "<p>ha ha</p>",
        "id": 127170503,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439821
    },
    {
        "content": "<p>I am less confused now</p>",
        "id": 127170504,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439830
    },
    {
        "content": "<p>lol</p>",
        "id": 127170506,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1527439835
    },
    {
        "content": "<p>Also Z[(1+sqrt 4)/2] is trouble because it has dyadic rationals</p>",
        "id": 127170507,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1527439856
    },
    {
        "content": "<p>If you abstractly make Z[X]/((2X-1)^2-9) or (better) Z[X]/(X^2-X-2)</p>",
        "id": 127170508,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439859
    },
    {
        "content": "<p>you don't get the same ring</p>",
        "id": 127170509,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439862
    },
    {
        "content": "<p>That's like the split complex numbers I guess</p>",
        "id": 127170518,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1527439921
    },
    {
        "content": "<p>R(sqrt(1))? :-)</p>",
        "id": 127170557,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439931
    },
    {
        "content": "<p>R+Ri with i^2=1</p>",
        "id": 127170558,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439943
    },
    {
        "content": "<p>right</p>",
        "id": 127170560,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1527439949
    },
    {
        "content": "<p>just R+R</p>",
        "id": 127170561,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439951
    },
    {
        "content": "<p>what does Z[(1+sqrt(45))/2] look like</p>",
        "id": 127170562,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1527439956
    },
    {
        "content": "<p>no, it's R x R as a set</p>",
        "id": 127170563,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1527439961
    },
    {
        "content": "<p>as a ring!</p>",
        "id": 127170564,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439968
    },
    {
        "content": "<p><code>+</code> means direct sum</p>",
        "id": 127170565,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1527439969
    },
    {
        "content": "<p>Kenny it just looks like some random order in Zalpha</p>",
        "id": 127170568,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527439984
    },
    {
        "content": "<p>It looks a bit like the way Z[sqrt(18)] does in Z[sqrt(2)]</p>",
        "id": 127170571,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440002
    },
    {
        "content": "<p>too small</p>",
        "id": 127170573,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440006
    },
    {
        "content": "<p>not integrally closed</p>",
        "id": 127170574,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440009
    },
    {
        "content": "<p>ideals don't factor uniquely into prime ideals</p>",
        "id": 127170575,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440017
    },
    {
        "content": "<p>unique factorization fails</p>",
        "id": 127170576,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440021
    },
    {
        "content": "<p>It's quite a stinky ring</p>",
        "id": 127170577,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440026
    },
    {
        "content": "<p>Has infinitely many units</p>",
        "id": 127170578,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440030
    },
    {
        "content": "<p>UF of course fails</p>",
        "id": 127170579,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1527440032
    },
    {
        "content": "<p>When is it a domain?</p>",
        "id": 127170581,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1527440033
    },
    {
        "content": "<p>when it is nonsquare</p>",
        "id": 127170582,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1527440042
    },
    {
        "content": "<p>Always an ID for d not square</p>",
        "id": 127170619,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440046
    },
    {
        "content": "<p>(removed)</p>",
        "id": 127170622,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1527440059
    },
    {
        "content": "<p>But UFD implies full ring of integers</p>",
        "id": 127170624,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440081
    },
    {
        "content": "<p>I guess I did that for Z[sqrt d]</p>",
        "id": 127170625,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1527440084
    },
    {
        "content": "<p>right</p>",
        "id": 127170627,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440088
    },
    {
        "content": "<p>I didn't do anything with squarefree</p>",
        "id": 127170629,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1527440092
    },
    {
        "content": "<p>You don't need it</p>",
        "id": 127170630,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440096
    },
    {
        "content": "<p>because you didn't prove much arithmetic stuff</p>",
        "id": 127170633,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440105
    },
    {
        "content": "<p>and had you attempted to do so</p>",
        "id": 127170637,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440110
    },
    {
        "content": "<p>and integrally closed isn't a thing I have access to</p>",
        "id": 127170638,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1527440114
    },
    {
        "content": "<p>you would have found yourself with lemmas which only applied when d was 1 or 2 mod 4</p>",
        "id": 127170639,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440127
    },
    {
        "content": "<p>So ultimately there should be the theory of number fields in Lean</p>",
        "id": 127170644,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440147
    },
    {
        "content": "<p>These are fields equipped with a field map from the rationals</p>",
        "id": 127170646,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440158
    },
    {
        "content": "<p>and such that the field is finite-dimensional as a vector space over the rationals</p>",
        "id": 127170685,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440168
    },
    {
        "content": "<p>The number constraints are a bit weird to fit in as typeclasses</p>",
        "id": 127170687,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1527440172
    },
    {
        "content": "<p>like Q(2^{1/3})</p>",
        "id": 127170688,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440172
    },
    {
        "content": "<blockquote>\n<p>The number constraints are a bit weird to fit in as typeclasses</p>\n</blockquote>\n<p>like nonsquare?</p>",
        "id": 127170689,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1527440181
    },
    {
        "content": "<p>yes</p>",
        "id": 127170690,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1527440184
    },
    {
        "content": "<p>but it fitted in :P</p>",
        "id": 127170691,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1527440188
    },
    {
        "content": "<p>I'm not a fan of that definition</p>",
        "id": 127170692,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1527440195
    },
    {
        "content": "<p>Oh wooah</p>",
        "id": 127170693,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440198
    },
    {
        "content": "<p>Mario did you do Z[sqrt(9)]?</p>",
        "id": 127170694,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440206
    },
    {
        "content": "<p>no</p>",
        "id": 127170695,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1527440211
    },
    {
        "content": "<p>yes</p>",
        "id": 127170696,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1527440214
    },
    {
        "content": "<p>lol</p>",
        "id": 127170697,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1527440216
    },
    {
        "content": "<p>Yes, up to the ID part</p>",
        "id": 127170698,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1527440217
    },
    {
        "content": "<p>lol</p>",
        "id": 127170699,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440219
    },
    {
        "content": "<p>and then you got stuck</p>",
        "id": 127170700,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440223
    },
    {
        "content": "<p>doesn't hurt to do that</p>",
        "id": 127170703,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1527440226
    },
    {
        "content": "<p>I guess not</p>",
        "id": 127170707,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440229
    },
    {
        "content": "<p>I added the assumptions when needed</p>",
        "id": 127170708,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1527440234
    },
    {
        "content": "<p>it's just funny</p>",
        "id": 127170709,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440236
    },
    {
        "content": "<p>I guess that's exactly the CS thing to do</p>",
        "id": 127170710,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440241
    },
    {
        "content": "<p>Mathematicians come to these rings in other ways</p>",
        "id": 127170711,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440249
    },
    {
        "content": "<p>I would define the ring Z[(1+sqrt(4d+1))/2] for <strong>any</strong> integer d</p>",
        "id": 127170712,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1527440249
    },
    {
        "content": "<p>yes</p>",
        "id": 127170713,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440258
    },
    {
        "content": "<p>and Z[sqrt(d)] as well Mario</p>",
        "id": 127170714,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440267
    },
    {
        "content": "<p>I did that too, in the pell part</p>",
        "id": 127170715,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1527440269
    },
    {
        "content": "<p>for d&lt;0</p>",
        "id": 127170716,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440271
    },
    {
        "content": "<p>I defined d := a^2-1</p>",
        "id": 127170717,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1527440279
    },
    {
        "content": "<p>you did what?</p>",
        "id": 127170718,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1527440279
    },
    {
        "content": "<p>and proved theorems for all a&gt;1</p>",
        "id": 127170758,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1527440289
    },
    {
        "content": "<p>In the Matiyesevich proof Kenny, he only needs a very specific kind of Z[sqrt(d)]</p>",
        "id": 127170761,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440303
    },
    {
        "content": "<p>a^2-1?</p>",
        "id": 127170762,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1527440305
    },
    {
        "content": "<p>Mario is going for that proof I guess</p>",
        "id": 127170763,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440312
    },
    {
        "content": "<p>yes</p>",
        "id": 127170764,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440315
    },
    {
        "content": "<p>it's completely ridiculous</p>",
        "id": 127170765,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440322
    },
    {
        "content": "<p>a^2-1 is nonsquare so it works</p>",
        "id": 127170768,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1527440335
    },
    {
        "content": "<p>It's important to make a Diophantine equation whose solutions grow exponentially</p>",
        "id": 127170774,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440351
    },
    {
        "content": "<p>the pell equation is hard to solve for other values of d</p>",
        "id": 127170775,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1527440351
    },
    {
        "content": "<p>But they needed an explicit one,</p>",
        "id": 127170776,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440363
    },
    {
        "content": "<p>the fundamental solution jumps all over</p>",
        "id": 127170777,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1527440371
    },
    {
        "content": "<p>not just some abstract number theory theorem that said that there existed a solution to Pell equation</p>",
        "id": 127170778,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440379
    },
    {
        "content": "<p>but for d = a^2-1 it's just (a,1)</p>",
        "id": 127170780,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1527440389
    },
    {
        "content": "<p>so they just considered X^2 - (a^2-1)Y^2=1</p>",
        "id": 127170781,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440390
    },
    {
        "content": "<p>:-)</p>",
        "id": 127170783,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440392
    },
    {
        "content": "<p>Behaviour of the fundamental solution still not that well understood</p>",
        "id": 127170828,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440418
    },
    {
        "content": "<p>hmm I should go and feed the kids I guess</p>",
        "id": 127170831,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440438
    },
    {
        "content": "<p>hopefully they're still alive</p>",
        "id": 127170834,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1527440444
    }
]