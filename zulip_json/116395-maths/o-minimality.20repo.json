[
    {
        "content": "<p>Several people have expressed interest in model theory and o-minimality (cc <span class=\"user-mention\" data-user-id=\"302826\">@Aaron Anderson</span>). For quite some time <span class=\"user-mention\" data-user-id=\"110032\">@Reid Barton</span> and I have been working on a project (with and without lean) involving o-minimality. On the Lean side, it took a while to get something that we are happy with. Since others have also started work in this direction, we've decided to open up our repo, so others can take a look: <a href=\"https://github.com/rwbarton/lean-omin\">https://github.com/rwbarton/lean-omin</a><br>\nNote that we take a very non-model-theoretic approach to the definitions. We believe that both versions should exist, with an interface between them. The model theoretic approach is suited for reasoning about (o-minimal) structures, whereas our hands-on approach is (we think) better for actually working with specific examples.</p>\n<p>Our two \"showcases\": we've proven the first part of monotonicity and constructed the o-minimal structure of semilinear sets/functions.</p>",
        "id": 208316253,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1598602604
    },
    {
        "content": "<p>What is the situation regarding the missing tactic which Reid talked about in his Pittsburgh talk?</p>",
        "id": 208316499,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1598602884
    },
    {
        "content": "<p>We don't really have a dedicated tactic yet, but it won't be hard to write it now.</p>",
        "id": 208316707,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1598603050
    },
    {
        "content": "<p>It can be very similar to <code>continuity</code>. We have the \"basic lemmas\" that it should try to apply. And then there should maybe be a bit of convenience wrapping around it.</p>",
        "id": 208316763,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1598603094
    },
    {
        "content": "<p>Isn't it amazing that ideas coming from one area of formalization can be used in another? This push just to \"get math done\" goes off in many directions but the things we learn all somehow feed back into each other</p>",
        "id": 208319760,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1598605308
    },
    {
        "content": "<p>Ooh, a new project repo. Install some <a href=\"https://leanprover-community.github.io/ci.html\">Actions</a>, add it to the <a href=\"https://github.com/leanprover-contrib/leanprover-contrib/blob/master/projects/projects.yml\">contrib list</a>, and it will show up on the <a href=\"https://leanprover-community.github.io/lean_projects.html\">brand new web page</a>!</p>",
        "id": 208323380,
        "sender_full_name": "Rob Lewis",
        "timestamp": 1598608002
    },
    {
        "content": "<p>This is on my todo list, though I think the project already doesn't build with the latest mathlib <span aria-label=\"face palm\" class=\"emoji emoji-1f926\" role=\"img\" title=\"face palm\">:face_palm:</span></p>",
        "id": 208350349,
        "sender_full_name": "Reid Barton",
        "timestamp": 1598625324
    },
    {
        "content": "<p>One purpose of the table at the bottom of that page is to shame people into keeping their projects updated</p>",
        "id": 208350588,
        "sender_full_name": "Rob Lewis",
        "timestamp": 1598625453
    },
    {
        "content": "<p>Does van den Dries ever actually define \"tame\" that way?</p>",
        "id": 208366176,
        "sender_full_name": "Aaron Anderson",
        "timestamp": 1598632710
    },
    {
        "content": "<p>No, I think the book just says \"a finite union of intervals and points\", and doesn't actually ever use the term \"tame\" at all, so it seemed like a convenient opportunity to define \"tame\" to mean something.</p>",
        "id": 208366653,
        "sender_full_name": "Reid Barton",
        "timestamp": 1598632956
    },
    {
        "content": "<p>I also made up some words in the construction of the simple / semilinear o-minimal structures like \"isolating\" that probably have a real name in model theory.</p>",
        "id": 208366740,
        "sender_full_name": "Reid Barton",
        "timestamp": 1598632999
    },
    {
        "content": "<p>Coloquially model theorists tend to use \"tame\" to mean a larger class of things, although I don't think we use it as a technical word</p>",
        "id": 208366783,
        "sender_full_name": "Aaron Anderson",
        "timestamp": 1598633018
    },
    {
        "content": "<p>It basically refers to any structure where only a small collection of well-behaved sets are definable</p>",
        "id": 208366902,
        "sender_full_name": "Aaron Anderson",
        "timestamp": 1598633058
    },
    {
        "content": "<p>So here I need a word for precisely those \"well-behaved\" sets</p>",
        "id": 208366990,
        "sender_full_name": "Reid Barton",
        "timestamp": 1598633111
    },
    {
        "content": "<p>Certainly <code>o_minimal.tame</code> can have only one meaning (-;</p>",
        "id": 208367058,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1598633143
    },
    {
        "content": "<p>at least, once you know what a DUNLO is <span aria-label=\"upside down\" class=\"emoji emoji-1f643\" role=\"img\" title=\"upside down\">:upside_down:</span></p>",
        "id": 208367102,
        "sender_full_name": "Reid Barton",
        "timestamp": 1598633159
    },
    {
        "content": "<p>Naming improvement suggestions are more than welcome</p>",
        "id": 208367161,
        "sender_full_name": "Reid Barton",
        "timestamp": 1598633168
    },
    {
        "content": "<p>Yeah, I don't have a problem with <code>o_minimal.tame</code> for now, I just wanted to point out that we'd also refer to the definable sets of an algebraically closed field or something as tame, even when there's no order involved</p>",
        "id": 208367212,
        "sender_full_name": "Aaron Anderson",
        "timestamp": 1598633196
    },
    {
        "content": "<p>By the way, for those interested in the model theory of real closed fields, Johan and I have no intention of proving that the semialgebraic structure is o-minimal, and we'd be quite happy if such a theorem (or the hard part of such a theorem, maybe formulated differently) were to magically appear.</p>",
        "id": 208367297,
        "sender_full_name": "Reid Barton",
        "timestamp": 1598633257
    },
    {
        "content": "<p>Yeah, I do have the intention of formalizing Tarski-Seidenberg</p>",
        "id": 208367446,
        "sender_full_name": "Aaron Anderson",
        "timestamp": 1598633317
    },
    {
        "content": "<p>I think the first thing I could do really is relate this definability-only definition of a structure to the functions-and-relations one</p>",
        "id": 208367580,
        "sender_full_name": "Aaron Anderson",
        "timestamp": 1598633391
    },
    {
        "content": "<p>I find that it's pretty easy to port the flypitch definition of a structure and start defining model theory things with that, but I haven't made any serious attempt to actually port formulas</p>",
        "id": 208367781,
        "sender_full_name": "Aaron Anderson",
        "timestamp": 1598633480
    },
    {
        "content": "<p>but there's a surprising amount of model theory you can define without formulas, including the category of definable sets as you've seen, and back-and-forth arguments</p>",
        "id": 208367890,
        "sender_full_name": "Aaron Anderson",
        "timestamp": 1598633526
    },
    {
        "content": "<p>The word \"tame\" came from Grothendieck (the esquisse, I think).</p>",
        "id": 208371212,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1598635117
    },
    {
        "content": "<p>Yup, but he didn't define it (-;</p>",
        "id": 208372010,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1598635565
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"302826\">Aaron Anderson</span> <a href=\"#narrow/stream/116395-maths/topic/o-minimality.20repo/near/208367580\">said</a>:</p>\n<blockquote>\n<p>I think the first thing I could do really is relate this definability-only definition of a structure to the functions-and-relations one</p>\n</blockquote>\n<p>Yes, if you have a (model-theoretic) structure for a language, its definable sets form a <code>struc</code>, and conversely, if you have a <code>struc</code> then you could form the language whose relation symbols are given by all the definable sets.</p>",
        "id": 208373091,
        "sender_full_name": "Reid Barton",
        "timestamp": 1598636111
    },
    {
        "content": "<p>It's sort of like <code>eqv_gen</code> and <code>setoid</code></p>",
        "id": 208373121,
        "sender_full_name": "Reid Barton",
        "timestamp": 1598636132
    },
    {
        "content": "<p>We can maybe make <code>struc</code> an instance for <code>L</code>-structures, but it depends on the choice of language</p>",
        "id": 208373270,
        "sender_full_name": "Aaron Anderson",
        "timestamp": 1598636213
    },
    {
        "content": "<p>I know the naming isn’t so important yet, but here’s a concept: a <code>constructible</code> set of a topological space is a boolean combination of open/closed sets</p>",
        "id": 208457581,
        "sender_full_name": "Aaron Anderson",
        "timestamp": 1598740986
    },
    {
        "content": "<p>Then <code>o_minimal.tame</code> is just constructible in the order topology</p>",
        "id": 208457590,
        "sender_full_name": "Aaron Anderson",
        "timestamp": 1598741011
    },
    {
        "content": "<p>And of course it works for ACF also</p>",
        "id": 208457657,
        "sender_full_name": "Aaron Anderson",
        "timestamp": 1598741094
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/stream/116395-maths/topic/o-minimality.20repo/near/208316499\">said</a>:</p>\n<blockquote>\n<p>What is the situation regarding the missing tactic which Reid talked about in his Pittsburgh talk?</p>\n</blockquote>\n<p>We've just gotten to the point where we can state and prove the statements in question by hand in the first place. I wrote <a href=\"https://github.com/rwbarton/lean-omin/blob/master/src/o_minimal/mono1.lean#L83-L94\">this proof</a> and <a href=\"https://github.com/rwbarton/lean-omin/blob/master/omin/topology.lean#L72-L93\">this proof</a> manually; these are two of the examples from the talk. As you can see it's already not that pleasant to write the proofs by hand.</p>",
        "id": 208513244,
        "sender_full_name": "Reid Barton",
        "timestamp": 1598837176
    },
    {
        "content": "<p>As Johan says the hope is to use something like the continuity tactic to produce these proofs automatically, although the space of problems we want to handle is more complicated (involving both definable sets and definable functions, and in the future possibly higher-order notions of definability).</p>",
        "id": 208513315,
        "sender_full_name": "Reid Barton",
        "timestamp": 1598837344
    },
    {
        "content": "<p>While a tactic would be nice for those things, I think a flypitch-ish encoding of formulas should be able to get us most of the way.</p>",
        "id": 208513416,
        "sender_full_name": "Aaron Anderson",
        "timestamp": 1598837523
    },
    {
        "content": "<p>At least, I think writing the flypitchishly formal version of the defining formula wouldn't be too bad, although eventually a tactic could do it</p>",
        "id": 208513502,
        "sender_full_name": "Aaron Anderson",
        "timestamp": 1598837672
    },
    {
        "content": "<p>And then we'd just need a theorem that says that <code>def_set</code> is equivalent to there existing some formula whose realization is exactly the set in question.</p>",
        "id": 208513581,
        "sender_full_name": "Aaron Anderson",
        "timestamp": 1598837797
    },
    {
        "content": "<p>Sure, but you still don't want to do this by hand, because when I just wrote down a set that is obviously definable, I simply want the system to notice this.</p>",
        "id": 208515979,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1598842457
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"302826\">Aaron Anderson</span> <a href=\"#narrow/stream/116395-maths/topic/o-minimality.20repo/near/208457590\">said</a>:</p>\n<blockquote>\n<p>Then <code>o_minimal.tame</code> is just constructible in the order topology</p>\n</blockquote>\n<p>I'm confused. Doesn't this mean that the infinite union of open intervals <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mo>⋃</mo><mrow><mi>n</mi><mo>∈</mo><mn>2</mn><mi mathvariant=\"double-struck\">Z</mi></mrow></msub><mo stretchy=\"false\">(</mo><mi>n</mi><mo separator=\"true\">,</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\bigcup_{n \\in 2 \\mathbb{Z}} (n, n+1)</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:1.07708em;vertical-align:-0.32708000000000004em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:-0.0000050000000000050004em;\">⋃</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.18251299999999993em;\"><span style=\"top:-2.40029em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span><span class=\"mrel mtight\">∈</span><span class=\"mord mtight\">2</span><span class=\"mord mtight\"><span class=\"mord mathbb mtight\">Z</span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32708000000000004em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">)</span></span></span></span> is constructible, hence tame? That seems wrong.</p>",
        "id": 208515993,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1598842558
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/stream/116395-maths/topic/o-minimality.20repo/near/208515993\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"302826\">Aaron Anderson</span> <a href=\"#narrow/stream/116395-maths/topic/o-minimality.20repo/near/208457590\">said</a>:</p>\n<blockquote>\n<p>Then <code>o_minimal.tame</code> is just constructible in the order topology</p>\n</blockquote>\n<p>I'm confused. Doesn't this mean that the infinite union of open intervals <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mo>⋃</mo><mrow><mi>n</mi><mo>∈</mo><mn>2</mn><mi mathvariant=\"double-struck\">Z</mi></mrow></msub><mo stretchy=\"false\">(</mo><mi>n</mi><mo separator=\"true\">,</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\bigcup_{n \\in 2 \\mathbb{Z}} (n, n+1)</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:1.07708em;vertical-align:-0.32708000000000004em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:-0.0000050000000000050004em;\">⋃</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.18251299999999993em;\"><span style=\"top:-2.40029em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span><span class=\"mrel mtight\">∈</span><span class=\"mord mtight\">2</span><span class=\"mord mtight\"><span class=\"mord mathbb mtight\">Z</span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32708000000000004em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">)</span></span></span></span> is constructible, hence tame? That seems wrong.</p>\n</blockquote>\n<p>Yeah, you're right, constructible and tame are totally different here.</p>",
        "id": 208520030,
        "sender_full_name": "Aaron Anderson",
        "timestamp": 1598848817
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/stream/116395-maths/topic/o-minimality.20repo/near/208515979\">said</a>:</p>\n<blockquote>\n<p>Sure, but you still don't want to do this by hand, because when I just wrote down a set that is obviously definable, I simply want the system to notice this.</p>\n</blockquote>\n<p>Like I said, I agree that this tactic should exist eventually, but it looks to me that the most annoying part of the job is showing that the set realized by a given formula is actually a <code>def_set</code></p>",
        "id": 208520119,
        "sender_full_name": "Aaron Anderson",
        "timestamp": 1598849037
    },
    {
        "content": "<p>But in our current setup, there are no formulas. Showing that a set is definable typically amounts to hitting it with \"definable sets are a boolean algebra\" several times.</p>",
        "id": 208520661,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1598850048
    },
    {
        "content": "<p>Right, and that's the part that could be eliminated \"just\" with porting some flypitch and proving our two definitions of definable are equivalent.</p>",
        "id": 208520721,
        "sender_full_name": "Aaron Anderson",
        "timestamp": 1598850155
    },
    {
        "content": "<p>I don't see how that would make proving that a certain set is definable any easier in practice.</p>",
        "id": 208520746,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1598850232
    },
    {
        "content": "<p>Saying <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mo>∩</mo><mi>T</mi></mrow><annotation encoding=\"application/x-tex\">S \\cap T</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∩</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span></span></span></span> is definable, because it is the intersection of two definable sets, seems a lot shorter than saying, oh well, there are formulas <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi><mo separator=\"true\">,</mo><mi>g</mi></mrow><annotation encoding=\"application/x-tex\">f, g</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span></span></span></span> that realize to <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mo separator=\"true\">,</mo><mi>T</mi></mrow><annotation encoding=\"application/x-tex\">S, T</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span></span></span></span>, and hence <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi><mo>∧</mo><mi>g</mi></mrow><annotation encoding=\"application/x-tex\">f \\land g</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∧</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span></span></span></span> realizes to <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mo>∩</mo><mi>T</mi></mrow><annotation encoding=\"application/x-tex\">S \\cap T</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∩</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span></span></span></span>, therefore it is definable.</p>",
        "id": 208520806,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1598850330
    },
    {
        "content": "<p>I very much agree that what you are suggesting should be in mathlib. It will be important and useful.</p>",
        "id": 208520814,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1598850349
    },
    {
        "content": "<p>But I don't think it will help with this particular issue.</p>",
        "id": 208520819,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1598850362
    },
    {
        "content": "<p>Rather, I like it because it will allow me to say that a certain set is definable without parameters, things like that. That stuff that simply cannot be expressed in our current framework.</p>",
        "id": 208520866,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1598850408
    },
    {
        "content": "<p>The way that <span class=\"user-mention\" data-user-id=\"110032\">@Reid Barton</span>  stuctures one of the proofs goes like this:</p>\n<ul>\n<li>Take a look at this predicate which is visibly-to-a-human first-order</li>\n<li>Quickly show with <code>ext</code> that it defines the set I want to show is definable</li>\n<li>Spend a long time applying boolean algebra and projection axioms</li>\n</ul>",
        "id": 208520921,
        "sender_full_name": "Aaron Anderson",
        "timestamp": 1598850497
    },
    {
        "content": "<p>I don't think we can automate the first bullet point without a tactic, and the second one seems inevitable, and not a problem.</p>",
        "id": 208520928,
        "sender_full_name": "Aaron Anderson",
        "timestamp": 1598850524
    },
    {
        "content": "<p>It's the 3rd one that I think can be simplified with this proof structure:</p>",
        "id": 208520931,
        "sender_full_name": "Aaron Anderson",
        "timestamp": 1598850534
    },
    {
        "content": "<p>Ok, fair enough. I agree that there a places where this would significantly shorten the proof.</p>",
        "id": 208521050,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1598850759
    },
    {
        "content": "<ul>\n<li>Take a look at this explicit first-order formula that's just as easy to write as the Lean predicate</li>\n<li>Show the set that it realizes is the set satisfied by set you want, this step should still be easy once we have a simp-set for unfolding the recursive definition of formula realization, and maybe that already exists in flypitch</li>\n<li>Use a theorem which says <code>def_set S</code> is equivalent to \"there exists a formula whose realization is S`</li>\n</ul>",
        "id": 208521053,
        "sender_full_name": "Aaron Anderson",
        "timestamp": 1598850771
    },
    {
        "content": "<p>that will be painful with flypitch-style model theory</p>\n<p>it's easier to just do backward chaining with definability lemmas than synthesize a formula and apply a soundness theorem, even if the search for definability lemmas can be phrased in terms of synthesizing a first-order formula</p>",
        "id": 208521128,
        "sender_full_name": "Jesse Michael Han",
        "timestamp": 1598850940
    },
    {
        "content": "<p>I'm willing to consider that synthesizing a first-order formula with a tactic might be more difficult than I would first guess, but I still think that it'd be more straightforward when you're working manually, because a lot of model theory texts already have the formulas written out</p>",
        "id": 208521293,
        "sender_full_name": "Aaron Anderson",
        "timestamp": 1598851213
    },
    {
        "content": "<p>In any case, I don't think it matters much just yet, because we're still a long way from having either theorems about first-order formulas or a tactic</p>",
        "id": 208521357,
        "sender_full_name": "Aaron Anderson",
        "timestamp": 1598851363
    },
    {
        "content": "<p>in the end, the same work must be done, regardless of whether the search tree is reified as a formula or how the work is split between Lean and the user</p>\n<blockquote>\n<p>In any case, I don't think it matters much just yet, because we're still a long way from having either theorems about first-order formulas or a tactic</p>\n</blockquote>\n<p>you might be surprised, as <code>tidy</code> is OP:</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"n\">tactic</span><span class=\"bp\">.</span><span class=\"n\">tidy</span>\n<span class=\"kn\">import</span> <span class=\"bp\">.</span><span class=\"n\">definable</span>\n\n<span class=\"kn\">open</span> <span class=\"n\">o_minimal</span>\n\n<span class=\"kn\">namespace</span> <span class=\"n\">tactic</span>\n\n<span class=\"n\">meta</span> <span class=\"n\">def</span> <span class=\"n\">definability_tactics</span> <span class=\"o\">(</span><span class=\"n\">md</span> <span class=\"o\">:</span> <span class=\"n\">transparency</span> <span class=\"o\">:=</span> <span class=\"kn\">reducible</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">list</span> <span class=\"o\">(</span><span class=\"n\">tactic</span> <span class=\"n\">string</span><span class=\"o\">)</span> <span class=\"o\">:=</span>\n<span class=\"o\">[</span>\n  <span class=\"n\">assumption</span> <span class=\"bp\">*&gt;</span> <span class=\"n\">pure</span> <span class=\"s2\">&quot;assumption&quot;</span><span class=\"o\">,</span>\n  <span class=\"bp\">`</span><span class=\"o\">[</span><span class=\"n\">apply</span> <span class=\"n\">def_fun_subtype_val</span><span class=\"o\">]</span> <span class=\"bp\">*&gt;</span> <span class=\"n\">pure</span> <span class=\"s2\">&quot;apply def_fun_subtype_val&quot;</span><span class=\"o\">,</span>\n  <span class=\"bp\">`</span><span class=\"o\">[</span><span class=\"n\">apply</span> <span class=\"n\">def_fun</span><span class=\"bp\">.</span><span class=\"n\">id</span><span class=\"o\">]</span> <span class=\"bp\">*&gt;</span> <span class=\"n\">pure</span> <span class=\"s2\">&quot;apply def_fun.id&quot;</span><span class=\"o\">,</span>\n  <span class=\"bp\">`</span><span class=\"o\">[</span><span class=\"n\">apply</span> <span class=\"n\">def_fun</span><span class=\"bp\">.</span><span class=\"n\">fst</span><span class=\"o\">]</span> <span class=\"bp\">*&gt;</span> <span class=\"n\">pure</span> <span class=\"s2\">&quot;apply def_fun.fst&quot;</span><span class=\"o\">,</span>\n  <span class=\"bp\">`</span><span class=\"o\">[</span><span class=\"n\">apply</span> <span class=\"n\">def_fun</span><span class=\"bp\">.</span><span class=\"n\">snd</span><span class=\"o\">]</span> <span class=\"bp\">*&gt;</span> <span class=\"n\">pure</span> <span class=\"s2\">&quot;apply def_fun.snd&quot;</span><span class=\"o\">,</span>\n  <span class=\"bp\">`</span><span class=\"o\">[</span><span class=\"n\">apply</span> <span class=\"n\">def_fun</span><span class=\"bp\">.</span><span class=\"n\">id</span><span class=\"o\">]</span> <span class=\"bp\">*&gt;</span> <span class=\"n\">pure</span> <span class=\"s2\">&quot;apply def_fun.id&quot;</span><span class=\"o\">,</span>\n  <span class=\"bp\">`</span><span class=\"o\">[</span><span class=\"n\">apply</span> <span class=\"n\">def_fun_const</span><span class=\"o\">]</span> <span class=\"bp\">*&gt;</span> <span class=\"n\">pure</span> <span class=\"s2\">&quot;apply def_fun_const&quot;</span><span class=\"o\">,</span>\n  <span class=\"bp\">`</span><span class=\"o\">[</span><span class=\"n\">apply</span> <span class=\"n\">def_val_const</span><span class=\"o\">]</span> <span class=\"bp\">*&gt;</span> <span class=\"n\">pure</span> <span class=\"s2\">&quot;apply def_val_const&quot;</span><span class=\"o\">,</span>\n  <span class=\"bp\">`</span><span class=\"o\">[</span><span class=\"n\">apply</span> <span class=\"n\">def_fun</span><span class=\"bp\">.</span><span class=\"n\">image</span><span class=\"o\">]</span> <span class=\"bp\">*&gt;</span> <span class=\"n\">pure</span> <span class=\"s2\">&quot;apply def_fun.image&quot;</span><span class=\"o\">,</span>\n  <span class=\"bp\">`</span><span class=\"o\">[</span><span class=\"n\">apply</span> <span class=\"n\">def_fun</span><span class=\"bp\">.</span><span class=\"n\">comp</span><span class=\"o\">]</span> <span class=\"bp\">*&gt;</span> <span class=\"n\">pure</span> <span class=\"s2\">&quot;apply def_fun.comp&quot;</span><span class=\"o\">,</span>\n  <span class=\"bp\">`</span><span class=\"o\">[</span><span class=\"n\">apply</span> <span class=\"n\">def_fun</span><span class=\"bp\">.</span><span class=\"n\">preimage</span><span class=\"o\">]</span> <span class=\"bp\">*&gt;</span> <span class=\"n\">pure</span> <span class=\"s2\">&quot;apply def_fun.preimage&quot;</span><span class=\"o\">,</span>\n  <span class=\"bp\">`</span><span class=\"o\">[</span><span class=\"n\">apply</span> <span class=\"n\">def_set</span><span class=\"bp\">.</span><span class=\"n\">imp</span><span class=\"o\">]</span> <span class=\"bp\">*&gt;</span> <span class=\"n\">pure</span> <span class=\"s2\">&quot;apply def_set.imp&quot;</span><span class=\"o\">,</span>\n  <span class=\"bp\">`</span><span class=\"o\">[</span><span class=\"n\">apply</span> <span class=\"n\">def_set_eq</span><span class=\"o\">]</span> <span class=\"bp\">*&gt;</span> <span class=\"n\">pure</span> <span class=\"s2\">&quot;apply def_set_eq&quot;</span><span class=\"o\">,</span>\n  <span class=\"bp\">`</span><span class=\"o\">[</span><span class=\"n\">apply</span> <span class=\"n\">definable_le</span><span class=\"o\">]</span> <span class=\"bp\">*&gt;</span> <span class=\"n\">pure</span> <span class=\"s2\">&quot;apply definable_le&quot;</span><span class=\"o\">,</span>\n  <span class=\"bp\">`</span><span class=\"o\">[</span><span class=\"n\">apply</span> <span class=\"n\">def_set</span><span class=\"bp\">.</span><span class=\"k\">forall</span><span class=\"o\">]</span> <span class=\"bp\">*&gt;</span> <span class=\"n\">pure</span> <span class=\"s2\">&quot;apply def_set.forall&quot;</span><span class=\"o\">,</span>\n  <span class=\"bp\">`</span><span class=\"o\">[</span><span class=\"n\">apply</span> <span class=\"n\">def_set</span><span class=\"bp\">.</span><span class=\"n\">prod</span><span class=\"o\">]</span> <span class=\"bp\">*&gt;</span> <span class=\"n\">pure</span> <span class=\"s2\">&quot;apply def_set.prod&quot;</span>\n<span class=\"o\">]</span>\n\n<span class=\"kn\">namespace</span> <span class=\"n\">interactive</span>\n<span class=\"n\">setup_tactic_parser</span>\n\n<span class=\"n\">meta</span> <span class=\"n\">def</span> <span class=\"n\">definability</span> <span class=\"o\">(</span><span class=\"n\">trace</span> <span class=\"o\">:</span> <span class=\"n\">parse</span> <span class=\"err\">$</span> <span class=\"n\">optional</span> <span class=\"err\">$</span> <span class=\"n\">tk</span> <span class=\"s2\">&quot;?&quot;</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">tactic</span> <span class=\"n\">unit</span> <span class=\"o\">:=</span>\n<span class=\"n\">tactic</span><span class=\"bp\">.</span><span class=\"n\">tidy</span> <span class=\"o\">{</span> <span class=\"n\">tactics</span> <span class=\"o\">:=</span> <span class=\"n\">definability_tactics</span> <span class=\"kn\">reducible</span><span class=\"o\">,</span> <span class=\"n\">trace_result</span> <span class=\"o\">:=</span> <span class=\"n\">trace</span><span class=\"bp\">.</span><span class=\"n\">is_some</span> <span class=\"o\">}</span>\n\n<span class=\"kn\">end</span> <span class=\"n\">interactive</span>\n<span class=\"kn\">end</span> <span class=\"n\">tactic</span>\n</code></pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><code>   have finite_fibers : ∀ z, finite (f ⁻¹&#39; {z}),\n   { intro z,\n     have : def_set S (subtype.val &#39;&#39; (f ⁻¹&#39; {z})),\n<span class=\"gd\">-    { apply def_fun.image,</span>\n<span class=\"gd\">-      exact def_fun_subtype_val,</span>\n<span class=\"gd\">-      exact def_fun.preimage hf def_val_const },</span>\n<span class=\"gi\">+    { definability },</span>\n\n\n<span class=\"gd\">-  have : def_set S (subtype.val &#39;&#39; K) := begin</span>\n<span class=\"gd\">-    apply def_fun.image def_fun_subtype_val,</span>\n<span class=\"gd\">-    -- TODO: automate this proof</span>\n<span class=\"gd\">-    apply def_set.forall,</span>\n<span class=\"gd\">-    apply def_set.imp,</span>\n<span class=\"gd\">-    apply def_set_eq,</span>\n<span class=\"gd\">-    exact hf.comp def_fun.fst,</span>\n<span class=\"gd\">-    exact hf.comp def_fun.snd,</span>\n<span class=\"gd\">-    -- TODO: definable_le instance for Ioo</span>\n<span class=\"gd\">-    change def_set S {p : Ioo a b × Ioo a b | p.1.val ≤ p.2.val},</span>\n<span class=\"gd\">-    apply definable_le,</span>\n<span class=\"gd\">-    exact def_fun_subtype_val.comp def_fun.fst,</span>\n<span class=\"gd\">-    exact def_fun_subtype_val.comp def_fun.snd</span>\n<span class=\"gd\">-  end,</span>\n<span class=\"gi\">+  have : def_set S (subtype.val &#39;&#39; K) :=</span>\n<span class=\"gi\">+    by { definability, change def_set S {p : Ioo a b × Ioo a b | p.1.val ≤ p.2.val}, definability },</span>\n</code></pre></div>",
        "id": 208522556,
        "sender_full_name": "Jesse Michael Han",
        "timestamp": 1598853451
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"302826\">Aaron Anderson</span> <a href=\"#narrow/stream/116395-maths/topic/o-minimality.20repo/near/208521293\">said</a>:</p>\n<blockquote>\n<p>I'm willing to consider that synthesizing a first-order formula with a tactic might be more difficult than I would first guess, but I still think that it'd be more straightforward when you're working manually, because a lot of model theory texts already have the formulas written out</p>\n</blockquote>\n<p>It is less straightforward than it might appear; for example, in <code>def_interior</code>'s</p>\n<div class=\"codehilite\"><pre><span></span><code>    <span class=\"o\">{</span><span class=\"n\">x</span> <span class=\"bp\">|</span> <span class=\"bp\">∃</span> <span class=\"o\">(</span><span class=\"n\">l</span> <span class=\"n\">u</span> <span class=\"o\">:</span> <span class=\"n\">fin</span> <span class=\"bp\">_</span> <span class=\"bp\">→</span> <span class=\"n\">R</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"bp\">∀</span> <span class=\"n\">i</span><span class=\"o\">,</span> <span class=\"n\">l</span> <span class=\"n\">i</span> <span class=\"bp\">&lt;</span> <span class=\"n\">coords</span> <span class=\"n\">R</span> <span class=\"n\">x</span> <span class=\"n\">i</span> <span class=\"bp\">∧</span> <span class=\"n\">coords</span> <span class=\"n\">R</span> <span class=\"n\">x</span> <span class=\"n\">i</span> <span class=\"bp\">&lt;</span> <span class=\"n\">u</span> <span class=\"n\">i</span><span class=\"o\">)</span>\n         <span class=\"bp\">∧</span> <span class=\"bp\">∀</span> <span class=\"n\">y</span><span class=\"o\">,</span> <span class=\"o\">(</span><span class=\"bp\">∀</span> <span class=\"n\">i</span><span class=\"o\">,</span> <span class=\"n\">l</span> <span class=\"n\">i</span> <span class=\"bp\">&lt;</span> <span class=\"n\">coords</span> <span class=\"n\">R</span> <span class=\"n\">y</span> <span class=\"n\">i</span> <span class=\"bp\">∧</span> <span class=\"n\">coords</span> <span class=\"n\">R</span> <span class=\"n\">y</span> <span class=\"n\">i</span> <span class=\"bp\">&lt;</span> <span class=\"n\">u</span> <span class=\"n\">i</span><span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"n\">y</span> <span class=\"err\">∈</span> <span class=\"n\">s</span><span class=\"o\">},</span>\n</code></pre></div>\n\n\n<ul>\n<li>The <code>∃ l u</code>, <code>∀ y</code> quantifiers bind <code>n</code> <code>R</code>-valued variables, not just one. Furthermore, the <code>∀ y</code> one implicitly restricts <code>y</code> to the subset <code>X</code> of <code>R^n</code>.</li>\n<li>On the other hand, the <code>∀ i</code>s aren't actually quantifiers in the first-order language at all, but rather a way to express a conjunction of a variable number of formulas. The formula written out looks something like</li>\n</ul>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi mathvariant=\"normal\">∃</mi><msub><mi>l</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><msub><mi>l</mi><mi>n</mi></msub><mo separator=\"true\">,</mo><msub><mi>u</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><msub><mi>u</mi><mi>n</mi></msub><mo separator=\"true\">,</mo><msub><mi>l</mi><mn>1</mn></msub><mo>&lt;</mo><msub><mi>x</mi><mn>1</mn></msub><mo>&lt;</mo><msub><mi>u</mi><mn>1</mn></msub><mo>∧</mo><mo>⋯</mo><mo>∧</mo><msub><mi>l</mi><mi>n</mi></msub><mo>&lt;</mo><msub><mi>x</mi><mi>n</mi></msub><mo>&lt;</mo><msub><mi>u</mi><mi>n</mi></msub><mo>∧</mo><mspace linebreak=\"newline\"></mspace><mo stretchy=\"false\">(</mo><mi mathvariant=\"normal\">∀</mi><msub><mi>y</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><msub><mi>y</mi><mi>n</mi></msub><mo separator=\"true\">,</mo><msub><mi>l</mi><mn>1</mn></msub><mo>&lt;</mo><msub><mi>y</mi><mn>1</mn></msub><mo>&lt;</mo><msub><mi>u</mi><mn>1</mn></msub><mo>∧</mo><mo>⋯</mo><mo>∧</mo><msub><mi>l</mi><mi>n</mi></msub><mo>&lt;</mo><msub><mi>y</mi><mi>n</mi></msub><mo>&lt;</mo><msub><mi>u</mi><mi>n</mi></msub><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mo stretchy=\"false\">(</mo><msub><mi>y</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><msub><mi>y</mi><mi>n</mi></msub><mo stretchy=\"false\">)</mo><mo>∈</mo><mi>S</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\exists l_1, \\ldots, l_n, u_1, \\ldots, u_n,\nl_1 &lt; x_1 &lt; u_1 \\wedge \\cdots \\wedge l_n &lt; x_n &lt; u_n \\wedge \\\\\n(\\forall y_1, \\ldots, y_n, l_1 &lt; y_1 &lt; u_1 \\wedge \\cdots \\wedge l_n &lt; y_n &lt;\nu_n \\implies (y_1, \\ldots, y_n) \\in S)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord\">∃</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.01968em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.01968em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">u</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">u</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.01968em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6891em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7055600000000001em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">u</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∧</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.55556em;vertical-align:0em;\"></span><span class=\"minner\">⋯</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∧</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.84444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.01968em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6891em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7055600000000001em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">u</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∧</span></span><span class=\"mspace newline\"></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">∀</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.01968em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7335400000000001em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7055600000000001em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">u</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∧</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.55556em;vertical-align:0em;\"></span><span class=\"minner\">⋯</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∧</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.84444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.01968em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7335400000000001em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.675em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">u</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">⟹</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose\">)</span></span></span></span></span></p>\n<ul>\n<li>We have to find some way to handle the condition \"<code>y ∈ s</code>\", using the hypothesis that <code>s</code> is definable.</li>\n</ul>",
        "id": 208544942,
        "sender_full_name": "Reid Barton",
        "timestamp": 1598873025
    },
    {
        "content": "<p>The nice thing about just applying lemmas rather than writing down some term of an inductive type is that you don't have to decide up front what the rules for building formulas are--you can keep extending your collection of lemmas as needed.</p>",
        "id": 208545230,
        "sender_full_name": "Reid Barton",
        "timestamp": 1598873281
    }
]