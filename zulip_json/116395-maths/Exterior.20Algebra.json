[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span> <span class=\"user-mention\" data-user-id=\"296911\">@Utensil Song</span> I made a new branch <code>exterior_algebra</code> with a construction of the exterior algebra (including the universal property), as a quotient of the tensor algebra.</p>\n<p><a href=\"https://github.com/leanprover-community/mathlib/blob/exterior_algebra/src/linear_algebra/exterior_algebra.lean\">https://github.com/leanprover-community/mathlib/blob/exterior_algebra/src/linear_algebra/exterior_algebra.lean</a></p>",
        "id": 205818367,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1596473554
    },
    {
        "content": "<p>I wonder if we should replace it with the ideal one after we get bimodules &amp; two sided ideals done. But it's really awesome to have it now! (also a good test for the tensor algebra API)</p>",
        "id": 205820691,
        "sender_full_name": "Utensil Song",
        "timestamp": 1596474661
    },
    {
        "content": "<p>The exterior algebra has its own universal property, so presumably you shouldn't care about the implementation details anyway <span aria-label=\"smiling face\" class=\"emoji emoji-263a\" role=\"img\" title=\"smiling face\">:smiling_face:</span>️</p>",
        "id": 205821766,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1596475184
    },
    {
        "content": "<p>Same goes for the Clifford algebra.</p>",
        "id": 205821787,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1596475202
    },
    {
        "content": "<p>One thing that's not clear to me about the current approach to this and tensor algebra - how does one split the algebra into it's constituent grades? That falls out obviously from the definition as a direct sum of tensor powers, but seems hard to reach from only the universal property.</p>",
        "id": 205880820,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1596527383
    },
    {
        "content": "<p>I think one has to do the work --- define the submodules corresponding to the different grades (probably by induction?), show they have trivial intersection, show they span.</p>",
        "id": 205887110,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1596533071
    },
    {
        "content": "<p>Defining the submodules is \"easy\". Proving that they span is also easy, by induction. But proving that they're independent (i.e. have trivial intersection, and iso to tensor powers) is harder. My approach would be to define an algebra structure on the direct sum of the tensor powers, and use lift with with universal property to prove this. After all, if two modules are independent after applying a linear map, then they were independent to begin with!</p>",
        "id": 205898526,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1596543007
    },
    {
        "content": "<p>You can also just use lift, produce the obvious map in the other direction, and prove that they're inverses of eachother.</p>",
        "id": 205898579,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1596543072
    },
    {
        "content": "<p>This seems a pretty reasonable strategy --- just give the alternative definition as a direct sum of tensor powers, then obtain the isomorphism with the \"universal\" construction.</p>",
        "id": 205899211,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1596543515
    },
    {
        "content": "<p>Should this belong to <code>linear_algebra</code> or somewhere else? And it seems Exterior Algebra is worth a subdirectory, same for Clifford Algebra.</p>",
        "id": 206026107,
        "sender_full_name": "Utensil Song",
        "timestamp": 1596636522
    },
    {
        "content": "<p>I'll attempt to mirror this PR to Clifford Algebra as an exercise, so far it seems very much possible.</p>",
        "id": 206026232,
        "sender_full_name": "Utensil Song",
        "timestamp": 1596636601
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"243562\">@Adam Topaz</span> Do you have any pure math text on Exterior Algebra, Clifford Algebra or Multilinear algebra in general to follow for formalization? We have a couple of notes or texts (most targeting Mathematical Physics) on hand but are wondering a more \"mathlib\" choice.</p>",
        "id": 206142166,
        "sender_full_name": "Utensil Song",
        "timestamp": 1596721358
    },
    {
        "content": "<p>Bourbaki is what you are looking for.</p>",
        "id": 206144949,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1596722628
    },
    {
        "content": "<p>Seems that <em>Éléments de Mathématique Algèbre Chapitre 9</em> is not translated into English. <a href=\"http://arkadiusz-jadczyk.eu/blog/2019/01/comments-clifford-algebras/\">Arkadiusz Jadczyk</a> wrote a <a href=\"http://arkadiusz-jadczyk.eu/docs/clifford.pdf\">note</a> by reading the French version last year.</p>",
        "id": 206150517,
        "sender_full_name": "Utensil Song",
        "timestamp": 1596725063
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"296911\">Utensil Song</span> <a href=\"#narrow/stream/116395-maths/topic/Exterior.20Algebra/near/206026232\">said</a>:</p>\n<blockquote>\n<p>I'll attempt to mirror this PR to Clifford Algebra as an exercise, so far it seems very much possible.</p>\n</blockquote>\n<p>So far, it looks like this: <a href=\"https://github.com/leanprover-community/mathlib/blob/clifford_algebra/src/linear_algebra/clifford_algebra/basic.lean\">https://github.com/leanprover-community/mathlib/blob/clifford_algebra/src/linear_algebra/clifford_algebra/basic.lean</a></p>",
        "id": 206709637,
        "sender_full_name": "Utensil Song",
        "timestamp": 1597246227
    },
    {
        "content": "<p>I ported most simple lemmas mechanically, but:</p>\n<ol>\n<li>haven't proved <code>ι_add_swap</code> (only stated it) </li>\n<li>can't state the equivalent of <code>wedge_self_adj*</code> etc.</li>\n</ol>",
        "id": 206709888,
        "sender_full_name": "Utensil Song",
        "timestamp": 1597246361
    },
    {
        "content": "<p>Oh, why don't you take a quotient of the tensor algebra instead?</p>",
        "id": 206709917,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1597246375
    },
    {
        "content": "<p>Sorry, I misread</p>",
        "id": 206709944,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1597246387
    },
    {
        "content": "<p>that's exactly what you do :)</p>",
        "id": 206709955,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1597246392
    },
    {
        "content": "<p>For 1, I have a hard time stating the subgoal, and I'm not really happy with the <code>let ... in ...</code> statement.</p>\n<p>For 2, I'm quite confused by expressions like</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"o\">(</span><span class=\"n\">ν</span> <span class=\"o\">:</span> <span class=\"n\">fin</span> <span class=\"n\">q</span><span class=\"bp\">.</span><span class=\"n\">succ</span> <span class=\"bp\">→</span> <span class=\"n\">M</span><span class=\"o\">)</span> <span class=\"o\">{</span><span class=\"n\">j</span> <span class=\"o\">:</span> <span class=\"n\">fin</span> <span class=\"n\">q</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">hj</span> <span class=\"o\">:</span> <span class=\"n\">j</span><span class=\"bp\">.</span><span class=\"n\">val</span> <span class=\"bp\">=</span> <span class=\"mi\">1</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">hv</span> <span class=\"o\">:</span> <span class=\"n\">ν</span> <span class=\"mi\">0</span> <span class=\"bp\">=</span> <span class=\"n\">ν</span> <span class=\"n\">j</span><span class=\"o\">):</span>\n<span class=\"n\">ι</span> <span class=\"n\">R</span> <span class=\"n\">M</span> <span class=\"o\">(</span><span class=\"n\">ν</span> <span class=\"mi\">0</span><span class=\"o\">)</span> <span class=\"bp\">*</span> <span class=\"n\">wedge</span> <span class=\"n\">R</span> <span class=\"n\">M</span> <span class=\"o\">(</span><span class=\"bp\">λ</span> <span class=\"n\">i</span> <span class=\"o\">:</span> <span class=\"n\">fin</span> <span class=\"n\">q</span><span class=\"o\">,</span> <span class=\"n\">ν</span> <span class=\"n\">i</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"o\">)</span> <span class=\"bp\">=</span> <span class=\"mi\">0</span>\n</code></pre></div>",
        "id": 206710838,
        "sender_full_name": "Utensil Song",
        "timestamp": 1597246755
    },
    {
        "content": "<p>Ping: <span class=\"user-mention\" data-user-id=\"284997\">@Zhangir Azerbayev</span></p>",
        "id": 206710898,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1597246783
    },
    {
        "content": "<p>I agree about 2. This should be changed in the exterior_algebra branch.</p>",
        "id": 206710976,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1597246807
    },
    {
        "content": "<p>I think the best way to do this is to first prove something that the map <br>\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>A</mi><mi>n</mi></msup><mo>→</mo><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A^n \\to A</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.664392em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">A</span></span></span></span>, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><msub><mi>a</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><msub><mi>a</mi><mi>n</mi></msub><mo stretchy=\"false\">)</mo><mo>↦</mo><msub><mo>∏</mo><mi>i</mi></msub><msub><mi>a</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">(a_1,\\ldots,a_n) \\mapsto \\prod_i a_i</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">↦</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0497100000000001em;vertical-align:-0.29971000000000003em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:-0.0000050000000000050004em;\">∏</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.16195399999999993em;\"><span style=\"top:-2.40029em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.29971000000000003em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> is <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span>-multilinear whenever <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">A</span></span></span></span> is an <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span>-algebra. <br>\nThe componentwise composition of a multilinear map with linear maps is again multilinear, so this gives multilinearity for things like <code>tensor_algebra.mk</code>. One should then define <code>alternating_map</code> on top of <code>multilinear_map</code>, etc.</p>",
        "id": 206711319,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1597246945
    },
    {
        "content": "<p>Also, I think this should all work for <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>K</mi></mrow><annotation encoding=\"application/x-tex\">K</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span></span></span></span> a commutative ring in which <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn></mrow><annotation encoding=\"application/x-tex\">2</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">2</span></span></span></span> is invertible. (Here I'm referring to the Clifford algebra)</p>",
        "id": 206711962,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1597247218
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"296911\">@Utensil Song</span>  What the code you've quoted is saying is that if <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>v</mi><mn>0</mn></msub><mo>=</mo><msub><mi>v</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">v_0 = v_1</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> then <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>v</mi><mn>0</mn></msub><msubsup><mo>∏</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msubsup><msub><mi>v</mi><mi>i</mi></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">v_0\\prod_{i = 1}^{n+1}v_i  = 0</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:1.253718em;vertical-align:-0.29971000000000003em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:-0.0000050000000000050004em;\">∏</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.954008em;\"><span style=\"top:-2.40029em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.29971000000000003em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">0</span></span></span></span>. My rationale for making that a separate lemma was not wanting to do two inductions in the proof of <code>wedge_self_adj</code>, but I am of course open to suggestions for how to make my code more readable or more aligned with mathlib conventions.</p>",
        "id": 206720765,
        "sender_full_name": "Zhangir Azerbayev",
        "timestamp": 1597251376
    },
    {
        "content": "<p>I'm going to have a go at pulling master into the <code>exterior_algebra</code> branch (in <a href=\"https://github.com/leanprover-community/mathlib/compare/eric-wieser/exterior_algebra\">https://github.com/leanprover-community/mathlib/compare/eric-wieser/exterior_algebra</a>), now that we have <code>ring_quot</code>. If I get it working, I assume its ok to push to your branch?</p>",
        "id": 211137345,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1600957054
    },
    {
        "content": "<p>The updates to <code>fin</code> are making this painful - I'm struggling to write the proof for</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">ij</span><span class=\"o\">:</span> <span class=\"n\">fin</span> <span class=\"n\">q.succ</span>\n<span class=\"n\">hij</span><span class=\"o\">:</span> <span class=\"n\">i.val</span> <span class=\"bp\">+</span> <span class=\"mi\">1</span> <span class=\"bp\">=</span> <span class=\"n\">j.val</span>\n<span class=\"n\">hv</span><span class=\"o\">:</span> <span class=\"n\">ν</span> <span class=\"n\">i</span> <span class=\"bp\">=</span> <span class=\"n\">ν</span> <span class=\"n\">j</span>\n<span class=\"n\">hem</span><span class=\"o\">:</span> <span class=\"bp\">¬</span><span class=\"n\">i</span> <span class=\"bp\">=</span> <span class=\"mi\">0</span>\n<span class=\"n\">hj</span><span class=\"o\">:</span> <span class=\"n\">j</span> <span class=\"bp\">≠</span> <span class=\"mi\">0</span>\n<span class=\"bp\">⊢</span> <span class=\"o\">(</span><span class=\"n\">i.pred</span> <span class=\"n\">hem</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">val.succ</span> <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"n\">j.pred</span> <span class=\"n\">hj</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">val</span>\n</code></pre></div>\n\n<p>for which <code>rw [←fin.succ_val, fin.succ_pred, fin.pred_val, ←hij, nat.pred_succ],</code> no longer works as the definitions don't exist any more.</p>",
        "id": 211149224,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1600961875
    },
    {
        "content": "<p><code>.val</code> is deprecated. If you use coercions, everything should be smooth.</p>",
        "id": 211150169,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1600962325
    },
    {
        "content": "<p>Lemma names that had <code>val</code> in them should now have corresponding versions with <code>coe</code> in them</p>",
        "id": 211150195,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1600962341
    },
    {
        "content": "<p>I think that mostly did the trick, thanks - although the <code>nat.pred_succ</code> step of that proof seems  not to work any more</p>",
        "id": 211150579,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1600962517
    },
    {
        "content": "<p><code>nat.add_sub_cancel</code>?</p>",
        "id": 211150889,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1600962645
    },
    {
        "content": "<p>I think some <code>.pred</code> and <code>.succ</code> also changed into <code>-1</code> and <code>+1</code></p>",
        "id": 211150933,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1600962660
    },
    {
        "content": "<p>Yeah, was just typing that</p>",
        "id": 211150987,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1600962688
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span> One thing to keep in mind -- <span class=\"user-mention\" data-user-id=\"284997\">@Zhangir Azerbayev</span> was working on <a href=\"https://github.com/leanprover-community/mathlib/issues/3770\">#3770</a> which was supposed to clean up some of the other work in this branch.</p>",
        "id": 211150988,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1600962688
    },
    {
        "content": "<p>I probably won't go near the multilinear map stuff - just wanted to see how much the <code>ring_quot</code> change in master can remove from the branch</p>",
        "id": 211151143,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1600962741
    },
    {
        "content": "<p>I think it makes sense to just abandon this old branch, and make a new one with just the construction of the exterior algebra as a <code>ring_quot</code> of the tensor algebra.</p>",
        "id": 211151246,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1600962784
    },
    {
        "content": "<p>What do you think?</p>",
        "id": 211151257,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1600962789
    },
    {
        "content": "<p>I think I may have just wasted an hour ;)</p>",
        "id": 211152310,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1600963223
    },
    {
        "content": "<p>The thing is, it's unclear how long <a href=\"https://github.com/leanprover-community/mathlib/issues/3770\">#3770</a> will take to be merged (if at all), and the multilinear/alternating stuff in the exterior algebra branch would have to be rewritten anyway <span aria-label=\"expressionless\" class=\"emoji emoji-1f611\" role=\"img\" title=\"expressionless\">:expressionless:</span></p>",
        "id": 211152807,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1600963397
    },
    {
        "content": "<p>Given I have the branch building now (at the cost of one sorry), I think it's probably worth at least pushing it</p>",
        "id": 211153029,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1600963496
    },
    {
        "content": "<p>If I do the ring_quot cleanup within that branch, then it makes it easier to compute a diff between \"just the construction of the exterior algebra as a ring_quot of the tensor algebra.\" and everything else</p>",
        "id": 211153116,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1600963527
    },
    {
        "content": "<p>Yeah I agree.</p>",
        "id": 211153249,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1600963574
    },
    {
        "content": "<p>This was the sorry I couldn't resolve: <a href=\"https://github.com/leanprover-community/mathlib/commit/9ffe7be1ce5c0362c9ec82fe74cabc7788ca65d3#diff-fe77ce1c915c4f2a71bc47e3cdf0db97R176\">https://github.com/leanprover-community/mathlib/commit/9ffe7be1ce5c0362c9ec82fe74cabc7788ca65d3#diff-fe77ce1c915c4f2a71bc47e3cdf0db97R176</a></p>",
        "id": 211153280,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1600963586
    },
    {
        "content": "<p>Which I hope will fall out with <code>ring_quot</code></p>",
        "id": 211153292,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1600963592
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/stream/116395-maths/topic/Exterior.20Algebra/near/211149224\">said</a>:</p>\n<blockquote>\n<p>The updates to <code>fin</code> are making this painful - I'm struggling to write the proof for</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">ij</span><span class=\"o\">:</span> <span class=\"n\">fin</span> <span class=\"n\">q.succ</span>\n<span class=\"n\">hij</span><span class=\"o\">:</span> <span class=\"n\">i.val</span> <span class=\"bp\">+</span> <span class=\"mi\">1</span> <span class=\"bp\">=</span> <span class=\"n\">j.val</span>\n<span class=\"n\">hv</span><span class=\"o\">:</span> <span class=\"n\">ν</span> <span class=\"n\">i</span> <span class=\"bp\">=</span> <span class=\"n\">ν</span> <span class=\"n\">j</span>\n<span class=\"n\">hem</span><span class=\"o\">:</span> <span class=\"bp\">¬</span><span class=\"n\">i</span> <span class=\"bp\">=</span> <span class=\"mi\">0</span>\n<span class=\"n\">hj</span><span class=\"o\">:</span> <span class=\"n\">j</span> <span class=\"bp\">≠</span> <span class=\"mi\">0</span>\n<span class=\"bp\">⊢</span> <span class=\"o\">(</span><span class=\"n\">i.pred</span> <span class=\"n\">hem</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">val.succ</span> <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"n\">j.pred</span> <span class=\"n\">hj</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">val</span>\n</code></pre></div>\n\n<p>for which <code>rw [←fin.succ_val, fin.succ_pred, fin.pred_val, ←hij, nat.pred_succ],</code> no longer works as the definitions don't exist any more.</p>\n</blockquote>\n<p>Here:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">lemma</span> <span class=\"n\">fin.pos_of_ne</span> <span class=\"o\">{</span><span class=\"n\">n</span> <span class=\"o\">:</span> <span class=\"n\">ℕ</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">i</span> <span class=\"o\">:</span> <span class=\"n\">fin</span> <span class=\"o\">(</span><span class=\"n\">n</span> <span class=\"bp\">+</span> <span class=\"mi\">1</span><span class=\"o\">)}</span> <span class=\"o\">(</span><span class=\"n\">h</span> <span class=\"o\">:</span> <span class=\"n\">i</span> <span class=\"bp\">≠</span> <span class=\"mi\">0</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"mi\">0</span> <span class=\"bp\">&lt;</span> <span class=\"n\">i</span> <span class=\"o\">:=</span>\n<span class=\"n\">lt_of_le_of_ne</span> <span class=\"o\">(</span><span class=\"n\">fin.zero_le</span> <span class=\"n\">i</span><span class=\"o\">)</span> <span class=\"n\">h.symm</span>\n\n<span class=\"kd\">lemma</span> <span class=\"n\">nat.sub_add_one</span> <span class=\"o\">{</span><span class=\"n\">n</span> <span class=\"o\">:</span> <span class=\"n\">ℕ</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">hpos</span> <span class=\"o\">:</span> <span class=\"mi\">0</span> <span class=\"bp\">&lt;</span> <span class=\"n\">n</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">n</span> <span class=\"bp\">-</span> <span class=\"mi\">1</span> <span class=\"bp\">+</span> <span class=\"mi\">1</span> <span class=\"bp\">=</span> <span class=\"n\">n</span> <span class=\"o\">:=</span>\n<span class=\"kd\">begin</span>\n  <span class=\"n\">cases</span> <span class=\"n\">n</span><span class=\"o\">,</span>\n  <span class=\"o\">{</span> <span class=\"n\">exact</span> <span class=\"n\">absurd</span> <span class=\"n\">hpos</span> <span class=\"o\">(</span><span class=\"n\">lt_irrefl</span> <span class=\"mi\">0</span><span class=\"o\">)</span> <span class=\"o\">},</span>\n  <span class=\"n\">simp</span> <span class=\"n\">only</span> <span class=\"o\">[</span><span class=\"n\">nat.succ_sub_succ_eq_sub</span><span class=\"o\">,</span> <span class=\"n\">nat.sub_zero</span><span class=\"o\">],</span>\n<span class=\"kd\">end</span>\n\n<span class=\"kd\">example</span> <span class=\"o\">{</span><span class=\"n\">q</span> <span class=\"o\">:</span> <span class=\"n\">ℕ</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">v</span> <span class=\"o\">:</span> <span class=\"n\">fin</span> <span class=\"n\">q.succ</span> <span class=\"bp\">→</span> <span class=\"n\">ℕ</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">i</span> <span class=\"n\">j</span> <span class=\"o\">:</span> <span class=\"n\">fin</span> <span class=\"n\">q.succ</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">hij</span> <span class=\"o\">:</span> <span class=\"n\">i.val</span> <span class=\"bp\">+</span> <span class=\"mi\">1</span> <span class=\"bp\">=</span> <span class=\"n\">j.val</span><span class=\"o\">)</span>\n  <span class=\"o\">(</span><span class=\"n\">hv</span> <span class=\"o\">:</span> <span class=\"n\">v</span> <span class=\"n\">i</span> <span class=\"bp\">=</span> <span class=\"n\">v</span> <span class=\"n\">j</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">hem</span> <span class=\"o\">:</span> <span class=\"n\">i</span> <span class=\"bp\">≠</span> <span class=\"mi\">0</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">hj</span> <span class=\"o\">:</span> <span class=\"n\">j</span> <span class=\"bp\">≠</span> <span class=\"mi\">0</span><span class=\"o\">)</span> <span class=\"o\">:</span>\n<span class=\"o\">(</span><span class=\"n\">i.pred</span> <span class=\"n\">hem</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">val.succ</span> <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"n\">j.pred</span> <span class=\"n\">hj</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">val</span> <span class=\"o\">:=</span>\n<span class=\"kd\">begin</span>\n  <span class=\"n\">simp</span> <span class=\"n\">only</span> <span class=\"o\">[</span><span class=\"n\">fin.val_eq_coe</span><span class=\"o\">]</span> <span class=\"n\">at</span> <span class=\"n\">hij</span><span class=\"o\">,</span>\n  <span class=\"n\">simp</span> <span class=\"n\">only</span> <span class=\"o\">[</span><span class=\"bp\">←</span><span class=\"n\">hij</span><span class=\"o\">,</span> <span class=\"n\">nat.add_succ_sub_one</span><span class=\"o\">,</span> <span class=\"n\">add_zero</span><span class=\"o\">,</span> <span class=\"n\">fin.val_eq_coe</span><span class=\"o\">,</span> <span class=\"n\">fin.coe_pred</span><span class=\"o\">],</span>\n  <span class=\"n\">exact</span> <span class=\"n\">nat.sub_add_one</span> <span class=\"o\">(</span><span class=\"n\">fin.lt_iff_coe_lt_coe.mp</span> <span class=\"o\">(</span><span class=\"n\">fin.pos_of_ne</span> <span class=\"n\">hem</span><span class=\"o\">)),</span>\n<span class=\"kd\">end</span>\n</code></pre></div>",
        "id": 211154147,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1600963984
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"308899\">@Yakov Pechersky</span>, although I was able to get what I needed with <span class=\"user-mention\" data-user-id=\"112680\">@Johan Commelin</span>'s help above</p>",
        "id": 211154389,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1600964110
    },
    {
        "content": "<p>Do you mind sharing how you solved that? I've been trying to shore up <code>fin</code> API, especially where there are swaps etc involved.</p>",
        "id": 211155438,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1600964612
    },
    {
        "content": "<p>In general, one shouldn't have to have states where <code>.val</code> appears any more.</p>",
        "id": 211155468,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1600964631
    },
    {
        "content": "<p>Yes, the fix was to remove the <code>.val</code> from  my lemma statement</p>",
        "id": 211159406,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1600966416
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"243562\">@Adam Topaz</span>, I pushed the fixes to run against lean /mathlib master to <a href=\"https://github.com/leanprover-community/mathlib/compare/exterior_algebra\">https://github.com/leanprover-community/mathlib/compare/exterior_algebra</a></p>",
        "id": 211162764,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1600968094
    },
    {
        "content": "<p>Do you want me to push <code>ring_quot</code> there too if I get it working?</p>",
        "id": 211162792,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1600968111
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"243562\">Adam Topaz</span> <a href=\"#narrow/stream/116395-maths/topic/Exterior.20Algebra/near/211151246\">said</a>:</p>\n<blockquote>\n<p>I think it makes sense to just abandon this old branch, and make a new one with just the construction of the exterior algebra as a <code>ring_quot</code> of the tensor algebra.</p>\n</blockquote>\n<p><a href=\"https://github.com/leanprover-community/mathlib/issues/4297\">#4297</a></p>",
        "id": 211475882,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1601289636
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112165\">rss-bot</span> <a href=\"#narrow/stream/116290-rss/topic/Recent.20Commits.20to.20mathlib.3Amaster/near/211938809\">said</a>:</p>\n<blockquote>\n<p><strong><a href=\"https://github.com/leanprover-community/mathlib/commit/13e9cc4acf0ba7327e244d1eda8818a808013ec4\">feat(linear_algebra/exterior_algebra): Add an exterior algebra (#4297)</a></strong><br>\nfeat(linear_algebra/exterior_algebra): Add an exterior algebra (<a href=\"https://github.com/leanprover-community/mathlib/issues/4297\">#4297</a>)</p>\n<p>This adds the basic exterior algebra definitions using a very similar approach to <code>universal_enveloping_algebra</code>.<br>\nIt's based off the <code>exterior_algebra</code> branch, dropping the <code>wedge</code> stuff for now as development in multilinear maps is happening elsewhere.</p>\n<p>Co-authored-by: Adam Topaz &lt;<a href=\"mailto:github@adamtopaz.com\">github@adamtopaz.com</a>&gt;<br>\nCo-authored-by: Zhangir Azerbayev &lt;<a href=\"mailto:zazerbayev@gmail.com\">zazerbayev@gmail.com</a>&gt;<br>\n<a href=\"https://github.com/leanprover-community/mathlib/commit/13e9cc4acf0ba7327e244d1eda8818a808013ec4\">https://github.com/leanprover-community/mathlib/commit/13e9cc4acf0ba7327e244d1eda8818a808013ec4</a></p>\n</blockquote>\n<p><a href=\"https://leanprover-community.github.io/mathlib_docs/find/exterior_algebra\">docs#exterior_algebra</a> . I've merged master into your <a href=\"https://github.com/leanprover-community/mathlib/tree/exterior_algebra\">branch#exterior_algebra</a> branch <span class=\"user-mention\" data-user-id=\"243562\">@Adam Topaz</span> and <span class=\"user-mention\" data-user-id=\"284997\">@Zhangir Azerbayev</span>, although the build fails for the same reason as <a href=\"https://github.com/leanprover-community/mathlib/issues/4289\">#4289</a>.</p>",
        "id": 212056910,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1601634264
    },
    {
        "content": "<p>I've pushed to the branch again, this time to remove the work that duplicates <a href=\"https://leanprover-community.github.io/mathlib_docs/find/multilinear_map.mk_pi_algebra_fin\">docs#multilinear_map.mk_pi_algebra_fin</a></p>",
        "id": 213964034,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1603220082
    },
    {
        "content": "<p>Having looked at the branch again, I think all that's left is a <code>tensor_algebra.ι_multi</code> to mirror <a href=\"https://leanprover-community.github.io/mathlib_docs/find/exterior_algebra\">docs#exterior_algebra</a>.ι_multi, and some permutation stuff that is already in <a href=\"https://github.com/leanprover-community/mathlib/issues/3770\">#3770</a></p>",
        "id": 218732019,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1607018688
    }
]