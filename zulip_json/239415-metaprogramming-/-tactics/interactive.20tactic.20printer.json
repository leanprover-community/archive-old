[
    {
        "content": "<p>hi everyone,</p>\n<p>is there anything like a <code>tactic.pp</code> for <code>tactic.interactive</code> ?</p>\n<p>my use cases:</p>\n<ul>\n<li>when there is a <code>\"simp []\"</code>, I would like to be able to print it as just <code>\"simp\"</code></li>\n<li>when there is some open namespace, e.g, <code>nat</code>, I would like to be able to print <code>expr</code> in full names, e.g., <code>\"apply div\"</code> to be translated in <code>\"apply nat.div\"</code></li>\n</ul>\n<p>The only thing I have been able to do so far is this:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"k\">#eval</span> <span class=\"k\">do</span> <span class=\"n\">r</span> <span class=\"bp\">‚Üê</span> <span class=\"n\">lean.parser.run_with_input</span> <span class=\"n\">lean.parser.itactic_reflected</span> <span class=\"s2\">\"{ simp [] }\"</span><span class=\"o\">,</span> <span class=\"n\">tactic.trace</span> <span class=\"n\">r.expr</span>\n<span class=\"c\">/-</span><span class=\"cm\"></span>\n<span class=\"cm\">interactive.executor.execute_explicit tactic</span>\n<span class=\"cm\">  (has_bind.seq</span>\n<span class=\"cm\">     (has_bind.seq (tactic.save_info {line := 1, column := 0})</span>\n<span class=\"cm\">        (has_bind.seq</span>\n<span class=\"cm\">           (has_bind.seq (tactic.save_info {line := 1, column := 2})</span>\n<span class=\"cm\">              (tactic.istep 1 2 1 2</span>\n<span class=\"cm\">                 (tactic.interactive.simp none none ff list.nil list.nil (interactive.loc.ns [none]))))</span>\n<span class=\"cm\">           (tactic.save_info {line := 1, column := 11})))</span>\n<span class=\"cm\">     (tactic.save_info {line := 1, column := 10}))</span>\n<span class=\"cm\">-/</span>\n</code></pre></div>\n<p>It seems to contain all the info needed, but maybe there is an off-the-shelf implementation?</p>",
        "id": 276622314,
        "sender_full_name": "Xavier Martinet",
        "timestamp": 1648216726
    }
]