[
    {
        "content": "<p>Consider the following example:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">inductive</span> <span class=\"n\">Term</span>\n<span class=\"bp\">|</span> <span class=\"n\">cell</span>\n\n<span class=\"kd\">inductive</span> <span class=\"n\">Equation</span> <span class=\"o\">(</span><span class=\"n\">α</span><span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"o\">:=</span> <span class=\"n\">Term</span><span class=\"o\">)</span>\n<span class=\"bp\">|</span> <span class=\"n\">act</span> <span class=\"o\">(</span><span class=\"n\">l</span><span class=\"o\">:</span> <span class=\"n\">α</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">r</span><span class=\"o\">:</span> <span class=\"n\">α</span><span class=\"o\">)</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">test1</span> <span class=\"o\">:</span> <span class=\"n\">List</span> <span class=\"n\">Equation</span> <span class=\"bp\">→</span> <span class=\"n\">List</span> <span class=\"n\">Equation</span>\n<span class=\"bp\">|</span> <span class=\"bp\">.</span><span class=\"n\">act</span> <span class=\"n\">c</span> <span class=\"n\">c1</span> <span class=\"o\">::</span> <span class=\"n\">eqns</span> <span class=\"bp\">=&gt;</span> <span class=\"o\">[]</span>\n<span class=\"bp\">|</span> <span class=\"o\">[]</span> <span class=\"bp\">=&gt;</span> <span class=\"o\">[]</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">test0</span> <span class=\"o\">:</span> <span class=\"n\">List</span> <span class=\"o\">(</span><span class=\"n\">Equation</span> <span class=\"n\">RuleTerm</span><span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"n\">List</span> <span class=\"o\">(</span><span class=\"n\">Equation</span> <span class=\"n\">RuleTerm</span><span class=\"o\">)</span>\n<span class=\"bp\">|</span> <span class=\"bp\">.</span><span class=\"n\">act</span> <span class=\"n\">c</span> <span class=\"n\">c1</span> <span class=\"o\">::</span> <span class=\"n\">eqns</span> <span class=\"bp\">=&gt;</span> <span class=\"o\">[]</span>\n<span class=\"bp\">|</span> <span class=\"o\">[]</span> <span class=\"bp\">=&gt;</span> <span class=\"o\">[]</span>\n</code></pre></div>\n<p>Here, <code>test0</code> and <code>test1</code> work as expected.</p>\n<p>However, the following example does not work:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">inductive</span> <span class=\"n\">RuleTerm</span>\n<span class=\"bp\">|</span> <span class=\"n\">cell</span>\n\n<span class=\"n\">abbrev</span> <span class=\"n\">RuleEquation</span> <span class=\"o\">:=</span> <span class=\"n\">Equation</span> <span class=\"n\">RuleTerm</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">test2</span> <span class=\"o\">:</span> <span class=\"n\">List</span> <span class=\"n\">RuleEquation</span> <span class=\"bp\">→</span> <span class=\"n\">List</span> <span class=\"n\">RuleEquation</span>\n<span class=\"bp\">|</span> <span class=\"bp\">.</span><span class=\"n\">act</span> <span class=\"n\">c</span> <span class=\"n\">c1</span> <span class=\"o\">::</span> <span class=\"n\">eqns</span> <span class=\"bp\">=&gt;</span> <span class=\"o\">[]</span> <span class=\"c1\">-- ERROR! invalid dotted identifier notation, unknown identifier `RuleEquation.act` from expected type RuleEquation</span>\n<span class=\"bp\">|</span> <span class=\"o\">[]</span> <span class=\"bp\">=&gt;</span> <span class=\"o\">[]</span>\n</code></pre></div>\n<p>Fixing this is easy: use <code>Equation.act</code> instead of <code>.act</code>. However, should this be considered a bug or as-designed?</p>",
        "id": 321925865,
        "sender_full_name": "Yuri de Wit",
        "timestamp": 1673989501
    }
]