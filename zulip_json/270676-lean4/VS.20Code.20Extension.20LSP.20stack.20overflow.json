[
    {
        "content": "<p>I am getting </p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">Stack</span> <span class=\"n\">overflow</span> <span class=\"n\">detected.</span> <span class=\"n\">Aborting.</span>\n<span class=\"o\">[</span><span class=\"n\">Error</span> <span class=\"bp\">-</span> <span class=\"mi\">11</span><span class=\"o\">:</span><span class=\"mi\">22</span><span class=\"o\">:</span><span class=\"mi\">34</span> <span class=\"n\">AM</span><span class=\"o\">]</span> <span class=\"n\">Request</span> <span class=\"n\">textDocument</span><span class=\"bp\">/</span><span class=\"n\">completion</span> <span class=\"n\">failed.</span>\n  <span class=\"n\">Message</span><span class=\"o\">:</span> <span class=\"n\">Server</span> <span class=\"n\">process</span> <span class=\"n\">for</span> <span class=\"n\">file</span><span class=\"o\">:</span><span class=\"bp\">///</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">matt</span><span class=\"bp\">/</span><span class=\"n\">foo</span><span class=\"bp\">/</span><span class=\"n\">Foo.lean</span> <span class=\"n\">crashed</span><span class=\"o\">,</span> <span class=\"n\">likely</span> <span class=\"n\">due</span> <span class=\"n\">to</span> <span class=\"n\">a</span> <span class=\"n\">stack</span> <span class=\"n\">overflow</span> <span class=\"k\">in</span> <span class=\"n\">user</span> <span class=\"n\">code.</span>\n  <span class=\"n\">Code</span><span class=\"o\">:</span> <span class=\"bp\">-</span><span class=\"mi\">32603</span>\n<span class=\"o\">[</span><span class=\"n\">Error</span> <span class=\"bp\">-</span> <span class=\"mi\">11</span><span class=\"o\">:</span><span class=\"mi\">22</span><span class=\"o\">:</span><span class=\"mi\">34</span> <span class=\"n\">AM</span><span class=\"o\">]</span> <span class=\"n\">Request</span> <span class=\"n\">textDocument</span><span class=\"bp\">/</span><span class=\"n\">semanticTokens</span><span class=\"bp\">/</span><span class=\"n\">full</span> <span class=\"n\">failed.</span>\n  <span class=\"n\">Message</span><span class=\"o\">:</span> <span class=\"n\">Server</span> <span class=\"n\">process</span> <span class=\"n\">for</span> <span class=\"n\">file</span><span class=\"o\">:</span><span class=\"bp\">///</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">matt</span><span class=\"bp\">/</span><span class=\"n\">foo</span><span class=\"bp\">/</span><span class=\"n\">Foo.lean</span> <span class=\"n\">crashed</span><span class=\"o\">,</span> <span class=\"n\">likely</span> <span class=\"n\">due</span> <span class=\"n\">to</span> <span class=\"n\">a</span> <span class=\"n\">stack</span> <span class=\"n\">overflow</span> <span class=\"k\">in</span> <span class=\"n\">user</span> <span class=\"n\">code.</span>\n  <span class=\"n\">Code</span><span class=\"o\">:</span> <span class=\"bp\">-</span><span class=\"mi\">32603</span>\n<span class=\"o\">[</span><span class=\"n\">Error</span> <span class=\"bp\">-</span> <span class=\"mi\">11</span><span class=\"o\">:</span><span class=\"mi\">22</span><span class=\"o\">:</span><span class=\"mi\">34</span> <span class=\"n\">AM</span><span class=\"o\">]</span> <span class=\"n\">Request</span> <span class=\"n\">textDocument</span><span class=\"bp\">/</span><span class=\"n\">documentSymbol</span> <span class=\"n\">failed.</span>\n  <span class=\"n\">Message</span><span class=\"o\">:</span> <span class=\"n\">Server</span> <span class=\"n\">process</span> <span class=\"n\">for</span> <span class=\"n\">file</span><span class=\"o\">:</span><span class=\"bp\">///</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">matt</span><span class=\"bp\">/</span><span class=\"n\">foo</span><span class=\"bp\">/</span><span class=\"n\">Foo.lean</span> <span class=\"n\">crashed</span><span class=\"o\">,</span> <span class=\"n\">likely</span> <span class=\"n\">due</span> <span class=\"n\">to</span> <span class=\"n\">a</span> <span class=\"n\">stack</span> <span class=\"n\">overflow</span> <span class=\"k\">in</span> <span class=\"n\">user</span> <span class=\"n\">code.</span>\n  <span class=\"n\">Code</span><span class=\"o\">:</span> <span class=\"bp\">-</span><span class=\"mi\">32603</span>\n</code></pre></div>\n<p>when the extension attempts auto-complete at F in </p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">inductive</span> <span class=\"n\">Foo</span> <span class=\"n\">where</span>\n <span class=\"bp\">|</span> <span class=\"n\">bar</span> <span class=\"o\">:</span> <span class=\"n\">F</span>\n</code></pre></div>\n<p>Can someone replicate this?</p>",
        "id": 242897463,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1623857319
    },
    {
        "content": "<p>Yep. Auto-completing at F causes the server hang and then after ~1min it crashes with the stack overflow. (I tested it on the 06-14 nightly.)</p>",
        "id": 242898880,
        "sender_full_name": "Mac",
        "timestamp": 1623857905
    },
    {
        "content": "<p>I would suggest submit this as an issue to the GitHub: <a href=\"https://github.com/leanprover/lean4/issues\">https://github.com/leanprover/lean4/issues</a></p>",
        "id": 242898932,
        "sender_full_name": "Mac",
        "timestamp": 1623857931
    },
    {
        "content": "<p>Thanks. That is the next step - just wanted to make sure nothing idiosyncratic was happening with my machines.</p>",
        "id": 242899196,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1623858049
    }
]