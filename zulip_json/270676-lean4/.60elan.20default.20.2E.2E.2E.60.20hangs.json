[
    {
        "content": "<p>hello friends,<br>\ni am trying to get set up with lean4, following <a href=\"https://leanprover.github.io/lean4/doc/setup.html\">setup</a><br>\ni updated elan, but trying to change the default lean version with <code>elan -v default leanprover/lean4:stable</code> or <code>elan -v default leanprover/lean4:nightly</code> hangs on curl. maybe i am just impatient, but it is taking over 5 mins (im getting 20 mbps), is this expected?<br>\nit seems stuck. <br>\nedit: let me know if there is other sys info i should provide ty ~</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">verbose</span><span class=\"o\">:</span> <span class=\"n\">looking</span> <span class=\"n\">for</span> <span class=\"n\">installed</span> <span class=\"n\">toolchain</span> <span class=\"bp\">'</span><span class=\"n\">leanprover</span><span class=\"bp\">-</span><span class=\"n\">lean4</span><span class=\"bp\">-</span><span class=\"n\">stable'</span>\n<span class=\"n\">verbose</span><span class=\"o\">:</span> <span class=\"n\">installing</span> <span class=\"n\">toolchain</span> <span class=\"bp\">'</span><span class=\"n\">leanprover</span><span class=\"bp\">-</span><span class=\"n\">lean4</span><span class=\"bp\">-</span><span class=\"n\">stable'</span>\n<span class=\"n\">verbose</span><span class=\"o\">:</span> <span class=\"n\">toolchain</span> <span class=\"n\">directory</span><span class=\"o\">:</span> <span class=\"bp\">'/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">b</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"bp\">-</span><span class=\"n\">lean4</span><span class=\"bp\">-</span><span class=\"n\">stable'</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"n\">syncing</span> <span class=\"n\">channel</span> <span class=\"n\">updates</span> <span class=\"n\">for</span> <span class=\"bp\">'</span><span class=\"n\">stable'</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"n\">latest</span> <span class=\"n\">update</span> <span class=\"n\">on</span> <span class=\"n\">stable</span><span class=\"o\">,</span> <span class=\"n\">lean</span> <span class=\"n\">version</span> <span class=\"n\">v4.0.0</span><span class=\"bp\">-</span><span class=\"n\">m1</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"n\">downloading</span> <span class=\"n\">component</span> <span class=\"bp\">'</span><span class=\"n\">lean'</span>\n<span class=\"n\">verbose</span><span class=\"o\">:</span> <span class=\"n\">creating</span> <span class=\"n\">temp</span> <span class=\"n\">file</span><span class=\"o\">:</span> <span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">b</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">tmp</span><span class=\"bp\">/</span><span class=\"n\">u3fyfy7uelf5ko_1_file</span>\n<span class=\"n\">verbose</span><span class=\"o\">:</span> <span class=\"n\">downloading</span> <span class=\"n\">file</span> <span class=\"k\">from</span><span class=\"o\">:</span> <span class=\"bp\">'</span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">github.com</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"bp\">/</span><span class=\"n\">releases</span><span class=\"bp\">/</span><span class=\"n\">tag</span><span class=\"bp\">/</span><span class=\"n\">v4.0.0</span><span class=\"bp\">-</span><span class=\"n\">m1'</span>\n<span class=\"n\">verbose</span><span class=\"o\">:</span> <span class=\"n\">downloading</span> <span class=\"k\">with</span> <span class=\"n\">curl</span>\n<span class=\"n\">verbose</span><span class=\"o\">:</span> <span class=\"n\">creating</span> <span class=\"n\">temp</span> <span class=\"n\">file</span><span class=\"o\">:</span> <span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">b</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">tmp</span><span class=\"bp\">/</span><span class=\"n\">ssc0c_zt2ag5rtpn_file.tar.gz</span>\n<span class=\"n\">verbose</span><span class=\"o\">:</span> <span class=\"n\">downloading</span> <span class=\"n\">file</span> <span class=\"k\">from</span><span class=\"o\">:</span> <span class=\"bp\">'</span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">github.com</span><span class=\"bp\">//</span><span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"bp\">/</span><span class=\"n\">releases</span><span class=\"bp\">/</span><span class=\"n\">download</span><span class=\"bp\">/</span><span class=\"n\">v4.0.0</span><span class=\"bp\">-</span><span class=\"n\">m1</span><span class=\"bp\">/</span><span class=\"n\">lean</span><span class=\"bp\">-</span><span class=\"mi\">4</span><span class=\"bp\">.</span><span class=\"mi\">0</span><span class=\"bp\">.</span><span class=\"mi\">0</span><span class=\"bp\">-</span><span class=\"n\">m1</span><span class=\"bp\">-</span><span class=\"n\">linux.tar.gz'</span>\n<span class=\"n\">verbose</span><span class=\"o\">:</span> <span class=\"n\">downloading</span> <span class=\"k\">with</span> <span class=\"n\">curl</span><span class=\"bp\">```</span>\n</code></pre></div>",
        "id": 223775933,
        "sender_full_name": "Anand Jain",
        "timestamp": 1611435838
    },
    {
        "content": "<p>Are you seeing a <code>_ MiB /  90.8 MiB (_ %)  _ MiB/s ETA:  _ s</code> message below the <code>downloading with curl</code> line? Which version (<code>elan --version</code>) are you on? <del>You can use <code>elan self update</code> to update it.</del> EDIT: Oh, I missed that you updated elan. It shouldn't take 5min (it's roughly 10s for me on ~10MiB/s). But it could just be a temporary network issue?</p>",
        "id": 223782175,
        "sender_full_name": "Wojciech Nawrocki",
        "timestamp": 1611441787
    },
    {
        "content": "<p>hi, thanks for reply.<br>\nno progress bar, that's why I think it is stalling</p>",
        "id": 223786059,
        "sender_full_name": "Anand Jain",
        "timestamp": 1611447276
    },
    {
        "content": "<p>That's quite strange, does just running <code>curl -OL https://github.com//leanprover/lean4/releases/download/v4.0.0-m1/lean-4.0.0-m1-linux.tar.gz</code> in the terminal download the file?</p>",
        "id": 223787156,
        "sender_full_name": "Wojciech Nawrocki",
        "timestamp": 1611449103
    },
    {
        "content": "<p>ya this curls as normal, what should i do to unzip + install?<br>\nthanks!</p>",
        "id": 223798014,
        "sender_full_name": "Anand Jain",
        "timestamp": 1611467300
    },
    {
        "content": "<p>You really shouldn't have to do this manually. First, since Lean 4 is in active development the stable version is already quite outdated. So I would try the nightly builds instead, using <code>elan install leanprover/lean4:nightly</code>. I have no idea why curl fails for you but you could try these few things:</p>\n<ul>\n<li>remove <code>~/.elan/tmp</code> and then try to install, and I guess wait at least 5min or so in case it's <em>really slow</em> for some reason</li>\n<li>if that fails, remove all of <code>~/.elan</code>, reinstall <code>elan</code> and then retry <code>install</code></li>\n</ul>",
        "id": 223827989,
        "sender_full_name": "Wojciech Nawrocki",
        "timestamp": 1611513425
    }
]