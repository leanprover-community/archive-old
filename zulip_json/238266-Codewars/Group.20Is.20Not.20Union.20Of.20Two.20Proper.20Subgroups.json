[
    {
        "content": "<p><a href=\"https://www.codewars.com/kata/5ea8056e449f540001a2dab2/discuss/lean\">https://www.codewars.com/kata/5ea8056e449f540001a2dab2/discuss/lean</a></p>\n<blockquote>\n<p>Unless the intent of this kata was explicitly to make the trainee (me in this case) discover things like decidable/classical/etc on their own, I would suggest adding a hint in this direction to the description. This could be as simple as pointing out the existence of the classical tactic.</p>\n</blockquote>",
        "id": 197473105,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1589401685
    },
    {
        "content": "<p>what do you guys think about this?</p>",
        "id": 197473112,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1589401691
    },
    {
        "content": "<p>my preferred solution is to put </p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"n\">noncomputable</span> <span class=\"n\">theory</span>\n<span class=\"n\">open_locale</span> <span class=\"n\">classical</span>\n</code></pre></div>\n\n\n<p>as part of the \"initial solution\"</p>",
        "id": 197473439,
        "sender_full_name": "Jalex Stark",
        "timestamp": 1589401816
    },
    {
        "content": "<p>I guess sflicht thinks that the Lean codewars exercises should teach you everything about doing math in Lean</p>",
        "id": 197473591,
        "sender_full_name": "Jalex Stark",
        "timestamp": 1589401879
    },
    {
        "content": "<p>which, no</p>",
        "id": 197473597,
        "sender_full_name": "Jalex Stark",
        "timestamp": 1589401882
    },
    {
        "content": "<p>what does <span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span> think about this?</p>",
        "id": 197474242,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1589402188
    },
    {
        "content": "<p>I left this as a comment:</p>\n<p>A good patch is to have</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"n\">noncomputable</span> <span class=\"n\">theory</span>\n<span class=\"n\">open_locale</span> <span class=\"n\">classical</span>\n</code></pre></div>\n\n\n<p>in the header of any Lean kata which is meant to be about \"everyday mathematics\".</p>\n<p>I don't think \"learn Lean entirely through exercises on Codewars\" is a particularly good life strategy, anymore than it would be for learning other languages. Come ask questions here<br>\n<a href=\"#narrow/stream/113489-new-members\">https://leanprover.zulipchat.com/#narrow/stream/113489-new-members</a></p>\n<p>or use this website to find reference material<br>\n<a href=\"https://leanprover-community.github.io/\">https://leanprover-community.github.io/</a></p>",
        "id": 197474382,
        "sender_full_name": "Jalex Stark",
        "timestamp": 1589402258
    },
    {
        "content": "<p>I've not been doing codewars because I've had to cut down on my \"recreational Lean\" since hundreds of undergrad scripts landed on my desk. I'll be back by the end of May. I think the fact that a group isn't a union of two proper subgroups is a cool lemma. One could even make it harder by proving that 2 is tight :-)</p>",
        "id": 197474856,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1589402488
    },
    {
        "content": "<p>that can be your next kata!</p>",
        "id": 197474927,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1589402522
    },
    {
        "content": "<p>(I think kenny's question was about the linked comment from the kata discussion thread?)</p>",
        "id": 197474981,
        "sender_full_name": "Jalex Stark",
        "timestamp": 1589402542
    },
    {
        "content": "<p>Oh! Are you asking whether I think learning Lean entirely through exercises on codewars is a good idea? I guess not, some kata are far too hard for a beginner, some are simple, one needs access to material which is \"just right\" to learn stuff well. I guess that if we make it 100 kata then there will be a whole lot of choice though -- there already is a nice variety of kata in fact.</p>",
        "id": 197475306,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1589402718
    },
    {
        "content": "<p>I guess if one wants to make this kind of learning easier, one should put together more \"collections\"</p>",
        "id": 197475543,
        "sender_full_name": "Jalex Stark",
        "timestamp": 1589402856
    },
    {
        "content": "<p>e.g. donald has a \"real analysis\" and \"incidence geometry\" collections</p>",
        "id": 197475578,
        "sender_full_name": "Jalex Stark",
        "timestamp": 1589402877
    },
    {
        "content": "<p>these happen to have problems entirely written by him, but I think that is not a necessary feature of collections</p>",
        "id": 197475634,
        "sender_full_name": "Jalex Stark",
        "timestamp": 1589402898
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"260106\">@Rocky Kamen-Rubio</span>  was trying to make some sort of beginner's collection based on his experience being very new and solving kata?</p>",
        "id": 197475669,
        "sender_full_name": "Jalex Stark",
        "timestamp": 1589402925
    },
    {
        "content": "<p>When I have time I might make a Diophantine equation collection; I asked two hard questions so far but I know 100 easier ones.</p>",
        "id": 197475697,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1589402943
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"252300\">Jalex Stark</span> <a href=\"#narrow/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups/near/197473591\">said</a>:</p>\n<blockquote>\n<p>I guess sflicht thinks that the Lean codewars exercises should teach you everything about doing math in Lean</p>\n</blockquote>\n<p>FTR, I am sflicht on codewars. I certainly did not mean to imply what you say. Only that if the purpose of the kata is to be pedagogical, I didn't think this one was optimized (unless the author was intending to teach students how to discover \"open_locale classical\" for themselves, in which case the kata was a success, at least in my case!)</p>",
        "id": 197491790,
        "sender_full_name": "Sam Lichtenstein",
        "timestamp": 1589413694
    },
    {
        "content": "<p>hi sam! my point is just that \"use classical reasoning\" should be useful in like, ~all kata</p>",
        "id": 197492110,
        "sender_full_name": "Jalex Stark",
        "timestamp": 1589413904
    },
    {
        "content": "<p>so it would be weird to put the burden of explicitly teaching that here</p>",
        "id": 197492215,
        "sender_full_name": "Jalex Stark",
        "timestamp": 1589413969
    },
    {
        "content": "<p>anyway, it sounds like we agree that \"add stuff to the header to indicate that classical reasoning is encouraged\" is a good course of action</p>",
        "id": 197492282,
        "sender_full_name": "Jalex Stark",
        "timestamp": 1589414033
    },
    {
        "content": "<p>while it's obvious that classical reasoning is useful for any normal math, I had not encountered references to the fact that one sometimes needs to explicitly engage this mode in any of the other beginner resources (#TPIL, #NNG, etc). of course it's possible I just missed it.</p>",
        "id": 197493083,
        "sender_full_name": "Sam Lichtenstein",
        "timestamp": 1589414678
    },
    {
        "content": "<p>while I have your attention, another beginner point raised by the linked kata was that I stumbled  towards a solution that opened with </p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"n\">by_cases</span> <span class=\"o\">(</span><span class=\"bp\">∀</span> <span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">x</span> <span class=\"err\">∈</span> <span class=\"n\">S</span><span class=\"o\">),</span>\n<span class=\"n\">simp</span> <span class=\"bp\">*</span><span class=\"o\">,</span>\n<span class=\"n\">simp</span> <span class=\"bp\">*</span><span class=\"o\">,</span>\n<span class=\"n\">by_contradiction</span> <span class=\"n\">g</span><span class=\"o\">,</span>\n<span class=\"k\">have</span> <span class=\"n\">sproper</span> <span class=\"o\">:=</span> <span class=\"n\">not_forall</span><span class=\"bp\">.</span><span class=\"n\">mp</span> <span class=\"n\">h</span><span class=\"o\">,</span>\n<span class=\"k\">have</span> <span class=\"n\">tproper</span> <span class=\"o\">:=</span> <span class=\"n\">not_forall</span><span class=\"bp\">.</span><span class=\"n\">mp</span> <span class=\"n\">g</span><span class=\"o\">,</span>\n</code></pre></div>\n\n\n<p>I was vaguely aware from reading other resources that \"using simp before the end\" is bad, so I assumed my solution was suboptimal. From perusing the other solutions, I learned that it could be replaced with what I guess is a more idiomatically correct opening sequence:</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"n\">by_contra</span> <span class=\"n\">h</span><span class=\"o\">,</span>\n<span class=\"n\">push_neg</span> <span class=\"n\">at</span> <span class=\"n\">h</span><span class=\"o\">,</span>\n<span class=\"n\">cases</span> <span class=\"n\">h</span> <span class=\"k\">with</span> <span class=\"n\">sproper</span> <span class=\"n\">tproper</span><span class=\"o\">,</span>\n</code></pre></div>\n\n\n<p>At the end of the day, I was left wondering if there are any tutorials oriented towards teaching this type of idiom -- basically how to use tactics with flair, the way Serre would do.  (Even if in other contexts -- such as mathlib? -- it might be considered better style to write proofs in the style of Soviet mathematician about to run out of typewriter ink.) I suppose the book-in-progress Mathematics In Lean might fill the gap eventually. But if there is some obvious resource that I should be aware of, I'd certainly love to know about it!</p>",
        "id": 197493737,
        "sender_full_name": "Sam Lichtenstein",
        "timestamp": 1589415316
    },
    {
        "content": "<p>what's the statement?</p>",
        "id": 197493767,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1589415356
    },
    {
        "content": "<p>it's <code>theorem of_forall_mem_or_mem {G : Type u} [group G] (S T : set G) [is_subgroup S] [is_subgroup T]\n  (HST : ∀ x, x ∈ S ∨ x ∈ T) : (∀ x, x ∈ S) ∨ (∀ x, x ∈ T) :=\nsorry</code> from <a href=\"https://www.codewars.com/kata/5c85201e20f73f08df4216b1/train/lean\">https://www.codewars.com/kata/5c85201e20f73f08df4216b1/train/lean</a></p>",
        "id": 197493879,
        "sender_full_name": "Sam Lichtenstein",
        "timestamp": 1589415430
    },
    {
        "content": "<p>I love the phrase \"proofs in the style of Soviet mathematician about to run out of typewriter ink\"</p>",
        "id": 197493964,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1589415492
    },
    {
        "content": "<p>I didn't intentionally drop the article, actually, but I wish it had been intentional</p>",
        "id": 197493992,
        "sender_full_name": "Sam Lichtenstein",
        "timestamp": 1589415516
    },
    {
        "content": "<p>This is a difficult question to answer, as there are many many ways to prove things, even discounting the obviously bad ones</p>",
        "id": 197494056,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1589415592
    },
    {
        "content": "<p>I don't think there's many idioms of this form - for me there's a (small) list of tactics which I would use, and not the phrase \"by_contra -- push_neg -- cases\" or something (although in this particular case I think there should be something called <code>by_contra!</code> which does by_contra, push_neg)</p>",
        "id": 197494276,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1589415766
    },
    {
        "content": "<p>I try to put each \"conceptual unit\" on one line. Usually this entails applying a theorem and getting some new variables</p>",
        "id": 197494308,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1589415800
    },
    {
        "content": "<p>In this case I would have liked to say</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"kn\">theorem</span> <span class=\"n\">of_forall_mem_or_mem</span> <span class=\"o\">{</span><span class=\"n\">G</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span><span class=\"o\">}</span> <span class=\"o\">[</span><span class=\"n\">group</span> <span class=\"n\">G</span><span class=\"o\">]</span> <span class=\"o\">(</span><span class=\"n\">S</span> <span class=\"n\">T</span> <span class=\"o\">:</span> <span class=\"n\">set</span> <span class=\"n\">G</span><span class=\"o\">)</span> <span class=\"o\">[</span><span class=\"n\">is_subgroup</span> <span class=\"n\">S</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"n\">is_subgroup</span> <span class=\"n\">T</span><span class=\"o\">]</span>\n  <span class=\"o\">(</span><span class=\"n\">HST</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span> <span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">x</span> <span class=\"err\">∈</span> <span class=\"n\">S</span> <span class=\"bp\">∨</span> <span class=\"n\">x</span> <span class=\"err\">∈</span> <span class=\"n\">T</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"bp\">∀</span> <span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">x</span> <span class=\"err\">∈</span> <span class=\"n\">S</span><span class=\"o\">)</span> <span class=\"bp\">∨</span> <span class=\"o\">(</span><span class=\"bp\">∀</span> <span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">x</span> <span class=\"err\">∈</span> <span class=\"n\">T</span><span class=\"o\">)</span> <span class=\"o\">:=</span>\n<span class=\"k\">begin</span>\n  <span class=\"n\">refine</span> <span class=\"n\">or_iff_not_and_not</span><span class=\"bp\">.</span><span class=\"mi\">2</span> <span class=\"o\">(</span><span class=\"bp\">λ</span> <span class=\"bp\">⟨</span><span class=\"n\">h₁</span><span class=\"o\">,</span> <span class=\"n\">h₂</span><span class=\"bp\">⟩</span><span class=\"o\">,</span> <span class=\"bp\">_</span><span class=\"o\">),</span>\n<span class=\"kn\">end</span>\n</code></pre></div>\n\n\n<p>but this doesn't quite work, both because <code>or_iff_not_and_not</code> requires decidability and because the pattern match turns the <code>refine</code> into an <code>exact</code></p>",
        "id": 197494532,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1589415978
    },
    {
        "content": "<p>a reasonable alternative is</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"kn\">theorem</span> <span class=\"n\">of_forall_mem_or_mem</span> <span class=\"o\">{</span><span class=\"n\">G</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span><span class=\"o\">}</span> <span class=\"o\">[</span><span class=\"n\">group</span> <span class=\"n\">G</span><span class=\"o\">]</span> <span class=\"o\">(</span><span class=\"n\">S</span> <span class=\"n\">T</span> <span class=\"o\">:</span> <span class=\"n\">set</span> <span class=\"n\">G</span><span class=\"o\">)</span> <span class=\"o\">[</span><span class=\"n\">is_subgroup</span> <span class=\"n\">S</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"n\">is_subgroup</span> <span class=\"n\">T</span><span class=\"o\">]</span>\n  <span class=\"o\">(</span><span class=\"n\">HST</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span> <span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">x</span> <span class=\"err\">∈</span> <span class=\"n\">S</span> <span class=\"bp\">∨</span> <span class=\"n\">x</span> <span class=\"err\">∈</span> <span class=\"n\">T</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"bp\">∀</span> <span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">x</span> <span class=\"err\">∈</span> <span class=\"n\">S</span><span class=\"o\">)</span> <span class=\"bp\">∨</span> <span class=\"o\">(</span><span class=\"bp\">∀</span> <span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">x</span> <span class=\"err\">∈</span> <span class=\"n\">T</span><span class=\"o\">)</span> <span class=\"o\">:=</span>\n<span class=\"k\">begin</span>\n  <span class=\"n\">classical</span><span class=\"o\">,</span>\n  <span class=\"n\">apply</span> <span class=\"n\">or_iff_not_and_not</span><span class=\"bp\">.</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"n\">rintro</span> <span class=\"bp\">⟨</span><span class=\"n\">h₁</span><span class=\"o\">,</span> <span class=\"n\">h₂</span><span class=\"bp\">⟩</span><span class=\"o\">,</span>\n<span class=\"kn\">end</span>\n</code></pre></div>",
        "id": 197494567,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1589416010
    },
    {
        "content": "<p>is it fair to say that \"have\" is considered inelegant? I find myself using it a lot to break the problem down into digestible bits, but I rarely see it in <span class=\"user-mention\" data-user-id=\"110064\">@Kenny Lau</span>'s kata solutions, for example. Or is this a bit like \"point free\" in Haskell (<a href=\"https://wiki.haskell.org/Pointfree\">https://wiki.haskell.org/Pointfree</a>) -- not that I really know anything about Haskell -- in that it can be simultaneously more elegant and more obscure...</p>",
        "id": 197494691,
        "sender_full_name": "Sam Lichtenstein",
        "timestamp": 1589416124
    },
    {
        "content": "<p>I would say that if you are going for compact proofs, <code>have</code> is useful only if you want to rewrite the result. Otherwise you can usually inline the have into the next line</p>",
        "id": 197494747,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1589416198
    },
    {
        "content": "<p>whenever you have a nonterminal simp, use <code>squeeze_simp</code>, which will produce a list of lemmas so that <code>simp only [list, of, lemmas],</code> will do what you want and run fast</p>",
        "id": 197496202,
        "sender_full_name": "Jalex Stark",
        "timestamp": 1589417624
    },
    {
        "content": "<p>the problem with nonterminal simps (and terminal ones, even!) is that it has to do a search through the very long list of simp lemmas for the appropriate ones</p>",
        "id": 197496260,
        "sender_full_name": "Jalex Stark",
        "timestamp": 1589417657
    },
    {
        "content": "<p>the problem that gets worse with nonterminal simps is that if you add more simp lemmas, you might change the result of the simp</p>",
        "id": 197496282,
        "sender_full_name": "Jalex Stark",
        "timestamp": 1589417689
    },
    {
        "content": "<p>so \"simp gets smarter\" breaks your proof if you used simp the wrong way</p>",
        "id": 197496312,
        "sender_full_name": "Jalex Stark",
        "timestamp": 1589417705
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"252300\">Jalex Stark</span> <a href=\"#narrow/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups/near/197475634\">said</a>:</p>\n<blockquote>\n<p>these happen to have problems entirely written by him, but I think that is not a necessary feature of collections</p>\n</blockquote>\n<p>Speaking of collections, I would recommend adding a link to the collection in the description for each kata so solvers stumbling on any kata in the collection would be able to follow the link and find related exercises; otherwise, it could get lost in the <a href=\"https://www.codewars.com/collections\">sea of collections</a> pretty quickly.</p>",
        "id": 197503966,
        "sender_full_name": "Donald Sebastian Leung",
        "timestamp": 1589428531
    },
    {
        "content": "<p>Sorry for reviving this thread, but I'm completely stuck at a really basic point: how do I unfold the hypotheses <code>hS : S &lt; ⊤</code> and <code>hK : K &lt; ⊤</code> into a more usable form (like a statement with quantifiers and ∈)? I'm guessing this is a bit of stupid question, but I'm still very unfamiliar with Lean <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 291487841,
        "sender_full_name": "Way Yan",
        "timestamp": 1659270355
    },
    {
        "content": "<p>I'm not sure if it definitionally works out to something useful, but <code>S &lt;= T</code> should definitionally be the same as subset so you can use <code>S &lt; T -&gt; \\not (\\forall x \\in T, x \\in S)</code> and then work with that</p>",
        "id": 291488349,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1659271079
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">example</span> <span class=\"o\">{</span><span class=\"n\">G</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span><span class=\"o\">}</span> <span class=\"o\">[</span><span class=\"n\">group</span> <span class=\"n\">G</span><span class=\"o\">]</span> <span class=\"o\">(</span><span class=\"n\">S</span> <span class=\"o\">:</span> <span class=\"n\">subgroup</span> <span class=\"n\">G</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">HST</span> <span class=\"o\">:</span> <span class=\"n\">S</span> <span class=\"bp\">&lt;</span> <span class=\"bp\">⊤</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"bp\">∃</span> <span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">x</span> <span class=\"bp\">∉</span> <span class=\"n\">S</span> <span class=\"o\">:=</span>\n<span class=\"kd\">by</span> <span class=\"n\">simpa</span> <span class=\"o\">[</span><span class=\"n\">set.subset_def</span><span class=\"o\">]</span> <span class=\"n\">using</span> <span class=\"n\">HST.2</span>\n</code></pre></div>",
        "id": 291488608,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1659271412
    },
    {
        "content": "<p>Thanks!</p>",
        "id": 291495314,
        "sender_full_name": "Way Yan",
        "timestamp": 1659280320
    }
]