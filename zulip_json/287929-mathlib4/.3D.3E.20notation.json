[
    {
        "content": "<p>I haven't started looking at the port (but I'm planning to do that once <a href=\"https://github.com/leanprover-community/mathlib/pull/17453\">#17453</a> is in, which is currently blocked by <a href=\"https://github.com/leanprover-community/mathlib/pull/17110\">#17110</a> and <a href=\"https://github.com/leanprover-community/mathlib/pull/17455\">#17455</a> :-). But in all the messages in this thread I still see the ugly ascii arrow <code>=&gt;</code>. I remember that at some point it was said that this ugly arrow would be used in the programming part of Lean 4, but that in the mathy part we would use the nicer arrow <code>↦</code>. Did I dream this conversation?</p>",
        "id": 310378186,
        "sender_full_name": "Sebastien Gouezel",
        "timestamp": 1668594755
    },
    {
        "content": "<p>Heh, I've just got used to the ugly arrow now. I'd be happy for the change! Also we need to replace the lambda by a zero width space and then we're perfect, right?</p>",
        "id": 310378346,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1668594822
    },
    {
        "content": "<p>One thing to consider is that mathport can't tell where the mathy parts are</p>",
        "id": 310379401,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1668595152
    },
    {
        "content": "<p>But we could pass mathiness as an argument to the command</p>",
        "id": 310379503,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1668595190
    },
    {
        "content": "<p>I'm not sure I like the idea of an inconsistent or domain-dependent formatting convention, that sounds like hell for an autoformatter</p>",
        "id": 310379528,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1668595197
    },
    {
        "content": "<p>Then let's get rid of <code>=&gt;</code> everywhere in mathlib. This would be super consistent</p>",
        "id": 310379701,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1668595244
    },
    {
        "content": "<p>and lean 4 and std4</p>",
        "id": 310379736,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1668595255
    },
    {
        "content": "<p>that's consistent</p>",
        "id": 310379755,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1668595262
    },
    {
        "content": "<p>also, there are tons of places <code>=&gt;</code> is used besides lambdas, are you planning on replacing all of them?</p>",
        "id": 310380033,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1668595353
    },
    {
        "content": "<p>That would be the ultimate dream but I fear Leo wouldn't be happy.</p>",
        "id": 310380055,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1668595361
    },
    {
        "content": "<p>like match arms, <code>case =&gt;</code>, <code>next =&gt;</code>, <code>conv =&gt;</code>, probably many more</p>",
        "id": 310380252,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1668595430
    },
    {
        "content": "<p>All these would indeed look much nicer using <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>↦</mo></mrow><annotation encoding=\"application/x-tex\">\\mapsto</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.522em;vertical-align:-0.011em;\"></span><span class=\"mrel\">↦</span></span></span></span></p>",
        "id": 310380342,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1668595454
    },
    {
        "content": "<p>That <code>=&gt;</code> is simply wrong in any context vaguely related to mathematics if it doesn't mean \"implies\"</p>",
        "id": 310380435,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1668595491
    },
    {
        "content": "<p>mapsto only makes sense for functions IMO</p>",
        "id": 310380499,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1668595513
    },
    {
        "content": "<p>Some parts of Lean are 100% mathematics and other are only vaguely related.</p>",
        "id": 310380507,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1668595515
    },
    {
        "content": "<p>But using another symbol for match arms etc would also be ok</p>",
        "id": 310380562,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1668595539
    },
    {
        "content": "<p>match arms are okay, induction is more of a stretch, <code>conv =&gt;</code> okay now we're just making up symbols</p>",
        "id": 310380609,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1668595555
    },
    {
        "content": "<p>also, mapsto was not going to have a leading symbol, which is probably okay for functions but would limit their use anywhere else</p>",
        "id": 310380951,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1668595671
    },
    {
        "content": "<p>It would be really nice to stop having this conversation over and over and simply switch to using mapsto for functions in mathlib (or rename the library to notmathlib).</p>",
        "id": 310381247,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1668595769
    },
    {
        "content": "<p>I'm trying to understand what the plan is so we can pitch it properly. We need to consider that lean 4 is trying to be bigger than just mathlib now, and I also don't want mathlib to have wildly divergent style from other lean 4 projects because we want a sense of cohesion in the libraries</p>",
        "id": 310382130,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1668596062
    },
    {
        "content": "<blockquote>\n<p>also, mapsto was not going to have a leading symbol, which is probably okay for functions but would limit their use anywhere else</p>\n</blockquote>\n<p>As someone not really paying attention to Lean4 grammar, what does \"leading symbol\" mean here and what's the relevance of it?</p>",
        "id": 310382145,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1668596070
    },
    {
        "content": "<p><code>(x : A) -&gt; B</code> as opposed to <code>fun (x : A) -&gt; B</code></p>",
        "id": 310382192,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1668596091
    },
    {
        "content": "<p>the first token says \"this is a function\", it simplifies parsing a lot</p>",
        "id": 310382232,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1668596107
    },
    {
        "content": "<p>without the token it becomes potentially ambiguous with lots of other bits of syntax</p>",
        "id": 310382317,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1668596150
    },
    {
        "content": "<p>it's probably nothing that can't be worked around, but these are the kind of things that are best done in core so that they can be integrated with all the other rules without causing a performance issue</p>",
        "id": 310382477,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1668596205
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110049\">Mario Carneiro</span> <a href=\"#narrow/stream/287929-mathlib4/topic/.3D.3E.20notation/near/310380252\">said</a>:</p>\n<blockquote>\n<p>like match arms, <code>case =&gt;</code>, <code>next =&gt;</code>, <code>conv =&gt;</code>, probably many more</p>\n</blockquote>\n<p>Are these last three morally equivalent to match arms in some way (ie, do they desugar to calling a recursor with some lambdas)? I think either that would justify the mapsto notation, or perhaps be a point against them sharing even the current ascii notation.</p>",
        "id": 310382629,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1668596256
    },
    {
        "content": "<p>As a bridge can we have elaborators and delaborators in Lean core that can be imported to switch to the \\mapsto notation.</p>",
        "id": 310382748,
        "sender_full_name": "Siddhartha Gadgil",
        "timestamp": 1668596287
    },
    {
        "content": "<p>you can kind of see <code>case =&gt;</code> as an outgrowth of the <code>induction x with | foo y =&gt; ...</code> syntax, which is itself an outgrowth of match which connects to <code>fun</code></p>",
        "id": 310382890,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1668596337
    },
    {
        "content": "<p>Is <code>next =&gt;</code> related to loops, and sort of like <a href=\"https://leanprover-community.github.io/mathlib_docs/find/io.iterate\">docs#io.iterate</a>?</p>",
        "id": 310383004,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1668596375
    },
    {
        "content": "<p>but <code>conv</code> really isn't a function in that sense, and there are others like it too like <code>tactic' =&gt;</code> - I think they are just keeping up the stylistic similarity</p>",
        "id": 310383020,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1668596380
    },
    {
        "content": "<p><code>next =&gt;</code> is <code>case _ =&gt;</code></p>",
        "id": 310383043,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1668596389
    },
    {
        "content": "<p>it means pick the next case</p>",
        "id": 310383074,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1668596396
    },
    {
        "content": "<p>but also you can use <code>next a b =&gt;</code> to name recently introduced variables so it's not completely useless / interchangeable with <code>.</code></p>",
        "id": 310383190,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1668596423
    },
    {
        "content": "<p>also it is used as an introducer in <code>macro \"foo\" x:term : term =&gt; `(x + x)</code></p>",
        "id": 310383709,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1668596594
    },
    {
        "content": "<p>which is also kind of like a function</p>",
        "id": 310383725,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1668596601
    },
    {
        "content": "<p>although one thing that bugged me about lean 4 syntax was the inconsistency between uses of <code>:=</code> and <code>=&gt;</code></p>",
        "id": 310383794,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1668596627
    },
    {
        "content": "<p>What about switching at least <code>fun (x : A) =&gt; B</code> to <code>fun (x : A) ↦ B</code> in all of mathlib? This one should be pretty cheap.</p>",
        "id": 310385415,
        "sender_full_name": "Sebastien Gouezel",
        "timestamp": 1668597216
    },
    {
        "content": "<p>The question of the leading token is independent. If there is a technical reason to put a token before the input variable then we need to do it. The issue it really the <code>=&gt;</code> symbol. Using <code>fun (x : A) ↦ B</code> would be totally fine.</p>",
        "id": 310390858,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1668599397
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110049\">Mario Carneiro</span> <a href=\"#narrow/stream/287929-mathlib4/topic/.3D.3E.20notation/near/310382130\">said</a>:</p>\n<blockquote>\n<p>We need to consider that lean 4 is trying to be bigger than just mathlib now, and I also don't want mathlib to have wildly divergent style from other lean 4 projects because we want a sense of cohesion in the libraries</p>\n</blockquote>\n<p>I don't think this is realistic. I think mathlib should have a math style and programminglib should have a programming style.</p>",
        "id": 310391087,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1668599474
    },
    {
        "content": "<p>I do think that mathematicians would like the fun .. mapsto suggestion better than =&gt;,which looks like \\ge to me</p>",
        "id": 310391167,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1668599505
    },
    {
        "content": "<p>One other reason =&gt; really bugs me is that it's clearly an ASCII approximation for an arrow, and I have no idea why we don't just use Unicode.</p>",
        "id": 310406419,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1668605170
    },
    {
        "content": "<p>This is a maths/CS thing. Have you seen the fishes in control.functor? They just don't like notation for some reason -- if they want to see notation then they use a font where &gt;=&gt; comes out as an actual fish or something.</p>",
        "id": 310406865,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1668605315
    },
    {
        "content": "<p>I've had serious CS people tell me that one thing they don't like about mathlib is all the stupid unicode, and conversely I've had undergraduate mathematicians tell me that the reason they prefer Lean to all the other systems is because of all the lovely unicode.</p>",
        "id": 310407002,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1668605365
    },
    {
        "content": "<p>Many programmers use fonts that have ligatures, so things like <code>#!</code>, <code>=&gt;</code>, <code>!=</code>, <code>&gt;&gt;=</code> look unicode-like <a href=\"https://github.com/tonsky/FiraCode/blob/master/extras/ligatures.png\">https://github.com/tonsky/FiraCode/blob/master/extras/ligatures.png</a>. And the argument is that <code>=&gt;</code> is easier to type than <code>\\mapsto</code>. <code>\\mapsto</code> requires editor support to inline the character -- programmers are, I assume, using a wider text editor set.</p>\n<div class=\"message_inline_image\"><a href=\"https://github.com/tonsky/FiraCode/blob/master/extras/ligatures.png\"><img src=\"https://uploads.zulipusercontent.net/690148a37fccba1887b908641413d9a9713d8700/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f746f6e736b792f46697261436f64652f6d61737465722f6578747261732f6c69676174757265732e706e67\"></a></div>",
        "id": 310407050,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1668605383
    },
    {
        "content": "<p>So the question is: do we want to annoy the CS people by saying \"look, unicode is there for a reason, let's use it\" or do we want to annoy the math people by saying \"in order to read this file properly then you have to download this special font\" and my instinct for this particular issue is to annoy the CS people (because asking people to download a special font is unreasonable)</p>",
        "id": 310407695,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1668605549
    },
    {
        "content": "<p>I know all of these reasons, but all of these reasons are moot since we use Unicode <em>everywhere</em> throughout mathlib.</p>",
        "id": 310408148,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1668605686
    },
    {
        "content": "<p>That was my point.</p>",
        "id": 310408174,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1668605693
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/stream/287929-mathlib4/topic/.3D.3E.20notation/near/310407002\">said</a>:</p>\n<blockquote>\n<p>I've had serious CS people tell me that one thing they don't like about mathlib is all the stupid unicode, and conversely I've had undergraduate mathematicians tell me that the reason they prefer Lean to all the other systems is because of all the lovely unicode.</p>\n</blockquote>\n<p>As a CS/software engineering perspective, when I code, I have an intention, and the less that gets in the way of translating that intention the better; typing \"=&gt;\" is pretty mechanical and doesn't interrupt flow state; remembering the abbreviation, how much I need to type to get the completion to work properly, etc. interrupts flow. Working in Lean was rough initially. But Mathlib is for mathematicians!</p>",
        "id": 310443650,
        "sender_full_name": "Arien Malec",
        "timestamp": 1668614703
    },
    {
        "content": "<p>I suspect that improves with time, though</p>",
        "id": 310449298,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1668616357
    },
    {
        "content": "<p>It does, and gets routinized. For something that gets typed all the time, like <code>=&gt;</code>, consider ergnomics of the abbreviation.</p>",
        "id": 310450742,
        "sender_full_name": "Arien Malec",
        "timestamp": 1668616772
    },
    {
        "content": "<p>All the more reason to prefer <code>\\mapsto</code> <span aria-label=\"smiley\" class=\"emoji emoji-1f603\" role=\"img\" title=\"smiley\">:smiley:</span></p>",
        "id": 310465372,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1668621182
    },
    {
        "content": "<blockquote>\n<p>\"look, unicode is there for a reason, let's use it</p>\n</blockquote>\n<p>I don't think the reason always matches the one we choose though; \"<code>ᗮ</code> canadian syllabics carrier p (U+15EE)\" is certainly not there \"for\" <a href=\"https://leanprover-community.github.io/mathlib_docs/find/submodule.orthogonal\">docs#submodule.orthogonal</a>!</p>",
        "id": 310469471,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1668622530
    },
    {
        "content": "<p><code>mapsto</code> is certainly not such a case, thankfully</p>",
        "id": 310469531,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1668622549
    },
    {
        "content": "<p>I can't wait for the day when someone figures out how to use latex instead, we get all the symbols we want and the computer scientists complain about yet another layer of obfuscation</p>",
        "id": 310471137,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1668623137
    },
    {
        "content": "<p>Is <code>|-&gt;</code> too ugly?</p>",
        "id": 310472460,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1668623528
    },
    {
        "content": "<p>I don't see much point changing the ascii syntax (for functions; for non-functions like <code>conv</code> I'd be in favor); <code>=&gt;</code> is already established as function notation in Javascript and Typescript, and I doubt mathlib would ever choose to use <code>|-&gt;</code> instead of <code>↦</code></p>",
        "id": 310493026,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1668629568
    },
    {
        "content": "<blockquote>\n<p>Is <code>|-&gt;</code> too ugly?</p>\n</blockquote>\n<p>Yes.</p>",
        "id": 310497669,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1668631245
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/stream/287929-mathlib4/topic/.3D.3E.20notation/near/310471137\">said</a>:</p>\n<blockquote>\n<p>I can't wait for the day when someone figures out how to use latex instead, we get all the symbols we want and the computer scientists complain about yet another layer of obfuscation</p>\n</blockquote>\n<p>By the way, this is pretty close to the situation in Isabelle. The special characters are all spelled like <code>\\&lt;foobar&gt;</code> in the underlying text file, which means that you basically can't read the files at all unless you look at them in an Approved Text Editor like Isabelle/JEdit</p>",
        "id": 310528710,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1668646340
    },
    {
        "content": "<p>I think this would be problematic for at least our github workflow since we don't control the text display there</p>",
        "id": 310528742,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1668646373
    },
    {
        "content": "<p>If you want to see how a world with <code>fun ↦</code> would look like, check out <a href=\"https://github.com/leanprover-community/mathlib4/pull/617\">mathlib4#617</a></p>",
        "id": 310529049,
        "sender_full_name": "Gabriel Ebner",
        "timestamp": 1668646620
    },
    {
        "content": "<blockquote>\n<p>I think this would be problematic for at least our github workflow since we don't control the text display there</p>\n</blockquote>\n<p>And also Zulip, email, <code>git diff</code>.  The great thing about Unicode is that it works everywhere equally badly.</p>",
        "id": 310529180,
        "sender_full_name": "Gabriel Ebner",
        "timestamp": 1668646726
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/stream/287929-mathlib4/topic/.3D.3E.20notation/near/310469471\">said</a>:</p>\n<blockquote>\n<blockquote>\n<p>\"look, unicode is there for a reason, let's use it</p>\n</blockquote>\n<p>I don't think the reason always matches the one we choose though; \"<code>ᗮ</code> canadian syllabics carrier p (U+15EE)\" is certainly not there \"for\" <a href=\"https://leanprover-community.github.io/mathlib_docs/find/submodule.orthogonal\">docs#submodule.orthogonal</a>!</p>\n</blockquote>\n<p>Or see my comments in <a href=\"https://github.com/leanprover-community/mathlib/pull/16298\">#16298</a> on how the characters we use for norms and \"parallel\" are swapped from what Unicode descriptions would make the most appropriate characters for those purposes.</p>",
        "id": 310534849,
        "sender_full_name": "Joseph Myers",
        "timestamp": 1668651528
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/617/files\">https://github.com/leanprover-community/mathlib4/pull/617/files</a> is sooo gorgeous! Thanks Gabriel!</p>",
        "id": 310553601,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1668667957
    },
    {
        "content": "<blockquote>\n<p>the characters we use for norms and \"parallel\" are swapped from what Unicode descriptions would make the most appropriate characters for those purposes.</p>\n</blockquote>\n<p>This strikes me as an accident we should just fix</p>",
        "id": 310558904,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1668671409
    },
    {
        "content": "<p>Especially given how <code>parallel</code> renders in some fonts:</p>\n<p><a href=\"/user_uploads/3121/-C0J0eXH5XC-kT08S3xaq9Se/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/-C0J0eXH5XC-kT08S3xaq9Se/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/-C0J0eXH5XC-kT08S3xaq9Se/image.png\"></a></div><p>This is probably ok for <code>parallel</code>, but is deeply weird for <code>norm</code>.</p>",
        "id": 310559134,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1668671575
    },
    {
        "content": "<p>I'll make a start on a patch</p>",
        "id": 310560440,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1668672195
    },
    {
        "content": "<p>Can you swap the VScode extension abbreviations as well? I'm used to <code>\\||</code> meaning \"norm\".</p>",
        "id": 310582721,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1668681433
    },
    {
        "content": "<p>See the comment on the PR; There's a <code>\\norm</code> shortcut waiting to be merged that is shorter than <code>\\||\\||</code> anyway. If we changed <code>\\||</code> then <code>\\||n</code> would be weird since that means \"not parallel\" not \"double bar with strike\"</p>",
        "id": 310584688,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1668682216
    },
    {
        "content": "<p>CI is green on <a href=\"https://github.com/leanprover-community/mathlib/pull/17575\">#17575</a>; while it's trivial to fixup, I imagine it will go stale quite quickly</p>",
        "id": 310584826,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1668682278
    },
    {
        "content": "<p>I'd really like to have <code>\\||</code>to default to the norm symbol, because it's used much more than the parallel one.</p>",
        "id": 310585783,
        "sender_full_name": "Sebastien Gouezel",
        "timestamp": 1668682642
    },
    {
        "content": "<p>Is there any reason to type <code>\\||x\\||</code> over <code>\\norm x</code> though?</p>",
        "id": 310585867,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1668682680
    },
    {
        "content": "<p>(And there are conflicts on the PR).</p>",
        "id": 310585870,
        "sender_full_name": "Sebastien Gouezel",
        "timestamp": 1668682681
    },
    {
        "content": "<p>Just a habit it will be hard to get rid off. And this corresponds to latex notation.</p>",
        "id": 310586058,
        "sender_full_name": "Sebastien Gouezel",
        "timestamp": 1668682741
    },
    {
        "content": "<p>Isn't the latex notation <code>\\|</code>, which already means the wrong thing in vscode?</p>",
        "id": 310586104,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1668682761
    },
    {
        "content": "<p>In fact I'm not sure, because I use <code>\\norm{x}</code> in latex :-)</p>",
        "id": 310586318,
        "sender_full_name": "Sebastien Gouezel",
        "timestamp": 1668682829
    },
    {
        "content": "<p>Either way, I probably should let someone who uses norm more argue about this; the extent of my counterargument is that we have a lot of shortcuts similar to <code>\\||</code> that are about the geometry symbols, and it would be odd to mix a norm symbol with them. Likely we don't care about that</p>",
        "id": 310586706,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1668682974
    },
    {
        "content": "<p>Here's a proposal:</p>\n<ul>\n<li>Allow using <code>=&gt;</code> or <code>⇒</code> interchangably, just like how we already allow <code>-&gt;</code>or <code>→</code></li>\n<li>For functions (terms) we use <code>↦</code>, everywhere else (structural constructs) we use <code>=&gt;</code> or <code>⇒</code>.</li>\n</ul>\n<p>(Unfortunately <code>⇒</code> looks really silly in VS Code with the default font... Looks fine here though.)</p>\n<p>Anyway, this is a color I'd be happy with for my bike shed <span aria-label=\"bicycle\" class=\"emoji emoji-1f6b2\" role=\"img\" title=\"bicycle\">:bicycle:</span></p>",
        "id": 310588899,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1668683912
    },
    {
        "content": "<p>17 messages were moved from this topic to <a class=\"stream-topic\" data-stream-id=\"113488\" href=\"/#narrow/stream/113488-general/topic/norm.20notation\">#general &gt; norm notation</a> by <span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span>.</p>",
        "id": 310589232,
        "sender_full_name": "Notification Bot",
        "timestamp": 1668684047
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110031\">Patrick Massot</span> <a href=\"#narrow/stream/287929-mathlib4/topic/.3D.3E.20notation/near/310390858\">said</a>:</p>\n<blockquote>\n<p>The question of the leading token is independent. If there is a technical reason to put a token before the input variable then we need to do it. The issue it really the <code>=&gt;</code> symbol.</p>\n</blockquote>\n<p>I think the parser might be fine without a leading token, especially after <a href=\"https://github.com/leanprover/lean4/pull/1799\">https://github.com/leanprover/lean4/pull/1799</a>. But the usability looks bad on e.g. <code>a _ _ hbc ↦ h a hbc</code> - you'll get a lot of unhelpful errors until you finally type that arrow and make Lean realize you're trying to form a lambda. And also it does look weird to me without a leading token, but others may disagree.</p>",
        "id": 310593411,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1668685694
    },
    {
        "content": "<p>I think a leading token is helpful even for human parsing, even though it isn't \"standard\" in mathematical circles. Note however, that in mathematics we would write functions in an uncurried fashion, so they only take one argument in some sense. I think this is why mathematical notation doesn't need a leading token, but it does make sense for Lean because we write curried functions in general.</p>",
        "id": 310616814,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1668694297
    },
    {
        "content": "<p>I assume <code>a ↦ _ ↦ _ ↦ hbc ↦ h a hbc</code> is not something anyone wants?</p>",
        "id": 310619281,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1668695046
    },
    {
        "content": "<p>Well it looks weird but so did <code>ℝ → ℝ → ℝ</code> when I first started with lean...</p>",
        "id": 310619509,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1668695120
    },
    {
        "content": "<p>Let's not take the <code>fun</code> out of Lean! <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 310619751,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1668695190
    },
    {
        "content": "<p>I assume <code>fun a =&gt; fun b =&gt; f a b</code> is already legal in Lean 4</p>",
        "id": 310619833,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1668695220
    },
    {
        "content": "<p>of course</p>",
        "id": 310619927,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1668695249
    },
    {
        "content": "<p>if (IF!) you want to solve the lookahead problem, I guess you could say that <code>a ↦ b ↦ f a b</code> is valid but <code>a b ↦ f a b</code> is not. Maybe <code>a, b ↦ f a b</code> would still be okayish.</p>",
        "id": 310623464,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1668696407
    },
    {
        "content": "<p><code>(a, b ↦ f a b)</code> <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 310624571,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1668696727
    },
    {
        "content": "<p><code>(a, b) ↦ f a b</code> is also ambiguous, unfortunately, I think (how do you distinguish this from a destructuring of a single product argument?), but maybe… <code>{a b} ↦ f a b</code>?</p>",
        "id": 310674946,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1668710712
    },
    {
        "content": "<p>Another option is to simply use <code>λ</code> instead of <code>fun</code> in mathlib as a matter of style: <code>λ a b ↦ f a b</code>.</p>",
        "id": 310675000,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1668710730
    },
    {
        "content": "<p>But I do think <code>fun</code> has the edge over <code>λ</code> at least with respect to readability, even though it’s not “mathematical”. <code>fun</code> would be a “programming quirk” relative to math notation, but maybe not a bad one!</p>",
        "id": 310675627,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1668710943
    },
    {
        "content": "<p><code>fun</code> does sound like the ASCII art version of <code>λ</code>, which to me makes it more CS-y.</p>",
        "id": 310679164,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1668711983
    },
    {
        "content": "<p>In case anyone is not aware of it, <code>fun x, x*2</code> is already valid syntax in Lean 3; so you could take the fact we chose to avoid <code>fun</code> in mathlib3  as an argument that we should maybe avoid it in mathlib4 too.</p>",
        "id": 310679601,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1668712085
    },
    {
        "content": "<p>I thought <code>λ</code> was banned as function syntax in Lean 4 though?</p>",
        "id": 310679987,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1668712191
    },
    {
        "content": "<p>If so, well, we’re making up new syntax for <code>↦</code> anyway, so I figure we could include a <code>λ</code> in front if we want to! (I’m not sure we do want to, though.)</p>",
        "id": 310680280,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1668712302
    },
    {
        "content": "<p>I deliberately started using <code>fun</code> in lean 4 because it fit better compared to <code>λ x =&gt; e</code> (and it gets colored like a keyword, which helps it stand out)</p>",
        "id": 310680623,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1668712417
    },
    {
        "content": "<blockquote>\n<p>In case anyone is not aware of it, <code>fun x, x*2</code> is already valid syntax in Lean 3; so you could take the fact we chose to avoid <code>fun</code> in mathlib3  as an argument that we should maybe avoid it in mathlib4 too.</p>\n</blockquote>\n<p>Doesn’t the presence of an arrow between the arguments and the body change the game, though? I can see why we might want to eschew <code>fun x, 2*x</code>, but <code>fun x ↦ 2*x</code> is imo very readable.</p>",
        "id": 310680684,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1668712439
    },
    {
        "content": "<p>Plus I’m guessing the <code>fun</code>/<code>↦</code> notation is taken up fairly readily by mathematicians at most stages of education: you say “okay, <code>fun</code> means <code>fun</code>ction”, write functions as you’re likely already used to doing after it (with <code>↦</code>), and you’re done :)</p>",
        "id": 310682512,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1668713053
    },
    {
        "content": "<p>Yes, <code>fun</code> is much better than <code>λ</code> for newcomers.</p>",
        "id": 310682695,
        "sender_full_name": "Sebastien Gouezel",
        "timestamp": 1668713121
    },
    {
        "content": "<p>One of the big advantages is that <code>λ</code> is now again available as variable (scalar, element of a field, what not).</p>",
        "id": 310682852,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1668713174
    },
    {
        "content": "<p>So if I have to choose between <code>fun</code> and <code>λ</code> then I'll give a 100 votes to <code>fun</code>.</p>",
        "id": 310682889,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1668713197
    },
    {
        "content": "<p>Yeah <code>λ</code> is also standard for <a href=\"https://en.wikipedia.org/wiki/Lebesgue_measure\">Lebesgue measure</a>, <a href=\"https://en.wikipedia.org/wiki/Eigenvalues_and_eigenvectors#Formal_definition\">eigenvalue</a>, <a href=\"https://en.wikipedia.org/wiki/Lagrange_multiplier\">Lagrange multiplier</a>, <a href=\"https://en.wikipedia.org/wiki/Elliptic_curve#Elliptic_curves_over_the_complex_numbers\">the modular lambda function</a>, <a href=\"https://en.wikipedia.org/wiki/Liouville_function\">Liouville function</a></p>",
        "id": 310683800,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1668713485
    },
    {
        "content": "<p>On a different note: in the case where we use <code>fun</code>/<code>↦</code> notation, how do people feel about allowing <code>fun</code> to be omitted for single-argument functions (e.g. <code>x ↦ 2*x</code>) or not?</p>\n<p>On the “allow omission” side you’ve got decluttering code, convenience, “mathematicalness”, and simplicity, but risk making <code>fun</code> seem out of place when encountered in multi-argument functions; on the “keep <code>fun</code>” side, you’ve got clarity and consistency.</p>",
        "id": 310686270,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1668714302
    },
    {
        "content": "<p>Do you know about the <code>(2 * ⬝)</code> syntax?</p>",
        "id": 310686630,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1668714439
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"548935\">Thomas Murrills</span> <a href=\"#narrow/stream/287929-mathlib4/topic/.3D.3E.20notation/near/310674946\">said</a>:</p>\n<blockquote>\n<p><code>(a, b) ↦ f a b</code> is also ambiguous, unfortunately, I think (how do you distinguish this from a destructuring of a single product argument?), but maybe… <code>{a b} ↦ f a b</code>?</p>\n</blockquote>\n<p>I think <code>(a b) {c d} ↦ f a b c d</code> is pretty reasonable; you can even specify argument explicitness this way.</p>",
        "id": 310686705,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1668714469
    },
    {
        "content": "<p>Is argument implicitness in lambdas really relevant?</p>",
        "id": 310686851,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1668714516
    },
    {
        "content": "<p>Maybe in <code>let f := (a) {b} ↦ a + b</code>?</p>",
        "id": 310687020,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1668714576
    },
    {
        "content": "<blockquote>\n<p>Do you know about the <code>(2 * ⬝)</code> syntax?</p>\n</blockquote>\n<p>Yes, I’m just using this simple function as an example just to clarify what I mean by omitting <code>fun</code>; single-argument function notation would presumably be used when the body is larger! :)</p>",
        "id": 310687029,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1668714580
    },
    {
        "content": "<p>I must say, I really prefer having the <code>fun</code>. Like I mentioned before, I think it even helps with human parsing.</p>",
        "id": 310687181,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1668714619
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">Yaël Dillies</span> <a href=\"#narrow/stream/287929-mathlib4/topic/.3D.3E.20notation/near/310686851\">said</a>:</p>\n<blockquote>\n<p>Is argument implicitness in lambdas really relevant?</p>\n</blockquote>\n<p>I guess so ?</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"c\">/-</span><span class=\"cm\"> Lean 3 -/</span>\n<span class=\"kd\">def</span> <span class=\"n\">foo</span> <span class=\"o\">:=</span> <span class=\"bp\">λ</span> <span class=\"o\">{</span><span class=\"n\">α</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">a</span> <span class=\"o\">:</span> <span class=\"n\">α</span><span class=\"o\">),</span> <span class=\"n\">a</span>\n<span class=\"k\">#check</span> <span class=\"n\">foo</span> <span class=\"mi\">3</span>  <span class=\"c\">/-</span><span class=\"cm\"> foo 3 : ℕ -/</span>\n</code></pre></div>",
        "id": 310687192,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1668714627
    },
    {
        "content": "<p>Ah I guess that depends on whether you put everything left to the colon.</p>",
        "id": 310687380,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1668714688
    },
    {
        "content": "<p><a href=\"#narrow/stream/267928-condensed-mathematics/topic/Real.20measures/near/293670652\">https://leanprover.zulipchat.com/#narrow/stream/267928-condensed-mathematics/topic/Real.20measures/near/293670652</a></p>",
        "id": 310688427,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1668715026
    },
    {
        "content": "<p>I wonder how an expression like <code>a + b ↦ c</code> would parse... It ought to be a parse error, I think, and you should instead write <code>a + (b ↦ c)</code> or <code>a + &lt;| b ↦ c</code>, but these aren't really much shorter than <code>a + fun b ↦ c</code>. The prefix <code>fun</code> means you know Lean will commit to parsing to a function then and there.</p>",
        "id": 310688522,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1668715064
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/stream/287929-mathlib4/topic/.3D.3E.20notation/near/310682852\">said</a>:</p>\n<blockquote>\n<p>One of the big advantages is that <code>λ</code> is now again available as variable (scalar, element of a field, what not).</p>\n</blockquote>\n<p>NB, it will have to be removed from the function syntax in core for that</p>",
        "id": 310689373,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1668715285
    },
    {
        "content": "<p>Right, I just tried this out and lean wasn't happy</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">def</span> <span class=\"n\">foobar</span> <span class=\"o\">:</span> <span class=\"n\">Nat</span> <span class=\"bp\">→</span> <span class=\"n\">Nat</span> <span class=\"o\">:=</span>\n<span class=\"k\">fun</span> <span class=\"bp\">λ</span> <span class=\"bp\">=&gt;</span> <span class=\"bp\">λ</span>\n</code></pre></div>",
        "id": 310689541,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1668715337
    },
    {
        "content": "<p>Do we really want <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>λ</mi></mrow><annotation encoding=\"application/x-tex\">\\lambda</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">λ</span></span></span></span> to be completely gone from lambda calculus?</p>",
        "id": 310689606,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1668715369
    },
    {
        "content": "<p>Maybe it can be localized notation for <code>fun</code>?</p>",
        "id": 310689631,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1668715382
    },
    {
        "content": "<p>Tokens are not currently localized/scoped. Though they should be.</p>",
        "id": 310689687,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1668715403
    },
    {
        "content": "<p>I propose we merge <a href=\"https://github.com/leanprover-community/mathlib4/pull/617\">mathlib4#617</a>, enabling the <code>fun a b ↦ a + b</code> syntax and making it the pretty-printer default in mathlib4.</p>\n<p>In my opinion, anything with <code>↦</code> is clearly better for mathematics than anything with <code>=&gt;</code>.  Deciding among variants such as <code>fun a b ↦ a + b</code> or <code>a ↦ b ↦ a + b</code> or <code>a, b ↦ a + b</code> is an interesting question, but I think here we should be guided by pragmatism: do the pretty options create so much ambiguity for Lean that they need to be accompanied by many non-pretty parentheses?  Are the pretty options easily human-parseable?  I don't think we will discover the answer to these questions without experimentation by many people on a large corpus of mathematics.</p>\n<p>If the Lean 4 devs are willing to code up some of the proposed variants and just let them quietly all coexist for six months while people experiment, I think that would be very fruitful.  But I don't think it should stop us from merging <code>fun a b ↦ a + b</code> now.</p>\n<p>Likewise if the Lean 4 devs are willing to put into Lean core the <code>fun a b ↦ a + b</code> syntax and a toggle to change the pretty-printer default across a repo, that would be great!  But again, maybe they consider this a feature of limited interest, and that's fine, so I don't think it should stop us from merging <code>fun a b ↦ a + b</code> into mathlib4 now.</p>",
        "id": 311254479,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1669026835
    },
    {
        "content": "<p>Okay, that PR was rotting quickly. I have merged master.</p>",
        "id": 311498939,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1669076862
    },
    {
        "content": "<p>It looks like there is quorum if someone wants to hit merge.</p>",
        "id": 311498961,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1669076881
    },
    {
        "content": "<p>Can we outline who exactly has merge powers on mathlib4 (I assume maintainers)? And/or who is comfortable using them?</p>",
        "id": 311506239,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1669082430
    },
    {
        "content": "<p>I ask only because my maintainer merge powers don't work on mathlib4, so I thought it might be different.</p>",
        "id": 311506325,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1669082477
    },
    {
        "content": "<p>Great, I'm really happy to have this notation! A follow-up: should we have mathport output this notation, either by default or if some flag is set?  (Or will this happen automatically?)</p>",
        "id": 311588484,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1669122486
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"197836\">Jireh Loreaux</span> <a href=\"#narrow/stream/287929-mathlib4/topic/.3D.3E.20notation/near/311506239\">said</a>:</p>\n<blockquote>\n<p>Can we outline who exactly has merge powers on mathlib4 (I assume maintainers)? And/or who is comfortable using them?</p>\n</blockquote>\n<p>It's a good question, for example I think I have merge powers but I haven't used them.</p>",
        "id": 311588598,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1669122521
    },
    {
        "content": "<p>As far as I'm aware, the <code>maintainer merge</code> has no effect in mathlib4, and <code>bors merge</code> should respond to the same set of people it does on the mathlib repository.</p>",
        "id": 311673763,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1669139453
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/614#issuecomment-1316937719\">6 days ago</a> I seemingly had permission to merge (somewhat to my surprise), and <a href=\"https://github.com/leanprover-community/mathlib4/pull/681#issuecomment-1324032927\">now I apparently don't</a>. I'm not complaining, just pointing out that something changed.</p>",
        "id": 311675167,
        "sender_full_name": "David Renshaw",
        "timestamp": 1669139848
    },
    {
        "content": "<p>Yes; we noticed that and fixed it. :-)</p>",
        "id": 311677887,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1669140658
    },
    {
        "content": "<p>It had been that bors was listening to anyone with write access. I changed that so it listens to the same list as on mathlib.</p>",
        "id": 311677977,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1669140688
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"260507\">Heather Macbeth</span> <a href=\"#narrow/stream/287929-mathlib4/topic/.3D.3E.20notation/near/311588484\">said</a>:</p>\n<blockquote>\n<p>A follow-up: should we have mathport output this notation, either by default or if some flag is set?  (Or will this happen automatically?)</p>\n</blockquote>\n<p><span aria-label=\"ping pong\" class=\"emoji emoji-1f3d3\" role=\"img\" title=\"ping pong\">:ping_pong:</span> Maybe <span class=\"user-mention\" data-user-id=\"110049\">@Mario Carneiro</span> knows how to make this work?  I just checked and the newest mathport output still has <code>=&gt;</code> so I guess indeed it doesn't change automatically.</p>",
        "id": 311826753,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1669210393
    },
    {
        "content": "<p>I see that <span class=\"user-mention\" data-user-id=\"110043\">@Gabriel Ebner</span>'s <a href=\"https://github.com/leanprover/lean4/pull/1984\">PR</a> adding a <code>↦</code> option in Lean core has now been merged.  Thank you <em>very</em> much to the devs for humouring us!</p>",
        "id": 319293906,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1672786294
    },
    {
        "content": "<p>This still doesn't work in pattern-matching.</p>",
        "id": 319598734,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1672929332
    },
    {
        "content": "<p>I believe that one of the steps in solving the problem was going to be turning on a pro-<code>↦</code> option in the lakefile, and as far as I can tell this wasn't done in <span class=\"user-mention\" data-user-id=\"110043\">@Gabriel Ebner</span>'s bump PR <a href=\"https://github.com/leanprover-community/mathlib4/pull/1335\">mathlib4#1335</a>.  Gabriel, can you advise?  Is there something else we need to do?</p>",
        "id": 319620903,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1672935927
    },
    {
        "content": "<p>Yes, it should be enough to add the <code>pp.unicodeFun</code> option to the lakefile now.</p>",
        "id": 319657140,
        "sender_full_name": "Gabriel Ebner",
        "timestamp": 1672946920
    },
    {
        "content": "<p>Could someone advise on the syntax to add an option to the lakefile?  Here it's the <code>pp.unicodeFun</code> option I'm interested in.</p>",
        "id": 319693802,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1672962132
    },
    {
        "content": "<p>it's just like the <code>set_option warningAsError true</code> setting in there</p>",
        "id": 319693885,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1672962186
    },
    {
        "content": "<p>so <code>-Dpp.unicodeFun=true</code> I guess</p>",
        "id": 319693902,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1672962202
    },
    {
        "content": "<p>Thanks Mario, should it be</p>\n<div class=\"codehilite\" data-code-language=\"Text only\"><pre><span></span><code>#[\"-DwarningAsError=true\", \"-Dpp.unicodeFun=true\"]\n</code></pre></div>\n<p>or</p>\n<div class=\"codehilite\" data-code-language=\"Text only\"><pre><span></span><code>#[\"-DwarningAsError=true -Dpp.unicodeFun=true\"]\n</code></pre></div>\n<p>?</p>",
        "id": 319694240,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1672962383
    },
    {
        "content": "<p>the first</p>",
        "id": 319694358,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1672962447
    },
    {
        "content": "<p>(For anyone trying to replicate: it turns out to be <code>pp.unicode.fun</code> not <code>pp.unicodeFun</code>)</p>",
        "id": 319694583,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1672962575
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/1360\">mathlib4#1360</a></p>",
        "id": 319695022,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1672962835
    },
    {
        "content": "<p>I'd like to record my vote here for keeping some sort of leading token like <code>fun</code>. For me (with my misshapen corneas) <code>↦</code> is basically indistinguishable from <code>↔</code> in VSCode. Of course it would be nice to reclaim <code>λ</code> for mathematics. One alternative to <code>fun</code> that I haven't seen suggested here is <code>fn</code>. I have seen that on more blackboards than <code>fun</code> and I know it is used in Clojure.</p>",
        "id": 321509478,
        "sender_full_name": "Alistair Tucker",
        "timestamp": 1673801843
    },
    {
        "content": "<p>Independently of function definitions, you may consider changing the font you use for Lean.</p>",
        "id": 321511275,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1673802891
    },
    {
        "content": "<p>Thanks! It's true I never tried that. Any particular favourites of the community?</p>",
        "id": 321514664,
        "sender_full_name": "Alistair Tucker",
        "timestamp": 1673804799
    },
    {
        "content": "<p>You can try  <code>JetBrains Mono</code>, <code>Fira Code</code>, <code>DejaVu sans mono</code> for instance. In VSCode settings.json you need to add <code>\"editor.fontLigatures\": true,</code> if you want ligatures.</p>",
        "id": 321515503,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1673805285
    },
    {
        "content": "<p>Those are not necessarily pretty, they try to be efficient.</p>",
        "id": 321515575,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1673805336
    },
    {
        "content": "<p>(you also need to change it in the css for the infoview separately, DejaVu sans mono is a good one for the infoview</p>",
        "id": 321520687,
        "sender_full_name": "Eric Rodriguez",
        "timestamp": 1673808483
    }
]