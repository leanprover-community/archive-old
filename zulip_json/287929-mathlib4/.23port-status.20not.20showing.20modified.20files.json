[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"112680\">@Johan Commelin</span> There seem to be several different issues here.  But one is that, <a href=\"#narrow/stream/287929-mathlib4/topic/OfNat/near/314709145\">apparently</a>, the website does not show the same output as running the port-status script locally.</p>",
        "id": 314738165,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1670522861
    },
    {
        "content": "<p>Hmmm, when I run the script locally, I get all sorts of errors like</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">fatal</span><span class=\"o\">:</span> <span class=\"n\">ambiguous</span> <span class=\"n\">argument</span> <span class=\"bp\">'@</span><span class=\"n\">kbuzzard..HEAD'</span><span class=\"o\">:</span> <span class=\"n\">unknown</span> <span class=\"n\">revision</span> <span class=\"n\">or</span> <span class=\"n\">path</span> <span class=\"n\">not</span> <span class=\"k\">in</span> <span class=\"n\">the</span> <span class=\"n\">working</span> <span class=\"n\">tree.</span>\n<span class=\"n\">Use</span> <span class=\"bp\">'</span><span class=\"c1\">--' to separate paths from revisions, like this:</span>\n<span class=\"bp\">'</span><span class=\"n\">git</span> <span class=\"bp\">&lt;</span><span class=\"n\">command</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">revision</span><span class=\"bp\">&gt;...</span><span class=\"o\">]</span> <span class=\"c1\">-- [&lt;file&gt;...]'</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">fatal</span><span class=\"o\">:</span> <span class=\"n\">ambiguous</span> <span class=\"n\">argument</span> <span class=\"bp\">'</span><span class=\"n\">as..HEAD'</span><span class=\"o\">:</span> <span class=\"n\">unknown</span> <span class=\"n\">revision</span> <span class=\"n\">or</span> <span class=\"n\">path</span> <span class=\"n\">not</span> <span class=\"k\">in</span> <span class=\"n\">the</span> <span class=\"n\">working</span> <span class=\"n\">tree.</span>\n<span class=\"n\">Use</span> <span class=\"bp\">'</span><span class=\"c1\">--' to separate paths from revisions, like this:</span>\n<span class=\"bp\">'</span><span class=\"n\">git</span> <span class=\"bp\">&lt;</span><span class=\"n\">command</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">revision</span><span class=\"bp\">&gt;...</span><span class=\"o\">]</span> <span class=\"c1\">-- [&lt;file&gt;...]'</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n<span class=\"n\">usage</span><span class=\"o\">:</span> <span class=\"n\">git</span> <span class=\"n\">diff</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">options</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span> <span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"n\">commit</span><span class=\"bp\">&gt;</span><span class=\"o\">]]</span> <span class=\"o\">[</span><span class=\"c1\">--] [&lt;path&gt;...]</span>\n</code></pre></div>",
        "id": 314741851,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1670523930
    },
    {
        "content": "<p>So it seems that I have a broken <code>port_status.py</code>. I'm on a very recent version of mathlib.</p>",
        "id": 314742163,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1670524010
    },
    {
        "content": "<p>The yaml file is corrupt again</p>",
        "id": 314742627,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1670524144
    },
    {
        "content": "<p>I've worked out how to fix the matching, thanks <span class=\"user-mention\" data-user-id=\"325367\">@Mauricio Collares</span>!</p>",
        "id": 314742697,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1670524167
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib/pull/17865\">#17865</a></p>",
        "id": 314743726,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1670524426
    },
    {
        "content": "<p>The output is now</p>\n<div class=\"codehilite\" data-code-language=\"Markdown\"><pre><span></span><code><span class=\"gh\"># The following files have all dependencies ported already, and should be ready to port:</span>\n<span class=\"gh\"># Earlier items in the list are required in more places in mathlib.</span>\ndata.set.basic    -- contributions welcome mathlib4#892\ndata.nat.order.basic    -- WIP mathlib4#907 655994e298904d7e5bbd1e18c95defd7b543eb94\nalgebra.order.with_zero    -- WIP mathlib4#903 655994e298904d7e5bbd1e18c95defd7b543eb94\nalgebra.order.group.abs    -- mathlib4#896 a95b16cbade0f938fc24abd05412bde1e84bab9b\nalgebra.hom.group_instances\nalgebra.order.monoid.with_top    -- WIP mathlib4#902 655994e298904d7e5bbd1e18c95defd7b543eb94\nalgebra.group.opposite    -- mathlib4#912 655994e298904d7e5bbd1e18c95defd7b543eb94\nalgebra.group_with_zero.units.lemmas\nlean_core.data.vector    -- mathlib4#834 e574b1a4e891376b0ef974b926da39e05da12a06\ncontrol.traversable.lemmas\ndata.string.basic    -- WIP <span class=\"ni\">@javra</span>, needs major changes\ndata.nat.bits    -- -- ignore for now, will probably end up in core or std\nalgebra.order.positive.ring    -- mathlib4#911\nalgebra.order.group.inj_surj    -- mathlib4 <span class=\"ni\">#916</span>\nalgebra.order.ring.inj_surj    -- mathlib4 <span class=\"ni\">#917</span>\nring_theory.coprime.basic    -- mathlib4#899 a95b16cbade0f938fc24abd05412bde1e84bab9b\nalgebra.ring.idempotents    -- mathlib4 <span class=\"ni\">#918</span>\norder.hom.bounded    -- mathlib4#888 f1a2caaf51ef593799107fe9a8d5e411599f3996\nalgebra.euclidean_domain.basic    -- mathlib4 <span class=\"ni\">#919</span>\nalgebra.order.group.type_tags\ncontrol.bifunctor    -- mathlib4#809 62a5626868683c104774de8d85b9855234ac807c\ncategory_theory.functor.fully_faithful    -- WIP mathlib4#846 70d50ecfd4900dd6d328da39ab7ebd516abe4025\ncategory_theory.bicategory.basic    -- depends on slice tactic\nalgebra.hom.equiv.type_tags\ndata.stream.init    -- mathlib4#849 e574b1a4e891376b0ef974b926da39e05da12a06\ndata.rbtree.init    -- WIP <span class=\"ni\">@digama</span>\ndata.typevec    -- WIP j-loreaux mathlib4#891 39af7d3bf61a98e928812dbc3e16f4ea8b795ca3\ncontrol.monad.writer    -- mathlib4#866 f1a2caaf51ef593799107fe9a8d5e411599f3996\ndata.rbtree.default_lt    -- WIP <span class=\"ni\">@digama</span>\nalgebra.group.with_one.basic\nalgebra.order.hom.monoid\ncategory_theory.category.Kleisli    -- WIP mathlib4#843 70d50ecfd4900dd6d328da39ab7ebd516abe4025\nlean_core.data.buffer.parser\ndata.two_pointing\ndata.vector3    -- WIP Thomas mathlib4#633 fd47bdf09e90f553519c712378e651975fe8c829\nlean_core.data.dlist\nalgebra.group_with_zero.default    -- do not port default files\nalgebra.order.group.densely_ordered\nalgebra.order.ring.cone\nalgebra.order.sub.basic\nalgebra.ring.default    -- do not port default files\ncombinatorics.quiver.cast\ndata.erased\ndata.json\ndata.mllist    -- probably not needed\ndata.nat.even_odd_rec\ndata.sigma.default    -- do not port default files\n\n<span class=\"gh\"># The following files have their immediate dependencies ported already, and may be ready to port:</span>\ndata.ordmap.ordnode\ndata.string.defs    -- WIP <span class=\"ni\">@javra</span>\n\n<span class=\"gh\"># The following files are marked as ported, but do not have a SYNCHRONIZED WITH MATHLIB4 label.</span>\nalgebra.group.ulift     -- mathlib4#906\nalgebra.order.field.defs     -- mathlib4#905\nalgebra.order.ring.canonical     -- mathlib4#905\nalgebra.order.ring.char_zero     -- mathlib4#905\nalgebra.order.ring.defs     -- mathlib4#905\ncategory_theory.functor.default     -- mathlib4#822\ncontrol.basic     -- mathlib4#588\n\n<span class=\"gh\"># The following files are marked as ported, but have not been verified against a commit hash from mathlib.</span>\n\n<span class=\"gh\"># The following files have been modified since the commit at which they were verified.</span>\ngit diff '--ignore-matching-lines=\\`(&gt;\\ THIS\\ FILE\\ IS\\ SYNCHRONIZED\\ WITH\\ MATHLIB4\\.|&gt;\\ https://github\\.com/leanprover\\-community/mathlib4/pull/[0-9]*|&gt;\\ Any\\ changes\\ to\\ this\\ file\\ require\\ a\\ corresponding\\ PR\\ to\\ mathlib4\\.|)\n' 8c53048add6ffacdda0b36c4917bfe37e209b0ba..HEAD -- src/algebra/hom/group.lean\ngit diff '--ignore-matching-lines=\\`(&gt;\\ THIS\\ FILE\\ IS\\ SYNCHRONIZED\\ WITH\\ MATHLIB4\\.|&gt;\\ https://github\\.com/leanprover\\-community/mathlib4/pull/[0-9]*|&gt;\\ Any\\ changes\\ to\\ this\\ file\\ require\\ a\\ corresponding\\ PR\\ to\\ mathlib4\\.|)\n' 76171581280d5b5d1e2d1f4f37e5420357bdc636..HEAD -- src/algebra/hom/equiv/basic.lean\ngit diff '--ignore-matching-lines=\\`(&gt;\\ THIS\\ FILE\\ IS\\ SYNCHRONIZED\\ WITH\\ MATHLIB4\\.|&gt;\\ https://github\\.com/leanprover\\-community/mathlib4/pull/[0-9]*|&gt;\\ Any\\ changes\\ to\\ this\\ file\\ require\\ a\\ corresponding\\ PR\\ to\\ mathlib4\\.|)\n' 99e8971dc62f1f7ecf693d75e75fbbabd55849de..HEAD -- src/algebra/order/monoid/lemmas.lean\ngit diff '--ignore-matching-lines=\\`(&gt;\\ THIS\\ FILE\\ IS\\ SYNCHRONIZED\\ WITH\\ MATHLIB4\\.|&gt;\\ https://github\\.com/leanprover\\-community/mathlib4/pull/[0-9]*|&gt;\\ Any\\ changes\\ to\\ this\\ file\\ require\\ a\\ corresponding\\ PR\\ to\\ mathlib4\\.|)\n' f1a2caaf51ef593799107fe9a8d5e411599f3996..HEAD -- src/algebra/order/monoid/type_tags.lean\ngit diff '--ignore-matching-lines=\\`(&gt;\\ THIS\\ FILE\\ IS\\ SYNCHRONIZED\\ WITH\\ MATHLIB4\\.|&gt;\\ https://github\\.com/leanprover\\-community/mathlib4/pull/[0-9]*|&gt;\\ Any\\ changes\\ to\\ this\\ file\\ require\\ a\\ corresponding\\ PR\\ to\\ mathlib4\\.|)\n' dad7ecf9a1feae63e6e49f07619b7087403fb8d4..HEAD -- src/algebra/order/monoid/with_zero/defs.lean\ngit diff '--ignore-matching-lines=\\`(&gt;\\ THIS\\ FILE\\ IS\\ SYNCHRONIZED\\ WITH\\ MATHLIB4\\.|&gt;\\ https://github\\.com/leanprover\\-community/mathlib4/pull/[0-9]*|&gt;\\ Any\\ changes\\ to\\ this\\ file\\ require\\ a\\ corresponding\\ PR\\ to\\ mathlib4\\.|)\n' 70d50ecfd4900dd6d328da39ab7ebd516abe4025..HEAD -- src/algebra/ring/basic.lean\ngit diff '--ignore-matching-lines=\\`(&gt;\\ THIS\\ FILE\\ IS\\ SYNCHRONIZED\\ WITH\\ MATHLIB4\\.|&gt;\\ https://github\\.com/leanprover\\-community/mathlib4/pull/[0-9]*|&gt;\\ Any\\ changes\\ to\\ this\\ file\\ require\\ a\\ corresponding\\ PR\\ to\\ mathlib4\\.|)\n' 70d50ecfd4900dd6d328da39ab7ebd516abe4025..HEAD -- src/algebra/ring/regular.lean\ngit diff '--ignore-matching-lines=\\`(&gt;\\ THIS\\ FILE\\ IS\\ SYNCHRONIZED\\ WITH\\ MATHLIB4\\.|&gt;\\ https://github\\.com/leanprover\\-community/mathlib4/pull/[0-9]*|&gt;\\ Any\\ changes\\ to\\ this\\ file\\ require\\ a\\ corresponding\\ PR\\ to\\ mathlib4\\.|)\n' a148d797a1094ab554ad4183a4ad6f130358ef64..HEAD -- src/algebra/ring/units.lean\ngit diff '--ignore-matching-lines=\\`(&gt;\\ THIS\\ FILE\\ IS\\ SYNCHRONIZED\\ WITH\\ MATHLIB4\\.|&gt;\\ https://github\\.com/leanprover\\-community/mathlib4/pull/[0-9]*|&gt;\\ Any\\ changes\\ to\\ this\\ file\\ require\\ a\\ corresponding\\ PR\\ to\\ mathlib4\\.|)\n' 8350c34a64b9bc3fc64335df8006bffcadc7baa6..HEAD -- src/combinatorics/quiver/basic.lean\ngit diff '--ignore-matching-lines=\\`(&gt;\\ THIS\\ FILE\\ IS\\ SYNCHRONIZED\\ WITH\\ MATHLIB4\\.|&gt;\\ https://github\\.com/leanprover\\-community/mathlib4/pull/[0-9]*|&gt;\\ Any\\ changes\\ to\\ this\\ file\\ require\\ a\\ corresponding\\ PR\\ to\\ mathlib4\\.|)\n' 62a5626868683c104774de8d85b9855234ac807c..HEAD -- src/combinatorics/quiver/path.lean\ngit diff '--ignore-matching-lines=\\`(&gt;\\ THIS\\ FILE\\ IS\\ SYNCHRONIZED\\ WITH\\ MATHLIB4\\.|&gt;\\ https://github\\.com/leanprover\\-community/mathlib4/pull/[0-9]*|&gt;\\ Any\\ changes\\ to\\ this\\ file\\ require\\ a\\ corresponding\\ PR\\ to\\ mathlib4\\.|)\n' d6aae1bcbd04b8de2022b9b83a5b5b10e10c777d..HEAD -- src/data/option/n_ary.lean\ngit diff '--ignore-matching-lines=\\`(&gt;\\ THIS\\ FILE\\ IS\\ SYNCHRONIZED\\ WITH\\ MATHLIB4\\.|&gt;\\ https://github\\.com/leanprover\\-community/mathlib4/pull/[0-9]*|&gt;\\ Any\\ changes\\ to\\ this\\ file\\ require\\ a\\ corresponding\\ PR\\ to\\ mathlib4\\.|)\n' d6aae1bcbd04b8de2022b9b83a5b5b10e10c777d..HEAD -- src/logic/basic.lean\ngit diff '--ignore-matching-lines=\\`(&gt;\\ THIS\\ FILE\\ IS\\ SYNCHRONIZED\\ WITH\\ MATHLIB4\\.|&gt;\\ https://github\\.com/leanprover\\-community/mathlib4/pull/[0-9]*|&gt;\\ Any\\ changes\\ to\\ this\\ file\\ require\\ a\\ corresponding\\ PR\\ to\\ mathlib4\\.|)\n' c4658a649d216f57e99621708b09dcb3dcccbd23..HEAD -- src/order/monotone.lean\n</code></pre></div>",
        "id": 314743890,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1670524459
    },
    {
        "content": "<p>32 messages were moved here from <a class=\"stream-topic\" data-stream-id=\"287929\" href=\"/#narrow/stream/287929-mathlib4/topic/OfNat\">#mathlib4 &gt; OfNat</a> by <span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span>.</p>",
        "id": 314744424,
        "sender_full_name": "Notification Bot",
        "timestamp": 1670524636
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files/near/314741851\">said</a>:</p>\n<blockquote>\n<p>Hmmm, when I run the script locally, I get all sorts of errors like</p>\n</blockquote>\n<p>What does <code>git --version</code> give?</p>",
        "id": 314744847,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1670524782
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">git</span> <span class=\"c1\">--version</span>\n<span class=\"n\">git</span> <span class=\"n\">version</span> <span class=\"mi\">2</span><span class=\"bp\">.</span><span class=\"mi\">25</span><span class=\"bp\">.</span><span class=\"mi\">1</span>\n</code></pre></div>",
        "id": 314744962,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1670524815
    },
    {
        "content": "<p>You need <a href=\"https://github.com/git/git/commit/296d4a94e7231a1d57356889f51bff57a1a3c5a1\">at least 2.30.0 I think</a>; that's 2.5 years old</p>",
        "id": 314745424,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1670524959
    },
    {
        "content": "<p>We have some work ahead of us updating</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">algebra.hom.group</span>\n<span class=\"n\">algebra.hom.equiv.basic</span>\n<span class=\"n\">algebra.order.monoid.lemmas</span>\n<span class=\"n\">algebra.order.monoid.type_tags</span>\n<span class=\"n\">algebra.order.monoid.with_zero.defs</span>\n<span class=\"n\">algebra.ring.basic</span>\n<span class=\"n\">algebra.ring.regular</span>\n<span class=\"n\">algebra.ring.units</span>\n<span class=\"n\">combinatorics.quiver.basic</span>\n<span class=\"n\">combinatorics.quiver.path</span>\n<span class=\"n\">data.option.n_ary</span>\n<span class=\"n\">logic.basic</span>\n<span class=\"n\">order.monotone</span>\n</code></pre></div>\n<p><span aria-label=\"sad\" class=\"emoji emoji-2639\" role=\"img\" title=\"sad\">:sad:</span></p>",
        "id": 314745570,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1670525011
    },
    {
        "content": "<p>I'm sorry for contributing to this mess.</p>",
        "id": 314745709,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1670525050
    },
    {
        "content": "<p>I think some of these are caused by reverting <span class=\"user-mention\" data-user-id=\"238446\">@Anne Baanen</span>'s coe stuff</p>",
        "id": 314745764,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1670525068
    },
    {
        "content": "<p>Optimistically the reverted code was never ported and someone just wrote down the SHA badly</p>",
        "id": 314745783,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1670525076
    },
    {
        "content": "<p>I'll disable <a href=\"https://math.commelin.net/files/port_status.html\">#port-status</a> until I've updated git</p>",
        "id": 314745825,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1670525091
    },
    {
        "content": "<p>Can you get your bot to capture stderr and dump that on the page too?</p>",
        "id": 314745914,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1670525119
    },
    {
        "content": "<p>Surely no need Johan -- your website is super convenient and I would much rather have a buggy version than none!</p>",
        "id": 314746006,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1670525149
    },
    {
        "content": "<p>If upgrading git is hard, we could switch to letting github-pages host the status</p>",
        "id": 314746499,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1670525290
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"260507\">@Heather Macbeth</span>, just because there are changes besides the mathlib4 sync label doesn't necessarily mean we have to do more porting work to make them match. Ideally, there would have already been matching PRs which do the updates, and all we have to do is check that all the changes have been made on the mathlib4 side.</p>\n<p>Do we want to make this task the responsibility of the PR authors?</p>",
        "id": 314751037,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1670526722
    },
    {
        "content": "<p>One way we could handle this is have a bot that opens issues for each file that's out of sync, along with the diff. The PR author is then responsible to linking to the relevant mathlib4 lines for each part of the diff to prove that everything was handled</p>",
        "id": 314751539,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1670526893
    },
    {
        "content": "<p>Yeah, I think something like this would be warranted to put some of the burden back onto the PR authors. Right now it's still manageable for us (i.e., people porting) to do it,  but 1500 files into the port it likely won't be anymore.</p>",
        "id": 314751996,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1670527032
    },
    {
        "content": "<p>That seems like a good plan.  But note there's a borderline case (which happened here with e.g. <code>algebra/order/monoid/with_zero/def</code>): the file was modified in mathlib3 after the commit from which the porter based the port, but before the file was frozen.  The author of the intermediate modification is less directly to blame in such a case.</p>",
        "id": 314761239,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1670529885
    },
    {
        "content": "<p>I've opened <a href=\"https://github.com/leanprover-community/mathlib4/pull/923\">mathlib4#923</a> for a \"re-port\" of <code>algebra/order/monoid/with_zero/def</code>.  What should our procedure be here?  Do I modify the wiki?  Or maybe I should just wait til it's merged, and then modify the SHA listed on the wiki then?</p>",
        "id": 314774457,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1670534612
    },
    {
        "content": "<p>I'm hoping this will be sufficiently rare that we don't need a procedure for this problem.</p>",
        "id": 314776573,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1670535341
    },
    {
        "content": "<p>I think just updating the sha after it merges is sufficient.</p>",
        "id": 314783325,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1670538139
    },
    {
        "content": "<p>Ideally we'd make a list of PRs for each file</p>",
        "id": 314789897,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1670541060
    },
    {
        "content": "<p>Or PR/Sha pairs</p>",
        "id": 314789934,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1670541079
    },
    {
        "content": "<p>software upgrades complete<br>\n<a href=\"https://math.commelin.net/files/port_status.html\">#port-status</a> is working again</p>",
        "id": 314810041,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1670554048
    },
    {
        "content": "<p>I've fixed the errors in the wiki that caused the errors at the top.</p>",
        "id": 314812644,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1670555990
    },
    {
        "content": "<p>It looks like the <code>git diff</code> commands are being mangled by your markdown parser</p>",
        "id": 314859737,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1670580994
    },
    {
        "content": "<p>I'm just using regular pandoc.</p>",
        "id": 314863200,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1670582116
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code><span class=\"ch\">#!/bin/bash</span>\n\n<span class=\"nb\">cd</span> ~/data/math/mathlib\ngit checkout master\ngit pull\n\n./scripts/port_status.py &gt; ~/tmp/port_status.out <span class=\"m\">2</span>&gt;<span class=\"p\">&amp;</span><span class=\"m\">1</span>\n\ncat ~/tmp/port_status.out <span class=\"se\">\\</span>\n        <span class=\"p\">|</span> sed -E <span class=\"s1\">'s|mathlib4#([0-9]*)|[mathlib4#\\1](https://github.com/leanprover-community/mathlib4/pull/\\1)|'</span> <span class=\"se\">\\</span>\n        <span class=\"p\">|</span> sed -E <span class=\"s1\">'s|([0-9a-f]{40})$|[`\\1`](https://github.com/leanprover-community/mathlib/commit/\\1)|'</span> <span class=\"se\">\\</span>\n        <span class=\"p\">|</span> sed -E <span class=\"s1\">'s|^(git .*)|* `\\1`|'</span> <span class=\"se\">\\</span>\n        <span class=\"p\">|</span> sed -E <span class=\"s1\">'s|^([^#*][^ ]*)|* `\\1`|'</span> <span class=\"se\">\\</span>\n        <span class=\"p\">|</span> pandoc --from<span class=\"o\">=</span>markdown --to<span class=\"o\">=</span>html --standalone --metadata <span class=\"nv\">pagetitle</span><span class=\"o\">=</span><span class=\"s2\">\"Port status\"</span> <span class=\"se\">\\</span>\n        &gt; port_status.html\n</code></pre></div>",
        "id": 314863352,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1670582163
    },
    {
        "content": "<p>This is the script I run</p>",
        "id": 314863373,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1670582169
    },
    {
        "content": "<p>The problem is that the git command contains embedded backticks (git's regex dialect has <code>\\` </code> as \"start of input\")</p>",
        "id": 314871005,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1670584737
    },
    {
        "content": "<p>Maybe replace with <code> ``\\1`` </code> instead?</p>",
        "id": 314871076,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1670584753
    },
    {
        "content": "<p>done</p>",
        "id": 314873943,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1670585588
    },
    {
        "content": "<p>seems to have worked</p>",
        "id": 314873951,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1670585592
    },
    {
        "content": "<p>Something still seems off there</p>",
        "id": 314874993,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1670585895
    },
    {
        "content": "<p>Oh, it's because there is a literal newline character in the git command! (git's regex dialect doesn't support <code>\\n</code>)</p>",
        "id": 314875057,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1670585919
    },
    {
        "content": "<p>So I guess you need the <code>git</code> match to be <code>git .*\\n.*</code> or something similar (you might need to enable a multiline flag on sed somehow)</p>",
        "id": 314875399,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1670586029
    },
    {
        "content": "<p>Could we just omit the whole regex in the output of port_status?</p>",
        "id": 314962628,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1670612663
    },
    {
        "content": "<p>In my mind it makes the output much harder to use. I'm less likely to copy paste it because I can't see anymore what it does.</p>",
        "id": 314962702,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1670612695
    },
    {
        "content": "<p>The regex is useful internally to decide which files to report, but it's not particularly important that we omit the comment lines when a human looks at the diff.</p>",
        "id": 314962943,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1670612771
    },
    {
        "content": "<p>Yes, I think that makes a lot of sense</p>",
        "id": 314963199,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1670612854
    },
    {
        "content": "<p>The git diffs at the end could be links to github <code>/compare</code></p>",
        "id": 314963776,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1670613046
    },
    {
        "content": "<p>oof, github has some hashes for the anchors so it's not easy to come up with e.g. <a href=\"https://github.com/leanprover-community/mathlib/compare/a95b16cbade0f938fc24abd05412bde1e84bab9b..HEAD#diff-b6ac6218aa8b61d28bfaaf0e84aa3594acc018f67af40255de392ffd46e7505a\">https://github.com/leanprover-community/mathlib/compare/a95b16cbade0f938fc24abd05412bde1e84bab9b..HEAD#diff-b6ac6218aa8b61d28bfaaf0e84aa3594acc018f67af40255de392ffd46e7505a</a></p>",
        "id": 314965627,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1670613650
    },
    {
        "content": "<p>you probably have to scrape the page on the server side to come up with the link name</p>",
        "id": 314965802,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1670613701
    },
    {
        "content": "<p>Maybe the compromise is a <code>--with-long-git-commands</code> flag</p>",
        "id": 314965847,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1670613721
    },
    {
        "content": "<p>I added those back because when they weren't there, it turns out I got the command wrong</p>",
        "id": 314965933,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1670613738
    },
    {
        "content": "<p>We could just have the output include the diffs directly?</p>",
        "id": 314965996,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1670613768
    },
    {
        "content": "<p>(again, toggled by a flag)</p>",
        "id": 314966043,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1670613782
    }
]