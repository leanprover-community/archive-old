[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"240862\">@Oliver Nash</span>  Hurray! Lie algebras are approaching mathlib.</p>",
        "id": 179812653,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1572855018
    },
    {
        "content": "<p>A nice challenge would be to prove that the tangent space of a Lie group at the identity is a Lie algebra</p>",
        "id": 179812753,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1572855136
    },
    {
        "content": "<p>so many lies</p>",
        "id": 179812768,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1572855154
    },
    {
        "content": "<p>That would be a test of the manifolds machinery</p>",
        "id": 179812772,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1572855158
    },
    {
        "content": "<p>do we even have tangent space yet?</p>",
        "id": 179812780,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1572855176
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110050\">@Sebastien Gouezel</span> ?</p>",
        "id": 179812795,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1572855192
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib/issues/1607\" target=\"_blank\" title=\"https://github.com/leanprover-community/mathlib/issues/1607\">#1607</a> is awaiting your review :)</p>",
        "id": 179813104,
        "sender_full_name": "Sebastien Gouezel",
        "timestamp": 1572855529
    },
    {
        "content": "<p>Thanks for the feedback :) <span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span> Agreed. I was also thinking that constructing the Lie bracket on tangent vector fields of a smooth manifold would be a good test.</p>",
        "id": 179829589,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1572871394
    },
    {
        "content": "<p>(and I guess would be a good subgoal on the way to the Lie group tangent space)</p>",
        "id": 179829684,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1572871492
    },
    {
        "content": "<p>I took another pass at <a href=\"https://github.com/leanprover-community/mathlib/pull/1644\" target=\"_blank\" title=\"https://github.com/leanprover-community/mathlib/pull/1644\">https://github.com/leanprover-community/mathlib/pull/1644</a> this evening. It may now be ready, or it may yet need major changes <span aria-label=\"fingers crossed\" class=\"emoji emoji-1f91e\" role=\"img\" title=\"fingers crossed\">:fingers_crossed:</span></p>",
        "id": 179984782,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1572992737
    },
    {
        "content": "<p>I think this PR is now looking really good. Thanks <span class=\"user-mention\" data-user-id=\"240862\">@Oliver Nash</span> !<br>\n<span class=\"user-mention\" data-user-id=\"110087\">@Scott Morrison</span> <span class=\"user-mention\" data-user-id=\"110032\">@Reid Barton</span> <span class=\"user-mention\" data-user-id=\"110050\">@Sebastien Gouezel</span> <span class=\"user-mention\" data-user-id=\"110044\">@Chris Hughes</span> do any of you have further comments? Or shall we go ahead an merge?</p>",
        "id": 180163955,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1573153588
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"112680\">@Johan Commelin</span> I tagged you in a comment about an instance that I'm slightly concerned about. I don't know enough about Lie algebras to be able to say if it will be a problem or not.</p>",
        "id": 180182212,
        "sender_full_name": "Chris Hughes",
        "timestamp": 1573164791
    },
    {
        "content": "<p>Chris is your question basically whether we might ever want to consider something both a ring and a Lie algebra, but not by <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mo stretchy=\"false\">[</mo><mi>X</mi><mo separator=\"true\">,</mo><mi>Y</mi><mo stretchy=\"false\">]</mo><mo>=</mo><mi>X</mi><mi>Y</mi><mo>−</mo><mi>Y</mi><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">[X, Y] = XY - YX</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[</span><span class=\"mord mathdefault\" style=\"margin-right:0.07847em;\">X</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">Y</span><span class=\"mclose\">]</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.76666em;vertical-align:-0.08333em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.07847em;\">X</span><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">Y</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">Y</span><span class=\"mord mathdefault\" style=\"margin-right:0.07847em;\">X</span></span></span></span>?</p>",
        "id": 180184435,
        "sender_full_name": "Reid Barton",
        "timestamp": 1573166200
    },
    {
        "content": "<p>Not by something defeq to that</p>",
        "id": 180184531,
        "sender_full_name": "Chris Hughes",
        "timestamp": 1573166235
    },
    {
        "content": "<p>but yes.</p>",
        "id": 180184544,
        "sender_full_name": "Chris Hughes",
        "timestamp": 1573166253
    },
    {
        "content": "<p>right</p>",
        "id": 180184548,
        "sender_full_name": "Reid Barton",
        "timestamp": 1573166257
    },
    {
        "content": "<p>It's hard to rule out a Lie algebra which is coincidentally a ring, but the two examples I thought of (matrix algebra being Lie algebra of GL_n, and universal enveloping algebras) which are both do have [X,Y] defeq to XY-YX</p>",
        "id": 180185301,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1573166713
    },
    {
        "content": "<p>Well, hmm. The product of rings is a ring, and the product (direct sum) of Lie algebras is a Lie algebra. If both of these are instances then there's two ways to put a Lie algebra structure on the product of two rings. I think they will actually be defeq, if one is careful to make consistent definitions, but it would require some unfolding to see, at least.</p>",
        "id": 180185317,
        "sender_full_name": "Reid Barton",
        "timestamp": 1573166731
    },
    {
        "content": "<p>Maybe there are other constructions of this sort which would produce non-defeq structures</p>",
        "id": 180185336,
        "sender_full_name": "Reid Barton",
        "timestamp": 1573166751
    },
    {
        "content": "<p>Hmm. If the Lie algebra structure on n x n matrices is defined via some fancy differentiation thing then I guess it's very unlikely to be defeq to XY-YX</p>",
        "id": 180185431,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1573166822
    },
    {
        "content": "<p>This is kind of a dumb example, but I might want to give the ground field itself the (unique) Lie algebra structure with 0 bracket, and not the (equal) one given by the commutator</p>",
        "id": 180186078,
        "sender_full_name": "Reid Barton",
        "timestamp": 1573167387
    },
    {
        "content": "<p>where the ground field = Z, I guess, in the generality of the PR</p>",
        "id": 180186091,
        "sender_full_name": "Reid Barton",
        "timestamp": 1573167410
    },
    {
        "content": "<p>So... what should we do? Should we use type wrappers?</p>",
        "id": 180203000,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1573189205
    },
    {
        "content": "<p>I don't think I have enough experience yet to make a call here. Perhaps I should just drop the instances in favour of vanilla <code>def</code>s and rework things accordingly?</p>",
        "id": 180315363,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1573309738
    },
    {
        "content": "<p>Thank you all for the insightful remarks. I've just pushed another commit which attempts to address the concerns about the lie algebra structure on rings. Hopefully, I'm getting closer to the right approach :D</p>",
        "id": 180423740,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1573479366
    },
    {
        "content": "<p>This seems like a safe move to me.</p>",
        "id": 180431336,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1573485320
    },
    {
        "content": "<p>I'll be heading away on holiday in a few hours and so will have phone-only connectivity for about two weeks. If this PR is still pending when I return, then I will pick it up then. Equally, if anyone wants to get it over the line then that would be great too.</p>",
        "id": 180497574,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1573551327
    },
    {
        "content": "<p>I think it might be worth squashing the various commits from code review before merging but otherwise I think it is in reasonable shape.</p>",
        "id": 180497599,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1573551350
    },
    {
        "content": "<p>I'll take a look!</p>",
        "id": 180497608,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1573551361
    },
    {
        "content": "<p>We always squash before merging (-;</p>",
        "id": 180497659,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1573551369
    },
    {
        "content": "<p>Oh OK!</p>",
        "id": 180497665,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1573551378
    },
    {
        "content": "<p>I think it was mostly ready for merging last time I looked</p>",
        "id": 180497671,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1573551383
    },
    {
        "content": "<p><span aria-label=\"fingers crossed\" class=\"emoji emoji-1f91e\" role=\"img\" title=\"fingers crossed\">:fingers_crossed:</span></p>",
        "id": 180497680,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1573551395
    },
    {
        "content": "<p>But equally, if you have reservations I'm totally happy wait till you're happy.</p>",
        "id": 180497688,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1573551409
    },
    {
        "content": "<p>Plus I still have a few hours to adjust ;-)</p>",
        "id": 180497696,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1573551421
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"240862\">@Oliver Nash</span> I have two minor comments.</p>",
        "id": 180498106,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1573551754
    },
    {
        "content": "<p>Thanks, looking!</p>",
        "id": 180498113,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1573551761
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"112680\">@Johan Commelin</span> I committed your suggestion <code>product</code> --&gt; <code>binary</code> and added one more  small commit.</p>",
        "id": 180498678,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1573552305
    },
    {
        "content": "<p>Great! It's on the merge queue</p>",
        "id": 180498765,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1573552354
    },
    {
        "content": "<p>Awesome, thanks :D</p>",
        "id": 180498775,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1573552361
    },
    {
        "content": "<p>Enjoy your downtime (-;</p>",
        "id": 180498777,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1573552363
    },
    {
        "content": "<p>I will!</p>",
        "id": 180498782,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1573552369
    },
    {
        "content": "<p>I am very appreciative of how generous you and others have been with their time. I learned a lot.</p>",
        "id": 180498835,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1573552409
    },
    {
        "content": "<p>You're welcome</p>",
        "id": 180499059,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1573552563
    }
]