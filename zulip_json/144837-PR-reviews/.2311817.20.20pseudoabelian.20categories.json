[
    {
        "content": "<p>In <a href=\"https://github.com/leanprover-community/mathlib/pull/11817\">#11817</a> I start adding constructions/properties of pseudoabelian categories and of the Karoubi envelope. This PR is very basic. Future PR may include showing that applying twice the Karoubi envelopes gives the Karoubi envelope (up to equivalence), that if a category has finite biproducts, the same applies to its Karoubi envelope, that functors and natural transformations can be extended to the Karoubi envelope, that homological_complex or simplical_object categories are pseudoabelian if the base category is.</p>",
        "id": 270682282,
        "sender_full_name": "Joël Riou",
        "timestamp": 1643963285
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"459699\">@Joël Riou</span> That's cool! I really look forward to defining some categories of motives. But Chow's lemma will be a bit of a roadblock, I guess.</p>",
        "id": 270683620,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1643964095
    },
    {
        "content": "<p>General suggestion: split this into two files: <code>basic.lean</code> and <code>karoubi.lean</code>.<br>\nIn <code>basic.lean</code> you can have the definition of <code>pseudoabelian</code> (which doesn't really need to rely on the definition of the Karoubi envelope). There you can also show that every abelian category is pseudoabelian, and other \"trivial\" things like that.</p>",
        "id": 270683831,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1643964207
    },
    {
        "content": "<p>Thanks for the suggestions! I have just split it into two files.</p>",
        "id": 270706010,
        "sender_full_name": "Joël Riou",
        "timestamp": 1643976883
    },
    {
        "content": "<p>BTW this construction has little to do with the additive structure. In general it's also called the idempotent completion and it can be constructed in the same way (<a href=\"http://nlab-pages.s3.us-east-2.amazonaws.com/nlab/show/Karoubi+envelope#InComponents\">http://nlab-pages.s3.us-east-2.amazonaws.com/nlab/show/Karoubi+envelope#InComponents</a>).<br>\nHave you thought about generalizing the construction to an arbitrary category, and then layering the additive structure on top?</p>",
        "id": 270707478,
        "sender_full_name": "Reid Barton",
        "timestamp": 1643977834
    },
    {
        "content": "<p>I had considered doing so, but I was not sure there was any significant need for it. I might try to remove some [preadditive C] assumptions for constructions and statements which do not require it...</p>",
        "id": 270708599,
        "sender_full_name": "Joël Riou",
        "timestamp": 1643978511
    },
    {
        "content": "<p>I have generalized the definition (with different criteria of idempotent completeness) and the construction of the Karoubi envelope now applies to any category.</p>",
        "id": 270931912,
        "sender_full_name": "Joël Riou",
        "timestamp": 1644208684
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"459699\">@Joël Riou</span> Thanks for that refactor. I left some comments.</p>",
        "id": 270998827,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1644249344
    },
    {
        "content": "<p>Thanks for the comments! Apart from a possible name change for the lemma <code>karoubi.p_comm</code>, it should be mostly ok now.</p>",
        "id": 271005222,
        "sender_full_name": "Joël Riou",
        "timestamp": 1644251754
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"459699\">@Joël Riou</span> Cool. I left 3 more comments (-;</p>",
        "id": 271010049,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1644253815
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"459699\">@Joël Riou</span> Thanks a lot for this PR. I kicked it on the merge queue.</p>",
        "id": 271238887,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1644391025
    }
]