[
    {
        "content": "<p>If anyone is interested, <a href=\"https://github.com/leanprover-community/mathlib/pull/16833\">#16833</a> is pretty much ready for review (I'm just waiting for CI to tell me what it thinks - everything seems to be fine locally). </p>\n<p>Given an <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span>-algebra <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi></mrow><annotation encoding=\"application/x-tex\">S</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span></span></span></span> and an element <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>α</mi><mo>∈</mo><mi>S</mi></mrow><annotation encoding=\"application/x-tex\"> \\alpha \\in S </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span></span></span></span>, this PR defines the conductor ideal of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>α</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span></span></span></span> with respect to <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span> as the largest ideal of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi></mrow><annotation encoding=\"application/x-tex\">S</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span></span></span></span> contained in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi><mo stretchy=\"false\">[</mo><mi>α</mi><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">R[\\alpha]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"mclose\">]</span></span></span></span>,  and shows that if <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi></mrow><annotation encoding=\"application/x-tex\"> C </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span></span></span></span> is the conductor of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>α</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span></span></span></span>  and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>I</mi></mrow><annotation encoding=\"application/x-tex\"> I </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span></span></span></span> is an ideal of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\"> R </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span> such that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>I</mi><mo>+</mo><mo stretchy=\"false\">(</mo><mi>C</mi><mo>∩</mo><mi>R</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>R</mi></mrow><annotation encoding=\"application/x-tex\"> I + (C \\cap R) = R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∩</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span> then the rings <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi><mo stretchy=\"false\">[</mo><mi>α</mi><mo stretchy=\"false\">]</mo><mi mathvariant=\"normal\">/</mi><mi>I</mi><mi>R</mi><mo stretchy=\"false\">[</mo><mi>α</mi><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">R[\\alpha]/IR[\\alpha]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"mclose\">]</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"mclose\">]</span></span></span></span> and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi mathvariant=\"normal\">/</mi><mi>I</mi><mi>S</mi></mrow><annotation encoding=\"application/x-tex\">S/IS</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span></span></span></span> are isomorphic. This is the last ingredient needed for generalizing the Dedekind-Kummer theorem to the non monogenic case (cf <a href=\"https://github.com/leanprover-community/mathlib/pull/15000\">#15000</a>).</p>\n<p>cc <span class=\"user-mention\" data-user-id=\"130384\">@Riccardo Brasca</span> <span class=\"user-mention\" data-user-id=\"238446\">@Anne Baanen</span></p>",
        "id": 302885188,
        "sender_full_name": "Paul Lezeau",
        "timestamp": 1665158631
    },
    {
        "content": "<p>I am quite busy until next Wednesday, but I will try to have a look.</p>",
        "id": 302885365,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1665158682
    },
    {
        "content": "<p>No worries at all, this is far from urgent ! ;)</p>",
        "id": 302885469,
        "sender_full_name": "Paul Lezeau",
        "timestamp": 1665158722
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"130384\">@Riccardo Brasca</span>  the PR received a few comments, but it's ready for another review</p>",
        "id": 304012152,
        "sender_full_name": "Paul Lezeau",
        "timestamp": 1665747469
    },
    {
        "content": "<p>In this PR I'm defining a notation for <code>algebra.adjoin R ({x} : set S)</code> where <code>R</code> is an <code>S</code> algebra. The usual math notation for this would be <code>R[x]</code>, but this is maybe a bit to close to the one we have for polynomial rings in Lean. Do people have any other suggestions?</p>",
        "id": 304090141,
        "sender_full_name": "Paul Lezeau",
        "timestamp": 1665771066
    },
    {
        "content": "<p>I was thinking of something like <code>R[x]ₐ</code>, but I'm not sure this would be the best, so I'm very open to suggestions!</p>",
        "id": 304090442,
        "sender_full_name": "Paul Lezeau",
        "timestamp": 1665771183
    },
    {
        "content": "<p>We already have a similar notation for <code>submodule.span R {x}</code> and <code>intermediate_field.adjoin K {x}</code>; perhaps we can use a similar notation to what we use there</p>",
        "id": 304109435,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1665778583
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"130384\">@Riccardo Brasca</span> I've made the changes you suggested. I changed the notation for <code>algebra.adjoin R {x}</code> to be the same as the one for <code>intermediate_field.adjoin K {x}</code>, what do you think?</p>",
        "id": 304405707,
        "sender_full_name": "Paul Lezeau",
        "timestamp": 1665995289
    },
    {
        "content": "<p>I'm guessing that could have the potential for causing a clash in notation, but would that be a problem if we only use this notation in the file <code>number_theory.kummer_dedekind.lean</code> and eventually add better notation for <code>algebra.adjoin R {x}</code> higher up the file hierarchy in a separate PR ?</p>",
        "id": 304406160,
        "sender_full_name": "Paul Lezeau",
        "timestamp": 1665995472
    },
    {
        "content": "<p>You can maybe make a poll to choose the best notation?  I don't really know what the best choice is.</p>",
        "id": 304407180,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1665995876
    },
    {
        "content": "<p>I actually think <code>R[x]</code> is clearer; you may use a letter different from x and then it won't be confused with R[X]. And doesn't the ambiguity already exist in informal mathematics, and we're coping with it fine?</p>",
        "id": 304490725,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1666020194
    },
    {
        "content": "<p>I believe <code>x</code> is a variable here?</p>",
        "id": 304491859,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1666020514
    },
    {
        "content": "<p>Yes, maybe <code>R[S]</code> it's OK. Especially since we don't have a way of talking about polynomials in something else than <code>X</code> (I mean, in one variable`).</p>",
        "id": 304492632,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1666020753
    },
    {
        "content": "<p>I'll create a poll to see what people prefer :)</p>",
        "id": 304509527,
        "sender_full_name": "Paul Lezeau",
        "timestamp": 1666025501
    },
    {
        "content": "<p>/poll What notation is best for algebra.adjoin R ( { a } : set S)?<br>\nR[a]<br>\nR⟮a⟯<br>\nSomething else</p>",
        "id": 304510035,
        "sender_full_name": "Paul Lezeau",
        "timestamp": 1666025645
    },
    {
        "content": "<p>Parentheses cannot be used in notation, and I'm also a bit worried about adding notation using <code>[</code>. You'd probably need to annotate some of the  brackets a bit.</p>",
        "id": 304515837,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1666027412
    },
    {
        "content": "<p>The second are weird unicode parentheses so they do work (that's the notation currently being used in the PR - and the one used for intermediate_field.adjoin) - I should maybe have clarified that in the poll <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 304523645,
        "sender_full_name": "Paul Lezeau",
        "timestamp": 1666029649
    },
    {
        "content": "<p>The penultimate option should be R[a]ₐ and not R[x]ₐ but I can't find how to modify polls so I've added an extra slot</p>",
        "id": 304525265,
        "sender_full_name": "Paul Lezeau",
        "timestamp": 1666030119
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"130384\">@Riccardo Brasca</span> Following the poll's result I've changed the local notation to <code>R&lt;a&gt;</code>, so I think we're good to go!</p>",
        "id": 304848187,
        "sender_full_name": "Paul Lezeau",
        "timestamp": 1666130488
    }
]