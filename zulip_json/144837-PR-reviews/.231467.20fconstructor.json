[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"111080\">@Floris van Doorn</span>, this isn't a criticism of the PR, just a question --- when would one want to use <code>fconstructor</code> rather than <code>fsplit</code>? Do they actually behave differently?</p>",
        "id": 176235609,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1569018872
    },
    {
        "content": "<p>I did not know about the existence of <code>fsplit</code>. But <code>fconstructor</code> also applies when an inductive type has multiple constructors. It will usually apply the first one, but if you have an inductive family with multiple constructors, then it will use the first one that applies.</p>",
        "id": 176235778,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1569019070
    },
    {
        "content": "<p>Ah, interesting, thanks.</p>",
        "id": 176235976,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1569019241
    },
    {
        "content": "<p>I never use <code>constructor</code>, I guess. I do wonder whether <code>tidy</code> would be improved by replacing <code>fsplit</code> with <code>fconstructor</code>, if it this can lead to dead-ends.</p>",
        "id": 176236017,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1569019295
    },
    {
        "content": "<p>Maybe. Really, 98+% of the time I write <code>(f)constructor</code>, I could have used <code>(f)split</code> instead. The only time I remember really liking <code>constructor</code> was when I did propositional calculus internally in Coq. I had an inductive type with some axioms I used, and then <code>constructor</code> acts as a tiny bit of automation checking whether some propositional formula was an axiom.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kn\">Inductive</span> <span class=\"n\">AxiomH</span> <span class=\"o\">:</span> <span class=\"n\">PropF</span> <span class=\"o\">-&gt;</span> <span class=\"kt\">Prop</span> <span class=\"o\">:=</span>\n<span class=\"o\">|</span> <span class=\"n\">HOrI1</span>  <span class=\"o\">:</span> <span class=\"k\">forall</span> <span class=\"n\">A</span> <span class=\"n\">B</span>  <span class=\"o\">,</span> <span class=\"n\">AxiomH</span> <span class=\"o\">(</span><span class=\"n\">A</span> <span class=\"err\">→</span> <span class=\"n\">A</span><span class=\"err\">∨</span><span class=\"n\">B</span><span class=\"o\">)</span>\n<span class=\"o\">|</span> <span class=\"n\">HOrI2</span>  <span class=\"o\">:</span> <span class=\"k\">forall</span> <span class=\"n\">A</span> <span class=\"n\">B</span>  <span class=\"o\">,</span> <span class=\"n\">AxiomH</span> <span class=\"o\">(</span><span class=\"n\">B</span> <span class=\"err\">→</span> <span class=\"n\">A</span><span class=\"err\">∨</span><span class=\"n\">B</span><span class=\"o\">)</span>\n<span class=\"o\">|</span> <span class=\"n\">HAndI</span>  <span class=\"o\">:</span> <span class=\"k\">forall</span> <span class=\"n\">A</span> <span class=\"n\">B</span>  <span class=\"o\">,</span> <span class=\"n\">AxiomH</span> <span class=\"o\">(</span><span class=\"n\">A</span> <span class=\"err\">→</span> <span class=\"n\">B</span> <span class=\"err\">→</span> <span class=\"n\">A</span><span class=\"err\">∧</span><span class=\"n\">B</span><span class=\"o\">)</span>\n<span class=\"o\">|</span> <span class=\"n\">HOrE</span>   <span class=\"o\">:</span> <span class=\"k\">forall</span> <span class=\"n\">A</span> <span class=\"n\">B</span> <span class=\"n\">C</span><span class=\"o\">,</span> <span class=\"n\">AxiomH</span> <span class=\"o\">(</span><span class=\"n\">A</span><span class=\"err\">∨</span><span class=\"n\">B</span> <span class=\"err\">→</span> <span class=\"o\">(</span><span class=\"n\">A</span> <span class=\"err\">→</span> <span class=\"n\">C</span><span class=\"o\">)</span> <span class=\"err\">→</span> <span class=\"o\">(</span><span class=\"n\">B</span> <span class=\"err\">→</span> <span class=\"n\">C</span><span class=\"o\">)</span> <span class=\"err\">→</span> <span class=\"n\">C</span><span class=\"o\">)</span>\n<span class=\"o\">|</span> <span class=\"n\">HAndE1</span> <span class=\"o\">:</span> <span class=\"k\">forall</span> <span class=\"n\">A</span> <span class=\"n\">B</span>  <span class=\"o\">,</span> <span class=\"n\">AxiomH</span> <span class=\"o\">(</span><span class=\"n\">A</span><span class=\"err\">∧</span><span class=\"n\">B</span> <span class=\"err\">→</span> <span class=\"n\">A</span><span class=\"o\">)</span>\n<span class=\"o\">|</span> <span class=\"n\">HAndE2</span> <span class=\"o\">:</span> <span class=\"k\">forall</span> <span class=\"n\">A</span> <span class=\"n\">B</span>  <span class=\"o\">,</span> <span class=\"n\">AxiomH</span> <span class=\"o\">(</span><span class=\"n\">A</span><span class=\"err\">∧</span><span class=\"n\">B</span> <span class=\"err\">→</span> <span class=\"n\">B</span><span class=\"o\">)</span>\n<span class=\"o\">|</span> <span class=\"n\">HS</span>      <span class=\"o\">:</span> <span class=\"k\">forall</span> <span class=\"n\">A</span> <span class=\"n\">B</span> <span class=\"n\">C</span><span class=\"o\">,</span> <span class=\"n\">AxiomH</span> <span class=\"o\">((</span><span class=\"n\">A</span> <span class=\"err\">→</span> <span class=\"n\">B</span> <span class=\"err\">→</span> <span class=\"n\">C</span><span class=\"o\">)</span> <span class=\"err\">→</span> <span class=\"o\">(</span><span class=\"n\">A</span> <span class=\"err\">→</span> <span class=\"n\">B</span><span class=\"o\">)</span> <span class=\"err\">→</span> <span class=\"n\">A</span> <span class=\"err\">→</span> <span class=\"n\">C</span><span class=\"o\">)</span>\n<span class=\"o\">|</span> <span class=\"n\">HK</span>      <span class=\"o\">:</span> <span class=\"k\">forall</span> <span class=\"n\">A</span> <span class=\"n\">B</span>  <span class=\"o\">,</span> <span class=\"n\">AxiomH</span> <span class=\"o\">(</span><span class=\"n\">A</span> <span class=\"err\">→</span> <span class=\"n\">B</span> <span class=\"err\">→</span> <span class=\"n\">A</span><span class=\"o\">)</span>\n<span class=\"o\">|</span> <span class=\"n\">HClas</span>  <span class=\"o\">:</span> <span class=\"k\">forall</span> <span class=\"n\">A</span>    <span class=\"o\">,</span> <span class=\"n\">AxiomH</span> <span class=\"o\">(</span><span class=\"err\">¬</span><span class=\"o\">(</span><span class=\"err\">¬</span><span class=\"n\">A</span><span class=\"o\">)</span> <span class=\"err\">→</span> <span class=\"n\">A</span><span class=\"o\">)</span>\n</pre></div>",
        "id": 176236403,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1569019646
    }
]