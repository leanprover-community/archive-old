[
    {
        "content": "<p>Is there anyone who would like to work on <code>src/for_mathlib/endomorphisms/</code>? If you want to play around with a bit of category theory, I think this can be fun.</p>",
        "id": 284962472,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1654324437
    },
    {
        "content": "<p>You should advertise in <a class=\"stream\" data-stream-id=\"116395\" href=\"/#narrow/stream/116395-maths\">#maths</a> ;-)</p>",
        "id": 284976756,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1654345142
    },
    {
        "content": "<p>So here is an update on <code>for_mathlib/endomorphisms/</code>. There is basically one <code>sorry</code> in it, <a href=\"https://github.com/leanprover-community/lean-liquid/blob/313344fe1f26a44bcec3aa0bda11359c7355f6cf/src/for_mathlib/endomorphisms/Ext.lean#L243-L250\">here</a>, and it's going to be some work to remove.</p>\n<p>Here's some of the mathematics behind the statement of the <code>sorry</code>. If A is an abelian category then one can make a new abelian category <code>endomorphisms A</code> whose objects are pairs (Y,f) with Y an object of A and f an endomorphism of Y. Morphisms are maps intertwining the endomorphisms, and there's a forgetful functor back down to A. If Y is an object and X is a complex of objects in <code>endomorphism A</code>, then both the endomorphism of Y and the endomorphisms of the objects of X induce endomorphisms of Ext^i(X,Y) (Ext group computed in the category of complexes of objects of A up to homotopy). Let e_i denote the difference of these two  endomorphisms. The claim is that e_i is an isomorphism for all i iff Ext_{end}^j(X,Y)=0 for all j, where here Ext_{end} means computing ext groups in the category of complexes of objects of <code>endomorphism A</code>, so in particular you probably get different answers in this category than when just considering everything as objects of A.</p>\n<p>The proof looks like this: <span class=\"user-mention\" data-user-id=\"439483\">@Andrew Yang</span> developed a theory of projective replacements, but unfortunately we seem to need to develop a parallel theory of projective replacements in endomorphism categories with extra properties. If P is a suitable complex of projective objects with endomorphisms and P is quasi-isomorphic to X (apparently these are called \"replacements\" now), then one can consider the complex (with morphisms going the other way) C_i := Hom(P^i,Y) with differentials coming from P^i, and one checks that the homology of the complex C_i is the Ext group. If instead you do homomophisms intertwining the endomorphisms then the homology of the resulting complex is the endomorphism Ext group. So it just comes down to checking that e_i : C_i -&gt; C_i (the difference of the endomorphisms) is surjective and its kernel is the equivariant endomorphisms; this gives a short exact sequence of complexes, and it's easily checked that the associated long exact sequence of homology has the property that every third term is 0 iff all the maps in the long exact sequence which have source and target one of the other terms, are isomorphisms:</p>\n<p><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>→</mo><msubsup><mrow><mi mathvariant=\"normal\">E</mi><mi mathvariant=\"normal\">x</mi><mi mathvariant=\"normal\">t</mi></mrow><mrow><mi>e</mi><mi>n</mi><mi>d</mi></mrow><mi>i</mi></msubsup><mo stretchy=\"false\">(</mo><mi>X</mi><mo separator=\"true\">,</mo><mi>Y</mi><mo stretchy=\"false\">)</mo><mo>→</mo><msup><mrow><mi mathvariant=\"normal\">E</mi><mi mathvariant=\"normal\">x</mi><mi mathvariant=\"normal\">t</mi></mrow><mi>i</mi></msup><mo stretchy=\"false\">(</mo><mi>X</mi><mo separator=\"true\">,</mo><mi>Y</mi><mo stretchy=\"false\">)</mo><mo>→</mo><msup><mrow><mi mathvariant=\"normal\">E</mi><mi mathvariant=\"normal\">x</mi><mi mathvariant=\"normal\">t</mi></mrow><mi>i</mi></msup><mo stretchy=\"false\">(</mo><mi>X</mi><mo separator=\"true\">,</mo><mi>Y</mi><mo stretchy=\"false\">)</mo><mo>→</mo><msubsup><mrow><mi mathvariant=\"normal\">E</mi><mi mathvariant=\"normal\">x</mi><mi mathvariant=\"normal\">t</mi></mrow><mrow><mi>e</mi><mi>n</mi><mi>d</mi></mrow><mrow><mi>i</mi><mo>±</mo><mn>1</mn></mrow></msubsup><mo stretchy=\"false\">(</mo><mi>X</mi><mo separator=\"true\">,</mo><mi>Y</mi><mo stretchy=\"false\">)</mo><mo>→</mo><mo>⋯</mo></mrow><annotation encoding=\"application/x-tex\">\\to\\mathrm{Ext}_{end}^i(X,Y)\\to\\mathrm{Ext}^i(X,Y)\\to\\mathrm{Ext}^i(X,Y)\\to\\mathrm{Ext}_{end}^{i\\pm1}(X,Y)\\to\\cdots</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.3669em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1479em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">Ext</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8979em;\"><span style=\"top:-2.453em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\">n</span><span class=\"mord mathnormal mtight\">d</span></span></span></span><span style=\"top:-3.1362em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.247em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1479em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">Ext</span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8979em;\"><span style=\"top:-3.1362em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1479em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">Ext</span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8979em;\"><span style=\"top:-3.1362em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1661em;vertical-align:-0.2682em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">Ext</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8979em;\"><span style=\"top:-2.4318em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\">n</span><span class=\"mord mathnormal mtight\">d</span></span></span></span><span style=\"top:-3.1362em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mbin mtight\">±</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2682em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.313em;\"></span><span class=\"minner\">⋯</span></span></span></span></p>\n<p>All those middle maps are isomorphisms iff all those Ext_{end} terms are 0. </p>\n<p>Right now I'm trying to write down a Lean sketch of this in the file <code>src/for_mathlib/endomorphisms/Ext.lean</code>. It's a shame but it seems (unless I'm missing a trick) that we'll have to redo a lot of the projective replacement stuff, because to ensure that the <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>e</mi><mi>i</mi></msub><mo>:</mo><msub><mi>C</mi><mi>i</mi></msub><mo>→</mo><msub><mi>C</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">e_i:C_i\\to C_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> are surjective we seem to need to ensure that the objects-with-endomorphisms <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>P</mi><mi>i</mi></msup></mrow><annotation encoding=\"application/x-tex\">P^i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8247em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8247em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span></span></span></span></span></span></span> are of the form <code>free Q</code>, i.e., <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Q</mi><msub><mo>⊗</mo><mi mathvariant=\"double-struck\">Z</mi></msub><mi mathvariant=\"double-struck\">Z</mi><mo stretchy=\"false\">[</mo><mi>T</mi><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">Q\\otimes_{\\Z}\\Z[T]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">Q</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\"><span class=\"mbin\">⊗</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3322em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathbb mtight\">Z</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathbb\">Z</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mclose\">]</span></span></span></span> for some projective <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Q</mi></mrow><annotation encoding=\"application/x-tex\">Q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">Q</span></span></span></span>, with the endomorphism being multiplication by <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi></mrow><annotation encoding=\"application/x-tex\">T</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span></span></span></span>.</p>\n<p>Random thought that might save a lot of work: is it likely to be true that every projective object in <code>endomorphisms A</code> is of the form <code>free Q</code> for some object <code>Q</code> which is projective in <code>A</code>?</p>",
        "id": 288271177,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1656769699
    },
    {
        "content": "<p>Unfortunately, that random thought is probably not true, as you can take direct summands of a projective which will again be projective (although I don't have an explicit example at hand).</p>",
        "id": 288271874,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1656770605
    },
    {
        "content": "<p>But I think that such projectives are \"dense\" in the sense that any object can be resolved by a projective of that form.</p>",
        "id": 288272059,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1656770796
    },
    {
        "content": "<p>If it's not true then it probably means we have to redo a bunch of the projective replacement stuff so that it works in this context (I should also say that this is actually an observation of Adam, we've exchanged many direct messages about the situation and the reason I'm posting publically was just to sort out my thoughts a bit)</p>",
        "id": 288272063,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1656770798
    },
    {
        "content": "<p>Yes I believe you that they're dense: take a random object Y in endomorphisms A, imagine it in A, take a projective <code>Q</code> which maps onto it, and now by a universal property <code>free Q</code> will surject onto it in <code>endomorphisms A</code>.</p>",
        "id": 288272171,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1656770914
    },
    {
        "content": "<p>Maybe the construction of projective replacements can take an extra argument that returns a preferred projective cover for every object?</p>",
        "id": 288272676,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1656771553
    },
    {
        "content": "<p>Then you don't have to redo it, but only generalize/refactor.</p>",
        "id": 288272690,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1656771574
    },
    {
        "content": "<p>Interesting idea! The only extra thing I need, according to my paper argument, is that each object in the endomorphism-replacement <code>P</code> is (isomorphic to something) of the form <code>free Q</code> with <code>Q</code> projective in <code>A</code>.</p>",
        "id": 288272774,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1656771668
    },
    {
        "content": "<p>Yep, that sounds right to me</p>",
        "id": 288272797,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1656771706
    },
    {
        "content": "<p>Random observations that most likely doesn't buy you anything currently: Your category <code>endomorphisms A</code> is in mathlib as <a href=\"https://leanprover-community.github.io/mathlib_docs/find/category_theory.endofunctor.algebra\">docs#category_theory.endofunctor.algebra</a> for the identity endofunctor.</p>",
        "id": 288274668,
        "sender_full_name": "Julian Külshammer",
        "timestamp": 1656774169
    },
    {
        "content": "<p>They're even essentially defeq</p>",
        "id": 288276425,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1656776483
    },
    {
        "content": "<p>Here's a fun one: <code>CompHaus</code> is the category of algebras of the codensity monad of the inclusion of <code>Fintype</code> into <code>Type</code> ;)</p>",
        "id": 288276476,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1656776546
    },
    {
        "content": "<p>I may have a solution. The  <code>free</code> projective objects surjects onto any object, and in particular any projective object <code>P</code>. By the projective condition of <code>P</code>, <code>P</code> is actually a direct factor of some of these <code>Q := free ?</code>. Then, any condition formulated as the surjectivity of a natural map is satisfied by any projective <code>P</code> if it is satisfied by the <code>free</code> objects.</p>",
        "id": 288276488,
        "sender_full_name": "Joël Riou",
        "timestamp": 1656776582
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"459699\">@Joël Riou</span> interesting idea. The actual argument we had in mind is a bit more complicated, but in principle this has to work because things must be unique up to homotopy. The question is whether it would be less work to deal with all the homotopies, or just to construct things in a more explicit way as Kevin indicated. I'll have to think about this more carefully.</p>",
        "id": 288277983,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1656778657
    },
    {
        "content": "<p>The reason we want <code>free ?</code> is because we want to map out of it eventually, but if we have some non-free but projective thing <code>P</code>, then we can resolve by a free, split the epi, and map out of the free to get a map out of the <code>P</code>. This may be enough, I'm not sure.</p>",
        "id": 288278051,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1656778759
    },
    {
        "content": "<p>Yes, I've convinced myself that this should work.</p>",
        "id": 288279028,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1656780303
    },
    {
        "content": "<p>So now we only need to get a complex of projective objects in <code>endomorphisms A</code> that is a replacement for <code>X</code>, and such that <code>endomorphism.forget</code> maps all those projective objects to projective objects in <code>A</code>.</p>",
        "id": 288279091,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1656780369
    },
    {
        "content": "<p>But afaict, that's true in general.</p>",
        "id": 288279220,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1656780590
    },
    {
        "content": "<p>No wait, it looks like an actual condition.</p>",
        "id": 288279428,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1656780876
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/stream/267928-condensed-mathematics/topic/endomorphisms/near/288279428\">said</a>:</p>\n<blockquote>\n<p>No wait, it looks like an actual condition.</p>\n</blockquote>\n<p>SImilarly as above, to show that the forgetful functor preserves projectives,  it suffices to check it for the <code>free</code> functor applied to projectives. In that case, this is stability of projectives by direct sums. (Alternatively, if we have exact infinite products, one may use the exactness of the right adjoint of the forgetful functor, which is the dual construction to <code>free</code>, more into power series than polynomials...)</p>",
        "id": 288281070,
        "sender_full_name": "Joël Riou",
        "timestamp": 1656783224
    },
    {
        "content": "<p>Yeah we have the <code>cofree</code> construction already ;)</p>",
        "id": 288281131,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1656783303
    },
    {
        "content": "<p>Aah, of course. I pushed a proof of</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">instance</span> <span class=\"n\">projective_X</span> <span class=\"o\">[</span><span class=\"n\">enough_projectives</span> <span class=\"n\">C</span><span class=\"o\">]</span> <span class=\"o\">(</span><span class=\"n\">P</span> <span class=\"o\">:</span> <span class=\"n\">endomorphisms</span> <span class=\"n\">C</span><span class=\"o\">)</span> <span class=\"o\">[</span><span class=\"n\">projective</span> <span class=\"n\">P</span><span class=\"o\">]</span> <span class=\"o\">:</span>\n  <span class=\"n\">projective</span> <span class=\"n\">P.X</span> <span class=\"o\">:=</span>\n</code></pre></div>",
        "id": 288282343,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1656784849
    },
    {
        "content": "<p>So now we can just work with <code>X.replace</code> for <code>X : endomorphisms A</code>. Because by definition that is a complex with projective objects as components.</p>",
        "id": 288282434,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1656784925
    },
    {
        "content": "<p>For porting to mathlib, would it be of interest to generalise most of the things you have to the endofunctor.algebra setting mentioned earlier? Pretty sure this is possible, assuming the appropriate endofunctor right exact, additive, etc. (as one of my latest papers deals with this set-up)</p>",
        "id": 288285258,
        "sender_full_name": "Julian Külshammer",
        "timestamp": 1656788837
    },
    {
        "content": "<p>Yeah, I guess that makes sense</p>",
        "id": 288285715,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1656789465
    },
    {
        "content": "<p>Wait a minute, wouldn't it have been easier to realise the category <code>endomorphisms A</code> as the functor_category from the free category on one morphism (aka N as a 1-object category) to A? In this case most of the basic instances should already be in mathlib?</p>",
        "id": 288320531,
        "sender_full_name": "Julian Külshammer",
        "timestamp": 1656844767
    },
    {
        "content": "<p>The defeqs of the current def are much nicer than the functor from the free category approach, IMO.</p>",
        "id": 288324237,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1656850112
    },
    {
        "content": "<p>So the surjectivity proof we need is the following. If <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi></mrow><annotation encoding=\"application/x-tex\">P</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span></span></span></span> and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Y</mi></mrow><annotation encoding=\"application/x-tex\">Y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span></span></span></span> are objects of an abelian category, equipped with endomorphisms <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>e</mi><mo>:</mo><mi>P</mi><mo>→</mo><mi>P</mi></mrow><annotation encoding=\"application/x-tex\">e:P\\to P</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">e</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span></span></span></span> and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi><mo>:</mo><mi>Y</mi><mo>→</mo><mi>Y</mi></mrow><annotation encoding=\"application/x-tex\">f:Y\\to Y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span></span></span></span>, and if <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>ϕ</mi><mo>:</mo><mi>P</mi><mo>→</mo><mi>Y</mi></mrow><annotation encoding=\"application/x-tex\">\\phi:P\\to Y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">ϕ</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span></span></span></span> is a morphism in the category (not necessarily intertwining the endomorphisms), then we want <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>ψ</mi><mo>:</mo><mi>P</mi><mo>→</mo><mi>Y</mi></mrow><annotation encoding=\"application/x-tex\">\\psi:P\\to Y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">ψ</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span></span></span></span> such that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>ϕ</mi><mo>=</mo><mi>ψ</mi><mo>∘</mo><mi>e</mi><mo>−</mo><mi>f</mi><mo>∘</mo><mi>ψ</mi></mrow><annotation encoding=\"application/x-tex\">\\phi=\\psi\\circ e - f \\circ \\psi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">ϕ</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">ψ</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∘</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">e</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∘</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">ψ</span></span></span></span>. In general we can't have such <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>ψ</mi></mrow><annotation encoding=\"application/x-tex\">\\psi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">ψ</span></span></span></span>. If <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi></mrow><annotation encoding=\"application/x-tex\">P</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span></span></span></span> is of the form <code>free Q</code> i.e. <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mo>=</mo><msub><mo>⊕</mo><mrow><mi>n</mi><mo>∈</mo><mi mathvariant=\"double-struck\">N</mi></mrow></msub><mi>Q</mi></mrow><annotation encoding=\"application/x-tex\">P=\\oplus_{n\\in\\N}Q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mbin\">⊕</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3322em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span><span class=\"mrel mtight\">∈</span><span class=\"mord mathbb mtight\">N</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1774em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\">Q</span></span></span></span> with <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>e</mi><mo stretchy=\"false\">(</mo><msub><mi>q</mi><mi>n</mi></msub><mo stretchy=\"false\">)</mo><mo>=</mo><msub><mi>q</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding=\"application/x-tex\">e(q_n)=q_{n+1}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">e</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6389em;vertical-align:-0.2083em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2083em;\"><span></span></span></span></span></span></span></span></span></span> then we <em>can</em> make <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>ψ</mi></mrow><annotation encoding=\"application/x-tex\">\\psi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">ψ</span></span></span></span>, it's of the form <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>⊕</mo><msub><mi>ψ</mi><mi>n</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\oplus \\psi_n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\">⊕</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">ψ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> with <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>ψ</mi><mn>0</mn></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">\\psi_0=0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">ψ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span> and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>ψ</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><msub><mi>ϕ</mi><mi>n</mi></msub><mo>+</mo><mi>f</mi><mo>∘</mo><msub><mi>ψ</mi><mi>n</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\psi_{n+1}=\\phi_n+f\\circ\\psi_n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9028em;vertical-align:-0.2083em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">ψ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2083em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">ϕ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∘</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">ψ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>. The question is whether we can make <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>ψ</mi></mrow><annotation encoding=\"application/x-tex\">\\psi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">ψ</span></span></span></span> knowing only that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>P</mi><mo separator=\"true\">,</mo><mi>e</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(P,e)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">e</span><span class=\"mclose\">)</span></span></span></span> is projective in the endomorphism category.</p>",
        "id": 288324521,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1656850460
    },
    {
        "content": "<p>Yes, see Joël's argument above</p>",
        "id": 288324843,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1656850869
    },
    {
        "content": "<p><a href=\"#narrow/stream/267928-condensed-mathematics/topic/endomorphisms/near/288276488\">https://leanprover.zulipchat.com/#narrow/stream/267928-condensed-mathematics/topic/endomorphisms/near/288276488</a></p>",
        "id": 288324849,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1656850883
    },
    {
        "content": "<p>Another way of saying what I'm saying above is \"I don't understand Joël's argument yet\". I thought it was worth writing down precisely the statement we needed.</p>",
        "id": 288324908,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1656850965
    },
    {
        "content": "<p>Once I understand this, I am ready to get started formalising the argument.</p>",
        "id": 288325015,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1656851130
    },
    {
        "content": "<p>So, say <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>P</mi><mo separator=\"true\">,</mo><mi>e</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(P,e)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">e</span><span class=\"mclose\">)</span></span></span></span> is projective. Choose <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Q</mi></mrow><annotation encoding=\"application/x-tex\">Q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">Q</span></span></span></span> as above. Say <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>ϕ</mi><mo>:</mo><mi>P</mi><mo>→</mo><mi>Y</mi></mrow><annotation encoding=\"application/x-tex\">\\phi:P\\to Y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">ϕ</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span></span></span></span>. Extend to <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi><mi>r</mi><mi>e</mi><mi>e</mi><mo stretchy=\"false\">(</mo><mi>Q</mi><mo stretchy=\"false\">)</mo><mo>→</mo><mi>Y</mi></mrow><annotation encoding=\"application/x-tex\">Free(Q)\\to Y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\">ree</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">Q</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span></span></span></span>. Now we get <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>ψ</mi><mo>:</mo><mi>F</mi><mi>r</mi><mi>e</mi><mi>e</mi><mo stretchy=\"false\">(</mo><mi>Q</mi><mo stretchy=\"false\">)</mo><mo>→</mo><mi>Y</mi></mrow><annotation encoding=\"application/x-tex\">\\psi:Free(Q)\\to Y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">ψ</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\">ree</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">Q</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span></span></span></span>. Now restrict back down to <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi></mrow><annotation encoding=\"application/x-tex\">P</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span></span></span></span>. Oh it's as easy as that? :D</p>",
        "id": 288325314,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1656851559
    },
    {
        "content": "<p>P=Q?</p>",
        "id": 288325470,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1656851791
    },
    {
        "content": "<p>Sorry, let me try again. Let <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>P</mi><mo separator=\"true\">,</mo><mi>e</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(P,e)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">e</span><span class=\"mclose\">)</span></span></span></span> be projective. Choose <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Q</mi></mrow><annotation encoding=\"application/x-tex\">Q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">Q</span></span></span></span> such that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi></mrow><annotation encoding=\"application/x-tex\">P</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span></span></span></span> is a direct summand of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi><mi>r</mi><mi>e</mi><mi>e</mi><mo stretchy=\"false\">(</mo><mi>Q</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">Free(Q)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\">ree</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">Q</span><span class=\"mclose\">)</span></span></span></span>. Then continue as above. Is that OK?</p>",
        "id": 288325500,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1656851857
    },
    {
        "content": "<p>Oh, you're saying <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mo>=</mo><mi>Q</mi></mrow><annotation encoding=\"application/x-tex\">P=Q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">Q</span></span></span></span> works! Yes, I guess it does.</p>",
        "id": 288325506,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1656851870
    },
    {
        "content": "<p>The delicate part of the argument is that the splitting <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mo>→</mo><mi>F</mi><mi>r</mi><mi>e</mi><mi>e</mi><mo stretchy=\"false\">(</mo><mi>P</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">P\\to Free(P)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\">ree</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mclose\">)</span></span></span></span> will not be the \"obvious\" map.</p>",
        "id": 288325582,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1656851953
    },
    {
        "content": "<p>Right!</p>",
        "id": 288325675,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1656852065
    },
    {
        "content": "<p>It’s just the one you get from projectivity</p>",
        "id": 288325676,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1656852065
    },
    {
        "content": "<p>the short-exactness is done</p>",
        "id": 288479903,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1656998531
    },
    {
        "content": "<p>The argument that's worrying me in the endomorphisms directory is this hideous diagram chase. I'll have a look at it this evening.</p>",
        "id": 288489577,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1657006555
    },
    {
        "content": "<p>Can you already state it? Or do you need more setup?</p>",
        "id": 288489652,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1657006593
    },
    {
        "content": "<p>I've stated it, it's the bottom sorry.</p>",
        "id": 288492136,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1657008143
    },
    {
        "content": "<p>There's an isomorphism called <code>j</code> which is a composite of about three isomorphisms and is supposed to intertwine two maps of the form <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>ψ</mi><mo>↦</mo><mi>f</mi><mi>ψ</mi><mo>−</mo><mi>ψ</mi><mi>g</mi></mrow><annotation encoding=\"application/x-tex\">\\psi\\mapsto f\\psi-\\psi g</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">ψ</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">↦</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">ψ</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">ψ</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span></span></span></span>.</p>",
        "id": 288492253,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1657008223
    },
    {
        "content": "<p>Yep, I see it.</p>",
        "id": 288492420,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1657008319
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/stream/267928-condensed-mathematics/topic/endomorphisms/near/288492253\">said</a>:</p>\n<blockquote>\n<p>There's an isomorphism called <code>j</code> which is a composite of about three isomorphisms and is supposed to intertwine two maps of the form <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>ψ</mi><mo>↦</mo><mi>f</mi><mi>ψ</mi><mo>−</mo><mi>ψ</mi><mi>g</mi></mrow><annotation encoding=\"application/x-tex\">\\psi\\mapsto f\\psi-\\psi g</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">ψ</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">↦</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">ψ</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">ψ</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span></span></span></span>.</p>\n</blockquote>\n<p>I do not have much time today to work on this, but if <code>dsimp/simp</code> does not work well, I would suggest getting rid of <code>convert</code> on the line <code>convert iso.app this _</code> in the definition of <code>j</code>. There is an annoying <code>single 𝓐 (0 - -i)</code>. It you introduce an <code>eq_to_iso</code> isomorphism <code>(single 𝓐 p).obj Y ≅ (single 𝓐 q).obj Y</code> when <code>p=q</code>, it <em>may</em> <code>dsimp/simp</code> better.</p>",
        "id": 288493532,
        "sender_full_name": "Joël Riou",
        "timestamp": 1657009082
    },
    {
        "content": "<p>There are also a bunch of <code>have</code>s for data. I'm fixing those now.</p>",
        "id": 288494010,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1657009376
    },
    {
        "content": "<p>Thanks. I defined the map late last night!</p>",
        "id": 288494069,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1657009432
    },
    {
        "content": "<p>I split the goal into two pieces, as you suggested.</p>",
        "id": 288494966,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1657009989
    },
    {
        "content": "<p>I just added</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">lemma</span> <span class=\"n\">hom_single_iso_naturality'</span>\n  <span class=\"o\">(</span><span class=\"n\">P₁</span> <span class=\"n\">P₂</span> <span class=\"o\">:</span> <span class=\"n\">bounded_homotopy_category</span> <span class=\"n\">C</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">B</span> <span class=\"o\">:</span> <span class=\"n\">C</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">i</span> <span class=\"o\">:</span> <span class=\"n\">ℤ</span><span class=\"o\">)</span>\n  <span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">P₁.val.as</span> <span class=\"bp\">⟶</span> <span class=\"n\">P₂.val.as</span><span class=\"o\">)</span> <span class=\"o\">:</span>\n  <span class=\"o\">(</span><span class=\"n\">preadditive_yoneda.obj</span> <span class=\"o\">((</span><span class=\"n\">single</span> <span class=\"n\">C</span> <span class=\"n\">i</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">obj</span> <span class=\"n\">B</span><span class=\"o\">))</span><span class=\"bp\">.</span><span class=\"n\">map</span> <span class=\"o\">(</span><span class=\"n\">of_hom</span> <span class=\"n\">f</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">op</span> <span class=\"bp\">≫</span> <span class=\"o\">(</span><span class=\"n\">hom_single_iso</span> <span class=\"n\">P₁</span> <span class=\"n\">B</span> <span class=\"n\">i</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">hom</span> <span class=\"bp\">=</span>\n  <span class=\"o\">(</span><span class=\"n\">hom_single_iso</span> <span class=\"n\">P₂</span> <span class=\"n\">B</span> <span class=\"n\">i</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">hom</span> <span class=\"bp\">≫</span>\n  <span class=\"o\">(((</span><span class=\"n\">preadditive_yoneda.obj</span> <span class=\"n\">B</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">right_op.map_homological_complex</span> <span class=\"n\">_</span> <span class=\"bp\">⋙</span>\n      <span class=\"n\">homological_complex.unop_functor.right_op</span> <span class=\"bp\">⋙</span>\n      <span class=\"o\">(</span><span class=\"n\">_root_.homology_functor</span> <span class=\"n\">_</span> <span class=\"n\">_</span> <span class=\"n\">_</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">op</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">map</span> <span class=\"n\">f</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">unop</span> <span class=\"o\">:=</span>\n</code></pre></div>\n<p>with a minor <code>sorry</code>.</p>",
        "id": 288499115,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1657012250
    },
    {
        "content": "<p>Compiling <span aria-label=\"fencing\" class=\"emoji emoji-1f93a\" role=\"img\" title=\"fencing\">:fencing:</span> to see if I didn't break the build</p>",
        "id": 288499141,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1657012263
    },
    {
        "content": "<p><code>j</code> is mostly built from <code>preadditive_yoneda</code> stuff. So maybe your goal isn't too bad.</p>",
        "id": 288499197,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1657012314
    },
    {
        "content": "<p>I pushed to branch <code>jmcwip</code> because I need to run</p>",
        "id": 288499391,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1657012434
    },
    {
        "content": "<p>I have just removed the minor <code>sorry</code> in this lemma <code>hom_single_iso_naturality'</code>.</p>",
        "id": 288506184,
        "sender_full_name": "Joël Riou",
        "timestamp": 1657016082
    },
    {
        "content": "<p>Today, I have worked on one of the two compatibilities in <code>Ext_is_zero_iff</code>. I have struggled very much because of <code>op/unop</code> intricacies with <code>homological_complex/homotopy_category</code>. Modulo two more sorried basic statements, this should be ok soon, but I have to stop for today. I may have some time tomorrow morning only.</p>",
        "id": 288695387,
        "sender_full_name": "Joël Riou",
        "timestamp": 1657124689
    },
    {
        "content": "<p>If anyone sees how to fill these sorries in <code>for_mathlib/endomorphisms/Ext.lean</code>, feel free to do so.</p>",
        "id": 288695595,
        "sender_full_name": "Joël Riou",
        "timestamp": 1657124768
    },
    {
        "content": "<p>Thanks for your work!</p>",
        "id": 288696471,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1657125161
    },
    {
        "content": "<p>I closed the compatibility sorry.</p>",
        "id": 288714120,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1657133636
    },
    {
        "content": "<p>Other one is done as well</p>",
        "id": 288717572,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1657135314
    },
    {
        "content": "<p>I have almost finished proving the last compatibility in <code>for_mathlib/endomorphisms/Ext.lean</code>. The only left <code>sorry</code> is a basic naturality statement that I have moved to <code>hom_single_iso.lean</code>. It is the naturality with respect to the other variable. In principle, I would think that it should be easier than the naturality on the first variable, but I have no idea about the internals of the definitions in this file and I have no more Lean time today (dance again...). Maybe <span class=\"user-mention\" data-user-id=\"243562\">@Adam Topaz</span> this could be for you?</p>",
        "id": 288789250,
        "sender_full_name": "Joël Riou",
        "timestamp": 1657190227
    },
    {
        "content": "<p>The sorries are now done.</p>",
        "id": 289093826,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1657447378
    },
    {
        "content": "<p>I have just finished the other naturality sorry that was left for the presheaf iso <code>eval_freeFunc_homology_zero</code>.</p>",
        "id": 289096991,
        "sender_full_name": "Joël Riou",
        "timestamp": 1657451524
    }
]