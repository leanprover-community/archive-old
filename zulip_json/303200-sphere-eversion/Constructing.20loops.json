[
    {
        "content": "<p>After the preliminaries of chapter 1 comes the first section which is specific to the project: Section 1.3 Constructing loops. It is the topic of <a href=\"https://github.com/leanprover-community/sphere-eversion/blob/dc7a12c8b9cc49f33d0ceaf5d3aac50f09c9729c/src/loops/surrounding.lean\">this Lean file</a>. The first lemma is proved. The next targets involve using the previous section (all definitions and statements should already be there) and gluing continuous functions using continuous cut-off functions. This can be tackled by anyone knowing, or wanting to learn, the basic topology part of mathlib (basic means no uniform space of nonarchimedean topological algebra).</p>",
        "id": 256758102,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1633707296
    },
    {
        "content": "<p>I'll take a look at this!</p>",
        "id": 257057504,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1633955691
    },
    {
        "content": "<p>Awesome!</p>",
        "id": 257067020,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1633960252
    },
    {
        "content": "<p>I just pushed a partial proof for Lem 1.11 (<code>local_loops</code>).<br>\nI ran into 2 issues:</p>\n<ul>\n<li>In the Lean file Lem 1.9 is formulated using <code>continuous_on</code> and Lem 1.11 is formulated using <code>continuous_at</code> in the conclusion. <code>continuous_on</code> does not apply <code>continuous_at</code> for all points (only for the points in the interior). Since <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>γ</mi><mi>t</mi></msup></mrow><annotation encoding=\"application/x-tex\">\\gamma^t</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9879959999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05556em;\">γ</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7935559999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span></span></span></span></span></span></span></span> is allowed to have garbage values if <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>t</mi><mo>∉</mo><mi>I</mi></mrow><annotation encoding=\"application/x-tex\">t\\not\\in I</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\">t</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mord vbox\"><span class=\"thinbox\"><span class=\"rlap\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"inner\"><span class=\"mord\"><span class=\"mrel\"></span></span></span><span class=\"fix\"></span></span></span></span></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span></span></span></span> I presume we want to use <code>continuous_on</code> (or <code>continuous_within_at</code>), right?</li>\n<li>I don't see the math proof that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>γ</mi><mi>x</mi></msub><mo>∈</mo><msub><mi mathvariant=\"normal\">Ω</mi><mi>x</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\gamma_x\\in \\Omega_x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7335400000000001em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05556em;\">γ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05556em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\">Ω</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>. Just checking: <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">Ω</mi></mrow><annotation encoding=\"application/x-tex\">\\Omega</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">Ω</span></span></span></span> being open over a neighborhood <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>U</mi></mrow><annotation encoding=\"application/x-tex\">U</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span></span></span></span> of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>x</mi><mn>0</mn></msub></mrow><annotation encoding=\"application/x-tex\">x_0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> just means that the slices <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"normal\">Ω</mi><mi>x</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\Omega_x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\">Ω</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> are open (in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi></mrow><annotation encoding=\"application/x-tex\">F</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span></span></span></span>) for <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>∈</mo><mi>U</mi></mrow><annotation encoding=\"application/x-tex\">x\\in U</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span></span></span></span>, right? So in particular we don't know whether <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><msub><mi>x</mi><mn>0</mn></msub><mo separator=\"true\">,</mo><mi>β</mi><mo stretchy=\"false\">(</mo><msub><mi>x</mi><mn>0</mn></msub><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(x_0,\\beta(x_0))</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05278em;\">β</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">))</span></span></span></span>  (or <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><msub><mi>x</mi><mn>0</mn></msub><mo separator=\"true\">,</mo><mi>γ</mi><mo stretchy=\"false\">(</mo><mi>s</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(x_0,\\gamma(s))</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05556em;\">γ</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">s</span><span class=\"mclose\">))</span></span></span></span>, with <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>γ</mi></mrow><annotation encoding=\"application/x-tex\">\\gamma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05556em;\">γ</span></span></span></span> as in the proof) lies in the interior of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">Ω</mi></mrow><annotation encoding=\"application/x-tex\">\\Omega</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">Ω</span></span></span></span>, right? I don't see what prevents the following problematic example: <ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"normal\">Ω</mi><msub><mi>x</mi><mn>0</mn></msub></msub></mrow><annotation encoding=\"application/x-tex\">\\Omega_{x_0}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.93343em;vertical-align:-0.2501em;\"></span><span class=\"mord\"><span class=\"mord\">Ω</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15139199999999997em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31731428571428577em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2501em;\"><span></span></span></span></span></span></span></span></span></span> is all of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi></mrow><annotation encoding=\"application/x-tex\">F</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span></span></span></span></li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"normal\">Ω</mi><mi>x</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\Omega_x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\">Ω</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> is a tiny open region for <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo mathvariant=\"normal\">≠</mo><msub><mi>x</mi><mn>0</mn></msub></mrow><annotation encoding=\"application/x-tex\">x\\ne x_0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mrel\"><span class=\"mord vbox\"><span class=\"thinbox\"><span class=\"rlap\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"inner\"><span class=\"mord\"><span class=\"mrel\"></span></span></span><span class=\"fix\"></span></span></span></span></span><span class=\"mrel\">=</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></li>\n<li>The <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>γ</mi></mrow><annotation encoding=\"application/x-tex\">\\gamma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05556em;\">γ</span></span></span></span> we get in the proof has a range that goes far outside the tiny open regions <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"normal\">Ω</mi><mi>x</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\Omega_x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\">Ω</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>.</li>\n</ul>\n</li>\n</ul>",
        "id": 257079133,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1633965617
    },
    {
        "content": "<p>Nice work :-) I'll have to context switch to think properly about your remarks but if they're still unanswered this evening, I'll do so!</p>",
        "id": 257085579,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1633968655
    },
    {
        "content": "<p>I spent a bit too long working on <a href=\"https://github.com/leanprover-community/mathlib/issues/9657\">#9657</a> this morning so I'm now grovelling around with finite sets trying to close the <code>sorry</code>s in <a href=\"https://github.com/leanprover-community/sphere-eversion/pull/26\">https://github.com/leanprover-community/sphere-eversion/pull/26</a>.</p>",
        "id": 257085664,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1633968711
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"111080\">Floris van Doorn</span> <a href=\"#narrow/stream/303200-sphere-eversion/topic/Constructing.20loops/near/257079133\">said</a>:</p>\n<blockquote>\n<ul>\n<li>In the Lean file Lem 1.9 is formulated using <code>continuous_on</code> and Lem 1.11 is formulated using <code>continuous_at</code> in the conclusion. <code>continuous_on</code> does not apply <code>continuous_at</code> for all points (only for the points in the interior). Since <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>γ</mi><mi>t</mi></msup></mrow><annotation encoding=\"application/x-tex\">\\gamma^t</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9879959999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05556em;\">γ</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7935559999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span></span></span></span></span></span></span></span> is allowed to have garbage values if <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>t</mi><mo>∉</mo><mi>I</mi></mrow><annotation encoding=\"application/x-tex\">t\\not\\in I</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\">t</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mord vbox\"><span class=\"thinbox\"><span class=\"rlap\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"inner\"><span class=\"mord\"><span class=\"mrel\"></span></span></span><span class=\"fix\"></span></span></span></span></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span></span></span></span> I presume we want to use <code>continuous_on</code> (or <code>continuous_within_at</code>), right?</li>\n</ul>\n</blockquote>\n<p>This is a typo, it should be <code>continuous_on</code> everywhere. In the real work everything is defined only on <code>I</code>, there is no garbage value anywhere.</p>",
        "id": 257105498,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1633979655
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"111080\">Floris van Doorn</span> <a href=\"#narrow/stream/303200-sphere-eversion/topic/Constructing.20loops/near/257079133\">said</a>:</p>\n<blockquote>\n<ul>\n<li>I don't see the math proof that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>γ</mi><mi>x</mi></msub><mo>∈</mo><msub><mi mathvariant=\"normal\">Ω</mi><mi>x</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\gamma_x\\in \\Omega_x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7335400000000001em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05556em;\">γ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05556em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\">Ω</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>. Just checking: <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">Ω</mi></mrow><annotation encoding=\"application/x-tex\">\\Omega</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">Ω</span></span></span></span> being open over a neighborhood <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>U</mi></mrow><annotation encoding=\"application/x-tex\">U</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span></span></span></span> of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>x</mi><mn>0</mn></msub></mrow><annotation encoding=\"application/x-tex\">x_0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> just means that the slices <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"normal\">Ω</mi><mi>x</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\Omega_x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\">Ω</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> are open (in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi></mrow><annotation encoding=\"application/x-tex\">F</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span></span></span></span>) for <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>∈</mo><mi>U</mi></mrow><annotation encoding=\"application/x-tex\">x\\in U</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span></span></span></span>, right? </li>\n</ul>\n</blockquote>\n<p>No. \"over\" always refer to the projection of  <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>π</mi><mo>:</mo><mi>E</mi><mo>×</mo><mi>F</mi><mo>→</mo><mi>E</mi></mrow><annotation encoding=\"application/x-tex\">\\pi : E  \\times F \\to E</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">π</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.76666em;vertical-align:-0.08333em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span></span></span></span> (because we always secretly think everything is a fiber bundle). So <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">Ω</mi></mrow><annotation encoding=\"application/x-tex\">\\Omega</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">Ω</span></span></span></span> over a neighborhood of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span> mean <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">Ω</mi><mo>∩</mo><msup><mi>π</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy=\"false\">(</mo><mi>U</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\Omega \\cap \\pi^{-1}(U)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">Ω</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∩</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.064108em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">π</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">−</span><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"mclose\">)</span></span></span></span> for some neighborhood <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>U</mi></mrow><annotation encoding=\"application/x-tex\">U</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span></span></span></span> of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span>.</p>",
        "id": 257105880,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1633979899
    },
    {
        "content": "<p>Of course this kind of sloppy wording based on implicit habits is part of the motivation for formal maths. To me this was completely clear, just as things were completely clear for the author of those notes on adic spaces that drove me crazy during the perfectoid spaces project...</p>",
        "id": 257106153,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1633980051
    },
    {
        "content": "<p>Ah ok, so in Lemma 1.11  <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">Ω</mi><mo>∩</mo><msup><mi>π</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy=\"false\">(</mo><mi>U</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\Omega \\cap \\pi^{-1}(U)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">Ω</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∩</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.064108em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">π</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">−</span><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"mclose\">)</span></span></span></span> is open for some open neighborhood <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>U</mi></mrow><annotation encoding=\"application/x-tex\">U</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span></span></span></span> of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>x</mi><mn>0</mn></msub></mrow><annotation encoding=\"application/x-tex\">x_0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>? Part of the confusion was that the formalized statement of the lemma didn't state this. I'll fix it tomorrow.</p>",
        "id": 257124865,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1633991970
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110031\">@Patrick Massot</span> what do you think the best way to formulate Lemma 1.11 is?<br>\nI currently have</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">lemma</span> <span class=\"n\">local_loops</span>\n  <span class=\"o\">{</span><span class=\"n\">x₀</span> <span class=\"o\">:</span> <span class=\"n\">E</span><span class=\"o\">}</span>\n  <span class=\"o\">(</span><span class=\"n\">h</span><span class=\"bp\">Ω</span><span class=\"n\">_op</span> <span class=\"o\">:</span> <span class=\"bp\">∃</span> <span class=\"n\">U</span> <span class=\"bp\">∈</span> <span class=\"bp\">𝓝</span> <span class=\"n\">x₀</span><span class=\"o\">,</span> <span class=\"n\">is_open</span> <span class=\"o\">(</span><span class=\"bp\">Ω</span> <span class=\"bp\">∩</span> <span class=\"n\">prod.fst</span> <span class=\"bp\">⁻¹'</span> <span class=\"n\">U</span><span class=\"o\">))</span>\n  <span class=\"o\">(</span><span class=\"n\">h</span><span class=\"bp\">Ω</span><span class=\"n\">_conn</span> <span class=\"o\">:</span> <span class=\"bp\">∀ᶠ</span> <span class=\"n\">x</span> <span class=\"k\">in</span> <span class=\"bp\">𝓝</span> <span class=\"n\">x₀</span><span class=\"o\">,</span> <span class=\"n\">is_connected</span> <span class=\"o\">(</span><span class=\"n\">prod.mk</span> <span class=\"n\">x</span> <span class=\"bp\">⁻¹'</span> <span class=\"bp\">Ω</span><span class=\"o\">))</span>\n  <span class=\"o\">(</span><span class=\"n\">hg</span> <span class=\"o\">:</span> <span class=\"bp\">∀ᶠ</span> <span class=\"n\">x</span> <span class=\"k\">in</span> <span class=\"bp\">𝓝</span> <span class=\"n\">x₀</span><span class=\"o\">,</span> <span class=\"n\">continuous_at</span> <span class=\"n\">g</span> <span class=\"n\">x</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">hb</span> <span class=\"o\">:</span> <span class=\"bp\">∀ᶠ</span> <span class=\"n\">x</span> <span class=\"k\">in</span> <span class=\"bp\">𝓝</span> <span class=\"n\">x₀</span><span class=\"o\">,</span> <span class=\"n\">continuous_at</span> <span class=\"n\">b</span> <span class=\"n\">x</span><span class=\"o\">)</span>\n  <span class=\"o\">(</span><span class=\"n\">hb_in</span> <span class=\"o\">:</span> <span class=\"bp\">∀ᶠ</span> <span class=\"n\">x</span> <span class=\"k\">in</span> <span class=\"bp\">𝓝</span> <span class=\"n\">x₀</span><span class=\"o\">,</span> <span class=\"o\">(</span><span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">b</span> <span class=\"n\">x</span><span class=\"o\">)</span> <span class=\"bp\">∈</span> <span class=\"bp\">Ω</span><span class=\"o\">)</span>\n  <span class=\"o\">(</span><span class=\"n\">hconv</span> <span class=\"o\">:</span> <span class=\"bp\">∀ᶠ</span> <span class=\"n\">x</span> <span class=\"k\">in</span> <span class=\"bp\">𝓝</span> <span class=\"n\">x₀</span><span class=\"o\">,</span> <span class=\"n\">g</span> <span class=\"n\">x</span> <span class=\"bp\">∈</span> <span class=\"n\">convex_hull</span> <span class=\"n\">ℝ</span> <span class=\"o\">(</span><span class=\"n\">prod.mk</span> <span class=\"n\">x</span> <span class=\"bp\">⁻¹'</span> <span class=\"bp\">Ω</span><span class=\"o\">))</span> <span class=\"o\">:</span>\n<span class=\"bp\">∃</span> <span class=\"o\">(</span><span class=\"n\">γ</span> <span class=\"o\">:</span> <span class=\"n\">E</span> <span class=\"bp\">→</span> <span class=\"n\">ℝ</span> <span class=\"bp\">→</span> <span class=\"n\">loop</span> <span class=\"n\">F</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"bp\">∃</span> <span class=\"o\">(</span><span class=\"n\">U</span> <span class=\"bp\">∈</span> <span class=\"bp\">𝓝</span> <span class=\"n\">x₀</span><span class=\"o\">),</span> <span class=\"n\">continuous_on</span> <span class=\"bp\">↿</span><span class=\"n\">γ</span> <span class=\"o\">(</span><span class=\"n\">set.prod</span> <span class=\"n\">U</span> <span class=\"bp\">$</span> <span class=\"n\">set.prod</span> <span class=\"n\">I</span> <span class=\"n\">univ</span><span class=\"o\">))</span> <span class=\"bp\">∧</span>\n  <span class=\"bp\">∀ᶠ</span> <span class=\"n\">x</span> <span class=\"k\">in</span> <span class=\"bp\">𝓝</span> <span class=\"n\">x₀</span><span class=\"o\">,</span> <span class=\"bp\">∀</span> <span class=\"o\">(</span><span class=\"n\">t</span> <span class=\"bp\">∈</span> <span class=\"n\">I</span><span class=\"o\">)</span> <span class=\"n\">s</span><span class=\"o\">,</span>\n  <span class=\"o\">(</span><span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">γ</span> <span class=\"n\">x</span> <span class=\"n\">t</span> <span class=\"n\">s</span><span class=\"o\">)</span> <span class=\"bp\">∈</span> <span class=\"bp\">Ω</span> <span class=\"bp\">∧</span>\n  <span class=\"n\">γ</span> <span class=\"n\">x</span> <span class=\"mi\">0</span> <span class=\"n\">s</span> <span class=\"bp\">=</span> <span class=\"n\">b</span> <span class=\"n\">x</span> <span class=\"bp\">∧</span>\n  <span class=\"o\">(</span><span class=\"n\">γ</span> <span class=\"n\">x</span> <span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">surrounds</span> <span class=\"o\">(</span><span class=\"n\">g</span> <span class=\"n\">x</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>Is there a better way to formulate <code>hΩ_conn</code>? (this works fine for the proof so far).<br>\nI'm not sure how to formulate the conclusion most easily. I'm wondering if we should have <code>continuous_at_filter</code> similar to <a href=\"https://leanprover-community.github.io/mathlib_docs/find/measurable_at_filter\">docs#measurable_at_filter</a>.</p>",
        "id": 257187078,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1634038247
    },
    {
        "content": "<p>Your formulation looks fine.</p>",
        "id": 257187817,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1634038650
    },
    {
        "content": "<p>About <code>continuous_at_filter</code>, do you want to replace <code>∀ᶠ x in 𝓝 x₀, continuous_at g x</code> with <code>continuous_at_filter g  (𝓝 x₀)</code>? It doesn't seem to buy you much.</p>",
        "id": 257188467,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1634038931
    },
    {
        "content": "<p>No, <code>continuous_at_filter g (𝓝 x₀)</code> would mean<code>∃ U ∈ 𝓝 x₀, continuous_on g U</code>, which should (slightly) simplify the continuity statement in the conclusion.</p>",
        "id": 257188904,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1634039154
    },
    {
        "content": "<p>Ok, that would rather be <code>continuous_on_filter</code> then.</p>",
        "id": 257189042,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1634039224
    },
    {
        "content": "<p>Except that in this case it wouldn't apply.</p>",
        "id": 257189097,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1634039254
    },
    {
        "content": "<p>Because the conclusion uses a more complicated set built from a neighborhood.</p>",
        "id": 257189120,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1634039274
    },
    {
        "content": "<p>I expect you can take the product with some pure filters. But yeah, it's wouldn't buy much.</p>",
        "id": 257189221,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1634039310
    },
    {
        "content": "<p>Maybe we should drop <code>I</code> from this statement. You can probably arrange all those assumptions to hold for every <code>t</code> and that could actually make the proof easier.</p>",
        "id": 257190797,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1634040161
    },
    {
        "content": "<p>I just finished the proof of Lemma 1.13, <code>satisfied_or_refund</code>.</p>",
        "id": 258724932,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1634915222
    },
    {
        "content": "<p>Oh wow, that's awesome!</p>",
        "id": 258725061,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1634915282
    },
    {
        "content": "<p>That's a fine name for a lemma I must say</p>",
        "id": 258725416,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1634915427
    },
    {
        "content": "<p>Amazing!</p>",
        "id": 258735632,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1634919786
    },
    {
        "content": "<p>Don't hesitate to update the TeX code if you want to add details to the informal proof.</p>",
        "id": 258753467,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1634927460
    },
    {
        "content": "<p>I have pushed a mostly finished proof of <a href=\"https://leanprover-community.github.io/sphere-eversion/blueprint/chap-loops.html#lem:local_loops\"><code>local_loops</code></a>. It still depends on the following  sorry'd lemma</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">lemma</span> <span class=\"n\">is_open_affine_independent</span> <span class=\"o\">{</span><span class=\"n\">ι</span><span class=\"o\">}</span> <span class=\"o\">:</span> <span class=\"n\">is_open</span> <span class=\"o\">{</span><span class=\"n\">p</span> <span class=\"o\">:</span> <span class=\"n\">ι</span> <span class=\"bp\">→</span> <span class=\"n\">F</span> <span class=\"bp\">|</span> <span class=\"n\">affine_independent</span> <span class=\"n\">ℝ</span> <span class=\"n\">p</span><span class=\"o\">}</span>\n</code></pre></div>\n<p>Is this something that is easy to prove?</p>",
        "id": 263858304,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1638801438
    },
    {
        "content": "<p>Hopefully you should be able to use <span class=\"user-mention\" data-user-id=\"240862\">@Oliver Nash</span> recent effort to link this to determinant and use continuity of determinants.</p>",
        "id": 263858786,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1638801648
    },
    {
        "content": "<p>Yes, this is very easy from what I have.</p>",
        "id": 263858871,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1638801684
    },
    {
        "content": "<p>I'm back from holidays and busy preparing some \"camera-ready\" version of a paper but I'll see if I can fill that sorry for you quickly now.</p>",
        "id": 263859074,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1638801751
    },
    {
        "content": "<p>Nice, what is this paper about?</p>",
        "id": 263859453,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1638801905
    },
    {
        "content": "<p>I waffle on about Lie algebras in Mathlib.</p>",
        "id": 263859693,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1638801971
    },
    {
        "content": "<p>I was delighted that it was accepted for CPP which was very pleasing.</p>",
        "id": 263859794,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1638802017
    },
    {
        "content": "<p>I would love to see the preprint</p>",
        "id": 263861575,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1638802747
    },
    {
        "content": "<p>Good luck with the camera-ready version of your CPP paper!</p>",
        "id": 263861627,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1638802771
    },
    {
        "content": "<p>I'll share a link once I have it. I have only tiny changes to make but I might as well avoid having multiple versions floating around.</p>",
        "id": 263861645,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1638802777
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"111080\">@Floris van Doorn</span> <br>\nI'm currently this far along with your question:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"n\">topology.algebra.matrix</span>\n<span class=\"kn\">import</span> <span class=\"n\">analysis.normed_space.add_torsor_bases</span>\n<span class=\"kn\">import</span> <span class=\"n\">topology.algebra.ring</span>\n\n<span class=\"kn\">open</span> <span class=\"n\">set</span> <span class=\"n\">function</span> <span class=\"n\">finite_dimensional</span> <span class=\"n\">fintype</span>\n<span class=\"n\">open_locale</span> <span class=\"n\">topological_space</span> <span class=\"n\">affine</span> <span class=\"n\">classical</span> <span class=\"n\">matrix</span>\n<span class=\"kd\">noncomputable theory</span>\n\n<span class=\"kd\">variables</span> <span class=\"o\">(</span><span class=\"n\">ι</span> <span class=\"n\">k</span> <span class=\"n\">V</span> <span class=\"n\">P</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span>\n<span class=\"kd\">variables</span> <span class=\"o\">[</span><span class=\"n\">fintype</span> <span class=\"n\">ι</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"n\">nondiscrete_normed_field</span> <span class=\"n\">k</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"n\">complete_space</span> <span class=\"n\">k</span><span class=\"o\">]</span>\n<span class=\"kd\">variables</span> <span class=\"o\">[</span><span class=\"n\">normed_group</span> <span class=\"n\">V</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"n\">metric_space</span> <span class=\"n\">P</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"n\">normed_add_torsor</span> <span class=\"n\">V</span> <span class=\"n\">P</span><span class=\"o\">]</span>\n<span class=\"kd\">variables</span> <span class=\"o\">[</span><span class=\"n\">normed_space</span> <span class=\"n\">k</span> <span class=\"n\">V</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"n\">finite_dimensional</span> <span class=\"n\">k</span> <span class=\"n\">V</span><span class=\"o\">]</span>\n\n<span class=\"kd\">lemma</span> <span class=\"n\">is_open_affine_bases</span> <span class=\"o\">(</span><span class=\"n\">h</span> <span class=\"o\">:</span> <span class=\"n\">card</span> <span class=\"n\">ι</span> <span class=\"bp\">=</span> <span class=\"n\">finrank</span> <span class=\"n\">k</span> <span class=\"n\">V</span> <span class=\"bp\">+</span> <span class=\"mi\">1</span><span class=\"o\">)</span> <span class=\"o\">:</span>\n  <span class=\"n\">is_open</span> <span class=\"o\">{</span> <span class=\"n\">v</span> <span class=\"o\">:</span> <span class=\"n\">ι</span> <span class=\"bp\">→</span> <span class=\"n\">P</span> <span class=\"bp\">|</span> <span class=\"n\">affine_independent</span> <span class=\"n\">k</span> <span class=\"n\">v</span> <span class=\"bp\">∧</span> <span class=\"n\">affine_span</span> <span class=\"n\">k</span> <span class=\"o\">(</span><span class=\"n\">range</span> <span class=\"n\">v</span><span class=\"o\">)</span> <span class=\"bp\">=</span> <span class=\"bp\">⊤</span> <span class=\"o\">}</span> <span class=\"o\">:=</span>\n<span class=\"kd\">begin</span>\n  <span class=\"n\">obtain</span> <span class=\"o\">⟨</span><span class=\"n\">b</span> <span class=\"o\">:</span> <span class=\"n\">affine_basis</span> <span class=\"n\">ι</span> <span class=\"n\">k</span> <span class=\"n\">P</span><span class=\"o\">⟩</span> <span class=\"o\">:=</span> <span class=\"n\">affine_basis.exists_affine_basis_of_finite_dimensional</span> <span class=\"n\">h</span><span class=\"o\">,</span>\n  <span class=\"n\">simp_rw</span> <span class=\"o\">[</span><span class=\"bp\">←</span> <span class=\"n\">b.is_unit_to_matrix_iff</span><span class=\"o\">,</span> <span class=\"n\">matrix.is_unit_iff_is_unit_det</span><span class=\"o\">,</span> <span class=\"n\">is_unit_iff_ne_zero</span><span class=\"o\">],</span>\n  <span class=\"k\">let</span> <span class=\"n\">f</span> <span class=\"o\">:=</span> <span class=\"n\">matrix.det</span> <span class=\"bp\">∘</span> <span class=\"n\">b.to_matrix</span><span class=\"o\">,</span>\n  <span class=\"k\">have</span> <span class=\"n\">hb</span> <span class=\"o\">:</span> <span class=\"n\">continuous</span> <span class=\"o\">(</span><span class=\"n\">b.to_matrix</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">ι</span> <span class=\"bp\">→</span> <span class=\"n\">P</span><span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"o\">(</span><span class=\"n\">matrix</span> <span class=\"n\">ι</span> <span class=\"n\">ι</span> <span class=\"n\">k</span><span class=\"o\">)),</span> <span class=\"o\">{</span> <span class=\"n\">continuity</span><span class=\"o\">,</span> <span class=\"o\">},</span>\n  <span class=\"k\">have</span> <span class=\"n\">hf</span> <span class=\"o\">:</span> <span class=\"n\">continuous</span> <span class=\"n\">f</span><span class=\"o\">,</span> <span class=\"o\">{</span> <span class=\"n\">exact</span> <span class=\"o\">(</span><span class=\"n\">continuous_det</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">comp</span> <span class=\"n\">hb</span><span class=\"o\">,</span> <span class=\"o\">},</span>\n  <span class=\"n\">change</span> <span class=\"n\">is_open</span> <span class=\"o\">(</span><span class=\"n\">f</span><span class=\"bp\">⁻¹'</span> <span class=\"o\">{</span><span class=\"mi\">0</span><span class=\"o\">}</span><span class=\"bp\">ᶜ</span><span class=\"o\">),</span>\n  <span class=\"n\">apply</span> <span class=\"n\">hf.is_open_preimage</span><span class=\"o\">,</span>\n  <span class=\"n\">simp</span> <span class=\"n\">only</span> <span class=\"o\">[</span><span class=\"n\">is_open_compl_iff</span><span class=\"o\">],</span>\n  <span class=\"n\">exact</span> <span class=\"n\">t1_space.t1</span> <span class=\"mi\">0</span><span class=\"o\">,</span>\n<span class=\"kd\">end</span>\n</code></pre></div>",
        "id": 263861679,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1638802796
    },
    {
        "content": "<p>needs significant tidy up --- I'll keep going.</p>",
        "id": 263861744,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1638802809
    },
    {
        "content": "<p>but hopefully gives the idea</p>",
        "id": 263861844,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1638802831
    },
    {
        "content": "<p>It's great to hear that you have basically proven <code>is_open_affine_independent</code>. Then we can almost mark <code>local_loops</code> as done!</p>",
        "id": 263861934,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1638802872
    },
    {
        "content": "<p>Yep, we're close.</p>",
        "id": 263861955,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1638802887
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"111080\">@Floris van Doorn</span> I edited the snippet and the above is now sorry-free (though still a mess).</p>",
        "id": 263863230,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1638803392
    },
    {
        "content": "<p>OK I've just edited again and the conclusion is now exactly what you wanted, namely <code>is_open { v : ι → P | affine_independent k v }</code>.</p>",
        "id": 263865482,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1638804210
    },
    {
        "content": "<p>I won't have time to polish this up for a day or two so feel free to PR it in my place if you so wish. Otherwise I'll come back to it (most likely on Wednesday).</p>",
        "id": 263865681,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1638804262
    },
    {
        "content": "<p>I love how work on this project magically happen while I'm talking to undergrad students.</p>",
        "id": 263868134,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1638805157
    },
    {
        "content": "<p>Can I complain that this is not the right generality? You shouldn't need that the space is finite-dimensional, nor that the cardinality of iota is the dimension of the space. As we already have the general version for vector spaces (see <a href=\"https://leanprover-community.github.io/mathlib_docs/find/is_open_set_of_linear_independent\">docs#is_open_set_of_linear_independent</a>), I hope the general affine version can be deduced easily from it. Of course, it can not use the determinant trick.</p>",
        "id": 263868915,
        "sender_full_name": "Sebastien Gouezel",
        "timestamp": 1638805512
    },
    {
        "content": "<p>You can of course, make this complaint, especially since I was thinking the same thing as I wrote the above.</p>",
        "id": 263869243,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1638805633
    },
    {
        "content": "<p>I'll make sure the version that lands in Mathlib is stated with appropriate assumptions.</p>",
        "id": 263869321,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1638805667
    },
    {
        "content": "<p>I was not aware of <a href=\"https://leanprover-community.github.io/mathlib_docs/find/is_open_set_of_linear_independent\">docs#is_open_set_of_linear_independent</a> --- this is useful.</p>",
        "id": 263869420,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1638805699
    },
    {
        "content": "<p>What I really mean is: if the affine version is easy to deduce from the linear version we already have, then please do it. Otherwise, don't bother and stay with the finite-dimensional version if it's enough for your needs. No need to overgeneralize if it would only slow you down.</p>",
        "id": 263869651,
        "sender_full_name": "Sebastien Gouezel",
        "timestamp": 1638805798
    },
    {
        "content": "<p>Understood.</p>",
        "id": 263870099,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1638805961
    },
    {
        "content": "<p>I also missed  <a href=\"https://leanprover-community.github.io/mathlib_docs/find/is_open_set_of_linear_independent\">docs#is_open_set_of_linear_independent</a> when I was looking earlier. I think that the reduction is not that hard.</p>",
        "id": 263880931,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1638810006
    },
    {
        "content": "<p>I managed to do the reduction:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">lemma</span> <span class=\"n\">is_open_affine_independent</span> <span class=\"o\">{</span><span class=\"bp\">𝕜</span> <span class=\"n\">E</span> <span class=\"n\">ι</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span> <span class=\"o\">[</span><span class=\"n\">nondiscrete_normed_field</span> <span class=\"bp\">𝕜</span><span class=\"o\">]</span>\n  <span class=\"o\">[</span><span class=\"n\">normed_group</span> <span class=\"n\">E</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"n\">normed_space</span> <span class=\"bp\">𝕜</span> <span class=\"n\">E</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"n\">complete_space</span> <span class=\"bp\">𝕜</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"n\">fintype</span> <span class=\"n\">ι</span><span class=\"o\">]</span> <span class=\"o\">:</span>\n  <span class=\"n\">is_open</span> <span class=\"o\">{</span><span class=\"n\">p</span> <span class=\"o\">:</span> <span class=\"n\">ι</span> <span class=\"bp\">→</span> <span class=\"n\">F</span> <span class=\"bp\">|</span> <span class=\"n\">affine_independent</span> <span class=\"n\">ℝ</span> <span class=\"n\">p</span><span class=\"o\">}</span> <span class=\"o\">:=</span>\n<span class=\"kd\">begin</span>\n  <span class=\"n\">classical</span><span class=\"o\">,</span>\n  <span class=\"n\">cases</span> <span class=\"n\">is_empty_or_nonempty</span> <span class=\"n\">ι</span><span class=\"o\">,</span> <span class=\"o\">{</span> <span class=\"n\">resetI</span><span class=\"o\">,</span> <span class=\"n\">exact</span> <span class=\"n\">is_open_discrete</span> <span class=\"n\">_</span> <span class=\"o\">},</span>\n  <span class=\"n\">obtain</span> <span class=\"o\">⟨</span><span class=\"n\">i₀</span><span class=\"o\">⟩</span> <span class=\"o\">:=</span> <span class=\"n\">h</span><span class=\"o\">,</span>\n  <span class=\"n\">simp_rw</span> <span class=\"o\">[</span><span class=\"n\">affine_independent_iff_linear_independent_vsub</span> <span class=\"n\">ℝ</span> <span class=\"n\">_</span> <span class=\"n\">i₀</span><span class=\"o\">],</span>\n  <span class=\"k\">let</span> <span class=\"n\">ι'</span> <span class=\"o\">:=</span> <span class=\"o\">{</span><span class=\"n\">x</span> <span class=\"bp\">//</span> <span class=\"n\">x</span> <span class=\"bp\">≠</span> <span class=\"n\">i₀</span><span class=\"o\">},</span>\n  <span class=\"n\">haveI</span> <span class=\"o\">:</span> <span class=\"n\">fintype</span> <span class=\"n\">ι'</span> <span class=\"o\">:=</span> <span class=\"n\">subtype.fintype</span> <span class=\"n\">_</span><span class=\"o\">,</span>\n  <span class=\"n\">convert_to</span>\n    <span class=\"n\">is_open</span> <span class=\"o\">((</span><span class=\"bp\">λ</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"o\">:</span> <span class=\"n\">ι</span> <span class=\"bp\">→</span> <span class=\"n\">F</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">i</span> <span class=\"o\">:</span> <span class=\"n\">ι'</span><span class=\"o\">),</span> <span class=\"n\">p</span> <span class=\"n\">i</span> <span class=\"bp\">-ᵥ</span> <span class=\"n\">p</span> <span class=\"n\">i₀</span><span class=\"o\">)</span> <span class=\"bp\">⁻¹'</span> <span class=\"o\">{</span><span class=\"n\">p</span> <span class=\"o\">:</span> <span class=\"n\">ι'</span> <span class=\"bp\">→</span> <span class=\"n\">F</span> <span class=\"bp\">|</span> <span class=\"n\">linear_independent</span> <span class=\"n\">ℝ</span> <span class=\"n\">p</span><span class=\"o\">}),</span>\n  <span class=\"n\">refine</span> <span class=\"n\">is_open.preimage</span> <span class=\"n\">_</span> <span class=\"n\">is_open_set_of_linear_independent</span><span class=\"o\">,</span>\n  <span class=\"n\">refine</span> <span class=\"n\">continuous_pi</span> <span class=\"o\">(</span><span class=\"bp\">λ</span> <span class=\"n\">i'</span><span class=\"o\">,</span> <span class=\"n\">continuous.vsub</span> <span class=\"o\">(</span><span class=\"n\">continuous_apply</span> <span class=\"n\">i'</span><span class=\"o\">)</span> <span class=\"bp\">$</span> <span class=\"n\">continuous_apply</span> <span class=\"n\">i₀</span><span class=\"o\">),</span>\n<span class=\"kd\">end</span>\n</code></pre></div>",
        "id": 263882576,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1638810610
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/sphere-eversion/blueprint/chap-loops.html#lem:local_loops\"><code>local_loops</code></a> is done! I double checked that the only axiom it used is the <code>sorry</code> in <code>smooth_surrounding</code>.</p>",
        "id": 263885116,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1638811635
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"111080\">@Floris van Doorn</span> I should have warned you that I modified the statement of <code>exists_loop</code> slightly (and haven't updated the blueprint yet). The new statement no longer assumes each <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"normal\">Ω</mi><mi>x</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\Omega_x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\">Ω</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> is connected.  The new statement should save some work in total. Also, I don't understand why we still need a <code>exists_loop'</code> now that <code>U</code> is gone.</p>",
        "id": 273705878,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1646166782
    },
    {
        "content": "<p>Oh good point. Now that <code>U</code> is gone, I'll try to put my proof sketch in <code>exists_loop</code>.</p>",
        "id": 273786424,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1646217692
    }
]