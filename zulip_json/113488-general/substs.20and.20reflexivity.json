[
    {
        "content": "<p>It seems like <code>subst</code> solves a reflexive goal but <code>substs</code> does not. If I replace <code>subst p, subst q</code>with <code>substs p q</code>, I have to add <code>refl</code> to solve the goal.</p>\n<p>Looking at the definition of the interactive <code>subst</code>, I can see why:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">meta</span> <span class=\"n\">def</span> <span class=\"n\">subst</span> <span class=\"o\">(</span><span class=\"n\">q</span> <span class=\"o\">:</span> <span class=\"n\">parse</span> <span class=\"n\">texpr</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">tactic</span> <span class=\"n\">unit</span> <span class=\"o\">:=</span>\n<span class=\"n\">i_to_expr</span> <span class=\"n\">q</span> <span class=\"bp\">&gt;&gt;=</span> <span class=\"n\">tactic</span><span class=\"bp\">.</span><span class=\"n\">subst</span> <span class=\"bp\">&gt;&gt;</span> <span class=\"n\">try</span> <span class=\"o\">(</span><span class=\"n\">tactic</span><span class=\"bp\">.</span><span class=\"n\">reflexivity</span> <span class=\"kn\">reducible</span><span class=\"o\">)</span>\n</pre></div>\n\n\n<p>So the documentation on <code>substs</code> is not quite correct:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"c\">/-</span><span class=\"cm\">- Multiple subst. `substs x y z` is the same as `subst x, subst y, subst z`. -/</span>\n<span class=\"n\">meta</span> <span class=\"n\">def</span> <span class=\"n\">substs</span> <span class=\"o\">(</span><span class=\"n\">l</span> <span class=\"o\">:</span> <span class=\"n\">parse</span> <span class=\"n\">ident</span><span class=\"bp\">*</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">tactic</span> <span class=\"n\">unit</span> <span class=\"o\">:=</span>\n<span class=\"n\">l</span><span class=\"bp\">.</span><span class=\"n\">mmap&#39;</span> <span class=\"o\">(</span><span class=\"bp\">Î»</span> <span class=\"n\">h</span><span class=\"o\">,</span> <span class=\"n\">get_local</span> <span class=\"n\">h</span> <span class=\"bp\">&gt;&gt;=</span> <span class=\"n\">tactic</span><span class=\"bp\">.</span><span class=\"n\">subst</span><span class=\"o\">)</span>\n</pre></div>\n\n\n<p>Is it enough to add <code> &gt;&gt; try (tactic.reflexivity reducible)</code> to the end of the <code>substs</code> definition to recoup this feature? Is there any reason why we shouldn't do this?</p>",
        "id": 132442829,
        "sender_full_name": "Sean Leather",
        "timestamp": 1534755019
    }
]