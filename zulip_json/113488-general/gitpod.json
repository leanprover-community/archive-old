[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"112680\">@Johan Commelin</span> mentioned to me <a href=\"https://gitpod.io/\">https://gitpod.io/</a>, and I spent a little while setting it up for mathlib. It seems to work great. The upshot is that you can open mathlib (master, or a branch) in a copy of VSCode running \"in your browser\".</p>\n<p>At the moment the configuration file is only available on <a href=\"https://github.com/leanprover-community/mathlib/tree/gitpod\">branch#gitpod</a>, which you can check out by visiting <a href=\"https://gitpod.io/#https://github.com/leanprover-community/mathlib/tree/gitpod\">https://gitpod.io/#https://github.com/leanprover-community/mathlib/tree/gitpod</a></p>\n<p>(There's also a gitpod chrome extension which adds buttons directly on github.)</p>\n<p>My understanding is that if we merged that branch then you'd be able to open any branch on gitpod.</p>",
        "id": 228142340,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1614531767
    },
    {
        "content": "<p>I had to create new docker layers that install lean and leanproject, but it seems to work fine. I've even managed to convince gitpod to download compiled oleans if available, so it is quite responsive.</p>",
        "id": 228142405,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1614531832
    },
    {
        "content": "<p>You could probably use one of the <code>python</code> gitpod images</p>",
        "id": 228142559,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1614531950
    },
    {
        "content": "<p>That stuff seems to just work: I rolled my own Dockerfile that follows the standard Lean install instructions.</p>",
        "id": 228142651,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1614532028
    },
    {
        "content": "<p>Oh, I guess the <code>-full</code> one already has python</p>",
        "id": 228142657,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1614532031
    },
    {
        "content": "<p>The problem I'm having now is that I can't push back to github from a gitpod editor. I can't work out how to authenticate.</p>",
        "id": 228142670,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1614532055
    },
    {
        "content": "<p>In any case, I better sleep. Hopefully someone will play with it!</p>",
        "id": 228142676,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1614532071
    },
    {
        "content": "<p>Is it that <code>leanproject</code> by default uses ssh?</p>",
        "id": 228142685,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1614532082
    },
    {
        "content": "<p>I'm only using <code>leanproject</code> to collect the oleans.</p>",
        "id": 228142745,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1614532125
    },
    {
        "content": "<p>It's just plain git that is having the problem.</p>",
        "id": 228142749,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1614532132
    },
    {
        "content": "<p>Presumably, given how big a deal they make of github integration, this \"just works\" normally?</p>",
        "id": 228142767,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1614532155
    },
    {
        "content": "<p>Are github codespaces still in closed beta?</p>",
        "id": 228143731,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1614533067
    },
    {
        "content": "<p>Because they're likely even easier to set up than gitpod</p>",
        "id": 228143739,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1614533074
    },
    {
        "content": "<p><a href=\"https://github.com/features/codespaces\">https://github.com/features/codespaces</a></p>",
        "id": 228144078,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1614533359
    },
    {
        "content": "<p>It is still closed (and makes no suggestion it will be free for open source projects after the closed beta).</p>",
        "id": 228159474,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1614549073
    },
    {
        "content": "<p>Check out things like:<br>\n<a href=\"https://gitpod.io/#https://github.com/leanprover-community/mathlib/blob/gitpod/src/combinatorics/pigeonhole.lean\">https://gitpod.io/#https://github.com/leanprover-community/mathlib/blob/gitpod/src/combinatorics/pigeonhole.lean</a></p>\n<p>Loading a file from a particular branch, and although gitpod does not load instantly, when it does the yellow bars disappear instantly!</p>",
        "id": 228159533,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1614549134
    },
    {
        "content": "<p>Anyone available to try out \"shared workspaces\"? Ping me and visit <a href=\"https://crimson-pig-qoopfdpx.ws-us03.gitpod.io/\">https://crimson-pig-qoopfdpx.ws-us03.gitpod.io/</a>.</p>",
        "id": 228159623,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1614549267
    },
    {
        "content": "<p>The infoview and underlining on errors / warnings doesn't seem to work for me, but everything else seems to.</p>",
        "id": 228159651,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1614549314
    },
    {
        "content": "<p>Ah, there's a suspicious console error:</p>\n<div class=\"codehilite\" data-code-language=\"Text only\"><pre><span></span><code> Loading failed for the &lt;script&gt; with source “http://127.0.0.1:37485/gckj5j3cdxq//tmp/vscode-extensions/jroesch.lean@0.16.24/extension/media/index.js”.\n</code></pre></div>\n<p>I guess the extension is using localhost for something and that's not allowed?</p>",
        "id": 228160108,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1614549778
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/T5RXShbKQmQ470ns_J8DkF0J/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/T5RXShbKQmQ470ns_J8DkF0J/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/T5RXShbKQmQ470ns_J8DkF0J/image.png\"></a></div>",
        "id": 228160223,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1614549883
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110087\">@Scott Morrison</span> do you still need someone to try out a shared workspace? This looks really cool!</p>",
        "id": 228161347,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1614551062
    },
    {
        "content": "<p>Sorry, the shared one seems broken to me to.</p>",
        "id": 228161358,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1614551091
    },
    {
        "content": "<p>Oh, I'm getting the same error as Yakov's screeshot</p>",
        "id": 228161398,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1614551149
    },
    {
        "content": "<p>I closed the shared session.</p>",
        "id": 228161469,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1614551190
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"123965\">Bryan Gin-ge Chen</span> <a href=\"#narrow/stream/113488-general/topic/gitpod/near/228159651\">said</a>:</p>\n<blockquote>\n<p>The infoview and underlining on errors / warnings doesn't seem to work for me, but everything else seems to.</p>\n</blockquote>\n<p>Ok I went down the debugging rabbit hole <span aria-label=\"rabbit\" class=\"emoji emoji-1f407\" role=\"img\" title=\"rabbit\">:rabbit:</span> <br>\nvscode-lean uses a static server to serve the info view to work around a bug in vscode versions &lt; 1.47 <a href=\"https://github.com/leanprover/vscode-lean/blob/master/src/infoview.ts#L353\">https://github.com/leanprover/vscode-lean/blob/master/src/infoview.ts#L353</a> .<br>\nThe check if this is necessary is here <a href=\"https://github.com/leanprover/vscode-lean/blob/master/src/extension.ts#L119\">https://github.com/leanprover/vscode-lean/blob/master/src/extension.ts#L119</a> by checking the vscode version number.<br>\nTheia / gitpod seems to override this version number at <a href=\"https://github.com/eclipse-theia/theia/blob/ef9d9eed2b2e9400c22097b1ab2c026f77e6d748/packages/plugin-ext-vscode/src/node/plugin-vscode-init.ts#L55\">https://github.com/eclipse-theia/theia/blob/ef9d9eed2b2e9400c22097b1ab2c026f77e6d748/packages/plugin-ext-vscode/src/node/plugin-vscode-init.ts#L55</a> .<br>\nI can't find what the gitpod default is right now, but simply setting the right environment variable in the docker file to override this gets the extension to use webviews instead of the static server and it loads, go to definition even works!<br>\nI made this change on <a href=\"https://github.com/leanprover-community/mathlib/tree/gitpod-alex\">branch#gitpod-alex</a> so you can try it at:<br>\n<a href=\"https://gitpod.io/#https://github.com/leanprover-community/mathlib/tree/gitpod-alex\">https://gitpod.io/#https://github.com/leanprover-community/mathlib/tree/gitpod-alex</a></p>",
        "id": 228173022,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1614564472
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110087\">@Scott Morrison</span> this is really really amazing, I've dreamt of being able to step through code in PRs in lean without having to checkout the branch on my computer for ages, I'd never have thought that running a full vscode lookalike in the browser via docker would work though!</p>",
        "id": 228173135,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1614564594
    },
    {
        "content": "<p>Fantastic!</p>",
        "id": 228174387,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1614565974
    },
    {
        "content": "<p>I worked out how to push (sorry, I pushed a trivial commit to your branch and then reverted it).</p>",
        "id": 228174415,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1614565992
    },
    {
        "content": "<p>I had to visit <a href=\"https://gitpod.io/access-control/\">https://gitpod.io/access-control/</a> and select \"read/write private repos\", and then once I was at the github authorization page, grant access for the leanprover-community organization.</p>",
        "id": 228174436,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1614566026
    },
    {
        "content": "<p>It's annoying this isn't obvious/automatic.</p>",
        "id": 228174491,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1614566054
    },
    {
        "content": "<p>I wonder if we should turn <a href=\"https://github.com/leanprover-community/mathlib/tree/gitpod-alex\">branch#gitpod-alex</a> into a PR, so this is available on all branches.</p>",
        "id": 228174498,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1614566076
    },
    {
        "content": "<p>That seems like a good idea to me, unless there are some potential downsides I'm missing. After the PR is merged, we should also add some instructions on how to use gitpod to the community website.</p>",
        "id": 228174754,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1614566375
    },
    {
        "content": "<p>I think the only downside is maintaining the two new files <code>.gitpod.yaml</code> and <code>.gitpod.dockerfile</code>. Perhaps the yaml will need an update whenever the VSCode extension gets a new version.</p>",
        "id": 228174916,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1614566540
    },
    {
        "content": "<p>It is not currently particularly fast to load. When I told it use <code>leanproject</code> to download oleans, I think I did this in an \"init\" step that delays the start of the session. Perhaps we could run this asynchronously instead, so the editor appears faster. (But potentially without oleans...)</p>",
        "id": 228174952,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1614566621
    },
    {
        "content": "<p>Hopefully we can also work out a trick to load a random chunk of text as a new file, just like the current web version.</p>",
        "id": 228175024,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1614566694
    },
    {
        "content": "<p>You would still need to ensure it downloads the oleans before the extension starts lean I guess? I'd rather wait a little than get yellow bars and have to remember to restart the server, put it that way.</p>",
        "id": 228175060,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1614566747
    },
    {
        "content": "<p>For the random chunk of text, maybe we could set up a skeleton \"playground\" repo depending on mathlib with an empty file to edit?</p>",
        "id": 228175167,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1614566881
    },
    {
        "content": "<p>And while there are possibly some kinks to iron out still, I'd definitely vote for adding a link to the corresponding gitpod page to the PR template at some point for visibility.</p>",
        "id": 228175215,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1614566909
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Scott Morrison</span> <a href=\"#narrow/stream/113488-general/topic/gitpod/near/228174952\">said</a>:</p>\n<blockquote>\n<p>It is not currently particularly fast to load. When I told it use <code>leanproject</code> to download oleans, I think I did this in an \"init\" step that delays the start of the session. Perhaps we could run this asynchronously instead, so the editor appears faster. (But potentially without oleans...)</p>\n</blockquote>\n<p>I think they have a screencast on how to have prebuilt pods... that way loading everything should be \"instant\" (&lt; 5 seconds)?</p>",
        "id": 228185400,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1614578314
    },
    {
        "content": "<p>That would still be less time than grabbing a terminal, asking leanproject to clone the branch, download oleans, and open the branch in VScode locally.</p>",
        "id": 228185421,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1614578352
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110087\">@Scott Morrison</span> <span class=\"user-mention\" data-user-id=\"127136\">@Alex J. Best</span> thanks so much for looking into this!</p>",
        "id": 228185428,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1614578365
    },
    {
        "content": "<p>I think this is as prebuilt as possible. There's a <code>Dockerfile</code> which has already installed <code>lean</code> and <code>leanproject</code> once and for all.</p>",
        "id": 228185504,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1614578417
    },
    {
        "content": "<p>I'm pretty sure the remaining time is for them to boot the static image (nothing we can improve there), and to fetch the olean files from azure.</p>",
        "id": 228185524,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1614578450
    },
    {
        "content": "<p>I was thinking of this <a href=\"https://www.youtube.com/watch?v=KR8ESjGYsXI\">https://www.youtube.com/watch?v=KR8ESjGYsXI</a></p>\n<div class=\"youtube-video message_inline_image\"><a data-id=\"KR8ESjGYsXI\" href=\"https://www.youtube.com/watch?v=KR8ESjGYsXI\"><img src=\"https://i.ytimg.com/vi/KR8ESjGYsXI/default.jpg\"></a></div>",
        "id": 228185528,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1614578458
    },
    {
        "content": "<p>I see!</p>",
        "id": 228185560,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1614578491
    },
    {
        "content": "<p>It might be possible to do the \"fetch the oleans\" step prior to the moment that the user wants to boot the image</p>",
        "id": 228185562,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1614578499
    },
    {
        "content": "<p>I haven't watched, but I agree.</p>",
        "id": 228185563,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1614578504
    },
    {
        "content": "<p>Hopefully we could even trigger it from our CI, once the oleans are ready.</p>",
        "id": 228185567,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1614578515
    },
    {
        "content": "<p>But I think all this sort of optimisation should wait. It's pretty usable already.</p>",
        "id": 228185622,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1614578533
    },
    {
        "content": "<p>Yes, because there is no good in having gitpod fetch oleans 5 seconds after a PR is opened.</p>",
        "id": 228185638,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1614578547
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"127136\">@Alex J. Best</span>, it occurs to me that the symptoms that you fixed were perhaps similar to the problems we were seeing with shared sessions in VSCode. I wonder if the underlying issue and fix are the same.</p>",
        "id": 228185694,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1614578598
    },
    {
        "content": "<p>Oooh, that would be a pretty awesome side effect!</p>",
        "id": 228185905,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1614578794
    },
    {
        "content": "<p>If we put the docker config in a new repo, then it would be possible to use github to publish a built docker image, and use it from things like lean-liquid too</p>",
        "id": 228187415,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1614580386
    },
    {
        "content": "<p>My understanding of gitpod is that the customisable docker image that the end user can create does not actually contain the VSCode magic --- it's just all the command line level stuff. After you point <code>.gitpod.yaml</code> at a particular docker image they still layer their secret sauce on top.</p>",
        "id": 228190958,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1614584042
    },
    {
        "content": "<p>Right, but it contains the elan /python faff that downstream projects might want to reuse</p>",
        "id": 228191064,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1614584128
    },
    {
        "content": "<p>And I think the same image could be used by both codespaces and gitpod, although I now buy the argument that the latter is better anyway</p>",
        "id": 228191153,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1614584211
    },
    {
        "content": "<p>It looks like enabling prebuilds is easy, and described at <a href=\"https://www.gitpod.io/docs/prebuilds/\">https://www.gitpod.io/docs/prebuilds/</a>.</p>\n<p>We go to <a href=\"https://github.com/apps/gitpod-io\">https://github.com/apps/gitpod-io</a> to turn on a switch. I think we would want to turn off automatic prebuilds of branchs and PRs, because there is no point allowing gitpod to start building until our CI that produces oleans has finished. So we would add a step in CI that pings a URL in the format <a href=\"https://gitpod.io/#prebuild/https://github.com/leanprover-community/mathlib/pull/6497/commits/73231b81d28e47d9077efe9abab0a354b556601a\">https://gitpod.io/#prebuild/https://github.com/leanprover-community/mathlib/pull/6497/commits/73231b81d28e47d9077efe9abab0a354b556601a</a> once oleans are ready.</p>",
        "id": 228326606,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1614641865
    },
    {
        "content": "<p>Although I think we probably shouldn't bother doing this at first. No need to add needless load to their servers while we're deciding if we like it.</p>",
        "id": 228326823,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1614641942
    },
    {
        "content": "<p>I guess the prebuild will be built using the credit associated to the leanprover-community account? Whereas individuals loading a workspace only use their own credits (this looks to be 50h per month, 100h upgrade free for people with github education)?</p>",
        "id": 228330834,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1614643898
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110087\">@Scott Morrison</span> do you have any idea how hard it would be to add gitpod support to external projects importing mathlib, e.g. lean-liquid? Given that the <a href=\"https://github.com/leanprover-community/mathlib/issues/6515\">#6515</a> will push docker containers which already contain lean and mathlib, is it as simple as having a <code>.docker/blah/Dockerfile</code> that is <code>FROM leanprover-community/mathlib</code> and fetches oleans for the project, or something like that?<br>\nPS: I tried out the PR the other day from an ipad and it worked great, I never though I'd be able to do lean from such a locked down device, its really cool!</p>",
        "id": 229394249,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1615245547
    },
    {
        "content": "<p>I think this is the case, but haven't tested it yet. Hopefully you should just need <code>FROM leanprovercommunity/mathlib:gitpod</code>.</p>",
        "id": 229405159,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1615252192
    },
    {
        "content": "<p>In fact, there should not be any need to have your own <code>Dockerfile</code>: you can directly use the image <code>leanprovercommunity/mathlib:gitpod</code> by creating a <code>.gitpod.yml</code> in the home directory of the other project, containing:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">image</span><span class=\"o\">:</span> <span class=\"n\">leanprovercommunity</span><span class=\"bp\">/</span><span class=\"n\">mathlib</span><span class=\"o\">:</span><span class=\"n\">gitpod</span>\n\n<span class=\"n\">vscode</span><span class=\"o\">:</span>\n  <span class=\"n\">extensions</span><span class=\"o\">:</span>\n    <span class=\"bp\">-</span> <span class=\"n\">jroesch.lean</span>\n\n<span class=\"n\">tasks</span><span class=\"o\">:</span>\n  <span class=\"bp\">-</span> <span class=\"n\">command</span><span class=\"o\">:</span> <span class=\"bp\">.</span> <span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">gitpod</span><span class=\"bp\">/.</span><span class=\"n\">profile</span> <span class=\"bp\">&amp;&amp;</span> <span class=\"n\">leanproject</span> <span class=\"n\">get</span><span class=\"bp\">-</span><span class=\"n\">mathlib</span><span class=\"bp\">-</span><span class=\"n\">cache</span>\n</code></pre></div>",
        "id": 229405371,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1615252317
    },
    {
        "content": "<p>Someone should try it out!</p>",
        "id": 229405446,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1615252346
    },
    {
        "content": "<p>If it works, we should add this to the <code>.docker/README.md</code> in <a href=\"https://github.com/leanprover-community/mathlib/issues/6515\">#6515</a>.</p>",
        "id": 229405465,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1615252372
    },
    {
        "content": "<p>Yup, this \"just works\": <a href=\"https://gitpod.io/#github.com/leanprover-community/lean-liquid/\">https://gitpod.io/#github.com/leanprover-community/lean-liquid/</a></p>",
        "id": 229407314,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1615253644
    },
    {
        "content": "<p>And I've added instructions to <a href=\"https://github.com/leanprover-community/mathlib/issues/6515\">#6515</a>.</p>",
        "id": 229407457,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1615253761
    },
    {
        "content": "<p>(<code>lean-liquid</code> is getting big enough now that it took a few minutes to actually compile in gitpod. Another reason for PRing as much as possible back into mathlib!)</p>",
        "id": 229407881,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1615254111
    },
    {
        "content": "<p>Not sure if it's just a temporary thing or if it's just me, but the vscode-lean extension doesn't seem to get installed anymore when using <a href=\"https://gitpod.io/#https://github.com/leanprover-community/mathlib/tree/docker\">https://gitpod.io/#https://github.com/leanprover-community/mathlib/tree/docker</a> or the lean-liquid gitpod link above. When I try installing it from open VSX it also doesn't seem to do anything. Everything worked yesterday with the lean-liquid gitpod, and I can't think of anything that changed that could have affected this.</p>",
        "id": 229453345,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1615285162
    },
    {
        "content": "<p>I'm seeing the same.</p>",
        "id": 229455877,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1615286402
    },
    {
        "content": "<p>I just tried installing from the extensions tab in gitpod. It acts like it works, but nothing has changed by the end of the process.</p>",
        "id": 229456086,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1615286511
    },
    {
        "content": "<p>Hmm, after trying a second time it worked.</p>",
        "id": 229456307,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1615286634
    },
    {
        "content": "<p>And now everything is working \"out of the box\" again, with a fresh gitpod VM. Perhaps just a transient issue?</p>",
        "id": 229456560,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1615286741
    },
    {
        "content": "<p>I'm seeing the same thing, could it be <a href=\"https://github.com/leanprover/vscode-lean/commit/e5196ea7d0a29dcd2186e62ddeefdfb63df310ed\">https://github.com/leanprover/vscode-lean/commit/e5196ea7d0a29dcd2186e62ddeefdfb63df310ed</a> ?</p>",
        "id": 229743443,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1615410013
    },
    {
        "content": "<p>The gitpod link to the docker branch is working for me right now.</p>",
        "id": 229743806,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1615410121
    },
    {
        "content": "<p>Weird its working again for me too, but it wasnt the last 5 times I tried</p>",
        "id": 229744070,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1615410190
    },
    {
        "content": "<p>It might just be very flaky <span aria-label=\"sad\" class=\"emoji emoji-2639\" role=\"img\" title=\"sad\">:sad:</span></p>",
        "id": 229744157,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1615410230
    },
    {
        "content": "<p>gtsiolis from gitpod just posted a comment <a href=\"https://github.com/leanprover-community/mathlib/pull/6515#issuecomment-824680946\">on the merged PR</a>:</p>\n<blockquote>\n<p>Great to see this PR getting merged! Let us know if run into any issues with Gitpod. Feel free to reach out in the communty forum or the issue tracker. <span aria-label=\"umm\" class=\"emoji emoji-1f4ac\" role=\"img\" title=\"umm\">:umm:</span></p>\n<p>In case you've missed these:</p>\n<ul>\n<li>We recently switched the default editor (IDE) to VS Code, see relevant product roadmap item.</li>\n<li>We're also working on adding access to the remote dev environments through local VS code, see relevant PR and relevant product roadmap item. <span aria-label=\"map\" class=\"emoji emoji-1f5fa\" role=\"img\" title=\"map\">:map:</span>️</li>\n</ul>\n<p>Thanks for adding this @semorrison! <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span></p>\n</blockquote>",
        "id": 235646654,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1619084025
    },
    {
        "content": "<p>I had a lot of trouble with gitpod recently because my default editor was still stuck on the old non-vscode version - it seems the changed default might only apply to new users, and old users have to go change their settings to get the new default</p>",
        "id": 235657766,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1619090023
    },
    {
        "content": "<p>(The non-vscode editor doesn't seem to work with the lean extension any more)</p>",
        "id": 235657839,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1619090049
    },
    {
        "content": "<p>But after fixing that, everything works great and I regularly use it to try out PR suggestions</p>",
        "id": 235657871,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1619090067
    },
    {
        "content": "<p>so computer novices like me can now start to use gitpod?</p>",
        "id": 235663959,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1619093086
    },
    {
        "content": "<p>gitpod seemed really user-friendly to me after first trying it! just click the button on the PR and you get VSCode open with mathlib</p>",
        "id": 235664059,
        "sender_full_name": "Eric Rodriguez",
        "timestamp": 1619093133
    },
    {
        "content": "<p>didn't know it was advanced before</p>",
        "id": 235664167,
        "sender_full_name": "Eric Rodriguez",
        "timestamp": 1619093166
    },
    {
        "content": "<p>Until recently it wasn't working out of the box --- the VS Code extension for Lean was meant to be installed, but it seemed most of the time it mysteriously wasn't there.</p>",
        "id": 235664906,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1619093476
    },
    {
        "content": "<p>Now (mysteriously? :-) it is there, so yes, <span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span> should try it out. :-)</p>",
        "id": 235664931,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1619093495
    },
    {
        "content": "<p>Gitpod has been an absolute blessing for our Lean 4 course, with virtually no issues so far. Only too bad they activated VS Code by default just a few days after we told our students how to do so manually, haha.</p>",
        "id": 235665123,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1619093578
    },
    {
        "content": "<p>It still doesn't work for me :-( I click on the gitpod link on a PR and I just get the error \"Oh, no! Something went wrong!\" and \"<code>NotFoundError</code>; Learn more about supported context URLs\". I had just assumed it wasn't working yet.</p>",
        "id": 235665336,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1619093664
    },
    {
        "content": "<p>I get sent to this link which is not something I'm prepared to read <a href=\"https://www.gitpod.io/docs/context-urls\">https://www.gitpod.io/docs/context-urls</a></p>",
        "id": 235665379,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1619093691
    },
    {
        "content": "<p>My day has already been derailed once by having to learn gimp instead of working on lean-liquid :-)</p>",
        "id": 235665438,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1619093725
    },
    {
        "content": "<p>Just to be clear -- I'm clicking on the \"open in Gitpod\" link near the top of this URL <a href=\"https://github.com/leanprover-community/mathlib/pull/7322\">https://github.com/leanprover-community/mathlib/pull/7322</a> , and the URL it's taking me to is <code>https://gitpod.io/#https://github.com/</code></p>",
        "id": 235665756,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1619093862
    },
    {
        "content": "<p>In what browser / OS?</p>",
        "id": 235665830,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1619093887
    },
    {
        "content": "<p>I've read that the <code>from-referrer</code> links are blocked by some browser settings</p>",
        "id": 235665852,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1619093901
    },
    {
        "content": "<p>They rely on <code>gitpod</code> being able to ask \"what github page did you come from\"</p>",
        "id": 235665877,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1619093916
    },
    {
        "content": "<p>And many privacy controls say \"I won't tell you that, you're only allowed to know I came from github, not the specific page\"</p>",
        "id": 235665925,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1619093943
    },
    {
        "content": "<p>Firefox on Ubuntu.</p>",
        "id": 235665937,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1619093947
    },
    {
        "content": "<p>yep, trims referrers: <a href=\"https://blog.mozilla.org/security/2021/03/22/firefox-87-trims-http-referrers-by-default-to-protect-user-privacy/\">https://blog.mozilla.org/security/2021/03/22/firefox-87-trims-http-referrers-by-default-to-protect-user-privacy/</a></p>",
        "id": 235665989,
        "sender_full_name": "Eric Rodriguez",
        "timestamp": 1619093971
    },
    {
        "content": "<p>that's the first time i've seen the referrer stuff not used to track you everywhere though, wow</p>",
        "id": 235666083,
        "sender_full_name": "Eric Rodriguez",
        "timestamp": 1619094007
    },
    {
        "content": "<p>Indeed I'm on 87. Can I fix this? I don't really want to switch to Chrome.</p>",
        "id": 235666093,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1619094014
    },
    {
        "content": "<p>Nice find, I added a comment with that link to <a href=\"https://github.com/gitpod-io/gitpod/issues/688\">https://github.com/gitpod-io/gitpod/issues/688</a></p>",
        "id": 235666230,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1619094070
    },
    {
        "content": "<p>for the mo, may be worth hard-writing the gitpod links because these updates seem to be happening everywhere</p>",
        "id": 235666448,
        "sender_full_name": "Eric Rodriguez",
        "timestamp": 1619094135
    },
    {
        "content": "<p>Seems fixable: <a href=\"https://privacyinternational.org/guide-step/4148/change-http-referer-settings-firefox\">https://privacyinternational.org/guide-step/4148/change-http-referer-settings-firefox</a></p>",
        "id": 235666468,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1619094146
    },
    {
        "content": "<p>all browser vendors are caring about privacy now sadly (or in the case of google, pretending to care)</p>",
        "id": 235666485,
        "sender_full_name": "Eric Rodriguez",
        "timestamp": 1619094154
    },
    {
        "content": "<p>The long-term solution here is to pressure github to add a header say \"I am fine with this URL being shared\"</p>",
        "id": 235666526,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1619094170
    },
    {
        "content": "<p>If github sent <code>Referrer-Policy: no-referrer-when-downgrade</code> in their HTTP headers, then they would be opting into allowing gitpod (and other arbitrary sites) to read the referrer</p>",
        "id": 235666716,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1619094248
    },
    {
        "content": "<p>I'm quite happy not to be tracked in general. Is there no way I can switch this off on a per-site basis or something? I'm not even sure what I get at the end of this -- is this just \"the same as\" <code>git checkout [branch I want to review]</code> + <code>leanproject get-cache</code>?</p>",
        "id": 235666773,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1619094272
    },
    {
        "content": "<p>(also, fun fact: \"referer\" is a mispelling that is now part of the HTTP standard)</p>",
        "id": 235666781,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1619094275
    },
    {
        "content": "<p>as far as I can tell yes Kevin</p>",
        "id": 235666892,
        "sender_full_name": "Eric Rodriguez",
        "timestamp": 1619094318
    },
    {
        "content": "<p>(as in git-command-wise, I don't think firefox will let you change the ref settings per-site)</p>",
        "id": 235666997,
        "sender_full_name": "Eric Rodriguez",
        "timestamp": 1619094343
    },
    {
        "content": "<p>There's a bookmarklet here: <a href=\"https://github.com/Carbon-Monoxide/GitPod-Bookmarklet\">https://github.com/Carbon-Monoxide/GitPod-Bookmarklet</a></p>",
        "id": 235667007,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1619094346
    },
    {
        "content": "<p>So you could add that to your bookmark bar isntead of using the button in the PR text</p>",
        "id": 235667072,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1619094362
    },
    {
        "content": "<p>Or literally just paste <code>https://gitpod.io/#</code> at the start of the PR url by hand</p>",
        "id": 235667148,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1619094389
    },
    {
        "content": "<p>Progress! I have a bouncing G which has now taken about as long as the git commands would have done. ooh and now I get some errors:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code> <span class=\"n\">HISTFILE</span><span class=\"bp\">=/</span><span class=\"n\">workspace</span><span class=\"bp\">/.</span><span class=\"n\">gitpod</span><span class=\"bp\">/</span><span class=\"n\">cmd</span><span class=\"bp\">-</span><span class=\"mi\">0</span> <span class=\"n\">history</span> <span class=\"bp\">-</span><span class=\"n\">r</span><span class=\"bp\">;</span> <span class=\"o\">{</span>\n<span class=\"bp\">.</span> <span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">gitpod</span><span class=\"bp\">/.</span><span class=\"n\">profile</span> <span class=\"bp\">&amp;&amp;</span> <span class=\"n\">leanproject</span> <span class=\"n\">get</span><span class=\"bp\">-</span><span class=\"n\">mathlib</span><span class=\"bp\">-</span><span class=\"n\">cache</span>\n<span class=\"o\">}</span>\n<span class=\"n\">ls</span><span class=\"o\">:</span> <span class=\"n\">cannot</span> <span class=\"n\">access</span> <span class=\"bp\">'/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">gitpod</span><span class=\"bp\">/.</span><span class=\"n\">bashrc.d</span><span class=\"bp\">/*'</span><span class=\"o\">:</span> <span class=\"n\">No</span> <span class=\"n\">such</span> <span class=\"n\">file</span> <span class=\"n\">or</span> <span class=\"n\">directory</span>\n<span class=\"n\">gitpod</span> <span class=\"bp\">/</span><span class=\"n\">workspace</span><span class=\"bp\">/</span><span class=\"n\">mathlib</span> <span class=\"bp\">$</span>  <span class=\"n\">HISTFILE</span><span class=\"bp\">=/</span><span class=\"n\">workspace</span><span class=\"bp\">/.</span><span class=\"n\">gitpod</span><span class=\"bp\">/</span><span class=\"n\">cmd</span><span class=\"bp\">-</span><span class=\"mi\">0</span> <span class=\"n\">history</span> <span class=\"bp\">-</span><span class=\"n\">r</span><span class=\"bp\">;</span> <span class=\"o\">{</span>\n<span class=\"bp\">&gt;</span> <span class=\"bp\">.</span> <span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">gitpod</span><span class=\"bp\">/.</span><span class=\"n\">profile</span> <span class=\"bp\">&amp;&amp;</span> <span class=\"n\">leanproject</span> <span class=\"n\">get</span><span class=\"bp\">-</span><span class=\"n\">mathlib</span><span class=\"bp\">-</span><span class=\"n\">cache</span>\n<span class=\"bp\">&gt;</span> <span class=\"o\">}</span>\n<span class=\"n\">ls</span><span class=\"o\">:</span> <span class=\"n\">cannot</span> <span class=\"n\">access</span> <span class=\"bp\">'/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">gitpod</span><span class=\"bp\">/.</span><span class=\"n\">bashrc.d</span><span class=\"bp\">/*'</span><span class=\"o\">:</span> <span class=\"n\">No</span> <span class=\"n\">such</span> <span class=\"n\">file</span> <span class=\"n\">or</span> <span class=\"n\">directory</span>\n<span class=\"n\">Looking</span> <span class=\"n\">for</span> <span class=\"kn\">local</span> <span class=\"n\">mathlib</span> <span class=\"n\">oleans</span>\n<span class=\"n\">Looking</span> <span class=\"n\">for</span> <span class=\"n\">remote</span> <span class=\"n\">mathlib</span> <span class=\"n\">oleans</span>\n<span class=\"n\">Trying</span> <span class=\"n\">to</span> <span class=\"n\">download</span> <span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">oleanstorage.azureedge.net</span><span class=\"bp\">/</span><span class=\"n\">mathlib</span><span class=\"bp\">/</span><span class=\"n\">e1f0dff356f716f0d9c71abd4e9a86ade444d59d.tar.xz</span> <span class=\"n\">to</span> <span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">gitpod</span><span class=\"bp\">/.</span><span class=\"n\">mathlib</span><span class=\"bp\">/</span><span class=\"n\">e1f0dff356f716f0d9c71abd4e9a86ade444d59d.tar.xz</span>\n<span class=\"mi\">100</span><span class=\"bp\">%</span> <span class=\"mi\">40</span><span class=\"bp\">.</span><span class=\"mi\">9</span><span class=\"n\">M</span><span class=\"bp\">/</span><span class=\"mi\">40</span><span class=\"bp\">.</span><span class=\"mi\">9</span><span class=\"n\">M</span> <span class=\"o\">[</span><span class=\"mi\">00</span><span class=\"o\">:</span><span class=\"mi\">01</span><span class=\"bp\">&lt;</span><span class=\"mi\">00</span><span class=\"o\">:</span><span class=\"mi\">00</span><span class=\"o\">,</span> <span class=\"mi\">36</span><span class=\"bp\">.</span><span class=\"mi\">5</span><span class=\"n\">MiB</span><span class=\"bp\">/</span><span class=\"n\">s</span><span class=\"o\">]</span>\n<span class=\"n\">Found</span> <span class=\"n\">mathlib</span> <span class=\"n\">oleans</span> <span class=\"n\">at</span> <span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">oleanstorage.azureedge.net</span><span class=\"bp\">/</span><span class=\"n\">mathlib</span><span class=\"bp\">/</span>\n<span class=\"n\">gitpod</span> <span class=\"bp\">/</span><span class=\"n\">workspace</span><span class=\"bp\">/</span><span class=\"n\">mathlib</span> <span class=\"bp\">$</span>\n</code></pre></div>",
        "id": 235667763,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1619094615
    },
    {
        "content": "<p>I think the errors are just noise</p>",
        "id": 235667954,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1619094672
    },
    {
        "content": "<p>Which obviously would be nice to fix, but shouldn't get in your way</p>",
        "id": 235668031,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1619094701
    },
    {
        "content": "<p>I'm on Firefox 88 and it seems to work for me with no changes</p>",
        "id": 235668040,
        "sender_full_name": "Julian Berman",
        "timestamp": 1619094705
    },
    {
        "content": "<p>For chrome at least there is an official gitpod plugin / add on that adds a gitpod button in a way that blends in with githubs ui.</p>",
        "id": 235714217,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1619111505
    },
    {
        "content": "<p>A cautionary tale on relying on gitpod too much:</p>\n<p><a href=\"/user_uploads/3121/GTkYJ2XxHGjyZLtivbWFo9SJ/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/GTkYJ2XxHGjyZLtivbWFo9SJ/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/GTkYJ2XxHGjyZLtivbWFo9SJ/image.png\"></a></div>",
        "id": 239237021,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1621337434
    },
    {
        "content": "<p>Oh capitalism...</p>",
        "id": 239249819,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1621343200
    },
    {
        "content": "<p>There are unlimited student accounts for €8/month.</p>",
        "id": 239251831,
        "sender_full_name": "Gabriel Ebner",
        "timestamp": 1621343994
    },
    {
        "content": "<p>Indeed, and github gives me a 6 month trial. It's handy for PR reviews but I'm not going to pay for that convenience.</p>",
        "id": 239252785,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1621344308
    },
    {
        "content": "<p>You could also try to apply for a \"professional open source plan\", which is €0/month. <a href=\"https://www.gitpod.io/docs/professional-open-source\">https://www.gitpod.io/docs/professional-open-source</a></p>",
        "id": 239253627,
        "sender_full_name": "Gabriel Ebner",
        "timestamp": 1621344619
    },
    {
        "content": "<p>Ideal, thanks - I just applied</p>",
        "id": 239272859,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1621351474
    },
    {
        "content": "<p>If a VSCode plugin isn't showing up in Gitpod, you may want to check that the \"Default IDE\" under <a href=\"https://gitpod.io/preferences\">preferences</a> is \"VS Code\" and not \"Theia\".   I just ran into that issue with another plugin.</p>",
        "id": 239332416,
        "sender_full_name": "Joe Hendrix",
        "timestamp": 1621375178
    },
    {
        "content": "<p>I'm finding that gitpod is once again no longer loading the lean extension - is it working for anyone else?</p>",
        "id": 243788088,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1624542486
    },
    {
        "content": "<p>Oh, here's why: <a href=\"https://open-vsx.org/\">https://open-vsx.org/</a></p>",
        "id": 243788238,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1624542555
    },
    {
        "content": "<blockquote>\n<p>Oops, something went wrong and we're completely broken down.</p>\n</blockquote>",
        "id": 243788289,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1624542566
    },
    {
        "content": "<p>can someone else check if gitpod currently works for them? for me, whenever I load anything, it doesn't have a leanpkg.path, and when I make it and restart the lean server, the infoview just stays blank</p>",
        "id": 258880476,
        "sender_full_name": "Eric Rodriguez",
        "timestamp": 1635084453
    },
    {
        "content": "<p>You have to run <code>leanpkg configure</code> manually</p>",
        "id": 258883189,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1635088550
    },
    {
        "content": "<p>Although the UI provides a button to do that which should work</p>",
        "id": 258883202,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1635088562
    },
    {
        "content": "<p>I've had to do the leanpkg configure and then restart the lean server thing every time I've used it for the past month at least. I'm not sure why though, we never used to have to do it?</p>",
        "id": 258883242,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1635088610
    },
    {
        "content": "<p>depending on how you look at it, this is either a regression in <code>leanproject</code>, or a bug in the gitpod setup; is it <code>leanproject get-cache</code>s job to configure the path?</p>",
        "id": 258883249,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1635088626
    },
    {
        "content": "<p>(the regression was partly accidental by me, because the comment around the internal call to <code>configure</code> was written incorrectly in a way that suggested it was no longer relevant after the other changes)</p>",
        "id": 258883302,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1635088687
    },
    {
        "content": "<p>Yeah i guess I'd err on the side of adding leanpkg configure to the gitpod script, or maybe to the docker image itself?</p>",
        "id": 258883536,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1635089072
    },
    {
        "content": "<p>The issue isn't that (well not majorly), it's that afterwards for me the info view is non functional (it shows as an empty window). That may just be the computer, though, which is why Iask.</p>",
        "id": 258884149,
        "sender_full_name": "Eric Rodriguez",
        "timestamp": 1635090079
    },
    {
        "content": "<p>I guess the questions is; what's the expected flow for someone who runs <code>git clone</code>; whose job is it to run <code>leanpkg configure</code>? If someone doesn't depend on mathlib, then <code>leanproject get-cache</code> doesn't make sense for them anyway</p>",
        "id": 258884898,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1635091095
    },
    {
        "content": "<p>If you run <code>git clone</code> instead of <code>leanproject get</code> then of course there is no guarantee things will work.</p>",
        "id": 258885862,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1635092331
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/stream/113488-general/topic/gitpod/near/258884898\">said</a>:</p>\n<blockquote>\n<p>If someone doesn't depend on mathlib, then <code>leanproject get-cache</code> doesn't make sense for them anyway</p>\n</blockquote>\n<p>Why?</p>",
        "id": 258885873,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1635092354
    },
    {
        "content": "<p>You can still use the local cache mechanism without depending on mathlib</p>",
        "id": 258885881,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1635092373
    },
    {
        "content": "<p>Sure, but if you're cloning a repository for the first time that cache will always be empty</p>",
        "id": 258887026,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1635094063
    },
    {
        "content": "<p>So telling users to run it for the first time in a newly cloned repo, to have it run <code>leanpkg configure</code> but then fail with  \"no caches\" isn't very ergonomic</p>",
        "id": 258887071,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1635094093
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"284160\">@Eric Rodriguez</span> can you try a different web browser?</p>",
        "id": 258888110,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1635095294
    },
    {
        "content": "<p>I'll try, it was a public PC running firefox on Ubuntu fwiw</p>",
        "id": 258888250,
        "sender_full_name": "Eric Rodriguez",
        "timestamp": 1635095518
    },
    {
        "content": "<p>I'm sorry Eric W, I still don't know what you are talking about.</p>",
        "id": 258889852,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1635097858
    },
    {
        "content": "<p>Sorry, I didn't make that very clear. Let's say there is a project <code>lean-foo</code> that depends on a project <code>lean-bar</code> but not mathlib. Here's the workflow that has always not worked:</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>git clone lean-foo\nvscode  <span class=\"c1\"># uh-oh; vscode can't find `lean-bar`because no-one ran configure</span>\n</code></pre></div>\n<p>Here's the workflow that has always worked:</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>git clone lean-foo\nleanpkg configure\nvscode  <span class=\"c1\"># ok</span>\n</code></pre></div>\n<p>Here's the workflow that used to work, but no longer does after I separated <code>get-cache</code> from <code>get-mathlib-cache</code> :</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>git clone lean-foo\nleanproject get-cache <span class=\"o\">&amp;&amp;</span> <span class=\"nb\">true</span>  <span class=\"c1\"># this command fails because there is no cache available, but we still need it</span>\nvscode  <span class=\"c1\"># ok on older versions of `leanproject` that eagerly tried `leanpkg configure`</span>\n</code></pre></div>",
        "id": 258896540,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1635107159
    },
    {
        "content": "<p>What if you use <code>leanproject get lean-foo</code>?</p>",
        "id": 258897532,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1635108475
    },
    {
        "content": "<p>Then none of these problems exist</p>",
        "id": 258898308,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1635109467
    },
    {
        "content": "<p>Gitpod doesn't do <code>leanproject get mathlib</code> though, presumably because the container loads up with the repo already present.</p>",
        "id": 258898324,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1635109498
    },
    {
        "content": "<p>Is it possible to make gitpod work on a random github Lean repo with mathlib as a dependency such as <a href=\"https://github.com/ImperialCollegeLondon/formalising-mathematics-2022\">https://github.com/ImperialCollegeLondon/formalising-mathematics-2022</a> ?</p>\n<p>The use case I am envisaging is someone who wants to try filling in sorries in files which have mathlib imports but who doesn't want to install Lean. Users would not need the ability to push their work or anything like that.</p>",
        "id": 267187337,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1641561355
    },
    {
        "content": "<p>Yes, it's already set up on your M400001 or whatever repo</p>",
        "id": 267187476,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1641561431
    },
    {
        "content": "<p>Is it also possible to fix the issue which I have with gitpod, which is that none of the links on the mathlib repo work for me because I'm using firefox and there's some trust issue with passing on some information? I never use gitpod and part of the reason for this is that I simply can't remember the fix, although no doubt it's documented here on Zulip. The error I always get is</p>\n<p><a href=\"/user_uploads/3121/tWupW7zvOEuSyB4Q0yLpPHfD/broken.png\">broken.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/tWupW7zvOEuSyB4Q0yLpPHfD/broken.png\" title=\"broken.png\"><img src=\"/user_uploads/3121/tWupW7zvOEuSyB4Q0yLpPHfD/broken.png\"></a></div><p>I'm not asking what the fix is (I can just plough through Zulip until I find it again), I'm asking whether I can make better links which work for everyone.</p>",
        "id": 267190417,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1641563212
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/stream/113488-general/topic/gitpod/near/267187476\">said</a>:</p>\n<blockquote>\n<p>Yes, it's already set up on your M400001 or whatever repo</p>\n</blockquote>\n<p>Eric I have a ton of repos with that silly phrase in :-/ If you tell me how to detect the setup I'm sure I can find it though.</p>",
        "id": 267190443,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1641563231
    },
    {
        "content": "<p>I think I'm asking whether there's just some way to construct a URL which I can host somewhere which points to a file in one of my github repos and will work for everyone.</p>",
        "id": 267190573,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1641563299
    },
    {
        "content": "<p>Actually now I phrase it like this I see that I can just use the web editor. What are the relative advantages/disadvantages of the two setups? I never use either of them myself. Is one of them noticably faster?</p>",
        "id": 267191163,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1641563655
    },
    {
        "content": "<p>gitpod is way faster and is basically a full vscode, the web editor takes about 50 years to load nad is very slow</p>",
        "id": 267191561,
        "sender_full_name": "Eric Rodriguez",
        "timestamp": 1641563897
    },
    {
        "content": "<p>This repo: <a href=\"https://github.com/ImperialCollegeLondon/M40001_lean\">https://github.com/ImperialCollegeLondon/M40001_lean</a></p>",
        "id": 267199394,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1641568081
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/stream/113488-general/topic/gitpod/near/267190417\">said</a>:</p>\n<blockquote>\n<p>I'm not asking what the fix is (I can just plough through Zulip until I find it again), I'm asking whether I can make better links which work for everyone.</p>\n</blockquote>\n<p>Making the link work for everyone (by hard-coding your repo link into it instead of using from-referrer) comes at the expense of having it do the wrong thing on forks. The tracking issue for this problem is <a href=\"https://github.com/gitpod-io/gitpod/issues/6410\">https://github.com/gitpod-io/gitpod/issues/6410</a></p>",
        "id": 267200126,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1641568429
    },
    {
        "content": "<p>Thanks Eric for all the info. Doing the wrong thing on forks is fine by me.</p>",
        "id": 267204131,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1641570368
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span> Here's an example of a lean project based on mathlib that runs on Gitpod:<br>\n<a href=\"https://github.com/starkware-libs/formal-proofs\">https://github.com/starkware-libs/formal-proofs</a><br>\nOnce you launch it, you have to wait a couple of minutes for it to compile all the files in the repository. It is possible to set things up so that everything is prebuilt, but I am still fuzzy on the details. I also used a project based on Lean 4 for a class I was teaching (no external Mathlib 4, just a copy of an early version):<br>\n<a href=\"https://github.com/avigad/lamr\">https://github.com/avigad/lamr</a><br>\nDuring the class, it started up almost immediately (and the terminal would give me a friendly message telling me how much time I saved because of the pre-build), but when I just tried it now, I had to wait a little while for it to compile.</p>",
        "id": 267209817,
        "sender_full_name": "Jeremy Avigad",
        "timestamp": 1641573103
    },
    {
        "content": "<p>Thank you Jeremy and Eric. I have got it all working now after your helpful clues, even on firefox. I totally agree that gitpod is amazingly fast!</p>",
        "id": 267255332,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1641597180
    },
    {
        "content": "<p>Aargh no I haven't: the orange bars are gone and the Lean is working fine, I'm sure a server is running, but the infoview doesn't work:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">Error</span> <span class=\"n\">loading</span> <span class=\"n\">webview</span><span class=\"o\">:</span> <span class=\"n\">Error</span><span class=\"o\">:</span> <span class=\"n\">Could</span> <span class=\"n\">not</span> <span class=\"n\">register</span> <span class=\"n\">service</span> <span class=\"n\">workers</span><span class=\"o\">:</span> <span class=\"n\">SecurityError</span><span class=\"o\">:</span> <span class=\"n\">The</span> <span class=\"n\">operation</span> <span class=\"n\">is</span> <span class=\"n\">insecure..</span>\n</code></pre></div>\n<p>Update: I have it working with Chrome.</p>",
        "id": 267256182,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1641597772
    },
    {
        "content": "<p>Kevin, could you write a very detailed howto explaining how you manage to get gitpod working for you before you forget? That would be very useful.</p>",
        "id": 267418934,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1641809765
    },
    {
        "content": "<p>I literally didn't do anything other than moving a dot file which I found in one of my github repos into another one. Then it all just worked</p>",
        "id": 267545564,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1641886098
    },
    {
        "content": "<p>I think Eric must have put the dot file there</p>",
        "id": 267545576,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1641886117
    },
    {
        "content": "<p>I didn't even change the file</p>",
        "id": 267545581,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1641886124
    },
    {
        "content": "<p>Detailed explanation of how to get gitpod working on a repo with mathlib as a dependency: add an exact copy of this file <a href=\"https://github.com/ImperialCollegeLondon/formalising-mathematics-2022/blob/master/.gitpod.yml\">https://github.com/ImperialCollegeLondon/formalising-mathematics-2022/blob/master/.gitpod.yml</a> to the root directory of your repo</p>",
        "id": 267545723,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1641886253
    },
    {
        "content": "<p>And then you have two choices for the link to gitpod, one of which doesn't work on Firefox</p>",
        "id": 267545765,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1641886307
    },
    {
        "content": "<p><a href=\"https://gitpod.io/#/https://github.com/ImperialCollegeLondon/formalising-mathematics-2022/\">https://gitpod.io/#/https://github.com/ImperialCollegeLondon/formalising-mathematics-2022/</a> is the one which works on Firefox</p>",
        "id": 267545877,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1641886392
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span>  How can students access gitpod? Do they need to have a GitHub account?</p>",
        "id": 268832960,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1642766962
    },
    {
        "content": "<p>Yes, gitpod gives you several ways to login. Reusing your github account is the most convenient option.</p>",
        "id": 268833132,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1642767066
    },
    {
        "content": "<p>Students can also make use of  github education to get an upgraded version of gitpod for free <a href=\"https://www.gitpod.io/github-student-developer-pack/\">https://www.gitpod.io/github-student-developer-pack/</a></p>",
        "id": 268833294,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1642767171
    },
    {
        "content": "<p>what are those several ways? I see only: use Github, Gitlab or bitbucket</p>",
        "id": 268833425,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1642767244
    },
    {
        "content": "<p>That's what I meant</p>",
        "id": 268833454,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1642767267
    },
    {
        "content": "<p>I didn't remember whether they also allowed other things like facebook or google</p>",
        "id": 268833496,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1642767301
    },
    {
        "content": "<p>It's really crazy</p>",
        "id": 268833549,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1642767328
    },
    {
        "content": "<p>They just outsource the whole authentication / user management.</p>",
        "id": 268833615,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1642767363
    },
    {
        "content": "<p>Creating an account on some huge and frightening website only to access class resources sounds really crazy to me.</p>",
        "id": 268833704,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1642767406
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/stream/113488-general/topic/gitpod/near/268833615\">said</a>:</p>\n<blockquote>\n<p>They just outsource the whole authentication / user management.</p>\n</blockquote>\n<p>That doesn't make sense without an option to authenticate through google etc.</p>",
        "id": 268833790,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1642767460
    },
    {
        "content": "<p>I can't argue against that</p>",
        "id": 268833997,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1642767557
    },
    {
        "content": "<p>All I know about gitpod is that it works if you use your github credentials, I don't know if the students are using it</p>",
        "id": 268837600,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1642769515
    },
    {
        "content": "<p>Does gitpod run on a GitHub machine? Or is it configured to run somewhere else like Azure?</p>\n<p>It makes sense to ask for a proper authentication so they have a bare minimum protection against bots spinning up infinite tasks on their machines</p>",
        "id": 268841738,
        "sender_full_name": "Arthur Paulino",
        "timestamp": 1642771712
    },
    {
        "content": "<p>In the worst case scenario they can at least ban evil accounts</p>",
        "id": 268841845,
        "sender_full_name": "Arthur Paulino",
        "timestamp": 1642771775
    },
    {
        "content": "<p>Wait, Azure <em>is</em> Microsoft's cloud environment. I forgot <span aria-label=\"joy\" class=\"emoji emoji-1f602\" role=\"img\" title=\"joy\">:joy:</span></p>",
        "id": 268842567,
        "sender_full_name": "Arthur Paulino",
        "timestamp": 1642772046
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/stream/113488-general/topic/gitpod/near/267545723\">said</a>:</p>\n<blockquote>\n<p>Detailed explanation of how to get gitpod working on a repo with mathlib as a dependency: add an exact copy of this file <a href=\"https://github.com/ImperialCollegeLondon/formalising-mathematics-2022/blob/master/.gitpod.yml\">https://github.com/ImperialCollegeLondon/formalising-mathematics-2022/blob/master/.gitpod.yml</a> to the root directory of your repo</p>\n</blockquote>\n<p>Could someone help me troubleshoot these gitpod instructions?</p>\n<p>When I try them on a small repo I set up for teaching,<br>\n<a href=\"https://gitpod.io/#/https://github.com/hrmacbeth/math2001\">https://gitpod.io/#/https://github.com/hrmacbeth/math2001</a><br>\nI get red underlines everywhere and horrible errors in the infoview:</p>\n<div class=\"codehilite\" data-code-language=\"Text only\"><pre><span></span><code>invalid import: data.option.defs\ninvalid object declaration, environment already has an object named 'option.elim._main'\n</code></pre></div>",
        "id": 269328046,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1643146417
    },
    {
        "content": "<p>I wondered if the problem might be that my repo is not on exact latest mathlib.  Do I need to run <code>leanproject up</code> on the project every day right before class?</p>",
        "id": 269328120,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1643146446
    },
    {
        "content": "<p>You can have a look at what I did at <a href=\"https://github.com/PatrickMassot/MDD154\">https://github.com/PatrickMassot/MDD154</a>, it may help</p>",
        "id": 269330616,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1643147696
    },
    {
        "content": "<p>Thanks for the hint, Patrick.  Do you know whether I can link to the same<br>\n<a href=\"https://raw.githubusercontent.com/PatrickMassot/MDD154/master/mdd154-1.0.0.vsix\">https://raw.githubusercontent.com/PatrickMassot/MDD154/master/mdd154-1.0.0.vsix</a><br>\nfile, or need to roll my own?</p>",
        "id": 269332319,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1643148549
    },
    {
        "content": "<p>(I see a vsix is a \"Visual Studio extension\" file, but I don't immediately understand the purpose.)</p>",
        "id": 269332431,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1643148589
    },
    {
        "content": "<p>Sorry about the red herring. This is my custom version of the  Lean VSCode extension.</p>",
        "id": 269333936,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1643149206
    },
    {
        "content": "<p>I see, so I can omit that line?</p>",
        "id": 269333981,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1643149232
    },
    {
        "content": "<p>Its only purpose is to get syntax highligthing for my controlled natural language tactics.</p>",
        "id": 269333989,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1643149234
    },
    {
        "content": "<p>You should replace that line with a line getting the regular extension.</p>",
        "id": 269334036,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1643149259
    },
    {
        "content": "<p>Replace <code>https://raw.githubusercontent.com/PatrickMassot/MDD154/master/mdd154-1.0.0.vsix</code> with <code>jroech.lean</code> or something</p>",
        "id": 269334072,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1643149287
    },
    {
        "content": "<p>I see, thanks!  Do I need <code>- usernamehw.errorlens</code> still?</p>",
        "id": 269334081,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1643149298
    },
    {
        "content": "<p>It depends whether you want the error lens extension.</p>",
        "id": 269334160,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1643149328
    },
    {
        "content": "<p>My experience is students have a very hard time paying attention to little red squiggles</p>",
        "id": 269334189,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1643149348
    },
    {
        "content": "<p>And to be honest I also use it now.</p>",
        "id": 269334200,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1643149355
    },
    {
        "content": "<p>I see, so that's independent.  Then the only <em>substantive</em> change should be changing <code>command</code> to <code>init</code> in the last line?</p>",
        "id": 269334233,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1643149371
    },
    {
        "content": "<p>I guess my eyes aren't what they used to be</p>",
        "id": 269334237,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1643149373
    },
    {
        "content": "<p>They are always sooo little or misplaced <span aria-label=\"sad\" class=\"emoji emoji-2639\" role=\"img\" title=\"sad\">:sad:</span></p>",
        "id": 269334261,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1643149389
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110031\">Patrick Massot</span> <a href=\"#narrow/stream/113488-general/topic/gitpod/near/269334237\">said</a>:</p>\n<blockquote>\n<p>I guess my eyes aren't what they used to be</p>\n</blockquote>\n<p>Don't worry, I never see them either</p>",
        "id": 269334275,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1643149405
    },
    {
        "content": "<p>Nobody ever told me my eyes little and misplaced</p>",
        "id": 269334291,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1643149415
    },
    {
        "content": "<p><span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 269334299,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1643149421
    },
    {
        "content": "<p>He has eyes in the back of his head!</p>",
        "id": 269334360,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1643149446
    },
    {
        "content": "<p>The change from command to init tells gitpod to get mathlib oleans before opening the workspace.</p>",
        "id": 269334384,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1643149467
    },
    {
        "content": "<p>OK, great.  Let me try this out.</p>",
        "id": 269334399,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1643149480
    },
    {
        "content": "<p>But it should work too with command I guess.</p>",
        "id": 269334403,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1643149483
    },
    {
        "content": "<p><a href=\"https://www.gitpod.io/docs/prebuilds\">https://www.gitpod.io/docs/prebuilds</a></p>",
        "id": 269334443,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1643149503
    },
    {
        "content": "<p>No, with <code>command</code> (that was the only real difference between your script and Kevin's) I got the horrible errors.</p>",
        "id": 269334492,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1643149544
    },
    {
        "content": "<p>Or, you're saying that if I set up a prebuild then I can use <code>command</code>?</p>",
        "id": 269334564,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1643149571
    },
    {
        "content": "<p>My understanding is setting up a prebuild allows to take advantage of init</p>",
        "id": 269334603,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1643149599
    },
    {
        "content": "<p>But I didn't spend a lot of time understanding the details. I stopped as soon as I got something working.</p>",
        "id": 269334644,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1643149624
    },
    {
        "content": "<p>At least I hope it still works. Can you get it to work?</p>",
        "id": 269334663,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1643149636
    },
    {
        "content": "<p>I mean: does it work for you when you go to <a href=\"https://gitpod.io/#/https://github.com/PatrickMassot/MDD154/\">https://gitpod.io/#/https://github.com/PatrickMassot/MDD154/</a>?</p>",
        "id": 269334696,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1643149659
    },
    {
        "content": "<p>Well, mine works now!</p>",
        "id": 269334819,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1643149722
    },
    {
        "content": "<p>Et oui, la tienne aussi.</p>",
        "id": 269334848,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1643149738
    },
    {
        "content": "<p>Thank you!</p>",
        "id": 269334863,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1643149750
    },
    {
        "content": "<p>You're welcome!</p>",
        "id": 269334904,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1643149776
    },
    {
        "content": "<p>I didn't realize that we could get away so simply with this:<br>\nimage: leanprovercommunity/mathlib:gitpod</p>\n<p>It looks like a nice setup, thanks to Scott. If I understand correctly, it always uses the most recent version of mathlib. Is there a way to link a project to a particular version of mathlib?</p>",
        "id": 269343375,
        "sender_full_name": "Jeremy Avigad",
        "timestamp": 1643154816
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110865\">@Jeremy Avigad</span> It seems to be working on my project with a few-days-out-of-date mathlib!</p>",
        "id": 269344265,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1643155329
    },
    {
        "content": "<p>Oh! I realize now that <code>leanproject</code> will just get the version of mathlib indicated in the <code>.toml</code> file. The setup is very nice.</p>",
        "id": 269345267,
        "sender_full_name": "Jeremy Avigad",
        "timestamp": 1643155934
    },
    {
        "content": "<p>Indeed it is!</p>",
        "id": 269345309,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1643155966
    }
]