[
    {
        "content": "<p>So, let me return to my original question.</p>",
        "id": 134968883,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1538399206
    },
    {
        "content": "<p>I've got</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kn\">definition</span> <span class=\"n\">Spa</span> <span class=\"o\">(</span><span class=\"n\">A</span> <span class=\"o\">:</span> <span class=\"n\">Huber_pair</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">set</span> <span class=\"o\">(</span><span class=\"n\">Spv</span> <span class=\"n\">A</span><span class=\"o\">)</span> <span class=\"o\">:=</span>\n<span class=\"n\">Spv</span><span class=\"bp\">.</span><span class=\"n\">lift</span> <span class=\"o\">(</span><span class=\"bp\">λ</span> <span class=\"n\">v</span><span class=\"o\">,</span> <span class=\"n\">v</span><span class=\"bp\">.</span><span class=\"n\">is_continuous</span> <span class=\"bp\">∧</span> <span class=\"bp\">∀</span> <span class=\"n\">r</span><span class=\"o\">,</span> <span class=\"n\">r</span> <span class=\"err\">∈</span> <span class=\"n\">A</span><span class=\"err\">⁺</span> <span class=\"bp\">→</span> <span class=\"n\">v</span><span class=\"bp\">.</span><span class=\"n\">val</span><span class=\"bp\">.</span><span class=\"n\">val</span> <span class=\"n\">r</span> <span class=\"bp\">≤</span> <span class=\"mi\">1</span><span class=\"o\">)</span>\n<span class=\"o\">(</span><span class=\"bp\">λ</span> <span class=\"n\">v₁</span> <span class=\"n\">v₂</span> <span class=\"n\">heq</span><span class=\"o\">,</span> <span class=\"n\">sorry</span><span class=\"o\">)</span>\n\n<span class=\"c1\">-- fake</span>\n<span class=\"kn\">definition</span> <span class=\"n\">Spa&#39;</span> <span class=\"o\">(</span><span class=\"n\">A</span> <span class=\"o\">:</span> <span class=\"n\">Huber_pair</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">set</span> <span class=\"o\">(</span><span class=\"n\">Spv</span> <span class=\"n\">A</span><span class=\"o\">)</span> <span class=\"o\">:=</span>\n<span class=\"o\">{</span><span class=\"n\">v</span> <span class=\"o\">:</span> <span class=\"n\">Spv</span> <span class=\"n\">A</span> <span class=\"bp\">|</span> <span class=\"n\">v</span><span class=\"bp\">.</span><span class=\"n\">is_continuous</span> <span class=\"bp\">∧</span> <span class=\"bp\">∀</span> <span class=\"n\">r</span><span class=\"o\">,</span> <span class=\"n\">r</span> <span class=\"err\">∈</span> <span class=\"n\">A</span><span class=\"err\">⁺</span> <span class=\"bp\">→</span> <span class=\"n\">v</span><span class=\"bp\">.</span><span class=\"n\">val</span><span class=\"bp\">.</span><span class=\"n\">val</span> <span class=\"n\">r</span> <span class=\"bp\">≤</span> <span class=\"mi\">1</span><span class=\"o\">}</span>\n<span class=\"n\">which_is_well_defined</span> <span class=\"o\">(</span><span class=\"bp\">λ</span> <span class=\"n\">v₁</span> <span class=\"n\">v₂</span> <span class=\"n\">heq</span><span class=\"o\">,</span> <span class=\"n\">sorry</span><span class=\"o\">)</span>\n</pre></div>",
        "id": 134968900,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1538399231
    },
    {
        "content": "<p>Maybe it is really minor to people who have seen Lean for 367 days in the last year, but I think <code>Spa'</code> is a lot more readable than <code>Spa</code>.</p>",
        "id": 134968965,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1538399287
    },
    {
        "content": "<p>Of course any mathematician who takes a first look is already brain-blocked by <code>set (Spv A)</code>, which means \"subset\" instead of \"set\". But never mind...</p>",
        "id": 134969006,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1538399355
    },
    {
        "content": "<p>Can't you put the work into the definition of <code>v.is_continuous</code>?</p>",
        "id": 134974894,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1538404936
    },
    {
        "content": "<p>I'm not sure if that would help. Or do you mean that you want to define <code>Spa</code> as intersection of two subsets? Namely <code>Cont</code> and the other condition.</p>",
        "id": 134975038,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1538405095
    },
    {
        "content": "<p>Still feels like moving the problem around...</p>",
        "id": 134975061,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1538405124
    }
]