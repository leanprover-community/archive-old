[
    {
        "content": "<p>errr... I just pushed directly to <code>lean-3.4.2</code> by accident.</p>",
        "id": 179114264,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1572075421
    },
    {
        "content": "<p>I guess I should force push to undo??</p>",
        "id": 179114271,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1572075437
    },
    {
        "content": "<p>Crap, I can't. When I <code>git reset HEAD~1</code> and <code>git push --force</code>, githup tells me I can't force push to a protected branch. So how did it let me push to that branch in the first place?</p>",
        "id": 179114341,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1572075577
    },
    {
        "content": "<p>The evil commit is now an honest PR, at <a href=\"https://github.com/leanprover-community/mathlib/pull/1616\" target=\"_blank\" title=\"https://github.com/leanprover-community/mathlib/pull/1616\">https://github.com/leanprover-community/mathlib/pull/1616</a>. Maybe we can just merge that quickly. :-)</p>",
        "id": 179114401,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1572075660
    },
    {
        "content": "<p>It looks good to me</p>",
        "id": 179114459,
        "sender_full_name": "Simon Hudon",
        "timestamp": 1572075809
    },
    {
        "content": "<p>The branch protection is weaker than I expected. I made a similar mistake recently</p>",
        "id": 179114460,
        "sender_full_name": "Simon Hudon",
        "timestamp": 1572075830
    },
    {
        "content": "<p>What I did is temporarily disable the branch protection (by changing the <code>master</code> filter with <code>master-</code>) so that I can backpedal. But if this is ready to merge, I can just merge it</p>",
        "id": 179114505,
        "sender_full_name": "Simon Hudon",
        "timestamp": 1572075890
    },
    {
        "content": "<p>wrong branch</p>",
        "id": 179114518,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1572075942
    },
    {
        "content": "<p>That was the branch I had an issue with. The same idea works with other branch protection rules (details left as an exercise)</p>",
        "id": 179114578,
        "sender_full_name": "Simon Hudon",
        "timestamp": 1572076003
    },
    {
        "content": "<p>Let's let travis finish, but as this is just a \"move proofs about\" PR, it should be safe to merge immediately afterwards.</p>",
        "id": 179114589,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1572076035
    },
    {
        "content": "<p>I reverted it</p>",
        "id": 179114591,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1572076062
    },
    {
        "content": "<p>I think travis should still run to completion</p>",
        "id": 179114629,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1572076085
    }
]