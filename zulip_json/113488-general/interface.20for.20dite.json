[
    {
        "content": "<div class=\"codehilite\"><pre><span></span><span class=\"n\">noncomputable</span> <span class=\"n\">def</span> <span class=\"n\">succ</span> <span class=\"o\">(</span><span class=\"n\">C</span> <span class=\"o\">:</span> <span class=\"n\">set</span> <span class=\"o\">(</span><span class=\"n\">set</span> <span class=\"n\">α</span><span class=\"o\">))</span> <span class=\"o\">:</span> <span class=\"n\">set</span> <span class=\"o\">(</span><span class=\"n\">set</span> <span class=\"n\">α</span><span class=\"o\">)</span> <span class=\"o\">:=</span>\n<span class=\"k\">if</span> <span class=\"n\">H</span> <span class=\"o\">:</span> <span class=\"bp\">∃</span> <span class=\"n\">A</span><span class=\"o\">,</span> <span class=\"n\">A</span> <span class=\"err\">∈</span> <span class=\"o\">(</span><span class=\"n\">hat</span> <span class=\"n\">S</span> <span class=\"n\">C</span><span class=\"o\">)</span> <span class=\"err\">\\</span> <span class=\"n\">C</span> <span class=\"k\">then</span> <span class=\"n\">insert</span> <span class=\"o\">(</span><span class=\"n\">classical</span><span class=\"bp\">.</span><span class=\"n\">some</span> <span class=\"n\">H</span><span class=\"o\">)</span> <span class=\"n\">C</span> <span class=\"k\">else</span> <span class=\"n\">C</span>\n\n<span class=\"bp\">@</span><span class=\"o\">[</span><span class=\"n\">elab_as_eliminator</span><span class=\"o\">]</span> <span class=\"n\">noncomputable</span> <span class=\"n\">def</span> <span class=\"n\">succ</span><span class=\"bp\">.</span><span class=\"n\">rec</span> <span class=\"o\">{</span><span class=\"n\">C</span> <span class=\"o\">:</span> <span class=\"n\">set</span> <span class=\"o\">(</span><span class=\"n\">set</span> <span class=\"n\">α</span><span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"n\">set</span> <span class=\"o\">(</span><span class=\"n\">set</span> <span class=\"n\">α</span><span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"n\">Sort</span><span class=\"bp\">*</span><span class=\"o\">}</span>\n  <span class=\"o\">(</span><span class=\"n\">H1</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span> <span class=\"n\">t</span><span class=\"o\">,</span> <span class=\"bp\">∀</span> <span class=\"n\">A</span> <span class=\"err\">∈</span> <span class=\"o\">(</span><span class=\"n\">hat</span> <span class=\"n\">S</span> <span class=\"n\">t</span><span class=\"o\">)</span> <span class=\"err\">\\</span> <span class=\"n\">t</span><span class=\"o\">,</span> <span class=\"n\">C</span> <span class=\"n\">t</span> <span class=\"o\">(</span><span class=\"n\">insert</span> <span class=\"o\">(</span><span class=\"n\">classical</span><span class=\"bp\">.</span><span class=\"n\">some</span> <span class=\"o\">(</span><span class=\"bp\">⟨</span><span class=\"n\">A</span><span class=\"o\">,</span> <span class=\"n\">H</span><span class=\"bp\">⟩</span> <span class=\"o\">:</span> <span class=\"bp\">∃</span> <span class=\"n\">A</span><span class=\"o\">,</span> <span class=\"n\">A</span> <span class=\"err\">∈</span> <span class=\"o\">(</span><span class=\"n\">hat</span> <span class=\"n\">S</span> <span class=\"n\">t</span><span class=\"o\">)</span> <span class=\"err\">\\</span> <span class=\"n\">t</span><span class=\"o\">))</span> <span class=\"n\">t</span><span class=\"o\">))</span>\n  <span class=\"o\">(</span><span class=\"n\">H2</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span> <span class=\"n\">t</span><span class=\"o\">,</span> <span class=\"o\">(</span><span class=\"bp\">∀</span> <span class=\"n\">A</span> <span class=\"err\">∈</span> <span class=\"o\">(</span><span class=\"n\">hat</span> <span class=\"n\">S</span> <span class=\"n\">t</span><span class=\"o\">)</span> <span class=\"err\">\\</span> <span class=\"n\">t</span><span class=\"o\">,</span> <span class=\"n\">false</span><span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"n\">C</span> <span class=\"n\">t</span> <span class=\"n\">t</span><span class=\"o\">)</span>\n  <span class=\"o\">(</span><span class=\"n\">t</span> <span class=\"o\">:</span> <span class=\"n\">set</span> <span class=\"o\">(</span><span class=\"n\">set</span> <span class=\"n\">α</span><span class=\"o\">))</span> <span class=\"o\">:</span> <span class=\"n\">C</span> <span class=\"n\">t</span> <span class=\"o\">(</span><span class=\"n\">succ</span> <span class=\"n\">S</span> <span class=\"n\">t</span><span class=\"o\">)</span> <span class=\"o\">:=</span>\n<span class=\"k\">if</span> <span class=\"n\">H</span> <span class=\"o\">:</span> <span class=\"bp\">∃</span> <span class=\"n\">A</span><span class=\"o\">,</span> <span class=\"n\">A</span> <span class=\"err\">∈</span> <span class=\"o\">(</span><span class=\"n\">hat</span> <span class=\"n\">S</span> <span class=\"n\">t</span><span class=\"o\">)</span> <span class=\"err\">\\</span> <span class=\"n\">t</span> <span class=\"k\">then</span>\n  <span class=\"k\">have</span> <span class=\"n\">succ</span> <span class=\"n\">S</span> <span class=\"n\">t</span> <span class=\"bp\">=</span> <span class=\"n\">insert</span> <span class=\"o\">(</span><span class=\"n\">classical</span><span class=\"bp\">.</span><span class=\"n\">some</span> <span class=\"n\">H</span><span class=\"o\">)</span> <span class=\"n\">t</span><span class=\"o\">,</span> <span class=\"k\">from</span> <span class=\"n\">dif_pos</span> <span class=\"n\">H</span><span class=\"o\">,</span>\n  <span class=\"n\">eq</span><span class=\"bp\">.</span><span class=\"n\">drec_on</span> <span class=\"n\">this</span><span class=\"bp\">.</span><span class=\"n\">symm</span> <span class=\"err\">$</span> <span class=\"n\">H1</span> <span class=\"bp\">_</span> <span class=\"o\">(</span><span class=\"n\">classical</span><span class=\"bp\">.</span><span class=\"n\">some</span> <span class=\"n\">H</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">classical</span><span class=\"bp\">.</span><span class=\"n\">some_spec</span> <span class=\"n\">H</span><span class=\"o\">)</span>\n<span class=\"k\">else</span>\n  <span class=\"k\">have</span> <span class=\"n\">succ</span> <span class=\"n\">S</span> <span class=\"n\">t</span> <span class=\"bp\">=</span> <span class=\"n\">t</span><span class=\"o\">,</span> <span class=\"k\">from</span> <span class=\"n\">dif_neg</span> <span class=\"n\">H</span><span class=\"o\">,</span>\n  <span class=\"n\">eq</span><span class=\"bp\">.</span><span class=\"n\">drec_on</span> <span class=\"n\">this</span><span class=\"bp\">.</span><span class=\"n\">symm</span> <span class=\"err\">$</span> <span class=\"n\">H2</span> <span class=\"n\">t</span> <span class=\"err\">$</span> <span class=\"bp\">λ</span> <span class=\"n\">A</span> <span class=\"n\">h</span><span class=\"o\">,</span> <span class=\"n\">H</span> <span class=\"bp\">⟨</span><span class=\"n\">A</span><span class=\"o\">,</span> <span class=\"n\">h</span><span class=\"bp\">⟩</span>\n\n<span class=\"bp\">@</span><span class=\"o\">[</span><span class=\"n\">elab_as_eliminator</span><span class=\"o\">]</span> <span class=\"n\">noncomputable</span> <span class=\"n\">def</span> <span class=\"n\">succ</span><span class=\"bp\">.</span><span class=\"n\">rec_on</span> <span class=\"o\">{</span><span class=\"n\">C</span> <span class=\"o\">:</span> <span class=\"n\">set</span> <span class=\"o\">(</span><span class=\"n\">set</span> <span class=\"n\">α</span><span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"n\">set</span> <span class=\"o\">(</span><span class=\"n\">set</span> <span class=\"n\">α</span><span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"n\">Sort</span><span class=\"bp\">*</span><span class=\"o\">}</span>\n  <span class=\"o\">(</span><span class=\"n\">t</span> <span class=\"o\">:</span> <span class=\"n\">set</span> <span class=\"o\">(</span><span class=\"n\">set</span> <span class=\"n\">α</span><span class=\"o\">))</span>\n  <span class=\"o\">(</span><span class=\"n\">H1</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span> <span class=\"n\">t</span><span class=\"o\">,</span> <span class=\"bp\">∀</span> <span class=\"n\">A</span> <span class=\"err\">∈</span> <span class=\"o\">(</span><span class=\"n\">hat</span> <span class=\"n\">S</span> <span class=\"n\">t</span><span class=\"o\">)</span> <span class=\"err\">\\</span> <span class=\"n\">t</span><span class=\"o\">,</span> <span class=\"n\">C</span> <span class=\"n\">t</span> <span class=\"o\">(</span><span class=\"n\">insert</span> <span class=\"o\">(</span><span class=\"n\">classical</span><span class=\"bp\">.</span><span class=\"n\">some</span> <span class=\"o\">(</span><span class=\"bp\">⟨</span><span class=\"n\">A</span><span class=\"o\">,</span> <span class=\"n\">H</span><span class=\"bp\">⟩</span> <span class=\"o\">:</span> <span class=\"bp\">∃</span> <span class=\"n\">A</span><span class=\"o\">,</span> <span class=\"n\">A</span> <span class=\"err\">∈</span> <span class=\"o\">(</span><span class=\"n\">hat</span> <span class=\"n\">S</span> <span class=\"n\">t</span><span class=\"o\">)</span> <span class=\"err\">\\</span> <span class=\"n\">t</span><span class=\"o\">))</span> <span class=\"n\">t</span><span class=\"o\">))</span>\n  <span class=\"o\">(</span><span class=\"n\">H2</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span> <span class=\"n\">t</span><span class=\"o\">,</span> <span class=\"o\">(</span><span class=\"bp\">∀</span> <span class=\"n\">A</span> <span class=\"err\">∈</span> <span class=\"o\">(</span><span class=\"n\">hat</span> <span class=\"n\">S</span> <span class=\"n\">t</span><span class=\"o\">)</span> <span class=\"err\">\\</span> <span class=\"n\">t</span><span class=\"o\">,</span> <span class=\"n\">false</span><span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"n\">C</span> <span class=\"n\">t</span> <span class=\"n\">t</span><span class=\"o\">)</span> <span class=\"o\">:</span>\n  <span class=\"n\">C</span> <span class=\"n\">t</span> <span class=\"o\">(</span><span class=\"n\">succ</span> <span class=\"n\">S</span> <span class=\"n\">t</span><span class=\"o\">)</span> <span class=\"o\">:=</span>\n<span class=\"n\">succ</span><span class=\"bp\">.</span><span class=\"n\">rec</span> <span class=\"n\">S</span> <span class=\"n\">H1</span> <span class=\"n\">H2</span> <span class=\"n\">t</span>\n\n<span class=\"kn\">theorem</span> <span class=\"n\">succ</span><span class=\"bp\">.</span><span class=\"n\">subset</span> <span class=\"o\">(</span><span class=\"n\">C</span> <span class=\"o\">:</span> <span class=\"n\">set</span> <span class=\"o\">(</span><span class=\"n\">set</span> <span class=\"n\">α</span><span class=\"o\">))</span> <span class=\"o\">:</span> <span class=\"n\">C</span> <span class=\"err\">⊆</span> <span class=\"n\">succ</span> <span class=\"n\">S</span> <span class=\"n\">C</span> <span class=\"o\">:=</span>\n<span class=\"n\">succ</span><span class=\"bp\">.</span><span class=\"n\">rec_on</span> <span class=\"n\">S</span> <span class=\"n\">C</span>\n  <span class=\"o\">(</span><span class=\"bp\">λ</span> <span class=\"n\">t</span> <span class=\"n\">A</span> <span class=\"n\">H</span><span class=\"o\">,</span> <span class=\"k\">show</span> <span class=\"n\">t</span> <span class=\"err\">⊆</span> <span class=\"n\">insert</span> <span class=\"o\">(</span><span class=\"n\">classical</span><span class=\"bp\">.</span><span class=\"n\">some</span> <span class=\"bp\">_</span><span class=\"o\">)</span> <span class=\"n\">t</span><span class=\"o\">,</span> <span class=\"k\">from</span> <span class=\"bp\">λ</span> <span class=\"n\">z</span><span class=\"o\">,</span> <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">inr</span><span class=\"o\">)</span>\n  <span class=\"o\">(</span><span class=\"bp\">λ</span> <span class=\"n\">t</span> <span class=\"n\">H</span> <span class=\"n\">z</span><span class=\"o\">,</span> <span class=\"n\">id</span><span class=\"o\">)</span>\n</pre></div>",
        "id": 125812949,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1524904314
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><span class=\"n\">noncomputable</span> <span class=\"n\">def</span> <span class=\"n\">succ</span> <span class=\"o\">(</span><span class=\"n\">C</span> <span class=\"o\">:</span> <span class=\"n\">set</span> <span class=\"o\">(</span><span class=\"n\">set</span> <span class=\"n\">α</span><span class=\"o\">))</span> <span class=\"o\">:</span> <span class=\"n\">set</span> <span class=\"o\">(</span><span class=\"n\">set</span> <span class=\"n\">α</span><span class=\"o\">)</span> <span class=\"o\">:=</span>\n<span class=\"k\">if</span> <span class=\"n\">H</span> <span class=\"o\">:</span> <span class=\"bp\">∃</span> <span class=\"n\">A</span><span class=\"o\">,</span> <span class=\"n\">A</span> <span class=\"err\">∈</span> <span class=\"o\">(</span><span class=\"n\">hat</span> <span class=\"n\">S</span> <span class=\"n\">C</span><span class=\"o\">)</span> <span class=\"err\">\\</span> <span class=\"n\">C</span> <span class=\"k\">then</span> <span class=\"n\">insert</span> <span class=\"o\">(</span><span class=\"n\">classical</span><span class=\"bp\">.</span><span class=\"n\">some</span> <span class=\"n\">H</span><span class=\"o\">)</span> <span class=\"n\">C</span> <span class=\"k\">else</span> <span class=\"n\">C</span>\n\n<span class=\"bp\">@</span><span class=\"o\">[</span><span class=\"n\">elab_as_eliminator</span><span class=\"o\">]</span> <span class=\"n\">noncomputable</span> <span class=\"n\">def</span> <span class=\"n\">succ</span><span class=\"bp\">.</span><span class=\"n\">rec</span> <span class=\"o\">{</span><span class=\"n\">C</span> <span class=\"o\">:</span> <span class=\"n\">set</span> <span class=\"o\">(</span><span class=\"n\">set</span> <span class=\"n\">α</span><span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"n\">set</span> <span class=\"o\">(</span><span class=\"n\">set</span> <span class=\"n\">α</span><span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"n\">Sort</span><span class=\"bp\">*</span><span class=\"o\">}</span>\n  <span class=\"o\">(</span><span class=\"n\">H1</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span> <span class=\"n\">t</span><span class=\"o\">,</span> <span class=\"bp\">∀</span> <span class=\"n\">A</span> <span class=\"err\">∈</span> <span class=\"o\">(</span><span class=\"n\">hat</span> <span class=\"n\">S</span> <span class=\"n\">t</span><span class=\"o\">)</span> <span class=\"err\">\\</span> <span class=\"n\">t</span><span class=\"o\">,</span> <span class=\"n\">C</span> <span class=\"n\">t</span> <span class=\"o\">(</span><span class=\"n\">insert</span> <span class=\"n\">A</span> <span class=\"n\">t</span><span class=\"o\">))</span>\n  <span class=\"o\">(</span><span class=\"n\">H2</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span> <span class=\"n\">t</span><span class=\"o\">,</span> <span class=\"o\">(</span><span class=\"bp\">∀</span> <span class=\"n\">A</span> <span class=\"err\">∈</span> <span class=\"o\">(</span><span class=\"n\">hat</span> <span class=\"n\">S</span> <span class=\"n\">t</span><span class=\"o\">)</span> <span class=\"err\">\\</span> <span class=\"n\">t</span><span class=\"o\">,</span> <span class=\"n\">false</span><span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"n\">C</span> <span class=\"n\">t</span> <span class=\"n\">t</span><span class=\"o\">)</span>\n  <span class=\"o\">(</span><span class=\"n\">t</span> <span class=\"o\">:</span> <span class=\"n\">set</span> <span class=\"o\">(</span><span class=\"n\">set</span> <span class=\"n\">α</span><span class=\"o\">))</span> <span class=\"o\">:</span> <span class=\"n\">C</span> <span class=\"n\">t</span> <span class=\"o\">(</span><span class=\"n\">succ</span> <span class=\"n\">S</span> <span class=\"n\">t</span><span class=\"o\">)</span> <span class=\"o\">:=</span>\n<span class=\"k\">if</span> <span class=\"n\">H</span> <span class=\"o\">:</span> <span class=\"bp\">∃</span> <span class=\"n\">A</span><span class=\"o\">,</span> <span class=\"n\">A</span> <span class=\"err\">∈</span> <span class=\"o\">(</span><span class=\"n\">hat</span> <span class=\"n\">S</span> <span class=\"n\">t</span><span class=\"o\">)</span> <span class=\"err\">\\</span> <span class=\"n\">t</span> <span class=\"k\">then</span>\n  <span class=\"k\">have</span> <span class=\"n\">succ</span> <span class=\"n\">S</span> <span class=\"n\">t</span> <span class=\"bp\">=</span> <span class=\"n\">insert</span> <span class=\"o\">(</span><span class=\"n\">classical</span><span class=\"bp\">.</span><span class=\"n\">some</span> <span class=\"n\">H</span><span class=\"o\">)</span> <span class=\"n\">t</span><span class=\"o\">,</span> <span class=\"k\">from</span> <span class=\"n\">dif_pos</span> <span class=\"n\">H</span><span class=\"o\">,</span>\n  <span class=\"n\">eq</span><span class=\"bp\">.</span><span class=\"n\">drec_on</span> <span class=\"n\">this</span><span class=\"bp\">.</span><span class=\"n\">symm</span> <span class=\"err\">$</span> <span class=\"n\">H1</span> <span class=\"bp\">_</span> <span class=\"o\">(</span><span class=\"n\">classical</span><span class=\"bp\">.</span><span class=\"n\">some</span> <span class=\"n\">H</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">classical</span><span class=\"bp\">.</span><span class=\"n\">some_spec</span> <span class=\"n\">H</span><span class=\"o\">)</span>\n<span class=\"k\">else</span>\n  <span class=\"k\">have</span> <span class=\"n\">succ</span> <span class=\"n\">S</span> <span class=\"n\">t</span> <span class=\"bp\">=</span> <span class=\"n\">t</span><span class=\"o\">,</span> <span class=\"k\">from</span> <span class=\"n\">dif_neg</span> <span class=\"n\">H</span><span class=\"o\">,</span>\n  <span class=\"n\">eq</span><span class=\"bp\">.</span><span class=\"n\">drec_on</span> <span class=\"n\">this</span><span class=\"bp\">.</span><span class=\"n\">symm</span> <span class=\"err\">$</span> <span class=\"n\">H2</span> <span class=\"n\">t</span> <span class=\"err\">$</span> <span class=\"bp\">λ</span> <span class=\"n\">A</span> <span class=\"n\">h</span><span class=\"o\">,</span> <span class=\"n\">H</span> <span class=\"bp\">⟨</span><span class=\"n\">A</span><span class=\"o\">,</span> <span class=\"n\">h</span><span class=\"bp\">⟩</span>\n\n<span class=\"bp\">@</span><span class=\"o\">[</span><span class=\"n\">elab_as_eliminator</span><span class=\"o\">]</span> <span class=\"n\">noncomputable</span> <span class=\"n\">def</span> <span class=\"n\">succ</span><span class=\"bp\">.</span><span class=\"n\">rec_on</span> <span class=\"o\">{</span><span class=\"n\">C</span> <span class=\"o\">:</span> <span class=\"n\">set</span> <span class=\"o\">(</span><span class=\"n\">set</span> <span class=\"n\">α</span><span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"n\">set</span> <span class=\"o\">(</span><span class=\"n\">set</span> <span class=\"n\">α</span><span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"n\">Sort</span><span class=\"bp\">*</span><span class=\"o\">}</span>\n  <span class=\"o\">(</span><span class=\"n\">t</span> <span class=\"o\">:</span> <span class=\"n\">set</span> <span class=\"o\">(</span><span class=\"n\">set</span> <span class=\"n\">α</span><span class=\"o\">))</span>\n  <span class=\"o\">(</span><span class=\"n\">H1</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span> <span class=\"n\">t</span><span class=\"o\">,</span> <span class=\"bp\">∀</span> <span class=\"n\">A</span> <span class=\"err\">∈</span> <span class=\"o\">(</span><span class=\"n\">hat</span> <span class=\"n\">S</span> <span class=\"n\">t</span><span class=\"o\">)</span> <span class=\"err\">\\</span> <span class=\"n\">t</span><span class=\"o\">,</span> <span class=\"n\">C</span> <span class=\"n\">t</span> <span class=\"o\">(</span><span class=\"n\">insert</span> <span class=\"n\">A</span> <span class=\"n\">t</span><span class=\"o\">))</span>\n  <span class=\"o\">(</span><span class=\"n\">H2</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span> <span class=\"n\">t</span><span class=\"o\">,</span> <span class=\"o\">(</span><span class=\"bp\">∀</span> <span class=\"n\">A</span> <span class=\"err\">∈</span> <span class=\"o\">(</span><span class=\"n\">hat</span> <span class=\"n\">S</span> <span class=\"n\">t</span><span class=\"o\">)</span> <span class=\"err\">\\</span> <span class=\"n\">t</span><span class=\"o\">,</span> <span class=\"n\">false</span><span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"n\">C</span> <span class=\"n\">t</span> <span class=\"n\">t</span><span class=\"o\">)</span> <span class=\"o\">:</span>\n  <span class=\"n\">C</span> <span class=\"n\">t</span> <span class=\"o\">(</span><span class=\"n\">succ</span> <span class=\"n\">S</span> <span class=\"n\">t</span><span class=\"o\">)</span> <span class=\"o\">:=</span>\n<span class=\"n\">succ</span><span class=\"bp\">.</span><span class=\"n\">rec</span> <span class=\"n\">S</span> <span class=\"n\">H1</span> <span class=\"n\">H2</span> <span class=\"n\">t</span>\n\n<span class=\"kn\">theorem</span> <span class=\"n\">succ</span><span class=\"bp\">.</span><span class=\"n\">subset</span> <span class=\"o\">(</span><span class=\"n\">C</span> <span class=\"o\">:</span> <span class=\"n\">set</span> <span class=\"o\">(</span><span class=\"n\">set</span> <span class=\"n\">α</span><span class=\"o\">))</span> <span class=\"o\">:</span> <span class=\"n\">C</span> <span class=\"err\">⊆</span> <span class=\"n\">succ</span> <span class=\"n\">S</span> <span class=\"n\">C</span> <span class=\"o\">:=</span>\n<span class=\"n\">succ</span><span class=\"bp\">.</span><span class=\"n\">rec_on</span> <span class=\"n\">S</span> <span class=\"n\">C</span>\n  <span class=\"o\">(</span><span class=\"bp\">λ</span> <span class=\"n\">t</span> <span class=\"n\">A</span> <span class=\"n\">H</span><span class=\"o\">,</span> <span class=\"k\">show</span> <span class=\"n\">t</span> <span class=\"err\">⊆</span> <span class=\"n\">insert</span> <span class=\"n\">A</span> <span class=\"n\">t</span><span class=\"o\">,</span> <span class=\"k\">from</span> <span class=\"bp\">λ</span> <span class=\"n\">z</span><span class=\"o\">,</span> <span class=\"n\">or</span><span class=\"bp\">.</span><span class=\"n\">inr</span><span class=\"o\">)</span>\n  <span class=\"o\">(</span><span class=\"bp\">λ</span> <span class=\"n\">t</span> <span class=\"n\">H</span> <span class=\"n\">z</span><span class=\"o\">,</span> <span class=\"n\">id</span><span class=\"o\">)</span>\n</pre></div>",
        "id": 125813006,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1524904417
    },
    {
        "content": "<p>which one is better?</p>",
        "id": 125813007,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1524904420
    },
    {
        "content": "<p>why does elaborator fail for this one?</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">type</span> <span class=\"n\">mismatch</span><span class=\"o\">,</span> <span class=\"n\">term</span>\n  <span class=\"n\">succ</span><span class=\"bp\">.</span><span class=\"n\">rec_on</span> <span class=\"n\">S</span> <span class=\"n\">C</span> <span class=\"err\">?</span><span class=\"n\">m_2</span> <span class=\"err\">?</span><span class=\"n\">m_3</span>\n<span class=\"n\">has</span> <span class=\"n\">type</span>\n  <span class=\"err\">?</span><span class=\"n\">m_1</span> <span class=\"n\">C</span> <span class=\"o\">(</span><span class=\"n\">succ</span> <span class=\"n\">S</span> <span class=\"n\">C</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">Sort</span> <span class=\"err\">?</span>\n<span class=\"n\">but</span> <span class=\"n\">is</span> <span class=\"n\">expected</span> <span class=\"n\">to</span> <span class=\"k\">have</span> <span class=\"n\">type</span>\n  <span class=\"n\">is_chain</span> <span class=\"n\">C</span> <span class=\"bp\">→</span> <span class=\"n\">is_chain</span> <span class=\"o\">(</span><span class=\"n\">succ</span> <span class=\"n\">S</span> <span class=\"n\">C</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"kt\">Prop</span>\n</pre></div>",
        "id": 125813201,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1524904812
    },
    {
        "content": "<p><code>dite</code> stinks and I would strongly encourage you to work on this until it stinks less.</p>",
        "id": 125821121,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1524924467
    },
    {
        "content": "<p><code>dite</code> is such a normal thing coming from procedural languages</p>",
        "id": 125821160,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1524924485
    },
    {
        "content": "<p>and it's so hard to eliminate</p>",
        "id": 125821164,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1524924489
    },
    {
        "content": "<p>I did write an interface</p>",
        "id": 125821165,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1524924493
    },
    {
        "content": "<p>I know</p>",
        "id": 125821166,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1524924495
    },
    {
        "content": "<p>but the elaborator fails lol</p>",
        "id": 125821167,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1524924499
    }
]