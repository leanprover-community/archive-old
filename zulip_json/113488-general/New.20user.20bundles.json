[
    {
        "content": "<p>I had a first go at automating the build of a bundled autonomous Lean+VScode+mathlib+tutorial (only for Linux at the moment). People interested in this topic can download <a href=\"https://gist.github.com/PatrickMassot/567833153f106379b87a20e9d3a712ef\" target=\"_blank\" title=\"https://gist.github.com/PatrickMassot/567833153f106379b87a20e9d3a712ef\">https://gist.github.com/PatrickMassot/567833153f106379b87a20e9d3a712ef</a> to a Linux box equipped with a recent python together with python packages certifi, urllib3, GitPython, PyGithub (you already have them if you can run <code>update-mathlib</code>). Then run this script. It should build a new folder <code>dist</code> containing an executable file <code>trylean</code> which should launch VScodium running Lean+mathlib on our tutorial file without touching anything outside of <code>/tmp</code>. For those who missed earlier parts of the discussion and wonder what is VScodium, please see <a href=\"https://github.com/VSCodium/vscodium#why\" target=\"_blank\" title=\"https://github.com/VSCodium/vscodium#why\">https://github.com/VSCodium/vscodium#why</a>.</p>",
        "id": 188383309,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1581950688
    },
    {
        "content": "<p>This requires Python &gt;= 3.6 I think:</p>\n<div class=\"codehilite\"><pre><span></span>rob@rob-HP-ProDesk-600-G3-MT:~/lean/temp$ python3 mk_bundle.py\n  File &quot;mk_bundle.py&quot;, line 39\n    log.info(f&#39;Searching for {name}&#39;)\n                                   ^\nSyntaxError: invalid syntax\nrob@rob-HP-ProDesk-600-G3-MT:~/lean/temp$ python3 --version\nPython 3.5.2\n</pre></div>",
        "id": 188383864,
        "sender_full_name": "Rob Lewis",
        "timestamp": 1581951075
    },
    {
        "content": "<p>I'm using python 3.8.1</p>",
        "id": 188384178,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1581951281
    },
    {
        "content": "<p>This is not a script for general users, it's meant to be run by GitHub action.</p>",
        "id": 188384247,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1581951331
    },
    {
        "content": "<p>Ah. If it were user facing, I'd suggest making it compatible with older Python. But for CI it doesn't matter.</p>",
        "id": 188384714,
        "sender_full_name": "Rob Lewis",
        "timestamp": 1581951652
    },
    {
        "content": "<p>Sure. But here the goal is to have GitHub producing those bundles, zipping them and put them somewhere beginners can download them. Then the user facing instruction would be:</p>\n<ul>\n<li>if you want to try Lean, download this, unzip, run <code>trylean</code>. </li>\n<li>if you want to become a more serious Lean user, follow <a href=\"https://github.com/leanprover-community/mathlib#installation\" target=\"_blank\" title=\"https://github.com/leanprover-community/mathlib#installation\">https://github.com/leanprover-community/mathlib#installation</a></li>\n</ul>",
        "id": 188385179,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1581951988
    },
    {
        "content": "<p>Rob, did you manage to run that script in the end?</p>",
        "id": 188387361,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1581953641
    },
    {
        "content": "<p>No, doing other things and I didn't look up how to update Python. Will try in a bit.</p>",
        "id": 188387454,
        "sender_full_name": "Rob Lewis",
        "timestamp": 1581953707
    },
    {
        "content": "<p>After some fussing around with Python versions, this worked great.</p>",
        "id": 188440685,
        "sender_full_name": "Rob Lewis",
        "timestamp": 1582023015
    },
    {
        "content": "<p>Of course it misses the final zipping action, but this is trivial to add. Do you think we should make variations for Windows and MacOS and ask GitHub actions to run this script after deploy_nightly and push the three resulting zip files somewhere?</p>",
        "id": 188441272,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582023660
    },
    {
        "content": "<p>Of course this would also need removing the <code>--pre-release</code> flag I pointed out yesterday.</p>",
        "id": 188441302,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582023700
    },
    {
        "content": "<p>Yeah, that can be done. We can publish them as mathlib releases.</p>",
        "id": 188443864,
        "sender_full_name": "Rob Lewis",
        "timestamp": 1582026479
    },
    {
        "content": "<p>I wouldn't mind if someone who already worked to understand GitHub actions could take over this task.</p>",
        "id": 188443930,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582026536
    },
    {
        "content": "<p>If you provide the script that generates the zip files, we can get it into Actions.</p>",
        "id": 188444080,
        "sender_full_name": "Rob Lewis",
        "timestamp": 1582026681
    },
    {
        "content": "<p>I can do that easily for the Linux version. I'm not sure I can create a zip file that Windows will like from Linux.</p>",
        "id": 188444155,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582026757
    },
    {
        "content": "<p>Why not? Is there more to it than changing this line? <a href=\"https://gist.github.com/PatrickMassot/567833153f106379b87a20e9d3a712ef#file-mk_bundle-py-L78\" target=\"_blank\" title=\"https://gist.github.com/PatrickMassot/567833153f106379b87a20e9d3a712ef#file-mk_bundle-py-L78\">https://gist.github.com/PatrickMassot/567833153f106379b87a20e9d3a712ef#file-mk_bundle-py-L78</a></p>",
        "id": 188444401,
        "sender_full_name": "Rob Lewis",
        "timestamp": 1582027025
    },
    {
        "content": "<p>There a couple more lines to change, it must download the correct binaries of Lean and VScodium.</p>",
        "id": 188445640,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582028290
    },
    {
        "content": "<p>But I'll try.</p>",
        "id": 188445650,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582028296
    },
    {
        "content": "<p>Ok, I just spend some more time on this newbie bundles thing. I tried the optimistic idea to generate all three platform archive from my linux box. The updated script is at <a href=\"https://gist.github.com/PatrickMassot/567833153f106379b87a20e9d3a712ef\" target=\"_blank\" title=\"https://gist.github.com/PatrickMassot/567833153f106379b87a20e9d3a712ef\">https://gist.github.com/PatrickMassot/567833153f106379b87a20e9d3a712ef</a>. I need people to test the archives from <a href=\"https://www.imo.universite-paris-saclay.fr/~pmassot/try.html\" target=\"_blank\" title=\"https://www.imo.universite-paris-saclay.fr/~pmassot/try.html\">https://www.imo.universite-paris-saclay.fr/~pmassot/try.html</a>. As usual Windows users must be careful to Unblock the zip file before extraction (or extract with 7-zip or some other non-paranoid tool). I'm pretty sure the <code>trylean</code> launcher won't work on MacOS, I need someone who understand macs here (VScode comes as a <code>.app</code> folder, I don't know how to launch that from bash).</p>",
        "id": 188567852,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582134918
    },
    {
        "content": "<p>Remember the goal is each archive contains a <code>trylean</code> folder containing everything, and users launch <code>trylean</code> (or <code>trylean.bat</code> on Windows) and start playing immediately.</p>",
        "id": 188567973,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582134996
    },
    {
        "content": "<p>Two issues on windows:</p>\n<ul>\n<li><code>trylean.bat</code> should refer to <code>vscodium</code> and not <code>codium</code>.</li>\n<li>I was hit by <a href=\"https://github.com/VSCodium/vscodium/issues/331\" target=\"_blank\" title=\"https://github.com/VSCodium/vscodium/issues/331\">https://github.com/VSCodium/vscodium/issues/331</a>. Hopefully this should be fixed in a few days, but for now this makes it unusable.</li>\n</ul>",
        "id": 188572094,
        "sender_full_name": "Sebastien Gouezel",
        "timestamp": 1582137788
    },
    {
        "content": "<p>Thanks SÃ©bastien! We are really unlucky with Windows paranoia. We'll have to wait a bit (or stick to a VScodium version that works for a while).</p>",
        "id": 188582075,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582144384
    },
    {
        "content": "<p>Can anyone try on a Mac?</p>",
        "id": 188582080,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582144392
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"127136\">@Alex J. Best</span> could you try on your Mac?</p>",
        "id": 188586173,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582146842
    },
    {
        "content": "<p>I know it almost surely won't work because of that <code>*.app</code> thing, but this should be fixable simply by fixing the <code>trylean</code> bash script.</p>",
        "id": 188586256,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582146890
    },
    {
        "content": "<p>I downloaded unzipped and ran <code>./trylean</code> from terminal and got <code>./trylean: line 4: ./vscodium/codium: No such file or directory</code></p>",
        "id": 188587991,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1582148000
    },
    {
        "content": "<p>let me know if i was supposed to do something else!</p>",
        "id": 188588005,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1582148014
    },
    {
        "content": "<p>Yes, that's expected. The question for MacOS users is: what should I write there?</p>",
        "id": 188588023,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582148026
    },
    {
        "content": "<p>There is a folder <code>codium_portable-data</code></p>",
        "id": 188588087,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1582148046
    },
    {
        "content": "<p>I know that, from the file explorer, you can click on the folder VSCode.app and it's somehow executed.</p>",
        "id": 188588105,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582148062
    },
    {
        "content": "<p>I did some digging but no progress really, it seems that <code> ./vscodium/VSCodium.app/Contents/MacOS/Electron</code> should be the executable file, but it doesn't open in terminal as permission denied, setting <code>chmod u+x</code> on it makes it run with error message</p>\n<div class=\"codehilite\"><pre><span></span>dyld: Library not loaded: @rpath/Electron Framework.framework/Electron Framework\n  Referenced from: /Users/alex/Downloads/trylean/./vscodium/VSCodium.app/Contents/MacOS/Electron\n  Reason: no suitable image found.  Did find:\n    /Users/alex/Downloads/trylean/vscodium/VSCodium.app/Contents/MacOS/../Frameworks/Electron Framework.framework/Electron Framework: file too short\n    /Users/alex/Downloads/trylean/vscodium/VSCodium.app/Contents/MacOS/../Frameworks/Electron Framework.framework/Electron Framework: stat() failed with errno=1\nAbort trap: 6\n</pre></div>\n\n\n<p>I tried to change trylean to that path also but no avail.</p>\n<p>Running from finder I get <code>The application can't be opened</code> and after chmod  <code>The application is damaged</code></p>",
        "id": 188588931,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1582148727
    },
    {
        "content": "<p>Blind shot following <a href=\"https://www.wikihow.com/Open-Applications-Using-Terminal-on-Mac\" target=\"_blank\" title=\"https://www.wikihow.com/Open-Applications-Using-Terminal-on-Mac\">https://www.wikihow.com/Open-Applications-Using-Terminal-on-Mac</a>: could you try from the terminal <code>open src -a VSCodium</code> or other variations?</p>",
        "id": 188590143,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582149524
    },
    {
        "content": "<p><code>LSOpenURLsWithRole() failed with error -10810 for the file /Users/alex/Downloads/trylean/vscodium/VSCodium.app.</code></p>",
        "id": 188591081,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1582150164
    },
    {
        "content": "<p>Could you try using the full path the the app folder?</p>",
        "id": 188591568,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582150486
    },
    {
        "content": "<p>Same result</p>",
        "id": 188591770,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1582150662
    },
    {
        "content": "<p>This OS is so crazy...</p>",
        "id": 188591819,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582150686
    },
    {
        "content": "<p>We'll need to wait for some MacOS expert I'm afraid.</p>",
        "id": 188591855,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582150714
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110026\">@Simon Hudon</span> don't you have a Mac somewhere?</p>",
        "id": 188591924,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582150774
    },
    {
        "content": "<p>I do have a Mac, I don't know if I qualify as a Mac expert though :P</p>",
        "id": 188592102,
        "sender_full_name": "Simon Hudon",
        "timestamp": 1582150898
    },
    {
        "content": "<p>I haven't followed this conversation. What is needed?</p>",
        "id": 188592123,
        "sender_full_name": "Simon Hudon",
        "timestamp": 1582150917
    },
    {
        "content": "<p>Download <a href=\"https://www.imo.universite-paris-saclay.fr/~pmassot/trylean_darwin.zip\" target=\"_blank\" title=\"https://www.imo.universite-paris-saclay.fr/~pmassot/trylean_darwin.zip\">https://www.imo.universite-paris-saclay.fr/~pmassot/trylean_darwin.zip</a>, unzip. Fix the <code>trylean</code> bash script so that it actually lauches the VSCodium.app sitting next to it (preferably pointing it to the src folder also sitting next to it).</p>",
        "id": 188592264,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582150999
    },
    {
        "content": "<p>Note that <code>trylean</code> doesn't have to be a bash script if you know how to turn it into something Mac users could click on (since this seems to be the only supported interaction mode on this OS).</p>",
        "id": 188592360,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582151066
    },
    {
        "content": "<p>Bash sounds fine. I'm having a look</p>",
        "id": 188592843,
        "sender_full_name": "Simon Hudon",
        "timestamp": 1582151411
    },
    {
        "content": "<p>How did you get <code>VSCodium</code>? It doesn't seem to run on my computer</p>",
        "id": 188593114,
        "sender_full_name": "Simon Hudon",
        "timestamp": 1582151608
    },
    {
        "content": "<p><a href=\"https://github.com/VSCodium/vscodium/releases/tag/1.42.1\" target=\"_blank\" title=\"https://github.com/VSCodium/vscodium/releases/tag/1.42.1\">https://github.com/VSCodium/vscodium/releases/tag/1.42.1</a></p>",
        "id": 188593204,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582151651
    },
    {
        "content": "<p>Maybe I picked the wrong file in this long list</p>",
        "id": 188593234,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582151675
    },
    {
        "content": "<p>I guess I picked <a href=\"https://github.com/VSCodium/vscodium/releases/download/1.42.1/VSCodium-darwin-1.42.1.zip\" target=\"_blank\" title=\"https://github.com/VSCodium/vscodium/releases/download/1.42.1/VSCodium-darwin-1.42.1.zip\">https://github.com/VSCodium/vscodium/releases/download/1.42.1/VSCodium-darwin-1.42.1.zip</a></p>",
        "id": 188593313,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582151721
    },
    {
        "content": "<p>What happens if you get that zip and try to run its content?</p>",
        "id": 188593425,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582151797
    },
    {
        "content": "<p>Then it works</p>",
        "id": 188593489,
        "sender_full_name": "Simon Hudon",
        "timestamp": 1582151871
    },
    {
        "content": "<p>That's weird</p>",
        "id": 188593493,
        "sender_full_name": "Simon Hudon",
        "timestamp": 1582151873
    },
    {
        "content": "<p>Here's what I put in the bash file:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"ch\">#!/bin/bash</span>\n<span class=\"nv\">DIR</span><span class=\"o\">=</span><span class=\"s2\">&quot;</span><span class=\"k\">$(</span> <span class=\"nb\">cd</span> <span class=\"s2\">&quot;</span><span class=\"k\">$(</span> dirname <span class=\"s2\">&quot;</span><span class=\"si\">${</span><span class=\"nv\">BASH_SOURCE</span><span class=\"p\">[0]</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span> <span class=\"k\">)</span><span class=\"s2\">&quot;</span> &gt;/dev/null <span class=\"m\">2</span>&gt;<span class=\"p\">&amp;</span><span class=\"m\">1</span> <span class=\"o\">&amp;&amp;</span> <span class=\"nb\">pwd</span> <span class=\"k\">)</span><span class=\"s2\">&quot;</span>\n<span class=\"nb\">cd</span> <span class=\"nv\">$DIR</span>\nopen ./vscodium/VSCodium.app <span class=\"nv\">$DIR</span>/src\n</pre></div>\n\n\n<p>(note the last line)</p>",
        "id": 188593560,
        "sender_full_name": "Simon Hudon",
        "timestamp": 1582151903
    },
    {
        "content": "<p>Does it come with the Lean plugin? (great bundling by the way)</p>",
        "id": 188593585,
        "sender_full_name": "Simon Hudon",
        "timestamp": 1582151931
    },
    {
        "content": "<p>Yes, the Lean plugin is there.</p>",
        "id": 188593602,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582151946
    },
    {
        "content": "<p>Does this bash script work?</p>",
        "id": 188593608,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582151953
    },
    {
        "content": "<p>Or does it work only after you redownload VScodium from the GitHub page?</p>",
        "id": 188593666,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582152000
    },
    {
        "content": "<p>Sorry, use this line instead of the last:</p>\n<div class=\"codehilite\"><pre><span></span>open ./vscodium/VSCodium.app --args <span class=\"nv\">$DIR</span>/src\n</pre></div>",
        "id": 188593838,
        "sender_full_name": "Simon Hudon",
        "timestamp": 1582152115
    },
    {
        "content": "<p>It only works after I redownload VScodium</p>",
        "id": 188593887,
        "sender_full_name": "Simon Hudon",
        "timestamp": 1582152127
    },
    {
        "content": "<p>This is so weird. This bundle is created by <a href=\"https://gist.github.com/PatrickMassot/567833153f106379b87a20e9d3a712ef\" target=\"_blank\" title=\"https://gist.github.com/PatrickMassot/567833153f106379b87a20e9d3a712ef\">https://gist.github.com/PatrickMassot/567833153f106379b87a20e9d3a712ef</a></p>",
        "id": 188593926,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582152171
    },
    {
        "content": "<p>Opening the directory with VS code doesn't show me any highlighting but I'm asked if I want to install the Lean mode</p>",
        "id": 188593942,
        "sender_full_name": "Simon Hudon",
        "timestamp": 1582152182
    },
    {
        "content": "<p>If you reinstalled Codium then you probably lost the extension</p>",
        "id": 188593979,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582152210
    },
    {
        "content": "<p>I see</p>",
        "id": 188594010,
        "sender_full_name": "Simon Hudon",
        "timestamp": 1582152238
    },
    {
        "content": "<p>Like Simon, I wasn't able to get the VSCodium app included in <code>trylean_darwin.zip</code> to work. However, it did work after I replaced it with one downloaded from the Github list that you gave. I did, however, run into this issue (<a href=\"https://vscodium.com/\" target=\"_blank\" title=\"https://vscodium.com/\">mentioned on the VSCodium website</a>):</p>\n<blockquote>\n<p>Note for Mac OS X Mojave users: if you see âApp canât be opened because Apple cannot check it for malicious softwareâ when opening VSCodium the first time, you can right-click the application and choose Open. This should only be required the first time opening on Mojave.</p>\n</blockquote>\n<p>Next I noticed that the extension wasn't detected. I realized that <code>codium_portable-data</code> directory was misnamed. After I renamed it to <code>codium-portable-data</code>, the extension was detected.</p>\n<p>When I tried opening the <code>src/</code> directory,  I found I had to fix the permissions of the lean binary to get the extension to run. Then I had to wait a bit for the olean files to recompile. However, the timestamps in the mathlib directory all look OK to me:</p>\n<div class=\"codehilite\"><pre><span></span>$ ls -al\ntotal 9504\ndrwxr-xr-x@ 67 user  staff    2144 Feb 19 17:33 .\ndrwxr-xr-x@ 22 user  staff     704 Feb 19 00:13 ..\n-rw-r--r--@  1 user  staff   10096 Feb 19 00:13 archimedean.lean\n-rw-r--r--@  1 user  staff   81288 Feb 19 00:28 archimedean.olean\n-rw-r--r--@  1 user  staff   27278 Feb 19 00:13 associated.lean\n-rw-r--r--@  1 user  staff  191932 Feb 19 00:28 associated.olean\n-rw-r--r--@  1 user  staff   39866 Feb 19 00:13 big_operators.lean\n-rw-r--r--@  1 user  staff  322104 Feb 19 00:31 big_operators.olean\n...\n</pre></div>",
        "id": 188594070,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1582152261
    },
    {
        "content": "<p>Or maybe it ends up in the wrong location.</p>",
        "id": 188594076,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582152265
    },
    {
        "content": "<p>or with the wrong name... sorry about that</p>",
        "id": 188594143,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582152335
    },
    {
        "content": "<p>That is a subtle difference. I had to stare at it for a while</p>",
        "id": 188594222,
        "sender_full_name": "Simon Hudon",
        "timestamp": 1582152374
    },
    {
        "content": "<p>I'd be curious to see whether the mysterious problem disappear if you build the bundle on a Mac. Could you try <a href=\"https://gist.github.com/PatrickMassot/567833153f106379b87a20e9d3a712ef\" target=\"_blank\" title=\"https://gist.github.com/PatrickMassot/567833153f106379b87a20e9d3a712ef\">https://gist.github.com/PatrickMassot/567833153f106379b87a20e9d3a712ef</a> on your computer? (you need python at least 3.6 and the python packages that are used by update-mathlib anyway)</p>",
        "id": 188594388,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582152516
    },
    {
        "content": "<p>Note that I updated the gist to fix the typo.</p>",
        "id": 188594402,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582152533
    },
    {
        "content": "<p>The hope is one day that script will become part of our CI.</p>",
        "id": 188594430,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582152570
    },
    {
        "content": "<p>Hmm, it looks like some timestamps in core lean might be off, possibly due to a timezone issue:</p>\n<div class=\"codehilite\"><pre><span></span>$ ls -al\ntotal 728\ndrwxrwxr-x@ 17 user  staff     544 Feb 19 17:33 .\ndrwxrwxr-x@  8 user  staff     256 Feb 19 17:27 ..\n-rw-rw-r--@  1 user  staff    6705 Feb 19  2020 bitvec.lean\n-rw-rw-r--@  1 user  staff   41762 Feb 19  2020 bitvec.olean\ndrwxrwxr-x@  4 user  staff     128 Feb 19 17:33 buffer\n-rw-rw-r--@  1 user  staff    4607 Feb 19  2020 buffer.lean\n-rw-rw-r--@  1 user  staff   33214 Feb 19  2020 buffer.olean\n-rw-rw-r--@  1 user  staff    2838 Feb 19  2020 dlist.lean\n...\n</pre></div>\n\n\n<p>I think the fact that the year is showing up instead of the time indicates that the date is in the future.</p>\n<p>Maybe we should add some lines to the script that touch all the lean and olean files just in case.</p>",
        "id": 188594535,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1582152649
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110031\">Patrick Massot</span> <a href=\"#narrow/stream/113488-general/topic/New.20user.20bundles/near/188594388\" title=\"#narrow/stream/113488-general/topic/New.20user.20bundles/near/188594388\">said</a>:</p>\n<blockquote>\n<p>I'd be curious to see whether the mysterious problem disappear if you build the bundle on a Mac. Could you try <a href=\"https://gist.github.com/PatrickMassot/567833153f106379b87a20e9d3a712ef\" target=\"_blank\" title=\"https://gist.github.com/PatrickMassot/567833153f106379b87a20e9d3a712ef\">https://gist.github.com/PatrickMassot/567833153f106379b87a20e9d3a712ef</a> on your computer? (you need python at least 3.6 and the python packages that are used by update-mathlib anyway)</p>\n</blockquote>\n<p>What's the name of the package on <code>pip</code>?</p>",
        "id": 188594593,
        "sender_full_name": "Simon Hudon",
        "timestamp": 1582152693
    },
    {
        "content": "<p>mathlibtools</p>",
        "id": 188594691,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582152748
    },
    {
        "content": "<p>Bryan, do you also see this issue if you get Lean directly from the community release page?</p>",
        "id": 188594718,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582152784
    },
    {
        "content": "<p>I mean <a href=\"https://github.com/leanprover-community/lean/releases\" target=\"_blank\" title=\"https://github.com/leanprover-community/lean/releases\">https://github.com/leanprover-community/lean/releases</a></p>",
        "id": 188594744,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582152819
    },
    {
        "content": "<p>if you get <a href=\"https://github.com/leanprover-community/lean/releases/download/v3.5.1/lean-3.5.1-darwin.zip\" target=\"_blank\" title=\"https://github.com/leanprover-community/lean/releases/download/v3.5.1/lean-3.5.1-darwin.zip\">https://github.com/leanprover-community/lean/releases/download/v3.5.1/lean-3.5.1-darwin.zip</a> and unzip, does it have the funny timestamps?</p>",
        "id": 188594793,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582152845
    },
    {
        "content": "<p>Probably not, since your funny timestamps are from today</p>",
        "id": 188594802,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582152864
    },
    {
        "content": "<p>We really have to get rid of this timestamp checking.</p>",
        "id": 188594804,
        "sender_full_name": "Rob Lewis",
        "timestamp": 1582152866
    },
    {
        "content": "<p>We still need a way to know when to recompile</p>",
        "id": 188594819,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582152889
    },
    {
        "content": "<p>File hashes should be enough to figure that out.</p>",
        "id": 188594837,
        "sender_full_name": "Rob Lewis",
        "timestamp": 1582152916
    },
    {
        "content": "<p>Isn't it much slower?</p>",
        "id": 188594847,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582152929
    },
    {
        "content": "<p>I need to sleep, but I'd be really grateful if Mac users could make progress on this bundle idea. If the MacOS bundle needs to be build from a Mac then I guess we can still ask GitHub actions to do that.</p>",
        "id": 188594911,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582152971
    },
    {
        "content": "<p>It's not slower than constantly wondering why mathlib doesn't build, remembering the touch olean script, doing all this crazy debugging.</p>",
        "id": 188594918,
        "sender_full_name": "Rob Lewis",
        "timestamp": 1582152977
    },
    {
        "content": "<p>Yeah, I really need to sleep, I start seeing non-sense emails (like an email saying \"our university got money to fund 25-50 PhD in AI during the next 3 years, could you propose a topic?\").</p>",
        "id": 188594967,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582153043
    },
    {
        "content": "<p>People are really crazy about AI.</p>",
        "id": 188594980,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582153063
    },
    {
        "content": "<blockquote>\n<p>Bryan, do you also see this issue if you get Lean directly from the community release page?</p>\n</blockquote>\n<p>Just tested it out and I don't see the issue with the downloaded lean. Your <code>mk_bundle.py</code> is still running...</p>",
        "id": 188595097,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1582153162
    },
    {
        "content": "<p>The VSCodium.app in the output from my run of <code>mk_bundle.py</code> doesn't work either. Maybe the process of downloading and extracting from a script has screwed up the permissions?</p>",
        "id": 188595785,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1582153737
    },
    {
        "content": "<p>It's worth checking if you can</p>",
        "id": 188595880,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582153816
    },
    {
        "content": "<p>I have to run for now but I suspect we're running into some security \"feature\" of macOS.</p>",
        "id": 188595953,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1582153888
    },
    {
        "content": "<p>Indeed that sounds very plausible.</p>",
        "id": 188596022,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582153946
    },
    {
        "content": "<p>Thank you very much for investigating.</p>",
        "id": 188596026,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582153957
    },
    {
        "content": "<p>The security bug has been solved on windows, so I have tried again. Issues:</p>\n<ul>\n<li><code>trylean.bat</code> should refer to <code>vscodium</code>, not <code>codium</code></li>\n<li>it tries to recompile everything, so I guess the timestamps are not good (note that I unzipped it respecting the timestamps)</li>\n</ul>",
        "id": 188742688,
        "sender_full_name": "Sebastien Gouezel",
        "timestamp": 1582299323
    },
    {
        "content": "<p>Do you see bad timestamps?</p>",
        "id": 188742912,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582299456
    },
    {
        "content": "<p>Or do you only suspect they exist?</p>",
        "id": 188742927,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582299469
    },
    {
        "content": "<p>In fact I don't understand what is going on. The timestamps on the files look good, and if I start <code>lean --make src</code> at the root of the mathlib directory (after having set a suitable <code>path</code> file), it doesn't recompile anything. But still if I launch <code>trylean</code> and open <code>firstproofs.lean</code> the orange bar remains there forever and CPU usage jumps...</p>",
        "id": 188743643,
        "sender_full_name": "Sebastien Gouezel",
        "timestamp": 1582299858
    },
    {
        "content": "<p>Are you sure the <code>lean --make src</code> that works uses Lean from the bundle and not your regular Lean?</p>",
        "id": 188743720,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582299927
    },
    {
        "content": "<p>I am sure it uses my regular Lean, I just wanted to check it if would be happy.</p>",
        "id": 188743751,
        "sender_full_name": "Sebastien Gouezel",
        "timestamp": 1582299952
    },
    {
        "content": "<p>What happens if you use lean from the bundle?</p>",
        "id": 188743826,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582299976
    },
    {
        "content": "<p>it's in <code>lean\\bin\\lean.exe</code></p>",
        "id": 188743855,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582299995
    },
    {
        "content": "<p>I also tried to open the <code>src</code> directory of <code>trylean</code> with my regular vscode (configured with my regular lean), and the orange bar disappeared right away.</p>",
        "id": 188743860,
        "sender_full_name": "Sebastien Gouezel",
        "timestamp": 1582299998
    },
    {
        "content": "<p>Indeed,  <code>..\\lean\\bin\\lean.exe --make src</code> tries to recompile everything.</p>",
        "id": 188743983,
        "sender_full_name": "Sebastien Gouezel",
        "timestamp": 1582300073
    },
    {
        "content": "<p>Can you compare <code>lean --version</code> with <code>..\\lean\\bin\\lean.exe --version</code>?</p>",
        "id": 188744129,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582300140
    },
    {
        "content": "<p>They are the same lean version <code>Lean (version 3.5.1, commit d3a94649bdb4, Release)</code></p>",
        "id": 188744146,
        "sender_full_name": "Sebastien Gouezel",
        "timestamp": 1582300147
    },
    {
        "content": "<p>Does the crazy one also try to recompile core lib?</p>",
        "id": 188744186,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582300166
    },
    {
        "content": "<p>or only mathlib?</p>",
        "id": 188744206,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582300178
    },
    {
        "content": "<p>Only mathlib</p>",
        "id": 188744229,
        "sender_full_name": "Sebastien Gouezel",
        "timestamp": 1582300189
    },
    {
        "content": "<p>Could you compare timestamps for the (bundled) core lib and mathlib?</p>",
        "id": 188744331,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582300230
    },
    {
        "content": "<p>The bundled <code>lean.exe</code> is dated <code>19/02/2020 18:31</code>, so later than the <code>.lean</code> and <code>.olean</code> files of the library. I don't know if this might matter.</p>",
        "id": 188744580,
        "sender_full_name": "Sebastien Gouezel",
        "timestamp": 1582300362
    },
    {
        "content": "<p>Can you change that lean.exe time stamp?</p>",
        "id": 188744734,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582300448
    },
    {
        "content": "<p>Also, as I wrote above, how do timestamps for the bundled core lib and mathlib compare?</p>",
        "id": 188744778,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582300477
    },
    {
        "content": "<p>The bundled core lib timestamps are posterior to mathlib's. I guess this explains the issue.</p>",
        "id": 188744875,
        "sender_full_name": "Sebastien Gouezel",
        "timestamp": 1582300547
    },
    {
        "content": "<p>Ok, it may be due to the bundles being produced incrementally while I was developing  the bundling script. I'll try to regenerate those.</p>",
        "id": 188745312,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582300774
    },
    {
        "content": "<p>This is really weird. After running my script, mathlib olean are dated from their actual creation date while core lib get the current timestamp.</p>",
        "id": 188746140,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582301266
    },
    {
        "content": "<p>Random guess: maybe the <code>replace</code> in the lines like: <code>next(DIST_LIN.glob('lean-*')).replace(DIST_LIN/'lean')</code> are changing the timestamps?</p>",
        "id": 188747467,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1582302072
    },
    {
        "content": "<p>Yes, something like this is happening. Instead of guessing I'll try to reset all timestamps before the final zipping</p>",
        "id": 188747899,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582302303
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110050\">@Sebastien Gouezel</span> (or other windows users) could you retry from scratch (archive at <a href=\"https://www.imo.universite-paris-saclay.fr/~pmassot/try.html\" target=\"_blank\" title=\"https://www.imo.universite-paris-saclay.fr/~pmassot/try.html\">https://www.imo.universite-paris-saclay.fr/~pmassot/try.html</a>)</p>",
        "id": 188753977,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582305955
    },
    {
        "content": "<p>Works perfectly for me.</p>",
        "id": 188756849,
        "sender_full_name": "Sebastien Gouezel",
        "timestamp": 1582307658
    },
    {
        "content": "<p>Great! Now all the pressure is on MacOS users who still need to debug what happens on their side.</p>",
        "id": 188759296,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582309015
    },
    {
        "content": "<p>My suggestion after failing to find any useful info on the gatekeeper is simply to ask macOS users to download VSCodium themselves and put it in the correct directory.</p>",
        "id": 188759492,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1582309142
    },
    {
        "content": "<p>This is really sad.</p>",
        "id": 188759639,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582309235
    },
    {
        "content": "<p>And it wouldn't work because the Lean extension and VScode are intertwined.</p>",
        "id": 188759653,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582309251
    },
    {
        "content": "<p>I agree that it's sad. However, it worked for me when I was testing the earlier version of your bundle. You can still include the <code>codium-portable-whatever</code> directory that contains the extension.</p>",
        "id": 188759703,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1582309304
    },
    {
        "content": "<p>macOS user here, anything need testing?</p>",
        "id": 188759780,
        "sender_full_name": "Yufan Lou",
        "timestamp": 1582309337
    },
    {
        "content": "<p>The game is to go to <a href=\"https://www.imo.universite-paris-saclay.fr/~pmassot/try.html\" target=\"_blank\" title=\"https://www.imo.universite-paris-saclay.fr/~pmassot/try.html\">https://www.imo.universite-paris-saclay.fr/~pmassot/try.html</a>, download the macos thing, unzip, figure out why MacOS refuses to launch <code>trylean</code> (or VScodium).</p>",
        "id": 188759968,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582309486
    },
    {
        "content": "<p>My current theory is that <a href=\"https://en.wikipedia.org/wiki/Gatekeeper_(macOS)\" target=\"_blank\" title=\"https://en.wikipedia.org/wiki/Gatekeeper_(macOS)\">\"Gatekeeper\"</a> refuses to allow <code>.app</code>s downloaded by scripts on other machines to run. </p>\n<p>I just tested the latest version of the bundle, and the following sad workaround steps worked:</p>\n<ul>\n<li>download VSCodium yourself from <a href=\"https://github.com/VSCodium/vscodium/releases\" target=\"_blank\" title=\"https://github.com/VSCodium/vscodium/releases\">here</a> (I used the <code>VSCodium-darwin-*.zip</code> link but presumably the <code>.dmg</code> will work as well). Unzip and move <code>VSCodium.app</code> into the <code>vscodium</code> directory, replacing the one that was included.</li>\n<li>change the permission of <code>src/lean/bin/lean</code> to executable</li>\n<li>right-click VSCodium and click \"Open\" from the menu. A pop-up about not being able to check for malicious whatever will appear, but VSCodium will open.</li>\n<li>drag the <code>src/</code> directory onto VSCodium (or open directory on <code>src/</code> from within VSCodium)</li>\n<li>click on <code>first_proofs.lean</code> in VSCodium.</li>\n</ul>",
        "id": 188761462,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1582310454
    },
    {
        "content": "<p>wow this is the first time that the right-click trick doesn't work on a <code>.app</code></p>",
        "id": 188763375,
        "sender_full_name": "Yufan Lou",
        "timestamp": 1582311685
    },
    {
        "content": "<p>Thanks Bryan. This is not much simpler than doing a full install so I guess we'll drop the bundle idea for MacOS.</p>",
        "id": 188764282,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582312259
    },
    {
        "content": "<p>For instance there is no longer any technical or legal point in using VScodium instead of VScode with the above procedure (of course there is still the moral argument).</p>",
        "id": 188764382,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582312324
    },
    {
        "content": "<p>Bryan, do you understand what is different between the zip file you get from the VScodium release page and the one I created?</p>",
        "id": 188877928,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582481066
    },
    {
        "content": "<p>I don't understand how MacOS sees a difference</p>",
        "id": 188877931,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582481086
    },
    {
        "content": "<p>No, not really. One thing I noticed is that the executable bits on the <code>lean</code> binaries weren't set after unzipping. Perhaps the same thing happens to the binary files in the <code>.app</code> file and this screws up some hash checking.</p>",
        "id": 188878120,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1582481417
    },
    {
        "content": "<p>Did you try tweaking the executable bits?</p>",
        "id": 188883204,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582489751
    },
    {
        "content": "<p>I did, but I can't be sure that I got them all and I didn't try doing an exhaustive comparison with the downloaded <code>.app</code>.</p>",
        "id": 188883941,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1582491068
    },
    {
        "content": "<p>Do you have any idea how to do such a comparison?</p>",
        "id": 188884607,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582492204
    },
    {
        "content": "<p>Could you look into whether there's a way to fix the executable bits getting changed in the zip / unzip process first? Maybe using .tar.gz instead of ZIP will be more reliable.</p>",
        "id": 188884631,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1582492302
    },
    {
        "content": "<p>Does MacOS handles tar.gz by default?</p>",
        "id": 188884736,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582492487
    },
    {
        "content": "<p>yes</p>",
        "id": 188884738,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1582492494
    },
    {
        "content": "<p>I won't be able to try now because I'm out of GitHub API quota</p>",
        "id": 188884818,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582492669
    },
    {
        "content": "<p>Bryan, (or other Mac users), could you try again using <a href=\"https://www.imo.universite-paris-saclay.fr/~pmassot/trylean_darwin.tar.gz\" target=\"_blank\" title=\"https://www.imo.universite-paris-saclay.fr/~pmassot/trylean_darwin.tar.gz\">https://www.imo.universite-paris-saclay.fr/~pmassot/trylean_darwin.tar.gz</a>?</p>",
        "id": 188946503,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582564956
    },
    {
        "content": "<p>Indeed the zip format is very bad for permissions.</p>",
        "id": 188946534,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582564980
    },
    {
        "content": "<p>Ok so opening VScodium.app via double click now works!</p>",
        "id": 188947612,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1582565761
    },
    {
        "content": "<p>But trylean does not <span aria-label=\"confused\" class=\"emoji emoji-1f615\" role=\"img\" title=\"confused\">:confused:</span></p>",
        "id": 188947677,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1582565785
    },
    {
        "content": "<p>Do you know how to launch VScodium.app from the command line?</p>",
        "id": 188948449,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582566199
    },
    {
        "content": "<p>Making VS Code launchable from the command line <a href=\"https://code.visualstudio.com/docs/setup/mac#_launching-from-the-command-line\" target=\"_blank\" title=\"https://code.visualstudio.com/docs/setup/mac#_launching-from-the-command-line\">requires an extra step on macOS</a>; presumably the same thing is true for VScodium.</p>",
        "id": 188948771,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1582566434
    },
    {
        "content": "<p>(I'll try to test the bundle on my end later today.)</p>",
        "id": 188948782,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1582566448
    },
    {
        "content": "<p>Lol the problem with trylean was a space in the filename, as I have tested multiple versions of this which extract as <code>trylean 2</code>etc</p>",
        "id": 188949305,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1582566848
    },
    {
        "content": "<p>Next issue, the lean extension is not picked up.</p>",
        "id": 188949359,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1582566897
    },
    {
        "content": "<p>I just tested the new bundle, and it didn't open when I double clicked (âVSCodium.appâ canât be opened because Apple cannot check it for malicious software.). I had to right-click VSCodium.app and select \"Open\" to open it. (I am using macOS 10.14.6 so this is expected, according to the note on <a href=\"https://vscodium.com/\" target=\"_blank\" title=\"https://vscodium.com/\">https://vscodium.com/</a>). After VSCodium opened, it didn't find the extension. This is apparently related to the quarantine, see <a href=\"https://code.visualstudio.com/docs/editor/portable#_macos\" target=\"_blank\" title=\"https://code.visualstudio.com/docs/editor/portable#_macos\">the VS Code page on portable mode and macoS</a>. I next removed the quarantine attribute by hand by running <code>xattr -dr com.apple.quarantine VSCodium.app/</code> and then launched VSCodium. However, the extension still didn't load.</p>\n<p>In a final attempt, I tried extracting the bundle again in a new directory, and then I ran the <code>xattr</code> command in the console before opening the app with right click. This time, success! I was able to open VSCodium.app by double clicking, and the extension loaded (and worked perfectly) after I opened the <code>src/</code> directory.</p>",
        "id": 188974507,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1582584403
    },
    {
        "content": "<p>Thank you very much Bryan!</p>",
        "id": 188974680,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582584557
    },
    {
        "content": "<p>I guess this is almost something we could tell users to do.</p>",
        "id": 188974698,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582584571
    },
    {
        "content": "<p>I guess we can't do much more without building a proper installer (which would defeat the purpose of those packages that are guaranteed to install nothing outside of a designated folder and depend on nothing).</p>",
        "id": 188974792,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1582584649
    },
    {
        "content": "<p>I tried to take up this Lean bundles idea, bringing things up to date. I'd be grateful if people could test things downloaded from <a href=\"https://www.imo.universite-paris-saclay.fr/~pmassot/try.html\" title=\"https://www.imo.universite-paris-saclay.fr/~pmassot/try.html\">https://www.imo.universite-paris-saclay.fr/~pmassot/try.html</a> Remember the idea is that each archive contains an autonomous folder where you can launch <code>trylean</code> and see VScode opening the tutorials project. It probably doesn't work without promising MacOS that you really want to execute this. And maybe you need to unzip the windows file after telling Windows it's safe (or using 7zip).</p>",
        "id": 197047788,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1589107231
    },
    {
        "content": "<p>I just gave the Windows one a shot.</p>\n<ul>\n<li><del>It took about 5 mins to unzip on my laptop. Which is not bad, but also not great.</del>(Could be due to File Explorer though, CPU usage was below 30%).</li>\n<li>Windows doesn't complain when I unzipped the file, but it does complain when I ran the batch file. If you want to use this with people less familiar with things like this, you need to tell them that the Run button is hidden until the user clicks on \"More info\"</li>\n<li>mathlib imports work fine, but I get an error with <code>file 'tuto_lib' not found in the LEAN_PATH</code></li>\n</ul>",
        "id": 197051300,
        "sender_full_name": "Shing Tak Lam",
        "timestamp": 1589112094
    },
    {
        "content": "<p>I just tried this on windows. It works perfectly well, even if one extracts the zip file with the in-built windows unzipper (which messes up timestamps -- but timestamps are not relevant with recent versions of Lean, so this is not an issue). The only thing is that, the first time I launched it, there was a security screen saying that this is an unknown program, and that it was not safe to launch it, but if you continue anyway everything is fine.</p>",
        "id": 197051402,
        "sender_full_name": "Sebastien Gouezel",
        "timestamp": 1589112240
    },
    {
        "content": "<p>Yes, the file <code>tuto_lib</code> is indeed missing from File 5 on.</p>",
        "id": 197051469,
        "sender_full_name": "Sebastien Gouezel",
        "timestamp": 1589112332
    },
    {
        "content": "<p>Extracting with the standard windows unzipper takes 2 minutes on my desktop, 7-zip takes 10 seconds.</p>",
        "id": 197051522,
        "sender_full_name": "Sebastien Gouezel",
        "timestamp": 1589112397
    },
    {
        "content": "<p>Thanks!  Sorry I forgot about the unusual path setup, I'll fix that. Every line of documentation is welcome. I have no idea how to talk to Windows users and I can't see the issues.</p>",
        "id": 197052445,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1589113525
    },
    {
        "content": "<p>Worked like a dream for me on Ubuntu logged in as me (who already has everything installed of course). I could do everything by clicking (no terminal required) <em>except</em> that when I clicked on the shell script it opened in emacs. Can this file be somehow renamed so that Ubuntu will run it if you click on it?</p>",
        "id": 197054299,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1589115878
    },
    {
        "content": "<p>Thanks Kevin. All this clicking world is so strange. I'll try to investigate</p>",
        "id": 197054511,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1589116231
    }
]