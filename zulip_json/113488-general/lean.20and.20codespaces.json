[
    {
        "content": "<p>I just found <a href=\"https://www.youtube.com/watch?v=D0ZpG1k_7gs\">https://www.youtube.com/watch?v=D0ZpG1k_7gs</a><br>\nSeems interesting!</p>\n<div class=\"youtube-video message_inline_image\"><a data-id=\"D0ZpG1k_7gs\" href=\"https://www.youtube.com/watch?v=D0ZpG1k_7gs\"><img src=\"https://i.ytimg.com/vi/D0ZpG1k_7gs/default.jpg\"></a></div>",
        "id": 215747682,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1604597972
    },
    {
        "content": "<p>Github has a very similar codespaces feature</p>",
        "id": 215747832,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1604598013
    },
    {
        "content": "<p>It would be neat if we could add the necessary config to the mathlib repo so that the code-space is autopopulated with lean, elan, the vs-code extension, etc</p>",
        "id": 215747944,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1604598066
    },
    {
        "content": "<p>Neat! However, GitHub codespaces seems to be in beta right now: <a href=\"https://docs.github.com/en/free-pro-team@latest/github/developing-online-with-codespaces\">https://docs.github.com/en/free-pro-team@latest/github/developing-online-with-codespaces</a></p>",
        "id": 215748734,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1604598388
    },
    {
        "content": "<p>I haven't looked into this closely, but might this also finally solve the \"collaboration\" issue?</p>",
        "id": 215754703,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1604601018
    },
    {
        "content": "<p>My impressions is that this just gives us a way to combine the lean web editor with an interface that also lets us PR against mathlib (and any project using git) - and not that it makes it any easier to share a lean editor between multiple users</p>",
        "id": 215755012,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1604601150
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/stream/113488-general/topic/lean.20and.20codespaces/near/215754703\">said</a>:</p>\n<blockquote>\n<p>I haven't looked into this closely, but might this also finally solve the \"collaboration\" issue?</p>\n</blockquote>\n<p>Please please please please please let's figure out a way to solve this issue!</p>",
        "id": 215756189,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1604601734
    },
    {
        "content": "<p>I can't tell if multiple users can access the same codespace.  If so, this would be the ultimate solution for collaboration.  Even if only a single user can access it, it would be the ultimate replacement for the web editor.</p>",
        "id": 215758416,
        "sender_full_name": "Gabriel Ebner",
        "timestamp": 1604602759
    },
    {
        "content": "<p>The open-source version of the Github version is <a href=\"https://github.com/cdr/code-server\">https://github.com/cdr/code-server</a>. Lean extension works perfectly. <br>\n<a href=\"https://github.com/cdr/code-server/blob/v3.6.2/doc/FAQ.md#how-is-this-different-from-vs-code-codespaces\">https://github.com/cdr/code-server/blob/v3.6.2/doc/FAQ.md#how-is-this-different-from-vs-code-codespaces</a></p>",
        "id": 215758748,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1604602922
    },
    {
        "content": "<p>But you have to pay. (After 12 months of free trial, if I understand correctly.)</p>",
        "id": 215758752,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1604602923
    },
    {
        "content": "<p>what is the \"collaboration\" issue?</p>",
        "id": 215758939,
        "sender_full_name": "Kevin Lacker",
        "timestamp": 1604602996
    },
    {
        "content": "<p>vscode live share doesn't behave well with the goal window</p>",
        "id": 215758972,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1604603011
    },
    {
        "content": "<p>I think that's the \"collarboration\" issue...</p>",
        "id": 215758999,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1604603021
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"306577\">Matthew Ballard</span> <a href=\"#narrow/stream/113488-general/topic/lean.20and.20codespaces/near/215758748\">said</a>:</p>\n<blockquote>\n<p>The open-source version of the Github version is <a href=\"https://github.com/cdr/code-server\">https://github.com/cdr/code-server</a>. Lean extension works perfectly. <br>\n<a href=\"https://github.com/cdr/code-server/blob/v3.6.2/doc/FAQ.md#how-is-this-different-from-vs-code-codespaces\">https://github.com/cdr/code-server/blob/v3.6.2/doc/FAQ.md#how-is-this-different-from-vs-code-codespaces</a></p>\n</blockquote>\n<p>This looks really interesting!</p>",
        "id": 215759184,
        "sender_full_name": "Gabriel Ebner",
        "timestamp": 1604603087
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"243562\">@Adam Topaz</span> asked me to test code-server re:collab. A 5 second test from two machines was encouraging. Everything is visible and updates propagated quickly enough.</p>",
        "id": 215759225,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1604603108
    },
    {
        "content": "<p><a href=\"https://medium.com/@ow/its-finally-possible-to-code-web-apps-on-an-ipad-pro-90ad9c1fb59a\">https://medium.com/@ow/its-finally-possible-to-code-web-apps-on-an-ipad-pro-90ad9c1fb59a</a> I wanted to conference/travel focused laptop (ie tablet) but with moderate texing capabilities. I ended up at an iPad. So far it's fine. A little buggy but not annoyingly so.</p>",
        "id": 215759511,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1604603256
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"306577\">Matthew Ballard</span> <a href=\"#narrow/stream/113488-general/topic/lean.20and.20codespaces/near/215759225\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"243562\">Adam Topaz</span> asked me to test code-server re:collab. A 5 second test from two machines was encouraging. Everything is visible and updates propagated quickly enough.</p>\n</blockquote>\n<p>Wow... more details please!</p>",
        "id": 215759577,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1604603283
    },
    {
        "content": "<p>Can both machines type code, or is one of them read only?</p>",
        "id": 215759623,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1604603294
    },
    {
        "content": "<p>Both can type</p>",
        "id": 215759639,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1604603301
    },
    {
        "content": "<p>why would multiple people want to share a lean editor? instead of just working off the same branch. are you entering code into the same place at the same time?</p>",
        "id": 215759661,
        "sender_full_name": "Kevin Lacker",
        "timestamp": 1604603311
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"238605\">Kevin Lacker</span> <a href=\"#narrow/stream/113488-general/topic/lean.20and.20codespaces/near/215759661\">said</a>:</p>\n<blockquote>\n<p>why would multiple people want to share a lean editor? instead of just working off the same branch. are you entering code into the same place at the same time?</p>\n</blockquote>\n<p>pair programming, for example</p>",
        "id": 215759685,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1604603324
    },
    {
        "content": "<p>You are accessing through a browser if you expose it over the internet.</p>",
        "id": 215759696,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1604603328
    },
    {
        "content": "<p>So both can also execute terminal commands, I guess? Which might be a security issue (depending on who/what/where/when...)</p>",
        "id": 215759783,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1604603372
    },
    {
        "content": "<p>Oh yeah. There is a password to reach the server but yeah the terminal is there.</p>",
        "id": 215759884,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1604603408
    },
    {
        "content": "<p>So, was there anything you did to enable collab? Because a quick inet search seemed to say that code-server didn't have collab features</p>",
        "id": 215760010,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1604603468
    },
    {
        "content": "<p>No. I just navigated to the url from two different browsers and typed.</p>",
        "id": 215760064,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1604603501
    },
    {
        "content": "<p>has anyone tried <a href=\"https://www.codetogether.com/\">https://www.codetogether.com/</a> ? i've heard some good things but not in the context of Lean</p>",
        "id": 215760142,
        "sender_full_name": "Kevin Lacker",
        "timestamp": 1604603530
    },
    {
        "content": "<p>Like I said it was a 5 second test so I didn't try anything other than entering a word or two and seeing how it propagated/looked.</p>",
        "id": 215760187,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1604603560
    },
    {
        "content": "<p>Does code-share's install script automatically set up nginx and all that?</p>",
        "id": 215760387,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1604603649
    },
    {
        "content": "<p>No.</p>",
        "id": 215760397,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1604603656
    },
    {
        "content": "<p>I too-literally followed the steps here.</p>",
        "id": 215760452,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1604603694
    },
    {
        "content": "<p><a href=\"https://github.com/cdr/code-server/blob/v3.6.2/doc/guide.md\">https://github.com/cdr/code-server/blob/v3.6.2/doc/guide.md</a></p>",
        "id": 215760454,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1604603695
    },
    {
        "content": "<p>I used the caddy option.</p>",
        "id": 215760518,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1604603730
    },
    {
        "content": "<p>Some people just travel around it with on a raspberry pi. Apparently.</p>",
        "id": 215760655,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1604603807
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/stream/113488-general/topic/lean.20and.20codespaces/near/215754703\">said</a>:</p>\n<blockquote>\n<p>I haven't looked into this closely, but might this also finally solve the \"collaboration\" issue?</p>\n</blockquote>\n<p>By the way there's a partial solution to this, by no means ideal but sometimes good enough: in VSCode with liveshare, if the collaborator (that is, non-host) disables lean checking, then any messages in the project are reported in the problems window, which is just about good enough for the collaborator to figure out the active goal state. You can't look at the goal state at cursor or anything like that, but using focus blocks you can see what's left on any unsolved goals</p>",
        "id": 215772605,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1604609688
    },
    {
        "content": "<p>I couldn't even get the liveshare extension to work... it ought to work with a github account, but I couldn't get it working</p>",
        "id": 215772830,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1604609804
    },
    {
        "content": "<p>I now have my own <code>code-server</code> running. Seems like it works quite well</p>",
        "id": 215772852,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1604609818
    },
    {
        "content": "<p>I can confirm that \"collab\" mode seems to work.</p>",
        "id": 215773905,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1604610274
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/stream/113488-general/topic/lean.20and.20codespaces/near/215773905\">said</a>:</p>\n<blockquote>\n<p>I can confirm that \"collab\" mode seems to work.</p>\n</blockquote>\n<p>collab mode?</p>",
        "id": 215774020,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1604610330
    },
    {
        "content": "<p>I guess I should run the server under a separate unix user, because otherwise you can browse my entire home directory</p>",
        "id": 215774024,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1604610331
    },
    {
        "content": "<p>Same as what you did: just login twice</p>",
        "id": 215774056,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1604610347
    },
    {
        "content": "<p>Wondering if I missed something.</p>",
        "id": 215774147,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1604610380
    },
    {
        "content": "<p>Everyone that's logged in sees the same version of a file, if they open the same file. But you aren't force to have the same files open. You can work on separate folders if you want.</p>",
        "id": 215774165,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1604610390
    },
    {
        "content": "<p>In particular, I can't even notice if another user is hacking around in a terminal, or something like that.</p>",
        "id": 215774212,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1604610418
    },
    {
        "content": "<p>Good or bad?</p>",
        "id": 215774257,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1604610451
    },
    {
        "content": "<p>I guess you can't really avoid it...</p>",
        "id": 215774429,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1604610530
    },
    {
        "content": "<p>Well, CoCalc managed to, somehow</p>",
        "id": 215774449,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1604610541
    },
    {
        "content": "<p>But anyway, under a fresh unix user, I don't think much damage can be done.</p>",
        "id": 215774472,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1604610556
    },
    {
        "content": "<p>cocalc runs in a docker container (or something)</p>",
        "id": 215774474,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1604610558
    },
    {
        "content": "<p>you can do the same on your server</p>",
        "id": 215774501,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1604610577
    },
    {
        "content": "<p>You can run this in a container also. I think.</p>",
        "id": 215774508,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1604610580
    },
    {
        "content": "<p>just dont keep your bitcoin wallet on the same machine you use for sharing lean sessions</p>",
        "id": 215774598,
        "sender_full_name": "Kevin Lacker",
        "timestamp": 1604610609
    },
    {
        "content": "<p>I bet you can use firejail also</p>",
        "id": 215774600,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1604610610
    },
    {
        "content": "<p>Or, if you're running bsd for some reason, bsd-jails</p>",
        "id": 215774733,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1604610698
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"112680\">@Johan Commelin</span> If you get a docker file set up for this, it would be GREAT if you could share it!</p>",
        "id": 215775284,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1604610968
    },
    {
        "content": "<p>/me has never used docker before</p>",
        "id": 215775657,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1604611171
    },
    {
        "content": "<p>/me hasn't either... that's why he wants help :)</p>",
        "id": 215775774,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1604611215
    },
    {
        "content": "<p>User home directories are usually world-readable by default on Linux</p>",
        "id": 215776059,
        "sender_full_name": "Reid Barton",
        "timestamp": 1604611373
    },
    {
        "content": "<p>but not from a docker container, I don't think</p>",
        "id": 215776100,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1604611397
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110032\">Reid Barton</span> <a href=\"#narrow/stream/113488-general/topic/lean.20and.20codespaces/near/215776059\">said</a>:</p>\n<blockquote>\n<p>User home directories are usually world-readable by default on Linux</p>\n</blockquote>\n<p>Hmm, good point. But at least my private keys aren't</p>",
        "id": 215776126,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1604611420
    },
    {
        "content": "<p>I use a virtual machine dedicated to this. If someone takes it over, eh.</p>",
        "id": 215776232,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1604611462
    },
    {
        "content": "<p>Though I think containers are definitely more fashionable.</p>",
        "id": 215776265,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1604611487
    },
    {
        "content": "<p>Worth noting that Docker runs as root by default (the rootless mode is 'experimental'), so you have to trust the Docker daemon to properly enforce the sandbox. A VM is probably harder to attack. Then again, your collaborator who gets a bit too nosey but isn't an NSA agent probably won't get out of either.</p>",
        "id": 215839386,
        "sender_full_name": "Jannis Limperg",
        "timestamp": 1604666001
    }
]