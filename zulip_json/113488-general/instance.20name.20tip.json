[
    {
        "content": "<p>Well blow me down if I didn't just discover completely by accident a trick to solve a problem which has annoyed me for years.</p>\n<p>Sometimes I am staring at code which says</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">instance</span> <span class=\"o\">(</span><span class=\"n\">R</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span> <span class=\"o\">[</span><span class=\"n\">comm_ring</span> <span class=\"n\">R</span><span class=\"o\">]</span> <span class=\"o\">(</span><span class=\"n\">G</span><span class=\"bp\">ᵢ</span> <span class=\"o\">:</span> <span class=\"n\">ℤ</span> <span class=\"bp\">→</span> <span class=\"n\">add_subgroup</span> <span class=\"n\">R</span><span class=\"o\">)</span>\n  <span class=\"o\">[</span><span class=\"n\">has_add_subgroup_decomposition</span> <span class=\"n\">G</span><span class=\"bp\">ᵢ</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"n\">add_subgroup.is_gmonoid</span> <span class=\"n\">G</span><span class=\"bp\">ᵢ</span><span class=\"o\">]</span> <span class=\"o\">:</span>\n  <span class=\"n\">algebra</span> <span class=\"o\">(</span><span class=\"n\">zero_piece_subring</span> <span class=\"n\">G</span><span class=\"bp\">ᵢ</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">nonneg_piece_subring_of_int_grading</span> <span class=\"n\">G</span><span class=\"bp\">ᵢ</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"bp\">...</span>\n</code></pre></div>\n<p>or whatever, and thinking \"I wish I knew the explicit name of that instance\" (e.g. so I can explicitly feed it somewhere else). The algorithm to generate instance names is something I've never been on top of (and at least in the past depended on whether we were in the root namespace or not, although this might have changed recently).</p>\n<p>Here's a stupid hack: just replace the def after the <code>:=</code> by <code>sorry #exit</code> and then <code>instance</code> gets underlined in orange, and when you click on it, it says <code>declaration 'direct_sum.has_add_subgroup_decomposition.nonneg_piece_subring_of_int_grading.algebra' uses sorry</code> <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span></p>",
        "id": 237007413,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1619909695
    }
]