[
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib/tree/lean-3.31.0\">https://github.com/leanprover-community/mathlib/tree/lean-3.31.0</a> hasn't moved in a couple of days. Anyone know what's up?<br>\ncc: <span class=\"user-mention\" data-user-id=\"110043\">@Gabriel Ebner</span> <span class=\"user-mention\" data-user-id=\"123965\">@Bryan Gin-ge Chen</span></p>",
        "id": 248845735,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1628515724
    },
    {
        "content": "<p>Scheduled github actions only run for 30 days or so before human intervention.</p>",
        "id": 248845898,
        "sender_full_name": "Gabriel Ebner",
        "timestamp": 1628515808
    },
    {
        "content": "<p>I believe we need to press some button here in this repo: <a href=\"https://github.com/leanprover-community/azure-scripts\">https://github.com/leanprover-community/azure-scripts</a></p>",
        "id": 248845915,
        "sender_full_name": "Gabriel Ebner",
        "timestamp": 1628515817
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/azure-scripts/actions/workflows/branch_update.yml\">https://github.com/leanprover-community/azure-scripts/actions/workflows/branch_update.yml</a></p>",
        "id": 248845939,
        "sender_full_name": "Gabriel Ebner",
        "timestamp": 1628515837
    },
    {
        "content": "<p>You need to click on \"enable workflow\" here ^^^</p>",
        "id": 248845952,
        "sender_full_name": "Gabriel Ebner",
        "timestamp": 1628515843
    },
    {
        "content": "<p>done</p>",
        "id": 248845976,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1628515855
    },
    {
        "content": "<p>And the branch is up to date again.</p>",
        "id": 248846168,
        "sender_full_name": "Gabriel Ebner",
        "timestamp": 1628515969
    },
    {
        "content": "<p>What is the name of the staging branch for the upcoming version of lean? I created a <code>lean-3.32.0</code> branch but this discussion sounds like the bot handles this branch specially</p>",
        "id": 248939452,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1628570158
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110049\">@Mario Carneiro</span> yep, that branch name is forbidden. But you can use somehting like <code>lean-3-32-0</code></p>",
        "id": 248941152,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1628572372
    },
    {
        "content": "<p>what does the bot do with the lean-3.x branches?</p>",
        "id": 248941270,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1628572529
    },
    {
        "content": "<p>I think <code>leanpkg</code> uses them for dependency upgrades.</p>",
        "id": 248941859,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1628573274
    },
    {
        "content": "<p>If you run <code>leanpkg upgrade</code> in some package like LTE, then it looks at the lean version you are using, discovers it is interested in <code>lean-3.31.0</code> and then bumps mathlib to the <code>lean-3.31.0</code> branch.<br>\nThe bot automatically moves <code>lean-3.31.0</code> along with master, until lean is bumped to a new version.</p>",
        "id": 248941924,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1628573344
    }
]