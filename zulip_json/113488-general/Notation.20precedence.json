[
    {
        "content": "<p>Here I have some basics of category theory. I'm in the process of establishing that the category of categories is indeed a category. I wanted F‚ü¶f‚üß to be notation for functor application, but I can't get the notation to bind the closest. See the definition of Mor below for where I define this notation. </p>\n<p>Goal: I want to use notations F‚ü¶f‚üß and F‚ü¶X‚üß for \"apply functor at morphism\" and \"apply functor at object\". I want Lean to try to match F‚ü¶f‚üß first, then to try F‚ü¶X‚üß (object application, see definition of FunObj), only then other functions. Is this possible?</p>\n<p>Right now it doesn't seem to bind that way.</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">notation</span> <span class=\"s2\">\"Œ£\"</span> <span class=\"s2\">\"(\"</span> <span class=\"n\">X</span> <span class=\"s2\">\":\"</span> <span class=\"n\">A</span> <span class=\"s2\">\")\"</span> <span class=\"s2\">\":\"</span> <span class=\"n\">F</span> <span class=\"bp\">=&gt;</span> <span class=\"bp\">Œ£'</span> <span class=\"o\">(</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">A</span><span class=\"o\">),</span> <span class=\"n\">F</span>\n<span class=\"kd\">notation</span> <span class=\"s2\">\"Œ†\"</span> <span class=\"s2\">\"(\"</span> <span class=\"n\">X</span> <span class=\"s2\">\":\"</span> <span class=\"n\">A</span> <span class=\"s2\">\")\"</span> <span class=\"s2\">\":\"</span> <span class=\"n\">F</span> <span class=\"bp\">=&gt;</span> <span class=\"k\">forall</span> <span class=\"o\">(</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">A</span><span class=\"o\">),</span> <span class=\"n\">F</span>\n<span class=\"kd\">notation</span> <span class=\"s2\">\"(\"</span>  <span class=\"n\">x</span>  <span class=\"s2\">\":\"</span>  <span class=\"n\">X</span>  <span class=\"s2\">\")\"</span> <span class=\"s2\">\"‚Ü¶\"</span> <span class=\"n\">F</span> <span class=\"bp\">=&gt;</span> <span class=\"o\">(</span><span class=\"k\">fun</span> <span class=\"o\">(</span><span class=\"n\">x</span> <span class=\"o\">:</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">F</span><span class=\"o\">)</span>\n<span class=\"kd\">notation</span> <span class=\"s2\">\"*\"</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">Unit.unit</span>\n<span class=\"kd\">notation</span> <span class=\"s2\">\"‚äõ\"</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">Unit</span>\n<span class=\"kd\">notation</span> <span class=\"n\">x</span> <span class=\"s2\">\"‚â°\"</span> <span class=\"n\">y</span> <span class=\"bp\">=&gt;</span> <span class=\"bp\">Œ£</span><span class=\"o\">(</span><span class=\"n\">_</span><span class=\"o\">:</span><span class=\"n\">x</span><span class=\"bp\">=</span><span class=\"n\">y</span><span class=\"o\">):</span><span class=\"bp\">‚äõ</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">Refl</span> <span class=\"o\">{</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"n\">_</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">x</span> <span class=\"o\">:</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">x</span><span class=\"bp\">‚â°</span><span class=\"n\">x</span> <span class=\"o\">:=</span> <span class=\"n\">PSigma.mk</span> <span class=\"o\">(</span><span class=\"n\">Eq.refl</span> <span class=\"n\">x</span><span class=\"o\">)</span> <span class=\"bp\">*</span>\n<span class=\"kd\">def</span> <span class=\"n\">Symm</span> <span class=\"o\">{</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"n\">_</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">x</span> <span class=\"o\">:</span> <span class=\"n\">X</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">y</span> <span class=\"o\">:</span> <span class=\"n\">X</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">f</span><span class=\"o\">:</span><span class=\"bp\">Œ£</span><span class=\"o\">(</span><span class=\"n\">_</span> <span class=\"o\">:</span> <span class=\"n\">x</span> <span class=\"bp\">=</span> <span class=\"n\">y</span><span class=\"o\">):</span><span class=\"bp\">‚äõ</span><span class=\"o\">):(</span><span class=\"n\">y</span><span class=\"bp\">‚â°</span><span class=\"n\">x</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"n\">PSigma.mk</span> <span class=\"o\">(</span><span class=\"n\">Eq.symm</span> <span class=\"n\">f.1</span><span class=\"o\">)</span> <span class=\"bp\">*</span>\n<span class=\"kd\">def</span> <span class=\"n\">Trns</span> <span class=\"o\">{</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"n\">_</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">x</span> <span class=\"o\">:</span> <span class=\"n\">X</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">y</span> <span class=\"o\">:</span> <span class=\"n\">X</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">z</span> <span class=\"o\">:</span> <span class=\"n\">X</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"bp\">Œ£</span><span class=\"o\">(</span><span class=\"n\">_</span> <span class=\"o\">:</span> <span class=\"n\">x</span> <span class=\"bp\">=</span> <span class=\"n\">y</span><span class=\"o\">):</span><span class=\"bp\">‚äõ</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">g</span> <span class=\"o\">:</span> <span class=\"bp\">Œ£</span><span class=\"o\">(</span><span class=\"n\">_</span> <span class=\"o\">:</span> <span class=\"n\">y</span> <span class=\"bp\">=</span> <span class=\"n\">z</span><span class=\"o\">):</span><span class=\"bp\">‚äõ</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">x</span><span class=\"bp\">‚â°</span><span class=\"n\">z</span><span class=\"o\">):=</span> <span class=\"n\">PSigma.mk</span> <span class=\"o\">(</span><span class=\"n\">Eq.trans</span> <span class=\"n\">f.1</span> <span class=\"n\">g.1</span><span class=\"o\">)</span> <span class=\"bp\">*</span>\n<span class=\"kd\">def</span> <span class=\"n\">Push</span> <span class=\"o\">{</span><span class=\"n\">X</span><span class=\"o\">:</span><span class=\"kt\">Type</span> <span class=\"n\">_</span><span class=\"o\">}{</span><span class=\"n\">Y</span><span class=\"o\">:</span><span class=\"kt\">Type</span> <span class=\"n\">_</span><span class=\"o\">}{</span><span class=\"n\">x</span><span class=\"o\">:</span><span class=\"n\">X</span><span class=\"o\">}{</span><span class=\"n\">y</span><span class=\"o\">:</span><span class=\"n\">X</span><span class=\"o\">}(</span><span class=\"n\">f</span><span class=\"o\">:</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">_</span><span class=\"o\">:</span><span class=\"n\">X</span><span class=\"o\">):</span><span class=\"n\">Y</span><span class=\"o\">)(</span><span class=\"n\">p</span><span class=\"o\">:</span><span class=\"n\">x</span><span class=\"bp\">‚â°</span><span class=\"n\">y</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"n\">x</span> <span class=\"bp\">‚â°</span> <span class=\"n\">f</span> <span class=\"n\">y</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"o\">‚ü®</span><span class=\"n\">congrArg</span> <span class=\"n\">f</span> <span class=\"n\">p.1</span><span class=\"o\">,</span> <span class=\"bp\">*</span><span class=\"o\">‚ü©</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">Cat</span> <span class=\"o\">:=</span>\n<span class=\"bp\">Œ£</span><span class=\"o\">(</span><span class=\"n\">Obj</span><span class=\"o\">:</span><span class=\"kt\">Type</span> <span class=\"n\">_</span><span class=\"o\">):</span>\n<span class=\"bp\">Œ£</span><span class=\"o\">(</span><span class=\"n\">Hom</span><span class=\"o\">:</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">_</span><span class=\"o\">:</span><span class=\"n\">Obj</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">_</span><span class=\"o\">:</span><span class=\"n\">Obj</span><span class=\"o\">):(</span><span class=\"kt\">Type</span> <span class=\"n\">_</span><span class=\"o\">)):</span>\n<span class=\"bp\">Œ£</span><span class=\"o\">(</span><span class=\"n\">Id</span><span class=\"o\">:</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"o\">:</span><span class=\"n\">Obj</span><span class=\"o\">):(</span><span class=\"n\">Hom</span> <span class=\"n\">X</span> <span class=\"n\">X</span><span class=\"o\">)):</span>\n<span class=\"bp\">Œ£</span><span class=\"o\">(</span><span class=\"n\">Cmp</span><span class=\"o\">:</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"o\">:</span><span class=\"n\">Obj</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">Y</span><span class=\"o\">:</span><span class=\"n\">Obj</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">Z</span><span class=\"o\">:</span><span class=\"n\">Obj</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">_</span><span class=\"o\">:</span><span class=\"n\">Hom</span> <span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">_</span><span class=\"o\">:</span><span class=\"n\">Hom</span> <span class=\"n\">Y</span> <span class=\"n\">Z</span><span class=\"o\">):(</span><span class=\"n\">Hom</span> <span class=\"n\">X</span> <span class=\"n\">Z</span><span class=\"o\">)):</span>\n<span class=\"bp\">Œ£</span><span class=\"o\">(</span><span class=\"n\">_</span><span class=\"o\">:</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"o\">:</span><span class=\"n\">Obj</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">Y</span><span class=\"o\">:</span><span class=\"n\">Obj</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"o\">:</span><span class=\"n\">Hom</span> <span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">):(</span><span class=\"n\">Cmp</span> <span class=\"n\">X</span> <span class=\"n\">Y</span> <span class=\"n\">Y</span><span class=\"o\">)</span> <span class=\"n\">f</span> <span class=\"o\">(</span><span class=\"n\">Id</span> <span class=\"n\">Y</span><span class=\"o\">)</span> <span class=\"bp\">‚â°</span> <span class=\"n\">f</span><span class=\"o\">):</span>\n<span class=\"bp\">Œ£</span><span class=\"o\">(</span><span class=\"n\">_</span><span class=\"o\">:</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"o\">:</span><span class=\"n\">Obj</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">Y</span><span class=\"o\">:</span><span class=\"n\">Obj</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"o\">:</span><span class=\"n\">Hom</span> <span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">):(</span><span class=\"n\">Cmp</span> <span class=\"n\">X</span> <span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">Id</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"n\">f</span> <span class=\"bp\">‚â°</span> <span class=\"n\">f</span><span class=\"o\">):</span>\n<span class=\"bp\">Œ£</span><span class=\"o\">(</span><span class=\"n\">_</span><span class=\"o\">:</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">W</span><span class=\"o\">:</span><span class=\"n\">Obj</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"o\">:</span><span class=\"n\">Obj</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">Y</span><span class=\"o\">:</span><span class=\"n\">Obj</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">Z</span><span class=\"o\">:</span><span class=\"n\">Obj</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"o\">:</span><span class=\"n\">Hom</span> <span class=\"n\">W</span> <span class=\"n\">X</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">g</span><span class=\"o\">:</span><span class=\"n\">Hom</span> <span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"o\">:</span><span class=\"n\">Hom</span> <span class=\"n\">Y</span> <span class=\"n\">Z</span><span class=\"o\">):(</span><span class=\"n\">Cmp</span> <span class=\"n\">W</span> <span class=\"n\">X</span> <span class=\"n\">Z</span><span class=\"o\">)</span> <span class=\"n\">f</span> <span class=\"o\">(</span><span class=\"n\">Cmp</span> <span class=\"n\">X</span> <span class=\"n\">Y</span> <span class=\"n\">Z</span> <span class=\"n\">g</span> <span class=\"n\">h</span><span class=\"o\">)</span> <span class=\"bp\">‚â°</span> <span class=\"n\">Cmp</span> <span class=\"n\">W</span> <span class=\"n\">Y</span> <span class=\"n\">Z</span> <span class=\"o\">(</span><span class=\"n\">Cmp</span> <span class=\"n\">W</span> <span class=\"n\">X</span> <span class=\"n\">Y</span> <span class=\"n\">f</span> <span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"n\">h</span><span class=\"o\">):</span>\n<span class=\"bp\">‚äõ</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">Obj</span> <span class=\"o\">(</span><span class=\"n\">C</span> <span class=\"o\">:</span> <span class=\"n\">Cat</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"n\">C.1</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">Hom</span> <span class=\"o\">{</span><span class=\"n\">C</span> <span class=\"o\">:</span> <span class=\"n\">Cat</span> <span class=\"o\">}(</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">)(</span><span class=\"n\">Y</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"n\">C.2.1</span> <span class=\"n\">X</span> <span class=\"n\">Y</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">Idn</span> <span class=\"o\">{</span> <span class=\"n\">C</span> <span class=\"o\">:</span> <span class=\"n\">Cat</span> <span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"n\">C.2.2.1</span> <span class=\"n\">X</span>\n<span class=\"kd\">notation</span> <span class=\"s2\">\"ùüô\"</span> <span class=\"n\">X</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">Idn</span> <span class=\"n\">X</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">Cmp</span> <span class=\"o\">{</span><span class=\"n\">C</span> <span class=\"o\">:</span> <span class=\"n\">Cat</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">Y</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">Z</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">Hom</span> <span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">g</span> <span class=\"o\">:</span> <span class=\"n\">Hom</span> <span class=\"n\">Y</span> <span class=\"n\">Z</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"n\">C.2.2.2.1</span> <span class=\"n\">X</span> <span class=\"n\">Y</span> <span class=\"n\">Z</span> <span class=\"n\">f</span> <span class=\"n\">g</span>\n<span class=\"kd\">notation</span> <span class=\"n\">g</span> <span class=\"s2\">\"‚àò\"</span> <span class=\"n\">f</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">Cmp</span> <span class=\"n\">f</span> <span class=\"n\">g</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">CmpIdn</span> <span class=\"o\">{</span><span class=\"n\">C</span> <span class=\"o\">:</span> <span class=\"n\">Cat</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">Y</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">Hom</span> <span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"n\">C.2.2.2.2.2.1</span> <span class=\"n\">X</span> <span class=\"n\">Y</span> <span class=\"n\">f</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">IdnCmp</span> <span class=\"o\">{</span><span class=\"n\">C</span> <span class=\"o\">:</span> <span class=\"n\">Cat</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">Y</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">Hom</span> <span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"n\">C.2.2.2.2.1</span> <span class=\"n\">X</span> <span class=\"n\">Y</span> <span class=\"n\">f</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">CmpCmp</span> <span class=\"o\">{</span><span class=\"n\">C</span> <span class=\"o\">:</span> <span class=\"n\">Cat</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">W</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">Y</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">Z</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">Hom</span> <span class=\"n\">W</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">g</span> <span class=\"o\">:</span> <span class=\"n\">Hom</span> <span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">h</span> <span class=\"o\">:</span> <span class=\"n\">Hom</span> <span class=\"n\">Y</span> <span class=\"n\">Z</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"n\">C.2.2.2.2.2.2.1</span> <span class=\"n\">W</span> <span class=\"n\">X</span> <span class=\"n\">Y</span> <span class=\"n\">Z</span> <span class=\"n\">f</span> <span class=\"n\">g</span> <span class=\"n\">h</span>\n<span class=\"kd\">def</span> <span class=\"n\">CatObj</span> <span class=\"o\">:=</span> <span class=\"n\">Cat</span>\n\n\n<span class=\"kd\">def</span> <span class=\"n\">CatHom</span> <span class=\"o\">(</span><span class=\"n\">C</span> <span class=\"o\">:</span> <span class=\"n\">Cat</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">D</span> <span class=\"o\">:</span> <span class=\"n\">Cat</span><span class=\"o\">)</span> <span class=\"o\">:=</span>\n<span class=\"bp\">Œ£</span><span class=\"o\">(</span><span class=\"n\">FunObj</span> <span class=\"o\">:</span> <span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">_</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">):</span><span class=\"n\">Obj</span> <span class=\"n\">D</span><span class=\"o\">):</span>\n<span class=\"bp\">Œ£</span><span class=\"o\">(</span><span class=\"n\">FunHom</span> <span class=\"o\">:</span> <span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">Y</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">_</span> <span class=\"o\">:</span> <span class=\"n\">Hom</span> <span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">):</span><span class=\"n\">Hom</span> <span class=\"o\">(</span><span class=\"n\">FunObj</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">FunObj</span> <span class=\"n\">Y</span><span class=\"o\">)):</span>\n<span class=\"bp\">Œ£</span><span class=\"o\">(</span><span class=\"n\">_</span> <span class=\"o\">:</span> <span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">):</span> <span class=\"n\">FunHom</span> <span class=\"n\">X</span> <span class=\"n\">X</span> <span class=\"o\">(</span><span class=\"n\">Idn</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"bp\">‚â°</span> <span class=\"n\">Idn</span> <span class=\"o\">(</span><span class=\"n\">FunObj</span> <span class=\"n\">X</span><span class=\"o\">)):</span>\n<span class=\"bp\">Œ£</span><span class=\"o\">(</span><span class=\"n\">_</span> <span class=\"o\">:</span> <span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">Y</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">Z</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">Hom</span> <span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">g</span> <span class=\"o\">:</span> <span class=\"n\">Hom</span> <span class=\"n\">Y</span> <span class=\"n\">Z</span><span class=\"o\">):</span><span class=\"n\">Cmp</span> <span class=\"o\">(</span><span class=\"n\">FunHom</span> <span class=\"n\">X</span> <span class=\"n\">Y</span> <span class=\"n\">f</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">FunHom</span> <span class=\"n\">Y</span> <span class=\"n\">Z</span> <span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">‚â°</span> <span class=\"n\">FunHom</span> <span class=\"n\">X</span> <span class=\"n\">Z</span> <span class=\"o\">(</span><span class=\"n\">Cmp</span> <span class=\"n\">f</span> <span class=\"n\">g</span><span class=\"o\">)):</span>\n<span class=\"bp\">‚äõ</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">FunObj</span> <span class=\"o\">{</span><span class=\"n\">C</span> <span class=\"o\">:</span> <span class=\"n\">Cat</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">D</span> <span class=\"o\">:</span> <span class=\"n\">Cat</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">F</span> <span class=\"o\">:</span> <span class=\"n\">CatHom</span> <span class=\"n\">C</span> <span class=\"n\">D</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"n\">F.1</span> <span class=\"n\">X</span>\n<span class=\"kd\">notation</span> <span class=\"n\">F</span> <span class=\"s2\">\"[\"</span> <span class=\"n\">X</span> <span class=\"s2\">\"]\"</span> <span class=\"bp\">=&gt;</span> <span class=\"o\">(</span><span class=\"n\">FunObj</span> <span class=\"n\">F</span> <span class=\"n\">X</span><span class=\"o\">)</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">Mor</span> <span class=\"o\">{</span><span class=\"n\">C</span> <span class=\"o\">:</span> <span class=\"n\">Cat</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">D</span> <span class=\"o\">:</span> <span class=\"n\">Cat</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">Y</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">F</span> <span class=\"o\">:</span> <span class=\"n\">CatHom</span> <span class=\"n\">C</span> <span class=\"n\">D</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">Hom</span> <span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"n\">F.2.1</span> <span class=\"n\">X</span> <span class=\"n\">Y</span> <span class=\"n\">f</span>\n<span class=\"kd\">notation</span> <span class=\"n\">F</span> <span class=\"s2\">\"‚ü¶\"</span> <span class=\"n\">f</span> <span class=\"s2\">\"‚üß\"</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">Mor</span> <span class=\"n\">F</span> <span class=\"n\">f</span>\n</code></pre></div>",
        "id": 320268961,
        "sender_full_name": "Kind Bubble",
        "timestamp": 1673281576
    },
    {
        "content": "<p>This is in fact a problem that we have tried solving for a while now.</p>",
        "id": 320270289,
        "sender_full_name": "Ya√´l Dillies",
        "timestamp": 1673281910
    },
    {
        "content": "<p>What's the general situation? </p>\n<p>Also any tips are much appreciated, as well as advice for notation here.</p>",
        "id": 320270555,
        "sender_full_name": "Kind Bubble",
        "timestamp": 1673281968
    },
    {
        "content": "<p>I thought I saw something where notation precedence was automatically set to 1000.</p>",
        "id": 320270708,
        "sender_full_name": "Kind Bubble",
        "timestamp": 1673282013
    },
    {
        "content": "<p>We want to have coercions to functions for both <a href=\"https://leanprover-community.github.io/mathlib_docs/find/category_theory.functor.obj\">docs#category_theory.functor.obj</a> and <a href=\"https://leanprover-community.github.io/mathlib_docs/find/category_theory.functor.map\">docs#category_theory.functor.map</a></p>",
        "id": 320270957,
        "sender_full_name": "Ya√´l Dillies",
        "timestamp": 1673282072
    },
    {
        "content": "<p>These have some good notation at least. I do like the braces though since that's more common with pen and paper.</p>",
        "id": 320271546,
        "sender_full_name": "Kind Bubble",
        "timestamp": 1673282196
    },
    {
        "content": "<p>nvm looks like it's just this:<br>\n<a href=\"https://leanprover.github.io/lean4/doc/notation.html\">https://leanprover.github.io/lean4/doc/notation.html</a></p>\n<p>but I was wondering if I could overload notation here without any trouble. What if I just wanted the precedence for the morphism application to be lower (which presumably means it tries it first?).</p>",
        "id": 320273412,
        "sender_full_name": "Kind Bubble",
        "timestamp": 1673282700
    },
    {
        "content": "<p>Ok I tried that idea and evidently lean 4 doesn't give me any grief:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">notation</span> <span class=\"s2\">\"Œ£\"</span> <span class=\"s2\">\"(\"</span> <span class=\"n\">X</span> <span class=\"s2\">\":\"</span> <span class=\"n\">A</span> <span class=\"s2\">\")\"</span> <span class=\"s2\">\":\"</span> <span class=\"n\">F</span> <span class=\"bp\">=&gt;</span> <span class=\"bp\">Œ£'</span> <span class=\"o\">(</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">A</span><span class=\"o\">),</span> <span class=\"n\">F</span>\n<span class=\"kd\">notation</span> <span class=\"s2\">\"Œ†\"</span> <span class=\"s2\">\"(\"</span> <span class=\"n\">X</span> <span class=\"s2\">\":\"</span> <span class=\"n\">A</span> <span class=\"s2\">\")\"</span> <span class=\"s2\">\":\"</span> <span class=\"n\">F</span> <span class=\"bp\">=&gt;</span> <span class=\"k\">forall</span> <span class=\"o\">(</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">A</span><span class=\"o\">),</span> <span class=\"n\">F</span>\n<span class=\"kd\">notation</span> <span class=\"s2\">\"(\"</span>  <span class=\"n\">x</span>  <span class=\"s2\">\":\"</span>  <span class=\"n\">X</span>  <span class=\"s2\">\")\"</span> <span class=\"s2\">\"‚Ü¶\"</span> <span class=\"n\">F</span> <span class=\"bp\">=&gt;</span> <span class=\"o\">(</span><span class=\"k\">fun</span> <span class=\"o\">(</span><span class=\"n\">x</span> <span class=\"o\">:</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">F</span><span class=\"o\">)</span>\n<span class=\"kd\">notation</span> <span class=\"s2\">\"*\"</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">Unit.unit</span>\n<span class=\"kd\">notation</span> <span class=\"s2\">\"‚äõ\"</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">Unit</span>\n<span class=\"kd\">notation</span> <span class=\"n\">x</span> <span class=\"s2\">\"‚â°\"</span> <span class=\"n\">y</span> <span class=\"bp\">=&gt;</span> <span class=\"bp\">Œ£</span><span class=\"o\">(</span><span class=\"n\">_</span><span class=\"o\">:</span><span class=\"n\">x</span><span class=\"bp\">=</span><span class=\"n\">y</span><span class=\"o\">):</span><span class=\"bp\">‚äõ</span>\n<span class=\"kd\">def</span> <span class=\"n\">Refl</span> <span class=\"o\">{</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"n\">_</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">x</span> <span class=\"o\">:</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">x</span><span class=\"bp\">‚â°</span><span class=\"n\">x</span> <span class=\"o\">:=</span> <span class=\"n\">PSigma.mk</span> <span class=\"o\">(</span><span class=\"n\">Eq.refl</span> <span class=\"n\">x</span><span class=\"o\">)</span> <span class=\"bp\">*</span>\n<span class=\"kd\">def</span> <span class=\"n\">Symm</span> <span class=\"o\">{</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"n\">_</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">x</span> <span class=\"o\">:</span> <span class=\"n\">X</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">y</span> <span class=\"o\">:</span> <span class=\"n\">X</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">f</span><span class=\"o\">:</span><span class=\"bp\">Œ£</span><span class=\"o\">(</span><span class=\"n\">_</span> <span class=\"o\">:</span> <span class=\"n\">x</span> <span class=\"bp\">=</span> <span class=\"n\">y</span><span class=\"o\">):</span><span class=\"bp\">‚äõ</span><span class=\"o\">):(</span><span class=\"n\">y</span><span class=\"bp\">‚â°</span><span class=\"n\">x</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"n\">PSigma.mk</span> <span class=\"o\">(</span><span class=\"n\">Eq.symm</span> <span class=\"n\">f.1</span><span class=\"o\">)</span> <span class=\"bp\">*</span>\n<span class=\"kd\">notation</span> <span class=\"s2\">\"-\"</span> <span class=\"n\">p</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">Symm</span> <span class=\"n\">p</span>\n<span class=\"kd\">def</span> <span class=\"n\">Trns</span> <span class=\"o\">{</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"n\">_</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">x</span> <span class=\"o\">:</span> <span class=\"n\">X</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">y</span> <span class=\"o\">:</span> <span class=\"n\">X</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">z</span> <span class=\"o\">:</span> <span class=\"n\">X</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"bp\">Œ£</span><span class=\"o\">(</span><span class=\"n\">_</span> <span class=\"o\">:</span> <span class=\"n\">x</span> <span class=\"bp\">=</span> <span class=\"n\">y</span><span class=\"o\">):</span><span class=\"bp\">‚äõ</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">g</span> <span class=\"o\">:</span> <span class=\"bp\">Œ£</span><span class=\"o\">(</span><span class=\"n\">_</span> <span class=\"o\">:</span> <span class=\"n\">y</span> <span class=\"bp\">=</span> <span class=\"n\">z</span><span class=\"o\">):</span><span class=\"bp\">‚äõ</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">x</span><span class=\"bp\">‚â°</span><span class=\"n\">z</span><span class=\"o\">):=</span> <span class=\"n\">PSigma.mk</span> <span class=\"o\">(</span><span class=\"n\">Eq.trans</span> <span class=\"n\">f.1</span> <span class=\"n\">g.1</span><span class=\"o\">)</span> <span class=\"bp\">*</span>\n<span class=\"kd\">notation</span> <span class=\"n\">p</span> <span class=\"s2\">\"~\"</span> <span class=\"n\">q</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">Trns</span> <span class=\"n\">p</span> <span class=\"n\">q</span>\n<span class=\"kd\">def</span> <span class=\"n\">Push</span> <span class=\"o\">{</span><span class=\"n\">X</span><span class=\"o\">:</span><span class=\"kt\">Type</span> <span class=\"n\">_</span><span class=\"o\">}{</span><span class=\"n\">Y</span><span class=\"o\">:</span><span class=\"kt\">Type</span> <span class=\"n\">_</span><span class=\"o\">}{</span><span class=\"n\">x</span><span class=\"o\">:</span><span class=\"n\">X</span><span class=\"o\">}{</span><span class=\"n\">y</span><span class=\"o\">:</span><span class=\"n\">X</span><span class=\"o\">}(</span><span class=\"n\">f</span><span class=\"o\">:</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">_</span><span class=\"o\">:</span><span class=\"n\">X</span><span class=\"o\">):</span><span class=\"n\">Y</span><span class=\"o\">)(</span><span class=\"n\">p</span><span class=\"o\">:</span><span class=\"n\">x</span><span class=\"bp\">‚â°</span><span class=\"n\">y</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"n\">x</span> <span class=\"bp\">‚â°</span> <span class=\"n\">f</span> <span class=\"n\">y</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"o\">‚ü®</span><span class=\"n\">congrArg</span> <span class=\"n\">f</span> <span class=\"n\">p.1</span><span class=\"o\">,</span> <span class=\"bp\">*</span><span class=\"o\">‚ü©</span>\n<span class=\"kd\">def</span> <span class=\"n\">Cat</span> <span class=\"o\">:=</span>\n<span class=\"bp\">Œ£</span><span class=\"o\">(</span><span class=\"n\">Obj</span><span class=\"o\">:</span><span class=\"kt\">Type</span> <span class=\"n\">_</span><span class=\"o\">):</span>\n<span class=\"bp\">Œ£</span><span class=\"o\">(</span><span class=\"n\">Hom</span><span class=\"o\">:</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">_</span><span class=\"o\">:</span><span class=\"n\">Obj</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">_</span><span class=\"o\">:</span><span class=\"n\">Obj</span><span class=\"o\">):(</span><span class=\"kt\">Type</span> <span class=\"n\">_</span><span class=\"o\">)):</span>\n<span class=\"bp\">Œ£</span><span class=\"o\">(</span><span class=\"n\">Id</span><span class=\"o\">:</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"o\">:</span><span class=\"n\">Obj</span><span class=\"o\">):(</span><span class=\"n\">Hom</span> <span class=\"n\">X</span> <span class=\"n\">X</span><span class=\"o\">)):</span>\n<span class=\"bp\">Œ£</span><span class=\"o\">(</span><span class=\"n\">Cmp</span><span class=\"o\">:</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"o\">:</span><span class=\"n\">Obj</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">Y</span><span class=\"o\">:</span><span class=\"n\">Obj</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">Z</span><span class=\"o\">:</span><span class=\"n\">Obj</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">_</span><span class=\"o\">:</span><span class=\"n\">Hom</span> <span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">_</span><span class=\"o\">:</span><span class=\"n\">Hom</span> <span class=\"n\">Y</span> <span class=\"n\">Z</span><span class=\"o\">):(</span><span class=\"n\">Hom</span> <span class=\"n\">X</span> <span class=\"n\">Z</span><span class=\"o\">)):</span>\n<span class=\"bp\">Œ£</span><span class=\"o\">(</span><span class=\"n\">_</span><span class=\"o\">:</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"o\">:</span><span class=\"n\">Obj</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">Y</span><span class=\"o\">:</span><span class=\"n\">Obj</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"o\">:</span><span class=\"n\">Hom</span> <span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">):(</span><span class=\"n\">Cmp</span> <span class=\"n\">X</span> <span class=\"n\">Y</span> <span class=\"n\">Y</span><span class=\"o\">)</span> <span class=\"n\">f</span> <span class=\"o\">(</span><span class=\"n\">Id</span> <span class=\"n\">Y</span><span class=\"o\">)</span> <span class=\"bp\">‚â°</span> <span class=\"n\">f</span><span class=\"o\">):</span>\n<span class=\"bp\">Œ£</span><span class=\"o\">(</span><span class=\"n\">_</span><span class=\"o\">:</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"o\">:</span><span class=\"n\">Obj</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">Y</span><span class=\"o\">:</span><span class=\"n\">Obj</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"o\">:</span><span class=\"n\">Hom</span> <span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">):(</span><span class=\"n\">Cmp</span> <span class=\"n\">X</span> <span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">Id</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"n\">f</span> <span class=\"bp\">‚â°</span> <span class=\"n\">f</span><span class=\"o\">):</span>\n<span class=\"bp\">Œ£</span><span class=\"o\">(</span><span class=\"n\">_</span><span class=\"o\">:</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">W</span><span class=\"o\">:</span><span class=\"n\">Obj</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"o\">:</span><span class=\"n\">Obj</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">Y</span><span class=\"o\">:</span><span class=\"n\">Obj</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">Z</span><span class=\"o\">:</span><span class=\"n\">Obj</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"o\">:</span><span class=\"n\">Hom</span> <span class=\"n\">W</span> <span class=\"n\">X</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">g</span><span class=\"o\">:</span><span class=\"n\">Hom</span> <span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"o\">:</span><span class=\"n\">Hom</span> <span class=\"n\">Y</span> <span class=\"n\">Z</span><span class=\"o\">):(</span><span class=\"n\">Cmp</span> <span class=\"n\">W</span> <span class=\"n\">X</span> <span class=\"n\">Z</span><span class=\"o\">)</span> <span class=\"n\">f</span> <span class=\"o\">(</span><span class=\"n\">Cmp</span> <span class=\"n\">X</span> <span class=\"n\">Y</span> <span class=\"n\">Z</span> <span class=\"n\">g</span> <span class=\"n\">h</span><span class=\"o\">)</span> <span class=\"bp\">‚â°</span> <span class=\"n\">Cmp</span> <span class=\"n\">W</span> <span class=\"n\">Y</span> <span class=\"n\">Z</span> <span class=\"o\">(</span><span class=\"n\">Cmp</span> <span class=\"n\">W</span> <span class=\"n\">X</span> <span class=\"n\">Y</span> <span class=\"n\">f</span> <span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"n\">h</span><span class=\"o\">):</span>\n<span class=\"bp\">‚äõ</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">Obj</span> <span class=\"o\">(</span><span class=\"n\">C</span> <span class=\"o\">:</span> <span class=\"n\">Cat</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"n\">C.1</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">Hom</span> <span class=\"o\">{</span><span class=\"n\">C</span> <span class=\"o\">:</span> <span class=\"n\">Cat</span> <span class=\"o\">}(</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">)(</span><span class=\"n\">Y</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"n\">C.2.1</span> <span class=\"n\">X</span> <span class=\"n\">Y</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">Idn</span> <span class=\"o\">{</span> <span class=\"n\">C</span> <span class=\"o\">:</span> <span class=\"n\">Cat</span> <span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"n\">C.2.2.1</span> <span class=\"n\">X</span>\n<span class=\"kd\">notation</span> <span class=\"s2\">\"ùüô\"</span> <span class=\"n\">X</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">Idn</span> <span class=\"n\">X</span> <span class=\"c\">/-</span><span class=\"cm\">REVISE-/</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">Cmp</span> <span class=\"o\">{</span><span class=\"n\">C</span> <span class=\"o\">:</span> <span class=\"n\">Cat</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">Y</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">Z</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">Hom</span> <span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">g</span> <span class=\"o\">:</span> <span class=\"n\">Hom</span> <span class=\"n\">Y</span> <span class=\"n\">Z</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"n\">C.2.2.2.1</span> <span class=\"n\">X</span> <span class=\"n\">Y</span> <span class=\"n\">Z</span> <span class=\"n\">f</span> <span class=\"n\">g</span>\n<span class=\"kd\">notation</span> <span class=\"n\">g</span> <span class=\"s2\">\"‚àò\"</span> <span class=\"n\">f</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">Cmp</span> <span class=\"n\">f</span> <span class=\"n\">g</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">CmpIdn</span> <span class=\"o\">{</span><span class=\"n\">C</span> <span class=\"o\">:</span> <span class=\"n\">Cat</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">Y</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">Hom</span> <span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"n\">C.2.2.2.2.2.1</span> <span class=\"n\">X</span> <span class=\"n\">Y</span> <span class=\"n\">f</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">IdnCmp</span> <span class=\"o\">{</span><span class=\"n\">C</span> <span class=\"o\">:</span> <span class=\"n\">Cat</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">Y</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">Hom</span> <span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"n\">C.2.2.2.2.1</span> <span class=\"n\">X</span> <span class=\"n\">Y</span> <span class=\"n\">f</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">CmpCmp</span> <span class=\"o\">{</span><span class=\"n\">C</span> <span class=\"o\">:</span> <span class=\"n\">Cat</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">W</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">Y</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">Z</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">Hom</span> <span class=\"n\">W</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">g</span> <span class=\"o\">:</span> <span class=\"n\">Hom</span> <span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">h</span> <span class=\"o\">:</span> <span class=\"n\">Hom</span> <span class=\"n\">Y</span> <span class=\"n\">Z</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"n\">C.2.2.2.2.2.2.1</span> <span class=\"n\">W</span> <span class=\"n\">X</span> <span class=\"n\">Y</span> <span class=\"n\">Z</span> <span class=\"n\">f</span> <span class=\"n\">g</span> <span class=\"n\">h</span>\n<span class=\"kd\">def</span> <span class=\"n\">CatObj</span> <span class=\"o\">:=</span> <span class=\"n\">Cat</span>\n\n\n<span class=\"kd\">def</span> <span class=\"n\">CatHom</span> <span class=\"o\">(</span><span class=\"n\">C</span> <span class=\"o\">:</span> <span class=\"n\">Cat</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">D</span> <span class=\"o\">:</span> <span class=\"n\">Cat</span><span class=\"o\">)</span> <span class=\"o\">:=</span>\n<span class=\"bp\">Œ£</span><span class=\"o\">(</span><span class=\"n\">FunObj</span> <span class=\"o\">:</span> <span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">_</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">):</span><span class=\"n\">Obj</span> <span class=\"n\">D</span><span class=\"o\">):</span>\n<span class=\"bp\">Œ£</span><span class=\"o\">(</span><span class=\"n\">FunHom</span> <span class=\"o\">:</span> <span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">Y</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">_</span> <span class=\"o\">:</span> <span class=\"n\">Hom</span> <span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">):</span><span class=\"n\">Hom</span> <span class=\"o\">(</span><span class=\"n\">FunObj</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">FunObj</span> <span class=\"n\">Y</span><span class=\"o\">)):</span>\n<span class=\"bp\">Œ£</span><span class=\"o\">(</span><span class=\"n\">_</span> <span class=\"o\">:</span> <span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">):</span> <span class=\"n\">FunHom</span> <span class=\"n\">X</span> <span class=\"n\">X</span> <span class=\"o\">(</span><span class=\"n\">Idn</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"bp\">‚â°</span> <span class=\"n\">Idn</span> <span class=\"o\">(</span><span class=\"n\">FunObj</span> <span class=\"n\">X</span><span class=\"o\">)):</span>\n<span class=\"bp\">Œ£</span><span class=\"o\">(</span><span class=\"n\">_</span> <span class=\"o\">:</span> <span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">Y</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">Z</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">Hom</span> <span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">):</span><span class=\"bp\">Œ†</span><span class=\"o\">(</span><span class=\"n\">g</span> <span class=\"o\">:</span> <span class=\"n\">Hom</span> <span class=\"n\">Y</span> <span class=\"n\">Z</span><span class=\"o\">):</span><span class=\"n\">Cmp</span> <span class=\"o\">(</span><span class=\"n\">FunHom</span> <span class=\"n\">X</span> <span class=\"n\">Y</span> <span class=\"n\">f</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">FunHom</span> <span class=\"n\">Y</span> <span class=\"n\">Z</span> <span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">‚â°</span> <span class=\"n\">FunHom</span> <span class=\"n\">X</span> <span class=\"n\">Z</span> <span class=\"o\">(</span><span class=\"n\">Cmp</span> <span class=\"n\">f</span> <span class=\"n\">g</span><span class=\"o\">)):</span>\n<span class=\"bp\">‚äõ</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">FunObj</span> <span class=\"o\">{</span><span class=\"n\">C</span> <span class=\"o\">:</span> <span class=\"n\">Cat</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">D</span> <span class=\"o\">:</span> <span class=\"n\">Cat</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">F</span> <span class=\"o\">:</span> <span class=\"n\">CatHom</span> <span class=\"n\">C</span> <span class=\"n\">D</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"n\">F.1</span> <span class=\"n\">X</span>\n<span class=\"kd\">notation</span><span class=\"o\">:</span><span class=\"mi\">3</span> <span class=\"n\">F</span> <span class=\"s2\">\"[\"</span> <span class=\"n\">X</span><span class=\"o\">:</span><span class=\"mi\">4</span> <span class=\"s2\">\"]\"</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">FunObj</span> <span class=\"n\">F</span> <span class=\"n\">X</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">Mor</span> <span class=\"o\">{</span><span class=\"n\">C</span> <span class=\"o\">:</span> <span class=\"n\">Cat</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">D</span> <span class=\"o\">:</span> <span class=\"n\">Cat</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">Y</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">F</span> <span class=\"o\">:</span> <span class=\"n\">CatHom</span> <span class=\"n\">C</span> <span class=\"n\">D</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">Hom</span> <span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"n\">F.2.1</span> <span class=\"n\">X</span> <span class=\"n\">Y</span> <span class=\"n\">f</span>\n<span class=\"kd\">notation</span><span class=\"o\">:</span><span class=\"mi\">1</span> <span class=\"n\">F</span> <span class=\"s2\">\"[\"</span> <span class=\"n\">f</span><span class=\"o\">:</span><span class=\"mi\">2</span> <span class=\"s2\">\"]\"</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">Mor</span> <span class=\"n\">F</span> <span class=\"n\">f</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">FunIdn</span> <span class=\"o\">{</span><span class=\"n\">C</span> <span class=\"o\">:</span> <span class=\"n\">Cat</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">D</span> <span class=\"o\">:</span> <span class=\"n\">Cat</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">F</span> <span class=\"o\">:</span> <span class=\"n\">CatHom</span> <span class=\"n\">C</span> <span class=\"n\">D</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"n\">F.2.2.1</span> <span class=\"n\">X</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">FunCmp</span> <span class=\"o\">{</span><span class=\"n\">C</span> <span class=\"o\">:</span> <span class=\"n\">Cat</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">D</span> <span class=\"o\">:</span> <span class=\"n\">Cat</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">Y</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">Z</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">F</span> <span class=\"o\">:</span> <span class=\"n\">CatHom</span> <span class=\"n\">C</span> <span class=\"n\">D</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">Hom</span> <span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">g</span> <span class=\"o\">:</span> <span class=\"n\">Hom</span> <span class=\"n\">Y</span> <span class=\"n\">Z</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"n\">F.2.2.2.1</span> <span class=\"n\">X</span> <span class=\"n\">Y</span> <span class=\"n\">Z</span> <span class=\"n\">f</span> <span class=\"n\">g</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">CatIdn</span> <span class=\"o\">(</span><span class=\"n\">C</span> <span class=\"o\">:</span> <span class=\"n\">Cat</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">CatHom</span> <span class=\"n\">C</span> <span class=\"n\">C</span> <span class=\"o\">:=</span>\n<span class=\"o\">‚ü®</span>\n<span class=\"o\">(</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">)</span><span class=\"bp\">‚Ü¶</span><span class=\"n\">X</span><span class=\"o\">,</span>\n<span class=\"o\">(</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">)</span><span class=\"bp\">‚Ü¶</span><span class=\"o\">(</span><span class=\"n\">Y</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">)</span><span class=\"bp\">‚Ü¶</span><span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">Hom</span> <span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">)</span><span class=\"bp\">‚Ü¶</span><span class=\"n\">f</span><span class=\"o\">,</span>\n<span class=\"o\">(</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">)</span><span class=\"bp\">‚Ü¶</span><span class=\"n\">Refl</span> <span class=\"o\">(</span><span class=\"n\">Idn</span> <span class=\"n\">X</span><span class=\"o\">),</span>\n<span class=\"o\">(</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">)</span><span class=\"bp\">‚Ü¶</span><span class=\"o\">(</span><span class=\"n\">Y</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">)</span><span class=\"bp\">‚Ü¶</span><span class=\"o\">(</span><span class=\"n\">Z</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">)</span><span class=\"bp\">‚Ü¶</span><span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">Hom</span> <span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">)</span><span class=\"bp\">‚Ü¶</span><span class=\"o\">(</span><span class=\"n\">g</span> <span class=\"o\">:</span> <span class=\"n\">Hom</span> <span class=\"n\">Y</span> <span class=\"n\">Z</span><span class=\"o\">)</span><span class=\"bp\">‚Ü¶</span><span class=\"n\">Refl</span> <span class=\"o\">(</span><span class=\"n\">Cmp</span> <span class=\"n\">f</span> <span class=\"n\">g</span><span class=\"o\">),</span>\n<span class=\"bp\">*</span>\n<span class=\"o\">‚ü©</span>\n<span class=\"kd\">def</span> <span class=\"n\">CatCmp</span> <span class=\"o\">(</span><span class=\"n\">C</span> <span class=\"o\">:</span> <span class=\"n\">Cat</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">D</span> <span class=\"o\">:</span> <span class=\"n\">Cat</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">E</span> <span class=\"o\">:</span> <span class=\"n\">Cat</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">F</span> <span class=\"o\">:</span> <span class=\"n\">CatHom</span> <span class=\"n\">C</span> <span class=\"n\">D</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">G</span> <span class=\"o\">:</span> <span class=\"n\">CatHom</span> <span class=\"n\">D</span> <span class=\"n\">E</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">CatHom</span> <span class=\"n\">C</span> <span class=\"n\">E</span><span class=\"o\">)</span> <span class=\"o\">:=</span>\n<span class=\"o\">‚ü®</span>\n<span class=\"o\">(</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">)</span><span class=\"bp\">‚Ü¶</span><span class=\"o\">(</span><span class=\"n\">G.1</span><span class=\"o\">)</span> <span class=\"o\">((</span><span class=\"n\">F.1</span><span class=\"o\">)</span> <span class=\"n\">X</span><span class=\"o\">),</span>\n<span class=\"o\">(</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">)</span><span class=\"bp\">‚Ü¶</span><span class=\"o\">(</span><span class=\"n\">Y</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">)</span><span class=\"bp\">‚Ü¶</span><span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">Hom</span> <span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">)</span><span class=\"bp\">‚Ü¶</span><span class=\"o\">(</span><span class=\"n\">G.2.1</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">F.1</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">F.1</span> <span class=\"n\">Y</span><span class=\"o\">)</span> <span class=\"o\">((</span><span class=\"n\">F.2.1</span><span class=\"o\">)</span> <span class=\"n\">X</span> <span class=\"n\">Y</span> <span class=\"n\">f</span><span class=\"o\">),</span>\n<span class=\"o\">(</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">)</span><span class=\"bp\">‚Ü¶</span><span class=\"n\">Trns</span> <span class=\"o\">(</span> <span class=\"n\">Push</span> <span class=\"o\">(</span><span class=\"n\">G.2.1</span> <span class=\"o\">(</span><span class=\"n\">F.1</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">F.1</span> <span class=\"n\">X</span><span class=\"o\">))</span> <span class=\"o\">(</span><span class=\"n\">F.2.2.1</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"o\">)</span> <span class=\"o\">((</span><span class=\"n\">G.2.2.1</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">F.1</span> <span class=\"n\">X</span><span class=\"o\">)),</span>\n<span class=\"o\">(</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">)</span><span class=\"bp\">‚Ü¶</span><span class=\"o\">(</span><span class=\"n\">Y</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">)</span><span class=\"bp\">‚Ü¶</span><span class=\"o\">(</span><span class=\"n\">Z</span> <span class=\"o\">:</span> <span class=\"n\">Obj</span> <span class=\"n\">C</span><span class=\"o\">)</span><span class=\"bp\">‚Ü¶</span><span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">Hom</span> <span class=\"n\">X</span> <span class=\"n\">Y</span><span class=\"o\">)</span><span class=\"bp\">‚Ü¶</span><span class=\"o\">(</span><span class=\"n\">g</span> <span class=\"o\">:</span> <span class=\"n\">Hom</span> <span class=\"n\">Y</span> <span class=\"n\">Z</span><span class=\"o\">)</span><span class=\"bp\">‚Ü¶</span>\n<span class=\"o\">(</span>\n<span class=\"n\">Trns</span>\n<span class=\"o\">(</span><span class=\"n\">FunCmp</span> <span class=\"n\">G</span>  <span class=\"o\">(</span><span class=\"n\">F</span><span class=\"o\">[</span><span class=\"n\">f</span><span class=\"o\">])</span> <span class=\"o\">(</span><span class=\"n\">F</span><span class=\"o\">[</span><span class=\"n\">g</span><span class=\"o\">]))</span>\n<span class=\"o\">(</span><span class=\"n\">Push</span> <span class=\"o\">(</span><span class=\"n\">G.2.1</span> <span class=\"o\">(</span><span class=\"n\">F</span><span class=\"o\">[</span><span class=\"n\">X</span><span class=\"o\">])</span> <span class=\"o\">(</span><span class=\"n\">F</span><span class=\"o\">[</span><span class=\"n\">Z</span><span class=\"o\">]))</span> <span class=\"o\">(</span><span class=\"n\">FunCmp</span> <span class=\"n\">F</span> <span class=\"n\">f</span> <span class=\"n\">g</span><span class=\"o\">))</span>\n<span class=\"o\">),</span>\n<span class=\"bp\">*</span><span class=\"o\">‚ü©</span>\n</code></pre></div>\n<p>Notice how I used the F[X] and F[f] notations in the lines near the bottom.</p>\n<p>I'm not sure if this is unrecommended or not. Evidently it works?</p>",
        "id": 320274832,
        "sender_full_name": "Kind Bubble",
        "timestamp": 1673283091
    }
]