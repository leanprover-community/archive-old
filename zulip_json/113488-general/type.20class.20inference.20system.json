[
    {
        "content": "<p>Two (classes of) related questions:<br>\n1) Is there some reference for the type class inference algorithm that Lean uses? Is it ad hoc, or does it follow some established algorithm? Is it documented in some paper?<br>\n2) How will Lean 4 impact the type class system? Is it planned to remain the same, or will it go through a major revision?</p>",
        "id": 127610700,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1528218191
    },
    {
        "content": "<blockquote>\n<p>Is there some reference for the type class inference algorithm that Lean uses? Is it ad hoc, or does it follow some established algorithm? Is it documented in some paper?</p>\n</blockquote>\n<p>I think the canonical answer is that it's a Î»Prolog interpreter, which synthesizes instances by essentially backchaining.  We typically cite [1].</p>\n<p>[1] D. Miller and G. Nadathur. Programming with Higher-Order Logic. Cambridge, 2012.</p>\n<p>(Not entirely sure if this is helpful.)</p>",
        "id": 127610978,
        "sender_full_name": "Gabriel Ebner",
        "timestamp": 1528218523
    },
    {
        "content": "<p>Yes, I think it answers 1).</p>",
        "id": 127611007,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1528218592
    },
    {
        "content": "<blockquote>\n<p>How will Lean 4 impact the type class system? Is it planned to remain the same, or will it go through a major revision?</p>\n</blockquote>\n<p>I don't expect any significant changes, but Sebastian can probably speak more authoritatively on this topic.</p>",
        "id": 127611008,
        "sender_full_name": "Gabriel Ebner",
        "timestamp": 1528218592
    },
    {
        "content": "<p>There are no changes to the type class system planned right now</p>",
        "id": 127611083,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1528218643
    },
    {
        "content": "<p>Maybe I have a newbie question 3): Are coercions and type class inferences somehow two avatars of some underlying common principle?</p>",
        "id": 127611098,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1528218676
    },
    {
        "content": "<p>/me just realises that the Miller--Nadathur reference is a 300 page book...</p>",
        "id": 127611427,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1528219197
    },
    {
        "content": "<p>Once Lean 4 is ready, someone should write \"The Leanbook\". Alas, I hear that Don Knuth's todo list is non-empty ;-)</p>",
        "id": 127611656,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1528219494
    },
    {
        "content": "<p>I would love to understand the inner workings of Lean. But I'm not a very proficient source reader. In that regard I found the TeXbook very enlightening.</p>",
        "id": 127611690,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1528219549
    }
]