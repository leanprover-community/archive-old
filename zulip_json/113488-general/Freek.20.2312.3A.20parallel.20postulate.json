[
    {
        "content": "<p>I was browsing Freek's list today and noticed that this one isn't in Lean. This should be really easy, by using ℂ as an example for parallel postulate, and constructing a small example that doesn't obey the parallel postulate (I seem to remember a triangle with 6/10 dots through it being a sufficient counterexample! maybe I'm misremembering, though). Is there any nuance to it that I should know before adding it to the issue-tracker as a &lt;good first project&gt;? Do we want to use any of the specific axiomatizations (Tarski, Hilbert, Euclid)? I can't seem to find the HOL-Light version, but the Isabelle seems to use Tarski's axioms.</p>",
        "id": 271175210,
        "sender_full_name": "Eric Rodriguez",
        "timestamp": 1644346811
    },
    {
        "content": "<p>I guess <a href=\"https://github.com/jrh13/hol-light/blob/d125b0ae73e546a63ed458a7891f4e14ae0409e2/100/independence.ml\">https://github.com/jrh13/hol-light/blob/d125b0ae73e546a63ed458a7891f4e14ae0409e2/100/independence.ml</a> is the hol version</p>",
        "id": 271175929,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1644347144
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"284160\">Eric Rodriguez</span> <a href=\"#narrow/stream/113488-general/topic/Freek.20.2312.3A.20parallel.20postulate/near/271175210\">said</a>:</p>\n<blockquote>\n<p>I was browsing Freek's list today and noticed that this one isn't in Lean. This should be really easy, by using ℂ as an example for parallel postulate, and constructing a small example that doesn't obey the parallel postulate (I seem to remember a triangle with 6/10 dots through it being a sufficient counterexample! maybe I'm misremembering, though). Is there any nuance to it that I should know before adding it to the issue-tracker as a &lt;good first project&gt;? Do we want to use any of the specific axiomatizations (Tarski, Hilbert, Euclid)? I can't seem to find the HOL-Light version, but the Isabelle seems to use Tarski's axioms.</p>\n</blockquote>\n<p>I looked into this a while ago too, the Isabelle version spends most of its time proving things about the hyperbolic plane using projective planes to deduce that the Tarski axioms all hold on it</p>",
        "id": 271176154,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1644347253
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"127136\">Alex J. Best</span> <a href=\"#narrow/stream/113488-general/topic/Freek.20.2312.3A.20parallel.20postulate/near/271175929\">said</a>:</p>\n<blockquote>\n<p>I guess <a href=\"https://github.com/jrh13/hol-light/blob/d125b0ae73e546a63ed458a7891f4e14ae0409e2/100/independence.ml\">https://github.com/jrh13/hol-light/blob/d125b0ae73e546a63ed458a7891f4e14ae0409e2/100/independence.ml</a> is the hol version</p>\n</blockquote>\n<p>dear god thank god I never did HOL, I cannot read this</p>",
        "id": 271176513,
        "sender_full_name": "Eric Rodriguez",
        "timestamp": 1644347438
    },
    {
        "content": "<p>It looks awfully like Fortran, but keep in mind John Harrison is a god of formalized mathematics and we still haven't formalized everything he did <em>alone</em>.</p>",
        "id": 271180008,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1644349140
    },
    {
        "content": "<p>Having each tactic line end with <code>THEN</code> gives it the feeling of an excited 5 year old describing the plot of his favourite movie.</p>",
        "id": 271180227,
        "sender_full_name": "Stuart Presnell",
        "timestamp": 1644349257
    },
    {
        "content": "<p>I've started a file that defines metric space structure on the upper half plane</p>",
        "id": 271183541,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1644350793
    },
    {
        "content": "<p>But proving the triangle inequality without the Riemann metric interpretation is a nightmare (or I don't know some trick)</p>",
        "id": 271183657,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1644350859
    },
    {
        "content": "<p>I'll pr the part that drops abbreviation tonight. We don't want to use the induced metric anyway</p>",
        "id": 271183813,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1644350920
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"260507\">@Heather Macbeth</span> <span class=\"user-mention\" data-user-id=\"252920\">@Alex Kontorovich</span></p>",
        "id": 271183848,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1644350941
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"214703\">@Yury G. Kudryashov</span> Do we really need a metric interpretation to do this?  We need only an abstract definition of geodesic, right?</p>",
        "id": 271184741,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1644351364
    },
    {
        "content": "<p>I think that we should have a metric on the your half plane</p>",
        "id": 271184852,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1644351425
    },
    {
        "content": "<p>Sooner or later</p>",
        "id": 271184874,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1644351437
    },
    {
        "content": "<p>And prove that SL2 acts by isometries</p>",
        "id": 271184919,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1644351471
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 271185024,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1644351516
    },
    {
        "content": "<p><a href=\"https://www.isa-afp.org/entries/Tarskis_Geometry.html\">https://www.isa-afp.org/entries/Tarskis_Geometry.html</a> is a good place to look at for these things as well, it looks like all the other implementations have been adapted from this one</p>",
        "id": 271185129,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1644351576
    },
    {
        "content": "<p>imo it's notable how much time is spent on actually understanding the real projective plane rather than checking the axioms: if it helps I have a big development of Tarski geometry in Lean (in a not-very-mathlib-friendly-way) which gives around 70% of the things from GeoCoq and certainly all the theorems needed about Tarski for this</p>",
        "id": 271185395,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1644351689
    },
    {
        "content": "<p>The most abstract, and therefore possibly the most Lean-friendly, way I know how to do this is to consider the upper half-plane as the projectivization of the positive cone inside Lorentz 3-space.</p>",
        "id": 271186286,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1644352108
    },
    {
        "content": "<p>In this case you consider <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>L</mi><mo stretchy=\"false\">(</mo><mn>2</mn><mo separator=\"true\">,</mo><mi mathvariant=\"double-struck\">R</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">SL(2,\\mathbb{R})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\">L</span><span class=\"mopen\">(</span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathbb\">R</span><span class=\"mclose\">)</span></span></span></span> as being <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><msub><mi>O</mi><mo>+</mo></msub><mo stretchy=\"false\">(</mo><mn>2</mn><mo separator=\"true\">,</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">SO_+(2,1)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2583em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">+</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2083em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">)</span></span></span></span>, and it's clearer that this acts by isometries.</p>",
        "id": 271186466,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1644352204
    },
    {
        "content": "<p>For the metric structure, instead of the projectivization, one chooses a specific choice of representative of each line in the projectivization, the \"unit sphere\" (really half of a two-sheeted hyperboloid, because of the Lorentz metric)</p>",
        "id": 271186723,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1644352335
    },
    {
        "content": "<p>But Tarski's axioms (or, at least, the parallel postulate) are non-metric, right?  So we don't need the metric structure to get the Freek list fact.</p>",
        "id": 271187047,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1644352523
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"260507\">Heather Macbeth</span> <a href=\"#narrow/stream/113488-general/topic/Freek.20.2312.3A.20parallel.20postulate/near/271187047\">said</a>:</p>\n<blockquote>\n<p>But Tarski's axioms (or, at least, the parallel postulate) are non-metric, right?  So we don't need the metric structure to get the Freek list fact.</p>\n</blockquote>\n<p>You don't strictly need it but I think it's helpful: looking at the Isabelle proof outline section 3.2 verifies the first three axioms on any semimetric space, and one of the primitives in Tarski is the congruence relation, which has an interpretation as \"cong A B C D iff d(A,B) = d(C,D)\". (and just to clarify, metric structure here does mean the distance function and that it's a metric space, and not some other geometry thing and I'm conflating?)</p>",
        "id": 271189515,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1644353717
    },
    {
        "content": "<p>We can get the congruence relation from the group action, though.  Either from <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>L</mi><mo stretchy=\"false\">(</mo><mn>2</mn><mo separator=\"true\">,</mo><mi mathvariant=\"double-struck\">R</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">SL(2, \\mathbb{R})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\">L</span><span class=\"mopen\">(</span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathbb\">R</span><span class=\"mclose\">)</span></span></span></span> on the upper half-plane as we have it now, or from the <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><msub><mi>O</mi><mo>+</mo></msub><mo stretchy=\"false\">(</mo><mn>2</mn><mo separator=\"true\">,</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">SO_+(2,1)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2583em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">+</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2083em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">)</span></span></span></span> action on the positive cone in my fancier version.</p>",
        "id": 271189663,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1644353793
    },
    {
        "content": "<p>Congruence just means one set of points can be transformed to the other by applying some element of the group.</p>",
        "id": 271189711,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1644353827
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"260507\">Heather Macbeth</span> <a href=\"#narrow/stream/113488-general/topic/Freek.20.2312.3A.20parallel.20postulate/near/271189663\">said</a>:</p>\n<blockquote>\n<p>We can get the congruence relation from the group action, though.  Either from <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>L</mi><mo stretchy=\"false\">(</mo><mn>2</mn><mo separator=\"true\">,</mo><mi mathvariant=\"double-struck\">R</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">SL(2, \\mathbb{R})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\">L</span><span class=\"mopen\">(</span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathbb\">R</span><span class=\"mclose\">)</span></span></span></span> on the upper half-plane as we have it now, or from the <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><msub><mi>O</mi><mo>+</mo></msub><mo stretchy=\"false\">(</mo><mn>2</mn><mo separator=\"true\">,</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">SO_+(2,1)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2583em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">+</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2083em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">)</span></span></span></span> action on the positive cone in my fancier version.</p>\n</blockquote>\n<p>Agreed, and I think that we should define congruence in this way, I only meant to point out that it could be helpful to have the equivalent form in terms of a metric, if the metric is available</p>",
        "id": 271189945,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1644353938
    },
    {
        "content": "<p>I have a <code>metric_space</code> instance on the <code>upper_half_plane</code> in <a href=\"https://github.com/leanprover-community/mathlib/pull/14703\">#14703</a>.</p>",
        "id": 285865520,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1655073267
    },
    {
        "content": "<p>(docs are missing)</p>",
        "id": 285865529,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1655073290
    },
    {
        "content": "<p>Fun fact (either I didn't know about it before, or I totally forgot): after trivial manipulations, the triangle inequality for <code>(a b c : ℍ)</code> becomes the <a href=\"https://en.wikipedia.org/wiki/Ptolemy's_inequality\">Ptolemy's inequality</a> for <code>a b c (conj b) : ℂ</code>.</p>",
        "id": 285892957,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1655107086
    }
]