[
    {
        "content": "<p>Hello, i have i little problem <span aria-label=\"slight smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"slight smile\">:slight_smile:</span> </p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kn\">import</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">limits</span><span class=\"bp\">.</span><span class=\"n\">limits</span>\n<span class=\"kn\">import</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">limits</span><span class=\"bp\">.</span><span class=\"n\">shapes</span>\n<span class=\"kn\">import</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">yoneda</span>\n<span class=\"kn\">import</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">opposites</span>\n<span class=\"kn\">import</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">types</span>            <span class=\"c1\">----- i import all, i don&#39;t understand :D</span>\n<span class=\"kn\">import</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">limits</span><span class=\"bp\">.</span><span class=\"n\">types</span>\n<span class=\"kn\">open</span> <span class=\"n\">category_theory</span>\n<span class=\"kn\">open</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">limits</span>\n<span class=\"kn\">open</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">category</span>\n<span class=\"kn\">open</span> <span class=\"n\">opposite</span>\n<span class=\"kn\">universe</span> <span class=\"n\">u</span>\n<span class=\"kn\">lemma</span> <span class=\"n\">test</span>  <span class=\"o\">(</span><span class=\"n\">U</span> <span class=\"n\">V</span> <span class=\"n\">W</span> <span class=\"n\">Z</span><span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"n\">u</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">u0</span> <span class=\"o\">:</span> <span class=\"n\">U</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">v0</span> <span class=\"o\">:</span> <span class=\"n\">V</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">W</span> <span class=\"err\">⟶</span> <span class=\"n\">U</span><span class=\"o\">)(</span><span class=\"n\">g</span> <span class=\"o\">:</span> <span class=\"n\">W</span> <span class=\"err\">⟶</span>  <span class=\"n\">V</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">φ</span> <span class=\"o\">:</span> <span class=\"n\">U</span> <span class=\"err\">⨯</span> <span class=\"n\">V</span> <span class=\"err\">⟶</span> <span class=\"n\">Z</span><span class=\"o\">)</span> <span class=\"o\">:</span>\n    <span class=\"n\">true</span>   <span class=\"c1\">--- not too difficult goal :D</span>\n<span class=\"o\">:=</span> <span class=\"k\">begin</span>\n    <span class=\"k\">let</span> <span class=\"n\">eu</span> <span class=\"o\">:=</span> <span class=\"n\">hom_of_element</span> <span class=\"n\">u0</span><span class=\"o\">,</span>\n    <span class=\"k\">let</span> <span class=\"n\">ev</span> <span class=\"o\">:=</span> <span class=\"n\">hom_of_element</span> <span class=\"n\">v0</span><span class=\"o\">,</span>\n    <span class=\"k\">let</span> <span class=\"n\">c</span> <span class=\"o\">:=</span> <span class=\"n\">binary_fan</span><span class=\"bp\">.</span><span class=\"n\">mk</span> <span class=\"n\">eu</span> <span class=\"n\">ev</span><span class=\"o\">,</span>            <span class=\"c1\">--- i thinck it&#39;s ok ?</span>\n    <span class=\"k\">let</span> <span class=\"n\">θ</span> <span class=\"o\">:=</span> <span class=\"n\">limit</span><span class=\"bp\">.</span><span class=\"n\">lift</span> <span class=\"o\">(</span><span class=\"n\">pair</span> <span class=\"n\">U</span> <span class=\"n\">V</span><span class=\"o\">)</span> <span class=\"n\">c</span><span class=\"o\">,</span>\n    <span class=\"k\">have</span> <span class=\"n\">R</span> <span class=\"o\">:</span> <span class=\"n\">θ</span> <span class=\"err\">≫</span> <span class=\"n\">φ</span> <span class=\"bp\">=</span> <span class=\"n\">hom_of_element</span> <span class=\"o\">(</span><span class=\"n\">φ</span> <span class=\"o\">(</span> <span class=\"o\">(</span><span class=\"n\">u0</span><span class=\"o\">,</span><span class=\"n\">v0</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">U</span> <span class=\"err\">⨯</span> <span class=\"n\">V</span> <span class=\"o\">))</span>  <span class=\"c1\">---  PROBLEM cross vs time</span>\n    <span class=\"n\">trivial</span><span class=\"o\">,</span>                                                  <span class=\"c1\">---  how to create (u0,v0) ∈ U ⨯ V  ?</span>\n<span class=\"kn\">end</span>\n</pre></div>",
        "id": 194243914,
        "sender_full_name": "orlando",
        "timestamp": 1586995645
    },
    {
        "content": "<p>The only thing you know about <code>U ⨯ V</code> is that it is some product of <code>U</code> and <code>V</code> in the category of types, so the only reasonable way to construct \"<code>(u, v)</code>\" is what you already have on the left-hand side of the equation <code>R</code> (though there should be a more convenient way to build this already).</p>",
        "id": 194244305,
        "sender_full_name": "Reid Barton",
        "timestamp": 1586995966
    },
    {
        "content": "<p>I'm ok Reid, but  for  an abstract category. For set we have a canonical choise for the product <code> U \\times V </code> with the projection.</p>",
        "id": 194244820,
        "sender_full_name": "orlando",
        "timestamp": 1586996426
    },
    {
        "content": "<p>i mean it's a theorem such that set as product not an assumption ! So there is a construction.</p>",
        "id": 194244941,
        "sender_full_name": "orlando",
        "timestamp": 1586996537
    },
    {
        "content": "<p>But there isn't a theorem that says the thing denoted by <code>U ⨯ V</code> is actually <em>equal to</em> the product type, and in fact it isn't.</p>",
        "id": 194244970,
        "sender_full_name": "Reid Barton",
        "timestamp": 1586996585
    },
    {
        "content": "<p>You can define an isomorphism, and that's essentially what you're in the process of doing</p>",
        "id": 194244994,
        "sender_full_name": "Reid Barton",
        "timestamp": 1586996618
    },
    {
        "content": "<p><code>U ⨯ V</code> is actually defined as the limit over this <code>walking_pair</code> index category that's related to <code>binary_fan</code>. Otherwise I guess the <code>limit.lift ... (binary_fan.mk ...)</code> stuff wouldn't work.</p>",
        "id": 194245086,
        "sender_full_name": "Reid Barton",
        "timestamp": 1586996730
    },
    {
        "content": "<p>It might not be the correct design, but it is the current one.</p>",
        "id": 194245098,
        "sender_full_name": "Reid Barton",
        "timestamp": 1586996749
    },
    {
        "content": "<p>For set there is a canonical choice -- but Lean makes another choice ;-)</p>",
        "id": 194245212,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1586996873
    },
    {
        "content": "<p><span aria-label=\"confused\" class=\"emoji emoji-1f615\" role=\"img\" title=\"confused\">:confused:</span></p>",
        "id": 194245295,
        "sender_full_name": "orlando",
        "timestamp": 1586996942
    },
    {
        "content": "<p>Well, it's the library's choice, not Lean's.</p>",
        "id": 194245311,
        "sender_full_name": "Reid Barton",
        "timestamp": 1586996966
    },
    {
        "content": "<p>You don't get to believe all the following simultaneously.</p>\n<ul>\n<li>A limit in Set is produced by [such and such general construction].</li>\n<li>A product in Set is produced by the product type.</li>\n<li>Products are limits over the category <code>walking_pair</code>.</li>\n</ul>",
        "id": 194245399,
        "sender_full_name": "Reid Barton",
        "timestamp": 1586997041
    },
    {
        "content": "<p>You might say you don't really care what the general construction of limits is, which is true, but whatever it is, there's no way it will reduce to the product of types when the index category is <code>walking_pair</code>.</p>",
        "id": 194245464,
        "sender_full_name": "Reid Barton",
        "timestamp": 1586997112
    },
    {
        "content": "<p>It's possible it might be better to abandon the third item on that list instead, or maybe there's some other design we haven't come up with which would be superior.</p>",
        "id": 194245650,
        "sender_full_name": "Reid Barton",
        "timestamp": 1586997295
    },
    {
        "content": "<p>You can't fix the problem that there is more than one construction of a limit; even if you magically got products to be the product type, then you can't get triple products to be A x (B x C) and (A x B) x C. There will have to be some sort of infrastructure which moves between isomorphic objects that satisfy the universal property and perhaps binary products is a great place to test it out.</p>",
        "id": 194245840,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1586997441
    },
    {
        "content": "<p>it's difficult to understand, i have to think a little about this ! Thx</p>",
        "id": 194245845,
        "sender_full_name": "orlando",
        "timestamp": 1586997446
    },
    {
        "content": "<p>Orlando, surely your job is to prove that the product A x B satisfies the universal property and then to use that to construct the fixed isomorphism between A x B and whatever mathlib's product is.</p>",
        "id": 194245915,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1586997493
    },
    {
        "content": "<p>And theorems should never be formalised about the product, but only about an object which satisfies the universal property which the product satisfies, I guess.</p>",
        "id": 194245969,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1586997543
    },
    {
        "content": "<p>If you prove it satisfies the universal property then there should be a way in the library to extract the isomorphism from that (though maybe it's easier to build it directly by hand)</p>",
        "id": 194246063,
        "sender_full_name": "Reid Barton",
        "timestamp": 1586997605
    },
    {
        "content": "<p>Ok i understand  <span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span></p>",
        "id": 194246154,
        "sender_full_name": "orlando",
        "timestamp": 1586997700
    },
    {
        "content": "<p>This was the mistake we originally made in the schemes project: we proved theorems about R[1/f], but we should have proved theorems about all R-algebras which satisfied the universal property of R[1/f]</p>",
        "id": 194246243,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1586997776
    },
    {
        "content": "<p>I'm ok ! i thick i do that. For example, if  i take the ring <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Z</mi><mo stretchy=\"false\">[</mo><mi>X</mi><mo separator=\"true\">,</mo><mi>Y</mi><mo stretchy=\"false\">]</mo><mi mathvariant=\"normal\">/</mi><mo stretchy=\"false\">(</mo><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><mn>3</mn><mi>x</mi><mi>y</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Z}[X,Y] / (x^2+3xy )</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:1.064108em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span></span><span class=\"mopen\">[</span><span class=\"mord mathdefault\" style=\"margin-right:0.07847em;\">X</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">Y</span><span class=\"mclose\">]</span><span class=\"mord\">/</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">3</span><span class=\"mord mathdefault\">x</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">y</span><span class=\"mclose\">)</span></span></span></span>, i never proof fact about this ring but i start with Let <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span></span></span></span> be a ring and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo>∈</mo><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">a, b \\in R</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\">b</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span></span></span></span> s.t <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>a</mi><mn>2</mn></msup><mo>+</mo><mn>3</mn><mi>a</mi><mi>b</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">a^2+3ab = 0</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.897438em;vertical-align:-0.08333em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord\">3</span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">b</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">0</span></span></span></span> and i show stuff (doing calculus <span aria-label=\"grinning face with smiling eyes\" class=\"emoji emoji-1f601\" role=\"img\" title=\"grinning face with smiling eyes\">:grinning_face_with_smiling_eyes:</span> ) and at the end i can tell ok i choice <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Z</mi><mo stretchy=\"false\">[</mo><mi>X</mi><mo separator=\"true\">,</mo><mi>Y</mi><mo stretchy=\"false\">]</mo><mi mathvariant=\"normal\">/</mi><mo stretchy=\"false\">(</mo><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><mn>3</mn><mi>x</mi><mi>y</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\"> \\mathbb{Z}[X,Y] / (x^2+3xy)</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:1.064108em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span></span><span class=\"mopen\">[</span><span class=\"mord mathdefault\" style=\"margin-right:0.07847em;\">X</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">Y</span><span class=\"mclose\">]</span><span class=\"mord\">/</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">3</span><span class=\"mord mathdefault\">x</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">y</span><span class=\"mclose\">)</span></span></span></span> with <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo separator=\"true\">,</mo><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">x,y</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">x</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">y</span></span></span></span> as <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">a,b</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\">b</span></span></span></span> so my calculus show some stuff about this last ring. </p>\n<p>I understand .... tomorow for the product :D</p>",
        "id": 194247547,
        "sender_full_name": "orlando",
        "timestamp": 1586999242
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110032\">Reid Barton</span> <a href=\"#narrow/stream/113488-general/topic/create.20an.20element.20of.20product/near/194246063\" title=\"#narrow/stream/113488-general/topic/create.20an.20element.20of.20product/near/194246063\">said</a>:</p>\n<blockquote>\n<p>If you prove it satisfies the universal property then there should be a way in the library to extract the isomorphism from that (though maybe it's easier to build it directly by hand)</p>\n</blockquote>\n<p>Here is how to get the isomorphism:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kn\">import</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">limits</span><span class=\"bp\">.</span><span class=\"n\">shapes</span><span class=\"bp\">.</span><span class=\"n\">binary_products</span>\n\n<span class=\"kn\">open</span> <span class=\"n\">category_theory</span>\n<span class=\"kn\">open</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">limits</span>\n\n<span class=\"n\">universes</span> <span class=\"n\">v</span> <span class=\"n\">u</span>\n\n<span class=\"kn\">variables</span> <span class=\"o\">{</span><span class=\"n\">C</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"n\">u</span><span class=\"o\">}</span> <span class=\"o\">[</span><span class=\"err\">𝒞</span> <span class=\"o\">:</span> <span class=\"n\">category</span><span class=\"bp\">.</span><span class=\"o\">{</span><span class=\"n\">v</span><span class=\"o\">}</span> <span class=\"n\">C</span><span class=\"o\">]</span>\n<span class=\"n\">include</span> <span class=\"err\">𝒞</span>\n\n<span class=\"kn\">variables</span> <span class=\"o\">[</span><span class=\"n\">has_binary_products</span><span class=\"bp\">.</span><span class=\"o\">{</span><span class=\"n\">v</span><span class=\"o\">}</span> <span class=\"n\">C</span><span class=\"o\">]</span>\n\n<span class=\"kn\">example</span> <span class=\"o\">{</span><span class=\"n\">X</span> <span class=\"n\">Y</span> <span class=\"n\">P</span> <span class=\"o\">:</span> <span class=\"n\">C</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">P</span> <span class=\"err\">⟶</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">g</span> <span class=\"o\">:</span> <span class=\"n\">P</span> <span class=\"err\">⟶</span> <span class=\"n\">Y</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">h</span> <span class=\"o\">:</span> <span class=\"n\">is_limit</span> <span class=\"o\">(</span><span class=\"n\">binary_fan</span><span class=\"bp\">.</span><span class=\"n\">mk</span> <span class=\"n\">f</span> <span class=\"n\">g</span><span class=\"o\">))</span> <span class=\"o\">:</span>\n  <span class=\"n\">P</span> <span class=\"err\">≅</span> <span class=\"n\">X</span> <span class=\"err\">⨯</span> <span class=\"n\">Y</span> <span class=\"o\">:=</span>\n<span class=\"n\">functor</span><span class=\"bp\">.</span><span class=\"n\">map_iso</span> <span class=\"o\">(</span><span class=\"n\">cones</span><span class=\"bp\">.</span><span class=\"n\">forget</span> <span class=\"bp\">_</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">is_limit</span><span class=\"bp\">.</span><span class=\"n\">unique_up_to_iso</span> <span class=\"n\">h</span> <span class=\"o\">(</span><span class=\"n\">limit</span><span class=\"bp\">.</span><span class=\"n\">is_limit</span> <span class=\"bp\">_</span><span class=\"o\">))</span>\n</pre></div>",
        "id": 194260991,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1587017329
    },
    {
        "content": "<p>That definitely needs a shortcut.</p>",
        "id": 194267729,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1587023570
    },
    {
        "content": "<p>Oh, I just noticed that there already is a shortcut:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kn\">example</span> <span class=\"o\">{</span><span class=\"n\">X</span> <span class=\"n\">Y</span> <span class=\"n\">P</span> <span class=\"o\">:</span> <span class=\"n\">C</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">P</span> <span class=\"err\">⟶</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">g</span> <span class=\"o\">:</span> <span class=\"n\">P</span> <span class=\"err\">⟶</span> <span class=\"n\">Y</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">h</span> <span class=\"o\">:</span> <span class=\"n\">is_limit</span> <span class=\"o\">(</span><span class=\"n\">binary_fan</span><span class=\"bp\">.</span><span class=\"n\">mk</span> <span class=\"n\">f</span> <span class=\"n\">g</span><span class=\"o\">))</span> <span class=\"o\">:</span>\n  <span class=\"n\">P</span> <span class=\"err\">≅</span> <span class=\"n\">X</span> <span class=\"err\">⨯</span> <span class=\"n\">Y</span> <span class=\"o\">:=</span>\n<span class=\"n\">h</span><span class=\"bp\">.</span><span class=\"n\">cone_point_unique_up_to_iso</span> <span class=\"o\">(</span><span class=\"n\">limit</span><span class=\"bp\">.</span><span class=\"n\">is_limit</span> <span class=\"bp\">_</span><span class=\"o\">)</span>\n</pre></div>",
        "id": 194268468,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1587024016
    },
    {
        "content": "<p>Tidy doesn 't work !  <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kn\">import</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">limits</span><span class=\"bp\">.</span><span class=\"n\">limits</span>\n<span class=\"kn\">import</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">limits</span><span class=\"bp\">.</span><span class=\"n\">shapes</span>\n<span class=\"kn\">import</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">yoneda</span>\n<span class=\"kn\">import</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">opposites</span>\n<span class=\"kn\">import</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">types</span>            <span class=\"c1\">----- i import all, i don&#39;t understand :D</span>\n<span class=\"kn\">import</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">limits</span><span class=\"bp\">.</span><span class=\"n\">types</span>\n<span class=\"kn\">import</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">limits</span><span class=\"bp\">.</span><span class=\"n\">shapes</span><span class=\"bp\">.</span><span class=\"n\">finite_products</span>\n<span class=\"kn\">import</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">limits</span><span class=\"bp\">.</span><span class=\"n\">shapes</span><span class=\"bp\">.</span><span class=\"n\">terminal</span>\n<span class=\"kn\">import</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">discrete_category</span>\n<span class=\"kn\">open</span> <span class=\"n\">category_theory</span>\n<span class=\"kn\">open</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">limits</span>\n<span class=\"kn\">open</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">category</span>\n<span class=\"kn\">open</span> <span class=\"n\">opposite</span>\n<span class=\"kn\">universe</span> <span class=\"n\">u</span>\n\n\n<span class=\"n\">def</span> <span class=\"n\">Cartesian_prod</span> <span class=\"o\">(</span><span class=\"n\">U</span> <span class=\"n\">V</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"n\">u</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">binary_fan</span> <span class=\"n\">U</span> <span class=\"n\">V</span> <span class=\"o\">:=</span> <span class=\"k\">begin</span>\n     <span class=\"k\">let</span> <span class=\"n\">P</span>  <span class=\"o\">:=</span> <span class=\"n\">U</span> <span class=\"bp\">×</span> <span class=\"n\">V</span><span class=\"o\">,</span>\n     <span class=\"k\">let</span> <span class=\"n\">π_1</span> <span class=\"o\">:=</span> <span class=\"o\">(</span><span class=\"n\">prod</span><span class=\"bp\">.</span><span class=\"n\">fst</span> <span class=\"o\">:</span>  <span class=\"n\">P</span> <span class=\"err\">⟶</span>  <span class=\"n\">U</span><span class=\"o\">),</span>\n     <span class=\"k\">let</span> <span class=\"n\">π_2</span> <span class=\"o\">:=</span> <span class=\"o\">(</span><span class=\"n\">prod</span><span class=\"bp\">.</span><span class=\"n\">snd</span> <span class=\"o\">:</span>  <span class=\"n\">P</span> <span class=\"err\">⟶</span>  <span class=\"n\">V</span><span class=\"o\">),</span>\n     <span class=\"k\">let</span> <span class=\"n\">Fan</span> <span class=\"o\">:=</span> <span class=\"n\">binary_fan</span><span class=\"bp\">.</span><span class=\"n\">mk</span> <span class=\"o\">(</span><span class=\"n\">as_hom</span> <span class=\"n\">π_1</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">as_hom</span> <span class=\"n\">π_2</span><span class=\"o\">),</span>\n     <span class=\"n\">exact</span> <span class=\"n\">Fan</span><span class=\"o\">,</span>\n<span class=\"kn\">end</span>\n\n<span class=\"kn\">lemma</span> <span class=\"n\">Cartesian_prod_is_prod</span> <span class=\"o\">(</span><span class=\"n\">U</span> <span class=\"n\">V</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"n\">u</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">is_limit</span> <span class=\"o\">(</span><span class=\"n\">Cartesian_prod</span> <span class=\"n\">U</span> <span class=\"n\">V</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"k\">begin</span>\n     <span class=\"n\">exact</span> <span class=\"o\">{</span><span class=\"n\">lift</span> <span class=\"o\">:=</span> <span class=\"k\">begin</span>\n               <span class=\"n\">intros</span><span class=\"o\">,</span>\n               <span class=\"n\">exact</span>  <span class=\"bp\">λ</span> <span class=\"n\">x</span> <span class=\"o\">:</span> <span class=\"n\">s</span><span class=\"bp\">.</span><span class=\"n\">X</span><span class=\"o\">,((</span><span class=\"n\">s</span><span class=\"bp\">.</span><span class=\"n\">π</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">app</span> <span class=\"n\">walking_pair</span><span class=\"bp\">.</span><span class=\"n\">left</span> <span class=\"n\">x</span><span class=\"o\">,(</span><span class=\"n\">s</span><span class=\"bp\">.</span><span class=\"n\">π</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">app</span> <span class=\"n\">walking_pair</span><span class=\"bp\">.</span><span class=\"n\">right</span> <span class=\"n\">x</span><span class=\"o\">),</span>\n<span class=\"c1\">-- is there is some helper ? it&#39;s i little complicated</span>\n               <span class=\"kn\">end</span><span class=\"o\">},</span>\n<span class=\"kn\">end</span>\n</pre></div>",
        "id": 194281954,
        "sender_full_name": "orlando",
        "timestamp": 1587031862
    },
    {
        "content": "<p>Automation is hard.</p>",
        "id": 194281969,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1587031880
    },
    {
        "content": "<p>I don't understand nothing <span aria-label=\"innocent\" class=\"emoji emoji-1f607\" role=\"img\" title=\"innocent\">:innocent:</span><br>\nThe tatic state at HERE is </p>\n<div class=\"codehilite\"><pre><span></span><span class=\"mi\">1</span> <span class=\"n\">goal</span>\n<span class=\"n\">U</span> <span class=\"n\">V</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"n\">u</span><span class=\"o\">,</span>\n<span class=\"n\">s</span> <span class=\"o\">:</span> <span class=\"n\">cone</span> <span class=\"o\">(</span><span class=\"n\">pair</span> <span class=\"n\">U</span> <span class=\"n\">V</span><span class=\"o\">),</span>\n<span class=\"n\">j</span> <span class=\"o\">:</span> <span class=\"n\">discrete</span> <span class=\"n\">walking_pair</span><span class=\"o\">,</span>\n<span class=\"n\">x</span> <span class=\"o\">:</span> <span class=\"n\">s</span><span class=\"bp\">.</span><span class=\"n\">X</span>\n<span class=\"err\">⊢</span> <span class=\"o\">(</span><span class=\"n\">Cartesian_prod</span> <span class=\"n\">U</span> <span class=\"n\">V</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">π</span><span class=\"bp\">.</span><span class=\"n\">app</span> <span class=\"n\">j</span> <span class=\"o\">(</span><span class=\"n\">s</span><span class=\"bp\">.</span><span class=\"n\">π</span><span class=\"bp\">.</span><span class=\"n\">app</span> <span class=\"n\">walking_pair</span><span class=\"bp\">.</span><span class=\"n\">left</span> <span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">s</span><span class=\"bp\">.</span><span class=\"n\">π</span><span class=\"bp\">.</span><span class=\"n\">app</span> <span class=\"n\">walking_pair</span><span class=\"bp\">.</span><span class=\"n\">right</span> <span class=\"n\">x</span><span class=\"o\">)</span> <span class=\"bp\">=</span> <span class=\"n\">s</span><span class=\"bp\">.</span><span class=\"n\">π</span><span class=\"bp\">.</span><span class=\"n\">app</span> <span class=\"n\">j</span> <span class=\"n\">x</span>\n</pre></div>\n\n\n<p>Can i split the goal with <code> j = left and j = right </code> or something like this ? </p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kn\">import</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">limits</span><span class=\"bp\">.</span><span class=\"n\">limits</span>\n<span class=\"kn\">import</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">limits</span><span class=\"bp\">.</span><span class=\"n\">shapes</span>\n<span class=\"kn\">import</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">yoneda</span>\n<span class=\"kn\">import</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">opposites</span>\n<span class=\"kn\">import</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">types</span>            <span class=\"c1\">----- i import all, i don&#39;t understand :D</span>\n<span class=\"kn\">import</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">limits</span><span class=\"bp\">.</span><span class=\"n\">types</span>\n<span class=\"kn\">import</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">limits</span><span class=\"bp\">.</span><span class=\"n\">shapes</span><span class=\"bp\">.</span><span class=\"n\">finite_products</span>\n<span class=\"kn\">import</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">limits</span><span class=\"bp\">.</span><span class=\"n\">shapes</span><span class=\"bp\">.</span><span class=\"n\">terminal</span>\n<span class=\"kn\">import</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">discrete_category</span>\n<span class=\"kn\">open</span> <span class=\"n\">category_theory</span>\n<span class=\"kn\">open</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">limits</span>\n<span class=\"kn\">open</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">category</span>\n<span class=\"kn\">open</span> <span class=\"n\">opposite</span>\n<span class=\"kn\">universe</span> <span class=\"n\">u</span>\n\n\n<span class=\"n\">def</span> <span class=\"n\">Cartesian_prod</span> <span class=\"o\">(</span><span class=\"n\">U</span> <span class=\"n\">V</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"n\">u</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">binary_fan</span> <span class=\"n\">U</span> <span class=\"n\">V</span> <span class=\"o\">:=</span>\n <span class=\"n\">binary_fan</span><span class=\"bp\">.</span><span class=\"n\">mk</span> <span class=\"o\">(</span><span class=\"n\">as_hom</span> <span class=\"o\">(</span><span class=\"n\">prod</span><span class=\"bp\">.</span><span class=\"n\">fst</span> <span class=\"o\">:</span> <span class=\"n\">U</span> <span class=\"bp\">×</span> <span class=\"n\">V</span> <span class=\"err\">⟶</span> <span class=\"n\">U</span><span class=\"o\">))</span> <span class=\"o\">(</span><span class=\"n\">as_hom</span> <span class=\"o\">(</span><span class=\"n\">prod</span><span class=\"bp\">.</span><span class=\"n\">snd</span>  <span class=\"o\">:</span> <span class=\"n\">U</span> <span class=\"bp\">×</span> <span class=\"n\">V</span> <span class=\"err\">⟶</span> <span class=\"n\">V</span><span class=\"o\">))</span>\n\n<span class=\"bp\">@</span><span class=\"o\">[</span><span class=\"n\">simp</span><span class=\"o\">]</span><span class=\"kn\">lemma</span> <span class=\"n\">Cartesian_prod</span><span class=\"bp\">.</span><span class=\"n\">left</span> <span class=\"o\">(</span><span class=\"n\">U</span> <span class=\"n\">V</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"n\">u</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">u</span> <span class=\"o\">:</span> <span class=\"n\">U</span> <span class=\"o\">)(</span><span class=\"n\">v</span> <span class=\"o\">:</span> <span class=\"n\">V</span><span class=\"o\">)</span>  <span class=\"o\">:</span>\n<span class=\"o\">((</span><span class=\"n\">Cartesian_prod</span> <span class=\"n\">U</span> <span class=\"n\">V</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">π</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">app</span> <span class=\"n\">walking_pair</span><span class=\"bp\">.</span><span class=\"n\">left</span> <span class=\"bp\">=</span> <span class=\"n\">prod</span><span class=\"bp\">.</span><span class=\"n\">fst</span>  <span class=\"o\">:=</span> <span class=\"n\">rfl</span>\n\n<span class=\"bp\">@</span><span class=\"o\">[</span><span class=\"n\">simp</span><span class=\"o\">]</span><span class=\"kn\">lemma</span> <span class=\"n\">Cartesian_prod</span><span class=\"bp\">.</span><span class=\"n\">right</span> <span class=\"o\">(</span><span class=\"n\">U</span> <span class=\"n\">V</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"n\">u</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">u</span> <span class=\"o\">:</span> <span class=\"n\">U</span> <span class=\"o\">)(</span><span class=\"n\">v</span> <span class=\"o\">:</span> <span class=\"n\">V</span><span class=\"o\">)</span>  <span class=\"o\">:</span>\n<span class=\"o\">((</span><span class=\"n\">Cartesian_prod</span> <span class=\"n\">U</span> <span class=\"n\">V</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">π</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">app</span> <span class=\"n\">walking_pair</span><span class=\"bp\">.</span><span class=\"n\">right</span>   <span class=\"bp\">=</span><span class=\"n\">prod</span><span class=\"bp\">.</span><span class=\"n\">snd</span> <span class=\"o\">:=</span> <span class=\"n\">rfl</span>\n\n<span class=\"c1\">-- @[simp] lemma binary_fan.mk_π_app_left {P : C} (π₁ : P ⟶ X) (π₂ : P ⟶ Y) :</span>\n<span class=\"c1\">--   (binary_fan.mk π₁ π₂).π.app walking_pair.left = π₁ := rfl</span>\n<span class=\"c1\">-- binary_fan.mk c&#39;est le constructor de binary_fan : it a cone !</span>\n<span class=\"bp\">#</span><span class=\"kn\">print</span> <span class=\"n\">is_limit</span>\n<span class=\"kn\">lemma</span> <span class=\"n\">Cartesian_prod_is_prod</span> <span class=\"o\">(</span><span class=\"n\">U</span> <span class=\"n\">V</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"n\">u</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">is_limit</span> <span class=\"o\">(</span><span class=\"n\">Cartesian_prod</span> <span class=\"n\">U</span> <span class=\"n\">V</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"k\">begin</span>\n     <span class=\"n\">exact</span>     <span class=\"o\">{</span><span class=\"n\">lift</span> <span class=\"o\">:=</span> <span class=\"k\">begin</span>\n                    <span class=\"n\">intros</span><span class=\"o\">,</span>\n                    <span class=\"n\">exact</span>  <span class=\"bp\">λ</span> <span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"o\">((</span><span class=\"n\">s</span><span class=\"bp\">.</span><span class=\"n\">π</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">app</span> <span class=\"n\">walking_pair</span><span class=\"bp\">.</span><span class=\"n\">left</span> <span class=\"n\">x</span><span class=\"o\">,</span>  <span class=\"o\">(</span><span class=\"n\">s</span><span class=\"bp\">.</span><span class=\"n\">π</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">app</span> <span class=\"n\">walking_pair</span><span class=\"bp\">.</span><span class=\"n\">right</span> <span class=\"n\">x</span><span class=\"o\">),</span>\n                    <span class=\"kn\">end</span><span class=\"o\">,</span>\n               <span class=\"n\">fac&#39;</span> <span class=\"o\">:=</span> <span class=\"k\">begin</span>\n                         <span class=\"n\">intros</span><span class=\"o\">,</span> <span class=\"n\">tidy</span><span class=\"o\">,</span> <span class=\"c1\">--- HERE</span>\n                          <span class=\"n\">sorry</span><span class=\"o\">,</span>\n                    <span class=\"kn\">end</span><span class=\"o\">,</span>\n               <span class=\"n\">uniq&#39;</span> <span class=\"o\">:=</span> <span class=\"n\">sorry</span><span class=\"o\">,</span>\n               <span class=\"o\">},</span>\n<span class=\"kn\">end</span>\n</pre></div>",
        "id": 194288512,
        "sender_full_name": "orlando",
        "timestamp": 1587036045
    },
    {
        "content": "<p>Try <code>cases j</code>.</p>",
        "id": 194290344,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1587037169
    },
    {
        "content": "<p><span aria-label=\"grinning face with smiling eyes\" class=\"emoji emoji-1f601\" role=\"img\" title=\"grinning face with smiling eyes\">:grinning_face_with_smiling_eyes:</span></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kn\">lemma</span> <span class=\"n\">Cartesian_prod_is_prod</span> <span class=\"o\">(</span><span class=\"n\">U</span> <span class=\"n\">V</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"n\">u</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">is_limit</span> <span class=\"o\">(</span><span class=\"n\">Cartesian_prod</span> <span class=\"n\">U</span> <span class=\"n\">V</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"k\">begin</span>\n     <span class=\"n\">exact</span>     <span class=\"o\">{</span><span class=\"n\">lift</span> <span class=\"o\">:=</span> <span class=\"k\">begin</span>\n                    <span class=\"n\">intros</span><span class=\"o\">,</span>\n                    <span class=\"n\">exact</span>  <span class=\"bp\">λ</span> <span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"o\">((</span><span class=\"n\">s</span><span class=\"bp\">.</span><span class=\"n\">π</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">app</span> <span class=\"n\">walking_pair</span><span class=\"bp\">.</span><span class=\"n\">left</span> <span class=\"n\">x</span><span class=\"o\">,</span>  <span class=\"o\">(</span><span class=\"n\">s</span><span class=\"bp\">.</span><span class=\"n\">π</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">app</span> <span class=\"n\">walking_pair</span><span class=\"bp\">.</span><span class=\"n\">right</span> <span class=\"n\">x</span><span class=\"o\">),</span>\n                    <span class=\"kn\">end</span><span class=\"o\">,</span>\n               <span class=\"n\">fac&#39;</span> <span class=\"o\">:=</span> <span class=\"k\">begin</span>\n\n                         <span class=\"n\">intros</span><span class=\"o\">,</span> <span class=\"n\">cases</span> <span class=\"n\">j</span>\n                         <span class=\"o\">,</span> <span class=\"n\">exact</span> <span class=\"n\">rfl</span><span class=\"o\">,</span><span class=\"n\">exact</span> <span class=\"n\">rfl</span><span class=\"o\">,</span>\n                    <span class=\"kn\">end</span><span class=\"o\">,</span>\n               <span class=\"n\">uniq&#39;</span> <span class=\"o\">:=</span> <span class=\"k\">begin</span>\n                <span class=\"n\">intros</span><span class=\"o\">,</span>\n                <span class=\"n\">funext</span><span class=\"o\">,</span>\n               <span class=\"n\">ext</span><span class=\"o\">,</span> <span class=\"n\">specialize</span> <span class=\"n\">w</span> <span class=\"o\">(</span><span class=\"n\">walking_pair</span><span class=\"bp\">.</span><span class=\"n\">left</span><span class=\"o\">),</span><span class=\"n\">rw</span> <span class=\"err\">←</span> <span class=\"n\">w</span><span class=\"o\">,</span>\n               <span class=\"n\">rw</span> <span class=\"n\">types_comp_apply</span><span class=\"o\">,</span> <span class=\"n\">exact</span> <span class=\"n\">rfl</span><span class=\"o\">,</span>\n               <span class=\"n\">specialize</span> <span class=\"n\">w</span> <span class=\"o\">(</span><span class=\"n\">walking_pair</span><span class=\"bp\">.</span><span class=\"n\">right</span><span class=\"o\">),</span> <span class=\"n\">rw</span> <span class=\"err\">←</span> <span class=\"n\">w</span><span class=\"o\">,</span>\n               <span class=\"n\">rw</span> <span class=\"n\">types_comp_apply</span><span class=\"o\">,</span><span class=\"n\">exact</span> <span class=\"n\">rfl</span><span class=\"o\">,</span>\n                <span class=\"kn\">end</span>\n               <span class=\"o\">},</span>\n<span class=\"kn\">end</span>\n</pre></div>",
        "id": 194291216,
        "sender_full_name": "orlando",
        "timestamp": 1587037772
    },
    {
        "content": "<p>Hello, another funny stuff <span aria-label=\"joy\" class=\"emoji emoji-1f602\" role=\"img\" title=\"joy\">:joy:</span> </p>\n<p>oups the code not work  sorry i update  it's ok ! but <span aria-label=\"confused\" class=\"emoji emoji-1f615\" role=\"img\" title=\"confused\">:confused:</span> </p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kn\">import</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">limits</span><span class=\"bp\">.</span><span class=\"n\">limits</span>\n<span class=\"kn\">import</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">limits</span><span class=\"bp\">.</span><span class=\"n\">shapes</span>\n<span class=\"kn\">import</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">yoneda</span>\n<span class=\"kn\">import</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">opposites</span>\n<span class=\"kn\">import</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">types</span>\n<span class=\"kn\">import</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">limits</span><span class=\"bp\">.</span><span class=\"n\">types</span>\n<span class=\"kn\">import</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">limits</span><span class=\"bp\">.</span><span class=\"n\">shapes</span><span class=\"bp\">.</span><span class=\"n\">finite_products</span>\n<span class=\"kn\">import</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">discrete_category</span>\n\n<span class=\"n\">universes</span> <span class=\"n\">v</span> <span class=\"n\">v1</span> <span class=\"n\">u</span> <span class=\"n\">u1</span>\n<span class=\"kn\">open</span> <span class=\"n\">category_theory</span>\n<span class=\"kn\">open</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">limits</span>\n<span class=\"kn\">open</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">limits</span><span class=\"bp\">.</span><span class=\"n\">walking_pair</span>\n<span class=\"kn\">open</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">category</span>\n<span class=\"kn\">open</span> <span class=\"n\">opposite</span>\n<span class=\"kn\">open</span> <span class=\"n\">category_theory</span><span class=\"bp\">.</span><span class=\"n\">limits</span>\n<span class=\"kn\">namespace</span> <span class=\"n\">TEST</span>\n<span class=\"kn\">variables</span> <span class=\"o\">{</span><span class=\"n\">C</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"n\">u</span><span class=\"o\">}</span>\n<span class=\"kn\">variables</span> <span class=\"o\">[</span><span class=\"err\">𝒞</span> <span class=\"o\">:</span> <span class=\"n\">category</span><span class=\"bp\">.</span><span class=\"o\">{</span><span class=\"n\">v</span><span class=\"o\">}</span> <span class=\"n\">C</span><span class=\"o\">]</span>\n<span class=\"n\">include</span> <span class=\"err\">𝒞</span>\n<span class=\"kn\">lemma</span> <span class=\"n\">rfl_of_rlf</span> <span class=\"o\">{</span><span class=\"n\">X1</span> <span class=\"n\">Y1</span> <span class=\"n\">X2</span> <span class=\"n\">Y2</span> <span class=\"o\">:</span> <span class=\"n\">C</span><span class=\"o\">}(</span><span class=\"n\">h</span> <span class=\"o\">:</span> <span class=\"n\">X1</span> <span class=\"bp\">=</span> <span class=\"n\">X2</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">h&#39;</span> <span class=\"o\">:</span> <span class=\"n\">Y1</span> <span class=\"bp\">=</span> <span class=\"n\">Y2</span> <span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">X1</span> <span class=\"err\">⟶</span> <span class=\"n\">Y1</span><span class=\"o\">)</span> <span class=\"bp\">→</span>  <span class=\"o\">(</span><span class=\"n\">X2</span> <span class=\"err\">⟶</span> <span class=\"n\">Y2</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"k\">begin</span>\n     <span class=\"n\">intro</span> <span class=\"n\">f</span><span class=\"o\">,</span><span class=\"n\">tidy</span><span class=\"o\">,</span><span class=\"n\">exact</span> <span class=\"n\">f</span><span class=\"o\">,</span>\n       <span class=\"c1\">--- super tidy</span>\n<span class=\"kn\">end</span>\n<span class=\"kn\">lemma</span> <span class=\"n\">jouer1</span> <span class=\"o\">(</span><span class=\"n\">X1</span> <span class=\"n\">X2</span> <span class=\"n\">Y1</span> <span class=\"n\">Y2</span> <span class=\"o\">:</span> <span class=\"n\">C</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">fX</span> <span class=\"o\">:</span> <span class=\"n\">X1</span> <span class=\"err\">⟶</span> <span class=\"n\">X2</span><span class=\"o\">)(</span><span class=\"n\">fY</span> <span class=\"o\">:</span> <span class=\"n\">Y1</span> <span class=\"err\">⟶</span> <span class=\"n\">Y2</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">true</span> <span class=\"o\">:=</span> <span class=\"k\">begin</span>\n     <span class=\"k\">let</span> <span class=\"n\">F1</span> <span class=\"o\">:=</span> <span class=\"n\">pair</span> <span class=\"n\">X1</span> <span class=\"n\">Y1</span><span class=\"o\">,</span>\n     <span class=\"k\">let</span> <span class=\"n\">F2</span> <span class=\"o\">:=</span> <span class=\"n\">pair</span> <span class=\"n\">X2</span> <span class=\"n\">Y2</span><span class=\"o\">,</span>\n     <span class=\"k\">have</span> <span class=\"n\">hx</span> <span class=\"o\">:</span> <span class=\"n\">X1</span> <span class=\"bp\">=</span> <span class=\"n\">F1</span><span class=\"bp\">.</span><span class=\"n\">obj</span> <span class=\"n\">left</span><span class=\"o\">,</span>\n          <span class=\"n\">exact</span> <span class=\"n\">rfl</span><span class=\"o\">,</span>\n     <span class=\"k\">have</span> <span class=\"n\">hx&#39;</span> <span class=\"o\">:</span> <span class=\"n\">X2</span> <span class=\"bp\">=</span> <span class=\"n\">F2</span><span class=\"bp\">.</span><span class=\"n\">obj</span> <span class=\"n\">left</span><span class=\"o\">,</span>\n          <span class=\"n\">exact</span> <span class=\"n\">rfl</span><span class=\"o\">,</span>\n          <span class=\"k\">have</span> <span class=\"n\">hy</span> <span class=\"o\">:</span> <span class=\"n\">Y1</span> <span class=\"bp\">=</span> <span class=\"n\">F1</span><span class=\"bp\">.</span><span class=\"n\">obj</span> <span class=\"n\">right</span><span class=\"o\">,</span>\n          <span class=\"n\">exact</span> <span class=\"n\">rfl</span><span class=\"o\">,</span>\n     <span class=\"k\">have</span> <span class=\"n\">hy&#39;</span> <span class=\"o\">:</span> <span class=\"n\">Y2</span> <span class=\"bp\">=</span> <span class=\"n\">F2</span><span class=\"bp\">.</span><span class=\"n\">obj</span> <span class=\"n\">right</span><span class=\"o\">,</span>\n          <span class=\"n\">exact</span> <span class=\"n\">rfl</span><span class=\"o\">,</span>\n     <span class=\"c1\">-- let ψ := map_pair fX fY,   --- not work is it posssible to make this work ? wihout rfl_of_rfl ?</span>\n     <span class=\"k\">let</span> <span class=\"n\">φ</span> <span class=\"o\">:=</span> <span class=\"n\">map_pair</span>  <span class=\"o\">(</span><span class=\"n\">rfl_of_rlf</span>  <span class=\"n\">hx</span> <span class=\"n\">hx&#39;</span> <span class=\"n\">fX</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">rfl_of_rlf</span> <span class=\"n\">hy</span> <span class=\"n\">hy&#39;</span> <span class=\"n\">fY</span><span class=\"o\">),</span>\n          <span class=\"n\">trivial</span><span class=\"o\">,</span>\n<span class=\"kn\">end</span>\n<span class=\"kn\">end</span> <span class=\"n\">TEST</span>\n</pre></div>",
        "id": 194369132,
        "sender_full_name": "orlando",
        "timestamp": 1587072148
    },
    {
        "content": "<p>An other question : is there is documentation that explain <code> rfl </code>  ?</p>",
        "id": 194369533,
        "sender_full_name": "orlando",
        "timestamp": 1587072355
    },
    {
        "content": "<p>That's almost the same thing as asking what <em>definitional equality</em> is. The best resource is probably Mario's thesis.</p>",
        "id": 194369925,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1587072568
    },
    {
        "content": "<p>I put this under the \"you will pick it up as you use it and ask a million questions about it\" file</p>",
        "id": 194373122,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1587074551
    },
    {
        "content": "<p><code>rfl</code> proves <code>X=Y</code> if X and Y have the same definition</p>",
        "id": 194373523,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1587074782
    },
    {
        "content": "<p>Like it would prove <code>n+0=n</code> but it would not prove <code>0+n=n</code></p>",
        "id": 194373591,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1587074833
    },
    {
        "content": "<p>defeq isn't transitive though</p>",
        "id": 194373615,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1587074847
    },
    {
        "content": "<p>but yeah ok for practical purposes</p>",
        "id": 194373627,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1587074854
    },
    {
        "content": "<p>In my example :  tidy do <code> induction h', induction h </code> !</p>",
        "id": 194373987,
        "sender_full_name": "orlando",
        "timestamp": 1587075049
    }
]