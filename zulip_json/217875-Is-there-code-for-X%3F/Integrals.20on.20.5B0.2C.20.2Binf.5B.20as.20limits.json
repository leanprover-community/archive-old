[
    {
        "content": "<p>I <em>think</em> to do this you need to assume that <code>f</code> is integrable on all of <code>Ico 0</code>, and it might be false if you only assume that for all <code>x</code> it is integrable on <code>Icc 0 x</code>. If you assume that it should follow without too much trouble from <a href=\"https://leanprover-community.github.io/mathlib_docs/find/measure_theory.tendsto_integral_of_dominated_convergence\">docs#measure_theory.tendsto_integral_of_dominated_convergence</a>.</p>",
        "id": 227514027,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1614118413
    },
    {
        "content": "<p>Take <code>bound := |f|</code> (or <code>(Ico 0).indicator |f|</code>) and <code>F n := (Ioc 0 n).indicator f</code></p>",
        "id": 227514494,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1614118626
    },
    {
        "content": "<p>The function <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mfrac><mrow><mi>sin</mi><mo>â¡</mo><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow><mi>x</mi></mfrac></mrow><annotation encoding=\"application/x-tex\">f(x) =\\frac{\\sin(x)}{x}</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.355em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.01em;\"><span style=\"top:-2.6550000000000002em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.485em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mop mtight\"><span class=\"mtight\">s</span><span class=\"mtight\">i</span><span class=\"mtight\">n</span></span><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">x</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span> is not integrable on <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">[</mo><mn>0</mn><mo separator=\"true\">,</mo><mo>+</mo><mi mathvariant=\"normal\">âˆ</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">[0, + \\infty)</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[</span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">+</span><span class=\"mord\">âˆ</span><span class=\"mclose\">)</span></span></span></span>, but <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mo><mi>lim</mi><mo>â¡</mo></mo><mrow><mi>c</mi><mo>â†’</mo><mi mathvariant=\"normal\">âˆ</mi></mrow></msub><msubsup><mo>âˆ«</mo><mn>0</mn><mi>c</mi></msubsup><mi>f</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mi>d</mi><mi>x</mi><mo>=</mo><mfrac><mi>Ï€</mi><mn>2</mn></mfrac></mrow><annotation encoding=\"application/x-tex\">\\lim_{c \\to \\infty} \\int_0^c f(x) dx = \\frac{\\pi}{2}</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:1.215112em;vertical-align:-0.35582em;\"></span><span class=\"mop\"><span class=\"mop\">lim</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span><span class=\"mrel mtight\">â†’</span><span class=\"mord mtight\">âˆ</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"margin-right:0.19445em;position:relative;top:-0.0005599999999999772em;\">âˆ«</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8592920000000001em;\"><span style=\"top:-2.34418em;margin-left:-0.19445em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span><span style=\"top:-3.2579000000000002em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.35582em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.040392em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.695392em;\"><span style=\"top:-2.6550000000000002em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">Ï€</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span>.</p>",
        "id": 227515535,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1614119132
    },
    {
        "content": "<p>What's the definition of integrable on [0,infty)? It's been a long time! Is 1/floor(x+1) also problematic?</p>",
        "id": 227517146,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1614119892
    },
    {
        "content": "<p>I don't know Lean's measure theory library, I just mean that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mfrac><mrow><mi>sin</mi><mo>â¡</mo><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow><mi>x</mi></mfrac><mo>âˆˆÌ¸</mo><msup><mi>L</mi><mn>1</mn></msup><mo stretchy=\"false\">(</mo><msub><mi mathvariant=\"bold\">R</mi><mrow><mo>â‰¥</mo><mn>0</mn></mrow></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\frac{\\sin(x)}{x} \\not \\in L^1(\\mathbf{R}_{\\geq 0})</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:1.355em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.01em;\"><span style=\"top:-2.6550000000000002em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.485em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mop mtight\"><span class=\"mtight\">s</span><span class=\"mtight\">i</span><span class=\"mtight\">n</span></span><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">x</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mord vbox\"><span class=\"thinbox\"><span class=\"rlap\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"inner\"><span class=\"mrel\">î€ </span></span><span class=\"fix\"></span></span></span></span></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mrel\">âˆˆ</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.064108em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">L</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathbf\">R</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.301108em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mrel mtight\">â‰¥</span><span class=\"mord mtight\">0</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.24517899999999998em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> for the Lebesgue measure: by definition being in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>L</mi><mn>1</mn></msup></mrow><annotation encoding=\"application/x-tex\">L^1</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">L</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span></span></span> means that the integral <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mo>âˆ«</mo><msub><mi mathvariant=\"bold\">R</mi><mrow><mo>â‰¥</mo><mn>0</mn></mrow></msub></msub><mrow><mo fence=\"true\">âˆ£</mo><mfrac><mrow><mi>sin</mi><mo>â¡</mo><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow><mi>x</mi></mfrac><mo fence=\"true\">âˆ£</mo></mrow><mi>d</mi><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">\\int_{\\mathbf{R}_{\\geq 0}} \\left | \\frac{\\sin(x)}{x}\\right | dx</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:1.8239899999999998em;vertical-align:-0.6500149999999999em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"margin-right:0.19445em;position:relative;top:-0.0005599999999999772em;\">âˆ«</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.12445699999999982em;\"><span style=\"top:-2.34418em;margin-left:-0.19445em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathbf mtight\">R</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31731428571428566em;\"><span style=\"top:-2.357em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mrel mtight\">â‰¥</span><span class=\"mord mtight\">0</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.24012142857142857em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.5239050000000001em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen\"><span class=\"delimsizing mult\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.173975em;\"><span style=\"top:-1.955985em;\"><span class=\"pstrut\" style=\"height:2.606em;\"></span><span class=\"delimsizinginner delim-size1\"><span>âˆ£</span></span></span><span style=\"top:-2.556985em;\"><span class=\"pstrut\" style=\"height:2.606em;\"></span><span class=\"delimsizinginner delim-size1\"><span>âˆ£</span></span></span><span style=\"top:-2.572975em;\"><span class=\"pstrut\" style=\"height:2.606em;\"></span><span class=\"delimsizinginner delim-size1\"><span>âˆ£</span></span></span><span style=\"top:-3.173975em;\"><span class=\"pstrut\" style=\"height:2.606em;\"></span><span class=\"delimsizinginner delim-size1\"><span>âˆ£</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6500149999999999em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.01em;\"><span style=\"top:-2.6550000000000002em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.485em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mop mtight\"><span class=\"mtight\">s</span><span class=\"mtight\">i</span><span class=\"mtight\">n</span></span><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">x</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mclose\"><span class=\"delimsizing mult\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.173975em;\"><span style=\"top:-1.955985em;\"><span class=\"pstrut\" style=\"height:2.606em;\"></span><span class=\"delimsizinginner delim-size1\"><span>âˆ£</span></span></span><span style=\"top:-2.556985em;\"><span class=\"pstrut\" style=\"height:2.606em;\"></span><span class=\"delimsizinginner delim-size1\"><span>âˆ£</span></span></span><span style=\"top:-2.572975em;\"><span class=\"pstrut\" style=\"height:2.606em;\"></span><span class=\"delimsizinginner delim-size1\"><span>âˆ£</span></span></span><span style=\"top:-3.173975em;\"><span class=\"pstrut\" style=\"height:2.606em;\"></span><span class=\"delimsizinginner delim-size1\"><span>âˆ£</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6500149999999999em;\"><span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">x</span></span></span></span> is finite. And the integral of a positive function is defined using simple functions.</p>",
        "id": 227517814,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1614120237
    },
    {
        "content": "<p>So yes, 1/floor(x+1)  is not integrable. The difference is that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mfrac><mrow><mi>sin</mi><mo>â¡</mo><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow><mi>x</mi></mfrac></mrow><annotation encoding=\"application/x-tex\">\\frac{\\sin(x)}{x}</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:1.355em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.01em;\"><span style=\"top:-2.6550000000000002em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.485em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mop mtight\"><span class=\"mtight\">s</span><span class=\"mtight\">i</span><span class=\"mtight\">n</span></span><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">x</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span> has a well defined improper <em>Riemann</em> integral, that equals the limit by definition.</p>",
        "id": 227518251,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1614120443
    },
    {
        "content": "<p>Oh I'm an idiot, I meant to say (-1)^(floor(x+1))/floor(x+1)</p>",
        "id": 227518877,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1614120744
    },
    {
        "content": "<p>I'm trying to simulate an alternating sum of 1/n</p>",
        "id": 227518897,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1614120757
    },
    {
        "content": "<p>I'm pretty sure that I was taught that the integral of this from 0 to infinity existed when we were doing Riemann integral, and I didn't pay attention in Lebesgue integral class</p>",
        "id": 227519034,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1614120838
    },
    {
        "content": "<p>I just had the impression that Riemann integrable implied Lebesgue integrable but now I'm not so sure</p>",
        "id": 227519151,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1614120872
    },
    {
        "content": "<p>It was Lebesgue integral class that convinced me I didn't want to be an analyst</p>",
        "id": 227519196,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1614120899
    },
    {
        "content": "<p>The point is that over an unbounded interval there is no direct notion of Riemann integral: we have to take the limit even in the definition. But <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">[</mo><mn>0</mn><mo separator=\"true\">,</mo><mo>+</mo><mi mathvariant=\"normal\">âˆ</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">[0, +\\infty)</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[</span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">+</span><span class=\"mord\">âˆ</span><span class=\"mclose\">)</span></span></span></span> is an honest measure space, so we can talk about Lebesgue integrable functions on it, directly, without having to take any limit.</p>",
        "id": 227519378,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1614120975
    },
    {
        "content": "<p>I was very confused about some of the lemmas in Lean's <code>tsum</code> namespace until I realised that sum of (-1)^n/n was not summable, again I was told that it had a sum</p>",
        "id": 227519393,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1614120982
    },
    {
        "content": "<p>I guess it's the same phenomenon</p>",
        "id": 227519445,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1614121024
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/Integrals.20on.20.5B0.2C.20.2Binf.5B.20as.20limits/near/227518877\">said</a>:</p>\n<blockquote>\n<p>Oh I'm an idiot, I meant to say (-1)^(floor(x+1))/floor(x+1)</p>\n</blockquote>\n<p>I think this works in the same way as <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>sin</mi><mo>â¡</mo><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mi mathvariant=\"normal\">/</mi><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">\\sin(x)/x</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop\">sin</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span><span class=\"mord\">/</span><span class=\"mord mathnormal\">x</span></span></span></span>, yes!</p>",
        "id": 227519496,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1614121043
    },
    {
        "content": "<p>So Riemann integrable but not Lebesgue integrable, like the sum above is convergent but not absolutely convergent</p>",
        "id": 227519642,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1614121103
    },
    {
        "content": "<p>I too like all my real analysis counterexamples to be constructed from <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mo>âˆ’</mo><mn>1</mn><msup><mo stretchy=\"false\">)</mo><mi>n</mi></msup></mrow><annotation encoding=\"application/x-tex\">(-1)^n</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">âˆ’</span><span class=\"mord\">1</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.664392em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span></span></span></span></span></span></span></span> and floor, that way you can use them honestly in your elementary real analysis class without constructing the trigonometric functions.</p>",
        "id": 227519704,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1614121132
    },
    {
        "content": "<p>I had not really realised that convergent but not absolutely convergent things were somehow rejected -- I had imagined that they had some sort of use</p>",
        "id": 227519758,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1614121155
    },
    {
        "content": "<p>They were useful for exam questions in my Riemann integral course but I didn't take the Lebesgue integral exam</p>",
        "id": 227519912,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1614121205
    },
    {
        "content": "<p>I believe that one of the reasons to define <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>L</mi><mn>1</mn></msup></mrow><annotation encoding=\"application/x-tex\">L^1</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">L</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span></span></span> in this way is that we want it to be a very well behaved space (aka a Banach space).  The situation is completely analogous to that of series, we can play with convergent series and doing a lot of interesting exercises, but to set up a nice theory we need absolutely convergent series.</p>\n<p>Even intuitively, if you look at <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>âˆ‘</mo><mfrac><mrow><mo stretchy=\"false\">(</mo><mo>âˆ’</mo><mn>1</mn><msup><mo stretchy=\"false\">)</mo><mi>n</mi></msup></mrow><mi>n</mi></mfrac><mo>=</mo><mo>âˆ’</mo><mi>log</mi><mo>â¡</mo><mo stretchy=\"false\">(</mo><mn>2</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\sum \\frac{(-1)^n}{n} = -\\log(2)</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:1.355em;vertical-align:-0.345em;\"></span><span class=\"mop op-symbol small-op\" style=\"position:relative;top:-0.0000050000000000050004em;\">âˆ‘</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.01em;\"><span style=\"top:-2.6550000000000002em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.485em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mtight\">âˆ’</span><span class=\"mord mtight\">1</span><span class=\"mclose mtight\"><span class=\"mclose mtight\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7385428571428572em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"mopen\">(</span><span class=\"mord\">2</span><span class=\"mclose\">)</span></span></span></span> as an integral in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi mathvariant=\"normal\">â„“</mi><mn>1</mn></msup></mrow><annotation encoding=\"application/x-tex\">\\ell^1</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord\">â„“</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span></span></span> this is very weird: think of this as the integral of a simple function, now rearrange the points to have sum <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>37</mn></mrow><annotation encoding=\"application/x-tex\">37</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">3</span><span class=\"mord\">7</span></span></span></span>. You have changed the function, but from a measure theory point of view all the points are the same (the measure space is <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"bold\">N</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbf{N}</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68611em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathbf\">N</span></span></span></span></span> with the counting measure) so the new function should have the same integral.</p>",
        "id": 227522534,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1614122616
    },
    {
        "content": "<p>That's a really nice way of looking at it -- thanks!</p>",
        "id": 227526485,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1614124910
    },
    {
        "content": "<p>Thanks to all of you ! As I said I haven't followed any course in measure theory, so it really helps me to get the philosophy. If I understand correctly, the lemma is true if f is <code>integrable</code>, but that means having to compute the integral of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">âˆ¥</mi><mi>f</mi><mi mathvariant=\"normal\">âˆ¥</mi></mrow><annotation encoding=\"application/x-tex\">\\Vert f\\Vert</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">âˆ¥</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mord\">âˆ¥</span></span></span></span>. Tell me if 'm wrong, but there should be a way to throw out that assumption if f is nonnegative, right ? I think so because I managed to prove the following :</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">lemma</span> <span class=\"n\">lintegral_eq_of_tendsto</span> <span class=\"o\">(</span><span class=\"n\">Ï†</span> <span class=\"o\">:</span> <span class=\"n\">â„•</span> <span class=\"bp\">â†’</span> <span class=\"n\">set</span> <span class=\"n\">Î±</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">hÏ†â‚</span> <span class=\"o\">:</span> <span class=\"bp\">âˆ€</span> <span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"bp\">âˆ€á¶ </span> <span class=\"n\">n</span> <span class=\"k\">in</span> <span class=\"n\">at_top</span><span class=\"o\">,</span> <span class=\"n\">x</span> <span class=\"bp\">âˆˆ</span> <span class=\"n\">Ï†</span> <span class=\"n\">n</span><span class=\"o\">)</span>\n  <span class=\"o\">(</span><span class=\"n\">hÏ†â‚‚</span> <span class=\"o\">:</span> <span class=\"n\">monotone</span> <span class=\"n\">Ï†</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">hÏ†â‚ƒ</span> <span class=\"o\">:</span> <span class=\"bp\">âˆ€</span> <span class=\"n\">n</span><span class=\"o\">,</span> <span class=\"n\">measurable_set</span> <span class=\"bp\">$</span> <span class=\"n\">Ï†</span> <span class=\"n\">n</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">Î±</span> <span class=\"bp\">â†’</span> <span class=\"n\">â„</span><span class=\"bp\">â‰¥</span><span class=\"mi\">0</span><span class=\"bp\">âˆ</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">I</span> <span class=\"o\">:</span> <span class=\"n\">â„</span><span class=\"bp\">â‰¥</span><span class=\"mi\">0</span><span class=\"bp\">âˆ</span><span class=\"o\">)</span>\n  <span class=\"o\">(</span><span class=\"n\">hfm</span> <span class=\"o\">:</span> <span class=\"n\">measurable</span> <span class=\"n\">f</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">h</span> <span class=\"o\">:</span> <span class=\"n\">tendsto</span> <span class=\"o\">(</span><span class=\"bp\">Î»</span> <span class=\"n\">n</span><span class=\"o\">,</span> <span class=\"bp\">âˆ«â»</span> <span class=\"n\">x</span> <span class=\"k\">in</span> <span class=\"n\">Ï†</span> <span class=\"n\">n</span><span class=\"o\">,</span> <span class=\"n\">f</span> <span class=\"n\">x</span> <span class=\"bp\">âˆ‚</span><span class=\"n\">Î¼</span><span class=\"o\">)</span> <span class=\"n\">at_top</span> <span class=\"o\">(</span><span class=\"bp\">ğ“</span> <span class=\"n\">I</span><span class=\"o\">))</span> <span class=\"o\">:</span>\n<span class=\"bp\">âˆ«â»</span> <span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">f</span> <span class=\"n\">x</span> <span class=\"bp\">âˆ‚</span><span class=\"n\">Î¼</span> <span class=\"bp\">=</span> <span class=\"n\">I</span> <span class=\"o\">:=</span> <span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>I'm currently trying to deduce form that a similar lemma about nonnegative functions to the real numbers (where I would be a real number too).</p>",
        "id": 227571783,
        "sender_full_name": "Anatole Dedecker",
        "timestamp": 1614159565
    },
    {
        "content": "<p>If f is nonnegative then all these concerns above should be irrelevant, yes</p>",
        "id": 227577509,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1614162518
    },
    {
        "content": "<p>FYI, after quite a bit of work, I now have proofs of the following : </p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">lemma</span> <span class=\"n\">integral_eq_of_tendsto_integral</span> <span class=\"o\">{</span><span class=\"n\">Ï†</span> <span class=\"o\">:</span> <span class=\"n\">â„•</span> <span class=\"bp\">â†’</span> <span class=\"n\">set</span> <span class=\"n\">Î±</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">hÏ†â‚</span> <span class=\"o\">:</span> <span class=\"bp\">âˆ€</span> <span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"bp\">âˆ€á¶ </span> <span class=\"n\">n</span> <span class=\"k\">in</span> <span class=\"n\">at_top</span><span class=\"o\">,</span> <span class=\"n\">x</span> <span class=\"bp\">âˆˆ</span> <span class=\"n\">Ï†</span> <span class=\"n\">n</span><span class=\"o\">)</span>\n  <span class=\"o\">(</span><span class=\"n\">hÏ†â‚‚</span> <span class=\"o\">:</span> <span class=\"n\">monotone</span> <span class=\"n\">Ï†</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">hÏ†â‚ƒ</span> <span class=\"o\">:</span> <span class=\"bp\">âˆ€</span> <span class=\"n\">n</span><span class=\"o\">,</span> <span class=\"n\">measurable_set</span> <span class=\"bp\">$</span> <span class=\"n\">Ï†</span> <span class=\"n\">n</span><span class=\"o\">)</span> <span class=\"o\">{</span><span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">Î±</span> <span class=\"bp\">â†’</span> <span class=\"n\">â„</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">I</span> <span class=\"o\">:</span> <span class=\"n\">â„</span><span class=\"o\">)</span>\n  <span class=\"o\">(</span><span class=\"n\">hfm</span> <span class=\"o\">:</span> <span class=\"n\">measurable</span> <span class=\"n\">f</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">hfi</span> <span class=\"o\">:</span> <span class=\"n\">integrable</span> <span class=\"n\">f</span> <span class=\"n\">Î¼</span><span class=\"o\">)</span>\n  <span class=\"o\">(</span><span class=\"n\">h</span> <span class=\"o\">:</span> <span class=\"n\">tendsto</span> <span class=\"o\">(</span><span class=\"bp\">Î»</span> <span class=\"n\">n</span><span class=\"o\">,</span> <span class=\"bp\">âˆ«</span> <span class=\"n\">x</span> <span class=\"k\">in</span> <span class=\"n\">Ï†</span> <span class=\"n\">n</span><span class=\"o\">,</span> <span class=\"n\">f</span> <span class=\"n\">x</span> <span class=\"bp\">âˆ‚</span><span class=\"n\">Î¼</span><span class=\"o\">)</span> <span class=\"n\">at_top</span> <span class=\"o\">(</span><span class=\"bp\">ğ“</span> <span class=\"n\">I</span><span class=\"o\">))</span> <span class=\"o\">:</span>\n  <span class=\"bp\">âˆ«</span> <span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">f</span> <span class=\"n\">x</span> <span class=\"bp\">âˆ‚</span><span class=\"n\">Î¼</span> <span class=\"bp\">=</span> <span class=\"n\">I</span> <span class=\"o\">:=</span> <span class=\"gr\">sorry</span>\n\n<span class=\"kd\">lemma</span> <span class=\"n\">integral_eq_of_tendsto_integral_of_nonneg_ae</span> <span class=\"o\">{</span><span class=\"n\">Ï†</span> <span class=\"o\">:</span> <span class=\"n\">â„•</span> <span class=\"bp\">â†’</span> <span class=\"n\">set</span> <span class=\"n\">Î±</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">hÏ†â‚</span> <span class=\"o\">:</span> <span class=\"bp\">âˆ€</span> <span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"bp\">âˆ€á¶ </span> <span class=\"n\">n</span> <span class=\"k\">in</span> <span class=\"n\">at_top</span><span class=\"o\">,</span> <span class=\"n\">x</span> <span class=\"bp\">âˆˆ</span> <span class=\"n\">Ï†</span> <span class=\"n\">n</span><span class=\"o\">)</span>\n  <span class=\"o\">(</span><span class=\"n\">hÏ†â‚‚</span> <span class=\"o\">:</span> <span class=\"n\">monotone</span> <span class=\"n\">Ï†</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">hÏ†â‚ƒ</span> <span class=\"o\">:</span> <span class=\"bp\">âˆ€</span> <span class=\"n\">n</span><span class=\"o\">,</span> <span class=\"n\">measurable_set</span> <span class=\"bp\">$</span> <span class=\"n\">Ï†</span> <span class=\"n\">n</span><span class=\"o\">)</span> <span class=\"o\">{</span><span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">Î±</span> <span class=\"bp\">â†’</span> <span class=\"n\">â„</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">I</span> <span class=\"o\">:</span> <span class=\"n\">â„</span><span class=\"o\">)</span>\n  <span class=\"o\">(</span><span class=\"n\">hf</span> <span class=\"o\">:</span> <span class=\"mi\">0</span> <span class=\"bp\">â‰¤áµ</span><span class=\"o\">[</span><span class=\"n\">Î¼</span><span class=\"o\">]</span> <span class=\"n\">f</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">hfm</span> <span class=\"o\">:</span> <span class=\"n\">measurable</span> <span class=\"n\">f</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">hfi</span> <span class=\"o\">:</span> <span class=\"bp\">âˆ€</span> <span class=\"n\">n</span><span class=\"o\">,</span> <span class=\"n\">integrable_on</span> <span class=\"n\">f</span> <span class=\"o\">(</span><span class=\"n\">Ï†</span> <span class=\"n\">n</span><span class=\"o\">)</span> <span class=\"n\">Î¼</span><span class=\"o\">)</span>\n  <span class=\"o\">(</span><span class=\"n\">h</span> <span class=\"o\">:</span> <span class=\"n\">tendsto</span> <span class=\"o\">(</span><span class=\"bp\">Î»</span> <span class=\"n\">n</span><span class=\"o\">,</span> <span class=\"bp\">âˆ«</span> <span class=\"n\">x</span> <span class=\"k\">in</span> <span class=\"n\">Ï†</span> <span class=\"n\">n</span><span class=\"o\">,</span> <span class=\"n\">f</span> <span class=\"n\">x</span> <span class=\"bp\">âˆ‚</span><span class=\"n\">Î¼</span><span class=\"o\">)</span> <span class=\"n\">at_top</span> <span class=\"o\">(</span><span class=\"bp\">ğ“</span> <span class=\"n\">I</span><span class=\"o\">))</span> <span class=\"o\">:</span>\n  <span class=\"bp\">âˆ«</span> <span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">f</span> <span class=\"n\">x</span> <span class=\"bp\">âˆ‚</span><span class=\"n\">Î¼</span> <span class=\"bp\">=</span> <span class=\"n\">I</span> <span class=\"o\">:=</span> <span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 228010217,
        "sender_full_name": "Anatole Dedecker",
        "timestamp": 1614380743
    },
    {
        "content": "<p>I started to clean and generalize this code in order to make a PR out of it. You can see the current version at <a href=\"https://github.com/ADedecker/gauss/blob/master/src/integral_limits.lean\">https://github.com/ADedecker/gauss/blob/master/src/integral_limits.lean</a></p>\n<p>I was stuck when trying to generalize those results for <code>f : Î± â†’ E</code>with all the assumptions on E for the integral to be defined. The problems come from my initial roadmap, which was basically \"prove everything for <code>lintegral</code>s, and then use <a href=\"https://leanprover-community.github.io/mathlib_docs/find/integral_eq_lintegral_max_sub_lintegral_min\">docs#integral_eq_lintegral_max_sub_lintegral_min</a> to deduce eveything I need\". Of course, this doesn't work for a general <code>E</code>, so for now I'm stuck to <code>â„</code> starting from <a href=\"https://github.com/ADedecker/gauss/blob/d0540faf76483cc13bd031364ddbd799ed3a68c7/src/integral_limits.lean#L164\">https://github.com/ADedecker/gauss/blob/d0540faf76483cc13bd031364ddbd799ed3a68c7/src/integral_limits.lean#L164</a></p>\n<p>Is there any way I could solve this without having to go back to the procedure described in <code>bochner_integration.lean</code> (going back to simple functions and so on) ?</p>",
        "id": 230271015,
        "sender_full_name": "Anatole Dedecker",
        "timestamp": 1615759115
    },
    {
        "content": "<p>The lemma integrable.induction (in set_integral.lean) may help. It is a kind of fast track through the \"simple function and so on\" procedure.<br>\nI have not looked at what you want to prove though. It may not apply.</p>",
        "id": 230272562,
        "sender_full_name": "RÃ©my Degenne",
        "timestamp": 1615759629
    },
    {
        "content": "<p>See <code>integral_comp_comm</code> in the same file for an example of its use.</p>",
        "id": 230272919,
        "sender_full_name": "RÃ©my Degenne",
        "timestamp": 1615759783
    }
]