[
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"111080\">Floris van Doorn</span> <a href=\"#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/function.2Einjective.20fin/near/261504959\">said</a>:</p>\n<blockquote>\n<p>This lemma talks about equality of types, which is \"evil\".</p>\n</blockquote>\n<p>If equality of types is evil, then should we replace <code>heq</code> (which implies type equality) with the following, which can be varied to mean some other kind of equality?</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">universes</span> <span class=\"n\">ui</span> <span class=\"n\">ui'</span> <span class=\"n\">u</span> <span class=\"n\">u'</span>\n<span class=\"kd\">variables</span> <span class=\"o\">{</span><span class=\"n\">ι</span> <span class=\"o\">:</span> <span class=\"kt\">Sort</span> <span class=\"n\">ui</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">A</span> <span class=\"o\">:</span> <span class=\"n\">ι</span> <span class=\"bp\">→</span> <span class=\"kt\">Sort</span> <span class=\"n\">u</span><span class=\"o\">}</span>\n\n<span class=\"sd\">/-- Indexed equality; `(ai : A i) =ᵢ (aj : A j)` if `i = j` -/</span>\n<span class=\"kd\">inductive</span> <span class=\"n\">indeq</span> <span class=\"o\">{</span><span class=\"n\">i</span> <span class=\"o\">:</span> <span class=\"n\">ι</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">ai</span> <span class=\"o\">:</span> <span class=\"n\">A</span> <span class=\"n\">i</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"bp\">Π</span> <span class=\"o\">{</span><span class=\"n\">j</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">aj</span> <span class=\"o\">:</span> <span class=\"n\">A</span> <span class=\"n\">j</span><span class=\"o\">),</span> <span class=\"kt\">Prop</span>\n<span class=\"bp\">|</span> <span class=\"n\">refl</span> <span class=\"o\">[]</span> <span class=\"o\">:</span> <span class=\"n\">indeq</span> <span class=\"n\">ai</span>\n</code></pre></div>\n<p>Has something like this been explored before? I explore this a little more in <a href=\"https://github.com/leanprover-community/mathlib/issues/10712\">#10712</a>, but I'm not sure if it's more useful than directly working with equalities of sigma types.</p>",
        "id": 264481679,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1639158203
    },
    {
        "content": "<p>I'm curious, is this useful for the original purpose?</p>",
        "id": 264484134,
        "sender_full_name": "Eric Rodriguez",
        "timestamp": 1639159212
    }
]