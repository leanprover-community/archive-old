[
    {
        "content": "<p>What is the best way to get the result <code>i * j = 1 → i * j' = 1 → j = j'</code> in a <code>comm_monoid</code>? It seems like this would be in mathlib already but <code>library_search</code> doesn't find it, nor the equivalent in a general <code>monoid</code>.</p>",
        "id": 189098871,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1582710200
    },
    {
        "content": "<p>It exists, but the proof is buried inside <code>units.ext</code>.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kn\">import</span> <span class=\"n\">algebra</span><span class=\"bp\">.</span><span class=\"n\">group</span><span class=\"bp\">.</span><span class=\"n\">units</span>\n\n<span class=\"kn\">example</span> <span class=\"o\">{</span><span class=\"n\">α</span><span class=\"o\">}</span> <span class=\"o\">[</span><span class=\"n\">comm_monoid</span> <span class=\"n\">α</span><span class=\"o\">]</span> <span class=\"o\">(</span><span class=\"n\">i</span> <span class=\"n\">j</span> <span class=\"n\">j&#39;</span> <span class=\"o\">:</span> <span class=\"n\">α</span><span class=\"o\">)</span> <span class=\"o\">:</span>\n  <span class=\"n\">i</span> <span class=\"bp\">*</span> <span class=\"n\">j</span> <span class=\"bp\">=</span> <span class=\"mi\">1</span> <span class=\"bp\">→</span> <span class=\"n\">i</span> <span class=\"bp\">*</span> <span class=\"n\">j&#39;</span> <span class=\"bp\">=</span> <span class=\"mi\">1</span> <span class=\"bp\">→</span> <span class=\"n\">j</span> <span class=\"bp\">=</span> <span class=\"n\">j&#39;</span> <span class=\"o\">:=</span>\n<span class=\"bp\">λ</span> <span class=\"n\">h</span> <span class=\"n\">h&#39;</span><span class=\"o\">,</span> <span class=\"n\">congr_arg</span> <span class=\"n\">units</span><span class=\"bp\">.</span><span class=\"n\">inv</span> <span class=\"err\">$</span>\n  <span class=\"bp\">@</span><span class=\"n\">units</span><span class=\"bp\">.</span><span class=\"n\">ext</span> <span class=\"bp\">_</span> <span class=\"bp\">_</span> <span class=\"o\">(</span><span class=\"n\">units</span><span class=\"bp\">.</span><span class=\"n\">mk_of_mul_eq_one</span> <span class=\"bp\">_</span> <span class=\"bp\">_</span> <span class=\"n\">h</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">units</span><span class=\"bp\">.</span><span class=\"n\">mk_of_mul_eq_one</span> <span class=\"bp\">_</span> <span class=\"bp\">_</span> <span class=\"n\">h&#39;</span><span class=\"o\">)</span> <span class=\"n\">rfl</span>\n</pre></div>",
        "id": 189106103,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1582716628
    }
]