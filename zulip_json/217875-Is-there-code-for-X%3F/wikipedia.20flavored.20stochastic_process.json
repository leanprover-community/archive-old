[
    {
        "content": "<p>For the <a href=\"https://en.wikipedia.org/wiki/Stochastic_process#Stochastic_process\">Wikipedia definition of stochastic process</a>, is the following rendition reasonable, and in terms of <code>mathlib</code> style guide, how would you touch it up:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"n\">measure_theory.lebesgue_measure</span>\n<span class=\"kn\">import</span> <span class=\"n\">measure_theory.measurable_space</span>\n\n<span class=\"kn\">open</span> <span class=\"n\">measure_theory</span>\n\n<span class=\"c1\">-- https://en.wikipedia.org/wiki/Probability_space</span>\n\n<span class=\"kd\">class</span> <span class=\"n\">probability_space</span> <span class=\"o\">(</span><span class=\"n\">α</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span> <span class=\"kd\">extends</span> <span class=\"n\">measure_space</span> <span class=\"n\">α</span> <span class=\"o\">:=</span>\n<span class=\"o\">(</span><span class=\"n\">is_probability_measure</span><span class=\"o\">:</span>  <span class=\"n\">probability_measure</span> <span class=\"n\">volume</span><span class=\"o\">)</span>\n\n<span class=\"c1\">-- https://en.wikipedia.org/wiki/Random_variable#Definition</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">random_variable</span> <span class=\"o\">(</span><span class=\"n\">α</span> <span class=\"n\">β</span><span class=\"o\">:</span> <span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">PS</span><span class=\"o\">:</span> <span class=\"n\">probability_space</span> <span class=\"n\">α</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">MS</span><span class=\"o\">:</span> <span class=\"n\">measurable_space</span> <span class=\"n\">β</span><span class=\"o\">):=</span>\n  <span class=\"bp\">@</span><span class=\"n\">measurable</span> <span class=\"n\">α</span> <span class=\"n\">β</span> <span class=\"n\">PS.to_measure_space.to_measurable_space</span> <span class=\"n\">MS</span>\n\n<span class=\"c1\">--https://en.wikipedia.org/wiki/Stochastic_process#Stochastic_process</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">stochastic_process</span> <span class=\"o\">(</span><span class=\"n\">α</span> <span class=\"n\">β</span> <span class=\"n\">T</span><span class=\"o\">:</span> <span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">PS</span><span class=\"o\">:</span> <span class=\"n\">probability_space</span> <span class=\"n\">α</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">MS</span><span class=\"o\">:</span> <span class=\"n\">measurable_space</span> <span class=\"n\">β</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">X</span><span class=\"o\">:</span> <span class=\"n\">T</span> <span class=\"bp\">→</span> <span class=\"n\">α</span> <span class=\"bp\">→</span> <span class=\"n\">β</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">t</span><span class=\"o\">:</span> <span class=\"n\">T</span><span class=\"o\">)</span> <span class=\"o\">:=</span>\n  <span class=\"n\">random_variable</span> <span class=\"n\">α</span> <span class=\"n\">β</span> <span class=\"n\">PS</span> <span class=\"n\">MS</span> <span class=\"o\">(</span><span class=\"n\">X</span> <span class=\"n\">t</span><span class=\"o\">)</span>\n\n<span class=\"c1\">-- https://en.wikipedia.org/wiki/Stochastic_process#Index_set</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">index_set</span> <span class=\"o\">(</span><span class=\"n\">α</span> <span class=\"n\">β</span> <span class=\"n\">T</span><span class=\"o\">:</span> <span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">X</span><span class=\"o\">:</span> <span class=\"n\">T</span> <span class=\"bp\">→</span> <span class=\"n\">α</span> <span class=\"bp\">→</span> <span class=\"n\">β</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"n\">T</span>\n\n<span class=\"c1\">-- https://en.wikipedia.org/wiki/Stochastic_process#State_space</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">state_space</span> <span class=\"o\">(</span><span class=\"n\">α</span> <span class=\"n\">β</span> <span class=\"n\">T</span><span class=\"o\">:</span> <span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">X</span><span class=\"o\">:</span> <span class=\"n\">T</span> <span class=\"bp\">→</span> <span class=\"n\">α</span> <span class=\"bp\">→</span> <span class=\"n\">β</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"n\">β</span>\n\n<span class=\"c1\">-- https://en.wikipedia.org/wiki/Stochastic_process#Sample_function</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">sample_function</span> <span class=\"o\">(</span><span class=\"n\">α</span> <span class=\"n\">β</span> <span class=\"n\">T</span><span class=\"o\">:</span> <span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">X</span><span class=\"o\">:</span> <span class=\"n\">T</span> <span class=\"bp\">→</span> <span class=\"n\">α</span> <span class=\"bp\">→</span> <span class=\"n\">β</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"bp\">λ</span> <span class=\"o\">(</span><span class=\"n\">ω</span><span class=\"o\">:</span> <span class=\"n\">α</span><span class=\"o\">),</span> <span class=\"bp\">λ</span> <span class=\"o\">(</span><span class=\"n\">t</span><span class=\"o\">:</span> <span class=\"n\">T</span><span class=\"o\">),</span> <span class=\"n\">X</span> <span class=\"n\">t</span> <span class=\"n\">ω</span>\n\n<span class=\"c1\">-- https://en.wikipedia.org/wiki/Stochastic_process#Law</span>\n<span class=\"kd\">def</span> <span class=\"n\">law</span> <span class=\"o\">(</span><span class=\"n\">α</span> <span class=\"n\">β</span> <span class=\"n\">T</span><span class=\"o\">:</span> <span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span>\n        <span class=\"o\">(</span><span class=\"n\">PS</span><span class=\"o\">:</span> <span class=\"n\">probability_space</span> <span class=\"n\">α</span><span class=\"o\">)</span>\n        <span class=\"o\">(</span><span class=\"n\">MS</span><span class=\"o\">:</span> <span class=\"n\">measurable_space</span> <span class=\"n\">β</span><span class=\"o\">)</span>\n        <span class=\"o\">(</span><span class=\"n\">X</span><span class=\"o\">:</span> <span class=\"n\">T</span> <span class=\"bp\">→</span> <span class=\"n\">α</span> <span class=\"bp\">→</span> <span class=\"n\">β</span><span class=\"o\">)</span>\n        <span class=\"o\">(</span><span class=\"n\">t</span><span class=\"o\">:</span> <span class=\"n\">T</span><span class=\"o\">)</span>\n        <span class=\"o\">(</span><span class=\"n\">SP</span><span class=\"o\">:</span> <span class=\"n\">stochastic_process</span> <span class=\"n\">α</span> <span class=\"n\">β</span> <span class=\"n\">T</span> <span class=\"n\">PS</span> <span class=\"n\">MS</span> <span class=\"n\">X</span> <span class=\"n\">t</span><span class=\"o\">)</span>\n        <span class=\"o\">(</span><span class=\"n\">HM</span><span class=\"o\">:</span> <span class=\"n\">has_mem</span> <span class=\"n\">β</span> <span class=\"n\">β</span><span class=\"o\">)</span>\n        <span class=\"o\">(</span><span class=\"n\">Y</span><span class=\"o\">:</span> <span class=\"n\">set</span> <span class=\"n\">β</span><span class=\"o\">):=</span>\n  <span class=\"n\">PS.volume.to_outer_measure.measure_of</span> <span class=\"o\">{</span><span class=\"n\">ω</span> <span class=\"o\">:</span> <span class=\"n\">α</span> <span class=\"bp\">|</span> <span class=\"bp\">∃</span> <span class=\"n\">y</span><span class=\"o\">:</span><span class=\"n\">β</span><span class=\"o\">,</span> <span class=\"n\">X</span> <span class=\"n\">t</span> <span class=\"n\">ω</span> <span class=\"bp\">∈</span> <span class=\"n\">y</span><span class=\"o\">}</span>\n</code></pre></div>",
        "id": 223430136,
        "sender_full_name": "Lars Ericson",
        "timestamp": 1611174327
    }
]