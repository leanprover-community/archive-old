---
layout: archive
title: Zulip Chat Archive
permalink: /stream/187764-Lean-for-teaching/topic/by.20.7B.20.2E.2E.2E.20.7D.20vs.2E.20begin.20.2E.2E.2E.20end.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/index.html">Lean for teaching</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/by.20.7B.20.2E.2E.2E.20.7D.20vs.2E.20begin.20.2E.2E.2E.20end.html">by { ... } vs. begin ... end</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="201417900"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/by%20%7B%20...%20%7D%20vs.%20begin%20...%20end/near/201417900" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/by.20.7B.20.2E.2E.2E.20.7D.20vs.2E.20begin.20.2E.2E.2E.20end.html#201417900">(Jun 19 2020 at 17:16)</a>:</h4>
<p>I'm using Lean to teach interactive theorem proving. Lean is a vehicle, not an end, so I'm working had to keep the fragment minimal.</p>
<p>We cover <code>by ...</code>, <code>begin ... end</code>, and <code>{ ... }</code> (for multiple subgoals). I'm thinking we could kill <code>begin ... end</code> by using <code>by { ... }</code> instead. Would there be any practical disadvantages to that, beyond the fact that this might be a bit unidiomatic Lean? I can't see any difference in VS Code, but maybe I'm missing something?</p>



<a name="201421425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/by%20%7B%20...%20%7D%20vs.%20begin%20...%20end/near/201421425" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/by.20.7B.20.2E.2E.2E.20.7D.20vs.2E.20begin.20.2E.2E.2E.20end.html#201421425">(Jun 19 2020 at 17:49)</a>:</h4>
<p>Under the hood there is an extra unnecessary call to <code>solve1</code>, but other than that I can't think of any way to distinguish the two</p>



<a name="201421486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/by%20%7B%20...%20%7D%20vs.%20begin%20...%20end/near/201421486" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/by.20.7B.20.2E.2E.2E.20.7D.20vs.2E.20begin.20.2E.2E.2E.20end.html#201421486">(Jun 19 2020 at 17:50)</a>:</h4>
<p>and it's less characters so <span aria-label="thumbs up" class="emoji emoji-1f44d" role="img" title="thumbs up">:thumbs_up:</span></p>



<a name="201463255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/by%20%7B%20...%20%7D%20vs.%20begin%20...%20end/near/201463255" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/by.20.7B.20.2E.2E.2E.20.7D.20vs.2E.20begin.20.2E.2E.2E.20end.html#201463255">(Jun 20 2020 at 05:28)</a>:</h4>
<p>When I give talks, the audience usually knows latex already, so sometimes I tell them that they need to translate as follows</p>
<div class="codehilite"><pre><span></span><code><span class="kn">lemma</span> <span class="n">foobar</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="bp">_</span><span class="o">)</span> <span class="o">:</span> <span class="n">blabla</span> <span class="o">:=</span>

<span class="c1">-- \begin{lemma} \label{foobar}</span>
<span class="c1">-- Let $X$ be a ...</span>
<span class="c1">-- Then blabla</span>

<span class="k">begin</span>
  <span class="n">tac1</span>
<span class="kn">end</span>

<span class="c1">-- \begin{proof}</span>
<span class="c1">-- blabla</span>
<span class="c1">-- \end{proof}</span>
</code></pre></div>


<p>I think the <code>begin ... end</code> is actually somewhat comforting for people with a LaTeX background. But of course this is a vague feeling on my side, and a very minor issue anyways.</p>



<a name="201463371"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/by%20%7B%20...%20%7D%20vs.%20begin%20...%20end/near/201463371" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/by.20.7B.20.2E.2E.2E.20.7D.20vs.2E.20begin.20.2E.2E.2E.20end.html#201463371">(Jun 20 2020 at 05:32)</a>:</h4>
<p>Yeah I'd rather go the other way personally and kill <code>{...}</code> in favour of <code>begin ... end</code> but I guess it depends on the audience!</p>



<a name="201468029"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/by%20%7B%20...%20%7D%20vs.%20begin%20...%20end/near/201468029" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/by.20.7B.20.2E.2E.2E.20.7D.20vs.2E.20begin.20.2E.2E.2E.20end.html#201468029">(Jun 20 2020 at 08:17)</a>:</h4>
<p>Well I need to teach <code>{ ... }</code> anyway for focusing on one of multiple subgoals, so there would be a slight economy in killing <code>begin ... end</code> as opposed to avoiding <code>by { ... }</code> (which has been my policy so far).</p>



<a name="201468135"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/by%20%7B%20...%20%7D%20vs.%20begin%20...%20end/near/201468135" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/by.20.7B.20.2E.2E.2E.20.7D.20vs.2E.20begin.20.2E.2E.2E.20end.html#201468135">(Jun 20 2020 at 08:21)</a>:</h4>
<p>You can use <code>begin end</code> in place of <code>{ }</code> for focusing on subgoals btw</p>



<a name="201468192"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/by%20%7B%20...%20%7D%20vs.%20begin%20...%20end/near/201468192" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/by.20.7B.20.2E.2E.2E.20.7D.20vs.2E.20begin.20.2E.2E.2E.20end.html#201468192">(Jun 20 2020 at 08:23)</a>:</h4>
<p>Obviously we need to start writing proofs like this:</p>
<div class="codehilite"><pre><span></span><code><span class="k">begin</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="k">begin</span> <span class="n">cases</span> <span class="n">x</span> <span class="k">with</span> <span class="n">y</span><span class="o">,</span>
        <span class="n">cases</span> <span class="n">y</span><span class="o">,</span>
        <span class="n">refl</span> <span class="kn">end</span>
  <span class="k">begin</span> <span class="n">cases</span> <span class="n">x</span> <span class="k">with</span> <span class="n">y</span><span class="o">,</span>
        <span class="n">cases</span> <span class="n">y</span><span class="o">,</span>
        <span class="k">begin</span> <span class="n">cases</span> <span class="n">x</span> <span class="k">with</span> <span class="n">y</span><span class="o">,</span>
              <span class="n">cases</span> <span class="n">y</span><span class="o">,</span>
              <span class="n">refl</span> <span class="kn">end</span> <span class="kn">end</span>
<span class="kn">end</span>
</code></pre></div>



<a name="201468442"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/by%20%7B%20...%20%7D%20vs.%20begin%20...%20end/near/201468442" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/by.20.7B.20.2E.2E.2E.20.7D.20vs.2E.20begin.20.2E.2E.2E.20end.html#201468442">(Jun 20 2020 at 08:32)</a>:</h4>
<p>Trust me, you don't need <code>{ }</code> to solve a subgoal :-) In NNG I just tell them "tactics work on the top goal" :-) . In experiments with mathematicians, I found that even getting them to remember to put commas at the end of tactics was an achievement. Every time sometime failed at this I'd add another "don't forget the comma" comment in NNG and we ended up with me saying it about ten times. Perhaps your users are more sophisticated though :-)</p>



<a name="201468458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/by%20%7B%20...%20%7D%20vs.%20begin%20...%20end/near/201468458" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/by.20.7B.20.2E.2E.2E.20.7D.20vs.2E.20begin.20.2E.2E.2E.20end.html#201468458">(Jun 20 2020 at 08:33)</a>:</h4>
<p>The style Mario suggested is also suggested in TPIL and when I mentioned it here before, the community's reaction was rather disdainful</p>



<a name="201468507"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/by%20%7B%20...%20%7D%20vs.%20begin%20...%20end/near/201468507" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/by.20.7B.20.2E.2E.2E.20.7D.20vs.2E.20begin.20.2E.2E.2E.20end.html#201468507">(Jun 20 2020 at 08:34)</a>:</h4>
<p>I have a lot of disdain for indentation styles where the indent depends on the length of words</p>



<a name="201468535"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/by%20%7B%20...%20%7D%20vs.%20begin%20...%20end/near/201468535" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/by.20.7B.20.2E.2E.2E.20.7D.20vs.2E.20begin.20.2E.2E.2E.20end.html#201468535">(Jun 20 2020 at 08:35)</a>:</h4>
<p>even</p>
<div class="codehilite"><pre><span></span><code><span class="n">do</span> <span class="n">tac1</span><span class="o">,</span>
   <span class="n">tac2</span>
</code></pre></div>


<p>drives me nuts because it screws up all the tab stops</p>



<a name="201469184"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/by%20%7B%20...%20%7D%20vs.%20begin%20...%20end/near/201469184" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/by.20.7B.20.2E.2E.2E.20.7D.20vs.2E.20begin.20.2E.2E.2E.20end.html#201469184">(Jun 20 2020 at 08:56)</a>:</h4>
<p>We use structured induction a lot and <code>case</code> works well in tandem with <code>{ ... }</code>. Computer scientists have no problems with braces I think.</p>



<a name="201469233"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/by%20%7B%20...%20%7D%20vs.%20begin%20...%20end/near/201469233" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/by.20.7B.20.2E.2E.2E.20.7D.20vs.2E.20begin.20.2E.2E.2E.20end.html#201469233">(Jun 20 2020 at 08:58)</a>:</h4>
<p>As for the "community's reaction", well, I'm not trying to teach idiomatic Lean anyway. I'm sure the community's reaction would be negative if I told them I don't teach <code>rfl</code>, I use <code>fix</code> as an alias for <code>assume</code> (for data), etc. But they're not my audience. If <code>by { ... }</code> works as well as <code>begin ... end</code>, I think I'll embrace it.</p>



<a name="201469706"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/by%20%7B%20...%20%7D%20vs.%20begin%20...%20end/near/201469706" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/by.20.7B.20.2E.2E.2E.20.7D.20vs.2E.20begin.20.2E.2E.2E.20end.html#201469706">(Jun 20 2020 at 09:14)</a>:</h4>
<p>An alternative fix for Mario's objection is to only use 5 letter tactics</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>