---
layout: archive
title: Zulip Chat Archive
permalink: /stream/187764-Lean-for-teaching/topic/A.20zero-config.20Lean.2Fmathlib.20development.20environment.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/index.html">Lean for teaching</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/A.20zero-config.20Lean.2Fmathlib.20development.20environment.html">A zero-config Lean/mathlib development environment</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="250431937"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/A%20zero-config%20Lean/mathlib%20development%20environment/near/250431937" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Sullivan <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/A.20zero-config.20Lean.2Fmathlib.20development.20environment.html#250431937">(Aug 24 2021 at 01:05)</a>:</h4>
<p>To get students started with Lean with really minimal system configuration, I've put together a Lean in a Box environment. Open a fork of my repo, and the rest builds itself. You'll be booted into Ubuntu 20.04 LTS running in a container with the full Lean stack installed, all delivered by VSCode ready for development. I would love to have a few people give it a go and send reports from the field. All the details are in the GitHub README, at <a href="https://github.com/kevinsullivan/TMDE">https://github.com/kevinsullivan/TMDE</a>. (TMDE stands unostentatiously for The (coolest) Mathematical Development Environment (ever). Humor for my students.) [If nothing happens when you connect to your repo following the instructions, please load the Remote-Containers extension to VSCode on your local machine and reload the VSCode Window to try again. Let me know in this case, please, if you could.]</p>



<a name="250434200"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/A%20zero-config%20Lean/mathlib%20development%20environment/near/250434200" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mac <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/A.20zero-config.20Lean.2Fmathlib.20development.20environment.html#250434200">(Aug 24 2021 at 01:49)</a>:</h4>
<p><span class="user-mention" data-user-id="124175">@Kevin Sullivan</span> Cool! It is also neat to see project in security and teaching utilizing Lean being funded (at least in part) by the NSF! As a Computer Security Ph.D. student coding in Lean as hobby. that gives me courage that I may one day be able to transition some of that work into my profession.</p>



<a name="250435751"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/A%20zero-config%20Lean/mathlib%20development%20environment/near/250435751" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/A.20zero-config.20Lean.2Fmathlib.20development.20environment.html#250435751">(Aug 24 2021 at 02:19)</a>:</h4>
<p><span class="user-mention" data-user-id="124175">@Kevin Sullivan</span>, this failed for me with the following error:<br>
<a href="/user_uploads/3121/1bMd7Ty-zJfLExbL186J-bfP/Screen-Shot-2021-08-24-at-12.18.14-pm.png">Screen-Shot-2021-08-24-at-12.18.14-pm.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/1bMd7Ty-zJfLExbL186J-bfP/Screen-Shot-2021-08-24-at-12.18.14-pm.png" title="Screen-Shot-2021-08-24-at-12.18.14-pm.png"><img src="/user_uploads/3121/1bMd7Ty-zJfLExbL186J-bfP/Screen-Shot-2021-08-24-at-12.18.14-pm.png"></a></div>



<a name="250435764"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/A%20zero-config%20Lean/mathlib%20development%20environment/near/250435764" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/A.20zero-config.20Lean.2Fmathlib.20development.20environment.html#250435764">(Aug 24 2021 at 02:19)</a>:</h4>
<p>Not sure what is going on. Of course from outside the container that URL is fine.</p>



<a name="250436033"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/A%20zero-config%20Lean/mathlib%20development%20environment/near/250436033" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Sullivan <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/A.20zero-config.20Lean.2Fmathlib.20development.20environment.html#250436033">(Aug 24 2021 at 02:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110087">Scott Morrison</span> <a href="#narrow/stream/187764-Lean-for.20teaching/topic/A.20zero-config.20Lean.2Fmathlib.20development.20environment/near/250435751">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="124175">Kevin Sullivan</span>, this failed for me with the following error:<br>
<a href="/user_uploads/3121/1bMd7Ty-zJfLExbL186J-bfP/Screen-Shot-2021-08-24-at-12.18.14-pm.png">Screen-Shot-2021-08-24-at-12.18.14-pm.png</a></p>
</blockquote>
<p>Ok, thanks for this. We haven't seen that. Looks like a problem setting up container-host networking, but I'd only be guessing. We'll keep our eye out. I'll also poke around to see if I can find other reports. Will get back.</p>



<a name="250436153"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/A%20zero-config%20Lean/mathlib%20development%20environment/near/250436153" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Sullivan <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/A.20zero-config.20Lean.2Fmathlib.20development.20environment.html#250436153">(Aug 24 2021 at 02:27)</a>:</h4>
<p>Getting back. Maybe something here will help? <a href="https://stackoverflow.com/questions/20370294/git-could-not-resolve-host-github-com-error-while-cloning-remote-repository-in">https://stackoverflow.com/questions/20370294/git-could-not-resolve-host-github-com-error-while-cloning-remote-repository-in</a>. I've so little access to your context. Happy to look some more if needed.</p>



<a name="250436700"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/A%20zero-config%20Lean/mathlib%20development%20environment/near/250436700" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/A.20zero-config.20Lean.2Fmathlib.20development.20environment.html#250436700">(Aug 24 2021 at 02:38)</a>:</h4>
<p>It seems I had an old version of docker on this machine. After allowing docker to update itself, it seems to have worked.</p>
<p>I did need to hit enter at a prompt at some point during the build, however!</p>



<a name="250436717"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/A%20zero-config%20Lean/mathlib%20development%20environment/near/250436717" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/A.20zero-config.20Lean.2Fmathlib.20development.20environment.html#250436717">(Aug 24 2021 at 02:39)</a>:</h4>
<p>It also didn't give an indication that it was done building... eventually there was no more output for a while (about the 7 minute mark)</p>



<a name="250436728"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/A%20zero-config%20Lean/mathlib%20development%20environment/near/250436728" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/A.20zero-config.20Lean.2Fmathlib.20development.20environment.html#250436728">(Aug 24 2021 at 02:39)</a>:</h4>
<p>While things seem to work, the first time I opened a lean file I got a pop-up error about leanpkg.path does not exist.</p>



<a name="250436734"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/A%20zero-config%20Lean/mathlib%20development%20environment/near/250436734" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/A.20zero-config.20Lean.2Fmathlib.20development.20environment.html#250436734">(Aug 24 2021 at 02:39)</a>:</h4>
<p>I'm going to stop playing with this now, but good luck. :-) I like the idea.</p>



<a name="250437038"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/A%20zero-config%20Lean/mathlib%20development%20environment/near/250437038" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Sullivan <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/A.20zero-config.20Lean.2Fmathlib.20development.20environment.html#250437038">(Aug 24 2021 at 02:46)</a>:</h4>
<p>It's working well for my group internally. The more we hear the faster we can figure out what to fix. So thanks!</p>
<p>Update: I've updated the instructions to remind folks to update any older Docker install already in place.</p>



<a name="250516798"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/A%20zero-config%20Lean/mathlib%20development%20environment/near/250516798" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Sullivan <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/A.20zero-config.20Lean.2Fmathlib.20development.20environment.html#250516798">(Aug 24 2021 at 17:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110087">Scott Morrison</span> <a href="#narrow/stream/187764-Lean-for.20teaching/topic/A.20zero-config.20Lean.2Fmathlib.20development.20environment/near/250436700">said</a>:</p>
<blockquote>
<p>It seems I had an old version of docker on this machine. After allowing docker to update itself, it seems to have worked.</p>
<p>I did need to hit enter at a prompt at some point during the build, however!</p>
</blockquote>
<p>Scott,</p>
<p>Thanks again. The leanpkg.path issue has been fixed by automatically running "leanpkg configure" as part of the set-up script. It all seems to be working without warnings now.</p>



<a name="250561371"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/A%20zero-config%20Lean/mathlib%20development%20environment/near/250561371" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/A.20zero-config.20Lean.2Fmathlib.20development.20environment.html#250561371">(Aug 24 2021 at 23:03)</a>:</h4>
<p>No --- the prompt (unfortunately I got enter before thinking I should note it down) was more of a "hit enter to dispose of this terminal" type prompt.</p>



<a name="250573518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/A%20zero-config%20Lean/mathlib%20development%20environment/near/250573518" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Sullivan <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/A.20zero-config.20Lean.2Fmathlib.20development.20environment.html#250573518">(Aug 25 2021 at 02:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110087">Scott Morrison</span> <a href="#narrow/stream/187764-Lean-for.20teaching/topic/A.20zero-config.20Lean.2Fmathlib.20development.20environment/near/250561371">said</a>:</p>
<blockquote>
<p>No --- the prompt (unfortunately I got enter before thinking I should note it down) was more of a "hit enter to dispose of this terminal" type prompt.</p>
</blockquote>
<p>Ah, that was likely the signal that a key part of build processes finished. I'll program in a welcome message if I can so that it's clear that the build is done and the environment is ready to use.</p>



<a name="250575979"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/A%20zero-config%20Lean/mathlib%20development%20environment/near/250575979" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/A.20zero-config.20Lean.2Fmathlib.20development.20environment.html#250575979">(Aug 25 2021 at 03:12)</a>:</h4>
<p>Lots more happened afterwards! Sorry I can't give you the exact message.</p>



<a name="250663908"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/A%20zero-config%20Lean/mathlib%20development%20environment/near/250663908" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Sullivan <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/A.20zero-config.20Lean.2Fmathlib.20development.20environment.html#250663908">(Aug 25 2021 at 18:52)</a>:</h4>
<p>Thanks. Just ran again on a clean box and did get asked about the name of a container volume in which to store the cloned repo. Will add that to documentation.</p>



<a name="250671818"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/A%20zero-config%20Lean/mathlib%20development%20environment/near/250671818" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/A.20zero-config.20Lean.2Fmathlib.20development.20environment.html#250671818">(Aug 25 2021 at 19:43)</a>:</h4>
<p>Could you explain again what you gain compared to the bundles we have where you unzip one file and click on an icon to launch VScode+Lean, as in <a href="https://oleanstorage.azureedge.net/releases/bundles/trylean_windows.zip">https://oleanstorage.azureedge.net/releases/bundles/trylean_windows.zip</a>?</p>



<a name="250687405"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/A%20zero-config%20Lean/mathlib%20development%20environment/near/250687405" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Sullivan <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/A.20zero-config.20Lean.2Fmathlib.20development.20environment.html#250687405">(Aug 25 2021 at 21:45)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110031">Patrick Massot</span> <a href="#narrow/stream/187764-Lean-for.20teaching/topic/A.20zero-config.20Lean.2Fmathlib.20development.20environment/near/250671818">said</a>:</p>
<blockquote>
<p>Could you explain again what you gain compared to the bundles we have where you unzip one file and click on an icon to launch VScode+Lean, as in <a href="https://oleanstorage.azureedge.net/releases/bundles/trylean_windows.zip">https://oleanstorage.azureedge.net/releases/bundles/trylean_windows.zip</a>?</p>
</blockquote>
<p>Patrick, Thanks for the pointer. I've just been going from the installation instructions for Windows and OSX from the community web site, here: <a href="https://leanprover-community.github.io/">https://leanprover-community.github.io/</a>. I haven't tried the one-click installers. Some possible advantages, per your question, include: </p>
<p>(1) No potential conflicts with local configurations (we've had to ask Windows users to remove old Python installations that don't work with the installation instructions for Windows, for example).<br>
(2) The same, fully configured Ubuntu 20.04 LTS operating system environment for everyone, so that we don't have to document variants across OSX and Windows.<br>
(3) A project that is already backed by a GitHub repository.<br>
(4) Ease of evolution of the development environment. E.g., we can push an update to the OS layer, then all one needs to do is "Rebuild Container" in VSCode to get the updated environment.</p>
<p>Thanks, again, for pointing me to the one-click installer. Where are those documented? I don't see that information on the Lean Community documentation page.</p>
<p>Kind regards,<br>
Kevin</p>



<a name="250704050"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/A%20zero-config%20Lean/mathlib%20development%20environment/near/250704050" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Sullivan <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/A.20zero-config.20Lean.2Fmathlib.20development.20environment.html#250704050">(Aug 26 2021 at 00:46)</a>:</h4>
<p>This conversation might continue in the GENERAL section of Zulip.</p>



<a name="252568493"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/A%20zero-config%20Lean/mathlib%20development%20environment/near/252568493" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Sullivan <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/A.20zero-config.20Lean.2Fmathlib.20development.20environment.html#252568493">(Sep 09 2021 at 04:10)</a>:</h4>
<p>Kind regards. A short experience report: I teach a class of about 85 first- and second-year undergraduates this semester. Within a day of being pointed to our instructions,, about 85% had this environment configuration running and tested successfully, without having needed any help. The remaining ~15% had various issues. Most were easily resolved. Relevant fixes have been applied where applicable. One problem required some exploration to come up with a plausible solution: there seems to be an ongoing conflict between Docker Desktop and VirtualBox on Windows. This poses problems to students who are required to use both. Only one student was at issue here, but the severity of this issue elsewhere would depend on local conditions: the extent to which co-location of these tools on your OS is a requirement. Take this for what it's worth: I'd rate it as a very smooth adoption processes for most of the students, and the residual issues were mostly resolved in just a few minutes each. My students don't have any problem with it, and seem to like it.</p>



<a name="252591456"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/A%20zero-config%20Lean/mathlib%20development%20environment/near/252591456" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/A.20zero-config.20Lean.2Fmathlib.20development.20environment.html#252591456">(Sep 09 2021 at 08:46)</a>:</h4>
<p>Is this mathematicians or computer scientists? What OS?</p>



<a name="252599372"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/A%20zero-config%20Lean/mathlib%20development%20environment/near/252599372" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/A.20zero-config.20Lean.2Fmathlib.20development.20environment.html#252599372">(Sep 09 2021 at 09:53)</a>:</h4>
<p>Wow, this thing is incredibly cool! It's very similar to the setup that I have on my local machine, but VS Code is also inside the container too! Well, code-server to be exact. My setup is also very easy to use: just run <code>docker-compose up</code> and everything is up and running!</p>



<a name="257582232"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/A%20zero-config%20Lean/mathlib%20development%20environment/near/257582232" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Sullivan <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/A.20zero-config.20Lean.2Fmathlib.20development.20environment.html#257582232">(Oct 14 2021 at 18:26)</a>:</h4>
<p>Hi Kevin B, sorry for delay getting back to you.  The environment is for either computer scientists or mathematicians. I'd encourage you to give it a try and let me know what you think. It has been a real problem-saver for my class of 85 second year undergraduates.</p>



<a name="257582404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/187764-Lean%20for%20teaching/topic/A%20zero-config%20Lean/mathlib%20development%20environment/near/257582404" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Sullivan <a href="https://leanprover-community.github.io/archive/stream/187764-Lean-for-teaching/topic/A.20zero-config.20Lean.2Fmathlib.20development.20environment.html#257582404">(Oct 14 2021 at 18:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="270523">Huỳnh Trần Khanh</span> <a href="#narrow/stream/187764-Lean-for.20teaching/topic/A.20zero-config.20Lean.2Fmathlib.20development.20environment/near/252599372">said</a>:</p>
<blockquote>
<p>Wow, this thing is incredibly cool! It's very similar to the setup that I have on my local machine, but VS Code is also inside the container too! Well, code-server to be exact. My setup is also very easy to use: just run <code>docker-compose up</code> and everything is up and running!</p>
</blockquote>
<p>Thank you! Yes, if you're running on Windows or OSX it really works like a charm.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>