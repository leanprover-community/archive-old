---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/7.20.E2.88.A7.20.2F.20.E2.88.A8.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/7.20.E2.88.A7.20.2F.20.E2.88.A8.html">7 ∧ / ∨</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="317343793"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/7%20%E2%88%A7%20/%20%E2%88%A8/near/317343793" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/7.20.E2.88.A7.20.2F.20.E2.88.A8.html#317343793">(Dec 22 2022 at 11:39)</a>:</h4>
<p>Dear All,</p>
<p>I do not know if what is below is a bug or not and whether it has already been reported.  It seems that Lean interprets up to  6 consecutive <code>and</code>s or <code>or</code>s of booleans as booleans, but stops doing so when there are 7.  It is not a big deal, since the second example below is an easy workaround, but I was surprised by this!</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c1">-- works, 6 `and`s</span>
<span class="kd">example</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">d</span> <span class="n">e</span> <span class="n">f</span> <span class="n">g</span> <span class="o">:</span> <span class="n">Bool</span><span class="o">)</span> <span class="o">:</span> <span class="n">Bool</span> <span class="o">:=</span> <span class="n">a</span> <span class="bp">∧</span> <span class="n">b</span> <span class="bp">∧</span> <span class="n">c</span> <span class="bp">∧</span> <span class="n">d</span> <span class="bp">∧</span> <span class="n">e</span> <span class="bp">∧</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">g</span>

<span class="c1">-- works, 6 `and`s plus an `(_ ∧ _)`</span>
<span class="kd">example</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">d</span> <span class="n">e</span> <span class="n">f</span> <span class="n">g</span> <span class="n">h</span> <span class="o">:</span> <span class="n">Bool</span><span class="o">)</span> <span class="o">:</span> <span class="n">Bool</span> <span class="o">:=</span> <span class="n">a</span> <span class="bp">∧</span> <span class="n">b</span> <span class="bp">∧</span> <span class="n">c</span> <span class="bp">∧</span> <span class="n">d</span> <span class="bp">∧</span> <span class="n">e</span> <span class="bp">∧</span> <span class="n">f</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∧</span> <span class="n">h</span> <span class="o">:</span> <span class="n">Bool</span><span class="o">)</span>

<span class="c1">-- fails, 7 `and`s expects a `Bool`, finds a `Prop`</span>
<span class="kd">example</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">d</span> <span class="n">e</span> <span class="n">f</span> <span class="n">g</span> <span class="n">h</span> <span class="o">:</span> <span class="n">Bool</span><span class="o">)</span> <span class="o">:</span> <span class="n">Bool</span> <span class="o">:=</span> <span class="n">a</span> <span class="bp">∧</span> <span class="n">b</span> <span class="bp">∧</span> <span class="n">c</span> <span class="bp">∧</span> <span class="n">d</span> <span class="bp">∧</span> <span class="n">e</span> <span class="bp">∧</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">g</span> <span class="bp">∧</span> <span class="n">h</span>
</code></pre></div>



<a name="317344812"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/7%20%E2%88%A7%20/%20%E2%88%A8/near/317344812" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/7.20.E2.88.A7.20.2F.20.E2.88.A8.html#317344812">(Dec 22 2022 at 11:44)</a>:</h4>
<p>What does this actually generate if you give these examples a name and <code>#print</code> them?</p>



<a name="317345311"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/7%20%E2%88%A7%20/%20%E2%88%A8/near/317345311" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/7.20.E2.88.A7.20.2F.20.E2.88.A8.html#317345311">(Dec 22 2022 at 11:46)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">seven</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">d</span> <span class="n">e</span> <span class="n">f</span> <span class="n">g</span> <span class="n">h</span> <span class="o">:</span> <span class="n">Bool</span><span class="o">)</span> <span class="o">:</span> <span class="n">Bool</span> <span class="o">:=</span> <span class="n">a</span> <span class="bp">∧</span> <span class="n">b</span> <span class="bp">∧</span> <span class="n">c</span> <span class="bp">∧</span> <span class="n">d</span> <span class="bp">∧</span> <span class="n">e</span> <span class="bp">∧</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">g</span> <span class="bp">∧</span> <span class="n">h</span>
<span class="c">/-</span><span class="cm"></span>
<span class="cm">type mismatch</span>
<span class="cm">  a = true ∧ b = true ∧ c = true ∧ d = true ∧ e = true ∧ f = true ∧ g = true ∧ h = true</span>
<span class="cm">has type</span>
<span class="cm">  Prop : Type</span>
<span class="cm">but is expected to have type</span>
<span class="cm">  Bool : Type</span>
<span class="cm">-/</span>

<span class="k">#print</span> <span class="n">seven</span>
<span class="c">/-</span><span class="cm"></span>
<span class="cm">theorem seven : Bool → Bool → Bool → Bool → Bool → Bool → Bool → Bool → Bool :=</span>
<span class="cm">sorryAx (Bool → Bool → Bool → Bool → Bool → Bool → Bool → Bool → Bool) true</span>
<span class="cm">-/</span>
</code></pre></div>



<a name="317345348"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/7%20%E2%88%A7%20/%20%E2%88%A8/near/317345348" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/7.20.E2.88.A7.20.2F.20.E2.88.A8.html#317345348">(Dec 22 2022 at 11:46)</a>:</h4>
<p>Is this what you asked?</p>



<a name="317345401"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/7%20%E2%88%A7%20/%20%E2%88%A8/near/317345401" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/7.20.E2.88.A7.20.2F.20.E2.88.A8.html#317345401">(Dec 22 2022 at 11:47)</a>:</h4>
<p>I mean for the ones that succeeded</p>



<a name="317345495"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/7%20%E2%88%A7%20/%20%E2%88%A8/near/317345495" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/7.20.E2.88.A7.20.2F.20.E2.88.A8.html#317345495">(Dec 22 2022 at 11:47)</a>:</h4>
<p><code>and</code> expects to eat Props not Bools so the question is why the coercion is not kicking in</p>



<a name="317345594"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/7%20%E2%88%A7%20/%20%E2%88%A8/near/317345594" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/7.20.E2.88.A7.20.2F.20.E2.88.A8.html#317345594">(Dec 22 2022 at 11:47)</a>:</h4>
<p>... which is why I wanted to see the elaborated output so we can tell where it did kick in in the versions that were ok</p>



<a name="317345668"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/7%20%E2%88%A7%20/%20%E2%88%A8/near/317345668" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/7.20.E2.88.A7.20.2F.20.E2.88.A8.html#317345668">(Dec 22 2022 at 11:48)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">six</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">d</span> <span class="n">e</span> <span class="n">f</span> <span class="n">g</span> <span class="o">:</span> <span class="n">Bool</span><span class="o">)</span> <span class="o">:</span> <span class="n">Bool</span> <span class="o">:=</span> <span class="n">a</span> <span class="bp">∧</span> <span class="n">b</span> <span class="bp">∧</span> <span class="n">c</span> <span class="bp">∧</span> <span class="n">d</span> <span class="bp">∧</span> <span class="n">e</span> <span class="bp">∧</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">g</span>

<span class="kd">theorem</span> <span class="n">six'</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">d</span> <span class="n">e</span> <span class="n">f</span> <span class="n">g</span> <span class="n">h</span> <span class="o">:</span> <span class="n">Bool</span><span class="o">)</span> <span class="o">:</span> <span class="n">Bool</span> <span class="o">:=</span> <span class="n">a</span> <span class="bp">∧</span> <span class="n">b</span> <span class="bp">∧</span> <span class="n">c</span> <span class="bp">∧</span> <span class="n">d</span> <span class="bp">∧</span> <span class="n">e</span> <span class="bp">∧</span> <span class="n">f</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∧</span> <span class="n">h</span> <span class="o">:</span> <span class="n">Bool</span><span class="o">)</span>

<span class="k">#print</span> <span class="n">six</span>
<span class="c">/-</span><span class="cm"></span>
<span class="cm">theorem six : Bool → Bool → Bool → Bool → Bool → Bool → Bool → Bool :=</span>
<span class="cm">fun a b c d e f g =&gt; decide (a = true ∧ b = true ∧ c = true ∧ d = true ∧ e = true ∧ f = true ∧ g = true)</span>
<span class="cm">-/</span>
<span class="k">#print</span> <span class="n">six'</span>
<span class="c">/-</span><span class="cm"></span>
<span class="cm">theorem six : Bool → Bool → Bool → Bool → Bool → Bool → Bool → Bool :=</span>
<span class="cm">fun a b c d e f g =&gt; decide (a = true ∧ b = true ∧ c = true ∧ d = true ∧ e = true ∧ f = true ∧ g = true)</span>
<span class="cm">-/</span>
</code></pre></div>



<a name="317345746"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/7%20%E2%88%A7%20/%20%E2%88%A8/near/317345746" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/7.20.E2.88.A7.20.2F.20.E2.88.A8.html#317345746">(Dec 22 2022 at 11:48)</a>:</h4>
<p>Does adding a direct call to <code>decide</code> on <code>seven</code> solve the issue?</p>



<a name="317345894"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/7%20%E2%88%A7%20/%20%E2%88%A8/near/317345894" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/7.20.E2.88.A7.20.2F.20.E2.88.A8.html#317345894">(Dec 22 2022 at 11:49)</a>:</h4>
<p>Wait, the question is why the decidable Prop isn't being coerced back to a <code>Bool</code></p>



<a name="317345909"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/7%20%E2%88%A7%20/%20%E2%88%A8/near/317345909" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/7.20.E2.88.A7.20.2F.20.E2.88.A8.html#317345909">(Dec 22 2022 at 11:49)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">seven</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">d</span> <span class="n">e</span> <span class="n">f</span> <span class="n">g</span> <span class="n">h</span> <span class="o">:</span> <span class="n">Bool</span><span class="o">)</span> <span class="o">:</span> <span class="n">Bool</span> <span class="o">:=</span> <span class="n">decide</span> <span class="o">(</span><span class="n">a</span> <span class="bp">∧</span> <span class="n">b</span> <span class="bp">∧</span> <span class="n">c</span> <span class="bp">∧</span> <span class="n">d</span> <span class="bp">∧</span> <span class="n">e</span> <span class="bp">∧</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">g</span> <span class="bp">∧</span> <span class="n">h</span><span class="o">)</span>
</code></pre></div>
<p>works.  Is this what you were suggesting?</p>



<a name="317345982"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/7%20%E2%88%A7%20/%20%E2%88%A8/near/317345982" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/7.20.E2.88.A7.20.2F.20.E2.88.A8.html#317345982">(Dec 22 2022 at 11:49)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="321459">@Damiano Testa</span>, that's exactly the one I was thinking of. Does it fail for 14 or some larger number?</p>



<a name="317346034"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/7%20%E2%88%A7%20/%20%E2%88%A8/near/317346034" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/7.20.E2.88.A7.20.2F.20.E2.88.A8.html#317346034">(Dec 22 2022 at 11:49)</a>:</h4>
<p>Ok, I am slightly less puzzled now, but I am still surprised by the behaviour!</p>



<a name="317346111"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/7%20%E2%88%A7%20/%20%E2%88%A8/near/317346111" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/7.20.E2.88.A7.20.2F.20.E2.88.A8.html#317346111">(Dec 22 2022 at 11:50)</a>:</h4>
<p>Damiano if you actually want to do this you should be using Boolean and, not proppy and</p>



<a name="317346171"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/7%20%E2%88%A7%20/%20%E2%88%A8/near/317346171" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/7.20.E2.88.A7.20.2F.20.E2.88.A8.html#317346171">(Dec 22 2022 at 11:50)</a>:</h4>
<p>Which I assume is spelt <code>&amp;&amp;</code> (edit: <a href="https://leanprover-community.github.io/mathlib4_docs/find/?pattern=and#doc">docs4#and</a>)</p>



<a name="317346265"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/7%20%E2%88%A7%20/%20%E2%88%A8/near/317346265" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/7.20.E2.88.A7.20.2F.20.E2.88.A8.html#317346265">(Dec 22 2022 at 11:51)</a>:</h4>
<p>It's Bool.And I think? Possibly with no notation</p>



<a name="317346276"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/7%20%E2%88%A7%20/%20%E2%88%A8/near/317346276" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/7.20.E2.88.A7.20.2F.20.E2.88.A8.html#317346276">(Dec 22 2022 at 11:51)</a>:</h4>
<p>This is the first that fails:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">seven</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">d</span> <span class="n">e</span> <span class="n">f</span> <span class="n">g</span> <span class="n">h</span> <span class="o">:</span> <span class="n">Bool</span><span class="o">)</span> <span class="o">:</span> <span class="n">Bool</span> <span class="o">:=</span> <span class="n">decide</span> <span class="o">(</span><span class="n">a</span> <span class="bp">∧</span> <span class="n">b</span> <span class="bp">∧</span> <span class="n">c</span> <span class="bp">∧</span> <span class="n">d</span> <span class="bp">∧</span> <span class="n">e</span> <span class="bp">∧</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">g</span> <span class="bp">∧</span> <span class="n">h</span> <span class="bp">∧</span> <span class="n">b</span> <span class="bp">∧</span> <span class="n">c</span> <span class="bp">∧</span> <span class="n">d</span> <span class="bp">∧</span> <span class="n">e</span> <span class="bp">∧</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">g</span> <span class="bp">∧</span> <span class="n">h</span> <span class="bp">∧</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">g</span> <span class="bp">∧</span> <span class="n">h</span> <span class="bp">∧</span> <span class="n">b</span> <span class="bp">∧</span> <span class="n">c</span> <span class="bp">∧</span> <span class="n">d</span> <span class="bp">∧</span> <span class="n">e</span> <span class="bp">∧</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">g</span> <span class="bp">∧</span> <span class="n">h</span> <span class="bp">∧</span> <span class="n">b</span> <span class="bp">∧</span> <span class="n">c</span> <span class="bp">∧</span> <span class="n">d</span> <span class="bp">∧</span> <span class="n">e</span> <span class="bp">∧</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">g</span> <span class="bp">∧</span> <span class="n">h</span> <span class="bp">∧</span> <span class="n">b</span> <span class="bp">∧</span> <span class="n">c</span> <span class="bp">∧</span> <span class="n">d</span> <span class="bp">∧</span> <span class="n">e</span> <span class="bp">∧</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">g</span> <span class="bp">∧</span> <span class="n">h</span>
 <span class="bp">∧</span> <span class="n">b</span> <span class="bp">∧</span> <span class="n">c</span> <span class="bp">∧</span> <span class="n">d</span> <span class="bp">∧</span> <span class="n">e</span> <span class="bp">∧</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">g</span> <span class="bp">∧</span> <span class="n">h</span> <span class="bp">∧</span> <span class="n">b</span> <span class="bp">∧</span> <span class="n">c</span> <span class="bp">∧</span> <span class="n">d</span> <span class="bp">∧</span> <span class="n">e</span> <span class="bp">∧</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">g</span> <span class="bp">∧</span> <span class="n">h</span> <span class="bp">∧</span> <span class="n">b</span> <span class="bp">∧</span> <span class="n">c</span> <span class="bp">∧</span> <span class="n">d</span> <span class="bp">∧</span> <span class="n">e</span> <span class="bp">∧</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">g</span> <span class="bp">∧</span> <span class="n">h</span> <span class="bp">∧</span> <span class="n">b</span> <span class="bp">∧</span> <span class="n">c</span> <span class="bp">∧</span> <span class="n">d</span> <span class="bp">∧</span> <span class="n">e</span> <span class="bp">∧</span> <span class="n">a</span><span class="o">)</span>
</code></pre></div>



<a name="317346304"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/7%20%E2%88%A7%20/%20%E2%88%A8/near/317346304" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/7.20.E2.88.A7.20.2F.20.E2.88.A8.html#317346304">(Dec 22 2022 at 11:51)</a>:</h4>
<p>What's the failure message?</p>



<a name="317346439"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/7%20%E2%88%A7%20/%20%E2%88%A8/near/317346439" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/7.20.E2.88.A7.20.2F.20.E2.88.A8.html#317346439">(Dec 22 2022 at 11:51)</a>:</h4>
<p>Failure:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c">/-</span><span class="cm"></span>
<span class="cm">ands7.lean:19:0</span>
<span class="cm">Messages (1)</span>
<span class="cm">ands7.lean:19:49</span>
<span class="cm">failed to synthesize instance</span>
<span class="cm">  Decidable</span>
<span class="cm">    (a = true ∧</span>
<span class="cm">      b = true ∧</span>
<span class="cm">        c = true ∧</span>
<span class="cm">          d = true ∧</span>
<span class="cm">            e = true ∧</span>
<span class="cm">              f = true ∧</span>
<span class="cm">                g = true ∧</span>
<span class="cm">                  h = true ∧</span>
<span class="cm">                    b = true ∧</span>
<span class="cm">                      c = true ∧</span>
<span class="cm">                        d = true ∧</span>
<span class="cm">                          e = true ∧</span>
<span class="cm">                            f = true ∧</span>
<span class="cm">                              g = true ∧</span>
<span class="cm">                                h = true ∧</span>
<span class="cm">                                  f = true ∧</span>
<span class="cm">                                    g = true ∧</span>
<span class="cm">                                      h = true ∧</span>
<span class="cm">                                        b = true ∧</span>
<span class="cm">                                          c = true ∧</span>
<span class="cm">                                            d = true ∧</span>
<span class="cm">                                              e = true ∧</span>
<span class="cm">                                                f = true ∧</span>
<span class="cm">                                                  g = true ∧</span>
<span class="cm">                                                    h = true ∧</span>
<span class="cm">                                                      b = true ∧</span>
<span class="cm">                                                        c = true ∧</span>
<span class="cm">                                                          d = true ∧</span>
<span class="cm">                                                            e = true ∧</span>
<span class="cm">                                                              f = true ∧</span>
<span class="cm">                                                                g = true ∧</span>
<span class="cm">                                                                  h = true ∧</span>
<span class="cm">                                                                    b = true ∧</span>
<span class="cm">                                                                      c = true ∧</span>
<span class="cm">                                                                        d = true ∧</span>
<span class="cm">                                                                          e = true ∧</span>
<span class="cm">                                                                            f = true ∧</span>
<span class="cm">                                                                              g = true ∧</span>
<span class="cm">                                                                                h = true ∧</span>
<span class="cm">                                                                                  b = true ∧</span>
<span class="cm">                                                                                    c = true ∧</span>
<span class="cm">                                                                                      d = true ∧</span>
<span class="cm">                                                                                        e = true ∧</span>
<span class="cm">                                                                                          f = true ∧</span>
<span class="cm">                                                                                            g = true ∧</span>
<span class="cm">                                                                                              h = true ∧</span>
<span class="cm">                                                                                                b = true ∧</span>
<span class="cm">                                                                                                  c = true ∧</span>
<span class="cm">                                                                                                    d = true ∧</span>
<span class="cm">                                                                                                      e = true ∧</span>
<span class="cm">                                                                                                        f = true ∧</span>
<span class="cm">                                                                                                          g = true ∧</span>
<span class="cm">                                                                                                            h = true ∧</span>
<span class="cm">                                                                                                              b = true ∧</span>
<span class="cm">                                                                                                                c =</span>
<span class="cm">                                                                                                                    true ∧</span>
<span class="cm">                                                                                                                  d =</span>
<span class="cm">                                                                                                                      true ∧</span>
<span class="cm">                                                                                                                    e =</span>
<span class="cm">                                                                                                                        true ∧</span>
<span class="cm">                                                                                                                      f =</span>
<span class="cm">                                                                                                                          true ∧</span>
<span class="cm">                                                                                                                        g =</span>
<span class="cm">                                                                                                                            true ∧</span>
<span class="cm">                                                                                                                          h =</span>
<span class="cm">                                                                                                                              true ∧</span>
<span class="cm">                                                                                                                            b =</span>
<span class="cm">                                                                                                                                true ∧</span>
<span class="cm">                                                                                                                              c =</span>
<span class="cm">                                                                                                                                  true ∧</span>
<span class="cm">                                                                                                                                d =</span>
<span class="cm">                                                                                                                                    true ∧</span>
<span class="cm">                                                                                                                                  e =</span>
<span class="cm">                                                                                                                                      true ∧</span>
<span class="cm">                                                                                                                                    a =</span>
<span class="cm">                                                                                                                                      true)</span>
<span class="cm">All Messages (4)-/</span>
</code></pre></div>



<a name="317346543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/7%20%E2%88%A7%20/%20%E2%88%A8/near/317346543" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/7.20.E2.88.A7.20.2F.20.E2.88.A8.html#317346543">(Dec 22 2022 at 11:52)</a>:</h4>
<p>That doesn't look like an error message?</p>



<a name="317346622"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/7%20%E2%88%A7%20/%20%E2%88%A8/near/317346622" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/7.20.E2.88.A7.20.2F.20.E2.88.A8.html#317346622">(Dec 22 2022 at 11:52)</a>:</h4>
<p>Yes, sorry, copy-pasted the wrong thing.</p>



<a name="317346633"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/7%20%E2%88%A7%20/%20%E2%88%A8/near/317346633" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/7.20.E2.88.A7.20.2F.20.E2.88.A8.html#317346633">(Dec 22 2022 at 11:52)</a>:</h4>
<p>So maybe the coercion from <code>Bool</code> to <code>Prop</code> has a super-short timeout / search depth for synthesizing instances?</p>



<a name="317346745"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/7%20%E2%88%A7%20/%20%E2%88%A8/near/317346745" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/7.20.E2.88.A7.20.2F.20.E2.88.A8.html#317346745">(Dec 22 2022 at 11:53)</a>:</h4>
<p>Or alternatively, maybe it spends most of it's budget in the <code>CoeTC</code> typeclasses</p>



<a name="317346777"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/7%20%E2%88%A7%20/%20%E2%88%A8/near/317346777" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/7.20.E2.88.A7.20.2F.20.E2.88.A8.html#317346777">(Dec 22 2022 at 11:53)</a>:</h4>
<p>I do not know, but already knowing that <code>∧</code> is "just" for Props clarified a lot!</p>



<a name="317346920"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/7%20%E2%88%A7%20/%20%E2%88%A8/near/317346920" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/7.20.E2.88.A7.20.2F.20.E2.88.A8.html#317346920">(Dec 22 2022 at 11:54)</a>:</h4>
<p>Please update your Lean version, <span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> fixed this yesterday</p>



<a name="317347140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/7%20%E2%88%A7%20/%20%E2%88%A8/near/317347140" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/7.20.E2.88.A7.20.2F.20.E2.88.A8.html#317347140">(Dec 22 2022 at 11:55)</a>:</h4>
<p><a href="https://github.com/leanprover/lean4/pull/1981">https://github.com/leanprover/lean4/pull/1981</a>?</p>



<a name="317347294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/7%20%E2%88%A7%20/%20%E2%88%A8/near/317347294" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/7.20.E2.88.A7.20.2F.20.E2.88.A8.html#317347294">(Dec 22 2022 at 11:56)</a>:</h4>
<p>Yes! <a href="https://github.com/leanprover/lean4/commit/6083b01c86f530e1fb037114d8c0ddd4ac2e909e">https://github.com/leanprover/lean4/commit/6083b01c86f530e1fb037114d8c0ddd4ac2e909e</a></p>



<a name="317347317"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/7%20%E2%88%A7%20/%20%E2%88%A8/near/317347317" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/7.20.E2.88.A7.20.2F.20.E2.88.A8.html#317347317">(Dec 22 2022 at 11:56)</a>:</h4>
<p>Not <a href="https://github.com/leanprover/lean4/pull/1981/commits/770ea8e730544d1a81ea19d3560bf10855ed45f9">https://github.com/leanprover/lean4/pull/1981/commits/770ea8e730544d1a81ea19d3560bf10855ed45f9</a>?</p>



<a name="317347355"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/7%20%E2%88%A7%20/%20%E2%88%A8/near/317347355" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/7.20.E2.88.A7.20.2F.20.E2.88.A8.html#317347355">(Dec 22 2022 at 11:56)</a>:</h4>
<p>Oh I guess it was rebased</p>



<a name="317347511"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/7%20%E2%88%A7%20/%20%E2%88%A8/near/317347511" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/7.20.E2.88.A7.20.2F.20.E2.88.A8.html#317347511">(Dec 22 2022 at 11:57)</a>:</h4>
<p>I am ashamed for asking, but... how do I update the lean version?</p>



<a name="317351044"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/7%20%E2%88%A7%20/%20%E2%88%A8/near/317351044" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Siddhartha Gadgil <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/7.20.E2.88.A7.20.2F.20.E2.88.A8.html#317351044">(Dec 22 2022 at 12:15)</a>:</h4>
<p>Edit the <code>lean-toolchain</code> file.</p>



<a name="317352478"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/7%20%E2%88%A7%20/%20%E2%88%A8/near/317352478" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/7.20.E2.88.A7.20.2F.20.E2.88.A8.html#317352478">(Dec 22 2022 at 12:22)</a>:</h4>
<p>Siddhartha, thank you very much!</p>



<a name="317352489"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/7%20%E2%88%A7%20/%20%E2%88%A8/near/317352489" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/7.20.E2.88.A7.20.2F.20.E2.88.A8.html#317352489">(Dec 22 2022 at 12:22)</a>:</h4>
<p>I can confirm that the issue that I had raised disappeared!</p>
<p>64 <code>Bool</code>s still seem to be too many, though.  <span aria-label="lol" class="emoji emoji-1f606" role="img" title="lol">:lol:</span> </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">seven</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">d</span> <span class="n">e</span> <span class="n">f</span> <span class="n">g</span> <span class="n">h</span> <span class="o">:</span> <span class="n">Bool</span><span class="o">)</span> <span class="o">:</span> <span class="n">Bool</span> <span class="o">:=</span> <span class="n">a</span> <span class="bp">∧</span> <span class="n">b</span> <span class="bp">∧</span> <span class="n">c</span> <span class="bp">∧</span> <span class="n">d</span> <span class="bp">∧</span> <span class="n">e</span> <span class="bp">∧</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">g</span> <span class="bp">∧</span> <span class="n">h</span> <span class="bp">∧</span> <span class="n">b</span> <span class="bp">∧</span> <span class="n">c</span> <span class="bp">∧</span> <span class="n">d</span> <span class="bp">∧</span> <span class="n">e</span> <span class="bp">∧</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">g</span> <span class="bp">∧</span> <span class="n">h</span> <span class="bp">∧</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">h</span> <span class="bp">∧</span> <span class="n">b</span> <span class="bp">∧</span> <span class="n">c</span> <span class="bp">∧</span> <span class="n">d</span> <span class="bp">∧</span> <span class="n">e</span> <span class="bp">∧</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">g</span> <span class="bp">∧</span> <span class="n">h</span> <span class="bp">∧</span> <span class="n">b</span> <span class="bp">∧</span> <span class="n">c</span> <span class="bp">∧</span> <span class="n">d</span> <span class="bp">∧</span> <span class="n">e</span> <span class="bp">∧</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">g</span> <span class="bp">∧</span> <span class="n">h</span> <span class="bp">∧</span> <span class="n">b</span> <span class="bp">∧</span> <span class="n">c</span> <span class="bp">∧</span> <span class="n">d</span> <span class="bp">∧</span> <span class="n">e</span> <span class="bp">∧</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">g</span> <span class="bp">∧</span> <span class="n">h</span> <span class="bp">∧</span> <span class="n">h</span> <span class="bp">∧</span> <span class="n">h</span> <span class="bp">∧</span> <span class="n">h</span> <span class="bp">∧</span> <span class="n">h</span> <span class="bp">∧</span> <span class="n">h</span>
 <span class="bp">∧</span> <span class="n">h</span> <span class="bp">∧</span> <span class="n">h</span> <span class="bp">∧</span> <span class="n">h</span> <span class="bp">∧</span> <span class="n">h</span> <span class="bp">∧</span> <span class="n">h</span> <span class="bp">∧</span> <span class="n">h</span> <span class="bp">∧</span> <span class="n">h</span> <span class="bp">∧</span> <span class="n">h</span> <span class="bp">∧</span> <span class="n">h</span> <span class="bp">∧</span> <span class="n">h</span> <span class="bp">∧</span> <span class="n">h</span> <span class="bp">∧</span> <span class="n">h</span> <span class="bp">∧</span> <span class="n">h</span> <span class="bp">∧</span> <span class="n">h</span> <span class="bp">∧</span> <span class="n">h</span> <span class="bp">∧</span> <span class="n">h</span> <span class="bp">∧</span> <span class="n">h</span> <span class="bp">∧</span> <span class="n">h</span> <span class="bp">∧</span> <span class="n">h</span> <span class="bp">∧</span> <span class="n">h</span> <span class="bp">∧</span> <span class="n">h</span>
<span class="c">/-</span><span class="cm"></span>
<span class="cm">type mismatch</span>
<span class="cm">  a = true ∧</span>
<span class="cm">    b = true ∧</span>
<span class="cm">      c = true ∧</span>
<span class="cm">        d = true ∧</span>
<span class="cm">          e = true ∧</span>
<span class="cm">            f = true ∧</span>
<span class="cm">              g = true ∧</span>
<span class="cm">                h = true ∧</span>
<span class="cm">                  b = true ∧</span>
<span class="cm">                    c = true ∧</span>
<span class="cm">                      d = true ∧</span>
<span class="cm">                        e = true ∧</span>
<span class="cm">                          f = true ∧</span>
<span class="cm">                            g = true ∧</span>
<span class="cm">                              h = true ∧</span>
<span class="cm">                                f = true ∧</span>
<span class="cm">                                  h = true ∧</span>
<span class="cm">                                    b = true ∧</span>
<span class="cm">                                      c = true ∧</span>
<span class="cm">                                        d = true ∧</span>
<span class="cm">                                          e = true ∧</span>
<span class="cm">                                            f = true ∧</span>
<span class="cm">                                              g = true ∧</span>
<span class="cm">                                                h = true ∧</span>
<span class="cm">                                                  b = true ∧</span>
<span class="cm">                                                    c = true ∧</span>
<span class="cm">                                                      d = true ∧</span>
<span class="cm">                                                        e = true ∧</span>
<span class="cm">                                                          f = true ∧</span>
<span class="cm">                                                            g = true ∧</span>
<span class="cm">                                                              h = true ∧</span>
<span class="cm">                                                                b = true ∧</span>
<span class="cm">                                                                  c = true ∧</span>
<span class="cm">                                                                    d = true ∧</span>
<span class="cm">                                                                      e = true ∧</span>
<span class="cm">                                                                        f = true ∧</span>
<span class="cm">                                                                          g = true ∧</span>
<span class="cm">                                                                            h = true ∧</span>
<span class="cm">                                                                              h = true ∧</span>
<span class="cm">                                                                                h = true ∧</span>
<span class="cm">                                                                                  h = true ∧</span>
<span class="cm">                                                                                    h = true ∧</span>
<span class="cm">                                                                                      h = true ∧</span>
<span class="cm">                                                                                        h = true ∧</span>
<span class="cm">                                                                                          h = true ∧</span>
<span class="cm">                                                                                            h = true ∧</span>
<span class="cm">                                                                                              h = true ∧</span>
<span class="cm">                                                                                                h = true ∧</span>
<span class="cm">                                                                                                  h = true ∧</span>
<span class="cm">                                                                                                    h = true ∧</span>
<span class="cm">                                                                                                      h = true ∧</span>
<span class="cm">                                                                                                        h = true ∧</span>
<span class="cm">                                                                                                          h = true ∧</span>
<span class="cm">                                                                                                            h = true ∧</span>
<span class="cm">                                                                                                              h = true ∧</span>
<span class="cm">                                                                                                                h =</span>
<span class="cm">                                                                                                                    true ∧</span>
<span class="cm">                                                                                                                  h =</span>
<span class="cm">                                                                                                                      true ∧</span>
<span class="cm">                                                                                                                    h =</span>
<span class="cm">                                                                                                                        true ∧</span>
<span class="cm">                                                                                                                      h =</span>
<span class="cm">                                                                                                                          true ∧</span>
<span class="cm">                                                                                                                        h =</span>
<span class="cm">                                                                                                                            true ∧</span>
<span class="cm">                                                                                                                          h =</span>
<span class="cm">                                                                                                                              true ∧</span>
<span class="cm">                                                                                                                            h =</span>
<span class="cm">                                                                                                                                true ∧</span>
<span class="cm">                                                                                                                              h =</span>
<span class="cm">                                                                                                                                  true ∧</span>
<span class="cm">                                                                                                                                h =</span>
<span class="cm">                                                                                                                                  true</span>
<span class="cm">has type</span>
<span class="cm">  Prop : Type</span>
<span class="cm">but is expected to have type</span>
<span class="cm">  Bool : Type</span>
<span class="cm">-/</span>
</code></pre></div>
<p>Now that I know this, this is with <code>leanprover/lean4:nightly-2022-12-22</code>.</p>



<a name="317352604"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/7%20%E2%88%A7%20/%20%E2%88%A8/near/317352604" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/7.20.E2.88.A7.20.2F.20.E2.88.A8.html#317352604">(Dec 22 2022 at 12:23)</a>:</h4>
<p>Anyway, I am satisfied with the current situation!  Thanks a lot to all!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>