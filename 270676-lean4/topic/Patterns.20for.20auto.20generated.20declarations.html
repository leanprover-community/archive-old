---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/Patterns.20for.20auto.20generated.20declarations.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Patterns.20for.20auto.20generated.20declarations.html">Patterns for auto generated declarations</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="262838077"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Patterns%20for%20auto%20generated%20declarations/near/262838077" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Patterns.20for.20auto.20generated.20declarations.html#262838077">(Nov 26 2021 at 22:11)</a>:</h4>
<p>While doing some experimentation for doc-gen4 i noticed that if you list the names of all the axioms and functions that are in e.g. the current mathlib4 quite a lot (I didnt check if it might even be the majority) of them seem to be autogenerated (at least from the way their name looks) and thus not exactly interesting to doc-gen4.</p>
<p>Now I'm guessing I could start digging through the compiler to find all spots that auto generate some names and write a function that is able to detect these auto generated declarations but I figured someone here will probably already know how auto generated names look (hopefully)?</p>



<a name="262845918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Patterns%20for%20auto%20generated%20declarations/near/262845918" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Siddhartha Gadgil <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Patterns.20for.20auto.20generated.20declarations.html#262845918">(Nov 27 2021 at 01:03)</a>:</h4>
<p>Here is an extract from the lean4 source which I used to avoid auto-generated names by lean (which may be the same things that you want to avoid).</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">private</span> <span class="kd">def</span> <span class="n">isBlackListed</span> <span class="o">(</span><span class="n">declName</span> <span class="o">:</span> <span class="n">Name</span><span class="o">)</span> <span class="o">:</span> <span class="n">MetaM</span> <span class="n">Bool</span> <span class="o">:=</span> <span class="k">do</span>
  <span class="k">let</span> <span class="n">env</span> <span class="bp">←</span> <span class="n">getEnv</span>
  <span class="o">(</span><span class="n">declName.isInternal</span> <span class="bp">&amp;&amp;</span> <span class="bp">!</span><span class="n">isPrivateName</span> <span class="n">declName</span><span class="o">)</span>
  <span class="bp">&lt;||&gt;</span> <span class="n">isAuxRecursor</span> <span class="n">env</span> <span class="n">declName</span>
  <span class="bp">&lt;||&gt;</span> <span class="n">isNoConfusion</span> <span class="n">env</span> <span class="n">declName</span>
  <span class="bp">&lt;||&gt;</span> <span class="n">isRec</span> <span class="n">declName</span>
  <span class="bp">&lt;||&gt;</span> <span class="n">completionBlackListExt.isTagged</span> <span class="n">env</span> <span class="n">declName</span>
  <span class="bp">&lt;||&gt;</span> <span class="n">isMatcher</span> <span class="n">declName</span>
</code></pre></div>



<a name="262868322"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Patterns%20for%20auto%20generated%20declarations/near/262868322" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Patterns.20for.20auto.20generated.20declarations.html#262868322">(Nov 27 2021 at 11:22)</a>:</h4>
<p>Thanks! I'll add that to my code and see whether stuff starts disappearing.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>