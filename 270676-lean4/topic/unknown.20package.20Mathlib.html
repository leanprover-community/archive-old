---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/unknown.20package.20Mathlib.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20Mathlib.html">unknown package Mathlib</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="288841555"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/unknown%20package%20Mathlib/near/288841555" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20Mathlib.html#288841555">(Jul 07 2022 at 17:50)</a>:</h4>
<p><span class="user-mention" data-user-id="455674">@Matej Penciak</span>  and I have been trying to use Mathlibport to view Mathlib 3 files in Lean 4. However, we get the error : <code>unknown package Mathlib</code> . <br>
On importing Mathbin files, I get the error :<br>
<code>object file '.\lean_packages\mathlib\.\build\lib\Mathlib.olean' of module Mathlib does not exist</code><br>
Can this be resolved?<br>
Any help is appreciated, thank you!</p>



<a name="288848127"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/unknown%20package%20Mathlib/near/288848127" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mac <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20Mathlib.html#288848127">(Jul 07 2022 at 18:37)</a>:</h4>
<p>What version of Lean are you on?</p>



<a name="288848277"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/unknown%20package%20Mathlib/near/288848277" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20Mathlib.html#288848277">(Jul 07 2022 at 18:38)</a>:</h4>
<p><code>Lean (version 4.0.0-nightly-2022-06-13, commit fb574af873d7, Release)</code></p>



<a name="288848736"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/unknown%20package%20Mathlib/near/288848736" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mac <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20Mathlib.html#288848736">(Jul 07 2022 at 18:42)</a>:</h4>
<p>Ah, okay, yeah that does appear to be the correct version. What does your Lakefile look like?</p>



<a name="288849872"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/unknown%20package%20Mathlib/near/288849872" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20Mathlib.html#288849872">(Jul 07 2022 at 18:50)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">Lake</span>
<span class="kn">open</span> <span class="n">Lake</span> <span class="n">DSL</span>

<span class="n">package</span> <span class="n">ZkSNARK</span>

<span class="n">require</span> <span class="n">mathlib3port</span> <span class="k">from</span> <span class="n">git</span>
   <span class="s2">"https://github.com/leanprover-community/mathlib3port.git"</span>
</code></pre></div>



<a name="288850213"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/unknown%20package%20Mathlib/near/288850213" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexander Bentkamp <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20Mathlib.html#288850213">(Jul 07 2022 at 18:53)</a>:</h4>
<p>I also get this error sometimes. My workaround/hack is the following:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">cd</span> <span class="n">lean_packages</span><span class="bp">/</span><span class="n">mathlib</span>
<span class="n">lake</span> <span class="n">build</span>
</code></pre></div>
<p>You might have to do the same in the other subdirectories of lean_packages.</p>



<a name="288850648"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/unknown%20package%20Mathlib/near/288850648" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20Mathlib.html#288850648">(Jul 07 2022 at 18:56)</a>:</h4>
<p>I get a <code>build failed</code> error</p>



<a name="288851821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/unknown%20package%20Mathlib/near/288851821" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20Mathlib.html#288851821">(Jul 07 2022 at 19:06)</a>:</h4>
<p>I rebuilt it and it seems to be working now! Thank you!</p>



<a name="288852060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/unknown%20package%20Mathlib/near/288852060" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexander Bentkamp <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20Mathlib.html#288852060">(Jul 07 2022 at 19:08)</a>:</h4>
<p>Would still be good to know from <span class="user-mention" data-user-id="315577">@Mac</span>  if there is a better solution or what might be causing this :-)</p>



<a name="288852356"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/unknown%20package%20Mathlib/near/288852356" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mac <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20Mathlib.html#288852356">(Jul 07 2022 at 19:11)</a>:</h4>
<p>How are you importing Mathbin?</p>



<a name="288852703"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/unknown%20package%20Mathlib/near/288852703" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mac <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20Mathlib.html#288852703">(Jul 07 2022 at 19:14)</a>:</h4>
<p>If you are doing something other than <code>import Mathbin</code>, mathlib will not get built (as only the top-level <code>Mathbin</code> explicitly imports Mathlib). Otherwise, if you are doing an <code>import Mathbin.*</code> (importing just some submodule), you need to also <code>import Mathlib</code> to ensure Mathlib gets built.</p>



<a name="288853146"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/unknown%20package%20Mathlib/near/288853146" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20Mathlib.html#288853146">(Jul 07 2022 at 19:18)</a>:</h4>
<p>I see (although currently the file seems to work without a Mathlib import)</p>



<a name="288853237"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/unknown%20package%20Mathlib/near/288853237" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mac <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20Mathlib.html#288853237">(Jul 07 2022 at 19:19)</a>:</h4>
<p><span class="user-mention" data-user-id="250372">@Ashvni Narayanan</span> Well you just manually built Mathlib, so that's why. <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span> (That's what <span class="user-mention" data-user-id="129120">@Alexander Bentkamp</span>  had you do.)</p>



<a name="288853399"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/unknown%20package%20Mathlib/near/288853399" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20Mathlib.html#288853399">(Jul 07 2022 at 19:20)</a>:</h4>
<p>Ah right, sorry about that</p>



<a name="288853836"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/unknown%20package%20Mathlib/near/288853836" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mac <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20Mathlib.html#288853836">(Jul 07 2022 at 19:24)</a>:</h4>
<p>'tis fine <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="288853858"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/unknown%20package%20Mathlib/near/288853858" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexander Bentkamp <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20Mathlib.html#288853858">(Jul 07 2022 at 19:24)</a>:</h4>
<p>Thanks, I have been doing this wrong for 6 months or so  :-)</p>



<a name="288854171"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/unknown%20package%20Mathlib/near/288854171" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexander Bentkamp <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20Mathlib.html#288854171">(Jul 07 2022 at 19:26)</a>:</h4>
<p>cc <span class="user-mention" data-user-id="132858">@Ramon Fernandez Mir</span></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>