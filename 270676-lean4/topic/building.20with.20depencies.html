---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/building.20with.20depencies.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/building.20with.20depencies.html">building with depencies</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="300184192"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/building%20with%20depencies/near/300184192" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/building.20with.20depencies.html#300184192">(Sep 22 2022 at 15:20)</a>:</h4>
<p>I'm trying to have two local Lean packages. One is a library and the other is a program. I want them to be in different folder, managed by different git repositories. In the program lakefile I use <code>require MyLib from ".."/"my-lib"</code> and it works just fine in VSCode. Then I <code>lake build</code> and there is no complain. But when I try to run the executable then it complains about "unknown package MyLib".</p>



<a name="300184706"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/building%20with%20depencies/near/300184706" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/building.20with.20depencies.html#300184706">(Sep 22 2022 at 15:23)</a>:</h4>
<p>Building a Lean executable will not include all the .olean files in the binary, or make them available in any other way. I assume you are already calling <code>initSearchPath</code>, you need to pass the path to MyLib to it manually</p>



<a name="300185979"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/building%20with%20depencies/near/300185979" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/building.20with.20depencies.html#300185979">(Sep 22 2022 at 15:29)</a>:</h4>
<p>Thanks, that was enough to get me going. But one day I'll have to understand this for real.</p>



<a name="300186337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/building%20with%20depencies/near/300186337" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/building.20with.20depencies.html#300186337">(Sep 22 2022 at 15:31)</a>:</h4>
<p>Is there any documentation for simple use cases like? I can't find the string "initSearchPath" in the lake README.</p>



<a name="300187010"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/building%20with%20depencies/near/300187010" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/building.20with.20depencies.html#300187010">(Sep 22 2022 at 15:34)</a>:</h4>
<p>Building a Lean <em>metaprogram</em>, something that reads and analyzes/manipulates Lean programs and proofs, is far from a simple use case. The most appropriate place to document this would probably be in the metaprogramming book, but I don't see it there yet.</p>



<a name="300189190"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/building%20with%20depencies/near/300189190" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/building.20with.20depencies.html#300189190">(Sep 22 2022 at 15:45)</a>:</h4>
<p>I guess I probably don't need this then, because I'm not trying to do something complicated.</p>



<a name="300189579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/building%20with%20depencies/near/300189579" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/building.20with.20depencies.html#300189579">(Sep 22 2022 at 15:47)</a>:</h4>
<p>Now I'm a bit confused. You should only get that error <em>from your program</em> if you're trying to do something complicated/"meta".</p>



<a name="300190341"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/building%20with%20depencies/near/300190341" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/building.20with.20depencies.html#300190341">(Sep 22 2022 at 15:50)</a>:</h4>
<p>To be honest, I don't quite remember what I'm doing. I'm resuming work on a project that I abandoned for one month because term started and then I had a conference deadline <span aria-label="flushed" class="emoji emoji-1f633" role="img" title="flushed">:flushed:</span></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>