---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/Notation.20for.20inductive.20types.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Notation.20for.20inductive.20types.html">Notation for inductive types</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="277789523"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Notation%20for%20inductive%20types/near/277789523" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Tyler Hanks <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Notation.20for.20inductive.20types.html#277789523">(Apr 04 2022 at 20:33)</a>:</h4>
<p>Hi I'm fairly new to Lean 4 and I'm trying to figure out if there is a way to define a notation for an inductive type and then use that notation within the definition of that type. For example, if I want to define an inductive type to represent typing judgements in some language,  I tried the following:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">set_option</span> <span class="n">quotPrecheck</span> <span class="n">false</span>
<span class="kd">notation</span><span class="o">:</span><span class="mi">10</span> <span class="bp">Γ</span> <span class="s2">" ⊢ "</span> <span class="n">e</span> <span class="s2">" : "</span> <span class="n">t</span> <span class="bp">=&gt;</span> <span class="n">typing</span> <span class="bp">Γ</span> <span class="n">e</span> <span class="n">t</span>

<span class="kd">inductive</span> <span class="n">typing</span> <span class="o">:</span> <span class="bp">Γ</span><span class="n">_t</span> <span class="bp">→</span> <span class="n">expr</span> <span class="bp">→</span> <span class="n">typ</span> <span class="bp">→</span> <span class="kt">Prop</span> <span class="n">where</span>
  <span class="bp">|</span> <span class="n">ttrue</span> <span class="o">:</span> <span class="bp">∀</span> <span class="bp">Γ</span> <span class="o">:</span> <span class="bp">Γ</span><span class="n">_t</span><span class="o">,</span> <span class="bp">Γ</span> <span class="bp">⊢</span> <span class="n">true_expr</span> <span class="o">:</span> <span class="n">my_bool</span>
  <span class="bp">|</span> <span class="n">etc...</span>
</code></pre></div>
<p>But Lean gives me the error <code>unknown identifier 'typing✝'</code> in the ttrue line. Does anyone know any workarounds / solutions for this?</p>



<a name="277789761"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Notation%20for%20inductive%20types/near/277789761" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Notation.20for.20inductive.20types.html#277789761">(Apr 04 2022 at 20:35)</a>:</h4>
<p>See e.g. <a href="https://github.com/IPDSnelting/tba-2021/blob/b6390e55b768423d3266969e81d19290129c5914/TBA/While/Semantics.lean#L42-L64">https://github.com/IPDSnelting/tba-2021/blob/b6390e55b768423d3266969e81d19290129c5914/TBA/While/Semantics.lean#L42-L64</a></p>



<a name="277789773"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Notation%20for%20inductive%20types/near/277789773" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Notation.20for.20inductive.20types.html#277789773">(Apr 04 2022 at 20:35)</a>:</h4>
<p>you can disable <del>quotPrecheck</del> hygiene to forward declare the notation</p>



<a name="277789990"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Notation%20for%20inductive%20types/near/277789990" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Tyler Hanks <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Notation.20for.20inductive.20types.html#277789990">(Apr 04 2022 at 20:37)</a>:</h4>
<p>that worked thanks!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>