---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/10-20.20update.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/10-20.20update.html">10-20 update</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="305121678"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/10-20%20update/near/305121678" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/10-20.20update.html#305121678">(Oct 20 2022 at 10:34)</a>:</h4>
<p>Attn lean 4 package maintainers: <span class="user-mention" data-user-id="414345">@Xubai Wang</span> , <span class="user-mention" data-user-id="221921">@Marc Huisinga</span> , <span class="user-mention" data-user-id="395550">@Henrik Böving</span> , <span class="user-mention" data-user-id="315577">@Mac</span> , <span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> : The 10-20 nightly broke every lake package (mainly because the <code>@[defaultTarget]</code> attribute used in every lakefile is now spelled <code>@[default_target]</code>, mea culpa), so I'm working on getting the updates deployed as quickly as possible to minimize disruption. I sent PRs to all the dependencies of mathlib, although doc-gen4 and LeanInk repos seem to have a more complicated setup and I may not have sent the PR to the right branch.</p>



<a name="305122068"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/10-20%20update/near/305122068" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/10-20.20update.html#305122068">(Oct 20 2022 at 10:35)</a>:</h4>
<p>TPiL4 broke as well <a href="https://github.com/leanprover/theorem_proving_in_lean4/actions/runs/3288702869">https://github.com/leanprover/theorem_proving_in_lean4/actions/runs/3288702869</a></p>



<a name="305134178"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/10-20%20update/near/305134178" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jannis Limperg <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/10-20.20update.html#305134178">(Oct 20 2022 at 11:57)</a>:</h4>
<p>Some more subtle breakage: any uses of <code>isAuxDecl</code> likely have to be replaced with <code>isImplementationDetail</code>. (Don't know how recent this change is.)</p>



<a name="305134989"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/10-20%20update/near/305134989" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> François G. Dorais <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/10-20.20update.html#305134989">(Oct 20 2022 at 12:02)</a>:</h4>
<p>Why this change?</p>



<a name="305136914"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/10-20%20update/near/305136914" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/10-20.20update.html#305136914">(Oct 20 2022 at 12:16)</a>:</h4>
<p>It's not just a name change, <code>auxDecl</code> was a binder info and <code>isImplementationDetail</code> is a function on <code>Name</code></p>



<a name="305142143"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/10-20%20update/near/305142143" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/10-20.20update.html#305142143">(Oct 20 2022 at 12:45)</a>:</h4>
<p>CC <span class="user-mention" data-user-id="516499">@Daniel Rogozin</span> <span class="user-mention" data-user-id="514707">@Ilona Prikule</span>  <span class="user-mention" data-user-id="507516">@cognivore</span> <span class="user-mention" data-user-id="455674">@Matej Penciak</span> for when we're bumping toolchains</p>



<a name="305148719"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/10-20%20update/near/305148719" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jannis Limperg <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/10-20.20update.html#305148719">(Oct 20 2022 at 13:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/270676-lean4/topic/10-20.20update/near/305136914">said</a>:</p>
<blockquote>
<p>It's not just a name change, <code>auxDecl</code> was a binder info and <code>isImplementationDetail</code> is a function on <code>Name</code></p>
</blockquote>
<p>More specifically:</p>
<ul>
<li><code>auxDecl</code> is not a <code>BinderInfo</code> any more.</li>
<li><code>LocalDecl</code> has a new field <code>LocalDeclKind</code>, which can be one of <code>default</code>, <code>implDetail</code> and <code>auxDecl</code>.</li>
<li>Hypotheses of <code>auxDecl</code> or <code>implDetail</code> kind are supposed to be ignored by tactics which iterate over the local context. So a typical <code>for</code> loop which filters hypotheses via <code>isAuxDecl</code> is now broken and needs to filter via <code>isImplementationDetail</code> instead (where <code>isImplementationDetail</code> is <code>true</code> for both <code>auxDecl</code> and <code>implDetail</code> hyps).</li>
</ul>



<a name="305183564"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/10-20%20update/near/305183564" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/10-20.20update.html#305183564">(Oct 20 2022 at 16:05)</a>:</h4>
<p>What Jannis said.  Also, <code>Name.isImplementationDetail</code> is only used by elaborators to decide whether variables should be marked as <code>LocalDeclKind.implDetail</code>.  Tactics should <em>not</em> use <code>Name.isImplementationDetail</code>.</p>



<a name="305188623"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/10-20%20update/near/305188623" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/10-20.20update.html#305188623">(Oct 20 2022 at 16:29)</a>:</h4>
<p>I'll looking into fixing doc-gen again for today's mathlib version then yes?</p>



<a name="305204647"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/10-20%20update/near/305204647" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/10-20.20update.html#305204647">(Oct 20 2022 at 17:47)</a>:</h4>
<p>What happened to <code>Name.components'</code>?</p>



<a name="305204863"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/10-20%20update/near/305204863" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/10-20.20update.html#305204863">(Oct 20 2022 at 17:48)</a>:</h4>
<p>it's <code>componentsRev</code> now</p>



<a name="305205026"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/10-20%20update/near/305205026" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/10-20.20update.html#305205026">(Oct 20 2022 at 17:49)</a>:</h4>
<p>you got my PR <a href="https://github.com/leanprover/doc-gen4/pull/86">leanprover/doc-gen4#86</a>, right?</p>



<a name="305205054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/10-20%20update/near/305205054" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/10-20.20update.html#305205054">(Oct 20 2022 at 17:49)</a>:</h4>
<p>I think I fixed all those issues in it</p>



<a name="305205309"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/10-20%20update/near/305205309" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/10-20.20update.html#305205309">(Oct 20 2022 at 17:51)</a>:</h4>
<p>Oh I was going through the changes myself as you sent this it seems haha. I already updated all the dependencies as well so this should hopefully work...</p>



<a name="305205665"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/10-20%20update/near/305205665" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/10-20.20update.html#305205665">(Oct 20 2022 at 17:52)</a>:</h4>
<p>Yup, it compiles <span aria-label="thumbs up" class="emoji emoji-1f44d" role="img" title="thumbs up">:thumbs_up:</span></p>



<a name="305322359"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/10-20%20update/near/305322359" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Tomas Skrivan <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/10-20.20update.html#305322359">(Oct 21 2022 at 10:34)</a>:</h4>
<p>I didn't update my <code>manifest.json</code> or <code>lean-toolchain</code> and yet I'm getting error</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">./</span><span class="n">lean_packages</span><span class="bp">/</span><span class="n">std</span><span class="bp">/</span><span class="n">lakefile.lean</span><span class="o">:</span><span class="mi">9</span><span class="o">:</span><span class="mi">2</span><span class="o">:</span> <span class="n">error</span><span class="o">:</span> <span class="n">unknown</span> <span class="kn">attribute</span> <span class="o">[</span><span class="n">default_target</span><span class="o">]</span>
</code></pre></div>
<p>How come <code>std</code> got upgraded?</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>