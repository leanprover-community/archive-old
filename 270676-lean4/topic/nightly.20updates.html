---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/nightly.20updates.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/nightly.20updates.html">nightly updates</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="287488116"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/nightly%20updates/near/287488116" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/nightly.20updates.html#287488116">(Jun 26 2022 at 11:21)</a>:</h4>
<p>Using <code>leanprover/lean4:nightly-2022-06-25</code> is causing this error very often. A consistent (?) way to reproduce it is playing around with go-to-definition with ctrl+click. Please notice my CPU usage skyrocketing <span aria-label="rocket" class="emoji emoji-1f680" role="img" title="rocket">:rocket:</span> <br>
<a href="/user_uploads/3121/CISgEi8yFvN_c8rKTbd8VHju/Captura-de-tela-de-2022-06-26-08-16-23.png">img</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/CISgEi8yFvN_c8rKTbd8VHju/Captura-de-tela-de-2022-06-26-08-16-23.png" title="img"><img src="/user_uploads/3121/CISgEi8yFvN_c8rKTbd8VHju/Captura-de-tela-de-2022-06-26-08-16-23.png"></a></div>



<a name="287490658"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/nightly%20updates/near/287490658" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/nightly.20updates.html#287490658">(Jun 26 2022 at 12:22)</a>:</h4>
<p>More on this: I went to a definition to check the <code>IO</code> API and it downloaded a lean from a different toolchain. Maybe it's related</p>



<a name="287506429"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/nightly%20updates/near/287506429" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wojciech Nawrocki <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/nightly.20updates.html#287506429">(Jun 26 2022 at 18:11)</a>:</h4>
<p>I have also been seeing this error.</p>



<a name="287557235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/nightly%20updates/near/287557235" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars KÃ¶nig <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/nightly.20updates.html#287557235">(Jun 27 2022 at 10:15)</a>:</h4>
<p>I also get this error a lot. <span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span> could this be caused by <a href="https://github.com/leanprover/lean4/pull/1241">#1241</a>? Reverting both commits fixed this for me (as far as I can tell).</p>



<a name="287558467"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/nightly%20updates/near/287558467" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/nightly.20updates.html#287558467">(Jun 27 2022 at 10:28)</a>:</h4>
<p>Yes, seems likely</p>



<a name="287704735"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/nightly%20updates/near/287704735" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/nightly.20updates.html#287704735">(Jun 28 2022 at 11:54)</a>:</h4>
<p>I wasn't able to reproduce this one yet, even though Leo said it also happened to him using Emacs. In any case, let's make it much easier to figure such things out on at least one platform: <a href="https://github.com/leanprover/lean4/pull/1258">https://github.com/leanprover/lean4/pull/1258</a>.</p>



<a name="287747544"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/nightly%20updates/near/287747544" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/nightly.20updates.html#287747544">(Jun 28 2022 at 17:13)</a>:</h4>
<p>Should be fixed with <a href="https://github.com/leanprover/lean4/pull/1259">https://github.com/leanprover/lean4/pull/1259</a></p>



<a name="289182021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/nightly%20updates/near/289182021" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/nightly.20updates.html#289182021">(Jul 11 2022 at 12:25)</a>:</h4>
<p>Hello!<br>
I wanted to test today's nightly (2022-07-11) and no file could be compiled. I think there was something wrong with the Lake file. Has the <code>lakefile.lean</code> format changed again?</p>



<a name="289182679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/nightly%20updates/near/289182679" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/nightly.20updates.html#289182679">(Jul 11 2022 at 12:30)</a>:</h4>
<p>Could you elaborate?</p>



<a name="289183097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/nightly%20updates/near/289183097" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/nightly.20updates.html#289183097">(Jul 11 2022 at 12:34)</a>:</h4>
<p>I just updated one project without problems</p>



<a name="289187338"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/nightly%20updates/near/289187338" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/nightly.20updates.html#289187338">(Jul 11 2022 at 13:09)</a>:</h4>
<p>This happens with every file:<br>
<a href="/user_uploads/3121/0Syktj5jXAJu_SmRyo42FgUi/image.png">image.png</a> <br>
Might as well be some incompatibility with the vscode extension, idk</p>
<div class="message_inline_image"><a href="/user_uploads/3121/0Syktj5jXAJu_SmRyo42FgUi/image.png" title="image.png"><img src="/user_uploads/3121/0Syktj5jXAJu_SmRyo42FgUi/image.png"></a></div>



<a name="289187674"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/nightly%20updates/near/289187674" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/nightly.20updates.html#289187674">(Jul 11 2022 at 13:11)</a>:</h4>
<p>What error do you get on line 1?</p>



<a name="289188605"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/nightly%20updates/near/289188605" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/nightly.20updates.html#289188605">(Jul 11 2022 at 13:18)</a>:</h4>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>object file
'/home/arthur/.elan/toolchains/leanprover--lean4---nightly-2022-07-11/lib/lean/Lean/Environment.olean'
of module Lean.Environment does not exist
</code></pre></div>



<a name="289189318"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/nightly%20updates/near/289189318" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/nightly.20updates.html#289189318">(Jul 11 2022 at 13:24)</a>:</h4>
<p>Looks like a corrupted elan download</p>



<a name="289189398"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/nightly%20updates/near/289189398" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/nightly.20updates.html#289189398">(Jul 11 2022 at 13:24)</a>:</h4>
<p>Try removing and reinstalling the nightly</p>



<a name="289190003"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/nightly%20updates/near/289190003" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/nightly.20updates.html#289190003">(Jul 11 2022 at 13:29)</a>:</h4>
<p>Will try soon</p>



<a name="289207185"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/nightly%20updates/near/289207185" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/nightly.20updates.html#289207185">(Jul 11 2022 at 15:24)</a>:</h4>
<p>It was in fact a corrupted toolchain. Removing it and reinstalling solved the issue.<br>
But it does ring a bell for a checksum verification since it seemed like a correct installation was being taken for granted when, in fact, my toolchain was corrupted</p>



<a name="289901804"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/nightly%20updates/near/289901804" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolas Rouquette <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/nightly.20updates.html#289901804">(Jul 17 2022 at 20:03)</a>:</h4>
<p>The <a href="https://github.com/yatima-inc/yatima-lang">Yatima-Lang Compiler</a> opens fine in vs code; it uses leanprover/lean4:nightly-2022-07-11.<br>
With leanprover/lean4:nightly-2022-07-12 or  leanprover/lean4:nightly-2022-07-17 there are two strange errors that I do not understand:<br>
<a href="/user_uploads/3121/fYudHdf9eCvufrovo8ZmiSBe/image.png">image.png</a><br>
Can someone explain what is going on?</p>
<div class="message_inline_image"><a href="/user_uploads/3121/fYudHdf9eCvufrovo8ZmiSBe/image.png" title="image.png"><img src="/user_uploads/3121/fYudHdf9eCvufrovo8ZmiSBe/image.png"></a></div>



<a name="289901907"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/nightly%20updates/near/289901907" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mac <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/nightly.20updates.html#289901907">(Jul 17 2022 at 20:05)</a>:</h4>
<p><code>Name</code> and <code>Expr</code> have too many parameters in their pattern match. The last parameter of each (e.g. <code>Name.hash</code>, <code>Expr.data</code>) was eliminated in favor of a <a href="https://github.com/leanprover/lean4/pull/1291">computed field</a>. Removing the trailing underscore in the pattern match should fix the issue.</p>



<a name="289902076"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/nightly%20updates/near/289902076" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolas Rouquette <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/nightly.20updates.html#289902076">(Jul 17 2022 at 20:09)</a>:</h4>
<p>Ah, right! Thanks.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>