---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/Type.20erasure.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Type.20erasure.html">Type erasure</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="289039971"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Type%20erasure/near/289039971" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ohhaimark <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Type.20erasure.html#289039971">(Jul 09 2022 at 12:52)</a>:</h4>
<p>Does lean implement some form of type erasure? If so, does  a pattern match that is the identity on erased terms become the identity function?</p>



<a name="289040965"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Type%20erasure/near/289040965" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> James Gallicchio <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Type.20erasure.html#289040965">(Jul 09 2022 at 13:15)</a>:</h4>
<p>yes! the compiler throws out almost all type information at runtime -- take a look at the <a href="https://leanprover.github.io/lean4/doc/dev/ffi.html?highlight=import#the-lean-abi">manual</a> for how types get converted to their C representation</p>



<a name="289041118"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Type%20erasure/near/289041118" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> James Gallicchio <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Type.20erasure.html#289041118">(Jul 09 2022 at 13:18)</a>:</h4>
<p>and if a pattern match only has one live branch (for instance, if all other branches end in <code>by contradiction</code>), then the match is turned into straight-line control flow</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>