---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/Trouble.20in.20VS.20Code.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Trouble.20in.20VS.20Code.html">Trouble in VS Code</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="252052555"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Trouble%20in%20VS%20Code/near/252052555" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Mascioli <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Trouble.20in.20VS.20Code.html#252052555">(Sep 05 2021 at 05:43)</a>:</h4>
<p>I just installed lean (via WSL) and have it working in terminal, but after installing the Lean package in VS Code I'm getting "Unable to start the lean server process: Error: spawn lean ENOENT --- The lean.executablePath "lean" may be incorrect, make sure it is a valid lean executab;e</p>
<p>I've added "C:\Users\Chris\.elan\bin\lean" (the response to which lean in git bash) to my system path</p>



<a name="252052751"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Trouble%20in%20VS%20Code/near/252052751" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Mascioli <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Trouble.20in.20VS.20Code.html#252052751">(Sep 05 2021 at 05:47)</a>:</h4>
<p>I also made WSL the default profile and lean works inside the terminal in VSCode</p>



<a name="252053724"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Trouble%20in%20VS%20Code/near/252053724" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Mascioli <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Trouble.20in.20VS.20Code.html#252053724">(Sep 05 2021 at 06:07)</a>:</h4>
<p>Resolved, installed 'lean4' instead of 'lean' as the VSCode extension</p>



<a name="303609816"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Trouble%20in%20VS%20Code/near/303609816" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Trouble.20in.20VS.20Code.html#303609816">(Oct 12 2022 at 11:47)</a>:</h4>
<p>Three times this month I have seen students with ENOENT errors in VS Code when trying to use Lean 3 projects. One just sent me a screenshot:<br>
<a href="/user_uploads/3121/kldXCH0CeAqX43nxkUbfm2eU/ENOENT.png">ENOENT.png</a> <br>
Right now the solution seems to be "random fiddling and hope that the error goes away" and sometimes it does. This is when attempting to run Lean 3 projects, sometimes on systems which seem to otherwise work fine (<code>lean -v</code> works fine from the command line etc). Can anyone guess a potential diagnosis? The executable is just <code>lean</code> for the problems I've seen.</p>
<div class="message_inline_image"><a href="/user_uploads/3121/kldXCH0CeAqX43nxkUbfm2eU/ENOENT.png" title="ENOENT.png"><img src="/user_uploads/3121/kldXCH0CeAqX43nxkUbfm2eU/ENOENT.png"></a></div>



<a name="303964861"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Trouble%20in%20VS%20Code/near/303964861" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Lovett <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Trouble.20in.20VS.20Code.html#303964861">(Oct 14 2022 at 05:14)</a>:</h4>
<p>I think with the lean3 extension you have to have your PATH setup right, whereas the lean4 extension does not require that.  The lean4 extension looks in the default elan install location and if it finds lean there then it uses it without you having to mess with your PATH.  So perhaps the lean3 extension could do something similar...</p>



<a name="303978169"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Trouble%20in%20VS%20Code/near/303978169" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Trouble.20in.20VS.20Code.html#303978169">(Oct 14 2022 at 07:44)</a>:</h4>
<p>Everyone I've talked to has said that the problem has gone away after a reboot btw</p>



<a name="304031198"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Trouble%20in%20VS%20Code/near/304031198" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Trouble.20in.20VS.20Code.html#304031198">(Oct 14 2022 at 13:25)</a>:</h4>
<p>Any commonalities in operating system for them?</p>



<a name="304031390"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Trouble%20in%20VS%20Code/near/304031390" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Trouble.20in.20VS.20Code.html#304031390">(Oct 14 2022 at 13:26)</a>:</h4>
<p>Not sure it's what's happening, but perhaps worth mentioning ENOENT can lie a bit -- it means "the executable isn't found", but if <code>lean</code> indeed exists, you can also get ENOENT (at least on macos) if e.g. the <code>cwd</code> that is being used to execute the process itself doesn't exist.</p>



<a name="304031767"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Trouble%20in%20VS%20Code/near/304031767" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Trouble.20in.20VS.20Code.html#304031767">(Oct 14 2022 at 13:28)</a>:</h4>
<p><a href="https://github.com/leanprover/vscode-lean/blob/79c91c31f3a33cfb205380f45ebba9d6954d8a31/src/server.ts#L107-L109">https://github.com/leanprover/vscode-lean/blob/79c91c31f3a33cfb205380f45ebba9d6954d8a31/src/server.ts#L107-L109</a> it looks like is where that message gets raised.. which I think is saying the original error message is also present there unchanged, so that's.. not helpful to diagnose it seems.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>