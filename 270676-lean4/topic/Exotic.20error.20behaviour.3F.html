---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/Exotic.20error.20behaviour.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Exotic.20error.20behaviour.3F.html">Exotic error behaviour?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="284762486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Exotic%20error%20behaviour%3F/near/284762486" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Exotic.20error.20behaviour.3F.html#284762486">(Jun 02 2022 at 15:34)</a>:</h4>
<p>Dear All,</p>
<p>if you look at the code below, the error message under <code>[new| f]</code> informs me that <code>elaboration function for '«term[new|_]»' has not been implemented  [new|f]</code> and then continues on to print all the comments below.  Is this expected?</p>
<p>Thanks!</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">declare_syntax_cat</span> <span class="n">new</span>
<span class="n">syntax</span> <span class="n">ident</span> <span class="o">:</span> <span class="n">new</span>
<span class="n">syntax</span> <span class="s2">"[new|"</span> <span class="n">new</span> <span class="s2">"]"</span> <span class="o">:</span> <span class="n">term</span>

<span class="kd">def</span> <span class="n">my_error_prints_the_comments_below</span> <span class="o">:</span> <span class="n">new</span> <span class="o">:=</span> <span class="o">[</span><span class="n">new</span><span class="bp">|</span> <span class="n">f</span><span class="o">]</span>
<span class="c1">-- The quick brown fox jumps over the lazy dog.</span>
<span class="c1">-- two lines</span>
<span class="c">/-</span><span class="cm"></span>
<span class="cm">The five boxing wizards jump quickly.</span>
<span class="cm">-/</span>

<span class="c">/-</span><span class="cm"></span>
<span class="cm">Lorem ipsum...</span>
<span class="cm">-/</span>

<span class="c">/-</span><span class="cm"> still going on -/</span>

<span class="c1">-- the stream continues</span>

<span class="c1">--/-  This is printed. -/</span>

<span class="c">/-</span><span class="cm">  am I printed? -/</span>

<span class="c1">-- how can it stop?</span>
</code></pre></div>



<a name="284762954"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Exotic%20error%20behaviour%3F/near/284762954" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Exotic.20error.20behaviour.3F.html#284762954">(Jun 02 2022 at 15:38)</a>:</h4>
<p>I confirm this on <code>leanprover/lean4:nightly-2022-05-04</code><br>
Which version are you using <span class="user-mention" data-user-id="321459">@Damiano Testa</span> ?</p>



<a name="284763070"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Exotic%20error%20behaviour%3F/near/284763070" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Exotic.20error.20behaviour.3F.html#284763070">(Jun 02 2022 at 15:39)</a>:</h4>
<p>If I understand correctly, I think that this is <code>leanprover/lean4:nightly-2022-06-02</code> (this is the text that the file <code>lean-toolchain</code> contains.)</p>



<a name="284763132"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Exotic%20error%20behaviour%3F/near/284763132" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Exotic.20error.20behaviour.3F.html#284763132">(Jun 02 2022 at 15:39)</a>:</h4>
<p>It is a very least not a direct bug because that information is part of the concrete syntax tree of the term</p>



<a name="284764061"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Exotic%20error%20behaviour%3F/near/284764061" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Exotic.20error.20behaviour.3F.html#284764061">(Jun 02 2022 at 15:46)</a>:</h4>
<p>I feel like this:<br>
<a href="/user_uploads/3121/UwLXJDKBCnXTswJerO7ar7nm/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/UwLXJDKBCnXTswJerO7ar7nm/image.png" title="image.png"><img src="/user_uploads/3121/UwLXJDKBCnXTswJerO7ar7nm/image.png"></a></div>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>