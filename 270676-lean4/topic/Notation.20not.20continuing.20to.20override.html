---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/Notation.20not.20continuing.20to.20override.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Notation.20not.20continuing.20to.20override.html">Notation not continuing to override</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="238865185"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Notation%20not%20continuing%20to%20override/near/238865185" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Brandon Brown <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Notation.20not.20continuing.20to.20override.html#238865185">(May 15 2021 at 03:49)</a>:</h4>
<p>For educational purposes I made my own <code>HasAdd</code> type class and override the default <code>+</code> infix notation:<br>
<code>infixl:65 (priority := high) " + " =&gt; HasAdd.add</code><br>
It's in a namespace called <code>nat</code><br>
I save it in a file with a bunch of other <code>nat</code> stuff.<br>
Then I imported it into another file and I open the <code>nat</code> namespace. But then if I try to use it <code>#reduce nat.zero + nat.zero</code><br>
I get an error: "failed to synthesize instance<br>
  HAdd nat nat ?m.6"</p>
<p>So my notation override is not persisting when I import it or am I missing something simple here?</p>



<a name="238867266"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Notation%20not%20continuing%20to%20override/near/238867266" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Daniel Selsam <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Notation.20not.20continuing.20to.20override.html#238867266">(May 15 2021 at 04:26)</a>:</h4>
<p>I can't reproduce this.</p>



<a name="238867275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Notation%20not%20continuing%20to%20override/near/238867275" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Daniel Selsam <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Notation.20not.20continuing.20to.20override.html#238867275">(May 15 2021 at 04:27)</a>:</h4>
<p>Can you post repro?</p>



<a name="238868620"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Notation%20not%20continuing%20to%20override/near/238868620" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Brandon Brown <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Notation.20not.20continuing.20to.20override.html#238868620">(May 15 2021 at 04:53)</a>:</h4>
<p>I just tried to duplicate in another set of files and it's working there. I must've done something wrong along the way</p>



<a name="238868991"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Notation%20not%20continuing%20to%20override/near/238868991" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Brandon Brown <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Notation.20not.20continuing.20to.20override.html#238868991">(May 15 2021 at 04:59)</a>:</h4>
<p>I guess it was a visual studio code issue. I ran <code>leanpkg build</code> again and restarted vs code and now it's working.</p>



<a name="238877461"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Notation%20not%20continuing%20to%20override/near/238877461" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Notation.20not.20continuing.20to.20override.html#238877461">(May 15 2021 at 07:37)</a>:</h4>
<p>Could have been <a href="https://github.com/leanprover-community/vscode-lean4#refreshing-file-dependencies">https://github.com/leanprover-community/vscode-lean4#refreshing-file-dependencies</a></p>



<a name="238878864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Notation%20not%20continuing%20to%20override/near/238878864" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Notation.20not.20continuing.20to.20override.html#238878864">(May 15 2021 at 08:03)</a>:</h4>
<p>Whenever I edit a file which is imported by another file I recompile with <code>leanpkg build</code> and then restart Lean, right now it seems like a sure fire way of avoiding trouble. It's so fast that it is not really an issue :-)</p>



<a name="238880712"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Notation%20not%20continuing%20to%20override/near/238880712" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Notation.20not.20continuing.20to.20override.html#238880712">(May 15 2021 at 08:33)</a>:</h4>
<p>I mean that works too, but you really shouldn't have to :)</p>



<a name="238880724"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Notation%20not%20continuing%20to%20override/near/238880724" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Notation.20not.20continuing.20to.20override.html#238880724">(May 15 2021 at 08:34)</a>:</h4>
<p>Please do complain if it doesn't work right from the editor</p>



<a name="238884600"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Notation%20not%20continuing%20to%20override/near/238884600" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Notation.20not.20continuing.20to.20override.html#238884600">(May 15 2021 at 09:44)</a>:</h4>
<p>When I was building the algebra hierarchy I was editing three files at once and was continually having to do this. I just assumed it was normal.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>