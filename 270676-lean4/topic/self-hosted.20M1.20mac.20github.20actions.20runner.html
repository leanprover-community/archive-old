---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/self-hosted.20M1.20mac.20github.20actions.20runner.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/self-hosted.20M1.20mac.20github.20actions.20runner.html">self-hosted M1 mac github actions runner</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="276638980"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/self-hosted%20M1%20mac%20github%20actions%20runner/near/276638980" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/self-hosted.20M1.20mac.20github.20actions.20runner.html#276638980">(Mar 25 2022 at 15:51)</a>:</h4>
<p>Hi has anyone looked into having a self-hosted github actions runner for Lean3 and Lean4 for native Apple M1 builds?</p>



<a name="276640227"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/self-hosted%20M1%20mac%20github%20actions%20runner/near/276640227" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/self-hosted.20M1.20mac.20github.20actions.20runner.html#276640227">(Mar 25 2022 at 15:58)</a>:</h4>
<p>I guess the problem is that the architecture isn't supported by github actions runner yet <a href="https://docs.github.com/en/actions/hosting-your-own-runners/about-self-hosted-runners#supported-architectures-and-operating-systems-for-self-hosted-runners">https://docs.github.com/en/actions/hosting-your-own-runners/about-self-hosted-runners#supported-architectures-and-operating-systems-for-self-hosted-runners</a><br>
Supporting this is tracked here <a href="https://github.com/actions/runner/issues/805">https://github.com/actions/runner/issues/805</a></p>



<a name="276640246"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/self-hosted%20M1%20mac%20github%20actions%20runner/near/276640246" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/self-hosted.20M1.20mac.20github.20actions.20runner.html#276640246">(Mar 25 2022 at 15:59)</a>:</h4>
<p>I think It was discussed a few times on Zulip (I'm only finding <a href="#narrow/stream/113488-general/topic/Apple.20Silicon/near/257705437">this thread</a> atm though), but I don't know of anyone actually doing it yet. <strong>edit</strong>: and of course no one has done it because of the architecture not being supported, whoops.</p>



<a name="276722681"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/self-hosted%20M1%20mac%20github%20actions%20runner/near/276722681" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/self-hosted.20M1.20mac.20github.20actions.20runner.html#276722681">(Mar 26 2022 at 12:03)</a>:</h4>
<p><a href="https://github.com/leanprover/lean4/pull/1076">Good news, everyone!</a></p>



<a name="276764661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/self-hosted%20M1%20mac%20github%20actions%20runner/near/276764661" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Xubai Wang <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/self-hosted.20M1.20mac.20github.20actions.20runner.html#276764661">(Mar 27 2022 at 04:35)</a>:</h4>
<p>It seems that these aarch64 builds are not packed into nightly release assets.<br>
There are only <code>lean-4.0.0-nightly-2022-03-26-linux.zip</code>.<br>
<a href="https://github.com/leanprover/lean4-nightly/releases/tag/nightly-2022-03-26">https://github.com/leanprover/lean4-nightly/releases/tag/nightly-2022-03-26</a></p>
<p>(Also I fail to install elan on android termux which is of <code>aarch64-linux-android</code> target due to openssl-sys issue. Does linux aarch64 build support android?)</p>



<a name="276775574"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/self-hosted%20M1%20mac%20github%20actions%20runner/near/276775574" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/self-hosted.20M1.20mac.20github.20actions.20runner.html#276775574">(Mar 27 2022 at 08:32)</a>:</h4>
<p>See <a href="https://github.com/leanprover/lean4-nightly/releases/tag/nightly-2022-03-27">https://github.com/leanprover/lean4-nightly/releases/tag/nightly-2022-03-27</a></p>



<a name="276780147"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/self-hosted%20M1%20mac%20github%20actions%20runner/near/276780147" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/self-hosted.20M1.20mac.20github.20actions.20runner.html#276780147">(Mar 27 2022 at 10:13)</a>:</h4>
<p>I don't know anything about Android</p>



<a name="276794207"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/self-hosted%20M1%20mac%20github%20actions%20runner/near/276794207" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/self-hosted.20M1.20mac.20github.20actions.20runner.html#276794207">(Mar 27 2022 at 15:44)</a>:</h4>
<p>Does elan need to be updated to know about arm64? It seems that elan is installing the x86 version of nightly lean for me still.</p>



<a name="276794311"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/self-hosted%20M1%20mac%20github%20actions%20runner/near/276794311" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/self-hosted.20M1.20mac.20github.20actions.20runner.html#276794311">(Mar 27 2022 at 15:47)</a>:</h4>
<p>(<span class="user-mention" data-user-id="414345">@Xubai Wang</span> FWIW I have no issues compiling Lean 4 from source in Termux, in case you haven't tried doing so.)</p>



<a name="276794398"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/self-hosted%20M1%20mac%20github%20actions%20runner/near/276794398" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/self-hosted.20M1.20mac.20github.20actions.20runner.html#276794398">(Mar 27 2022 at 15:49)</a>:</h4>
<p>Is there a plan to compile community Lean 3 for aarch64 mac now too? If so we can also send a PR to Homebrew to re-enable elan on ARM.</p>



<a name="276794991"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/self-hosted%20M1%20mac%20github%20actions%20runner/near/276794991" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/self-hosted.20M1.20mac.20github.20actions.20runner.html#276794991">(Mar 27 2022 at 16:03)</a>:</h4>
<p><span class="user-mention silent" data-user-id="121918">Edward Ayers</span> <a href="#narrow/stream/270676-lean4/topic/self-hosted.20M1.20mac.20github.20actions.20runner/near/276794207">said</a>:</p>
<blockquote>
<p>Does elan need to be updated to know about arm64? It seems that elan is installing the x86 version of nightly lean for me still.</p>
</blockquote>
<p><a href="https://github.com/leanprover/elan/pull/67">https://github.com/leanprover/elan/pull/67</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>