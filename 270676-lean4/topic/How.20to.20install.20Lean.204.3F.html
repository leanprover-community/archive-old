---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/How.20to.20install.20Lean.204.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/How.20to.20install.20Lean.204.3F.html">How to install Lean 4?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="221637801"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/How%20to%20install%20Lean%204%3F/near/221637801" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/How.20to.20install.20Lean.204.3F.html#221637801">(Jan 05 2021 at 11:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="123965">Bryan Gin-ge Chen</span> <a href="#narrow/stream/113488-general/topic/Lean.204.20released/near/221537506">said</a>:</p>
<blockquote>
<p>In case it's helpful for others, here are the steps I took to get a Lean 4 project up and running with <code>vscode-lean4</code>.</p>
<p>First, clone your favorite Lean 4 project, e.g. <a href="https://github.com/rwbarton/advent-of-lean-4">advent-of-lean-4</a>:</p>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>git clone https://github.com/rwbarton/advent-of-lean-4.git
</code></pre></div>
<p>Update <code>elan</code> if you haven’t recently:</p>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>elan self update
</code></pre></div>
<p>Then install lean4 using <code>elan</code>:</p>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>elan install leanprover/lean4:4.0.0-m1
</code></pre></div>
<p>Navigate to your lean4 project directory, set an override for the Lean version, and open VS Code:</p>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>cd advent-of-lean-4
elan override set leanprover-lean4-4.0.0-m1
code .
</code></pre></div>
<p>Open the extensions tab in VS Code, search for <code>vscode-lean4</code> and install it. It seems to override <code>vscode-lean</code> in all Lean projects, so for now I've disabled it globally and enabled it only in this workspace. Also, <code>vscode-lean</code> should also be disabled in Lean 4 projects, otherwise unicode shortcuts don't seem to work.</p>
<p>The extension should run when you open a <code>.lean</code> file and you can test the features mentioned in <a href="https://github.com/mhuisi/vscode-lean4#functionality">the README</a>. For example, you can go through each of the files in <code>advent-of-lean-4</code> and make the (relatively straightforward) fixes to get it to work with 4.0.0-m1.</p>
<p><strong>edit</strong>: added reminder to update <code>elan</code>.<br>
<strong>edit 2</strong>: added note about disabling <code>vscode-lean</code> to get unicode translation to work.</p>
</blockquote>



<a name="221668981"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/How%20to%20install%20Lean%204%3F/near/221668981" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/How.20to.20install.20Lean.204.3F.html#221668981">(Jan 05 2021 at 16:39)</a>:</h4>
<p>I added a <code>leanpkg.toml</code> file to <code>advent-of-lean-4</code> and fixed the programs that needed fixing, so a couple of the steps above can be skipped now.</p>



<a name="221796542"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/How%20to%20install%20Lean%204%3F/near/221796542" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gihan Marasingha <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/How.20to.20install.20Lean.204.3F.html#221796542">(Jan 06 2021 at 17:32)</a>:</h4>
<p>Using vscode, how do I evaluate the 'main' function in a Lean file (assuming that question makes sense)? E.g. <code>1/a.lean</code>in <code>advent-of-lean-4</code>.</p>



<a name="221797463"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/How%20to%20install%20Lean%204%3F/near/221797463" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/How.20to.20install.20Lean.204.3F.html#221797463">(Jan 06 2021 at 17:39)</a>:</h4>
<p><code>#eval main</code>?</p>



<a name="221799382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/How%20to%20install%20Lean%204%3F/near/221799382" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gihan Marasingha <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/How.20to.20install.20Lean.204.3F.html#221799382">(Jan 06 2021 at 17:55)</a>:</h4>
<p>I get an error message <code>failed to synthesize  Lean.Eval (List String → IO UInt32)</code> when I try that.</p>



<a name="221800542"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/How%20to%20install%20Lean%204%3F/near/221800542" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/How.20to.20install.20Lean.204.3F.html#221800542">(Jan 06 2021 at 18:04)</a>:</h4>
<p>I don't know how to do it in vscode, but from the command line you can run <code>lean --run 1/a.lean</code></p>



<a name="221800907"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/How%20to%20install%20Lean%204%3F/near/221800907" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gihan Marasingha <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/How.20to.20install.20Lean.204.3F.html#221800907">(Jan 06 2021 at 18:07)</a>:</h4>
<p><span class="user-mention" data-user-id="110032">@Reid Barton</span> Thanks. Do I need to build the project first? I'm getting an error message about no such file <code>a.in</code>.</p>



<a name="221800994"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/How%20to%20install%20Lean%204%3F/near/221800994" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/How.20to.20install.20Lean.204.3F.html#221800994">(Jan 06 2021 at 18:07)</a>:</h4>
<p>You need an input file such as the one provided by <a href="https://adventofcode.com/2020/day/1">https://adventofcode.com/2020/day/1</a></p>



<a name="221801059"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/How%20to%20install%20Lean%204%3F/near/221801059" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gihan Marasingha <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/How.20to.20install.20Lean.204.3F.html#221801059">(Jan 06 2021 at 18:08)</a>:</h4>
<p>Oh, thanks!</p>



<a name="221801099"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/How%20to%20install%20Lean%204%3F/near/221801099" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gihan Marasingha <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/How.20to.20install.20Lean.204.3F.html#221801099">(Jan 06 2021 at 18:08)</a>:</h4>
<p>Duh, I hadn't actually read the code.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>