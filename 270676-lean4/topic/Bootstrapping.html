---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/Bootstrapping.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Bootstrapping.html">Bootstrapping</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="284780416"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Bootstrapping/near/284780416" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hanting Zhang <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Bootstrapping.html#284780416">(Jun 02 2022 at 17:50)</a>:</h4>
<p>I'm looking through the Lean source code for <code>Expr</code> and I'm confused by how Lean in defining itself. Before <code>Expr</code> is defined, are Lean binaries elaborating Lean code into some kind of <code>Expr</code>s? If that question even makes any sense. I guess in general, how is Lean bootstrapping itself?</p>



<a name="284797860"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Bootstrapping/near/284797860" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Bootstrapping.html#284797860">(Jun 02 2022 at 20:09)</a>:</h4>
<p>It's no different from other bootstrapping compilers. The <code>Expr</code> that is compiled into the binary is completely independent from the <code>Expr</code> that is eventually elaborated in the stdlib and finally compiled into the next stage's binary.</p>



<a name="284798863"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Bootstrapping/near/284798863" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hanting Zhang <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Bootstrapping.html#284798863">(Jun 02 2022 at 20:17)</a>:</h4>
<p>Oh wait, I see. I was confusing myself thinking the binaries and <code>Expr</code> were working together in some way</p>



<a name="284845798"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Bootstrapping/near/284845798" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Bootstrapping.html#284845798">(Jun 03 2022 at 07:39)</a>:</h4>
<p>That would be true for elaborators etc. run in the interpreter, but all elaborators in the stdlib are built-in, i.e. not executed before being compiled into the next stage's binary</p>



<a name="284845927"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Bootstrapping/near/284845927" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Bootstrapping.html#284845927">(Jun 03 2022 at 07:41)</a>:</h4>
<p>We do run some other programs such as parsers in the interpreter though, which is when you get to the fun bootstrapping issues described in <a href="https://leanprover.github.io/lean4/doc/dev/bootstrap.html#further-bootstrapping-complications">https://leanprover.github.io/lean4/doc/dev/bootstrap.html#further-bootstrapping-complications</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>