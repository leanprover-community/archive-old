---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/unknown.20package.20in.20lean4-samples.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20in.20lean4-samples.html">unknown package in lean4-samples</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="296061897"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/unknown%20package%20in%20lean4-samples/near/296061897" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Eckl <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20in.20lean4-samples.html#296061897">(Aug 30 2022 at 09:04)</a>:</h4>
<p>I would like to play around with Lean 4, so I installed the system and copied the lean4-samples from GitHub. The  HelloWorld example works fine, but when loading <code>Main.lean</code>of the CSVParser example, the following error message appears in Lean Infoview:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">unknown</span> <span class="n">package</span> <span class="bp">'</span><span class="n">CSVParser'</span>
<span class="n">You</span> <span class="n">might</span> <span class="n">need</span> <span class="n">to</span> <span class="kn">open</span> <span class="bp">'...'</span> <span class="n">as</span> <span class="n">a</span> <span class="n">workspace</span> <span class="k">in</span> <span class="n">your</span> <span class="n">editor</span>
</code></pre></div>
<p>Since the import of <code>Lean.Data.Parsec</code> in <code>CSVParser.lean</code> works fine, I guess that it's not a problem with the general setup, but a missing path somewhere. But how and where to add it? As a path variable? In <code>lakefile.lean</code>?<br>
Strangely enough <code>lake build</code> worked without error message. But I am not sure how to test its output.</p>



<a name="296062619"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/unknown%20package%20in%20lean4-samples/near/296062619" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20in.20lean4-samples.html#296062619">(Aug 30 2022 at 09:09)</a>:</h4>
<p>Did you open the CSVParser directory as a workspace ("Open Folder..." in VS Code) as suggested in the error message?</p>



<a name="296064019"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/unknown%20package%20in%20lean4-samples/near/296064019" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Eckl <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20in.20lean4-samples.html#296064019">(Aug 30 2022 at 09:19)</a>:</h4>
<p>Worked! And I have missed this instruction in the Lean 4 Manual - sorry.</p>



<a name="296064159"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/unknown%20package%20in%20lean4-samples/near/296064159" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20in.20lean4-samples.html#296064159">(Aug 30 2022 at 09:20)</a>:</h4>
<p>Is there anything we can clarify in the message or manual?</p>



<a name="296064673"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/unknown%20package%20in%20lean4-samples/near/296064673" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Eckl <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20in.20lean4-samples.html#296064673">(Aug 30 2022 at 09:24)</a>:</h4>
<p>It's more that VS Code is misleading, because there is no option <code>Open Workspace ...</code> in the File menu. The instruction in the manual is obvious, once you read it.</p>



<a name="296075777"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/unknown%20package%20in%20lean4-samples/near/296075777" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Eckl <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20in.20lean4-samples.html#296075777">(Aug 30 2022 at 10:42)</a>:</h4>
<p>Next problem: I want to create a Lean package using <code>lake init Test</code> and then <code>lake build</code> to get an executable version. The following error messages appear:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">error</span><span class="o">:</span> <span class="bp">.\</span><span class="n">lakefile.lean</span><span class="o">:</span><span class="mi">1</span><span class="o">:</span><span class="mi">0</span><span class="o">:</span> <span class="n">error</span><span class="o">:</span> <span class="n">unknown</span> <span class="n">package</span> <span class="bp">'</span><span class="n">Init'</span>
<span class="n">error</span><span class="o">:</span> <span class="bp">.\</span><span class="n">lakefile.lean</span><span class="o">:</span><span class="mi">2</span><span class="o">:</span><span class="mi">0</span><span class="o">:</span> <span class="n">error</span><span class="o">:</span> <span class="n">unknown</span> <span class="kn">namespace</span> <span class="bp">'</span><span class="n">Lake'</span>
<span class="n">error</span><span class="o">:</span> <span class="bp">.\</span><span class="n">lakefile.lean</span><span class="o">:</span><span class="mi">4</span><span class="o">:</span><span class="mi">0</span><span class="o">:</span> <span class="n">error</span><span class="o">:</span> <span class="n">expected</span> <span class="n">command</span>
<span class="n">error</span><span class="o">:</span> <span class="bp">.\</span><span class="n">lakefile.lean</span><span class="o">:</span><span class="mi">13</span><span class="o">:</span><span class="mi">0</span><span class="o">:</span> <span class="n">error</span><span class="o">:</span> <span class="n">expected</span> <span class="bp">'</span><span class="n">abbrev'</span><span class="o">,</span> <span class="bp">'</span><span class="kd">axiom</span><span class="bp">'</span><span class="o">,</span> <span class="bp">'</span><span class="n">builtin_initialize'</span><span class="o">,</span> <span class="bp">'</span><span class="kd">class</span><span class="bp">'</span><span class="o">,</span> <span class="bp">'</span><span class="kd">def</span><span class="bp">'</span><span class="o">,</span> <span class="bp">'</span><span class="kd">example</span><span class="bp">'</span><span class="o">,</span> <span class="bp">'</span><span class="kd">inductive</span><span class="bp">'</span><span class="o">,</span> <span class="bp">'</span><span class="n">initialize'</span><span class="o">,</span> <span class="bp">'</span><span class="kd">instance</span><span class="bp">'</span><span class="o">,</span> <span class="bp">'</span><span class="n">opaque'</span><span class="o">,</span> <span class="bp">'</span><span class="kd">structure</span><span class="bp">'</span><span class="o">,</span> <span class="bp">'</span><span class="n">syntax'</span> <span class="n">or</span> <span class="bp">'</span><span class="kd">theorem</span><span class="bp">'</span>
<span class="n">error</span><span class="o">:</span> <span class="bp">.\</span><span class="n">lakefile.lean</span><span class="o">:</span> <span class="n">package</span> <span class="n">configuration</span> <span class="n">has</span> <span class="n">errors</span>
</code></pre></div>
<p><code>lakefile.lean</code> produces the error message <code>unknown package 'Init'</code> in the first line <code>import Lake</code>.</p>



<a name="296092926"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/unknown%20package%20in%20lean4-samples/near/296092926" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Eckl <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20in.20lean4-samples.html#296092926">(Aug 30 2022 at 12:42)</a>:</h4>
<p><code>elan self update</code> yields</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">←</span><span class="o">[</span><span class="mi">1</span><span class="n">minfo</span><span class="o">:</span> <span class="bp">←</span><span class="o">[</span><span class="mi">0</span><span class="n">mchecking</span> <span class="n">for</span> <span class="n">self</span><span class="bp">-</span><span class="n">updates</span>
<span class="bp">←</span><span class="o">[</span><span class="mi">31</span><span class="n">m</span><span class="bp">←</span><span class="o">[</span><span class="mi">1</span><span class="n">merror</span><span class="o">:</span> <span class="bp">←</span><span class="o">[</span><span class="mi">0</span><span class="n">mcould</span> <span class="n">not</span> <span class="n">create</span> <span class="n">link</span> <span class="k">from</span> <span class="bp">'</span><span class="n">C</span><span class="o">:</span><span class="bp">\</span><span class="n">Users</span><span class="bp">\</span><span class="n">Thomas</span><span class="bp">\.</span><span class="n">elan</span><span class="bp">\</span><span class="n">bin</span><span class="bp">\</span><span class="n">elan.exe'</span> <span class="n">to</span> <span class="bp">'</span><span class="n">C</span><span class="o">:</span><span class="bp">\</span><span class="n">Users</span><span class="bp">\</span><span class="n">Thomas</span><span class="bp">\.</span><span class="n">elan</span><span class="bp">\</span><span class="n">bin</span><span class="bp">\</span><span class="n">lake.exe'</span>
</code></pre></div>



<a name="296093322"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/unknown%20package%20in%20lean4-samples/near/296093322" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20in.20lean4-samples.html#296093322">(Aug 30 2022 at 12:44)</a>:</h4>
<p>This could mean that there is still a <code>lake.exe</code> running</p>



<a name="296128460"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/unknown%20package%20in%20lean4-samples/near/296128460" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Eckl <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20in.20lean4-samples.html#296128460">(Aug 30 2022 at 14:18)</a>:</h4>
<p>I couldn't see a <code>lake</code> in the task manager, and a restart of windows also didn't change the message.</p>



<a name="296133356"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/unknown%20package%20in%20lean4-samples/near/296133356" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Eckl <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20in.20lean4-samples.html#296133356">(Aug 30 2022 at 14:23)</a>:</h4>
<p>The <code>Test.lean</code> file  yields the error message</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">`</span><span class="n">c</span><span class="o">:</span><span class="bp">\</span><span class="n">Users</span><span class="bp">\</span><span class="n">Thomas</span><span class="bp">\.</span><span class="n">elan</span><span class="bp">\</span><span class="n">toolchains</span><span class="bp">\</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-08-12\bin\lake.exe print-paths Init` failed:</span>
</code></pre></div>



<a name="296141510"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/unknown%20package%20in%20lean4-samples/near/296141510" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Eckl <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20in.20lean4-samples.html#296141510">(Aug 30 2022 at 15:03)</a>:</h4>
<p>Is it a problem that there are different versions of <code>lake</code> around, one in <code>C:\Users\Thomas\.elan\bin\lake.exe</code>, one in <code>C:\Users\Thomas\.elan\toolchains\leanprover--lean4---nightly-2022-08-12\bin</code>?</p>



<a name="296141735"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/unknown%20package%20in%20lean4-samples/near/296141735" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20in.20lean4-samples.html#296141735">(Aug 30 2022 at 15:04)</a>:</h4>
<p>No, that's as expected. Unfortunately I'm not sure what else to say, I've never seen this error before, and I don't use Windows myself.</p>



<a name="296146663"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/unknown%20package%20in%20lean4-samples/near/296146663" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Eckl <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20in.20lean4-samples.html#296146663">(Aug 30 2022 at 15:28)</a>:</h4>
<p>I changed the <code>lean-toolchain</code> from <code>leanprover/lean4:nightly-2022-08-12</code> to <code>leanprover/lean4:nightly</code>, and then the error messages for the Llean-files in the <code>Test</code>-folder disappear, and <code>lake build</code> works.</p>



<a name="296146826"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/unknown%20package%20in%20lean4-samples/near/296146826" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20in.20lean4-samples.html#296146826">(Aug 30 2022 at 15:29)</a>:</h4>
<p>What does <code>lean --version</code> report now? If it's newer, then I suppose we're good.</p>



<a name="296147122"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/unknown%20package%20in%20lean4-samples/near/296147122" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Eckl <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20in.20lean4-samples.html#296147122">(Aug 30 2022 at 15:30)</a>:</h4>
<p><code>Lean (version 4.0.0-nightly-2022-08-12, commit 104196e599b3, Release)</code> - seems not to have changed.</p>



<a name="296147217"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/unknown%20package%20in%20lean4-samples/near/296147217" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20in.20lean4-samples.html#296147217">(Aug 30 2022 at 15:31)</a>:</h4>
<p>Wow, okay...</p>



<a name="296147953"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/unknown%20package%20in%20lean4-samples/near/296147953" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Eckl <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20in.20lean4-samples.html#296147953">(Aug 30 2022 at 15:33)</a>:</h4>
<p>When I try to update lean with <code>elan default leanprover/lean4:nightly</code> I always get the message</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">←</span><span class="o">[</span><span class="mi">1</span><span class="n">minfo</span><span class="o">:</span> <span class="bp">←</span><span class="o">[</span><span class="mi">0</span><span class="n">musing</span> <span class="n">existing</span> <span class="n">install</span> <span class="n">for</span> <span class="bp">'</span><span class="n">leanprover</span><span class="bp">/</span><span class="n">lean4</span><span class="o">:</span><span class="n">nightly'</span>
<span class="bp">←</span><span class="o">[</span><span class="mi">1</span><span class="n">minfo</span><span class="o">:</span> <span class="bp">←</span><span class="o">[</span><span class="mi">0</span><span class="n">mdefault</span> <span class="n">toolchain</span> <span class="n">set</span> <span class="n">to</span> <span class="bp">'</span><span class="n">leanprover</span><span class="bp">/</span><span class="n">lean4</span><span class="o">:</span><span class="n">nightly'</span>

  <span class="bp">←</span><span class="o">[</span><span class="mi">1</span><span class="n">mleanprover</span><span class="bp">/</span><span class="n">lean4</span><span class="o">:</span><span class="n">nightly</span> <span class="n">unchanged</span><span class="bp">←</span><span class="o">[</span><span class="mi">0</span><span class="n">m</span> <span class="bp">-</span> <span class="n">Lean</span> <span class="o">(</span><span class="n">version</span> <span class="mi">4</span><span class="bp">.</span><span class="mi">0</span><span class="bp">.</span><span class="mi">0</span><span class="bp">-</span><span class="n">nightly</span><span class="bp">-</span><span class="mi">2022</span><span class="bp">-</span><span class="mi">08</span><span class="bp">-</span><span class="mi">12</span><span class="o">,</span> <span class="n">commit</span> <span class="mi">104196</span><span class="n">e599b3</span><span class="o">,</span> <span class="n">Release</span><span class="o">)</span>
</code></pre></div>



<a name="296149097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/unknown%20package%20in%20lean4-samples/near/296149097" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20in.20lean4-samples.html#296149097">(Aug 30 2022 at 15:35)</a>:</h4>
<p><code>default</code> doesn't update, <code>update</code> does</p>



<a name="296151623"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/unknown%20package%20in%20lean4-samples/near/296151623" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Eckl <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20in.20lean4-samples.html#296151623">(Aug 30 2022 at 15:49)</a>:</h4>
<p>The <code>elan</code> version is <code>elan 1.4.1 (6a7f30d8e 2022-04-15)</code></p>



<a name="296154338"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/unknown%20package%20in%20lean4-samples/near/296154338" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Eckl <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20in.20lean4-samples.html#296154338">(Aug 30 2022 at 16:00)</a>:</h4>
<p><code>elan update leanprover/lean4:nightly</code> indeed updated lean,  and the test files work fine! <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="296251012"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/unknown%20package%20in%20lean4-samples/near/296251012" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Lovett <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/unknown.20package.20in.20lean4-samples.html#296251012">(Aug 31 2022 at 03:21)</a>:</h4>
<p>Regarding the top of this thread, I added the following missing info to the top level <a href="http://readme.me">readme.me</a> in the lean4-samples:</p>
<blockquote>
<p>Then you need to open each sample folder separately in VS Code using the <code>File-&gt;Open folder...</code> menu.</p>
</blockquote>
<p>Note: there are no "workspace" samples yet.  but there is one checked into <a href="https://github.com/leanprover/vscode-lean4/tree/master/vscode-lean4/test/test-fixtures/multi">vscode-lean4</a>.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>