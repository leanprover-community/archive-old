---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/elan.2C.20leanpkg.20and.20lake.2E.2E.2E.20I.20am.20lost.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/elan.2C.20leanpkg.20and.20lake.2E.2E.2E.20I.20am.20lost.html">elan, leanpkg and lake... I am lost</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="294367108"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/elan%2C%20leanpkg%20and%20lake...%20I%20am%20lost/near/294367108" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexandre Rademaker <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/elan.2C.20leanpkg.20and.20lake.2E.2E.2E.20I.20am.20lost.html#294367108">(Aug 19 2022 at 21:40)</a>:</h4>
<p>OK, after one day fighting with Haskell tools (no solutions yet BTW, <a href="https://github.com/emacs-lsp/lsp-haskell/issues/154">https://github.com/emacs-lsp/lsp-haskell/issues/154</a>). I planned to have some peaceful time with Lean... but... </p>
<p>Elan supports both Lean4 and Lean3, right? But the repo says nothing about Lake, anyway, ignoring that below...</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">%</span> <span class="n">elan</span> <span class="k">show</span>
<span class="n">installed</span> <span class="n">toolchains</span>
<span class="c1">--------------------</span>

<span class="n">stable</span>
<span class="n">nightly</span>
<span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">/</span><span class="n">lean</span><span class="o">:</span><span class="mi">3</span><span class="bp">.</span><span class="mi">23</span><span class="bp">.</span><span class="mi">0</span>
<span class="n">leanprover</span><span class="bp">/</span><span class="n">lean4</span><span class="o">:</span><span class="n">nightly</span>
<span class="n">leanprover</span><span class="bp">/</span><span class="n">lean4</span><span class="o">:</span><span class="n">nightly</span><span class="bp">-</span><span class="mi">2022</span><span class="bp">-</span><span class="mi">07</span><span class="bp">-</span><span class="mi">29</span>
<span class="n">leanprover</span><span class="bp">/</span><span class="n">lean4</span><span class="o">:</span><span class="n">nightly</span><span class="bp">-</span><span class="mi">2022</span><span class="bp">-</span><span class="mi">08</span><span class="bp">-</span><span class="mi">10</span>
<span class="n">leanprover</span><span class="bp">/</span><span class="n">lean4</span><span class="o">:</span><span class="n">stable</span> <span class="o">(</span><span class="n">default</span><span class="o">)</span>

<span class="n">active</span> <span class="n">toolchain</span>
<span class="c1">----------------</span>

<span class="n">leanprover</span><span class="bp">/</span><span class="n">lean4</span><span class="o">:</span><span class="n">stable</span> <span class="o">(</span><span class="n">default</span><span class="o">)</span>
<span class="n">Lean</span> <span class="o">(</span><span class="n">version</span> <span class="mi">4</span><span class="bp">.</span><span class="mi">0</span><span class="bp">.</span><span class="mi">0</span><span class="o">,</span> <span class="n">commit</span> <span class="mi">7</span><span class="n">dbfaf9b7519</span><span class="o">,</span> <span class="n">Release</span><span class="o">)</span>
</code></pre></div>
<p>I thought, let me try to update Lean4 to the last version</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">%</span> <span class="n">elan</span> <span class="n">update</span> <span class="n">leanprover</span><span class="bp">/</span><span class="n">lean4</span><span class="o">:</span><span class="n">nightly</span>
<span class="n">info</span><span class="o">:</span> <span class="n">syncing</span> <span class="n">channel</span> <span class="n">updates</span> <span class="n">for</span> <span class="bp">'</span><span class="n">nightly'</span>
<span class="n">info</span><span class="o">:</span> <span class="n">latest</span> <span class="n">update</span> <span class="n">on</span> <span class="n">nightly</span><span class="o">,</span> <span class="n">lean</span> <span class="n">version</span> <span class="n">nightly</span><span class="bp">-</span><span class="mi">2022</span><span class="bp">-</span><span class="mi">08</span><span class="bp">-</span><span class="mi">19</span>
<span class="n">info</span><span class="o">:</span> <span class="n">downloading</span> <span class="n">component</span> <span class="bp">'</span><span class="n">lean'</span>
<span class="n">Total</span><span class="o">:</span> <span class="mi">132</span><span class="bp">.</span><span class="mi">1</span> <span class="n">MiB</span> <span class="n">Speed</span><span class="o">:</span>  <span class="mi">11</span><span class="bp">.</span><span class="mi">1</span> <span class="n">MiB</span><span class="bp">/</span><span class="n">s</span>
<span class="n">info</span><span class="o">:</span> <span class="n">installing</span> <span class="n">component</span> <span class="bp">'</span><span class="n">lean'</span>

  <span class="n">leanprover</span><span class="bp">/</span><span class="n">lean4</span><span class="o">:</span><span class="n">nightly</span> <span class="n">updated</span> <span class="bp">-</span> <span class="o">(</span><span class="n">lean</span> <span class="n">does</span> <span class="n">not</span> <span class="n">exist</span><span class="o">)</span>
</code></pre></div>
<p>Wow! What the 'lean does not exist' means?  Let us see what happen.. nothing:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">ar</span><span class="bp">@</span><span class="n">tenis</span> <span class="bp">~</span> <span class="bp">%</span> <span class="n">elan</span> <span class="k">show</span>
<span class="n">installed</span> <span class="n">toolchains</span>
<span class="c1">--------------------</span>

<span class="n">stable</span>
<span class="n">nightly</span>
<span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">/</span><span class="n">lean</span><span class="o">:</span><span class="mi">3</span><span class="bp">.</span><span class="mi">23</span><span class="bp">.</span><span class="mi">0</span>
<span class="n">leanprover</span><span class="bp">/</span><span class="n">lean4</span><span class="o">:</span><span class="n">nightly</span>
<span class="n">leanprover</span><span class="bp">/</span><span class="n">lean4</span><span class="o">:</span><span class="n">nightly</span><span class="bp">-</span><span class="mi">2022</span><span class="bp">-</span><span class="mi">07</span><span class="bp">-</span><span class="mi">29</span>
<span class="n">leanprover</span><span class="bp">/</span><span class="n">lean4</span><span class="o">:</span><span class="n">nightly</span><span class="bp">-</span><span class="mi">2022</span><span class="bp">-</span><span class="mi">08</span><span class="bp">-</span><span class="mi">10</span>
<span class="n">leanprover</span><span class="bp">/</span><span class="n">lean4</span><span class="o">:</span><span class="n">stable</span> <span class="o">(</span><span class="n">default</span><span class="o">)</span>

<span class="n">active</span> <span class="n">toolchain</span>
<span class="c1">----------------</span>

<span class="n">leanprover</span><span class="bp">/</span><span class="n">lean4</span><span class="o">:</span><span class="n">stable</span> <span class="o">(</span><span class="n">default</span><span class="o">)</span>
<span class="n">Lean</span> <span class="o">(</span><span class="n">version</span> <span class="mi">4</span><span class="bp">.</span><span class="mi">0</span><span class="bp">.</span><span class="mi">0</span><span class="o">,</span> <span class="n">commit</span> <span class="mi">7</span><span class="n">dbfaf9b7519</span><span class="o">,</span> <span class="n">Release</span><span class="o">)</span>
<span class="bp">``</span>

<span class="n">I</span> <span class="n">prefer</span> <span class="n">Emacs</span><span class="o">,</span> <span class="n">but</span> <span class="n">I</span> <span class="n">watch</span> <span class="n">the</span> <span class="n">video</span> <span class="n">pointed</span> <span class="kd">by</span> <span class="n">the</span> <span class="n">docs</span> <span class="n">to</span> <span class="n">learn</span> <span class="n">something.</span> <span class="n">The</span> <span class="n">video</span> <span class="n">talks</span> <span class="n">about</span> <span class="n">the</span> <span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">github.com</span><span class="bp">/</span><span class="n">leanprover</span><span class="bp">/</span><span class="n">lean4</span><span class="bp">-</span><span class="n">samples</span><span class="bp">/</span><span class="n">blob</span><span class="bp">/</span><span class="n">main</span><span class="bp">/</span><span class="n">HelloWorld</span><span class="bp">/</span><span class="n">lean</span><span class="bp">-</span><span class="n">toolchain</span> <span class="kd">example</span><span class="bp">.</span> <span class="n">Note</span> <span class="n">that</span> <span class="n">only</span> <span class="bp">`</span><span class="n">leanprover</span><span class="bp">/</span><span class="n">lean4</span><span class="o">:</span><span class="n">nightly</span><span class="bp">`</span> <span class="n">was</span> <span class="n">defined</span> <span class="n">and</span> <span class="n">VS</span> <span class="n">Code</span> <span class="n">seems</span> <span class="n">to</span> <span class="n">work</span> <span class="n">well</span> <span class="k">with</span> <span class="n">that.</span> <span class="n">But</span> <span class="n">not</span> <span class="n">Emacs..</span> <span class="n">I</span> <span class="n">changed</span> <span class="n">my</span> <span class="n">project</span> <span class="n">to</span> <span class="n">that</span> <span class="n">and</span>  <span class="n">I</span> <span class="n">got</span> <span class="n">error</span> <span class="k">in</span> <span class="n">the</span> <span class="bp">`</span><span class="n">lean4</span><span class="bp">-</span><span class="n">lsp</span><span class="o">:</span><span class="n">stderr</span><span class="bp">`</span> <span class="n">buffer</span><span class="o">:</span>
</code></pre></div>
<p>error: toolchain 'leanprover/lean4:nightly' does not have the binary <code>/Users/ar/.elan/toolchains/leanprover--lean4---nightly/bin/lean</code></p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">I</span> <span class="n">finally</span> <span class="n">tried</span> <span class="n">to</span> <span class="n">install</span> <span class="n">the</span> <span class="n">version</span> <span class="n">given</span> <span class="n">the</span> <span class="n">complete</span> <span class="n">date</span>
</code></pre></div>
<p>% elan toolchain install leanprover/lean4:nightly-2022-08-15<br>
info: downloading component 'lean'<br>
Total: 132.1 MiB Speed:   3.9 MiB/s<br>
info: installing component 'lean'</p>
<p>leanprover/lean4:nightly-2022-08-15 installed - (lean does not exist)</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">So</span> <span class="n">what</span> <span class="n">is</span> <span class="n">going</span> <span class="n">on</span> <span class="n">here</span><span class="bp">?</span> <span class="n">How</span> <span class="n">can</span> <span class="n">I</span> <span class="k">have</span> <span class="n">only</span> <span class="n">the</span> <span class="n">nightly</span> <span class="n">and</span> <span class="n">maybe</span> <span class="n">lean3</span><span class="bp">-</span><span class="n">community</span> <span class="n">toolchains</span> <span class="n">and</span> <span class="k">let</span> <span class="n">elan</span> <span class="n">update</span> <span class="n">them</span> <span class="n">for</span> <span class="n">me</span> <span class="n">whenever</span> <span class="n">I</span> <span class="n">run</span> <span class="bp">`</span><span class="n">elan</span> <span class="n">update</span><span class="bp">`?</span>
</code></pre></div>



<a name="294381244"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/elan%2C%20leanpkg%20and%20lake...%20I%20am%20lost/near/294381244" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Juan Pablo Romero <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/elan.2C.20leanpkg.20and.20lake.2E.2E.2E.20I.20am.20lost.html#294381244">(Aug 20 2022 at 01:02)</a>:</h4>
<p>I've noticed that some of the daily builds are broken, as in, the artifact is missing some binaries. <br>
A working build should look like this:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">$</span>  <span class="n">ls</span> <span class="bp">-</span><span class="n">l</span> <span class="bp">~/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-08-09/bin</span>
<span class="bp">-</span><span class="n">rwxr</span><span class="bp">-</span><span class="n">xr</span><span class="bp">-</span><span class="n">x</span>  <span class="mi">1</span> <span class="n">jpablo</span>  <span class="n">staff</span>   <span class="mi">167</span><span class="n">K</span> <span class="n">Aug</span>  <span class="mi">9</span> <span class="mi">00</span><span class="o">:</span><span class="mi">19</span> <span class="n">clang</span>
<span class="bp">-</span><span class="n">rwxr</span><span class="bp">-</span><span class="n">xr</span><span class="bp">-</span><span class="n">x</span>  <span class="mi">1</span> <span class="n">jpablo</span>  <span class="n">staff</span>   <span class="mi">2</span><span class="bp">.</span><span class="mi">5</span><span class="n">M</span> <span class="n">Aug</span>  <span class="mi">9</span> <span class="mi">00</span><span class="o">:</span><span class="mi">28</span> <span class="n">lake</span>
<span class="bp">-</span><span class="n">rwxr</span><span class="bp">-</span><span class="n">xr</span><span class="bp">-</span><span class="n">x</span>  <span class="mi">1</span> <span class="n">jpablo</span>  <span class="n">staff</span>   <span class="mi">4</span><span class="bp">.</span><span class="mi">2</span><span class="n">M</span> <span class="n">Aug</span>  <span class="mi">9</span> <span class="mi">00</span><span class="o">:</span><span class="mi">19</span> <span class="n">ld64.lld</span>
<span class="bp">-</span><span class="n">rwxr</span><span class="bp">-</span><span class="n">xr</span><span class="bp">-</span><span class="n">x</span>  <span class="mi">1</span> <span class="n">jpablo</span>  <span class="n">staff</span>    <span class="mi">49</span><span class="n">K</span> <span class="n">Aug</span>  <span class="mi">9</span> <span class="mi">00</span><span class="o">:</span><span class="mi">27</span> <span class="n">lean</span>
<span class="bp">-</span><span class="n">rwxr</span><span class="bp">-</span><span class="n">xr</span><span class="bp">-</span><span class="n">x</span>  <span class="mi">1</span> <span class="n">jpablo</span>  <span class="n">staff</span>    <span class="mi">70</span><span class="n">K</span> <span class="n">Aug</span>  <span class="mi">9</span> <span class="mi">00</span><span class="o">:</span><span class="mi">27</span> <span class="n">leanc</span>
<span class="bp">-</span><span class="n">rwxr</span><span class="bp">-</span><span class="n">xr</span><span class="bp">-</span><span class="n">x</span>  <span class="mi">1</span> <span class="n">jpablo</span>  <span class="n">staff</span>   <span class="mi">839</span><span class="n">B</span> <span class="n">Aug</span>  <span class="mi">9</span> <span class="mi">00</span><span class="o">:</span><span class="mi">18</span> <span class="n">leanmake</span>
<span class="bp">-</span><span class="n">rwxr</span><span class="bp">-</span><span class="n">xr</span><span class="bp">-</span><span class="n">x</span>  <span class="mi">1</span> <span class="n">jpablo</span>  <span class="n">staff</span>   <span class="mi">101</span><span class="n">K</span> <span class="n">Aug</span>  <span class="mi">9</span> <span class="mi">00</span><span class="o">:</span><span class="mi">19</span> <span class="n">llvm</span><span class="bp">-</span><span class="n">ar</span>
</code></pre></div>
<p>If it's missing something you'll get the error you mentioned.</p>



<a name="294381268"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/elan%2C%20leanpkg%20and%20lake...%20I%20am%20lost/near/294381268" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Juan Pablo Romero <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/elan.2C.20leanpkg.20and.20lake.2E.2E.2E.20I.20am.20lost.html#294381268">(Aug 20 2022 at 01:03)</a>:</h4>
<p>the workaround is to delete the broken build and try another from a different date</p>



<a name="294388828"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/elan%2C%20leanpkg%20and%20lake...%20I%20am%20lost/near/294388828" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Lovett <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/elan.2C.20leanpkg.20and.20lake.2E.2E.2E.20I.20am.20lost.html#294388828">(Aug 20 2022 at 03:29)</a>:</h4>
<p>Ok, I think I know what's going on.  We recently changed the lean4-samples to use <code>leanprover/lean4:nightly</code> so that our <a href="https://github.com/leanprover/lean4-samples/actions/runs/2890377572">nightly schedules builds</a> would pick up any new build breaks from the latest lean bits that it installs.  When you don't specify a date, elan installs the latest.  BUT, here's the catch.  If you already have a very old version of <code>leanprover/lean4:nightly</code> installed, elan does not update it.  It's kind of operating as a cache.  So this is what I've been doing to fix that:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">elan</span> <span class="n">toolchain</span> <span class="n">uninstall</span> <span class="n">leanprover</span><span class="bp">/</span><span class="n">lean4</span><span class="o">:</span><span class="n">nightly</span>
<span class="n">elan</span> <span class="n">toolchain</span> <span class="n">install</span> <span class="n">leanprover</span><span class="bp">/</span><span class="n">lean4</span><span class="o">:</span><span class="n">nightly</span>
</code></pre></div>
<p>If you do that, now the lean4-samples should behave like you see in the <a href="https://github.com/leanprover/lean4-samples/actions/runs/2890377572">CI build</a>.</p>



<a name="294417912"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/elan%2C%20leanpkg%20and%20lake...%20I%20am%20lost/near/294417912" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/elan.2C.20leanpkg.20and.20lake.2E.2E.2E.20I.20am.20lost.html#294417912">(Aug 20 2022 at 10:01)</a>:</h4>
<p>You can use <code>elan update</code> for that, like in the first post</p>



<a name="294452198"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/elan%2C%20leanpkg%20and%20lake...%20I%20am%20lost/near/294452198" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexandre Rademaker <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/elan.2C.20leanpkg.20and.20lake.2E.2E.2E.20I.20am.20lost.html#294452198">(Aug 20 2022 at 15:03)</a>:</h4>
<p>but <span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span>  and <span class="user-mention" data-user-id="434989">@Chris Lovett</span> , see the outputs</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">%</span> <span class="n">elan</span> <span class="k">show</span>
<span class="n">no</span> <span class="n">active</span> <span class="n">toolchain</span>

<span class="n">ar</span><span class="bp">@</span><span class="n">tenis</span> <span class="bp">~</span> <span class="bp">%</span> <span class="n">elan</span> <span class="bp">-</span><span class="n">v</span> <span class="n">toolchain</span> <span class="n">install</span> <span class="n">leanprover</span><span class="bp">/</span><span class="n">lean4</span><span class="o">:</span><span class="n">nightly</span>
<span class="n">verbose</span><span class="o">:</span> <span class="n">updating</span> <span class="n">existing</span> <span class="n">install</span> <span class="n">for</span> <span class="bp">'</span><span class="n">leanprover</span><span class="bp">/</span><span class="n">lean4</span><span class="o">:</span><span class="n">nightly'</span>
<span class="n">verbose</span><span class="o">:</span> <span class="n">toolchain</span> <span class="n">directory</span><span class="o">:</span> <span class="bp">'/</span><span class="n">Users</span><span class="bp">/</span><span class="n">ar</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly'</span>
<span class="n">info</span><span class="o">:</span> <span class="n">syncing</span> <span class="n">channel</span> <span class="n">updates</span> <span class="n">for</span> <span class="bp">'</span><span class="n">nightly'</span>
<span class="n">info</span><span class="o">:</span> <span class="n">latest</span> <span class="n">update</span> <span class="n">on</span> <span class="n">nightly</span><span class="o">,</span> <span class="n">lean</span> <span class="n">version</span> <span class="n">nightly</span><span class="bp">-</span><span class="mi">2022</span><span class="bp">-</span><span class="mi">08</span><span class="bp">-</span><span class="mi">20</span>
<span class="n">info</span><span class="o">:</span> <span class="n">downloading</span> <span class="n">component</span> <span class="bp">'</span><span class="n">lean'</span>
<span class="n">verbose</span><span class="o">:</span> <span class="n">creating</span> <span class="n">temp</span> <span class="n">file</span><span class="o">:</span> <span class="bp">/</span><span class="n">Users</span><span class="bp">/</span><span class="n">ar</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">tmp</span><span class="bp">/</span><span class="mi">6</span><span class="n">jp35185in2g9hjy_file</span>
<span class="n">verbose</span><span class="o">:</span> <span class="n">downloading</span> <span class="n">file</span> <span class="k">from</span><span class="o">:</span> <span class="bp">'</span><span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">github.com</span><span class="bp">/</span><span class="n">leanprover</span><span class="bp">/</span><span class="n">lean4</span><span class="bp">-</span><span class="n">nightly</span><span class="bp">/</span><span class="n">releases</span><span class="bp">/</span><span class="n">tag</span><span class="bp">/</span><span class="n">nightly</span><span class="bp">-</span><span class="mi">2022</span><span class="bp">-</span><span class="mi">08</span><span class="bp">-</span><span class="mi">20</span><span class="bp">'</span>
<span class="n">verbose</span><span class="o">:</span> <span class="n">downloading</span> <span class="k">with</span> <span class="n">curl</span>
<span class="n">verbose</span><span class="o">:</span> <span class="n">creating</span> <span class="n">temp</span> <span class="n">file</span><span class="o">:</span> <span class="bp">/</span><span class="n">Users</span><span class="bp">/</span><span class="n">ar</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">tmp</span><span class="bp">/</span><span class="mi">89</span><span class="n">s8utnt9hv_b2g9_file</span>
<span class="n">verbose</span><span class="o">:</span> <span class="n">downloading</span> <span class="n">file</span> <span class="k">from</span><span class="o">:</span> <span class="bp">'</span><span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">github.com</span><span class="bp">//</span><span class="n">leanprover</span><span class="bp">/</span><span class="n">lean4</span><span class="bp">-</span><span class="n">nightly</span><span class="bp">/</span><span class="n">releases</span><span class="bp">/</span><span class="n">download</span><span class="bp">/</span><span class="n">nightly</span><span class="bp">-</span><span class="mi">2022</span><span class="bp">-</span><span class="mi">08</span><span class="bp">-</span><span class="mi">20</span><span class="bp">/</span><span class="n">lean</span><span class="bp">-</span><span class="mi">4</span><span class="bp">.</span><span class="mi">0</span><span class="bp">.</span><span class="mi">0</span><span class="bp">-</span><span class="n">nightly</span><span class="bp">-</span><span class="mi">2022</span><span class="bp">-</span><span class="mi">08</span><span class="bp">-</span><span class="mi">20</span><span class="bp">-</span><span class="n">darwin.tar.zst'</span>
<span class="n">verbose</span><span class="o">:</span> <span class="n">downloading</span> <span class="k">with</span> <span class="n">curl</span>
<span class="n">Total</span><span class="o">:</span> <span class="mi">132</span><span class="bp">.</span><span class="mi">4</span> <span class="n">MiB</span> <span class="n">Speed</span><span class="o">:</span>  <span class="mi">11</span><span class="bp">.</span><span class="mi">2</span> <span class="n">MiB</span><span class="bp">/</span><span class="n">s</span>
<span class="n">info</span><span class="o">:</span> <span class="n">installing</span> <span class="n">component</span> <span class="bp">'</span><span class="n">lean'</span>
<span class="n">verbose</span><span class="o">:</span> <span class="n">removing</span> <span class="n">toolchain</span> <span class="n">directory</span> <span class="n">directory</span><span class="o">:</span> <span class="bp">'/</span><span class="n">Users</span><span class="bp">/</span><span class="n">ar</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly'</span>
<span class="n">verbose</span><span class="o">:</span> <span class="n">creating</span> <span class="n">toolchain</span> <span class="n">directory</span> <span class="n">directory</span><span class="o">:</span> <span class="bp">'/</span><span class="n">Users</span><span class="bp">/</span><span class="n">ar</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly'</span>
<span class="n">verbose</span><span class="o">:</span> <span class="n">deleted</span> <span class="n">temp</span> <span class="n">file</span><span class="o">:</span> <span class="bp">/</span><span class="n">Users</span><span class="bp">/</span><span class="n">ar</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">tmp</span><span class="bp">/</span><span class="mi">89</span><span class="n">s8utnt9hv_b2g9_file</span>
<span class="n">verbose</span><span class="o">:</span> <span class="n">deleted</span> <span class="n">temp</span> <span class="n">file</span><span class="o">:</span> <span class="bp">/</span><span class="n">Users</span><span class="bp">/</span><span class="n">ar</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">tmp</span><span class="bp">/</span><span class="mi">6</span><span class="n">jp35185in2g9hjy_file</span>
<span class="n">verbose</span><span class="o">:</span> <span class="n">toolchain</span> <span class="bp">'</span><span class="n">leanprover</span><span class="bp">/</span><span class="n">lean4</span><span class="o">:</span><span class="n">nightly'</span> <span class="n">installed</span>

  <span class="n">leanprover</span><span class="bp">/</span><span class="n">lean4</span><span class="o">:</span><span class="n">nightly</span> <span class="n">updated</span> <span class="bp">-</span> <span class="o">(</span><span class="n">lean</span> <span class="n">does</span> <span class="n">not</span> <span class="n">exist</span><span class="o">)</span>
</code></pre></div>
<p>So after the install, note the message <code>lean does not exist</code>. Moreover, no lean binary in the expected place and no active toolchain:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">ar</span><span class="bp">@</span><span class="n">tenis</span> <span class="bp">~</span> <span class="bp">%</span> <span class="n">ls</span> <span class="bp">.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly/bin/</span>
<span class="n">GNUSparseFile.0</span> <span class="n">clang</span>       <span class="n">lake</span>        <span class="n">ld64.lld</span>    <span class="n">leanmake</span>    <span class="n">llvm</span><span class="bp">-</span><span class="n">ar</span>

<span class="n">ar</span><span class="bp">@</span><span class="n">tenis</span> <span class="bp">~</span> <span class="bp">%</span> <span class="n">elan</span> <span class="k">show</span>
<span class="n">no</span> <span class="n">active</span> <span class="n">toolchain</span>
</code></pre></div>
<p>If I try another installation:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">ar</span><span class="bp">@</span><span class="n">tenis</span> <span class="bp">~</span> <span class="bp">%</span> <span class="n">elan</span> <span class="bp">-</span><span class="n">v</span> <span class="n">toolchain</span> <span class="n">install</span> <span class="n">leanprover</span><span class="bp">/</span><span class="n">lean4</span><span class="o">:</span><span class="n">nightly</span>
<span class="n">verbose</span><span class="o">:</span> <span class="n">updating</span> <span class="n">existing</span> <span class="n">install</span> <span class="n">for</span> <span class="bp">'</span><span class="n">leanprover</span><span class="bp">/</span><span class="n">lean4</span><span class="o">:</span><span class="n">nightly'</span>
<span class="n">verbose</span><span class="o">:</span> <span class="n">toolchain</span> <span class="n">directory</span><span class="o">:</span> <span class="bp">'/</span><span class="n">Users</span><span class="bp">/</span><span class="n">ar</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly'</span>
<span class="n">info</span><span class="o">:</span> <span class="n">syncing</span> <span class="n">channel</span> <span class="n">updates</span> <span class="n">for</span> <span class="bp">'</span><span class="n">nightly'</span>
<span class="n">info</span><span class="o">:</span> <span class="n">latest</span> <span class="n">update</span> <span class="n">on</span> <span class="n">nightly</span><span class="o">,</span> <span class="n">lean</span> <span class="n">version</span> <span class="n">nightly</span><span class="bp">-</span><span class="mi">2022</span><span class="bp">-</span><span class="mi">08</span><span class="bp">-</span><span class="mi">20</span>
<span class="n">verbose</span><span class="o">:</span> <span class="n">toolchain</span> <span class="n">is</span> <span class="n">already</span> <span class="n">up</span> <span class="n">to</span> <span class="n">date</span>

  <span class="n">leanprover</span><span class="bp">/</span><span class="n">lean4</span><span class="o">:</span><span class="n">nightly</span> <span class="n">unchanged</span> <span class="bp">-</span> <span class="o">(</span><span class="n">lean</span> <span class="n">does</span> <span class="n">not</span> <span class="n">exist</span><span class="o">)</span>
</code></pre></div>
<p>If I uninstall it and install again, same problem!</p>



<a name="294452400"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/elan%2C%20leanpkg%20and%20lake...%20I%20am%20lost/near/294452400" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexandre Rademaker <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/elan.2C.20leanpkg.20and.20lake.2E.2E.2E.20I.20am.20lost.html#294452400">(Aug 20 2022 at 15:05)</a>:</h4>
<p>I'm starting to be suspicious of the latest MacOS update. Now running  MacOS Monterey 12.5.1.</p>



<a name="294455876"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/elan%2C%20leanpkg%20and%20lake...%20I%20am%20lost/near/294455876" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/elan.2C.20leanpkg.20and.20lake.2E.2E.2E.20I.20am.20lost.html#294455876">(Aug 20 2022 at 15:39)</a>:</h4>
<p>Hmm, there definitely is a <code>bin/lean</code> in <a href="https://github.com//leanprover/lean4-nightly/releases/download/nightly-2022-08-20/lean-4.0.0-nightly-2022-08-20-darwin.tar.zst">https://github.com//leanprover/lean4-nightly/releases/download/nightly-2022-08-20/lean-4.0.0-nightly-2022-08-20-darwin.tar.zst</a></p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">lean</span><span class="bp">-</span><span class="mi">4</span><span class="bp">.</span><span class="mi">0</span><span class="bp">.</span><span class="mi">0</span><span class="bp">-</span><span class="n">nightly</span><span class="bp">-</span><span class="mi">2022</span><span class="bp">-</span><span class="mi">08</span><span class="bp">-</span><span class="mi">20</span><span class="bp">-</span><span class="n">darwin</span><span class="bp">/</span><span class="n">bin</span><span class="bp">/</span><span class="n">lean</span><span class="o">:</span> <span class="n">Mach</span><span class="bp">-</span><span class="n">O</span> <span class="mi">64</span><span class="bp">-</span><span class="n">bit</span> <span class="n">x86_64</span> <span class="n">executable</span><span class="o">,</span> <span class="n">flags</span><span class="o">:</span><span class="bp">&lt;</span><span class="n">NOUNDEFS</span><span class="bp">|</span><span class="n">DYLDLINK</span><span class="bp">|</span><span class="n">TWOLEVEL</span><span class="bp">|</span><span class="n">PIE</span><span class="bp">&gt;</span>
</code></pre></div>



<a name="294456040"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/elan%2C%20leanpkg%20and%20lake...%20I%20am%20lost/near/294456040" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/elan.2C.20leanpkg.20and.20lake.2E.2E.2E.20I.20am.20lost.html#294456040">(Aug 20 2022 at 15:40)</a>:</h4>
<p>(deleted)</p>



<a name="294456377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/elan%2C%20leanpkg%20and%20lake...%20I%20am%20lost/near/294456377" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/elan.2C.20leanpkg.20and.20lake.2E.2E.2E.20I.20am.20lost.html#294456377">(Aug 20 2022 at 15:44)</a>:</h4>
<p>This <code>GNUSparseFile.0</code> directory is really suspicious</p>



<a name="294456560"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/elan%2C%20leanpkg%20and%20lake...%20I%20am%20lost/near/294456560" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/elan.2C.20leanpkg.20and.20lake.2E.2E.2E.20I.20am.20lost.html#294456560">(Aug 20 2022 at 15:46)</a>:</h4>
<p>That sounds like <a href="https://github.com/leanprover/elan/issues/78">https://github.com/leanprover/elan/issues/78</a></p>



<a name="294457028"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/elan%2C%20leanpkg%20and%20lake...%20I%20am%20lost/near/294457028" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/elan.2C.20leanpkg.20and.20lake.2E.2E.2E.20I.20am.20lost.html#294457028">(Aug 20 2022 at 15:50)</a>:</h4>
<p>But I assume a (corrupted) lean binary is inside the <code>GNUSparseFile.0</code> directory</p>



<a name="294457417"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/elan%2C%20leanpkg%20and%20lake...%20I%20am%20lost/near/294457417" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/elan.2C.20leanpkg.20and.20lake.2E.2E.2E.20I.20am.20lost.html#294457417">(Aug 20 2022 at 15:55)</a>:</h4>
<p>I don't know what generates the tarballs, but perhaps passing <code>--format=v7</code> to <code>tar</code> could help until <code>tar-rs</code> supports untarring sparse files.</p>



<a name="294458564"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/elan%2C%20leanpkg%20and%20lake...%20I%20am%20lost/near/294458564" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/elan.2C.20leanpkg.20and.20lake.2E.2E.2E.20I.20am.20lost.html#294458564">(Aug 20 2022 at 16:05)</a>:</h4>
<p>Let's give that a try <a href="https://github.com/leanprover/lean4/pull/1498">https://github.com/leanprover/lean4/pull/1498</a></p>



<a name="294460206"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/elan%2C%20leanpkg%20and%20lake...%20I%20am%20lost/near/294460206" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexandre Rademaker <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/elan.2C.20leanpkg.20and.20lake.2E.2E.2E.20I.20am.20lost.html#294460206">(Aug 20 2022 at 16:22)</a>:</h4>
<p>Oh nice, but I installed elan from brew. So better uninstall it and install it directly ? Will that work now?</p>



<a name="294460676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/elan%2C%20leanpkg%20and%20lake...%20I%20am%20lost/near/294460676" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexandre Rademaker <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/elan.2C.20leanpkg.20and.20lake.2E.2E.2E.20I.20am.20lost.html#294460676">(Aug 20 2022 at 16:26)</a>:</h4>
<p>Oh , I see now you changed the lean compressing approach , so I can try my current elan  installation with the next lean nightly release , right ?</p>



<a name="294473359"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/elan%2C%20leanpkg%20and%20lake...%20I%20am%20lost/near/294473359" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexandre Rademaker <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/elan.2C.20leanpkg.20and.20lake.2E.2E.2E.20I.20am.20lost.html#294473359">(Aug 20 2022 at 18:54)</a>:</h4>
<p>BTW, yes, if I download the tar.zst file manually, I can expand it with <code>tar --use-compress-program=unzstd -xvf lean-4.0.0-nightly-2022-08-19-darwin.tar.zst</code>. But I don't want to mess with my elan installation, so I will wait the proper solution.</p>



<a name="294590644"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/elan%2C%20leanpkg%20and%20lake...%20I%20am%20lost/near/294590644" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Josh Clune <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/elan.2C.20leanpkg.20and.20lake.2E.2E.2E.20I.20am.20lost.html#294590644">(Aug 21 2022 at 23:44)</a>:</h4>
<p>Hi, I'm another Mac/brew user currently experiencing issues very similar to what <span class="user-mention" data-user-id="121542">@Alexandre Rademaker</span>  described. Was there a final verdict on what I should do? </p>
<p>Using brew to remove and reinstall elan, and using elan to uninstall and reinstall the nightly toolchain still yields the <code>lean does not exist</code> message for me, even though I believe that <a href="https://github.com/leanprover/lean4/pull/1498">https://github.com/leanprover/lean4/pull/1498</a> has been merged. Should I sit tight for now, or is there something else I should try? I totally understand if the answer is just, wait, it should be fixed soon, I'm just looking to confirm whether there was a step that I overlooked/missed.</p>



<a name="294592617"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/elan%2C%20leanpkg%20and%20lake...%20I%20am%20lost/near/294592617" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/elan.2C.20leanpkg.20and.20lake.2E.2E.2E.20I.20am.20lost.html#294592617">(Aug 22 2022 at 00:22)</a>:</h4>
<p>A nightly (2022-08-22) with <a href="https://github.com/leanprover/lean4/pull/1499">https://github.com/leanprover/lean4/pull/1499</a> should be available in about 8 hours</p>



<a name="294597549"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/elan%2C%20leanpkg%20and%20lake...%20I%20am%20lost/near/294597549" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Josh Clune <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/elan.2C.20leanpkg.20and.20lake.2E.2E.2E.20I.20am.20lost.html#294597549">(Aug 22 2022 at 02:18)</a>:</h4>
<p>Great, thanks!</p>



<a name="294661329"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/elan%2C%20leanpkg%20and%20lake...%20I%20am%20lost/near/294661329" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexandre Rademaker <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/elan.2C.20leanpkg.20and.20lake.2E.2E.2E.20I.20am.20lost.html#294661329">(Aug 22 2022 at 12:06)</a>:</h4>
<p>Indeed, after running the <code>elan -v toolchain install leanprover/lean4:nightly</code> I got Lean installed, but it is strange the output of the show command</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">%</span> <span class="n">elan</span> <span class="k">show</span>
<span class="n">no</span> <span class="n">active</span> <span class="n">toolchain</span>
</code></pre></div>



<a name="294662925"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/elan%2C%20leanpkg%20and%20lake...%20I%20am%20lost/near/294662925" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/elan.2C.20leanpkg.20and.20lake.2E.2E.2E.20I.20am.20lost.html#294662925">(Aug 22 2022 at 12:16)</a>:</h4>
<p>Is that in a project with a <code>lean-toolchain</code> file?</p>



<a name="294663129"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/elan%2C%20leanpkg%20and%20lake...%20I%20am%20lost/near/294663129" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexandre Rademaker <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/elan.2C.20leanpkg.20and.20lake.2E.2E.2E.20I.20am.20lost.html#294663129">(Aug 22 2022 at 12:18)</a>:</h4>
<p>no, outside a project, in my home folder</p>



<a name="294663191"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/elan%2C%20leanpkg%20and%20lake...%20I%20am%20lost/near/294663191" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexandre Rademaker <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/elan.2C.20leanpkg.20and.20lake.2E.2E.2E.20I.20am.20lost.html#294663191">(Aug 22 2022 at 12:18)</a>:</h4>
<p>Inside a project folder, I got</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">%</span> <span class="n">elan</span> <span class="k">show</span>
<span class="n">leanprover</span><span class="bp">/</span><span class="n">lean4</span><span class="o">:</span><span class="n">nightly</span> <span class="o">(</span><span class="n">overridden</span> <span class="kd">by</span> <span class="bp">'/</span><span class="n">Users</span><span class="bp">/</span><span class="n">ar</span><span class="bp">/</span><span class="n">hpsg</span><span class="bp">/</span><span class="n">mrs</span><span class="bp">-</span><span class="n">lean</span><span class="bp">/</span><span class="n">lean</span><span class="bp">-</span><span class="n">toolchain'</span><span class="o">)</span>
<span class="n">Lean</span> <span class="o">(</span><span class="n">version</span> <span class="mi">4</span><span class="bp">.</span><span class="mi">0</span><span class="bp">.</span><span class="mi">0</span><span class="bp">-</span><span class="n">nightly</span><span class="bp">-</span><span class="mi">2022</span><span class="bp">-</span><span class="mi">08</span><span class="bp">-</span><span class="mi">22</span><span class="o">,</span> <span class="n">commit</span> <span class="n">f8c7de5a64fc</span><span class="o">,</span> <span class="n">Release</span><span class="o">)</span>
</code></pre></div>



<a name="294663291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/elan%2C%20leanpkg%20and%20lake...%20I%20am%20lost/near/294663291" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/elan.2C.20leanpkg.20and.20lake.2E.2E.2E.20I.20am.20lost.html#294663291">(Aug 22 2022 at 12:19)</a>:</h4>
<p>(FWIW my CI was broken yesterday with nightly for 08-20 on macOS, but appears to work now on 08-22, which I think means at least here something has been fixed.)</p>



<a name="294663980"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/elan%2C%20leanpkg%20and%20lake...%20I%20am%20lost/near/294663980" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexandre Rademaker <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/elan.2C.20leanpkg.20and.20lake.2E.2E.2E.20I.20am.20lost.html#294663980">(Aug 22 2022 at 12:23)</a>:</h4>
<p>sorry <span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span> , just rewrote my last message  to make it clear.</p>



<a name="294681554"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/elan%2C%20leanpkg%20and%20lake...%20I%20am%20lost/near/294681554" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/elan.2C.20leanpkg.20and.20lake.2E.2E.2E.20I.20am.20lost.html#294681554">(Aug 22 2022 at 14:01)</a>:</h4>
<p>Use <code>elan default leanprover/lean4:nightly</code> to configure your default toolchain (the one that's used when you're not inside a project directory)</p>



<a name="294739514"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/elan%2C%20leanpkg%20and%20lake...%20I%20am%20lost/near/294739514" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Lovett <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/elan.2C.20leanpkg.20and.20lake.2E.2E.2E.20I.20am.20lost.html#294739514">(Aug 22 2022 at 17:56)</a>:</h4>
<p>I added a CI nightly test of elan on macOS to the <a href="https://github.com/leanprover/lean4-samples/pull/6/checks">lean4-samples</a> repo.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>