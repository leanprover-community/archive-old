---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/Tactic.20state.20filtering.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Tactic.20state.20filtering.html">Tactic state filtering</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="255952314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Tactic%20state%20filtering/near/255952314" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Tactic.20state.20filtering.html#255952314">(Oct 03 2021 at 13:40)</a>:</h4>
<p>I don't know the current status of widgets in Lean 4 but I have a question: is there a plan to make tactic state filtering permanent? In Lean 3 it seems to be a non-trivial task is the main reason why I still use plain text tactic states from time to time.</p>



<a name="255952849"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Tactic%20state%20filtering/near/255952849" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Tactic.20state.20filtering.html#255952849">(Oct 03 2021 at 13:49)</a>:</h4>
<p>Widgets work today.  Both the neovim and vscode extensions have PRs for widget support: <a href="https://github.com/leanprover/vscode-lean4/pull/37">https://github.com/leanprover/vscode-lean4/pull/37</a> <a href="https://github.com/Julian/lean.nvim/pull/123">https://github.com/Julian/lean.nvim/pull/123</a><br>
Please help with testing if you have time!</p>



<a name="255952865"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Tactic%20state%20filtering/near/255952865" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Tactic.20state.20filtering.html#255952865">(Oct 03 2021 at 13:50)</a>:</h4>
<p>Tactic state filtering is I believe still a todo in the vscode extension, but it is even easier to implement now than with the text-based tactic states.</p>



<a name="255953683"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Tactic%20state%20filtering/near/255953683" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Tactic.20state.20filtering.html#255953683">(Oct 03 2021 at 14:03)</a>:</h4>
<p>Wojciech did a great job with the RPC API here.  On the editor side we now have a nice data structure for the hypotheses containing the name etc.  Gone are the days of string parsing using regexps!  We could also add additional metadata to the hypotheses (e.g. whether they are typeclass instances or whether they have the <code>[]</code> binder or whether they are types, etc.) to provide even better filtering.</p>



<a name="255953928"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Tactic%20state%20filtering/near/255953928" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Tactic.20state.20filtering.html#255953928">(Oct 03 2021 at 14:07)</a>:</h4>
<p>Testing this is very tempting but the whole procedure is daunting.</p>



<a name="255954055"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Tactic%20state%20filtering/near/255954055" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Tactic.20state.20filtering.html#255954055">(Oct 03 2021 at 14:09)</a>:</h4>
<p>Is there anything we can do to make it easier to try out the PR?</p>



<a name="255954745"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Tactic%20state%20filtering/near/255954745" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Tactic.20state.20filtering.html#255954745">(Oct 03 2021 at 14:20)</a>:</h4>
<p>Do we have a nice document explaining how to install everything from scratch (including Lean 4 and mathlib4)?</p>



<a name="256003051"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Tactic%20state%20filtering/near/256003051" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Tactic.20state.20filtering.html#256003051">(Oct 04 2021 at 03:58)</a>:</h4>
<p>We do not have such a document. I can try to start writing it. Hopefully the essence for now is:</p>
<ol>
<li>Install VSCode</li>
<li>Install the lean4 extension to VSCode</li>
<li>Install elan</li>
<li>Clone mathlib4</li>
<li>Open mathlib4 in VSCode</li>
</ol>



<a name="256003114"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Tactic%20state%20filtering/near/256003114" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Tactic.20state.20filtering.html#256003114">(Oct 04 2021 at 03:59)</a>:</h4>
<p>Neither <code>lake</code> nor <code>mathport</code> are quite ready for usage by people who want "nice documents" explaining installation. :-) But hopefully very soon.</p>



<a name="256003193"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Tactic%20state%20filtering/near/256003193" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Tactic.20state.20filtering.html#256003193">(Oct 04 2021 at 04:00)</a>:</h4>
<p>And the whole "pre-compiled oleans" infrastructure doesn't yet exist.</p>



<a name="256016843"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Tactic%20state%20filtering/near/256016843" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Tactic.20state.20filtering.html#256016843">(Oct 04 2021 at 07:26)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span>, on a bare Ubuntu machine the following works:</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code><span class="ch">#! /bin/bash</span>

sudo apt install -y git curl

<span class="c1"># The following test is needed in case VScode was installed by other</span>
<span class="c1"># means (e.g. using Ubuntu snap)</span>
<span class="k">if</span> ! which code<span class="p">;</span> <span class="k">then</span>
  wget -O code.deb https://go.microsoft.com/fwlink/?LinkID<span class="o">=</span><span class="m">760868</span>
  sudo apt install -y ./code.deb
  rm code.deb
<span class="k">fi</span>

code --install-extension leanprover.lean4

wget https://raw.githubusercontent.com/leanprover/elan/master/elan-init.sh
bash elan-init.sh -y
rm elan-init.sh
. ~/.profile

git clone https://github.com/leanprover-community/mathlib4
<span class="nb">cd</span> mathlib4
leanpkg build
code .
</code></pre></div>



<a name="256017870"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Tactic%20state%20filtering/near/256017870" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Tactic.20state.20filtering.html#256017870">(Oct 04 2021 at 07:37)</a>:</h4>
<p>Thanks Scott, I'll try this in the afternoon (I need to go and teach now).</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>