---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/Editor.20panic.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Editor.20panic.html">Editor panic</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="300688322"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Editor%20panic/near/300688322" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Editor.20panic.html#300688322">(Sep 25 2022 at 20:30)</a>:</h4>
<p>When I see in VSCode's problem list errors starting with:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">Lean</span> <span class="o">(</span><span class="n">version</span> <span class="mi">4</span><span class="bp">.</span><span class="mi">0</span><span class="bp">.</span><span class="mi">0</span><span class="bp">-</span><span class="n">nightly</span><span class="bp">-</span><span class="mi">2022</span><span class="bp">-</span><span class="mi">09</span><span class="bp">-</span><span class="mi">23</span><span class="o">,</span> <span class="n">commit</span> <span class="n">eed569153b53</span><span class="o">,</span> <span class="n">Release</span><span class="o">)</span>
<span class="n">elan</span> <span class="mi">1</span><span class="bp">.</span><span class="mi">4</span><span class="bp">.</span><span class="mi">2</span> <span class="o">(</span><span class="mi">4</span><span class="n">a1b1b918</span> <span class="mi">2022</span><span class="bp">-</span><span class="mi">09</span><span class="bp">-</span><span class="mi">13</span><span class="o">)</span>
<span class="n">Lean</span> <span class="o">(</span><span class="n">version</span> <span class="mi">4</span><span class="bp">.</span><span class="mi">0</span><span class="bp">.</span><span class="mi">0</span><span class="bp">-</span><span class="n">nightly</span><span class="bp">-</span><span class="mi">2022</span><span class="bp">-</span><span class="mi">09</span><span class="bp">-</span><span class="mi">23</span><span class="o">,</span> <span class="n">commit</span> <span class="n">eed569153b53</span><span class="o">,</span> <span class="n">Release</span><span class="o">)</span>
<span class="n">PANIC</span> <span class="n">at</span> <span class="n">getElem</span><span class="bp">!</span> <span class="n">Init.Util</span><span class="o">:</span><span class="mi">77</span><span class="o">:</span><span class="mi">36</span><span class="o">:</span> <span class="n">index</span> <span class="n">out</span> <span class="n">of</span> <span class="n">bounds</span>
</code></pre></div>
<p>Is there anything to do to get a better bug report? Should I copy all the other lines? Where should this be reported?</p>



<a name="300688411"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Editor%20panic/near/300688411" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Editor.20panic.html#300688411">(Sep 25 2022 at 20:30)</a>:</h4>
<p>The other lines are important</p>



<a name="300688471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Editor%20panic/near/300688471" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Editor.20panic.html#300688471">(Sep 25 2022 at 20:31)</a>:</h4>
<p>It's very obfuscated (we really need a demangler), but you can kind of see the call stack in the report</p>



<a name="300688496"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Editor%20panic/near/300688496" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Editor.20panic.html#300688496">(Sep 25 2022 at 20:31)</a>:</h4>
<p>Where it should be reported depends on who's calling <code>getElem!</code></p>



<a name="300688548"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Editor%20panic/near/300688548" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Editor.20panic.html#300688548">(Sep 25 2022 at 20:32)</a>:</h4>
<p>of course <code>getElem!</code> is not buggy here, it's doing what it is supposed to</p>



<a name="300689606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Editor%20panic/near/300689606" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Editor.20panic.html#300689606">(Sep 25 2022 at 20:46)</a>:</h4>
<p>I think the following is one full trace:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">backtrace</span><span class="o">:</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(lean_panic_fn+0x9e)[0x7fb35c66752e]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(+0x317e523)[0x7fb35c660523]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(+0x317c7e7)[0x7fb35c65e7e7]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(+0x317e893)[0x7fb35c660893]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(+0x317c7e7)[0x7fb35c65e7e7]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(+0x317e893)[0x7fb35c660893]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(+0x317c7e7)[0x7fb35c65e7e7]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(+0x31804d9)[0x7fb35c6624d9]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(+0x3178f43)[0x7fb35c65af43]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(+0x3180107)[0x7fb35c662107]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(+0x317fd53)[0x7fb35c661d53]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(lean_apply_3+0x402)[0x7fb35c673e62]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(l_Lean_Elab_withInfoTreeContext___at___private_Lean_Elab_Command_0__Lean_Elab_Command_elabCommandUsing___spec__2+0x162)[0x7fb35c4fe232]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(l___private_Lean_Elab_Command_0__Lean_Elab_Command_elabCommandUsing+0x1e3)[0x7fb35c4ffe73]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(lean_apply_3+0x3c2)[0x7fb35c673e22]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(lean_apply_3+0x3a4)[0x7fb35c673e04]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(l_Lean_Elab_withLogging___at_Lean_Elab_Command_elabCommand___spec__2+0x54)[0x7fb35c508814]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(l_Lean_Elab_Command_elabCommandTopLevel___lambda__2+0x1b0)[0x7fb35c518000]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(lean_apply_3+0x38a)[0x7fb35c673dea]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(l_Lean_Elab_withLogging___at_Lean_Elab_Command_elabCommand___spec__2+0x54)[0x7fb35c508814]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(l_Lean_Server_Snapshots_compileNextCmd___lambda__2+0xa)[0x7fb35b4f096a]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(lean_apply_1+0x182)[0x7fb35c671e52]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(l_IO_withStderr___at_Lean_Server_Snapshots_compileNextCmd___spec__4+0x6e)[0x7fb35b4efd3e]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(lean_apply_1+0x16a)[0x7fb35c671e3a]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(l_IO_withStdout___at_Lean_Server_Snapshots_compileNextCmd___spec__2+0x6e)[0x7fb35b4ef63e]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(lean_apply_1+0x16a)[0x7fb35c671e3a]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(l_IO_withStdin___at_Lean_Server_Snapshots_compileNextCmd___spec__3+0x6e)[0x7fb35b4ef9be]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(l_IO_FS_withIsolatedStreams___at_Lean_Server_Snapshots_compileNextCmd___spec__1+0x192)[0x7fb35b4f01e2]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(l_Lean_Server_Snapshots_compileNextCmd+0x11b9)[0x7fb35b4f1f79]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(l___private_Lean_Server_FileWorker_0__Lean_Server_FileWorker_nextCmdSnap___lambda__1+0x20e)[0x7fb35b4c29de]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(l___private_Lean_Server_FileWorker_0__Lean_Server_FileWorker_nextCmdSnap+0x596)[0x7fb35b4c3b56]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(lean_apply_2+0x69c)[0x7fb35c672fac]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(l_IO_AsyncList_unfoldAsync_step___rarg+0x39)[0x7fb35b48bd89]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(lean_apply_1+0x462)[0x7fb35c672132]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(l_EIO_toBaseIO___rarg+0xd)[0x7fb35a0294dd]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(lean_apply_1+0x42d)[0x7fb35c6720fd]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(+0x31a33be)[0x7fb35c6853be]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(lean_apply_1+0x42d)[0x7fb35c6720fd]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(+0x318e662)[0x7fb35c670662]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(+0x318f992)[0x7fb35c671992]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-09-23/bin/../lib/lean/libleanshared.so(+0x31837f1)[0x7fb35c6657f1]</span>
<span class="bp">/</span><span class="n">lib</span><span class="bp">/</span><span class="n">x86_64</span><span class="bp">-</span><span class="n">linux</span><span class="bp">-</span><span class="n">gnu</span><span class="bp">/</span><span class="n">libc.so.6</span><span class="o">(</span><span class="bp">+</span><span class="mi">0x94b43</span><span class="o">)[</span><span class="mi">0x7fb359324b43</span><span class="o">]</span>
<span class="bp">/</span><span class="n">lib</span><span class="bp">/</span><span class="n">x86_64</span><span class="bp">-</span><span class="n">linux</span><span class="bp">-</span><span class="n">gnu</span><span class="bp">/</span><span class="n">libc.so.6</span><span class="o">(</span><span class="bp">+</span><span class="mi">0x126a00</span><span class="o">)[</span><span class="mi">0x7fb3593b6a00</span><span class="o">]</span>
</code></pre></div>



<a name="300691505"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Editor%20panic/near/300691505" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Editor.20panic.html#300691505">(Sep 25 2022 at 21:14)</a>:</h4>
<p>oh wow that's a really unhelpful backtrace</p>



<a name="300691531"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Editor%20panic/near/300691531" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Editor.20panic.html#300691531">(Sep 25 2022 at 21:15)</a>:</h4>
<p>It certainly didn't help me...</p>



<a name="300691635"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Editor%20panic/near/300691635" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Editor.20panic.html#300691635">(Sep 25 2022 at 21:17)</a>:</h4>
<p>Normally those function names would give a hint but there is a big stack of functions missing debug info and the first thing you can see with a name, <code>elabCommandUsing</code>, is just the top level "elaborate a command" function</p>



<a name="304835482"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Editor%20panic/near/304835482" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Editor.20panic.html#304835482">(Oct 18 2022 at 20:31)</a>:</h4>
<p>A new case of editor integration panic:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">Lean</span> <span class="o">(</span><span class="n">version</span> <span class="mi">4</span><span class="bp">.</span><span class="mi">0</span><span class="bp">.</span><span class="mi">0</span><span class="bp">-</span><span class="n">nightly</span><span class="bp">-</span><span class="mi">2022</span><span class="bp">-</span><span class="mi">10</span><span class="bp">-</span><span class="mi">12</span><span class="o">,</span> <span class="n">commit</span> <span class="n">aa845dee98e3</span><span class="o">,</span> <span class="n">Release</span><span class="o">)</span>
<span class="n">PANIC</span> <span class="n">at</span> <span class="n">List.tail</span><span class="bp">!</span> <span class="n">Init.Data.List.BasicAux</span><span class="o">:</span><span class="mi">46</span><span class="o">:</span><span class="mi">13</span><span class="o">:</span> <span class="n">empty</span> <span class="n">list</span>
<span class="n">backtrace</span><span class="o">:</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-10-12/bin/../lib/lean/libleanshared.so(lean_panic_fn+0x9e)[0x7ff82cd570ce]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-10-12/bin/../lib/lean/libleanshared.so(+0x336a0c3)[0x7ff82cd500c3]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-10-12/bin/../lib/lean/libleanshared.so(+0x3368387)[0x7ff82cd4e387]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-10-12/bin/../lib/lean/libleanshared.so(+0x336a433)[0x7ff82cd50433]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-10-12/bin/../lib/lean/libleanshared.so(+0x3368387)[0x7ff82cd4e387]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-10-12/bin/../lib/lean/libleanshared.so(+0x336c079)[0x7ff82cd52079]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-10-12/bin/../lib/lean/libleanshared.so(+0x3364ae3)[0x7ff82cd4aae3]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-10-12/bin/../lib/lean/libleanshared.so(+0x336bca7)[0x7ff82cd51ca7]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-10-12/bin/../lib/lean/libleanshared.so(+0x336b97d)[0x7ff82cd5197d]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-10-12/bin/../lib/lean/libleanshared.so(lean_apply_3+0x453)[0x7ff82cd63a53]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-10-12/bin/../lib/lean/libleanshared.so(+0x336a0c3)[0x7ff82cd500c3]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-10-12/bin/../lib/lean/libleanshared.so(+0x3368387)[0x7ff82cd4e387]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-10-12/bin/../lib/lean/libleanshared.so(+0x336c079)[0x7ff82cd52079]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-10-12/bin/../lib/lean/libleanshared.so(+0x3364ae3)[0x7ff82cd4aae3]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-10-12/bin/../lib/lean/libleanshared.so(+0x336bca7)[0x7ff82cd51ca7]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-10-12/bin/../lib/lean/libleanshared.so(+0x336b97d)[0x7ff82cd5197d]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-10-12/bin/../lib/lean/libleanshared.so(lean_apply_5+0x822)[0x7ff82cd65892]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-10-12/bin/../lib/lean/libleanshared.so(l_Lean_Meta_MetaM_run_x27___rarg+0x107)[0x7ff82c97dc97]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-10-12/bin/../lib/lean/libleanshared.so(lean_apply_3+0x6b1)[0x7ff82cd63cb1]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-10-12/bin/../lib/lean/libleanshared.so(l_Lean_Core_CoreM_run_x27___rarg+0x92)[0x7ff82c1fe9d2]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-10-12/bin/../lib/lean/libleanshared.so(lean_apply_1+0x4a4)[0x7ff82cd61d14]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-10-12/bin/../lib/lean/libleanshared.so(l_EIO_toBaseIO___rarg+0xd)[0x7ff82a5bfa3d]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-10-12/bin/../lib/lean/libleanshared.so(lean_apply_1+0x42d)[0x7ff82cd61c9d]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-10-12/bin/../lib/lean/libleanshared.so(l_EStateM_bind___rarg+0x13)[0x7ff82a5ad203]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-10-12/bin/../lib/lean/libleanshared.so(lean_apply_1+0x462)[0x7ff82cd61cd2]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-10-12/bin/../lib/lean/libleanshared.so(+0x338ef5e)[0x7ff82cd74f5e]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-10-12/bin/../lib/lean/libleanshared.so(lean_apply_1+0x42d)[0x7ff82cd61c9d]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-10-12/bin/../lib/lean/libleanshared.so(+0x337a202)[0x7ff82cd60202]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-10-12/bin/../lib/lean/libleanshared.so(+0x337b532)[0x7ff82cd61532]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-10-12/bin/../lib/lean/libleanshared.so(+0x336f391)[0x7ff82cd55391]</span>
<span class="bp">/</span><span class="n">lib</span><span class="bp">/</span><span class="n">x86_64</span><span class="bp">-</span><span class="n">linux</span><span class="bp">-</span><span class="n">gnu</span><span class="bp">/</span><span class="n">libc.so.6</span><span class="o">(</span><span class="bp">+</span><span class="mi">0x94b43</span><span class="o">)[</span><span class="mi">0x7ff829828b43</span><span class="o">]</span>
<span class="bp">/</span><span class="n">lib</span><span class="bp">/</span><span class="n">x86_64</span><span class="bp">-</span><span class="n">linux</span><span class="bp">-</span><span class="n">gnu</span><span class="bp">/</span><span class="n">libc.so.6</span><span class="o">(</span><span class="bp">+</span><span class="mi">0x126a00</span><span class="o">)[</span><span class="mi">0x7ff8298baa00</span><span class="o">]</span>
</code></pre></div>



<a name="304840203"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Editor%20panic/near/304840203" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Editor.20panic.html#304840203">(Oct 18 2022 at 21:01)</a>:</h4>
<p>Do you have maybe have a repro?  Or at least the file this happened with?</p>



<a name="304841589"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Editor%20panic/near/304841589" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Editor.20panic.html#304841589">(Oct 18 2022 at 21:11)</a>:</h4>
<p>Unfortunately no, those are completely random errors that pop up when editing files. I think this happens only when some line isn't finished</p>



<a name="304841910"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Editor%20panic/near/304841910" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Editor.20panic.html#304841910">(Oct 18 2022 at 21:13)</a>:</h4>
<p>Just pasting the unfinished line here could already be helpful.</p>



<a name="304842127"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Editor%20panic/near/304842127" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Editor.20panic.html#304842127">(Oct 18 2022 at 21:14)</a>:</h4>
<p>Oh this reminds me of the "unreachable code has been reached" error which used to pop up in Lean 3 when you were in the middle of defining an instance of a structure. Super-hard to reproduce because you were busy typing and then you realised that Lean had stopped running. Fixed by Gabriel removing the check :-)</p>



<a name="304842209"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Editor%20panic/near/304842209" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Editor.20panic.html#304842209">(Oct 18 2022 at 21:15)</a>:</h4>
<p>Yes, I always notice the popup too late to reproduce.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>