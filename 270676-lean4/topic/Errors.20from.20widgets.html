---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/Errors.20from.20widgets.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Errors.20from.20widgets.html">Errors from widgets</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="310456386"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Errors%20from%20widgets/near/310456386" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joachim Breitner <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Errors.20from.20widgets.html#310456386">(Nov 16 2022 at 17:06)</a>:</h4>
<p>I’m playing around with writing widgets, and my JS code is certainly buggy. But where would error messages or exceptions or output from <code>console.log</code> be shown in VSCode? I see nothing in Problems, Output or Debug Console.<br>
(Pinging <span class="user-mention" data-user-id="121918">@Edward Ayers</span>  who just ran to his bus, but no hurry, I’m wrapping up for today and will tackle that tomorrow.)</p>



<a name="310458003"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Errors%20from%20widgets/near/310458003" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wojciech Nawrocki <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Errors.20from.20widgets.html#310458003">(Nov 16 2022 at 17:13)</a>:</h4>
<p><span class="user-mention" data-user-id="470149">@Joachim Breitner</span> they will show up when you <code>Open Webview Developer Tools</code></p>



<a name="310459557"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Errors%20from%20widgets/near/310459557" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Errors.20from.20widgets.html#310459557">(Nov 16 2022 at 17:22)</a>:</h4>
<p>Ctrl+Shift+P and then type "webview developer tools", there is also a debugger (which you can trigger with the <code>debugger;</code> keyword.)</p>



<a name="310482611"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Errors%20from%20widgets/near/310482611" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joachim Breitner <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Errors.20from.20widgets.html#310482611">(Nov 16 2022 at 19:24)</a>:</h4>
<p>Spot on, thanks!</p>



<a name="310482723"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Errors%20from%20widgets/near/310482723" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Taro Naoi <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Errors.20from.20widgets.html#310482723">(Nov 16 2022 at 19:25)</a>:</h4>
<p>Speaking of devtools, does anyone know how to integrate React devtools into the devtools provided by VSCode?</p>



<a name="310483251"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Errors%20from%20widgets/near/310483251" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Taro Naoi <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Errors.20from.20widgets.html#310483251">(Nov 16 2022 at 19:27)</a>:</h4>
<p>Tried a couple approaches, but nothing has worked so far. Currently thinking of using something like this as a way to check for re-renders instead of React devtools: <a href="https://github.com/welldone-software/why-did-you-render">https://github.com/welldone-software/why-did-you-render</a>.</p>



<a name="310510303"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Errors%20from%20widgets/near/310510303" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wojciech Nawrocki <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Errors.20from.20widgets.html#310510303">(Nov 16 2022 at 22:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="497241">Taro Naoi</span> <a href="#narrow/stream/270676-lean4/topic/Errors.20from.20widgets/near/310482723">said</a>:</p>
<blockquote>
<p>Speaking of devtools, does anyone know how to integrate React devtools into the devtools provided by VSCode?</p>
</blockquote>
<p>I was able to get React devtools to work in the Lean4 infoview by injecting the <code>&lt;script&gt;</code> tag that React devtools requires into the infoview html in the <code>vscode-lean4</code> extension and then rebuilding the extension. It would be cool if it worked without that much fiddling though.</p>



<a name="310512269"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Errors%20from%20widgets/near/310512269" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Taro Naoi <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Errors.20from.20widgets.html#310512269">(Nov 16 2022 at 22:21)</a>:</h4>
<p>Nice! Was the <code>&lt;script&gt;</code> injection in the string returned by <code>initialHtml</code> in <code>infoview.ts</code>? Also, did you have to install the <code>react-devtools</code> package via npm?</p>



<a name="310512489"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Errors%20from%20widgets/near/310512489" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Taro Naoi <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Errors.20from.20widgets.html#310512489">(Nov 16 2022 at 22:23)</a>:</h4>
<p>I think I tried something like that, but because the infoview is embedded in an <code>&lt;iframe&gt;</code> I don't think it was being picked up by devtools.</p>



<a name="310513959"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Errors%20from%20widgets/near/310513959" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wojciech Nawrocki <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Errors.20from.20widgets.html#310513959">(Nov 16 2022 at 22:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="497241">Taro Naoi</span> <a href="#narrow/stream/270676-lean4/topic/Errors.20from.20widgets/near/310512269">said</a>:</p>
<blockquote>
<p>Nice! Was the <code>&lt;script&gt;</code> injection in the string returned by <code>initialHtml</code> in <code>infoview.ts</code>? Also, did you have to install the <code>react-devtools</code> package via npm?</p>
</blockquote>
<p>Yes exactly, and yes. You also need to run devtools on the command line as their readme indicates.</p>



<a name="310515039"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Errors%20from%20widgets/near/310515039" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Taro Naoi <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Errors.20from.20widgets.html#310515039">(Nov 16 2022 at 22:44)</a>:</h4>
<p>Hmmm, not sure why it wasn't working, but if I had to guess, it's because I was running stuff in the windows subsystem for linux and devtools doesn't have access to whatever is running outside of the subsystem. I'll try testing it in a different environment to see if I can get it working. Thanks for the help!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>