---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/.E2.9C.94.20Proving.20nonexistence.20of.20inductive.20fixpoints.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20Proving.20nonexistence.20of.20inductive.20fixpoints.3F.html">✔ Proving nonexistence of inductive fixpoints?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="295816601"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20Proving%20nonexistence%20of%20inductive%20fixpoints%3F/near/295816601" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20Proving.20nonexistence.20of.20inductive.20fixpoints.3F.html#295816601">(Aug 29 2022 at 10:25)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">no_suboject_self</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">o</span> <span class="o">:</span> <span class="n">Object</span><span class="o">,</span> <span class="bp">¬∃</span> <span class="n">n</span><span class="o">,</span> <span class="n">o.subobjects</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">some</span> <span class="n">o</span> <span class="o">:=</span>
  <span class="k">fun</span> <span class="n">o</span> <span class="o">⟨</span><span class="n">n</span><span class="o">,</span> <span class="n">e</span><span class="o">⟩</span> <span class="bp">=&gt;</span> <span class="n">Object.rec</span>
    <span class="o">(</span><span class="n">motive_1</span> <span class="o">:=</span> <span class="k">fun</span> <span class="n">o'</span> <span class="bp">=&gt;</span> <span class="n">o'</span> <span class="bp">≠</span> <span class="n">o</span><span class="o">)</span>
    <span class="o">(</span><span class="n">motive_2</span> <span class="o">:=</span> <span class="k">fun</span> <span class="n">o'</span> <span class="bp">=&gt;</span> <span class="n">o'</span> <span class="bp">≠</span> <span class="n">some</span> <span class="n">o</span><span class="o">)</span>
    <span class="o">(</span><span class="k">fun</span> <span class="n">f</span> <span class="n">ih</span> <span class="n">e</span> <span class="bp">=&gt;</span> <span class="kd">by</span> <span class="n">cases</span> <span class="n">e</span><span class="bp">;</span> <span class="n">exact</span> <span class="n">ih</span> <span class="n">n</span> <span class="n">e</span><span class="o">)</span>
    <span class="o">(</span><span class="k">fun</span> <span class="n">x</span> <span class="bp">=&gt;</span> <span class="n">nomatch</span> <span class="n">x</span><span class="o">)</span>
    <span class="o">(</span><span class="k">fun</span> <span class="n">o</span> <span class="n">h</span> <span class="n">e</span> <span class="bp">=&gt;</span> <span class="kd">by</span> <span class="n">cases</span> <span class="n">e</span><span class="bp">;</span> <span class="n">exact</span> <span class="n">h</span> <span class="n">rfl</span><span class="o">)</span>
    <span class="n">o</span> <span class="n">rfl</span>
</code></pre></div>



<a name="295818101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20Proving%20nonexistence%20of%20inductive%20fixpoints%3F/near/295818101" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrés Goens <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20Proving.20nonexistence.20of.20inductive.20fixpoints.3F.html#295818101">(Aug 29 2022 at 10:36)</a>:</h4>
<p>haha, wow, that really feels like black magic at first :D (makes more sense after looking at the signature of <code>Object.rec</code> though). Thanks a lot for that!</p>



<a name="295818124"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20Proving%20nonexistence%20of%20inductive%20fixpoints%3F/near/295818124" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20Proving.20nonexistence.20of.20inductive.20fixpoints.3F.html#295818124">(Aug 29 2022 at 10:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="315434">Andrés Goens</span> has marked this topic as resolved.</p>



<a name="295825529"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20Proving%20nonexistence%20of%20inductive%20fixpoints%3F/near/295825529" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20Proving.20nonexistence.20of.20inductive.20fixpoints.3F.html#295825529">(Aug 29 2022 at 11:31)</a>:</h4>
<blockquote>
<p>well founded recursion doesn't support inductives with rank higher than omega</p>
</blockquote>
<p>For the record, it does just fine as long as you provide the measure yourself.  <code>termination_by .. =&gt; foo</code> accepts any <code>(foo : Foo)</code> that has a <code>WellFoundedRelation Foo</code> instance.  (In particular this well-founded relation can have a rank bigger than ω.)</p>



<a name="295826918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20Proving%20nonexistence%20of%20inductive%20fixpoints%3F/near/295826918" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20Proving.20nonexistence.20of.20inductive.20fixpoints.3F.html#295826918">(Aug 29 2022 at 11:40)</a>:</h4>
<p>true, but in general you won't really have a better inductive to put there than <code>Foo</code> itself</p>



<a name="295827046"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20Proving%20nonexistence%20of%20inductive%20fixpoints%3F/near/295827046" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20Proving.20nonexistence.20of.20inductive.20fixpoints.3F.html#295827046">(Aug 29 2022 at 11:41)</a>:</h4>
<p>You could put something like <code>Ordinal</code> there but you would still have to prove the analogue of all the <code>sizeOf</code> lemmas and at that point the original <code>Object.rec</code> proof seems simpler</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>