---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/Prevent.20execution.20of.20.60.23eval.60.20during.20editing.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Prevent.20execution.20of.20.60.23eval.60.20during.20editing.html">Prevent execution of `#eval` during editing</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="239475040"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Prevent%20execution%20of%20%60%23eval%60%20during%20editing/near/239475040" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mac <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Prevent.20execution.20of.20.60.23eval.60.20during.20editing.html#239475040">(May 19 2021 at 18:34)</a>:</h4>
<p>Is there a way to print heavy duty <code>#eval</code>s (i.e. side-effect commands) from running in the editor (i.e. only running when the file is directly run with <code>lean</code>)?</p>



<a name="239481858"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Prevent%20execution%20of%20%60%23eval%60%20during%20editing/near/239481858" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Prevent.20execution.20of.20.60.23eval.60.20during.20editing.html#239481858">(May 19 2021 at 19:23)</a>:</h4>
<p>you can use <code>def main :=</code> instead of <code>#eval</code></p>



<a name="239482933"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Prevent%20execution%20of%20%60%23eval%60%20during%20editing/near/239482933" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mac <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Prevent.20execution.20of.20.60.23eval.60.20during.20editing.html#239482933">(May 19 2021 at 19:31)</a>:</h4>
<p><code>main</code> isn't run by <code>lean</code> though? <code>main</code> is only used in the built executable? I want to run the <code>#eval</code> at interpretation time but not editing time.</p>



<a name="239483561"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Prevent%20execution%20of%20%60%23eval%60%20during%20editing/near/239483561" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Prevent.20execution.20of.20.60.23eval.60.20during.20editing.html#239483561">(May 19 2021 at 19:35)</a>:</h4>
<p>won't that make them diverge?</p>



<a name="239483652"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Prevent%20execution%20of%20%60%23eval%60%20during%20editing/near/239483652" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Prevent.20execution.20of.20.60.23eval.60.20during.20editing.html#239483652">(May 19 2021 at 19:36)</a>:</h4>
<p><code>#eval</code> can modify the environment</p>



<a name="239484137"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Prevent%20execution%20of%20%60%23eval%60%20during%20editing/near/239484137" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mac <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Prevent.20execution.20of.20.60.23eval.60.20during.20editing.html#239484137">(May 19 2021 at 19:39)</a>:</h4>
<p>yes, but that's the point. If <code>#eval</code> is doing heavy duty IO work like compiling code or building a project, I don't want that run every time the editor is opened or refreshed.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>