---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/Unfold.20where.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Unfold.20where.html">Unfold where</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="262187121"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Unfold%20where/near/262187121" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marcus Rossel <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Unfold.20where.html#262187121">(Nov 20 2021 at 14:46)</a>:</h4>
<p>I can't figure out how to unfold the definition of a function defined in a <code>where</code> clause in a proof:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">Nat</span><span class="o">)</span> <span class="o">:</span> <span class="n">True</span> <span class="o">:=</span> <span class="kd">by</span>
  <span class="k">have</span> <span class="o">:</span> <span class="n">double</span> <span class="n">n</span> <span class="bp">=</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">n</span> <span class="o">:=</span> <span class="kd">by</span>
    <span class="n">simp</span> <span class="o">[</span><span class="n">double</span><span class="o">]</span>
  <span class="gr">sorry</span>
<span class="n">where</span>
  <span class="n">double</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">Nat</span><span class="o">)</span> <span class="o">:</span> <span class="n">Nat</span> <span class="o">:=</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">x</span>
</code></pre></div>
<p>On <code>simp [double]</code> I get the error:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">invalid</span> <span class="bp">'</span><span class="n">simp'</span><span class="o">,</span> <span class="n">proposition</span> <span class="n">expected</span>
  <span class="n">ℕ</span> <span class="bp">→</span> <span class="n">ℕ</span>
</code></pre></div>
<p>How can I unfold <code>double</code>?</p>



<a name="262187328"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Unfold%20where/near/262187328" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Unfold.20where.html#262187328">(Nov 20 2021 at 14:51)</a>:</h4>
<p>For a double that is defined outside of a where clause this proof works out by rfl but not for the one inside the where clause so I'm guessing that this use case isn't something that is supported at the moment?</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>