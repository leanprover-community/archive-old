---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/reducible.20instances.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/reducible.20instances.html">reducible instances</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="231031020"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/reducible%20instances/near/231031020" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Gross <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/reducible.20instances.html#231031020">(Mar 19 2021 at 14:29)</a>:</h4>
<p>Is there a way to get the <code>failed to synthesize instance</code> message to print after all the <code>inline</code>/<code>reducible</code> things have been unfolded?</p>



<a name="231093401"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/reducible%20instances/near/231093401" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/reducible.20instances.html#231093401">(Mar 19 2021 at 21:39)</a>:</h4>
<p>I don't think that's how it works. Typeclass inference unfolds reducibles while attempting to unify the typeclass subgoal with an instance, it doesn't do a two pass thing where it first eagerly unfolds reducibles then does typeclass inference</p>



<a name="231093532"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/reducible%20instances/near/231093532" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/reducible.20instances.html#231093532">(Mar 19 2021 at 21:40)</a>:</h4>
<p>Probably if you want this behavior it would be an explicit thing, i.e. you could do <code>apply_instance &lt;|&gt; dsimp reducible &gt;&gt; fail "failed to synthesize instance"</code> or whatever the lean 4 equivalent of that is</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>