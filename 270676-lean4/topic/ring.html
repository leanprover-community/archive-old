---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/ring.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/ring.html">ring</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="225255285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/ring/near/225255285" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Daniel Selsam <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/ring.html#225255285">(Feb 05 2021 at 02:57)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> have you tried a reflection-based ring tactic but using <code>dsimp</code> for the computation?</p>



<a name="225255328"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/ring/near/225255328" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/ring.html#225255328">(Feb 05 2021 at 02:58)</a>:</h4>
<p>yes, that's <code>ring2</code></p>



<a name="225255338"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/ring/near/225255338" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/ring.html#225255338">(Feb 05 2021 at 02:58)</a>:</h4>
<p>well it doesn't use <code>dsimp</code></p>



<a name="225255343"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/ring/near/225255343" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/ring.html#225255343">(Feb 05 2021 at 02:58)</a>:</h4>
<p>I'm not sure how that would be better</p>



<a name="225255373"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/ring/near/225255373" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/ring.html#225255373">(Feb 05 2021 at 02:59)</a>:</h4>
<p><code>simp</code> has a lot of performance problems when it is (ab)used as an evaluator</p>



<a name="225255393"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/ring/near/225255393" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/ring.html#225255393">(Feb 05 2021 at 02:59)</a>:</h4>
<p>I haven't done anything re: <code>ring</code> in lean 4 though</p>



<a name="225255457"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/ring/near/225255457" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Daniel Selsam <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/ring.html#225255457">(Feb 05 2021 at 03:00)</a>:</h4>
<p>I remember during Certigrad, we got a gagillion-X speedup by making <code>dsimp</code> produce a detailed <code>rfl</code> proof.</p>



<a name="225255481"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/ring/near/225255481" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Daniel Selsam <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/ring.html#225255481">(Feb 05 2021 at 03:00)</a>:</h4>
<p>Do you have any idea how much slower <code>ring2</code> is than <code>ring</code> in lean3?</p>



<a name="225255492"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/ring/near/225255492" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/ring.html#225255492">(Feb 05 2021 at 03:01)</a>:</h4>
<p>It was modest, something like 1.5x</p>



<a name="225255526"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/ring/near/225255526" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/ring.html#225255526">(Feb 05 2021 at 03:02)</a>:</h4>
<p>but you have to bend over backwards to write kernel computations that compute well (see the other thread)</p>



<a name="225255581"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/ring/near/225255581" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/ring.html#225255581">(Feb 05 2021 at 03:02)</a>:</h4>
<p>I found it to be more robust to just generate proof terms</p>



<a name="225255735"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/ring/near/225255735" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/ring.html#225255735">(Feb 05 2021 at 03:04)</a>:</h4>
<p>Also the reflection approach is less flexible wrt "optional features" like negation in your (semi)ring expression</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>