---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/docgen4.20not.20working.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html">docgen4 not working?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="272526753"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272526753" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272526753">(Feb 19 2022 at 16:10)</a>:</h4>
<p>I tried using docgen4 on my project with <code>\my\path\to\docgen-4 / Itertools</code>. But this is what i get when I run the server:<br>
<a href="/user_uploads/3121/KWAtyMV1zpCTh8O3a2SVCnpK/image.png">image.png</a> <a href="/user_uploads/3121/h7SFkj8fdo26w-dpgvsqIcP6/image.png">image.png</a> <br>
I tried again by specifying the directory (Itertools) where all my documentated functions are: <code>\my\path\to\docgen-4 /Itertools Itertools</code>, but i get the same thing</p>
<div class="message_inline_image"><a href="/user_uploads/3121/KWAtyMV1zpCTh8O3a2SVCnpK/image.png" title="image.png"><img src="/user_uploads/3121/KWAtyMV1zpCTh8O3a2SVCnpK/image.png"></a></div><div class="message_inline_image"><a href="/user_uploads/3121/h7SFkj8fdo26w-dpgvsqIcP6/image.png" title="image.png"><img src="/user_uploads/3121/h7SFkj8fdo26w-dpgvsqIcP6/image.png"></a></div>



<a name="272526778"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272526778" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272526778">(Feb 19 2022 at 16:10)</a>:</h4>
<p>By the way, here was my build output:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">PS</span> <span class="n">C</span><span class="o">:</span><span class="bp">\</span><span class="n">Users</span><span class="bp">\</span><span class="o">[</span><span class="n">REDACTED</span><span class="o">]</span><span class="bp">\</span><span class="n">Desktop</span><span class="bp">\</span><span class="n">programming</span><span class="bp">\</span><span class="n">Itertools</span><span class="bp">&gt;</span> <span class="n">C</span><span class="o">:</span><span class="bp">\</span><span class="n">clones</span><span class="bp">\</span><span class="n">doc</span><span class="bp">-</span><span class="n">gen4</span><span class="bp">\</span><span class="n">build</span><span class="bp">\</span><span class="n">bin</span><span class="bp">\</span><span class="n">doc</span><span class="bp">-</span><span class="n">gen4.exe</span> <span class="bp">/</span><span class="n">Itertools.lean</span> <span class="n">Itertools</span>
<span class="n">Loading</span> <span class="n">modules</span> <span class="k">from</span><span class="o">:</span> <span class="o">[</span><span class="n">c</span><span class="o">:</span><span class="bp">\</span><span class="n">users</span><span class="bp">\</span><span class="n">vatis</span><span class="bp">\</span><span class="n">desktop</span><span class="bp">\</span><span class="n">programming</span><span class="bp">\</span><span class="n">itertools</span><span class="bp">\</span><span class="n">build</span><span class="bp">\</span><span class="n">lib</span><span class="o">]</span>
<span class="n">Processing</span> <span class="n">modules</span>
<span class="n">WARNING</span><span class="o">:</span> <span class="n">Failed</span> <span class="n">to</span> <span class="n">calculate</span> <span class="n">equational</span> <span class="n">lemmata</span> <span class="n">for</span> <span class="n">Lean.expandExplicitBindersAux.loop</span><span class="o">:</span> <span class="n">tactic</span> <span class="bp">'</span><span class="n">simp'</span> <span class="n">failed</span><span class="o">,</span> <span class="n">nested</span> <span class="n">error</span><span class="o">:</span>
<span class="o">(</span><span class="n">deterministic</span><span class="o">)</span> <span class="n">timeout</span> <span class="n">at</span> <span class="bp">'</span><span class="n">simp'</span><span class="o">,</span> <span class="n">maximum</span> <span class="n">number</span> <span class="n">of</span> <span class="n">heartbeats</span> <span class="o">(</span><span class="mi">5000</span><span class="o">)</span> <span class="n">has</span> <span class="n">been</span> <span class="n">reached</span> <span class="o">(</span><span class="n">use</span> <span class="bp">'</span><span class="kd">set_option</span> <span class="n">maxHeartbeats</span> <span class="bp">&lt;</span><span class="n">num</span><span class="bp">&gt;'</span> <span class="n">to</span> <span class="n">set</span> <span class="n">the</span> <span class="n">limit</span><span class="o">)</span>
<span class="n">Outputting</span> <span class="n">HTML</span>
<span class="n">uncaught</span> <span class="n">exception</span><span class="o">:</span> <span class="n">invalid</span> <span class="n">argument</span> <span class="o">(</span><span class="n">error</span> <span class="n">code</span><span class="o">:</span> <span class="mi">22</span><span class="o">,</span> <span class="n">invalid</span> <span class="n">argument</span><span class="o">)</span>
  <span class="n">file</span><span class="o">:</span> <span class="bp">./</span><span class="n">build</span><span class="bp">/</span><span class="n">doc</span><span class="bp">/\</span><span class="n">find</span><span class="bp">\</span><span class="n">Lean.SourceInfo.getPos</span><span class="bp">?</span>
</code></pre></div>



<a name="272527136"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272527136" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Xubai Wang <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272527136">(Feb 19 2022 at 16:17)</a>:</h4>
<p>Does <code>\path\to\docgen-4 /Itertools/ Itertools</code>work? (notice the trailing slash)</p>



<a name="272527218"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272527218" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Xubai Wang <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272527218">(Feb 19 2022 at 16:18)</a>:</h4>
<p>Are there html pages in your <code>build/doc</code> directory?</p>



<a name="272527445"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272527445" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272527445">(Feb 19 2022 at 16:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="414345">Xubai Wang</span> <a href="#narrow/stream/270676-lean4/topic/docgen4.20not.20working.3F/near/272527218">said</a>:</p>
<blockquote>
<p>Are there html pages in your <code>build/doc</code> directory?</p>
</blockquote>
<p>yes</p>



<a name="272527620"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272527620" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272527620">(Feb 19 2022 at 16:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="414345">Xubai Wang</span> <a href="#narrow/stream/270676-lean4/topic/docgen4.20not.20working.3F/near/272527136">said</a>:</p>
<blockquote>
<p>Does <code>\path\to\docgen-4 /Itertools/ Itertools</code>work? (notice the trailing slash)</p>
</blockquote>
<p>its the same thing</p>



<a name="272527641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272527641" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272527641">(Feb 19 2022 at 16:27)</a>:</h4>
<p>Is your project somewhere so we can try this ourselves?</p>



<a name="272527710"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272527710" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272527710">(Feb 19 2022 at 16:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="395550">Henrik Böving</span> <a href="#narrow/stream/270676-lean4/topic/docgen4.20not.20working.3F/near/272527641">said</a>:</p>
<blockquote>
<p>Is your project somewhere so we can try this ourselves?</p>
</blockquote>
<p><a href="https://github.com/crabbo-rave/lean4-Itertools">https://github.com/crabbo-rave/lean4-Itertools</a></p>



<a name="272527836"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272527836" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272527836">(Feb 19 2022 at 16:30)</a>:</h4>
<p>Building with <code>doc-gen4 / Itertools</code> then cd-ing into <code>build/doc</code> and running a python test server with <code>python -m http.server</code> works for me. are you sure you are building and hosting this in the right way?</p>



<a name="272527943"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272527943" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272527943">(Feb 19 2022 at 16:33)</a>:</h4>
<p>I did git pull<br>
Im going to try again</p>



<a name="272528010"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272528010" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Xubai Wang <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272528010">(Feb 19 2022 at 16:34)</a>:</h4>
<p>May be a clearer approach: <br>
Run <code>doc-gen4 /build/doc/ Itertools</code> and <code>python3 -m http.server</code>, just in your project root without changing directory. and then visit <code>http://localhost:8000/build/doc/</code> in your browser.</p>



<a name="272528027"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272528027" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272528027">(Feb 19 2022 at 16:35)</a>:</h4>
<p>Thanks I will try it out</p>



<a name="272528274"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272528274" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272528274">(Feb 19 2022 at 16:40)</a>:</h4>
<p>I get an error</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">PS</span> <span class="n">C</span><span class="o">:</span><span class="bp">\</span><span class="n">Users</span><span class="bp">\</span><span class="n">rrrrr</span><span class="bp">\</span><span class="n">Desktop</span><span class="bp">\</span><span class="n">programming</span><span class="bp">\</span><span class="n">Itertools</span><span class="bp">&gt;</span> <span class="n">C</span><span class="o">:</span><span class="bp">\</span><span class="n">clones</span><span class="bp">\</span><span class="n">doc</span><span class="bp">-</span><span class="n">gen4</span><span class="bp">\</span><span class="n">build</span><span class="bp">\</span><span class="n">bin</span><span class="bp">\</span><span class="n">doc</span><span class="bp">-</span><span class="n">gen4.exe</span>  <span class="bp">/</span><span class="n">build</span><span class="bp">/</span><span class="n">doc</span><span class="bp">/</span> <span class="n">Itertool</span>
<span class="n">Loading</span> <span class="n">modules</span> <span class="k">from</span><span class="o">:</span> <span class="o">[</span><span class="n">c</span><span class="o">:</span><span class="bp">\</span><span class="n">users</span><span class="bp">\</span><span class="n">vatis</span><span class="bp">\</span><span class="n">desktop</span><span class="bp">\</span><span class="n">programming</span><span class="bp">\</span><span class="n">itertools</span><span class="bp">\</span><span class="n">build</span><span class="bp">\</span><span class="n">lib</span><span class="o">]</span>
<span class="n">uncaught</span> <span class="n">exception</span><span class="o">:</span> <span class="n">unknown</span> <span class="n">package</span> <span class="bp">'</span><span class="n">Itertool'</span>
</code></pre></div>



<a name="272528294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272528294" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272528294">(Feb 19 2022 at 16:41)</a>:</h4>
<p>well yes your package is called Itertool<strong>s</strong></p>



<a name="272528298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272528298" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272528298">(Feb 19 2022 at 16:41)</a>:</h4>
<p>Yes</p>



<a name="272528371"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272528371" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272528371">(Feb 19 2022 at 16:43)</a>:</h4>
<p>So you should give doc-gen that name and not the singular form</p>



<a name="272528398"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272528398" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272528398">(Feb 19 2022 at 16:43)</a>:</h4>
<p>Sorry if im being a bit annoying, but isnt that what I did?</p>



<a name="272528484"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272528484" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272528484">(Feb 19 2022 at 16:45)</a>:</h4>
<p>You wrote <code>Itertool</code> not <code>Itertools</code>.</p>



<a name="272528564"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272528564" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272528564">(Feb 19 2022 at 16:46)</a>:</h4>
<p>ah i see lol</p>



<a name="272528640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272528640" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272528640">(Feb 19 2022 at 16:48)</a>:</h4>
<p><a href="/user_uploads/3121/cRvsu5GY_c7J4vTAQkBcokl2/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/cRvsu5GY_c7J4vTAQkBcokl2/image.png" title="image.png"><img src="/user_uploads/3121/cRvsu5GY_c7J4vTAQkBcokl2/image.png"></a></div>



<a name="272528877"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272528877" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Xubai Wang <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272528877">(Feb 19 2022 at 16:53)</a>:</h4>
<p>Can you provide a screen capture (or ls) of your <code>build/doc</code> dir?</p>



<a name="272528965"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272528965" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272528965">(Feb 19 2022 at 16:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="414345">Xubai Wang</span> <a href="#narrow/stream/270676-lean4/topic/docgen4.20not.20working.3F/near/272528877">said</a>:</p>
<blockquote>
<p>Can you provide a screen capture (or ls) of your <code>build/doc</code> dir?</p>
</blockquote>
<p>(much longer)<br>
<a href="/user_uploads/3121/95rr5IrSfpTgZn6JlKDPIydu/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/95rr5IrSfpTgZn6JlKDPIydu/image.png" title="image.png"><img src="/user_uploads/3121/95rr5IrSfpTgZn6JlKDPIydu/image.png"></a></div>



<a name="272529219"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272529219" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Xubai Wang <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272529219">(Feb 19 2022 at 16:59)</a>:</h4>
<p>Emmm, so the problem is here: there are only <code>find</code> folder in your <code>build/doc</code>, but a normal one should be like this: </p>
<p><a href="/user_uploads/3121/6VQrh2n0XeXFIx24rxYPZjwA/截屏2022-02-20-上午12.56.29.png">screenshot</a> </p>
<div class="message_inline_image"><a href="/user_uploads/3121/6VQrh2n0XeXFIx24rxYPZjwA/截屏2022-02-20-上午12.56.29.png" title="screenshot"><img src="/user_uploads/3121/6VQrh2n0XeXFIx24rxYPZjwA/截屏2022-02-20-上午12.56.29.png"></a></div><p>Which commit of doc-gen4 do you use?</p>



<a name="272529250"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272529250" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272529250">(Feb 19 2022 at 16:59)</a>:</h4>
<p>I just cloned the one from github, and recently did <code>git pull</code></p>



<a name="272529356"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272529356" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Xubai Wang <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272529356">(Feb 19 2022 at 17:00)</a>:</h4>
<p>Then try <code>lake clean</code> and doc-gen it again?</p>



<a name="272529516"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272529516" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272529516">(Feb 19 2022 at 17:03)</a>:</h4>
<p>i have done that a thousand times already. everytime i build the doc</p>



<a name="272529543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272529543" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Xubai Wang <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272529543">(Feb 19 2022 at 17:03)</a>:</h4>
<p><span class="user-mention silent" data-user-id="467926">Joseph O</span> <a href="#narrow/stream/270676-lean4/topic/docgen4.20not.20working.3F/near/272526778">said</a>:</p>
<blockquote>
<p>By the way, here was my build output:</p>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">PS</span> <span class="n">C</span><span class="o">:</span><span class="bp">\</span><span class="n">Users</span><span class="bp">\</span><span class="o">[</span><span class="n">REDACTED</span><span class="o">]</span><span class="bp">\</span><span class="n">Desktop</span><span class="bp">\</span><span class="n">programming</span><span class="bp">\</span><span class="n">Itertools</span><span class="bp">&gt;</span> <span class="n">C</span><span class="o">:</span><span class="bp">\</span><span class="n">clones</span><span class="bp">\</span><span class="n">doc</span><span class="bp">-</span><span class="n">gen4</span><span class="bp">\</span><span class="n">build</span><span class="bp">\</span><span class="n">bin</span><span class="bp">\</span><span class="n">doc</span><span class="bp">-</span><span class="n">gen4.exe</span> <span class="bp">/</span><span class="n">Itertools.lean</span> <span class="n">Itertools</span>
<span class="n">Loading</span> <span class="n">modules</span> <span class="k">from</span><span class="o">:</span> <span class="o">[</span><span class="n">c</span><span class="o">:</span><span class="bp">\</span><span class="n">users</span><span class="bp">\</span><span class="n">vatis</span><span class="bp">\</span><span class="n">desktop</span><span class="bp">\</span><span class="n">programming</span><span class="bp">\</span><span class="n">itertools</span><span class="bp">\</span><span class="n">build</span><span class="bp">\</span><span class="n">lib</span><span class="o">]</span>
<span class="n">Processing</span> <span class="n">modules</span>
<span class="n">WARNING</span><span class="o">:</span> <span class="n">Failed</span> <span class="n">to</span> <span class="n">calculate</span> <span class="n">equational</span> <span class="n">lemmata</span> <span class="n">for</span> <span class="n">Lean.expandExplicitBindersAux.loop</span><span class="o">:</span> <span class="n">tactic</span> <span class="bp">'</span><span class="n">simp'</span> <span class="n">failed</span><span class="o">,</span> <span class="n">nested</span> <span class="n">error</span><span class="o">:</span>
<span class="o">(</span><span class="n">deterministic</span><span class="o">)</span> <span class="n">timeout</span> <span class="n">at</span> <span class="bp">'</span><span class="n">simp'</span><span class="o">,</span> <span class="n">maximum</span> <span class="n">number</span> <span class="n">of</span> <span class="n">heartbeats</span> <span class="o">(</span><span class="mi">5000</span><span class="o">)</span> <span class="n">has</span> <span class="n">been</span> <span class="n">reached</span> <span class="o">(</span><span class="n">use</span> <span class="bp">'</span><span class="kd">set_option</span> <span class="n">maxHeartbeats</span> <span class="bp">&lt;</span><span class="n">num</span><span class="bp">&gt;'</span> <span class="n">to</span> <span class="n">set</span> <span class="n">the</span> <span class="n">limit</span><span class="o">)</span>
<span class="n">Outputting</span> <span class="n">HTML</span>
<span class="n">uncaught</span> <span class="n">exception</span><span class="o">:</span> <span class="n">invalid</span> <span class="n">argument</span> <span class="o">(</span><span class="n">error</span> <span class="n">code</span><span class="o">:</span> <span class="mi">22</span><span class="o">,</span> <span class="n">invalid</span> <span class="n">argument</span><span class="o">)</span>
  <span class="n">file</span><span class="o">:</span> <span class="bp">./</span><span class="n">build</span><span class="bp">/</span><span class="n">doc</span><span class="bp">/\</span><span class="n">find</span><span class="bp">\</span><span class="n">Lean.SourceInfo.getPos</span><span class="bp">?</span>
</code></pre></div><br>
</p>
</blockquote>
<p>At first there is an uncaught exception. Probably it stops doc-gen from generating other parts of the doc. Does this error appears again and again? (Just ignore the heartbeat warning, that's problem from Lean itself)</p>



<a name="272529607"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272529607" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272529607">(Feb 19 2022 at 17:04)</a>:</h4>
<p>yes</p>



<a name="272529636"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272529636" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272529636">(Feb 19 2022 at 17:05)</a>:</h4>
<p>That's either an issue with the harcoded <code>build/doc</code> base path or with the fact that windows file system might not like a <code>?</code> in its file names, can you create a directory with a ? in its name under Windows?</p>



<a name="272529935"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272529935" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272529935">(Feb 19 2022 at 17:11)</a>:</h4>
<p>Also, does your user name contain spaces?</p>



<a name="272529993"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272529993" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272529993">(Feb 19 2022 at 17:12)</a>:</h4>
<p>It doesnt, we can see it in the doc-gen log which he forgot to redact.</p>



<a name="272530107"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272530107" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272530107">(Feb 19 2022 at 17:14)</a>:</h4>
<p>Looks like you're right, Windows does not support question marks in file names</p>



<a name="272530126"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272530126" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Xubai Wang <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272530126">(Feb 19 2022 at 17:14)</a>:</h4>
<p><a href="https://docs.microsoft.com/en-us/windows/win32/fileio/naming-a-file">https://docs.microsoft.com/en-us/windows/win32/fileio/naming-a-file</a><br>
Yes, that would unfortunately be a problem for <code>find</code>.</p>



<a name="272530222"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272530222" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Xubai Wang <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272530222">(Feb 19 2022 at 17:16)</a>:</h4>
<p>How much do we rely on a file based <code>find</code>?</p>



<a name="272530233"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272530233" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272530233">(Feb 19 2022 at 17:16)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib4_docs/find/Nat">docs4#Nat</a> is completely based on it.</p>



<a name="272530239"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272530239" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272530239">(Feb 19 2022 at 17:16)</a>:</h4>
<p>(referring to the linking Zulip feature here).</p>



<a name="272530386"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272530386" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Xubai Wang <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272530386">(Feb 19 2022 at 17:19)</a>:</h4>
<p>Maybe we can link to a single <code>/find.html</code> page and rely on JavaScript to figure out the right place?</p>



<a name="272530426"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272530426" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272530426">(Feb 19 2022 at 17:20)</a>:</h4>
<p>I was about to write that yes^^</p>



<a name="272530437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272530437" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272530437">(Feb 19 2022 at 17:20)</a>:</h4>
<p>Although I'm completely unfamiliar with frontend development so someone else would have to do that</p>



<a name="272530588"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272530588" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272530588">(Feb 19 2022 at 17:23)</a>:</h4>
<p>Oh and there is also an open issue for the src# variant here <a href="https://github.com/leanprover/doc-gen4/issues/30">https://github.com/leanprover/doc-gen4/issues/30</a> which would have to be addressed the same way then.</p>



<a name="272531095"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272531095" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Xubai Wang <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272531095">(Feb 19 2022 at 17:32)</a>:</h4>
<p><span class="user-mention" data-user-id="467926">@Joseph O</span> For temporal workaround, you can remove these lines in <code>DocGen4/Output.lean</code> and rebuild doc-gen to disable the <code>find</code> feature and that will work for your platform.</p>
<p><a href="/user_uploads/3121/jYB0ItHEhn7KtoMn7VDke7LM/截屏2022-02-20-上午1.28.22.png">DocGen4/Output.lean</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/jYB0ItHEhn7KtoMn7VDke7LM/截屏2022-02-20-上午1.28.22.png" title="DocGen4/Output.lean"><img src="/user_uploads/3121/jYB0ItHEhn7KtoMn7VDke7LM/截屏2022-02-20-上午1.28.22.png"></a></div><p><em>EDITED: also remove the "searchable_data.bmp" line</em>.</p>



<a name="272531222"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272531222" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272531222">(Feb 19 2022 at 17:35)</a>:</h4>
<p>That's not gonna compile the next line uses the <code>json</code> variable still.</p>



<a name="272531293"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272531293" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272531293">(Feb 19 2022 at 17:36)</a>:</h4>
<p>But if you comment that one out too it will</p>



<a name="272535717"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272535717" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272535717">(Feb 19 2022 at 19:00)</a>:</h4>
<p>let me try rebuilding docgen4</p>



<a name="272535819"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272535819" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272535819">(Feb 19 2022 at 19:01)</a>:</h4>
<p>first. That could fix it</p>



<a name="272536665"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272536665" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272536665">(Feb 19 2022 at 19:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="414345">Xubai Wang</span> <a href="#narrow/stream/270676-lean4/topic/docgen4.20not.20working.3F/near/272531095">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="467926">Joseph O</span> For temporal workaround, you can remove these lines in <code>DocGen4/Output.lean</code> and rebuild doc-gen to disable the <code>find</code> feature and that will work for your platform.</p>
<p><a href="/user_uploads/3121/jYB0ItHEhn7KtoMn7VDke7LM/截屏2022-02-20-上午1.28.22.png">DocGen4/Output.lean</a></p>
<p><em>EDITED: also remove the "searchable_data.bmp" line</em>.</p>
</blockquote>
<p>When i do that it wont build</p>



<a name="272536810"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272536810" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272536810">(Feb 19 2022 at 19:19)</a>:</h4>
<p>I recloned it from github and that version is not building. Should I report this as an issue?</p>



<a name="272536891"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272536891" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272536891">(Feb 19 2022 at 19:20)</a>:</h4>
<p>The version very much is building according to both my machine and the CLI, what's your error with a new cloned one?</p>



<a name="272537352"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272537352" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272537352">(Feb 19 2022 at 19:29)</a>:</h4>
<p>Well it worked right now. Let me try generating documentation</p>



<a name="272537458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272537458" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272537458">(Feb 19 2022 at 19:31)</a>:</h4>
<p>What does this mean?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">uncaught</span> <span class="n">exception</span><span class="o">:</span> <span class="n">invalid</span> <span class="n">argument</span> <span class="o">(</span><span class="n">error</span> <span class="n">code</span><span class="o">:</span> <span class="mi">22</span><span class="o">,</span> <span class="n">invalid</span> <span class="n">argument</span><span class="o">)</span>
  <span class="n">file</span><span class="o">:</span> <span class="bp">.\</span><span class="n">build</span><span class="bp">\</span><span class="n">doc</span><span class="bp">\</span><span class="n">find</span><span class="bp">\</span><span class="n">Lean.SourceInfo.getPos</span><span class="bp">?</span>
</code></pre></div>
<p>i always get it</p>



<a name="272537521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272537521" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272537521">(Feb 19 2022 at 19:32)</a>:</h4>
<p>Why is it working on you machine and not mine? Are you using windows?</p>



<a name="272537570"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272537570" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272537570">(Feb 19 2022 at 19:33)</a>:</h4>
<p>No, I'm on Fedora, Xubai is on MacOS (at least his screenshots look like that) and all the CLI and automation runs some Linux flavour as well. I neither have a Windows machine nor has someone with a Windows machine yet tried to run doc-gen4 so this is why it wasnt discovered before.</p>



<a name="272537632"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272537632" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272537632">(Feb 19 2022 at 19:34)</a>:</h4>
<p>No one has tried docgen4 on windows yet? This could be the problem</p>



<a name="272537669"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272537669" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272537669">(Feb 19 2022 at 19:35)</a>:</h4>
<p>Any ideas why it doesnt work on Windows?</p>



<a name="272537681"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272537681" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272537681">(Feb 19 2022 at 19:35)</a>:</h4>
<p>Why it doesn't work was already elaborated in detail above.</p>



<a name="272537752"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272537752" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272537752">(Feb 19 2022 at 19:36)</a>:</h4>
<p>However it should work if you comment out the lines in the screenshot above as well as the next one that uses the json variable because then these directories are not created anymore.</p>



<a name="272537787"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272537787" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272537787">(Feb 19 2022 at 19:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="395550">Henrik Böving</span> <a href="#narrow/stream/270676-lean4/topic/docgen4.20not.20working.3F/near/272529636">said</a>:</p>
<blockquote>
<p>That's either an issue with the harcoded <code>build/doc</code> base path or with the fact that windows file system might not like a <code>?</code> in its file names, can you create a directory with a ? in its name under Windows?</p>
</blockquote>
<p>I can try</p>



<a name="272537808"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272537808" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272537808">(Feb 19 2022 at 19:37)</a>:</h4>
<p>Read the discussion fully we know that a ? is illegal already by now.</p>



<a name="272537816"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272537816" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272537816">(Feb 19 2022 at 19:37)</a>:</h4>
<p>yeah Windows doesn't allow it</p>



<a name="272537884"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272537884" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272537884">(Feb 19 2022 at 19:38)</a>:</h4>
<p>I can try <a href="#narrow/stream/270676-lean4/topic/docgen4.20not.20working.3F/near/272531095">what this message says</a> again</p>



<a name="272538021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272538021" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272538021">(Feb 19 2022 at 19:40)</a>:</h4>
<p>It worked! <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="272538067"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272538067" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272538067">(Feb 19 2022 at 19:41)</a>:</h4>
<p>Are the docstrings supposed to show up somewhere?</p>



<a name="272538123"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272538123" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272538123">(Feb 19 2022 at 19:42)</a>:</h4>
<p>Not yet</p>



<a name="272538240"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272538240" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Xubai Wang <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272538240">(Feb 19 2022 at 19:45)</a>:</h4>
<p><span class="user-mention" data-user-id="395550">@Henrik Böving</span> docstring now works perfectly on mathlib4 when i test it locally but when I merge it into <code>main</code>, there are <code>PANIC at Std.HashMap.find! Std.Data.HashMap:177:14: key is not in the map</code> errors.</p>



<a name="272538345"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272538345" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272538345">(Feb 19 2022 at 19:47)</a>:</h4>
<p>Aha....it's a little bit annoying panics don't have a backtrace, you could try to <code>git bisect</code> the issue.</p>



<a name="272538471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272538471" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272538471">(Feb 19 2022 at 19:49)</a>:</h4>
<p>I can't reproduce it with the current doc-gen main so it's probably some interaction between a change on main and a change of yours.</p>



<a name="272539807"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272539807" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272539807">(Feb 19 2022 at 20:13)</a>:</h4>
<p>Im aware that right now the lean 4 devs are worried about other things at the moment, but will there be a centralized website for lake packages like <a href="http://crates.io">crates.io</a>, or is it still not known yet?</p>



<a name="272540301"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272540301" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272540301">(Feb 19 2022 at 20:22)</a>:</h4>
<p>Not known.</p>



<a name="272540346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272540346" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Xubai Wang <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272540346">(Feb 19 2022 at 20:22)</a>:</h4>
<p>I can help write a simple unofficial one based on the GitHub search <a href="https://github.com/search?q=lakefile.lean+in%3Apath&amp;type=Code">https://github.com/search?q=lakefile.lean+in%3Apath&amp;type=Code</a>, much like that of <a href="https://lib.rs/">lib.rs</a>.</p>



<a name="272540377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272540377" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272540377">(Feb 19 2022 at 20:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="414345">Xubai Wang</span> <a href="#narrow/stream/270676-lean4/topic/docgen4.20not.20working.3F/near/272540346">said</a>:</p>
<blockquote>
<p>I can help write a simple unofficial one based on the GitHub search <a href="https://github.com/search?q=lakefile.lean+in%3Apath&amp;type=Code">https://github.com/search?q=lakefile.lean+in%3Apath&amp;type=Code</a>.</p>
</blockquote>
<p>Wow 625k</p>



<a name="272540390"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272540390" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272540390">(Feb 19 2022 at 20:23)</a>:</h4>
<p>Lots of those are false positives by the relatively liberal github search</p>



<a name="272540400"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272540400" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272540400">(Feb 19 2022 at 20:23)</a>:</h4>
<p>If you do end up writing one I would love to help</p>



<a name="272540403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272540403" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272540403">(Feb 19 2022 at 20:23)</a>:</h4>
<p>I would estimate the amount of Lean 4 projects out there is at most in the 100s at the moment.</p>



<a name="272540495"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/docgen4%20not%20working%3F/near/272540495" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/docgen4.20not.20working.3F.html#272540495">(Feb 19 2022 at 20:25)</a>:</h4>
<p>Yeah towards the end it is not counting lakefile.lean anymore: <a href="/user_uploads/3121/81CP2aWpQDUKssYxiUZus6sk/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/81CP2aWpQDUKssYxiUZus6sk/image.png" title="image.png"><img src="/user_uploads/3121/81CP2aWpQDUKssYxiUZus6sk/image.png"></a></div>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>