---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/Retrieve.20actual.20path.20in.20vscode.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Retrieve.20actual.20path.20in.20vscode.html">Retrieve actual path in vscode</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="272521767"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Retrieve%20actual%20path%20in%20vscode/near/272521767" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Xubai Wang <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Retrieve.20actual.20path.20in.20vscode.html#272521767">(Feb 19 2022 at 14:34)</a>:</h4>
<p>Currently when we use <code>Context.fileName (← read)</code> in <code>TermElabM</code>, the VSCode extension return "&lt;input&gt;" rather than the file's actual path, which lead to the errors shown in the screen capture.</p>
<p><a href="/user_uploads/3121/kfS-7ktdR6Y4QK2n7zWloFT2/截屏2022-02-19-下午10.28.51.png">screen capture</a> </p>
<div class="message_inline_image"><a href="/user_uploads/3121/kfS-7ktdR6Y4QK2n7zWloFT2/截屏2022-02-19-下午10.28.51.png" title="screen capture"><img src="/user_uploads/3121/kfS-7ktdR6Y4QK2n7zWloFT2/截屏2022-02-19-下午10.28.51.png"></a></div><p>Can we switch to actual path, or is there any alternative way to retrieve <code>FilePath</code> of current file?</p>



<a name="273367644"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Retrieve%20actual%20path%20in%20vscode/near/273367644" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mac <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Retrieve.20actual.20path.20in.20vscode.html#273367644">(Feb 26 2022 at 22:51)</a>:</h4>
<p>Does this work when the file is elaborated directly with <code>lean</code>? I suspect the problem is that the Lean LSP is not setting the <code>fileName</code> of the Context to the file being interactively elaborated.</p>



<a name="273370096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Retrieve%20actual%20path%20in%20vscode/near/273370096" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Xubai Wang <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Retrieve.20actual.20path.20in.20vscode.html#273370096">(Feb 26 2022 at 23:46)</a>:</h4>
<p>It builds with lake. so the problem is from LSP. <code>"&lt;input&gt;"</code> is used instead of actual file name in <code>Lean.Server</code></p>



<a name="273393451"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Retrieve%20actual%20path%20in%20vscode/near/273393451" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Retrieve.20actual.20path.20in.20vscode.html#273393451">(Feb 27 2022 at 09:34)</a>:</h4>
<p>Should be fixed with <a href="https://github.com/leanprover/lean4/commit/6c6f66b812e009d74a2021674bac842543b40ca0">https://github.com/leanprover/lean4/commit/6c6f66b812e009d74a2021674bac842543b40ca0</a>, please give it a try</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>