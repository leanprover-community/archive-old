---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html">lean4 repo in vscode</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="224894131"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224894131" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224894131">(Feb 02 2021 at 16:17)</a>:</h4>
<p>Is it possible to run the vscode-lean4 extension on the lean 4 repo? This was also somewhat subtle in lean 3 because there is no leanpkg.toml file, but it's really useful to explore the code (I imagine Leo &amp; Sebastian use the emacs mode in this repo all the time).</p>



<a name="224894831"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224894831" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224894831">(Feb 02 2021 at 16:22)</a>:</h4>
<p>"Works just fine for me?"</p>



<a name="224894872"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224894872" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wojciech Nawrocki <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224894872">(Feb 02 2021 at 16:22)</a>:</h4>
<p>Yes, it should just work if you have <code>elan</code> pointed at a recent <code>lean4</code>. The only difference is for go-to-def, you need to set the <code>LEAN_SRC_PATH</code> environment variable to <code>/path/to/lean4/src</code>.</p>



<a name="224894874"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224894874" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224894874">(Feb 02 2021 at 16:22)</a>:</h4>
<p>Did you run into any issues?</p>



<a name="224895029"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224895029" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224895029">(Feb 02 2021 at 16:23)</a>:</h4>
<p>on review it looks like it was the lean 3 extension running instead of lean 4. But after enabling vscode-lean4 in the project, now I'm getting no highlighting or anything, although the file extension is recognized</p>



<a name="224895195"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224895195" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wojciech Nawrocki <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224895195">(Feb 02 2021 at 16:24)</a>:</h4>
<p>I observed this too, a workaround is to change language mode to <code>lean4</code> instead of <code>lean</code>.</p>



<a name="224895356"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224895356" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224895356">(Feb 02 2021 at 16:25)</a>:</h4>
<p>You may need to re-open the folder after you set it up so that the extension can launch again</p>



<a name="224895412"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224895412" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224895412">(Feb 02 2021 at 16:25)</a>:</h4>
<p>aha, now I have colors but still no errors</p>



<a name="224895663"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224895663" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224895663">(Feb 02 2021 at 16:27)</a>:</h4>
<p>vscode-lean4 will yield when the major version of <code>lean</code> is not <code>4</code>. Does re-opening the folder not work?</p>



<a name="224895798"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224895798" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224895798">(Feb 02 2021 at 16:27)</a>:</h4>
<p>how do I control the resolved version of lean without a leanpkg?</p>



<a name="224895913"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224895913" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224895913">(Feb 02 2021 at 16:28)</a>:</h4>
<p><code>lean --version</code> from the root gives <code>Lean (version 3.26.0, commit 5a5c139af3e9, Release)</code></p>



<a name="224895951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224895951" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224895951">(Feb 02 2021 at 16:28)</a>:</h4>
<p>E.g. by setting lean 4 as your default in elan</p>



<a name="224896002"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224896002" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224896002">(Feb 02 2021 at 16:28)</a>:</h4>
<p>...?</p>



<a name="224896127"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224896127" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wojciech Nawrocki <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224896127">(Feb 02 2021 at 16:29)</a>:</h4>
<p>You can also run <code>elan override set lean4-toolchain-name</code> in the <code>lean4/</code> root, but I think that may require you to launch <code>code</code> from that root as well</p>



<a name="224896298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224896298" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224896298">(Feb 02 2021 at 16:30)</a>:</h4>
<p>the only version that shows up in <code>elan toolchain list</code> is <code>leanprover-lean4-4.0.0-m1</code></p>



<a name="224896412"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224896412" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wojciech Nawrocki <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224896412">(Feb 02 2021 at 16:31)</a>:</h4>
<p>That's the initial release? It's quite old, you may want <code>leanprover/lean4:nightly</code></p>



<a name="224896495"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224896495" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224896495">(Feb 02 2021 at 16:31)</a>:</h4>
<p>yeah I know, but I'm not sure where the magic names like <code>leanprover/lean4:nightly</code> are coming from</p>



<a name="224896641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224896641" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224896641">(Feb 02 2021 at 16:32)</a>:</h4>
<p>okay this is working now, thanks folks</p>



<a name="224896730"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224896730" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224896730">(Feb 02 2021 at 16:33)</a>:</h4>
<p>although code like this is not getting highlighted right, the comment doesn't end</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code>  <span class="c">/-</span><span class="cm"> Generate `CodeBlock` for `doIf; doElems`</span>
<span class="cm">     `doIf` is of the form</span>
<span class="cm">     ```</span>
<span class="cm">     "if " &gt;&gt; optIdent &gt;&gt; termParser &gt;&gt; " then " &gt;&gt; doSeq</span>
<span class="cm">      &gt;&gt; many (group (try (group (" else " &gt;&gt; " if ")) &gt;&gt; optIdent &gt;&gt; termParser &gt;&gt; " then " &gt;&gt; doSeq))</span>
<span class="cm">      &gt;&gt; optional (" else " &gt;&gt; doSeq)</span>
<span class="cm">     ```  -/</span>
  <span class="n">partial</span> <span class="kd">def</span> <span class="n">doIfToCode</span> <span class="o">(</span><span class="n">doIf</span> <span class="o">:</span> <span class="n">Syntax</span><span class="o">)</span> <span class="o">(</span><span class="n">doElems</span> <span class="o">:</span> <span class="n">List</span> <span class="n">Syntax</span><span class="o">)</span> <span class="o">:</span> <span class="n">M</span> <span class="n">CodeBlock</span> <span class="o">:=</span> <span class="k">do</span>
    <span class="k">let</span> <span class="n">view</span> <span class="bp">←</span> <span class="n">liftMacroM</span> <span class="bp">$</span> <span class="n">mkDoIfView</span> <span class="n">doIf</span>
    <span class="k">let</span> <span class="n">thenBranch</span> <span class="bp">←</span> <span class="n">doSeqToCode</span> <span class="o">(</span><span class="n">getDoSeqElems</span> <span class="n">view.thenBranch</span><span class="o">)</span>
    <span class="k">let</span> <span class="n">elseBranch</span> <span class="bp">←</span> <span class="n">doSeqToCode</span> <span class="o">(</span><span class="n">getDoSeqElems</span> <span class="n">view.elseBranch</span><span class="o">)</span>
    <span class="k">let</span> <span class="n">ite</span> <span class="bp">←</span> <span class="n">mkIte</span> <span class="n">view.ref</span> <span class="n">view.optIdent</span> <span class="n">view.cond</span> <span class="n">thenBranch</span> <span class="n">elseBranch</span>
    <span class="n">concatWith</span> <span class="n">ite</span> <span class="n">doElems</span>
</code></pre></div>



<a name="224896964"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224896964" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224896964">(Feb 02 2021 at 16:34)</a>:</h4>
<p>I guess that's an issue with the vscode syntax highlighter in both lean 3 and lean 4</p>



<a name="224896986"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224896986" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224896986">(Feb 02 2021 at 16:34)</a>:</h4>
<p>Updated instructions: <a href="https://github.com/leanprover/lean4/commit/f80147e264c30f6409be5eb2f3f74f0912917ebc">https://github.com/leanprover/lean4/commit/f80147e264c30f6409be5eb2f3f74f0912917ebc</a> (though this still assumes local development, not just browsing)</p>



<a name="224896994"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224896994" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224896994">(Feb 02 2021 at 16:34)</a>:</h4>
<p>oh yeah, that's broken</p>



<a name="224897324"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224897324" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224897324">(Feb 02 2021 at 16:36)</a>:</h4>
<p>When you say to open <code>src/</code> as workspace folder, do you mean that the project root should be <code>src</code> or that it should be a two-folder workspace with both <code>lean4/</code> and <code>lean4/src</code> open?</p>



<a name="224897622"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224897622" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224897622">(Feb 02 2021 at 16:39)</a>:</h4>
<p>Ooh, go to definition + hovers = <span aria-label="rainbow" class="emoji emoji-1f308" role="img" title="rainbow">:rainbow:</span></p>



<a name="224898155"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224898155" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224898155">(Feb 02 2021 at 16:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/270676-lean4/topic/lean4.20repo.20in.20vscode/near/224897324">said</a>:</p>
<blockquote>
<p>When you say to open <code>src/</code> as workspace folder, do you mean that the project root should be <code>src</code> or that it should be a two-folder workspace with both <code>lean4/</code> and <code>lean4/src</code> open?</p>
</blockquote>
<p>I believe the only important part is that you do not open <em>only</em> the root as a workspace since then <code>elan</code> will be called from there and use the wrong stage. Which doesn't matter for browsing of course.</p>



<a name="224898404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224898404" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224898404">(Feb 02 2021 at 16:43)</a>:</h4>
<p>I have set an elan override for <code>lean4/</code> and then open <code>code lean4/</code>.  This also works fine.</p>



<a name="224898486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224898486" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224898486">(Feb 02 2021 at 16:44)</a>:</h4>
<p>that's what I did at first but go to definition didn't work</p>



<a name="224898550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224898550" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224898550">(Feb 02 2021 at 16:44)</a>:</h4>
<p>opening src works but then you can't see the whole project</p>



<a name="224898753"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224898753" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224898753">(Feb 02 2021 at 16:46)</a>:</h4>
<p>Go-to-definition works for me as well (after setting LEAN_SRC_PATH).</p>



<a name="224898864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224898864" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224898864">(Feb 02 2021 at 16:46)</a>:</h4>
<p>Do I have to invoke <code>LEAN_SRC_PATH=lean4/src code lean4/</code> to make that work?</p>



<a name="224898908"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224898908" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224898908">(Feb 02 2021 at 16:47)</a>:</h4>
<p>or did you just stick that in your bashrc or something</p>



<a name="224898957"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224898957" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224898957">(Feb 02 2021 at 16:47)</a>:</h4>
<p>I used the absolute path, <code>env LEAN_SRC_PATH=$PWD/src code .</code></p>



<a name="224899079"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224899079" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224899079">(Feb 02 2021 at 16:48)</a>:</h4>
<p>Do we have to set <code>LEAN_SRC_PATH</code> for all lean4 projects now?</p>



<a name="224899218"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224899218" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224899218">(Feb 02 2021 at 16:49)</a>:</h4>
<p><code>leanpkg</code> does it automatically when called to build dependencies from the server</p>



<a name="224899501"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224899501" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224899501">(Feb 02 2021 at 16:50)</a>:</h4>
<p>It would be nice if there were some vscode setting to override in the lean4 project to make this variable resolve, since I guess a leanpkg.toml isn't an option</p>



<a name="224899561"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224899561" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224899561">(Feb 02 2021 at 16:51)</a>:</h4>
<p>(since I guess it is vscode-lean4 that is invoking elan and could set this variable)</p>



<a name="224899740"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224899740" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224899740">(Feb 02 2021 at 16:52)</a>:</h4>
<p>The only reason we don't have a <code>src/leanpkg.toml</code> is that there is no <code>leanpkg</code> in stage 0 (except with the Nix setup :&gt; ... where it's just a small bash wrapper)</p>



<a name="224899899"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224899899" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224899899">(Feb 02 2021 at 16:53)</a>:</h4>
<p>that's not actually a problem though, I think it just means you sometimes have to work without it. For browsing it should be harmless, right?</p>



<a name="224900239"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lean4%20repo%20in%20vscode/near/224900239" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lean4.20repo.20in.20vscode.html#224900239">(Feb 02 2021 at 16:55)</a>:</h4>
<p>Yes, you're probably correct</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>