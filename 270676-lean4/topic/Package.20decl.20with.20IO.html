---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/Package.20decl.20with.20IO.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Package.20decl.20with.20IO.html">Package decl with IO</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="311947599"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Package%20decl%20with%20IO/near/311947599" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> James Gallicchio <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Package.20decl.20with.20IO.html#311947599">(Nov 24 2022 at 05:49)</a>:</h4>
<p>Hi, I'm configuring the <code>moreLinkArgs</code> of a package declaration depending on the system configuration. Is that a bad idea? I know very little about building c++. Perhaps that's a bad idea/unnecessary and I should avoid it.</p>
<p>But if it's not a bad idea, how could I configure my lakefile to do so? The package def doesn't have IO access, so I think it's not really possible</p>



<a name="311947703"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Package%20decl%20with%20IO/near/311947703" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> James Gallicchio <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Package.20decl.20with.20IO.html#311947703">(Nov 24 2022 at 05:50)</a>:</h4>
<p>(<span class="user-mention" data-user-id="315577">@Mac</span> mainly -- sorry for the Thanksgiving ping, this is not particularly urgent)</p>



<a name="312089877"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Package%20decl%20with%20IO/near/312089877" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mac <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Package.20decl.20with.20IO.html#312089877">(Nov 24 2022 at 22:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="407274">James Gallicchio</span> <a href="#narrow/stream/270676-lean4/topic/Package.20decl.20with.20IO/near/311947599">said</a>:</p>
<blockquote>
<p>Hi, I'm configuring the <code>moreLinkArgs</code> of a package declaration depending on the system configuration. Is that a bad idea? I know very little about building c++. Perhaps that's a bad idea/unnecessary and I should avoid it.</p>
</blockquote>
<p>That is fine, you should just match sure you have a case for each relevant operating system (e.g., Windows, MacOS, Linux) and probably test the build on each in your GitHub CI.</p>
<p><span class="user-mention silent" data-user-id="407274">James Gallicchio</span> <a href="#narrow/stream/270676-lean4/topic/Package.20decl.20with.20IO/near/311947599">said</a>:</p>
<blockquote>
<p>But if it's not a bad idea, how could I configure my lakefile to do so? The package def doesn't have IO access, so I think it's not really possible</p>
</blockquote>
<p>I had originally allowed a package declaration to perform IO, but I ended up removing it. The reason being you can achieve the same result through meta programming. That is, you can write a macro or elaborator that expands/elaborates to the value you want.</p>



<a name="312094923"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Package%20decl%20with%20IO/near/312094923" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> James Gallicchio <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Package.20decl.20with.20IO.html#312094923">(Nov 24 2022 at 23:07)</a>:</h4>
<p>Ohh, that makes sense. Thanks, will give that a shot</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>