---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/merging.20goals.20tactic.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/merging.20goals.20tactic.html">merging goals tactic</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="250994158"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/merging%20goals%20tactic/near/250994158" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jakob von Raumer <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/merging.20goals.20tactic.html#250994158">(Aug 27 2021 at 20:55)</a>:</h4>
<p>I'm considering writing a tactic that basically checks if the current goal list contains duplicates and "merges" them into a single mVar. Does anyone know if such a tactic exists in lean3 (or coq for that matter)?</p>



<a name="251003572"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/merging%20goals%20tactic/near/251003572" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/merging.20goals.20tactic.html#251003572">(Aug 27 2021 at 22:19)</a>:</h4>
<p>no, but it's a pretty easy tactic to write</p>



<a name="251031640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/merging%20goals%20tactic/near/251031640" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jakob von Raumer <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/merging.20goals.20tactic.html#251031640">(Aug 28 2021 at 05:54)</a>:</h4>
<p>My concern was more how to name it. The "hardest" part might be to compare the contexts...</p>



<a name="251032480"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/merging%20goals%20tactic/near/251032480" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marcus Rossel <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/merging.20goals.20tactic.html#251032480">(Aug 28 2021 at 06:08)</a>:</h4>
<p>Unfortunately <code>dedup</code> is already a different tactic in Lean 3. So maybe <code>collapse</code>?</p>



<a name="251032879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/merging%20goals%20tactic/near/251032879" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/merging.20goals.20tactic.html#251032879">(Aug 28 2021 at 06:16)</a>:</h4>
<p>I was thinking <code>dedup_goals</code></p>



<a name="251032993"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/merging%20goals%20tactic/near/251032993" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/merging.20goals.20tactic.html#251032993">(Aug 28 2021 at 06:18)</a>:</h4>
<p>It's true that merging contexts complicates matters. What do you want to do about incompatible contexts? You could take the intersection of the contexts, but that could lose a lot of assumptions</p>



<a name="251036915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/merging%20goals%20tactic/near/251036915" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/merging.20goals.20tactic.html#251036915">(Aug 28 2021 at 07:31)</a>:</h4>
<p>I guess you could combine all the assumptions not present in all goals into a single assumption in the form of a pprod of psigmas?</p>



<a name="251073196"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/merging%20goals%20tactic/near/251073196" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jakob von Raumer <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/merging.20goals.20tactic.html#251073196">(Aug 28 2021 at 18:21)</a>:</h4>
<p>I'd actually conservatively only merge those goals where contexts match up to reordering&amp;defeq</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>