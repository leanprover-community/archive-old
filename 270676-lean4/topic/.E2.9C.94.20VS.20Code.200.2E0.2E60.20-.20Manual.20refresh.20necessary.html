---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/.E2.9C.94.20VS.20Code.200.2E0.2E60.20-.20Manual.20refresh.20necessary.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20VS.20Code.200.2E0.2E60.20-.20Manual.20refresh.20necessary.html">✔ VS Code 0.0.60 - Manual refresh necessary</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="270131655"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20VS%20Code%200.0.60%20-%20Manual%20refresh%20necessary/near/270131655" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20VS.20Code.200.2E0.2E60.20-.20Manual.20refresh.20necessary.html#270131655">(Feb 01 2022 at 00:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="364929">František Silváši</span> has marked this topic as resolved.</p>



<a name="270132888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20VS%20Code%200.0.60%20-%20Manual%20refresh%20necessary/near/270132888" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Lovett <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20VS.20Code.200.2E0.2E60.20-.20Manual.20refresh.20necessary.html#270132888">(Feb 01 2022 at 00:50)</a>:</h4>
<p>PS: I'm not sure the document selector was causing Error [ERR_STREAM_WRITE_AFTER_END]: write after end.  This error is caused by known bugs in the 7.1.1 version of the extension api.  Moving to 8.0 solves those problems.</p>



<a name="270140539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20VS%20Code%200.0.60%20-%20Manual%20refresh%20necessary/near/270140539" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> František Silváši <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20VS.20Code.200.2E0.2E60.20-.20Manual.20refresh.20necessary.html#270140539">(Feb 01 2022 at 02:14)</a>:</h4>
<p>Ah alright that's my bad then, I just didn't run into said issue beforehand and only then did I check the error log.</p>



<a name="270144981"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20VS%20Code%200.0.60%20-%20Manual%20refresh%20necessary/near/270144981" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20VS.20Code.200.2E0.2E60.20-.20Manual.20refresh.20necessary.html#270144981">(Feb 01 2022 at 03:14)</a>:</h4>
<p>Might be related to the plugin updates: is anyone else experiencing strange CPU work even though the IDE is idle?<br>
I took this screenshot with nothing else open. I checked the processes workload and VSCode was in fact the one consuming the CPU<br>
More info: I had Mathlib4 open<br>
<a href="/user_uploads/3121/h1U3xAnAsN12iGjJjkBHQcIy/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/h1U3xAnAsN12iGjJjkBHQcIy/image.png" title="image.png"><img src="/user_uploads/3121/h1U3xAnAsN12iGjJjkBHQcIy/image.png"></a></div>



<a name="270173579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20VS%20Code%200.0.60%20-%20Manual%20refresh%20necessary/near/270173579" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20VS.20Code.200.2E0.2E60.20-.20Manual.20refresh.20necessary.html#270173579">(Feb 01 2022 at 09:10)</a>:</h4>
<blockquote>
<p>Ah alright that's my bad then,</p>
</blockquote>
<p>You didn't do anything wrong.  The two issues are unrelated, I believe.  "Not showing diagnostics" is a critical issue and needs to be fixed quickly, so I didn't even look at the warning you posted.  We should still fix the warning at some point though.</p>



<a name="270173925"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20VS%20Code%200.0.60%20-%20Manual%20refresh%20necessary/near/270173925" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20VS.20Code.200.2E0.2E60.20-.20Manual.20refresh.20necessary.html#270173925">(Feb 01 2022 at 09:13)</a>:</h4>
<blockquote>
<p>I checked the processes workload and VSCode was in fact the one consuming the CPU</p>
</blockquote>
<p>Was Lean doing anything?  Updating diagnostics, etc., will all cause vscode to use a bit of CPU.  150% CPU is a tad excessive though.  Does it still happen if you close all Lean files?</p>



<a name="270208493"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20VS%20Code%200.0.60%20-%20Manual%20refresh%20necessary/near/270208493" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20VS.20Code.200.2E0.2E60.20-.20Manual.20refresh.20necessary.html#270208493">(Feb 01 2022 at 13:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110043">Gabriel Ebner</span> <a href="#narrow/stream/270676-lean4/topic/.E2.9C.94.20VS.20Code.200.2E0.2E60.20-.20Manual.20refresh.20necessary/near/270173925">said</a>:</p>
<blockquote>
<blockquote>
<p>I checked the processes workload and VSCode was in fact the one consuming the CPU</p>
</blockquote>
<p>Was Lean doing anything?  Updating diagnostics, etc., will all cause vscode to use a bit of CPU.  150% CPU is a tad excessive though.  Does it still happen if you close all Lean files?</p>
</blockquote>
<p>Okay I'm able to reproduce it consistently. In the file <code>Mathlib/Tactic/Basic.lean</code>, I hold CTRL and hover basically anything here:<br>
<code>elab (name := workOnGoal) "work_on_goal " n:num ppSpace seq:tacticSeq : tactic</code>. Then a big block glows blue, including the docstring. A small popup prompts saying "Checking Lean setup" or something and disappears really quickly. And after that my CPU is taken to those peaks and stays there. It stays there even if I close all Lean files and also the Lean Infoview.</p>



<a name="270209556"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20VS%20Code%200.0.60%20-%20Manual%20refresh%20necessary/near/270209556" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20VS.20Code.200.2E0.2E60.20-.20Manual.20refresh.20necessary.html#270209556">(Feb 01 2022 at 13:35)</a>:</h4>
<p>Actually, CTRL+hovering almost anything seems to trigger this</p>



<a name="270376101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20VS%20Code%200.0.60%20-%20Manual%20refresh%20necessary/near/270376101" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20VS.20Code.200.2E0.2E60.20-.20Manual.20refresh.20necessary.html#270376101">(Feb 02 2022 at 12:35)</a>:</h4>
<p>Extra side-effect: if I close VS Code when this happens, my escaping hotkey is reset to the default (<code>\</code>) when I open it again</p>



<a name="270393128"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20VS%20Code%200.0.60%20-%20Manual%20refresh%20necessary/near/270393128" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Jam <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20VS.20Code.200.2E0.2E60.20-.20Manual.20refresh.20necessary.html#270393128">(Feb 02 2022 at 14:37)</a>:</h4>
<p>I'm having the same issue. It seems to happen only when control hovering prelude functions. It does not happen when control hovering my own functions. After a few mins of control hovering, vscode eats up all CPU cores, and my computer becomes loud. Thanks a lot in advance for looking into this.</p>



<a name="270393753"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20VS%20Code%200.0.60%20-%20Manual%20refresh%20necessary/near/270393753" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20VS.20Code.200.2E0.2E60.20-.20Manual.20refresh.20necessary.html#270393753">(Feb 02 2022 at 14:40)</a>:</h4>
<blockquote>
<p>It seems to happen only when control hovering prelude functions.</p>
</blockquote>
<p>Thanks, I can reproduce this now.</p>



<a name="270394194"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20VS%20Code%200.0.60%20-%20Manual%20refresh%20necessary/near/270394194" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20VS.20Code.200.2E0.2E60.20-.20Manual.20refresh.20necessary.html#270394194">(Feb 02 2022 at 14:43)</a>:</h4>
<p>That is, functions with many references perhaps?</p>



<a name="270394411"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20VS%20Code%200.0.60%20-%20Manual%20refresh%20necessary/near/270394411" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Jam <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20VS.20Code.200.2E0.2E60.20-.20Manual.20refresh.20necessary.html#270394411">(Feb 02 2022 at 14:44)</a>:</h4>
<p>Anything from the std library files. It looks like I cannot even control click stuff in prelude.lean anymore</p>



<a name="270394555"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20VS%20Code%200.0.60%20-%20Manual%20refresh%20necessary/near/270394555" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Jam <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20VS.20Code.200.2E0.2E60.20-.20Manual.20refresh.20necessary.html#270394555">(Feb 02 2022 at 14:45)</a>:</h4>
<p>When I open a std lib file,  I notice that lean server or whatever is restarting at the bottom right corner which does not look normal</p>



<a name="270394873"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20VS%20Code%200.0.60%20-%20Manual%20refresh%20necessary/near/270394873" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Jam <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20VS.20Code.200.2E0.2E60.20-.20Manual.20refresh.20necessary.html#270394873">(Feb 02 2022 at 14:47)</a>:</h4>
<p>It's like crashing and some vscode thread gets stuck in an infinite loop, so it restarts a new server every time. But after a few threads get stuck in infinite loops vscode.exe uses high cpu. I'm using WSL vscode by the way.</p>



<a name="270398442"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20VS%20Code%200.0.60%20-%20Manual%20refresh%20necessary/near/270398442" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20VS.20Code.200.2E0.2E60.20-.20Manual.20refresh.20necessary.html#270398442">(Feb 02 2022 at 15:08)</a>:</h4>
<p>0.0.62 is out.  Can you check again please?</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>