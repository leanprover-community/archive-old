---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/Wait.20this.20is.20valid.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Wait.20this.20is.20valid.3F.html">Wait this is valid?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="279635046"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Wait%20this%20is%20valid%3F/near/279635046" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sofia <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Wait.20this.20is.20valid.3F.html#279635046">(Apr 21 2022 at 04:33)</a>:</h4>
<p>Uhh.. Stumbled upon this between ideas while representing some data.. Noticed Lean didn't complain. How is this valid?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">inductive</span> <span class="n">Foo</span> <span class="o">:</span> <span class="n">List</span> <span class="n">Foo</span> <span class="bp">-&gt;</span> <span class="kt">Type</span>
<span class="bp">|</span> <span class="n">x</span> <span class="o">:</span> <span class="n">Foo</span> <span class="o">[]</span>
</code></pre></div>



<a name="279635434"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Wait%20this%20is%20valid%3F/near/279635434" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wojciech Nawrocki <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Wait.20this.20is.20valid.3F.html#279635434">(Apr 21 2022 at 04:40)</a>:</h4>
<p>It looks like an unfortunate interaction with the <code>autoImplicit</code> feature. Try <code>#check Foo.mk (Foo := Nat)</code> :)<br>
And</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">set_option</span> <span class="n">autoImplicit</span> <span class="n">false</span> <span class="k">in</span>
<span class="kd">inductive</span> <span class="n">Foo</span> <span class="o">:</span> <span class="n">List</span> <span class="n">Foo</span> <span class="bp">â†’</span> <span class="kt">Type</span>
  <span class="bp">|</span> <span class="n">x</span> <span class="o">:</span> <span class="n">Foo</span> <span class="o">[]</span>
</code></pre></div>



<a name="279640423"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Wait%20this%20is%20valid%3F/near/279640423" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sofia <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Wait.20this.20is.20valid.3F.html#279640423">(Apr 21 2022 at 06:11)</a>:</h4>
<p>Ah ! That explains it. Thanks.</p>



<a name="279657451"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Wait%20this%20is%20valid%3F/near/279657451" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jakob von Raumer <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Wait.20this.20is.20valid.3F.html#279657451">(Apr 21 2022 at 09:46)</a>:</h4>
<p>Would be good if the syntax highlighting distinguished the two</p>



<a name="279658343"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Wait%20this%20is%20valid%3F/near/279658343" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sofia <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Wait.20this.20is.20valid.3F.html#279658343">(Apr 21 2022 at 09:56)</a>:</h4>
<p>Or injected a verbosity layer, like some editors do with type hints. Ex. <code>let x := 1</code> -&gt; <code>let x : Nat := 1</code> where the <code>: Nat</code> annotation is grayed out because it isn't really in the code, it was merely inferred and displayed as if it were. Don't know if any editors which do this allow you to make that code, to lock in the type, but that'd be nice too.</p>



<a name="279662110"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Wait%20this%20is%20valid%3F/near/279662110" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Siddhartha Gadgil <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Wait.20this.20is.20valid.3F.html#279662110">(Apr 21 2022 at 10:38)</a>:</h4>
<p>In <code>scala</code> on VS code (with `metals) the inferred types are shown and can be added, so the editor clearly supports this.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>