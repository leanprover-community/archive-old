---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/Contents.20of.20lean4.20nix.20shell.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Contents.20of.20lean4.20nix.20shell.html">Contents of lean4 nix shell</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="266729370"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Contents%20of%20lean4%20nix%20shell/near/266729370" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Siddharth Bhat <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Contents.20of.20lean4.20nix.20shell.html#266729370">(Jan 03 2022 at 19:50)</a>:</h4>
<p>What does </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">nix</span><span class="bp">-</span><span class="n">shell</span> <span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">github.com</span><span class="bp">/</span><span class="n">leanprover</span><span class="bp">/</span><span class="n">lean4</span><span class="bp">/</span><span class="n">archive</span><span class="bp">/</span><span class="n">master.tar.gz</span> <span class="bp">-</span><span class="n">A</span> <span class="n">nix</span>
</code></pre></div>
<p>actually pull in? It seems to be necessary for the later <code>nix build</code> to pull nightlies from the <code>nix</code> cache.  </p>
<p>I'm learning <code>nix</code>, so I'd like to get a handle on what this lean-nix-shell does as I nixify my Lean repos.</p>



<a name="266746149"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Contents%20of%20lean4%20nix%20shell/near/266746149" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Contents.20of.20lean4.20nix.20shell.html#266746149">(Jan 03 2022 at 22:52)</a>:</h4>
<p>Start at <code>shell.nix</code> and follow the trail :) . The configuration of the inner <code>nix</code> is here: <a href="https://github.com/leanprover/lean4/blob/3da76efa10374843f6c7072b040646f5ccf363d2/nix/packages.nix#L5">https://github.com/leanprover/lean4/blob/3da76efa10374843f6c7072b040646f5ccf363d2/nix/packages.nix#L5</a>. The substituter could nowadays be configured in the flake's <code>nixConfig</code> attribute instead.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>