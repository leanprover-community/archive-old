---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/expr.2Eof_nat.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/expr.2Eof_nat.html">expr.of_nat</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="302583004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/expr.of_nat/near/302583004" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/expr.2Eof_nat.html#302583004">(Oct 06 2022 at 04:57)</a>:</h4>
<p>If I have a <code>t : Expr</code> representing a type that I hope supports numerals, and an <code>n : Nat</code>, how do I generate the <code>Expr</code> with type <code>t</code> corresponding to <code>n</code>?</p>
<p>In mathlib3 this is provided as <a href="https://github.com/leanprover-community/mathlib/blob/master/src/tactic/core.lean#L52"><code>expr.of_nat</code></a>.</p>



<a name="302583215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/expr.of_nat/near/302583215" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/expr.2Eof_nat.html#302583215">(Oct 06 2022 at 05:00)</a>:</h4>
<p>This requires type class synthesis.  I would do</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">mkAppOptM</span> <span class="bp">``</span><span class="n">OfNat.ofNat</span> <span class="bp">#</span><span class="o">[</span><span class="n">type</span><span class="o">,</span> <span class="n">mkRawNatLit</span> <span class="n">n</span><span class="o">,</span> <span class="n">none</span><span class="o">]</span>
</code></pre></div>



<a name="302583220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/expr.of_nat/near/302583220" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/expr.2Eof_nat.html#302583220">(Oct 06 2022 at 05:00)</a>:</h4>
<p>But it makes sense to bundle that up in a function somewhere.</p>



<a name="302588256"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/expr.of_nat/near/302588256" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/expr.2Eof_nat.html#302588256">(Oct 06 2022 at 06:15)</a>:</h4>
<p>Thanks. It will eventually appear in a <code>linarith</code> related PR, as <code>Expr.ofNat</code> in <code>Mathlib/Lean/Expr/Basic.lean</code>.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>