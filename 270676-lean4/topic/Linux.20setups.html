---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/Linux.20setups.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html">Linux setups</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="265377435"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265377435" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> antonio <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265377435">(Dec 17 2021 at 23:51)</a>:</h4>
<p>I have just installed Lean 4 in my Arch Linux with:</p>
<div class="codehilite"><pre><span></span><code>yay -Syu elan-lean
elan default leanprover/lean4:nightly
</code></pre></div>

<p>but I can't find <code>lake</code>? Any suggestion?</p>



<a name="265379098"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265379098" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265379098">(Dec 18 2021 at 00:12)</a>:</h4>
<p>Does updating elan via <code>elan self update</code> help?</p>



<a name="265379122"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265379122" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265379122">(Dec 18 2021 at 00:12)</a>:</h4>
<p>Would that install a new version of elan in <code>$HOME/.local/bin/</code> (or somewhere else in the home folder)?</p>



<a name="265379224"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265379224" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> antonio <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265379224">(Dec 18 2021 at 00:14)</a>:</h4>
<div class="codehilite"><pre><span></span><code> &gt;&gt;&gt; elan self update

error: self-update is disabled for this build of elan
error: you should probably use your system package manager to update elan
</code></pre></div>



<a name="265379372"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265379372" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265379372">(Dec 18 2021 at 00:16)</a>:</h4>
<p><span class="user-mention" data-user-id="455932">@antonio</span> this message was posted in the wrong thread. You can change the title of the thread to your message to move it.</p>



<a name="265379384"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265379384" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265379384">(Dec 18 2021 at 00:17)</a>:</h4>
<p>I think the version in AUR should be sufficiently up-to-date to include lake anyways. <code>elan -V</code> yields the version if you want to check.</p>



<a name="265379473"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265379473" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265379473">(Dec 18 2021 at 00:18)</a>:</h4>
<p>I'm on arch, and I installed elan with the official script, not via aur. It might be worthwhile trying that.</p>



<a name="265379488"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265379488" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> antonio <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265379488">(Dec 18 2021 at 00:19)</a>:</h4>
<p>Sorry <span class="user-mention" data-user-id="243562">@Adam Topaz</span><br>
btw   I have a $HOME/.elan/toolchains/leanprover--lean4---nightly</p>



<a name="265379568"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265379568" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> antonio <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265379568">(Dec 18 2021 at 00:20)</a>:</h4>
<p>and there is a <code>lake</code> in <code>bin</code></p>



<a name="265379612"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265379612" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> antonio <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265379612">(Dec 18 2021 at 00:21)</a>:</h4>
<p>but it is not linked to  the path</p>



<a name="265379731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265379731" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265379731">(Dec 18 2021 at 00:23)</a>:</h4>
<p>Usually the official script does that by default, but the AUR version probably doesn't. Should be fine if you add it yourself</p>



<a name="265379889"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265379889" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> antonio <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265379889">(Dec 18 2021 at 00:26)</a>:</h4>
<p><code>elan --help</code> says</p>
<blockquote>
<p>elan manages your installations of the Lean theorem prover.   <br>
It places <code>lean</code> and <code>leanpkg</code> binaries in your <code>PATH</code> that automatically select</p>
</blockquote>
<p>Not <code>lake</code>.  It may be my <code>elan</code> is too old .</p>



<a name="265379903"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265379903" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> antonio <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265379903">(Dec 18 2021 at 00:26)</a>:</h4>
<p>~ &gt;&gt;&gt; elan --version                                                                                                    <br>
elan 1.3.1 (26ce65531 2021-11-11)</p>



<a name="265379932"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265379932" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265379932">(Dec 18 2021 at 00:27)</a>:</h4>
<p>I think <a href="https://aur.archlinux.org/cgit/aur.git/tree/PKGBUILD?h=elan-lean#n23">line 23 of the PKGBUILD</a> just needs to be updated.</p>



<a name="265380044"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265380044" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265380044">(Dec 18 2021 at 00:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="455932">antonio</span> <a href="#narrow/stream/270676-lean4/topic/Linux.20setups/near/265379903">said</a>:</p>
<blockquote>
<p>~ &gt;&gt;&gt; elan --version                                                                                                    <br>
elan 1.3.1 (26ce65531 2021-11-11)</p>
</blockquote>
<p>That's the recent version, I think if you add elan's bin folder to your PATH it'll work</p>



<a name="265380237"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265380237" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> antonio <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265380237">(Dec 18 2021 at 00:33)</a>:</h4>
<div class="codehilite"><pre><span></span><code>export PATH=&quot;$HOME/.elan/toolchains/leanprover--lean4---nightly/bin:$PATH&quot;
</code></pre></div>



<a name="265380365"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265380365" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265380365">(Dec 18 2021 at 00:35)</a>:</h4>
<p>There should be a $HOME/.elan/bin too where the binaries that elan manages reside (this way <code>lean</code> or <code>lake</code> will refer to the version managed by elan, not the concrete nightly version you just installed)</p>



<a name="265380505"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265380505" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> antonio <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265380505">(Dec 18 2021 at 00:37)</a>:</h4>
<p><span class="user-mention" data-user-id="221921">@Marc Huisinga</span>   but <code>$HOME/.elan/bin</code> is empty</p>



<a name="265380870"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265380870" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265380870">(Dec 18 2021 at 00:43)</a>:</h4>
<p>Hm. It shouldn't be <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span> <br>
One easy solution to all this is to remove the AUR version you've installed and use <a href="https://github.com/leanprover/elan#manual-installation">https://github.com/leanprover/elan#manual-installation</a> instead, which should hopefully work.</p>



<a name="265381555"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265381555" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> antonio <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265381555">(Dec 18 2021 at 00:53)</a>:</h4>
<p>BTW</p>
<div class="codehilite"><pre><span></span><code>lake new hello
cd hello
</code></pre></div>

<p>works and opening <code>Hello.lean</code> in Emacs (with <code>lean-mode</code>) shows the code highlighted</p>



<a name="265381911"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265381911" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265381911">(Dec 18 2021 at 00:59)</a>:</h4>
<p>Yup, after adding <code>.elan/toolchains/leanprover--lean4---nightly/bin</code> to your path the commands will work, but it's one specific version that you downloaded via elan. The purpose of elan is to manage lean versions for you. E.g. if a project says that it works with a specific version, elan will automatically download and install that version for you and use that binary locally for that project. Ideally, for everything to fully work, it should use the <code>.elan/bin</code> directory (it contains links to the "real" binary for the specific version of the project in the toolchain directory), which doesn't seem to contain anything for some reason for you. But the manual install version should do this correctly.</p>



<a name="265382073"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265382073" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> antonio <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265382073">(Dec 18 2021 at 01:01)</a>:</h4>
<p>Got your point! Do you perhaps use Emacs  elan-mode?</p>



<a name="265382160"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265382160" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265382160">(Dec 18 2021 at 01:02)</a>:</h4>
<p>To fix this using the AUR version, it suffices to mimic the PKGBUILD. That is, add a symlink to /usr/bin/elan named "lake" somewhere in your path. Elan will take care of the rest.</p>



<a name="265382189"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265382189" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265382189">(Dec 18 2021 at 01:03)</a>:</h4>
<p><span class="user-mention silent" data-user-id="455932">antonio</span> <a href="#narrow/stream/270676-lean4/topic/Linux.20setups/near/265382073">said</a>:</p>
<blockquote>
<p>Got your point! Do you perhaps use Emacs  elan-mode?</p>
</blockquote>
<p>I used Emacs lean4-mode before the lean4 VSCode extension existed <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="265382515"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265382515" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> antonio <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265382515">(Dec 18 2021 at 01:08)</a>:</h4>
<p><span class="user-mention" data-user-id="325367">@Mauricio Collares</span> <br>
thanks,  it works like a charm</p>



<a name="265383179"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265383179" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> antonio <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265383179">(Dec 18 2021 at 01:20)</a>:</h4>
<p><span class="user-mention" data-user-id="325367">@Mauricio Collares</span> is there a separate procedure for installing Mathlib?</p>



<a name="265383902"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265383902" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265383902">(Dec 18 2021 at 01:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="455932">antonio</span> <a href="#narrow/stream/270676-lean4/topic/Linux.20setups/near/265383179">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="325367">Mauricio Collares</span> is there a separate procedure for installing Mathlib?</p>
</blockquote>
<p>Every other poster in this thread is more qualified to answer this than I am, but I'll try to answer anyway :) You should install <a href="https://aur.archlinux.org/packages/python-mathlibtools/">https://aur.archlinux.org/packages/python-mathlibtools/</a> and then use <code>leanproject</code> to fetch mathlib along with its precompiled oleans, saving many hours of CPU time. See <a href="https://leanprover-community.github.io/leanproject.html">https://leanprover-community.github.io/leanproject.html</a> for details.</p>
<p>(The connection to elan is the following: Mathlib contains a <code>leanpkg.toml</code> file which is automatically read by elan to provide the correct toolchain, which is useful because the oleans are tied to the version they were generated with.)</p>



<a name="265383956"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265383956" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265383956">(Dec 18 2021 at 01:37)</a>:</h4>
<p>You can also clone mathlib manually and use leanproject to just fetch the oleans, if you prefer.</p>



<a name="265383966"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265383966" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mac <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265383966">(Dec 18 2021 at 01:38)</a>:</h4>
<p><span class="user-mention" data-user-id="325367">@Mauricio Collares</span>, <span class="user-mention" data-user-id="455932">@antonio</span> may be talking about mathlib for Lean 4, not Lean 3, especially since he just got finished installing Lean 4.</p>



<a name="265384029"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265384029" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265384029">(Dec 18 2021 at 01:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="315577">Mac</span> <a href="#narrow/stream/270676-lean4/topic/Linux.20setups/near/265383966">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="325367">Mauricio Collares</span>, <span class="user-mention silent" data-user-id="455932">antonio</span> may be talking about mathlib for Lean 4, not Lean 3, especially since he just got finished installing Lean 4.</p>
</blockquote>
<p>Or it's the other way around and they really want Lean 3 together with the real mathlib :)</p>



<a name="265384132"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265384132" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265384132">(Dec 18 2021 at 01:40)</a>:</h4>
<p>In any case, for Lean 3 and mathlib the leanprover-community site is a great place to start. Mathlib for Lean 4 is still very much a work in progress.</p>



<a name="265384163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265384163" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265384163">(Dec 18 2021 at 01:41)</a>:</h4>
<p><span class="user-mention" data-user-id="315577">@Mac</span> Ah, yes, good point! <span class="user-mention" data-user-id="455932">@antonio</span> I should've mentioned that the full-blown mathlib only exists for Lean 3 at this point. It is being ported to Lean 4, but IMO you should only use mathlib4 if you're really interested in helping with porting, or want to have a very early sneak peek. If you want to do mathematics, you should stick with Lean 3 for a little longer :)</p>



<a name="265384242"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265384242" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265384242">(Dec 18 2021 at 01:42)</a>:</h4>
<p>Elan handles the transition seamlessly. "lean" will run Lean 3 if that's the version specified in <code>leanpkg.toml</code>, so you should be good to go if your plan is to use the main mathlib.</p>



<a name="265384576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265384576" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> antonio <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265384576">(Dec 18 2021 at 01:50)</a>:</h4>
<p><span class="user-mention" data-user-id="325367">@Mauricio Collares</span>, so no more lake but leanpkg with lean3?</p>



<a name="265384769"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265384769" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265384769">(Dec 18 2021 at 01:55)</a>:</h4>
<p><span class="user-mention" data-user-id="455932">@antonio</span> It depends on what you want to do. Do you want to play inside mathlib code or do you want to use mathlib to build something else (using mathlib as a dependency)?</p>



<a name="265385123"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265385123" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> antonio <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265385123">(Dec 18 2021 at 02:03)</a>:</h4>
<p><span class="user-mention" data-user-id="451983">@Arthur Paulino</span>  well, I would like to do things with set theory, and I am interested to create something similar to this project <a href="https://github.com/asouther4/lean-social-choice">https://github.com/asouther4/lean-social-choice</a></p>



<a name="265385296"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265385296" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265385296">(Dec 18 2021 at 02:07)</a>:</h4>
<p>Then you'd probably use leanproject (which uses <code>leanpkg</code> internally) and Lean 3, so you can use mathlib theorems. Lake only supports Lean 4. <a href="https://leanprover-community.github.io/toolchain.html">https://leanprover-community.github.io/toolchain.html</a> is a good explanation of how it all fits together.</p>



<a name="265385475"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265385475" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265385475">(Dec 18 2021 at 02:11)</a>:</h4>
<p>But please read the warning at the top of this last page! To reiterate it, if you just want to know how to do package management, <a href="https://leanprover-community.github.io/leanproject.html">https://leanprover-community.github.io/leanproject.html</a> is the page you should be reading, not the Toolchain one. The Toolchain page is more of a deeper dive, but I figured it would help clarify the lake/leanpkg/leanproject choice.</p>



<a name="265386256"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265386256" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> antonio <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265386256">(Dec 18 2021 at 02:30)</a>:</h4>
<div class="codehilite"><pre><span></span><code>yay -Sy leanproject
</code></pre></div>

<p>worked</p>



<a name="265386565"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265386565" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> antonio <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265386565">(Dec 18 2021 at 02:37)</a>:</h4>
<div class="codehilite"><pre><span></span><code>elan default leanprover/lean3:nightly
</code></pre></div>

<p>does not work, and I can't find instruction for Lean3</p>



<a name="265386784"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265386784" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265386784">(Dec 18 2021 at 02:43)</a>:</h4>
<p>A valid lean3 version is <code>leanprover-community/lean:3.35.1</code>, for example.</p>



<a name="265388082"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265388082" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> antonio <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265388082">(Dec 18 2021 at 03:10)</a>:</h4>
<p>perfect, thanks</p>



<a name="265473830"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265473830" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anders Christiansen Sørby <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265473830">(Dec 19 2021 at 10:40)</a>:</h4>
<p>Lake can also be loaded with nix flakes <code>nix run github:leanprover/lake</code> or installed in your profile with <code>nix profile install  github:leanprover/lake</code>. Flakes is still experimental though.</p>



<a name="265474423"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265474423" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265474423">(Dec 19 2021 at 10:58)</a>:</h4>
<p>No, this is not a reasonable alternative, so please don't advertise it. The only <code>lean</code> and <code>lake</code> executables that correctly interpret projects' <code>lean-toolchain</code> files currently are <code>elan</code>'s.</p>



<a name="265487525"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265487525" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> antonio <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265487525">(Dec 19 2021 at 16:22)</a>:</h4>
<p>As I understand, I can't use Lean4, because I cannot do actual mathematics without Mathlib library. At this point, where can I find the Lean3 docs?  The official site only mentions Lean4.<br>
<a href="https://leanprover.github.io/documentation/">leanprover.github.io/documentation/</a></p>



<a name="265487563"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265487563" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265487563">(Dec 19 2021 at 16:23)</a>:</h4>
<p><span class="user-mention" data-user-id="455932">@antonio</span> don't forget that the community site exists! <a href="https://leanprover-community.github.io">https://leanprover-community.github.io</a></p>



<a name="265487568"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265487568" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265487568">(Dec 19 2021 at 16:23)</a>:</h4>
<p><a href="https://leanprover-community.github.io">https://leanprover-community.github.io</a> is the place for all your Lean 3 related stuff</p>



<a name="265487623"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265487623" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265487623">(Dec 19 2021 at 16:24)</a>:</h4>
<p>The community runs Lean 3 right now; Microsoft are working on Lean 4. The community maintains a fork of Lean 3 and they also maintain mathlib.</p>



<a name="265488424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265488424" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> antonio <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265488424">(Dec 19 2021 at 16:42)</a>:</h4>
<p>Clear, thanks, strange  that Microsoft does not  give explicit directions on this</p>



<a name="265488462"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/265488462" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#265488462">(Dec 19 2021 at 16:44)</a>:</h4>
<p>The official site you linked to does link to the community page</p>



<a name="286935327"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/286935327" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#286935327">(Jun 21 2022 at 15:55)</a>:</h4>
<p>Installing on a new Linux via the "Install Lean using Elan" button triggers this error:<br>
<a href="/user_uploads/3121/sUg5oAZ5OdS_TaPeTDTVFUoG/Captura-de-tela-de-2022-06-21-12-51-59.png">Captura-de-tela-de-2022-06-21-12-51-59.png</a> <br>
That is, it's not finding <code>curl</code> (it's a brand new Linux installation). The terminal disappears super fast and I had to be a bit ninja to get this screenshot. Maybe installing <code>curl</code> before is safer</p>
<div class="message_inline_image"><a href="/user_uploads/3121/sUg5oAZ5OdS_TaPeTDTVFUoG/Captura-de-tela-de-2022-06-21-12-51-59.png" title="Captura-de-tela-de-2022-06-21-12-51-59.png"><img src="/user_uploads/3121/sUg5oAZ5OdS_TaPeTDTVFUoG/Captura-de-tela-de-2022-06-21-12-51-59.png"></a></div>



<a name="286935595"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/286935595" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#286935595">(Jun 21 2022 at 15:56)</a>:</h4>
<p>Installing curl on a Linux machine would require root privs though and you'd have to guess the system package manager (well you can figure out the distro from /etc/os-release and then run the according manager but still) that doesn't seem like a good (and sometimes even impossible, consider e.g. uni PCs) idea to do unasked.</p>



<a name="286935832"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/286935832" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#286935832">(Jun 21 2022 at 15:58)</a>:</h4>
<p>Right now, the user can't even see that <code>curl</code> wasn't found</p>



<a name="286935857"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/286935857" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#286935857">(Jun 21 2022 at 15:58)</a>:</h4>
<p>(the terminal disappears very very fast. I was lucky to get the timing right for that screenshot and be able to see the error)</p>



<a name="286936535"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Linux%20setups/near/286936535" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Linux.20setups.html#286936535">(Jun 21 2022 at 16:03)</a>:</h4>
<p>Similar issue, but prior to clicking "Install Elan": <a href="https://github.com/leanprover/vscode-lean4/issues/181">https://github.com/leanprover/vscode-lean4/issues/181</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>