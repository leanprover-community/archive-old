---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/.E2.9C.94.20Idiomatic.20nestes.20for.20loops.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20Idiomatic.20nestes.20for.20loops.html">âœ” Idiomatic nestes for loops</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="263775080"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20Idiomatic%20nestes%20for%20loops/near/263775080" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20Idiomatic.20nestes.20for.20loops.html#263775080">(Dec 05 2021 at 16:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="284775">Alcides Fonseca</span> has marked this topic as resolved.</p>



<a name="263811567"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20Idiomatic%20nestes%20for%20loops/near/263811567" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mac <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20Idiomatic.20nestes.20for.20loops.html#263811567">(Dec 06 2021 at 05:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="221921">Marc Huisinga</span> <a href="#narrow/stream/270676-lean4/topic/.E2.9C.94.20Idiomatic.20nestes.20for.20loops/near/263765400">said</a>:</p>
<blockquote>
<p>You should be able to use <code>do</code>, <code>for</code>and <code>let mut</code> even in pure functions. E.g.</p>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">foo</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">Nat</span><span class="o">)</span> <span class="o">:</span> <span class="n">Nat</span> <span class="o">:=</span> <span class="k">do</span>
</code></pre></div><br>
</p>
</blockquote>
<p>There is a reasonable chance that  support for <code>do</code> blocks in pure functions may disappear in the near future. A less magic way is to just use the pure <code>Id</code> monad explicitly. That is:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">foo</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">Nat</span><span class="o">)</span> <span class="o">:</span> <span class="n">Nat</span> <span class="o">:=</span> <span class="n">Id.run</span> <span class="k">do</span>
</code></pre></div>



<a name="263982709"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20Idiomatic%20nestes%20for%20loops/near/263982709" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alcides Fonseca <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20Idiomatic.20nestes.20for.20loops.html#263982709">(Dec 07 2021 at 10:36)</a>:</h4>
<p>Good to know about the future path. In the meanwhile, I've been using it in all days of the Advent of Code  since I've learned it. Very useful as an alternative to recursion (and not having to worry about tail recursion).</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>