---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/.E2.9C.94.20Mutable.20nested.20structure.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20Mutable.20nested.20structure.html">âœ” Mutable nested structure</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="315084876"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20Mutable%20nested%20structure/near/315084876" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Trebor Huang <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20Mutable.20nested.20structure.html#315084876">(Dec 10 2022 at 14:17)</a>:</h4>
<p>Suppose I have a deeply nested structure <code>a : A</code>, e.g. with a field <code>a.b.c.d.e</code>. Now I want to modify this field, either in a functional notation or using the <code>mut</code> syntax. What is the best way to do it? Do we need some kind of lens?</p>



<a name="315085412"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20Mutable%20nested%20structure/near/315085412" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Trebor Huang <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20Mutable.20nested.20structure.html#315085412">(Dec 10 2022 at 14:21)</a>:</h4>
<p>Ahh I see the <code>with</code> notation works.</p>



<a name="315085414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20Mutable%20nested%20structure/near/315085414" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20Mutable.20nested.20structure.html#315085414">(Dec 10 2022 at 14:21)</a>:</h4>
<p><span class="user-mention silent" data-user-id="404479">Trebor Huang</span> has marked this topic as resolved.</p>



<a name="315086072"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20Mutable%20nested%20structure/near/315086072" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20Mutable.20nested.20structure.html#315086072">(Dec 10 2022 at 14:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="404479">Trebor Huang</span> has marked this topic as unresolved.</p>



<a name="315086218"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20Mutable%20nested%20structure/near/315086218" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Trebor Huang <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20Mutable.20nested.20structure.html#315086218">(Dec 10 2022 at 14:27)</a>:</h4>
<p>But I would really like a syntactic sugar for <code>a.b.c.d.e := f</code> as <code>a := {a with b.c.d.e := f}</code> if <code>a</code> is declared mutable. Does that exist?</p>



<a name="315090439"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20Mutable%20nested%20structure/near/315090439" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20Mutable.20nested.20structure.html#315090439">(Dec 10 2022 at 14:55)</a>:</h4>
<p><span class="user-mention" data-user-id="110043">@Gabriel Ebner</span>  has a proposal for that on an issue somewhere (search "generalized lvalues"), I think it was stuck on some syntax for the modify operation</p>



<a name="315091409"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20Mutable%20nested%20structure/near/315091409" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Trebor Huang <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20Mutable.20nested.20structure.html#315091409">(Dec 10 2022 at 15:02)</a>:</h4>
<p>Ah I see. Thanks for the pointer!</p>



<a name="315091413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20Mutable%20nested%20structure/near/315091413" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20Mutable.20nested.20structure.html#315091413">(Dec 10 2022 at 15:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="404479">Trebor Huang</span> has marked this topic as resolved.</p>



<a name="315091684"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20Mutable%20nested%20structure/near/315091684" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marcus Rossel <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20Mutable.20nested.20structure.html#315091684">(Dec 10 2022 at 15:04)</a>:</h4>
<p><a href="https://github.com/leanprover/lean4/issues/905#issuecomment-1165768170">https://github.com/leanprover/lean4/issues/905#issuecomment-1165768170</a></p>



<a name="315092109"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20Mutable%20nested%20structure/near/315092109" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20Mutable.20nested.20structure.html#315092109">(Dec 10 2022 at 15:07)</a>:</h4>
<p>Supporting <code>a.b := c</code> is not really dependent on that RFC I'd say. It's already syntactically valid after all!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>