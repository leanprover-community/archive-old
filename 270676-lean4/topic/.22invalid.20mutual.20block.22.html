---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/.22invalid.20mutual.20block.22.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.22invalid.20mutual.20block.22.html">"invalid mutual block"</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="229749556"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%22invalid%20mutual%20block%22/near/229749556" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Gross <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.22invalid.20mutual.20block.22.html#229749556">(Mar 10 2021 at 21:38)</a>:</h4>
<p>Is there any way to get more information about "invalid mutual block" errors?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">mutual</span>
<span class="kd">inductive</span> <span class="n">Cat</span> <span class="o">:</span> <span class="n">Nat</span> <span class="bp">â†’</span> <span class="kt">Type</span> <span class="n">_</span> <span class="n">where</span>
<span class="bp">|</span> <span class="n">Taut</span> <span class="o">:</span> <span class="n">Cat</span> <span class="mi">0</span>
<span class="bp">|</span> <span class="n">Enrich</span> <span class="o">{</span><span class="n">n</span><span class="o">}</span> <span class="o">(</span><span class="n">over</span> <span class="o">:</span> <span class="n">Cat</span> <span class="n">n</span><span class="o">)</span> <span class="o">(</span><span class="n">data</span> <span class="o">:</span> <span class="n">CatEnrichedOver</span> <span class="n">over</span><span class="o">)</span> <span class="o">:</span> <span class="n">Cat</span> <span class="o">(</span><span class="n">Nat.succ</span> <span class="n">n</span><span class="o">)</span>
<span class="kd">structure</span> <span class="n">CatEnrichedOver</span> <span class="o">{</span><span class="n">n</span><span class="o">}</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">Cat</span> <span class="n">n</span><span class="o">)</span> <span class="n">where</span>
<span class="kd">end</span>
</code></pre></div>



<a name="229750229"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%22invalid%20mutual%20block%22/near/229750229" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.22invalid.20mutual.20block.22.html#229750229">(Mar 10 2021 at 21:42)</a>:</h4>
<p>No, but it means that this mix of commands is not supported. There are exactly two cases implemented currently: mutual "<code>def</code>-likes" (<code>instance</code>, <code>theorem</code>, ...), and mutual <code>inductive</code>s. So you would have to expand the <code>structure</code> into an <code>inductive</code>.</p>



<a name="229762671"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%22invalid%20mutual%20block%22/near/229762671" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Gross <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.22invalid.20mutual.20block.22.html#229762671">(Mar 10 2021 at 22:59)</a>:</h4>
<p>Hmm..... how hard would it be for me to augment the Lean compiler to also support <code>structure</code> in <code>mutual</code>?  (I presume this would be a welcome PR?) (Also: does this mean you don't currently support induction-recursion?)</p>



<a name="229765256"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%22invalid%20mutual%20block%22/near/229765256" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Leonardo de Moura <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.22invalid.20mutual.20block.22.html#229765256">(Mar 10 2021 at 23:20)</a>:</h4>
<p>I think it is a lot of work and would require a lot of coordination to have it merged in the master branch.<br>
<span class="user-mention" data-user-id="110789">@Jakob von Raumer</span> is working on induction-induction for Lean 4: <a href="https://github.com/javra/iit">https://github.com/javra/iit</a></p>
<blockquote>
<p>does this mean you don't currently support induction-recursion?</p>
</blockquote>
<p>Correct, we don't support it, and it is not on our to-do list.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>