---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/Feature.20Request.3A.20Index.20with.20ranges.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Feature.20Request.3A.20Index.20with.20ranges.html">Feature Request: Index with ranges</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="293310269"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Feature%20Request%3A%20Index%20with%20ranges/near/293310269" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Feature.20Request.3A.20Index.20with.20ranges.html#293310269">(Aug 13 2022 at 18:35)</a>:</h4>
<p>Is there a reason that given <code>r : Std.Range</code> and <code>xs : Array Expr</code> or <code>List Expr</code> we do not support <code>xs[r]</code> because there is no <code>GetElem</code> instance for this configuration? It could even be constructed automatically from instances of <code>GetElem</code> for the beginning and end of <code>r</code>.</p>



<a name="293310475"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Feature%20Request%3A%20Index%20with%20ranges/near/293310475" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Feature.20Request.3A.20Index.20with.20ranges.html#293310475">(Aug 13 2022 at 18:38)</a>:</h4>
<p>the syntax for that would be a bit off, <code>xs[[1:5]]</code></p>



<a name="293310518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Feature%20Request%3A%20Index%20with%20ranges/near/293310518" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Feature.20Request.3A.20Index.20with.20ranges.html#293310518">(Aug 13 2022 at 18:38)</a>:</h4>
<p>also, what would it return?</p>



<a name="293310550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Feature%20Request%3A%20Index%20with%20ranges/near/293310550" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Feature.20Request.3A.20Index.20with.20ranges.html#293310550">(Aug 13 2022 at 18:39)</a>:</h4>
<p>I think the syntax <code>arr[i:j]</code> currently returns a <code>Subarray</code></p>



<a name="293311014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Feature%20Request%3A%20Index%20with%20ranges/near/293311014" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Feature.20Request.3A.20Index.20with.20ranges.html#293311014">(Aug 13 2022 at 18:45)</a>:</h4>
<p>Sounds to me like it would be reasonable to return a subarray as well then?</p>



<a name="293318940"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Feature%20Request%3A%20Index%20with%20ranges/near/293318940" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Feature.20Request.3A.20Index.20with.20ranges.html#293318940">(Aug 13 2022 at 20:28)</a>:</h4>
<p>Oh and to make clear why I'm asking, when there is an Std.Range stored in some datastructure you actually have this case of <code>r : Std.Range</code> instead of the <code>arr[i:j]</code> syntax so I'm mostly asking for this case, I see the argument against it though.</p>



<a name="293320541"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Feature%20Request%3A%20Index%20with%20ranges/near/293320541" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Feature.20Request.3A.20Index.20with.20ranges.html#293320541">(Aug 13 2022 at 20:49)</a>:</h4>
<p>Ah, I wanted to create an RFC about this at some point, but here is the gist: as Mario said, the current range syntax would look a bit weird inside indexing syntax, but also it's a bit weird for range syntax in itself. If we switched to a more common notation like <code>i..j</code> (or <code>i..&lt;j</code> for explicitness, and then <code>i..=j</code> for inclusive ranges), using ranges as indices would become very natural.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>