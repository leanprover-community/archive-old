---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/Reading.20Inductive.20definition.20in.20Lean4.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Reading.20Inductive.20definition.20in.20Lean4.html">Reading Inductive definition in Lean4</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="275880333"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Reading%20Inductive%20definition%20in%20Lean4/near/275880333" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yasu Watanabe <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Reading.20Inductive.20definition.20in.20Lean4.html#275880333">(Mar 19 2022 at 01:07)</a>:</h4>
<p>I've been reading Theorem Proving in Lean4 for several weeks, I feel I can generate Java and Python's data structures of my work from Lean4 Inductive type. I know there exists such tool but I I use Lean4, it would be finally possible to define, detect or prove some kind of consistency of data definition. To try this, <br>
any clue or hints to reading Inductive type from Lean4 are appreciated.</p>



<a name="275895810"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Reading%20Inductive%20definition%20in%20Lean4/near/275895810" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris B <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Reading.20Inductive.20definition.20in.20Lean4.html#275895810">(Mar 19 2022 at 07:31)</a>:</h4>
<p>Can you elaborate a little bit on what exactly you'd like to accomplish? It sounds like you have an inductive type in Lean 4, and you want to export it to another language (java/python). When you say consistency, is the goal to prove that the extraction/translation is faithful?</p>



<a name="275897805"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Reading%20Inductive%20definition%20in%20Lean4/near/275897805" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yasu Watanabe <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Reading.20Inductive.20definition.20in.20Lean4.html#275897805">(Mar 19 2022 at 08:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="228466">Chris B</span> <a href="#narrow/stream/270676-lean4/topic/Reading.20Inductive.20definition.20in.20Lean4/near/275895810">said</a>:</p>
<blockquote>
<p>Can you elaborate a little bit on what exactly you'd like to accomplish? It sounds like you have an inductive type in Lean 4, and you want to export it to another language (java/python). When you say consistency, is the goal to prove that the extraction/translation is faithful?</p>
</blockquote>
<p>I just imagine some possiblity of Lean4 usage and I do not consider very deeply. But I explain what I thought.</p>
<p>I have custom tool that can generate Java nad python data type, whose data format is proto<br>
<a href="https://github.com/protocolbuffers/protobuf">https://github.com/protocolbuffers/protobuf</a>. <br>
Currently, it just generate data type.<br>
If we define the data type in Lean4, I thought I could specify the restriction or relation between data.</p>
<p>What I hope to try finally is a mixture of functional domain modeling<br>
<a href="https://fsharpforfunandprofit.com/ddd/">https://fsharpforfunandprofit.com/ddd/</a>, proof and code generation.</p>
<p>As compared to F#, Lean4 or dependent type can describe more detailed specificationof data or domain. <br>
I think it is possible to prove some propert of domain model, that makes domain model more robust.</p>
<p>If we prove some properties about domain model, the generated data type can be more robust than just using proto.</p>
<p>This is a long story but I'd like to try to implement to generating ex Java class from Lean4 data type.</p>



<a name="275898665"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Reading%20Inductive%20definition%20in%20Lean4/near/275898665" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Reading.20Inductive.20definition.20in.20Lean4.html#275898665">(Mar 19 2022 at 08:46)</a>:</h4>
<p>You can do lean code generation just the same as java / python code generation. But if you want the lean type to be richer with invariants and so on then this will have to be represented in the input somehow, and I don't think protobuf has anything in particular for this</p>



<a name="275899023"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Reading%20Inductive%20definition%20in%20Lean4/near/275899023" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris B <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Reading.20Inductive.20definition.20in.20Lean4.html#275899023">(Mar 19 2022 at 08:56)</a>:</h4>
<p>You can add the proofy stuff to the Lean code post-hoc if you're sure the types you're reasoning about are accurate representations of the ones used in the language you're targeting.</p>



<a name="275899562"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Reading%20Inductive%20definition%20in%20Lean4/near/275899562" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris B <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Reading.20Inductive.20definition.20in.20Lean4.html#275899562">(Mar 19 2022 at 09:09)</a>:</h4>
<p>Looking at some of the <a href="https://github.com/leanprover/lean4/tree/master/src/Lean/Elab/Deriving">derive handlers</a> might be helpful if generating source code from Lean declarations is a goal.</p>



<a name="275905422"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Reading%20Inductive%20definition%20in%20Lean4/near/275905422" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yasu Watanabe <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Reading.20Inductive.20definition.20in.20Lean4.html#275905422">(Mar 19 2022 at 11:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span>  <span class="user-mention silent" data-user-id="228466">Chris B</span> <br>
Thank you for the information. I'll investigate deriving feature.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>