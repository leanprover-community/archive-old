---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/lake.20clean.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lake.20clean.html">lake clean</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="289211429"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lake%20clean/near/289211429" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lake.20clean.html#289211429">(Jul 11 2022 at 15:51)</a>:</h4>
<p>Is there a specific reason why <code>lake clean</code> doesn't wipe out the <code>lean_packages</code> folder?</p>



<a name="289235383"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lake%20clean/near/289235383" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mac <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lake.20clean.html#289235383">(Jul 11 2022 at 19:03)</a>:</h4>
<p>It is designed just to remove build outputs, not dependencies. Also, why would you want to delete <code>lean_packages</code> anyway? Furthermore, there is an important file in <code>lean_packages</code>, <code>manifest.json</code> that should not be deleted (and should be commited) as it helps with reproducible builds. Hopefully that makes sense?</p>



<a name="289235931"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lake%20clean/near/289235931" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lake.20clean.html#289235931">(Jul 11 2022 at 19:07)</a>:</h4>
<p>I was getting a mysterious error because I was bumping the toolchain and a wrong version of a dependency was sticking in my <code>lean_packages</code> folder. So I had to delete it manually anyway</p>



<a name="289507080"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/lake%20clean/near/289507080" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/lake.20clean.html#289507080">(Jul 13 2022 at 19:14)</a>:</h4>
<p>The proper solution seems to be running <code>lake update</code>, in case someone else faces this issue of out-of-date dependencies</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>