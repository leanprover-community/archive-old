---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/VS.20Code.200.2E0.2E60.20-.20Manual.20refresh.20necessary.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/VS.20Code.200.2E0.2E60.20-.20Manual.20refresh.20necessary.html">VS Code 0.0.60 - Manual refresh necessary</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="270093917"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/VS%20Code%200.0.60%20-%20Manual%20refresh%20necessary/near/270093917" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> František Silváši <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/VS.20Code.200.2E0.2E60.20-.20Manual.20refresh.20necessary.html#270093917">(Jan 31 2022 at 19:52)</a>:</h4>
<p>After updating the VS Code extension to 0.0.60, my Lean files no longer automatically refresh. I have to restart the lean server for changes to take effect. At first I thought there's  been some sneaky option change, but there are errors being reported by the extension:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">Error</span> <span class="o">[</span><span class="n">ERR_STREAM_WRITE_AFTER_END</span><span class="o">]:</span> <span class="n">write</span> <span class="n">after</span> <span class="kd">end</span>
    <span class="n">at</span> <span class="n">Socket.Writable.write</span> <span class="o">(</span><span class="n">internal</span><span class="bp">/</span><span class="n">streams</span><span class="bp">/</span><span class="n">writable.js</span><span class="o">:</span><span class="mi">292</span><span class="o">:</span><span class="mi">11</span><span class="o">)</span>
    <span class="n">at</span> <span class="n">c</span><span class="o">:</span><span class="bp">\...\.</span><span class="n">vscode</span><span class="bp">\</span><span class="n">extensions</span><span class="bp">\</span><span class="n">leanprover.lean4</span><span class="bp">-</span><span class="mi">0</span><span class="bp">.</span><span class="mi">0</span><span class="bp">.</span><span class="mi">60</span><span class="bp">\</span><span class="n">out</span><span class="bp">\</span><span class="n">extension.js</span><span class="o">:</span><span class="mi">2</span><span class="o">:</span><span class="mi">552346</span>
    <span class="n">at</span> <span class="n">new</span> <span class="n">Promise</span> <span class="o">(</span><span class="bp">&lt;</span><span class="n">anonymous</span><span class="bp">&gt;</span><span class="o">)</span>
    <span class="n">at</span> <span class="n">l.write</span> <span class="o">(</span><span class="n">c</span><span class="o">:</span><span class="bp">\...\.</span><span class="n">vscode</span><span class="bp">\</span><span class="n">extensions</span><span class="bp">\</span><span class="n">leanprover.lean4</span><span class="bp">-</span><span class="mi">0</span><span class="bp">.</span><span class="mi">0</span><span class="bp">.</span><span class="mi">60</span><span class="bp">\</span><span class="n">out</span><span class="bp">\</span><span class="n">extension.js</span><span class="o">:</span><span class="mi">2</span><span class="o">:</span><span class="mi">552264</span><span class="o">)</span>
    <span class="n">at</span> <span class="n">g.doWrite</span> <span class="o">(</span><span class="n">c</span><span class="o">:</span><span class="bp">\...\.</span><span class="n">vscode</span><span class="bp">\</span><span class="n">extensions</span><span class="bp">\</span><span class="n">leanprover.lean4</span><span class="bp">-</span><span class="mi">0</span><span class="bp">.</span><span class="mi">0</span><span class="bp">.</span><span class="mi">60</span><span class="bp">\</span><span class="n">out</span><span class="bp">\</span><span class="n">extension.js</span><span class="o">:</span><span class="mi">2</span><span class="o">:</span><span class="mi">541871</span><span class="o">)</span>
    <span class="n">at</span> <span class="n">c</span><span class="o">:</span><span class="bp">\...\.</span><span class="n">vscode</span><span class="bp">\</span><span class="n">extensions</span><span class="bp">\</span><span class="n">leanprover.lean4</span><span class="bp">-</span><span class="mi">0</span><span class="bp">.</span><span class="mi">0</span><span class="bp">.</span><span class="mi">60</span><span class="bp">\</span><span class="n">out</span><span class="bp">\</span><span class="n">extension.js</span><span class="o">:</span><span class="mi">2</span><span class="o">:</span><span class="mi">541766</span>
</code></pre></div>



<a name="270094524"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/VS%20Code%200.0.60%20-%20Manual%20refresh%20necessary/near/270094524" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> František Silváši <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/VS.20Code.200.2E0.2E60.20-.20Manual.20refresh.20necessary.html#270094524">(Jan 31 2022 at 19:56)</a>:</h4>
<p>Might be worth adding that I can peruse existing states in proofs and such just fine, but adding new definitions / theorems / proofs / interactive #evals, etc. does nothing unless I explicitly restart the server.</p>



<a name="270094650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/VS%20Code%200.0.60%20-%20Manual%20refresh%20necessary/near/270094650" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/VS.20Code.200.2E0.2E60.20-.20Manual.20refresh.20necessary.html#270094650">(Jan 31 2022 at 19:56)</a>:</h4>
<p>Don't worry, I can reproduce the bug.</p>



<a name="270095220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/VS%20Code%200.0.60%20-%20Manual%20refresh%20necessary/near/270095220" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/VS.20Code.200.2E0.2E60.20-.20Manual.20refresh.20necessary.html#270095220">(Jan 31 2022 at 19:59)</a>:</h4>
<p>0.0.61 is out.  Can you check if that fixes the issue?</p>



<a name="270095402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/VS%20Code%200.0.60%20-%20Manual%20refresh%20necessary/near/270095402" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> František Silváši <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/VS.20Code.200.2E0.2E60.20-.20Manual.20refresh.20necessary.html#270095402">(Jan 31 2022 at 20:00)</a>:</h4>
<p>Sure, give me a second.</p>



<a name="270095833"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/VS%20Code%200.0.60%20-%20Manual%20refresh%20necessary/near/270095833" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> František Silváši <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/VS.20Code.200.2E0.2E60.20-.20Manual.20refresh.20necessary.html#270095833">(Jan 31 2022 at 20:03)</a>:</h4>
<p>Works like a charm, that was quick, thanks &lt;3.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>