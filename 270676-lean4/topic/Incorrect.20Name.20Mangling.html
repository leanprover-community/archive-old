---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/Incorrect.20Name.20Mangling.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Incorrect.20Name.20Mangling.html">Incorrect Name Mangling</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="243407748"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Incorrect%20Name%20Mangling/near/243407748" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Naveen <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Incorrect.20Name.20Mangling.html#243407748">(Jun 21 2021 at 16:27)</a>:</h4>
<p>Hi,<br>
It seems, the name mangler only handles utf-16 unicode characters. See <a href="https://github.com/leanprover/lean4/blob/e68d09704d3a6494974de8b921d5b1b5cd1473df/src/Lean/Compiler/NameMangling.lean#L24-L32">here</a>. This has caused to output bad name during building of mathlib4.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="k">#eval</span> <span class="s2">"𝒫"</span><span class="bp">.</span><span class="n">mangle</span>
<span class="c1">-- outputs `_u*4ab`</span>
</code></pre></div>



<a name="243420942"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Incorrect%20Name%20Mangling/near/243420942" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wojciech Nawrocki <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Incorrect.20Name.20Mangling.html#243420942">(Jun 21 2021 at 18:09)</a>:</h4>
<p><a href="https://github.com/leanprover/lean4/pull/539">https://github.com/leanprover/lean4/pull/539</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>