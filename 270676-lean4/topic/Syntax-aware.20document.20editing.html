---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/Syntax-aware.20document.20editing.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Syntax-aware.20document.20editing.html">Syntax-aware document editing</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="284485804"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Syntax-aware%20document%20editing/near/284485804" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Syntax-aware.20document.20editing.html#284485804">(May 31 2022 at 14:37)</a>:</h4>
<p>Is there any plans or work underway to create a syntax-safe document editing component for the Lean server?</p>



<a name="284486112"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Syntax-aware%20document%20editing/near/284486112" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jakob von Raumer <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Syntax-aware.20document.20editing.html#284486112">(May 31 2022 at 14:39)</a>:</h4>
<p>/cc <span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span></p>



<a name="284487278"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Syntax-aware%20document%20editing/near/284487278" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Syntax-aware.20document.20editing.html#284487278">(May 31 2022 at 14:46)</a>:</h4>
<p>I assume you mean something better than manipulating the syntax tree, manually inserting whitespace as appropriate. One rough plan has always been to make the pretty printer good enough that you can just edit the structure of the syntax tree and then reformat the entire surrounding command.</p>



<a name="284487535"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Syntax-aware%20document%20editing/near/284487535" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Syntax-aware.20document.20editing.html#284487535">(May 31 2022 at 14:48)</a>:</h4>
<p>Or maybe I misunderstood you completely. Do you mean editing by the server or by a human user?</p>



<a name="284488964"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Syntax-aware%20document%20editing/near/284488964" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jakob von Raumer <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Syntax-aware.20document.20editing.html#284488964">(May 31 2022 at 14:59)</a>:</h4>
<p>We were talking about the "code actions"</p>



<a name="284489555"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Syntax-aware%20document%20editing/near/284489555" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Syntax-aware.20document.20editing.html#284489555">(May 31 2022 at 15:03)</a>:</h4>
<p>That's what I hoped :)</p>



<a name="284494714"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Syntax-aware%20document%20editing/near/284494714" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Syntax-aware.20document.20editing.html#284494714">(May 31 2022 at 15:38)</a>:</h4>
<p>What's the method to pretty print <code>Syntax</code>?</p>



<a name="284499468"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Syntax-aware%20document%20editing/near/284499468" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Syntax-aware.20document.20editing.html#284499468">(May 31 2022 at 16:06)</a>:</h4>
<p>It's <code>ppCommand</code>, see e.g. <a href="https://github.com/leanprover/lean4/blob/ef9976ccdaa7c19fe1208cf64b1f43b3c0811d1b/script/reformat.lean#L32">https://github.com/leanprover/lean4/blob/ef9976ccdaa7c19fe1208cf64b1f43b3c0811d1b/script/reformat.lean#L32</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>