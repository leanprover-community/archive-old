---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/copy.20code.20from.20alectryon.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/copy.20code.20from.20alectryon.html">copy code from alectryon</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="311749170"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/copy%20code%20from%20alectryon/near/311749170" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/copy.20code.20from.20alectryon.html#311749170">(Nov 23 2022 at 03:40)</a>:</h4>
<p>Is it just me or does copying code blocks from an alectryon documentation result in some crazy additional whitespace? <br>
E.g. copying the first code block from here: <a href="https://leanprover.github.io/lean4/doc/examples/tc.lean.html">https://leanprover.github.io/lean4/doc/examples/tc.lean.html</a> <br>
results in the following</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">inductive</span>

<span class="n">Expr</span> <span class="n">where</span>
  <span class="bp">|</span>

<span class="n">nat</span>  <span class="o">:</span>

<span class="n">Nat</span> <span class="bp">→</span>

<span class="n">Expr</span>
  <span class="bp">|</span>

<span class="n">plus</span> <span class="o">:</span>

<span class="n">Expr</span> <span class="bp">→</span>

<span class="n">Expr</span> <span class="bp">→</span>

<span class="n">Expr</span>
  <span class="bp">|</span>

<span class="n">bool</span> <span class="o">:</span>

<span class="n">Bool</span> <span class="bp">→</span>

<span class="n">Expr</span>
  <span class="bp">|</span>

<span class="n">and</span>  <span class="o">:</span>

<span class="n">Expr</span> <span class="bp">→</span>

<span class="n">Expr</span> <span class="bp">→</span>

<span class="n">Expr</span>
</code></pre></div>



<a name="311749220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/copy%20code%20from%20alectryon/near/311749220" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/copy.20code.20from.20alectryon.html#311749220">(Nov 23 2022 at 03:40)</a>:</h4>
<p>I can't imagine this is expected behavior?</p>



<a name="311756208"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/copy%20code%20from%20alectryon/near/311756208" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/copy.20code.20from.20alectryon.html#311756208">(Nov 23 2022 at 05:16)</a>:</h4>
<p>This is expected behavior. Alectryon renders the code as dozens and dozens of small HTML fragments with individual class etc. The newlines themselves are also special HTML fragments. And I guess if your browser thinks it should insert some newlines itself between fragments this is what ends up happening?</p>



<a name="311756714"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/copy%20code%20from%20alectryon/near/311756714" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/copy.20code.20from.20alectryon.html#311756714">(Nov 23 2022 at 05:23)</a>:</h4>
<p>There are definitely ways to fix this. For example, github code is highlighted but it does not do this</p>



<a name="311756983"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/copy%20code%20from%20alectryon/near/311756983" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/copy.20code.20from.20alectryon.html#311756983">(Nov 23 2022 at 05:26)</a>:</h4>
<p>it looks like the issue is the inline divs for every conceivable hover</p>



<a name="311757912"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/copy%20code%20from%20alectryon/near/311757912" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/copy.20code.20from.20alectryon.html#311757912">(Nov 23 2022 at 05:39)</a>:</h4>
<p>setting <code>display: none</code> on class <code>alectryon-type-info-wrapper</code> fixes the issue for me</p>



<a name="311781083"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/copy%20code%20from%20alectryon/near/311781083" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/copy.20code.20from.20alectryon.html#311781083">(Nov 23 2022 at 09:07)</a>:</h4>
<p>Right, but then how <em>do</em> we make them visible? Toggling <code>display</code> seems to break the <code>transition-delay</code>.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>