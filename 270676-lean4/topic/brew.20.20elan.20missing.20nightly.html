---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/brew.20.20elan.20missing.20nightly.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/brew.20.20elan.20missing.20nightly.html">brew  elan missing nightly</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="299860066"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/brew%20%20elan%20missing%20nightly/near/299860066" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mac <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/brew.20.20elan.20missing.20nightly.html#299860066">(Sep 20 2022 at 22:58)</a>:</h4>
<p>The elan distributed via homebrew cannot seem to find the lean binary package for nightly 09-20. From, the <a href="https://github.com/leanprover/lake/actions/runs/3093921581/jobs/5006866349#step:7:5">logs</a> of the Lake CI (where I encountered this problem), the error message is:</p>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>info: downloading component 'lean'
error: binary package was not provided for 'darwin'
</code></pre></div>



<a name="299860675"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/brew%20%20elan%20missing%20nightly/near/299860675" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/brew.20.20elan.20missing.20nightly.html#299860675">(Sep 20 2022 at 23:03)</a>:</h4>
<p>This was fixed in elan 1.4.2, which should be available via brew according to <a href="https://formulae.brew.sh/formula/elan-init">https://formulae.brew.sh/formula/elan-init</a></p>



<a name="299860993"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/brew%20%20elan%20missing%20nightly/near/299860993" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mac <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/brew.20.20elan.20missing.20nightly.html#299860993">(Sep 20 2022 at 23:06)</a>:</h4>
<p>Looking again at the <a href="https://github.com/leanprover/lake/actions/runs/3093921581/jobs/5006866349#step:5:22">logs</a> of the Lake CI, it seems that brew is still stuck on elan 1.4.1:</p>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>==&gt; Summary
üç∫  /usr/local/Cellar/elan-init/1.4.1: 20 files, 5MB
</code></pre></div>



<a name="299861427"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/brew%20%20elan%20missing%20nightly/near/299861427" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/brew.20.20elan.20missing.20nightly.html#299861427">(Sep 20 2022 at 23:11)</a>:</h4>
<p>Maybe adding a <code>brew update</code> step helps? <a href="https://github.com/leanprover/lake/pull/124">https://github.com/leanprover/lake/pull/124</a> needs approval to test it on CI</p>



<a name="299862679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/brew%20%20elan%20missing%20nightly/near/299862679" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/brew.20.20elan.20missing.20nightly.html#299862679">(Sep 20 2022 at 23:26)</a>:</h4>
<p>Huh, we're getting rate limited</p>



<a name="299862994"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/brew%20%20elan%20missing%20nightly/near/299862994" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/brew.20.20elan.20missing.20nightly.html#299862994">(Sep 20 2022 at 23:30)</a>:</h4>
<p>I guess <code>brew update</code> won't be needed once <a href="https://github.com/actions/runner-images/pull/6268">https://github.com/actions/runner-images/pull/6268</a> lands, though, so I don't know what's the best solution</p>



<a name="299863030"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/brew%20%20elan%20missing%20nightly/near/299863030" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/brew.20.20elan.20missing.20nightly.html#299863030">(Sep 20 2022 at 23:30)</a>:</h4>
<p>You can switch from <code>macOS-latest</code> to <code>macOS-12</code>, which has a newer image already available, but I don't know if that breaks compatibility somehow</p>



<a name="299907892"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/brew%20%20elan%20missing%20nightly/near/299907892" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/brew.20.20elan.20missing.20nightly.html#299907892">(Sep 21 2022 at 08:38)</a>:</h4>
<p>Let's keep it simple: <a href="https://github.com/leanprover/lake/pull/125">https://github.com/leanprover/lake/pull/125</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>