---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/Lean.20should.20update.20flake.2Elock.20file.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Lean.20should.20update.20flake.2Elock.20file.html">Lean should update flake.lock file</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="233571282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Lean%20should%20update%20flake.lock%20file/near/233571282" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Guilherme Silva <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Lean.20should.20update.20flake.2Elock.20file.html#233571282">(Apr 07 2021 at 22:11)</a>:</h4>
<p>The old Nixpkgs in Lean is making a download in the old link of the visual studio:<br>
I have this error when running <code>nix build github:leanprover/lean4#vscode-dev</code></p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">error</span><span class="o">:</span> <span class="n">builder</span> <span class="n">for</span> <span class="bp">'/</span><span class="n">nix</span><span class="bp">/</span><span class="n">store</span><span class="bp">/</span><span class="n">pmhj1v7jz7vkr8iccsq352w57gfhsc3c</span><span class="bp">-</span><span class="n">VSCode_1.52.1_linux</span><span class="bp">-</span><span class="n">x64.tar.gz.drv'</span> <span class="n">failed</span> <span class="k">with</span> <span class="n">exit</span> <span class="n">code</span> <span class="mi">1</span><span class="bp">;</span>
       <span class="n">last</span> <span class="mi">7</span> <span class="n">log</span> <span class="n">lines</span><span class="o">:</span>
       <span class="bp">&gt;</span>
       <span class="bp">&gt;</span> <span class="n">trying</span> <span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">vscode</span><span class="bp">-</span><span class="n">update.azurewebsites.net</span><span class="bp">/</span><span class="mi">1</span><span class="bp">.</span><span class="mi">52</span><span class="bp">.</span><span class="mi">1</span><span class="bp">/</span><span class="n">linux</span><span class="bp">-</span><span class="n">x64</span><span class="bp">/</span><span class="n">stable</span>
       <span class="bp">&gt;</span>   <span class="bp">%</span> <span class="n">Total</span>    <span class="bp">%</span> <span class="n">Received</span> <span class="bp">%</span> <span class="n">Xferd</span>  <span class="n">Average</span> <span class="n">Speed</span>   <span class="n">Time</span>    <span class="n">Time</span>     <span class="n">Time</span>  <span class="n">Current</span>
       <span class="bp">&gt;</span>                                  <span class="n">Dload</span>  <span class="n">Upload</span>   <span class="n">Total</span>   <span class="n">Spent</span>    <span class="n">Left</span>  <span class="n">Speed</span>
       <span class="bp">&gt;</span>   <span class="mi">0</span>     <span class="mi">0</span>    <span class="mi">0</span>     <span class="mi">0</span>    <span class="mi">0</span>     <span class="mi">0</span>      <span class="mi">0</span>      <span class="mi">0</span> <span class="c1">--:--:-- --:--:-- --:--:--     0</span>
       <span class="bp">&gt;</span> <span class="n">curl</span><span class="o">:</span> <span class="o">(</span><span class="mi">22</span><span class="o">)</span> <span class="n">The</span> <span class="n">requested</span> <span class="n">URL</span> <span class="n">returned</span> <span class="n">error</span><span class="o">:</span> <span class="mi">404</span> <span class="n">Not</span> <span class="n">Found</span>
       <span class="bp">&gt;</span> <span class="n">error</span><span class="o">:</span> <span class="n">cannot</span> <span class="n">download</span> <span class="n">VSCode_1.52.1_linux</span><span class="bp">-</span><span class="n">x64.tar.gz</span> <span class="k">from</span> <span class="n">any</span> <span class="n">mirror</span>
       <span class="n">For</span> <span class="n">full</span> <span class="n">logs</span><span class="o">,</span> <span class="n">run</span> <span class="bp">'</span><span class="n">nix</span> <span class="n">log</span> <span class="bp">/</span><span class="n">nix</span><span class="bp">/</span><span class="n">store</span><span class="bp">/</span><span class="n">pmhj1v7jz7vkr8iccsq352w57gfhsc3c</span><span class="bp">-</span><span class="n">VSCode_1.52.1_linux</span><span class="bp">-</span><span class="n">x64.tar.gz.drv'.</span>
</code></pre></div>
<p>I saw that <span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span> was the last that changed this file on GitHub.<br>
I can do a pull request too.</p>



<a name="233613300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Lean%20should%20update%20flake.lock%20file/near/233613300" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Lean.20should.20update.20flake.2Elock.20file.html#233613300">(Apr 08 2021 at 07:32)</a>:</h4>
<p>Unfortunately there seems to be some linking issue when building Lean against current nixpkgs-unstable</p>



<a name="233646390"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Lean%20should%20update%20flake.lock%20file/near/233646390" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Guilherme Silva <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Lean.20should.20update.20flake.2Elock.20file.html#233646390">(Apr 08 2021 at 12:50)</a>:</h4>
<p>I made a pull request fixing this issue:<br>
In my forked version, this command works <code>nix build github:guilhermehas/lean4#vscode-dev</code></p>



<a name="233647793"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Lean%20should%20update%20flake.lock%20file/near/233647793" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Lean.20should.20update.20flake.2Elock.20file.html#233647793">(Apr 08 2021 at 13:01)</a>:</h4>
<p>The PR fails with the same error. It probably only happens when ccache is set up.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>