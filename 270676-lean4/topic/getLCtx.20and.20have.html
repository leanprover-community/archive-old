---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/getLCtx.20and.20have.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/getLCtx.20and.20have.html">getLCtx and have</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="313057234"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/getLCtx%20and%20have/near/313057234" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/getLCtx.20and.20have.html#313057234">(Nov 30 2022 at 13:15)</a>:</h4>
<p>If I add something to the context using <code>have : h' : Î± := sorry</code>, then the output of <code>getLCtx</code> is unchanged (I can provide an <a href="https://leanprover-community.github.io/mwe.html">#mwe</a>, but it is really ugly, because I didn't bother to get it to pretty print, I only count hypotheses). I would expect to see a <code>LocalDecl</code> added, but why is this not happening.<br>
Context: <code>SolveByElim</code>/<code>applyAssumption</code> don't find assumptions that have been recently added using <code>have</code></p>



<a name="313057553"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/getLCtx%20and%20have/near/313057553" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jannis Limperg <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/getLCtx.20and.20have.html#313057553">(Nov 30 2022 at 13:16)</a>:</h4>
<p>Maybe you forgot to use <code>mvarId.withContext</code> or <code>withMainContext</code> after the <code>have</code>?</p>



<a name="313058195"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/getLCtx%20and%20have/near/313058195" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/getLCtx.20and.20have.html#313058195">(Nov 30 2022 at 13:20)</a>:</h4>
<p>that seems indeed to be the issue. Thanks</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>