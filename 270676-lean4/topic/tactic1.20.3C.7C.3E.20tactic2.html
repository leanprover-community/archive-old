---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/tactic1.20.3C.7C.3E.20tactic2.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/tactic1.20.3C.7C.3E.20tactic2.html">tactic1 <|> tactic2</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="289846996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/tactic1%20%3C%7C%3E%20tactic2/near/289846996" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Renshaw <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/tactic1.20.3C.7C.3E.20tactic2.html#289846996">(Jul 16 2022 at 20:48)</a>:</h4>
<p>The metaprogramming book claims that <code>&lt;|&gt;</code> is a tactic combinator such that</p>
<blockquote>
<p><code>t &lt;|&gt; u</code> first executes <code>t</code>. If <code>t</code> fails, it backtracks and executes <code>u</code></p>
</blockquote>
<p>(<a href="https://github.com/arthurpaulino/lean4-metaprogramming-book/blob/c79bc6a8f0be11045ed8b25f253709c8e440f275/lean/main/metam.lean#L1113">https://github.com/arthurpaulino/lean4-metaprogramming-book/blob/c79bc6a8f0be11045ed8b25f253709c8e440f275/lean/main/metam.lean#L1113</a>)</p>
<p>However, as far as I can tell, this only works in Lean 3, not in Lean 4. I ended up defining my own similar syntax for lean4-maze: <a href="https://github.com/dwrensha/lean4-maze/blob/45838fde6580d6be0252a91c649afa1398a62068/Maze.lean#L271-L274">https://github.com/dwrensha/lean4-maze/blob/45838fde6580d6be0252a91c649afa1398a62068/Maze.lean#L271-L274</a></p>
<p>Am I missing something here?</p>



<a name="289847181"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/tactic1%20%3C%7C%3E%20tactic2/near/289847181" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/tactic1.20.3C.7C.3E.20tactic2.html#289847181">(Jul 16 2022 at 20:53)</a>:</h4>
<p>That part of the book is indeed needing a revamp. Here's another issue: <a href="https://github.com/arthurpaulino/lean4-metaprogramming-book/issues/49">https://github.com/arthurpaulino/lean4-metaprogramming-book/issues/49</a></p>



<a name="289847248"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/tactic1%20%3C%7C%3E%20tactic2/near/289847248" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/tactic1.20.3C.7C.3E.20tactic2.html#289847248">(Jul 16 2022 at 20:54)</a>:</h4>
<p>Feel free to open an issue or even a PR :D<br>
I'll take a look when I get home</p>



<a name="289847287"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/tactic1%20%3C%7C%3E%20tactic2/near/289847287" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/tactic1.20.3C.7C.3E.20tactic2.html#289847287">(Jul 16 2022 at 20:55)</a>:</h4>
<p><code>&lt;|&gt;</code> is correct on the monadic level. There is <a href="https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Lean.Parser.Tactic.first#doc">docs4#Lean.Parser.Tactic.first</a> on the tactic DSL level.</p>



<a name="289847912"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/tactic1%20%3C%7C%3E%20tactic2/near/289847912" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Renshaw <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/tactic1.20.3C.7C.3E.20tactic2.html#289847912">(Jul 16 2022 at 21:12)</a>:</h4>
<p>Opened <a href="https://github.com/arthurpaulino/lean4-metaprogramming-book/pull/63">https://github.com/arthurpaulino/lean4-metaprogramming-book/pull/63</a>.</p>



<a name="289849882"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/tactic1%20%3C%7C%3E%20tactic2/near/289849882" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/tactic1.20.3C.7C.3E.20tactic2.html#289849882">(Jul 16 2022 at 22:06)</a>:</h4>
<p>Wait, I had linked something unrelated <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="289849883"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/tactic1%20%3C%7C%3E%20tactic2/near/289849883" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/tactic1.20.3C.7C.3E.20tactic2.html#289849883">(Jul 16 2022 at 22:06)</a>:</h4>
<p>Thanks!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>