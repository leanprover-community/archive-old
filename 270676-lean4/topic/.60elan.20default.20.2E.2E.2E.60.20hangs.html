---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/.60elan.20default.20.2E.2E.2E.60.20hangs.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.60elan.20default.20.2E.2E.2E.60.20hangs.html">`elan default ...` hangs</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="223775933"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%60elan%20default%20...%60%20hangs/near/223775933" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anand Jain <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.60elan.20default.20.2E.2E.2E.60.20hangs.html#223775933">(Jan 23 2021 at 21:03)</a>:</h4>
<p>hello friends,<br>
i am trying to get set up with lean4, following <a href="https://leanprover.github.io/lean4/doc/setup.html">setup</a><br>
i updated elan, but trying to change the default lean version with <code>elan -v default leanprover/lean4:stable</code> or <code>elan -v default leanprover/lean4:nightly</code> hangs on curl. maybe i am just impatient, but it is taking over 5 mins (im getting 20 mbps), is this expected?<br>
it seems stuck. <br>
edit: let me know if there is other sys info i should provide ty ~</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">verbose</span><span class="o">:</span> <span class="n">looking</span> <span class="n">for</span> <span class="n">installed</span> <span class="n">toolchain</span> <span class="bp">'</span><span class="n">leanprover</span><span class="bp">-</span><span class="n">lean4</span><span class="bp">-</span><span class="n">stable'</span>
<span class="n">verbose</span><span class="o">:</span> <span class="n">installing</span> <span class="n">toolchain</span> <span class="bp">'</span><span class="n">leanprover</span><span class="bp">-</span><span class="n">lean4</span><span class="bp">-</span><span class="n">stable'</span>
<span class="n">verbose</span><span class="o">:</span> <span class="n">toolchain</span> <span class="n">directory</span><span class="o">:</span> <span class="bp">'/</span><span class="n">home</span><span class="bp">/</span><span class="n">b</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="bp">-</span><span class="n">lean4</span><span class="bp">-</span><span class="n">stable'</span>
<span class="n">info</span><span class="o">:</span> <span class="n">syncing</span> <span class="n">channel</span> <span class="n">updates</span> <span class="n">for</span> <span class="bp">'</span><span class="n">stable'</span>
<span class="n">info</span><span class="o">:</span> <span class="n">latest</span> <span class="n">update</span> <span class="n">on</span> <span class="n">stable</span><span class="o">,</span> <span class="n">lean</span> <span class="n">version</span> <span class="n">v4.0.0</span><span class="bp">-</span><span class="n">m1</span>
<span class="n">info</span><span class="o">:</span> <span class="n">downloading</span> <span class="n">component</span> <span class="bp">'</span><span class="n">lean'</span>
<span class="n">verbose</span><span class="o">:</span> <span class="n">creating</span> <span class="n">temp</span> <span class="n">file</span><span class="o">:</span> <span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">b</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">tmp</span><span class="bp">/</span><span class="n">u3fyfy7uelf5ko_1_file</span>
<span class="n">verbose</span><span class="o">:</span> <span class="n">downloading</span> <span class="n">file</span> <span class="k">from</span><span class="o">:</span> <span class="bp">'</span><span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">github.com</span><span class="bp">/</span><span class="n">leanprover</span><span class="bp">/</span><span class="n">lean4</span><span class="bp">/</span><span class="n">releases</span><span class="bp">/</span><span class="n">tag</span><span class="bp">/</span><span class="n">v4.0.0</span><span class="bp">-</span><span class="n">m1'</span>
<span class="n">verbose</span><span class="o">:</span> <span class="n">downloading</span> <span class="k">with</span> <span class="n">curl</span>
<span class="n">verbose</span><span class="o">:</span> <span class="n">creating</span> <span class="n">temp</span> <span class="n">file</span><span class="o">:</span> <span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">b</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">tmp</span><span class="bp">/</span><span class="n">ssc0c_zt2ag5rtpn_file.tar.gz</span>
<span class="n">verbose</span><span class="o">:</span> <span class="n">downloading</span> <span class="n">file</span> <span class="k">from</span><span class="o">:</span> <span class="bp">'</span><span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">github.com</span><span class="bp">//</span><span class="n">leanprover</span><span class="bp">/</span><span class="n">lean4</span><span class="bp">/</span><span class="n">releases</span><span class="bp">/</span><span class="n">download</span><span class="bp">/</span><span class="n">v4.0.0</span><span class="bp">-</span><span class="n">m1</span><span class="bp">/</span><span class="n">lean</span><span class="bp">-</span><span class="mi">4</span><span class="bp">.</span><span class="mi">0</span><span class="bp">.</span><span class="mi">0</span><span class="bp">-</span><span class="n">m1</span><span class="bp">-</span><span class="n">linux.tar.gz'</span>
<span class="n">verbose</span><span class="o">:</span> <span class="n">downloading</span> <span class="k">with</span> <span class="n">curl</span><span class="bp">```</span>
</code></pre></div>



<a name="223782175"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%60elan%20default%20...%60%20hangs/near/223782175" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wojciech Nawrocki <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.60elan.20default.20.2E.2E.2E.60.20hangs.html#223782175">(Jan 23 2021 at 22:43)</a>:</h4>
<p>Are you seeing a <code>_ MiB /  90.8 MiB (_ %)  _ MiB/s ETA:  _ s</code> message below the <code>downloading with curl</code> line? Which version (<code>elan --version</code>) are you on? <del>You can use <code>elan self update</code> to update it.</del> EDIT: Oh, I missed that you updated elan. It shouldn't take 5min (it's roughly 10s for me on ~10MiB/s). But it could just be a temporary network issue?</p>



<a name="223786059"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%60elan%20default%20...%60%20hangs/near/223786059" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anand Jain <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.60elan.20default.20.2E.2E.2E.60.20hangs.html#223786059">(Jan 24 2021 at 00:14)</a>:</h4>
<p>hi, thanks for reply.<br>
no progress bar, that's why I think it is stalling</p>



<a name="223787156"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%60elan%20default%20...%60%20hangs/near/223787156" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wojciech Nawrocki <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.60elan.20default.20.2E.2E.2E.60.20hangs.html#223787156">(Jan 24 2021 at 00:45)</a>:</h4>
<p>That's quite strange, does just running <code>curl -OL https://github.com//leanprover/lean4/releases/download/v4.0.0-m1/lean-4.0.0-m1-linux.tar.gz</code> in the terminal download the file?</p>



<a name="223798014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%60elan%20default%20...%60%20hangs/near/223798014" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anand Jain <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.60elan.20default.20.2E.2E.2E.60.20hangs.html#223798014">(Jan 24 2021 at 05:48)</a>:</h4>
<p>ya this curls as normal, what should i do to unzip + install?<br>
thanks!</p>



<a name="223827989"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%60elan%20default%20...%60%20hangs/near/223827989" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wojciech Nawrocki <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.60elan.20default.20.2E.2E.2E.60.20hangs.html#223827989">(Jan 24 2021 at 18:37)</a>:</h4>
<p>You really shouldn't have to do this manually. First, since Lean 4 is in active development the stable version is already quite outdated. So I would try the nightly builds instead, using <code>elan install leanprover/lean4:nightly</code>. I have no idea why curl fails for you but you could try these few things:</p>
<ul>
<li>remove <code>~/.elan/tmp</code> and then try to install, and I guess wait at least 5min or so in case it's <em>really slow</em> for some reason</li>
<li>if that fails, remove all of <code>~/.elan</code>, reinstall <code>elan</code> and then retry <code>install</code></li>
</ul>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>