---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/elan.20update.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/elan.20update.html">elan update</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="250416430"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/elan%20update/near/250416430" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mark Encarnación <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/elan.20update.html#250416430">(Aug 23 2021 at 21:46)</a>:</h4>
<p>I tried running 'elan self update' (on Windows) but ran into this error:</p>
<p>$ elan self update<br>
info: checking for self-updates<br>
info: downloading self-update<br>
Error(Download(HttpStatus(404)), State { next_error: None, backtrace: InternalBacktrace { backtrace: None } })<br>
error: could not download file from '<a href="https://github.com/leanprover/elan/releases/download/v1.0.7/elan-.zip">https://github.com/leanprover/elan/releases/download/v1.0.7/elan-.zip</a>' to 'C:\Users\markenc\AppData\Local\Temp\elan-update.7ssnvBWNqktc\elan-.zip'<br>
info: caused by: http request returned an unsuccessful status code: 404</p>
<p>Any suggestions on how I should update elan?</p>
<p>Thanks!</p>



<a name="250428176"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/elan%20update/near/250428176" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Leonardo de Moura <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/elan.20update.html#250428176">(Aug 24 2021 at 00:05)</a>:</h4>
<p><span class="user-mention" data-user-id="426621">@Mark Encarnación</span> You don't need to use <code>elan self update</code> to get Lean 4 working on Windows. The Quickstart <a href="https://github.com/leanprover/lean4/blob/master/doc/quickstart.md">https://github.com/leanprover/lean4/blob/master/doc/quickstart.md</a> is a bit confusing for Windows. After we have installed <code>elan</code> using <code>elan-init.exe</code>. We should do the following for setting the Lean 4 nightly build as the default toolchain.</p>
<ul>
<li>Open a terminal</li>
<li>Add a new toolchain for Lean 4 using the commang</li>
</ul>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>   elan toolchain install leanprover/lean4:nightly
</code></pre></div>
<ul>
<li>Make it the default one</li>
</ul>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>   elan default leanprover/lean4:nightly
</code></pre></div>
<ul>
<li>We can confirm that Lean 4 is the default toolchain using</li>
</ul>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">lean</span> <span class="c1">--version</span>
</code></pre></div>
<p>The rest of the quickstart instructions should work.</p>



<a name="250429749"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/elan%20update/near/250429749" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mac <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/elan.20update.html#250429749">(Aug 24 2021 at 00:31)</a>:</h4>
<p><span class="user-mention" data-user-id="426621">@Mark Encarnación</span> what version of <code>elan</code> are you using? The <code>self update</code> command broke on Windows in <a href="https://github.com/leanprover/elan/blob/master/CHANGELOG.md#103---2021-04-30">v1.0.3</a> and was fixed in <a href="https://github.com/leanprover/elan/blob/master/CHANGELOG.md#106---2021-05-25">v1.0.6</a>.</p>



<a name="250429952"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/elan%20update/near/250429952" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mac <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/elan.20update.html#250429952">(Aug 24 2021 at 00:34)</a>:</h4>
<p>If you are using a broken <code>elan</code>, you will need to manually update by running the <code>elan-init.exe</code> in the <a href="https://github.com/leanprover/elan/releases/download/v1.0.7/elan-x86_64-pc-windows-msvc.zip"><code>elan-x86_64-pc-windows-msvc.zip</code></a> downloadable from and in the <a href="https://github.com/leanprover/elan/releases">releases page</a>.</p>



<a name="250430547"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/elan%20update/near/250430547" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mark Encarnación <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/elan.20update.html#250430547">(Aug 24 2021 at 00:44)</a>:</h4>
<p>Thanks, <span class="user-mention" data-user-id="315577">@Mac</span>. I'm using elan v1.0.6:<br>
$ elan --version<br>
elan 1.0.6 (bf510c5db 2021-05-25)</p>
<p>Thanks, <span class="user-mention" data-user-id="112857">@Leonardo de Moura</span>. Yes, I have Lean4 working, but I also wanted to make sure I have the latest elan, hence I tried running the self update. I will issue the commands you provided so that I will have the nightly build.</p>



<a name="250431059"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/elan%20update/near/250431059" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mac <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/elan.20update.html#250431059">(Aug 24 2021 at 00:52)</a>:</h4>
<p><span class="user-mention" data-user-id="426621">@Mark Encarnación</span> Ah. Well, it appears that <span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span> attempt to fix the URL on not-Linux did not actually succeed in fixing the issue. He's on vacation now, so you'll probably have to wait until he gets back to have that issue looked at. In the meantime, you can manually update <code>elan</code> if you want the latest version.</p>



<a name="250431868"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/elan%20update/near/250431868" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mark Encarnación <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/elan.20update.html#250431868">(Aug 24 2021 at 01:04)</a>:</h4>
<p>Ok, thanks, <span class="user-mention" data-user-id="315577">@Mac</span>. I'm in no hurry.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>