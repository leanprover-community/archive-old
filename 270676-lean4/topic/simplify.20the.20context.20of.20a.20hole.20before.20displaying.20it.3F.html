---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/simplify.20the.20context.20of.20a.20hole.20before.20displaying.20it.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/simplify.20the.20context.20of.20a.20hole.20before.20displaying.20it.3F.html">simplify the context of a hole before displaying it?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="229110518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/simplify%20the%20context%20of%20a%20hole%20before%20displaying%20it%3F/near/229110518" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Gross <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/simplify.20the.20context.20of.20a.20hole.20before.20displaying.20it.3F.html#229110518">(Mar 06 2021 at 16:32)</a>:</h4>
<p>I have a hole where Lean says "don't know how to synthesize placeholder" and lists a bunch of things in the context.  I want to run the equivalent of Coq's <code>simpl</code> tactic in the context and see the result.  (I'd be willing to explicitly name the things I want to unfold if that's better, and, in this case, I'd also be fine with fully normalizing everything).  How do I do this?</p>



<a name="229112094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/simplify%20the%20context%20of%20a%20hole%20before%20displaying%20it%3F/near/229112094" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Leonardo de Moura <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/simplify.20the.20context.20of.20a.20hole.20before.20displaying.20it.3F.html#229112094">(Mar 06 2021 at 16:55)</a>:</h4>
<p>Have you tried to use tactic mode? Suppose you have a hole <code>_</code> that cannot be synthesized, you can replace it with <code>(by done)</code>, where <code>done</code> is a tactic that fails when there are unsolved goals. Then, you can use tactics to simplify the context.<br>
Example: <code>(by clear h; simp; done)</code>. Note that <code>simp</code> is not Coq <code>simpl</code> since it will use theorems marked with <code>[simp]</code> as rewriting rules, but you can use <code>simp only</code> instead. Btw, <code>simp only [foo]</code> unfolds <code>foo</code>. <code>simp only [foo] at h</code> unfolds <code>foo</code> at hypothesis <code>h</code>.</p>



<a name="229304250"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/simplify%20the%20context%20of%20a%20hole%20before%20displaying%20it%3F/near/229304250" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Gross <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/simplify.20the.20context.20of.20a.20hole.20before.20displaying.20it.3F.html#229304250">(Mar 08 2021 at 14:11)</a>:</h4>
<p>I'm now trying this out; thanks!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>