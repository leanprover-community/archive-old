---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/Weird.20elan.20error.20on.20.60elan.20self.20update.60.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Weird.20elan.20error.20on.20.60elan.20self.20update.60.html">Weird elan error on `elan self update`</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="240224065"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Weird%20elan%20error%20on%20%60elan%20self%20update%60/near/240224065" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mac <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Weird.20elan.20error.20on.20.60elan.20self.20update.60.html#240224065">(May 25 2021 at 17:41)</a>:</h4>
<p>So I just ran <code>elan self update</code> to get the new v1.0.5 and encountered the following error:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">info</span><span class="o">:</span> <span class="n">checking</span> <span class="n">for</span> <span class="n">self</span><span class="bp">-</span><span class="n">updates</span>
<span class="n">info</span><span class="o">:</span> <span class="n">downloading</span> <span class="n">self</span><span class="bp">-</span><span class="n">update</span>
<span class="n">Error</span><span class="o">(</span><span class="n">Download</span><span class="o">(</span><span class="n">HttpStatus</span><span class="o">(</span><span class="mi">404</span><span class="o">)),</span> <span class="n">State</span> <span class="o">{</span> <span class="n">next_error</span><span class="o">:</span> <span class="n">None</span><span class="o">,</span> <span class="n">backtrace</span><span class="o">:</span> <span class="n">InternalBacktrace</span> <span class="o">{</span> <span class="n">backtrace</span><span class="o">:</span> <span class="n">None</span> <span class="o">}</span> <span class="o">})</span>
<span class="n">error</span><span class="o">:</span> <span class="n">could</span> <span class="n">not</span> <span class="n">download</span> <span class="n">file</span> <span class="k">from</span> <span class="bp">'</span><span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">github.com</span><span class="bp">/</span><span class="n">leanprover</span><span class="bp">/</span><span class="n">elan</span><span class="bp">/</span><span class="n">releases</span><span class="bp">/</span><span class="n">download</span><span class="bp">/</span><span class="n">v1.0.5</span><span class="bp">/</span><span class="n">elan</span><span class="bp">-.</span><span class="n">zip'</span> <span class="n">to</span> <span class="bp">'</span><span class="n">C</span><span class="o">:</span><span class="bp">\</span><span class="n">msys64</span><span class="bp">\</span><span class="n">tmp</span><span class="bp">\</span><span class="n">elan</span><span class="bp">-</span><span class="n">update.c8emncMQuRCT</span><span class="bp">\</span><span class="n">elan</span><span class="bp">-.</span><span class="n">zip'</span>
<span class="n">info</span><span class="o">:</span> <span class="n">caused</span> <span class="kd">by</span><span class="o">:</span> <span class="n">http</span> <span class="n">request</span> <span class="n">returned</span> <span class="n">an</span> <span class="n">unsuccessful</span> <span class="n">status</span> <span class="n">code</span><span class="o">:</span> <span class="mi">404</span>
</code></pre></div>
<p>Anyone know why this is happening?</p>



<a name="240224128"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Weird%20elan%20error%20on%20%60elan%20self%20update%60/near/240224128" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mac <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Weird.20elan.20error.20on.20.60elan.20self.20update.60.html#240224128">(May 25 2021 at 17:41)</a>:</h4>
<p>My current elan version is <code>elan 1.0.3 (1e544aa57 2021-04-30)</code></p>



<a name="240224386"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Weird%20elan%20error%20on%20%60elan%20self%20update%60/near/240224386" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mac <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Weird.20elan.20error.20on.20.60elan.20self.20update.60.html#240224386">(May 25 2021 at 17:43)</a>:</h4>
<p>I figure that it probably has to do with the fact it is looking for <code>elan-.zip</code> instead of the proper <code>elan-x86_64-pc-windows-msvc.zip</code>, but I don't know why it would be doing that (or how to make it do what it should).</p>



<a name="240227034"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Weird%20elan%20error%20on%20%60elan%20self%20update%60/near/240227034" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mac <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Weird.20elan.20error.20on.20.60elan.20self.20update.60.html#240227034">(May 25 2021 at 18:02)</a>:</h4>
<p>It may be that that <a href="https://github.com/leanprover/elan/commit/7bc41561e1d0990f57f0a024e861ed7223e9e180">https://github.com/leanprover/elan/commit/7bc41561e1d0990f57f0a024e861ed7223e9e180</a> inadvertently broke the Windows self update URL.</p>



<a name="240251502"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Weird%20elan%20error%20on%20%60elan%20self%20update%60/near/240251502" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Weird.20elan.20error.20on.20.60elan.20self.20update.60.html#240251502">(May 25 2021 at 21:17)</a>:</h4>
<p>Whoops. Should be fixed now, at least after a manual update.</p>



<a name="240288759"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Weird%20elan%20error%20on%20%60elan%20self%20update%60/near/240288759" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mac <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Weird.20elan.20error.20on.20.60elan.20self.20update.60.html#240288759">(May 26 2021 at 07:41)</a>:</h4>
<p>Btw, what is the recommended way to perform a manual update? Just run <code>elan-init</code> with the normal installation?</p>



<a name="240288963"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Weird%20elan%20error%20on%20%60elan%20self%20update%60/near/240288963" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Weird.20elan.20error.20on.20.60elan.20self.20update.60.html#240288963">(May 26 2021 at 07:43)</a>:</h4>
<p>That should be the easiest way, yes</p>



<a name="240289116"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Weird%20elan%20error%20on%20%60elan%20self%20update%60/near/240289116" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mac <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Weird.20elan.20error.20on.20.60elan.20self.20update.60.html#240289116">(May 26 2021 at 07:45)</a>:</h4>
<p>I was worried that might overwrite the current config (and break things), but it is good to hear that it is smart enough to work.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>