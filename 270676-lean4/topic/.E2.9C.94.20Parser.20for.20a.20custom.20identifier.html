---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/.E2.9C.94.20Parser.20for.20a.20custom.20identifier.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20Parser.20for.20a.20custom.20identifier.html">✔ Parser for a custom identifier</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="296998888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20Parser%20for%20a%20custom%20identifier/near/296998888" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yuri de Wit <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20Parser.20for.20a.20custom.20identifier.html#296998888">(Sep 03 2022 at 14:24)</a>:</h4>
<p>btw, the syntax in the Metaprogramming book's chapter on <a href="https://github.com/arthurpaulino/lean4-metaprogramming-book/blob/master/md/extra/pretty-printing.md">Pretty Printing</a> seems to be exactly what I was looking for.</p>



<a name="296998905"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20Parser%20for%20a%20custom%20identifier/near/296998905" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20Parser.20for.20a.20custom.20identifier.html#296998905">(Sep 03 2022 at 14:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="463095">Yuri de Wit</span> has marked this topic as resolved.</p>



<a name="296999050"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20Parser%20for%20a%20custom%20identifier/near/296999050" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20Parser.20for.20a.20custom.20identifier.html#296999050">(Sep 03 2022 at 14:25)</a>:</h4>
<p><span class="user-mention" data-user-id="463095">@Yuri de Wit</span> See <a href="https://leanprover.github.io/lean4/doc/dev/debugging.html#tracing">https://leanprover.github.io/lean4/doc/dev/debugging.html#tracing</a>. It would probably be good to incorporate this information into the metaprogramming book as well</p>



<a name="297013173"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20Parser%20for%20a%20custom%20identifier/near/297013173" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yuri de Wit <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20Parser.20for.20a.20custom.20identifier.html#297013173">(Sep 03 2022 at 16:30)</a>:</h4>
<p>FWIW, there is already a general issue created for this <a href="https://github.com/arthurpaulino/lean4-metaprogramming-book/issues/67">here</a> and a page on the <a href="https://github.com/arthurpaulino/lean4-metaprogramming-book/blob/master/md/extra/options.md">options</a> mechanism in general.</p>



<a name="297025409"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/%E2%9C%94%20Parser%20for%20a%20custom%20identifier/near/297025409" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yuri de Wit <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/.E2.9C.94.20Parser.20for.20a.20custom.20identifier.html#297025409">(Sep 03 2022 at 18:51)</a>:</h4>
<p>It turns out the following would have enabled me to see the macro expansion and possibly a specific addition to the docs:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">set_option</span> <span class="n">pp.raw</span> <span class="n">true</span>
<span class="kd">set_option</span> <span class="n">trace.Elab.step</span> <span class="n">true</span>
<span class="k">#eval</span> <span class="bp">`</span><span class="o">[</span><span class="n">rw</span><span class="bp">|</span> <span class="n">n</span><span class="o">]</span> <span class="c1">-- error: unknown identifier 'n'</span>
</code></pre></div>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">unknown</span> <span class="n">identifier</span> <span class="sc">'n'</span>
<span class="n">cannot</span> <span class="n">evaluate</span> <span class="n">code</span> <span class="n">because</span> <span class="bp">'</span><span class="n">sorryAx'</span> <span class="n">uses</span> <span class="bp">'</span><span class="gr">sorry</span><span class="bp">'</span> <span class="n">and</span><span class="bp">/</span><span class="n">or</span> <span class="n">contains</span> <span class="n">errors</span>

<span class="o">[</span><span class="n">Elab.step</span><span class="o">]</span> <span class="n">expected</span> <span class="n">type</span><span class="o">:</span> <span class="bp">&lt;</span><span class="n">not</span><span class="bp">-</span><span class="n">available</span><span class="bp">&gt;</span><span class="o">,</span> <span class="n">term</span>
    <span class="o">(</span><span class="n">rw_term</span> <span class="s2">"`[rw|"</span> <span class="o">(</span><span class="n">rw_term__1</span> <span class="bp">`</span><span class="n">n</span><span class="o">)</span> <span class="s2">"]"</span><span class="o">)</span> <span class="bp">▼</span>
  <span class="o">[]</span> <span class="n">expected</span> <span class="n">type</span><span class="o">:</span> <span class="bp">&lt;</span><span class="n">not</span><span class="bp">-</span><span class="n">available</span><span class="bp">&gt;</span><span class="o">,</span> <span class="n">term</span>
      <span class="o">(</span><span class="n">Term.app</span> <span class="bp">`</span><span class="n">HTerm.var._</span><span class="bp">@.</span><span class="n">INet._hyg.2877</span> <span class="o">[</span><span class="bp">`</span><span class="n">n</span><span class="o">])</span> <span class="bp">▼</span>
    <span class="o">[]</span> <span class="n">expected</span> <span class="n">type</span><span class="o">:</span> <span class="n">String</span><span class="o">,</span> <span class="n">term</span>
        <span class="bp">`</span><span class="n">n</span> <span class="bp">▼</span>
      <span class="o">[</span><span class="n">result</span><span class="o">]</span> <span class="n">sorryAx</span> <span class="n">String</span> <span class="n">true</span>
    <span class="o">[</span><span class="n">result</span><span class="o">]</span> <span class="n">HTerm.var</span> <span class="o">(</span><span class="n">sorryAx</span> <span class="n">String</span> <span class="n">true</span><span class="o">)</span>
  <span class="o">[</span><span class="n">result</span><span class="o">]</span> <span class="n">HTerm.var</span> <span class="o">(</span><span class="n">sorryAx</span> <span class="n">String</span> <span class="n">true</span><span class="o">)</span>
</code></pre></div>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>