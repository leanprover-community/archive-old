---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/De-emphasizing.20inaccessible.20hypothesis.20names.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/De-emphasizing.20inaccessible.20hypothesis.20names.html">De-emphasizing inaccessible hypothesis names</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="295701220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/De-emphasizing%20inaccessible%20hypothesis%20names/near/295701220" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/De-emphasizing.20inaccessible.20hypothesis.20names.html#295701220">(Aug 28 2022 at 12:05)</a>:</h4>
<p>Quite some time ago I implemented a simple client-side filter in Emacs for inaccessible hypotheses<br>
<a href="/user_uploads/3121/iyDq6Rl4dftbMprl2GEpkJAl/image.png">image.png</a> <br>
AFAIR, <span class="user-mention" data-user-id="221921">@Marc Huisinga</span> implemented it in vscode-lean4 at the same time, but because of some bug it was never actually triggered? In any case, now that the implementation has changed completely anyway through widgets, I wanted to gauge interest for finally bringing this feature to VS Code/the infoview widget</p>
<div class="message_inline_image"><a href="/user_uploads/3121/iyDq6Rl4dftbMprl2GEpkJAl/image.png" title="image.png"><img src="/user_uploads/3121/iyDq6Rl4dftbMprl2GEpkJAl/image.png"></a></div>



<a name="295701372"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/De-emphasizing%20inaccessible%20hypothesis%20names/near/295701372" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/De-emphasizing.20inaccessible.20hypothesis.20names.html#295701372">(Aug 28 2022 at 12:06)</a>:</h4>
<p>If eliding the cross symbol is too controversial, I think highlighting without elision would still be valuable. At least in HTML we would be able to add the symbol when copying text without displaying it, I assume.</p>



<a name="295703539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/De-emphasizing%20inaccessible%20hypothesis%20names/near/295703539" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/De-emphasizing.20inaccessible.20hypothesis.20names.html#295703539">(Aug 28 2022 at 12:26)</a>:</h4>
<p>Apparently I'd already complained previously: <a href="https://github.com/leanprover/vscode-lean4/issues/18">https://github.com/leanprover/vscode-lean4/issues/18</a>. But the problem wasn't really the cross elision (which I think is fixable as mentioned) but the lackluster/unclear highlighting compared to Emacs (where nobody has complained about the elision so far, afair). And then the code was lost completely in <a href="https://github.com/leanprover/vscode-lean4/pull/37">https://github.com/leanprover/vscode-lean4/pull/37</a>.</p>



<a name="295704081"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/De-emphasizing%20inaccessible%20hypothesis%20names/near/295704081" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/De-emphasizing.20inaccessible.20hypothesis.20names.html#295704081">(Aug 28 2022 at 12:31)</a>:</h4>
<p>When you say filter you mean the dimming right? Not that the hypotheses are totally removed from the shown state?</p>



<a name="295704132"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/De-emphasizing%20inaccessible%20hypothesis%20names/near/295704132" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/De-emphasizing.20inaccessible.20hypothesis.20names.html#295704132">(Aug 28 2022 at 12:31)</a>:</h4>
<p>Just trying to make sure I understand the screenshot.</p>



<a name="295704348"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/De-emphasizing%20inaccessible%20hypothesis%20names/near/295704348" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/De-emphasizing.20inaccessible.20hypothesis.20names.html#295704348">(Aug 28 2022 at 12:33)</a>:</h4>
<p>Yes, more of an Instagram filter than a list filter</p>



<a name="295704606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/De-emphasizing%20inaccessible%20hypothesis%20names/near/295704606" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/De-emphasizing.20inaccessible.20hypothesis.20names.html#295704606">(Aug 28 2022 at 12:34)</a>:</h4>
<p>For completeness, Leo has also since implemented a server-side filter that completely hides the names (but not types) of inaccessible variables of proposition type</p>



<a name="295705784"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/De-emphasizing%20inaccessible%20hypothesis%20names/near/295705784" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/De-emphasizing.20inaccessible.20hypothesis.20names.html#295705784">(Aug 28 2022 at 12:45)</a>:</h4>
<p>Perhaps, regardless of how they're indicated / differentiated, it'd be helpful to have a hover message that explains what they are? E.g. hovering shows something like <code>"n‚úù is an inaccessible hypothesis because its name was automatically generated by ..."</code>? Otherwise it'd seem hard to guess why the highlighting is different, and hard even to ask about if the color was different between users.</p>



<a name="295706049"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/De-emphasizing%20inaccessible%20hypothesis%20names/near/295706049" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/De-emphasizing.20inaccessible.20hypothesis.20names.html#295706049">(Aug 28 2022 at 12:47)</a>:</h4>
<p>Heh, that would require some novel metadata. But at least a static message would be very reasonable, yes. Which really is true for crossed names even without highlighting.</p>



<a name="295706136"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/De-emphasizing%20inaccessible%20hypothesis%20names/near/295706136" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/De-emphasizing.20inaccessible.20hypothesis.20names.html#295706136">(Aug 28 2022 at 12:48)</a>:</h4>
<p>Yeah I suppose didn't mean to mix 2 ideas in one, even just a static message I think makes it easier to muck with how they display.</p>



<a name="295706873"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/De-emphasizing%20inaccessible%20hypothesis%20names/near/295706873" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/De-emphasizing.20inaccessible.20hypothesis.20names.html#295706873">(Aug 28 2022 at 12:55)</a>:</h4>
<p>I strongly disagree with hiding the crosses, so it is intentional that I never implemented it.</p>



<a name="295707391"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/De-emphasizing%20inaccessible%20hypothesis%20names/near/295707391" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/De-emphasizing.20inaccessible.20hypothesis.20names.html#295707391">(Aug 28 2022 at 13:01)</a>:</h4>
<p>The crosses are an essential part of how name resolution works in Lean 4.  Users will see them in error messages and on Zulip, so they'll need to know what they signify anyhow.  Having two different ways to communicate the same information is just unnecessarily confusing.</p>



<a name="295707531"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/De-emphasizing%20inaccessible%20hypothesis%20names/near/295707531" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/De-emphasizing.20inaccessible.20hypothesis.20names.html#295707531">(Aug 28 2022 at 13:03)</a>:</h4>
<p><span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> What about the highlighting (or rather low-lighting) then? The specific displayed name doesn't matter all that much anymore anyway if it is deemphasized to such a degree as in Emacs</p>



<a name="295707720"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/De-emphasizing%20inaccessible%20hypothesis%20names/near/295707720" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/De-emphasizing.20inaccessible.20hypothesis.20names.html#295707720">(Aug 28 2022 at 13:04)</a>:</h4>
<p>Personally I don't see the point of graying them out, but it is a compromise I could live with.</p>



<a name="295709365"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/De-emphasizing%20inaccessible%20hypothesis%20names/near/295709365" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/De-emphasizing.20inaccessible.20hypothesis.20names.html#295709365">(Aug 28 2022 at 13:19)</a>:</h4>
<p>I guess the good thing with HTML is that we also have plenty of other options <span aria-label="silence" class="emoji emoji-1f910" role="img" title="silence">:silence:</span> <a href="/user_uploads/3121/m88UOlMHoSWxoRpt3MC5sXcg/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/m88UOlMHoSWxoRpt3MC5sXcg/image.png" title="image.png"><img src="/user_uploads/3121/m88UOlMHoSWxoRpt3MC5sXcg/image.png"></a></div>



<a name="295709822"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/De-emphasizing%20inaccessible%20hypothesis%20names/near/295709822" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/De-emphasizing.20inaccessible.20hypothesis.20names.html#295709822">(Aug 28 2022 at 13:23)</a>:</h4>
<p>One thing to consider re: "the names aren't important" is that these names will appear in the types of hypotheses, so it's important to know which is which</p>



<a name="295710002"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/De-emphasizing%20inaccessible%20hypothesis%20names/near/295710002" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/De-emphasizing.20inaccessible.20hypothesis.20names.html#295710002">(Aug 28 2022 at 13:25)</a>:</h4>
<p>Right, I should mention that the Emacs filter also applies to references of these names (as did the original VS Code implementation, I think). But I'm completely on board with not touching the names and willing to change that in Emacs as well.</p>



<a name="295710004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/De-emphasizing%20inaccessible%20hypothesis%20names/near/295710004" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/De-emphasizing.20inaccessible.20hypothesis.20names.html#295710004">(Aug 28 2022 at 13:25)</a>:</h4>
<p>so I agree with gabriel that we shouldn't be doing anything other than putting the dagger on and maybe styling them differently (in a way that indicates that they are different but does not make them harder to see)</p>



<a name="296083079"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/De-emphasizing%20inaccessible%20hypothesis%20names/near/296083079" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/De-emphasizing.20inaccessible.20hypothesis.20names.html#296083079">(Aug 30 2022 at 11:40)</a>:</h4>
<p>PR'ed <a href="https://github.com/leanprover/vscode-lean4/pull/249">https://github.com/leanprover/vscode-lean4/pull/249</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>