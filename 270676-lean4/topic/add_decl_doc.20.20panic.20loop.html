---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/add_decl_doc.20.20panic.20loop.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/add_decl_doc.20.20panic.20loop.html">add_decl_doc  panic loop</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="316079284"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/add_decl_doc%20%20panic%20loop/near/316079284" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/add_decl_doc.20.20panic.20loop.html#316079284">(Dec 15 2022 at 16:10)</a>:</h4>
<p>It seems that <code>add_decl_doc</code> is creating this chaos.</p>



<a name="316079838"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/add_decl_doc%20%20panic%20loop/near/316079838" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/add_decl_doc.20.20panic.20loop.html#316079838">(Dec 15 2022 at 16:12)</a>:</h4>
<p>yeah I can reproduce</p>



<a name="316080049"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/add_decl_doc%20%20panic%20loop/near/316080049" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/add_decl_doc.20.20panic.20loop.html#316080049">(Dec 15 2022 at 16:13)</a>:</h4>
<p>Could you post a single stack trace (top dozen frames are usually sufficient) here?</p>



<a name="316080677"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/add_decl_doc%20%20panic%20loop/near/316080677" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/add_decl_doc.20.20panic.20loop.html#316080677">(Dec 15 2022 at 16:16)</a>:</h4>
<p>I starts with</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(+0x33adbae)[0x7f5eff893bae]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(lean_apply_1+0x420)[0x7f5eff880ac0]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(+0x33992a8)[0x7f5eff87f2a8]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(+0x339a351)[0x7f5eff880351]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(+0x338e9a5)[0x7f5eff8749a5]</span>
<span class="bp">/</span><span class="n">lib</span><span class="bp">/</span><span class="n">x86_64</span><span class="bp">-</span><span class="n">linux</span><span class="bp">-</span><span class="n">gnu</span><span class="bp">/</span><span class="n">libc.so.6</span><span class="o">(</span><span class="bp">+</span><span class="mi">0x94b43</span><span class="o">)[</span><span class="mi">0x7f5efc325b43</span><span class="o">]</span>
<span class="bp">/</span><span class="n">lib</span><span class="bp">/</span><span class="n">x86_64</span><span class="bp">-</span><span class="n">linux</span><span class="bp">-</span><span class="n">gnu</span><span class="bp">/</span><span class="n">libc.so.6</span><span class="o">(</span><span class="bp">+</span><span class="mi">0x126a00</span><span class="o">)[</span><span class="mi">0x7f5efc3b7a00</span><span class="o">]</span>
<span class="n">PANIC</span> <span class="n">at</span> <span class="n">Lean.Parser.withCacheFn</span> <span class="n">Lean.Parser.Types</span><span class="o">:</span><span class="mi">397</span><span class="o">:</span><span class="mi">4</span><span class="o">:</span> <span class="n">withCacheFn</span><span class="o">:</span> <span class="n">unexpected</span> <span class="n">stack</span> <span class="n">growth</span> <span class="bp">#</span><span class="o">[]</span>
<span class="n">backtrace</span><span class="o">:</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(lean_panic_fn+0x9e)[0x7f5eff87672e]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(l_Lean_Parser_withCacheFn___lambda__2+0x259)[0x7f5efe62c949]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(lean_apply_2+0x5aa)[0x7f5eff88187a]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(lean_apply_2+0x5aa)[0x7f5eff88187a]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(lean_apply_2+0x136)[0x7f5eff881406]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(lean_apply_2+0x5aa)[0x7f5eff88187a]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(l_Lean_Loop_forIn_loop___at_Lean_Parser_parseCommand___spec__1___lambda__4+0x171)[0x7f5efe5c59d1]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(l_Lean_Loop_forIn_loop___at_Lean_Parser_parseCommand___spec__1+0x46f)[0x7f5efe5c620f]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(l_Lean_Parser_parseCommand+0x25e)[0x7f5efe5c73ae]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(l_Lean_Server_Snapshots_compileNextCmd+0x2a4)[0x7f5efe7bee84]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(l___private_Lean_Server_FileWorker_0__Lean_Server_FileWorker_nextCmdSnap___lambda__1+0x200)[0x7f5efe8abca0]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(l___private_Lean_Server_FileWorker_0__Lean_Server_FileWorker_nextCmdSnap+0x572)[0x7f5efe8acdd2]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(lean_apply_2+0x5f0)[0x7f5eff8818c0]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(l_IO_AsyncList_unfoldAsync_step___rarg+0x38)[0x7f5efe77f208]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(lean_apply_1+0x455)[0x7f5eff880af5]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(l_EIO_toBaseIO___rarg+0xd)[0x7f5efd056e5d]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(lean_apply_1+0x420)[0x7f5eff880ac0]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(+0x33adbae)[0x7f5eff893bae]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(lean_apply_1+0x420)[0x7f5eff880ac0]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(+0x33992a8)[0x7f5eff87f2a8]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(+0x339a351)[0x7f5eff880351]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(+0x338e9a5)[0x7f5eff8749a5]</span>
<span class="bp">/</span><span class="n">lib</span><span class="bp">/</span><span class="n">x86_64</span><span class="bp">-</span><span class="n">linux</span><span class="bp">-</span><span class="n">gnu</span><span class="bp">/</span><span class="n">libc.so.6</span><span class="o">(</span><span class="bp">+</span><span class="mi">0x94b43</span><span class="o">)[</span><span class="mi">0x7f5efc325b43</span><span class="o">]</span>
<span class="bp">/</span><span class="n">lib</span><span class="bp">/</span><span class="n">x86_64</span><span class="bp">-</span><span class="n">linux</span><span class="bp">-</span><span class="n">gnu</span><span class="bp">/</span><span class="n">libc.so.6</span><span class="o">(</span><span class="bp">+</span><span class="mi">0x126a00</span><span class="o">)[</span><span class="mi">0x7f5efc3b7a00</span><span class="o">]</span>
<span class="n">PANIC</span> <span class="n">at</span> <span class="n">Lean.Parser.SyntaxStack.back</span> <span class="n">Lean.Parser.Types</span><span class="o">:</span><span class="mi">168</span><span class="o">:</span><span class="mi">4</span><span class="o">:</span> <span class="n">SyntaxStack.back</span><span class="o">:</span> <span class="n">element</span> <span class="n">is</span> <span class="n">inaccessible</span>
<span class="n">backtrace</span><span class="o">:</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(lean_panic_fn+0x9e)[0x7f5eff87672e]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(l_Lean_Parser_withCacheFn___lambda__1+0x66)[0x7f5efe62c0b6]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(l_Lean_Parser_withCacheFn___lambda__2+0x269)[0x7f5efe62c959]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(lean_apply_2+0x5aa)[0x7f5eff88187a]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(lean_apply_2+0x5aa)[0x7f5eff88187a]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(lean_apply_2+0x136)[0x7f5eff881406]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(lean_apply_2+0x5aa)[0x7f5eff88187a]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(l_Lean_Loop_forIn_loop___at_Lean_Parser_parseCommand___spec__1___lambda__4+0x171)[0x7f5efe5c59d1]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(l_Lean_Loop_forIn_loop___at_Lean_Parser_parseCommand___spec__1+0x46f)[0x7f5efe5c620f]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(l_Lean_Parser_parseCommand+0x25e)[0x7f5efe5c73ae]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(l_Lean_Server_Snapshots_compileNextCmd+0x2a4)[0x7f5efe7bee84]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(l___private_Lean_Server_FileWorker_0__Lean_Server_FileWorker_nextCmdSnap___lambda__1+0x200)[0x7f5efe8abca0]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(l___private_Lean_Server_FileWorker_0__Lean_Server_FileWorker_nextCmdSnap+0x572)[0x7f5efe8acdd2]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(lean_apply_2+0x5f0)[0x7f5eff8818c0]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(l_IO_AsyncList_unfoldAsync_step___rarg+0x38)[0x7f5efe77f208]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(lean_apply_1+0x455)[0x7f5eff880af5]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(l_EIO_toBaseIO___rarg+0xd)[0x7f5efd056e5d]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(lean_apply_1+0x420)[0x7f5eff880ac0]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(+0x33adbae)[0x7f5eff893bae]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(lean_apply_1+0x420)[0x7f5eff880ac0]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(+0x33992a8)[0x7f5eff87f2a8]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(+0x339a351)[0x7f5eff880351]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(+0x338e9a5)[0x7f5eff8749a5]</span>
<span class="bp">/</span><span class="n">lib</span><span class="bp">/</span><span class="n">x86_64</span><span class="bp">-</span><span class="n">linux</span><span class="bp">-</span><span class="n">gnu</span><span class="bp">/</span><span class="n">libc.so.6</span><span class="o">(</span><span class="bp">+</span><span class="mi">0x94b43</span><span class="o">)[</span><span class="mi">0x7f5efc325b43</span><span class="o">]</span>
<span class="bp">/</span><span class="n">lib</span><span class="bp">/</span><span class="n">x86_64</span><span class="bp">-</span><span class="n">linux</span><span class="bp">-</span><span class="n">gnu</span><span class="bp">/</span><span class="n">libc.so.6</span><span class="o">(</span><span class="bp">+</span><span class="mi">0x126a00</span><span class="o">)[</span><span class="mi">0x7f5efc3b7a00</span><span class="o">]</span>
<span class="n">PANIC</span> <span class="n">at</span> <span class="n">Lean.Parser.SyntaxStack.back</span> <span class="n">Lean.Parser.Types</span><span class="o">:</span><span class="mi">168</span><span class="o">:</span><span class="mi">4</span><span class="o">:</span> <span class="n">SyntaxStack.back</span><span class="o">:</span> <span class="n">element</span> <span class="n">is</span> <span class="n">inaccessible</span>
<span class="n">backtrace</span><span class="o">:</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(lean_panic_fn+0x9e)[0x7f5eff87672e]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(l_Lean_Loop_forIn_loop___at_Lean_Parser_parseCommand___spec__1___lambda__3+0x1d5)[0x7f5efe5c54e5]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(l_Lean_Loop_forIn_loop___at_Lean_Parser_parseCommand___spec__1___lambda__4+0x25b)[0x7f5efe5c5abb]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(l_Lean_Loop_forIn_loop___at_Lean_Parser_parseCommand___spec__1+0x46f)[0x7f5efe5c620f]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(l_Lean_Parser_parseCommand+0x25e)[0x7f5efe5c73ae]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean/libleanshared.so(l_Lean_Server_Snapshots_compileNextCmd+0x2a4)[0x7f5efe7bee84]</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-13/bin/../lib/lean</span>
</code></pre></div>



<a name="316080785"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/add_decl_doc%20%20panic%20loop/near/316080785" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/add_decl_doc.20.20panic.20loop.html#316080785">(Dec 15 2022 at 16:17)</a>:</h4>
<p>Here it says twice <code>PANIC at Lean.Parser.SyntaxStack.back Lean.Parser.Types:168:4: SyntaxStack.back: element is inaccessible</code> but later there is a great diversity of PANIC</p>



<a name="316081791"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/add_decl_doc%20%20panic%20loop/near/316081791" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/add_decl_doc.20.20panic.20loop.html#316081791">(Dec 15 2022 at 16:21)</a>:</h4>
<p>In the gif there is something about <code>Lean.Environment</code> first though?</p>



<a name="316082365"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/add_decl_doc%20%20panic%20loop/near/316082365" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/add_decl_doc.20.20panic.20loop.html#316082365">(Dec 15 2022 at 16:23)</a>:</h4>
<p>I have a much better repro. In a file with no mathlib import:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="sd">/-- Test -/</span>
<span class="n">add_decl_doc</span> <span class="n">Nat</span>

<span class="sd">/-- Test -/</span>
<span class="n">add_decl_doc</span> <span class="n">Nat</span>
</code></pre></div>



<a name="316082512"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/add_decl_doc%20%20panic%20loop/near/316082512" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/add_decl_doc.20.20panic.20loop.html#316082512">(Dec 15 2022 at 16:24)</a>:</h4>
<p>This is on <code>leanprover/lean4:nightly-2022-12-13</code></p>



<a name="316083036"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/add_decl_doc%20%20panic%20loop/near/316083036" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/add_decl_doc.20.20panic.20loop.html#316083036">(Dec 15 2022 at 16:26)</a>:</h4>
<p><span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span> should I open a Lean 4 issue or this enough?</p>



<a name="316083957"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/add_decl_doc%20%20panic%20loop/near/316083957" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/add_decl_doc.20.20panic.20loop.html#316083957">(Dec 15 2022 at 16:30)</a>:</h4>
<p>An issue would be great!</p>



<a name="316084199"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/add_decl_doc%20%20panic%20loop/near/316084199" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/add_decl_doc.20.20panic.20loop.html#316084199">(Dec 15 2022 at 16:31)</a>:</h4>
<p>But the short answer is that you may not define docstrings for external declarations</p>



<a name="316084426"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/add_decl_doc%20%20panic%20loop/near/316084426" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/add_decl_doc.20.20panic.20loop.html#316084426">(Dec 15 2022 at 16:32)</a>:</h4>
<p>What do you mean by external? Defined in another file?</p>



<a name="316084504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/add_decl_doc%20%20panic%20loop/near/316084504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/add_decl_doc.20.20panic.20loop.html#316084504">(Dec 15 2022 at 16:32)</a>:</h4>
<p>The first <code>add_decl_doc</code> works fine, only the second one brings the end of the world.</p>



<a name="316084823"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/add_decl_doc%20%20panic%20loop/near/316084823" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/add_decl_doc.20.20panic.20loop.html#316084823">(Dec 15 2022 at 16:34)</a>:</h4>
<p>But indeed this doesn't happen in </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">x</span> <span class="o">:</span> <span class="n">Nat</span> <span class="o">:=</span> <span class="mi">1</span>

<span class="sd">/-- Test -/</span>
<span class="n">add_decl_doc</span> <span class="n">x</span>

<span class="sd">/-- Test -/</span>
<span class="n">add_decl_doc</span> <span class="n">x</span>
</code></pre></div>



<a name="316084863"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/add_decl_doc%20%20panic%20loop/near/316084863" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/add_decl_doc.20.20panic.20loop.html#316084863">(Dec 15 2022 at 16:34)</a>:</h4>
<p>One <code>add_decl_doc Nat</code> is sufficient on my machine</p>



<a name="316085038"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/add_decl_doc%20%20panic%20loop/near/316085038" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/add_decl_doc.20.20panic.20loop.html#316085038">(Dec 15 2022 at 16:35)</a>:</h4>
<p>And then we return <code>default : Environment</code> from the panic and then everything goes sideways</p>



<a name="316086029"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/add_decl_doc%20%20panic%20loop/near/316086029" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/add_decl_doc.20.20panic.20loop.html#316086029">(Dec 15 2022 at 16:38)</a>:</h4>
<p><a href="https://github.com/leanprover/lean4/issues/1957">https://github.com/leanprover/lean4/issues/1957</a></p>



<a name="316255523"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/add_decl_doc%20%20panic%20loop/near/316255523" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jannis Limperg <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/add_decl_doc.20.20panic.20loop.html#316255523">(Dec 16 2022 at 12:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110024">Sebastian Ullrich</span> <a href="#narrow/stream/270676-lean4/topic/add_decl_doc.20.20panic.20loop/near/316077158">said</a>:</p>
<blockquote>
<p>Not aborting on panics for general Lean programs was a conscious decision, but I'm starting to wonder whether it's the right decision for <code>lean</code> itself</p>
</blockquote>
<p>Do you by any chance have a link to the discussion where this decision was made? I find this very strange (both for Lean programs and for Lean itself), but maybe there are good reasons I haven't considered.</p>



<a name="316432351"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/add_decl_doc%20%20panic%20loop/near/316432351" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/add_decl_doc.20.20panic.20loop.html#316432351">(Dec 17 2022 at 10:43)</a>:</h4>
<p>I agree with jannis, continuing after a panic breaks a lot of intuitions and makes it hard to use it to enforce invariants. I assume that the sense Sebastian means is that you don't want a panic somewhere to crash the server, but I think that can be handled by having a way to catch panics and recover in an IO context, specifically for use cases like a long running server that shouldn't ever crash (or at least, should have the opportunity to present failures nicely). That is also what rust panics do, although the need for unwind safety definitely complicates a lot of things</p>



<a name="316698823"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/add_decl_doc%20%20panic%20loop/near/316698823" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/add_decl_doc.20.20panic.20loop.html#316698823">(Dec 19 2022 at 09:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="256311">Jannis Limperg</span> <a href="#narrow/stream/270676-lean4/topic/add_decl_doc.20.20panic.20loop/near/316255523">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="110024">Sebastian Ullrich</span> <a href="#narrow/stream/270676-lean4/topic/add_decl_doc.20.20panic.20loop/near/316077158">said</a>:</p>
<blockquote>
<p>Not aborting on panics for general Lean programs was a conscious decision, but I'm starting to wonder whether it's the right decision for <code>lean</code> itself</p>
</blockquote>
<p>Do you by any chance have a link to the discussion where this decision was made? I find this very strange (both for Lean programs and for Lean itself), but maybe there are good reasons I haven't considered.</p>
</blockquote>
<p>Unfortunately I don't recall where these discussions were held. But Leo's motivation for the default is that when we prove something about a function's output, which we think of as a <em>total correctness</em> property, it must not be undermined at run time by process termination from a panic.</p>



<a name="316700319"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/add_decl_doc%20%20panic%20loop/near/316700319" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/add_decl_doc.20.20panic.20loop.html#316700319">(Dec 19 2022 at 09:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/270676-lean4/topic/add_decl_doc.20.20panic.20loop/near/316432351">said</a>:</p>
<blockquote>
<p>That is also what rust panics do, although the need for unwind safety definitely complicates a lot of things</p>
</blockquote>
<p>To panic safety issues add issues about correctly freeing reference counting tokens on the stack without excessive additional code generation</p>



<a name="316759207"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/add_decl_doc%20%20panic%20loop/near/316759207" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jannis Limperg <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/add_decl_doc.20.20panic.20loop.html#316759207">(Dec 19 2022 at 14:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110024">Sebastian Ullrich</span> <a href="#narrow/stream/270676-lean4/topic/add_decl_doc.20.20panic.20loop/near/316698823">said</a>:</p>
<blockquote>
<p>Unfortunately I don't recall where these discussions were held. But Leo's motivation for the default is that when we prove something about a function's output, which we think of as a <em>total correctness</em> property, it must not be undermined at run time by process termination from a panic.</p>
</blockquote>
<p>I see, thanks! In practice, I would still much prefer that a <code>panic!</code>-ing function actually panics, instead of silently doing the wrong thing just in case I want to prove something about it.</p>
<p>Btw, would it be possible to translate <code>panic!</code> into an opaque value of the type instead of <code>default</code>? This would make it harder (though not impossible) to write bogus proofs about the branches which contain <code>panic!</code>. I feel like this has been discussed before, but I can't find the topic.</p>



<a name="316841114"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/add_decl_doc%20%20panic%20loop/near/316841114" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> James Gallicchio <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/add_decl_doc.20.20panic.20loop.html#316841114">(Dec 19 2022 at 22:18)</a>:</h4>
<p>I'm regularly annoyed by this... I want my panics to crash.</p>



<a name="316841297"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/add_decl_doc%20%20panic%20loop/near/316841297" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/add_decl_doc.20.20panic.20loop.html#316841297">(Dec 19 2022 at 22:19)</a>:</h4>
<p>I probably should have mentioned <code>LEAN_ABORT_ON_PANIC=1</code></p>



<a name="316841928"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/add_decl_doc%20%20panic%20loop/near/316841928" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> James Gallicchio <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/add_decl_doc.20.20panic.20loop.html#316841928">(Dec 19 2022 at 22:23)</a>:</h4>
<p>I think it's a pretty good dogfooding goal for it to be feasible to rewrite the lean server to exist in an exception monad where necessary, to safely continue after an error. Thoughts?</p>



<a name="316842113"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/add_decl_doc%20%20panic%20loop/near/316842113" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> James Gallicchio <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/add_decl_doc.20.20panic.20loop.html#316842113">(Dec 19 2022 at 22:24)</a>:</h4>
<p>(rather than using panic!)</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>