---
layout: archive
title: Zulip Chat Archive
permalink: /stream/270676-lean4/topic/Optional.20dependencies.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/index.html">lean4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Optional.20dependencies.html">Optional dependencies</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="292960132"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Optional%20dependencies/near/292960132" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik BÃ¶ving <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Optional.20dependencies.html#292960132">(Aug 11 2022 at 16:07)</a>:</h4>
<p>I got another feature question for Lake <span class="user-mention" data-user-id="315577">@Mac</span> I don't know whether this is a thing yet so: With the new facets thing I'm implementing for doc-gen4 the libraries that want to build their docs using this facet have to declare doc-gen as a dependency right? I see two issues with this:</p>
<ol>
<li>Not everyone that wants to compiler mathlib also wants (or even can, I'm not sure whether this works under windows) compile doc-gen</li>
<li>When mathlib wants to update its nightly they would now also have to take account doc-gen into potential breaking changes, and wait for me to fix it, that's not desirable either.</li>
</ol>
<p>Does Lake have a feature or a way to emulate something similar to Rust's dev-dependencies that can be built optionally if required? Otherwise I don't really see how to get a productive integration of doc-gen with LeanInk backlinks going that wont slow down Mathlib development speed/make me the critical path in it.</p>



<a name="292960437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Optional%20dependencies/near/292960437" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mac <a href="https://leanprover-community.github.io/archive/stream/270676-lean4/topic/Optional.20dependencies.html#292960437">(Aug 11 2022 at 16:09)</a>:</h4>
<p>See <a href="https://github.com/leanprover/lake/issues/80">lake#80</a> for the current semi-support for optional dependencies.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>