---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/the.20word.20.22to.22.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/the.20word.20.22to.22.html">the word "to"</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="219368133"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/the%20word%20%22to%22/near/219368133" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/the.20word.20.22to.22.html#219368133">(Dec 09 2020 at 17:19)</a>:</h4>
<p>it is annoying that naming your variable "to" works fine, until one happens to import something that recursively depends on <code>tactic.lift</code>, in which the word "to" is declared to be reserved notation</p>



<a name="219368260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/the%20word%20%22to%22/near/219368260" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/the.20word.20.22to.22.html#219368260">(Dec 09 2020 at 17:20)</a>:</h4>
<p>maybe don't name your variable <code>to</code> then</p>



<a name="219368337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/the%20word%20%22to%22/near/219368337" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/the.20word.20.22to.22.html#219368337">(Dec 09 2020 at 17:21)</a>:</h4>
<p>yeah now i know, this has been an enlightening experience chasing down why adding one more import causes a parse failure in unrelated code</p>



<a name="219368367"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/the%20word%20%22to%22/near/219368367" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/the.20word.20.22to.22.html#219368367">(Dec 09 2020 at 17:21)</a>:</h4>
<p>declaring a word as a token is a pretty big step, because it means no one is allowed to ever use it as a variable. This is a user facing design choice</p>



<a name="219368533"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/the%20word%20%22to%22/near/219368533" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/the.20word.20.22to.22.html#219368533">(Dec 09 2020 at 17:22)</a>:</h4>
<p>probably we should coalesce all token declarations in mathlib in one file that gets imported universally, like <code>tactic.core</code> or something</p>



<a name="219368608"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/the%20word%20%22to%22/near/219368608" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/the.20word.20.22to.22.html#219368608">(Dec 09 2020 at 17:23)</a>:</h4>
<p>it's just weird that I could make file A import file B, and that breaks a totally unrelated file C, because C happens to have a long dependency chain on A, and it uses the word "to"</p>



<a name="219368674"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/the%20word%20%22to%22/near/219368674" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/the.20word.20.22to.22.html#219368674">(Dec 09 2020 at 17:23)</a>:</h4>
<p>it's not that it uses the word to, it is that the file declares that <code>to</code> is now a keyword</p>



<a name="219368729"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/the%20word%20%22to%22/near/219368729" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/the.20word.20.22to.22.html#219368729">(Dec 09 2020 at 17:23)</a>:</h4>
<p>I mean that file C uses the word "to" as a variable name, an allegedly permitted maneuver</p>



<a name="219368800"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/the%20word%20%22to%22/near/219368800" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/the.20word.20.22to.22.html#219368800">(Dec 09 2020 at 17:24)</a>:</h4>
<p>C has the same issue when they declare new keywords</p>



<a name="219368869"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/the%20word%20%22to%22/near/219368869" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/the.20word.20.22to.22.html#219368869">(Dec 09 2020 at 17:24)</a>:</h4>
<p>There is a reason all the new keywords are weird things like <code>co_await</code> and <code>reflexpr</code></p>



<a name="219368883"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/the%20word%20%22to%22/near/219368883" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/the.20word.20.22to.22.html#219368883">(Dec 09 2020 at 17:24)</a>:</h4>
<p>that usually happens when you push a new version of the language, though, not when someone adds <code>import data.list.basic</code> to some random library</p>



<a name="219368935"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/the%20word%20%22to%22/near/219368935" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/the.20word.20.22to.22.html#219368935">(Dec 09 2020 at 17:25)</a>:</h4>
<p>That's due to the extensible syntax design of lean</p>



<a name="219368965"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/the%20word%20%22to%22/near/219368965" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/the.20word.20.22to.22.html#219368965">(Dec 09 2020 at 17:25)</a>:</h4>
<p>anyway i just wanted to vent. thank you for feeling my pain. i'll go rename this stupid variable now</p>



<a name="219368994"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/the%20word%20%22to%22/near/219368994" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/the.20word.20.22to.22.html#219368994">(Dec 09 2020 at 17:25)</a>:</h4>
<p>it means libraries can literally extend the language in the same way as a new C version. This is huge for mathlib, we make extensive use of this capability</p>



<a name="219369007"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/the%20word%20%22to%22/near/219369007" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/the.20word.20.22to.22.html#219369007">(Dec 09 2020 at 17:25)</a>:</h4>
<p><span class="user-mention" data-user-id="238605">@Kevin Lacker</span> I understand your pain. Do you think Marios suggestion would help?</p>



<a name="219369069"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/the%20word%20%22to%22/near/219369069" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/the.20word.20.22to.22.html#219369069">(Dec 09 2020 at 17:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113489-new-members/topic/the.20word.20.22to.22/near/219368533">said</a>:</p>
<blockquote>
<p>probably we should coalesce all token declarations in mathlib in one file that gets imported universally, like <code>tactic.core</code> or something</p>
</blockquote>
<p>I mean <span aria-label="this" class="emoji emoji-1f446" role="img" title="this">:this:</span></p>



<a name="219369117"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/the%20word%20%22to%22/near/219369117" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/the.20word.20.22to.22.html#219369117">(Dec 09 2020 at 17:26)</a>:</h4>
<p>I don't really understand why this breaks, honestly, so I hesitate to support any particular solution</p>



<a name="219369159"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/the%20word%20%22to%22/near/219369159" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/the.20word.20.22to.22.html#219369159">(Dec 09 2020 at 17:26)</a>:</h4>
<p>I did not know about the <code>reserve notation</code> command until I discovered it was lurking in the weeds biting my ankle</p>



<a name="219369206"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/the%20word%20%22to%22/near/219369206" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/the.20word.20.22to.22.html#219369206">(Dec 09 2020 at 17:27)</a>:</h4>
<p>That's because you probably never thought to name a variable <code>generalizing</code></p>



<a name="219369217"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/the%20word%20%22to%22/near/219369217" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/the.20word.20.22to.22.html#219369217">(Dec 09 2020 at 17:27)</a>:</h4>
<p>or <code>using</code></p>



<a name="219369223"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/the%20word%20%22to%22/near/219369223" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/the.20word.20.22to.22.html#219369223">(Dec 09 2020 at 17:27)</a>:</h4>
<p>or <code>at</code></p>



<a name="219369274"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/the%20word%20%22to%22/near/219369274" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/the.20word.20.22to.22.html#219369274">(Dec 09 2020 at 17:27)</a>:</h4>
<p>really any keywordy word that gets used in tactics</p>



<a name="219369419"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/the%20word%20%22to%22/near/219369419" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/the.20word.20.22to.22.html#219369419">(Dec 09 2020 at 17:28)</a>:</h4>
<p><code>ring</code> implements a trick to allow it to recognize <code>ring raw</code> / <code>ring SOP</code> / <code>ring horner</code> without making those keywords</p>



<a name="219369790"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/the%20word%20%22to%22/near/219369790" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/the.20word.20.22to.22.html#219369790">(Dec 09 2020 at 17:31)</a>:</h4>
<p>Alternatively, we could change the preposition that <code>lift</code> uses</p>



<a name="219369881"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/the%20word%20%22to%22/near/219369881" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/the.20word.20.22to.22.html#219369881">(Dec 09 2020 at 17:32)</a>:</h4>
<p>there is a reason we reuse the same 3-4 words all over the place in tactic parsers</p>



<a name="219370086"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/the%20word%20%22to%22/near/219370086" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/the.20word.20.22to.22.html#219370086">(Dec 09 2020 at 17:33)</a>:</h4>
<p>how about <code>lift x as int</code>?</p>



<a name="219370214"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/the%20word%20%22to%22/near/219370214" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/the.20word.20.22to.22.html#219370214">(Dec 09 2020 at 17:34)</a>:</h4>
<p>Isn't <code>as</code> much more commonly used, e.g. in lists <code>a :: as</code>?</p>



<a name="219370336"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/the%20word%20%22to%22/near/219370336" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/the.20word.20.22to.22.html#219370336">(Dec 09 2020 at 17:35)</a>:</h4>
<p>Right now I guess it's not a keyword, but I believe it used to be and at least some syntax highlighters think it still is</p>



<a name="219370630"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/the%20word%20%22to%22/near/219370630" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/the.20word.20.22to.22.html#219370630">(Dec 09 2020 at 17:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113489-new-members/topic/the.20word.20.22to.22/near/219368533">said</a>:</p>
<blockquote>
<p>probably we should coalesce all token declarations in mathlib in one file that gets imported universally, like <code>tactic.core</code> or something</p>
</blockquote>
<p>I think this is a good idea and we don't need to change <code>lift</code>. As long as the variable <code>to</code> gets rejected immediately and not by some transitive import, it's not a big problem.</p>



<a name="219370843"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/the%20word%20%22to%22/near/219370843" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/the.20word.20.22to.22.html#219370843">(Dec 09 2020 at 17:39)</a>:</h4>
<p>can we get a style linter for this?</p>



<a name="219371037"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/the%20word%20%22to%22/near/219371037" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/the.20word.20.22to.22.html#219371037">(Dec 09 2020 at 17:40)</a>:</h4>
<p>I think it is as simple as grepping for <code>reserve</code> or <code>precedence</code> at the start of a line</p>



<a name="219372543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/the%20word%20%22to%22/near/219372543" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/the.20word.20.22to.22.html#219372543">(Dec 09 2020 at 17:53)</a>:</h4>
<p>I can work on a style linter for this when I get a chance.</p>



<a name="219691669"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/the%20word%20%22to%22/near/219691669" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/the.20word.20.22to.22.html#219691669">(Dec 12 2020 at 05:35)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/issues/5330">#5330</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>