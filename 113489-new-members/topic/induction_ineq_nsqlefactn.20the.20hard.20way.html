---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html">induction_ineq_nsqlefactn the hard way</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="245680180"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/induction_ineq_nsqlefactn%20the%20hard%20way/near/245680180" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jiekai <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html#245680180">(Jul 12 2021 at 12:42)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">d</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">):</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="mi">4</span> <span class="bp">+</span> <span class="o">(</span><span class="n">d</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="gr">sorry</span>
<span class="kd">end</span>
</code></pre></div>
<p>How should I prove this?</p>
<p><a href="#narrow/stream/113489-new-members/topic/Michael.20Shaw/near/245674353">previous discussion</a></p>



<a name="245680307"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/induction_ineq_nsqlefactn%20the%20hard%20way/near/245680307" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jiekai <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html#245680307">(Jul 12 2021 at 12:43)</a>:</h4>
<p>It's much harder than doing proofs in the tutorial and NNG.</p>



<a name="245680708"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/induction_ineq_nsqlefactn%20the%20hard%20way/near/245680708" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html#245680708">(Jul 12 2021 at 12:47)</a>:</h4>
<p>Do you know how to prove <code>0 &lt; 4</code>? Do you know how to prove <code>4 &lt;= 4 + x</code>? Do you know how to chain inequalities?</p>



<a name="245680736"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/induction_ineq_nsqlefactn%20the%20hard%20way/near/245680736" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html#245680736">(Jul 12 2021 at 12:47)</a>:</h4>
<p>You could either rearrange the parentheses, to exploit that the RHS is a successor and hence positive, or, I think, <code>add_pos</code> is a thing...</p>



<a name="245681078"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/induction_ineq_nsqlefactn%20the%20hard%20way/near/245681078" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html#245681078">(Jul 12 2021 at 12:50)</a>:</h4>
<p>Yes, Damiano is right. Do you know how to prove <code>0 &lt; succ n</code>? What's nice about mathlib is that it mostly has a very "discoverable" naming scheme for lemmas.</p>



<a name="245681295"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/induction_ineq_nsqlefactn%20the%20hard%20way/near/245681295" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jiekai <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html#245681295">(Jul 12 2021 at 12:52)</a>:</h4>
<p>pos_of_ne_zero?</p>



<a name="245681367"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/induction_ineq_nsqlefactn%20the%20hard%20way/near/245681367" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html#245681367">(Jul 12 2021 at 12:53)</a>:</h4>
<p>... except that you have a <code>succ</code> instead of a <code>ne_zero</code>...</p>



<a name="245681479"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/induction_ineq_nsqlefactn%20the%20hard%20way/near/245681479" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html#245681479">(Jul 12 2021 at 12:54)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/nat.zero_lt_succ">docs#nat.zero_lt_succ</a></p>



<a name="245681490"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/induction_ineq_nsqlefactn%20the%20hard%20way/near/245681490" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jiekai <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html#245681490">(Jul 12 2021 at 12:54)</a>:</h4>
<p>succ_ne_zero</p>



<a name="245681508"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/induction_ineq_nsqlefactn%20the%20hard%20way/near/245681508" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html#245681508">(Jul 12 2021 at 12:54)</a>:</h4>
<p>I was going to say <code>succ_pos</code>! <span aria-label="lol" class="emoji emoji-1f606" role="img" title="lol">:lol:</span></p>



<a name="245681521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/induction_ineq_nsqlefactn%20the%20hard%20way/near/245681521" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html#245681521">(Jul 12 2021 at 12:54)</a>:</h4>
<p>but there is also a <a href="https://leanprover-community.github.io/mathlib_docs/find/nat.succ_pos">docs#nat.succ_pos</a> too!</p>



<a name="245681525"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/induction_ineq_nsqlefactn%20the%20hard%20way/near/245681525" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jiekai <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html#245681525">(Jul 12 2021 at 12:54)</a>:</h4>
<p>ooh, I see. thanks</p>



<a name="245681716"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/induction_ineq_nsqlefactn%20the%20hard%20way/near/245681716" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html#245681716">(Jul 12 2021 at 12:56)</a>:</h4>
<p>You were transforming the <code>succ</code> into an <code>ne_zero</code> statement, but that's another lemma too! These really basic lemmas are usually named exactly as you'd read them left-to-right. So something like <code>0 &lt; 2</code> is <code>zero_lt_two</code>. And <code>x &lt;= x + y</code> is <code>nat.le_add_right</code>.</p>



<a name="245681764"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/induction_ineq_nsqlefactn%20the%20hard%20way/near/245681764" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html#245681764">(Jul 12 2021 at 12:57)</a>:</h4>
<p>Keep in mind that this kind of "low-level" arguments require some training: any mathematician would simply file this as "it is a sum of positive natural numbers, of course it is positive".  However, you really have to give a precise reason to Lean and, successors being positive seems the most direct here.</p>



<a name="245682105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/induction_ineq_nsqlefactn%20the%20hard%20way/near/245682105" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html#245682105">(Jul 12 2021 at 13:00)</a>:</h4>
<p>Damiano, what would be the term-mode proof for your "most direct" claim?</p>



<a name="245682452"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/induction_ineq_nsqlefactn%20the%20hard%20way/near/245682452" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jiekai <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html#245682452">(Jul 12 2021 at 13:02)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">induction_ineq_nsqlefactn</span>
  <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h₀</span> <span class="o">:</span> <span class="mi">4</span> <span class="bp">≤</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">n</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">≤</span> <span class="n">n</span><span class="bp">!</span> <span class="o">:=</span>
<span class="kd">begin</span>
   <span class="k">have</span> <span class="n">t0</span> <span class="o">:=</span> <span class="n">nat.exists_eq_add_of_le</span> <span class="n">h₀</span><span class="o">,</span>
   <span class="n">cases</span> <span class="n">t0</span> <span class="k">with</span> <span class="n">k</span> <span class="n">hk</span><span class="o">,</span>
   <span class="n">rw</span> <span class="n">hk</span><span class="o">,</span>
   <span class="n">clear</span> <span class="n">hk</span> <span class="n">h₀</span> <span class="n">n</span><span class="o">,</span> <span class="c1">-- necessary?</span>
   <span class="n">induction</span> <span class="n">k</span> <span class="k">with</span> <span class="n">d</span> <span class="n">hd</span><span class="o">,</span>
   <span class="o">{</span> <span class="n">norm_num</span><span class="o">,</span> <span class="o">},</span>
   <span class="k">have</span> <span class="n">step0</span> <span class="o">:</span> <span class="n">d.succ</span> <span class="bp">=</span> <span class="n">d</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">,</span>
   <span class="o">{</span> <span class="n">refl</span><span class="o">,</span> <span class="o">},</span>
   <span class="n">rw</span> <span class="n">step0</span><span class="o">,</span>
   <span class="n">clear</span> <span class="n">step0</span><span class="o">,</span>

   <span class="k">have</span> <span class="n">step1</span> <span class="o">:</span> <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="o">(</span><span class="n">d</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="o">(</span><span class="n">d</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">)</span><span class="bp">!</span> <span class="bp">=</span> <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="o">(</span><span class="n">d</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span><span class="bp">!</span><span class="o">,</span>
   <span class="o">{</span>
     <span class="n">apply</span> <span class="n">nat.mul_factorial_pred</span><span class="o">,</span>
     <span class="gr">sorry</span>
   <span class="o">},</span>

   <span class="k">have</span> <span class="n">step2</span> <span class="o">:</span> <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="o">(</span><span class="n">d</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">^</span> <span class="mi">2</span> <span class="bp">≤</span> <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="n">d</span><span class="o">)</span> <span class="bp">^</span> <span class="mi">2</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="o">(</span><span class="n">d</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)),</span>
   <span class="o">{</span>
     <span class="gr">sorry</span>
   <span class="o">},</span>

   <span class="k">have</span> <span class="n">step3</span> <span class="o">:</span> <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="n">d</span><span class="o">)</span> <span class="bp">^</span> <span class="mi">2</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="o">(</span><span class="n">d</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">≤</span> <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="n">d</span><span class="o">)</span><span class="bp">!</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="o">(</span><span class="n">d</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)),</span>
   <span class="o">{</span>
     <span class="gr">sorry</span>
   <span class="o">},</span>

<span class="kd">end</span>
</code></pre></div>
<p>I'm giving up.  It's getting out of control. <span aria-label="cry" class="emoji emoji-1f622" role="img" title="cry">:cry:</span></p>



<a name="245682628"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/induction_ineq_nsqlefactn%20the%20hard%20way/near/245682628" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html#245682628">(Jul 12 2021 at 13:03)</a>:</h4>
<p>what I had in mind, was more something along the lines of </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code>  <span class="n">rw</span> <span class="bp">←</span> <span class="n">add_assoc</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">nat.succ_pos</span> <span class="n">_</span><span class="o">,</span>
</code></pre></div>



<a name="245682723"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/induction_ineq_nsqlefactn%20the%20hard%20way/near/245682723" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html#245682723">(Jul 12 2021 at 13:04)</a>:</h4>
<p>If I really had to to it in term mode, I would probably go with</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">d</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">):</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="mi">4</span> <span class="bp">+</span> <span class="o">(</span><span class="n">d</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">nat.succ_pos</span> <span class="n">_</span>
</code></pre></div>
<p>but I would not like the abuse...</p>



<a name="245682768"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/induction_ineq_nsqlefactn%20the%20hard%20way/near/245682768" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html#245682768">(Jul 12 2021 at 13:04)</a>:</h4>
<p>(I am not sure why my comments were sent in the opposite order in which I typed them)</p>



<a name="245682794"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/induction_ineq_nsqlefactn%20the%20hard%20way/near/245682794" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html#245682794">(Jul 12 2021 at 13:05)</a>:</h4>
<p>Because of the way that addition on nats is defined, <code>nat.succ_pos _</code> is enough!</p>



<a name="245682868"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/induction_ineq_nsqlefactn%20the%20hard%20way/near/245682868" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html#245682868">(Jul 12 2021 at 13:05)</a>:</h4>
<p>Yes, indeed, but I think that the now-first approach is more "friendly".</p>



<a name="245682901"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/induction_ineq_nsqlefactn%20the%20hard%20way/near/245682901" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html#245682901">(Jul 12 2021 at 13:05)</a>:</h4>
<p>I'd do <code>zero_lt_four.trans_le le_self_add</code></p>



<a name="245683086"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/induction_ineq_nsqlefactn%20the%20hard%20way/near/245683086" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html#245683086">(Jul 12 2021 at 13:07)</a>:</h4>
<p>Or</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">d</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="mi">4</span> <span class="bp">+</span> <span class="o">(</span><span class="n">d</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">nat.zero_lt_succ</span> <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="n">d</span><span class="o">))</span><span class="bp">.</span><span class="n">trans_le</span> <span class="o">(</span><span class="n">add_assoc</span> <span class="mi">4</span> <span class="n">d</span> <span class="mi">1</span><span class="o">)</span><span class="bp">.</span><span class="n">le</span>
</code></pre></div>



<a name="245683224"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/induction_ineq_nsqlefactn%20the%20hard%20way/near/245683224" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html#245683224">(Jul 12 2021 at 13:08)</a>:</h4>
<p>Ah, I forget how high the zero_lt_n lemmas go!  I would have proven <code>0 &lt; 4</code> with <code>succ_pos _</code> again!</p>



<a name="245683319"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/induction_ineq_nsqlefactn%20the%20hard%20way/near/245683319" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html#245683319">(Jul 12 2021 at 13:09)</a>:</h4>
<p><span class="user-mention" data-user-id="277676">@Jiekai</span> , do these help you? <a href="https://leanprover-community.github.io/mathlib_docs/find/nat.factorial_succ">docs#nat.factorial_succ</a> <a href="https://leanprover-community.github.io/mathlib_docs/find/add_sq">docs#add_sq</a>?</p>



<a name="245683332"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/induction_ineq_nsqlefactn%20the%20hard%20way/near/245683332" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html#245683332">(Jul 12 2021 at 13:09)</a>:</h4>
<p>Again, found them by guessing the names.</p>



<a name="245683607"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/induction_ineq_nsqlefactn%20the%20hard%20way/near/245683607" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html#245683607">(Jul 12 2021 at 13:11)</a>:</h4>
<p>(My zulip seems to have some issues and my messages come out delayed and out of order.)</p>



<a name="245683921"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/induction_ineq_nsqlefactn%20the%20hard%20way/near/245683921" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html#245683921">(Jul 12 2021 at 13:13)</a>:</h4>
<p>This is all very instructive, but let's not forget to mention the correct answer is of course that Lean can prove it without any help, simply write:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">d</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="mi">4</span> <span class="bp">+</span> <span class="o">(</span><span class="n">d</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">linarith</span>
</code></pre></div>



<a name="245687240"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/induction_ineq_nsqlefactn%20the%20hard%20way/near/245687240" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html#245687240">(Jul 12 2021 at 13:40)</a>:</h4>
<p>My solution</p>
<div class="spoiler-block"><div class="spoiler-header">
</div><div class="spoiler-content" aria-hidden="true">
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>

<span class="n">open_locale</span> <span class="n">nat</span>

<span class="kd">theorem</span> <span class="n">pow_two_le_factorial</span>
  <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h₀</span> <span class="o">:</span> <span class="mi">4</span> <span class="bp">≤</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">n</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">≤</span> <span class="n">n</span><span class="bp">!</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">obtain</span> <span class="o">⟨</span><span class="n">k</span><span class="o">,</span> <span class="n">rfl</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">nat.exists_eq_add_of_le</span> <span class="n">h₀</span><span class="o">,</span>
  <span class="n">clear</span> <span class="n">h₀</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">add_comm</span><span class="o">,</span> <span class="n">nat.factorial_succ</span><span class="o">,</span> <span class="n">sq</span><span class="o">],</span>
  <span class="n">refine</span> <span class="n">nat.mul_le_mul</span> <span class="n">le_rfl</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">induction</span> <span class="n">k</span> <span class="k">with</span> <span class="n">d</span> <span class="n">hd</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">norm_num</span> <span class="o">},</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">nat.succ_add</span><span class="o">,</span> <span class="n">nat.succ_add</span><span class="o">,</span> <span class="n">nat.factorial_succ</span><span class="o">],</span>
  <span class="n">refine</span> <span class="o">(</span><span class="n">nat.succ_le_succ</span> <span class="n">hd</span><span class="o">)</span><span class="bp">.</span><span class="n">trans</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">nat.succ_mul</span><span class="o">,</span> <span class="n">nat.succ_le_iff</span><span class="o">],</span>
  <span class="n">simpa</span> <span class="n">using</span> <span class="n">nat.factorial_pos</span> <span class="n">d</span>
<span class="kd">end</span>
</code></pre></div>
</div></div>



<a name="245687989"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/induction_ineq_nsqlefactn%20the%20hard%20way/near/245687989" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jiekai <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html#245687989">(Jul 12 2021 at 13:46)</a>:</h4>
<p>so much to learn!  <span aria-label="octopus" class="emoji emoji-1f419" role="img" title="octopus">:octopus:</span></p>



<a name="245691560"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/induction_ineq_nsqlefactn%20the%20hard%20way/near/245691560" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html#245691560">(Jul 12 2021 at 14:14)</a>:</h4>
<div class="spoiler-block"><div class="spoiler-header">
</div><div class="spoiler-content" aria-hidden="true">
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>

<span class="n">open_locale</span> <span class="n">nat</span>
<span class="kn">open</span> <span class="n">nat</span>

<span class="kd">theorem</span> <span class="n">pow_two_le_factorial</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">h₀</span> <span class="o">:</span> <span class="mi">4</span> <span class="bp">≤</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">n</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">≤</span> <span class="n">n</span><span class="bp">!</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">obtain</span> <span class="o">⟨</span><span class="n">k</span><span class="o">,</span> <span class="n">rfl</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">nat.exists_eq_add_of_le</span> <span class="n">h₀</span><span class="o">,</span>
  <span class="k">suffices</span> <span class="o">:</span> <span class="n">k</span> <span class="bp">+</span> <span class="mi">4</span> <span class="bp">≤</span> <span class="o">(</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">3</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">2</span><span class="o">),</span>
  <span class="o">{</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">add_comm</span><span class="o">,</span> <span class="n">mul_assoc</span><span class="o">,</span> <span class="n">pow_two</span><span class="o">]</span> <span class="n">using</span> <span class="n">mul_le_mul'</span> <span class="n">this</span> <span class="o">(</span><span class="n">factorial_pos</span> <span class="o">(</span><span class="n">k</span><span class="bp">+</span><span class="mi">1</span><span class="o">)),</span> <span class="o">},</span>
  <span class="k">calc</span> <span class="n">k</span> <span class="bp">+</span> <span class="mi">4</span> <span class="bp">≤</span> <span class="o">(</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">4</span><span class="o">)</span> <span class="bp">+</span> <span class="o">(</span><span class="n">k</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">+</span> <span class="mi">4</span> <span class="bp">*</span> <span class="n">k</span> <span class="bp">+</span> <span class="mi">2</span><span class="o">)</span> <span class="o">:</span> <span class="n">self_le_add_right</span> <span class="n">_</span> <span class="n">_</span>
         <span class="bp">...</span> <span class="bp">≤</span> <span class="o">(</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">3</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">2</span><span class="o">)</span>           <span class="o">:</span> <span class="kd">by</span> <span class="n">ring_nf</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
</div></div>



<a name="245697571"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/induction_ineq_nsqlefactn%20the%20hard%20way/near/245697571" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html#245697571">(Jul 12 2021 at 14:55)</a>:</h4>
<p><span class="user-mention" data-user-id="277676">@Jiekai</span> I had a really hard time doing the first year undergraduate problem sheets which I was giving to my students when I was learning lean.</p>



<a name="245701235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/induction_ineq_nsqlefactn%20the%20hard%20way/near/245701235" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jiekai <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html#245701235">(Jul 12 2021 at 15:18)</a>:</h4>
<p>I played with NNG last year and had a lot of fun.  Then haven't touched lean for more than a year.</p>
<p>Recently I'm thinking about learning some math for fun and thought lean could be useful.  My near-term goal is to understand the <strong>Fundamental theorem of arithmetic</strong> in mathlib.</p>



<a name="245705107"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/induction_ineq_nsqlefactn%20the%20hard%20way/near/245705107" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html#245705107">(Jul 12 2021 at 15:46)</a>:</h4>
<p>The first challenge would be figuring out how to state it, and before that you have to decide whether it's a theorem about naturals or integers</p>



<a name="245716540"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/induction_ineq_nsqlefactn%20the%20hard%20way/near/245716540" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jiekai <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html#245716540">(Jul 12 2021 at 17:07)</a>:</h4>
<div class="spoiler-block"><div class="spoiler-header">
</div><div class="spoiler-content" aria-hidden="true">
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>
<span class="kn">import</span> <span class="n">data.nat.parity</span>
<span class="kn">import</span> <span class="n">data.nat.basic</span>

<span class="n">open_locale</span> <span class="n">nat</span>

<span class="kd">theorem</span> <span class="n">induction_ineq_nsqlefactn</span>
  <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h₀</span> <span class="o">:</span> <span class="mi">4</span> <span class="bp">≤</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">n</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">≤</span> <span class="n">n</span><span class="bp">!</span> <span class="o">:=</span>
<span class="kd">begin</span>
   <span class="k">have</span> <span class="n">t0</span> <span class="o">:=</span> <span class="n">nat.exists_eq_add_of_le</span> <span class="n">h₀</span><span class="o">,</span>
   <span class="n">cases</span> <span class="n">t0</span> <span class="k">with</span> <span class="n">k</span> <span class="n">hk</span><span class="o">,</span>
   <span class="n">rw</span> <span class="n">hk</span><span class="o">,</span>
   <span class="n">clear</span> <span class="n">hk</span> <span class="n">h₀</span> <span class="n">n</span><span class="o">,</span> <span class="c1">-- necessary?</span>
   <span class="n">induction</span> <span class="n">k</span> <span class="k">with</span> <span class="n">d</span> <span class="n">hd</span><span class="o">,</span>
   <span class="o">{</span> <span class="n">norm_num</span><span class="o">,</span> <span class="o">},</span>
   <span class="k">have</span> <span class="n">step0</span> <span class="o">:</span> <span class="n">d.succ</span> <span class="bp">=</span> <span class="n">d</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">,</span>
   <span class="o">{</span> <span class="n">refl</span><span class="o">,</span> <span class="o">},</span>
   <span class="n">rw</span> <span class="n">step0</span><span class="o">,</span>
   <span class="n">clear</span> <span class="n">step0</span><span class="o">,</span>

   <span class="k">have</span> <span class="n">step00</span><span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="o">(</span><span class="n">d</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)),</span>
   <span class="o">{</span>
     <span class="n">linarith</span><span class="o">,</span>
   <span class="o">},</span>

   <span class="k">have</span> <span class="n">step1</span> <span class="o">:</span> <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="o">(</span><span class="n">d</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="o">(</span><span class="n">d</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">)</span><span class="bp">!</span> <span class="bp">=</span> <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="o">(</span><span class="n">d</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span><span class="bp">!</span><span class="o">,</span>
   <span class="o">{</span>
     <span class="n">apply</span> <span class="n">nat.mul_factorial_pred</span><span class="o">,</span>
     <span class="n">exact</span> <span class="n">step00</span><span class="o">,</span>
   <span class="o">},</span>

   <span class="k">have</span> <span class="n">step2</span> <span class="o">:</span> <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="o">(</span><span class="n">d</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">^</span> <span class="mi">2</span> <span class="bp">≤</span> <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="n">d</span><span class="o">)</span> <span class="bp">^</span> <span class="mi">2</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="o">(</span><span class="n">d</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)),</span>
   <span class="o">{</span>
     <span class="n">rw</span> <span class="n">sq</span><span class="o">,</span>
     <span class="n">apply</span> <span class="n">mul_le_mul</span><span class="o">,</span>
     <span class="o">{</span>
       <span class="n">rw</span> <span class="n">add_sq</span><span class="o">,</span>
       <span class="n">rw</span> <span class="n">sq</span><span class="o">,</span>
       <span class="n">rw</span> <span class="n">sq</span><span class="o">,</span>
       <span class="k">have</span> <span class="n">t20</span> <span class="o">:</span> <span class="mi">4</span> <span class="bp">+</span> <span class="o">(</span><span class="n">d</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">0</span> <span class="bp">+</span> <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="n">d</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">),</span>
       <span class="o">{</span>
         <span class="n">ring</span><span class="o">,</span>
       <span class="o">},</span>
       <span class="k">have</span> <span class="n">t21</span> <span class="o">:</span> <span class="mi">4</span> <span class="bp">*</span> <span class="mi">4</span> <span class="bp">+</span> <span class="mi">2</span> <span class="bp">*</span> <span class="mi">4</span> <span class="bp">*</span> <span class="n">d</span> <span class="bp">+</span> <span class="n">d</span> <span class="bp">*</span> <span class="n">d</span> <span class="bp">=</span> <span class="mi">11</span> <span class="bp">+</span> <span class="mi">7</span> <span class="bp">*</span> <span class="n">d</span> <span class="bp">+</span> <span class="n">d</span> <span class="bp">*</span> <span class="n">d</span> <span class="bp">+</span> <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="n">d</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">),</span>
       <span class="o">{</span>
         <span class="n">ring</span><span class="o">,</span>
       <span class="o">},</span>
       <span class="n">rw</span> <span class="n">t20</span><span class="o">,</span>
       <span class="n">rw</span> <span class="n">t21</span><span class="o">,</span>
       <span class="n">apply</span> <span class="n">add_le_add_right</span><span class="o">,</span>
       <span class="n">apply</span> <span class="n">zero_le</span><span class="o">,</span>
     <span class="o">},</span>
     <span class="o">{</span>
       <span class="n">refl</span><span class="o">,</span>
     <span class="o">},</span>
     <span class="o">{</span>
       <span class="n">apply</span> <span class="n">zero_le</span><span class="o">,</span>
     <span class="o">},</span>
     <span class="o">{</span>
       <span class="n">apply</span> <span class="n">zero_le</span><span class="o">,</span>
     <span class="o">},</span>
   <span class="o">},</span>

   <span class="k">have</span> <span class="n">step3</span> <span class="o">:</span> <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="n">d</span><span class="o">)</span> <span class="bp">^</span> <span class="mi">2</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="o">(</span><span class="n">d</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">≤</span> <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="o">(</span><span class="n">d</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span><span class="bp">!</span><span class="o">,</span>
   <span class="o">{</span>
     <span class="n">rw</span> <span class="bp">←</span> <span class="n">step1</span><span class="o">,</span>
     <span class="k">have</span> <span class="n">t30</span> <span class="o">:</span> <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="o">(</span><span class="n">d</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="o">(</span><span class="n">d</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">)</span><span class="bp">!</span> <span class="bp">=</span>  <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="n">d</span><span class="o">)</span><span class="bp">!</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="o">(</span><span class="n">d</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)),</span>
     <span class="o">{</span>
       <span class="n">ring</span><span class="o">,</span>
     <span class="o">},</span>
     <span class="n">rw</span> <span class="n">t30</span><span class="o">,</span>
     <span class="n">apply</span> <span class="n">mul_le_mul</span><span class="o">,</span>
     <span class="o">{</span>
       <span class="n">apply</span> <span class="n">hd</span><span class="o">,</span>
     <span class="o">},</span>
     <span class="o">{</span>
       <span class="n">refl</span><span class="o">,</span>
     <span class="o">},</span>
     <span class="o">{</span>
       <span class="n">apply</span> <span class="n">zero_le</span><span class="o">,</span>
     <span class="o">},</span>
     <span class="o">{</span>
       <span class="n">apply</span> <span class="n">zero_le</span><span class="o">,</span>
     <span class="o">},</span>
   <span class="o">},</span>

   <span class="k">have</span> <span class="n">step4</span> <span class="o">:</span> <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="o">(</span><span class="n">d</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">^</span> <span class="mi">2</span> <span class="bp">≤</span> <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="o">(</span><span class="n">d</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span><span class="bp">!</span><span class="o">,</span>
   <span class="o">{</span>
     <span class="n">apply</span> <span class="n">le_trans</span> <span class="n">step2</span> <span class="n">step3</span><span class="o">,</span>
   <span class="o">},</span>

   <span class="n">exact</span> <span class="n">step4</span><span class="o">,</span>

<span class="kd">end</span>
</code></pre></div>
</div></div>
<p>Save the ugly one</p>



<a name="245724442"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/induction_ineq_nsqlefactn%20the%20hard%20way/near/245724442" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html#245724442">(Jul 12 2021 at 18:07)</a>:</h4>
<p><span class="user-mention" data-user-id="277676">@Jiekai</span> you can write Lean far more compactly than this, for example your last 25 lines or so are just the same as</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code>  <span class="k">have</span> <span class="n">step3</span> <span class="o">:</span> <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="n">d</span><span class="o">)</span> <span class="bp">^</span> <span class="mi">2</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="o">(</span><span class="n">d</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">≤</span> <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="o">(</span><span class="n">d</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span><span class="bp">!</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="bp">←</span> <span class="n">step1</span><span class="o">,</span> <span class="k">show</span> <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="o">(</span><span class="n">d</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="o">(</span><span class="n">d</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">)</span><span class="bp">!</span> <span class="bp">=</span>  <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="n">d</span><span class="o">)</span><span class="bp">!</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="o">(</span><span class="n">d</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)),</span> <span class="kd">by</span> <span class="n">ring</span><span class="o">],</span>
    <span class="n">apply</span> <span class="n">mul_le_mul</span> <span class="n">hd</span> <span class="o">(</span><span class="n">le_refl</span> <span class="n">_</span><span class="o">)</span> <span class="o">(</span><span class="n">zero_le</span> <span class="n">_</span><span class="o">)</span> <span class="o">(</span><span class="n">zero_le</span> <span class="n">_</span><span class="o">),</span> <span class="o">},</span>
  <span class="n">exact</span> <span class="n">step2.trans</span> <span class="n">step3</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="245955131"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/induction_ineq_nsqlefactn%20the%20hard%20way/near/245955131" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jiekai <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html#245955131">(Jul 14 2021 at 12:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way/near/245697571">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="277676">Jiekai</span> I had a really hard time doing the first year undergraduate problem sheets which I was giving to my students when I was learning lean.</p>
</blockquote>
<p>I just found M1F from the title image of xena blog.  <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span> </p>
<p><a href="https://xenaproject.wordpress.com/2018/01/09/complex-numbers-and-m1f-theorems/">This post</a> says</p>
<blockquote>
<p>Of all the theorems I proved in M1F, de Moivre’s theorem (Theorem 3.2 of the course) is, I think, the only one which will need some work before it’s possible to verify it, the work in this case being a rigorous definition of the exponential function and its basic properties.</p>
</blockquote>
<p>This is fun!</p>



<a name="245978541"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/induction_ineq_nsqlefactn%20the%20hard%20way/near/245978541" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/induction_ineq_nsqlefactn.20the.20hard.20way.html#245978541">(Jul 14 2021 at 15:46)</a>:</h4>
<p>This work was done long ago :-)</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>