---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/First.20Time.20Contributing.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html">First Time Contributing</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="267111400"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267111400" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ccn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267111400">(Jan 06 2022 at 20:40)</a>:</h4>
<p>Hey there, I'd like to add the definition of rank of a set of vectors (<a href="https://github.com/leanprover-community/mathlib/wiki/Undergrad-TODO-trivial-targets">https://github.com/leanprover-community/mathlib/wiki/Undergrad-TODO-trivial-targets</a>)  to mathlib,</p>
<p>The definition of the rank of a set of vectors is the number of linearly independent vectors, so given the set { [1 0], [0 1], [a b], ... } it's rank is always going to be 2, whereas the rank of { [1 0 ] } is just 1.  Another way to figure it out is to take the span of those vectors and then take the rank of it as a vector space/module.</p>
<p>so far I've followed this guide: <a href="https://leanprover-community.github.io/install/linux.html">https://leanprover-community.github.io/install/linux.html</a> and I made my own branch with the changes </p>
<p>So far my definition looks like this :</p>
<p><a href="/user_uploads/3121/KT1Y7Knnc-ZM8Q7_GiiYfAhb/image.png">image.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/3121/KT1Y7Knnc-ZM8Q7_GiiYfAhb/image.png" title="image.png"><img src="/user_uploads/3121/KT1Y7Knnc-ZM8Q7_GiiYfAhb/image.png"></a></div><p>You can see on online 1151 I replaced it with the new defn and it seems to work just fine. Should I replace all instances? </p>
<p>Let me know if it looks good to do a pull request, and then I can try and push it to mathlib (after I get access).</p>



<a name="267114862"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267114862" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267114862">(Jan 06 2022 at 21:10)</a>:</h4>
<p>I guess you might want to look at the statements below where you are and see if there's any more <code>finrank span</code> stuff which you can rephrase in this new way. You t also make a little API for the definition, eg. prove that if <code>s ⊆ t</code> then <code>hiv ≤ t.finrank</code> (probably this is. called set.finrank</p>



<a name="267115663"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267115663" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267115663">(Jan 06 2022 at 21:16)</a>:</h4>
<p>You should also edit the undergraduate.yaml file to add your definition to it. Once you feel you're ready, ask for push access to non-master branches of mathlib and post your GitHub userid</p>



<a name="267116354"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267116354" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ccn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267116354">(Jan 06 2022 at 21:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/First.20Time.20Contributing/near/267114862">said</a>:</p>
<blockquote>
<p>I guess you might want to look at the statements below where you are and see if there's any more <code>finrank span</code> stuff which you can rephrase in this new way. You should also make a little API for the definition, eg. prove that if <code>s ⊆ t</code> then <code>s.finrank ≤ t.finrank</code> (probably this is called <code>set.finrank_mono</code>)</p>
</blockquote>
<p>Ok, I'll try to do it! What does mono stand for? And this would just be a lemma right?</p>



<a name="267116411"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267116411" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267116411">(Jan 06 2022 at 21:21)</a>:</h4>
<p>"monotone", aka "increasing"</p>



<a name="267116446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267116446" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267116446">(Jan 06 2022 at 21:21)</a>:</h4>
<p>You can also spell it <code>monotone finrank</code> by using <a href="https://leanprover-community.github.io/mathlib_docs/find/monotone">docs#monotone</a></p>



<a name="267118696"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267118696" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ccn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267118696">(Jan 06 2022 at 21:43)</a>:</h4>
<p>So I'm starting to work on the proof that <code>s.finrank K &lt;= t.finrank K</code> So far I<br>
have this sketch </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">set.finrank_mono</span> <span class="o">(</span><span class="n">s</span> <span class="n">t</span><span class="o">:</span> <span class="n">set</span> <span class="n">V</span><span class="o">)</span> <span class="o">:</span> <span class="n">s</span> <span class="bp">⊆</span> <span class="n">t</span> <span class="bp">→</span> <span class="n">s.finrank</span> <span class="n">K</span> <span class="bp">≤</span> <span class="n">t.finrank</span> <span class="n">K</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
  <span class="c1">-- We can prove that span s is a subset of span t using span_mono</span>
  <span class="k">have</span> <span class="n">x</span> <span class="o">:=</span> <span class="n">span_mono</span> <span class="n">h</span><span class="o">,</span>
  <span class="c1">-- Now I need to somehow use that with finrank</span>
  <span class="k">have</span> <span class="n">y</span> <span class="o">:=</span> <span class="n">finrank_mono</span> <span class="n">x</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">y</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>span_mono:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">span_mono</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">s</span> <span class="bp">⊆</span> <span class="n">t</span><span class="o">)</span> <span class="o">:</span> <span class="n">span</span> <span class="n">R</span> <span class="n">s</span> <span class="bp">≤</span> <span class="n">span</span> <span class="n">R</span> <span class="n">t</span> <span class="o">:=</span>
<span class="n">span_le.2</span> <span class="bp">$</span> <span class="n">subset.trans</span> <span class="n">h</span> <span class="n">subset_span</span>
</code></pre></div>
<p>finrank_mono</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">finrank_mono</span> <span class="o">[</span><span class="n">finite_dimensional</span> <span class="n">K</span> <span class="n">V</span><span class="o">]</span> <span class="o">:</span>
  <span class="n">monotone</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">submodule</span> <span class="n">K</span> <span class="n">V</span><span class="o">),</span> <span class="n">finrank</span> <span class="n">K</span> <span class="n">s</span><span class="o">)</span> <span class="o">:=</span>
<span class="bp">λ</span> <span class="n">s</span> <span class="n">t</span> <span class="n">hst</span><span class="o">,</span>
<span class="k">calc</span> <span class="n">finrank</span> <span class="n">K</span> <span class="n">s</span> <span class="bp">=</span> <span class="n">finrank</span> <span class="n">K</span> <span class="o">(</span><span class="n">comap</span> <span class="n">t.subtype</span> <span class="n">s</span><span class="o">)</span>
  <span class="o">:</span> <span class="n">linear_equiv.finrank_eq</span> <span class="o">(</span><span class="n">comap_subtype_equiv_of_le</span> <span class="n">hst</span><span class="o">)</span><span class="bp">.</span><span class="n">symm</span>
<span class="bp">...</span> <span class="bp">≤</span> <span class="n">finrank</span> <span class="n">K</span> <span class="n">t</span> <span class="o">:</span> <span class="n">submodule.finrank_le</span> <span class="n">_</span>
</code></pre></div>
<p>Thing is, that proof doesn't work too well: </p>
<p><a href="/user_uploads/3121/wRogIiItwqQVOKp9t1VN5Rr0/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/wRogIiItwqQVOKp9t1VN5Rr0/image.png" title="image.png"><img src="/user_uploads/3121/wRogIiItwqQVOKp9t1VN5Rr0/image.png"></a></div><p>Any tips to fix it?</p>



<a name="267119037"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267119037" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267119037">(Jan 06 2022 at 21:46)</a>:</h4>
<p>Golf it down to one line. Then Lean will be able to figure all the types out.</p>



<a name="267119277"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267119277" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267119277">(Jan 06 2022 at 21:48)</a>:</h4>
<p>Right now Lean can't guess that V is a vector space over K in <code>have x := span_mono h</code> because h can make it guess s and t and V, but not K. That's why you get all the extra goals. As Yael says, if you write the proof in term mode (<code>\lam h, finrank_mono (span_mono h)</code>, like span_mono) then it should work.</p>



<a name="267119354"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267119354" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267119354">(Jan 06 2022 at 21:49)</a>:</h4>
<p>Also, this lemma is false, because finrank gives zero for infinite dim vector spaces. Are you assuming V is f.d. ahead of time?</p>



<a name="267119456"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267119456" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267119456">(Jan 06 2022 at 21:50)</a>:</h4>
<p>If <code>span_mono</code> was</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">span_mono</span> <span class="o">:</span> <span class="n">monotone</span> <span class="o">(</span><span class="n">span</span> <span class="n">R</span><span class="o">)</span> <span class="o">:=</span>
</code></pre></div>
<p>you could even use <code>span_mono.comp finrank_mono</code></p>



<a name="267119585"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267119585" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ccn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267119585">(Jan 06 2022 at 21:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/113489-new-members/topic/First.20Time.20Contributing/near/267119354">said</a>:</p>
<blockquote>
<p>Also, this lemma is false, because finrank gives zero for infinite dim vector spaces. Are you assuming V is f.d. ahead of time?</p>
</blockquote>
<p>The file I'm working in is called <code>finite_dimensional</code> so I think it's good</p>



<a name="267119723"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267119723" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267119723">(Jan 06 2022 at 21:52)</a>:</h4>
<p>The instances listed in your goal window don't show me anything about finite dimensionality</p>



<a name="267119836"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267119836" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ccn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267119836">(Jan 06 2022 at 21:53)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/113489-new-members/topic/First.20Time.20Contributing/near/267119037">said</a>:</p>
<blockquote>
<p>Golf it down to one line. Then Lean will be able to figure all the types out.</p>
</blockquote>
<p>I made it into one line, it is still doesn't work out: <a href="/user_uploads/3121/yy7sG5TV82iK8sbN05jIdOUb/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/yy7sG5TV82iK8sbN05jIdOUb/image.png" title="image.png"><img src="/user_uploads/3121/yy7sG5TV82iK8sbN05jIdOUb/image.png"></a></div>



<a name="267119979"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267119979" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267119979">(Jan 06 2022 at 21:54)</a>:</h4>
<p>Yup, because as Adam said you're missing the finite dimensionality assumption on the statement of your lemma.</p>



<a name="267119984"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267119984" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ccn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267119984">(Jan 06 2022 at 21:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/113489-new-members/topic/First.20Time.20Contributing/near/267119723">said</a>:</p>
<blockquote>
<p>The instances listed in your goal window don't show me anything about finite dimensionality</p>
</blockquote>
<p>I'm pretty new to this too, but I think it was defined at the top of the file like this: <a href="/user_uploads/3121/itWXmo_8ZwBeE6J7s2Afy1VF/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/itWXmo_8ZwBeE6J7s2Afy1VF/image.png" title="image.png"><img src="/user_uploads/3121/itWXmo_8ZwBeE6J7s2Afy1VF/image.png"></a></div>



<a name="267120017"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267120017" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267120017">(Jan 06 2022 at 21:54)</a>:</h4>
<p>This is a definition, not a variable declaration</p>



<a name="267120048"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267120048" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267120048">(Jan 06 2022 at 21:55)</a>:</h4>
<p>You need <code>variables [finite_dimensional K V]</code></p>



<a name="267120085"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267120085" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267120085">(Jan 06 2022 at 21:55)</a>:</h4>
<p>Or add [finite_dimensional V] to the lemma itself</p>



<a name="267120296"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267120296" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267120296">(Jan 06 2022 at 21:57)</a>:</h4>
<p>How are you making these nice screenshots with rectangles by the way?</p>



<a name="267120333"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267120333" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ccn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267120333">(Jan 06 2022 at 21:57)</a>:</h4>
<p><a href="https://github.com/flameshot-org/flameshot">https://github.com/flameshot-org/flameshot</a></p>



<a name="267120636"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267120636" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ccn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267120636">(Jan 06 2022 at 21:59)</a>:</h4>
<p>Thanks to both of you it works out now!</p>



<a name="267120836"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267120836" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267120836">(Jan 06 2022 at 22:00)</a>:</h4>
<p>Be careful if you're using <code>variable ...</code> to obtain this instance, because the assumption might not be necessary in the rest of the file.</p>



<a name="267120918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267120918" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267120918">(Jan 06 2022 at 22:01)</a>:</h4>
<p>If you work in a section, and put the variable inside, that should be okay</p>



<a name="267121195"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267121195" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267121195">(Jan 06 2022 at 22:03)</a>:</h4>
<p>E.g. <code>finrank_span_le_card</code> doesn't need this assumption</p>



<a name="267121356"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267121356" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ccn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267121356">(Jan 06 2022 at 22:05)</a>:</h4>
<p>I utilized the solution which adds it to the lemma itself, so I think it'll stay in the scope of the lemma.</p>
<p>Also I am now trying to add a "link" to it via the <code>undergrad.yaml</code> file:</p>
<p><a href="/user_uploads/3121/5cMvr6r9CxQedb2gD3JOe3Dp/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/5cMvr6r9CxQedb2gD3JOe3Dp/image.png" title="image.png"><img src="/user_uploads/3121/5cMvr6r9CxQedb2gD3JOe3Dp/image.png"></a></div><p>Since my definition looks like this: </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">noncomputable</span> <span class="kd">def</span> <span class="n">set.finrank</span> <span class="o">(</span><span class="n">s</span><span class="o">:</span> <span class="n">set</span> <span class="n">V</span><span class="o">)</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="o">:=</span> <span class="n">finrank</span> <span class="n">K</span> <span class="o">(</span><span class="n">span</span> <span class="n">K</span> <span class="n">s</span><span class="o">)</span>
</code></pre></div>
<p>would I have to write <code>finite_dimensional.set.finrank</code> ?</p>



<a name="267121565"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267121565" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ccn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267121565">(Jan 06 2022 at 22:07)</a>:</h4>
<p>Ok, so I think most things are in order</p>
<p>my github account is this: <a href="https://github.com/cuppajoeman">https://github.com/cuppajoeman</a></p>
<p>could I have access to push to the repo?</p>



<a name="267123456"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267123456" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267123456">(Jan 06 2022 at 22:23)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="2494">@maintainers</span> (BTW please let me know if pinging you all whenever someone I'm "mentoring" asks for push access is not something you guys want me to be doing)</p>



<a name="267123710"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267123710" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267123710">(Jan 06 2022 at 22:26)</a>:</h4>
<p>Invite sent! <a href="https://github.com/leanprover-community/mathlib/invitations">https://github.com/leanprover-community/mathlib/invitations</a></p>
<p>(Pings are appreciated, on my part, at least.)</p>



<a name="267126906"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267126906" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267126906">(Jan 06 2022 at 22:59)</a>:</h4>
<p>I was hoping there would be some way to grant Kevin special "add permissions for new users" power without going through a ping, but github doesn't seem to support it</p>



<a name="267127093"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267127093" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267127093">(Jan 06 2022 at 23:01)</a>:</h4>
<p>We could write a zulip bots that checks whether kevin pinged maintainers and mentioned push access and a github user in the message :p</p>



<a name="267127675"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267127675" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ccn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267127675">(Jan 06 2022 at 23:07)</a>:</h4>
<p>Looks like my pull request failed: <a href="/user_uploads/3121/DMgu8AqtbncsvPk8vehiAbHy/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/DMgu8AqtbncsvPk8vehiAbHy/image.png" title="image.png"><img src="/user_uploads/3121/DMgu8AqtbncsvPk8vehiAbHy/image.png"></a></div>



<a name="267127844"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267127844" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267127844">(Jan 06 2022 at 23:09)</a>:</h4>
<p>What has failed is that you broke mathlib. If you changed a definition which was used elsewhere then I guess this would not be surprising, but if you didn't do this then that's bad luck. You can see which proof you broke. Can you fix it?</p>



<a name="267128578"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267128578" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ccn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267128578">(Jan 06 2022 at 23:16)</a>:</h4>
<p>I found the cause of the error: </p>
<p>geometry/euclidean/monge_point.lean @ line 391</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="sd">/-- An altitude is one-dimensional (i.e., a line). -/</span>
<span class="kd">@[simp]</span> <span class="kd">lemma</span> <span class="n">finrank_direction_altitude</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">simplex</span> <span class="n">ℝ</span> <span class="n">P</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">fin</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">2</span><span class="o">))</span> <span class="o">:</span>
  <span class="n">finrank</span> <span class="n">ℝ</span> <span class="o">((</span><span class="n">s.altitude</span> <span class="n">i</span><span class="o">)</span><span class="bp">.</span><span class="n">direction</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="n">direction_altitude</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">h</span> <span class="o">:=</span> <span class="n">submodule.finrank_add_inf_finrank_orthogonal</span>
    <span class="o">(</span><span class="n">vector_span_mono</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">set.image_subset_range</span> <span class="n">s.points</span> <span class="bp">↑</span><span class="o">(</span><span class="n">univ.erase</span> <span class="n">i</span><span class="o">))),</span>
  <span class="k">have</span> <span class="n">hc</span> <span class="o">:</span> <span class="n">card</span> <span class="o">(</span><span class="n">univ.erase</span> <span class="n">i</span><span class="o">)</span> <span class="bp">=</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">,</span> <span class="o">{</span> <span class="n">rw</span> <span class="n">card_erase_of_mem</span> <span class="o">(</span><span class="n">mem_univ</span> <span class="n">_</span><span class="o">),</span> <span class="n">simp</span> <span class="o">},</span>
  <span class="n">refine</span> <span class="n">add_left_cancel</span> <span class="o">(</span><span class="n">trans</span> <span class="n">h</span> <span class="n">_</span><span class="o">),</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">s.independent.finrank_vector_span</span> <span class="o">(</span><span class="n">fintype.card_fin</span> <span class="n">_</span><span class="o">),</span>
      <span class="bp">←</span> <span class="n">finset.coe_image</span><span class="o">,</span> <span class="n">s.independent.finrank_vector_span_image_finset</span> <span class="n">hc</span><span class="o">]</span>
<span class="kd">end</span>
</code></pre></div>
<p>with error</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">rewrite</span> <span class="n">tactic</span> <span class="n">failed</span><span class="o">,</span> <span class="n">did</span> <span class="n">not</span> <span class="n">find</span> <span class="kd">instance</span> <span class="n">of</span> <span class="n">the</span> <span class="n">pattern</span> <span class="k">in</span> <span class="n">the</span> <span class="n">target</span> <span class="n">expression</span>
  <span class="n">set.finrank</span> <span class="bp">?</span><span class="n">m_1</span> <span class="bp">?</span><span class="n">m_6</span>
<span class="n">state</span><span class="o">:</span>
<span class="n">V</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u_1</span><span class="o">,</span>
<span class="n">P</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u_2</span><span class="o">,</span>
<span class="n">_inst_1</span> <span class="o">:</span> <span class="n">inner_product_space</span> <span class="n">ℝ</span> <span class="n">V</span><span class="o">,</span>
<span class="n">_inst_2</span> <span class="o">:</span> <span class="n">metric_space</span> <span class="n">P</span><span class="o">,</span>
<span class="n">_inst_3</span> <span class="o">:</span> <span class="n">normed_add_torsor</span> <span class="n">V</span> <span class="n">P</span><span class="o">,</span>
<span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span>
<span class="n">s</span> <span class="o">:</span> <span class="n">simplex</span> <span class="n">ℝ</span> <span class="n">P</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">),</span>
<span class="n">i</span> <span class="o">:</span> <span class="n">fin</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">2</span><span class="o">),</span>
<span class="n">p</span> <span class="o">:</span> <span class="n">P</span><span class="o">,</span>
<span class="n">hne</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">≠</span> <span class="n">s.points</span> <span class="n">i</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">-ᵥ</span> <span class="n">s.points</span> <span class="n">i</span> <span class="bp">∈</span> <span class="o">(</span><span class="n">s.altitude</span> <span class="n">i</span><span class="o">)</span><span class="bp">.</span><span class="n">direction</span>
<span class="bp">⊢</span> <span class="n">finrank</span> <span class="n">ℝ</span> <span class="bp">↥</span><span class="o">(</span><span class="n">submodule.span</span> <span class="n">ℝ</span> <span class="o">{</span><span class="n">p</span> <span class="bp">-ᵥ</span> <span class="n">s.points</span> <span class="n">i</span><span class="o">})</span> <span class="bp">=</span> <span class="mi">1</span>
</code></pre></div>
<p>So what I think is happening is that instead of using the standard finrank that<br>
operates on a module:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">noncomputable</span> <span class="kd">def</span> <span class="n">finrank</span> <span class="o">(</span><span class="n">R</span> <span class="n">V</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">R</span><span class="o">]</span>
  <span class="o">[</span><span class="n">add_comm_group</span> <span class="n">V</span><span class="o">]</span> <span class="o">[</span><span class="n">module</span> <span class="n">R</span> <span class="n">V</span><span class="o">]</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">module.rank</span> <span class="n">R</span> <span class="n">V</span><span class="o">)</span><span class="bp">.</span><span class="n">to_nat</span>
</code></pre></div>
<p>it's somehow using my new definition: </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">noncomputable</span> <span class="kd">def</span> <span class="n">set.finrank</span> <span class="o">(</span><span class="n">s</span><span class="o">:</span> <span class="n">set</span> <span class="n">V</span><span class="o">)</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="o">:=</span> <span class="n">finrank</span> <span class="n">K</span> <span class="o">(</span><span class="n">span</span> <span class="n">K</span> <span class="n">s</span><span class="o">)</span>
</code></pre></div>
<p>Even though in that proof they didn't use the <code>set.finrank</code> syntax</p>



<a name="267128659"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267128659" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267128659">(Jan 06 2022 at 23:17)</a>:</h4>
<p>If the original <code>finrank</code> is in the root namespace then you can try <code>_root_.finrank</code> and see if it fixes the problem.</p>



<a name="267128840"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267128840" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267128840">(Jan 06 2022 at 23:19)</a>:</h4>
<p>You can also do <code>protected noncomputable def</code> (or is it <code>noncomputable protected def</code>?) for <code>set.finrank</code>. This means that <code>finrank</code> without anything else never means <code>set.finrank</code>, even if you open namespace <code>set</code> (you'd have to write <code>set.finrank</code> or <code>s.finrank</code> when <code>s : set _</code>).</p>



<a name="267129416"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267129416" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ccn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267129416">(Jan 06 2022 at 23:26)</a>:</h4>
<p>Trying out Floris's solution, I just ran <code>leanproject build</code> how long does that usually take?</p>



<a name="267130353"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267130353" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267130353">(Jan 06 2022 at 23:38)</a>:</h4>
<p>4 hours.</p>



<a name="267130363"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267130363" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267130363">(Jan 06 2022 at 23:38)</a>:</h4>
<p>Better to push and go to bed :-)</p>



<a name="267130372"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267130372" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ccn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267130372">(Jan 06 2022 at 23:38)</a>:</h4>
<p>o | o</p>



<a name="267130437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267130437" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ccn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267130437">(Jan 06 2022 at 23:39)</a>:</h4>
<p>Ok, I'll do the push</p>



<a name="267131025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267131025" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267131025">(Jan 06 2022 at 23:47)</a>:</h4>
<p>You can subscribe to <a class="stream" data-stream-id="113538" href="/#narrow/stream/113538-CI">#CI</a> and see how long it took</p>



<a name="267131059"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267131059" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267131059">(Jan 06 2022 at 23:47)</a>:</h4>
<p>We hit 4 hours for the first time a couple of weeks ago</p>



<a name="267229054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267229054" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ccn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267229054">(Jan 07 2022 at 19:04)</a>:</h4>
<p>So I've just been fixing up some of the other lemmas that depended on <code>finrank K (span K s)</code> and there's one that isn't working 100% </p>
<p><code>finite_dimensional</code> @ 1177:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">finrank_span_set_eq_card</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">set</span> <span class="n">V</span><span class="o">)</span> <span class="o">[</span><span class="n">fin</span> <span class="o">:</span> <span class="n">fintype</span> <span class="n">s</span><span class="o">]</span>
  <span class="o">(</span><span class="n">hs</span> <span class="o">:</span> <span class="n">linear_independent</span> <span class="n">K</span> <span class="o">(</span><span class="n">coe</span> <span class="o">:</span> <span class="n">s</span> <span class="bp">→</span> <span class="n">V</span><span class="o">))</span> <span class="o">:</span>
  <span class="n">s.finrank</span> <span class="n">K</span> <span class="bp">=</span> <span class="n">s.to_finset.card</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">haveI</span> <span class="o">:=</span> <span class="n">span_of_finite</span> <span class="n">K</span> <span class="o">⟨</span><span class="n">fin</span><span class="o">⟩,</span>
  <span class="k">have</span> <span class="o">:</span> <span class="n">module.rank</span> <span class="n">K</span> <span class="o">(</span><span class="n">span</span> <span class="n">K</span> <span class="n">s</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">#</span><span class="n">s</span> <span class="o">:=</span> <span class="n">dim_span_set</span> <span class="n">hs</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="bp">←</span><span class="n">finrank_eq_dim</span><span class="o">,</span> <span class="n">cardinal.mk_fintype</span><span class="o">,</span> <span class="bp">←</span><span class="n">set.to_finset_card</span><span class="o">]</span> <span class="n">a</span> <span class="n">t</span> <span class="n">this</span><span class="o">,</span>
  <span class="n">exact_mod_cast</span> <span class="n">this</span>
<span class="kd">end</span>
</code></pre></div>
<p>It seems like since I changed line 1179 to use <code>s.finrank K</code> that what it's trying to prove becomes a little different and causes the proof that they had to not solve it anymore:</p>
<p><a href="/user_uploads/3121/3uUmN7qYk6UtO_MsPVYAJj4m/Peek-2022-01-07-14-02.gif">Peek-2022-01-07-14-02.gif</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/3uUmN7qYk6UtO_MsPVYAJj4m/Peek-2022-01-07-14-02.gif" title="Peek-2022-01-07-14-02.gif"><img src="/user_uploads/3121/3uUmN7qYk6UtO_MsPVYAJj4m/Peek-2022-01-07-14-02.gif"></a></div><p>I think I would need to modify this line in some way: </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code>  <span class="k">have</span> <span class="o">:</span> <span class="n">module.rank</span> <span class="n">K</span> <span class="o">(</span><span class="n">span</span> <span class="n">K</span> <span class="n">s</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">#</span><span class="n">s</span> <span class="o">:=</span> <span class="n">dim_span_set</span> <span class="n">hs</span><span class="o">,</span>
</code></pre></div>



<a name="267229346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267229346" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ccn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267229346">(Jan 07 2022 at 19:06)</a>:</h4>
<p>I tried this out to try to fix it, but it didn't work: <a href="/user_uploads/3121/Eh_ILlKR35PIWe7cbp5BhnlO/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/Eh_ILlKR35PIWe7cbp5BhnlO/image.png" title="image.png"><img src="/user_uploads/3121/Eh_ILlKR35PIWe7cbp5BhnlO/image.png"></a></div>



<a name="267232243"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267232243" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267232243">(Jan 07 2022 at 19:31)</a>:</h4>
<p>You might find you want to define <code>s.rank K</code> to match <code>s.finrank K</code></p>



<a name="267236397"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267236397" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ccn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267236397">(Jan 07 2022 at 20:03)</a>:</h4>
<p>Ah I see what you're hinting at</p>



<a name="267237222"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267237222" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ccn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267237222">(Jan 07 2022 at 20:11)</a>:</h4>
<p>Would <code>section rank</code> be a good place to store this? <a href="/user_uploads/3121/WK5w674IiLlbHWqaAal5i5s_/Peek-2022-01-07-15-11.gif">Peek-2022-01-07-15-11.gif</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/WK5w674IiLlbHWqaAal5i5s_/Peek-2022-01-07-15-11.gif" title="Peek-2022-01-07-15-11.gif"><img src="/user_uploads/3121/WK5w674IiLlbHWqaAal5i5s_/Peek-2022-01-07-15-11.gif"></a></div>



<a name="267237418"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267237418" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ccn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267237418">(Jan 07 2022 at 20:13)</a>:</h4>
<p>My definition of <code>s.finrank K</code> was in <code>section span</code> of <code>finite_dimensional.lean</code> maybe, I should make a similar section in <code>dimension.lean</code> (that's where rank is stored) but there is no section about span there. What do you think</p>



<a name="267238364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267238364" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267238364">(Jan 07 2022 at 20:22)</a>:</h4>
<p>Just an idea, I think it's easier for people to provide more precise feedback once you actually open the PR <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="267238398"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267238398" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267238398">(Jan 07 2022 at 20:22)</a>:</h4>
<p>It's already open I think?</p>



<a name="267238587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267238587" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267238587">(Jan 07 2022 at 20:24)</a>:</h4>
<p>I'm starting to think though that the right thing to do might be to not change any other lemmas at all, and add <code>set.finrank</code> solely for the purpose of the undergrad yaml</p>



<a name="267238689"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267238689" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267238689">(Jan 07 2022 at 20:25)</a>:</h4>
<p>Because otherwise you can't apply lemmas like <code>submodule.span_image</code> to <code>(e '' s).finrank</code>, which you could apply to <code>finrank (span R (e '' s))</code></p>



<a name="267238801"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267238801" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ccn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267238801">(Jan 07 2022 at 20:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113489-new-members/topic/First.20Time.20Contributing/near/267238398">said</a>:</p>
<blockquote>
<p>It's already open I think?</p>
</blockquote>
<p>It is already open: <a href="https://github.com/leanprover-community/mathlib/pull/11290">https://github.com/leanprover-community/mathlib/pull/11290</a></p>



<a name="267238834"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267238834" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267238834">(Jan 07 2022 at 20:26)</a>:</h4>
<p>You can write <a href="https://github.com/leanprover-community/mathlib/pull/11290">#11290</a> in Zulip and it will link it for you :)</p>



<a name="267238841"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267238841" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ccn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267238841">(Jan 07 2022 at 20:27)</a>:</h4>
<p>Oh neat</p>



<a name="267239434"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267239434" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ccn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267239434">(Jan 07 2022 at 20:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113489-new-members/topic/First.20Time.20Contributing/near/267238587">said</a>:</p>
<blockquote>
<p>I'm starting to think though that the right thing to do might be to not change any other lemmas at all, and add <code>set.finrank</code> solely for the purpose of the undergrad yaml</p>
</blockquote>
<p>Yeah, it looks like it might need some design work to make it fit in with all the other existing proofs, It should still be useful though right? For future proof writers?</p>



<a name="267239747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267239747" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ccn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267239747">(Jan 07 2022 at 20:35)</a>:</h4>
<p>For the rollback would you want me to remove it from all of the proofs or just the ones it isn't compatible with right now?</p>



<a name="267243514"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267243514" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267243514">(Jan 07 2022 at 21:12)</a>:</h4>
<p>I'm suggesting remove it from everywhere, but I'd encourage getting more opinions first</p>



<a name="267314996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267314996" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ccn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267314996">(Jan 08 2022 at 20:55)</a>:</h4>
<p>I'm getting this issue: <a href="/user_uploads/3121/vXcjLziPllWhlKCQyVbxs0oA/image.png">image.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/3121/vXcjLziPllWhlKCQyVbxs0oA/image.png" title="image.png"><img src="/user_uploads/3121/vXcjLziPllWhlKCQyVbxs0oA/image.png"></a></div><p>Here's the definition I have right now: </p>
<p><code>finite_dimensional.lean</code></p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="sd">/-- The rank of a set of vectors as a natural number. -/</span>
<span class="kn">protected</span> <span class="kd">noncomputable</span> <span class="kd">def</span> <span class="n">set.finrank</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">set</span> <span class="n">V</span><span class="o">)</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="o">:=</span> <span class="n">finrank</span> <span class="n">K</span> <span class="o">(</span><span class="n">span</span> <span class="n">K</span> <span class="n">s</span><span class="o">)</span>
</code></pre></div>



<a name="267315340"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267315340" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267315340">(Jan 08 2022 at 21:02)</a>:</h4>
<p>Is your declaration in the finite_dimensional namespace? If it isn't contained within the lines</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">namespace</span> <span class="n">finite_dimensional</span>
<span class="bp">...</span>
<span class="kd">end</span> <span class="n">finite_dimensional</span>
</code></pre></div>
<p>it's name will just be <code>set.finrank</code> no matter which file it is in</p>



<a name="267315491"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/First%20Time%20Contributing/near/267315491" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ccn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/First.20Time.20Contributing.html#267315491">(Jan 08 2022 at 21:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="127136">Alex J. Best</span> <a href="#narrow/stream/113489-new-members/topic/First.20Time.20Contributing/near/267315340">said</a>:</p>
<blockquote>
<p>Is your declaration in the finite_dimensional namespace? If it isn't contained within the lines</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">namespace</span> <span class="n">finite_dimensional</span>
<span class="bp">...</span>
<span class="kd">end</span> <span class="n">finite_dimensional</span>
</code></pre></div>
<p>it's name will just be <code>set.finrank</code> no matter which file it is in</p>
</blockquote>
<p>Ah you're correct it is outside of that scope, I've made the modifications so hopefully it will pass the CI tests now, thanks</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>