---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html">how to write a superscript quickly?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="202397181"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202397181" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris M <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202397181">(Jun 30 2020 at 05:33)</a>:</h4>
<p>I want to write a^{-1}. How do I do this in lean?</p>



<a name="202397230"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202397230" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shing Tak Lam <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202397230">(Jun 30 2020 at 05:34)</a>:</h4>
<p><code>\inv</code></p>



<a name="202397231"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202397231" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris M <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202397231">(Jun 30 2020 at 05:34)</a>:</h4>
<p>cool</p>



<a name="202397667"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202397667" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202397667">(Jun 30 2020 at 05:47)</a>:</h4>
<p>Also <code>\-1</code></p>



<a name="202411007"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202411007" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202411007">(Jun 30 2020 at 09:09)</a>:</h4>
<p>Also -- if you hover the mouse over any symbol in VSCode, the tooltip will tell you how to type it.</p>



<a name="202411304"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202411304" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202411304">(Jun 30 2020 at 09:12)</a>:</h4>
<p>Is there a reason vscode has no methanism to type <code>ᵥ</code>?</p>



<a name="202411347"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202411347" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202411347">(Jun 30 2020 at 09:12)</a>:</h4>
<p>Probably because nobody wrote a PR that adds it to <code>translations.json</code></p>



<a name="202411402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202411402" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202411402">(Jun 30 2020 at 09:13)</a>:</h4>
<p>Mind linking to that file on github?</p>



<a name="202411468"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202411468" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shing Tak Lam <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202411468">(Jun 30 2020 at 09:14)</a>:</h4>
<p><a href="https://github.com/leanprover/vscode-lean/blob/master/translations.json">https://github.com/leanprover/vscode-lean/blob/master/translations.json</a> (I think)</p>



<a name="202411483"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202411483" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202411483">(Jun 30 2020 at 09:14)</a>:</h4>
<p>It also puzzles me that <code>\_</code> produces <code>ₐ</code> (<code>\_a</code>)</p>



<a name="202411571"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202411571" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202411571">(Jun 30 2020 at 09:15)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="266440">@Shing Tak Lam</span>. Looks like <span class="user-mention" data-user-id="296911">@Utensil Song</span> beat me to it: <a href="https://github.com/leanprover/vscode-lean/blame/670606ba0ab2ae668b431169aa81e8f77b1c2d78/translations.json#L1284">https://github.com/leanprover/vscode-lean/blame/670606ba0ab2ae668b431169aa81e8f77b1c2d78/translations.json#L1284</a></p>



<a name="202411866"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202411866" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202411866">(Jun 30 2020 at 09:19)</a>:</h4>
<p>When you write a prefix of a valid shortcut it uses the first one that matches</p>



<a name="202411887"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202411887" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202411887">(Jun 30 2020 at 09:19)</a>:</h4>
<p>Would it be reasonable to do that only if there are not multiple tied shortest ones?</p>



<a name="202411904"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202411904" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202411904">(Jun 30 2020 at 09:19)</a>:</h4>
<p>why? It's still better than nothing</p>



<a name="202411983"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202411983" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202411983">(Jun 30 2020 at 09:20)</a>:</h4>
<p>and you can train your muscle memory to it regardless of how weird it is</p>



<a name="202412056"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202412056" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202412056">(Jun 30 2020 at 09:21)</a>:</h4>
<p>Until someone adds a new shortcut that happens to be the same length as an existing one but alphabetically sooner</p>



<a name="202412060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202412060" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202412060">(Jun 30 2020 at 09:22)</a>:</h4>
<p>And then the muscle memory breaks</p>



<a name="202412127"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202412127" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202412127">(Jun 30 2020 at 09:22)</a>:</h4>
<p>sure, which is why changes to <code>translations.json</code> shouldn't be taken lightly</p>



<a name="202412161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202412161" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202412161">(Jun 30 2020 at 09:22)</a>:</h4>
<p>in most common cases we also have duplicates for prefixes when we want to calibrate this behavior</p>



<a name="202412206"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202412206" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202412206">(Jun 30 2020 at 09:23)</a>:</h4>
<p>but I think if the file was closed under taking prefixes it would be about 200-300% larger</p>



<a name="202412212"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202412212" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202412212">(Jun 30 2020 at 09:23)</a>:</h4>
<p>Just for context for anyone else reading, these are the lines in question that I'm worried about</p>
<p><a href="https://github.com/leanprover/vscode-lean/blob/66952a2fd27b3821ef4f67ad4b55e99f6a3991ab/src/input.ts#L262-L267">https://github.com/leanprover/vscode-lean/blob/66952a2fd27b3821ef4f67ad4b55e99f6a3991ab/src/input.ts#L262-L267</a></p>



<a name="202412299"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202412299" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202412299">(Jun 30 2020 at 09:24)</a>:</h4>
<p>Looking at that code, it's also deterministic based on the order they appear in the file</p>



<a name="202412316"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202412316" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202412316">(Jun 30 2020 at 09:24)</a>:</h4>
<p>so you can calibrate preferences by reordering too</p>



<a name="202412402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202412402" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202412402">(Jun 30 2020 at 09:25)</a>:</h4>
<p>I'm not certain that's true - from what I can tell, keys that look like numbers are shuffled, at least in some javascript implementations</p>



<a name="202412554"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202412554" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202412554">(Jun 30 2020 at 09:26)</a>:</h4>
<p>I don't think that's a major issue since the only keys that look like numbers are <code>\0</code> ...<code>\9</code> which have no proper prefixes</p>



<a name="202412653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202412653" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202412653">(Jun 30 2020 at 09:28)</a>:</h4>
<p>you might be right though if this is stored as a hashmap</p>



<a name="202412781"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202412781" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202412781">(Jun 30 2020 at 09:29)</a>:</h4>
<p>Anyway, the way I would look at it is that <code>\_</code> is unassigned, so by luck it currently resolves to <code>\_a</code>. If that's what you wanted, great, otherwise maybe say what you mean or come up with something better that <code>\_</code> should resolve to</p>



<a name="202413139"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202413139" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202413139">(Jun 30 2020 at 09:33)</a>:</h4>
<p>What bugs me is I normally type <code>\_</code> by accident due to hitting space too soon or something, and having it complete as <code>a</code> makes me squint to work out what happened.</p>



<a name="202413416"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202413416" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202413416">(Jun 30 2020 at 09:36)</a>:</h4>
<p>generally whenever you write <code>\...</code> it will complete to a character if and only if you write a space. If you didn't finish writing the sequence you wanted then you probably got the wrong character</p>



<a name="202413450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202413450" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202413450">(Jun 30 2020 at 09:36)</a>:</h4>
<p>if you learn the shortest sequence then that's basically true by definition</p>



<a name="202413536"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202413536" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202413536">(Jun 30 2020 at 09:37)</a>:</h4>
<p>If the issue is that you don't realize that you typed <code>\_a</code> instead of <code>\_v</code> and can't see the difference between the characters, then that's probably overuse of unicode or a bad font</p>



<a name="202413610"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202413610" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202413610">(Jun 30 2020 at 09:38)</a>:</h4>
<p>That's a fair comment</p>



<a name="202413673"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202413673" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202413673">(Jun 30 2020 at 09:38)</a>:</h4>
<p>One thing I'd perhaps propose is to allow blacklisting sequences as <code>"_": null,</code> in that file. If the shortest sequence matches a blacklisted one, then perform no replacement.</p>



<a name="202413717"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202413717" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202413717">(Jun 30 2020 at 09:39)</a>:</h4>
<p>But essentially I'm describing damage control for my own clumsy typing...</p>



<a name="202413833"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202413833" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202413833">(Jun 30 2020 at 09:40)</a>:</h4>
<p>An easy way to accomplish that would be <code>"_": "\_"</code></p>



<a name="202413869"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202413869" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202413869">(Jun 30 2020 at 09:41)</a>:</h4>
<p>It would be nice if users could add their own translations via vscode settings</p>



<a name="202413883"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202413883" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202413883">(Jun 30 2020 at 09:41)</a>:</h4>
<p>maybe they already can, I'm not sure</p>



<a name="202413889"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202413889" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202413889">(Jun 30 2020 at 09:41)</a>:</h4>
<p>Allowing customization sounds hard given we just decided they were ordered</p>



<a name="202413932"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202413932" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202413932">(Jun 30 2020 at 09:41)</a>:</h4>
<p>Your approach feels like a (effective) hack, changing the typescript to allow null would be fairly trivial</p>



<a name="202413979"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202413979" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202413979">(Jun 30 2020 at 09:42)</a>:</h4>
<p>On startup it would read the settings and overwrite all the global translations as directed</p>



<a name="202413999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202413999" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202413999">(Jun 30 2020 at 09:42)</a>:</h4>
<p>I don't deny it is a hack</p>



<a name="202414012"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202414012" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202414012">(Jun 30 2020 at 09:42)</a>:</h4>
<p>Ah, so tell users to start by copying the entire translations.json, rather than attempting to merge user translation settings with upstream ones</p>



<a name="202414024"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202414024" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202414024">(Jun 30 2020 at 09:42)</a>:</h4>
<p>If you want to support that in vscode, PR's are welcome</p>



<a name="202414065"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202414065" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202414065">(Jun 30 2020 at 09:43)</a>:</h4>
<p>No, I'm saying merge settings</p>



<a name="202414066"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202414066" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202414066">(Jun 30 2020 at 09:43)</a>:</h4>
<p>Just thought I'd float the idea before bothering with a PR. If it keeps bugging me, I'll make one :)</p>



<a name="202414267"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202414267" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202414267">(Jun 30 2020 at 09:45)</a>:</h4>
<p>like if translations.json has <code>{"a": "A", "b": "B", "d": "D"}</code> and settings.json has <code>"lean.translations_override": {"a": "C", "b": null, "c": "C"}</code> then it behaves as though it was given <code>{"a": "C", "b": null, "c": "C", "d": "D"}</code></p>



<a name="202414377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202414377" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202414377">(Jun 30 2020 at 09:46)</a>:</h4>
<p>so if the underscore thing bothers you then you can add <code>{"_": null}</code> to your local settings and translations.json doesn't have to change</p>



<a name="202414405"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202414405" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202414405">(Jun 30 2020 at 09:46)</a>:</h4>
<p>and you still get the benefit of future changes to translations.json</p>



<a name="202414636"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202414636" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202414636">(Jun 30 2020 at 09:49)</a>:</h4>
<p>How does your merger decide at what position to insert <code>c</code>?</p>



<a name="202417196"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202417196" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202417196">(Jun 30 2020 at 10:21)</a>:</h4>
<p>This already exists in vscode: eg </p>
<div class="codehilite"><pre><span></span><code>    <span class="s2">&quot;lean.input.customTranslations&quot;</span><span class="o">:</span> <span class="o">{</span>
        <span class="s2">&quot;a&quot;</span><span class="o">:</span> <span class="s2">&quot;α&quot;</span><span class="o">,</span>
        <span class="s2">&quot;al&quot;</span><span class="o">:</span> <span class="s2">&quot;α&quot;</span><span class="o">,</span> <span class="s2">&quot;be&quot;</span><span class="o">:</span> <span class="s2">&quot;β&quot;</span><span class="o">,</span> <span class="s2">&quot;ga&quot;</span><span class="o">:</span> <span class="s2">&quot;γ&quot;</span><span class="o">,</span> <span class="s2">&quot;de&quot;</span><span class="o">:</span> <span class="s2">&quot;δ&quot;</span><span class="o">,</span> <span class="s2">&quot;ep&quot;</span><span class="o">:</span> <span class="s2">&quot;ε&quot;</span><span class="o">,</span> <span class="s2">&quot;ze&quot;</span><span class="o">:</span> <span class="s2">&quot;ζ&quot;</span><span class="o">,</span>
        <span class="s2">&quot;et&quot;</span><span class="o">:</span> <span class="s2">&quot;η&quot;</span><span class="o">,</span> <span class="s2">&quot;th&quot;</span><span class="o">:</span> <span class="s2">&quot;θ&quot;</span><span class="o">,</span> <span class="s2">&quot;io&quot;</span><span class="o">:</span> <span class="s2">&quot;ι&quot;</span><span class="o">,</span> <span class="s2">&quot;ka&quot;</span><span class="o">:</span> <span class="s2">&quot;κ&quot;</span><span class="o">,</span> <span class="s2">&quot;la&quot;</span><span class="o">:</span> <span class="s2">&quot;λ&quot;</span><span class="o">,</span> <span class="s2">&quot;mu&quot;</span><span class="o">:</span> <span class="s2">&quot;μ&quot;</span><span class="o">,</span>
        <span class="s2">&quot;nu&quot;</span><span class="o">:</span> <span class="s2">&quot;ν&quot;</span><span class="o">,</span> <span class="s2">&quot;xi&quot;</span><span class="o">:</span> <span class="s2">&quot;ξ&quot;</span><span class="o">,</span> <span class="s2">&quot;pi&quot;</span><span class="o">:</span> <span class="s2">&quot;π&quot;</span><span class="o">,</span> <span class="s2">&quot;rh&quot;</span><span class="o">:</span> <span class="s2">&quot;ρ&quot;</span><span class="o">,</span> <span class="s2">&quot;si&quot;</span><span class="o">:</span> <span class="s2">&quot;σ&quot;</span><span class="o">,</span>
        <span class="s2">&quot;ta&quot;</span><span class="o">:</span> <span class="s2">&quot;τ&quot;</span><span class="o">,</span> <span class="s2">&quot;ph&quot;</span><span class="o">:</span> <span class="s2">&quot;φ&quot;</span><span class="o">,</span> <span class="s2">&quot;ch&quot;</span><span class="o">:</span> <span class="s2">&quot;χ&quot;</span><span class="o">,</span> <span class="s2">&quot;ps&quot;</span><span class="o">:</span> <span class="s2">&quot;ψ&quot;</span><span class="o">,</span> <span class="s2">&quot;om&quot;</span><span class="o">:</span> <span class="s2">&quot;ω&quot;</span><span class="o">,</span>
    <span class="bp">...</span>
    <span class="o">}</span>
</code></pre></div>



<a name="202417254"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202417254" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202417254">(Jun 30 2020 at 10:21)</a>:</h4>
<p>then vscode will merge the translation files, with the ones in customTranslations clobbering the other</p>



<a name="202417656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202417656" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202417656">(Jun 30 2020 at 10:26)</a>:</h4>
<p>although there is no <code>null</code> support as of yet</p>



<a name="202418301"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202418301" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202418301">(Jun 30 2020 at 10:34)</a>:</h4>
<p>To be clear with my point about clobbering - javascript objects are ordered dictionaries, so there's not a unique definition of what merging looks like</p>



<a name="202418624"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202418624" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202418624">(Jun 30 2020 at 10:38)</a>:</h4>
<p>I think in the sourcecode it is just <code>{...globalTranslations, ...customTranslations}</code>, so they are treated as unordered here.</p>



<a name="202418759"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202418759" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202418759">(Jun 30 2020 at 10:40)</a>:</h4>
<p>That results in the order being (assuming VScode matches chrome):</p>
<ul>
<li>Existing keys keep their order</li>
<li>custom keys are added last (so will never win ties)</li>
</ul>



<a name="202418814"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202418814" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202418814">(Jun 30 2020 at 10:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="121918">Edward Ayers</span> <a href="#narrow/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F/near/202417656">said</a>:</p>
<blockquote>
<p>although there is no <code>null</code> support as of yet</p>
</blockquote>
<p>Reading the source, it looks like it is implicitly already supported.</p>



<a name="202418942"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202418942" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202418942">(Jun 30 2020 at 10:43)</a>:</h4>
<p>No custom keys always win ties.</p>



<a name="202419063"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202419063" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202419063">(Jun 30 2020 at 10:44)</a>:</h4>
<p><code>{...{d: 1, c:2, b:3}, ...{c:3, a:5}}</code> results in <code>{d: 1, c: 3, b: 3, a: 5}</code> with the key <code>a</code> being last. The lines I link to above show the earliest element is used to break ties.</p>



<a name="202419621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202419621" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202419621">(Jun 30 2020 at 10:52)</a>:</h4>
<p>I believe Javascript objects are unordered dictionaries so it doesn't matter where <code>a</code> appears in the resulting object. The important thing is that in your example <code>c:3</code> clobbers <code>c:2</code> .</p>



<a name="202419681"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202419681" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202419681">(Jun 30 2020 at 10:53)</a>:</h4>
<p>If that were true there would be bigger problems for breaking ties, since the completer is affected by their iteration order.</p>



<a name="202419984"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202419984" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202419984">(Jun 30 2020 at 10:57)</a>:</h4>
<p>Ah I see what you mean, in the case that the string is not an exact match it iterates through the object so the iteration order matters. In the implementation, it takes the shortest completion so there is only iteration-order-dependence if there are two completions with the same length and the same prefix.</p>



<a name="202420045"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202420045" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202420045">(Jun 30 2020 at 10:58)</a>:</h4>
<p>Yes, and that case is what this conversation started as :)</p>



<a name="202422120"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202422120" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202422120">(Jun 30 2020 at 11:24)</a>:</h4>
<p>But if you add your own custom translation for a prefix then you don't have to worry about tiebreak behavior</p>



<a name="202422487"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20to%20write%20a%20superscript%20quickly%3F/near/202422487" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20to.20write.20a.20superscript.20quickly.3F.html#202422487">(Jun 30 2020 at 11:28)</a>:</h4>
<p>Custom translations supports null with this PR: <a href="https://github.com/leanprover/vscode-lean/pull/197">https://github.com/leanprover/vscode-lean/pull/197</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>