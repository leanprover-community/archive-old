---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Dealing.20with.20empty.20lists.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dealing.20with.20empty.20lists.html">Dealing with empty lists</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="303059681"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dealing%20with%20empty%20lists/near/303059681" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nam <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dealing.20with.20empty.20lists.html#303059681">(Oct 08 2022 at 20:12)</a>:</h4>
<p>Hi folks, how do you often deal with empty lists. For example, how do you write List.min?</p>



<a name="303059717"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dealing%20with%20empty%20lists/near/303059717" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dealing.20with.20empty.20lists.html#303059717">(Oct 08 2022 at 20:13)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/list.min">docs#list.min</a></p>



<a name="303059730"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dealing%20with%20empty%20lists/near/303059730" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dealing.20with.20empty.20lists.html#303059730">(Oct 08 2022 at 20:13)</a>:</h4>
<p>That function doesn't exist. What do you mean by it?</p>



<a name="303059753"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dealing%20with%20empty%20lists/near/303059753" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nam <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dealing.20with.20empty.20lists.html#303059753">(Oct 08 2022 at 20:13)</a>:</h4>
<p>Do you use subtype to restrict a list to non-empty, or use Maybe in the result?</p>



<a name="303059819"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dealing%20with%20empty%20lists/near/303059819" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dealing.20with.20empty.20lists.html#303059819">(Oct 08 2022 at 20:14)</a>:</h4>
<p>Perhaps I can second guess your question. <a href="https://leanprover-community.github.io/mathlib_docs/find/list.nth">docs#list.nth</a> exists, and has type <code>list α → ℕ → option α</code>, so it returns the n'th element of the list if it exists and <code>none</code> otherwise. Is this what you're asking?</p>



<a name="303059825"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dealing%20with%20empty%20lists/near/303059825" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nam <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dealing.20with.20empty.20lists.html#303059825">(Oct 08 2022 at 20:14)</a>:</h4>
<p>Ah, yes, that function does not exist. I meant to write a function that returns the minimum value from a List</p>



<a name="303059881"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dealing%20with%20empty%20lists/near/303059881" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dealing.20with.20empty.20lists.html#303059881">(Oct 08 2022 at 20:15)</a>:</h4>
<p>On the other hand <a href="https://leanprover-community.github.io/mathlib_docs/find/list.head">docs#list.head</a> has type <code>list α → α</code> but also the assumption <code> [inhabited α]</code> which means it can return the "default element" of alpha if the list is empty.</p>



<a name="303059977"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dealing%20with%20empty%20lists/near/303059977" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dealing.20with.20empty.20lists.html#303059977">(Oct 08 2022 at 20:16)</a>:</h4>
<p>The real answer to your question is probably "yes we can do all of those things and indeed we do do all of those things".</p>



<a name="303060009"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dealing%20with%20empty%20lists/near/303060009" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dealing.20with.20empty.20lists.html#303060009">(Oct 08 2022 at 20:17)</a>:</h4>
<p>For example as well as <a href="https://leanprover-community.github.io/mathlib_docs/find/list.nth">docs#list.nth</a> we have <a href="https://leanprover-community.github.io/mathlib_docs/find/list.nth_le">docs#list.nth_le</a> which asks for a proof and in return doesn't return an <code>option</code>.</p>



<a name="303060130"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dealing%20with%20empty%20lists/near/303060130" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nam <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dealing.20with.20empty.20lists.html#303060130">(Oct 08 2022 at 20:18)</a>:</h4>
<p>Oh, interesting. Thank you Kevin. Which way do you think is used more often?</p>



<a name="303060146"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dealing%20with%20empty%20lists/near/303060146" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dealing.20with.20empty.20lists.html#303060146">(Oct 08 2022 at 20:19)</a>:</h4>
<p>I'm sure that this will depend on what you want to do.</p>



<a name="303060167"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dealing%20with%20empty%20lists/near/303060167" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nam <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dealing.20with.20empty.20lists.html#303060167">(Oct 08 2022 at 20:19)</a>:</h4>
<p>Is there a way to tell Lean that "trust me, my lists are non-empty"?</p>



<a name="303060303"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dealing%20with%20empty%20lists/near/303060303" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dealing.20with.20empty.20lists.html#303060303">(Oct 08 2022 at 20:21)</a>:</h4>
<p>You can take a proof as an argument as in <a href="https://leanprover-community.github.io/mathlib_docs/find/finset.min'">docs#finset.min'</a></p>



<a name="303060312"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dealing%20with%20empty%20lists/near/303060312" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dealing.20with.20empty.20lists.html#303060312">(Oct 08 2022 at 20:21)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/finset.min">docs#finset.min</a> instead returns <code>with_top</code> which is essentially <code>option</code>.</p>



<a name="303060533"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dealing%20with%20empty%20lists/near/303060533" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nam <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dealing.20with.20empty.20lists.html#303060533">(Oct 08 2022 at 20:24)</a>:</h4>
<p>Yes, I can provide Lean with a proof (or just admit such cases). I guess what I am wondering is if there is a way that I do not need to do that, that Lean does not need to check for such cases?</p>



<a name="303061043"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dealing%20with%20empty%20lists/near/303061043" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dealing.20with.20empty.20lists.html#303061043">(Oct 08 2022 at 20:31)</a>:</h4>
<p>I guess no unless you want Lean to be able to verify a proof of <code>false</code> :)</p>



<a name="303061706"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dealing%20with%20empty%20lists/near/303061706" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dealing.20with.20empty.20lists.html#303061706">(Oct 08 2022 at 20:42)</a>:</h4>
<p>You can't just promise that your list is nonempty, however you can demand that your function takes as input a proof that the list is nonempty, a bit like nth_le above.</p>



<a name="303061776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dealing%20with%20empty%20lists/near/303061776" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dealing.20with.20empty.20lists.html#303061776">(Oct 08 2022 at 20:43)</a>:</h4>
<p>This isn't Haskell, this is a theorem prover, and it's really important that you can't prove false things by abusing a function.</p>



<a name="303066389"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dealing%20with%20empty%20lists/near/303066389" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruizhe Wan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dealing.20with.20empty.20lists.html#303066389">(Oct 08 2022 at 21:45)</a>:</h4>
<p>This is a question about the Natural number game (Sorry I don't know if this is the right place to post it but I could not find otherwhere to ask, and I think some people here shall be familiar with the game): in trying to use the add_left_cancel theorem to get from h2 to the goal, it says that the type of h2 should be mynat instead of Prop, which I think is problematic? I have also tried to just repeat again the proofs of all the theorems I need, but at the end I could not use induction on (a * d), so this doesn't work either, does anyone have some hint of it?<br>
<a href="/user_uploads/3121/XwbSmhDGxubP00qUErQo95nI/SharedScreenshot.jpg">SharedScreenshot.jpg</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/XwbSmhDGxubP00qUErQo95nI/SharedScreenshot.jpg" title="SharedScreenshot.jpg"><img src="/user_uploads/3121/XwbSmhDGxubP00qUErQo95nI/SharedScreenshot.jpg"></a></div>



<a name="303066829"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dealing%20with%20empty%20lists/near/303066829" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dealing.20with.20empty.20lists.html#303066829">(Oct 08 2022 at 21:51)</a>:</h4>
<p>This is the right stream, but this is a thread about empty lists. You should make a new topic, or find an old natural number game topic, and I'll answer your question there.</p>



<a name="303066844"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dealing%20with%20empty%20lists/near/303066844" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruizhe Wan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dealing.20with.20empty.20lists.html#303066844">(Oct 08 2022 at 21:51)</a>:</h4>
<p>ok</p>



<a name="303068946"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dealing%20with%20empty%20lists/near/303068946" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Diamond <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dealing.20with.20empty.20lists.html#303068946">(Oct 08 2022 at 22:22)</a>:</h4>
<p><span class="user-mention" data-user-id="284601">@Nam</span> I don't think anyone mentioned this, but we have <a href="https://leanprover-community.github.io/mathlib_docs/find/list.minimum">docs#list.minimum</a>... the caveat is that it may return <code>⊤</code> (which is represented by <code>option.none</code>) if the list is empty</p>



<a name="303069657"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dealing%20with%20empty%20lists/near/303069657" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Diamond <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dealing.20with.20empty.20lists.html#303069657">(Oct 08 2022 at 22:33)</a>:</h4>
<p>If you want to specify a default value to handle the case of an empty list, you can use <a href="https://leanprover-community.github.io/mathlib_docs/find/with_top.untop'">docs#with_top.untop'</a> with the resulting value</p>



<a name="303069818"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dealing%20with%20empty%20lists/near/303069818" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Diamond <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dealing.20with.20empty.20lists.html#303069818">(Oct 08 2022 at 22:36)</a>:</h4>
<p>so in theory you could do <code>myList.minimum.untop' 0</code> and you would get the minimum back or 0 if the list is empty</p>



<a name="303934782"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dealing%20with%20empty%20lists/near/303934782" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nam <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dealing.20with.20empty.20lists.html#303934782">(Oct 13 2022 at 22:33)</a>:</h4>
<p>How do I force the \a of an empty List \a?</p>



<a name="303935101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dealing%20with%20empty%20lists/near/303935101" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nam <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dealing.20with.20empty.20lists.html#303935101">(Oct 13 2022 at 22:35)</a>:</h4>
<p>[] can be any List a, or List b. If the function does not have anything else that can bind or resolve a or b, how can I help Lean know what a or b is from an empty list []?</p>



<a name="303935293"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dealing%20with%20empty%20lists/near/303935293" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dealing.20with.20empty.20lists.html#303935293">(Oct 13 2022 at 22:37)</a>:</h4>
<p><code>([] : list \a)</code></p>



<a name="303935300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dealing%20with%20empty%20lists/near/303935300" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nam <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dealing.20with.20empty.20lists.html#303935300">(Oct 13 2022 at 22:37)</a>:</h4>
<p>For example, <code>#check List.concat [] []</code> cannot resolve the type parameter</p>



<a name="303935320"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dealing%20with%20empty%20lists/near/303935320" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nam <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dealing.20with.20empty.20lists.html#303935320">(Oct 13 2022 at 22:37)</a>:</h4>
<p>oh, let me try. thank you.</p>



<a name="303935410"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dealing%20with%20empty%20lists/near/303935410" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nam <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dealing.20with.20empty.20lists.html#303935410">(Oct 13 2022 at 22:38)</a>:</h4>
<p>ah, yes, that works! thanks again.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>