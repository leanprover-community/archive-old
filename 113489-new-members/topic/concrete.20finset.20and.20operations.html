---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/concrete.20finset.20and.20operations.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html">concrete finset and operations</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="272806572"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272806572" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272806572">(Feb 22 2022 at 14:04)</a>:</h4>
<p>Is this the best way to define a concrete <code>finset</code> ? </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="k">#eval</span> <span class="o">({</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">}</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">ℕ</span> <span class="o">)</span>
</code></pre></div>
<p>I was looking around here: <a href="https://leanprover-community.github.io/mathlib_docs_demo/data/finset/basic.html#finset">https://leanprover-community.github.io/mathlib_docs_demo/data/finset/basic.html#finset</a> but I couldn't see the notation for constructing a concrete finset aside from this:</p>
<blockquote>
<p>Finset constructions</p>
<div class="codehilite"><pre><span></span><code>singleton: Denoted by {a}; the finset consisting of one element.
finset.empty: Denoted by ∅. The finset associated to any type consisting of no elements.
finset.range: For any n : ℕ, range n is equal to {0, 1, ... , n - 1} ⊆ ℕ. This convention is consistent with other languages and normalizes card (range n) = n. Beware, n is not in range n.
finset.attach: Given s : finset α, attach s forms a finset of elements of the subtype {a // a ∈ s}; in other words, it attaches elements to a proof of membership in the set.
</code></pre></div>

</blockquote>



<a name="272807198"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272807198" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272807198">(Feb 22 2022 at 14:09)</a>:</h4>
<p>yes that's a way to construct a finset, although it has some disadvantages since for example it's not obvious that it has cardinality 3</p>



<a name="272807345"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272807345" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272807345">(Feb 22 2022 at 14:10)</a>:</h4>
<p>What are one of the other methods to construct that set?</p>



<a name="272807374"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272807374" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272807374">(Feb 22 2022 at 14:10)</a>:</h4>
<p>If you can construct the set in such a way that nodup is automatically true, then you can use the constructor <code>finset.mk</code> instead</p>



<a name="272807496"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272807496" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272807496">(Feb 22 2022 at 14:11)</a>:</h4>
<p>is <code>.mk</code> a method for any structure?</p>



<a name="272807630"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272807630" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272807630">(Feb 22 2022 at 14:12)</a>:</h4>
<p>Most of the finsets constructed in <code>data.fintype.basic</code> are like this, for example <a href="https://leanprover-community.github.io/mathlib_docs/find/bool.fintype/src">src#bool.fintype</a></p>



<a name="272807683"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272807683" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272807683">(Feb 22 2022 at 14:12)</a>:</h4>
<p><code>finset.mk</code> is the constructor of <code>finset</code></p>



<a name="272807712"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272807712" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272807712">(Feb 22 2022 at 14:13)</a>:</h4>
<p>usually written with angle brackets</p>



<a name="272807749"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272807749" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272807749">(Feb 22 2022 at 14:13)</a>:</h4>
<p>in the linked example, <code>⟨tt ::ₘ ff ::ₘ 0, by simp⟩ : finset bool</code></p>



<a name="272807872"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272807872" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272807872">(Feb 22 2022 at 14:14)</a>:</h4>
<p><code>::ₘ</code> is this notation for appending them together somehow?</p>



<a name="272807888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272807888" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272807888">(Feb 22 2022 at 14:14)</a>:</h4>
<p>that's notation for multiset.cons</p>



<a name="272807935"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272807935" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272807935">(Feb 22 2022 at 14:14)</a>:</h4>
<p>you can also write <code>⟦[1, 2]⟧</code></p>



<a name="272807965"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272807965" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272807965">(Feb 22 2022 at 14:14)</a>:</h4>
<p>Ah I see</p>



<a name="272807974"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272807974" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272807974">(Feb 22 2022 at 14:14)</a>:</h4>
<p>to build a multiset from a list</p>



<a name="272808205"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272808205" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272808205">(Feb 22 2022 at 14:16)</a>:</h4>
<p>So another way of building it could be like : <code> finset.mk ⟦[1, 2, 3]⟧ (by simp)</code> ? ( Looks like it works)</p>



<a name="272808433"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272808433" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272808433">(Feb 22 2022 at 14:18)</a>:</h4>
<p>If I want to get the minimum element of a list I've tried <code>(finset.mk ⟦[1, 2, 3]⟧ (by simp)).min</code> which becomes <code>(some 1)</code> what does <code>some</code> mean?</p>



<a name="272808469"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272808469" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272808469">(Feb 22 2022 at 14:18)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/finset.min">docs#finset.min</a> returns an option</p>



<a name="272808551"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272808551" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272808551">(Feb 22 2022 at 14:19)</a>:</h4>
<p>I just checked out that definition: <a href="/user_uploads/3121/zdW-VmpwQcz3xpPnTAsZbtRZ/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/zdW-VmpwQcz3xpPnTAsZbtRZ/image.png" title="image.png"><img src="/user_uploads/3121/zdW-VmpwQcz3xpPnTAsZbtRZ/image.png"></a></div>



<a name="272808592"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272808592" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272808592">(Feb 22 2022 at 14:19)</a>:</h4>
<p>Could you help me understand that?</p>



<a name="272808635"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272808635" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272808635">(Feb 22 2022 at 14:19)</a>:</h4>
<p>a value of <code>option A</code> is either <code>none</code> or <code>some a</code> where <code>a : A</code></p>



<a name="272808723"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272808723" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272808723">(Feb 22 2022 at 14:20)</a>:</h4>
<p>it is used to indicate the possibility of failure in functions</p>



<a name="272808732"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272808732" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272808732">(Feb 22 2022 at 14:20)</a>:</h4>
<p>I see</p>



<a name="272808751"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272808751" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272808751">(Feb 22 2022 at 14:20)</a>:</h4>
<p>So like if the set was empty</p>



<a name="272808773"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272808773" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272808773">(Feb 22 2022 at 14:20)</a>:</h4>
<p>yes, read the doc</p>



<a name="272808822"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272808822" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272808822">(Feb 22 2022 at 14:21)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/finset.min">docs#finset.min</a></p>



<a name="272808845"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272808845" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272808845">(Feb 22 2022 at 14:21)</a>:</h4>
<p>But since we know our set isn't empty we can do something like this right? <code>finset.min' (finset.mk ⟦[1, 2, 3]⟧ (by simp)) (by simp)</code> ?</p>



<a name="272808885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272808885" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272808885">(Feb 22 2022 at 14:21)</a>:</h4>
<p>you tell me, does it typecheck?</p>



<a name="272808972"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272808972" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272808972">(Feb 22 2022 at 14:22)</a>:</h4>
<p>it evals to <code>1</code> so yes!</p>



<a name="272809001"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272809001" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272809001">(Feb 22 2022 at 14:22)</a>:</h4>
<p>there you have it</p>



<a name="272809014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272809014" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272809014">(Feb 22 2022 at 14:22)</a>:</h4>
<p>Is that really the shortest way to get the min of a non-empty finset though?</p>



<a name="272809092"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272809092" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272809092">(Feb 22 2022 at 14:23)</a>:</h4>
<p>there are other ways to write that expression that are shorter in terms of characters, but that's the function to call</p>



<a name="272809118"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272809118" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272809118">(Feb 22 2022 at 14:23)</a>:</h4>
<p>Ok, I understand</p>



<a name="272809141"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272809141" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272809141">(Feb 22 2022 at 14:23)</a>:</h4>
<p>Thanks for helping me with this</p>



<a name="272810308"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272810308" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272810308">(Feb 22 2022 at 14:31)</a>:</h4>
<p>I'm having some trouble using this feature in a theorem: </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">test</span>
  <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span>
  <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">ℝ</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h₀</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">&lt;</span> <span class="n">i</span> <span class="bp">∧</span> <span class="n">i</span> <span class="bp">&lt;=</span> <span class="mi">7</span><span class="o">)</span> <span class="bp">→</span> <span class="n">a</span> <span class="mi">1</span> <span class="bp">&lt;</span> <span class="n">a</span> <span class="n">i</span> <span class="o">)</span>
  <span class="o">(</span><span class="n">h₁</span> <span class="o">:</span> <span class="n">S</span> <span class="bp">=</span> <span class="o">{</span><span class="n">a</span> <span class="mi">1</span><span class="o">,</span> <span class="n">a</span> <span class="mi">2</span><span class="o">,</span> <span class="n">a</span> <span class="mi">3</span><span class="o">,</span> <span class="n">a</span> <span class="mi">4</span><span class="o">,</span> <span class="n">a</span> <span class="mi">5</span><span class="o">,</span> <span class="n">a</span> <span class="mi">6</span><span class="o">,</span> <span class="n">a</span> <span class="mi">7</span><span class="o">})</span> <span class="o">:</span>
  <span class="n">finset.min'</span> <span class="n">S</span> <span class="o">(</span><span class="kd">by</span> <span class="n">simp</span><span class="o">)</span> <span class="bp">=</span> <span class="n">a</span> <span class="mi">1</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>
<p>The <code>simp</code> doesn't seem to solve it: </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">simplify</span> <span class="n">tactic</span> <span class="n">failed</span> <span class="n">to</span> <span class="n">simplify</span>
<span class="n">state</span><span class="o">:</span>
<span class="n">a</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">S</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">h₃</span> <span class="o">:</span> <span class="n">S</span> <span class="bp">=</span> <span class="o">{</span><span class="n">a</span> <span class="mi">1</span><span class="o">,</span> <span class="n">a</span> <span class="mi">2</span><span class="o">,</span> <span class="n">a</span> <span class="mi">3</span><span class="o">,</span> <span class="n">a</span> <span class="mi">4</span><span class="o">,</span> <span class="n">a</span> <span class="mi">5</span><span class="o">,</span> <span class="n">a</span> <span class="mi">6</span><span class="o">,</span> <span class="n">a</span> <span class="mi">7</span><span class="o">}</span>
<span class="bp">⊢</span> <span class="n">S.nonempty</span>
</code></pre></div>



<a name="272810450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272810450" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272810450">(Feb 22 2022 at 14:33)</a>:</h4>
<p><code>by simp [h₃]</code></p>



<a name="272810519"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272810519" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272810519">(Feb 22 2022 at 14:33)</a>:</h4>
<p>the theorem is also false</p>



<a name="272810670"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272810670" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272810670">(Feb 22 2022 at 14:34)</a>:</h4>
<p>probably you just want to use <code>min</code> instead if the proof is complex though</p>



<a name="272810983"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272810983" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272810983">(Feb 22 2022 at 14:36)</a>:</h4>
<p>Ah ok, so something like this: </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">test</span>
  <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span>
  <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">ℝ</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h₀</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">&lt;</span> <span class="n">i</span> <span class="bp">∧</span> <span class="n">i</span> <span class="bp">&lt;=</span> <span class="mi">7</span><span class="o">)</span> <span class="bp">→</span> <span class="n">a</span> <span class="mi">1</span> <span class="bp">&lt;</span> <span class="n">a</span> <span class="n">i</span> <span class="o">)</span>
  <span class="o">(</span><span class="n">h₁</span> <span class="o">:</span> <span class="n">S</span> <span class="bp">=</span> <span class="o">{</span><span class="n">a</span> <span class="mi">1</span><span class="o">,</span> <span class="n">a</span> <span class="mi">2</span><span class="o">,</span> <span class="n">a</span> <span class="mi">3</span><span class="o">,</span> <span class="n">a</span> <span class="mi">4</span><span class="o">,</span> <span class="n">a</span> <span class="mi">5</span><span class="o">,</span> <span class="n">a</span> <span class="mi">6</span><span class="o">,</span> <span class="n">a</span> <span class="mi">7</span><span class="o">})</span> <span class="o">:</span>
  <span class="n">finset.min</span> <span class="n">S</span> <span class="bp">=</span> <span class="n">a</span> <span class="mi">1</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>



<a name="272811384"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272811384" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272811384">(Feb 22 2022 at 14:39)</a>:</h4>
<p>What if I wanted to do some operation on the <code>finset.min S</code> like this: </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">test</span>
  <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span>
  <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">ℝ</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h₀</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">),</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">&lt;</span> <span class="n">i</span> <span class="bp">∧</span> <span class="n">i</span> <span class="bp">&lt;=</span> <span class="mi">7</span><span class="o">)</span> <span class="bp">→</span> <span class="n">a</span> <span class="mi">1</span> <span class="bp">&lt;</span> <span class="n">a</span> <span class="n">i</span> <span class="o">)</span>
  <span class="o">(</span><span class="n">h₁</span> <span class="o">:</span> <span class="n">S</span> <span class="bp">=</span> <span class="o">{</span><span class="n">a</span> <span class="mi">1</span><span class="o">,</span> <span class="n">a</span> <span class="mi">2</span><span class="o">,</span> <span class="n">a</span> <span class="mi">3</span><span class="o">,</span> <span class="n">a</span> <span class="mi">4</span><span class="o">,</span> <span class="n">a</span> <span class="mi">5</span><span class="o">,</span> <span class="n">a</span> <span class="mi">6</span><span class="o">,</span> <span class="n">a</span> <span class="mi">7</span><span class="o">})</span>
  <span class="o">(</span><span class="n">h₂</span> <span class="o">:</span> <span class="n">a</span> <span class="mi">1</span> <span class="bp">=</span> <span class="mi">30</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">finset.min</span> <span class="n">S</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">10</span> <span class="bp">=</span> <span class="mi">3</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>



<a name="272811498"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272811498" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272811498">(Feb 22 2022 at 14:40)</a>:</h4>
<p>It doesn't seem to work out because the goal state becomes: </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">failed</span> <span class="n">to</span> <span class="n">synthesize</span> <span class="n">type</span> <span class="kd">class</span> <span class="kd">instance</span> <span class="n">for</span>
<span class="n">A</span> <span class="n">a</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">S</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">h₀</span> <span class="o">:</span>
  <span class="n">a</span> <span class="mi">1</span> <span class="bp">=</span> <span class="mi">64</span> <span class="bp">/</span> <span class="mi">25</span> <span class="bp">∧</span>
    <span class="n">a</span> <span class="mi">2</span> <span class="bp">=</span> <span class="mi">261</span> <span class="bp">/</span> <span class="mi">100</span> <span class="bp">∧</span> <span class="n">a</span> <span class="mi">3</span> <span class="bp">=</span> <span class="mi">53</span> <span class="bp">/</span> <span class="mi">20</span> <span class="bp">∧</span> <span class="n">a</span> <span class="mi">4</span> <span class="bp">=</span> <span class="mi">271</span> <span class="bp">/</span> <span class="mi">100</span> <span class="bp">∧</span> <span class="n">a</span> <span class="mi">5</span> <span class="bp">=</span> <span class="mi">279</span> <span class="bp">/</span> <span class="mi">100</span> <span class="bp">∧</span> <span class="n">a</span> <span class="mi">6</span> <span class="bp">=</span> <span class="mi">141</span> <span class="bp">/</span> <span class="mi">50</span> <span class="bp">∧</span> <span class="n">a</span> <span class="mi">7</span> <span class="bp">=</span> <span class="mi">143</span> <span class="bp">/</span> <span class="mi">50</span><span class="o">,</span>
<span class="n">h₁</span> <span class="o">:</span> <span class="bp">∑</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="k">in</span> <span class="n">finset.Icc</span> <span class="mi">1</span> <span class="mi">7</span><span class="o">,</span> <span class="n">A</span> <span class="n">i</span> <span class="bp">=</span> <span class="mi">19</span><span class="o">,</span>
<span class="n">h₃</span> <span class="o">:</span> <span class="n">S</span> <span class="bp">=</span> <span class="o">{</span><span class="n">a</span> <span class="mi">1</span><span class="o">,</span> <span class="n">a</span> <span class="mi">2</span><span class="o">,</span> <span class="n">a</span> <span class="mi">3</span><span class="o">,</span> <span class="n">a</span> <span class="mi">4</span><span class="o">,</span> <span class="n">a</span> <span class="mi">5</span><span class="o">,</span> <span class="n">a</span> <span class="mi">6</span><span class="o">,</span> <span class="n">a</span> <span class="mi">7</span><span class="o">}</span>
<span class="bp">⊢</span> <span class="n">has_add</span> <span class="o">(</span><span class="n">option</span> <span class="n">ℝ</span><span class="o">)</span>
</code></pre></div>



<a name="272811559"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272811559" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272811559">(Feb 22 2022 at 14:41)</a>:</h4>
<p>The examples are very contrived, but you would do something like <code>\exists s \in S.min, s/10 = 3</code></p>



<a name="272811960"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272811960" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272811960">(Feb 22 2022 at 14:44)</a>:</h4>
<p>So <code>S.min : option R</code>, but what allows us to use the <code>\in</code> operator on that?</p>



<a name="272812057"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/concrete%20finset%20and%20operations/near/272812057" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/concrete.20finset.20and.20operations.html#272812057">(Feb 22 2022 at 14:44)</a>:</h4>
<p>there is an instance of <code>has_mem A (option A)</code></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>