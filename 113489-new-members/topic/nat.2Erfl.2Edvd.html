---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/nat.2Erfl.2Edvd.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html">nat.rfl.dvd</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="233792542"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233792542" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233792542">(Apr 09 2021 at 09:35)</a>:</h4>
<p>Dear All,</p>
<p>I wanted to extract the lemma below about natural numbers from PR <a href="https://github.com/leanprover-community/mathlib/issues/7082">#7082</a>.  The natural place would seem  to be <code>data/nat/lemmas</code>.  As you can see, the proof uses <code>dvd_refl</code> which is the statement <code>n | n</code>.  However, this lemma appears in larger generality and is not imported by <code>data/nat/lemmas</code>.  Should the <code>nat</code>-version of <code>rfl.dvd</code> be also added?  Is there a reason that it is not there?</p>
<p>Thanks!</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c1">-- lemma to be extracted from PR</span>
<span class="kd">lemma</span> <span class="n">nat_dvd_iff_eq</span> <span class="o">{</span><span class="n">m</span> <span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span> <span class="o">:</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">a</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="n">m</span> <span class="bp">∣</span> <span class="n">a</span> <span class="bp">↔</span> <span class="n">n</span> <span class="bp">∣</span> <span class="n">a</span><span class="o">)</span> <span class="bp">↔</span> <span class="n">m</span> <span class="bp">=</span> <span class="n">n</span> <span class="o">:=</span>
<span class="o">⟨</span><span class="bp">λ</span> <span class="n">h</span><span class="o">,</span> <span class="n">nat.dvd_antisymm</span> <span class="o">((</span><span class="n">h</span> <span class="n">_</span><span class="o">)</span><span class="bp">.</span><span class="n">mpr</span> <span class="o">(</span><span class="n">dvd_refl</span> <span class="n">_</span><span class="o">))</span> <span class="o">((</span><span class="n">h</span> <span class="n">_</span><span class="o">)</span><span class="bp">.</span><span class="n">mp</span> <span class="o">(</span><span class="n">dvd_refl</span> <span class="n">_</span><span class="o">)),</span> <span class="bp">λ</span> <span class="n">h</span> <span class="n">n</span><span class="o">,</span> <span class="kd">by</span> <span class="n">rw</span> <span class="n">h</span><span class="o">⟩</span>

<span class="c1">-- auxiliary lemma?</span>
<span class="kd">lemma</span> <span class="n">rfl.dvd</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">n</span> <span class="bp">∣</span> <span class="n">n</span> <span class="o">:=</span> <span class="o">⟨</span><span class="mi">1</span><span class="o">,</span> <span class="o">(</span><span class="n">mul_one</span> <span class="n">_</span><span class="o">)</span><span class="bp">.</span><span class="n">symm</span><span class="o">⟩</span>
</code></pre></div>



<a name="233793155"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233793155" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233793155">(Apr 09 2021 at 09:42)</a>:</h4>
<p>How could it not import <code>dvd_refl</code>? I would assume it is in the same file that defines <code>dvd</code>, so how are you getting <code>dvd</code> on nat in that case?</p>



<a name="233793258"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233793258" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233793258">(Apr 09 2021 at 09:42)</a>:</h4>
<p>anyway the lemma should be called <code>nat.dvd_refl</code></p>



<a name="233793389"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233793389" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233793389">(Apr 09 2021 at 09:43)</a>:</h4>
<p>We don't usually prove the nat version of a lemma if it is an application of the generic lemma</p>



<a name="233793425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233793425" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233793425">(Apr 09 2021 at 09:44)</a>:</h4>
<p>(unless it happens to come up during bootstrapping)</p>



<a name="233793463"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233793463" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233793463">(Apr 09 2021 at 09:44)</a>:</h4>
<p>There's a root namespace <code>dvd_refl</code> in <code>algebra.divisibility</code> which applies to all monoids.</p>



<a name="233793488"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233793488" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233793488">(Apr 09 2021 at 09:44)</a>:</h4>
<p>I must have messed something up, but this is the beginning of the file that VSCode opens, when I tell it to open <code>data/nat/lemmas</code>:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">prelude</span>
<span class="kn">import</span> <span class="n">init.data.nat.basic</span> <span class="n">init.data.nat.div</span> <span class="n">init.meta</span> <span class="n">init.algebra.functions</span>
</code></pre></div>



<a name="233793504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233793504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233793504">(Apr 09 2021 at 09:44)</a>:</h4>
<p>prelude?</p>



<a name="233793526"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233793526" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233793526">(Apr 09 2021 at 09:44)</a>:</h4>
<p>what file are you working on?</p>



<a name="233793541"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233793541" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233793541">(Apr 09 2021 at 09:44)</a>:</h4>
<p>Hoewever, if I look at the path of the file, I see this:<br>
<code>/home/damiano/.elan/toolchains/leanprover-community-lean-3.28.0/lib/lean/library/init/data/nat/lemmas.lean</code></p>



<a name="233793542"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233793542" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233793542">(Apr 09 2021 at 09:44)</a>:</h4>
<p>There aren't any prelude files in mathlib</p>



<a name="233793564"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233793564" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233793564">(Apr 09 2021 at 09:45)</a>:</h4>
<p>Oh this is <code>init.data.nat.lemmas</code></p>



<a name="233793585"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233793585" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233793585">(Apr 09 2021 at 09:45)</a>:</h4>
<p>That's core Lean!</p>



<a name="233793635"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233793635" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233793635">(Apr 09 2021 at 09:45)</a>:</h4>
<p>But I opened it by browsing to <code>src/data/nat/lemmas.lean</code>: something is weird...</p>



<a name="233793643"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233793643" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233793643">(Apr 09 2021 at 09:45)</a>:</h4>
<p>Core lean doesn't have any lemmas about nat unless they are absolutely necessary for setting up some part of the tactic framework or other core stuff</p>



<a name="233793737"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233793737" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233793737">(Apr 09 2021 at 09:46)</a>:</h4>
<p>Ok, then I would like to add this to the non-core file, but I do not know how to open it...</p>



<a name="233793776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233793776" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233793776">(Apr 09 2021 at 09:46)</a>:</h4>
<p>The main initial mathlib file about nat is <code>data.nat.basic</code></p>



<a name="233793795"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233793795" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233793795">(Apr 09 2021 at 09:46)</a>:</h4>
<p>and you should already have <code>dvd_refl</code> available in that file</p>



<a name="233793865"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233793865" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233793865">(Apr 09 2021 at 09:47)</a>:</h4>
<p>I don't think there is a mathlib file called <code>data.nat.lemmas</code></p>



<a name="233794069"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233794069" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233794069">(Apr 09 2021 at 09:49)</a>:</h4>
<p>Ok, I think that what happened is that I clicked on "go to def" and it went to the <code>prelude</code>file, and, after that, I was navigating already in the wrong path.  I think that I found the correct file now!</p>
<p>No wonder I could not use <code>library_search</code>!</p>



<a name="233794072"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233794072" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233794072">(Apr 09 2021 at 09:49)</a>:</h4>
<p>PS Damiano, if you edited a core Lean file then be super-careful to change it back to exactly how it was, or you'll break your entire set-up (in a way which leanproject will not be able to fix)</p>



<a name="233794130"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233794130" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233794130">(Apr 09 2021 at 09:49)</a>:</h4>
<p>I will try to be careful: I had no idea that this was a potential pitfall!</p>



<a name="233794211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233794211" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233794211">(Apr 09 2021 at 09:50)</a>:</h4>
<p>In fact, I do not <em>intend</em> to change these files: this was a mistake!</p>



<a name="233794345"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233794345" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233794345">(Apr 09 2021 at 09:51)</a>:</h4>
<p>If later on you find yourself not being able to get rid of orange bars whatever you try, then come and ask for help in re-downloading Lean 3.28.0 on your system.</p>



<a name="233794612"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233794612" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233794612">(Apr 09 2021 at 09:53)</a>:</h4>
<p>Ok, thanks!  I have had difficulty working with those files, so I think that I did all my experimenting in a git.ignored file, so I am hoping that I will not have problems!</p>



<a name="233795289"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233795289" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233795289">(Apr 09 2021 at 09:59)</a>:</h4>
<p>The latest version of <code>elan</code> should make those files read-only on your system. So upgrade your elans (-;</p>



<a name="233795600"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233795600" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233795600">(Apr 09 2021 at 10:01)</a>:</h4>
<p>What do you need to do to upgrade <code>elan</code>?</p>



<a name="233795767"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233795767" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233795767">(Apr 09 2021 at 10:02)</a>:</h4>
<p><code>elan update</code></p>



<a name="233795921"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233795921" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233795921">(Apr 09 2021 at 10:03)</a>:</h4>
<p>Also, PR <a href="https://github.com/leanprover-community/mathlib/issues/7132">#7132</a>!</p>



<a name="233796249"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233796249" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233796249">(Apr 09 2021 at 10:06)</a>:</h4>
<p><span class="user-mention" data-user-id="321459">@Damiano Testa</span> Your PR is true more generally in an arbitrary <code>semiring_with_one_unit</code> <span aria-label="stuck out tongue wink" class="emoji emoji-1f61c" role="img" title="stuck out tongue wink">:stuck_out_tongue_wink:</span></p>



<a name="233796343"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233796343" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233796343">(Apr 09 2021 at 10:07)</a>:</h4>
<p>I actually wanted it to be a formulation of Yoneda's lemma for the category associated to the divisibility lattice on <code>nat</code>, but decided against the alternate proof...</p>



<a name="233796366"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233796366" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233796366">(Apr 09 2021 at 10:07)</a>:</h4>
<p>Isn't that just a monoid?</p>



<a name="233796443"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233796443" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233796443">(Apr 09 2021 at 10:08)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> I mean that <code>units M</code> has cardinality 1</p>



<a name="233796445"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233796445" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233796445">(Apr 09 2021 at 10:08)</a>:</h4>
<p>Maybe it's a distrib-monoid</p>



<a name="233796447"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233796447" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233796447">(Apr 09 2021 at 10:08)</a>:</h4>
<p>I believe there is already a version of this lemma stated for partial orders with le</p>



<a name="233796513"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233796513" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233796513">(Apr 09 2021 at 10:08)</a>:</h4>
<p>But I guess <code>semiring</code> can be weakened to <code>div_monoid</code>.</p>



<a name="233796580"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233796580" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233796580">(Apr 09 2021 at 10:09)</a>:</h4>
<p>I remember that there was a discussion about putting the order structure on <code>nat</code> given by divisibility, but I was scared of working with a "non-standard" ordering on <code>nat</code> and decided not following this route.</p>



<a name="233796616"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233796616" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233796616">(Apr 09 2021 at 10:10)</a>:</h4>
<p>We should make a type alias for that</p>



<a name="233796703"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233796703" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233796703">(Apr 09 2021 at 10:10)</a>:</h4>
<p>How many other such monoid are there? I guess <code>polynomial nat</code> is a useful one.</p>



<a name="233796704"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233796704" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233796704">(Apr 09 2021 at 10:10)</a>:</h4>
<p>Once you have this, the lemma is a statement about existence of inf/sups, essentially.</p>



<a name="233796729"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233796729" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233796729">(Apr 09 2021 at 10:10)</a>:</h4>
<p>And <code>polynomial (zmod 2)</code>, I guess</p>



<a name="233796734"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233796734" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233796734">(Apr 09 2021 at 10:10)</a>:</h4>
<p><code>mv_polynomial S nat</code></p>



<a name="233796770"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233796770" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233796770">(Apr 09 2021 at 10:11)</a>:</h4>
<p>you could prove that elements that divide the same elements are <code>associated</code> and then get more mileage out of this.</p>



<a name="233796772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233796772" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233796772">(Apr 09 2021 at 10:11)</a>:</h4>
<p>The <code>nat_dvd_iff_eq</code> lemma is just true in all partial orders</p>



<a name="233796789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233796789" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233796789">(Apr 09 2021 at 10:11)</a>:</h4>
<p>you don't need inf/sup for that</p>



<a name="233796894"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233796894" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233796894">(Apr 09 2021 at 10:12)</a>:</h4>
<p>Right so we need <code>associated_iff_eq</code> for a couple of rings (-;</p>



<a name="233796959"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233796959" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233796959">(Apr 09 2021 at 10:12)</a>:</h4>
<p>Any ring can be usefully turned into a partial order and a semilattice using the divisibility order</p>



<a name="233796972"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233796972" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233796972">(Apr 09 2021 at 10:12)</a>:</h4>
<p>Marios type alias could possibly be a quotient by <code>associated</code>, and then we can use it for arbitrary monoids.</p>



<a name="233796973"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233796973" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233796973">(Apr 09 2021 at 10:12)</a>:</h4>
<p>Ok, this is motivating to pull up my sleeves and actually prove this with for partial orders and using the dvd-lattice.  I would like to have a hint at a start for this, though...</p>



<a name="233797017"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233797017" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233797017">(Apr 09 2021 at 10:13)</a>:</h4>
<p>partial orders can have loops?</p>



<a name="233797021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233797021" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233797021">(Apr 09 2021 at 10:13)</a>:</h4>
<p>Oh, good point about the preorder issue</p>



<a name="233797048"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233797048" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233797048">(Apr 09 2021 at 10:13)</a>:</h4>
<p>I am worried about non-cancellative stuff.</p>



<a name="233797066"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233797066" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233797066">(Apr 09 2021 at 10:14)</a>:</h4>
<p>I would do it in two stages: make a preorder from the divisibility, and then make an arbitrary preorder into a partial order by quotienting</p>



<a name="233797112"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233797112" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233797112">(Apr 09 2021 at 10:14)</a>:</h4>
<p>maybe <code>no_zero_divisors</code> is good enough?</p>



<a name="233797149"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233797149" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233797149">(Apr 09 2021 at 10:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113489-new-members/topic/nat.2Erfl.2Edvd/near/233797066">said</a>:</p>
<blockquote>
<p>I would do it in two stages: make a preorder from the divisibility, and then make an arbitrary preorder into a partial order by quotienting</p>
</blockquote>
<p>But we still need glue with <code>associated</code>, right?</p>



<a name="233797191"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233797191" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233797191">(Apr 09 2021 at 10:15)</a>:</h4>
<p>I guess you can prove that <code>associated</code> is either equivalent to or defeq with the equivalence on a preorder</p>



<a name="233797203"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233797203" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233797203">(Apr 09 2021 at 10:15)</a>:</h4>
<p>ah, I was going via the route of assuming enough to avoid pathologies, but I also like the approach of getting pathological stuff and "making it work" by quotienting!  Assuming that I understood Mario's approach.</p>



<a name="233797274"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233797274" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233797274">(Apr 09 2021 at 10:15)</a>:</h4>
<p>You can also prove that the preorder quotient is an isomorphism if the preorder is already a partial order</p>



<a name="233797287"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233797287" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233797287">(Apr 09 2021 at 10:16)</a>:</h4>
<p>which would be the case for nat, for instance</p>



<a name="233797346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat.rfl.dvd/near/233797346" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.2Erfl.2Edvd.html#233797346">(Apr 09 2021 at 10:16)</a>:</h4>
<p>Can I suggest moving this conversation to a new topic: "semilattice, dvd, associated"?  I still think that the lemma on naturals could work fine as is...</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>