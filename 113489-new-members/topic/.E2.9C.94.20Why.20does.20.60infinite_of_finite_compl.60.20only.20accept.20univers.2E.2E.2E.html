---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/.E2.9C.94.20Why.20does.20.60infinite_of_finite_compl.60.20only.20accept.20univers.2E.2E.2E.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Why.20does.20.60infinite_of_finite_compl.60.20only.20accept.20univers.2E.2E.2E.html">✔ Why does `infinite_of_finite_compl` only accept univers...</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="251231053"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Why%20does%20%60infinite_of_finite_compl%60%20only%20accept%20univers.../near/251231053" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ian Wood <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Why.20does.20.60infinite_of_finite_compl.60.20only.20accept.20univers.2E.2E.2E.html#251231053">(Aug 30 2021 at 13:44)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/blob/d75a2d96863fa514de1078064e0bcfab5d7be03c/src/data/set/finite.lean#L271-L277">https://github.com/leanprover-community/mathlib/blob/d75a2d96863fa514de1078064e0bcfab5d7be03c/src/data/set/finite.lean#L271-L277</a></p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">infinite_of_finite_compl</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">_root_.infinite</span> <span class="n">α</span><span class="o">]</span> <span class="o">{</span><span class="n">s</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">}</span>
  <span class="o">(</span><span class="n">hs</span> <span class="o">:</span> <span class="n">s</span><span class="bp">ᶜ.</span><span class="n">finite</span><span class="o">)</span> <span class="o">:</span> <span class="n">s.infinite</span> <span class="o">:=</span>
<span class="bp">λ</span> <span class="n">h</span><span class="o">,</span> <span class="n">set.infinite_univ</span> <span class="o">(</span><span class="kd">by</span> <span class="n">simpa</span> <span class="n">using</span> <span class="n">hs.union</span> <span class="n">h</span><span class="o">)</span>

<span class="kd">lemma</span> <span class="n">finite.infinite_compl</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">_root_.infinite</span> <span class="n">α</span><span class="o">]</span> <span class="o">{</span><span class="n">s</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">}</span>
  <span class="o">(</span><span class="n">hs</span> <span class="o">:</span> <span class="n">s.finite</span><span class="o">)</span> <span class="o">:</span> <span class="n">s</span><span class="bp">ᶜ.</span><span class="n">infinite</span> <span class="o">:=</span>
<span class="bp">λ</span> <span class="n">h</span><span class="o">,</span> <span class="n">set.infinite_univ</span> <span class="o">(</span><span class="kd">by</span> <span class="n">simpa</span> <span class="n">using</span> <span class="n">hs.union</span> <span class="n">h</span><span class="o">)</span>
</code></pre></div>
<p>I can't see a reason why it shouldn't be <code>Type _</code> or <code>Type u</code>. I tried it with the mathlib version but it wouldn't work, copying the source code but replacing it with <code>Type _</code> meant it did. I'm confused why it's restricted.</p>



<a name="251231284"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Why%20does%20%60infinite_of_finite_compl%60%20only%20accept%20univers.../near/251231284" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Why.20does.20.60infinite_of_finite_compl.60.20only.20accept.20univers.2E.2E.2E.html#251231284">(Aug 30 2021 at 13:45)</a>:</h4>
<p>Probably a slip of the "pen".</p>



<a name="251231685"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Why%20does%20%60infinite_of_finite_compl%60%20only%20accept%20univers.../near/251231685" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Why.20does.20.60infinite_of_finite_compl.60.20only.20accept.20univers.2E.2E.2E.html#251231685">(Aug 30 2021 at 13:48)</a>:</h4>
<p>PR <a href="https://github.com/leanprover-community/mathlib/issues/8922">#8922</a> should fix it</p>



<a name="251231724"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Why%20does%20%60infinite_of_finite_compl%60%20only%20accept%20univers.../near/251231724" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Why.20does.20.60infinite_of_finite_compl.60.20only.20accept.20univers.2E.2E.2E.html#251231724">(Aug 30 2021 at 13:48)</a>:</h4>
<p><span class="user-mention" data-user-id="423237">@Ian Wood</span> thanks for reporting the bug</p>



<a name="251231773"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Why%20does%20%60infinite_of_finite_compl%60%20only%20accept%20univers.../near/251231773" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ian Wood <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Why.20does.20.60infinite_of_finite_compl.60.20only.20accept.20univers.2E.2E.2E.html#251231773">(Aug 30 2021 at 13:49)</a>:</h4>
<p>Thanks for fixing it!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>