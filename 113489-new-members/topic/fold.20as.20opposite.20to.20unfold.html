---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/fold.20as.20opposite.20to.20unfold.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fold.20as.20opposite.20to.20unfold.html">fold as opposite to unfold</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="244061170"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fold%20as%20opposite%20to%20unfold/near/244061170" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> kana <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fold.20as.20opposite.20to.20unfold.html#244061170">(Jun 27 2021 at 10:48)</a>:</h4>
<p>There is an unfold tactic. Is there a tactic to fold again?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">pair</span> <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">A</span><span class="o">)</span> <span class="o">:=</span> <span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">x</span><span class="o">)</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">pair</span> <span class="mi">1</span> <span class="bp">=</span> <span class="n">pair</span> <span class="mi">2</span> <span class="o">:=</span> <span class="kd">begin</span>
  <span class="n">unfold</span> <span class="n">pair</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">pair_def</span> <span class="o">:</span> <span class="bp">∀</span><span class="o">{</span><span class="n">A</span><span class="o">}</span> <span class="o">(</span><span class="n">x</span><span class="o">:</span><span class="n">A</span><span class="o">),</span> <span class="n">pair</span> <span class="n">x</span> <span class="bp">=</span> <span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">x</span><span class="o">)</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">intros</span><span class="bp">;</span> <span class="n">unfold</span> <span class="n">pair</span><span class="o">,</span>
  <span class="n">rw</span> <span class="bp">←</span><span class="n">pair_def</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="244061956"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fold%20as%20opposite%20to%20unfold/near/244061956" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fold.20as.20opposite.20to.20unfold.html#244061956">(Jun 27 2021 at 11:10)</a>:</h4>
<p>you could <code>change</code> specifically, but I think most of the times we just make an auxillary lemma called <code>lemma pair_def</code></p>



<a name="244061966"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fold%20as%20opposite%20to%20unfold/near/244061966" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fold.20as.20opposite.20to.20unfold.html#244061966">(Jun 27 2021 at 11:10)</a>:</h4>
<p>something like</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">pair_def</span> <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">A</span><span class="o">)</span> <span class="o">:</span> <span class="n">pair</span> <span class="n">x</span> <span class="bp">=</span> <span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">x</span><span class="o">)</span> <span class="o">:=</span> <span class="n">rfl</span>
</code></pre></div>



<a name="244061969"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fold%20as%20opposite%20to%20unfold/near/244061969" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fold.20as.20opposite.20to.20unfold.html#244061969">(Jun 27 2021 at 11:10)</a>:</h4>
<p>(your <code>have</code> could be <code>by intros; refl</code> or even <code>λ _ _, rfl</code>)</p>



<a name="244063164"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fold%20as%20opposite%20to%20unfold/near/244063164" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fold.20as.20opposite.20to.20unfold.html#244063164">(Jun 27 2021 at 11:43)</a>:</h4>
<p>Does <code>rw ←pair</code> work?</p>



<a name="244063901"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fold%20as%20opposite%20to%20unfold/near/244063901" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> kana <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fold.20as.20opposite.20to.20unfold.html#244063901">(Jun 27 2021 at 12:03)</a>:</h4>
<p>Oh yes, rw &lt;-pair really works, thanks!</p>



<a name="244065463"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fold%20as%20opposite%20to%20unfold/near/244065463" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fold.20as.20opposite.20to.20unfold.html#244065463">(Jun 27 2021 at 12:45)</a>:</h4>
<p><span class="user-mention" data-user-id="284160">@Eric Rodriguez</span>, <code>pair_def</code> is almost never needed because <code>pair</code> gets a secret equation lemma containing the same statement</p>



<a name="244065792"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fold%20as%20opposite%20to%20unfold/near/244065792" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fold.20as.20opposite.20to.20unfold.html#244065792">(Jun 27 2021 at 12:54)</a>:</h4>
<p>feel like I've seen it a fair bit in mathlib though, what's with that?</p>



<a name="244161889"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fold%20as%20opposite%20to%20unfold/near/244161889" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fold.20as.20opposite.20to.20unfold.html#244161889">(Jun 28 2021 at 15:28)</a>:</h4>
<p>sometimes the secret equation lemma is not stated the way we want. Sometimes you can fix that by writing the original definition differently but if that isn't good enough we can use a <code>*_def</code> lemma to state an arbitrary theorem not constrained by the grammar of the equation compiler</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>