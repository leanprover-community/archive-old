---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Is.20a.20namespace.20a.20type.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20a.20namespace.20a.20type.3F.html">Is a namespace a type?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="219629946"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20a%20namespace%20a%20type%3F/near/219629946" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20a.20namespace.20a.20type.3F.html#219629946">(Dec 11 2020 at 16:49)</a>:</h4>
<p>Regarding <a href="https://github.com/leanprover-community/lean/blob/ed6accfb611bbd28ef5b7e34361d2b58a366e2c9/library/init/data/quot.lean#L63">this</a>:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">namespace</span> <span class="n">quot</span>
<span class="kd">variable</span> <span class="o">{</span><span class="n">β</span> <span class="o">:</span> <span class="n">quot</span> <span class="n">r</span> <span class="bp">→</span> <span class="kt">Sort</span> <span class="n">v</span><span class="o">}</span>
</code></pre></div>
<p>It appears that a <code>namespace</code> defines a class.  Is that correct?</p>



<a name="219630109"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20a%20namespace%20a%20type%3F/near/219630109" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20a.20namespace.20a.20type.3F.html#219630109">(Dec 11 2020 at 16:50)</a>:</h4>
<p>No, it just shares a name with a type</p>



<a name="219630247"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20a%20namespace%20a%20type%3F/near/219630247" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20a.20namespace.20a.20type.3F.html#219630247">(Dec 11 2020 at 16:51)</a>:</h4>
<p>You can read about namespaces in <a href="https://leanprover.github.io/theorem_proving_in_lean/">#tpil</a>, a book which you are probably now in a position to get to the end of. Your code doesn't run for me. <code>quot</code> is already a thing in core Lean -- is this what is confusing you?</p>



<a name="219630272"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20a%20namespace%20a%20type%3F/near/219630272" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20a.20namespace.20a.20type.3F.html#219630272">(Dec 11 2020 at 16:51)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/quot">docs#quot</a> should be the definition</p>



<a name="219630379"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20a%20namespace%20a%20type%3F/near/219630379" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20a.20namespace.20a.20type.3F.html#219630379">(Dec 11 2020 at 16:52)</a>:</h4>
<p>Huh, I was expecting a <code>meta constant</code> or something</p>



<a name="219630768"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20a%20namespace%20a%20type%3F/near/219630768" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20a.20namespace.20a.20type.3F.html#219630768">(Dec 11 2020 at 16:55)</a>:</h4>
<p>go to definition also fails in VS Code</p>



<a name="219631044"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20a%20namespace%20a%20type%3F/near/219631044" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20a.20namespace.20a.20type.3F.html#219631044">(Dec 11 2020 at 16:57)</a>:</h4>
<p><code>quot</code> and its associated constants are magically declared to exist by the kernel</p>



<a name="219631070"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20a%20namespace%20a%20type%3F/near/219631070" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20a.20namespace.20a.20type.3F.html#219631070">(Dec 11 2020 at 16:57)</a>:</h4>
<p>there's some command which triggers their construction which I forget</p>



<a name="219631140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20a%20namespace%20a%20type%3F/near/219631140" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20a.20namespace.20a.20type.3F.html#219631140">(Dec 11 2020 at 16:57)</a>:</h4>
<p><code>init_quotient</code> in core.lean</p>



<a name="219631221"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20a%20namespace%20a%20type%3F/near/219631221" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20a.20namespace.20a.20type.3F.html#219631221">(Dec 11 2020 at 16:58)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c">/-</span><span class="cm"></span>
<span class="cm">Initialize the quotient module, which effectively adds the following definitions:</span>

<span class="cm">constant quot {α : Sort u} (r : α → α → Prop) : Sort u</span>

<span class="cm">constant quot.mk {α : Sort u} (r : α → α → Prop) (a : α) : quot r</span>

<span class="cm">constant quot.lift {α : Sort u} {r : α → α → Prop} {β : Sort v} (f : α → β) :</span>
<span class="cm">  (∀ a b : α, r a b → eq (f a) (f b)) → quot r → β</span>

<span class="cm">constant quot.ind {α : Sort u} {r : α → α → Prop} {β : quot r → Prop} :</span>
<span class="cm">  (∀ a : α, β (quot.mk r a)) → ∀ q : quot r, β q</span>

<span class="cm">Also the reduction rule:</span>

<span class="cm">quot.lift f _ (quot.mk a) ~~&gt; f a</span>

<span class="cm">-/</span>
<span class="n">init_quotient</span>
</code></pre></div>



<a name="219631413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20a%20namespace%20a%20type%3F/near/219631413" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20a.20namespace.20a.20type.3F.html#219631413">(Dec 11 2020 at 16:59)</a>:</h4>
<p>Will <code>quot</code> still be magic in lean4?</p>



<a name="219631819"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20a%20namespace%20a%20type%3F/near/219631819" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris B <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20a.20namespace.20a.20type.3F.html#219631819">(Dec 11 2020 at 17:02)</a>:</h4>
<p>Yes. <a href="https://github.com/leanprover/lean4/blob/3682e3b9938a3dd0b3c64ce72f7fd9f3fe5118fb/src/kernel/quot.cpp#L47">https://github.com/leanprover/lean4/blob/3682e3b9938a3dd0b3c64ce72f7fd9f3fe5118fb/src/kernel/quot.cpp#L47</a></p>



<a name="219632821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20a%20namespace%20a%20type%3F/near/219632821" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20a.20namespace.20a.20type.3F.html#219632821">(Dec 11 2020 at 17:10)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">prelude</span>

<span class="n">init_quotient</span>
</code></pre></div>
<p>gives the rather tasty error message </p>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>failed to initialize quot module, environment does not have 'eq' type
</code></pre></div>
<p>One could maybe redefine <code>eq</code> and prove false somehow?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">prelude</span>

<span class="kd">universe</span> <span class="n">u</span>

<span class="kd">def</span> <span class="kt">Prop</span> <span class="o">:=</span> <span class="kt">Sort</span> <span class="mi">0</span>

<span class="kd">inductive</span> <span class="n">false</span> <span class="o">:</span> <span class="kt">Prop</span>

<span class="kd">def</span> <span class="n">eq</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Sort</span> <span class="n">u</span><span class="o">},</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">α</span> <span class="n">a</span> <span class="n">b</span><span class="o">,</span> <span class="n">false</span>
<span class="c">/-</span><span class="cm"></span>
<span class="cm">equation compiler failed to create auxiliary declaration 'eq.equations._eqn_1'</span>
<span class="cm">nested exception message:</span>
<span class="cm">unknown declaration 'eq.refl'</span>
<span class="cm">-/</span>
</code></pre></div>
<p>kind of annoying. I'm not sure what the rules are in <code>prelude</code></p>



<a name="219633123"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20a%20namespace%20a%20type%3F/near/219633123" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20a.20namespace.20a.20type.3F.html#219633123">(Dec 11 2020 at 17:13)</a>:</h4>
<p>I wonder why it wanted to use the equation compiler</p>



<a name="219633161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20a%20namespace%20a%20type%3F/near/219633161" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20a.20namespace.20a.20type.3F.html#219633161">(Dec 11 2020 at 17:13)</a>:</h4>
<p>What if you  just make an inductive type like <code>eq</code> but empty</p>



<a name="219634490"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20a%20namespace%20a%20type%3F/near/219634490" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20a.20namespace.20a.20type.3F.html#219634490">(Dec 11 2020 at 17:24)</a>:</h4>
<p>Found this nice error message while trying that:</p>
<p><a href="https://github.com/leanprover-community/lean/blob/ec1613aef1eee72e601f192b16740629c6d49690/src/kernel/quotient/quotient.cpp#L63">https://github.com/leanprover-community/lean/blob/ec1613aef1eee72e601f192b16740629c6d49690/src/kernel/quotient/quotient.cpp#L63</a></p>



<a name="219634521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20a%20namespace%20a%20type%3F/near/219634521" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20a.20namespace.20a.20type.3F.html#219634521">(Dec 11 2020 at 17:24)</a>:</h4>
<p>Looks like it was meant to say "unexpected" not "expected"?</p>



<a name="219634689"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20a%20namespace%20a%20type%3F/near/219634689" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20a.20namespace.20a.20type.3F.html#219634689">(Dec 11 2020 at 17:25)</a>:</h4>
<p>nope, Lean is just onto you and your tricky ways</p>



<a name="219634810"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20a%20namespace%20a%20type%3F/near/219634810" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20a.20namespace.20a.20type.3F.html#219634810">(Dec 11 2020 at 17:26)</a>:</h4>
<p>Actually <code>def Prop</code> breaks it</p>



<a name="219634827"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20a%20namespace%20a%20type%3F/near/219634827" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20a.20namespace.20a.20type.3F.html#219634827">(Dec 11 2020 at 17:26)</a>:</h4>
<p>It requires it to be <code>notation</code></p>



<a name="219634878"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20a%20namespace%20a%20type%3F/near/219634878" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20a.20namespace.20a.20type.3F.html#219634878">(Dec 11 2020 at 17:27)</a>:</h4>
<p>But yes, <code>check_eq_type</code> looks fairly robust</p>



<a name="219639496"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20a%20namespace%20a%20type%3F/near/219639496" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20a.20namespace.20a.20type.3F.html#219639496">(Dec 11 2020 at 17:59)</a>:</h4>
<p>Thanks for the clarification.   <a href="https://github.com/leanprover-community/lean/blob/ed6accfb611bbd28ef5b7e34361d2b58a366e2c9/src/frontends/lean/builtin_cmds.cpp">So</a>:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">static</span> <span class="n">environment</span> <span class="n">init_quotient_cmd</span><span class="o">(</span><span class="n">parser</span> <span class="bp">&amp;</span> <span class="n">p</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">return</span> <span class="n">module</span><span class="o">::</span><span class="n">declare_quotient</span><span class="o">(</span><span class="n">p.env</span><span class="o">())</span><span class="bp">;</span>
<span class="o">}</span>
</code></pre></div>
<p>or <a href="https://leanprover.github.io/theorem_proving_in_lean/axioms_and_computation.html#quotients">in other words</a> :</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">namespace</span> <span class="n">hidden</span>
<span class="kd">universes</span> <span class="n">u</span> <span class="n">v</span>
<span class="kd">constant</span> <span class="n">quot</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Sort</span> <span class="n">u</span><span class="o">},</span> <span class="o">(</span><span class="n">α</span> <span class="bp">→</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span> <span class="bp">→</span> <span class="kt">Sort</span> <span class="n">u</span>
<span class="kd">end</span> <span class="n">hidden</span>
</code></pre></div>



<a name="219658413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20a%20namespace%20a%20type%3F/near/219658413" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20a.20namespace.20a.20type.3F.html#219658413">(Dec 11 2020 at 20:33)</a>:</h4>
<p>The application was that I was trying to trace out the types involved in a couple of representations of the set <code>{0,1,2}</code>, and <code>quot</code> came up as a blank spot, but that's OK.  Here is the picture I came up with:<br>
<a href="/user_uploads/3121/63uY_DylmIXQQz_AnoPPREdk/Screenshot-from-2020-12-11-15-32-05.png">Screenshot-from-2020-12-11-15-32-05.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/63uY_DylmIXQQz_AnoPPREdk/Screenshot-from-2020-12-11-15-32-05.png" title="Screenshot-from-2020-12-11-15-32-05.png"><img src="/user_uploads/3121/63uY_DylmIXQQz_AnoPPREdk/Screenshot-from-2020-12-11-15-32-05.png"></a></div>



<a name="219659088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20a%20namespace%20a%20type%3F/near/219659088" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20a.20namespace.20a.20type.3F.html#219659088">(Dec 11 2020 at 20:39)</a>:</h4>
<p>Lars, if you like dependency graphs about lean, you might find <a href="https://observablehq.com/@eric-wieser/lean-ga-imports">https://observablehq.com/@eric-wieser/lean-ga-imports</a> interesting</p>



<a name="219674656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20a%20namespace%20a%20type%3F/near/219674656" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris B <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20a.20namespace.20a.20type.3F.html#219674656">(Dec 11 2020 at 23:29)</a>:</h4>
<p><span class="user-mention" data-user-id="364351">@Lars Ericson</span> </p>
<p>It also adds <code>quot.mk</code>, <code>quot.lift</code>, and <code>quot.ind</code>. They get assembled 'by hand' and then added to the environment without any checks as soon as the <code>eq</code> inductive has been admitted. If you print an export file from Lean 3, it will be a couple of name declarations, an <code>#IND</code> for eq, and then just <code>#QUOT</code> which tells the verifier to add the quotient stuff to the environment.</p>
<p>This file has comments with lean annotations showing what's actually being put together.<br>
<a href="https://github.com/ammkrn/nanoda_lib/blob/master/src/quot.rs">https://github.com/ammkrn/nanoda_lib/blob/master/src/quot.rs</a></p>



<a name="219675805"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20a%20namespace%20a%20type%3F/near/219675805" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20a.20namespace.20a.20type.3F.html#219675805">(Dec 11 2020 at 23:46)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span> that's really great visualization, thanks.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>