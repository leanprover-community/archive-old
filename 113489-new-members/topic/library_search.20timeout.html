---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/library_search.20timeout.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/library_search.20timeout.html">library_search timeout</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="244053270"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/library_search%20timeout/near/244053270" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/library_search.20timeout.html#244053270">(Jun 27 2021 at 06:54)</a>:</h4>
<p>What does it mean when I use <code>library_search</code> or  <code>library_search!</code> I get the error message <code>timeout</code>? (not really sure if I have ever got a <code>timeout</code> when using the first)<br>
In particular, what is the difference between <code>timeout</code> and <code>failed</code> when doing such search?</p>



<a name="244063150"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/library_search%20timeout/near/244063150" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/library_search.20timeout.html#244063150">(Jun 27 2021 at 11:42)</a>:</h4>
<p>Can you post a reproducible MWE?</p>



<a name="244105521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/library_search%20timeout/near/244105521" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/library_search.20timeout.html#244105521">(Jun 28 2021 at 06:19)</a>:</h4>
<p>I don't have one for "failed" and one for "timeout" at hand. I will post here if I get them.</p>



<a name="244106915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/library_search%20timeout/near/244106915" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/library_search.20timeout.html#244106915">(Jun 28 2021 at 06:45)</a>:</h4>
<p>Failed I've seen a lot, I think this means "I can't find it". But timeout sounds like it might be a bug, not sure</p>



<a name="244124091"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/library_search%20timeout/near/244124091" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/library_search.20timeout.html#244124091">(Jun 28 2021 at 10:08)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">k</span> <span class="n">x</span> <span class="n">y</span><span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">[</span><span class="n">ring</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span> <span class="o">(</span><span class="n">k</span> <span class="bp">•</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">k</span> <span class="bp">•</span> <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">library_search</span>
<span class="kd">end</span>
</code></pre></div>
<p>This example gives a timeout.</p>



<a name="244124888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/library_search%20timeout/near/244124888" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/library_search.20timeout.html#244124888">(Jun 28 2021 at 10:19)</a>:</h4>
<p>Not reproducible. It doesn't timeout for me <span aria-label="stuck out tongue" class="emoji emoji-1f61b" role="img" title="stuck out tongue">:stuck_out_tongue:</span> <a href="user_uploads/3121/Z-q6uNFKVHy9OH2LWDWf5Z2M/Screenshot-from-2021-06-28-17.19.21.png">Screenshot-from-2021-06-28-17.19.21.png</a></p>
<div class="message_inline_image"><a href="user_uploads/3121/Z-q6uNFKVHy9OH2LWDWf5Z2M/Screenshot-from-2021-06-28-17.19.21.png" title="Screenshot-from-2021-06-28-17.19.21.png"><img src="user_uploads/3121/Z-q6uNFKVHy9OH2LWDWf5Z2M/Screenshot-from-2021-06-28-17.19.21.png"></a></div>



<a name="244124891"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/library_search%20timeout/near/244124891" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/library_search.20timeout.html#244124891">(Jun 28 2021 at 10:19)</a>:</h4>
<p>What are the imports? <a href="https://leanprover-community.github.io/mwe.html">#mwe</a></p>



<a name="244125003"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/library_search%20timeout/near/244125003" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/library_search.20timeout.html#244125003">(Jun 28 2021 at 10:20)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>

<span class="kd">variable</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">k</span> <span class="n">x</span> <span class="n">y</span><span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">[</span><span class="n">ring</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span> <span class="o">(</span><span class="n">k</span> <span class="bp">•</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">k</span> <span class="bp">•</span> <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">library_search</span> <span class="c1">-- Try this: exact smul_mul_assoc k x y</span>
<span class="kd">end</span>
</code></pre></div>



<a name="244125587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/library_search%20timeout/near/244125587" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/library_search.20timeout.html#244125587">(Jun 28 2021 at 10:29)</a>:</h4>
<p>Thanks! It is a little weird. It does not time out for me now either (maybe because I changed something in the file before this).</p>



<a name="244125616"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/library_search%20timeout/near/244125616" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/library_search.20timeout.html#244125616">(Jun 28 2021 at 10:29)</a>:</h4>
<p>I mean, anecdotally I've also had it time out, but I just take that to mean <code>library_search</code> won't find it</p>



<a name="244125872"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/library_search%20timeout/near/244125872" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/library_search.20timeout.html#244125872">(Jun 28 2021 at 10:32)</a>:</h4>
<p>If I change the code to </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>

<span class="kd">variable</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span>
<span class="kd">variable</span> <span class="o">[</span><span class="n">has_mul</span> <span class="n">α</span><span class="o">]</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">k</span> <span class="n">x</span> <span class="n">y</span><span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">[</span><span class="n">ring</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span> <span class="o">(</span><span class="n">k</span> <span class="bp">•</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">k</span> <span class="bp">•</span> <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">library_search</span>
<span class="kd">end</span>
</code></pre></div>
<p>the search will fail.<br>
Why could this happen?</p>



<a name="244125962"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/library_search%20timeout/near/244125962" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/library_search.20timeout.html#244125962">(Jun 28 2021 at 10:33)</a>:</h4>
<p><code>exact smul_mul_assoc k x y,</code> will also fail.</p>



<a name="244127620"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/library_search%20timeout/near/244127620" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/library_search.20timeout.html#244127620">(Jun 28 2021 at 10:53)</a>:</h4>
<p>That code above gives alpha two multiplcations and no proof that they're the same, so probably the example isn't even true.</p>



<a name="244127765"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/library_search%20timeout/near/244127765" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/library_search.20timeout.html#244127765">(Jun 28 2021 at 10:55)</a>:</h4>
<p>Playing around with the infoview in this state:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span>
<span class="n">_inst_1</span> <span class="o">:</span> <span class="n">has_mul</span> <span class="n">α</span>
<span class="n">k</span> <span class="n">x</span> <span class="n">y</span><span class="o">:</span> <span class="n">α</span>
<span class="n">_inst_2</span> <span class="o">:</span> <span class="n">ring</span> <span class="n">α</span>
<span class="bp">⊢</span> <span class="n">k</span> <span class="bp">•</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">k</span> <span class="bp">•</span> <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span>
</code></pre></div>
<p>seems to indicate that both the smul and the mul are coming from <code>_inst_1</code> rather than <code>_inst_2</code> so the reason you can't close the goal is that the <code>_inst_1</code> mul isn't known to be associative.</p>



<a name="244132328"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/library_search%20timeout/near/244132328" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/library_search.20timeout.html#244132328">(Jun 28 2021 at 11:45)</a>:</h4>
<p>I thought [ring \a] just extends [has_mul \a].</p>



<a name="244132445"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/library_search%20timeout/near/244132445" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/library_search.20timeout.html#244132445">(Jun 28 2021 at 11:46)</a>:</h4>
<p>And the fact that it extends it means exactly that you shouldn't put it in again.</p>



<a name="244132446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/library_search%20timeout/near/244132446" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/library_search.20timeout.html#244132446">(Jun 28 2021 at 11:46)</a>:</h4>
<p>Ring uses old_structure_cmd iirc so it provides all the fields separately, including the data, so Kevin's point stands.</p>



<a name="244133247"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/library_search%20timeout/near/244133247" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/library_search.20timeout.html#244133247">(Jun 28 2021 at 11:54)</a>:</h4>
<p>Yes.<br>
If I declared <code>[has_mul a]</code> or <code>[ring a]</code> before. But later I want <code>a</code> to be a ring or a field. Is there a way that does extend a previous declaration?</p>



<a name="244133542"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/library_search%20timeout/near/244133542" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/library_search.20timeout.html#244133542">(Jun 28 2021 at 11:58)</a>:</h4>
<p>Not really, just put the earlier stuff in a section</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">section</span> <span class="n">ring_stuff</span>
<span class="kd">variables</span> <span class="o">{</span><span class="n">a</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">ring</span> <span class="n">a</span><span class="o">]</span>
<span class="kd">lemma</span> <span class="n">a_lemma_about_rings</span> <span class="o">:=</span> <span class="bp">...</span>
<span class="kd">end</span> <span class="n">ring_stuff</span>
<span class="kn">section</span> <span class="n">field_stuff</span>
<span class="kd">variables</span> <span class="o">{</span><span class="n">a</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">field</span> <span class="n">a</span><span class="o">]</span>
<span class="kd">lemma</span> <span class="n">a_lemma_about_fields</span> <span class="o">:=</span> <span class="bp">...</span>
<span class="kd">end</span> <span class="n">field_stuff</span>
</code></pre></div>



<a name="244411930"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/library_search%20timeout/near/244411930" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/library_search.20timeout.html#244411930">(Jun 30 2021 at 12:04)</a>:</h4>
<p>I am proving</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">:(</span><span class="n">A</span> <span class="bp">⊗</span> <span class="n">B</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">A</span><span class="bp">⁻¹</span> <span class="bp">⊗</span> <span class="n">B</span><span class="bp">⁻¹</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">suffices</span> <span class="o">:</span> <span class="o">(</span><span class="n">A</span><span class="bp">⁻¹</span> <span class="bp">⊗</span> <span class="n">B</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">⬝</span> <span class="o">(</span><span class="n">A</span> <span class="bp">⊗</span> <span class="n">B</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">,</span>
  <span class="n">library_search</span><span class="bp">!</span><span class="o">,</span>
  <span class="c1">--apply inv_eq_left_inv this,</span>
<span class="kd">end</span>
</code></pre></div>
<p>The quoted-out line will close the next goal, but if I use library search, it will time out.<br>
I am wondering why <code>library_search</code> fails to work.</p>



<a name="244413053"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/library_search%20timeout/near/244413053" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/library_search.20timeout.html#244413053">(Jun 30 2021 at 12:14)</a>:</h4>
<p>Can you give a <a href="https://leanprover-community.github.io/mwe.html">#mwe</a> with imports and <code>variables</code>?</p>



<a name="244413082"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/library_search%20timeout/near/244413082" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/library_search.20timeout.html#244413082">(Jun 30 2021 at 12:14)</a>:</h4>
<p>The time taken by library_search greatly depends on how many things you've imported</p>



<a name="244413091"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/library_search%20timeout/near/244413091" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/library_search.20timeout.html#244413091">(Jun 30 2021 at 12:14)</a>:</h4>
<p>Since it only searches imported files</p>



<a name="244415128"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/library_search%20timeout/near/244415128" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/library_search.20timeout.html#244415128">(Jun 30 2021 at 12:31)</a>:</h4>
<p><code>inv_eq_left_inv</code> is a lemma defined in my current file.</p>



<a name="244415192"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/library_search%20timeout/near/244415192" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/library_search.20timeout.html#244415192">(Jun 30 2021 at 12:31)</a>:</h4>
<p>I will try to extract a <a href="https://leanprover-community.github.io/mwe.html">#mwe</a></p>



<a name="244418258"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/library_search%20timeout/near/244418258" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/library_search.20timeout.html#244418258">(Jun 30 2021 at 12:54)</a>:</h4>
<p>OK..Well...lib search even doesn't work for <code>example (h : A ⬝ B = 1) :  B =  A⁻¹ :=</code>, but it works for <code>example (h : A ⬝ B = 1) :  A⁻¹ = B :=</code></p>



<a name="244418800"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/library_search%20timeout/near/244418800" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/library_search.20timeout.html#244418800">(Jun 30 2021 at 12:58)</a>:</h4>
<p>Again, without the precise types of <code>A</code> and <code>B</code> there's very little chance anyone will be able to help you</p>



<a name="244422493"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/library_search%20timeout/near/244422493" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/library_search.20timeout.html#244422493">(Jun 30 2021 at 13:23)</a>:</h4>
<p>Learn how to ask good questions Alex.</p>



<a name="244422567"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/library_search%20timeout/near/244422567" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/library_search.20timeout.html#244422567">(Jun 30 2021 at 13:23)</a>:</h4>
<p>It might be a bore but you'll develop some techniques which will eventually enable you to answer some of your own questions by yourself, when writing the mwe reveals the issue (this happens)</p>



<a name="245612877"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/library_search%20timeout/near/245612877" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/library_search.20timeout.html#245612877">(Jul 11 2021 at 15:40)</a>:</h4>
<p>Why does library search fail for the first example?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>
<span class="kd">example</span> <span class="o">(</span><span class="n">a</span><span class="o">:</span> <span class="n">ℤ</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">int.one</span> <span class="bp">=</span> <span class="n">a</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">library_search</span>
<span class="kd">example</span> <span class="o">(</span><span class="n">a</span><span class="o">:</span> <span class="n">ℤ</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">int.one</span> <span class="bp">=</span> <span class="n">a</span> <span class="o">:=</span> <span class="n">mul_one</span> <span class="n">a</span>
</code></pre></div>



<a name="245613074"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/library_search%20timeout/near/245613074" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/library_search.20timeout.html#245613074">(Jul 11 2021 at 15:46)</a>:</h4>
<p>because <code>library_search</code> works up to syntactic equality and <code>mul_one a</code> doesn't say syntactically what the example says (it just says it definitionally, which is why the proof works)</p>



<a name="245613086"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/library_search%20timeout/near/245613086" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/library_search.20timeout.html#245613086">(Jul 11 2021 at 15:46)</a>:</h4>
<p>Does <code>by library_search!</code> work?</p>



<a name="245613383"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/library_search%20timeout/near/245613383" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/library_search.20timeout.html#245613383">(Jul 11 2021 at 15:54)</a>:</h4>
<p><span class="user-mention" data-user-id="127136">@Alex J. Best</span>  Yes, that does work!</p>



<a name="245613470"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/library_search%20timeout/near/245613470" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/library_search.20timeout.html#245613470">(Jul 11 2021 at 15:56)</a>:</h4>
<p>Is <code>library_search!</code> always at least powerful as  (i.e. more powerful than) <code>library_search</code>?</p>



<a name="245613702"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/library_search%20timeout/near/245613702" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/library_search.20timeout.html#245613702">(Jul 11 2021 at 16:01)</a>:</h4>
<p>Kindof, it searches including definitionally equal things, which means it takes longer. In practice I've found that it can sometimes time out when the normal library search doesn't so I normally run the regular library search then if that fails try adding the !.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>