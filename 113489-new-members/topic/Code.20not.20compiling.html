---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Code.20not.20compiling.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Code.20not.20compiling.html">Code not compiling</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="251557218"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Code%20not%20compiling/near/251557218" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andre Hernandez-Espiet (Rutgers) <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Code.20not.20compiling.html#251557218">(Sep 01 2021 at 13:25)</a>:</h4>
<p>Hi all. I was messing around with some code, and for some reason it decided to give me some odd errors. Could anybody suggest what I am doing wrong? Below I have attached the error it gives and the file I was using.</p>
<p><a href="/user_uploads/3121/ZG1SeG8y6oANmvj-9S20NuZB/image.png">image.png</a> <a href="/user_uploads/3121/Khg_onn0-gXhxK-t3pnKsMHj/test.lean">test.lean</a> <a href="/user_uploads/3121/V9MTyEaeEwTjeCS_lyecl3ry/test.lean">test.lean</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/ZG1SeG8y6oANmvj-9S20NuZB/image.png" title="image.png"><img src="/user_uploads/3121/ZG1SeG8y6oANmvj-9S20NuZB/image.png"></a></div>



<a name="251557872"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Code%20not%20compiling/near/251557872" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Code.20not.20compiling.html#251557872">(Sep 01 2021 at 13:29)</a>:</h4>
<p>Unfortunately we can't tell from your screenshot what the definition of <code>B</code> is as we don't have the file you are working on, it's much easier to help if you can post copy-pasteable code in the form of a <a href="https://leanprover-community.github.io/mwe.html">#mwe</a>. Even if its a full file.</p>



<a name="251558202"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Code%20not%20compiling/near/251558202" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Code.20not.20compiling.html#251558202">(Sep 01 2021 at 13:31)</a>:</h4>
<p>If you read the error you will see that it says that <code>B</code> does not want to eat <code>a</code>, it wants to eat something of a different type. If you hover over <code>B</code> you'll see its type and what will be happening is that the first round bracket input for <code>B</code> will not be the thing you want to set as <code>a</code>. But in general, what Alex said.</p>



<a name="251558266"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Code%20not%20compiling/near/251558266" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Code.20not.20compiling.html#251558266">(Sep 01 2021 at 13:32)</a>:</h4>
<p>If I had to guess though I'd say B had explicit arguments for the type point and line, so you might want <code>B point line a b c</code> instead but its just a guess.</p>



<a name="251559356"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Code%20not%20compiling/near/251559356" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andre Hernandez-Espiet (Rutgers) <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Code.20not.20compiling.html#251559356">(Sep 01 2021 at 13:38)</a>:</h4>
<p>That is odd. I thought I had attached the file. Here it is again. <a href="/user_uploads/3121/-V1YscU_pIJIuRO8F0yUD5na/test.lean">test.lean</a></p>



<a name="251560091"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Code%20not%20compiling/near/251560091" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Code.20not.20compiling.html#251560091">(Sep 01 2021 at 13:42)</a>:</h4>
<p>You did!  My bad, it just came up next to the link to the image title so I didn't spot it, sorry for the noise <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span>, Or maybe I didn't see the edit in time as my internet is spotty...</p>



<a name="251560259"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Code%20not%20compiling/near/251560259" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Code.20not.20compiling.html#251560259">(Sep 01 2021 at 13:43)</a>:</h4>
<p>Oh my bad too :-) Apologies. What people usually do is post code and errors between triple back-ticks rather than uploading files or screenshots.</p>



<a name="251560521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Code%20not%20compiling/near/251560521" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Code.20not.20compiling.html#251560521">(Sep 01 2021 at 13:45)</a>:</h4>
<p>Indeed, if you hover over <code>B</code> then you see</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">Euclidean_plane.B</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">{</span><span class="n">point</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">(</span><span class="n">line</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">[</span><span class="n">self</span> <span class="o">:</span> <span class="n">Euclidean_plane</span> <span class="n">point</span> <span class="n">line</span><span class="o">],</span> <span class="n">point</span> <span class="bp">→</span> <span class="n">point</span> <span class="bp">→</span> <span class="n">point</span> <span class="bp">→</span> <span class="kt">Prop</span>
</code></pre></div>
<p>so the first input which B wants from the user is a term <code>line</code> of type <code>Type</code>, and you gave it a point -- the point is supposed to come later.</p>



<a name="251561079"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Code%20not%20compiling/near/251561079" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andre Hernandez-Espiet (Rutgers) <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Code.20not.20compiling.html#251561079">(Sep 01 2021 at 13:48)</a>:</h4>
<p>Hmm, but I defined B with point → point → point → Prop. Why would it be expecting a line? Does this have to do with the second line in the code?</p>



<a name="251561560"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Code%20not%20compiling/near/251561560" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Code.20not.20compiling.html#251561560">(Sep 01 2021 at 13:51)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">class</span> <span class="n">Euclidean_plane</span> <span class="o">(</span><span class="n">point</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">(</span><span class="n">line</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">):=</span>
<span class="o">(</span><span class="n">B</span> <span class="o">:</span> <span class="n">point</span> <span class="bp">→</span> <span class="n">point</span> <span class="bp">→</span> <span class="n">point</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span>

<span class="k">#check</span> <span class="n">Euclidean_plane.B</span>
<span class="c">/-</span><span class="cm"></span>
<span class="cm">Euclidean_plane.B : Π (line : Type) [self : Euclidean_plane ?M_1 line], ?M_1 → ?M_1 → ?M_1 → Prop</span>
<span class="cm">-/</span>
</code></pre></div>
<p>It's to do with design decisions when making structures. <code>Euclidean_plane</code> expects inputs <code>point</code> and <code>line</code>, but <code>B</code> can't possibly figure out what <code>line</code> is because it only takes terms of type <code>point</code> so it asks the user to supply it explicitly.</p>



<a name="251562269"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Code%20not%20compiling/near/251562269" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Code.20not.20compiling.html#251562269">(Sep 01 2021 at 13:55)</a>:</h4>
<p>By the way you might be interested in my summer student Tianchen Zhao's project on Hilbert's set-up for Euclidean geometry: <a href="https://ja1941.github.io/hilberts-axioms/">https://ja1941.github.io/hilberts-axioms/</a></p>



<a name="251564808"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Code%20not%20compiling/near/251564808" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andre Hernandez-Espiet (Rutgers) <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Code.20not.20compiling.html#251564808">(Sep 01 2021 at 14:10)</a>:</h4>
<p>Yes that does seem interesting. Thanks for sharing.</p>
<p>How would I have to modify the class so that I have two objects 'point' and 'line' but that they would not be both required as inputs for the 'B' function?</p>



<a name="251569836"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Code%20not%20compiling/near/251569836" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Code.20not.20compiling.html#251569836">(Sep 01 2021 at 14:38)</a>:</h4>
<p>Well the way its set up, there could be multiple different euclidean plane structures on your type e.g.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">namespace</span> <span class="n">Euclidean_plane</span>
<span class="kd">variables</span> <span class="o">{</span><span class="n">point</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">{</span><span class="n">line</span> <span class="n">line2</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">Euclidean_plane</span> <span class="n">point</span> <span class="n">line2</span><span class="o">]</span> <span class="o">[</span><span class="n">Euclidean_plane</span> <span class="n">point</span> <span class="n">line</span><span class="o">]</span>

<span class="kn">local</span> <span class="kn">attribute</span> <span class="o">[</span><span class="kd">instance</span><span class="o">,</span> <span class="n">priority</span> <span class="mi">0</span><span class="o">]</span> <span class="n">prop_decidable</span>



<span class="kd">theorem</span> <span class="n">LinesOnePt</span> <span class="o">{</span><span class="n">p</span> <span class="n">p'</span><span class="o">:</span> <span class="n">point</span><span class="o">}</span> <span class="o">{</span><span class="n">l1</span> <span class="n">l2</span> <span class="o">:</span> <span class="n">line</span><span class="o">}</span> <span class="o">(</span><span class="n">l1</span><span class="bp">≠</span> <span class="n">l2</span><span class="o">):</span> <span class="n">pointline</span> <span class="n">p</span> <span class="n">l1</span> <span class="bp">→</span>  <span class="n">pointline</span> <span class="n">p</span> <span class="n">l2</span> <span class="bp">→</span>  <span class="n">pointline</span> <span class="n">p'</span> <span class="n">l1</span> <span class="bp">→</span>  <span class="n">pointline</span> <span class="n">p'</span> <span class="n">l2</span> <span class="bp">→</span> <span class="n">p</span><span class="bp">=</span><span class="n">p'</span><span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intros</span> <span class="n">hyp1</span> <span class="n">hyp2</span> <span class="n">hyp3</span> <span class="n">hyp4</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">by_contra</span><span class="o">,</span>
  <span class="n">intros</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">H</span><span class="o">(</span> <span class="n">I1b</span> <span class="n">p</span> <span class="n">p'</span> <span class="n">l1</span> <span class="n">l2</span> <span class="n">h</span> <span class="n">hyp1</span> <span class="n">hyp3</span> <span class="n">hyp2</span> <span class="n">hyp4</span><span class="o">),</span>

<span class="kd">end</span>

<span class="kd">theorem</span> <span class="n">afs</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span>  <span class="o">:</span> <span class="n">point</span><span class="o">)</span>  <span class="o">:</span> <span class="n">B</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="bp">→</span> <span class="n">B</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span><span class="o">:=</span>
<span class="kd">begin</span>
 <span class="n">tauto</span><span class="o">,</span>
<span class="kd">end</span>
<span class="c1">--def parallel (l1 l2 : line) : Prop := ∀ (a : point) pointline a l1 → ¬ pointline a l2</span>


<span class="kd">end</span> <span class="n">Euclidean_plane</span>
</code></pre></div>
<p>which should <code>B</code> refer to the Euclidean plane structure with line or line2?</p>



<a name="251570125"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Code%20not%20compiling/near/251570125" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Code.20not.20compiling.html#251570125">(Sep 01 2021 at 14:40)</a>:</h4>
<p>That said, there is a way to achieve this with <a href="https://leanprover-community.github.io/mathlib_docs/find/out_param">docs#out_param</a> as follows:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span>  <span class="n">data.set</span> <span class="n">tactic.interactive</span>
<span class="kd">class</span> <span class="n">Euclidean_plane</span> <span class="o">(</span><span class="n">point</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">(</span><span class="n">line</span> <span class="o">:</span> <span class="n">out_param</span> <span class="kt">Type</span><span class="o">):=</span>
<span class="c1">-- Equidistance of 4 Points</span>

<span class="o">(</span><span class="n">pointline</span> <span class="o">:</span> <span class="n">point</span> <span class="bp">→</span> <span class="n">line</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span>
<span class="c1">--pointline P L means P is on L</span>
<span class="o">(</span><span class="n">eqd</span> <span class="o">:</span> <span class="n">point</span> <span class="bp">→</span> <span class="n">point</span> <span class="bp">→</span> <span class="n">point</span> <span class="bp">→</span> <span class="n">point</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span>

<span class="c1">-- Between A B C means B is on the line segment AC</span>
<span class="o">(</span><span class="n">B</span> <span class="o">:</span> <span class="n">point</span> <span class="bp">→</span> <span class="n">point</span> <span class="bp">→</span> <span class="n">point</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span>
<span class="o">[</span><span class="n">dec_B</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span><span class="o">,</span> <span class="n">decidable</span> <span class="o">(</span><span class="n">B</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span><span class="o">)]</span>

<span class="o">(</span><span class="n">P1</span> <span class="o">{}</span> <span class="o">:</span> <span class="n">point</span><span class="o">)</span> <span class="o">(</span><span class="n">P2</span> <span class="o">{}</span> <span class="o">:</span> <span class="n">point</span><span class="o">)</span> <span class="o">(</span><span class="n">P3</span> <span class="o">{}</span> <span class="o">:</span> <span class="n">point</span><span class="o">)</span>

<span class="o">(</span><span class="n">I1a</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">point</span><span class="o">),</span> <span class="n">a</span><span class="bp">≠</span><span class="n">b</span> <span class="bp">→</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">l</span><span class="o">:</span> <span class="n">line</span><span class="o">)</span> <span class="o">,</span> <span class="n">pointline</span> <span class="n">a</span> <span class="n">l</span> <span class="bp">∧</span> <span class="n">pointline</span> <span class="n">b</span> <span class="n">l</span><span class="o">)</span>
<span class="o">(</span><span class="n">I1b</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">point</span><span class="o">),</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">l</span> <span class="n">l'</span><span class="o">:</span> <span class="n">line</span><span class="o">),</span> <span class="n">a</span><span class="bp">≠</span><span class="n">b</span> <span class="bp">→</span>  <span class="n">pointline</span> <span class="n">a</span> <span class="n">l</span> <span class="bp">→</span>  <span class="n">pointline</span> <span class="n">b</span> <span class="n">l</span> <span class="bp">→</span>  <span class="n">pointline</span> <span class="n">a</span> <span class="n">l'</span> <span class="bp">→</span>  <span class="n">pointline</span> <span class="n">b</span> <span class="n">l'</span>  <span class="bp">→</span><span class="n">l</span><span class="bp">=</span><span class="n">l'</span><span class="o">)</span>
<span class="o">(</span><span class="n">I2</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">l</span> <span class="o">:</span> <span class="n">line</span><span class="o">,</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">X</span><span class="o">:</span><span class="n">point</span><span class="bp">×</span><span class="n">point</span><span class="o">),</span> <span class="n">pointline</span> <span class="n">X.1</span> <span class="n">l</span> <span class="bp">∧</span> <span class="n">pointline</span> <span class="n">X.2</span> <span class="n">l</span> <span class="bp">∧</span> <span class="n">X.1</span><span class="bp">≠</span> <span class="n">X.2</span><span class="o">)</span>
<span class="o">(</span><span class="n">I3</span> <span class="o">:</span> <span class="bp">¬</span> <span class="bp">∃</span> <span class="n">l</span> <span class="o">:</span> <span class="n">line</span> <span class="o">,</span> <span class="n">pointline</span> <span class="n">P1</span> <span class="n">l</span> <span class="bp">∧</span> <span class="n">pointline</span> <span class="n">P2</span> <span class="n">l</span> <span class="bp">∧</span> <span class="n">pointline</span> <span class="n">P3</span> <span class="n">l</span><span class="o">)</span>


<span class="kn">open</span> <span class="n">classical</span>
<span class="kn">namespace</span> <span class="n">Euclidean_plane</span>
<span class="kd">variables</span> <span class="o">{</span><span class="n">point</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">{</span><span class="n">line</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">Euclidean_plane</span> <span class="n">point</span> <span class="n">line</span><span class="o">]</span>

<span class="kn">local</span> <span class="kn">attribute</span> <span class="o">[</span><span class="kd">instance</span><span class="o">,</span> <span class="n">priority</span> <span class="mi">0</span><span class="o">]</span> <span class="n">prop_decidable</span>



<span class="kd">theorem</span> <span class="n">LinesOnePt</span> <span class="o">{</span><span class="n">p</span> <span class="n">p'</span><span class="o">:</span> <span class="n">point</span><span class="o">}</span> <span class="o">{</span><span class="n">l1</span> <span class="n">l2</span> <span class="o">:</span> <span class="n">line</span><span class="o">}</span> <span class="o">(</span><span class="n">l1</span><span class="bp">≠</span> <span class="n">l2</span><span class="o">):</span> <span class="n">pointline</span> <span class="n">p</span> <span class="n">l1</span> <span class="bp">→</span>  <span class="n">pointline</span> <span class="n">p</span> <span class="n">l2</span> <span class="bp">→</span>  <span class="n">pointline</span> <span class="n">p'</span> <span class="n">l1</span> <span class="bp">→</span>  <span class="n">pointline</span> <span class="n">p'</span> <span class="n">l2</span> <span class="bp">→</span> <span class="n">p</span><span class="bp">=</span><span class="n">p'</span><span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intros</span> <span class="n">hyp1</span> <span class="n">hyp2</span> <span class="n">hyp3</span> <span class="n">hyp4</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">by_contra</span><span class="o">,</span>
  <span class="n">intros</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">H</span><span class="o">(</span> <span class="n">I1b</span> <span class="n">p</span> <span class="n">p'</span> <span class="n">l1</span> <span class="n">l2</span> <span class="n">h</span> <span class="n">hyp1</span> <span class="n">hyp3</span> <span class="n">hyp2</span> <span class="n">hyp4</span><span class="o">),</span>

<span class="kd">end</span>

<span class="kn">include</span> <span class="n">line</span>
<span class="kd">theorem</span> <span class="n">afs</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span>  <span class="o">:</span> <span class="n">point</span><span class="o">)</span>  <span class="o">:</span> <span class="n">B</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="bp">→</span> <span class="n">B</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span><span class="o">:=</span>
<span class="kd">begin</span>
 <span class="n">tauto</span><span class="o">,</span>
<span class="kd">end</span>
<span class="c1">--def parallel (l1 l2 : line) : Prop := ∀ (a : point) pointline a l1 → ¬ pointline a l2</span>


<span class="kd">end</span> <span class="n">Euclidean_plane</span>
</code></pre></div>



<a name="251572311"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Code%20not%20compiling/near/251572311" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andre Hernandez-Espiet (Rutgers) <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Code.20not.20compiling.html#251572311">(Sep 01 2021 at 14:51)</a>:</h4>
<p>Where are you seeing the line "variables {point : Type} {line line2 : Type} [Euclidean_plane point line2] [Euclidean_plane point line]"?<br>
I tried the "out_param" idea but it still gives me an error, unless I am misunderstanding something about this.<br>
Sorry I'm so confused, I'm just kind of new to this kind of thing.</p>



<a name="251574223"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Code%20not%20compiling/near/251574223" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Code.20not.20compiling.html#251574223">(Sep 01 2021 at 15:00)</a>:</h4>
<p>I modified all lines of your code to give some examples.<br>
In the first message, I tried to show why lean is complaining that it wants to be told which line you are talking about, because if you have more variables there are two possible answers</p>



<a name="251574382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Code%20not%20compiling/near/251574382" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Code.20not.20compiling.html#251574382">(Sep 01 2021 at 15:01)</a>:</h4>
<p>For the out param I gave the full file test.lean again after my changes, it compiles on my machine</p>



<a name="251574395"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Code%20not%20compiling/near/251574395" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Code.20not.20compiling.html#251574395">(Sep 01 2021 at 15:01)</a>:</h4>
<p>what error are you getting?</p>



<a name="251574610"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Code%20not%20compiling/near/251574610" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Code.20not.20compiling.html#251574610">(Sep 01 2021 at 15:02)</a>:</h4>
<p>I would recommend you just write <code>B line a b c</code> for now whenever you want to say that <code>a b c</code> lie on the same line in the euclidean plane structure on <code>point</code> and <code>line</code> that you assume exists</p>



<a name="251597665"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Code%20not%20compiling/near/251597665" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andre Hernandez-Espiet (Rutgers) <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Code.20not.20compiling.html#251597665">(Sep 01 2021 at 17:28)</a>:</h4>
<p>Ooooh it seems that I missed the "include line" that you put. Thanks a lot, it does work now!</p>



<a name="251599054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Code%20not%20compiling/near/251599054" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Code.20not.20compiling.html#251599054">(Sep 01 2021 at 17:37)</a>:</h4>
<p>If you want <code>line</code> to be implicit, then you can use the <code>{}</code> feature along with <code>out_param</code>:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">class</span> <span class="n">Euclidean_plane</span> <span class="o">(</span><span class="n">point</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">(</span><span class="n">line</span> <span class="o">:</span> <span class="n">out_param</span> <span class="bp">$</span> <span class="kt">Type</span><span class="o">):=</span>
<span class="o">(</span><span class="n">B</span> <span class="o">{}</span> <span class="o">:</span> <span class="n">point</span> <span class="bp">→</span> <span class="n">point</span> <span class="bp">→</span> <span class="n">point</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span>

<span class="k">#check</span> <span class="bp">@</span><span class="n">Euclidean_plane.B</span>
<span class="c1">-- Euclidean_plane.B : Π {point line : Type} [self : Euclidean_plane point line], point → point → point → Prop</span>
</code></pre></div>
<p>(<code>B []</code> also works, and I forget what the difference is...)</p>



<a name="251623396"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Code%20not%20compiling/near/251623396" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Code.20not.20compiling.html#251623396">(Sep 01 2021 at 20:23)</a>:</h4>
<p>I would have mentioned this but I couldn't get it to work -- I think that without the <code>out_param</code> it won't do this? Looks like you have it working though.</p>



<a name="251625862"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Code%20not%20compiling/near/251625862" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Code.20not.20compiling.html#251625862">(Sep 01 2021 at 20:41)</a>:</h4>
<p>Yeah, I had no idea that <code>out_param</code> interacts with <code>{}</code> like this, but nice to see that it does.</p>



<a name="251799461"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Code%20not%20compiling/near/251799461" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andre Hernandez-Espiet (Rutgers) <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Code.20not.20compiling.html#251799461">(Sep 02 2021 at 23:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="306601">Kyle Miller</span> <a href="#narrow/stream/113489-new-members/topic/Code.20not.20compiling/near/251599054">said</a>:</p>
<blockquote>
<p>If you want <code>line</code> to be implicit, then you can use the <code>{}</code> feature along with <code>out_param</code>:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">class</span> <span class="n">Euclidean_plane</span> <span class="o">(</span><span class="n">point</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">(</span><span class="n">line</span> <span class="o">:</span> <span class="n">out_param</span> <span class="bp">$</span> <span class="kt">Type</span><span class="o">):=</span>
<span class="o">(</span><span class="n">B</span> <span class="o">{}</span> <span class="o">:</span> <span class="n">point</span> <span class="bp">→</span> <span class="n">point</span> <span class="bp">→</span> <span class="n">point</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span>

<span class="k">#check</span> <span class="bp">@</span><span class="n">Euclidean_plane.B</span>
<span class="c1">-- Euclidean_plane.B : Π {point line : Type} [self : Euclidean_plane point line], point → point → point → Prop</span>
</code></pre></div>
<p>(<code>B []</code> also works, and I forget what the difference is...)</p>
</blockquote>
<p>I couldn't quite make this one work. I wonder why...</p>



<a name="251804894"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Code%20not%20compiling/near/251804894" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Code.20not.20compiling.html#251804894">(Sep 03 2021 at 00:12)</a>:</h4>
<p><span class="user-mention" data-user-id="407577">@Andre Hernandez-Espiet (Rutgers)</span> I'm not sure what I observed yesterday... I thought I had tested all four combinations of including or excluding <code>out_param</code> and <code>{}</code>, but I must not have tested <code>out_param</code> by itself. Sorry about that.  It seems like <code>out_param</code> is all you need to make <code>B</code> take <code>line</code> implicitly.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>