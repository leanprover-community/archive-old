---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html">Why isn't there an existential here?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="272615485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272615485" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272615485">(Feb 20 2022 at 20:50)</a>:</h4>
<p>Can I get some help with this proof ? </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">topology.basic</span>

<span class="kd">theorem</span> <span class="n">open_set_for_each</span>
  <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span>
  <span class="o">[</span><span class="n">topological_space</span> <span class="n">X</span><span class="o">]</span>
  <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h₀</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">A</span><span class="o">,</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">U</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">),</span> <span class="n">is_open</span> <span class="n">U</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">U</span> <span class="bp">∧</span> <span class="n">U</span> <span class="bp">⊂</span> <span class="n">A</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">is_open</span> <span class="n">A</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">have</span> <span class="n">f</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">→</span> <span class="n">set</span> <span class="n">X</span> <span class="o">,</span>
  <span class="o">{</span>
    <span class="n">intro</span> <span class="n">a</span><span class="o">,</span>
    <span class="k">let</span> <span class="n">x</span> <span class="o">:=</span> <span class="n">h₀</span> <span class="n">a</span><span class="o">,</span>
    <span class="c1">-- Trying to get my set U</span>
  <span class="o">},</span>
  <span class="c1">-- have : A = ⋃ (i : A), f i :=</span>
  <span class="c1">-- {</span>

  <span class="c1">-- }</span>
<span class="kd">end</span>
</code></pre></div>
<p>Pretty much I'm trying to build my function from <code>A</code> to <code>set X</code> by evaluating h0 at a point a, but I'm running into trouble because after <code>let x : = h0 a</code> my goal  state is </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">X</span><span class="o">:</span> <span class="kt">Type</span> <span class="n">u_1</span>
<span class="n">_inst_1</span><span class="o">:</span> <span class="n">topological_space</span> <span class="n">X</span>
<span class="n">A</span><span class="o">:</span> <span class="n">set</span> <span class="n">X</span>
<span class="n">h₀</span><span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">X</span><span class="o">),</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">A</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">U</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">),</span> <span class="n">is_open</span> <span class="n">U</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">U</span> <span class="bp">∧</span> <span class="n">U</span> <span class="bp">⊂</span> <span class="n">A</span><span class="o">)</span>
<span class="n">a</span><span class="o">:</span> <span class="bp">↥</span><span class="n">A</span>
<span class="n">x</span><span class="o">:</span> <span class="bp">↑</span><span class="n">a</span> <span class="bp">∈</span> <span class="n">A</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">U</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">),</span> <span class="n">is_open</span> <span class="n">U</span> <span class="bp">∧</span> <span class="bp">↑</span><span class="n">a</span> <span class="bp">∈</span> <span class="n">U</span> <span class="bp">∧</span> <span class="n">U</span> <span class="bp">⊂</span> <span class="n">A</span><span class="o">)</span> <span class="o">:=</span> <span class="n">h₀</span> <span class="bp">↑</span><span class="n">a</span>
<span class="bp">⊢</span> <span class="n">set</span> <span class="n">X</span>
</code></pre></div>
<p>but I thought that x would have become <code>∃ (U : set X), is_open U ∧ ↑a ∈ U ∧ U ⊂ A</code> and then I could use that set <code>U</code>...</p>



<a name="272615848"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272615848" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272615848">(Feb 20 2022 at 20:57)</a>:</h4>
<p>Did you try <code>suggest</code>?</p>



<a name="272616038"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272616038" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272616038">(Feb 20 2022 at 21:00)</a>:</h4>
<p>Also, you probably meant <code>⊆</code>, not <code>⊂</code></p>



<a name="272616171"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272616171" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272616171">(Feb 20 2022 at 21:01)</a>:</h4>
<p>As suggest will reveal,  your lemma is a repackaging of <a href="https://leanprover-community.github.io/mathlib_docs/find/is_open_iff_forall_mem_open">docs#is_open_iff_forall_mem_open</a></p>



<a name="272616184"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272616184" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272616184">(Feb 20 2022 at 21:01)</a>:</h4>
<p>If you feel this is cheating then you'll have to tell us more about the constraints in your game.</p>



<a name="272616889"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272616889" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272616889">(Feb 20 2022 at 21:13)</a>:</h4>
<p>My goal is to prove it using the fact that the union of open sets is still open</p>



<a name="272616962"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272616962" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272616962">(Feb 20 2022 at 21:14)</a>:</h4>
<p>So first I want to build that function f which takes an element of <code>A</code> and maps it to the <code>U</code> you would get from <code>h0</code>, then I'll take the union of that function over every <code>i</code> in <code>A</code></p>



<a name="272616975"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272616975" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272616975">(Feb 20 2022 at 21:15)</a>:</h4>
<p>But the goal state isn't like I expected.</p>



<a name="272617190"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272617190" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272617190">(Feb 20 2022 at 21:19)</a>:</h4>
<p>You'll want <code>let f</code>, not <code>have</code>, in any case</p>



<a name="272617397"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272617397" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272617397">(Feb 20 2022 at 21:22)</a>:</h4>
<p>The first line you want is probably <code>choose! f hf using h₀,</code> then</p>



<a name="272617422"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272617422" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272617422">(Feb 20 2022 at 21:23)</a>:</h4>
<p>The problem you have seems to be related to the difference between sets and types in lean, though. I'd try <code>let x := h\0 a _,</code>, leaving a proof obligation for a \in A, and then simp or suggest will probably prove that</p>



<a name="272617495"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272617495" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272617495">(Feb 20 2022 at 21:24)</a>:</h4>
<p>But Patrick's suggestion will likely get you more than one step ahead :)</p>



<a name="272617544"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272617544" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272617544">(Feb 20 2022 at 21:25)</a>:</h4>
<p>Something like:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">begin</span>
  <span class="n">choose</span><span class="bp">!</span> <span class="n">f</span> <span class="n">hf</span> <span class="n">using</span> <span class="n">h₀</span><span class="o">,</span>
  <span class="k">have</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">=</span> <span class="bp">⋃</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">A</span><span class="o">,</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
  <span class="o">{</span>
    <span class="gr">sorry</span> <span class="o">},</span>
  <span class="n">rw</span> <span class="n">this</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">is_open_bUnion</span><span class="o">,</span>
  <span class="gr">sorry</span>
<span class="kd">end</span>
</code></pre></div>



<a name="272617929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272617929" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272617929">(Feb 20 2022 at 21:32)</a>:</h4>
<p>I just read the code you actually pasted. There is no way you'll be able to construct data out of that existential without using choice. You can try and you'll get Lean complaining about only being able to eliminate into Prop.</p>



<a name="272617947"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272617947" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272617947">(Feb 20 2022 at 21:33)</a>:</h4>
<p>You can try with</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">begin</span>
  <span class="k">let</span> <span class="n">f</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">→</span> <span class="n">set</span> <span class="n">X</span> <span class="o">,</span>
  <span class="o">{</span> <span class="n">intro</span> <span class="n">a</span><span class="o">,</span>
    <span class="n">cases</span> <span class="n">h₀</span> <span class="n">a</span> <span class="n">a.property</span> <span class="k">with</span> <span class="n">U</span> <span class="n">hU</span><span class="o">,</span>

  <span class="o">},</span>
  <span class="c1">-- have : A = ⋃ (i : A), f i :=</span>
  <span class="c1">-- {</span>

  <span class="c1">-- }</span>
<span class="kd">end</span>
</code></pre></div>



<a name="272617974"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272617974" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272617974">(Feb 20 2022 at 21:33)</a>:</h4>
<p>And this introduces the subtype associated to <code>A</code>, which you should avoid whenever possible. Note how my version features no function defined only on <code>A</code>.</p>



<a name="272627436"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272627436" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272627436">(Feb 21 2022 at 00:30)</a>:</h4>
<p>Thanks for showing me the <code>choose</code> tactic, I managed to get the proof! </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">topology.basic</span>

<span class="kn">open</span> <span class="n">set</span>

<span class="kd">theorem</span> <span class="n">open_set_for_each</span>
  <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span>
  <span class="o">[</span><span class="n">topological_space</span> <span class="n">X</span><span class="o">]</span>
  <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h₀</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">A</span><span class="o">,</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">U</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">),</span> <span class="n">is_open</span> <span class="n">U</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">U</span> <span class="bp">∧</span> <span class="n">U</span> <span class="bp">⊆</span> <span class="n">A</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">is_open</span> <span class="n">A</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">choose</span><span class="bp">!</span> <span class="n">f</span> <span class="n">hf</span> <span class="n">using</span> <span class="n">h₀</span><span class="o">,</span>
  <span class="k">have</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">=</span> <span class="bp">⋃</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">A</span><span class="o">,</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span>
  <span class="o">{</span>
    <span class="n">ext</span> <span class="n">p</span><span class="o">,</span>
    <span class="n">split</span><span class="o">,</span>
    <span class="o">{</span>
      <span class="n">intro</span> <span class="n">hp</span><span class="o">,</span>
      <span class="k">have</span> <span class="n">hfp</span> <span class="o">:=</span> <span class="n">hf</span> <span class="n">p</span> <span class="n">hp</span><span class="o">,</span>
      <span class="n">rw</span> <span class="n">mem_Union</span><span class="o">,</span>
      <span class="n">use</span> <span class="n">p</span><span class="o">,</span>
      <span class="n">rw</span> <span class="n">mem_Union</span><span class="o">,</span>
      <span class="n">use</span> <span class="n">hp</span><span class="o">,</span>
      <span class="n">exact</span> <span class="n">hfp.2.1</span><span class="o">,</span>
    <span class="o">},</span>
    <span class="o">{</span>
      <span class="n">intro</span> <span class="n">hp</span><span class="o">,</span>
      <span class="n">rw</span> <span class="n">mem_Union</span> <span class="n">at</span> <span class="n">hp</span><span class="o">,</span>
      <span class="n">cases</span> <span class="n">hp</span> <span class="k">with</span> <span class="n">i</span> <span class="n">hi</span><span class="o">,</span>
      <span class="n">rw</span> <span class="n">mem_Union</span> <span class="n">at</span> <span class="n">hi</span><span class="o">,</span>
      <span class="n">cases</span> <span class="n">hi</span> <span class="k">with</span> <span class="n">hia</span> <span class="n">hpfi</span><span class="o">,</span>
      <span class="k">have</span> <span class="n">x</span> <span class="o">:=</span> <span class="n">hf</span> <span class="n">i</span> <span class="n">hia</span><span class="o">,</span>
      <span class="n">exact</span> <span class="n">x.2.2</span> <span class="n">hpfi</span><span class="o">,</span>
    <span class="o">}</span>
  <span class="o">},</span>
  <span class="n">rw</span> <span class="n">this</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">is_open_bUnion</span><span class="o">,</span>
  <span class="n">intros</span> <span class="n">i</span> <span class="n">hi</span><span class="o">,</span>
  <span class="n">exact</span> <span class="o">(</span><span class="n">hf</span> <span class="n">i</span> <span class="n">hi</span><span class="o">)</span><span class="bp">.</span><span class="mi">1</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="272627455"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272627455" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272627455">(Feb 21 2022 at 00:30)</a>:</h4>
<p>Do you have any feedback to shorten the intermediate proof?</p>



<a name="272627559"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272627559" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272627559">(Feb 21 2022 at 00:33)</a>:</h4>
<p>You can use <code>mem_Union₂</code> instead of <code>mem_Union</code> twice.</p>



<a name="272634458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272634458" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272634458">(Feb 21 2022 at 02:48)</a>:</h4>
<p>Here's a way to avoid choice:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">open_set_for_each</span>
  <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span>
  <span class="o">[</span><span class="n">topological_space</span> <span class="n">X</span><span class="o">]</span>
  <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h₀</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">A</span><span class="o">,</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">U</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">),</span> <span class="n">is_open</span> <span class="n">U</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">U</span> <span class="bp">∧</span> <span class="n">U</span> <span class="bp">⊆</span> <span class="n">A</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">is_open</span> <span class="n">A</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">have</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">=</span> <span class="bp">⋃</span> <span class="n">U</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">U</span> <span class="bp">⊆</span> <span class="n">A</span> <span class="bp">∧</span> <span class="n">is_open</span> <span class="n">U</span><span class="o">),</span> <span class="n">U</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">ext</span> <span class="n">p</span><span class="o">,</span>
    <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">mem_Union</span><span class="o">,</span> <span class="n">exists_prop</span><span class="o">],</span>
    <span class="n">split</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">intro</span> <span class="n">hp</span><span class="o">,</span>
      <span class="n">rcases</span> <span class="n">h₀</span> <span class="n">p</span> <span class="n">hp</span> <span class="k">with</span> <span class="o">⟨</span><span class="n">U</span><span class="o">,</span> <span class="n">hU</span><span class="o">,</span> <span class="n">hxU</span><span class="o">,</span> <span class="n">hUA</span><span class="o">⟩,</span>
      <span class="n">use</span> <span class="o">[</span><span class="n">U</span><span class="o">,</span> <span class="n">hUA</span><span class="o">,</span> <span class="n">hU</span><span class="o">,</span> <span class="n">hxU</span><span class="o">],</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">rintro</span> <span class="o">⟨</span><span class="n">U</span><span class="o">,</span> <span class="o">⟨</span><span class="n">hUA</span><span class="o">,</span> <span class="n">hU</span><span class="o">⟩,</span> <span class="n">hpU</span><span class="o">⟩,</span>
      <span class="n">exact</span> <span class="n">hUA</span> <span class="n">hpU</span><span class="o">,</span> <span class="o">},</span> <span class="o">},</span>
  <span class="n">rw</span> <span class="n">this</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">is_open_bUnion</span><span class="o">,</span>
  <span class="n">rintros</span> <span class="n">U</span> <span class="o">⟨</span><span class="n">hU</span><span class="o">,</span> <span class="n">hU'</span><span class="o">⟩,</span>
  <span class="n">exact</span> <span class="n">hU'</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>(If you're unfamiliar with <a href="https://leanprover-community.github.io/mathlib_docs/find/rintro">docs#rintro</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/rcases">docs#rcases</a>, they're ways to simplify strings of <code>cases</code>.)</p>



<a name="272637541"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272637541" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272637541">(Feb 21 2022 at 03:39)</a>:</h4>
<p>(This is actually somewhat similar in spirit to the choice-ful and choice-free proofs of Theorem 1.4 of Andrej Bauer's <a href="https://www.ams.org/journals/bull/2017-54-03/S0273-0979-2016-01556-4/">Five stages of accepting constructive mathematics</a>.)</p>



<a name="272684457"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272684457" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272684457">(Feb 21 2022 at 12:56)</a>:</h4>
<p>Thanks seeing that way is nice too</p>



<a name="272684497"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272684497" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272684497">(Feb 21 2022 at 12:57)</a>:</h4>
<p>Yes, I wanted to create the function that was requested but the lemma itself doesn't need choice of course.</p>



<a name="272684603"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272684603" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272684603">(Feb 21 2022 at 12:58)</a>:</h4>
<p>I moved on to a new question</p>
<p><a href="/user_uploads/3121/zI1leCaneRALe-x-FE2wYZf_/image.png">image.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/3121/zI1leCaneRALe-x-FE2wYZf_/image.png" title="image.png"><img src="/user_uploads/3121/zI1leCaneRALe-x-FE2wYZf_/image.png"></a></div><p>I tried to model it like some of the theorems I saw in the docs, but I'ts not completely working out here's what I've gotten to so far</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">intersection_of_topologies</span>
  <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span>
  <span class="o">(</span><span class="n">ι</span> <span class="o">:</span> <span class="kt">Sort</span><span class="bp">*</span><span class="o">)</span>
  <span class="o">[</span><span class="n">topological_space</span> <span class="n">X</span><span class="o">]</span>
  <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">ι</span> <span class="bp">→</span> <span class="n">topological_space</span> <span class="n">X</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">topological_space</span> <span class="bp">∩</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">ι</span><span class="o">,</span> <span class="n">f</span> <span class="n">x</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="gr">sorry</span>
<span class="kd">end</span>
</code></pre></div>
<p>Although I know parts of it aren't written correctly...</p>



<a name="272684728"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272684728" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272684728">(Feb 21 2022 at 12:59)</a>:</h4>
<p>Your conclusion doesn't mean anything (and I would be surprised if Lean accepts to parse it)</p>



<a name="272684961"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272684961" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272684961">(Feb 21 2022 at 13:00)</a>:</h4>
<p>Yeah, I'm trying to figure out how to use this definition <a href="/user_uploads/3121/dcqIWjZ_taO3FNlyVPxM5nBs/image.png">image.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/3121/dcqIWjZ_taO3FNlyVPxM5nBs/image.png" title="image.png"><img src="/user_uploads/3121/dcqIWjZ_taO3FNlyVPxM5nBs/image.png"></a></div><p>in the book, we're saying that this set (the intersection) is a topology on X. But I'm not quite sure how I would write that in terms of the type theory version...</p>



<a name="272685039"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272685039" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272685039">(Feb 21 2022 at 13:01)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">topology.basic</span>

<span class="kd">def</span> <span class="n">intersection_of_topologies</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">ι</span> <span class="o">:</span> <span class="kt">Sort</span><span class="bp">*</span><span class="o">}</span>
  <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">ι</span> <span class="bp">→</span> <span class="n">topological_space</span> <span class="n">X</span><span class="o">)</span> <span class="o">:</span> <span class="n">topological_space</span> <span class="n">X</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">is_open</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">s</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">i</span><span class="o">,</span> <span class="o">(</span><span class="n">f</span> <span class="n">i</span><span class="o">)</span><span class="bp">.</span><span class="n">is_open</span> <span class="n">s</span><span class="o">,</span>
  <span class="n">is_open_univ</span> <span class="o">:=</span> <span class="gr">sorry</span><span class="o">,</span>
  <span class="n">is_open_inter</span> <span class="o">:=</span> <span class="gr">sorry</span><span class="o">,</span>
  <span class="n">is_open_sUnion</span> <span class="o">:=</span> <span class="gr">sorry</span> <span class="o">}</span>
</code></pre></div>



<a name="272685270"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272685270" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272685270">(Feb 21 2022 at 13:03)</a>:</h4>
<p>Doesn't the statement we're proving have to talk about <code>f</code> how could <code>topological_space X</code> represent "the intersection of the topologies is a topology"?</p>



<a name="272685596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272685596" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272685596">(Feb 21 2022 at 13:06)</a>:</h4>
<p>Wait with a goal of <code>topological_space X</code> we're constructing a topology right?</p>



<a name="272685630"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272685630" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272685630">(Feb 21 2022 at 13:07)</a>:</h4>
<p>I'm still confused as to why we don't need to talk about the intersection in our goal though...</p>



<a name="272687368"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272687368" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272687368">(Feb 21 2022 at 13:23)</a>:</h4>
<p><code>topological_space X</code> is the type of topologies on X. A term having this type gathers the data of which sets are open with the proofs of the conditions these opens sets must satisfy.</p>



<a name="272687512"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272687512" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272687512">(Feb 21 2022 at 13:24)</a>:</h4>
<p>If you really want to see the intersection sign then you can write</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">intersection_of_topologies</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">ι</span> <span class="o">:</span> <span class="kt">Sort</span><span class="bp">*</span><span class="o">}</span>
  <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">ι</span> <span class="bp">→</span> <span class="n">topological_space</span> <span class="n">X</span><span class="o">)</span> <span class="o">:</span> <span class="n">topological_space</span> <span class="n">X</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">is_open</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">s</span><span class="o">,</span> <span class="n">s</span> <span class="bp">∈</span> <span class="bp">⋂</span> <span class="n">i</span><span class="o">,</span> <span class="o">{</span><span class="n">t</span> <span class="bp">|</span> <span class="o">(</span><span class="n">f</span> <span class="n">i</span><span class="o">)</span><span class="bp">.</span><span class="n">is_open</span> <span class="n">t</span><span class="o">},</span>
  <span class="n">is_open_univ</span> <span class="o">:=</span> <span class="gr">sorry</span><span class="o">,</span>
  <span class="n">is_open_inter</span> <span class="o">:=</span> <span class="gr">sorry</span><span class="o">,</span>
  <span class="n">is_open_sUnion</span> <span class="o">:=</span> <span class="gr">sorry</span> <span class="o">}</span>
</code></pre></div>



<a name="272687672"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272687672" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272687672">(Feb 21 2022 at 13:26)</a>:</h4>
<p>and then start each proof with <code>simp_rw [set.mem_Inter, set.mem_set_of_eq],</code> to get back to my formulation.</p>



<a name="272688642"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272688642" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272688642">(Feb 21 2022 at 13:35)</a>:</h4>
<p>Is this definition a proof that the intersection of the topologies is a topology?</p>



<a name="272688693"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272688693" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272688693">(Feb 21 2022 at 13:36)</a>:</h4>
<p>I thought we would write <code>theorem</code> instead?</p>



<a name="272688749"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272688749" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272688749">(Feb 21 2022 at 13:36)</a>:</h4>
<p><code>theorem</code> would mean it has only proofs. Here we are combining data (is the first field) with proofs</p>



<a name="272688976"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272688976" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272688976">(Feb 21 2022 at 13:38)</a>:</h4>
<p>mathlib has no way to say that "<code>T : set (set X)</code> is a topology on <code>X</code>", other than by building a <code>topological_space</code> structure whose first component is <code>T</code>. In other words, there's no <code>is_topology</code>.</p>



<a name="272689001"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272689001" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272689001">(Feb 21 2022 at 13:38)</a>:</h4>
<p>Nothing fundamental about that, we just never needed it.</p>



<a name="272689110"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272689110" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272689110">(Feb 21 2022 at 13:39)</a>:</h4>
<p>Ok, so we have no way of saying <code>is_topology</code>, but so then how do we show something <em>is a topology</em>?</p>



<a name="272689140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272689140" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272689140">(Feb 21 2022 at 13:39)</a>:</h4>
<p>As shown above</p>



<a name="272689164"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272689164" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272689164">(Feb 21 2022 at 13:39)</a>:</h4>
<p>So you make a definition?</p>



<a name="272689355"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272689355" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272689355">(Feb 21 2022 at 13:41)</a>:</h4>
<p>The three sorries in Patrick's example should be filled in with proofs that the family of open sets given in <code>is_open</code> satisfies the correct axioms</p>



<a name="272689415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272689415" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272689415">(Feb 21 2022 at 13:41)</a>:</h4>
<p>So it's a structure definition with one data field (component?) and three proof fields</p>



<a name="272689637"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272689637" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272689637">(Feb 21 2022 at 13:43)</a>:</h4>
<p>Ok, I think I'm understanding it a little better now, and this thing <code>is_open : set α → Prop</code> is a function which determines if something is open or not right?</p>



<a name="272689720"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272689720" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272689720">(Feb 21 2022 at 13:44)</a>:</h4>
<p>Yes.</p>



<a name="272689918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272689918" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272689918">(Feb 21 2022 at 13:45)</a>:</h4>
<p>But you don't have to use mathlib's way if you only want to do exercises in topology. Nothing prevents you from writing</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">topology.basic</span>

<span class="kn">open</span> <span class="n">set</span>

<span class="kd">structure</span> <span class="n">is_topology</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">(</span><span class="n">T</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">X</span><span class="o">))</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">univ_op</span> <span class="o">:</span> <span class="n">univ</span> <span class="bp">∈</span> <span class="n">T</span><span class="o">)</span>
<span class="o">(</span><span class="n">inter_op</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">u</span> <span class="n">v</span> <span class="bp">∈</span> <span class="n">T</span><span class="o">,</span> <span class="n">u</span> <span class="bp">∩</span> <span class="n">v</span> <span class="bp">∈</span> <span class="n">T</span><span class="o">)</span>
<span class="o">(</span><span class="n">Union_op</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">X</span><span class="o">),</span> <span class="n">S</span> <span class="bp">⊆</span> <span class="n">T</span> <span class="bp">→</span> <span class="bp">⋃₀</span> <span class="n">S</span> <span class="bp">∈</span> <span class="n">T</span><span class="o">)</span>
</code></pre></div>
<p>and playing with it. But you won't have all the lemmas we have about topologies in mathlib.</p>



<a name="272690056"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272690056" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272690056">(Feb 21 2022 at 13:46)</a>:</h4>
<p>So in our scenario our open sets are the ones which are open in all each of the topologies in the family, so that's why you're using <code>∀ i, (f i).is_open s</code> right?</p>



<a name="272690081"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272690081" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272690081">(Feb 21 2022 at 13:46)</a>:</h4>
<p>You don't even have to use precisely the same wording, you can use:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">structure</span> <span class="n">is_topology</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">(</span><span class="n">T</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">X</span><span class="o">))</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">Inter_op</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">X</span><span class="o">),</span> <span class="n">S</span> <span class="bp">⊆</span> <span class="n">T</span> <span class="bp">→</span> <span class="n">finite</span> <span class="n">S</span> <span class="bp">→</span> <span class="bp">⋂₀</span> <span class="n">S</span> <span class="bp">∈</span> <span class="n">T</span><span class="o">)</span>
<span class="o">(</span><span class="n">Union_op</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">X</span><span class="o">),</span> <span class="n">S</span> <span class="bp">⊆</span> <span class="n">T</span> <span class="bp">→</span> <span class="bp">⋃₀</span> <span class="n">S</span> <span class="bp">∈</span> <span class="n">T</span><span class="o">)</span>
</code></pre></div>



<a name="272690174"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272690174" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272690174">(Feb 21 2022 at 13:47)</a>:</h4>
<p>Maybe <a href="https://leanprover-community.github.io/glossary.html#bundled-vs-unbundled">glossary#bundled-vs-unbundled</a> is briefly useful too</p>



<a name="272690272"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Why%20isn%27t%20there%20an%20existential%20here%3F/near/272690272" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Why.20isn't.20there.20an.20existential.20here.3F.html#272690272">(Feb 21 2022 at 13:48)</a>:</h4>
<p>Thanks, I'm starting to understand this more - I had never done a proof like that yet so the examples help!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>