---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Lean4.20.3A.20Repr.20in.20parameterized.20inductive.20types.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean4.20.3A.20Repr.20in.20parameterized.20inductive.20types.html">Lean4 : Repr in parameterized inductive types</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="306162663"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean4%20%3A%20Repr%20in%20parameterized%20inductive%20types/near/306162663" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shubham Kumar ðŸ¦€ (he/him) <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean4.20.3A.20Repr.20in.20parameterized.20inductive.20types.html#306162663">(Oct 26 2022 at 04:20)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code>  <span class="kd">inductive</span> <span class="n">Op</span> <span class="n">Nat</span> <span class="n">where</span>
  <span class="bp">|</span> <span class="n">Add</span> <span class="o">:</span> <span class="n">Nat</span> <span class="bp">â†’</span> <span class="n">Nat</span> <span class="bp">â†’</span> <span class="n">Op</span> <span class="n">Nat</span>
  <span class="bp">|</span> <span class="n">Sub</span> <span class="o">:</span> <span class="n">Nat</span> <span class="bp">â†’</span> <span class="n">Nat</span> <span class="bp">â†’</span> <span class="n">Op</span> <span class="n">Nat</span>
  <span class="n">deriving</span> <span class="n">Repr</span>
</code></pre></div>
<p>Repr seems to have issues with the inductive type, I'm not sure why? </p>
<p>This is the error message<br>
<a href="/user_uploads/3121/CJj9a_aAdTyDdnPU0898SRPr/Screenshot-from-2022-10-26-09-50-06.png">Screenshot-from-2022-10-26-09-50-06.png</a> file:///home/sk/Pictures/Screenshots/Screenshot%20from%202022-10-26%2009-50-06.png</p>
<div class="message_inline_image"><a href="/user_uploads/3121/CJj9a_aAdTyDdnPU0898SRPr/Screenshot-from-2022-10-26-09-50-06.png" title="Screenshot-from-2022-10-26-09-50-06.png"><img src="/user_uploads/3121/CJj9a_aAdTyDdnPU0898SRPr/Screenshot-from-2022-10-26-09-50-06.png"></a></div>



<a name="306177385"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean4%20%3A%20Repr%20in%20parameterized%20inductive%20types/near/306177385" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean4.20.3A.20Repr.20in.20parameterized.20inductive.20types.html#306177385">(Oct 26 2022 at 07:11)</a>:</h4>
<p>What is <code>Nat</code> in <code>inductive Op Nat where</code> supposed to mean?</p>



<a name="306177418"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean4%20%3A%20Repr%20in%20parameterized%20inductive%20types/near/306177418" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean4.20.3A.20Repr.20in.20parameterized.20inductive.20types.html#306177418">(Oct 26 2022 at 07:11)</a>:</h4>
<p>Is <code>Nat</code> a variable for the whole declaration?</p>



<a name="306177914"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean4%20%3A%20Repr%20in%20parameterized%20inductive%20types/near/306177914" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean4.20.3A.20Repr.20in.20parameterized.20inductive.20types.html#306177914">(Oct 26 2022 at 07:15)</a>:</h4>
<p>I'm unsure about both what you intended and how Lean interprets this definition and even if they are the same, this probably isn't the clearest way to write the definition.</p>



<a name="306187519"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean4%20%3A%20Repr%20in%20parameterized%20inductive%20types/near/306187519" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shubham Kumar ðŸ¦€ (he/him) <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean4.20.3A.20Repr.20in.20parameterized.20inductive.20types.html#306187519">(Oct 26 2022 at 08:23)</a>:</h4>
<p>good question<br>
<span class="user-mention silent" data-user-id="110032">Reid Barton</span> <a href="#narrow/stream/113489-new-members/topic/Lean4.20.3A.20Repr.20in.20parameterized.20inductive.20types/near/306177385">said</a>:</p>
<blockquote>
<p>What is <code>Nat</code> in <code>inductive Op Nat where</code> supposed to mean?</p>
</blockquote>
<p>I'm not sure if I was doing it the right way but I wanted Op to be parameterized with a Natural Number.<br>
And Add and Sub are 2 operations on Natural numbers that I am trying to define inductively.</p>
<p>I'm pretty sure I didn't represent it correctly</p>



<a name="306188070"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean4%20%3A%20Repr%20in%20parameterized%20inductive%20types/near/306188070" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean4.20.3A.20Repr.20in.20parameterized.20inductive.20types.html#306188070">(Oct 26 2022 at 08:27)</a>:</h4>
<p>You might want <code>(n : Nat)</code> in that case. But I still don't understand what your are trying to do exactly.</p>



<a name="306188305"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean4%20%3A%20Repr%20in%20parameterized%20inductive%20types/near/306188305" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean4.20.3A.20Repr.20in.20parameterized.20inductive.20types.html#306188305">(Oct 26 2022 at 08:29)</a>:</h4>
<p>It seems like you want to do at the same time:</p>
<ul>
<li>state that <code>Add</code> is a <em>binary</em> operation? (I guess you want it to be an <code>Op 2</code>, maybe?</li>
<li>given an actual definition of <code>Add</code>, because it eats <code>(x : Nat)</code> and <code>(y : Nat)</code>.</li>
</ul>



<a name="306188400"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean4%20%3A%20Repr%20in%20parameterized%20inductive%20types/near/306188400" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean4.20.3A.20Repr.20in.20parameterized.20inductive.20types.html#306188400">(Oct 26 2022 at 08:29)</a>:</h4>
<p>But if that is what you want to do, then you shouldn't do them at the same time.</p>



<a name="306188493"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean4%20%3A%20Repr%20in%20parameterized%20inductive%20types/near/306188493" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean4.20.3A.20Repr.20in.20parameterized.20inductive.20types.html#306188493">(Oct 26 2022 at 08:30)</a>:</h4>
<p>Can you <a href="https://en.wikipedia.org/wiki/XY_problem">#xy</a> your question?</p>



<a name="306192135"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean4%20%3A%20Repr%20in%20parameterized%20inductive%20types/near/306192135" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shubham Kumar ðŸ¦€ (he/him) <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean4.20.3A.20Repr.20in.20parameterized.20inductive.20types.html#306192135">(Oct 26 2022 at 08:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/113489-new-members/topic/Lean4.20.3A.20Repr.20in.20parameterized.20inductive.20types/near/306188070">said</a>:</p>
<blockquote>
<p>Can you <a href="https://en.wikipedia.org/wiki/XY_problem">#xy</a> your question?</p>
</blockquote>
<p>sure I want to build a inductive type that essentially does addition, multiplication, division and subtraction.</p>
<p>I don't know how to represent that in lean4</p>



<a name="306192964"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean4%20%3A%20Repr%20in%20parameterized%20inductive%20types/near/306192964" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shubham Kumar ðŸ¦€ (he/him) <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean4.20.3A.20Repr.20in.20parameterized.20inductive.20types.html#306192964">(Oct 26 2022 at 08:54)</a>:</h4>
<p>when I say "does" I mean generate constructors for doing those operations if that makes any sense</p>



<a name="306194306"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean4%20%3A%20Repr%20in%20parameterized%20inductive%20types/near/306194306" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean4.20.3A.20Repr.20in.20parameterized.20inductive.20types.html#306194306">(Oct 26 2022 at 09:01)</a>:</h4>
<p>Are you trying to build your own copy of the natural numbers? Or are you trying to define what a (semi)ring is? Or are you trying to do some sort of model theory?</p>



<a name="306202813"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean4%20%3A%20Repr%20in%20parameterized%20inductive%20types/near/306202813" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shubham Kumar ðŸ¦€ (he/him) <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean4.20.3A.20Repr.20in.20parameterized.20inductive.20types.html#306202813">(Oct 26 2022 at 09:52)</a>:</h4>
<p>I'm trying to write semantics of a stack machine that does the four operations, it can be only add and multiply just to make things work</p>



<a name="306202837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean4%20%3A%20Repr%20in%20parameterized%20inductive%20types/near/306202837" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shubham Kumar ðŸ¦€ (he/him) <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean4.20.3A.20Repr.20in.20parameterized.20inductive.20types.html#306202837">(Oct 26 2022 at 09:52)</a>:</h4>
<p>nothing too complex</p>



<a name="306203231"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean4%20%3A%20Repr%20in%20parameterized%20inductive%20types/near/306203231" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shubham Kumar ðŸ¦€ (he/him) <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean4.20.3A.20Repr.20in.20parameterized.20inductive.20types.html#306203231">(Oct 26 2022 at 09:54)</a>:</h4>
<p>I am trying to learn how to encode operational semantics, very much a beginner</p>



<a name="306203283"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean4%20%3A%20Repr%20in%20parameterized%20inductive%20types/near/306203283" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shubham Kumar ðŸ¦€ (he/him) <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean4.20.3A.20Repr.20in.20parameterized.20inductive.20types.html#306203283">(Oct 26 2022 at 09:55)</a>:</h4>
<p>in lean and expressing semantics in lean</p>



<a name="306204300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean4%20%3A%20Repr%20in%20parameterized%20inductive%20types/near/306204300" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean4.20.3A.20Repr.20in.20parameterized.20inductive.20types.html#306204300">(Oct 26 2022 at 10:01)</a>:</h4>
<p>The simplest option is</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">inductive</span> <span class="n">Op</span> <span class="n">where</span>
<span class="bp">|</span> <span class="n">Add</span> <span class="o">:</span> <span class="n">Op</span>
<span class="bp">|</span> <span class="n">Sub</span> <span class="o">:</span> <span class="n">Op</span>
</code></pre></div>



<a name="306206259"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean4%20%3A%20Repr%20in%20parameterized%20inductive%20types/near/306206259" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean4.20.3A.20Repr.20in.20parameterized.20inductive.20types.html#306206259">(Oct 26 2022 at 10:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="557243">Shubham Kumar ðŸ¦€ (he/him)</span> <a href="#narrow/stream/113489-new-members/topic/Lean4.20.3A.20Repr.20in.20parameterized.20inductive.20types/near/306202813">said</a>:</p>
<blockquote>
<p>I'm trying to write semantics of a stack machine that does the four operations, it can be only add and multiply just to make things work</p>
</blockquote>
<p>Ok, that's a much better <a href="https://en.wikipedia.org/wiki/XY_problem">#xy</a>.</p>



<a name="306206534"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean4%20%3A%20Repr%20in%20parameterized%20inductive%20types/near/306206534" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shubham Kumar ðŸ¦€ (he/him) <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean4.20.3A.20Repr.20in.20parameterized.20inductive.20types.html#306206534">(Oct 26 2022 at 10:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/113489-new-members/topic/Lean4.20.3A.20Repr.20in.20parameterized.20inductive.20types/near/306206259">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="557243">Shubham Kumar ðŸ¦€ (he/him)</span> <a href="#narrow/stream/113489-new-members/topic/Lean4.20.3A.20Repr.20in.20parameterized.20inductive.20types/near/306202813">said</a>:</p>
<blockquote>
<p>I'm trying to write semantics of a stack machine that does the four operations, it can be only add and multiply just to make things work</p>
</blockquote>
<p>Ok, that's a much better <a href="https://en.wikipedia.org/wiki/XY_problem">#xy</a>.</p>
</blockquote>
<p>Sorry for making it too complex, thanks for bearing with me :-)</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>