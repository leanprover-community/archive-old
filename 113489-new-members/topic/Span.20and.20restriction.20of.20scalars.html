---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Span.20and.20restriction.20of.20scalars.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Span.20and.20restriction.20of.20scalars.html">Span and restriction of scalars</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="223247437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Span%20and%20restriction%20of%20scalars/near/223247437" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Span.20and.20restriction.20of.20scalars.html#223247437">(Jan 19 2021 at 16:00)</a>:</h4>
<p>I would like to prove the following: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span> is an <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span>-algebra and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> an <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span>-module. For <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>⊆</mo><mi>M</mi></mrow><annotation encoding="application/x-tex">X \subseteq M</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> a subset, then <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">⟨</mo><mi>X</mi><msub><mo stretchy="false">⟩</mo><mi>R</mi></msub><mo>⊆</mo><mo stretchy="false">⟨</mo><mi>X</mi><msub><mo stretchy="false">⟩</mo><mi>A</mi></msub></mrow><annotation encoding="application/x-tex">\langle X \rangle_R \subseteq \langle X \rangle_A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">⟨</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose"><span class="mclose">⟩</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">⟨</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose"><span class="mclose">⟩</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">A</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>, where <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">⟨</mo><mi>X</mi><msub><mo stretchy="false">⟩</mo><mi>R</mi></msub></mrow><annotation encoding="application/x-tex">\langle X \rangle_R</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">⟨</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose"><span class="mclose">⟩</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> is the the submodule generated by <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> as <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span>-module, and similarly for <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">⟨</mo><mi>X</mi><msub><mo stretchy="false">⟩</mo><mi>A</mi></msub></mrow><annotation encoding="application/x-tex">\langle X \rangle_A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">⟨</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose"><span class="mclose">⟩</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">A</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>. This is easy writing an element of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">⟨</mo><mi>X</mi><msub><mo stretchy="false">⟩</mo><mi>R</mi></msub></mrow><annotation encoding="application/x-tex">\langle X \rangle_R</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">⟨</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose"><span class="mclose">⟩</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>  as an <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span>-linear combination, but I do not see this description in mathlib. I am able to prove the lemma if <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> is finite, as follows</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">algebra.algebra.basic</span>

<span class="kd">variables</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span>
<span class="kd">variables</span> <span class="o">[</span><span class="n">comm_semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">A</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">R</span> <span class="n">A</span><span class="o">]</span>
<span class="kd">variables</span> <span class="o">[</span><span class="n">add_comm_monoid</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">semimodule</span> <span class="n">R</span> <span class="n">M</span><span class="o">][</span><span class="n">semimodule</span> <span class="n">A</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">is_scalar_tower</span> <span class="n">R</span> <span class="n">A</span> <span class="n">M</span><span class="o">]</span>

<span class="kn">open</span> <span class="n">submodule</span>

<span class="kd">lemma</span> <span class="n">test</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">M</span><span class="o">)</span> <span class="o">:</span> <span class="n">span</span> <span class="n">R</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">set</span> <span class="n">M</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">restrict_scalars</span> <span class="n">R</span> <span class="o">(</span><span class="n">span</span> <span class="n">A</span> <span class="n">X</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">induction</span> <span class="n">X</span> <span class="n">using</span> <span class="n">finset.induction</span> <span class="k">with</span> <span class="n">a</span> <span class="n">X</span> <span class="n">haX</span> <span class="n">h</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">exact</span> <span class="n">classical.dec_eq</span> <span class="n">M</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">span_empty</span><span class="o">,</span> <span class="n">finset.coe_empty</span><span class="o">,</span> <span class="n">restrict_scalars_bot</span><span class="o">,</span> <span class="n">le_bot_iff</span><span class="o">]</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="n">submodule.le_def</span><span class="o">]</span> <span class="n">at</span> <span class="n">h</span> <span class="bp">⊢</span><span class="o">,</span>
    <span class="n">intros</span> <span class="n">m</span> <span class="n">hm</span><span class="o">,</span>
    <span class="n">rw</span> <span class="o">[</span><span class="n">finset.coe_insert</span><span class="o">,</span> <span class="n">mem_coe</span><span class="o">]</span> <span class="n">at</span> <span class="n">hm</span> <span class="bp">⊢</span><span class="o">,</span>
    <span class="n">obtain</span> <span class="o">⟨</span><span class="n">r</span><span class="o">,</span> <span class="n">n</span><span class="o">,</span> <span class="n">hn</span><span class="o">,</span> <span class="n">hmsum</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">mem_span_insert.1</span> <span class="n">hm</span><span class="o">,</span>
    <span class="n">rw</span> <span class="o">[</span><span class="n">restrict_scalars_mem</span><span class="o">,</span> <span class="n">mem_span_insert</span><span class="o">],</span>
    <span class="n">replace</span> <span class="n">hz</span> <span class="o">:=</span> <span class="n">h</span> <span class="n">hn</span><span class="o">,</span>
    <span class="n">rw</span> <span class="o">[</span><span class="n">mem_coe</span><span class="o">,</span> <span class="n">restrict_scalars_mem</span><span class="o">]</span> <span class="n">at</span> <span class="n">hz</span><span class="o">,</span>
    <span class="n">use</span> <span class="o">[(</span><span class="n">algebra_map</span> <span class="n">R</span> <span class="n">A</span><span class="o">)</span> <span class="n">r</span><span class="o">,</span> <span class="n">n</span><span class="o">,</span> <span class="n">hz</span><span class="o">],</span>
    <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">hmsum</span><span class="o">,</span> <span class="n">algebra_map_smul</span><span class="o">]</span> <span class="o">}</span>
<span class="kd">end</span>
</code></pre></div>
<p>using <code>finset.induction</code>. This is enough for what I want to do later (about finitely generated submodule), but it would be nice to have the general result. Does someone see a quick way to prove it? Thanks!</p>



<a name="223248223"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Span%20and%20restriction%20of%20scalars/near/223248223" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Span.20and.20restriction.20of.20scalars.html#223248223">(Jan 19 2021 at 16:06)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">algebra.algebra.basic</span>

<span class="kd">variables</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span>
<span class="kd">variables</span> <span class="o">[</span><span class="n">comm_semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">A</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">R</span> <span class="n">A</span><span class="o">]</span>
<span class="kd">variables</span> <span class="o">[</span><span class="n">add_comm_monoid</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">semimodule</span> <span class="n">R</span> <span class="n">M</span><span class="o">][</span><span class="n">semimodule</span> <span class="n">A</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">is_scalar_tower</span> <span class="n">R</span> <span class="n">A</span> <span class="n">M</span><span class="o">]</span>

<span class="kn">open</span> <span class="n">submodule</span>

<span class="kd">lemma</span> <span class="n">test</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">set</span> <span class="n">M</span><span class="o">)</span> <span class="o">:</span> <span class="n">span</span> <span class="n">R</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">set</span> <span class="n">M</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">restrict_scalars</span> <span class="n">R</span> <span class="o">(</span><span class="n">span</span> <span class="n">A</span> <span class="n">X</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="n">submodule.span_le</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">submodule.subset_span</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="223248470"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Span%20and%20restriction%20of%20scalars/near/223248470" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Span.20and.20restriction.20of.20scalars.html#223248470">(Jan 19 2021 at 16:08)</a>:</h4>
<p>Golfed:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">algebra.algebra.basic</span>

<span class="kd">variables</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span>
<span class="kd">variables</span> <span class="o">[</span><span class="n">comm_semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">A</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">R</span> <span class="n">A</span><span class="o">]</span>
<span class="kd">variables</span> <span class="o">[</span><span class="n">add_comm_monoid</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">semimodule</span> <span class="n">R</span> <span class="n">M</span><span class="o">][</span><span class="n">semimodule</span> <span class="n">A</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">is_scalar_tower</span> <span class="n">R</span> <span class="n">A</span> <span class="n">M</span><span class="o">]</span>

<span class="kn">open</span> <span class="n">submodule</span>

<span class="kd">lemma</span> <span class="n">test</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">set</span> <span class="n">M</span><span class="o">)</span> <span class="o">:</span> <span class="n">span</span> <span class="n">R</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">set</span> <span class="n">M</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">restrict_scalars</span> <span class="n">R</span> <span class="o">(</span><span class="n">span</span> <span class="n">A</span> <span class="n">X</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">submodule.span_le.mpr</span> <span class="n">submodule.subset_span</span>
</code></pre></div>



<a name="223249666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Span%20and%20restriction%20of%20scalars/near/223249666" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Span.20and.20restriction.20of.20scalars.html#223249666">(Jan 19 2021 at 16:16)</a>:</h4>
<p>Time to have a coffee after missing this <span aria-label="coffee" class="emoji emoji-2615" role="img" title="coffee">:coffee:</span></p>



<a name="223253712"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Span%20and%20restriction%20of%20scalars/near/223253712" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Span.20and.20restriction.20of.20scalars.html#223253712">(Jan 19 2021 at 16:41)</a>:</h4>
<p>On the other hand  to prove the other inclusion (assuming that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>→</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">R \to A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span> is surjective) seems to need to play with the linear combinations, so it is ok for <code>finset</code>, but trickier for <code>set</code>.</p>



<a name="223257490"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Span%20and%20restriction%20of%20scalars/near/223257490" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Span.20and.20restriction.20of.20scalars.html#223257490">(Jan 19 2021 at 17:07)</a>:</h4>
<p>Something like this</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">algebra.algebra.basic</span>

<span class="kd">variables</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span>
<span class="kd">variables</span> <span class="o">[</span><span class="n">comm_semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">A</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">R</span> <span class="n">A</span><span class="o">]</span>
<span class="kd">variables</span> <span class="o">[</span><span class="n">add_comm_monoid</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">semimodule</span> <span class="n">R</span> <span class="n">M</span><span class="o">][</span><span class="n">semimodule</span> <span class="n">A</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">is_scalar_tower</span> <span class="n">R</span> <span class="n">A</span> <span class="n">M</span><span class="o">]</span>

<span class="kn">open</span> <span class="n">submodule</span>

<span class="kd">lemma</span> <span class="n">test</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">set</span> <span class="n">M</span><span class="o">)</span> <span class="o">:</span> <span class="n">span</span> <span class="n">R</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">set</span> <span class="n">M</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">restrict_scalars</span> <span class="n">R</span> <span class="o">(</span><span class="n">span</span> <span class="n">A</span> <span class="n">X</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">submodule.span_le.mpr</span> <span class="n">submodule.subset_span</span>

<span class="kd">lemma</span> <span class="n">test1</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">M</span><span class="o">)</span> <span class="o">(</span><span class="n">hsur</span> <span class="o">:</span> <span class="n">function.surjective</span> <span class="o">(</span><span class="n">algebra_map</span> <span class="n">R</span> <span class="n">A</span><span class="o">))</span> <span class="o">:</span>
  <span class="n">span</span> <span class="n">R</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">set</span> <span class="n">M</span><span class="o">)</span> <span class="bp">=</span> <span class="n">restrict_scalars</span> <span class="n">R</span> <span class="o">(</span><span class="n">span</span> <span class="n">A</span> <span class="n">X</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">apply</span> <span class="n">le_antisymm</span> <span class="o">(</span><span class="n">test</span> <span class="n">R</span> <span class="n">A</span> <span class="n">M</span> <span class="n">X</span><span class="o">),</span>
  <span class="n">induction</span> <span class="n">X</span> <span class="n">using</span> <span class="n">finset.induction</span> <span class="k">with</span> <span class="n">x</span> <span class="n">X</span> <span class="n">haX</span> <span class="n">h</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">exact</span> <span class="n">classical.dec_eq</span> <span class="n">M</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">span_empty</span><span class="o">,</span> <span class="n">finset.coe_empty</span><span class="o">,</span> <span class="n">restrict_scalars_bot</span><span class="o">,</span> <span class="n">le_bot_iff</span><span class="o">]</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="n">submodule.le_def</span><span class="o">]</span> <span class="n">at</span> <span class="n">h</span> <span class="bp">⊢</span><span class="o">,</span>
    <span class="n">intros</span> <span class="n">n</span> <span class="n">hn</span><span class="o">,</span>
    <span class="n">rw</span> <span class="o">[</span><span class="n">finset.coe_insert</span><span class="o">,</span> <span class="n">mem_coe</span><span class="o">]</span> <span class="n">at</span> <span class="n">hn</span> <span class="bp">⊢</span><span class="o">,</span>
    <span class="n">rw</span> <span class="o">[</span><span class="n">restrict_scalars_mem</span><span class="o">]</span> <span class="n">at</span> <span class="n">hn</span><span class="o">,</span>
    <span class="n">obtain</span> <span class="o">⟨</span><span class="n">a</span><span class="o">,</span> <span class="n">m</span><span class="o">,</span> <span class="n">hm</span><span class="o">,</span> <span class="n">hnsum</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">mem_span_insert.1</span> <span class="n">hn</span><span class="o">,</span>
    <span class="n">rw</span> <span class="o">[</span><span class="n">mem_span_insert</span><span class="o">],</span>
    <span class="n">obtain</span> <span class="o">⟨</span><span class="n">r</span><span class="o">,</span> <span class="n">hr</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">hsur</span> <span class="n">a</span><span class="o">,</span>
    <span class="n">use</span> <span class="o">[</span><span class="n">r</span><span class="o">,</span> <span class="n">m</span><span class="o">],</span>
    <span class="n">split</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">exact</span> <span class="n">h</span> <span class="o">((</span><span class="n">restrict_scalars_mem</span> <span class="n">R</span> <span class="n">_</span> <span class="n">m</span><span class="o">)</span><span class="bp">.</span><span class="mi">2</span> <span class="n">hm</span><span class="o">)</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="bp">←</span> <span class="n">hr</span><span class="o">]</span> <span class="n">at</span> <span class="n">hnsum</span><span class="o">,</span>
      <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">hnsum</span><span class="o">,</span> <span class="n">algebra_map_smul</span><span class="o">]</span> <span class="o">}</span> <span class="o">}</span>
<span class="kd">end</span>
</code></pre></div>



<a name="223263601"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Span%20and%20restriction%20of%20scalars/near/223263601" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Span.20and.20restriction.20of.20scalars.html#223263601">(Jan 19 2021 at 17:43)</a>:</h4>
<p>For this you can use <a href="https://leanprover-community.github.io/mathlib_docs/find/submodule.span_induction">docs#submodule.span_induction</a></p>



<a name="223263616"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Span%20and%20restriction%20of%20scalars/near/223263616" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Span.20and.20restriction.20of.20scalars.html#223263616">(Jan 19 2021 at 17:43)</a>:</h4>
<p>(in general, not just for a finset)</p>



<a name="223264601"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Span%20and%20restriction%20of%20scalars/near/223264601" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Span.20and.20restriction.20of.20scalars.html#223264601">(Jan 19 2021 at 17:49)</a>:</h4>
<p>Very nice, thank you!</p>



<a name="223264963"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Span%20and%20restriction%20of%20scalars/near/223264963" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Span.20and.20restriction.20of.20scalars.html#223264963">(Jan 19 2021 at 17:52)</a>:</h4>
<p>This should be golfed (and has a nonterminal simp), but you get the idea:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">algebra.algebra.basic</span>

<span class="kd">variables</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span>
<span class="kd">variables</span> <span class="o">[</span><span class="n">comm_semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">A</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">R</span> <span class="n">A</span><span class="o">]</span>
<span class="kd">variables</span> <span class="o">[</span><span class="n">add_comm_monoid</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">semimodule</span> <span class="n">R</span> <span class="n">M</span><span class="o">][</span><span class="n">semimodule</span> <span class="n">A</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">is_scalar_tower</span> <span class="n">R</span> <span class="n">A</span> <span class="n">M</span><span class="o">]</span>

<span class="kn">open</span> <span class="n">submodule</span>

<span class="kd">lemma</span> <span class="n">test</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">set</span> <span class="n">M</span><span class="o">)</span> <span class="o">:</span> <span class="n">span</span> <span class="n">R</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">set</span> <span class="n">M</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">restrict_scalars</span> <span class="n">R</span> <span class="o">(</span><span class="n">span</span> <span class="n">A</span> <span class="n">X</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">submodule.span_le.mpr</span> <span class="n">submodule.subset_span</span>

<span class="kd">lemma</span> <span class="n">test1</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">set</span> <span class="n">M</span><span class="o">)</span> <span class="o">(</span><span class="n">hsur</span> <span class="o">:</span> <span class="n">function.surjective</span> <span class="o">(</span><span class="n">algebra_map</span> <span class="n">R</span> <span class="n">A</span><span class="o">))</span> <span class="o">:</span>
  <span class="n">span</span> <span class="n">R</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">set</span> <span class="n">M</span><span class="o">)</span> <span class="bp">=</span> <span class="n">restrict_scalars</span> <span class="n">R</span> <span class="o">(</span><span class="n">span</span> <span class="n">A</span> <span class="n">X</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">refine</span> <span class="n">le_antisymm</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">test</span><span class="o">,</span>
  <span class="n">intros</span> <span class="n">x</span> <span class="n">hx</span><span class="o">,</span>
  <span class="n">refine</span> <span class="n">submodule.span_induction</span> <span class="n">hx</span> <span class="n">submodule.subset_span</span> <span class="o">(</span><span class="n">submodule.zero_mem</span> <span class="n">_</span><span class="o">)</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">intros</span> <span class="n">x</span> <span class="n">y</span> <span class="n">hx</span> <span class="n">hy</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">submodule.add_mem</span> <span class="n">_</span> <span class="n">hx</span> <span class="n">hy</span><span class="o">,</span>
  <span class="n">intros</span> <span class="n">a</span> <span class="n">x</span> <span class="n">hx</span><span class="o">,</span>
  <span class="n">rcases</span> <span class="n">hsur</span> <span class="n">a</span> <span class="k">with</span> <span class="o">⟨</span><span class="n">a</span><span class="o">,</span><span class="n">rfl</span><span class="o">⟩,</span>
  <span class="n">simp</span><span class="o">,</span>
  <span class="n">refine</span> <span class="n">submodule.smul_mem</span> <span class="o">(</span><span class="n">span</span> <span class="n">R</span> <span class="n">X</span><span class="o">)</span> <span class="n">_</span> <span class="n">hx</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="223267554"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Span%20and%20restriction%20of%20scalars/near/223267554" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Span.20and.20restriction.20of.20scalars.html#223267554">(Jan 19 2021 at 18:09)</a>:</h4>
<p>Wow, I basically wrote exactly the same proof as you! (I was just slower <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span> )</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">algebra.algebra.basic</span>

<span class="kd">variables</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span>
<span class="kd">variables</span> <span class="o">[</span><span class="n">comm_semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">A</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">R</span> <span class="n">A</span><span class="o">]</span>
<span class="kd">variables</span> <span class="o">[</span><span class="n">add_comm_monoid</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">semimodule</span> <span class="n">R</span> <span class="n">M</span><span class="o">][</span><span class="n">semimodule</span> <span class="n">A</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">is_scalar_tower</span> <span class="n">R</span> <span class="n">A</span> <span class="n">M</span><span class="o">]</span>

<span class="kn">open</span> <span class="n">submodule</span>

<span class="kd">lemma</span> <span class="n">test</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">set</span> <span class="n">M</span><span class="o">)</span> <span class="o">:</span> <span class="n">span</span> <span class="n">R</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">set</span> <span class="n">M</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">restrict_scalars</span> <span class="n">R</span> <span class="o">(</span><span class="n">span</span> <span class="n">A</span> <span class="n">X</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">submodule.span_le.mpr</span> <span class="n">submodule.subset_span</span>

<span class="kd">lemma</span> <span class="n">test1</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">set</span> <span class="n">M</span><span class="o">)</span> <span class="o">(</span><span class="n">hsur</span> <span class="o">:</span> <span class="n">function.surjective</span> <span class="o">(</span><span class="n">algebra_map</span> <span class="n">R</span> <span class="n">A</span><span class="o">))</span> <span class="o">:</span>
  <span class="n">span</span> <span class="n">R</span> <span class="n">X</span> <span class="bp">=</span> <span class="n">restrict_scalars</span> <span class="n">R</span> <span class="o">(</span><span class="n">span</span> <span class="n">A</span> <span class="n">X</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">apply</span> <span class="n">le_antisymm</span> <span class="o">(</span><span class="n">test</span> <span class="n">R</span> <span class="n">A</span> <span class="n">M</span> <span class="n">X</span><span class="o">),</span>
  <span class="n">intros</span> <span class="n">m</span> <span class="n">hm</span><span class="o">,</span>
  <span class="n">refine</span> <span class="n">span_induction</span> <span class="n">hm</span> <span class="n">subset_span</span> <span class="o">(</span><span class="n">zero_mem</span> <span class="n">_</span><span class="o">)</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">intros</span> <span class="n">m₁</span> <span class="n">m₂</span> <span class="n">hm₁</span> <span class="n">hm₂</span><span class="o">,</span>
    <span class="n">exact</span> <span class="o">(</span><span class="n">submodule.add_mem</span> <span class="n">_</span> <span class="n">hm₁</span> <span class="n">hm₂</span><span class="o">)</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">intros</span> <span class="n">a</span> <span class="n">m</span> <span class="n">hm</span><span class="o">,</span>
    <span class="n">obtain</span> <span class="o">⟨</span><span class="n">r</span><span class="o">,</span> <span class="n">rfl</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">hsur</span> <span class="n">a</span><span class="o">,</span>
    <span class="n">rw</span> <span class="o">[</span><span class="n">algebra_map_smul</span><span class="o">],</span>
    <span class="n">exact</span> <span class="n">smul_mem</span> <span class="n">_</span> <span class="n">r</span> <span class="n">hm</span> <span class="o">}</span>
<span class="kd">end</span>
</code></pre></div>



<a name="223273790"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Span%20and%20restriction%20of%20scalars/near/223273790" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Span.20and.20restriction.20of.20scalars.html#223273790">(Jan 19 2021 at 18:49)</a>:</h4>
<p>Golfed a bit:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">algebra.algebra.basic</span>

<span class="kd">variables</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span>
<span class="kd">variables</span> <span class="o">[</span><span class="n">comm_semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">A</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">R</span> <span class="n">A</span><span class="o">]</span>
<span class="kd">variables</span> <span class="o">[</span><span class="n">add_comm_monoid</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">semimodule</span> <span class="n">R</span> <span class="n">M</span><span class="o">][</span><span class="n">semimodule</span> <span class="n">A</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">is_scalar_tower</span> <span class="n">R</span> <span class="n">A</span> <span class="n">M</span><span class="o">]</span>

<span class="kn">open</span> <span class="n">submodule</span>

<span class="kd">lemma</span> <span class="n">test</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">set</span> <span class="n">M</span><span class="o">)</span> <span class="o">:</span> <span class="n">span</span> <span class="n">R</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">set</span> <span class="n">M</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">restrict_scalars</span> <span class="n">R</span> <span class="o">(</span><span class="n">span</span> <span class="n">A</span> <span class="n">X</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">submodule.span_le.mpr</span> <span class="n">submodule.subset_span</span>

<span class="kd">lemma</span> <span class="n">test1</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">set</span> <span class="n">M</span><span class="o">)</span> <span class="o">(</span><span class="n">hsur</span> <span class="o">:</span> <span class="n">function.surjective</span> <span class="o">(</span><span class="n">algebra_map</span> <span class="n">R</span> <span class="n">A</span><span class="o">))</span> <span class="o">:</span>
  <span class="n">span</span> <span class="n">R</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">set</span> <span class="n">M</span><span class="o">)</span> <span class="bp">=</span> <span class="n">restrict_scalars</span> <span class="n">R</span> <span class="o">(</span><span class="n">span</span> <span class="n">A</span> <span class="n">X</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">refine</span> <span class="n">le_antisymm</span> <span class="o">(</span><span class="n">test</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span><span class="o">)</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span> <span class="n">hx</span><span class="o">,</span> <span class="n">_</span><span class="o">),</span>
  <span class="n">refine</span> <span class="n">submodule.span_induction</span> <span class="n">hx</span> <span class="n">subset_span</span> <span class="o">(</span><span class="n">zero_mem</span> <span class="n">_</span><span class="o">)</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span> <span class="n">add_mem</span> <span class="n">_</span><span class="o">)</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">a</span> <span class="n">x</span> <span class="n">hx</span><span class="o">,</span> <span class="n">_</span><span class="o">),</span>
  <span class="n">rcases</span> <span class="n">hsur</span> <span class="n">a</span> <span class="k">with</span> <span class="o">⟨</span><span class="n">a</span><span class="o">,</span><span class="n">rfl</span><span class="o">⟩,</span>
  <span class="n">rw</span> <span class="n">algebra_map_smul</span><span class="o">,</span>
  <span class="n">refine</span> <span class="n">submodule.smul_mem</span> <span class="o">(</span><span class="n">span</span> <span class="n">R</span> <span class="n">X</span><span class="o">)</span> <span class="n">_</span> <span class="n">hx</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="260302985"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Span%20and%20restriction%20of%20scalars/near/260302985" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Span.20and.20restriction.20of.20scalars.html#260302985">(Nov 04 2021 at 17:07)</a>:</h4>
<p>Did any of these lemmas get PR'd?</p>



<a name="260303799"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Span%20and%20restriction%20of%20scalars/near/260303799" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Span.20and.20restriction.20of.20scalars.html#260303799">(Nov 04 2021 at 17:12)</a>:</h4>
<p>Mmh, I think so. Let me check my past PR</p>



<a name="260303883"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Span%20and%20restriction%20of%20scalars/near/260303883" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Span.20and.20restriction.20of.20scalars.html#260303883">(Nov 04 2021 at 17:12)</a>:</h4>
<p>I just posted <a href="https://github.com/leanprover-community/mathlib/issues/10167">#10167</a>, let me know if you see duplicates</p>



<a name="260304018"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Span%20and%20restriction%20of%20scalars/near/260304018" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Span.20and.20restriction.20of.20scalars.html#260304018">(Nov 04 2021 at 17:13)</a>:</h4>
<p>It was <a href="https://github.com/leanprover-community/mathlib/issues/9363">#9363</a>, let me see</p>



<a name="260304115"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Span%20and%20restriction%20of%20scalars/near/260304115" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Span.20and.20restriction.20of.20scalars.html#260304115">(Nov 04 2021 at 17:14)</a>:</h4>
<p>Ah, it's in <code>algebra.algebra.basic</code></p>



<a name="260304246"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Span%20and%20restriction%20of%20scalars/near/260304246" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Span.20and.20restriction.20of.20scalars.html#260304246">(Nov 04 2021 at 17:15)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/submodule.span_eq_restrict_scalars">docs#submodule.span_eq_restrict_scalars</a></p>



<a name="260304265"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Span%20and%20restriction%20of%20scalars/near/260304265" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Span.20and.20restriction.20of.20scalars.html#260304265">(Nov 04 2021 at 17:15)</a>:</h4>
<p>Ah you already found it</p>



<a name="260305344"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Span%20and%20restriction%20of%20scalars/near/260305344" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Span.20and.20restriction.20of.20scalars.html#260305344">(Nov 04 2021 at 17:23)</a>:</h4>
<p>I should have searched for the proof, that would have found it earlier! I've update the PR to remove the duplicate and fix the name clash</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>