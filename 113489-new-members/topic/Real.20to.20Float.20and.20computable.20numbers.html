---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Real.20to.20Float.20and.20computable.20numbers.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Real.20to.20Float.20and.20computable.20numbers.html">Real to Float and computable numbers</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="266659575"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Real%20to%20Float%20and%20computable%20numbers/near/266659575" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Adjedj <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Real.20to.20Float.20and.20computable.20numbers.html#266659575">(Jan 03 2022 at 08:03)</a>:</h4>
<p>Hi, i've seen a few <a href="#narrow/stream/270676-lean4/topic/Treating.20.60Float.60.20as.20reals.2C.20inconsistent.3F">topics</a> recently talking about possibly making code on reals runnable and give back floats, but as far as I understand, this is not possible in general, unless working on computable numbers, something that, to my knowledge, isn't yet present in mathlib. If one was to implement an API for computable numbers over reals (showing it's a subfield of R, stable through basic functions like exp and log,...), would this be enough to have "runnable" code for the most common equations we use day to day ?</p>



<a name="266668690"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Real%20to%20Float%20and%20computable%20numbers/near/266668690" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Real.20to.20Float.20and.20computable.20numbers.html#266668690">(Jan 03 2022 at 09:57)</a>:</h4>
<p>Yes there are many nice subsets of computable real numbers which contain commonly used functions, see for instance <a href="https://fredrikj.net/math/ejcim2020_joh_en.pdf">https://fredrikj.net/math/ejcim2020_joh_en.pdf</a>, having such a thing in lean would be really cool. The most similar things we have already are the linarith and norm_num tactics, which while tactics do normalize certain expressions in real fields, but are not runnable code in the sense of a definition of a type for which lean generates the code</p>



<a name="266707260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Real%20to%20Float%20and%20computable%20numbers/near/266707260" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Johnstone <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Real.20to.20Float.20and.20computable.20numbers.html#266707260">(Jan 03 2022 at 16:45)</a>:</h4>
<p>It is possible to make code runnable on floats but prove things about it for reals. See bottom of</p>
<p><a href="#narrow/stream/113489-new-members/topic/Patrick.20Johnstone.20.28mathematical.20optimizer.29">https://leanprover.zulipchat.com/#narrow/stream/113489-new-members/topic/Patrick.20Johnstone.20.28mathematical.20optimizer.29</a></p>
<p>where we figure out you can just define the function polymorphically to run on both real and float data types. If you run it with floats your proofs don't mean anything but it will run.</p>



<a name="266729629"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Real%20to%20Float%20and%20computable%20numbers/near/266729629" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Adjedj <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Real.20to.20Float.20and.20computable.20numbers.html#266729629">(Jan 03 2022 at 19:52)</a>:</h4>
<p>This is interesting, thanks for the link <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span> . I was more interested in the subject of approximating reals themselves with an arbitrary precision, rather than interpreting  functions over reals as functions over floats,  sorry for the bad wording of my question. I'd be very interested on working on computable numbers in Lean, but i do not know if this would be of any interest for mathlib, hence this post.</p>



<a name="266730166"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Real%20to%20Float%20and%20computable%20numbers/near/266730166" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Adjedj <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Real.20to.20Float.20and.20computable.20numbers.html#266730166">(Jan 03 2022 at 19:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="127136">Alex J. Best</span> <a href="#narrow/stream/113489-new-members/topic/Real.20to.20Float.20and.20computable.20numbers/near/266668690">said</a>:</p>
<blockquote>
<p>Yes there are many nice subsets of computable real numbers which contain commonly used functions, see for instance <a href="https://fredrikj.net/math/ejcim2020_joh_en.pdf">https://fredrikj.net/math/ejcim2020_joh_en.pdf</a>, having such a thing in lean would be really cool. The most similar things we have already are the linarith and norm_num tactics, which while tactics do normalize certain expressions in real fields, but are not runnable code in the sense of a definition of a type for which lean generates the code</p>
</blockquote>
<p>I'll look into this document in more details in the following days, thanks a lot for the link <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="266732497"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Real%20to%20Float%20and%20computable%20numbers/near/266732497" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Real.20to.20Float.20and.20computable.20numbers.html#266732497">(Jan 03 2022 at 20:21)</a>:</h4>
<p>You might also be interested in work of Krebbers and Spitters who implemented exact reals in Coq, such as <a href="https://arxiv.org/abs/1106.3448">https://arxiv.org/abs/1106.3448</a>, which is part of <a href="https://github.com/coq-community/corn">https://github.com/coq-community/corn</a></p>



<a name="266765521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Real%20to%20Float%20and%20computable%20numbers/near/266765521" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Real.20to.20Float.20and.20computable.20numbers.html#266765521">(Jan 04 2022 at 03:29)</a>:</h4>
<p>We have also done a few abstract real computations in mathlib in ad-hoc fashion, for example to prove high precision estimates on <code>e</code> and <code>pi</code>. The method depends on the particular real number to approximate but it ultimately boils down to some computations on natural numbers that can be proven by <code>norm_num</code></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>