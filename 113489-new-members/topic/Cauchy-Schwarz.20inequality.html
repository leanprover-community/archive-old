---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Cauchy-Schwarz.20inequality.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cauchy-Schwarz.20inequality.html">Cauchy-Schwarz inequality</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="245288979"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cauchy-Schwarz%20inequality/near/245288979" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kunhao Zheng <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cauchy-Schwarz.20inequality.html#245288979">(Jul 08 2021 at 09:10)</a>:</h4>
<p>Hello! I'm stuck on proving an example of Cauchy-Schwarz Inequality in the case of $ \mathbb{R}^2 $.</p>
<p>I notice that there are a bunch of theorems at hand, but they are all talking about element about <a href="https://leanprover-community.github.io/mathlib_docs/analysis/normed_space/inner_product.html#inner_product_space">inner_product_space</a>. For example <a href="https://leanprover-community.github.io/mathlib_docs/analysis/normed_space/inner_product.html#real_inner_mul_inner_self_le">real_inner_mul_inner_self_le</a> that I want to use here, it talks about 2 variables of type F, but I don't know how to instantiate variables of such type.</p>
<p>I would like to know if there is a way to instantiate 2 variables of type F that fit in well in <a href="https://leanprover-community.github.io/mathlib_docs/analysis/normed_space/inner_product.html#real_inner_mul_inner_self_le">real_inner_mul_inner_self_le</a> and apply it, without modifying my statement here? Any hint welcome!</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.real.basic</span>
<span class="kn">import</span> <span class="n">analysis.normed_space.inner_product</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="mi">2</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">+</span> <span class="mi">3</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">≤</span> <span class="mi">13</span> <span class="bp">*</span> <span class="o">(</span><span class="n">x</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">+</span> <span class="n">y</span><span class="bp">^</span><span class="mi">2</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="gr">sorry</span>
<span class="kd">end</span>
</code></pre></div>



<a name="245289312"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cauchy-Schwarz%20inequality/near/245289312" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cauchy-Schwarz.20inequality.html#245289312">(Jul 08 2021 at 09:14)</a>:</h4>
<p>So you need to pick <code>F</code> by deciding how you want your inner product to be defined</p>



<a name="245289369"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cauchy-Schwarz%20inequality/near/245289369" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cauchy-Schwarz.20inequality.html#245289369">(Jul 08 2021 at 09:15)</a>:</h4>
<p>At a guess you want <a href="https://leanprover-community.github.io/mathlib_docs/find/euclidean_space">docs#euclidean_space</a>, so <code>F</code> is <code>euclidean_space ℝ 2</code></p>



<a name="245289641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cauchy-Schwarz%20inequality/near/245289641" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cauchy-Schwarz.20inequality.html#245289641">(Jul 08 2021 at 09:18)</a>:</h4>
<p>Which would make your statement something like</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">euclidean_space</span> <span class="n">ℝ</span> <span class="mi">2</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="mi">2</span> <span class="bp">*</span> <span class="n">p</span> <span class="mi">0</span> <span class="bp">+</span> <span class="mi">3</span> <span class="bp">*</span> <span class="n">p</span> <span class="mi">1</span><span class="o">)</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">≤</span> <span class="mi">13</span> <span class="bp">*</span> <span class="o">(</span><span class="n">p</span> <span class="mi">0</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">+</span> <span class="n">p</span> <span class="mi">1</span><span class="bp">^</span><span class="mi">2</span><span class="o">)</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>
<p>which then is the same as</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">euclidean_space</span> <span class="n">ℝ</span> <span class="mi">2</span><span class="o">)</span> <span class="o">:</span>
<span class="o">(</span><span class="n">inner</span> <span class="bp">!</span><span class="o">[</span><span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">]</span> <span class="n">p</span><span class="o">)</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">≤</span> <span class="mi">13</span> <span class="bp">*</span> <span class="n">inner</span> <span class="n">p</span> <span class="n">p</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>
<p>Note I'm not suggesting you adjust your statement here, just suggesting some other statements you could prove first in order to prove your statement</p>



<a name="245289793"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cauchy-Schwarz%20inequality/near/245289793" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kunhao Zheng <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cauchy-Schwarz.20inequality.html#245289793">(Jul 08 2021 at 09:20)</a>:</h4>
<p>Thanks! I'll give it a try</p>



<a name="245290927"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cauchy-Schwarz%20inequality/near/245290927" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kunhao Zheng <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cauchy-Schwarz.20inequality.html#245290927">(Jul 08 2021 at 09:34)</a>:</h4>
<p>I have to change 2 to (fin 2) to make lean happy in the first statement. But the second one it complains about <code>has_inner ℕ (euclidean_space ℝ (fin 2))</code> <code>has_inner ℕ (fin 1.succ → ℕ)</code>, maybe I need to add extra info like <code>[inner_product_space ℝ p]</code>?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.real.basic</span>
<span class="kn">import</span> <span class="n">analysis.normed_space.inner_product</span>
<span class="kn">import</span> <span class="n">analysis.normed_space.pi_Lp</span>

<span class="kd">theorem</span> <span class="n">algebra_cauchy2_2xp3ysqleq13txsqpysq</span>
  <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="mi">2</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">+</span> <span class="mi">3</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">≤</span> <span class="mi">13</span> <span class="bp">*</span> <span class="o">(</span><span class="n">x</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">+</span> <span class="n">y</span><span class="bp">^</span><span class="mi">2</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="c1">-- let F:= euclidean_space ℝ (fin 2),</span>
  <span class="c1">-- have h₀ := @real_inner_mul_inner_self_le (euclidean_space ℝ (fin 2)) _ _ _,</span>
  <span class="gr">sorry</span>
<span class="kd">end</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">euclidean_space</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">2</span><span class="o">))</span> <span class="o">:</span>
  <span class="o">(</span><span class="mi">2</span> <span class="bp">*</span> <span class="n">p</span> <span class="mi">0</span> <span class="bp">+</span> <span class="mi">3</span> <span class="bp">*</span> <span class="n">p</span> <span class="mi">1</span><span class="o">)</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">≤</span> <span class="mi">13</span> <span class="bp">*</span> <span class="o">(</span><span class="n">p</span> <span class="mi">0</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">+</span> <span class="n">p</span> <span class="mi">1</span><span class="bp">^</span><span class="mi">2</span><span class="o">)</span> <span class="o">:=</span> <span class="gr">sorry</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">euclidean_space</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">2</span><span class="o">))</span> <span class="o">:</span>
<span class="o">(</span><span class="n">inner</span> <span class="bp">!</span><span class="o">[</span><span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">]</span> <span class="n">p</span><span class="o">)</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">≤</span> <span class="mi">13</span> <span class="bp">*</span> <span class="n">inner</span> <span class="n">p</span> <span class="n">p</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>



<a name="245291064"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cauchy-Schwarz%20inequality/near/245291064" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cauchy-Schwarz.20inequality.html#245291064">(Jul 08 2021 at 09:35)</a>:</h4>
<p>Lean is inferring the wrong type for <code>![2, 3]</code></p>



<a name="245291123"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cauchy-Schwarz%20inequality/near/245291123" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cauchy-Schwarz.20inequality.html#245291123">(Jul 08 2021 at 09:36)</a>:</h4>
<p><code>(![2, 3] : euclidean_space ℝ (fin 2))</code> might be enough</p>



<a name="245291323"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cauchy-Schwarz%20inequality/near/245291323" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cauchy-Schwarz.20inequality.html#245291323">(Jul 08 2021 at 09:38)</a>:</h4>
<p>Once the lean web editor loads for me, I can try to debug</p>



<a name="245291652"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cauchy-Schwarz%20inequality/near/245291652" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cauchy-Schwarz.20inequality.html#245291652">(Jul 08 2021 at 09:42)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.real.basic</span>
<span class="kn">import</span> <span class="n">analysis.normed_space.inner_product</span>
<span class="kn">import</span> <span class="n">analysis.normed_space.pi_Lp</span>

<span class="kd">theorem</span> <span class="n">algebra_cauchy2_2xp3ysqleq13txsqpysq</span>
  <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="mi">2</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">+</span> <span class="mi">3</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">≤</span> <span class="mi">13</span> <span class="bp">*</span> <span class="o">(</span><span class="n">x</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">+</span> <span class="n">y</span><span class="bp">^</span><span class="mi">2</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">let</span> <span class="n">v</span> <span class="o">:</span> <span class="n">euclidean_space</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">2</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">!</span><span class="o">[(</span><span class="mi">2</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="mi">3</span><span class="o">],</span>
  <span class="k">let</span> <span class="n">w</span> <span class="o">:</span> <span class="n">euclidean_space</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">2</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">!</span><span class="o">[</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">],</span>
  <span class="k">have</span> <span class="n">h₀</span> <span class="o">:=</span> <span class="n">real_inner_mul_inner_self_le</span> <span class="n">v</span> <span class="n">w</span><span class="o">,</span>
  <span class="n">simp</span> <span class="o">[</span><span class="n">v</span><span class="o">,</span> <span class="n">w</span><span class="o">,</span> <span class="n">fin.sum_univ_succ</span><span class="o">,</span> <span class="bp">←</span><span class="n">pow_two</span><span class="o">]</span> <span class="n">at</span> <span class="n">h₀</span><span class="o">,</span>
  <span class="gr">sorry</span>
<span class="kd">end</span>
</code></pre></div>



<a name="245291764"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cauchy-Schwarz%20inequality/near/245291764" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cauchy-Schwarz.20inequality.html#245291764">(Jul 08 2021 at 09:44)</a>:</h4>
<p>By using the <code>let</code> I was able to force lean to infer the types correctly without using <code>@</code></p>



<a name="245291819"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cauchy-Schwarz%20inequality/near/245291819" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cauchy-Schwarz.20inequality.html#245291819">(Jul 08 2021 at 09:45)</a>:</h4>
<p>The goal is trivial from the <code>sorry</code>, the key lemma you need to undo the mess made by <code>euclidean_space</code> is <a href="https://leanprover-community.github.io/mathlib_docs/find/fin.sum_univ_succ">docs#fin.sum_univ_succ</a></p>



<a name="245291860"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cauchy-Schwarz%20inequality/near/245291860" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cauchy-Schwarz.20inequality.html#245291860">(Jul 08 2021 at 09:46)</a>:</h4>
<p>If you remove it from the <code>simp</code> you'll see why</p>



<a name="245326629"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cauchy-Schwarz%20inequality/near/245326629" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kunhao Zheng <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cauchy-Schwarz.20inequality.html#245326629">(Jul 08 2021 at 15:05)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span> Thanks! That looks pretty nice! </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">analysis.normed_space.inner_product</span>
<span class="kn">import</span> <span class="n">analysis.normed_space.pi_Lp</span>

<span class="kd">theorem</span> <span class="n">algebra_cauchy2_2xp3ysqleq13txsqpysq</span>
  <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="mi">2</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">+</span> <span class="mi">3</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">≤</span> <span class="mi">13</span> <span class="bp">*</span> <span class="o">(</span><span class="n">x</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">+</span> <span class="n">y</span><span class="bp">^</span><span class="mi">2</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">let</span> <span class="n">v</span> <span class="o">:</span> <span class="n">euclidean_space</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">2</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">!</span><span class="o">[(</span><span class="mi">2</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="mi">3</span><span class="o">],</span>
  <span class="k">let</span> <span class="n">w</span> <span class="o">:</span> <span class="n">euclidean_space</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">2</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">!</span><span class="o">[</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">],</span>
  <span class="k">have</span> <span class="n">h₀</span> <span class="o">:=</span> <span class="n">real_inner_mul_inner_self_le</span> <span class="n">v</span> <span class="n">w</span><span class="o">,</span>
  <span class="n">simp</span> <span class="o">[</span><span class="n">v</span><span class="o">,</span> <span class="n">w</span><span class="o">,</span> <span class="n">fin.sum_univ_succ</span><span class="o">,</span> <span class="bp">←</span><span class="n">pow_two</span><span class="o">]</span> <span class="n">at</span> <span class="n">h₀</span><span class="o">,</span>
  <span class="n">nlinarith</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>Btw where can I find the construction syntax of <code>![x, y]</code>? It seems that it is not in  <a href="https://leanprover-community.github.io/mathlib_docs/find/euclidean_space/">euclidean_space</a></p>



<a name="245326959"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cauchy-Schwarz%20inequality/near/245326959" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cauchy-Schwarz.20inequality.html#245326959">(Jul 08 2021 at 15:07)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/data/matrix/notation.html">https://leanprover-community.github.io/mathlib_docs/data/matrix/notation.html</a></p>



<a name="245387953"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cauchy-Schwarz%20inequality/near/245387953" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph Myers <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cauchy-Schwarz.20inequality.html#245387953">(Jul 09 2021 at 00:29)</a>:</h4>
<p>We have specializations of AM-GM to two, three or four variables in mathlib, we should probably add such specializations of Cauchy-Schwarz to specific small numbers of real variables as well, for convenience when you want to use it with a few concrete expressions rather than having an inner product space.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>