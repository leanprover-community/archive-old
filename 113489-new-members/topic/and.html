---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/and.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/and.html">and</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="245603314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/and/near/245603314" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Laraia <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/and.html#245603314">(Jul 11 2021 at 11:51)</a>:</h4>
<p>How do you take two hypotheses and combine them into one with an <code>∧</code>?</p>



<a name="245603682"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/and/near/245603682" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Laraia <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/and.html#245603682">(Jul 11 2021 at 12:01)</a>:</h4>
<p>And taking the other approach, is there a reason the <code>have</code> does not work in the last line?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">∣</span> <span class="n">b</span> <span class="bp">↔</span> <span class="n">gcd</span> <span class="n">a</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">a</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">j</span> <span class="o">:=</span> <span class="n">dvd_refl</span> <span class="n">a</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">dvd_antisymm</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">d</span> <span class="o">:=</span> <span class="n">dvd_gcd_iff</span> <span class="n">a</span> <span class="n">b</span> <span class="n">a</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="245604159"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/and/near/245604159" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/and.html#245604159">(Jul 11 2021 at 12:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="422315">Thomas Laraia</span> <a href="#narrow/stream/113489-new-members/topic/and/near/245603314">said</a>:</p>
<blockquote>
<p>How do you take two hypotheses and combine them into one with an <code>∧</code>?</p>
</blockquote>
<p>You can use the constructor for <code>and</code>, which is called <code>and.intro</code>, or you can just use the pointy brackets "general constructor for a structure" construction:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">P</span> <span class="n">Q</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">(</span><span class="n">hP</span> <span class="o">:</span> <span class="n">P</span><span class="o">)</span> <span class="o">(</span><span class="n">hQ</span> <span class="o">:</span> <span class="n">Q</span><span class="o">)</span> <span class="o">:</span> <span class="n">P</span> <span class="bp">∧</span> <span class="n">Q</span> <span class="o">:=</span>
<span class="n">and.intro</span> <span class="n">hP</span> <span class="n">hQ</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">P</span> <span class="n">Q</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">(</span><span class="n">hP</span> <span class="o">:</span> <span class="n">P</span><span class="o">)</span> <span class="o">(</span><span class="n">hQ</span> <span class="o">:</span> <span class="n">Q</span><span class="o">)</span> <span class="o">:</span> <span class="n">P</span> <span class="bp">∧</span> <span class="n">Q</span> <span class="o">:=</span> <span class="o">⟨</span><span class="n">hP</span><span class="o">,</span> <span class="n">hQ</span><span class="o">⟩</span>
</code></pre></div>



<a name="245604249"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/and/near/245604249" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/and.html#245604249">(Jul 11 2021 at 12:15)</a>:</h4>
<p>Thomas, it will be easier to help you if you provide more context. You should read <a href="https://leanprover-community.github.io/mwe.html">#mwe</a>. It happens that I recognized an exercise from my tutorials, so I can help you anyway, but it would easier to say so, with a precise reference to the exercise (they are numbered precisely for this purpose).</p>



<a name="245604299"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/and/near/245604299" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/and.html#245604299">(Jul 11 2021 at 12:16)</a>:</h4>
<p>Note also that you don't need the answer to this question to do the exercise (but you'll need to know at some point of course).</p>



<a name="245604304"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/and/near/245604304" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/and.html#245604304">(Jul 11 2021 at 12:16)</a>:</h4>
<p>Let's move to your second question now, the <code>have</code> error.</p>



<a name="245604321"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/and/near/245604321" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/and.html#245604321">(Jul 11 2021 at 12:17)</a>:</h4>
<p>Reading error messages is tricky but very important. The error message says:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">function</span> <span class="n">expected</span> <span class="n">at</span>
  <span class="n">dvd_gcd_iff</span>
<span class="n">term</span> <span class="n">has</span> <span class="n">type</span>
  <span class="bp">?</span><span class="n">m_1</span> <span class="bp">∣</span> <span class="bp">?</span><span class="n">m_2.gcd</span> <span class="bp">?</span><span class="n">m_3</span> <span class="bp">↔</span> <span class="bp">?</span><span class="n">m_1</span> <span class="bp">∣</span> <span class="bp">?</span><span class="n">m_2</span> <span class="bp">∧</span> <span class="bp">?</span><span class="n">m_1</span> <span class="bp">∣</span> <span class="bp">?</span><span class="n">m_3</span>
</code></pre></div>



<a name="245604371"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/and/near/245604371" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/and.html#245604371">(Jul 11 2021 at 12:18)</a>:</h4>
<p>Lean expect a function here because you ask it to apply <code>dvd_gcd_iff</code>to <code>a</code>, <code>b</code> and <code>a</code>.</p>



<a name="245604397"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/and/near/245604397" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/and.html#245604397">(Jul 11 2021 at 12:19)</a>:</h4>
<p>While <code>dvd_gcd_iff</code> is not a function (here function is meant in the dependent type theory sense, which includes a proof of a forall or imply  statement), it's an equivalence.</p>



<a name="245604461"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/and/near/245604461" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/and.html#245604461">(Jul 11 2021 at 12:20)</a>:</h4>
<p>It's an equivalence between statements that feature mysterious <code>?m_1</code>, <code>?m_2</code>, <code>?m_3</code>. It means those are implicit arguments that Lean will try to infer automatically. This is nice from Lean, but the downside is it won't let you provide those arguments explicitly unless you really insist.</p>



<a name="245604473"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/and/near/245604473" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/and.html#245604473">(Jul 11 2021 at 12:21)</a>:</h4>
<p>You can check all this by writing <code>#check dvd_gcd_iff</code> above the exercise.</p>



<a name="245604486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/and/near/245604486" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/and.html#245604486">(Jul 11 2021 at 12:22)</a>:</h4>
<p>This indeed doesn't show the argument. So you can ask Lean to see them anyway with <code>#check @dvd_gcd_iff</code></p>



<a name="245604541"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/and/near/245604541" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/and.html#245604541">(Jul 11 2021 at 12:22)</a>:</h4>
<p>Note the curly braces around the argument in the answer (and also when this lemma is explained before the exercise). This is what marks arguments as implicit.</p>



<a name="245604629"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/and/near/245604629" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/and.html#245604629">(Jul 11 2021 at 12:24)</a>:</h4>
<p>This <code>@</code> trick saying "I want to provide all arguments, please don't try to help" also works inside proofs, so you can fix your last line by using <code>@dvd_gcd_iff</code> there as well. Needless to say, this is not the expected solution. You don't need to know any of this at this stage, but it will become necessary at some point.</p>



<a name="245604728"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/and/near/245604728" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/and.html#245604728">(Jul 11 2021 at 12:27)</a>:</h4>
<p>For something which is half way between the expected solution and your idea, you can try: <code>have d : a ∣ a.gcd b ↔ a ∣ a ∧ a ∣ b := dvd_gcd_iff,</code>. This is give you a proof script that is easier to read and will use the fact that those implicit arguments can be inferred from the statement.</p>



<a name="245605681"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/and/near/245605681" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Laraia <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/and.html#245605681">(Jul 11 2021 at 12:52)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span> Perfect, thank you for the detailed explanation and for linking the minimal working examples page, I'll make sure I do this in the future.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>