---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/polynomial.20degree.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html">polynomial degree</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="209348595"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209348595" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209348595">(Sep 08 2020 at 06:07)</a>:</h4>
<p>Dear All,</p>
<p>more struggles...  I am trying to prove something analogous to the code below, but I can't.  Also in the specific example below, I am unable to find a proof of the fact that the <code>nat_degree</code> of a non-zero polynomial equals the maximum of the support.  What am I doing wrong?  How can I prove this?  I always have problems accessing the <code>xx</code>-part of <code>option xx</code>.</p>
<p>Thank you!</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">degree</span><span class="bp">.</span><span class="n">basic</span>

<span class="kn">open</span> <span class="n">polynomial</span>

<span class="kn">lemma</span> <span class="n">defs</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">}</span> <span class="o">{</span><span class="n">h</span> <span class="o">:</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="bp">.</span><span class="n">nonempty</span><span class="o">}</span> <span class="o">:</span> <span class="n">nat_degree</span> <span class="n">f</span> <span class="bp">=</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="bp">.</span><span class="n">max&#39;</span> <span class="n">h</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">sorry</span><span class="o">,</span>
<span class="kn">end</span>

<span class="bp">#</span><span class="kn">exit</span>
</code></pre></div>



<a name="209349176"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209349176" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209349176">(Sep 08 2020 at 06:20)</a>:</h4>
<p>Hey, you ask good questions now, and in a good way. You could ask this in <code>#maths</code>. The question seems not to be one about polynomials at all -- this looks like something which could/should be in the <code>finsupp</code> API, and there's a lot to get your head around with finsupps.</p>



<a name="209349199"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209349199" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209349199">(Sep 08 2020 at 06:21)</a>:</h4>
<p>I would have thought that <code>f \ne 0</code> was the canonical way to say that f was non-zero, rather than <code>f.support.nonempty</code>.</p>



<a name="209349297"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209349297" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209349297">(Sep 08 2020 at 06:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/polynomial.20degree/near/209349176">said</a>:</p>
<blockquote>
<p>Hey, you ask good questions now, and in a good way. You could ask this in <code>#maths</code>. The question seems not to be one about polynomials at all -- this looks like something which could/should be in the <code>finsupp</code> API, and there's a lot to get your head around with finsupps.</p>
</blockquote>
<p>Mwah... <code>nat_degree</code> is not really something about <code>finsupp</code>s, is it?</p>



<a name="209349316"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209349316" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209349316">(Sep 08 2020 at 06:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/polynomial.20degree/near/209349176">said</a>:</p>
<blockquote>
<p>Hey, you ask good questions now, and in a good way. You could ask this in <code>#maths</code>. The question seems not to be one about polynomials at all -- this looks like something which could/should be in the <code>finsupp</code> API, and there's a lot to get your head around with finsupps.</p>
</blockquote>
<p>Thank you!  I am glad that some progress can be detected from the outside!</p>
<p>To be honest, I try to avoid finsets as much as possible, since I do not really understand them.  This is why I thought that this was an issue with polynomials.  I am happy to see a solution using finsupp, though!</p>



<a name="209349318"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209349318" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209349318">(Sep 08 2020 at 06:23)</a>:</h4>
<p>No but degree is, and degree equals nat_degree if f isn't zero</p>



<a name="209349362"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209349362" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209349362">(Sep 08 2020 at 06:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/polynomial.20degree/near/209349199">said</a>:</p>
<blockquote>
<p>I would have thought that <code>f \ne 0</code> was the canonical way to say that f was non-zero, rather than <code>f.support.nonempty</code>.</p>
</blockquote>
<p>I am happy with either: I have a proof of the equivalence of <code>f \neq 0</code> and <code>f.support.nonempty</code>!</p>



<a name="209349389"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209349389" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209349389">(Sep 08 2020 at 06:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/polynomial.20degree/near/209349318">said</a>:</p>
<blockquote>
<p>No but degree is, and degree equals nat_degree if f isn't zero</p>
</blockquote>
<p>Exactly!  As much as I try to steer away from <code>degree</code>, <code>nat_degreee</code> is defined in terms of <code>degree</code> and that makes things very hard for me.</p>



<a name="209349398"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209349398" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209349398">(Sep 08 2020 at 06:25)</a>:</h4>
<p>Right. The point I'm making is that if you want to state a bunch of lemmas and you switch between the two notions in the statements of the lemmas then you'll forever have to be rewriting the equivalence when you're trying to use your lemmas</p>



<a name="209349449"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209349449" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209349449">(Sep 08 2020 at 06:26)</a>:</h4>
<p>I'm sorry the API isn't there, this shouldn't be too hard. Just sorry it and move on, and I'll fix it when I get to a computer?</p>



<a name="209349467"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209349467" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209349467">(Sep 08 2020 at 06:27)</a>:</h4>
<p>You just need some result of the form finset.sup = finset.max which is surely there</p>



<a name="209349468"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209349468" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209349468">(Sep 08 2020 at 06:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/polynomial.20degree/near/209349449">said</a>:</p>
<blockquote>
<p>I'm sorry the API isn't there, this shouldn't be too hard. Just sorry it and move on, and I'll fix it when I get to a computer?</p>
</blockquote>
<p>Ok, thank you!  I am curious to see how to fix it, since this might teach me how to deal with <code>option</code>s!</p>



<a name="209349473"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209349473" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209349473">(Sep 08 2020 at 06:27)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">lemma</span> <span class="n">defs</span> <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="bp">.</span><span class="n">nonempty</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">f</span><span class="bp">.</span><span class="n">nat_degree</span> <span class="bp">=</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="bp">.</span><span class="n">max&#39;</span> <span class="n">h</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">apply</span> <span class="n">le_antisymm</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">apply</span> <span class="n">finset</span><span class="bp">.</span><span class="n">le_max&#39;</span><span class="o">,</span>
    <span class="n">rw</span> <span class="n">finsupp</span><span class="bp">.</span><span class="n">mem_support_iff</span><span class="o">,</span>
    <span class="k">show</span> <span class="n">f</span><span class="bp">.</span><span class="n">leading_coeff</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">,</span>
    <span class="n">rw</span> <span class="o">[</span><span class="n">ne</span><span class="bp">.</span><span class="n">def</span><span class="o">,</span> <span class="n">polynomial</span><span class="bp">.</span><span class="n">leading_coeff_eq_zero</span><span class="o">],</span>
    <span class="n">rwa</span> <span class="o">[</span><span class="n">finset</span><span class="bp">.</span><span class="n">nonempty_iff_ne_empty</span><span class="o">,</span> <span class="n">ne</span><span class="bp">.</span><span class="n">def</span><span class="o">,</span> <span class="n">finsupp</span><span class="bp">.</span><span class="n">support_eq_empty</span><span class="o">]</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">apply</span> <span class="n">polynomial</span><span class="bp">.</span><span class="n">le_nat_degree_of_ne_zero</span><span class="o">,</span>
    <span class="k">have</span> <span class="o">:=</span> <span class="n">finset</span><span class="bp">.</span><span class="n">max&#39;_mem</span> <span class="bp">_</span> <span class="n">h</span><span class="o">,</span>
    <span class="n">rwa</span> <span class="n">finsupp</span><span class="bp">.</span><span class="n">mem_support_iff</span> <span class="n">at</span> <span class="n">this</span><span class="o">,</span> <span class="o">}</span>
<span class="kn">end</span>
</code></pre></div>



<a name="209349482"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209349482" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209349482">(Sep 08 2020 at 06:27)</a>:</h4>
<p>The idea is that users like us shouldn't have to worrying about this sort of thing at all</p>



<a name="209349487"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209349487" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209349487">(Sep 08 2020 at 06:27)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> thanks!  I'll use your code right now!</p>



<a name="209349488"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209349488" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209349488">(Sep 08 2020 at 06:27)</a>:</h4>
<p>Because it should just all be there</p>



<a name="209349533"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209349533" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209349533">(Sep 08 2020 at 06:28)</a>:</h4>
<p>Kevin, do we have a notion of degree for finsupps?</p>



<a name="209349536"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209349536" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209349536">(Sep 08 2020 at 06:28)</a>:</h4>
<p>Ok, I am slowly understanding the difference between things that I should worry about and things that I should not!</p>



<a name="209349537"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209349537" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209349537">(Sep 08 2020 at 06:28)</a>:</h4>
<p>I'm not really aware of it</p>



<a name="209349541"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209349541" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209349541">(Sep 08 2020 at 06:28)</a>:</h4>
<p>But actually the reason we discover holes in the library like this is because people are actually <em>using</em> the library</p>



<a name="209349573"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209349573" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209349573">(Sep 08 2020 at 06:29)</a>:</h4>
<p>I was filling in holes in the <code>with_bot</code> library yesterday.</p>



<a name="209349635"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209349635" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209349635">(Sep 08 2020 at 06:30)</a>:</h4>
<p>Degree is just defined to be some max</p>



<a name="209349642"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209349642" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209349642">(Sep 08 2020 at 06:30)</a>:</h4>
<p>Or some sup</p>



<a name="209349726"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209349726" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209349726">(Sep 08 2020 at 06:32)</a>:</h4>
<p>Yes, and to work with <code>at_infty</code> I was trying to work with <code>with_top</code> and <code>trailing_degree</code>s, but it got ugly...</p>



<a name="209350730"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209350730" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209350730">(Sep 08 2020 at 06:50)</a>:</h4>
<p>One should imagine the API you want and then find it or complain that it's not there :-)</p>



<a name="209353193"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209353193" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209353193">(Sep 08 2020 at 07:27)</a>:</h4>
<p><span aria-label="point up" class="emoji emoji-1f446" role="img" title="point up">:point_up:</span> This. It is actually really valuable to spec out the API when you find it missing. This is the hard part of library building - the proofs are usually all trival</p>



<a name="209353370"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209353370" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209353370">(Sep 08 2020 at 07:29)</a>:</h4>
<p>Especially, once you find an individual proof going not as smoothly as you would hope, rather than making a huge proof anyway you should step back and ask yourself what theorem you would like to have found in the library, and write its statement precisely. Then PR it</p>



<a name="209353590"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209353590" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209353590">(Sep 08 2020 at 07:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113489-new-members/topic/polynomial.20degree/near/209353370">said</a>:</p>
<blockquote>
<p>Especially, once you find an individual proof going not as smoothly as you would hope, rather than making a huge proof anyway you should step back and ask yourself what theorem you would like to have found in the library, and write its statement precisely. Then PR it</p>
</blockquote>
<p>Ok, so one thing that would be very valuable for me, at the moment, would be to have all the statements about degree, nat_degree, leading_coeff,... (in data.polynomial.degree.basic) available also for <code>trailing_degree</code>, <code>nat_trailing_degree</code>, <code>trailing_coeff</code>,...</p>



<a name="209353606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209353606" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209353606">(Sep 08 2020 at 07:32)</a>:</h4>
<p>write them down</p>



<a name="209353645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209353645" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209353645">(Sep 08 2020 at 07:32)</a>:</h4>
<p>I have started this, and got quite a bit into it, but could not reprove everything</p>



<a name="209353656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209353656" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209353656">(Sep 08 2020 at 07:32)</a>:</h4>
<p>don't worry about that</p>



<a name="209353668"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209353668" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209353668">(Sep 08 2020 at 07:32)</a>:</h4>
<p>just statements</p>



<a name="209353698"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209353698" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209353698">(Sep 08 2020 at 07:32)</a>:</h4>
<p>ok, writing them down (and almost proving them) was a simple matter of using the right sed.  with a couple of exceptions!</p>



<a name="209353705"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209353705" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209353705">(Sep 08 2020 at 07:32)</a>:</h4>
<p>if you post them here people can probably prove them in a few minutes and then bam you've got a PR</p>



<a name="209353721"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209353721" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209353721">(Sep 08 2020 at 07:33)</a>:</h4>
<p>ok, I will get to it!</p>



<a name="209353775"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209353775" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209353775">(Sep 08 2020 at 07:33)</a>:</h4>
<p>the important part is to identify those pain points and what statements would avoid them</p>



<a name="209361221"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209361221" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209361221">(Sep 08 2020 at 09:01)</a>:</h4>
<p>Ok, I have converted the statements in data.polynomial.degree.basic to their upside down.  The proofs that just went through with mechanical twitching are not commented.  The proofs that do not work are commented.  Should I simply make a gist and post the link here?</p>



<a name="209361335"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209361335" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209361335">(Sep 08 2020 at 09:02)</a>:</h4>
<p>I am not necessarily interested in <em>all</em> these lemmas.  What I do care about is that the trailing coefficient of a product of polynomials is the product of the trailing coefficients (at least when the product of the trailing coefficients is non-zero).</p>



<a name="209361402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209361402" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209361402">(Sep 08 2020 at 09:03)</a>:</h4>
<p>Even better than a gist, would be to push it to a branch of mathlib</p>



<a name="209361447"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209361447" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209361447">(Sep 08 2020 at 09:04)</a>:</h4>
<p>Do you already have write access to mathlib branches on github?</p>



<a name="209361543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209361543" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209361543">(Sep 08 2020 at 09:05)</a>:</h4>
<p>I am not sure: besides being new to Lean, I am also new to github...</p>



<a name="209361582"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209361582" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209361582">(Sep 08 2020 at 09:05)</a>:</h4>
<p>I feel like I am constantly wasting everybody's time with my not being able to do basic stuf...</p>



<a name="209361651"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209361651" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209361651">(Sep 08 2020 at 09:06)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/invitations">https://github.com/leanprover-community/mathlib/invitations</a></p>



<a name="209361665"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209361665" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209361665">(Sep 08 2020 at 09:06)</a>:</h4>
<p>I accepted!</p>



<a name="209361679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209361679" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209361679">(Sep 08 2020 at 09:06)</a>:</h4>
<p>(I assume that this was what I was supposed to do!  Ahaha)</p>



<a name="209361703"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209361703" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209361703">(Sep 08 2020 at 09:07)</a>:</h4>
<p>So, did you write those lemmas in a file inside mathlib?</p>



<a name="209361724"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209361724" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209361724">(Sep 08 2020 at 09:07)</a>:</h4>
<p>I wrote them inside a project that I created.  Does that count?</p>



<a name="209361732"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209361732" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209361732">(Sep 08 2020 at 09:07)</a>:</h4>
<p>Hmm, not really</p>



<a name="209361735"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209361735" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209361735">(Sep 08 2020 at 09:07)</a>:</h4>
<p>No worries</p>



<a name="209361739"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209361739" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209361739">(Sep 08 2020 at 09:07)</a>:</h4>
<p>Ok</p>



<a name="209361752"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209361752" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209361752">(Sep 08 2020 at 09:08)</a>:</h4>
<p>I can copy the file elsewhere, of course</p>



<a name="209361785"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209361785" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209361785">(Sep 08 2020 at 09:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="321459">Damiano Testa</span> <a href="#narrow/stream/113489-new-members/topic/polynomial.20degree/near/209361582">said</a>:</p>
<blockquote>
<p>I feel like I am constantly wasting everybody's time with my not being able to do basic stuf...</p>
</blockquote>
<p>For me this was a really important part of the learning process. I bombarded Mario with questions about all 1st year undergrad material (algebra, analysis, ...) and MSc level algebra</p>



<a name="209361794"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209361794" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209361794">(Sep 08 2020 at 09:08)</a>:</h4>
<p>In that case, just save the file, commit, and push it to your project</p>



<a name="209361811"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209361811" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209361811">(Sep 08 2020 at 09:08)</a>:</h4>
<p>Are you hosting the project on github?</p>



<a name="209361969"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209361969" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209361969">(Sep 08 2020 at 09:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/113489-new-members/topic/polynomial.20degree/near/209361811">said</a>:</p>
<blockquote>
<p>Are you hosting the project on github?</p>
</blockquote>
<p>I like to think that I am, but I am worried to moving it to github, since I fear that I might copy the empty project in github to my computer, instead of uploading the files on my computer to github...</p>



<a name="209361995"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209361995" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209361995">(Sep 08 2020 at 09:10)</a>:</h4>
<p><a href="https://www.youtube.com/watch?v=Bnc8w9lxe8A&amp;list=PLlF-CfQhukNnxF1S22cNGKyfOrd380NUv&amp;index=7&amp;t=0s">https://www.youtube.com/watch?v=Bnc8w9lxe8A&amp;list=PLlF-CfQhukNnxF1S22cNGKyfOrd380NUv&amp;index=7&amp;t=0s</a><br>
This might be an interesting video to watch, if you have some spare minutes.</p>
<div class="youtube-video message_inline_image"><a data-id="Bnc8w9lxe8A" href="https://www.youtube.com/watch?v=Bnc8w9lxe8A&amp;list=PLlF-CfQhukNnxF1S22cNGKyfOrd380NUv&amp;index=7&amp;t=0s"><img src="https://i.ytimg.com/vi/Bnc8w9lxe8A/default.jpg"></a></div>



<a name="209362004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209362004" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209362004">(Sep 08 2020 at 09:10)</a>:</h4>
<p>I push the github button on VSC every once in a while, though</p>



<a name="209362034"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209362034" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209362034">(Sep 08 2020 at 09:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/113489-new-members/topic/polynomial.20degree/near/209361995">said</a>:</p>
<blockquote>
<p><a href="https://www.youtube.com/watch?v=Bnc8w9lxe8A&amp;list=PLlF-CfQhukNnxF1S22cNGKyfOrd380NUv&amp;index=7&amp;t=0s">https://www.youtube.com/watch?v=Bnc8w9lxe8A&amp;list=PLlF-CfQhukNnxF1S22cNGKyfOrd380NUv&amp;index=7&amp;t=0s</a><br>
This might be an interesting video to watch, if you have some spare minutes.</p>
</blockquote>
<p>I will watch later, thanks!</p>



<a name="209362448"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209362448" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209362448">(Sep 08 2020 at 09:17)</a>:</h4>
<p>While I watch the video and digest it, here is the gist</p>
<p><a href="https://gist.github.com/adomani/a87231b5c4e8eb815a0575b026e7ce52">https://gist.github.com/adomani/a87231b5c4e8eb815a0575b026e7ce52</a></p>



<a name="209362504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209362504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209362504">(Sep 08 2020 at 09:17)</a>:</h4>
<p>(there may be mistakes in some of the statements, since reversing all the le signs is not as easy to do!)</p>



<a name="209364651"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209364651" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209364651">(Sep 08 2020 at 09:40)</a>:</h4>
<p>I am watching the video and I have added and committed a file.</p>



<a name="209374558"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209374558" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209374558">(Sep 08 2020 at 11:43)</a>:</h4>
<p>Still continuing with problems involving degrees, minima and infima: do you know how to prove the lemma below?  Thanks!</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">degree</span><span class="bp">.</span><span class="n">basic</span>

<span class="kn">open</span> <span class="n">polynomial</span>

<span class="kn">lemma</span> <span class="n">minmin</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">}</span> <span class="o">{</span><span class="n">fne</span> <span class="o">:</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="bp">.</span><span class="n">nonempty</span><span class="o">}</span> <span class="o">{</span><span class="n">fnz</span> <span class="o">:</span> <span class="n">f</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">}</span> <span class="o">:</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="bp">.</span><span class="n">min&#39;</span> <span class="n">fne</span> <span class="err">∈</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="bp">.</span><span class="n">min</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">sorry</span><span class="o">,</span>
<span class="kn">end</span>
</code></pre></div>



<a name="209374645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209374645" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209374645">(Sep 08 2020 at 11:44)</a>:</h4>
<p>(If you prefer to have <code>{fne : f ≠ 0}</code> as a hypothesis, go ahead!)</p>



<a name="209375215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209375215" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shing Tak Lam <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209375215">(Sep 08 2020 at 11:50)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">lemma</span> <span class="n">minmin</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">}</span> <span class="o">{</span><span class="n">fne</span> <span class="o">:</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="bp">.</span><span class="n">nonempty</span><span class="o">}</span> <span class="o">{</span><span class="n">fnz</span> <span class="o">:</span> <span class="n">f</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">}</span> <span class="o">:</span>
  <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="bp">.</span><span class="n">min&#39;</span> <span class="n">fne</span> <span class="err">∈</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="bp">.</span><span class="n">min</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">option</span><span class="bp">.</span><span class="n">mem_def</span><span class="o">,</span> <span class="n">finset</span><span class="bp">.</span><span class="n">min&#39;</span><span class="o">,</span> <span class="n">option</span><span class="bp">.</span><span class="n">some_get</span><span class="o">]</span>
</code></pre></div>



<a name="209375257"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209375257" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209375257">(Sep 08 2020 at 11:50)</a>:</h4>
<p>The statement doesn't have anything to do with support</p>



<a name="209375320"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209375320" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209375320">(Sep 08 2020 at 11:51)</a>:</h4>
<p>it's a good idea to generalize away as many details of the original context while retaining the essence of the statement, in this case yielding a statement about finsets</p>



<a name="209375442"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209375442" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209375442">(Sep 08 2020 at 11:52)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113489-new-members/topic/polynomial.20degree/near/209375320">said</a>:</p>
<blockquote>
<p>it's a good idea to generalize away as many details of the original context while retaining the essence of the statement, in this case yielding a statement about finsets</p>
</blockquote>
<p>I normally try to do that, but in this case, I was unable to formulate <code>f.support.min' fne</code> without the <code>fne : f.support.nonempty</code> assumption...</p>



<a name="209375475"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209375475" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209375475">(Sep 08 2020 at 11:53)</a>:</h4>
<p><span class="user-mention silent" data-user-id="266440">Shing Tak Lam</span> <a href="#narrow/stream/113489-new-members/topic/polynomial.20degree/near/209375215">said</a>:</p>
<blockquote>
<div class="codehilite"><pre><span></span><code><span class="kn">lemma</span> <span class="n">minmin</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">}</span> <span class="o">{</span><span class="n">fne</span> <span class="o">:</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="bp">.</span><span class="n">nonempty</span><span class="o">}</span> <span class="o">{</span><span class="n">fnz</span> <span class="o">:</span> <span class="n">f</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">}</span> <span class="o">:</span>
  <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="bp">.</span><span class="n">min&#39;</span> <span class="n">fne</span> <span class="err">∈</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="bp">.</span><span class="n">min</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">option</span><span class="bp">.</span><span class="n">mem_def</span><span class="o">,</span> <span class="n">finset</span><span class="bp">.</span><span class="n">min&#39;</span><span class="o">,</span> <span class="n">option</span><span class="bp">.</span><span class="n">some_get</span><span class="o">]</span>
</code></pre></div>


</blockquote>
<p>Thanks!  I do not understand the proof, but Lean does!</p>



<a name="209375495"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209375495" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209375495">(Sep 08 2020 at 11:53)</a>:</h4>
<p>you can change the type to <code>s.nonempty</code></p>



<a name="209375580"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209375580" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209375580">(Sep 08 2020 at 11:54)</a>:</h4>
<p>you can look at the type of <code>finset.min'</code> to see what things are needed to state it</p>



<a name="209375587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209375587" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209375587">(Sep 08 2020 at 11:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113489-new-members/topic/polynomial.20degree/near/209375495">said</a>:</p>
<blockquote>
<p>you can change the type to <code>s.nonempty</code></p>
</blockquote>
<p>Ah, I see what you are saying!  I should have made <code>f.support</code> the subject!</p>



<a name="209375713"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209375713" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209375713">(Sep 08 2020 at 11:55)</a>:</h4>
<p>another thing to notice about shing tak lam's proof is that the lemmas are also not polynomial specific, which suggests that some "trivial generalization" is at play</p>



<a name="209375823"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209375823" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shing Tak Lam <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209375823">(Sep 08 2020 at 11:56)</a>:</h4>
<p>Here's the proof for any <code>finset</code> (with some comments), and using it in your lemma</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">polynomial</span><span class="bp">.</span><span class="n">degree</span><span class="bp">.</span><span class="n">basic</span>

<span class="kn">open</span> <span class="n">polynomial</span>

<span class="kn">lemma</span> <span class="n">finset</span><span class="bp">.</span><span class="n">min&#39;_mem_min</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">decidable_linear_order</span> <span class="n">α</span><span class="o">]</span> <span class="o">{</span><span class="n">s</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">α</span><span class="o">}</span> <span class="o">(</span><span class="n">hs</span> <span class="o">:</span> <span class="n">s</span><span class="bp">.</span><span class="n">nonempty</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">s</span><span class="bp">.</span><span class="n">min&#39;</span> <span class="n">hs</span> <span class="err">∈</span> <span class="n">s</span><span class="bp">.</span><span class="n">min</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="c1">-- Unfold the definition of ∈ for options</span>
  <span class="n">rw</span> <span class="n">option</span><span class="bp">.</span><span class="n">mem_def</span><span class="o">,</span>
  <span class="c1">-- Unfold the definition of min&#39;</span>
  <span class="n">rw</span> <span class="n">finset</span><span class="bp">.</span><span class="n">min&#39;</span><span class="o">,</span>
  <span class="c1">-- some (option.get ↥(s.min.is_some)) is just s.min</span>
  <span class="n">rw</span> <span class="n">option</span><span class="bp">.</span><span class="n">some_get</span><span class="o">,</span>
<span class="kn">end</span>

<span class="kn">lemma</span> <span class="n">minmin</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">}</span> <span class="o">{</span><span class="n">fne</span> <span class="o">:</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="bp">.</span><span class="n">nonempty</span><span class="o">}</span> <span class="o">{</span><span class="n">fnz</span> <span class="o">:</span> <span class="n">f</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">}</span> <span class="o">:</span>
  <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="bp">.</span><span class="n">min&#39;</span> <span class="n">fne</span> <span class="err">∈</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="bp">.</span><span class="n">min</span> <span class="o">:=</span>
<span class="n">finset</span><span class="bp">.</span><span class="n">min&#39;_mem_min</span> <span class="bp">_</span>
</code></pre></div>



<a name="209375902"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209375902" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209375902">(Sep 08 2020 at 11:57)</a>:</h4>
<p>Ok, since this is a step in a proof about degrees of polynomials, and, in my mind, <code>finset</code>s are not what I think when I am thinking about polynomials, I overlooked that I should have formulated it with finsets.</p>



<a name="209375999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209375999" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209375999">(Sep 08 2020 at 11:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="266440">Shing Tak Lam</span> <a href="#narrow/stream/113489-new-members/topic/polynomial.20degree/near/209375823">said</a>:</p>
<blockquote>
<p>Here's the proof for any <code>finset</code> (with some comments), and using it in your lemma</p>
</blockquote>
<p>Very useful: thank you!</p>



<a name="209690383"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20degree/near/209690383" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20degree.html#209690383">(Sep 10 2020 at 18:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="321459">Damiano Testa</span> <a href="#narrow/stream/113489-new-members/topic/polynomial.20degree/near/209364651">said</a>:</p>
<blockquote>
<p>I am watching the video and I have added and committed a file.</p>
</blockquote>
<p>For future reference, the corresponding PR is <a href="https://github.com/leanprover-community/mathlib/issues/4069">#4069</a>.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>