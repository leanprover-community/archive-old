---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/TCB.20Dependent.20Match.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TCB.20Dependent.20Match.html">TCB Dependent Match</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="321105800"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TCB%20Dependent%20Match/near/321105800" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marcus Rossel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TCB.20Dependent.20Match.html#321105800">(Jan 13 2023 at 08:39)</a>:</h4>
<p>I heard someone say today that the fact that Lean can perform dependent pattern matching "by itself" (without needing to provide the type level information as e.g. in Coq) comes at the cost of a larger trusted code base. <br>
I couldn't follow as to why this would be the case, as I thought Lean just elaborates everything to its <code>Expr</code> type and then passes that to the kernel - so I wouldn't see how the kernel would have to distinguish between dependent vs nondependent matches. <br>
What's the right answer here?</p>



<a name="321151749"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TCB%20Dependent%20Match/near/321151749" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sky Wilshaw <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TCB.20Dependent.20Match.html#321151749">(Jan 13 2023 at 12:45)</a>:</h4>
<p>I don't think the kernel cares whether matches are dependent or not - they get compiled down into recursor applications anyway, which are <a href="https://github.com/leanprover/lean4/blob/master/src/kernel/inductive.cpp">handled here</a>.  The lack of match expressions in the kernel can be seen from lean's <a href="https://github.com/leanprover/lean4/blob/master/src/kernel/expr.h#L67">list of expression types</a>.</p>



<a name="321151993"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TCB%20Dependent%20Match/near/321151993" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TCB.20Dependent.20Match.html#321151993">(Jan 13 2023 at 12:47)</a>:</h4>
<p>yes, this argument sounds like either nonsense or a miscommunication</p>



<a name="321152243"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TCB%20Dependent%20Match/near/321152243" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TCB.20Dependent.20Match.html#321152243">(Jan 13 2023 at 12:48)</a>:</h4>
<p>I don't even know what it means to say that "lean doesn't need to provide type level information as e.g. in Coq", lean has types for everything it just has to elaborate them using type inference</p>



<a name="321152246"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TCB%20Dependent%20Match/near/321152246" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sky Wilshaw <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TCB.20Dependent.20Match.html#321152246">(Jan 13 2023 at 12:48)</a>:</h4>
<p>We're allowed to omit some type information because Lean's elaborator is strong.</p>



<a name="321154101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TCB%20Dependent%20Match/near/321154101" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TCB.20Dependent.20Match.html#321154101">(Jan 13 2023 at 12:56)</a>:</h4>
<p>If anything it seems like the reverse is true, because the Lean kernel only sees recursor applications</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>