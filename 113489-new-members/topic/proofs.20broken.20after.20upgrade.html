---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/proofs.20broken.20after.20upgrade.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proofs.20broken.20after.20upgrade.html">proofs broken after upgrade</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="209885055"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proofs%20broken%20after%20upgrade/near/209885055" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proofs.20broken.20after.20upgrade.html#209885055">(Sep 12 2020 at 15:07)</a>:</h4>
<p>I upgraded to the latest version of lean.   Now I get these messages:</p>
<div class="codehilite"><pre><span></span><code><span class="n">inf</span><span class="bp">.</span><span class="n">lean</span><span class="o">:</span><span class="mi">1</span><span class="o">:</span><span class="mi">0</span>
<span class="n">file</span> <span class="err">&#39;</span><span class="n">algebra</span><span class="bp">/</span><span class="n">char_zero&#39;</span> <span class="n">not</span> <span class="n">found</span> <span class="k">in</span> <span class="n">the</span> <span class="n">search</span> <span class="n">path</span>
<span class="n">Use</span> <span class="err">&#39;</span><span class="n">lean</span> <span class="c1">--path&#39; to see where lean is looking, or https://leanprover-community.github.io/file-not-found.html for more</span>
<span class="n">inf</span><span class="bp">.</span><span class="n">lean</span><span class="o">:</span><span class="mi">6</span><span class="o">:</span><span class="mi">0</span>
<span class="n">invalid</span> <span class="kn">import</span><span class="o">:</span> <span class="n">data</span><span class="bp">.</span><span class="n">real</span><span class="bp">.</span><span class="n">basic</span>
<span class="n">could</span> <span class="n">not</span> <span class="n">resolve</span> <span class="kn">import</span><span class="o">:</span> <span class="n">data</span><span class="bp">.</span><span class="n">real</span><span class="bp">.</span><span class="n">basic</span>
<span class="n">inf</span><span class="bp">.</span><span class="n">lean</span><span class="o">:</span><span class="mi">152</span><span class="o">:</span><span class="mi">4</span>
<span class="n">unknown</span> <span class="n">identifier</span> <span class="err">&#39;</span><span class="n">simp_rw&#39;</span>
</code></pre></div>


<p>At the top of my file I have </p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">finish</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">real</span><span class="bp">.</span><span class="n">basic</span>
</code></pre></div>


<p>I can't remember why I wanted data.real.basic,  but I definitely need simp_rw.</p>



<a name="209885219"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proofs%20broken%20after%20upgrade/near/209885219" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proofs.20broken.20after.20upgrade.html#209885219">(Sep 12 2020 at 15:10)</a>:</h4>
<p><code>import tactic.basic</code> will import all the generally useful tactics such as <code>finish</code> and <code>simp_rw</code>.</p>



<a name="209885243"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proofs%20broken%20after%20upgrade/near/209885243" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proofs.20broken.20after.20upgrade.html#209885243">(Sep 12 2020 at 15:11)</a>:</h4>
<p>Thanks.   Now I have "no messages",  which is good.  I guess data.real.basic is irrelevant.</p>



<a name="209885325"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proofs%20broken%20after%20upgrade/near/209885325" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proofs.20broken.20after.20upgrade.html#209885325">(Sep 12 2020 at 15:13)</a>:</h4>
<p>But now:</p>
<div class="codehilite"><pre><span></span><code><span class="n">iMac</span><span class="o">:</span><span class="n">inf</span> <span class="n">beeson</span><span class="err">$</span> <span class="n">leanproject</span> <span class="n">build</span>
<span class="n">Building</span> <span class="n">project</span> <span class="n">inf</span>
<span class="n">Cmd</span><span class="o">(</span><span class="err">&#39;</span><span class="n">git&#39;</span><span class="o">)</span> <span class="n">failed</span> <span class="n">due</span> <span class="n">to</span><span class="o">:</span> <span class="kn">exit</span> <span class="n">code</span><span class="o">(</span><span class="mi">128</span><span class="o">)</span>
  <span class="n">cmdline</span><span class="o">:</span> <span class="n">git</span> <span class="n">reset</span> <span class="c1">--hard HEAD --</span>
  <span class="n">stderr</span><span class="o">:</span> <span class="err">&#39;</span><span class="n">fatal</span><span class="o">:</span> <span class="n">Could</span> <span class="n">not</span> <span class="n">parse</span> <span class="n">object</span> <span class="err">&#39;</span><span class="n">HEAD&#39;</span><span class="bp">.</span><span class="err">&#39;</span>
<span class="n">iMac</span><span class="o">:</span><span class="n">inf</span> <span class="n">beeson</span><span class="err">$</span>
</code></pre></div>



<a name="209885573"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proofs%20broken%20after%20upgrade/near/209885573" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proofs.20broken.20after.20upgrade.html#209885573">(Sep 12 2020 at 15:20)</a>:</h4>
<p>(I am by no means a lean expert) but that error is coming from git basically saying some commit you're on "doesn't exist" really</p>



<a name="209885578"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proofs%20broken%20after%20upgrade/near/209885578" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proofs.20broken.20after.20upgrade.html#209885578">(Sep 12 2020 at 15:20)</a>:</h4>
<p>It could presumably be either the repo for your <code>inf</code> project itself, or for a dependency (say mathlib) which <code>leanproject</code> manages on your behalf</p>



<a name="209885604"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proofs%20broken%20after%20upgrade/near/209885604" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proofs.20broken.20after.20upgrade.html#209885604">(Sep 12 2020 at 15:21)</a>:</h4>
<p>Is your <code>inf</code> directory a git repo itself? If so possibly try <code>git fetch</code></p>



<a name="209885650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proofs%20broken%20after%20upgrade/near/209885650" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proofs.20broken.20after.20upgrade.html#209885650">(Sep 12 2020 at 15:22)</a>:</h4>
<p>Can you output the result of <code>ls</code> in the directory where you are doing the commands?</p>



<a name="209885661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proofs%20broken%20after%20upgrade/near/209885661" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proofs.20broken.20after.20upgrade.html#209885661">(Sep 12 2020 at 15:22)</a>:</h4>
<p>I mean, where you're doing leanproject commands</p>



<a name="209885662"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proofs%20broken%20after%20upgrade/near/209885662" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proofs.20broken.20after.20upgrade.html#209885662">(Sep 12 2020 at 15:22)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="n">iMac</span><span class="o">:</span><span class="n">inf</span> <span class="n">beeson</span><span class="err">$</span> <span class="n">ls</span>
<span class="n">Junk</span>        <span class="bp">_</span><span class="n">target</span>     <span class="n">leanpkg</span><span class="bp">.</span><span class="n">path</span>    <span class="n">leanpkg</span><span class="bp">.</span><span class="n">toml</span>    <span class="n">src</span>
<span class="n">iMac</span><span class="o">:</span><span class="n">inf</span> <span class="n">beeson</span><span class="err">$</span>
</code></pre></div>



<a name="209885668"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proofs%20broken%20after%20upgrade/near/209885668" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proofs.20broken.20after.20upgrade.html#209885668">(Sep 12 2020 at 15:23)</a>:</h4>
<p>That looks lovely.</p>



<a name="209885678"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proofs%20broken%20after%20upgrade/near/209885678" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proofs.20broken.20after.20upgrade.html#209885678">(Sep 12 2020 at 15:23)</a>:</h4>
<p>Is it a git repo?</p>



<a name="209885683"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proofs%20broken%20after%20upgrade/near/209885683" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proofs.20broken.20after.20upgrade.html#209885683">(Sep 12 2020 at 15:23)</a>:</h4>
<p>what's the output of <code>ls -al</code>?</p>



<a name="209885691"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proofs%20broken%20after%20upgrade/near/209885691" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proofs.20broken.20after.20upgrade.html#209885691">(Sep 12 2020 at 15:24)</a>:</h4>
<p>Do you know how git works?</p>



<a name="209885727"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proofs%20broken%20after%20upgrade/near/209885727" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proofs.20broken.20after.20upgrade.html#209885727">(Sep 12 2020 at 15:24)</a>:</h4>
<p>That's not the error message you'd get if it wasn't</p>



<a name="209885732"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proofs%20broken%20after%20upgrade/near/209885732" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proofs.20broken.20after.20upgrade.html#209885732">(Sep 12 2020 at 15:24)</a>:</h4>
<p>OK then I give in :-)</p>



<a name="209885738"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proofs%20broken%20after%20upgrade/near/209885738" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proofs.20broken.20after.20upgrade.html#209885738">(Sep 12 2020 at 15:24)</a>:</h4>
<p>that said, the error message is still baffling</p>



<a name="209885750"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proofs%20broken%20after%20upgrade/near/209885750" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proofs.20broken.20after.20upgrade.html#209885750">(Sep 12 2020 at 15:25)</a>:</h4>
<p>I assume leanproject is running this in the mathlib directory? surely it's not going to <code>git reset --hard HEAD</code> your project itself??</p>



<a name="209885761"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proofs%20broken%20after%20upgrade/near/209885761" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proofs.20broken.20after.20upgrade.html#209885761">(Sep 12 2020 at 15:25)</a>:</h4>
<p>I didn't make it a git repo but maybe  Lean does that automatically.</p>
<div class="codehilite"><pre><span></span><code><span class="n">iMac</span><span class="o">:</span><span class="n">inf</span> <span class="n">beeson</span><span class="err">$</span> <span class="n">ls</span> <span class="bp">-</span><span class="n">al</span>
<span class="n">total</span> <span class="mi">40</span>
<span class="n">drwxr</span><span class="bp">-</span><span class="n">xr</span><span class="bp">-</span><span class="n">x</span><span class="bp">@</span> <span class="mi">10</span> <span class="n">beeson</span>  <span class="n">staff</span>   <span class="mi">320</span> <span class="n">Sep</span> <span class="mi">11</span> <span class="mi">18</span><span class="o">:</span><span class="mi">27</span> <span class="bp">.</span>
<span class="n">drwxr</span><span class="bp">-</span><span class="n">xr</span><span class="bp">-</span><span class="n">x</span><span class="bp">@</span> <span class="mi">11</span> <span class="n">beeson</span>  <span class="n">staff</span>   <span class="mi">352</span> <span class="n">Sep</span>  <span class="mi">5</span> <span class="mi">20</span><span class="o">:</span><span class="mi">26</span> <span class="bp">..</span>
<span class="bp">-</span><span class="n">rw</span><span class="bp">-</span><span class="n">r</span><span class="c1">--r--@  1 beeson  staff  6148 Sep 11 10:15 .DS_Store</span>
<span class="n">drwxr</span><span class="bp">-</span><span class="n">xr</span><span class="bp">-</span><span class="n">x</span><span class="bp">@</span>  <span class="mi">9</span> <span class="n">beeson</span>  <span class="n">staff</span>   <span class="mi">288</span> <span class="n">Jun</span> <span class="mi">12</span> <span class="mi">23</span><span class="o">:</span><span class="mi">19</span> <span class="bp">.</span><span class="n">git</span>
<span class="bp">-</span><span class="n">rw</span><span class="bp">-</span><span class="n">r</span><span class="c1">--r--@  1 beeson  staff    31 Jun 12 23:17 .gitignore</span>
<span class="n">drwxr</span><span class="bp">-</span><span class="n">xr</span><span class="bp">-</span><span class="n">x</span><span class="bp">@</span>  <span class="mi">6</span> <span class="n">beeson</span>  <span class="n">staff</span>   <span class="mi">192</span> <span class="n">Sep</span> <span class="mi">11</span> <span class="mi">10</span><span class="o">:</span><span class="mi">16</span> <span class="n">Junk</span>
<span class="n">drwxr</span><span class="bp">-</span><span class="n">xr</span><span class="bp">-</span><span class="n">x</span><span class="bp">@</span>  <span class="mi">3</span> <span class="n">beeson</span>  <span class="n">staff</span>    <span class="mi">96</span> <span class="n">Jun</span> <span class="mi">12</span> <span class="mi">23</span><span class="o">:</span><span class="mi">17</span> <span class="bp">_</span><span class="n">target</span>
<span class="bp">-</span><span class="n">rw</span><span class="bp">-</span><span class="n">r</span><span class="c1">--r--@  1 beeson  staff    54 Sep 12 07:09 leanpkg.path</span>
<span class="bp">-</span><span class="n">rw</span><span class="bp">-</span><span class="n">r</span><span class="c1">--r--@  1 beeson  staff   236 Sep 12 07:08 leanpkg.toml</span>
<span class="n">drwxr</span><span class="bp">-</span><span class="n">xr</span><span class="bp">-</span><span class="n">x</span><span class="bp">@</span> <span class="mi">11</span> <span class="n">beeson</span>  <span class="n">staff</span>   <span class="mi">352</span> <span class="n">Sep</span> <span class="mi">12</span> <span class="mi">07</span><span class="o">:</span><span class="mi">46</span> <span class="n">src</span>
<span class="n">iMac</span><span class="o">:</span><span class="n">inf</span> <span class="n">beeson</span><span class="err">$</span>
</code></pre></div>


<p>No,  I only know epsilon about git.</p>



<a name="209885773"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proofs%20broken%20after%20upgrade/near/209885773" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proofs.20broken.20after.20upgrade.html#209885773">(Sep 12 2020 at 15:25)</a>:</h4>
<p>What does <code>git status</code> tell you?</p>



<a name="209885859"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proofs%20broken%20after%20upgrade/near/209885859" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proofs.20broken.20after.20upgrade.html#209885859">(Sep 12 2020 at 15:27)</a>:</h4>
<p>I guess I caused this problem by keeping my project under my Dropbox folder so it would sync to my laptop.   Normally I keep <br>
all my work  in directories that start with Users/beeson/Dropbox  so they sync to the laptop.   And,  I upgraded both machines<br>
to the Aug. 2020 version of Lean.   Before that they were in sync.   Now, however,   leanproject build seems to work on the laptop<br>
but not on the desktop.</p>



<a name="209885937"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proofs%20broken%20after%20upgrade/near/209885937" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proofs.20broken.20after.20upgrade.html#209885937">(Sep 12 2020 at 15:29)</a>:</h4>
<p>So  the "leanproject build" command on the laptop left files in dropbox that are not correct on the desktop??</p>



<a name="209885994"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proofs%20broken%20after%20upgrade/near/209885994" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proofs.20broken.20after.20upgrade.html#209885994">(Sep 12 2020 at 15:30)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="n">iMac</span><span class="o">:</span><span class="n">inf</span> <span class="n">beeson</span><span class="err">$</span> <span class="n">git</span> <span class="n">status</span>
<span class="n">On</span> <span class="n">branch</span> <span class="n">master</span>

<span class="n">No</span> <span class="n">commits</span> <span class="n">yet</span>

<span class="n">Untracked</span> <span class="n">files</span><span class="o">:</span>
  <span class="o">(</span><span class="n">use</span> <span class="s2">&quot;git add &lt;file&gt;...&quot;</span> <span class="n">to</span> <span class="n">include</span> <span class="k">in</span> <span class="n">what</span> <span class="n">will</span> <span class="n">be</span> <span class="n">committed</span><span class="o">)</span>

    <span class="bp">.</span><span class="n">DS_Store</span>
    <span class="bp">.</span><span class="n">gitignore</span>
    <span class="n">Junk</span><span class="bp">/</span>
    <span class="n">leanpkg</span><span class="bp">.</span><span class="n">toml</span>
    <span class="n">src</span><span class="bp">/</span>

<span class="n">nothing</span> <span class="n">added</span> <span class="n">to</span> <span class="n">commit</span> <span class="n">but</span> <span class="n">untracked</span> <span class="n">files</span> <span class="n">present</span> <span class="o">(</span><span class="n">use</span> <span class="s2">&quot;git add&quot;</span> <span class="n">to</span> <span class="n">track</span><span class="o">)</span>
</code></pre></div>



<a name="209886035"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proofs%20broken%20after%20upgrade/near/209886035" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proofs.20broken.20after.20upgrade.html#209886035">(Sep 12 2020 at 15:31)</a>:</h4>
<p>OK, well that's good, since yeah it's almost certainly then coming from leanproject running that on mathlib, which <span class="user-mention" data-user-id="110032">@Reid Barton</span> mentioned (and which I see does indeed happen here: <a href="https://github.com/leanprover-community/mathlib-tools/blob/bf53aa4268452fbfbfd48e519ef847cae7e0053c/mathlibtools/lib.py#L592">https://github.com/leanprover-community/mathlib-tools/blob/bf53aa4268452fbfbfd48e519ef847cae7e0053c/mathlibtools/lib.py#L592</a>)</p>



<a name="209886089"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proofs%20broken%20after%20upgrade/near/209886089" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proofs.20broken.20after.20upgrade.html#209886089">(Sep 12 2020 at 15:32)</a>:</h4>
<p>I don't know if there's a leanproject(-or-lean-specific) way to fix this but I'd assume if you delete mathlib in the target directory that you'll get back a working clone. But probably would wait for one of the above experts to chime in :)</p>



<a name="209886277"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proofs%20broken%20after%20upgrade/near/209886277" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proofs.20broken.20after.20upgrade.html#209886277">(Sep 12 2020 at 15:37)</a>:</h4>
<p>so I did "leanproject up"  again.    Output includes</p>
<div class="codehilite"><pre><span></span><code><span class="bp">&gt;</span> <span class="n">git</span> <span class="n">checkout</span> <span class="c1">--detach c3a6a6990d620c3fadf11631038b38dd7fd50b39    # in directory _target/deps/mathlib</span>
<span class="n">HEAD</span> <span class="n">is</span> <span class="n">now</span> <span class="n">at</span> <span class="n">c3a6a6990</span> <span class="n">doc</span><span class="o">(</span><span class="n">group_theory</span><span class="bp">/</span><span class="n">subgroup</span><span class="o">):</span> <span class="n">fix</span> <span class="n">links</span> <span class="k">in</span> <span class="n">module</span> <span class="n">doc</span> <span class="o">(</span><span class="bp">#</span><span class="mi">4115</span><span class="o">)</span>
<span class="n">Looking</span> <span class="n">for</span> <span class="n">local</span> <span class="n">mathlib</span> <span class="n">oleans</span>
<span class="n">Found</span> <span class="n">local</span> <span class="n">mathlib</span> <span class="n">oleans</span>
</code></pre></div>


<p>After that,  leanproject build works again normally.</p>



<a name="209886334"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proofs%20broken%20after%20upgrade/near/209886334" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proofs.20broken.20after.20upgrade.html#209886334">(Sep 12 2020 at 15:38)</a>:</h4>
<p>Cool, looks like you found the leanproject-specific solution, so well done :)</p>



<a name="209886341"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proofs%20broken%20after%20upgrade/near/209886341" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proofs.20broken.20after.20upgrade.html#209886341">(Sep 12 2020 at 15:39)</a>:</h4>
<p>And also works on the laptop.  So I guess the problem is solved.   But I have no idea what the problem actually was or what caused it.</p>



<a name="209886367"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proofs%20broken%20after%20upgrade/near/209886367" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proofs.20broken.20after.20upgrade.html#209886367">(Sep 12 2020 at 15:39)</a>:</h4>
<p>Did you update on one machine or the other very recently? If so maybe dropbox was behind and only partially copied the <code>.git</code> directory over from one to the other, which yeah will confuse git.</p>



<a name="209886449"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proofs%20broken%20after%20upgrade/near/209886449" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proofs.20broken.20after.20upgrade.html#209886449">(Sep 12 2020 at 15:40)</a>:</h4>
<p>That's a good theory!   I'll bet you're right about that.  Dropbox is usually virtually instant,  but I guess there may be a lot of big <br>
files involved in upgrading lean.</p>



<a name="209886537"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proofs%20broken%20after%20upgrade/near/209886537" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proofs.20broken.20after.20upgrade.html#209886537">(Sep 12 2020 at 15:42)</a>:</h4>
<p>Thanks very much to all of you.   It is really wonderful that all you geniuses are willing to help a bumbling newcomer,  and at all hours and rapidly. <br>
It's nice to feel that someone has my back.</p>



<a name="209886538"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proofs%20broken%20after%20upgrade/near/209886538" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proofs.20broken.20after.20upgrade.html#209886538">(Sep 12 2020 at 15:42)</a>:</h4>
<p>Yeah, overall I think what you're doing is fine (letting dropbox save you from having to learn too much git for your own machines), you just will run into this kind of thing if you switch from one to the other mid-sync.</p>



<a name="209891367"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proofs%20broken%20after%20upgrade/near/209891367" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proofs.20broken.20after.20upgrade.html#209891367">(Sep 12 2020 at 17:30)</a>:</h4>
<p>Using Dropbox in this context is really really asking for trouble, but I'm glad you managed to get out of trouble.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>