---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Orange.20bars.20never.20disappear.20in.20VSCode.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Orange.20bars.20never.20disappear.20in.20VSCode.html">Orange bars never disappear in VSCode</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="197248437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Orange%20bars%20never%20disappear%20in%20VSCode/near/197248437" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Donald Sebastian Leung <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Orange.20bars.20never.20disappear.20in.20VSCode.html#197248437">(May 12 2020 at 08:53)</a>:</h4>
<p>Not sure if this is just me or due to, e.g. the latest update to VSCode for Lean, but I've just encountered an issue where the orange bars disappear after a second or two when I first load a file in VSCode, but then upon making <em>any</em> modification to the file whatsoever, the orange bars re-appear (as expected) but then don't go away even after a minute or two. I've tried re-running <code>leanproject build</code> via the command line which usually solves the issue by (re-)compiling any mathlib files as necessary, but this time, it doesn't re-compile anything (from mathlib) and doing so doesn't seem to help at all.</p>
<p>For reference, here is my <code>leanpkg.toml</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="k">[package]</span>
<span class="n">name</span> <span class="o">=</span> <span class="s">&quot;lean-kata&quot;</span>
<span class="n">version</span> <span class="o">=</span> <span class="s">&quot;0.1&quot;</span>
<span class="n">lean_version</span> <span class="o">=</span> <span class="s">&quot;leanprover-community/lean:3.7.2&quot;</span>
<span class="n">path</span> <span class="o">=</span> <span class="s">&quot;src&quot;</span>

<span class="k">[dependencies]</span>
<span class="n">mathlib</span> <span class="o">=</span> <span class="p">{</span><span class="n">git</span> <span class="o">=</span> <span class="s">&quot;https://github.com/leanprover-community/mathlib&quot;</span><span class="p">,</span> <span class="n">rev</span> <span class="o">=</span> <span class="s">&quot;ecdb13831d4671eb304c41e78adb5b280c2fc365&quot;</span><span class="p">}</span>
</code></pre></div>


<p>And my (only) Lean file <code>Solution.lean</code>, under <code>src/</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">group_theory</span><span class="bp">.</span><span class="n">subgroup</span> <span class="n">algebra</span><span class="bp">.</span><span class="n">pi_instances</span>

<span class="c1">-- This is in Preloaded.lean, so delete before submitting and `import Preloaded` instead</span>
<span class="n">def</span> <span class="err">Δ</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">G</span> <span class="bp">×</span> <span class="n">G</span><span class="o">)</span> <span class="o">:=</span> <span class="o">{</span> <span class="n">g</span> <span class="o">:</span> <span class="n">G</span> <span class="bp">×</span> <span class="n">G</span> <span class="bp">|</span> <span class="n">g</span><span class="bp">.</span><span class="n">fst</span> <span class="bp">=</span> <span class="n">g</span><span class="bp">.</span><span class="n">snd</span> <span class="o">}</span>

<span class="kn">instance</span> <span class="n">subgroup_</span><span class="err">Δ</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">:</span> <span class="n">is_subgroup</span> <span class="o">(</span><span class="err">Δ</span> <span class="n">G</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">sorry</span>

<span class="kn">theorem</span> <span class="n">normal_</span><span class="err">Δ</span><span class="bp">_</span><span class="n">iff_comm</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">:</span> <span class="n">normal_subgroup</span> <span class="o">(</span><span class="err">Δ</span> <span class="n">G</span><span class="o">)</span> <span class="bp">↔</span> <span class="bp">∀</span> <span class="n">g</span> <span class="n">h</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span> <span class="n">g</span> <span class="bp">*</span> <span class="n">h</span> <span class="bp">=</span> <span class="n">h</span> <span class="bp">*</span> <span class="n">g</span> <span class="o">:=</span>
<span class="n">sorry</span>
</code></pre></div>



<a name="197248709"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Orange%20bars%20never%20disappear%20in%20VSCode/near/197248709" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Orange.20bars.20never.20disappear.20in.20VSCode.html#197248709">(May 12 2020 at 08:57)</a>:</h4>
<p>I think this sometimes happens if there is a <code>.olean</code> present that doesn't belong to a <code>.lean</code> file. At least I've had such crazy behaviour in the past. I fixed it with</p>
<div class="codehilite"><pre><span></span><code><span class="n">find</span> <span class="bp">.</span> <span class="bp">|</span> <span class="n">grep</span> <span class="err">&#39;</span><span class="o">[</span><span class="bp">.</span><span class="o">]</span><span class="n">olean&#39;</span> <span class="bp">|</span> <span class="n">xargs</span> <span class="n">rm</span>
<span class="n">leanproject</span> <span class="n">get</span><span class="bp">-</span><span class="n">cache</span>
</code></pre></div>



<a name="197248826"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Orange%20bars%20never%20disappear%20in%20VSCode/near/197248826" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Donald Sebastian Leung <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Orange.20bars.20never.20disappear.20in.20VSCode.html#197248826">(May 12 2020 at 08:58)</a>:</h4>
<p>That's weird - for the second command (<code>leanproject get-cache</code>), I'm getting "Failed to fetch mathlib oleans"</p>



<a name="197249029"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Orange%20bars%20never%20disappear%20in%20VSCode/near/197249029" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Orange.20bars.20never.20disappear.20in.20VSCode.html#197249029">(May 12 2020 at 09:00)</a>:</h4>
<p>Check your leanproject version, it should be 0.0.6.</p>



<a name="197249096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Orange%20bars%20never%20disappear%20in%20VSCode/near/197249096" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Orange.20bars.20never.20disappear.20in.20VSCode.html#197249096">(May 12 2020 at 09:01)</a>:</h4>
<p>Wait</p>



<a name="197249127"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Orange%20bars%20never%20disappear%20in%20VSCode/near/197249127" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Orange.20bars.20never.20disappear.20in.20VSCode.html#197249127">(May 12 2020 at 09:01)</a>:</h4>
<p>Shouldn't it be <code>leanproject get-mathlib-cache</code>?</p>



<a name="197249254"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Orange%20bars%20never%20disappear%20in%20VSCode/near/197249254" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Orange.20bars.20never.20disappear.20in.20VSCode.html#197249254">(May 12 2020 at 09:02)</a>:</h4>
<p>Did all this change recently? You want to get your mathlib oleans. Look at the help for the version you're using and type the appropriate commands to get mathlib oleans without updating the version of mathlib</p>



<a name="197249404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Orange%20bars%20never%20disappear%20in%20VSCode/near/197249404" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Donald Sebastian Leung <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Orange.20bars.20never.20disappear.20in.20VSCode.html#197249404">(May 12 2020 at 09:04)</a>:</h4>
<p>Thanks - doing:</p>
<div class="codehilite"><pre><span></span><code>$ find . <span class="p">|</span> grep <span class="s1">&#39;[.]olean&#39;</span> <span class="p">|</span> xargs rm
$ leanproject get-mathlib-cache
</code></pre></div>


<p>solved the issue for me.</p>



<a name="197295910"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Orange%20bars%20never%20disappear%20in%20VSCode/near/197295910" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ROCKY KAMEN-RUBIO <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Orange.20bars.20never.20disappear.20in.20VSCode.html#197295910">(May 12 2020 at 15:44)</a>:</h4>
<p>Glad you worked out the issue!</p>
<p>For anyone else struggling with a similar problem, I just want to add this has happened to me in the following cases: </p>
<ol>
<li>
<p>I tried to run a tactic that infinite loops, like ‘’’repeat {rw add_comm}’’’</p>
</li>
<li>
<p>I have too many other errors in my file. This can cause anomalous behavior. There’s a good blog post about this someone linked to that I will try to find. </p>
</li>
<li>
<p>I applied a tactic like ‘’’simp’’’ that takes a REALLY long time to decide it failed, or I’m importing several very large packages and just need to wait a few minutes.</p>
</li>
</ol>



<a name="197301019"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Orange%20bars%20never%20disappear%20in%20VSCode/near/197301019" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Orange.20bars.20never.20disappear.20in.20VSCode.html#197301019">(May 12 2020 at 16:21)</a>:</h4>
<ol start="4">
<li>you forgot to compile mathlib or download oleans, or the oleans that are there are out of date, so lean has decided to compile mathlib on the spot. This is always a bad idea because it's a lot of work and the oleans that result from compilation are not even saved for next time</li>
</ol>



<a name="197314581"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Orange%20bars%20never%20disappear%20in%20VSCode/near/197314581" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Orange.20bars.20never.20disappear.20in.20VSCode.html#197314581">(May 12 2020 at 18:01)</a>:</h4>
<p><span class="user-mention" data-user-id="261068">@ROCKY KAMEN-RUBIO</span> I think you mean kevin's post <a href="https://xenaproject.wordpress.com/2020/03/24/no-errors/">no errors</a></p>



<a name="197315566"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Orange%20bars%20never%20disappear%20in%20VSCode/near/197315566" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> ROCKY KAMEN-RUBIO <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Orange.20bars.20never.20disappear.20in.20VSCode.html#197315566">(May 12 2020 at 18:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="252300">Jalex Stark</span> <a href="#narrow/stream/113489-new-members/topic/Orange.20bars.20never.20disappear.20in.20VSCode/near/197314581">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="261068">ROCKY KAMEN-RUBIO</span> I think you mean kevin's post <a href="https://xenaproject.wordpress.com/2020/03/24/no-errors/">no errors</a></p>
</blockquote>
<p>Yes! Thank you!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>