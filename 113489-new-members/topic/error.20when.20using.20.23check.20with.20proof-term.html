---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/error.20when.20using.20.23check.20with.20proof-term.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/error.20when.20using.20.23check.20with.20proof-term.html">error when using #check with proof-term</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="276391990"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/error%20when%20using%20%23check%20with%20proof-term/near/276391990" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ayush Agrawal <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/error.20when.20using.20.23check.20with.20proof-term.html#276391990">(Mar 23 2022 at 20:04)</a>:</h4>
<p>I used <code>#print int.eq_of_sub_eq_zero</code> and it printed the proof term:<br>
protected theorem int.eq_of_sub_eq_zero : ∀ {a b : ℤ}, a - b = 0 → a = b :=<br>
<code>λ {a b : ℤ} (h : a - b = 0), have this : 0 + b = b, from (id (eq.rec (eq.refl (0 + b = b)) b.zero_add)).mpr (eq.refl b), have this : a - b + b = b, from (id (eq.rec (eq.refl (a - b + b = b)) h)).mpr this, eq.mp (eq.rec (eq.refl (a + -b + b = b)) (a.neg_add_cancel_right b)) (eq.mp (eq.rec (eq.refl (a - b + b = b)) int.sub_eq_add_neg) this)</code></p>
<p>But when I did <code>#check λ {a b : ℤ} (h : a - b = 0), have this : 0 + b = b, from (id (eq.rec (eq.refl (0 + b = b)) b.zero_add)).mpr (eq.refl b), have this : a - b + b = b, from (id (eq.rec (eq.refl (a - b + b = b)) h)).mpr this, eq.mp (eq.rec (eq.refl (a + -b + b = b)) (a.neg_add_cancel_right b)) (eq.mp (eq.rec (eq.refl (a - b + b = b)) int.sub_eq_add_neg) this)</code>, I expected to get the type of this proof term  <code>∀ {a b : ℤ}, a - b = 0 → a = b </code>. But it is throwing error as attached: <a href="/user_uploads/3121/fv-8y9ZEnnmh3H3o7wCQyZ_M/image.png">image.png</a> . Can anyone help in this regard or point what am I missing? Thanks!</p>
<div class="message_inline_image"><a href="/user_uploads/3121/fv-8y9ZEnnmh3H3o7wCQyZ_M/image.png" title="image.png"><img src="/user_uploads/3121/fv-8y9ZEnnmh3H3o7wCQyZ_M/image.png"></a></div>



<a name="276397957"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/error%20when%20using%20%23check%20with%20proof-term/near/276397957" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/error.20when.20using.20.23check.20with.20proof-term.html#276397957">(Mar 23 2022 at 20:48)</a>:</h4>
<p>The issue is the implicit arguments, especially in things like <code>eq.rec</code>. Use <code>set_option pp.all true</code> before the <code>#print</code> to get a very explicit version of the term that should be more likely to round-trip</p>



<a name="276450389"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/error%20when%20using%20%23check%20with%20proof-term/near/276450389" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ayush Agrawal <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/error.20when.20using.20.23check.20with.20proof-term.html#276450389">(Mar 24 2022 at 09:36)</a>:</h4>
<p>after using <code>set_option pp.all true</code> above the <code>#print</code>, I am still having some errors:<br>
<a href="/user_uploads/3121/DL6m9f00l3WyBrQInM-UPowy/image.png">image.png</a> <br>
<span class="user-mention" data-user-id="110049">@Mario Carneiro</span> can you please help?</p>
<div class="message_inline_image"><a href="/user_uploads/3121/DL6m9f00l3WyBrQInM-UPowy/image.png" title="image.png"><img src="/user_uploads/3121/DL6m9f00l3WyBrQInM-UPowy/image.png"></a></div>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>