---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Folder.20structure.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Folder.20structure.html">Folder structure</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="274240986"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Folder%20structure/near/274240986" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Folder.20structure.html#274240986">(Mar 05 2022 at 12:34)</a>:</h4>
<p>Hello! I want an advice. Do I use a good folder structure in my project that is supposed to grow into a large codebase in the future?<br>
<a href="https://github.com/madvorak/grammars/">https://github.com/madvorak/grammars/</a></p>
<p>I will appreciate any tips from experienced LEANers.</p>
<p>I am also not sure whether it is convenient to have large files like this one.<br>
<a href="https://github.com/madvorak/grammars/blob/main/src/cfgClosureUnion.lean">https://github.com/madvorak/grammars/blob/main/src/cfgClosureUnion.lean</a></p>
<p>There is one theorem (the class of context-free languages is closed under union) and basically everything else serves for proving this theorem (auxiliary definitions and lemmata). Would it be better to have a separate folder for the one theorem and split the file into several files? For example into four files:<br>
1) main theorem<br>
2) proof of the first inclusion<br>
3) proof of the second inclusion<br>
4) common parts referenced by both 2 and 3</p>
<p>Or, would such a granularity make my project less clearly organized in the future, when the main issue becomes the amount of files in the project (rather than the amount of lines in a file) later?</p>



<a name="274303660"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Folder%20structure/near/274303660" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Cameron Torrance <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Folder.20structure.html#274303660">(Mar 06 2022 at 12:36)</a>:</h4>
<p>I've also been having similar problems figuring out how organise my personal project.  Taking some inspiration from mathlib I'm trying to assign to ever major mathematical object I define a folder with at least the following structure : a folder/file for each non trivial component of the definition,  a file called basic that defines the object and morphisms, and some trivial results are proven, a folder called instances where I define examples of the object,  and folders (with the structure currently described) for gadgets associated with the object. </p>
<p>Whist this is easier to work with than giant file I used to have, here are a few problems I've been having with this structure:<br>
1) Things can morally live in more than one place, should the category of open sets live in the topology folder or  category theory folder?<br>
2) Sometimes imports don't play nice with this structure. In my ideals folder I had a file for basic identities involving ideals, ideally (ha!) this would also include identities involving the radical but my definition the radical depended on results from this file.  <br>
3) I don't really know how medium sized proofs like the ones in your project fix into this file structure, proofs long enough that they ruin the flow of a file but doesn't like it deserves a file of its own .  A super long proof whose elements morally live together would get a file or folder of its own but I don't really know how I'd structure this folder.</p>



<a name="274695054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Folder%20structure/near/274695054" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Folder.20structure.html#274695054">(Mar 09 2022 at 14:30)</a>:</h4>
<p>As an experiment, I refactored the abovementioned proof into 4 files.<br>
<a href="https://github.com/madvorak/grammars/tree/granularity/src/context_free/cfgUnderUnion">https://github.com/madvorak/grammars/tree/granularity/src/context_free/cfgUnderUnion</a></p>
<p>Do you think it looks better (on this branch) now?</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>