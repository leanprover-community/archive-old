---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/.E2.9C.94.20add_right_eq_zero.20cant.20match.20.22b.20.2B.20c.20*.20b.20.3D.200.22.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20add_right_eq_zero.20cant.20match.20.22b.20.2B.20c.20*.20b.20.3D.200.22.html">✔ add_right_eq_zero cant match "b + c * b = 0"</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="308280141"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20add_right_eq_zero%20cant%20match%20%22b%20%2B%20c%20%2A%20b%20%3D%200%22/near/308280141" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joe Lambourne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20add_right_eq_zero.20cant.20match.20.22b.20.2B.20c.20*.20b.20.3D.200.22.html#308280141">(Nov 06 2022 at 17:32)</a>:</h4>
<p>The state of lean is like this</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">c</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">=</span> <span class="mi">0</span>
<span class="bp">⊢</span> <span class="n">b</span> <span class="bp">=</span> <span class="mi">0</span>
</code></pre></div>
<p>I try</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">rw</span> <span class="n">add_right_eq_zero</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
</code></pre></div>
<p>but get the error</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">rewrite</span> <span class="n">tactic</span> <span class="n">failed</span><span class="o">,</span> <span class="kd">lemma</span> <span class="n">lhs</span> <span class="n">is</span> <span class="n">a</span> <span class="n">metavariable</span>
<span class="n">state</span><span class="o">:</span>
<span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">c</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">=</span> <span class="mi">0</span>
<span class="bp">⊢</span> <span class="n">b</span> <span class="bp">=</span> <span class="mi">0</span>
</code></pre></div>
<p>Is there a way to use add_right_eq_zero here?   Thank you for your help</p>



<a name="308281311"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20add_right_eq_zero%20cant%20match%20%22b%20%2B%20c%20%2A%20b%20%3D%200%22/near/308281311" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20add_right_eq_zero.20cant.20match.20.22b.20.2B.20c.20*.20b.20.3D.200.22.html#308281311">(Nov 06 2022 at 17:45)</a>:</h4>
<p>That error is Leanspeak for "<code>add_right_eq_zero</code> works on some numbers and Lean can't guess which ones you want it to apply to" for whatever reason</p>



<a name="308281415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20add_right_eq_zero%20cant%20match%20%22b%20%2B%20c%20%2A%20b%20%3D%200%22/near/308281415" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20add_right_eq_zero.20cant.20match.20.22b.20.2B.20c.20*.20b.20.3D.200.22.html#308281415">(Nov 06 2022 at 17:46)</a>:</h4>
<p>You should be able to help it out by doing <code>rw @add_right_eq_zero b (c * b) at h</code> or whichever two terms you want to pass in, which tells Lean you're going to explicitly tell it which things you meant to apply that lemma to, though I can't see what you're going to do once you have that (but possibly I haven't thought hard enough)</p>



<a name="308281554"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20add_right_eq_zero%20cant%20match%20%22b%20%2B%20c%20%2A%20b%20%3D%200%22/near/308281554" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20add_right_eq_zero.20cant.20match.20.22b.20.2B.20c.20*.20b.20.3D.200.22.html#308281554">(Nov 06 2022 at 17:47)</a>:</h4>
<p>You can also provide only some things explicitly, so <code>rw @add_right_eq_zero b _</code> may already do what you want, the <code>_</code> means "figure this out again"</p>



<a name="308281610"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20add_right_eq_zero%20cant%20match%20%22b%20%2B%20c%20%2A%20b%20%3D%200%22/near/308281610" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Johnson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20add_right_eq_zero.20cant.20match.20.22b.20.2B.20c.20*.20b.20.3D.200.22.html#308281610">(Nov 06 2022 at 17:48)</a>:</h4>
<p>In NNG, <code>add_right_eq_zero</code> is an implication, not an iff. Try <code>exact add_right_eq_zero h</code></p>



<a name="308282607"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20add_right_eq_zero%20cant%20match%20%22b%20%2B%20c%20%2A%20b%20%3D%200%22/near/308282607" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joe Lambourne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20add_right_eq_zero.20cant.20match.20.22b.20.2B.20c.20*.20b.20.3D.200.22.html#308282607">(Nov 06 2022 at 17:59)</a>:</h4>
<p>Wonderful.  Thank you.   </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">rw</span> <span class="bp">@</span><span class="n">add_right_eq_zero</span> <span class="o">(</span><span class="n">c</span><span class="bp">*</span><span class="n">b</span><span class="o">)</span> <span class="n">b</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
</code></pre></div>
<p>did just what I wanted.  Interesting that the order "(c*b) b" was the other way around to what I expected.</p>



<a name="308282615"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20add_right_eq_zero%20cant%20match%20%22b%20%2B%20c%20%2A%20b%20%3D%200%22/near/308282615" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20add_right_eq_zero.20cant.20match.20.22b.20.2B.20c.20*.20b.20.3D.200.22.html#308282615">(Nov 06 2022 at 18:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="561661">Joe Lambourne</span> has marked this topic as resolved.</p>



<a name="308286470"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20add_right_eq_zero%20cant%20match%20%22b%20%2B%20c%20%2A%20b%20%3D%200%22/near/308286470" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Johnson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20add_right_eq_zero.20cant.20match.20.22b.20.2B.20c.20*.20b.20.3D.200.22.html#308286470">(Nov 06 2022 at 18:45)</a>:</h4>
<p>Are you sure that's what you wanted? Theorem <code>add_right_eq_zero</code> is not supposed to be used like that in rewriting. After you do <code>rw @add_right_eq_zero (c*b) b at h</code> you get two goals</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">+</span> <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span>
<span class="bp">⊢</span> <span class="n">b</span> <span class="bp">=</span> <span class="mi">0</span>

<span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">c</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">=</span> <span class="mi">0</span>
<span class="bp">⊢</span> <span class="n">c</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">=</span> <span class="mi">0</span>
</code></pre></div>
<p>while <code>exact add_right_eq_zero h</code> would close the main goal directly. <em>"Interesting that the order <code>(c*b) b</code> was the other way around to what I expected."</em> sounds like you misunderstood the statement of the theorem.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>