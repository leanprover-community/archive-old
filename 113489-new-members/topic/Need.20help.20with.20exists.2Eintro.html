---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Need.20help.20with.20exists.2Eintro.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20with.20exists.2Eintro.html">Need help with exists.intro</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="218023897"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20with%20exists.intro/near/218023897" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20with.20exists.2Eintro.html#218023897">(Nov 26 2020 at 17:19)</a>:</h4>
<p>I can't figure out how to get the syntax right on this:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">open</span> <span class="n">classical</span>
<span class="kd">variables</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span>
<span class="kd">variable</span> <span class="n">r</span> <span class="o">:</span> <span class="kt">Prop</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">r</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">,</span> <span class="n">r</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">exists.intro</span> <span class="n">r</span> <span class="n">h</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>the goal state before the <code>exists.intro</code> is</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u_1</span><span class="o">,</span>
<span class="n">r</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">r</span>
<span class="bp">⊢</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">),</span> <span class="n">r</span>
</code></pre></div>
<p>So I have proof <code>h</code> of <code>r</code> but it's saying</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">Display</span> <span class="n">GoalDisplay</span> <span class="n">Messages</span>
<span class="mi">9</span><span class="o">:</span><span class="mi">8</span><span class="o">:</span> <span class="n">error</span><span class="o">:</span>
<span class="n">type</span> <span class="n">mismatch</span> <span class="n">at</span> <span class="n">application</span>
  <span class="n">exists.intro</span> <span class="n">r</span>
<span class="n">term</span>
  <span class="n">r</span>
<span class="n">has</span> <span class="n">type</span>
  <span class="kt">Prop</span> <span class="o">:</span> <span class="kt">Type</span>
<span class="n">but</span> <span class="n">is</span> <span class="n">expected</span> <span class="n">to</span> <span class="k">have</span> <span class="n">type</span>
  <span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u_1</span>
<span class="n">state</span><span class="o">:</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u_1</span><span class="o">,</span>
<span class="n">r</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">r</span>
<span class="bp">⊢</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">),</span> <span class="n">r</span>
</code></pre></div>
<p>I want <code>x</code> but I don't know how to declare <code>x:α</code> because it won't let me do something like</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="k">assume</span> <span class="n">x</span><span class="o">,</span>
</code></pre></div>
<p>before the <code>exact</code>, complaining that</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="k">assume</span> <span class="n">tactic</span> <span class="n">failed</span><span class="o">,</span> <span class="k">Pi</span><span class="bp">/</span><span class="k">let</span> <span class="n">expression</span> <span class="n">expected</span>
<span class="n">state</span><span class="o">:</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u_1</span><span class="o">,</span>
<span class="n">r</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">r</span>
<span class="bp">⊢</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">),</span> <span class="n">r</span>
</code></pre></div>



<a name="218025134"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20with%20exists.intro/near/218025134" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20with.20exists.2Eintro.html#218025134">(Nov 26 2020 at 17:36)</a>:</h4>
<p>The example is false if <code>α</code> is an empty type, so you'll need to add an additional assumption of <code>nonempty α</code> and use that.</p>



<a name="218025249"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20with%20exists.intro/near/218025249" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Logan Murphy <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20with.20exists.2Eintro.html#218025249">(Nov 26 2020 at 17:38)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">inhabited</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">r</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">,</span> <span class="n">r</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intro</span> <span class="n">h_r</span><span class="o">,</span>
  <span class="n">use</span> <span class="n">H.default</span><span class="o">,</span> <span class="n">assumption</span>
<span class="kd">end</span>
</code></pre></div>



<a name="218025274"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20with%20exists.intro/near/218025274" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20with.20exists.2Eintro.html#218025274">(Nov 26 2020 at 17:38)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="123965">@Bryan Gin-ge Chen</span>  and <span class="user-mention" data-user-id="319223">@Logan Murphy</span> .  In conclusion, this setup in <a href="https://leanprover.github.io/theorem_proving_in_lean/quantifiers_and_equality.html#the-existential-quantifier">the text</a>:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">open</span> <span class="n">classical</span>

<span class="kd">variables</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span>
<span class="kd">variable</span> <span class="n">a</span> <span class="o">:</span> <span class="n">α</span>
<span class="kd">variable</span> <span class="n">r</span> <span class="o">:</span> <span class="kt">Prop</span>

<span class="kd">example</span> <span class="o">:</span> <span class="o">(</span><span class="bp">∃</span> <span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">,</span> <span class="n">r</span><span class="o">)</span> <span class="bp">→</span> <span class="n">r</span> <span class="o">:=</span> <span class="n">sorry</span>
</code></pre></div>
<p>is unsolvable without additional language they didn't provide.</p>



<a name="218025397"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20with%20exists.intro/near/218025397" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20with.20exists.2Eintro.html#218025397">(Nov 26 2020 at 17:40)</a>:</h4>
<p>Well, that setup is actually correct because it has <code>variable a : ﻿α</code>.</p>



<a name="218025444"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20with%20exists.intro/near/218025444" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20with.20exists.2Eintro.html#218025444">(Nov 26 2020 at 17:41)</a>:</h4>
<p><span class="user-mention" data-user-id="123965">@Bryan Gin-ge Chen</span> , that is a bit counterintuitive because <code>a</code> is not referenced at all in the example.</p>



<a name="218025603"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20with%20exists.intro/near/218025603" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20with.20exists.2Eintro.html#218025603">(Nov 26 2020 at 17:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="364351">Lars Ericson</span> <a href="#narrow/stream/113489-new-members/topic/Need.20help.20with.20exists.2Eintro/near/218025444">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="123965">Bryan Gin-ge Chen</span> , that is a bit counterintuitive because <code>a</code> is not referenced at all in the example.</p>
</blockquote>
<p>because you need it to prove the statement :)</p>



<a name="218025647"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20with%20exists.intro/near/218025647" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20with.20exists.2Eintro.html#218025647">(Nov 26 2020 at 17:43)</a>:</h4>
<p>What are the rules around <code>inhabited</code>, for example it doesn't like</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">:</span> <span class="n">r</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="n">x</span> <span class="o">:</span> <span class="n">inhabited</span> <span class="n">α</span><span class="o">,</span> <span class="n">r</span><span class="o">)</span> <span class="o">:=</span> <span class="n">sorry</span>
</code></pre></div>
<p>saying</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">function</span> <span class="n">expected</span> <span class="n">at</span>
  <span class="n">sorry</span>
<span class="n">term</span> <span class="n">has</span> <span class="n">type</span>
  <span class="bp">?</span><span class="n">m_1</span>
</code></pre></div>
<p>I.e. I would rather say something explicitly in the theorem statement rather than rely on a context dependency for the proof to go through.</p>



<a name="218025815"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20with%20exists.intro/near/218025815" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20with.20exists.2Eintro.html#218025815">(Nov 26 2020 at 17:45)</a>:</h4>
<p>Doing this doesn't seem to help:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">variables</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="n">inhabited</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span>
</code></pre></div>
<p>because then when I do this:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">:</span> <span class="n">r</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">,</span> <span class="n">r</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">exists.intro</span> <span class="n">r</span> <span class="n">h</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>I get the error</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">Display</span> <span class="n">GoalDisplay</span> <span class="n">Messages</span>
<span class="mi">8</span><span class="o">:</span><span class="mi">21</span><span class="o">:</span> <span class="n">error</span><span class="o">:</span>
<span class="n">type</span> <span class="n">expected</span> <span class="n">at</span>
  <span class="n">α</span>
<span class="n">term</span> <span class="n">has</span> <span class="n">type</span>
  <span class="n">inhabited</span> <span class="o">(</span><span class="kt">Type</span> <span class="n">u_1</span><span class="o">)</span>
</code></pre></div>



<a name="218026137"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20with%20exists.intro/near/218026137" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20with.20exists.2Eintro.html#218026137">(Nov 26 2020 at 17:48)</a>:</h4>
<p>Even doing this:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">inhabited</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">r</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">,</span> <span class="n">r</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intro</span> <span class="n">h_r</span><span class="o">,</span>
  <span class="n">use</span> <span class="n">H.default</span><span class="o">,</span> <span class="n">assumption</span>
<span class="kd">end</span>
</code></pre></div>
<p>is very clunky because you're still using <code>H</code>, an unused variable, to introduce a property of <code>α</code>, rather than decorating <code>α</code> directly.  It seems very un-denotational.  Not that there's anything wrong with that, I'm just saying.</p>



<a name="218026292"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20with%20exists.intro/near/218026292" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Logan Murphy <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20with.20exists.2Eintro.html#218026292">(Nov 26 2020 at 17:50)</a>:</h4>
<p>I don't know if this is the intended solution, but you can specify the instance in the <code>variables</code></p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">open</span> <span class="n">classical</span>

<span class="kd">variables</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">[</span><span class="n">nonempty</span> <span class="n">α</span><span class="o">]</span>
<span class="kd">variable</span> <span class="n">r</span> <span class="o">:</span> <span class="kt">Prop</span>

<span class="kd">example</span> <span class="o">:</span>  <span class="n">r</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">,</span> <span class="n">r</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intros</span> <span class="n">h_r</span><span class="o">,</span> <span class="n">use</span> <span class="n">classical.arbitrary</span> <span class="n">α</span><span class="o">,</span> <span class="n">assumption</span>
<span class="kd">end</span>
</code></pre></div>



<a name="218026596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20with%20exists.intro/near/218026596" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20with.20exists.2Eintro.html#218026596">(Nov 26 2020 at 17:54)</a>:</h4>
<p>Lars, what you are writing makes no sense at all. Did you read the explanation about inhabited in TPIL?</p>



<a name="218026661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20with%20exists.intro/near/218026661" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20with.20exists.2Eintro.html#218026661">(Nov 26 2020 at 17:55)</a>:</h4>
<p>And if you don't like variables, why don't you simply write</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">r</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span>  <span class="o">(</span><span class="bp">∃</span> <span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">,</span> <span class="n">r</span><span class="o">)</span> <span class="bp">→</span> <span class="n">r</span> <span class="o">:=</span> <span class="n">sorry</span>
</code></pre></div>



<a name="218026780"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20with%20exists.intro/near/218026780" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20with.20exists.2Eintro.html#218026780">(Nov 26 2020 at 17:57)</a>:</h4>
<p>To be 100% clear, <code>inhabited</code> and <code>nonempty</code> are not needed at all given the setup in the text:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">variables</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span>
<span class="kd">variable</span> <span class="n">a</span> <span class="o">:</span> <span class="n">α</span>
<span class="kd">variable</span> <span class="n">r</span> <span class="o">:</span> <span class="kt">Prop</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">r</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">,</span> <span class="n">r</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">h</span><span class="o">,</span> <span class="n">exists.intro</span> <span class="n">a</span> <span class="n">h</span>
</code></pre></div>



<a name="218026834"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20with%20exists.intro/near/218026834" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20with.20exists.2Eintro.html#218026834">(Nov 26 2020 at 17:58)</a>:</h4>
<p>They are only needed if <code>variable a : α</code> is omitted.</p>



<a name="218026856"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20with%20exists.intro/near/218026856" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Logan Murphy <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20with.20exists.2Eintro.html#218026856">(Nov 26 2020 at 17:58)</a>:</h4>
<p>Yes, I think that's where miscommunication is happening. I didn't realize it was an exercise from TPIL at first</p>



<a name="218026976"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20with%20exists.intro/near/218026976" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Logan Murphy <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20with.20exists.2Eintro.html#218026976">(Nov 26 2020 at 18:00)</a>:</h4>
<p>Also, the naive  "tactic mode" version of Bryan's proof doesn't know about <code>a</code></p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">open</span> <span class="n">classical</span>

<span class="kd">variables</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span>
<span class="kd">variable</span> <span class="n">a</span> <span class="o">:</span> <span class="n">α</span>
<span class="kd">variable</span> <span class="n">r</span> <span class="o">:</span> <span class="kt">Prop</span>

<span class="kd">example</span> <span class="o">:</span>  <span class="n">r</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">,</span> <span class="n">r</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
 <span class="n">intro</span> <span class="n">r_h</span><span class="o">,</span> <span class="n">use</span> <span class="n">a</span><span class="o">,</span> <span class="c1">--fails</span>
<span class="kd">end</span>
</code></pre></div>



<a name="218027023"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20with%20exists.intro/near/218027023" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20with.20exists.2Eintro.html#218027023">(Nov 26 2020 at 18:01)</a>:</h4>
<p>Yes, Lean won't try to guess which variable to include using a tactic proof.</p>



<a name="218027036"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20with%20exists.intro/near/218027036" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20with.20exists.2Eintro.html#218027036">(Nov 26 2020 at 18:01)</a>:</h4>
<p>And I think that relying on Lean to pick up variables from proofs is bad style.</p>



<a name="218027183"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20with%20exists.intro/near/218027183" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Logan Murphy <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20with.20exists.2Eintro.html#218027183">(Nov 26 2020 at 18:03)</a>:</h4>
<p>So, the answer to Lars' original problem, is the proof inside the <code>exact</code> is correct, but putting it within the <code>begin .. end</code> takes away the crucial variable (assuming the variable is in the scope)</p>



<a name="218027527"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20with%20exists.intro/near/218027527" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20with.20exists.2Eintro.html#218027527">(Nov 26 2020 at 18:08)</a>:</h4>
<p>In summary, there's no way to make this <code>begin end</code> proof work?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">open</span> <span class="n">classical</span>

<span class="kd">variables</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span>
<span class="kd">variable</span> <span class="n">a</span> <span class="o">:</span> <span class="n">α</span>
<span class="kd">variable</span> <span class="n">r</span> <span class="o">:</span> <span class="kt">Prop</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">r</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">,</span> <span class="n">r</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">exists.intro</span> <span class="n">r</span> <span class="n">h</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>because even with <code>variable a : α</code> in context, it's failing with </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">type</span> <span class="n">mismatch</span> <span class="n">at</span> <span class="n">application</span>
  <span class="n">exists.intro</span> <span class="n">r</span>
<span class="n">term</span>
  <span class="n">r</span>
<span class="n">has</span> <span class="n">type</span>
  <span class="kt">Prop</span> <span class="o">:</span> <span class="kt">Type</span>
<span class="n">but</span> <span class="n">is</span> <span class="n">expected</span> <span class="n">to</span> <span class="k">have</span> <span class="n">type</span>
  <span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u_1</span>
<span class="n">state</span><span class="o">:</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u_1</span><span class="o">,</span>
<span class="n">r</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">r</span>
<span class="bp">⊢</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">),</span> <span class="n">r</span>
</code></pre></div>
<p>I am trying to follow the pattern of this example, which works fine:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">open</span> <span class="n">nat</span>

<span class="kd">example</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">x</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="n">x</span> <span class="bp">&gt;</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">have</span> <span class="n">h</span> <span class="o">:</span> <span class="mi">1</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="k">from</span> <span class="n">zero_lt_succ</span> <span class="mi">0</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">exists.intro</span> <span class="mi">1</span> <span class="n">h</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="218027690"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20with%20exists.intro/near/218027690" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20with.20exists.2Eintro.html#218027690">(Nov 26 2020 at 18:10)</a>:</h4>
<p>Yes, you have to add <code>(a : α)</code> explicitly to the list of assumptions of the <code>example</code> to get the tactic proof to work or add <code>include a</code> before the <code>example</code>. This is discussed at <a href="https://leanprover.github.io/theorem_proving_in_lean/tactics.html#entering-tactic-mode">the end of 5.1 in TPiL</a>.</p>



<a name="218027785"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20with%20exists.intro/near/218027785" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20with.20exists.2Eintro.html#218027785">(Nov 26 2020 at 18:12)</a>:</h4>
<p>No, still complaining:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">open</span> <span class="n">classical</span>

<span class="kd">variables</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span>
<span class="kd">variable</span> <span class="n">a</span> <span class="o">:</span> <span class="n">α</span>
<span class="kd">variable</span> <span class="n">r</span> <span class="o">:</span> <span class="kt">Prop</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">r</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">,</span> <span class="n">r</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">exists.intro</span> <span class="n">r</span> <span class="n">h</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>gives</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">Display</span> <span class="n">GoalDisplay</span> <span class="n">Messages</span>
<span class="mi">10</span><span class="o">:</span><span class="mi">8</span><span class="o">:</span> <span class="n">error</span><span class="o">:</span>
<span class="n">type</span> <span class="n">mismatch</span> <span class="n">at</span> <span class="n">application</span>
  <span class="n">exists.intro</span> <span class="n">r</span>
<span class="n">term</span>
  <span class="n">r</span>
<span class="n">has</span> <span class="n">type</span>
  <span class="kt">Prop</span> <span class="o">:</span> <span class="kt">Type</span>
<span class="n">but</span> <span class="n">is</span> <span class="n">expected</span> <span class="n">to</span> <span class="k">have</span> <span class="n">type</span>
  <span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u_1</span>
<span class="n">state</span><span class="o">:</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u_1</span><span class="o">,</span>
<span class="n">r</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">,</span>
<span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">r</span>
<span class="bp">⊢</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">),</span> <span class="n">r</span>
</code></pre></div>



<a name="218027825"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20with%20exists.intro/near/218027825" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Logan Murphy <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20with.20exists.2Eintro.html#218027825">(Nov 26 2020 at 18:12)</a>:</h4>
<p>you want <code>exact exists.intro a h</code></p>



<a name="218028082"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20with%20exists.intro/near/218028082" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20with.20exists.2Eintro.html#218028082">(Nov 26 2020 at 18:16)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="319223">@Logan Murphy</span> , that works.  Understanding is dawning.  <code>a</code> is the evidence of an <code>x</code> such that <code>r</code>.  <code>r</code> is not the evidence of the bound variable.  OK.  Sorry that took so long!  The <code>nat</code> example was confusing in that regard, I didn't realize that it was saying that <code>1</code> was the evidence of the bound variable.</p>



<a name="218028152"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20with%20exists.intro/near/218028152" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Logan Murphy <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20with.20exists.2Eintro.html#218028152">(Nov 26 2020 at 18:17)</a>:</h4>
<p>Exactly. The existential is quantified over <code>alpha</code>, so you need to give it an object of that type (of which the only known one is <code>a</code>), as well as a proof of the proposition <code>r</code> (in this case, <code>h</code>).</p>



<a name="218028224"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20with%20exists.intro/near/218028224" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20with.20exists.2Eintro.html#218028224">(Nov 26 2020 at 18:18)</a>:</h4>
<p>Still, that makes what should be the first and apparently most simple and basic exercise in the text actually an extremely tricky one.</p>



<a name="218028655"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20with%20exists.intro/near/218028655" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20with.20exists.2Eintro.html#218028655">(Nov 26 2020 at 18:24)</a>:</h4>
<p>Learning Lean from TPiL is definitely a challenge. But make sure you understand everything that's happening in each section before proceeding on to the following ones since the text moves quickly.</p>



<a name="218028775"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20with%20exists.intro/near/218028775" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Logan Murphy <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20with.20exists.2Eintro.html#218028775">(Nov 26 2020 at 18:26)</a>:</h4>
<p>The explanation in the text is</p>
<blockquote>
<p>The introduction rule is straightforward: to prove <code>∃ x : α, p x</code>, it suffices to provide a suitable term <code>t</code> and a proof of <code>p t</code>.</p>
</blockquote>
<p>Maybe this would be a bit more clear </p>
<blockquote>
<p>The introduction rule is straightforward: to prove <code>∃ x : α, p x</code>, it suffices to provide a suitable term <code>t: α</code> and a proof of <code>p t</code>.</p>
</blockquote>
<p>It's also  a bit more natural when the existential is a predicate on <code>α,</code>, rather than just some <code>Prop</code><br>
But that's also the point of the exercise :)</p>



<a name="218029203"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20with%20exists.intro/near/218029203" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20with.20exists.2Eintro.html#218029203">(Nov 26 2020 at 18:32)</a>:</h4>
<p>Yes, that is more clear.  However I would have the text spell out the case where <code>p</code> is actually free of <code>x</code> entirely, because it confused me that I had to demonstrate the existence of something not actually used in <code>p</code>.  It's a subtle point that wouldn't hurt getting walked through in a less terse way.  I wonder if you had a classroom of 50 students and didn't help them as much as you've helped me, how many of them would be able to read "The introduction rule is straightforward: to prove ∃ x : α, p x, it suffices to provide a suitable term t: α and a proof of p t." and know that they had to declare a variable of type <code>α</code> and invoke at as evidence.  I don't want to belabor the point, I just don't think anybody would get it without expert assistance.  Thank you for your help!</p>



<a name="218032112"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20with%20exists.intro/near/218032112" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20with.20exists.2Eintro.html#218032112">(Nov 26 2020 at 19:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="364351">Lars Ericson</span> <a href="#narrow/stream/113489-new-members/topic/Need.20help.20with.20exists.2Eintro/near/218029203">said</a>:</p>
<blockquote>
<p>I don't want to belabor the point, I just don't think anybody would get it without expert assistance.</p>
</blockquote>
<p>This is simply wrong. I think at least 100 people from this chat learned all this from TPIL without expert assistance about this point. We also know that at least as many people completed the natural number game without asking any question to anyone. There is no issue with asking questions, and I think everybody answering your questions here is happy to do so. And suggesting improvements to documentation is great. But that sentence I quoted is <em>wrong</em>.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>