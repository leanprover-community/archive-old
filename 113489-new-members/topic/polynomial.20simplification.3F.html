---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/polynomial.20simplification.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html">polynomial simplification?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="211281689"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211281689" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211281689">(Sep 25 2020 at 16:34)</a>:</h4>
<p>Can I get Lean to simplify a polynomial for me without me doing a bunch of comm, distrib etc steps? For example, to prove (n^2 + 2 * m^2 - 2 * n * m) * (n^2 + 2 * m^2 + 2 * n * m) = n^4 + 4 * m ^ 4 which is just standard multiplying out the polynomials and canceling terms</p>



<a name="211282373"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211282373" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211282373">(Sep 25 2020 at 16:39)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/tactics.html#ring">tactic#ring</a> is probably what you want</p>



<a name="211282589"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211282589" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211282589">(Sep 25 2020 at 16:41)</a>:</h4>
<p>oh cool - i had imported algebra.ring not tactic.ring</p>



<a name="211283460"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211283460" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211283460">(Sep 25 2020 at 16:48)</a>:</h4>
<p>similar question maybe - is there any library that corresponds integer arithmetic with natural number arithmetic? like if i know a+b=c with integers, and they're all positive, and i want to conclude a+b=c with natural numbers</p>



<a name="211283981"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211283981" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211283981">(Sep 25 2020 at 16:52)</a>:</h4>
<p>For that we have <a href="https://leanprover-community.github.io/mathlib_docs/tactics.html#lift">tactic#lift</a> now!</p>



<a name="211284199"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211284199" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211284199">(Sep 25 2020 at 16:54)</a>:</h4>
<p>nice. is there any example of that in code? the docs say... Usage: 'lift' expr 'to' expr ('using' expr)? ('with' id (id id?)?)?. which, i feel like that is using some sort of non-lean notation</p>



<a name="211284573"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211284573" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211284573">(Sep 25 2020 at 16:57)</a>:</h4>
<p>I don't know of any examples, but you can check out the test file at <a href="https://github.com/leanprover-community/mathlib/blob/680f877108074901a88bcb5b7cf595f2c7951448/test/tactics.lean#L214">https://github.com/leanprover-community/mathlib/blob/680f877108074901a88bcb5b7cf595f2c7951448/test/tactics.lean#L214</a><br>
if you delete the lines that don't start with lift that should give you an example</p>



<a name="211284589"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211284589" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211284589">(Sep 25 2020 at 16:57)</a>:</h4>
<p>thanks</p>



<a name="211292122"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211292122" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211292122">(Sep 25 2020 at 17:59)</a>:</h4>
<p>Adding examples to the tactic doc entry would make a great PR...</p>



<a name="211294528"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211294528" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211294528">(Sep 25 2020 at 18:19)</a>:</h4>
<p>i gave up on using this tactic, for what it's worth. maybe I don't really get how to use tactics in general - if I happen to write a large sequence of tactics that works, it's great, but i can't really figure out how to debug or to see the partial state of what's going on when i'm partway through writing some sequence</p>



<a name="211294548"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211294548" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211294548">(Sep 25 2020 at 18:19)</a>:</h4>
<p>whereas, if i'm not using tactics but just writing a bunch of have h, from blah blah, statements, at least then I can see if each one is valid</p>



<a name="211294649"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211294649" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211294649">(Sep 25 2020 at 18:20)</a>:</h4>
<p>i feel like if i use a tactic and it works immediately, great, and otherwise i am just stumped</p>



<a name="211295160"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211295160" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Paul van Wamelen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211295160">(Sep 25 2020 at 18:24)</a>:</h4>
<p>Did you give up on the <code>lift</code> tactic?<br>
Here is a simple example</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">pos_le_mul_self</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="n">ℤ</span><span class="o">)</span> <span class="o">(</span><span class="n">h2</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">≤</span> <span class="n">b</span><span class="o">)</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">≤</span> <span class="n">b</span> <span class="bp">^</span> <span class="mi">2</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="n">pow_two</span><span class="o">,</span>
  <span class="n">lift</span> <span class="n">b</span> <span class="n">to</span> <span class="n">ℕ</span> <span class="n">using</span> <span class="n">h2</span><span class="o">,</span>
  <span class="n">norm_cast</span><span class="o">,</span> <span class="n">apply</span> <span class="n">nat.le_mul_self</span>
<span class="kd">end</span>
</code></pre></div>

<p>grepping mathlib should give you plenty more...</p>



<a name="211295784"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211295784" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211295784">(Sep 25 2020 at 18:28)</a>:</h4>
<p>i still don't get that example honeslty</p>



<a name="211296036"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211296036" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211296036">(Sep 25 2020 at 18:30)</a>:</h4>
<p>i have to look up norm_cast. but, i don't see any examples of that in the docs either</p>



<a name="211296522"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211296522" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Paul van Wamelen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211296522">(Sep 25 2020 at 18:34)</a>:</h4>
<p>It changes the the type of <code>b</code> to <code>ℕ</code> (it can, because you tell it that <code>0 ≤ b</code>) and changes all occurrences of <code>b</code> to <code>↑b</code> (meaning the coercion of <code>b</code> from <code>ℕ</code> to <code>ℤ</code>) in your proof state.</p>



<a name="211296638"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211296638" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211296638">(Sep 25 2020 at 18:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="238605">Kevin Lacker</span> <a href="#narrow/stream/113489-new-members/topic/polynomial.20simplification.3F/near/211283460">said</a>:</p>
<blockquote>
<p>similar question maybe - is there any library that corresponds integer arithmetic with natural number arithmetic? like if i know a+b=c with integers, and they're all positive, and i want to conclude a+b=c with natural numbers</p>
</blockquote>
<p>Can you give an (incomplete) lean statement you'd like to prove along these lines, like are you working on some actual proof where this sort of thing is an intermediate step? It might be useful to see this to recommend a course of action.</p>



<a name="211296701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211296701" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211296701">(Sep 25 2020 at 18:35)</a>:</h4>
<p>sure. i have (n^2 + 2 * m^2 - 2 * n * m) * (n^2 + 2 * m^2 + 2 * n * m) = n^4 + 4 * m ^ 4 for integers</p>



<a name="211296754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211296754" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211296754">(Sep 25 2020 at 18:36)</a>:</h4>
<p>and i want to prove it for natural numbers</p>



<a name="211296775"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211296775" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Paul van Wamelen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211296775">(Sep 25 2020 at 18:36)</a>:</h4>
<p>In the example <code>norm_cast</code> gets rid of the <code>↑</code>s.</p>



<a name="211296806"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211296806" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211296806">(Sep 25 2020 at 18:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="238605">Kevin Lacker</span> <a href="#narrow/stream/113489-new-members/topic/polynomial.20simplification.3F/near/211294528">said</a>:</p>
<blockquote>
<p>i gave up on using this tactic, for what it's worth. maybe I don't really get how to use tactics in general - if I happen to write a large sequence of tactics that works, it's great, but i can't really figure out how to debug or to see the partial state of what's going on when i'm partway through writing some sequence</p>
</blockquote>
<p>You do have the info-view open, right? (thing on the right explaining what the goal and local context is)<br>
<a href="/user_uploads/3121/6cPG5JtoWTmWpPgnyfAz1oNv/infoview.png">infoview.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/6cPG5JtoWTmWpPgnyfAz1oNv/infoview.png" title="infoview.png"><img src="/user_uploads/3121/6cPG5JtoWTmWpPgnyfAz1oNv/infoview.png"></a></div>



<a name="211296810"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211296810" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211296810">(Sep 25 2020 at 18:36)</a>:</h4>
<p>the part I don't get is how i can apply one norm cast to a statement and see what it outputs</p>



<a name="211296837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211296837" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211296837">(Sep 25 2020 at 18:36)</a>:</h4>
<p>ah this seems key. no, I don't have an info-view, I am just writing code in emacs</p>



<a name="211296899"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211296899" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Paul van Wamelen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211296899">(Sep 25 2020 at 18:37)</a>:</h4>
<p>OMG! You are missing out! :)</p>



<a name="211297003"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211297003" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211297003">(Sep 25 2020 at 18:38)</a>:</h4>
<p>is the info view basically just necessary to have this work sanely at all</p>



<a name="211297028"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211297028" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211297028">(Sep 25 2020 at 18:38)</a>:</h4>
<p>and not existent in the emacs lean mode?</p>



<a name="211297056"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211297056" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211297056">(Sep 25 2020 at 18:38)</a>:</h4>
<p>sure it exists</p>



<a name="211297089"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211297089" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211297089">(Sep 25 2020 at 18:38)</a>:</h4>
<p>if you've set up Lean in emacs properly; the problem is that barely anyone uses emacs so you'll wait longer for answers</p>



<a name="211297102"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211297102" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211297102">(Sep 25 2020 at 18:39)</a>:</h4>
<p>i don't see "info view" referenced in <a href="https://github.com/leanprover/lean-mode">https://github.com/leanprover/lean-mode</a></p>



<a name="211297113"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211297113" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211297113">(Sep 25 2020 at 18:39)</a>:</h4>
<p>you guys all use vscode?</p>



<a name="211297122"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211297122" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Paul van Wamelen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211297122">(Sep 25 2020 at 18:39)</a>:</h4>
<p>Not really, but it would be a miracle if you could make progress without the infoview!</p>



<a name="211297136"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211297136" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211297136">(Sep 25 2020 at 18:39)</a>:</h4>
<p>It's called something else in emacs then, probably</p>



<a name="211297280"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211297280" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211297280">(Sep 25 2020 at 18:40)</a>:</h4>
<p>well, it makes sense why tactics seemed pretty hard to use, to me</p>



<a name="211297286"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211297286" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211297286">(Sep 25 2020 at 18:40)</a>:</h4>
<p>There's a goal buffer and a lean info buffer I think. (I'm not actually an emacs user myself either).</p>



<a name="211297370"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211297370" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211297370">(Sep 25 2020 at 18:41)</a>:</h4>
<p>Probably 80%-90% of us use vscode? But there are definitely users of emacs too.</p>



<a name="211297544"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211297544" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jesse Selover <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211297544">(Sep 25 2020 at 18:42)</a>:</h4>
<p>I think if you use lean-mode in emacs the key to bring up the goal window is C-c C-g</p>



<a name="211297585"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211297585" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211297585">(Sep 25 2020 at 18:42)</a>:</h4>
<p>the "goal window" = the "infoview" ?</p>



<a name="211297666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211297666" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jesse Selover <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211297666">(Sep 25 2020 at 18:43)</a>:</h4>
<p>It shows the tactic state at least, not sure about the other parts of the infoview (i'm new myself)</p>



<a name="211297830"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211297830" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211297830">(Sep 25 2020 at 18:44)</a>:</h4>
<p>Yeah, I think the vscode infoview combines the info in the goal buffer and the Lean info buffer.</p>
<p>Yury and Anne's videos <a href="https://www.youtube.com/playlist?list=PLlF-CfQhukNlxexiNJErGJd2dte_J1t1N">in the LFTCM2020</a> playlist show them using Lean in emacs.</p>



<a name="211297943"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211297943" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211297943">(Sep 25 2020 at 18:45)</a>:</h4>
<p>is there anywhere in the lean docs that describes the "infoview" or "goal buffer" and what you use it for? like i don't see anythign on <a href="https://leanprover.github.io/reference/tactics.html">https://leanprover.github.io/reference/tactics.html</a></p>



<a name="211298305"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211298305" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211298305">(Sep 25 2020 at 18:48)</a>:</h4>
<p>Going back to your question, here is a proof using a bunch of tactics:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">int_version</span> <span class="o">(</span><span class="n">n</span> <span class="n">m</span> <span class="o">:</span> <span class="n">ℤ</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">n</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">+</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">m</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">-</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">n</span> <span class="bp">*</span> <span class="n">m</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">n</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">+</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">m</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">+</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">n</span> <span class="bp">*</span> <span class="n">m</span><span class="o">)</span> <span class="bp">=</span> <span class="n">n</span><span class="bp">^</span><span class="mi">4</span> <span class="bp">+</span> <span class="mi">4</span> <span class="bp">*</span> <span class="n">m</span> <span class="bp">^</span> <span class="mi">4</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">ring</span>
<span class="kd">example</span> <span class="o">(</span><span class="n">n</span> <span class="n">m</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">n</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">+</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">m</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">-</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">n</span> <span class="bp">*</span> <span class="n">m</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">n</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">+</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">m</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">+</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">n</span> <span class="bp">*</span> <span class="n">m</span><span class="o">)</span> <span class="bp">=</span> <span class="n">n</span><span class="bp">^</span><span class="mi">4</span> <span class="bp">+</span> <span class="mi">4</span> <span class="bp">*</span> <span class="n">m</span> <span class="bp">^</span> <span class="mi">4</span> <span class="o">:=</span> <span class="kd">begin</span>
  <span class="n">zify</span><span class="o">,</span> <span class="c1">-- change to a statement about integers as much as possible</span>
  <span class="n">rw</span> <span class="bp">←</span> <span class="n">int_version</span><span class="o">,</span> <span class="c1">-- use the integer version</span>
  <span class="n">congr</span><span class="o">,</span> <span class="c1">-- focus the part of the two expressions that actually differs</span>
  <span class="n">norm_cast</span><span class="o">,</span> <span class="c1">-- normalizes the casts, but you could delete this line in fact</span>
  <span class="n">refine</span> <span class="n">int.of_nat_sub</span> <span class="n">_</span><span class="o">,</span> <span class="c1">-- typing "suggest" told me this was a good lemma to use</span>
  <span class="n">nlinarith</span><span class="o">,</span> <span class="c1">-- we have  a problem with non-linear inequalitites</span>
<span class="kd">end</span>
</code></pre></div>



<a name="211298531"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211298531" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211298531">(Sep 25 2020 at 18:50)</a>:</h4>
<p>ok. and so if you'll bear with even more noobish questions, zify, norm_cast, and nlinarith are things you use enough to just know what they are off the top of your head? or did some system suggest those</p>



<a name="211298543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211298543" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211298543">(Sep 25 2020 at 18:50)</a>:</h4>
<p>The tactics chapter of Theorem proving in Lean has some info: <a href="https://leanprover.github.io/theorem_proving_in_lean/tactics.html#tactics">https://leanprover.github.io/theorem_proving_in_lean/tactics.html#tactics</a></p>



<a name="211298596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211298596" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211298596">(Sep 25 2020 at 18:50)</a>:</h4>
<p>They are things I use enough to remember, but these are a good portion of the really common ones.</p>



<a name="211298907"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211298907" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211298907">(Sep 25 2020 at 18:53)</a>:</h4>
<p>Have you seen the tactic cheat sheet? <a href="https://leanprover-community.github.io//img/lean-tactics.pdf">https://leanprover-community.github.io//img/lean-tactics.pdf</a> it doesn't have all of the ones I mentioned, but it has a lot less than the tactic page I linked to before.</p>



<a name="211299159"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211299159" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211299159">(Sep 25 2020 at 18:55)</a>:</h4>
<p>But just asking questions like you're doing is really the best way to learn which tactics are useful for the goals you are proving (like zify was really designed for exactly the sort of problems you're dealing with here), so don't worry about asking questions!</p>



<a name="211299261"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211299261" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211299261">(Sep 25 2020 at 18:55)</a>:</h4>
<p>great. more questions then. "import tactic.zify" doesn't work for me, in lean 3.14. am i importing it wrong or might something else be going on?</p>



<a name="211299472"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211299472" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211299472">(Sep 25 2020 at 18:57)</a>:</h4>
<p>It looks like zify was added when mathlib was using 3.16.2.</p>



<a name="211299501"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211299501" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211299501">(Sep 25 2020 at 18:57)</a>:</h4>
<p>where do you see that</p>



<a name="211299527"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211299527" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211299527">(Sep 25 2020 at 18:57)</a>:</h4>
<p>I had to search github a bit.</p>



<a name="211299668"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211299668" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211299668">(Sep 25 2020 at 18:58)</a>:</h4>
<p>Is there a reason you're using 3.14 instead of a newer version of Lean? <code>leanproject up</code> should update your Lean and mathlib to the latest.</p>



<a name="211299836"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211299836" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211299836">(Sep 25 2020 at 19:00)</a>:</h4>
<p>You do bring up a good point which is that the docs are only valid for mathlib master. Maybe at some point we should save versions of the docs for the commits of mathlib that correspond to older versions of Lean.</p>



<a name="211300064"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211300064" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211300064">(Sep 25 2020 at 19:01)</a>:</h4>
<p>i did an elan update, but that apparently does not update the lean version</p>



<a name="211300127"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211300127" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211300127">(Sep 25 2020 at 19:01)</a>:</h4>
<p><code>leanproject up</code> still leaves me using 2.14</p>



<a name="211300130"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211300130" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211300130">(Sep 25 2020 at 19:01)</a>:</h4>
<p>3.14</p>



<a name="211300356"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211300356" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211300356">(Sep 25 2020 at 19:03)</a>:</h4>
<p>That's weird. I thought <code>leanproject up</code> changed the version of Lean by default, since there's a <code>--no-lean-upgrade</code> option. I'd try editing the <code>lean_version</code> field in <code>leanpkg.toml</code> to 3.20.0 and then trying <code>leanproject up</code>.</p>



<a name="211300514"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211300514" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211300514">(Sep 25 2020 at 19:04)</a>:</h4>
<p>right now it's set to lean_version = "leanprover-community/lean:3.14.0", should i just change that last bit to a 3.20.0 ?</p>



<a name="211300566"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211300566" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211300566">(Sep 25 2020 at 19:05)</a>:</h4>
<p>well, that seems to have worked</p>



<a name="211300596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211300596" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211300596">(Sep 25 2020 at 19:05)</a>:</h4>
<p>Either format is fine.</p>



<a name="211301112"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211301112" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211301112">(Sep 25 2020 at 19:09)</a>:</h4>
<p>unfortunately, after upgrading, lean appears to be constantly failing with too-much-memory-consumption errors</p>



<a name="211301176"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211301176" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211301176">(Sep 25 2020 at 19:09)</a>:</h4>
<p>Did you restart Lean since you ran <code>leanproject up</code>?</p>



<a name="211301217"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211301217" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211301217">(Sep 25 2020 at 19:10)</a>:</h4>
<p>yep</p>



<a name="211301509"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211301509" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211301509">(Sep 25 2020 at 19:11)</a>:</h4>
<p>something seems wrong with this lean installation, it is dying by running out of memory on a file that simply contains "import tactic"</p>



<a name="211301542"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211301542" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211301542">(Sep 25 2020 at 19:11)</a>:</h4>
<p>The memory issue usually happens because Lean is trying to recompile all of mathlib. However, <code>leanproject up</code> is supposed to download a precompiled set of olean files.</p>



<a name="211301568"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211301568" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211301568">(Sep 25 2020 at 19:11)</a>:</h4>
<p>i guess i should try totally uninstalling and reinstalling</p>



<a name="211301573"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211301573" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211301573">(Sep 25 2020 at 19:11)</a>:</h4>
<p>What was the output when you ran <code>leanproject up</code>?</p>



<a name="211301629"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211301629" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211301629">(Sep 25 2020 at 19:11)</a>:</h4>
<p>I don't think you need to completely uninstall and reinstall yet.</p>



<a name="211301640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211301640" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211301640">(Sep 25 2020 at 19:11)</a>:</h4>
<p>$ leanproject up<br>
configuring _user_local_packages 1<br>
WARNING: leanpkg configurations not specifying <code>path = "src"</code> are deprecated.<br>
This project does not depend on mathlib</p>



<a name="211301806"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211301806" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211301806">(Sep 25 2020 at 19:12)</a>:</h4>
<p>Hmm... that's very weird. What does your <code>leanpkg.toml</code> look like? And how did you create the Lean project you're working in?</p>



<a name="211301888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211301888" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211301888">(Sep 25 2020 at 19:12)</a>:</h4>
<p>I'm assuming you read this page in its entirety? <a href="https://leanprover-community.github.io/install/project.html">https://leanprover-community.github.io/install/project.html</a></p>



<a name="211301973"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211301973" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211301973">(Sep 25 2020 at 19:12)</a>:</h4>
<p>yeah, i mean it was all working fine til I upgraded lean to 3.20 just now</p>



<a name="211302044"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211302044" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211302044">(Sep 25 2020 at 19:13)</a>:</h4>
<p>[package]<br>
name = "hellolean"<br>
version = "0.1"<br>
lean_version = "leanprover-community/lean:3.20.0"<br>
path = "src"</p>
<p>[dependencies]<br>
mathlib = {git = "<a href="https://github.com/leanprover-community/mathlib">https://github.com/leanprover-community/mathlib</a>", rev = "ae5b55bdf3f4cab4681fa54de75dfb8772b666fd"}</p>



<a name="211302264"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211302264" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211302264">(Sep 25 2020 at 19:14)</a>:</h4>
<p>After running <code>leanproject up</code>, make sure you restart your Lean interpreter that your editor is using.</p>



<a name="211302298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211302298" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211302298">(Sep 25 2020 at 19:14)</a>:</h4>
<p>And you ran <code>leanproject up</code> in the <code>hellolean</code> directory?</p>



<a name="211302303"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211302303" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211302303">(Sep 25 2020 at 19:14)</a>:</h4>
<p>In VSCode, I do this via a Ctrl-Shift-P command</p>



<a name="211302374"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211302374" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211302374">(Sep 25 2020 at 19:14)</a>:</h4>
<p>yep, i restarted the editor entirely and killed all processes with "lean" in the name</p>



<a name="211302412"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211302412" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211302412">(Sep 25 2020 at 19:14)</a>:</h4>
<p>I think something went wrong with <code>leanproject</code> since <a href="#narrow/stream/113489-new-members/topic/polynomial.20simplification.3F/near/211301640">the output that Kevin linked above</a> doesn't make sense.</p>



<a name="211302617"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211302617" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211302617">(Sep 25 2020 at 19:15)</a>:</h4>
<p>sounds like i should just delete it all and reinstall</p>



<a name="211302863"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211302863" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211302863">(Sep 25 2020 at 19:16)</a>:</h4>
<p>Either you ran <code>leanproject</code> in the wrong directory, or <code>leanproject</code> is having trouble determining what directory it's in. Otherwise why would it think that the package is called <code>_user_local_packages 1</code>?</p>



<a name="211303518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211303518" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211303518">(Sep 25 2020 at 19:19)</a>:</h4>
<p>well, clearly it did something, because it turned a functional system into a crashing one</p>



<a name="211303762"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211303762" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211303762">(Sep 25 2020 at 19:20)</a>:</h4>
<p>reinstalling lean hasn't fixed anything, i'll try creating a new project and seeing if that works</p>



<a name="211304704"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211304704" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211304704">(Sep 25 2020 at 19:24)</a>:</h4>
<p>If you were using the same terminal window that you ran <code>leanproject new hellolean</code> in, did you <code>cd hellolean</code> before running <code>leanproject up</code>? Just making sure...</p>



<a name="211304783"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211304783" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211304783">(Sep 25 2020 at 19:25)</a>:</h4>
<p>there isn't any directory named hellolean</p>



<a name="211304898"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211304898" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211304898">(Sep 25 2020 at 19:25)</a>:</h4>
<p>Oh, I thought you created <code>hellolean</code> by running <code>leanproject new hellolean</code> or something like that.</p>



<a name="211305025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211305025" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211305025">(Sep 25 2020 at 19:26)</a>:</h4>
<p>How did you create the <code>hellolean</code> project?</p>



<a name="211305075"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211305075" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211305075">(Sep 25 2020 at 19:26)</a>:</h4>
<p>I don't remember how I created it. it's possible there's some setup thing that I didn't place how a normal leanproject would, and 3.20 relied on that in some way that 3.14 didn't</p>



<a name="211305176"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211305176" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211305176">(Sep 25 2020 at 19:26)</a>:</h4>
<p>i'll recreate the project structure and see if that fixes things</p>



<a name="211305186"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211305186" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211305186">(Sep 25 2020 at 19:26)</a>:</h4>
<p>You should only be creating projects with <code>leanproject</code>.</p>



<a name="211305389"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211305389" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211305389">(Sep 25 2020 at 19:27)</a>:</h4>
<p>i notice that it creates a new git repo - i at least had to mess around with the files to make that not happen</p>



<a name="211305686"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211305686" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211305686">(Sep 25 2020 at 19:29)</a>:</h4>
<p>For now, <code>leanproject</code> requires that Lean projects are in git repos. Is there a strong reason you prefer not to initialize a git repo?</p>



<a name="211305721"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211305721" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211305721">(Sep 25 2020 at 19:29)</a>:</h4>
<p>yeah because it's already in a larger git repo</p>



<a name="211306055"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211306055" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211306055">(Sep 25 2020 at 19:30)</a>:</h4>
<p>you can't really have a multi-programming-language project if each programming language's tool insists on setting itself up in a new repo</p>



<a name="211306175"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211306175" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211306175">(Sep 25 2020 at 19:31)</a>:</h4>
<p>it seems like it's working now though</p>



<a name="211306248"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211306248" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211306248">(Sep 25 2020 at 19:31)</a>:</h4>
<p>Ah, right. This is a use case that's been <a href="https://github.com/leanprover-community/mathlib-tools/issues/42">brought up before</a>, but we don't have a satisfactory solution yet, mainly because most of us are just working with pure Lean projects.</p>



<a name="211307167"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211307167" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211307167">(Sep 25 2020 at 19:35)</a>:</h4>
<p>If you can put <code>leanpkg.toml</code> in the root of the larger git repository then things work reasonably well. For instance, this is what we do with <a href="https://github.com/leanprover-community/doc-gen"><code>doc-gen</code></a> which is mainly a python project. However, there are some projects where this makes less sense, <a href="https://github.com/leanprover-community/lean">like Lean itself</a> which has both the core <code>library</code> and <code>leanpkg</code> as separate sub Lean projects.</p>



<a name="211307399"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211307399" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211307399">(Sep 25 2020 at 19:36)</a>:</h4>
<p>seems easy enough to work around. at any rate, i'm happily on 3.20, thank you for assisting!</p>



<a name="211335421"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20simplification%3F/near/211335421" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20simplification.3F.html#211335421">(Sep 26 2020 at 01:49)</a>:</h4>
<p>Regarding using <code>leanproject</code> inside a larger git repository: I do this all the time, using <code>git submodule</code>. Assuming the project already exists somewhere (or if it doesn't first create it in a scratch directory using leanproject, then push to github), I just use <code>git submodule add [URL]</code>, and then enter that directory and use <code>leanproject</code> like ususal.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>