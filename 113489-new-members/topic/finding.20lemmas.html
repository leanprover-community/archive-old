---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/finding.20lemmas.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finding.20lemmas.html">finding lemmas</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="267789485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finding%20lemmas/near/267789485" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joachim Breitner <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finding.20lemmas.html#267789485">(Jan 12 2022 at 21:36)</a>:</h4>
<p>This must be a very FAQ, but what’s the equivalent of Coq’s <code>SearchAbout</code>? E.g. I want to find lemmas that mention one or more identifiers?</p>



<a name="267789700"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finding%20lemmas/near/267789700" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finding.20lemmas.html#267789700">(Jan 12 2022 at 21:38)</a>:</h4>
<p><code>library_search</code>, <code>suggest</code>, or maybe just browsing the documentation? eg <a href="https://leanprover-community.github.io/mathlib_docs/find/monotone">docs#monotone</a></p>



<a name="267798525"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finding%20lemmas/near/267798525" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joachim Breitner <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finding.20lemmas.html#267798525">(Jan 12 2022 at 22:53)</a>:</h4>
<p>Hmm, close, but not quite what I was hoping for. For example, can I ask lean to show me all lemmas that  mention <code>(_ -&gt; bool) ≃ (_ -&gt; bool)</code> in their types?</p>



<a name="267798789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finding%20lemmas/near/267798789" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finding.20lemmas.html#267798789">(Jan 12 2022 at 22:56)</a>:</h4>
<p><code>#find</code> might work with wildcards</p>



<a name="267798848"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finding%20lemmas/near/267798848" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finding.20lemmas.html#267798848">(Jan 12 2022 at 22:57)</a>:</h4>
<p>I tried find and it didn't work <span aria-label="frown" class="emoji emoji-1f641" role="img" title="frown">:frown:</span><br>
I think the best we have is suggest</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">:</span> <span class="n">true</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">have</span> <span class="o">:</span> <span class="o">(</span><span class="n">_</span> <span class="bp">-&gt;</span> <span class="n">bool</span><span class="o">)</span> <span class="bp">≃</span> <span class="o">(</span><span class="n">_</span> <span class="bp">-&gt;</span> <span class="n">bool</span><span class="o">)</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">suggest</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>it seems like Coq's Search is better for this sort of thing</p>



<a name="267827744"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finding%20lemmas/near/267827744" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finding.20lemmas.html#267827744">(Jan 13 2022 at 06:04)</a>:</h4>
<p><span class="user-mention" data-user-id="470149">@Joachim Breitner</span> Often a regex search can turn up something. But <code>rg ".*→ bool.*≃.*→ bool"</code> returns nothing.</p>



<a name="267827959"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finding%20lemmas/near/267827959" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finding.20lemmas.html#267827959">(Jan 13 2022 at 06:09)</a>:</h4>
<p>But one of the most powerful tools is the naming convention. In this case it's some sort of <code>congr</code> construction about <code>arrow</code>s. So I search for <code>def.*arrow_congr</code> and indeed:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">src</span><span class="bp">/</span><span class="n">data</span><span class="bp">/</span><span class="n">equiv</span><span class="bp">/</span><span class="n">basic.lean</span>
<span class="mi">427</span><span class="o">:</span><span class="kd">@[congr, simps apply]</span> <span class="kd">def</span> <span class="n">arrow_congr</span> <span class="o">{</span><span class="n">α₁</span> <span class="n">β₁</span> <span class="n">α₂</span> <span class="n">β₂</span> <span class="o">:</span> <span class="kt">Sort</span><span class="bp">*</span><span class="o">}</span> <span class="o">(</span><span class="n">e₁</span> <span class="o">:</span> <span class="n">α₁</span> <span class="bp">≃</span> <span class="n">α₂</span><span class="o">)</span> <span class="o">(</span><span class="n">e₂</span> <span class="o">:</span> <span class="n">β₁</span> <span class="bp">≃</span> <span class="n">β₂</span><span class="o">)</span> <span class="o">:</span>
<span class="mi">428</span><span class="bp">-</span>  <span class="o">(</span><span class="n">α₁</span> <span class="bp">→</span> <span class="n">β₁</span><span class="o">)</span> <span class="bp">≃</span> <span class="o">(</span><span class="n">α₂</span> <span class="bp">→</span> <span class="n">β₂</span><span class="o">)</span> <span class="o">:=</span>
<span class="mi">429</span><span class="bp">-</span><span class="o">{</span> <span class="n">to_fun</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">f</span><span class="o">,</span> <span class="n">e₂</span> <span class="bp">∘</span> <span class="n">f</span> <span class="bp">∘</span> <span class="n">e₁.symm</span><span class="o">,</span>
<span class="mi">430</span><span class="bp">-</span>  <span class="n">inv_fun</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">f</span><span class="o">,</span> <span class="n">e₂.symm</span> <span class="bp">∘</span> <span class="n">f</span> <span class="bp">∘</span> <span class="n">e₁</span><span class="o">,</span>
<span class="o">[</span><span class="n">snip</span><span class="o">]</span>
</code></pre></div>



<a name="267829393"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finding%20lemmas/near/267829393" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finding.20lemmas.html#267829393">(Jan 13 2022 at 06:35)</a>:</h4>
<p>Perhaps maps to bool aren't found often because they don't come up often. I think conceptually, you're using the equiv of set a ~- set b when a ~- b, which I can't remember the name for right now</p>



<a name="267829465"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finding%20lemmas/near/267829465" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finding.20lemmas.html#267829465">(Jan 13 2022 at 06:36)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/equiv.set_congr">docs#equiv.set_congr</a>, nope that's not it</p>



<a name="267848658"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finding%20lemmas/near/267848658" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joachim Breitner <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finding.20lemmas.html#267848658">(Jan 13 2022 at 10:21)</a>:</h4>
<p>Nevermind too much the concrete question in this case. The lemma I was looking for doesn’t exist, because it’s unprovable in ZFC <span aria-label="face palm" class="emoji emoji-1f926" role="img" title="face palm">:face_palm:</span>. But I can make progress in other ways.  Thanks for helping, though!</p>



<a name="267849821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finding%20lemmas/near/267849821" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alcides Fonseca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finding.20lemmas.html#267849821">(Jan 13 2022 at 10:32)</a>:</h4>
<p>I think Joachim was looking for some kind of Hoogle (<a href="https://hoogle.haskell.org">https://hoogle.haskell.org</a>) , but for lean.</p>



<a name="267849886"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finding%20lemmas/near/267849886" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finding.20lemmas.html#267849886">(Jan 13 2022 at 10:33)</a>:</h4>
<p>The closest we have to that right now would be the <code>find</code> mentioned above.</p>



<a name="267849966"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finding%20lemmas/near/267849966" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finding.20lemmas.html#267849966">(Jan 13 2022 at 10:34)</a>:</h4>
<p>Time for Loogle? <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



<a name="267850415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finding%20lemmas/near/267850415" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finding.20lemmas.html#267850415">(Jan 13 2022 at 10:38)</a>:</h4>
<p>I've definitely been planning to look into that once doc-gen4 has all the other features <span aria-label="eyes" class="emoji emoji-1f440" role="img" title="eyes">:eyes:</span></p>



<a name="267850592"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finding%20lemmas/near/267850592" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finding.20lemmas.html#267850592">(Jan 13 2022 at 10:40)</a>:</h4>
<p>The theoretical foundations and presentations provided by the author (<a href="https://github.com/ndmitchell/hoogle#background">https://github.com/ndmitchell/hoogle#background</a>) are definitely worth a look btw.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>