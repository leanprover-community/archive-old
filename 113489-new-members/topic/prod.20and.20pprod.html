---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/prod.20and.20pprod.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/prod.20and.20pprod.html">prod and pprod</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="234018298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/prod%20and%20pprod/near/234018298" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Horatiu Cheval <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/prod.20and.20pprod.html#234018298">(Apr 11 2021 at 05:45)</a>:</h4>
<p>What's the reason, or the use-case of having distinct Type-valued and general Sort-valued analogous definitions like <code>prod</code>/<code>pprod</code> and the like? I don't understand why one doesn't have just the more general <code>pprod</code> and uses that in all situations, even when only <code>Types</code> are involved; it seems like in principle you could do that. So, what's the reason for this design? Thanks in advance!</p>



<a name="234018622"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/prod%20and%20pprod/near/234018622" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/prod.20and.20pprod.html#234018622">(Apr 11 2021 at 05:51)</a>:</h4>
<p><code>pprod</code> is a straight generalization of <code>prod</code>, so it can be used anywhere <code>prod</code> is, in principle. But the target universe of <code>pprod</code> is <code>Sort (max 1 u v)</code> which can be difficult to unify with other things</p>



<a name="234018712"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/prod%20and%20pprod/near/234018712" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/prod.20and.20pprod.html#234018712">(Apr 11 2021 at 05:53)</a>:</h4>
<p>In particular, there is no solution to the equation <code>Sort (max 1 u v) = Type ?</code>, so an arbitrary <code>pprod</code> will not be accepted where a <code>Type ?</code> is required</p>



<a name="234018764"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/prod%20and%20pprod/near/234018764" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/prod.20and.20pprod.html#234018764">(Apr 11 2021 at 05:54)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">{</span><span class="n">α</span> <span class="n">β</span><span class="o">}</span> <span class="o">:=</span> <span class="n">set</span> <span class="o">(</span><span class="n">α</span> <span class="bp">×</span> <span class="n">β</span><span class="o">)</span> <span class="c1">-- ok</span>
<span class="kd">example</span> <span class="o">{</span><span class="n">α</span> <span class="n">β</span><span class="o">}</span> <span class="o">:=</span> <span class="n">set</span> <span class="o">(</span><span class="n">pprod</span> <span class="n">α</span> <span class="n">β</span><span class="o">)</span> <span class="c1">-- fail</span>
</code></pre></div>



<a name="234019574"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/prod%20and%20pprod/near/234019574" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Horatiu Cheval <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/prod.20and.20pprod.html#234019574">(Apr 11 2021 at 06:09)</a>:</h4>
<p>I don't know much about how unification works, so I'm just speaking intuitively and I'm probably wrong, but since <code>max 1 u v</code> is <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≥</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\ge 1</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>, isn't it always a <code>Type</code>, namely <code>Type (max 1 u v) - 1</code>, so to say? Isn't <code>Type u</code> just a notation for <code>Sort (u + 1)</code>?</p>



<a name="234019667"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/prod%20and%20pprod/near/234019667" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Horatiu Cheval <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/prod.20and.20pprod.html#234019667">(Apr 11 2021 at 06:11)</a>:</h4>
<p>Or is this not the way things work?</p>



<a name="234019823"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/prod%20and%20pprod/near/234019823" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/prod.20and.20pprod.html#234019823">(Apr 11 2021 at 06:15)</a>:</h4>
<p>The problem is that <code>-1</code> isn't a thing</p>



<a name="234019851"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/prod%20and%20pprod/near/234019851" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/prod.20and.20pprod.html#234019851">(Apr 11 2021 at 06:15)</a>:</h4>
<p>the syntax of levels contains <code>0</code>, <code>_ + 1</code>, <code>max _ _</code>, <code>imax _ _</code> and variables</p>



<a name="234019907"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/prod%20and%20pprod/near/234019907" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/prod.20and.20pprod.html#234019907">(Apr 11 2021 at 06:16)</a>:</h4>
<p>In that language, there is no term representing <code>max 1 u v - 1</code>, even though that is a natural number</p>



<a name="234020016"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/prod%20and%20pprod/near/234020016" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Horatiu Cheval <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/prod.20and.20pprod.html#234020016">(Apr 11 2021 at 06:19)</a>:</h4>
<p>I knew I couldn't write <code>-1</code> there in Lean, but I thought that maybe internally, in the implementation Lean could do other natural number manipulations besides what I'm allowed to write in universe arguments. But I get it now, thanks!</p>



<a name="234020215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/prod%20and%20pprod/near/234020215" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/prod.20and.20pprod.html#234020215">(Apr 11 2021 at 06:22)</a>:</h4>
<p>The unification algorithm, when faced with the goal <code>max 1 u v = ? + 1</code>, has to find an actual term for <code>?</code> making the two sides equal, and there is no such term (there is if you substitute <code>u+1</code> for <code>u</code> and <code>v+1</code> for <code>v</code>, though)</p>



<a name="234020235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/prod%20and%20pprod/near/234020235" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/prod.20and.20pprod.html#234020235">(Apr 11 2021 at 06:23)</a>:</h4>
<p>that impoverished grammar is actually baked into the kernel (and external typecheckers), so the elaborator isn't allowed to do magic with it</p>



<a name="234020346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/prod%20and%20pprod/near/234020346" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Horatiu Cheval <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/prod.20and.20pprod.html#234020346">(Apr 11 2021 at 06:25)</a>:</h4>
<p>So universes are represented in the kernel as actual terms in the language you described, not as some generic natural number datatype, right?</p>



<a name="234020356"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/prod%20and%20pprod/near/234020356" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/prod.20and.20pprod.html#234020356">(Apr 11 2021 at 06:25)</a>:</h4>
<p>right</p>



<a name="234020362"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/prod%20and%20pprod/near/234020362" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/prod.20and.20pprod.html#234020362">(Apr 11 2021 at 06:25)</a>:</h4>
<p>They can't be generic natural numbers anyway, because they have variables in them, <code>u</code> and <code>v</code></p>



<a name="234020411"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/prod%20and%20pprod/near/234020411" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/prod.20and.20pprod.html#234020411">(Apr 11 2021 at 06:26)</a>:</h4>
<p>In fact, if these were numbers there would be no problem: <code>max 1 0 4 = ? + 1</code> has a solution</p>



<a name="234020467"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/prod%20and%20pprod/near/234020467" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/prod.20and.20pprod.html#234020467">(Apr 11 2021 at 06:27)</a>:</h4>
<p>They can't be arbitrary terms of type <code>nat</code> either, because that would be inconsistent (which is a fun paradox)</p>



<a name="234020648"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/prod%20and%20pprod/near/234020648" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/prod.20and.20pprod.html#234020648">(Apr 11 2021 at 06:30)</a>:</h4>
<p>The paradox, by the way, involves the question of what universe <code>λ n, Type n</code> lives in; it's not hard to go from that to girard's paradox</p>



<a name="234020698"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/prod%20and%20pprod/near/234020698" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Horatiu Cheval <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/prod.20and.20pprod.html#234020698">(Apr 11 2021 at 06:31)</a>:</h4>
<p>Indeed, thank you, I think all is clear now with regards to unification</p>



<a name="234020766"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/prod%20and%20pprod/near/234020766" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Horatiu Cheval <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/prod.20and.20pprod.html#234020766">(Apr 11 2021 at 06:33)</a>:</h4>
<p>The paradox does seem interesting, I'll try to see how to get to Girard's paradox from there</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>