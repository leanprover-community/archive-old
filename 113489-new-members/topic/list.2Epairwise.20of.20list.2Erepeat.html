---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/list.2Epairwise.20of.20list.2Erepeat.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.2Epairwise.20of.20list.2Erepeat.html">list.pairwise of list.repeat</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="202099818"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list.pairwise%20of%20list.repeat/near/202099818" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.2Epairwise.20of.20list.2Erepeat.html#202099818">(Jun 26 2020 at 14:47)</a>:</h4>
<p>Is there a builtin proof that <code>list.pairwise r (list.repeat x n)</code> is true if <code>r x x</code>?</p>



<a name="202100001"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list.pairwise%20of%20list.repeat/near/202100001" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.2Epairwise.20of.20list.2Erepeat.html#202100001">(Jun 26 2020 at 14:48)</a>:</h4>
<p>And if not, under what name would it be appropriate to define it in <code>data/list/pairwise.lean</code>?</p>



<a name="202100022"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list.pairwise%20of%20list.repeat/near/202100022" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.2Epairwise.20of.20list.2Erepeat.html#202100022">(Jun 26 2020 at 14:49)</a>:</h4>
<p>can you state the lemma formally?</p>



<a name="202100093"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list.pairwise%20of%20list.repeat/near/202100093" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.2Epairwise.20of.20list.2Erepeat.html#202100093">(Jun 26 2020 at 14:49)</a>:</h4>
<p>(the way i would try to answer this question is to state the lemma formally, try library_search, and then go read the file where <code>list.pairwise</code> is defined)</p>



<a name="202100155"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list.pairwise%20of%20list.repeat/near/202100155" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.2Epairwise.20of.20list.2Erepeat.html#202100155">(Jun 26 2020 at 14:50)</a>:</h4>
<p>also by builtin do you mean available in mathlib?</p>



<a name="202100170"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list.pairwise%20of%20list.repeat/near/202100170" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.2Epairwise.20of.20list.2Erepeat.html#202100170">(Jun 26 2020 at 14:50)</a>:</h4>
<p>Sure, let me try. I've already read through that file, and nothing jumps out as what I want.</p>
<p>Yes, I mean mathlib.</p>



<a name="202100259"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list.pairwise%20of%20list.repeat/near/202100259" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.2Epairwise.20of.20list.2Erepeat.html#202100259">(Jun 26 2020 at 14:51)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/list.pairwise">docs#list.pairwise</a></p>



<a name="202100426"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list.pairwise%20of%20list.repeat/near/202100426" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.2Epairwise.20of.20list.2Erepeat.html#202100426">(Jun 26 2020 at 14:52)</a>:</h4>
<p>the lemma doesn't sound mathematically useful</p>



<a name="202100437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list.pairwise%20of%20list.repeat/near/202100437" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.2Epairwise.20of.20list.2Erepeat.html#202100437">(Jun 26 2020 at 14:52)</a>:</h4>
<p>why do you need it?</p>



<a name="202100443"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list.pairwise%20of%20list.repeat/near/202100443" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.2Epairwise.20of.20list.2Erepeat.html#202100443">(Jun 26 2020 at 14:52)</a>:</h4>
<p><a href="https://en.wikipedia.org/wiki/XY_problem">#xy</a></p>



<a name="202100457"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list.pairwise%20of%20list.repeat/near/202100457" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.2Epairwise.20of.20list.2Erepeat.html#202100457">(Jun 26 2020 at 14:53)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">lemma</span> <span class="n">pairwise_of_rep_is_reflexive</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">(</span><span class="n">r</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">r</span> <span class="n">x</span> <span class="n">x</span> <span class="bp">→</span> <span class="n">list</span><span class="bp">.</span><span class="n">pairwise</span> <span class="n">r</span> <span class="o">(</span><span class="n">list</span><span class="bp">.</span><span class="n">repeat</span> <span class="n">x</span> <span class="n">n</span><span class="o">)</span>
</code></pre></div>



<a name="202100612"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list.pairwise%20of%20list.repeat/near/202100612" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.2Epairwise.20of.20list.2Erepeat.html#202100612">(Jun 26 2020 at 14:54)</a>:</h4>
<p>I need it in order to construct a list subtyped to satisfy a pairwise predicate.</p>



<a name="202100778"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list.pairwise%20of%20list.repeat/near/202100778" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.2Epairwise.20of.20list.2Erepeat.html#202100778">(Jun 26 2020 at 14:55)</a>:</h4>
<p>it should be an easy list induction</p>



<a name="202100932"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list.pairwise%20of%20list.repeat/near/202100932" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.2Epairwise.20of.20list.2Erepeat.html#202100932">(Jun 26 2020 at 14:56)</a>:</h4>
<p>Too "easy" to have a place in mathlib?</p>



<a name="202100982"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list.pairwise%20of%20list.repeat/near/202100982" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.2Epairwise.20of.20list.2Erepeat.html#202100982">(Jun 26 2020 at 14:57)</a>:</h4>
<p>not sure yet</p>



<a name="202101013"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list.pairwise%20of%20list.repeat/near/202101013" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.2Epairwise.20of.20list.2Erepeat.html#202101013">(Jun 26 2020 at 14:57)</a>:</h4>
<p>i'm working on it but haven't finished</p>



<a name="202101045"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list.pairwise%20of%20list.repeat/near/202101045" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.2Epairwise.20of.20list.2Erepeat.html#202101045">(Jun 26 2020 at 14:57)</a>:</h4>
<p><code>library_search</code> finds nothing at any rate. I'll have a go at proving it myself, and then learn from your simpler proof!</p>



<a name="202101054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list.pairwise%20of%20list.repeat/near/202101054" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.2Epairwise.20of.20list.2Erepeat.html#202101054">(Jun 26 2020 at 14:57)</a>:</h4>
<p>Thanks!</p>



<a name="202101093"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list.pairwise%20of%20list.repeat/near/202101093" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Olson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.2Epairwise.20of.20list.2Erepeat.html#202101093">(Jun 26 2020 at 14:58)</a>:</h4>
<p>Maybe just call it <code>pairwise_repeat</code>? I think the guidelines only suggest describing the hypotheses in the name if necessary for disambiguation.</p>



<a name="202101148"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list.pairwise%20of%20list.repeat/near/202101148" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.2Epairwise.20of.20list.2Erepeat.html#202101148">(Jun 26 2020 at 14:58)</a>:</h4>
<p>I think this specific case would not deserve a name, probably one can prove an induction principle so that the proof of this is <code>new_induction_principle; simp</code></p>



<a name="202101195"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list.pairwise%20of%20list.repeat/near/202101195" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.2Epairwise.20of.20list.2Erepeat.html#202101195">(Jun 26 2020 at 14:58)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>

<span class="kn">open</span> <span class="n">list</span>

<span class="kn">example</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">r</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">→</span> <span class="n">X</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">(</span><span class="n">hr</span> <span class="o">:</span> <span class="n">r</span> <span class="n">x</span> <span class="n">x</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">pairwise</span> <span class="n">r</span> <span class="o">(</span><span class="n">repeat</span> <span class="n">x</span> <span class="n">n</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">induction</span> <span class="n">n</span> <span class="k">with</span> <span class="n">d</span> <span class="n">hd</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">exact</span> <span class="n">pairwise</span><span class="bp">.</span><span class="n">nil</span><span class="o">},</span>
  <span class="o">{</span> <span class="n">apply</span> <span class="n">pairwise</span><span class="bp">.</span><span class="n">cons</span> <span class="bp">_</span> <span class="n">hd</span><span class="o">,</span>
    <span class="n">intros</span> <span class="n">a</span> <span class="n">ha</span><span class="o">,</span>
    <span class="n">convert</span> <span class="n">hr</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">eq_of_mem_repeat</span> <span class="n">ha</span><span class="o">,</span>
  <span class="o">}</span>
<span class="kn">end</span>
</code></pre></div>



<a name="202101562"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list.pairwise%20of%20list.repeat/near/202101562" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.2Epairwise.20of.20list.2Erepeat.html#202101562">(Jun 26 2020 at 15:01)</a>:</h4>
<p>I suspect you don't even need induction.</p>



<a name="202101712"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list.pairwise%20of%20list.repeat/near/202101712" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.2Epairwise.20of.20list.2Erepeat.html#202101712">(Jun 26 2020 at 15:02)</a>:</h4>
<p>you always need induction</p>



<a name="202101724"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list.pairwise%20of%20list.repeat/near/202101724" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.2Epairwise.20of.20list.2Erepeat.html#202101724">(Jun 26 2020 at 15:02)</a>:</h4>
<p>somewhere</p>



<a name="202101744"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list.pairwise%20of%20list.repeat/near/202101744" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.2Epairwise.20of.20list.2Erepeat.html#202101744">(Jun 26 2020 at 15:02)</a>:</h4>
<p>you'll use a lemma which uses induction :-)</p>



<a name="202102018"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list.pairwise%20of%20list.repeat/near/202102018" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.2Epairwise.20of.20list.2Erepeat.html#202102018">(Jun 26 2020 at 15:04)</a>:</h4>
<p>Looks like the lemma I want to use doesn't quite exist though</p>



<a name="202102135"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list.pairwise%20of%20list.repeat/near/202102135" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.2Epairwise.20of.20list.2Erepeat.html#202102135">(Jun 26 2020 at 15:05)</a>:</h4>
<p>(forall a b in l, a r b) -&gt; pairwise l r</p>



<a name="202102316"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list.pairwise%20of%20list.repeat/near/202102316" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.2Epairwise.20of.20list.2Erepeat.html#202102316">(Jun 26 2020 at 15:06)</a>:</h4>
<p>You could prove it from <code>pairwise.imp_of_mem</code> but <code>pairwise.true</code> is missing too.</p>



<a name="202102499"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list.pairwise%20of%20list.repeat/near/202102499" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.2Epairwise.20of.20list.2Erepeat.html#202102499">(Jun 26 2020 at 15:08)</a>:</h4>
<p>do we know that <code>repeat x n</code> is <code>sorted</code>? this seems like a valid use case</p>



<a name="202102554"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list.pairwise%20of%20list.repeat/near/202102554" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.2Epairwise.20of.20list.2Erepeat.html#202102554">(Jun 26 2020 at 15:08)</a>:</h4>
<p>Yep, I think <code>sorted_repeat</code> or <code>repeat_sorted</code> exists</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>