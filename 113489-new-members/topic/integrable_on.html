---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/integrable_on.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html">integrable_on</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="206527343"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206527343" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206527343">(Aug 11 2020 at 00:00)</a>:</h4>
<p>I saw there's some <a href="https://github.com/leanprover-community/mathlib/commit/3eea1091c50b77fa8ad720eec7387da511822cd0">new material</a> in mathlib about measure. Can I use this to say like "f(x)=1/(b-a) is integrable on [a,b] and integrates to 1 so it's a probability measure"?</p>



<a name="206527544"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206527544" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206527544">(Aug 11 2020 at 00:03)</a>:</h4>
<p>Do we have a <code>measure.comap</code>?</p>



<a name="206527618"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206527618" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206527618">(Aug 11 2020 at 00:04)</a>:</h4>
<p>To define a measure from a function we need some kind of integral based measure</p>



<a name="206527629"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206527629" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206527629">(Aug 11 2020 at 00:04)</a>:</h4>
<p>that's before even getting to the question of turning that into a probability measure</p>



<a name="206527877"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206527877" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206527877">(Aug 11 2020 at 00:08)</a>:</h4>
<p>aha, <a href="https://leanprover-community.github.io/mathlib_docs/find/measure_theory.measure.with_density">docs#measure_theory.measure.with_density</a></p>



<a name="206527947"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206527947" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206527947">(Aug 11 2020 at 00:09)</a>:</h4>
<p>so you just make that into a probability measure, using <code>with_density_apply</code> and prove that the integral of f over <code>[a,b]</code> is 1</p>



<a name="206537577"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206537577" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206537577">(Aug 11 2020 at 03:44)</a>:</h4>
<p>I don't think I understand</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">measure_theory</span><span class="bp">.</span><span class="n">bochner_integration</span>
<span class="kn">import</span> <span class="n">analysis</span><span class="bp">.</span><span class="n">normed_space</span><span class="bp">.</span><span class="n">indicator_function</span>
<span class="kn">import</span> <span class="n">measure_theory</span><span class="bp">.</span><span class="n">set_integral</span>
<span class="kn">import</span> <span class="n">analysis</span><span class="bp">.</span><span class="n">specific_limits</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">real</span><span class="bp">.</span><span class="n">basic</span>



<span class="kn">open</span> <span class="n">set</span> <span class="n">filter</span> <span class="n">topological_space</span> <span class="n">measure_theory</span>
<span class="n">open_locale</span> <span class="n">classical</span> <span class="n">topological_space</span> <span class="n">interval</span>


<span class="n">def</span> <span class="n">uniform</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">real</span><span class="o">)</span> <span class="o">:</span> <span class="n">real</span> <span class="o">:=</span> <span class="mi">1</span>

<span class="n">def</span> <span class="n">unit_interval</span> <span class="o">:</span> <span class="n">set</span> <span class="n">real</span> <span class="o">:=</span> <span class="n">Icc</span> <span class="mi">0</span> <span class="mi">1</span>

<span class="kn">lemma</span> <span class="n">unit_interval_measurable</span> <span class="o">:</span> <span class="n">is_measurable</span> <span class="n">unit_interval</span> <span class="o">:=</span>
<span class="n">is_measurable_Icc</span>

<span class="kn">set_option</span> <span class="n">trace</span><span class="bp">.</span><span class="n">class_instances</span>

<span class="bp">#</span><span class="kn">check</span> <span class="n">with_density_apply</span> <span class="err">↑</span><span class="n">uniform</span> <span class="n">unit_interval_measurable</span>

<span class="c1">-- lemma with_density_apply (f : α → ennreal) {s : set α} (hs : is_measurable s) ...</span>


<span class="c1">-- maximum class-instance resolution depth has been reached (the limit can be increased by setting option &#39;class.instance_max_depth&#39;) (the class-instance resolution trace can be visualized by setting option &#39;trace.class_instances&#39;)</span>

<span class="c1">-- invalid Boolean option value, &#39;true&#39; or &#39;false&#39; expected</span>
</code></pre></div>



<a name="206538298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206538298" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206538298">(Aug 11 2020 at 04:05)</a>:</h4>
<p>Well, there are a lot of weird things in that trace. I was wondering what a <code>to_string (ℝ →. ℝ)</code> had to do with the original goal of <code>has_lift_t (ℝ → ℝ) (ℝ → ennreal)</code>, and found this</p>
<div class="codehilite"><pre><span></span><code><span class="bp">@</span><span class="o">[</span><span class="kn">instance</span><span class="o">]</span>
<span class="kn">protected</span> <span class="n">meta</span> <span class="n">def</span> <span class="n">widget</span><span class="bp">.</span><span class="n">html</span><span class="bp">.</span><span class="n">to_string_coe</span> <span class="o">:</span>
  <span class="bp">Π</span> <span class="o">{</span><span class="n">α</span> <span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="bp">_</span><span class="n">inst_1</span> <span class="o">:</span> <span class="n">has_to_string</span> <span class="n">β</span><span class="o">],</span> <span class="n">has_coe</span> <span class="n">β</span> <span class="o">(</span><span class="n">widget</span><span class="bp">.</span><span class="n">html</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span>
</code></pre></div>



<a name="206538350"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206538350" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206538350">(Aug 11 2020 at 04:06)</a>:</h4>
<p>Looking at an instance trace is like looking under the couch while cleaning</p>



<a name="206538855"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206538855" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206538855">(Aug 11 2020 at 04:21)</a>:</h4>
<p>Here's another bad instance:</p>
<div class="codehilite"><pre><span></span><code><span class="bp">@</span><span class="o">[</span><span class="kn">instance</span><span class="o">]</span>
<span class="kn">protected</span> <span class="n">def</span> <span class="n">lift_fn_range</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">{</span><span class="n">a</span> <span class="o">:</span> <span class="n">Sort</span> <span class="n">ua</span><span class="o">}</span> <span class="o">{</span><span class="n">b₁</span> <span class="o">:</span> <span class="n">Sort</span> <span class="n">ub₁</span><span class="o">}</span> <span class="o">{</span><span class="n">b₂</span> <span class="o">:</span> <span class="n">Sort</span> <span class="n">ub₂</span><span class="o">}</span> <span class="o">[</span><span class="bp">_</span><span class="n">inst_1</span> <span class="o">:</span> <span class="n">has_lift_t</span> <span class="n">b₁</span> <span class="n">b₂</span><span class="o">],</span>
  <span class="n">has_lift</span> <span class="o">(</span><span class="n">a</span> <span class="bp">→</span> <span class="n">b₁</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="bp">→</span> <span class="n">b₂</span><span class="o">)</span> <span class="o">:=</span>
</code></pre></div>


<p>The fact that this goes from <code>lift_t</code> to <code>lift</code> means that it can be pumped by instances that expect that a <code>lift_t</code> allows the output to be more complicated than the input:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">protected</span> <span class="n">def</span> <span class="n">filter</span><span class="bp">.</span><span class="n">germ</span><span class="bp">.</span><span class="n">has_lift_t</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u_1</span><span class="o">}</span> <span class="o">{</span><span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u_2</span><span class="o">}</span> <span class="o">{</span><span class="n">l</span> <span class="o">:</span> <span class="n">filter</span> <span class="n">α</span><span class="o">},</span> <span class="n">has_lift_t</span> <span class="n">β</span> <span class="o">(</span><span class="n">l</span><span class="bp">.</span><span class="n">germ</span> <span class="n">β</span><span class="o">)</span> <span class="o">:=</span>
</code></pre></div>


<p>Together this means that <code>has_lift (A -&gt; B) (A -&gt; l.germ B)</code> so a search for <code>has_lift_t (A -&gt; B) ?C</code> diverges: </p>
<div class="codehilite"><pre><span></span><code><span class="n">has_lift_t</span> <span class="o">(</span><span class="n">A</span> <span class="bp">-&gt;</span> <span class="n">B</span><span class="o">)</span> <span class="err">?</span><span class="n">C</span> <span class="bp">&lt;-</span> <span class="n">has_lift_t</span> <span class="o">(</span><span class="n">A</span> <span class="bp">-&gt;</span> <span class="err">?</span><span class="n">l</span><span class="bp">.</span><span class="n">germ</span> <span class="n">B</span><span class="o">)</span> <span class="err">?</span><span class="n">C</span> <span class="bp">&lt;-</span><span class="n">has_lift_t</span> <span class="o">(</span><span class="n">A</span> <span class="bp">-&gt;</span> <span class="err">?</span><span class="n">l</span><span class="bp">.</span><span class="n">germ</span> <span class="o">(</span><span class="err">?</span><span class="n">l</span><span class="bp">.</span><span class="n">germ</span> <span class="n">B</span><span class="o">))</span> <span class="err">?</span><span class="n">C</span> <span class="bp">&lt;-</span> <span class="bp">...</span>
</code></pre></div>



<a name="206538915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206538915" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206538915">(Aug 11 2020 at 04:22)</a>:</h4>
<p>Anyway, the short answer to your question <span class="user-mention" data-user-id="253355">@Iocta</span> is that there is no coercion from <code>real</code> to <code>ennreal</code> so <code>↑uniform</code> doesn't work. Make it a function <code>real -&gt; ennreal</code> instead</p>



<a name="206539006"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206539006" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206539006">(Aug 11 2020 at 04:26)</a>:</h4>
<p>Oh wow, <code>lift_fn_range</code> is in core, and has been there since the dawn of time</p>



<a name="206540030"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206540030" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206540030">(Aug 11 2020 at 04:50)</a>:</h4>
<p>ok</p>



<a name="206558115"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206558115" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206558115">(Aug 11 2020 at 10:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="253355">Iocta</span> <a href="#narrow/stream/113489-new-members/topic/integrable_on/near/206537577">said</a>:</p>
<blockquote>
<p>I don't think I understand</p>
<div class="codehilite"><pre><span></span><code><span class="kn">set_option</span> <span class="n">trace</span><span class="bp">.</span><span class="n">class_instances</span>

<span class="c1">-- invalid Boolean option value, &#39;true&#39; or &#39;false&#39; expected</span>
</code></pre></div>


</blockquote>
<p>You're missing <code>true</code> at the end of that line.</p>



<a name="206623058"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206623058" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206623058">(Aug 11 2020 at 19:55)</a>:</h4>
<p>Having various issues:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">measure_theory</span><span class="bp">.</span><span class="n">probability_mass_function</span>
<span class="kn">import</span> <span class="n">analysis</span><span class="bp">.</span><span class="n">normed_space</span><span class="bp">.</span><span class="n">indicator_function</span>
<span class="kn">import</span> <span class="n">measure_theory</span><span class="bp">.</span><span class="n">set_integral</span>
<span class="kn">import</span> <span class="n">analysis</span><span class="bp">.</span><span class="n">specific_limits</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">real</span><span class="bp">.</span><span class="n">basic</span>


<span class="kn">open</span> <span class="n">set</span> <span class="n">filter</span> <span class="n">topological_space</span> <span class="n">measure_theory</span>
<span class="n">open_locale</span> <span class="n">classical</span> <span class="n">topological_space</span> <span class="n">interval</span>


<span class="kn">inductive</span> <span class="n">letter</span> <span class="o">:</span> <span class="kt">Type</span>
<span class="bp">|</span> <span class="n">a</span> <span class="o">:</span> <span class="n">letter</span>
<span class="bp">|</span> <span class="n">b</span> <span class="o">:</span> <span class="n">letter</span>
<span class="bp">|</span> <span class="n">c</span> <span class="o">:</span> <span class="n">letter</span>

<span class="kn">namespace</span> <span class="n">letter</span>

<span class="kn">instance</span> <span class="n">fintype</span><span class="o">:</span> <span class="n">fintype</span> <span class="n">letter</span> <span class="o">:=</span>
<span class="k">begin</span>
<span class="c1">-- ⊢ fintype letter</span>
<span class="n">sorry</span><span class="o">,</span>
<span class="kn">end</span>

<span class="n">def</span> <span class="n">f_letter</span> <span class="o">:</span> <span class="n">letter</span> <span class="bp">→</span> <span class="n">nnreal</span>
<span class="bp">|</span> <span class="n">a</span> <span class="o">:=</span> <span class="mi">0</span><span class="bp">.</span><span class="mi">5</span>
<span class="bp">|</span> <span class="n">b</span> <span class="o">:=</span> <span class="mi">0</span><span class="bp">.</span><span class="mi">3</span>
<span class="bp">|</span> <span class="n">c</span> <span class="o">:=</span> <span class="mi">1</span> <span class="bp">-</span> <span class="o">(</span><span class="n">f_letter</span> <span class="n">a</span><span class="o">)</span> <span class="bp">-</span> <span class="o">(</span><span class="n">f_letter</span> <span class="n">b</span><span class="o">)</span>
<span class="c1">-- equation compiler failed to generate bytecode for &#39;f_letter._main&#39;</span>
<span class="c1">-- nested exception message:</span>
<span class="c1">-- code generation failed, VM does not have code for &#39;classical.choice&#39;</span>


<span class="n">def</span> <span class="n">letter_pmf</span> <span class="o">:</span> <span class="n">pmf</span> <span class="n">letter</span> <span class="o">:=</span>
<span class="n">pmf</span><span class="bp">.</span><span class="n">of_fintype</span> <span class="n">f_letter</span>
<span class="k">begin</span>
  <span class="n">simp</span><span class="o">,</span>
  <span class="c1">-- ⊢ finset.univ.sum f_letter = 1</span>
  <span class="n">sorry</span><span class="o">,</span>
<span class="kn">end</span><span class="o">,</span>

<span class="kn">end</span> <span class="n">letter</span>
</code></pre></div>



<a name="206623378"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206623378" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206623378">(Aug 11 2020 at 19:57)</a>:</h4>
<p>The <code>f_letter</code> errors look like one or more bugs, but in any case it needs <code>noncomputable</code> (or just add <code>noncomputable theory</code> near the top somewhere)</p>



<a name="206623555"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206623555" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206623555">(Aug 11 2020 at 19:58)</a>:</h4>
<p>I think the definition of <code>f_letter</code> was wrong for two different reasons, and Lean got confused as a result.</p>



<a name="206623580"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206623580" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206623580">(Aug 11 2020 at 19:58)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="n">noncomputable</span> <span class="n">def</span> <span class="n">f_letter</span> <span class="o">:</span> <span class="n">letter</span> <span class="bp">→</span> <span class="n">nnreal</span>
<span class="bp">|</span> <span class="n">a</span> <span class="o">:=</span> <span class="mi">0</span><span class="bp">.</span><span class="mi">5</span>
<span class="bp">|</span> <span class="n">b</span> <span class="o">:=</span> <span class="mi">0</span><span class="bp">.</span><span class="mi">3</span>
<span class="bp">|</span> <span class="n">c</span> <span class="o">:=</span> <span class="mi">0</span><span class="bp">.</span><span class="mi">2</span>
</code></pre></div>



<a name="206624079"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206624079" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206624079">(Aug 11 2020 at 20:02)</a>:</h4>
<p>That helps</p>



<a name="206625300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206625300" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206625300">(Aug 11 2020 at 20:13)</a>:</h4>
<p>is there a trick to filling these? <code>instance fintype: fintype letter := sorry</code></p>



<a name="206625597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206625597" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206625597">(Aug 11 2020 at 20:16)</a>:</h4>
<p>Does <code>@[derive fintype]</code> on the line before inductive letter work?</p>



<a name="206625731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206625731" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206625731">(Aug 11 2020 at 20:17)</a>:</h4>
<p><code>failed to find a derive handler for 'fintype'</code></p>



<a name="206626539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206626539" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206626539">(Aug 11 2020 at 20:25)</a>:</h4>
<p>Oh yeah there was a thread about this. If you search for enumerated types are fintypes in zulip you should find a thread with that name with an example of this</p>



<a name="206626876"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206626876" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206626876">(Aug 11 2020 at 20:28)</a>:</h4>
<p>Ah</p>
<div class="codehilite"><pre><span></span><code><span class="n">noncomputable</span> <span class="kn">instance</span> <span class="n">fintype</span><span class="o">:</span> <span class="n">fintype</span> <span class="n">letter</span> <span class="o">:=</span>
<span class="o">{</span><span class="n">elems</span> <span class="o">:=</span> <span class="o">{</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">,</span> <span class="n">c</span><span class="o">},</span> <span class="n">complete</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="k">by</span> <span class="n">cases</span> <span class="n">x</span><span class="bp">;</span> <span class="n">simp</span><span class="o">}</span>
</code></pre></div>



<a name="206627069"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206627069" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206627069">(Aug 11 2020 at 20:30)</a>:</h4>
<p>Is it actually noncomputable?</p>



<a name="206627219"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206627219" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206627219">(Aug 11 2020 at 20:31)</a>:</h4>
<p>I'm just believing what it tells me <code>definition 'fintype' is noncomputable, it depends on 'classical.prop_decidable'</code></p>



<a name="206627395"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206627395" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206627395">(Aug 11 2020 at 20:33)</a>:</h4>
<p>I see. I think you should add <code>@[derive decidable_eq]</code> before <code>inductive letter</code> (on the other hand, maybe you don't care).</p>



<a name="206633378"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206633378" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206633378">(Aug 11 2020 at 21:26)</a>:</h4>
<p>Can I fill the <code>sorry</code>?</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">measure_theory</span><span class="bp">.</span><span class="n">probability_mass_function</span>
<span class="kn">import</span> <span class="n">analysis</span><span class="bp">.</span><span class="n">normed_space</span><span class="bp">.</span><span class="n">indicator_function</span>
<span class="kn">import</span> <span class="n">measure_theory</span><span class="bp">.</span><span class="n">set_integral</span>
<span class="kn">import</span> <span class="n">analysis</span><span class="bp">.</span><span class="n">specific_limits</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">real</span><span class="bp">.</span><span class="n">basic</span>


<span class="kn">open</span> <span class="n">set</span> <span class="n">filter</span> <span class="n">topological_space</span> <span class="n">measure_theory</span>
<span class="n">open_locale</span> <span class="n">classical</span> <span class="n">topological_space</span> <span class="n">interval</span>

<span class="bp">@</span><span class="o">[</span><span class="n">derive</span> <span class="n">decidable_eq</span><span class="o">]</span>
<span class="kn">inductive</span> <span class="n">letter</span> <span class="o">:</span> <span class="kt">Type</span>
<span class="bp">|</span> <span class="n">a</span> <span class="o">:</span> <span class="n">letter</span>
<span class="bp">|</span> <span class="n">b</span> <span class="o">:</span> <span class="n">letter</span>
<span class="bp">|</span> <span class="n">c</span> <span class="o">:</span> <span class="n">letter</span>

<span class="kn">namespace</span> <span class="n">letter</span>



<span class="kn">instance</span> <span class="n">fintype</span><span class="o">:</span> <span class="n">fintype</span> <span class="n">letter</span> <span class="o">:=</span>
<span class="o">{</span><span class="n">elems</span> <span class="o">:=</span> <span class="o">{</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">,</span> <span class="n">c</span><span class="o">},</span> <span class="n">complete</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="k">by</span> <span class="n">cases</span> <span class="n">x</span><span class="bp">;</span> <span class="n">simp</span><span class="o">}</span>


<span class="n">noncomputable</span> <span class="n">def</span> <span class="n">letter_f</span> <span class="o">:</span> <span class="n">letter</span> <span class="bp">→</span> <span class="n">nnreal</span>
<span class="bp">|</span> <span class="n">a</span> <span class="o">:=</span> <span class="mi">0</span><span class="bp">.</span><span class="mi">5</span>
<span class="bp">|</span> <span class="n">b</span> <span class="o">:=</span> <span class="mi">0</span><span class="bp">.</span><span class="mi">3</span>
<span class="bp">|</span> <span class="n">c</span> <span class="o">:=</span> <span class="mi">0</span><span class="bp">.</span><span class="mi">2</span>

<span class="kn">lemma</span> <span class="n">add_to_one</span> <span class="o">:</span> <span class="n">letter_f</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">letter_f</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">letter_f</span> <span class="n">c</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">simp</span> <span class="o">[</span><span class="n">letter_f</span><span class="o">]</span> <span class="n">at</span> <span class="bp">*</span><span class="o">,</span>
  <span class="n">ring</span><span class="o">,</span>
  <span class="n">ext1</span><span class="o">,</span>
  <span class="n">norm_num</span><span class="o">,</span>
<span class="kn">end</span>

<span class="n">noncomputable</span> <span class="n">def</span> <span class="n">letter_pmf</span> <span class="o">:</span> <span class="n">pmf</span> <span class="n">letter</span> <span class="o">:=</span>
<span class="n">pmf</span><span class="bp">.</span><span class="n">of_fintype</span> <span class="n">letter_f</span>
<span class="k">begin</span>
<span class="n">simp</span><span class="o">,</span>
<span class="n">refine</span> <span class="n">eq</span><span class="bp">.</span><span class="n">trans</span> <span class="bp">_</span> <span class="n">add_to_one</span><span class="o">,</span>
<span class="n">unfold</span> <span class="n">finset</span><span class="bp">.</span><span class="n">univ</span><span class="o">,</span>
<span class="c1">-- ⊢ (fintype.elems letter).sum letter_f = a.letter_f + b.letter_f + c.letter_f</span>
<span class="n">sorry</span><span class="o">,</span>
<span class="kn">end</span>

<span class="kn">end</span> <span class="n">letter</span>
</code></pre></div>



<a name="206633666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206633666" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206633666">(Aug 11 2020 at 21:29)</a>:</h4>
<p>prove an auxiliary lemma <code>(finset.univ : finset letter) = {a, b, c}</code></p>



<a name="206633700"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206633700" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206633700">(Aug 11 2020 at 21:29)</a>:</h4>
<p>(this is <code>rfl</code>)</p>



<a name="206633831"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206633831" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206633831">(Aug 11 2020 at 21:31)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="kn">theorem</span> <span class="n">letter_univ</span> <span class="o">:</span> <span class="o">(</span><span class="n">finset</span><span class="bp">.</span><span class="n">univ</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">letter</span><span class="o">)</span> <span class="bp">=</span> <span class="o">{</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">,</span> <span class="n">c</span><span class="o">}</span> <span class="o">:=</span> <span class="n">rfl</span>

<span class="n">noncomputable</span> <span class="n">def</span> <span class="n">letter_pmf</span> <span class="o">:</span> <span class="n">pmf</span> <span class="n">letter</span> <span class="o">:=</span>
<span class="n">pmf</span><span class="bp">.</span><span class="n">of_fintype</span> <span class="n">letter_f</span>
<span class="k">begin</span>
  <span class="n">refine</span> <span class="n">eq</span><span class="bp">.</span><span class="n">trans</span> <span class="bp">_</span> <span class="n">add_to_one</span><span class="o">,</span>
  <span class="n">simp</span> <span class="o">[</span><span class="n">add_assoc</span><span class="o">],</span>
<span class="kn">end</span>
</code></pre></div>



<a name="206633864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206633864" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206633864">(Aug 11 2020 at 21:31)</a>:</h4>
<p>kenny beat me to the punchline</p>



<a name="206634707"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206634707" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206634707">(Aug 11 2020 at 21:40)</a>:</h4>
<p>How to interpret <code> (finset.univ : finset letter) </code> ?</p>



<a name="206634842"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206634842" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206634842">(Aug 11 2020 at 21:42)</a>:</h4>
<p>finset.univ implicitly takes a type <code>X</code> and an instance of <code>fintype X</code></p>



<a name="206634859"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206634859" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206634859">(Aug 11 2020 at 21:42)</a>:</h4>
<p>it has type <code>finset X</code></p>



<a name="206634878"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206634878" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206634878">(Aug 11 2020 at 21:42)</a>:</h4>
<p>it is formed by simply extracting the <code>finset.elems</code> in the instance of <code>fintype X</code></p>



<a name="206634925"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206634925" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206634925">(Aug 11 2020 at 21:43)</a>:</h4>
<p>You can also write <code>@finset.univ letter _</code> if you prefer</p>



<a name="206643964"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206643964" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206643964">(Aug 11 2020 at 23:32)</a>:</h4>
<p>What is the significance of <code>noncomputable</code> here? is it related to why <code>#eval letter_f a</code> doesn't work?</p>



<a name="206644621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206644621" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206644621">(Aug 11 2020 at 23:42)</a>:</h4>
<p>IOW, why do I need to make </p>
<div class="codehilite"><pre><span></span><code><span class="n">noncomputable</span> <span class="n">def</span> <span class="n">letter_f</span> <span class="o">:</span> <span class="n">letter</span> <span class="bp">→</span> <span class="n">nnreal</span>
<span class="bp">|</span> <span class="n">a</span> <span class="o">:=</span> <span class="mi">0</span><span class="bp">.</span><span class="mi">5</span>
<span class="bp">|</span> <span class="n">b</span> <span class="o">:=</span> <span class="mi">0</span><span class="bp">.</span><span class="mi">3</span>
<span class="bp">|</span> <span class="n">c</span> <span class="o">:=</span> <span class="mi">0</span><span class="bp">.</span><span class="mi">2</span>
</code></pre></div>


<p>noncomputable?</p>



<a name="206644688"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206644688" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206644688">(Aug 11 2020 at 23:43)</a>:</h4>
<p>because real numbers are not computable</p>



<a name="206644734"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206644734" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206644734">(Aug 11 2020 at 23:44)</a>:</h4>
<p>if you use <code>rat</code> it should be computable</p>



<a name="206644775"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206644775" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206644775">(Aug 11 2020 at 23:44)</a>:</h4>
<p>I see</p>



<a name="206644798"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206644798" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206644798">(Aug 11 2020 at 23:45)</a>:</h4>
<p>anyway I don't think this is a big issue if you are just doing measure theory</p>



<a name="206644835"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206644835" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206644835">(Aug 11 2020 at 23:45)</a>:</h4>
<p>you can still prove e.g. <code>letter_f a = 0.5</code> by <code>rfl</code></p>



<a name="206658617"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206658617" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206658617">(Aug 12 2020 at 04:18)</a>:</h4>
<p>What's it talking about?</p>
<div class="codehilite"><pre><span></span><code><span class="n">noncomputable</span> <span class="n">def</span> <span class="n">binomial_mass</span> <span class="o">(</span><span class="n">n</span><span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">p</span><span class="o">:</span> <span class="n">nnreal</span><span class="o">)</span> <span class="o">(</span><span class="n">hp</span><span class="o">:</span> <span class="n">p</span> <span class="bp">≤</span> <span class="mi">1</span><span class="o">)</span> <span class="o">(</span><span class="n">k</span><span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">nnreal</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">choose</span> <span class="n">n</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">p</span> <span class="bp">^</span> <span class="n">k</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">-</span> <span class="n">p</span><span class="o">)</span> <span class="bp">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">k</span><span class="o">)</span>

<span class="kn">lemma</span> <span class="n">add_to_one</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">nat</span><span class="o">)</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">nnreal</span><span class="o">)</span> <span class="o">(</span><span class="n">hp</span><span class="o">:</span> <span class="n">p</span> <span class="bp">≤</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:</span> <span class="err">∑&#39;</span><span class="n">k</span> <span class="o">,</span> <span class="n">binomial_mass</span> <span class="n">n</span> <span class="n">p</span> <span class="n">hp</span> <span class="n">k</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span>
<span class="n">sorry</span>
<span class="c1">-- failed to synthesize type class instance for</span>
<span class="c1">-- n : ℕ,</span>
<span class="c1">-- p : nnreal,</span>
<span class="c1">-- hp : p ≤ 1</span>
<span class="c1">-- ⊢ add_comm_monoid Prop</span>
</code></pre></div>



<a name="206658798"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206658798" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206658798">(Aug 12 2020 at 04:22)</a>:</h4>
<p>oh</p>



<a name="206658800"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206658800" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206658800">(Aug 12 2020 at 04:22)</a>:</h4>
<p>parens</p>



<a name="206663899"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206663899" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206663899">(Aug 12 2020 at 06:35)</a>:</h4>
<p>I think that's stupid</p>



<a name="206663905"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206663905" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206663905">(Aug 12 2020 at 06:35)</a>:</h4>
<p>we need to fix the precedence levels</p>



<a name="206666131"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206666131" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206666131">(Aug 12 2020 at 07:19)</a>:</h4>
<p>I'd use <code>measure.restrict</code> instead of <code>measure.with_density</code>.</p>



<a name="206666153"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/integrable_on/near/206666153" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/integrable_on.html#206666153">(Aug 12 2020 at 07:19)</a>:</h4>
<p>We already have <code>measure.restrict_apply</code>, and I'll add a shortcut <code>measure.restrict_apply</code> soon.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>