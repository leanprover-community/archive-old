---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/proving.20cantor_injective.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html">proving cantor_injective</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="281094295"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281094295" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281094295">(May 03 2022 at 23:50)</a>:</h4>
<p>So I have this proof, with two sorrys. I am currently worried about the first, in between the <code>begin ... end</code></p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">cantor_injective</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">¬</span><span class="n">function.injective</span> <span class="n">f</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">set</span> <span class="n">B</span> <span class="o">:=</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">|</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">∉</span> <span class="n">x</span><span class="o">},</span>
  <span class="n">set</span> <span class="n">B'</span> <span class="o">:=</span> <span class="o">{</span><span class="n">y</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">B</span><span class="o">},</span>
  <span class="n">by_contradiction</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">p_equiv_np_implies_false</span> <span class="o">(</span><span class="n">f</span> <span class="n">B'</span> <span class="bp">∈</span> <span class="n">B'</span><span class="o">),</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">intros</span> <span class="n">fi</span> <span class="n">fn</span><span class="o">,</span>
    <span class="k">have</span> <span class="o">:</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">),</span> <span class="n">f</span><span class="o">(</span><span class="n">x</span><span class="o">)</span> <span class="bp">=</span> <span class="n">f</span><span class="o">(</span><span class="n">B'</span><span class="o">)</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">B</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">apply</span> <span class="o">(</span><span class="n">mem_set_of.mp</span> <span class="n">fi</span><span class="o">),</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">rcases</span> <span class="n">this</span> <span class="k">with</span> <span class="o">⟨</span><span class="n">x</span><span class="o">,</span> <span class="n">fs_eq_gB'</span><span class="o">,</span> <span class="n">x_in_B</span><span class="o">⟩,</span>
      <span class="k">have</span> <span class="n">fB'_notin_B'</span> <span class="o">:</span> <span class="n">f</span> <span class="n">B'</span> <span class="bp">∉</span> <span class="n">B'</span> <span class="o">:=</span>
      <span class="kd">begin</span>
        <span class="gr">sorry</span><span class="o">,</span>
      <span class="kd">end</span><span class="o">,</span>
      <span class="n">exact</span> <span class="n">x_in_B</span> <span class="o">(</span><span class="n">false.rec</span> <span class="o">(</span><span class="n">f</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">x</span><span class="o">)</span> <span class="o">(</span><span class="n">fB'_notin_B'</span> <span class="n">fi</span><span class="o">)),</span> <span class="o">}</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">intro</span> <span class="n">fn</span><span class="o">,</span>
    <span class="n">refine</span> <span class="n">mem_set_of.mpr</span> <span class="n">_</span><span class="o">,</span>
    <span class="n">by_contradiction</span><span class="o">,</span>
    <span class="n">apply</span> <span class="o">(</span><span class="n">mem_set_of.mpr</span> <span class="n">fn</span><span class="o">),</span>
    <span class="gr">sorry</span><span class="o">,</span> <span class="o">}</span>
<span class="kd">end</span>
</code></pre></div>
<p>So before I start implementing it in lean, im still confused how the math proof will go.</p>



<a name="281096914"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281096914" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281096914">(May 04 2022 at 00:24)</a>:</h4>
<p>That's not a <a href="https://leanprover-community.github.io/mwe.html">#mwe</a> (it has no imports and <code>p_equiv_np_implies_false </code> is presumably your own code), so it will be difficult for anyone to help you</p>



<a name="281096937"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281096937" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281096937">(May 04 2022 at 00:25)</a>:</h4>
<p>This topic was moved here from <a class="stream-topic" data-stream-id="116395" href="/#narrow/stream/116395-maths/topic/Stuck.20on.20mathematical.20proof">#maths &gt; Stuck on mathematical proof</a> by <span class="user-mention silent" data-user-id="310045">Eric Wieser</span>.</p>



<a name="281097071"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281097071" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281097071">(May 04 2022 at 00:27)</a>:</h4>
<p>(I've move the thread to <a class="stream" data-stream-id="113489" href="/#narrow/stream/113489-new-members">#new members</a> since this is more a request for help with lean and proving rather than a more in-depth question about formalizing a specific piece of math)</p>



<a name="281097500"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281097500" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281097500">(May 04 2022 at 00:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113489-new-members/topic/proving.20cantor_injective/near/281096914">said</a>:</p>
<blockquote>
<p>That's not a <a href="https://leanprover-community.github.io/mwe.html">#mwe</a> (it has no imports and <code>p_equiv_np_implies_false </code> is presumably your own code), so it will be difficult for anyone to help you</p>
</blockquote>
<p>Sure. </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">init.data.set</span>
<span class="kn">import</span> <span class="n">set_theory.cardinal.basic</span>

<span class="kn">open</span> <span class="n">set</span>
<span class="kn">open</span> <span class="n">nat</span>

<span class="kd">lemma</span> <span class="n">p_equiv_np_implies_false</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">P</span><span class="o">,</span> <span class="bp">¬</span><span class="o">(</span><span class="n">P</span> <span class="bp">↔</span> <span class="bp">¬</span><span class="n">P</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intro</span> <span class="n">P</span><span class="o">,</span>
  <span class="n">by_contradiction</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">h</span> <span class="o">:=</span> <span class="n">classical.em</span> <span class="n">P</span><span class="o">,</span> <span class="n">cases</span> <span class="n">h</span><span class="o">,</span>
  <span class="o">{</span> <span class="k">have</span> <span class="n">np</span> <span class="o">:=</span> <span class="n">h.mp</span> <span class="n">h_1</span><span class="o">,</span>
    <span class="n">apply</span> <span class="o">(</span><span class="n">np</span> <span class="n">h_1</span><span class="o">),</span> <span class="o">},</span>
  <span class="o">{</span> <span class="k">have</span> <span class="n">p</span> <span class="o">:=</span> <span class="n">h.mpr</span> <span class="n">h_1</span><span class="o">,</span>
    <span class="n">apply</span> <span class="o">(</span><span class="n">h_1</span> <span class="n">p</span><span class="o">),</span> <span class="o">}</span>
<span class="kd">end</span>

<span class="kd">theorem</span> <span class="n">cantor_injective</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">¬</span><span class="n">function.injective</span> <span class="n">f</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">set</span> <span class="n">B</span> <span class="o">:=</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">|</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">∉</span> <span class="n">x</span><span class="o">},</span>
  <span class="n">set</span> <span class="n">B'</span> <span class="o">:=</span> <span class="o">{</span><span class="n">y</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">B</span><span class="o">},</span>
  <span class="n">by_contradiction</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">p_equiv_np_implies_false</span> <span class="o">(</span><span class="n">f</span> <span class="n">B'</span> <span class="bp">∈</span> <span class="n">B'</span><span class="o">),</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">intros</span> <span class="n">fi</span> <span class="n">fn</span><span class="o">,</span>
    <span class="k">have</span> <span class="o">:</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">),</span> <span class="n">f</span><span class="o">(</span><span class="n">x</span><span class="o">)</span> <span class="bp">=</span> <span class="n">f</span><span class="o">(</span><span class="n">B'</span><span class="o">)</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">B</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">apply</span> <span class="o">(</span><span class="n">mem_set_of.mp</span> <span class="n">fi</span><span class="o">),</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">rcases</span> <span class="n">this</span> <span class="k">with</span> <span class="o">⟨</span><span class="n">x</span><span class="o">,</span> <span class="n">fs_eq_gB'</span><span class="o">,</span> <span class="n">x_in_B</span><span class="o">⟩,</span>
      <span class="k">have</span> <span class="n">fB'_notin_B'</span> <span class="o">:</span> <span class="n">f</span> <span class="n">B'</span> <span class="bp">∉</span> <span class="n">B'</span> <span class="o">:=</span>
      <span class="kd">begin</span>
        <span class="gr">sorry</span><span class="o">,</span>
      <span class="kd">end</span><span class="o">,</span>
      <span class="n">exact</span> <span class="n">x_in_B</span> <span class="o">(</span><span class="n">false.rec</span> <span class="o">(</span><span class="n">f</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">x</span><span class="o">)</span> <span class="o">(</span><span class="n">fB'_notin_B'</span> <span class="n">fi</span><span class="o">)),</span> <span class="o">}</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">intro</span> <span class="n">fn</span><span class="o">,</span>
    <span class="n">refine</span> <span class="n">mem_set_of.mpr</span> <span class="n">_</span><span class="o">,</span>
    <span class="n">by_contradiction</span><span class="o">,</span>
    <span class="n">apply</span> <span class="o">(</span><span class="n">mem_set_of.mpr</span> <span class="n">fn</span><span class="o">),</span>
    <span class="gr">sorry</span><span class="o">,</span> <span class="o">}</span>
<span class="kd">end</span>
</code></pre></div>



<a name="281097713"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281097713" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281097713">(May 04 2022 at 00:36)</a>:</h4>
<p>Your proof is going nowhere - the key piece of information you have is the <code>h</code> introduced by <code>by_contradiction</code> (normally you'd write <code>by_contradiction h</code> to make that clear). You need to come up with a clever way to apply <code>h</code>. The statement is impossible to prove without <code>h</code>.</p>



<a name="281097972"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281097972" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281097972">(May 04 2022 at 00:40)</a>:</h4>
<p>I havent found a way to apply <code>h</code></p>



<a name="281098113"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281098113" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281098113">(May 04 2022 at 00:43)</a>:</h4>
<p>I suggest you try and work that out on paper where it's sometimes easier to see you're going in circles</p>



<a name="281098150"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281098150" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281098150">(May 04 2022 at 00:43)</a>:</h4>
<p>Are you trying to find a proof from scratch, or trying to formalize a "paper" one you've seen  elsewhere?</p>



<a name="281098445"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281098445" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281098445">(May 04 2022 at 00:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113489-new-members/topic/proving.20cantor_injective/near/281098150">said</a>:</p>
<blockquote>
<p>Are you trying to find a proof from scratch, or trying to formalize a "paper" one you've seen  elsewhere?</p>
</blockquote>
<p>The proof I am trying to formalize currently was given to me by someone, not from a paper</p>



<a name="281098589"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281098589" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281098589">(May 04 2022 at 00:51)</a>:</h4>
<p>This was it:</p>
<p>First notice that B' ⊆ A. Now suppose f(B') ∈ B, then there is X ⊆ A such that f(B') = f(X) with f(X) ∉ X, but f is injective by assumption and so B' = X. So together with f(X) ∉ X we get f(B') ∉ B'. Conversely if f(B') ∉ B' then combined with B' ⊆ A and f(B') = f(B') we have that ∃X [f(B') = f(X) ∧ f(X) ∉ X ∧ X ⊆ A], namely X = B'. But that means that f(B') ∈ B.</p>



<a name="281098714"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281098714" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281098714">(May 04 2022 at 00:52)</a>:</h4>
<p>Ah so when you wanted to prove <code>∃ X, f B' = f X</code>, what you were really after was <code>∃ X, f B' = f X ∧ f X ∉ X</code>!</p>



<a name="281098740"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281098740" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281098740">(May 04 2022 at 00:53)</a>:</h4>
<p>yes!</p>



<a name="281098947"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281098947" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281098947">(May 04 2022 at 00:57)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">cantor_injective</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">¬</span><span class="n">function.injective</span> <span class="n">f</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">set</span> <span class="n">B</span> <span class="o">:=</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">|</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">∉</span> <span class="n">x</span><span class="o">},</span>
  <span class="n">set</span> <span class="n">B'</span> <span class="o">:=</span> <span class="o">{</span><span class="n">y</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">B</span><span class="o">},</span>
  <span class="n">by_contradiction</span> <span class="n">h</span><span class="o">,</span>
  <span class="k">have</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span> <span class="n">f</span><span class="o">(</span><span class="n">x</span><span class="o">)</span> <span class="bp">=</span> <span class="n">f</span><span class="o">(</span><span class="n">B'</span><span class="o">)</span> <span class="bp">∧</span> <span class="n">f</span><span class="o">(</span><span class="n">x</span><span class="o">)</span> <span class="bp">∉</span> <span class="n">x</span><span class="o">,</span>
  <span class="o">{</span> <span class="gr">sorry</span><span class="o">,</span> <span class="o">},</span>
  <span class="o">{</span> <span class="gr">sorry</span><span class="o">,</span> <span class="o">}</span>
<span class="kd">end</span>
</code></pre></div>
<p>i still feel like ive seen this before... am i going around in circles?</p>



<a name="281098954"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281098954" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281098954">(May 04 2022 at 00:57)</a>:</h4>
<p>Note that "now suppose P (and then later not P)" is captured best with <code>by_cases hp : P</code></p>



<a name="281099052"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281099052" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281099052">(May 04 2022 at 00:59)</a>:</h4>
<p>In particular, your "paper" proof says you need to do that <em>before</em> you can construct that existential</p>



<a name="281099245"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281099245" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281099245">(May 04 2022 at 01:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113489-new-members/topic/proving.20cantor_injective/near/281098954">said</a>:</p>
<blockquote>
<p>Note that "now suppose P (and then later not P)" is captured best with <code>by_cases hp : P</code></p>
</blockquote>
<p>That would probably be <code>by_cases hp : f(B') ∈ B',</code></p>



<a name="281099770"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281099770" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281099770">(May 04 2022 at 01:10)</a>:</h4>
<p>Lets see how far in I can get</p>



<a name="281099945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281099945" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281099945">(May 04 2022 at 01:14)</a>:</h4>
<p>Wait this made three goals</p>



<a name="281099952"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281099952" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281099952">(May 04 2022 at 01:14)</a>:</h4>
<p>so i closed off the first</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">cantor_injective</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">¬</span><span class="n">function.injective</span> <span class="n">f</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">set</span> <span class="n">B</span> <span class="o">:=</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">|</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">∉</span> <span class="n">x</span><span class="o">},</span>
  <span class="n">set</span> <span class="n">B'</span> <span class="o">:=</span> <span class="o">{</span><span class="n">y</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">B</span><span class="o">},</span>
  <span class="n">by_contradiction</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">by_cases</span> <span class="n">hp</span> <span class="o">:</span> <span class="n">f</span><span class="o">(</span><span class="n">B'</span><span class="o">)</span> <span class="bp">∈</span> <span class="n">B'</span><span class="o">,</span>
  <span class="k">have</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span> <span class="n">f</span><span class="o">(</span><span class="n">x</span><span class="o">)</span> <span class="bp">=</span> <span class="n">f</span><span class="o">(</span><span class="n">B'</span><span class="o">)</span> <span class="bp">∧</span> <span class="n">f</span><span class="o">(</span><span class="n">x</span><span class="o">)</span> <span class="bp">∉</span> <span class="n">x</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">apply</span> <span class="o">(</span><span class="n">mem_set_of.mp</span> <span class="n">hp</span><span class="o">),</span> <span class="o">},</span>
  <span class="o">{</span> <span class="gr">sorry</span><span class="o">,</span> <span class="o">},</span>
  <span class="o">{</span> <span class="gr">sorry</span><span class="o">,</span> <span class="o">}</span>
<span class="kd">end</span>
</code></pre></div>



<a name="281100174"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281100174" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281100174">(May 04 2022 at 01:19)</a>:</h4>
<p><code>by_cases</code> turns a goal into two. Then, when trying to prove the first, you used <code>have</code> without providing a proof term, which creates another goal</p>



<a name="281100562"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281100562" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281100562">(May 04 2022 at 01:26)</a>:</h4>
<p>Makes sense</p>



<a name="281101688"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281101688" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281101688">(May 04 2022 at 01:49)</a>:</h4>
<p>So the next part of the proof says</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">but</span> <span class="n">f</span> <span class="n">is</span> <span class="n">injective</span> <span class="kd">by</span> <span class="n">assumption</span> <span class="n">and</span> <span class="n">so</span> <span class="n">B'</span> <span class="bp">=</span> <span class="n">X.</span>
</code></pre></div>
<p>this is most likely the part where we apply <code>h</code>, but I'm not exactly sure where and how to do that with the proof in it's current state</p>



<a name="281142649"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281142649" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281142649">(May 04 2022 at 11:40)</a>:</h4>
<p>Any thoughts?</p>



<a name="281142868"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281142868" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281142868">(May 04 2022 at 11:42)</a>:</h4>
<p>I haven't tested your code, but if <code>but f is injective by assumption and so B' = X.</code> should work at this point, it sounds like the <code>contradiction</code> tactic to me</p>



<a name="281142915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281142915" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281142915">(May 04 2022 at 11:43)</a>:</h4>
<p>That is, you have two contradictory hypotheses in your context</p>



<a name="281142920"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281142920" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281142920">(May 04 2022 at 11:43)</a>:</h4>
<p><code>have := h the_proof_that_f_B'_eq_f_X</code> is the next step forward</p>



<a name="281142953"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281142953" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281142953">(May 04 2022 at 11:43)</a>:</h4>
<p>I don't think it's that immediate, Arthur. We still need to use injectivity.</p>



<a name="281144113"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281144113" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281144113">(May 04 2022 at 11:55)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">cases</span> <span class="n">this</span> <span class="k">with</span> <span class="n">s</span> <span class="n">hs</span><span class="o">,</span> <span class="c1">-- extracts an `s` and `hs : P s` from "exists s such that `P s`"</span>
<span class="n">rw</span> <span class="bp">←</span> <span class="o">(</span><span class="n">h</span> <span class="n">hs.1</span><span class="o">)</span> <span class="n">at</span> <span class="n">hp</span><span class="o">,</span>  <span class="c1">-- uses injectivity</span>
<span class="k">have</span> <span class="n">hp'</span> <span class="o">:=</span> <span class="n">hs.2</span><span class="o">,</span>     <span class="c1">-- `hp': f s ∉ s`, which contradicts `hp: f s ∈ s`</span>
<span class="n">contradiction</span><span class="o">,</span>
</code></pre></div>



<a name="281146291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281146291" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281146291">(May 04 2022 at 12:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/113489-new-members/topic/proving.20cantor_injective/near/281142920">said</a>:</p>
<blockquote>
<p><code>have := h the_proof_that_f_B'_eq_f_X</code> is the next step forward</p>
</blockquote>
<p>So I have to extract that proof</p>



<a name="281146471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281146471" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281146471">(May 04 2022 at 12:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="451983">Arthur Paulino</span> <a href="#narrow/stream/113489-new-members/topic/proving.20cantor_injective/near/281144113">said</a>:</p>
<blockquote>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">cases</span> <span class="n">this</span> <span class="k">with</span> <span class="n">s</span> <span class="n">hs</span><span class="o">,</span> <span class="c1">-- extracts an `s` and `hs : P s` from "exists s such that `P s`"</span>
<span class="n">rw</span> <span class="bp">←</span> <span class="o">(</span><span class="n">h</span> <span class="n">hs.1</span><span class="o">)</span> <span class="n">at</span> <span class="n">hp</span><span class="o">,</span>  <span class="c1">-- uses injectivity</span>
<span class="k">have</span> <span class="n">hp'</span> <span class="o">:=</span> <span class="n">hs.2</span><span class="o">,</span>     <span class="c1">-- `hp': f s ∉ s`, which contradicts `hp: f s ∈ s`</span>
<span class="n">contradiction</span><span class="o">,</span>
</code></pre></div><br>
</p>
</blockquote>
<p>I never knew you could do <code>hs.1</code>, that's cool</p>



<a name="281146600"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281146600" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281146600">(May 04 2022 at 12:21)</a>:</h4>
<p>Wow thanks for helping out, and I never knew the <code>contradiction</code> tactic existed.</p>



<a name="281146929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281146929" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281146929">(May 04 2022 at 12:24)</a>:</h4>
<p>Now the goal of the last sorry is </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">α</span><span class="o">:</span> <span class="kt">Type</span>
<span class="n">f</span><span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span>
<span class="n">B</span><span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">|</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">∉</span> <span class="n">x</span><span class="o">}</span>
<span class="n">B'</span><span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="o">:=</span> <span class="o">{</span><span class="n">y</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">),</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">B</span><span class="o">}</span>
<span class="n">h</span><span class="o">:</span> <span class="n">function.injective</span> <span class="n">f</span>
<span class="n">hp</span><span class="o">:</span> <span class="n">f</span> <span class="n">B'</span> <span class="bp">∉</span> <span class="n">B'</span>
<span class="bp">⊢</span> <span class="n">false</span>
</code></pre></div>
<p>I would like to try to figure this one out myself, though I am a bit confused which  part of the written proof this corresponds to.</p>



<a name="281147044"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281147044" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281147044">(May 04 2022 at 12:25)</a>:</h4>
<p>"Conversely if f(B') ∉ B'..."</p>



<a name="281147194"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281147194" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281147194">(May 04 2022 at 12:27)</a>:</h4>
<p>You're now on the complementary side of the <code>by_cases</code> tactic</p>



<a name="281150927"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281150927" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281150927">(May 04 2022 at 12:59)</a>:</h4>
<p>Right</p>



<a name="281167352"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281167352" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281167352">(May 04 2022 at 14:55)</a>:</h4>
<p>Then next line says <code>we have that ∃X [f(B') = f(X) ∧ f(X) ∉ X ∧ X ⊆ A],</code>, which is essentially <code>have : ∃ X, f(X) = f(B') ∧ f(X) ∉ X,</code> all over again</p>



<a name="281170015"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281170015" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281170015">(May 04 2022 at 15:12)</a>:</h4>
<p>This is what I was able to get so far on the last part. Does it look good so far?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">cantor_injective</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">¬</span><span class="n">function.injective</span> <span class="n">f</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">set</span> <span class="n">B</span> <span class="o">:=</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">|</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">∉</span> <span class="n">x</span><span class="o">},</span>
  <span class="n">set</span> <span class="n">B'</span> <span class="o">:=</span> <span class="o">{</span><span class="n">y</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">B</span><span class="o">},</span>
  <span class="n">by_contradiction</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">by_cases</span> <span class="n">hp</span> <span class="o">:</span> <span class="n">f</span><span class="o">(</span><span class="n">B'</span><span class="o">)</span> <span class="bp">∈</span> <span class="n">B'</span><span class="o">,</span>
  <span class="k">have</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">X</span><span class="o">,</span> <span class="n">f</span><span class="o">(</span><span class="n">X</span><span class="o">)</span> <span class="bp">=</span> <span class="n">f</span><span class="o">(</span><span class="n">B'</span><span class="o">)</span> <span class="bp">∧</span> <span class="n">f</span><span class="o">(</span><span class="n">X</span><span class="o">)</span> <span class="bp">∉</span> <span class="n">X</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">apply</span> <span class="o">(</span><span class="n">mem_set_of.mp</span> <span class="n">hp</span><span class="o">),</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">cases</span> <span class="n">this</span> <span class="k">with</span> <span class="n">s</span> <span class="n">hs</span><span class="o">,</span>
    <span class="n">rw</span> <span class="bp">←</span> <span class="o">(</span><span class="n">h</span> <span class="n">hs.1</span><span class="o">)</span> <span class="n">at</span> <span class="n">hp</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">hp'</span> <span class="o">:=</span> <span class="n">hs.2</span><span class="o">,</span>
    <span class="n">contradiction</span><span class="o">,</span> <span class="o">},</span>
  <span class="o">{</span> <span class="k">have</span> <span class="n">hB'</span> <span class="o">:</span> <span class="n">f</span><span class="o">(</span><span class="n">B'</span><span class="o">)</span> <span class="bp">=</span> <span class="n">f</span><span class="o">(</span><span class="n">B'</span><span class="o">),</span>
    <span class="n">refl</span><span class="o">,</span>
    <span class="k">have</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">X</span><span class="o">,</span> <span class="n">X</span> <span class="bp">=</span> <span class="n">B'</span><span class="o">,</span>
    <span class="gr">sorry</span><span class="o">,</span>
    <span class="gr">sorry</span><span class="o">,</span> <span class="o">}</span>
<span class="kd">end</span>
</code></pre></div>



<a name="281170778"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281170778" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281170778">(May 04 2022 at 15:18)</a>:</h4>
<p>What do you want to do with <code>hB'</code>? It doesn't seem to bring in much value</p>



<a name="281171022"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281171022" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281171022">(May 04 2022 at 15:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="451983">Arthur Paulino</span> <a href="#narrow/stream/113489-new-members/topic/proving.20cantor_injective/near/281170778">said</a>:</p>
<blockquote>
<p>What do you want to do with <code>hB'</code>? It doesn't seem to bring in much value</p>
</blockquote>
<p>I don't know either. I am just trying to follow the proof. </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c1">-- Conversely if f(B') ∉ B' then combined with B' ⊆ A and f(B') = f(B'),</span>
<span class="c1">-- we have that ∃X [f(B') = f(X) ∧ f(X) ∉ X ∧ X ⊆ A],</span>
<span class="c1">-- namely X = B'. But that means that f(B') ∈ B.</span>
</code></pre></div>



<a name="281171577"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281171577" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281171577">(May 04 2022 at 15:24)</a>:</h4>
<p>I also dont want to do <code>have : ∃ X, f(X) = f(B') ∧ f(X) ∉ X,</code> again</p>



<a name="281171698"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281171698" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281171698">(May 04 2022 at 15:25)</a>:</h4>
<p>Then place it before <code>by_cases</code> (and bring its proof along)</p>



<a name="281171715"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281171715" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281171715">(May 04 2022 at 15:25)</a>:</h4>
<p>Oh ok</p>



<a name="281171919"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281171919" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281171919">(May 04 2022 at 15:27)</a>:</h4>
<p>But then things get really moved around</p>



<a name="281171996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281171996" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281171996">(May 04 2022 at 15:27)</a>:</h4>
<p>Like for this goal:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">α</span><span class="o">:</span> <span class="kt">Type</span>
<span class="n">f</span><span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span>
<span class="n">B</span><span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">|</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">∉</span> <span class="n">x</span><span class="o">}</span>
<span class="n">B'</span><span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="o">:=</span> <span class="o">{</span><span class="n">y</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">),</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">B</span><span class="o">}</span>
<span class="n">h</span><span class="o">:</span> <span class="n">function.injective</span> <span class="n">f</span>
<span class="n">this</span><span class="o">:</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">),</span> <span class="n">f</span> <span class="n">X</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">B'</span> <span class="bp">∧</span> <span class="n">f</span> <span class="n">X</span> <span class="bp">∉</span> <span class="n">X</span>
<span class="bp">⊢</span> <span class="n">false</span>
</code></pre></div>
<p>this proof doesnt work anymore because the is no <code>hp</code> anymore</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">cases</span> <span class="n">this</span> <span class="k">with</span> <span class="n">s</span> <span class="n">hs</span><span class="o">,</span>
    <span class="n">rw</span> <span class="bp">←</span> <span class="o">(</span><span class="n">h</span> <span class="n">hs.1</span><span class="o">)</span> <span class="n">at</span> <span class="n">hp</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">hp'</span> <span class="o">:=</span> <span class="n">hs.2</span><span class="o">,</span>
    <span class="n">contradiction</span><span class="o">,</span>
</code></pre></div>



<a name="281172694"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281172694" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281172694">(May 04 2022 at 15:32)</a>:</h4>
<p>Wait, if you need <code>f(B') ∈ B'</code> to be true in order to prove that <code>∃ X, f(X) = f(B') ∧ f(X) ∉ X</code> then how would you prove it in the other <code>by_cases</code> section, supposing you were willing to do it "all over again"?</p>



<a name="281173498"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281173498" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281173498">(May 04 2022 at 15:39)</a>:</h4>
<p><span class="user-mention" data-user-id="451983">@Arthur Paulino</span> well we have these three goals:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="mi">3</span> <span class="n">goals</span>
<span class="n">α</span><span class="o">:</span> <span class="kt">Type</span>
<span class="n">f</span><span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span>
<span class="n">B</span><span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">|</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">∉</span> <span class="n">x</span><span class="o">}</span>
<span class="n">B'</span><span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="o">:=</span> <span class="o">{</span><span class="n">y</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">),</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">B</span><span class="o">}</span>
<span class="n">h</span><span class="o">:</span> <span class="n">function.injective</span> <span class="n">f</span>
<span class="n">hp</span><span class="o">:</span> <span class="n">f</span> <span class="n">B'</span> <span class="bp">∈</span> <span class="n">B'</span>
<span class="bp">⊢</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">),</span> <span class="n">f</span> <span class="n">X</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">B'</span> <span class="bp">∧</span> <span class="n">f</span> <span class="n">X</span> <span class="bp">∉</span> <span class="n">X</span>
<span class="n">α</span><span class="o">:</span> <span class="kt">Type</span>
<span class="n">f</span><span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span>
<span class="n">B</span><span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">|</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">∉</span> <span class="n">x</span><span class="o">}</span>
<span class="n">B'</span><span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="o">:=</span> <span class="o">{</span><span class="n">y</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">),</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">B</span><span class="o">}</span>
<span class="n">h</span><span class="o">:</span> <span class="n">function.injective</span> <span class="n">f</span>
<span class="n">hp</span><span class="o">:</span> <span class="n">f</span> <span class="n">B'</span> <span class="bp">∉</span> <span class="n">B'</span>
<span class="bp">⊢</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">),</span> <span class="n">f</span> <span class="n">X</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">B'</span> <span class="bp">∧</span> <span class="n">f</span> <span class="n">X</span> <span class="bp">∉</span> <span class="n">X</span>
<span class="n">α</span><span class="o">:</span> <span class="kt">Type</span>
<span class="n">f</span><span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span>
<span class="n">B</span><span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">|</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">∉</span> <span class="n">x</span><span class="o">}</span>
<span class="n">B'</span><span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="o">:=</span> <span class="o">{</span><span class="n">y</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">),</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">B</span><span class="o">}</span>
<span class="n">h</span><span class="o">:</span> <span class="n">function.injective</span> <span class="n">f</span>
<span class="n">this</span><span class="o">:</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">),</span> <span class="n">f</span> <span class="n">X</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">B'</span> <span class="bp">∧</span> <span class="n">f</span> <span class="n">X</span> <span class="bp">∉</span> <span class="n">X</span>
<span class="bp">⊢</span> <span class="n">false</span>
</code></pre></div>



<a name="281173955"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281173955" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281173955">(May 04 2022 at 15:42)</a>:</h4>
<p>Hm, can you come up with a proof of your own? I feel like syntactically following that proof (rather than semantically) is getting you more lost</p>



<a name="281174060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281174060" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281174060">(May 04 2022 at 15:42)</a>:</h4>
<p>I don't have a proof of my own.</p>



<a name="281174226"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281174226" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281174226">(May 04 2022 at 15:44)</a>:</h4>
<p>Can you write the one you have with your own words? As if you were explaining it to someone</p>



<a name="281174351"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281174351" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281174351">(May 04 2022 at 15:44)</a>:</h4>
<p>Ok so going back to </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">cantor_injective</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">¬</span><span class="n">function.injective</span> <span class="n">f</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">set</span> <span class="n">B</span> <span class="o">:=</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">|</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">∉</span> <span class="n">x</span><span class="o">},</span>
  <span class="n">set</span> <span class="n">B'</span> <span class="o">:=</span> <span class="o">{</span><span class="n">y</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">B</span><span class="o">},</span>
  <span class="n">by_contradiction</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">by_cases</span> <span class="n">hp</span> <span class="o">:</span> <span class="n">f</span><span class="o">(</span><span class="n">B'</span><span class="o">)</span> <span class="bp">∈</span> <span class="n">B'</span><span class="o">,</span>
  <span class="k">have</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">X</span><span class="o">,</span> <span class="n">f</span><span class="o">(</span><span class="n">X</span><span class="o">)</span> <span class="bp">=</span> <span class="n">f</span><span class="o">(</span><span class="n">B'</span><span class="o">)</span> <span class="bp">∧</span> <span class="n">f</span><span class="o">(</span><span class="n">X</span><span class="o">)</span> <span class="bp">∉</span> <span class="n">X</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">apply</span> <span class="o">(</span><span class="n">mem_set_of.mp</span> <span class="n">hp</span><span class="o">),</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">cases</span> <span class="n">this</span> <span class="k">with</span> <span class="n">s</span> <span class="n">hs</span><span class="o">,</span>
    <span class="n">rw</span> <span class="bp">←</span> <span class="o">(</span><span class="n">h</span> <span class="n">hs.1</span><span class="o">)</span> <span class="n">at</span> <span class="n">hp</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">hp'</span> <span class="o">:=</span> <span class="n">hs.2</span><span class="o">,</span>
    <span class="n">contradiction</span><span class="o">,</span> <span class="o">},</span>
  <span class="o">{</span> <span class="k">have</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">X</span><span class="o">,</span> <span class="n">X</span> <span class="bp">=</span> <span class="n">B'</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">exact</span> <span class="n">exists_eq</span><span class="o">,</span> <span class="o">},</span>
    <span class="o">{</span> <span class="gr">sorry</span><span class="o">,</span> <span class="o">}</span> <span class="o">}</span>
<span class="kd">end</span>
</code></pre></div>
<p>the last <code>sorry</code> has a goal of </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">α</span><span class="o">:</span> <span class="kt">Type</span>
<span class="n">f</span><span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span>
<span class="n">B</span><span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">|</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">∉</span> <span class="n">x</span><span class="o">}</span>
<span class="n">B'</span><span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="o">:=</span> <span class="o">{</span><span class="n">y</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">),</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">B</span><span class="o">}</span>
<span class="n">h</span><span class="o">:</span> <span class="n">function.injective</span> <span class="n">f</span>
<span class="n">hp</span><span class="o">:</span> <span class="n">f</span> <span class="n">B'</span> <span class="bp">∉</span> <span class="n">B'</span>
<span class="n">this</span><span class="o">:</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">),</span> <span class="n">X</span> <span class="bp">=</span> <span class="n">B'</span>
<span class="bp">⊢</span> <span class="n">false</span>
</code></pre></div>
<p>and this corresponds with </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">namely</span> <span class="n">X</span> <span class="bp">=</span> <span class="n">B'.</span> <span class="n">But</span> <span class="n">that</span> <span class="n">means</span> <span class="n">that</span> <span class="n">f</span><span class="o">(</span><span class="n">B'</span><span class="o">)</span> <span class="bp">∈</span> <span class="n">B.</span>
</code></pre></div>
<p>Do you know how to get <code>f(B') ∈ B</code> out of the current goal</p>



<a name="281174877"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281174877" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281174877">(May 04 2022 at 15:48)</a>:</h4>
<p><code>exact hp</code></p>



<a name="281174970"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281174970" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281174970">(May 04 2022 at 15:49)</a>:</h4>
<p>That doesnt work.</p>



<a name="281174981"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281174981" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281174981">(May 04 2022 at 15:49)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">invalid</span> <span class="n">type</span> <span class="n">ascription</span><span class="o">,</span> <span class="n">term</span> <span class="n">has</span> <span class="n">type</span>
  <span class="n">f</span> <span class="n">B'</span> <span class="bp">∉</span> <span class="n">B'</span>
<span class="n">but</span> <span class="n">is</span> <span class="n">expected</span> <span class="n">to</span> <span class="k">have</span> <span class="n">type</span>
  <span class="n">false</span>
</code></pre></div>



<a name="281176474"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281176474" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281176474">(May 04 2022 at 15:59)</a>:</h4>
<p>Your proof starts off as "First notice that B' ⊆ A". What is <code>A</code>?</p>



<a name="281177291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281177291" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281177291">(May 04 2022 at 16:04)</a>:</h4>
<p>I think it's <code>set.univ : set α</code></p>



<a name="281177359"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281177359" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281177359">(May 04 2022 at 16:04)</a>:</h4>
<p><span class="user-mention" data-user-id="467926">@Joseph O</span>, note that when you use <code>by_cases</code> it splits into two goals - you should have two pairs of <code>{}</code> at that point to keep things clear</p>



<a name="281177957"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281177957" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281177957">(May 04 2022 at 16:09)</a>:</h4>
<p><span aria-label="point up" class="emoji emoji-1f446" role="img" title="point up">:point_up:</span> </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">set_theory.cardinal.basic</span>

<span class="kn">open</span> <span class="n">set</span>

<span class="kd">theorem</span> <span class="n">cantor_injective</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">¬</span><span class="n">function.injective</span> <span class="n">f</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">set</span> <span class="n">B</span> <span class="o">:=</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">|</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">∉</span> <span class="n">x</span><span class="o">},</span>
  <span class="n">set</span> <span class="n">B'</span> <span class="o">:=</span> <span class="o">{</span><span class="n">y</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">B</span><span class="o">},</span>
  <span class="n">by_contradiction</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">by_cases</span> <span class="n">hp</span> <span class="o">:</span> <span class="n">f</span><span class="o">(</span><span class="n">B'</span><span class="o">)</span> <span class="bp">∈</span> <span class="n">B'</span><span class="o">,</span>
  <span class="o">{</span> <span class="k">have</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">X</span><span class="o">,</span> <span class="n">f</span><span class="o">(</span><span class="n">X</span><span class="o">)</span> <span class="bp">=</span> <span class="n">f</span><span class="o">(</span><span class="n">B'</span><span class="o">)</span> <span class="bp">∧</span> <span class="n">f</span><span class="o">(</span><span class="n">X</span><span class="o">)</span> <span class="bp">∉</span> <span class="n">X</span> <span class="o">:=</span> <span class="n">mem_set_of.mp</span> <span class="n">hp</span><span class="o">,</span>
    <span class="n">cases</span> <span class="n">this</span> <span class="k">with</span> <span class="n">s</span> <span class="n">hs</span><span class="o">,</span>
    <span class="n">rw</span> <span class="bp">←</span> <span class="o">(</span><span class="n">h</span> <span class="n">hs.1</span><span class="o">)</span> <span class="n">at</span> <span class="n">hp</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">hp'</span> <span class="o">:=</span> <span class="n">hs.2</span><span class="o">,</span>
    <span class="n">contradiction</span><span class="o">,</span> <span class="o">},</span>
  <span class="o">{</span> <span class="k">have</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">X</span><span class="o">,</span> <span class="n">X</span> <span class="bp">=</span> <span class="n">B'</span> <span class="o">:=</span> <span class="n">exists_eq</span><span class="o">,</span>
    <span class="gr">sorry</span><span class="o">,</span> <span class="o">}</span>
<span class="kd">end</span>
</code></pre></div>



<a name="281193890"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281193890" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281193890">(May 04 2022 at 17:52)</a>:</h4>
<p>Oh right I see, that was my mistake</p>



<a name="281193894"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281193894" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281193894">(May 04 2022 at 17:52)</a>:</h4>
<p>Thanks</p>



<a name="281196333"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281196333" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281196333">(May 04 2022 at 18:08)</a>:</h4>
<p>Im still confused on how to translate <code>But that means that f(B') ∈ B.</code> into lean</p>



<a name="281196353"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281196353" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281196353">(May 04 2022 at 18:08)</a>:</h4>
<p>From </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="o">{</span> <span class="k">have</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">X</span><span class="o">,</span> <span class="n">X</span> <span class="bp">=</span> <span class="n">B'</span> <span class="o">:=</span> <span class="n">exists_eq</span><span class="o">,</span>
    <span class="gr">sorry</span><span class="o">,</span> <span class="o">}</span>
</code></pre></div>



<a name="281196688"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281196688" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281196688">(May 04 2022 at 18:10)</a>:</h4>
<p>Do you understand why that is so in a math level? Note: I'm not claiming that it's true nor that I understand. I'm just saying that this will be a super hard task if you don't see it as true and understand precisely why it is</p>



<a name="281197091"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281197091" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281197091">(May 04 2022 at 18:13)</a>:</h4>
<p>Well we have this hypothesis: <code>hp: f B' ∉ B'</code>, which seems contradictory</p>



<a name="281197158"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281197158" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281197158">(May 04 2022 at 18:13)</a>:</h4>
<p>Why is it so?</p>



<a name="281197414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281197414" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281197414">(May 04 2022 at 18:15)</a>:</h4>
<p>Because we are saying that <code>f B' ∈ B'</code></p>



<a name="281197434"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281197434" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281197434">(May 04 2022 at 18:15)</a>:</h4>
<p>or we are trying to prove that</p>



<a name="281197566"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281197566" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281197566">(May 04 2022 at 18:16)</a>:</h4>
<p>Well, what im confused is how they got <code>f B' ∈ B'</code> from <code>X = B'</code></p>



<a name="281197866"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281197866" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281197866">(May 04 2022 at 18:18)</a>:</h4>
<p>Did it say anywhere that <code>f X ∈ X</code></p>



<a name="281198097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281198097" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281198097">(May 04 2022 at 18:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="467926">Joseph O</span> <a href="#narrow/stream/113489-new-members/topic/proving.20cantor_injective/near/281197414">said</a>:</p>
<blockquote>
<p>Because we are saying that <code>f B' ∈ B'</code></p>
</blockquote>
<p>Are you talking about <code>hp</code>? Because <code>by_cases hp : ⋯</code> is not like saying that <code>hp</code> is true. It's a way to prove what you want in both scenarios (when it's true and when it's false)</p>



<a name="281198353"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281198353" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281198353">(May 04 2022 at 18:22)</a>:</h4>
<p>Well does this look correct so far?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">cantor_injective</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">¬</span><span class="n">function.injective</span> <span class="n">f</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">set</span> <span class="n">B</span> <span class="o">:=</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">|</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">∉</span> <span class="n">x</span><span class="o">},</span>
  <span class="n">set</span> <span class="n">B'</span> <span class="o">:=</span> <span class="o">{</span><span class="n">y</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">B</span><span class="o">},</span>
  <span class="n">by_contradiction</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">by_cases</span> <span class="n">hp</span> <span class="o">:</span> <span class="n">f</span><span class="o">(</span><span class="n">B'</span><span class="o">)</span> <span class="bp">∈</span> <span class="n">B'</span><span class="o">,</span>
  <span class="o">{</span> <span class="k">have</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">X</span><span class="o">,</span> <span class="n">f</span><span class="o">(</span><span class="n">X</span><span class="o">)</span> <span class="bp">=</span> <span class="n">f</span><span class="o">(</span><span class="n">B'</span><span class="o">)</span> <span class="bp">∧</span> <span class="n">f</span><span class="o">(</span><span class="n">X</span><span class="o">)</span> <span class="bp">∉</span> <span class="n">X</span> <span class="o">:=</span> <span class="n">mem_set_of.mp</span> <span class="n">hp</span><span class="o">,</span>
    <span class="n">cases</span> <span class="n">this</span> <span class="k">with</span> <span class="n">s</span> <span class="n">hs</span><span class="o">,</span>
    <span class="n">rw</span> <span class="bp">←</span> <span class="o">(</span><span class="n">h</span> <span class="n">hs.1</span><span class="o">)</span> <span class="n">at</span> <span class="n">hp</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">hp'</span> <span class="o">:=</span> <span class="n">hs.2</span><span class="o">,</span>
    <span class="n">contradiction</span><span class="o">,</span> <span class="o">},</span>
  <span class="o">{</span> <span class="k">have</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">X</span><span class="o">,</span> <span class="n">X</span> <span class="bp">=</span> <span class="n">B'</span> <span class="o">:=</span> <span class="n">exists_eq</span><span class="o">,</span>
    <span class="n">cases</span> <span class="n">this</span> <span class="k">with</span> <span class="n">X</span> <span class="n">hXB'</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">hI</span> <span class="o">:</span> <span class="n">f</span><span class="o">(</span><span class="n">X</span><span class="o">)</span> <span class="bp">∈</span> <span class="n">X</span><span class="o">,</span>
    <span class="o">{</span> <span class="gr">sorry</span><span class="o">,</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">rw</span> <span class="n">hXB'</span> <span class="n">at</span> <span class="n">hI</span><span class="o">,</span>
      <span class="n">contradiction</span><span class="o">,</span> <span class="o">}</span> <span class="o">}</span>
<span class="kd">end</span>
</code></pre></div>
<p>the goal of the last sorry is </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">α</span><span class="o">:</span> <span class="kt">Type</span>
<span class="n">f</span><span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span>
<span class="n">B</span><span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">|</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">∉</span> <span class="n">x</span><span class="o">}</span>
<span class="n">B'</span><span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="o">:=</span> <span class="o">{</span><span class="n">y</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">),</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">B</span><span class="o">}</span>
<span class="n">h</span><span class="o">:</span> <span class="n">function.injective</span> <span class="n">f</span>
<span class="n">hp</span><span class="o">:</span> <span class="n">f</span> <span class="n">B'</span> <span class="bp">∉</span> <span class="n">B'</span>
<span class="n">X</span><span class="o">:</span> <span class="n">set</span> <span class="n">α</span>
<span class="n">hXB'</span><span class="o">:</span> <span class="n">X</span> <span class="bp">=</span> <span class="n">B'</span>
<span class="bp">⊢</span> <span class="n">f</span> <span class="n">X</span> <span class="bp">∈</span> <span class="n">X</span>
</code></pre></div>
<p>which I have no idea how to prove</p>



<a name="281198698"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281198698" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281198698">(May 04 2022 at 18:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="467926">Joseph O</span> <a href="#narrow/stream/113489-new-members/topic/proving.20cantor_injective/near/281197566">said</a>:</p>
<blockquote>
<p>Well, what im confused is how they got <code>f B' ∈ B'</code> from <code>X = B'</code></p>
</blockquote>
<p>If that part of the proof is too mysterious for you, then ask for more detailed steps. Think of it as a convincing game. You're trying to prove something you're not convinced of. And this path is a painful one</p>



<a name="281199080"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281199080" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281199080">(May 04 2022 at 18:27)</a>:</h4>
<p>Once you're convinced, then you'll have a better chance at convincing a machine</p>



<a name="281199131"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281199131" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281199131">(May 04 2022 at 18:28)</a>:</h4>
<p>Sure Im asking them about it</p>



<a name="281200646"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281200646" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281200646">(May 04 2022 at 18:38)</a>:</h4>
<p>I feel like introducing X here only confuses things - do you agree the proof is finished if you can prove <code>f B' ∈ B'</code>?</p>



<a name="281201792"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281201792" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281201792">(May 04 2022 at 18:46)</a>:</h4>
<p><span class="user-mention silent" data-user-id="307953">Ruben Van de Velde</span> <a href="#narrow/stream/113489-new-members/topic/proving.20cantor_injective/near/281200646">said</a>:</p>
<blockquote>
<p>I feel like introducing X here only confuses things - do you agree the proof is finished if you can prove <code>f B' ∈ B'</code>?</p>
</blockquote>
<p>Yes</p>



<a name="281201871"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281201871" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281201871">(May 04 2022 at 18:46)</a>:</h4>
<p>Now the question is how do we prove that.</p>



<a name="281202266"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281202266" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281202266">(May 04 2022 at 18:49)</a>:</h4>
<p>If you need to prove that something is an element of a set defined by <code>{ a | something about a }</code>, the lemma <code>set.mem_set_of_eq</code> is a good first step</p>



<a name="281202740"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281202740" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281202740">(May 04 2022 at 18:52)</a>:</h4>
<p><code>B'</code> is defined as <code>set B' := {y : α | ∃ x : set α, f x = y ∧ x ∈ B},</code> so would it work?</p>



<a name="281202799"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281202799" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281202799">(May 04 2022 at 18:53)</a>:</h4>
<p>Because with </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="k">have</span> <span class="o">:</span> <span class="n">f</span><span class="o">(</span><span class="n">B'</span><span class="o">)</span> <span class="bp">∈</span> <span class="n">B'</span> <span class="o">:=</span>
    <span class="kd">begin</span>
      <span class="n">mem_set_of_eq</span><span class="o">,</span>
    <span class="kd">end</span><span class="o">,</span>
</code></pre></div>
<p>i get sortof an ugly error</p>



<a name="281202841"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281202841" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281202841">(May 04 2022 at 18:53)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">type</span> <span class="n">mismatch</span> <span class="n">at</span> <span class="n">application</span>
  <span class="n">tactic.istep</span> <span class="mi">54</span> <span class="mi">6</span> <span class="mi">54</span> <span class="mi">6</span> <span class="mi">182</span> <span class="n">mem_set_of_eq</span>
<span class="n">term</span>
  <span class="n">mem_set_of_eq</span>
<span class="n">has</span> <span class="n">type</span>
  <span class="bp">?</span><span class="n">m_2</span> <span class="bp">∈</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="bp">?</span><span class="n">m_1</span> <span class="bp">|</span> <span class="bp">?</span><span class="n">m_3</span> <span class="n">x</span><span class="o">}</span> <span class="bp">=</span> <span class="bp">?</span><span class="n">m_3</span> <span class="bp">?</span><span class="n">m_2</span> <span class="o">:</span> <span class="kt">Prop</span>
<span class="n">but</span> <span class="n">is</span> <span class="n">expected</span> <span class="n">to</span> <span class="k">have</span> <span class="n">type</span>
  <span class="n">tactic</span> <span class="bp">?</span><span class="n">m_1</span> <span class="o">:</span> <span class="kt">Type</span> <span class="bp">?</span>
<span class="n">state</span><span class="o">:</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span><span class="o">,</span>
<span class="n">B</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">|</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">∉</span> <span class="n">x</span><span class="o">},</span>
<span class="n">B'</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="o">:=</span> <span class="o">{</span><span class="n">y</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">),</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">B</span><span class="o">},</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">function.injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hp</span> <span class="o">:</span> <span class="n">f</span> <span class="n">B'</span> <span class="bp">∉</span> <span class="n">B'</span>
<span class="bp">⊢</span> <span class="n">false</span>
</code></pre></div>



<a name="281202927"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281202927" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281202927">(May 04 2022 at 18:54)</a>:</h4>
<p>Right, <code>mem_set_of_eq</code> is a lemma, so you'd write <code>rw mem_set_of_eq</code></p>



<a name="281202943"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281202943" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281202943">(May 04 2022 at 18:54)</a>:</h4>
<p>Oh right</p>



<a name="281203113"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281203113" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281203113">(May 04 2022 at 18:55)</a>:</h4>
<p>Now our goal is </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">α</span><span class="o">:</span> <span class="kt">Type</span>
<span class="n">f</span><span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span>
<span class="n">B</span><span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">|</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">∉</span> <span class="n">x</span><span class="o">}</span>
<span class="n">B'</span><span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="o">:=</span> <span class="o">{</span><span class="n">y</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">),</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">B</span><span class="o">}</span>
<span class="n">h</span><span class="o">:</span> <span class="n">function.injective</span> <span class="n">f</span>
<span class="n">hp</span><span class="o">:</span> <span class="n">f</span> <span class="n">B'</span> <span class="bp">∉</span> <span class="n">B'</span>
<span class="bp">⊢</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">),</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">B'</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">B</span>
</code></pre></div>



<a name="281203254"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281203254" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281203254">(May 04 2022 at 18:56)</a>:</h4>
<p>Okay, so how do you prove an existential?</p>



<a name="281203490"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281203490" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281203490">(May 04 2022 at 18:58)</a>:</h4>
<p><code>mem_set_of</code></p>



<a name="281203536"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281203536" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281203536">(May 04 2022 at 18:58)</a>:</h4>
<p>I believe</p>



<a name="281203811"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281203811" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281203811">(May 04 2022 at 19:00)</a>:</h4>
<p>How would you prove this?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">=</span> <span class="mi">10</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="gr">sorry</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="281204299"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281204299" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281204299">(May 04 2022 at 19:03)</a>:</h4>
<p>I honestly dont know.</p>



<a name="281204602"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281204602" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281204602">(May 04 2022 at 19:06)</a>:</h4>
<p>Is there a tactic for that?</p>



<a name="281204729"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281204729" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281204729">(May 04 2022 at 19:07)</a>:</h4>
<p>Generally, the easiest way to prove something exists with some property is by saying "look, this object works", and the tactic is <code>use B'</code></p>



<a name="281204898"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281204898" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281204898">(May 04 2022 at 19:08)</a>:</h4>
<p>Or in Arthur's example, <code>use 5</code></p>



<a name="281205078"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281205078" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281205078">(May 04 2022 at 19:10)</a>:</h4>
<p>I see.</p>



<a name="281205154"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281205154" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281205154">(May 04 2022 at 19:10)</a>:</h4>
<p>Now the goal is </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">α</span><span class="o">:</span> <span class="kt">Type</span>
<span class="n">f</span><span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span>
<span class="n">B</span><span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">|</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">∉</span> <span class="n">x</span><span class="o">}</span>
<span class="n">B'</span><span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="o">:=</span> <span class="o">{</span><span class="n">y</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">),</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">B</span><span class="o">}</span>
<span class="n">h</span><span class="o">:</span> <span class="n">function.injective</span> <span class="n">f</span>
<span class="n">hp</span><span class="o">:</span> <span class="n">f</span> <span class="n">B'</span> <span class="bp">∉</span> <span class="n">B'</span>
<span class="bp">⊢</span> <span class="n">f</span> <span class="n">B'</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">B'</span> <span class="bp">∧</span> <span class="n">B'</span> <span class="bp">∈</span> <span class="n">B</span>
</code></pre></div>



<a name="281205177"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281205177" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281205177">(May 04 2022 at 19:11)</a>:</h4>
<p>If you do <code>use 5</code> Lean will close the goal automatically because the property is too simple. But that's not always the case. If Lean can't prove the property automatically, it will turn the property into a goal for you to prove it</p>



<a name="281205348"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281205348" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281205348">(May 04 2022 at 19:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="467926">Joseph O</span> <a href="#narrow/stream/113489-new-members/topic/proving.20cantor_injective/near/281205154">said</a>:</p>
<blockquote>
<p>Now the goal is </p>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">α</span><span class="o">:</span> <span class="kt">Type</span>
<span class="n">f</span><span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span>
<span class="n">B</span><span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">|</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">∉</span> <span class="n">x</span><span class="o">}</span>
<span class="n">B'</span><span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="o">:=</span> <span class="o">{</span><span class="n">y</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">),</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">B</span><span class="o">}</span>
<span class="n">h</span><span class="o">:</span> <span class="n">function.injective</span> <span class="n">f</span>
<span class="n">hp</span><span class="o">:</span> <span class="n">f</span> <span class="n">B'</span> <span class="bp">∉</span> <span class="n">B'</span>
<span class="bp">⊢</span> <span class="n">f</span> <span class="n">B'</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">B'</span> <span class="bp">∧</span> <span class="n">B'</span> <span class="bp">∈</span> <span class="n">B</span>
</code></pre></div><br>
</p>
</blockquote>
<p>If we split the goal the first can be proved with <code>refl</code>, but the second...</p>



<a name="281205442"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281205442" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281205442">(May 04 2022 at 19:13)</a>:</h4>
<p>The second is again of the form something in { ... | ... }</p>



<a name="281205467"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281205467" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281205467">(May 04 2022 at 19:13)</a>:</h4>
<p>Oh we can use <code>mem_set_of_eq</code></p>



<a name="281205616"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281205616" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281205616">(May 04 2022 at 19:14)</a>:</h4>
<p>Ok i proved it</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="k">have</span> <span class="o">:</span> <span class="n">f</span><span class="o">(</span><span class="n">B'</span><span class="o">)</span> <span class="bp">∈</span> <span class="n">B'</span> <span class="o">:=</span>
    <span class="kd">begin</span>
      <span class="n">rw</span> <span class="n">mem_set_of_eq</span><span class="o">,</span>
      <span class="n">use</span> <span class="n">B'</span><span class="o">,</span>
      <span class="n">split</span><span class="o">,</span>
      <span class="o">{</span> <span class="n">refl</span><span class="o">,</span> <span class="o">},</span>
      <span class="o">{</span> <span class="n">rw</span> <span class="n">mem_set_of_eq</span><span class="o">,</span>
        <span class="n">exact</span> <span class="n">hp</span><span class="o">,</span> <span class="o">}</span>
    <span class="kd">end</span><span class="o">,</span>
</code></pre></div>



<a name="281205678"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281205678" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281205678">(May 04 2022 at 19:15)</a>:</h4>
<p>The final proof, completed!</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">cantor_injective</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">¬</span><span class="n">function.injective</span> <span class="n">f</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">set</span> <span class="n">B</span> <span class="o">:=</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">|</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">∉</span> <span class="n">x</span><span class="o">},</span>
  <span class="n">set</span> <span class="n">B'</span> <span class="o">:=</span> <span class="o">{</span><span class="n">y</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">B</span><span class="o">},</span>
  <span class="n">by_contradiction</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">by_cases</span> <span class="n">hp</span> <span class="o">:</span> <span class="n">f</span><span class="o">(</span><span class="n">B'</span><span class="o">)</span> <span class="bp">∈</span> <span class="n">B'</span><span class="o">,</span>
  <span class="o">{</span> <span class="k">have</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">X</span><span class="o">,</span> <span class="n">f</span><span class="o">(</span><span class="n">X</span><span class="o">)</span> <span class="bp">=</span> <span class="n">f</span><span class="o">(</span><span class="n">B'</span><span class="o">)</span> <span class="bp">∧</span> <span class="n">f</span><span class="o">(</span><span class="n">X</span><span class="o">)</span> <span class="bp">∉</span> <span class="n">X</span> <span class="o">:=</span> <span class="n">mem_set_of.mp</span> <span class="n">hp</span><span class="o">,</span>
    <span class="n">cases</span> <span class="n">this</span> <span class="k">with</span> <span class="n">s</span> <span class="n">hs</span><span class="o">,</span>
    <span class="n">rw</span> <span class="bp">←</span> <span class="o">(</span><span class="n">h</span> <span class="n">hs.1</span><span class="o">)</span> <span class="n">at</span> <span class="n">hp</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">hp'</span> <span class="o">:=</span> <span class="n">hs.2</span><span class="o">,</span>
    <span class="n">contradiction</span><span class="o">,</span> <span class="o">},</span>
  <span class="o">{</span> <span class="k">have</span> <span class="o">:</span> <span class="n">f</span><span class="o">(</span><span class="n">B'</span><span class="o">)</span> <span class="bp">∈</span> <span class="n">B'</span> <span class="o">:=</span>
    <span class="kd">begin</span>
      <span class="n">rw</span> <span class="n">mem_set_of_eq</span><span class="o">,</span>
      <span class="n">use</span> <span class="n">B'</span><span class="o">,</span>
      <span class="n">split</span><span class="o">,</span>
      <span class="o">{</span> <span class="n">refl</span><span class="o">,</span> <span class="o">},</span>
      <span class="o">{</span> <span class="n">rw</span> <span class="n">mem_set_of_eq</span><span class="o">,</span>
        <span class="n">exact</span> <span class="n">hp</span><span class="o">,</span> <span class="o">}</span>
    <span class="kd">end</span><span class="o">,</span>
    <span class="n">contradiction</span><span class="o">,</span> <span class="o">}</span>
<span class="kd">end</span>
</code></pre></div>



<a name="281205687"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281205687" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281205687">(May 04 2022 at 19:15)</a>:</h4>
<p>and lean says its correct!</p>



<a name="281205967"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281205967" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281205967">(May 04 2022 at 19:18)</a>:</h4>
<p>(I'm not sure why we have both <code>mem_set_of</code> and <code>mem_set_of_eq</code>, but either works here)</p>



<a name="281206115"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281206115" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281206115">(May 04 2022 at 19:19)</a>:</h4>
<p>This is the formatting you'll see more often in mathlib:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">cantor_injective</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">¬</span><span class="n">function.injective</span> <span class="n">f</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">set</span> <span class="n">B</span> <span class="o">:=</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">|</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">∉</span> <span class="n">x</span><span class="o">},</span>
  <span class="n">set</span> <span class="n">B'</span> <span class="o">:=</span> <span class="o">{</span><span class="n">y</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">B</span><span class="o">},</span>
  <span class="n">by_contradiction</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">by_cases</span> <span class="n">hp</span> <span class="o">:</span> <span class="n">f</span><span class="o">(</span><span class="n">B'</span><span class="o">)</span> <span class="bp">∈</span> <span class="n">B'</span><span class="o">,</span>
  <span class="o">{</span> <span class="k">have</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">X</span><span class="o">,</span> <span class="n">f</span><span class="o">(</span><span class="n">X</span><span class="o">)</span> <span class="bp">=</span> <span class="n">f</span><span class="o">(</span><span class="n">B'</span><span class="o">)</span> <span class="bp">∧</span> <span class="n">f</span><span class="o">(</span><span class="n">X</span><span class="o">)</span> <span class="bp">∉</span> <span class="n">X</span> <span class="o">:=</span> <span class="n">mem_set_of.mp</span> <span class="n">hp</span><span class="o">,</span>
    <span class="n">cases</span> <span class="n">this</span> <span class="k">with</span> <span class="n">s</span> <span class="n">hs</span><span class="o">,</span>
    <span class="n">rw</span> <span class="bp">←</span> <span class="o">(</span><span class="n">h</span> <span class="n">hs.1</span><span class="o">)</span> <span class="n">at</span> <span class="n">hp</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">hp'</span> <span class="o">:=</span> <span class="n">hs.2</span><span class="o">,</span>
    <span class="n">contradiction</span><span class="o">,</span> <span class="o">},</span>
  <span class="o">{</span> <span class="k">have</span> <span class="o">:</span> <span class="n">f</span><span class="o">(</span><span class="n">B'</span><span class="o">)</span> <span class="bp">∈</span> <span class="n">B'</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">rw</span> <span class="n">mem_set_of_eq</span><span class="o">,</span>
      <span class="n">use</span> <span class="n">B'</span><span class="o">,</span>
      <span class="n">split</span><span class="o">,</span>
      <span class="o">{</span> <span class="n">refl</span><span class="o">,</span> <span class="o">},</span>
      <span class="o">{</span> <span class="n">rw</span> <span class="n">mem_set_of_eq</span><span class="o">,</span>
        <span class="n">exact</span> <span class="n">hp</span><span class="o">,</span> <span class="o">},</span> <span class="o">},</span>
    <span class="n">contradiction</span><span class="o">,</span> <span class="o">},</span>
<span class="kd">end</span>
</code></pre></div>



<a name="281206225"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281206225" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281206225">(May 04 2022 at 19:20)</a>:</h4>
<p>(<a href="https://leanprover-community.github.io/mathlib_docs/find/set.mem_set_of_eq">docs#set.mem_set_of_eq</a> is <del>in core, and</del> stated weirdly; <a href="https://leanprover-community.github.io/mathlib_docs/find/set.mem_set_of">docs#set.mem_set_of</a> is newer and is less weird)</p>



<a name="281206311"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281206311" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281206311">(May 04 2022 at 19:21)</a>:</h4>
<p>Yeah I switched them all to <code>mem_set_of</code></p>



<a name="281206664"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281206664" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281206664">(May 04 2022 at 19:24)</a>:</h4>
<p>Now this is something I recall reading from one of those backstage interviews: that sometimes the focus on typechecking can obfuscate the bigger mathematical picture. Now that you've proven it in Lean, would you be able to write a proof of your own, with your words?</p>



<a name="281206940"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281206940" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281206940">(May 04 2022 at 19:26)</a>:</h4>
<p>Not that I'm saying that you should post it here. It's an investigation that you can do on your own. It's definitely something I do</p>



<a name="281207040"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281207040" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281207040">(May 04 2022 at 19:27)</a>:</h4>
<p>Optional: you might be able to learn some tricks by comparing your version with this shorter version:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">cantor_injective</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">¬</span><span class="n">function.injective</span> <span class="n">f</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">set</span> <span class="n">B</span> <span class="o">:=</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">|</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">∉</span> <span class="n">x</span><span class="o">},</span>
  <span class="n">set</span> <span class="n">B'</span> <span class="o">:=</span> <span class="o">{</span><span class="n">y</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">B</span><span class="o">},</span>
  <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">by_cases</span> <span class="n">hp</span> <span class="o">:</span> <span class="n">f</span> <span class="n">B'</span> <span class="bp">∈</span> <span class="n">B'</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">obtain</span> <span class="o">⟨</span><span class="n">s</span><span class="o">,</span> <span class="n">hs</span><span class="o">⟩</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">X</span><span class="o">,</span> <span class="n">f</span> <span class="n">X</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">B'</span> <span class="bp">∧</span> <span class="n">f</span> <span class="n">X</span> <span class="bp">∉</span> <span class="n">X</span> <span class="o">:=</span> <span class="n">set.mem_set_of_eq.mp</span> <span class="n">hp</span><span class="o">,</span>
    <span class="n">rw</span> <span class="bp">←</span> <span class="o">(</span><span class="n">h</span> <span class="n">hs.1</span><span class="o">)</span> <span class="n">at</span> <span class="n">hp</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">hs.2</span> <span class="n">hp</span><span class="o">,</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">exact</span> <span class="n">hp</span> <span class="o">⟨</span><span class="n">B'</span><span class="o">,</span> <span class="n">rfl</span><span class="o">,</span> <span class="n">hp</span><span class="o">⟩,</span> <span class="o">}</span>
<span class="kd">end</span>
</code></pre></div>



<a name="281210155"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281210155" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281210155">(May 04 2022 at 19:48)</a>:</h4>
<p>Oh man thats crazy</p>



<a name="281210220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281210220" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281210220">(May 04 2022 at 19:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="307953">Ruben Van de Velde</span> <a href="#narrow/stream/113489-new-members/topic/proving.20cantor_injective/near/281207040">said</a>:</p>
<blockquote>
<p>Optional: you might be able to learn some tricks by comparing your version with this shorter version:</p>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">cantor_injective</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">¬</span><span class="n">function.injective</span> <span class="n">f</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">set</span> <span class="n">B</span> <span class="o">:=</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">|</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">∉</span> <span class="n">x</span><span class="o">},</span>
  <span class="n">set</span> <span class="n">B'</span> <span class="o">:=</span> <span class="o">{</span><span class="n">y</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">B</span><span class="o">},</span>
  <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">by_cases</span> <span class="n">hp</span> <span class="o">:</span> <span class="n">f</span> <span class="n">B'</span> <span class="bp">∈</span> <span class="n">B'</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">obtain</span> <span class="o">⟨</span><span class="n">s</span><span class="o">,</span> <span class="n">hs</span><span class="o">⟩</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">X</span><span class="o">,</span> <span class="n">f</span> <span class="n">X</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">B'</span> <span class="bp">∧</span> <span class="n">f</span> <span class="n">X</span> <span class="bp">∉</span> <span class="n">X</span> <span class="o">:=</span> <span class="n">set.mem_set_of_eq.mp</span> <span class="n">hp</span><span class="o">,</span>
    <span class="n">rw</span> <span class="bp">←</span> <span class="o">(</span><span class="n">h</span> <span class="n">hs.1</span><span class="o">)</span> <span class="n">at</span> <span class="n">hp</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">hs.2</span> <span class="n">hp</span><span class="o">,</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">exact</span> <span class="n">hp</span> <span class="o">⟨</span><span class="n">B'</span><span class="o">,</span> <span class="n">rfl</span><span class="o">,</span> <span class="n">hp</span><span class="o">⟩,</span> <span class="o">}</span>
<span class="kd">end</span>
</code></pre></div><br>
</p>
</blockquote>
<p>Ill keep this on the side as a shorter variation, though I will stick to my version for now as a beginner and its more expressive despite being verbose</p>



<a name="281210375"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281210375" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281210375">(May 04 2022 at 19:50)</a>:</h4>
<p>deleted</p>



<a name="281210712"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281210712" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281210712">(May 04 2022 at 19:53)</a>:</h4>
<p>There are so many things I dont understand about the proof though</p>



<a name="281210809"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281210809" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281210809">(May 04 2022 at 19:53)</a>:</h4>
<p>Well actually I understand it</p>



<a name="281210926"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281210926" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281210926">(May 04 2022 at 19:54)</a>:</h4>
<p>My biggest question is how </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="o">⟨</span><span class="n">B'</span><span class="o">,</span> <span class="n">rfl</span><span class="o">,</span> <span class="n">hp</span><span class="o">⟩</span>
</code></pre></div>
<p>is equivalent to </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="k">have</span> <span class="o">:</span> <span class="n">f</span><span class="o">(</span><span class="n">B'</span><span class="o">)</span> <span class="bp">∈</span> <span class="n">B'</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">rw</span> <span class="n">mem_set_of</span><span class="o">,</span>
      <span class="n">use</span> <span class="n">B'</span><span class="o">,</span>
      <span class="n">split</span><span class="o">,</span>
      <span class="o">{</span> <span class="n">refl</span><span class="o">,</span> <span class="o">},</span>
      <span class="o">{</span> <span class="n">rw</span> <span class="n">mem_set_of</span><span class="o">,</span>
        <span class="n">exact</span> <span class="n">hp</span><span class="o">,</span> <span class="o">},</span> <span class="o">},</span>
</code></pre></div>



<a name="281210940"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281210940" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281210940">(May 04 2022 at 19:54)</a>:</h4>
<p>Thats it</p>



<a name="281211166"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281211166" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281211166">(May 04 2022 at 19:56)</a>:</h4>
<p><code>rw mem_set_of</code> is a "no-op" because its proof is <code>iff.rfl</code>, that is both sides are definitionally equal. <code>use B'</code>, is the same as <code>refine ⟨B', _⟩</code>, <code>split</code> is the same as <code>refine ⟨_, _⟩</code>.</p>



<a name="281211907"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281211907" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281211907">(May 04 2022 at 20:01)</a>:</h4>
<p>That makes sense, though Im still confused how <code>rw mem_set_of</code> is implicitly applied</p>



<a name="281212176"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281212176" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281212176">(May 04 2022 at 20:03)</a>:</h4>
<p>It's not applied or anything. It's simply that, when you give Lean something, it tries to "unify" it, which means performing a bunch of operations, notably replacing everything by its definition.</p>



<a name="281212330"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proving%20cantor_injective/near/281212330" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proving.20cantor_injective.html#281212330">(May 04 2022 at 20:04)</a>:</h4>
<p>The <em>definition</em> of <code>f B' ∈ B'</code> is <code>f B' ∈ {y : α | ∃ x : set α, f x = y ∧ x ∈ B}</code>, whose <em>definition</em> is <code>∃ x : set α, f x = f B' ∧ x ∈ B}</code>.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>