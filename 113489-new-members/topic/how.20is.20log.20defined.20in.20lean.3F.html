---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/how.20is.20log.20defined.20in.20lean.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20is.20log.20defined.20in.20lean.3F.html">how is log defined in lean?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="196802786"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20is%20log%20defined%20in%20lean%3F/near/196802786" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Kontorovich <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20is.20log.20defined.20in.20lean.3F.html#196802786">(May 07 2020 at 17:19)</a>:</h4>
<p>I see that exp is defined as the limit of sum x^n/n! but I can't seem to find where log is defined? I'm hoping to be able to access something like: -log(1-x)=x+x^2/x+x^3/3+... (for |x|&lt;1/2, say)? Thanks!</p>



<a name="196803214"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20is%20log%20defined%20in%20lean%3F/near/196803214" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20is.20log.20defined.20in.20lean.3F.html#196803214">(May 07 2020 at 17:23)</a>:</h4>
<p>Searching for log at <a href="https://leanprover-community.github.io/mathlib_docs/" title="https://leanprover-community.github.io/mathlib_docs/">https://leanprover-community.github.io/mathlib_docs/</a> gives some info.</p>



<a name="196803717"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20is%20log%20defined%20in%20lean%3F/near/196803717" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Kontorovich <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20is.20log.20defined.20in.20lean.3F.html#196803717">(May 07 2020 at 17:27)</a>:</h4>
<p>Thanks Kevin, I clicked around there for a while before asking, to no avail -- any more direct pointers please? What I'm hoping is the analog of:</p>
<div class="codehilite"><pre><span></span><code><span class="n">def</span> <span class="n">exp&#39;</span> <span class="o">(</span><span class="n">z</span> <span class="o">:</span> <span class="n">ℂ</span><span class="o">)</span> <span class="o">:</span> <span class="n">cau_seq</span> <span class="n">ℂ</span> <span class="n">complex</span><span class="bp">.</span><span class="n">abs</span> <span class="o">:=</span>
<span class="bp">⟨λ</span> <span class="n">n</span><span class="o">,</span> <span class="o">(</span><span class="n">range</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">sum</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">m</span><span class="o">,</span> <span class="n">z</span> <span class="bp">^</span> <span class="n">m</span> <span class="bp">/</span> <span class="n">nat</span><span class="bp">.</span><span class="n">fact</span> <span class="n">m</span><span class="o">),</span> <span class="n">is_cau_exp</span> <span class="n">z</span><span class="bp">⟩</span>
</code></pre></div>


<p>which I see in the complex/exponential file, but I don't see a similar definition for log?... Thanks!</p>



<a name="196804378"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20is%20log%20defined%20in%20lean%3F/near/196804378" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20is.20log.20defined.20in.20lean.3F.html#196804378">(May 07 2020 at 17:31)</a>:</h4>
<p>hang on, I'll have a look</p>



<a name="196804464"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20is%20log%20defined%20in%20lean%3F/near/196804464" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20is.20log.20defined.20in.20lean.3F.html#196804464">(May 07 2020 at 17:32)</a>:</h4>
<p>Did you actually typed log in the search form?</p>



<a name="196804716"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20is%20log%20defined%20in%20lean%3F/near/196804716" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20is.20log.20defined.20in.20lean.3F.html#196804716">(May 07 2020 at 17:34)</a>:</h4>
<p>This brings to <a href="https://leanprover-community.github.io/mathlib_docs/analysis/special_functions/exp_log.html#real.log" title="https://leanprover-community.github.io/mathlib_docs/analysis/special_functions/exp_log.html#real.log">https://leanprover-community.github.io/mathlib_docs/analysis/special_functions/exp_log.html#real.log</a> really fast</p>



<a name="196804775"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20is%20log%20defined%20in%20lean%3F/near/196804775" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20is.20log.20defined.20in.20lean.3F.html#196804775">(May 07 2020 at 17:34)</a>:</h4>
<p><code>log</code> is defined on p200 of that file, as the inverse of exp (at least for positive inputs).</p>



<a name="196804866"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20is%20log%20defined%20in%20lean%3F/near/196804866" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20is.20log.20defined.20in.20lean.3F.html#196804866">(May 07 2020 at 17:35)</a>:</h4>
<p>But I can't see the infinite sum fact there.</p>



<a name="196804949"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20is%20log%20defined%20in%20lean%3F/near/196804949" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Kontorovich <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20is.20log.20defined.20in.20lean.3F.html#196804949">(May 07 2020 at 17:36)</a>:</h4>
<p>Ah thanks; I didn't know what classical.some was doing... So it's an inverse function; and is that expansion proved anywhere in Lean?</p>



<a name="196805057"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20is%20log%20defined%20in%20lean%3F/near/196805057" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20is.20log.20defined.20in.20lean.3F.html#196805057">(May 07 2020 at 17:37)</a>:</h4>
<p>Not that I can see. It might be tricky to prove as well, because I don't think we have the fact that we can differentiate a power series term by term, which would be the way I'd prove it.</p>



<a name="196805099"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20is%20log%20defined%20in%20lean%3F/near/196805099" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20is.20log.20defined.20in.20lean.3F.html#196805099">(May 07 2020 at 17:37)</a>:</h4>
<p>I don't think we have fund thm of calc either</p>



<a name="196805171"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20is%20log%20defined%20in%20lean%3F/near/196805171" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20is.20log.20defined.20in.20lean.3F.html#196805171">(May 07 2020 at 17:37)</a>:</h4>
<p>The classical.some is hard to read in html doc because the proof is elided, but you can click the GitHub link to see the actual code</p>



<a name="196805228"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20is%20log%20defined%20in%20lean%3F/near/196805228" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20is.20log.20defined.20in.20lean.3F.html#196805228">(May 07 2020 at 17:38)</a>:</h4>
<p>Both those things are in the pipes</p>



<a name="196805282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20is%20log%20defined%20in%20lean%3F/near/196805282" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20is.20log.20defined.20in.20lean.3F.html#196805282">(May 07 2020 at 17:38)</a>:</h4>
<p>FTC has an open PR, and differentiation of power series is very close to what Sébastien does those days</p>



<a name="196805692"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20is%20log%20defined%20in%20lean%3F/near/196805692" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Kontorovich <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20is.20log.20defined.20in.20lean.3F.html#196805692">(May 07 2020 at 17:41)</a>:</h4>
<p>One could perhaps prove it as just a combinatorial identity -- open both series exp(-log(1-x)) = 1+[-log(1-x)]+[-log(1-x)]^2/2!+... <br>
=1+[x+x^2/2+x^3/3+]+[x+x^2/2+x^3/3+]^2/2!+... <br>
Open things up and see that everything combines into 1+x+x^2+x^3+... which Lean does know is (1-x)^(-1)...?</p>



<a name="196807129"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20is%20log%20defined%20in%20lean%3F/near/196807129" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20is.20log.20defined.20in.20lean.3F.html#196807129">(May 07 2020 at 17:53)</a>:</h4>
<p>It sounds like a nice project (and certainly something we want in mathlib). If you want to give it a try you should coordinate with Sébastien.</p>



<a name="196807882"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20is%20log%20defined%20in%20lean%3F/near/196807882" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20is.20log.20defined.20in.20lean.3F.html#196807882">(May 07 2020 at 17:58)</a>:</h4>
<p>Of course if you prove it using power series you'll still have the issue of checking all the rearrangements converge</p>



<a name="196817732"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20is%20log%20defined%20in%20lean%3F/near/196817732" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Kontorovich <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20is.20log.20defined.20in.20lean.3F.html#196817732">(May 07 2020 at 19:14)</a>:</h4>
<p>Sure, sounds like fun. I'm sorry, I'm a newbie here - what is Sebastien's last name?</p>



<a name="196817933"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20is%20log%20defined%20in%20lean%3F/near/196817933" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Kontorovich <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20is.20log.20defined.20in.20lean.3F.html#196817933">(May 07 2020 at 19:16)</a>:</h4>
<p>The convergence of the log power series should be "easy", no? It's dominated termwise by the geometric series, which Lean knows...? (Of course, a lot of things I thought would be easy haven't been...)</p>



<a name="196818597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20is%20log%20defined%20in%20lean%3F/near/196818597" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20is.20log.20defined.20in.20lean.3F.html#196818597">(May 07 2020 at 19:21)</a>:</h4>
<p><span class="user-mention" data-user-id="252920">@Alex Kontorovich</span> : <span class="user-mention" data-user-id="110050">@Sebastien Gouezel</span></p>



<a name="196824325"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20is%20log%20defined%20in%20lean%3F/near/196824325" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20is.20log.20defined.20in.20lean.3F.html#196824325">(May 07 2020 at 20:11)</a>:</h4>
<p>Alex, I'm really sorry about that. There are many many people on this chat now, and I try to answer many questions really fast. I'm a bit lost about who knows who and what.</p>



<a name="197044682"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/how%20is%20log%20defined%20in%20lean%3F/near/197044682" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/how.20is.20log.20defined.20in.20lean.3F.html#197044682">(May 10 2020 at 09:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="252920">Alex Kontorovich</span> <a href="#narrow/stream/113489-new-members/topic/how.20is.20log.20defined.20in.20lean.3F/near/196802786" title="#narrow/stream/113489-new-members/topic/how.20is.20log.20defined.20in.20lean.3F/near/196802786">said</a>:</p>
<blockquote>
<p>I see that exp is defined as the limit of sum x^n/n! but I can't seem to find where log is defined? I'm hoping to be able to access something like: -log(1-x)=x+x^2/x+x^3/3+... (for |x|&lt;1/2, say)? Thanks!</p>
</blockquote>
<p><a href="https://github.com/leanprover-community/mathlib/issues/2646" title="https://github.com/leanprover-community/mathlib/issues/2646">#2646</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>