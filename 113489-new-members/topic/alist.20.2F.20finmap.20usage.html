---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/alist.20.2F.20finmap.20usage.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/alist.20.2F.20finmap.20usage.html">alist / finmap usage</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="229627180"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/alist%20/%20finmap%20usage/near/229627180" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Guilherme Espada <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/alist.20.2F.20finmap.20usage.html#229627180">(Mar 10 2021 at 09:30)</a>:</h4>
<p>In some proof I'm currently using a list of pairs as a map. (<code>list (string × ttype)</code>)<br>
However, I need uniqueness of keys, which isn't guaranteed by this approach. As such, I found alist and finmap.<br>
My first question is: what is the difference between them?<br>
My second question is, how do you instantiate the type? I expected the type to take two types (key, value), but it instead takes a function (?).<br>
My third question is how you check if a specific key-value pair is in the map. In other words, how would you implement (<code>def in_ctx (val: string × ttype) (ctx:list (string × ttype)) := val ∈ ctx</code>)? I know there is a lookup operation, but I don't know how to handle the optional values.</p>
<p>Thanks</p>



<a name="229627683"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/alist%20/%20finmap%20usage/near/229627683" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/alist.20.2F.20finmap.20usage.html#229627683">(Mar 10 2021 at 09:34)</a>:</h4>
<p>The function you want to pass is something like <code>\lam _ : key_type, value_type</code></p>



<a name="229627735"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/alist%20/%20finmap%20usage/near/229627735" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/alist.20.2F.20finmap.20usage.html#229627735">(Mar 10 2021 at 09:34)</a>:</h4>
<p>It's so you can have entries whose type depends on their key</p>



<a name="229630036"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/alist%20/%20finmap%20usage/near/229630036" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Guilherme Espada <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/alist.20.2F.20finmap.20usage.html#229630036">(Mar 10 2021 at 09:53)</a>:</h4>
<p>I implemented <code>def in_ctx (key: string) (val: ttype) (ctx:ctxtype) := ctx.lookup key = (option.some val)</code>, does it look correct?</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>