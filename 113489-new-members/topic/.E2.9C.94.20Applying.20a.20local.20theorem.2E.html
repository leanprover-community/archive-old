---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/.E2.9C.94.20Applying.20a.20local.20theorem.2E.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Applying.20a.20local.20theorem.2E.html">✔ Applying a local theorem.</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="281557255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Applying%20a%20local%20theorem./near/281557255" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Greg Leo <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Applying.20a.20local.20theorem.2E.html#281557255">(May 07 2022 at 19:43)</a>:</h4>
<p>Hello, </p>
<p>I have been working through some simple proofs on relations. I have a proved theorem I want to use in a later proof, but I am having trouble applying it. </p>
<p>Here is where I am:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c">/-</span><span class="cm"> 1.9 h -/</span>
<span class="kd">theorem</span> <span class="n">proph</span> <span class="o">[</span><span class="n">compR</span> <span class="o">:</span> <span class="n">complete</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">trnsR</span> <span class="o">:</span> <span class="n">transitive</span> <span class="n">R</span><span class="o">][</span><span class="n">x</span> <span class="o">:</span> <span class="n">A</span><span class="o">][</span><span class="n">y</span> <span class="o">:</span> <span class="n">A</span><span class="o">][</span><span class="n">z</span> <span class="o">:</span> <span class="n">A</span><span class="o">]:</span> <span class="o">(</span><span class="n">S</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">S</span> <span class="n">y</span> <span class="n">z</span><span class="o">)</span> <span class="bp">→</span> <span class="n">S</span> <span class="n">x</span> <span class="n">z</span> <span class="o">:=</span>
<span class="kd">begin</span>
<span class="n">intro</span> <span class="n">sxyandsyx</span><span class="o">,</span>
<span class="n">cases</span> <span class="n">sxyandsyx</span><span class="o">,</span>
<span class="n">cases</span> <span class="n">sxyandsyx_right</span><span class="o">,</span>

<span class="kd">end</span>
</code></pre></div>
<p>I have previously proved the following:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">propg</span> <span class="o">[</span><span class="n">compR</span> <span class="o">:</span> <span class="n">complete</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">trnsR</span> <span class="o">:</span> <span class="n">transitive</span> <span class="n">R</span><span class="o">][</span><span class="n">x</span> <span class="o">:</span> <span class="n">A</span><span class="o">][</span><span class="n">y</span> <span class="o">:</span> <span class="n">A</span><span class="o">][</span><span class="n">z</span> <span class="o">:</span> <span class="n">A</span><span class="o">]:</span> <span class="o">(</span><span class="n">S</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">R</span> <span class="n">y</span> <span class="n">z</span><span class="o">)</span> <span class="bp">→</span> <span class="n">S</span> <span class="n">x</span> <span class="n">z</span>
</code></pre></div>
<p>Since I have <code>S x y</code> and <code>R y z</code> in the current proof context and the goal is <code>S x z</code>, I would like to apply this <code>propg</code>, but I am having trouble getting a tactic to do this. </p>
<p>I have tried <code>show sxz : S x z, from propg sxyandsyx_left sxyandsyx_right_left</code> but this gives me <code>sync</code> error.</p>



<a name="281557305"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Applying%20a%20local%20theorem./near/281557305" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Applying.20a.20local.20theorem.2E.html#281557305">(May 07 2022 at 19:44)</a>:</h4>
<p>Can you share a <a href="https://leanprover-community.github.io/mwe.html">#mwe</a>?</p>



<a name="281557539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Applying%20a%20local%20theorem./near/281557539" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Greg Leo <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Applying.20a.20local.20theorem.2E.html#281557539">(May 07 2022 at 19:52)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>

<span class="kn">section</span>

<span class="kd">parameters</span> <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">→</span> <span class="n">A</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">}</span>

<span class="c">/-</span><span class="cm"> Defininig Complete Relations -/</span>
<span class="kd">def</span> <span class="n">complete</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">→</span> <span class="n">A</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="n">R</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">∨</span> <span class="n">R</span> <span class="n">y</span> <span class="n">x</span>

<span class="c">/-</span><span class="cm"> Defininig S the Strict Relation-/</span>
<span class="kd">def</span> <span class="n">S</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">A</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span> <span class="n">R</span> <span class="n">a</span> <span class="n">b</span> <span class="bp">∧</span> <span class="bp">¬</span> <span class="n">R</span> <span class="n">b</span> <span class="n">a</span>

<span class="c">/-</span><span class="cm"> 1.9 g -/</span>
<span class="kd">theorem</span> <span class="n">propg</span> <span class="o">[</span><span class="n">compR</span> <span class="o">:</span> <span class="n">complete</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">trnsR</span> <span class="o">:</span> <span class="n">transitive</span> <span class="n">R</span><span class="o">][</span><span class="n">x</span> <span class="o">:</span> <span class="n">A</span><span class="o">][</span><span class="n">y</span> <span class="o">:</span> <span class="n">A</span><span class="o">][</span><span class="n">z</span> <span class="o">:</span> <span class="n">A</span><span class="o">]:</span> <span class="o">(</span><span class="n">S</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">R</span> <span class="n">y</span> <span class="n">z</span><span class="o">)</span> <span class="bp">→</span> <span class="n">S</span> <span class="n">x</span> <span class="n">z</span> <span class="o">:=</span>
<span class="kd">begin</span>
<span class="n">intro</span> <span class="n">sxyandryz</span><span class="o">,</span>
<span class="n">cases</span> <span class="n">sxyandryz</span><span class="o">,</span>
<span class="n">cases</span> <span class="n">sxyandryz_left</span><span class="o">,</span>
<span class="n">constructor</span><span class="o">,</span>
<span class="o">{</span>
  <span class="k">have</span> <span class="n">rxz</span> <span class="o">:</span> <span class="n">R</span> <span class="n">x</span> <span class="n">z</span><span class="o">,</span> <span class="k">from</span> <span class="n">trnsR</span> <span class="n">sxyandryz_left_left</span> <span class="n">sxyandryz_right</span><span class="o">,</span>
  <span class="n">tauto</span>
<span class="o">},</span>
<span class="o">{</span>
  <span class="k">have</span> <span class="n">rxz</span> <span class="o">:</span> <span class="n">R</span> <span class="n">x</span> <span class="n">z</span><span class="o">,</span> <span class="k">from</span> <span class="n">trnsR</span> <span class="n">sxyandryz_left_left</span> <span class="n">sxyandryz_right</span><span class="o">,</span>
  <span class="k">assume</span> <span class="n">rzx</span> <span class="o">:</span> <span class="n">R</span> <span class="n">z</span> <span class="n">x</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">ryx</span> <span class="o">:</span> <span class="n">R</span> <span class="n">y</span> <span class="n">x</span><span class="o">,</span> <span class="k">from</span> <span class="n">trnsR</span> <span class="n">sxyandryz_right</span> <span class="n">rzx</span><span class="o">,</span>
  <span class="n">tauto</span><span class="o">,</span>
<span class="o">}</span>
<span class="kd">end</span>


<span class="c">/-</span><span class="cm"> 1.9 h -/</span>
<span class="kd">theorem</span> <span class="n">proph</span> <span class="o">[</span><span class="n">compR</span> <span class="o">:</span> <span class="n">complete</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">trnsR</span> <span class="o">:</span> <span class="n">transitive</span> <span class="n">R</span><span class="o">][</span><span class="n">x</span> <span class="o">:</span> <span class="n">A</span><span class="o">][</span><span class="n">y</span> <span class="o">:</span> <span class="n">A</span><span class="o">][</span><span class="n">z</span> <span class="o">:</span> <span class="n">A</span><span class="o">]:</span> <span class="o">(</span><span class="n">S</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">S</span> <span class="n">y</span> <span class="n">z</span><span class="o">)</span> <span class="bp">→</span> <span class="n">S</span> <span class="n">x</span> <span class="n">z</span> <span class="o">:=</span>
<span class="kd">begin</span>
<span class="n">intro</span> <span class="n">sxyandsyx</span><span class="o">,</span>
<span class="n">cases</span> <span class="n">sxyandsyx</span><span class="o">,</span>
<span class="n">cases</span> <span class="n">sxyandsyx_right</span><span class="o">,</span>
<span class="gr">sorry</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">end</span>
</code></pre></div>



<a name="281557574"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Applying%20a%20local%20theorem./near/281557574" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Greg Leo <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Applying.20a.20local.20theorem.2E.html#281557574">(May 07 2022 at 19:52)</a>:</h4>
<p>Sorry, should have just done that in the first place :-D</p>



<a name="281557658"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Applying%20a%20local%20theorem./near/281557658" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Greg Leo <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Applying.20a.20local.20theorem.2E.html#281557658">(May 07 2022 at 19:54)</a>:</h4>
<p>I put the sorry where I am stuck trying to apply <code>propg</code></p>



<a name="281557961"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Applying%20a%20local%20theorem./near/281557961" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Applying.20a.20local.20theorem.2E.html#281557961">(May 07 2022 at 20:01)</a>:</h4>
<p>Note that <code>parameters</code> has some slightly quirky behavior; in mathlib we just never use it and use <code>variables</code> instead</p>



<a name="281557970"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Applying%20a%20local%20theorem./near/281557970" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Applying.20a.20local.20theorem.2E.html#281557970">(May 07 2022 at 20:01)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">parameters</span> <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">→</span> <span class="n">A</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">}</span>

<span class="c">/-</span><span class="cm"> Defining Complete Relations -/</span>
<span class="kd">def</span> <span class="n">complete</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">→</span> <span class="n">A</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="n">R</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">∨</span> <span class="n">R</span> <span class="n">y</span> <span class="n">x</span>

<span class="c">/-</span><span class="cm"> Defining S the Strict Relation-/</span>
<span class="kd">def</span> <span class="n">S</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">A</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span> <span class="n">R</span> <span class="n">a</span> <span class="n">b</span> <span class="bp">∧</span> <span class="bp">¬</span> <span class="n">R</span> <span class="n">b</span> <span class="n">a</span>

<span class="c">/-</span><span class="cm"> 1.9 g -/</span>
<span class="kd">theorem</span> <span class="n">propg</span> <span class="o">(</span><span class="n">compR</span> <span class="o">:</span> <span class="n">complete</span> <span class="n">R</span><span class="o">)</span> <span class="o">(</span><span class="n">trnsR</span> <span class="o">:</span> <span class="n">transitive</span> <span class="n">R</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">A</span><span class="o">)</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">A</span><span class="o">)</span> <span class="o">(</span><span class="n">z</span> <span class="o">:</span> <span class="n">A</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">S</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">R</span> <span class="n">y</span> <span class="n">z</span><span class="o">)</span> <span class="bp">→</span> <span class="n">S</span> <span class="n">x</span> <span class="n">z</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intro</span> <span class="n">sxyandryz</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">sxyandryz</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">sxyandryz_left</span><span class="o">,</span>
  <span class="n">constructor</span><span class="o">,</span>
  <span class="o">{</span> <span class="k">have</span> <span class="n">rxz</span> <span class="o">:</span> <span class="n">R</span> <span class="n">x</span> <span class="n">z</span> <span class="o">:=</span> <span class="n">trnsR</span> <span class="n">sxyandryz_left_left</span> <span class="n">sxyandryz_right</span><span class="o">,</span>
    <span class="n">tauto</span> <span class="o">},</span>
  <span class="o">{</span> <span class="k">have</span> <span class="n">rxz</span> <span class="o">:</span> <span class="n">R</span> <span class="n">x</span> <span class="n">z</span> <span class="o">:=</span> <span class="n">trnsR</span> <span class="n">sxyandryz_left_left</span> <span class="n">sxyandryz_right</span><span class="o">,</span>
    <span class="n">intro</span> <span class="n">rzx</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">ryx</span> <span class="o">:</span> <span class="n">R</span> <span class="n">y</span> <span class="n">x</span> <span class="o">:=</span> <span class="n">trnsR</span> <span class="n">sxyandryz_right</span> <span class="n">rzx</span><span class="o">,</span>
    <span class="n">tauto</span><span class="o">,</span> <span class="o">}</span>
<span class="kd">end</span>

<span class="c">/-</span><span class="cm"> 1.9 h -/</span>
<span class="kd">theorem</span> <span class="n">proph</span> <span class="o">(</span><span class="n">compR</span> <span class="o">:</span> <span class="n">complete</span> <span class="n">R</span><span class="o">)</span> <span class="o">(</span><span class="n">trnsR</span> <span class="o">:</span> <span class="n">transitive</span> <span class="n">R</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">A</span><span class="o">)</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">A</span><span class="o">)</span> <span class="o">(</span><span class="n">z</span> <span class="o">:</span> <span class="n">A</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">S</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">S</span> <span class="n">y</span> <span class="n">z</span><span class="o">)</span> <span class="bp">→</span> <span class="n">S</span> <span class="n">x</span> <span class="n">z</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intro</span> <span class="n">sxyandsyx</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">sxyandsyx</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">sxyandsyx_right</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">propg</span> <span class="n">compR</span> <span class="n">trnsR</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span> <span class="o">(</span><span class="n">and.intro</span> <span class="n">sxyandsyx_left</span> <span class="n">sxyandsyx_right_left</span><span class="o">),</span>
<span class="kd">end</span>
</code></pre></div>



<a name="281557971"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Applying%20a%20local%20theorem./near/281557971" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Applying.20a.20local.20theorem.2E.html#281557971">(May 07 2022 at 20:01)</a>:</h4>
<p>In practice for you, that would mean writing <code>S R x y</code> rather than <code>S x y</code></p>



<a name="281557975"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Applying%20a%20local%20theorem./near/281557975" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Applying.20a.20local.20theorem.2E.html#281557975">(May 07 2022 at 20:01)</a>:</h4>
<p>Make user to only use <code>[]</code> for arguments if they're actually classes</p>



<a name="281558267"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Applying%20a%20local%20theorem./near/281558267" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Greg Leo <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Applying.20a.20local.20theorem.2E.html#281558267">(May 07 2022 at 20:08)</a>:</h4>
<p>Ok, I see now. Thank you <span class="user-mention" data-user-id="306601">@Kyle Miller</span></p>



<a name="281558288"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Applying%20a%20local%20theorem./near/281558288" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Greg Leo <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Applying.20a.20local.20theorem.2E.html#281558288">(May 07 2022 at 20:08)</a>:</h4>
<p>and thank you <span class="user-mention" data-user-id="310045">@Eric Wieser</span> for the tip. I'll look up the distinction about these parameters/variables.</p>



<a name="281558289"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Applying%20a%20local%20theorem./near/281558289" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Applying.20a.20local.20theorem.2E.html#281558289">(May 07 2022 at 20:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="498890">Greg Leo</span> has marked this topic as resolved.</p>



<a name="281558296"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Applying%20a%20local%20theorem./near/281558296" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Greg Leo <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Applying.20a.20local.20theorem.2E.html#281558296">(May 07 2022 at 20:09)</a>:</h4>
<p>Helpful as always!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>