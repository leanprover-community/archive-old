---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Using.20result.20of.20.23eval.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html">Using result of #eval</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="270071720"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270071720" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kunwar Shaanjeet Singh Grover <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270071720">(Jan 31 2022 at 17:36)</a>:</h4>
<p>[Lean3]</p>
<p>Hi! Is it possible to obtain the result of the evaluation and use it further? What would be the best way to do something like this:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">add</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">nat</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="n">nat</span><span class="o">)</span> <span class="o">:</span> <span class="n">nat</span> <span class="o">:=</span>
<span class="n">a</span> <span class="bp">+</span> <span class="n">b</span>

<span class="kd">def</span> <span class="n">x</span> <span class="o">:=</span> <span class="k">#eval</span> <span class="n">add</span> <span class="mi">1</span> <span class="mi">2</span>
</code></pre></div>



<a name="270071872"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270071872" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270071872">(Jan 31 2022 at 17:37)</a>:</h4>
<p><code>def x := add 1 2</code> should work <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="270071883"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270071883" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270071883">(Jan 31 2022 at 17:37)</a>:</h4>
<p>(checking)</p>



<a name="270072049"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270072049" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270072049">(Jan 31 2022 at 17:38)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">add</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">nat</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="n">nat</span><span class="o">)</span> <span class="o">:</span> <span class="n">nat</span> <span class="o">:=</span>
<span class="n">a</span> <span class="bp">+</span> <span class="n">b</span>

<span class="kd">def</span> <span class="n">x</span> <span class="o">:=</span> <span class="n">add</span> <span class="mi">1</span> <span class="mi">2</span>

<span class="k">#eval</span> <span class="n">x</span> <span class="c1">-- 3</span>
</code></pre></div>



<a name="270072124"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270072124" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kunwar Shaanjeet Singh Grover <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270072124">(Jan 31 2022 at 17:39)</a>:</h4>
<p>Yes, that works. But I want to eval it in between and then use it. Maybe I did not take a great example for this. But I would like to evaluate it before the assignment to x and use the result. Although I'm not sure if  lean3 can do this.</p>



<a name="270072226"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270072226" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kunwar Shaanjeet Singh Grover <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270072226">(Jan 31 2022 at 17:39)</a>:</h4>
<p>I was looking for something general to obtain the result of instructions like #reduce, #eval, #check.</p>



<a name="270072399"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270072399" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270072399">(Jan 31 2022 at 17:40)</a>:</h4>
<p>There isn't a packaged tactic for it but you can write one</p>



<a name="270072482"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270072482" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270072482">(Jan 31 2022 at 17:41)</a>:</h4>
<p>you can use <code>tactic.eval_expr</code> to evaluate the expression and then <code>reflect e</code> to turn it back into something that can be fed to <code>exact</code></p>



<a name="270072605"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270072605" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270072605">(Jan 31 2022 at 17:41)</a>:</h4>
<p>That does <code>#eval</code>. For <code>#reduce</code> the nearest approximation is <code>whnf e</code> on the input</p>



<a name="270072691"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270072691" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270072691">(Jan 31 2022 at 17:42)</a>:</h4>
<p>For <code>#check</code> there is nothing to be done, that's just <code>exact</code></p>



<a name="270072856"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270072856" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kunwar Shaanjeet Singh Grover <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270072856">(Jan 31 2022 at 17:43)</a>:</h4>
<p>Right. I will look at this. Thanks a lot! I love how the community responds so fast &lt;3</p>



<a name="270073094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270073094" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270073094">(Jan 31 2022 at 17:44)</a>:</h4>
<p>Out of curiosity, what would be the type of <code>#check add</code> (for the application you're interested)?</p>



<a name="270073598"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270073598" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kunwar Shaanjeet Singh Grover <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270073598">(Jan 31 2022 at 17:47)</a>:</h4>
<p><code>Type</code> maybe?</p>



<a name="270074699"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270074699" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270074699">(Jan 31 2022 at 17:54)</a>:</h4>
<p>I see. Just to make sure you're aware, you won't be able to prove results about your definitions if they use the <code>meta</code> keyword:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">meta</span> <span class="kd">def</span> <span class="n">my_meta_def</span> <span class="o">:=</span> <span class="mi">1</span>
<span class="kd">example</span> <span class="o">:</span> <span class="n">my_meta_def</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span> <span class="n">rfl</span>
<span class="c1">-- invalid definition, it uses untrusted declaration 'my_meta_def'</span>
</code></pre></div>



<a name="270085770"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270085770" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270085770">(Jan 31 2022 at 18:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="451983">Arthur Paulino</span> <a href="#narrow/stream/113489-new-members/topic/Using.20result.20of.20.23eval/near/270071872">said</a>:</p>
<blockquote>
<p><code>def x := add 1 2</code> should work <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>
</blockquote>
<p>Wait, now I'm confused. Isn't this already evaluating <code>add 1 2</code> before assigning it to <code>x</code>? Or is Lean lazy?</p>



<a name="270101953"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270101953" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Johnson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270101953">(Jan 31 2022 at 20:46)</a>:</h4>
<blockquote>
<p>Wait, now I'm confused. Isn't this already evaluating <code>add 1 2</code> before assigning it to <code>x</code>? Or is Lean lazy?</p>
</blockquote>
<p>Informally speaking, Lean is lazy for terms, but eager for types:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">N</span> <span class="o">:=</span> <span class="mi">10000</span>

<span class="kd">def</span> <span class="n">x</span> <span class="o">:=</span> <span class="mi">0</span> <span class="bp">+</span> <span class="n">N</span> <span class="bp">*</span> <span class="n">N</span>
<span class="k">#check</span> <span class="n">x</span> <span class="c1">-- succeeds</span>

<span class="kd">def</span> <span class="n">y</span> <span class="o">:=</span> <span class="o">(</span><span class="n">rfl</span> <span class="o">:</span> <span class="n">N</span> <span class="bp">*</span> <span class="n">N</span> <span class="bp">=</span> <span class="mi">0</span> <span class="bp">+</span> <span class="n">N</span> <span class="bp">*</span> <span class="n">N</span><span class="o">)</span>
<span class="k">#check</span> <span class="n">y</span> <span class="c1">-- deep recursion error</span>
</code></pre></div>



<a name="270105398"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270105398" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270105398">(Jan 31 2022 at 21:10)</a>:</h4>
<p>Lean's evaluation semantics are not lazy. The following (Lean 4 code) loops infinitely:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">partial</span> <span class="kd">def</span> <span class="n">infiniteLoop</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">Nat</span><span class="o">)</span> <span class="o">:</span> <span class="n">Nat</span> <span class="o">:=</span> <span class="n">infiniteLoop</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>

<span class="c1">-- some complex function to avoid inlining</span>
<span class="kd">def</span> <span class="n">foo</span> <span class="o">(</span><span class="n">n</span> <span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">Nat</span><span class="o">)</span> <span class="o">:</span> <span class="n">Nat</span> <span class="o">:=</span>
  <span class="k">match</span> <span class="n">n</span> <span class="k">with</span>
  <span class="bp">|</span> <span class="mi">0</span> <span class="bp">=&gt;</span> <span class="n">a</span>
  <span class="bp">|</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">=&gt;</span> <span class="n">foo</span> <span class="n">n</span> <span class="n">a</span> <span class="n">b</span>

<span class="k">#eval</span> <span class="n">foo</span> <span class="mi">10</span> <span class="mi">1</span> <span class="o">(</span><span class="n">infiniteLoop</span> <span class="mi">2</span><span class="o">)</span> <span class="c1">-- loops</span>
</code></pre></div>
<p>I think the same is true for Lean 3?</p>



<a name="270106244"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270106244" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270106244">(Jan 31 2022 at 21:16)</a>:</h4>
<p>What I suggested is a way of "macro-expanding" the definition of the term, kind of like what you would get with a C++ <code>constexpr</code> function call. The evaluation semantics are the same either way, but one produces <code>def f := add 1 2</code> and the other produces <code>def f := 3</code></p>



<a name="270106331"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270106331" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270106331">(Jan 31 2022 at 21:17)</a>:</h4>
<p>This is usually not necessary, and Lean 4 will automatically precompute closed terms (although I think the computation still happens, once, at runtime)</p>



<a name="270106573"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270106573" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270106573">(Jan 31 2022 at 21:18)</a>:</h4>
<p>additionally it has the disadvantage that <code>f</code> will unfold to <code>3</code> instead of <code>add 1 2</code> which is bad if you have some property of <code>f</code> you want to prove based on the properties of <code>add</code></p>



<a name="270106643"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270106643" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270106643">(Jan 31 2022 at 21:19)</a>:</h4>
<p>since we've just generated a different term there isn't an equality proof <code>add 1 2 = 3</code> to use either</p>



<a name="270107367"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270107367" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270107367">(Jan 31 2022 at 21:24)</a>:</h4>
<p>Before this thread I thought that this code would loop:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">partial</span> <span class="kd">def</span> <span class="n">infiniteLoop</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">Nat</span><span class="o">)</span> <span class="o">:</span> <span class="n">Nat</span> <span class="o">:=</span> <span class="n">infiniteLoop</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span>

<span class="kd">def</span> <span class="n">bar</span> <span class="o">:=</span> <span class="mi">1</span> <span class="bp">+</span> <span class="n">infiniteLoop</span> <span class="mi">2</span> <span class="c1">-- doesn't loop</span>
</code></pre></div>
<p>But it only loops if I do <code>#eval bar</code></p>



<a name="270107677"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270107677" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270107677">(Jan 31 2022 at 21:26)</a>:</h4>
<p>I love to be surprised by these small discoveries :D</p>



<a name="270107882"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270107882" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270107882">(Jan 31 2022 at 21:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="451983">Arthur Paulino</span> <a href="#narrow/stream/113489-new-members/topic/Using.20result.20of.20.23eval/near/270107367">said</a>:</p>
<blockquote>
<p>Before this thread I thought that this code would loop:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">partial</span> <span class="kd">def</span> <span class="n">infiniteLoop</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">Nat</span><span class="o">)</span> <span class="o">:</span> <span class="n">Nat</span> <span class="o">:=</span> <span class="n">infiniteLoop</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span>

<span class="kd">def</span> <span class="n">bar</span> <span class="o">:=</span> <span class="mi">1</span> <span class="bp">+</span> <span class="n">infiniteLoop</span> <span class="mi">2</span> <span class="c1">-- doesn't loop</span>
</code></pre></div>
<p>But it only loops if I do <code>#eval bar</code></p>
</blockquote>
<p>OTOH, <code>#reduce bar</code> doesn't loop :-)</p>



<a name="270108186"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270108186" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270108186">(Jan 31 2022 at 21:30)</a>:</h4>
<p>... which is because of Lean not even unfolding <code>infiniteLoop</code> since it's partial, I think</p>



<a name="270108363"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270108363" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270108363">(Jan 31 2022 at 21:31)</a>:</h4>
<p>Makes sense! Indeed <code>infiniteLoop 2</code> is there in the output of <code>#reduce</code></p>



<a name="270108499"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270108499" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270108499">(Jan 31 2022 at 21:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="451983">Arthur Paulino</span> <a href="#narrow/stream/113489-new-members/topic/Using.20result.20of.20.23eval/near/270107367">said</a>:</p>
<blockquote>
<p>Before this thread I thought that this code would loop:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">partial</span> <span class="kd">def</span> <span class="n">infiniteLoop</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">Nat</span><span class="o">)</span> <span class="o">:</span> <span class="n">Nat</span> <span class="o">:=</span> <span class="n">infiniteLoop</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span>

<span class="kd">def</span> <span class="n">bar</span> <span class="o">:=</span> <span class="mi">1</span> <span class="bp">+</span> <span class="n">infiniteLoop</span> <span class="mi">2</span> <span class="c1">-- doesn't loop</span>
</code></pre></div>
<p>But it only loops if I do <code>#eval bar</code></p>
</blockquote>
<p>How could it loop if you don't run it?</p>



<a name="270108561"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270108561" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270108561">(Jan 31 2022 at 21:32)</a>:</h4>
<p>Type checking a function is not the same as running it</p>



<a name="270108607"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270108607" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270108607">(Jan 31 2022 at 21:33)</a>:</h4>
<p>in fact lean tries to do as little evaluation as it possibly can during typechecking</p>



<a name="270108813"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270108813" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270108813">(Jan 31 2022 at 21:34)</a>:</h4>
<p>In which scenarios during type checking do you have to do evaluation?</p>



<a name="270108824"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270108824" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270108824">(Jan 31 2022 at 21:34)</a>:</h4>
<p>An example where lean would be forced to run the function is if you did something like</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">partial</span> <span class="kd">def</span> <span class="n">infiniteLoop</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">Nat</span><span class="o">)</span> <span class="o">:</span> <span class="n">Nat</span> <span class="o">:=</span> <span class="n">infiniteLoop</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span>

<span class="kd">example</span> <span class="o">:</span> <span class="mi">1</span> <span class="bp">+</span> <span class="n">infiniteLoop</span> <span class="mi">2</span> <span class="bp">=</span> <span class="mi">3</span> <span class="o">:=</span> <span class="n">rfl</span>
</code></pre></div>



<a name="270108918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270108918" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270108918">(Jan 31 2022 at 21:35)</a>:</h4>
<p>basically, lean has to unfold things in order to avoid a type error (here, we're using a proof of <code>a = a</code> to prove <code>a = b</code> so lean has to work out that <code>a</code> and <code>b</code> are actually the same thing)</p>



<a name="270108919"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270108919" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270108919">(Jan 31 2022 at 21:35)</a>:</h4>
<p>Yeah I sometimes mix concepts. In Python, <code>bar = 1 + infinite_loop(2)</code> would loop forever. But <code>def</code> introduces a function instead.</p>



<a name="270109052"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270109052" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270109052">(Jan 31 2022 at 21:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113489-new-members/topic/Using.20result.20of.20.23eval/near/270108824">said</a>:</p>
<blockquote>
<p>An example where lean would be forced to run the function is if you did something like</p>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">partial</span> <span class="kd">def</span> <span class="n">infiniteLoop</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">Nat</span><span class="o">)</span> <span class="o">:</span> <span class="n">Nat</span> <span class="o">:=</span> <span class="n">infiniteLoop</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span>

<span class="kd">example</span> <span class="o">:</span> <span class="mi">1</span> <span class="bp">+</span> <span class="n">infiniteLoop</span> <span class="mi">2</span> <span class="bp">=</span> <span class="mi">3</span> <span class="o">:=</span> <span class="n">rfl</span>
</code></pre></div><br>
</p>
</blockquote>
<p>I thought you cant prove anything about partial functions in this way?</p>



<a name="270109053"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270109053" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270109053">(Jan 31 2022 at 21:36)</a>:</h4>
<p>The equivalent of <code>bar = 1 + infinite_loop(2)</code> in lean is <code>let bar := 1 + infinite_loop 2</code>as part of an <code>#eval</code> block</p>



<a name="270109191"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270109191" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270109191">(Jan 31 2022 at 21:37)</a>:</h4>
<p><span class="user-mention" data-user-id="395550">@Henrik Böving</span> Right, I was getting to that. For <code>partial</code> functions, they look like constants so they simply fail to unfold and that <code>rfl</code> would be rejected as a type error</p>



<a name="270109223"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270109223" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270109223">(Jan 31 2022 at 21:37)</a>:</h4>
<p>same thing if <code>infiniteLoop</code> was marked as an <code>@[irreducible] def</code> or <code>constant</code></p>



<a name="270109355"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270109355" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270109355">(Jan 31 2022 at 21:38)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> Semi-related; in which order does the kernel roughly reduce terms?</p>



<a name="270109375"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270109375" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270109375">(Jan 31 2022 at 21:39)</a>:</h4>
<p>call by name</p>



<a name="270109405"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270109405" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270109405">(Jan 31 2022 at 21:39)</a>:</h4>
<p>because it is repeated <code>whnf</code> to match up subterms</p>



<a name="270109432"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270109432" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270109432">(Jan 31 2022 at 21:39)</a>:</h4>
<p>Ah, so I guess you could call that lazy then :)</p>



<a name="270109548"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270109548" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270109548">(Jan 31 2022 at 21:40)</a>:</h4>
<p>yeah, it's a very different "evaluation strategy" than the usual</p>



<a name="270109607"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270109607" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270109607">(Jan 31 2022 at 21:40)</a>:</h4>
<p>it's not even really evaluation, since it's actually going for unification of terms and will bail out as soon as it can</p>



<a name="270110116"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270110116" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270110116">(Jan 31 2022 at 21:44)</a>:</h4>
<p>Here's an example to show that lean does not fully evaluate terms if it can help it</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">reallySlow</span> <span class="o">:</span> <span class="n">Nat</span> <span class="bp">→</span> <span class="n">Bool</span>
<span class="bp">|</span> <span class="mi">0</span> <span class="bp">=&gt;</span> <span class="n">true</span>
<span class="bp">|</span> <span class="n">n</span><span class="bp">+</span><span class="mi">1</span> <span class="bp">=&gt;</span> <span class="n">reallySlow</span> <span class="n">n</span>

<span class="kd">def</span> <span class="n">foo</span> <span class="o">:=</span> <span class="n">some</span> <span class="o">(</span><span class="n">reallySlow</span> <span class="o">(</span><span class="mi">10</span><span class="bp">^</span><span class="mi">10</span><span class="o">))</span>

<span class="c1">-- #eval foo -- slow</span>
<span class="kd">example</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">a</span><span class="o">,</span> <span class="n">foo</span> <span class="bp">=</span> <span class="n">some</span> <span class="n">a</span> <span class="o">:=</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">rfl</span><span class="o">⟩</span> <span class="c1">-- fast</span>
<span class="kd">example</span> <span class="o">:</span> <span class="n">foo.isSome</span> <span class="o">:=</span> <span class="n">rfl</span> <span class="c1">-- fast</span>
</code></pre></div>



<a name="270110438"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270110438" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270110438">(Jan 31 2022 at 21:46)</a>:</h4>
<p>Funky that this even works with the <code>_</code> (before the edit) how does Lean figure out a value for the _? Does it just try the first constructor that's directly a value (i.e. not a function)?</p>



<a name="270110571"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270110571" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270110571">(Jan 31 2022 at 21:48)</a>:</h4>
<p>It does unification to find the <code>_</code>. It solves it to <code>reallySlow (10^10)</code> btw, not <code>true</code></p>



<a name="270110754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270110754" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270110754">(Jan 31 2022 at 21:49)</a>:</h4>
<p>It does this:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">foo</span> <span class="bp">=?=</span> <span class="n">some</span> <span class="bp">?</span><span class="n">a</span>
<span class="bp">-&gt;</span> <span class="n">unfold</span> <span class="n">foo</span>
<span class="n">some</span> <span class="o">(</span><span class="n">reallySlow</span> <span class="o">(</span><span class="mi">10</span><span class="bp">^</span><span class="mi">10</span><span class="o">))</span> <span class="bp">=?=</span> <span class="n">some</span> <span class="bp">?</span><span class="n">a</span>
<span class="bp">-&gt;</span> <span class="n">some</span> <span class="n">is</span> <span class="n">a</span> <span class="n">constructor</span><span class="o">,</span> <span class="n">so</span> <span class="n">apply</span> <span class="n">congr</span>
<span class="n">reallySlow</span> <span class="o">(</span><span class="mi">10</span><span class="bp">^</span><span class="mi">10</span><span class="o">)</span> <span class="bp">=?=</span> <span class="bp">?</span><span class="n">a</span>
<span class="bp">-&gt;</span> <span class="n">assign</span> <span class="bp">?</span><span class="n">a</span> <span class="o">:=</span> <span class="n">reallySlow</span> <span class="o">(</span><span class="mi">10</span><span class="bp">^</span><span class="mi">10</span><span class="o">)</span>
</code></pre></div>



<a name="270110894"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270110894" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270110894">(Jan 31 2022 at 21:50)</a>:</h4>
<p>By the way, I was going to write <code>#eval foo.isSome -- slow</code> in that example but the compiler is too smart and is spoiling my example</p>



<a name="270110898"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270110898" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270110898">(Jan 31 2022 at 21:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113489-new-members/topic/Using.20result.20of.20.23eval/near/270110116">said</a>:</p>
<blockquote>
<p>Here's an example to show that lean does not fully evaluate terms if it can help it</p>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">reallySlow</span> <span class="o">:</span> <span class="n">Nat</span> <span class="bp">→</span> <span class="n">Bool</span>
<span class="bp">|</span> <span class="mi">0</span> <span class="bp">=&gt;</span> <span class="n">true</span>
<span class="bp">|</span> <span class="n">n</span><span class="bp">+</span><span class="mi">1</span> <span class="bp">=&gt;</span> <span class="n">reallySlow</span> <span class="n">n</span>

<span class="kd">def</span> <span class="n">foo</span> <span class="o">:=</span> <span class="n">some</span> <span class="o">(</span><span class="n">reallySlow</span> <span class="o">(</span><span class="mi">10</span><span class="bp">^</span><span class="mi">10</span><span class="o">))</span>

<span class="c1">-- #eval foo -- slow</span>
<span class="kd">example</span> <span class="o">:</span> <span class="n">foo.isSome</span> <span class="o">:=</span> <span class="n">rfl</span> <span class="c1">-- fast</span>
</code></pre></div><br>
</p>
</blockquote>
<p><code>#eval foo.isSome</code> is also fast ... Probably because of inlining or something similar?</p>



<a name="270110915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270110915" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270110915">(Jan 31 2022 at 21:50)</a>:</h4>
<p>yes</p>



<a name="270111002"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270111002" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270111002">(Jan 31 2022 at 21:51)</a>:</h4>
<p>this works as expected:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">@[noinline]</span> <span class="kd">def</span> <span class="n">isSome'</span> <span class="o">:</span> <span class="n">Option</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">Bool</span>
  <span class="bp">|</span> <span class="n">some</span> <span class="n">_</span> <span class="bp">=&gt;</span> <span class="n">true</span>
  <span class="bp">|</span> <span class="n">none</span>   <span class="bp">=&gt;</span> <span class="n">false</span>

<span class="c1">-- #eval isSome' foo -- slow</span>
</code></pre></div>



<a name="270111211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270111211" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270111211">(Jan 31 2022 at 21:53)</a>:</h4>
<p>Adjusting my example from earlier too:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">longLoop</span> <span class="o">:</span> <span class="n">Nat</span> <span class="bp">→</span> <span class="n">Nat</span>
  <span class="bp">|</span> <span class="mi">0</span> <span class="bp">=&gt;</span> <span class="mi">0</span>
  <span class="bp">|</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">=&gt;</span> <span class="n">longLoop</span> <span class="n">n</span>

<span class="c1">-- some complex function to avoid inlining</span>
<span class="kd">def</span> <span class="n">foo</span> <span class="o">(</span><span class="n">n</span> <span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">Nat</span><span class="o">)</span> <span class="o">:</span> <span class="n">Nat</span> <span class="o">:=</span>
  <span class="k">match</span> <span class="n">n</span> <span class="k">with</span>
  <span class="bp">|</span> <span class="mi">0</span> <span class="bp">=&gt;</span> <span class="n">a</span>
  <span class="bp">|</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">=&gt;</span> <span class="n">foo</span> <span class="n">n</span> <span class="n">a</span> <span class="n">b</span>

<span class="k">#eval</span> <span class="n">foo</span> <span class="mi">10</span> <span class="mi">1</span> <span class="o">(</span><span class="n">longLoop</span> <span class="o">(</span><span class="mi">10</span><span class="bp">^</span><span class="mi">10</span><span class="o">))</span>
</code></pre></div>



<a name="270111271"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20result%20of%20%23eval/near/270111271" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20result.20of.20.23eval.html#270111271">(Jan 31 2022 at 21:53)</a>:</h4>
<p>Ah, I forgot about <code>noinline</code></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>