---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/about.20PR.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html">about PR</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="244663228"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/244663228" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#244663228">(Jul 02 2021 at 06:18)</a>:</h4>
<p>I wrote several more lemmas about inverse matrices connecting some existing lemmas built-in, which will then be helpful for proving things like <code>(A ⊗ B)⁻¹ = A⁻¹ ⊗ B⁻¹</code> (at least for my own defined version, I noticed there is another PR regarding Kronecker product).<br>
Unfortunately, I am extremely new to PR (also extremely new to GitHub actually), would it be better to post my code here for a precheck?</p>



<a name="244663570"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/244663570" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#244663570">(Jul 02 2021 at 06:25)</a>:</h4>
<p>For anything more than about 50 lines, the best way to share it (without going as far as submitting a PR) is usually via <a href="https://gist.github.com">https://gist.github.com</a></p>



<a name="244663577"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/244663577" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#244663577">(Jul 02 2021 at 06:25)</a>:</h4>
<p>Which requires a github account, but does not require knowledge of how to use <code>git</code> itself.</p>



<a name="244663665"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/244663665" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#244663665">(Jul 02 2021 at 06:27)</a>:</h4>
<p>Thanks for letting me know the proper way for posting my code. And yes, I do have an account.</p>



<a name="244664025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/244664025" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#244664025">(Jul 02 2021 at 06:34)</a>:</h4>
<p><a href="https://gist.github.com/l534zhan/3fb4a73857eff68ad1ba230b848040df">https://gist.github.com/l534zhan/3fb4a73857eff68ad1ba230b848040df</a></p>



<a name="244664046"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/244664046" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#244664046">(Jul 02 2021 at 06:34)</a>:</h4>
<p>Here is the code!</p>



<a name="244665851"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/244665851" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#244665851">(Jul 02 2021 at 07:03)</a>:</h4>
<p>A quick trip: your <code>conj_transpose</code> exists already on square matrices as <a href="https://leanprover-community.github.io/mathlib_docs/find/star">docs#star</a>, although that doesn't help much for rectangular matrices</p>



<a name="244665954"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/244665954" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#244665954">(Jul 02 2021 at 07:04)</a>:</h4>
<p>And a style remark: <code>:</code> and <code>:=</code> should have spaces either side in the mathlib style.</p>



<a name="244665957"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/244665957" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#244665957">(Jul 02 2021 at 07:04)</a>:</h4>
<p>Otherwise that looks good</p>



<a name="244665976"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/244665976" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#244665976">(Jul 02 2021 at 07:04)</a>:</h4>
<p>The real question is how much of that is already in mathlib and just hard to find</p>



<a name="244667614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/244667614" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#244667614">(Jul 02 2021 at 07:23)</a>:</h4>
<p>Thanks! I will modify the style. Yes, my defn is for a general matrix. Perhaps I will add a bridge to the already existing one for square matrices.</p>



<a name="244669044"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/244669044" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#244669044">(Jul 02 2021 at 07:39)</a>:</h4>
<p>May I get the write access to non-master branches of the mathlib repository?  My userid is l534zhan <span class="user-mention" data-user-id="310045">@Eric Wieser</span></p>



<a name="244669082"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/244669082" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#244669082">(Jul 02 2021 at 07:39)</a>:</h4>
<p>What's your github userid?</p>



<a name="244669169"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/244669169" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#244669169">(Jul 02 2021 at 07:40)</a>:</h4>
<p>I added my id above.</p>



<a name="244669511"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/244669511" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#244669511">(Jul 02 2021 at 07:45)</a>:</h4>
<p>Invite sent!</p>



<a name="244669587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/244669587" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#244669587">(Jul 02 2021 at 07:45)</a>:</h4>
<p>Received with thanks!!</p>



<a name="244683883"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/244683883" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#244683883">(Jul 02 2021 at 10:22)</a>:</h4>
<p>I have made a PR adding a single lemma.<br>
<a href="/user_uploads/3121/QTfxVJNuaSXgPDPv-U5q3BUJ/image.png">image.png</a> <br>
I have given it the label easy.<br>
Is there any other label I need to give it?</p>
<div class="message_inline_image"><a href="/user_uploads/3121/QTfxVJNuaSXgPDPv-U5q3BUJ/image.png" title="image.png"><img src="/user_uploads/3121/QTfxVJNuaSXgPDPv-U5q3BUJ/image.png"></a></div>



<a name="244683925"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/244683925" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#244683925">(Jul 02 2021 at 10:23)</a>:</h4>
<p>awaiting-review is a good one</p>



<a name="244683974"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/244683974" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#244683974">(Jul 02 2021 at 10:23)</a>:</h4>
<p>Is there anything else I need to do other than waiting?</p>



<a name="244685039"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/244685039" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#244685039">(Jul 02 2021 at 10:36)</a>:</h4>
<p>I'll go look at <a href="https://github.com/leanprover-community/mathlib/issues/8179">#8179</a> now</p>



<a name="244724979"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/244724979" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#244724979">(Jul 02 2021 at 16:14)</a>:</h4>
<p>If I am to contribute a large portion to an existing file. Am I supposed to add my name to the existing file header?<br>
For example, if the header is </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c">/-</span><span class="cm"></span>
<span class="cm">Copyright (c) 2015 Joe Cool. All rights reserved.</span>
<span class="cm">Released under Apache 2.0 license as described in the file LICENSE.</span>
<span class="cm">Author: Joe Cool.</span>
<span class="cm">-/</span>
</code></pre></div>
<p>should I add my name to the first line and the third line or the third line only?</p>



<a name="244728339"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/244728339" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#244728339">(Jul 02 2021 at 16:43)</a>:</h4>
<p>I believe the first line is not supposed to be modified, so the third line only.</p>



<a name="244728607"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/244728607" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#244728607">(Jul 02 2021 at 16:45)</a>:</h4>
<p>(The correct format, for easy parsing, is <code>Authors: Joe Cool, Alex Zhang</code>, separated by commas and no <code>.</code> at the end, by the way.)</p>



<a name="244734108"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/244734108" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#244734108">(Jul 02 2021 at 17:30)</a>:</h4>
<p>The rough idea is that you should add yourself to the author list if you're a good person to ask about the contents of the file (as well as having authored parts of it)</p>



<a name="246160857"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/246160857" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kalle Kytölä <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#246160857">(Jul 15 2021 at 21:47)</a>:</h4>
<p>A practical newbie-question about PRs. The tutorial video "Making pull requests to mathlib" explains very clearly how to make a single PR, from a newly created branch of mathlib. I'd like to know what is the recommended way to make multiple PRs (perhaps even simultaneously).</p>
<p>One obvious way would to create a new branch for every PR and follow the tutorial. But it seems like this might result in an unnecessarily large number of branches of mathlib. Is this an issue at all, if all my branches are in a "subfolder", say if all are of the form <code>kkytola/*</code>? Should I in fact create a new branch for every PR? <span aria-label="dizzy" class="emoji emoji-1f635" role="img" title="dizzy">:dizzy:</span></p>



<a name="246160926"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/246160926" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kalle Kytölä <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#246160926">(Jul 15 2021 at 21:48)</a>:</h4>
<p>There are two  reasons I ask.</p>
<p>The more immediate one is that in my second ever PR <a href="https://github.com/leanprover-community/mathlib/issues/8329">#8329</a>, it seems also my very first PR shows as diff, although the first PR <a href="https://github.com/leanprover-community/mathlib/issues/8187">#8187</a> had already been merged to <code>master</code> (I made both from the same branch). I <em>tried</em> to also merge <code>master</code> back to my branch before making the second PR. I have no idea why it shows the old differences, since these should be neither differences to my own branch nor to master. <span aria-label="anguished" class="emoji emoji-1f627" role="img" title="anguished">:anguished:</span></p>
<p>There is also a more general reason I am asking this. Here I will be assuming that I just messed up something when creating two <em>consecutive</em> PRs from the same branch, and this otherwise this could have been done cleanly. But what is the best way to do multiple <em>simultaneous</em> (small) PRs? If it is desirable to avoid a large number of separate branches, how should this be done? I imagine there could be two different cases: simultaneous PRs that don't depend on each other (say touch different files that don't import each other), and simultaneous PR's of which one depends on another. I have noticed the dependent PR tag in Github, but how it should be handled on the level of branches?</p>



<a name="246161018"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/246161018" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#246161018">(Jul 15 2021 at 21:49)</a>:</h4>
<p>Branches are cheap, especially since bors will delete the branch for you after the PR is merged</p>



<a name="246161031"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/246161031" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#246161031">(Jul 15 2021 at 21:49)</a>:</h4>
<p>Making multiple branches is indeed the correct way to do it! Git is smart enough to recognize when two branches share identical files, so branching is a very "cheap" operation.</p>



<a name="246161101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/246161101" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#246161101">(Jul 15 2021 at 21:50)</a>:</h4>
<p>But putting them in a "folder" starting with your username is usually a good idea, as you mention</p>



<a name="246161141"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/246161141" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#246161141">(Jul 15 2021 at 21:50)</a>:</h4>
<p>Since then there's no risk of you picking a branch name someone else is using and clobbering their work</p>



<a name="246161176"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/246161176" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#246161176">(Jul 15 2021 at 21:51)</a>:</h4>
<p>(In fact, branches are not much more than a name + reference to a commit, so you can create hundreds of branches without fear.)</p>



<a name="246161310"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/246161310" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#246161310">(Jul 15 2021 at 21:52)</a>:</h4>
<p>If you want to make simultaneous PRs, that do not depend on each other, make sure to <code>git checkout master</code> before creating a new branch. That way, your previous commit will not be included in the history of the new branch.</p>



<a name="246161464"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/246161464" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#246161464">(Jul 15 2021 at 21:54)</a>:</h4>
<p>Also make sure to rerun <code>leanproject get-cache</code> after checking out master before working on the second branch, as you might have a messy cache left from the first branch.</p>



<a name="246161537"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/246161537" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#246161537">(Jul 15 2021 at 21:55)</a>:</h4>
<p>To fix <a href="https://github.com/leanprover-community/mathlib/issues/8329">#8329</a>, the following steps should be enough:</p>
<ul>
<li>git checkout kkytola/first_pr</li>
<li>git fetch origin</li>
<li>git merge origin/master</li>
<li>git push</li>
</ul>



<a name="246161542"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/246161542" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#246161542">(Jul 15 2021 at 21:55)</a>:</h4>
<p>(does vscode modify the cache?)</p>



<a name="246162147"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/246162147" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kalle Kytölä <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#246162147">(Jul 15 2021 at 22:01)</a>:</h4>
<p>Thank you so much for incredibly fast and helpful answers, Eric and Anne!</p>
<p>I'll try to fix my PR as proposed by Anne.</p>



<a name="246162480"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/246162480" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#246162480">(Jul 15 2021 at 22:04)</a>:</h4>
<p><span class="user-mention silent" data-user-id="373986">Kalle Kytölä</span> <a href="#narrow/stream/113489-new-members/topic/about.20PR/near/246162147">said</a>:</p>
<blockquote>
<p>Thank you so much for incredibly fast and helpful answers, Eric and Anne!</p>
</blockquote>
<p>You are welcome, and thanks to you for contributing to mathlib! (I need something to do while my code is compiling!)</p>



<a name="246162487"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/246162487" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kalle Kytölä <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#246162487">(Jul 15 2021 at 22:04)</a>:</h4>
<p>Doing Anne's fix, I realize my mistake was I forgot the <code>origin</code> in <code>origin/master</code> when I tried to merge to master before the second PR (I essentially only ever used git on my own computer, complete newbie with PRs). So master had not in fact been merged back to my branch... This would have been avoided by a fresh branch, so that's what I think I will do in the future.</p>



<a name="246162504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/246162504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#246162504">(Jul 15 2021 at 22:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="373986">Kalle Kytölä</span> <a href="#narrow/stream/113489-new-members/topic/about.20PR/near/246162147">said</a>:</p>
<blockquote>
<p>I'll try to fix my PR as proposed by Anne.</p>
</blockquote>
<p>Looks good now <span aria-label="octopus" class="emoji emoji-1f419" role="img" title="octopus">:octopus:</span></p>



<a name="246162671"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/246162671" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#246162671">(Jul 15 2021 at 22:07)</a>:</h4>
<p><span class="user-mention silent" data-user-id="373986">Kalle Kytölä</span> <a href="#narrow/stream/113489-new-members/topic/about.20PR/near/246162487">said</a>:</p>
<blockquote>
<p>Doing Anne's fix, I realize my mistake was I forgot the <code>origin</code> in <code>origin/master</code> when I tried to merge to master before the second PR. So master had not in fact been merged back to my branch... This would have been avoided by a new branch, so that's what I think I will do in the future.</p>
</blockquote>
<p>I already suspected something like that :) Especially when you're just starting out, it is hard to distinguish between <code>master</code> and <code>origin/master</code> and what GitHub calls <code>master</code> at this moment (all of these are different!)</p>



<a name="246162999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/246162999" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kalle Kytölä <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#246162999">(Jul 15 2021 at 22:11)</a>:</h4>
<p>Wait, so <code>master</code> is my local branch master, I guess? And <code>origin/master</code> is the branch master in the remote something, where the repository mainly lives (sorry, technical accuracy with this is obviously not my forte). But isn't that in GitHub? So why would GitHub's <code>master</code> be yet different?</p>



<a name="246163255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/246163255" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#246163255">(Jul 15 2021 at 22:14)</a>:</h4>
<p><code>origin/master</code> wass the most recent version of <code>master</code> branch, at the most recent point in time that Git fetched the branches from the remote repository called <code>origin</code> (i.e. in our case, GitHub)</p>



<a name="246163277"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/246163277" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#246163277">(Jul 15 2021 at 22:14)</a>:</h4>
<p>By including <code>git fetch origin</code> in the above list of commands, I made sure that this was as up to date as possible</p>



<a name="246163313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/246163313" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#246163313">(Jul 15 2021 at 22:15)</a>:</h4>
<p>Otherwise if you hadn't run <code>git pull</code> or <code>git fetch</code> in between, you might still have the version of <code>origin/master</code> from before <a href="https://github.com/leanprover-community/mathlib/issues/8187">#8187</a> was merged!</p>



<a name="246163383"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/246163383" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#246163383">(Jul 15 2021 at 22:16)</a>:</h4>
<p>What's important to know about <code>git</code> is that it is everything is specified by some hash. Everyone agrees on what hash represent what set of files/changes. Each hash can have a number of labeles assigned to it. However, different users can disagree about what label is on what hash! So a branch is just a new label. Your <code>master</code> might be behind the <code>master</code> someone else has, if you haven't incorporated their changes (and updated to what hash the <code>master</code> label points).</p>



<a name="246163433"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/246163433" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#246163433">(Jul 15 2021 at 22:17)</a>:</h4>
<p>Those <code>git pull</code> and <code>git fetch</code> commands basically say, "retrieve the changes that happened upstream", where <code>pull</code> means "and also update my labels".</p>



<a name="246163463"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/246163463" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#246163463">(Jul 15 2021 at 22:17)</a>:</h4>
<p>Because you cloned from github, your <code>upstream</code> is github. It doesn't need to be in the general case, but for mathlib, that is what makes sense.</p>



<a name="246163695"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/246163695" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#246163695">(Jul 15 2021 at 22:20)</a>:</h4>
<p>I just looked at my <code>git log</code> and saw</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">*</span>   <span class="n">commit</span> <span class="n">eaffefa2412fad5da091f344761d09532ef0c0b3</span> <span class="o">(</span><span class="n">origin</span><span class="bp">/</span><span class="n">kkytola</span><span class="bp">/</span><span class="n">first_pr</span><span class="o">)</span>
<span class="bp">|\</span>  <span class="n">Merge</span><span class="o">:</span> <span class="mi">5</span><span class="n">bb2c00d0</span> <span class="n">b577bb2cd</span>
<span class="bp">|</span> <span class="bp">|</span> <span class="n">Author</span><span class="o">:</span> <span class="n">Kalle</span><span class="bp">-</span><span class="n">swift</span> <span class="bp">&lt;</span><span class="n">kalle.kytola</span><span class="bp">@</span><span class="n">aalto.fi</span><span class="bp">&gt;</span>
<span class="bp">|</span> <span class="bp">|</span> <span class="n">Date</span><span class="o">:</span>   <span class="n">Fri</span> <span class="n">Jul</span> <span class="mi">16</span> <span class="mi">01</span><span class="o">:</span><span class="mi">02</span><span class="o">:</span><span class="mi">28</span> <span class="mi">2021</span> <span class="bp">+</span><span class="mi">0300</span>
<span class="bp">|</span> <span class="bp">|</span>
<span class="bp">|</span> <span class="bp">|</span>     <span class="n">Merge</span> <span class="n">remote</span><span class="bp">-</span><span class="n">tracking</span> <span class="n">branch</span> <span class="bp">'</span><span class="n">origin</span><span class="bp">/</span><span class="n">master'</span> <span class="n">into</span> <span class="n">kkytola</span><span class="bp">/</span><span class="n">first_pr</span>
<span class="bp">|</span> <span class="bp">|</span>
<span class="bp">|</span> <span class="bp">*</span> <span class="n">commit</span> <span class="n">b577bb2cd1f96eb47031878256856020b76f73cd</span> <span class="o">(</span><span class="n">origin</span><span class="bp">/</span><span class="n">staging</span><span class="o">,</span> <span class="n">origin</span><span class="bp">/</span><span class="n">master</span><span class="o">,</span> <span class="n">origin</span><span class="bp">/</span><span class="n">lean</span><span class="bp">-</span><span class="mi">3</span><span class="bp">.</span><span class="mi">31</span><span class="bp">.</span><span class="mi">0</span><span class="o">,</span> <span class="n">origin</span><span class="bp">/</span><span class="n">HEAD</span><span class="o">)</span>
<span class="bp">|</span> <span class="bp">|</span> <span class="n">Author</span><span class="o">:</span> <span class="n">R</span><span class="bp">é</span><span class="n">my</span> <span class="n">Degenne</span> <span class="bp">&lt;</span><span class="n">Remydegenne</span><span class="bp">@</span><span class="n">gmail.com</span><span class="bp">&gt;</span>
<span class="bp">|</span> <span class="bp">|</span> <span class="n">Date</span><span class="o">:</span>   <span class="n">Thu</span> <span class="n">Jul</span> <span class="mi">15</span> <span class="mi">21</span><span class="o">:</span><span class="mi">23</span><span class="o">:</span><span class="mi">27</span> <span class="mi">2021</span> <span class="bp">+</span><span class="mi">0000</span>
<span class="bp">|</span> <span class="bp">|</span>
<span class="bp">|</span> <span class="bp">|</span>     <span class="n">feat</span><span class="o">(</span><span class="n">measure_theory</span><span class="bp">/</span><span class="n">conditional_expectation</span><span class="o">):</span> <span class="n">define</span> <span class="n">condexp_L2</span><span class="o">,</span> <span class="n">conditional</span> <span class="n">expectation</span> <span class="n">of</span> <span class="n">L2</span> <span class="n">functions</span> <span class="o">(</span><span class="bp">#</span><span class="mi">8324</span><span class="o">)</span>
</code></pre></div>



<a name="246163717"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/246163717" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#246163717">(Jul 15 2021 at 22:21)</a>:</h4>
<p>which shows all the different labels people have</p>



<a name="246163962"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/246163962" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#246163962">(Jul 15 2021 at 22:24)</a>:</h4>
<p>So your label of what <code>master</code> is might differ from what my label, or github's label is. And when you say <code>git merge master</code>, it merges based on what your label is at the moment.</p>



<a name="246164003"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/246164003" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#246164003">(Jul 15 2021 at 22:25)</a>:</h4>
<p>Even if you said <code>git merge origin/master</code>, it would merge what you thought the <code>origin/master</code> label to be at the moment. That step doesn't say "let me first check what it is at <code>origin</code>." Because then how would git work when you're not connected to the internet?</p>



<a name="246164312"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/246164312" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#246164312">(Jul 15 2021 at 22:29)</a>:</h4>
<p>In fact, you don't even need to connect to a website like GitHub in order to share commits: the Linux kernel, which Git was originally created for, sends all their commits by email</p>



<a name="246205250"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/246205250" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#246205250">(Jul 16 2021 at 10:07)</a>:</h4>
<p><span class="user-mention silent" data-user-id="373986">Kalle Kytölä</span> <a href="#narrow/stream/113489-new-members/topic/about.20PR/near/246160857">said</a>:</p>
<blockquote>
<p>Is this an issue at all, if all my branches are in a "subfolder", say if all are of the form <code>kkytola/*</code>?</p>
</blockquote>
<p>Putting a <code>/</code> in a branch name is an incredibly bad idea. git itself won't be confused but you will probably, and there there is no guarantee that <code>leanproject</code> won't. You can replace that <code>/</code> with an underscore for instance.</p>



<a name="246205659"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/246205659" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#246205659">(Jul 16 2021 at 10:13)</a>:</h4>
<p>I don't agree with that statement <del>at all</del> (edit: I misread it as claiming git would be confused). My visual git client even groups together such branches under a subfolder.</p>



<a name="246205777"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/246205777" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#246205777">(Jul 16 2021 at 10:14)</a>:</h4>
<p>Many projects use such a branch naming structure to group "maintenance" branches that correspond to old releases (not that mathlib has any interest in releases!)</p>



<a name="246208376"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/246208376" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#246208376">(Jul 16 2021 at 10:48)</a>:</h4>
<p>Eric, in France almost half the population is reluctant to get a Covid vaccine, mostly because the government insists so much so it must be trap. That's about 35 million people are dead wrong. Those things happen.</p>



<a name="258383848"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/258383848" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kalle Kytölä <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#258383848">(Oct 20 2021 at 15:04)</a>:</h4>
<p>Are there some instructions on creating dependent PRs? Will it work if I create a branch out of another branch from which an existing PR has been made and then select a tag?</p>



<a name="258383975"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/258383975" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#258383975">(Oct 20 2021 at 15:04)</a>:</h4>
<p><span class="user-mention" data-user-id="373986">@Kalle Kytölä</span> What do you mean with "select a tag"?</p>



<a name="258384009"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/258384009" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#258384009">(Oct 20 2021 at 15:04)</a>:</h4>
<p>The rest of what you said sounds good. It should just work.</p>



<a name="258384365"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/258384365" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kalle Kytölä <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#258384365">(Oct 20 2021 at 15:06)</a>:</h4>
<p>I meant from the "label"s (sorry, not "tag"s) on GitHub in the PR. I though I had seen one indicating dependence, but I now didn't find it.</p>



<a name="258384416"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/258384416" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#258384416">(Oct 20 2021 at 15:07)</a>:</h4>
<p><span class="user-mention" data-user-id="373986">@Kalle Kytölä</span> aha, you mean <code>blocked-by-other-PR</code>.</p>



<a name="258384434"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/258384434" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#258384434">(Oct 20 2021 at 15:07)</a>:</h4>
<p>That's handled by a bot.</p>



<a name="258384520"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/258384520" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#258384520">(Oct 20 2021 at 15:07)</a>:</h4>
<p>If you create a new PR, there is some text in the PR form input box thingy. It explains how to mark another PR as dependent PR.</p>



<a name="258384558"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/258384558" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kalle Kytölä <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#258384558">(Oct 20 2021 at 15:07)</a>:</h4>
<p>Thank you!</p>



<a name="258384640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/about%20PR/near/258384640" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/about.20PR.html#258384640">(Oct 20 2021 at 15:08)</a>:</h4>
<p>See the top post of <a href="https://github.com/leanprover-community/mathlib/issues/9748">#9748</a> for a random example</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>