---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/About.20measures.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html">About measures</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="200003237"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/About%20measures/near/200003237" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Viana <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html#200003237">(Jun 07 2020 at 02:20)</a>:</h4>
<p>Thanks!</p>



<a name="200003286"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/About%20measures/near/200003286" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Viana <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html#200003286">(Jun 07 2020 at 02:22)</a>:</h4>
<p>(deleted)</p>



<a name="200005131"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/About%20measures/near/200005131" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Viana <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html#200005131">(Jun 07 2020 at 03:23)</a>:</h4>
<p>I am now stuck defining a measure on R/Z1 identified with the unit interval. Like, I can use <code>quot</code> to define the type and have my real functions lifted to the interval, but how can I then use the identification to "lift" the lebesgue measure to it (pushforward measure)?</p>



<a name="200005918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/About%20measures/near/200005918" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Viana <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html#200005918">(Jun 07 2020 at 03:50)</a>:</h4>
<p>So I thought I had defined the equivalence relation with <code>%</code> as <code>mod</code>, but it turns out it just outputs the mod of the floor of the real number. Is there a proper <code>mod</code> function for real numbers?</p>



<a name="200006301"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/About%20measures/near/200006301" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Pedro Minicz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html#200006301">(Jun 07 2020 at 04:03)</a>:</h4>
<p>The first thing I looked for was also <code>mod</code> for reals. Couldn't find it on mathlib and I believe its not defined anywhere.</p>



<a name="200006352"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/About%20measures/near/200006352" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Pedro Minicz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html#200006352">(Jun 07 2020 at 04:04)</a>:</h4>
<p>I think you may have seen it on my thread, but I settled for <code>a ~ b</code> defined as <code>b - a ∈  ℤ</code>, which should work nice (caution: unverified assertion).</p>



<a name="200006474"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/About%20measures/near/200006474" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html#200006474">(Jun 07 2020 at 04:08)</a>:</h4>
<p>Couldn't you take the preimage of the set under the quotient map (resulting in a periodic subset of R), and then intersect with [0, 1] and read off the measure that way?</p>



<a name="200006487"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/About%20measures/near/200006487" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html#200006487">(Jun 07 2020 at 04:09)</a>:</h4>
<p>Is this an instance of a general construction? It's not obvious to me how to do this in general because the preimage alone doesn't cut it</p>



<a name="200006527"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/About%20measures/near/200006527" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html#200006527">(Jun 07 2020 at 04:10)</a>:</h4>
<p>While mod may not be defined on real, I think there is a <code>frac</code> function (which returns the fractional part of a real number) IIRC</p>



<a name="200006530"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/About%20measures/near/200006530" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html#200006530">(Jun 07 2020 at 04:10)</a>:</h4>
<p>*<code>fract</code></p>



<a name="200006531"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/About%20measures/near/200006531" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sam Lichtenstein <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html#200006531">(Jun 07 2020 at 04:10)</a>:</h4>
<p>Haar measure for quotient of locally compact top groups by nice subgroups?</p>



<a name="200006533"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/About%20measures/near/200006533" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html#200006533">(Jun 07 2020 at 04:11)</a>:</h4>
<p>Haar measure isn't unique though</p>



<a name="200006537"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/About%20measures/near/200006537" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html#200006537">(Jun 07 2020 at 04:11)</a>:</h4>
<p>at the very least it would have to have a reference subset as input</p>



<a name="200006574"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/About%20measures/near/200006574" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html#200006574">(Jun 07 2020 at 04:12)</a>:</h4>
<p>But I don't think mathlib has Haar measure yet</p>



<a name="200006580"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/About%20measures/near/200006580" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sam Lichtenstein <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html#200006580">(Jun 07 2020 at 04:12)</a>:</h4>
<p>i just checked and didn’t see it</p>



<a name="200006581"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/About%20measures/near/200006581" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Viana <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html#200006581">(Jun 07 2020 at 04:12)</a>:</h4>
<p>If it has fract it should be easy to define <code>x % k</code> as <code>k * fract (x / k)</code>, no?</p>



<a name="200006586"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/About%20measures/near/200006586" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html#200006586">(Jun 07 2020 at 04:13)</a>:</h4>
<p>There is nothing fundamental blocking mod from being defined, I think we just didn't need it for anything</p>



<a name="200006588"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/About%20measures/near/200006588" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html#200006588">(Jun 07 2020 at 04:13)</a>:</h4>
<p>although it is worth thinking about in what generality to state it</p>



<a name="200006629"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/About%20measures/near/200006629" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html#200006629">(Jun 07 2020 at 04:14)</a>:</h4>
<p><code>fract</code> is defined over any <code>floor_ring</code></p>



<a name="200006640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/About%20measures/near/200006640" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html#200006640">(Jun 07 2020 at 04:15)</a>:</h4>
<p>(I still don't see a reason for it from this conversation though)</p>



<a name="200006701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/About%20measures/near/200006701" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Viana <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html#200006701">(Jun 07 2020 at 04:17)</a>:</h4>
<p>Maybe it is not necessary, but I found it confusing that % in the reals returns integers (it took me a while before I realized what it was doing)</p>



<a name="200006749"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/About%20measures/near/200006749" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html#200006749">(Jun 07 2020 at 04:18)</a>:</h4>
<p>That sounds odd to me as well, I'm not sure what coercions made that happen</p>



<a name="200006770"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/About%20measures/near/200006770" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html#200006770">(Jun 07 2020 at 04:19)</a>:</h4>
<p>Oh, it's using <code>euclidean_domain.has_mod</code></p>



<a name="200006773"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/About%20measures/near/200006773" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html#200006773">(Jun 07 2020 at 04:19)</a>:</h4>
<p>hm, that will complicate things</p>



<a name="200006858"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/About%20measures/near/200006858" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html#200006858">(Jun 07 2020 at 04:21)</a>:</h4>
<p>wait no, the definition of remainder in a field is <code>λ a b, a - a * b / b</code> which should be 0 in all reasonable cases</p>



<a name="200006925"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/About%20measures/near/200006925" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html#200006925">(Jun 07 2020 at 04:22)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">example</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">y</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span> <span class="n">x</span> <span class="err">%</span> <span class="n">y</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="k">show</span> <span class="n">x</span> <span class="bp">-</span> <span class="bp">_</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">,</span> <span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">h</span><span class="o">]</span>
</code></pre></div>



<a name="200006990"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/About%20measures/near/200006990" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Viana <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html#200006990">(Jun 07 2020 at 04:24)</a>:</h4>
<p>But if y is a Int does this holds? I am away from my computer now, but I remember <code>#eval 3.4 % 2</code> would return 1</p>



<a name="200007003"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/About%20measures/near/200007003" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html#200007003">(Jun 07 2020 at 04:25)</a>:</h4>
<p>You didn't provide any type there, so it probably defaults to nat</p>



<a name="200007051"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/About%20measures/near/200007051" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html#200007051">(Jun 07 2020 at 04:26)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">set_option</span> <span class="n">pp</span><span class="bp">.</span><span class="n">implicit</span> <span class="n">true</span>
<span class="kn">set_option</span> <span class="n">pp</span><span class="bp">.</span><span class="kn">notation</span> <span class="n">false</span>
<span class="bp">#</span><span class="kn">check</span> <span class="mi">3</span><span class="bp">.</span><span class="mi">4</span> <span class="err">%</span> <span class="mi">2</span>
<span class="c1">-- @has_mod.mod nat nat.has_mod (@has_div.div nat nat.has_div 17 5) 2 : nat</span>
</code></pre></div>



<a name="200007059"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/About%20measures/near/200007059" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html#200007059">(Jun 07 2020 at 04:26)</a>:</h4>
<p>3.4 is being interpreted as <code>17 / 5 : nat</code> which is floored division resulting in 3</p>



<a name="200007064"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/About%20measures/near/200007064" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html#200007064">(Jun 07 2020 at 04:26)</a>:</h4>
<p>and 3 % 2 = 1</p>



<a name="200007079"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/About%20measures/near/200007079" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html#200007079">(Jun 07 2020 at 04:27)</a>:</h4>
<p>If y is an int then it will infer that everything is an int and you will still get 1</p>



<a name="200007084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/About%20measures/near/200007084" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Viana <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html#200007084">(Jun 07 2020 at 04:27)</a>:</h4>
<p>Hm, this makes sense</p>



<a name="200007112"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/About%20measures/near/200007112" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html#200007112">(Jun 07 2020 at 04:28)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">set_option</span> <span class="n">pp</span><span class="bp">.</span><span class="n">implicit</span> <span class="n">true</span>
<span class="kn">set_option</span> <span class="n">pp</span><span class="bp">.</span><span class="kn">notation</span> <span class="n">false</span>
<span class="bp">#</span><span class="kn">check</span> <span class="mi">3</span><span class="bp">.</span><span class="mi">4</span> <span class="err">%</span> <span class="o">(</span><span class="mi">2</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span>
<span class="c1">-- @has_mod.mod int int.has_mod (@has_div.div int int.has_div 17 5) 2 : int</span>
</code></pre></div>



<a name="200007122"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/About%20measures/near/200007122" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Viana <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html#200007122">(Jun 07 2020 at 04:28)</a>:</h4>
<p>Thanks!</p>



<a name="200007129"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/About%20measures/near/200007129" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html#200007129">(Jun 07 2020 at 04:28)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="bp">#</span><span class="kn">check</span> <span class="o">(</span><span class="mi">3</span><span class="bp">.</span><span class="mi">4</span> <span class="err">%</span> <span class="mi">2</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span>
</code></pre></div>


<p>works, but you can't eval it because it's a real</p>



<a name="200007136"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/About%20measures/near/200007136" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html#200007136">(Jun 07 2020 at 04:29)</a>:</h4>
<p>but it is provably zero as shown above</p>



<a name="200007199"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/About%20measures/near/200007199" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/About.20measures.html#200007199">(Jun 07 2020 at 04:30)</a>:</h4>
<p>I think <code>euclidean_domain</code> should probably be decoupled from the div and mod notations</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>