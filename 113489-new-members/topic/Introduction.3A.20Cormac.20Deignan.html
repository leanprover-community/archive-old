---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Introduction.3A.20Cormac.20Deignan.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Introduction.3A.20Cormac.20Deignan.html">Introduction: Cormac Deignan</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="275505175"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Introduction%3A%20Cormac%20Deignan/near/275505175" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Cormac Deignan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Introduction.3A.20Cormac.20Deignan.html#275505175">(Mar 16 2022 at 12:47)</a>:</h4>
<p>Hello everyone, hope all is well. I'm a maths student interested in Lean, but am still only a learner. Not sure if this is the right place for it, but I'm stuck on this problem:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">x</span> <span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="mi">1</span> <span class="bp">+</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span><span class="bp">^</span><span class="n">n</span><span class="o">)</span><span class="bp">^</span><span class="mi">2</span><span class="o">)</span> <span class="bp">/</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">-</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">n</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="gr">sorry</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>I tried ring_exp, but no luck. I know this is probably a trivial question, (or already explained somewhere here),  so thanks in advance for any help.</p>



<a name="275505695"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Introduction%3A%20Cormac%20Deignan/near/275505695" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Introduction.3A.20Cormac.20Deignan.html#275505695">(Mar 16 2022 at 12:52)</a>:</h4>
<p>This is false:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic.slim_check</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">x</span> <span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="mi">1</span> <span class="bp">+</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span><span class="bp">^</span><span class="n">n</span><span class="o">)</span><span class="bp">^</span><span class="mi">2</span><span class="o">)</span> <span class="bp">/</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">-</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">n</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">slim_check</span>
</code></pre></div>



<a name="275505765"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Introduction%3A%20Cormac%20Deignan/near/275505765" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Introduction.3A.20Cormac.20Deignan.html#275505765">(Mar 16 2022 at 12:53)</a>:</h4>
<p>The issue is that subtraction and division for natural numbers don't behave as mathematicians usually expect.</p>



<a name="275506345"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Introduction%3A%20Cormac%20Deignan/near/275506345" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Introduction.3A.20Cormac.20Deignan.html#275506345">(Mar 16 2022 at 12:58)</a>:</h4>
<p>The solution is to prove</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">x</span> <span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">+</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">n</span> <span class="o">:</span> <span class="n">ℚ</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span><span class="bp">^</span><span class="n">n</span><span class="o">)</span><span class="bp">^</span><span class="mi">2</span><span class="o">)</span> <span class="bp">/</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">-</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">n</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="gr">sorry</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="275506650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Introduction%3A%20Cormac%20Deignan/near/275506650" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Introduction.3A.20Cormac.20Deignan.html#275506650">(Mar 16 2022 at 13:00)</a>:</h4>
<p>Note that this is still false for <code>x ^ n = 1</code>, since you'll be dividing by <code>0</code>.</p>



<a name="275507396"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Introduction%3A%20Cormac%20Deignan/near/275507396" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Introduction.3A.20Cormac.20Deignan.html#275507396">(Mar 16 2022 at 13:06)</a>:</h4>
<p>Here's a proof with the additional assumption that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>x</mi><mi>n</mi></msup><mo mathvariant="normal">≠</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">x^n \neq 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.rat.basic</span>
<span class="kn">import</span> <span class="n">tactic.field_simp</span>
<span class="kn">import</span> <span class="n">tactic.ring</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">x</span> <span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">x</span><span class="bp">^</span><span class="n">n</span> <span class="bp">≠</span> <span class="mi">1</span><span class="o">):</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">+</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">n</span> <span class="o">:</span> <span class="n">ℚ</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span><span class="bp">^</span><span class="n">n</span><span class="o">)</span><span class="bp">^</span><span class="mi">2</span><span class="o">)</span> <span class="bp">/</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">-</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">n</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">have</span> <span class="o">:</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">-</span> <span class="n">x</span><span class="bp">^</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℚ</span><span class="o">)</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">contrapose</span> <span class="n">h</span><span class="o">,</span>
    <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">not_not</span><span class="o">]</span> <span class="n">at</span> <span class="n">h</span> <span class="bp">⊢</span><span class="o">,</span>
    <span class="n">rw</span> <span class="n">sub_eq_zero</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
    <span class="n">exact_mod_cast</span> <span class="n">h.symm</span> <span class="o">},</span>
  <span class="n">field_simp</span><span class="o">,</span>
  <span class="n">ring</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="275507709"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Introduction%3A%20Cormac%20Deignan/near/275507709" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Introduction.3A.20Cormac.20Deignan.html#275507709">(Mar 16 2022 at 13:09)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code>  <span class="o">{</span> <span class="n">contrapose</span> <span class="n">h</span><span class="o">,</span>
    <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">not_not</span><span class="o">]</span> <span class="n">at</span> <span class="n">h</span> <span class="bp">⊢</span><span class="o">,</span>
</code></pre></div>
<p>can probably be</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code>  <span class="o">{</span> <span class="n">contrapose</span><span class="bp">!</span> <span class="n">h</span><span class="o">,</span>
</code></pre></div>



<a name="275507880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Introduction%3A%20Cormac%20Deignan/near/275507880" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Introduction.3A.20Cormac.20Deignan.html#275507880">(Mar 16 2022 at 13:10)</a>:</h4>
<p>Yeah, I always forget <code>contrapose!</code> exists ;)</p>



<a name="275508277"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Introduction%3A%20Cormac%20Deignan/near/275508277" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Introduction.3A.20Cormac.20Deignan.html#275508277">(Mar 16 2022 at 13:14)</a>:</h4>
<p>Why not just <code>intro h</code>?</p>



<a name="275508382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Introduction%3A%20Cormac%20Deignan/near/275508382" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Introduction.3A.20Cormac.20Deignan.html#275508382">(Mar 16 2022 at 13:14)</a>:</h4>
<p>sure, you can <code>intro c, apply h</code>, but I think the word "contrapose" hits closer to home for most mathematicians....</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>