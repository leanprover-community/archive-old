---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Is.20there.20a.20better.20way.20to.20define.20this.3F.20(category.20theory).html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20there.20a.20better.20way.20to.20define.20this.3F.20(category.20theory).html">Is there a better way to define this? (category theory)</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="263556409"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20there%20a%20better%20way%20to%20define%20this%3F%20%28category%20theory%29/near/263556409" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jujian Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20there.20a.20better.20way.20to.20define.20this.3F.20(category.20theory).html#263556409">(Dec 03 2021 at 09:55)</a>:</h4>
<p>In an abelian category, given an exact sequence <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><munderover><mo stretchy="true" minsize="3.0em">→</mo><mpadded width="+0.6em" lspace="0.3em"><mrow></mrow></mpadded><mpadded width="+0.6em" lspace="0.3em"><mrow></mrow></mpadded></munderover><mi>A</mi><munderover><mo stretchy="true" minsize="3.0em">→</mo><mpadded width="+0.6em" lspace="0.3em"><mrow></mrow></mpadded><mpadded width="+0.6em" lspace="0.3em"><mi>f</mi></mpadded></munderover><mi>B</mi><munderover><mo stretchy="true" minsize="3.0em">→</mo><mpadded width="+0.6em" lspace="0.3em"><mrow></mrow></mpadded><mpadded width="+0.6em" lspace="0.3em"><mi>g</mi></mpadded></munderover><mi>C</mi></mrow><annotation encoding="application/x-tex">0 \xrightarrow[]{} A \xrightarrow[]{f} B \xrightarrow[]{g} C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7664em;vertical-align:-0.122em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.622em;"><span style="top:-3.144em;"><span class="pstrut" style="height:2.522em;"></span><span class="sizing reset-size6 size3 mtight x-arrow-pad"><span class="mord mtight"></span></span></span><span class="svg-align" style="top:-2.511em;"><span class="pstrut" style="height:2.522em;"></span><span class="hide-tail" style="height:0.522em;min-width:1.469em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span><span style="top:-2.4em;"><span class="pstrut" style="height:2.522em;"></span><span class="sizing reset-size6 size3 mtight x-arrow-pad"><span class="mord mtight"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.122em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2301em;vertical-align:-0.122em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1081em;"><span style="top:-3.322em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="svg-align" style="top:-2.689em;"><span class="pstrut" style="height:2.7em;"></span><span class="hide-tail" style="height:0.522em;min-width:1.469em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span><span style="top:-2.578em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight x-arrow-pad"><span class="mord mtight"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.122em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0454em;vertical-align:-0.122em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9234em;"><span style="top:-3.322em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span></span></span><span class="svg-align" style="top:-2.689em;"><span class="pstrut" style="height:2.7em;"></span><span class="hide-tail" style="height:0.522em;min-width:1.469em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span><span style="top:-2.578em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight x-arrow-pad"><span class="mord mtight"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.122em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span> and a <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi><mo>:</mo><mi>D</mi><mo>→</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">h : D\rightarrow B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> such that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mi>h</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">gh=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>. I want a map <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>h</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>:</mo><mi>D</mi><mo>→</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">h&#x27; : D \rightarrow A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7519em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> such that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><msup><mi>h</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>=</mo><mi>h</mi></mrow><annotation encoding="application/x-tex">f h&#x27; = h</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9463em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">h</span></span></span></span>. My method of creating such <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>h</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></mrow><annotation encoding="application/x-tex">h&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7519em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span> involves rewriting equality between kernel subobject and image subobject so it is very difficult to use it when proving commutativity. Is there any way to create <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>h</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></mrow><annotation encoding="application/x-tex">h&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7519em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span> without using <code>eq.mp</code>? Thank you very much.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">category_theory.abelian.exact</span>

<span class="kd">noncomputable theory</span>

<span class="kn">open</span> <span class="n">category_theory</span>
<span class="kn">open</span> <span class="n">category_theory.limits</span>

<span class="kd">universes</span> <span class="n">v</span> <span class="n">u</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">V</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">[</span><span class="n">category.</span><span class="o">{</span><span class="n">v</span><span class="o">}</span> <span class="n">V</span><span class="o">]</span> <span class="o">[</span><span class="n">abelian</span> <span class="n">V</span><span class="o">]</span>

<span class="n">open_locale</span> <span class="n">zero_object</span>


<span class="kd">variables</span> <span class="o">{</span><span class="n">A</span> <span class="n">B</span> <span class="n">C</span> <span class="n">D</span> <span class="o">:</span> <span class="n">V</span><span class="o">}</span>

<span class="sd">/--</span>
<span class="sd">                D</span>
<span class="sd">                |</span>
<span class="sd">                h</span>
<span class="sd">                |</span>
<span class="sd">                v</span>
<span class="sd">0 ---&gt; A --f--&gt; B --g--&gt; C</span>
<span class="sd">-/</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">⟶</span> <span class="n">B</span><span class="o">}</span> <span class="o">{</span><span class="n">g</span> <span class="o">:</span> <span class="n">B</span> <span class="bp">⟶</span> <span class="n">C</span><span class="o">}</span> <span class="o">{</span><span class="n">h</span> <span class="o">:</span> <span class="n">D</span> <span class="bp">⟶</span> <span class="n">B</span><span class="o">}</span> <span class="o">[</span><span class="n">exact</span> <span class="n">f</span> <span class="n">g</span><span class="o">]</span> <span class="o">[</span><span class="n">mono</span> <span class="n">f</span><span class="o">]</span>
<span class="kd">variables</span> <span class="o">(</span><span class="n">eq_zero</span> <span class="o">:</span> <span class="n">h</span> <span class="bp">≫</span> <span class="n">g</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">)</span>


<span class="kn">include</span> <span class="n">g</span> <span class="n">eq_zero</span>

<span class="kd">example</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">h'</span> <span class="o">:</span> <span class="n">D</span> <span class="bp">⟶</span> <span class="n">A</span><span class="o">,</span> <span class="n">h'</span> <span class="bp">≫</span> <span class="n">f</span> <span class="bp">=</span> <span class="n">h</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">have</span> <span class="n">eq0</span> <span class="o">:</span> <span class="o">(</span><span class="n">D</span> <span class="bp">⟶</span> <span class="n">kernel_subobject</span> <span class="n">g</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(</span><span class="n">D</span> <span class="bp">⟶</span> <span class="n">image_subobject</span> <span class="n">f</span><span class="o">),</span>
    <span class="n">rw</span> <span class="o">(</span><span class="n">abelian.exact_iff_image_eq_kernel</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span><span class="bp">.</span><span class="mi">1</span> <span class="o">(</span><span class="kd">by</span> <span class="n">apply_instance</span><span class="o">),</span>

  <span class="n">set</span> <span class="n">h'</span> <span class="o">:</span> <span class="n">D</span> <span class="bp">⟶</span> <span class="n">A</span> <span class="o">:=</span>
    <span class="o">(</span><span class="n">eq.mp</span> <span class="n">eq0</span>
      <span class="o">(</span><span class="n">kernel.lift</span> <span class="n">g</span> <span class="n">h</span> <span class="n">eq_zero</span> <span class="bp">≫</span> <span class="o">(</span><span class="n">kernel_subobject_iso</span> <span class="n">g</span><span class="o">)</span><span class="bp">.</span><span class="n">inv</span><span class="o">))</span> <span class="bp">≫</span> <span class="o">(</span><span class="n">image_subobject_iso</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">hom</span>
      <span class="bp">≫</span> <span class="n">image.lift</span> <span class="o">(</span><span class="n">mono_factorisation.self</span> <span class="n">f</span><span class="o">)</span> <span class="k">with</span> <span class="n">h'_eq</span><span class="o">,</span>
  <span class="n">use</span> <span class="n">h'</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">eq1</span> <span class="o">:</span> <span class="o">(</span><span class="n">mono_factorisation.self</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">m</span> <span class="bp">=</span> <span class="n">f</span> <span class="o">:=</span> <span class="n">rfl</span><span class="o">,</span>
  <span class="k">have</span> <span class="o">:</span> <span class="n">image.lift</span> <span class="o">(</span><span class="n">mono_factorisation.self</span> <span class="n">f</span><span class="o">)</span> <span class="bp">≫</span> <span class="n">f</span> <span class="bp">=</span> <span class="n">image.lift</span> <span class="o">(</span><span class="n">mono_factorisation.self</span> <span class="n">f</span><span class="o">)</span> <span class="bp">≫</span> <span class="o">(</span><span class="n">mono_factorisation.self</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">m</span><span class="o">,</span>
    <span class="n">rw</span> <span class="n">eq1</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">h'_eq</span><span class="o">,</span> <span class="n">category.assoc</span><span class="o">,</span> <span class="n">category.assoc</span><span class="o">,</span> <span class="n">this</span><span class="o">,</span> <span class="n">image.lift_fac</span><span class="o">,</span> <span class="n">image_subobject_arrow</span><span class="o">],</span>

  <span class="gr">sorry</span>
<span class="kd">end</span>
</code></pre></div>



<a name="263561427"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20there%20a%20better%20way%20to%20define%20this%3F%20%28category%20theory%29/near/263561427" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20there.20a.20better.20way.20to.20define.20this.3F.20(category.20theory).html#263561427">(Dec 03 2021 at 10:46)</a>:</h4>
<p>I'm no expert in the library of abelian categories, but I would try this :</p>
<div class="spoiler-block"><div class="spoiler-header">
</div><div class="spoiler-content" aria-hidden="true">
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">category_theory.abelian.exact</span>

<span class="kd">noncomputable theory</span>

<span class="kn">open</span> <span class="n">category_theory</span>
<span class="kn">open</span> <span class="n">category_theory.limits</span>

<span class="kd">universes</span> <span class="n">v</span> <span class="n">u</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">V</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">[</span><span class="n">category.</span><span class="o">{</span><span class="n">v</span><span class="o">}</span> <span class="n">V</span><span class="o">]</span> <span class="o">[</span><span class="n">abelian</span> <span class="n">V</span><span class="o">]</span>

<span class="n">open_locale</span> <span class="n">zero_object</span>


<span class="kd">variables</span> <span class="o">{</span><span class="n">A</span> <span class="n">B</span> <span class="n">C</span> <span class="n">D</span> <span class="o">:</span> <span class="n">V</span><span class="o">}</span>

<span class="sd">/--</span>
<span class="sd">                D</span>
<span class="sd">                |</span>
<span class="sd">                h</span>
<span class="sd">                |</span>
<span class="sd">                v</span>
<span class="sd">0 ---&gt; A --f--&gt; B --g--&gt; C</span>
<span class="sd">-/</span>

<span class="kd">variables</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">⟶</span> <span class="n">B</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">B</span> <span class="bp">⟶</span> <span class="n">C</span><span class="o">)</span> <span class="o">{</span><span class="n">h</span> <span class="o">:</span> <span class="n">D</span> <span class="bp">⟶</span> <span class="n">B</span><span class="o">}</span> <span class="o">[</span><span class="n">exact</span> <span class="n">f</span> <span class="n">g</span><span class="o">]</span> <span class="o">[</span><span class="n">mono</span> <span class="n">f</span><span class="o">]</span>
<span class="kd">variables</span> <span class="o">(</span><span class="n">eq_zero</span> <span class="o">:</span> <span class="n">h</span> <span class="bp">≫</span> <span class="n">g</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">)</span>

<span class="kd">lemma</span> <span class="n">is_kernel</span> <span class="o">:</span> <span class="n">is_limit</span> <span class="o">(</span><span class="n">kernel_fork.of_ι</span> <span class="n">f</span> <span class="o">(</span><span class="k">show</span> <span class="n">f</span> <span class="bp">≫</span> <span class="n">g</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">,</span> <span class="kd">by</span> <span class="n">simp</span><span class="o">))</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">haveI</span> <span class="o">:</span> <span class="n">is_iso</span> <span class="o">((</span><span class="n">abelian.is_limit_image</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span><span class="bp">.</span><span class="n">lift</span>
    <span class="o">(</span><span class="n">kernel_fork.of_ι</span> <span class="n">f</span> <span class="o">(</span><span class="k">show</span> <span class="n">f</span> <span class="bp">≫</span> <span class="n">g</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">,</span> <span class="kd">by</span> <span class="n">simp</span><span class="o">))),</span>
  <span class="o">{</span> <span class="n">convert</span> <span class="n">category_theory.abelian.images.is_iso_factor_thru_image</span> <span class="n">f</span> <span class="n">using</span> <span class="mi">1</span> <span class="o">},</span>
  <span class="n">exact</span> <span class="o">(</span><span class="n">abelian.is_limit_image</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span><span class="bp">.</span><span class="n">of_point_iso</span>
<span class="kd">end</span>

<span class="kn">include</span> <span class="n">g</span> <span class="n">eq_zero</span>

<span class="kd">example</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">h'</span> <span class="o">:</span> <span class="n">D</span> <span class="bp">⟶</span> <span class="n">A</span><span class="o">,</span> <span class="n">h'</span> <span class="bp">≫</span> <span class="n">f</span> <span class="bp">=</span> <span class="n">h</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">have</span> <span class="o">:=</span> <span class="n">kernel_fork.is_limit.lift'</span> <span class="o">(</span><span class="n">is_kernel</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span> <span class="n">h</span> <span class="n">eq_zero</span><span class="o">,</span>
  <span class="n">exact</span> <span class="o">⟨</span><span class="n">this.1</span><span class="o">,</span> <span class="n">this.2</span><span class="o">⟩,</span>
<span class="kd">end</span>
</code></pre></div>
</div></div>
<p>IMO the first lemma should be in mathlib, but I couldn't find it.</p>



<a name="263566060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20there%20a%20better%20way%20to%20define%20this%3F%20%28category%20theory%29/near/263566060" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jujian Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20there.20a.20better.20way.20to.20define.20this.3F.20(category.20theory).html#263566060">(Dec 03 2021 at 11:29)</a>:</h4>
<p>Thank you! This is a much nicer solution.</p>



<a name="263604837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20there%20a%20better%20way%20to%20define%20this%3F%20%28category%20theory%29/near/263604837" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jujian Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20there.20a.20better.20way.20to.20define.20this.3F.20(category.20theory).html#263604837">(Dec 03 2021 at 16:38)</a>:</h4>
<p>In this repo, I attempt to prove snake lemma. Now I have defined the connecting map modulo some sorrys like above and exactness everywhere except at connecting map. But the code are badly written, so does any one want to give me some advice on refactoring? Thank you!<br>
<a href="https://github.com/jjaassoonn/mathlib">https://github.com/jjaassoonn/mathlib</a></p>



<a name="263609903"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20there%20a%20better%20way%20to%20define%20this%3F%20%28category%20theory%29/near/263609903" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20there.20a.20better.20way.20to.20define.20this.3F.20(category.20theory).html#263609903">(Dec 03 2021 at 17:16)</a>:</h4>
<p><span class="user-mention" data-user-id="252627">@Jujian Zhang</span> Note that snake is also done in the LTE repo</p>



<a name="263609915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20there%20a%20better%20way%20to%20define%20this%3F%20%28category%20theory%29/near/263609915" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20there.20a.20better.20way.20to.20define.20this.3F.20(category.20theory).html#263609915">(Dec 03 2021 at 17:16)</a>:</h4>
<p>I hope that it will move to mathlib in the next two months</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>