---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/wf.20recursion.20after.20mathlib.20update.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/wf.20recursion.20after.20mathlib.20update.html">wf recursion after mathlib update</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="178776937"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/wf%20recursion%20after%20mathlib%20update/near/178776937" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/wf.20recursion.20after.20mathlib.20update.html#178776937">(Oct 22 2019 at 17:30)</a>:</h4>
<p>i updated mathlib and now some of my recursions are broken with the error message mentioned at the end of <a href="https://github.com/leanprover-community/mathlib/blob/master/src/tactic/well_founded_tactics.lean" target="_blank" title="https://github.com/leanprover-community/mathlib/blob/master/src/tactic/well_founded_tactics.lean">https://github.com/leanprover-community/mathlib/blob/master/src/tactic/well_founded_tactics.lean</a>. <br>
using the suggested fix in the link above works.<br>
however, before updating mathlib, it worked as well.<br>
was it intended for <a href="https://github.com/leanprover-community/mathlib/commit/140a606a461aa066927ba3a2d8e5c3976a2f7367" target="_blank" title="https://github.com/leanprover-community/mathlib/commit/140a606a461aa066927ba3a2d8e5c3976a2f7367">https://github.com/leanprover-community/mathlib/commit/140a606a461aa066927ba3a2d8e5c3976a2f7367</a> to break existing code that worked fine beforehand?<br>
i can provide a code example if necessary.</p>



<a name="178777441"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/wf%20recursion%20after%20mathlib%20update/near/178777441" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/wf.20recursion.20after.20mathlib.20update.html#178777441">(Oct 22 2019 at 17:34)</a>:</h4>
<p>actually, looking at the commit in more detail, it seems to apply the fix to a bunch of other places in mathlib as well, so i presume that it was intended.</p>



<a name="178800877"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/wf%20recursion%20after%20mathlib%20update/near/178800877" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/wf.20recursion.20after.20mathlib.20update.html#178800877">(Oct 22 2019 at 21:26)</a>:</h4>
<p>Yes, the problem was that we wanted to add a few more @[simp] lemmas, which turned out to be so useful that the built in proving-that-the-recursion-is-decreasing tactics were succeeding before "they were expected too", and hence actually failing! That commit modified those tactics so they "weren't suprised" when the goal was discharged by <code>simp</code> early in the process.</p>



<a name="178801819"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/wf%20recursion%20after%20mathlib%20update/near/178801819" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/wf.20recursion.20after.20mathlib.20update.html#178801819">(Oct 22 2019 at 21:40)</a>:</h4>
<p>ah, alright. thanks!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>