---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html">What topological_space is used in  B(ℝ)?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="219425921"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219425921" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219425921">(Dec 10 2020 at 02:30)</a>:</h4>
<p>The result of </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="k">#check</span> <span class="bp">@</span><span class="n">borel_space</span> <span class="n">ℝ</span>
</code></pre></div>
<p>is</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">borel_space</span> <span class="n">ℝ</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">[</span><span class="n">_inst_1</span> <span class="o">:</span> <span class="n">topological_space</span> <span class="n">ℝ</span><span class="o">]</span> <span class="o">[</span><span class="n">_inst_2</span> <span class="o">:</span> <span class="n">measurable_space</span> <span class="n">ℝ</span><span class="o">],</span> <span class="kt">Prop</span>
</code></pre></div>
<p>If I do <code>#print instances topological_space</code> there is no instance of <code>topological_space ℝ</code>.  </p>
<p>On the other hand <code>#print instances measurable_space</code> produces <code>real.measurable_space</code>.</p>
<p>The definition for <code>real.borel_space</code> doesn't say what instance of <code>topological_space ℝ</code> is chosen, it just says</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">instance</span> <span class="n">real.borel_space</span> <span class="o">:</span> <span class="n">borel_space</span> <span class="n">ℝ</span> <span class="o">:=</span> <span class="o">⟨</span><span class="n">rfl</span><span class="o">⟩</span>
</code></pre></div>
<p>How do I tell what<code>topological_space ℝ</code> instance was chosen or constructed for <code>real.borel_space</code>?</p>



<a name="219426312"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219426312" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219426312">(Dec 10 2020 at 02:39)</a>:</h4>
<p>I believe it's from <a href="https://leanprover-community.github.io/mathlib_docs/find/real.metric_space">docs#real.metric_space</a></p>



<a name="219426438"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219426438" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219426438">(Dec 10 2020 at 02:42)</a>:</h4>
<p>You can do</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">analysis.normed_space.basic</span>

<span class="kd">noncomputable</span> <span class="kd">def</span> <span class="n">foo</span> <span class="o">:</span> <span class="n">topological_space</span> <span class="n">ℝ</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">apply_instance</span>

<span class="k">#print</span> <span class="n">foo</span>
</code></pre></div>
<p>and trace it backwards.</p>



<a name="219426823"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219426823" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219426823">(Dec 10 2020 at 02:52)</a>:</h4>
<p>I am trying to figure out how to fill out the arguments to <code>@borel_space</code>, which says it wants an <code>[_inst_1 : topological_space ℝ] </code>.  However  the result of </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">noncomputable</span> <span class="kd">def</span> <span class="n">foo</span> <span class="o">:</span> <span class="n">topological_space</span> <span class="n">ℝ</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">apply_instance</span>
<span class="k">#print</span> <span class="n">foo</span>
</code></pre></div>
<p>is</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">@[instance]</span>
<span class="kn">protected</span> <span class="kd">def</span> <span class="n">foo</span> <span class="o">:</span> <span class="n">borel_space</span> <span class="n">ℝ</span> <span class="o">:=</span>
<span class="o">{</span><span class="n">measurable_eq</span> <span class="o">:=</span> <span class="n">rfl</span> <span class="n">real.measurable_space</span><span class="o">}</span>
</code></pre></div>
<p>The sequence of definitions appears to be looping <code>borel_space</code> requires <code>topological_space</code> which reduces to <code>borel_space</code>.   But neither is declared as an alias of the other in <code>mathlib</code>:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">class</span> <span class="n">borel_space</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">topological_space</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">measurable_space</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">measurable_eq</span> <span class="o">:</span> <span class="o">‹</span><span class="n">measurable_space</span> <span class="n">α</span><span class="o">›</span> <span class="bp">=</span> <span class="n">borel</span> <span class="n">α</span><span class="o">)</span>

<span class="kd">@[protect_proj]</span> <span class="kd">structure</span> <span class="n">topological_space</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">is_open</span>        <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span>
<span class="o">(</span><span class="n">is_open_univ</span>   <span class="o">:</span> <span class="n">is_open</span> <span class="n">univ</span><span class="o">)</span>
<span class="o">(</span><span class="n">is_open_inter</span>  <span class="o">:</span> <span class="bp">∀</span><span class="n">s</span> <span class="n">t</span><span class="o">,</span> <span class="n">is_open</span> <span class="n">s</span> <span class="bp">→</span> <span class="n">is_open</span> <span class="n">t</span> <span class="bp">→</span> <span class="n">is_open</span> <span class="o">(</span><span class="n">s</span> <span class="bp">∩</span> <span class="n">t</span><span class="o">))</span>
<span class="o">(</span><span class="n">is_open_sUnion</span> <span class="o">:</span> <span class="bp">∀</span><span class="n">s</span><span class="o">,</span> <span class="o">(</span><span class="bp">∀</span><span class="n">t</span><span class="bp">∈</span><span class="n">s</span><span class="o">,</span> <span class="n">is_open</span> <span class="n">t</span><span class="o">)</span> <span class="bp">→</span> <span class="n">is_open</span> <span class="o">(</span><span class="bp">⋃₀</span> <span class="n">s</span><span class="o">))</span>

<span class="kn">attribute</span> <span class="o">[</span><span class="kd">class</span><span class="o">]</span> <span class="n">topological_space</span>
</code></pre></div>



<a name="219428204"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219428204" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219428204">(Dec 10 2020 at 03:25)</a>:</h4>
<p>The class <code>borel_space</code> requires <code>topological_space</code> as an input, and it does not extend <code>topological_space</code>. So whatever lean finds for the <code>topological_space</code> is the instance that is used. I assume the whole point of the <code>borel_space</code> class is so that you have have measurable spaces which also happen to be topological spaces without requiring the sigma algebra to be the Borel algebra.</p>



<a name="219429713"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219429713" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219429713">(Dec 10 2020 at 04:00)</a>:</h4>
<p><span class="user-mention" data-user-id="260507">@Heather Macbeth</span> 's answer is perfect.  I didn't see it to begin with because I ran it in a context where <code>borel_space</code> was imported. </p>
<p>However if you just do <code>import analysis.normed_space.basic</code> as she does then it works and gives</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">noncomputable</span> <span class="kd">def</span> <span class="n">foo</span> <span class="o">:</span> <span class="n">topological_space</span> <span class="n">ℝ</span> <span class="o">:=</span>
<span class="n">uniform_space.to_topological_space</span>
</code></pre></div>
<p>So the answer is that ℝ can be seen as a <code>uniform_space</code> and then transformed into a <code>topological_space</code>.  ℝ is not a <code>uniform_space</code> out of the box, so we can repeat the exercise:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">noncomputable</span> <span class="kd">def</span> <span class="n">foo1</span> <span class="o">:</span> <span class="n">uniform_space</span> <span class="n">ℝ</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">apply_instance</span>
<span class="k">#print</span> <span class="n">foo1</span>
</code></pre></div>
<p>This gives</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">noncomputable</span> <span class="kd">def</span> <span class="n">foo1</span> <span class="o">:</span> <span class="n">uniform_space</span> <span class="n">ℝ</span> <span class="o">:=</span>
<span class="n">metric_space.to_uniform_space'</span>
</code></pre></div>
<p>and <a href="https://leanprover-community.github.io/mathlib_docs/topology/metric_space/basic.html#real.metric_space">real.metric_space</a> is in <code>mathlib</code>.  </p>
<p>So that's the chain: <code>metric_space</code> to <code>uniform_space</code> to <code>topological_space</code> to <code>borel_space</code>.  Nice!</p>



<a name="219429813"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219429813" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219429813">(Dec 10 2020 at 04:02)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="260507">@Heather Macbeth</span> !!</p>



<a name="219429973"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219429973" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219429973">(Dec 10 2020 at 04:05)</a>:</h4>
<p>If I understand the comments above, the topology on R comes from the metric_space sructure, which induces a uniform_space structure which then induces a topological_space structure.</p>



<a name="219430027"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219430027" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219430027">(Dec 10 2020 at 04:06)</a>:</h4>
<p>I think the borel_space is separate.</p>



<a name="219430083"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219430083" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219430083">(Dec 10 2020 at 04:07)</a>:</h4>
<p>There is a borel_space instance declared explicitly in <a href="https://leanprover-community.github.io/mathlib_docs/find/real.borel_space">docs#real.borel_space</a></p>



<a name="219430144"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219430144" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219430144">(Dec 10 2020 at 04:08)</a>:</h4>
<p>For example:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">measure_theory.borel_space</span>

<span class="kd">example</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">topological_space</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span> <span class="n">borel_space</span> <span class="n">α</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">apply_instance</span> <span class="c1">-- fails</span>
</code></pre></div>



<a name="219430197"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219430197" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219430197">(Dec 10 2020 at 04:09)</a>:</h4>
<p>Yes it only got in there because I was looking at @borel_space and what arguments it requires.   You can just say <code>borel_space ℝ</code> and it works.  But I wanted to know how to fill in all the slots without using <code>_</code> in <code>@borel_space</code>.  When you run Heather's technique in a context where <code>borel_space</code> is imported, it is not informative.  When you run it where only <code>import analysis.normed_space.basic</code> is imported, it is informative.</p>



<a name="219430275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219430275" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219430275">(Dec 10 2020 at 04:10)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">measure_theory.borel_space</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">topological_space</span> <span class="n">α</span><span class="o">]</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">borel_space</span> <span class="n">α</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">apply_instance</span> <span class="c1">-- fails</span>

<span class="kd">instance</span> <span class="n">foo1</span> <span class="o">:</span> <span class="n">measurable_space</span> <span class="n">α</span> <span class="o">:=</span> <span class="n">borel</span> <span class="n">α</span>

<span class="kd">instance</span> <span class="n">foo2</span> <span class="o">:</span> <span class="n">borel_space</span> <span class="n">α</span> <span class="o">:=</span> <span class="o">⟨</span><span class="n">rfl</span><span class="o">⟩</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">borel_space</span> <span class="n">α</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">apply_instance</span> <span class="c1">-- now it works.</span>
</code></pre></div>



<a name="219430281"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219430281" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219430281">(Dec 10 2020 at 04:10)</a>:</h4>
<p>Maybe that example is more helpful in understanding what's happening...</p>



<a name="219430322"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219430322" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219430322">(Dec 10 2020 at 04:11)</a>:</h4>
<p>I am trying to figure out how to make <code>borel_space</code> of the real interval <code>[0,1]</code>.</p>



<a name="219430393"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219430393" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219430393">(Dec 10 2020 at 04:12)</a>:</h4>
<p>What's your definition of <code>[0,1]</code>?</p>



<a name="219430404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219430404" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219430404">(Dec 10 2020 at 04:13)</a>:</h4>
<p>The set {x : 0 \leq x \leq 1}.</p>



<a name="219430471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219430471" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219430471">(Dec 10 2020 at 04:14)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">measure_theory.borel_space</span>
<span class="kn">import</span> <span class="n">data.set.intervals.basic</span>

<span class="kd">noncomputable theory</span>

<span class="kd">def</span> <span class="n">I</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span> <span class="o">:=</span> <span class="n">set.Icc</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="mi">1</span>
<span class="kd">instance</span> <span class="n">foo0</span> <span class="o">:</span> <span class="n">topological_space</span> <span class="n">I</span> <span class="o">:=</span> <span class="kd">by</span> <span class="o">{</span><span class="n">unfold</span> <span class="n">I</span><span class="o">,</span> <span class="n">apply_instance</span><span class="o">}</span>
<span class="kd">instance</span> <span class="n">foo1</span> <span class="o">:</span> <span class="n">measurable_space</span> <span class="n">I</span> <span class="o">:=</span> <span class="n">borel</span> <span class="n">I</span>
<span class="kd">instance</span> <span class="n">foo2</span> <span class="o">:</span> <span class="n">borel_space</span> <span class="n">I</span> <span class="o">:=</span> <span class="o">⟨</span><span class="n">rfl</span><span class="o">⟩</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">borel_space</span> <span class="n">I</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">apply_instance</span> <span class="c1">-- now it works.</span>
</code></pre></div>



<a name="219430495"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219430495" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219430495">(Dec 10 2020 at 04:15)</a>:</h4>
<p>I was asking how you defined <code>[0,1]</code> in lean :) I assume it's approximately the subtype I defined above.</p>



<a name="219430504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219430504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219430504">(Dec 10 2020 at 04:15)</a>:</h4>
<p>So I have to make sure in the constructor </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">borel_space</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u_1</span><span class="o">)</span> <span class="o">[</span><span class="n">_inst_1</span> <span class="o">:</span> <span class="n">topological_space</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">_inst_2</span> <span class="o">:</span> <span class="n">measurable_space</span> <span class="n">α</span><span class="o">],</span> <span class="kt">Prop</span>
</code></pre></div>
<p>that I have a type for <code>[0,1]</code> like <code>set.Icc 0 1</code> and a <code>topological_space</code> instance of [0,1] and a <code>measurable_space</code> instance of [0,1].</p>



<a name="219430564"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219430564" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219430564">(Dec 10 2020 at 04:16)</a>:</h4>
<p>Note that set.Icc is a set, not a type. But since I declared it to be a type using the type ascription for <code>I</code>, lean automatically made into a type with the <code>subtype</code> construction.</p>



<a name="219430571"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219430571" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219430571">(Dec 10 2020 at 04:17)</a>:</h4>
<p>That's why I was trying to figure out where the <code>topological_space ℝ</code> was proven so that I could figure out how  to prove <code>topological_space (set.Icc 0 1)</code>.</p>



<a name="219430578"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219430578" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219430578">(Dec 10 2020 at 04:17)</a>:</h4>
<p>I assume that the topological space instance on a subset of a topological space is the one given by the subspace topology (that's the sensible thing), but I didn't check explicitly.</p>



<a name="219430587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219430587" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219430587">(Dec 10 2020 at 04:17)</a>:</h4>
<p>I'm trying to learn all these pieces.</p>



<a name="219430753"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219430753" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219430753">(Dec 10 2020 at 04:21)</a>:</h4>
<p>Are you using vscode?</p>



<a name="219430809"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219430809" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219430809">(Dec 10 2020 at 04:22)</a>:</h4>
<p>Yes, I'm just trying your example.  It works, thanks!</p>



<a name="219430818"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219430818" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219430818">(Dec 10 2020 at 04:22)</a>:</h4>
<p>If so, paste the following code, and click the link that <code>show_term</code> gives.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">topology.constructions</span>

<span class="kd">def</span> <span class="n">foo</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">topological_space</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">topological_space</span> <span class="n">S</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">show_term</span> <span class="o">{</span><span class="n">apply_instance</span><span class="o">}</span>
</code></pre></div>



<a name="219430830"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219430830" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219430830">(Dec 10 2020 at 04:23)</a>:</h4>
<p>That's another trick to get the definition of the instance.</p>



<a name="219430876"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219430876" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219430876">(Dec 10 2020 at 04:24)</a>:</h4>
<p>That's great, thank you!</p>



<a name="219430887"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219430887" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219430887">(Dec 10 2020 at 04:24)</a>:</h4>
<p>If you do that, you can see that the set is given the subspace topology from <a href="https://leanprover-community.github.io/mathlib_docs/find/subtype.topological_space">docs#subtype.topological_space</a></p>



<a name="219431063"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219431063" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219431063">(Dec 10 2020 at 04:29)</a>:</h4>
<p>I am trying to make the structure ([0,1], B([0,1]), P) where P is the real volume restricted to [0,1].  So, a probability space.</p>



<a name="219431348"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219431348" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219431348">(Dec 10 2020 at 04:35)</a>:</h4>
<p>So</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">measure_theory.lebesgue_measure</span>
<span class="k">#check</span> <span class="n">measure_theory.real.measure_space.volume</span> <span class="c1">-- measure_theory.measure_space.volume : measure_theory.measure ℝ</span>
</code></pre></div>



<a name="219431434"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219431434" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219431434">(Dec 10 2020 at 04:37)</a>:</h4>
<p>I suspect something like this is somewhere in mathlib already. Hopefully someone with more familiarity of the measure_theory library would help...</p>



<a name="219431546"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219431546" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219431546">(Dec 10 2020 at 04:40)</a>:</h4>
<p>Almost all there:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">measure_theory.lebesgue_measure</span>
<span class="kn">import</span> <span class="n">measure_theory.borel_space</span>
<span class="kn">import</span> <span class="n">data.set.intervals.basic</span>
<span class="kn">import</span> <span class="n">measure_theory.measure_space</span>

<span class="kn">open</span> <span class="n">measure_theory</span>

<span class="kd">noncomputable theory</span>

<span class="kd">def</span> <span class="n">I</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span> <span class="o">:=</span> <span class="n">set.Icc</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="mi">1</span>
<span class="kd">instance</span> <span class="n">foo0</span> <span class="o">:</span> <span class="n">topological_space</span> <span class="n">I</span> <span class="o">:=</span> <span class="kd">by</span> <span class="o">{</span><span class="n">unfold</span> <span class="n">I</span><span class="o">,</span> <span class="n">apply_instance</span><span class="o">}</span>
<span class="kd">instance</span> <span class="n">foo1</span> <span class="o">:</span> <span class="n">measurable_space</span> <span class="n">I</span> <span class="o">:=</span> <span class="n">borel</span> <span class="n">I</span>
<span class="kd">instance</span> <span class="n">foo2</span> <span class="o">:</span> <span class="n">borel_space</span> <span class="n">I</span> <span class="o">:=</span> <span class="o">⟨</span><span class="n">rfl</span><span class="o">⟩</span>
<span class="k">#check</span> <span class="n">foo2</span>

<span class="kd">def</span> <span class="n">B01</span> <span class="o">:</span> <span class="n">borel_space</span> <span class="n">I</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">apply_instance</span> <span class="c1">-- now it works.</span>
<span class="k">#check</span> <span class="n">B01</span>

<span class="kd">def</span> <span class="n">μ</span> <span class="o">:=</span> <span class="n">measure_theory.real.measure_space.volume</span>
<span class="k">#check</span> <span class="n">μ</span> <span class="c1">-- μ : measure_theory.measure ℝ</span>

<span class="k">#check</span> <span class="n">probability_measure</span> <span class="n">μ</span> <span class="c1">-- probability_measure μ : Prop</span>
</code></pre></div>



<a name="219431629"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219431629" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219431629">(Dec 10 2020 at 04:42)</a>:</h4>
<p>There is no official structure in <code>mathlib</code> for <code>probability_space</code> but there is <code>probability_measure</code> and <code>measure_space</code> so that's about it.</p>



<a name="219431755"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219431755" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219431755">(Dec 10 2020 at 04:45)</a>:</h4>
<p>I have to subtype <code>measure_theory.real</code> to [0,1] and the act of subtype should bless the <code>volume</code> as being subtype.</p>



<a name="219450579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219450579" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219450579">(Dec 10 2020 at 09:48)</a>:</h4>
<p>The easiest way to check all these things is like so:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">measure_theory.lebesgue_measure</span>
<span class="kn">import</span> <span class="n">measure_theory.borel_space</span>
<span class="kn">import</span> <span class="n">data.set.intervals.basic</span>
<span class="kn">import</span> <span class="n">measure_theory.measure_space</span>

<span class="kn">open</span> <span class="n">measure_theory</span>

<span class="k">#check</span> <span class="o">(</span><span class="kd">by</span> <span class="n">apply_instance</span> <span class="o">:</span> <span class="n">topological_space</span> <span class="o">(</span><span class="n">set.Icc</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="mi">1</span><span class="o">))</span> <span class="c1">-- ok</span>
<span class="k">#check</span> <span class="o">(</span><span class="kd">by</span> <span class="n">apply_instance</span> <span class="o">:</span> <span class="n">measurable_space</span> <span class="o">(</span><span class="n">set.Icc</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="mi">1</span><span class="o">))</span> <span class="c1">-- ok</span>
<span class="k">#check</span> <span class="o">(</span><span class="kd">by</span> <span class="n">apply_instance</span> <span class="o">:</span> <span class="n">borel_space</span> <span class="o">(</span><span class="n">set.Icc</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="mi">1</span><span class="o">))</span> <span class="c1">-- ok</span>
<span class="k">#check</span> <span class="o">(</span><span class="kd">by</span> <span class="n">apply_instance</span> <span class="o">:</span> <span class="n">measure_space</span> <span class="o">(</span><span class="n">set.Icc</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="mi">1</span><span class="o">))</span> <span class="c1">-- not ok :(</span>
</code></pre></div>
<p>So it appears that it has not yet been proven that subtypes induce a measure.</p>



<a name="219450962"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219450962" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219450962">(Dec 10 2020 at 09:52)</a>:</h4>
<p>However, I do see <code>map</code> and <code>comap</code> and <code>restrict</code> among the measure constructions in <code>measure_theory.measure_space</code>, so it should not be hard to build the instance</p>



<a name="219451421"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219451421" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219451421">(Dec 10 2020 at 09:56)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">measure_theory.lebesgue_measure</span>
<span class="kn">import</span> <span class="n">measure_theory.borel_space</span>
<span class="kn">import</span> <span class="n">data.set.intervals.basic</span>
<span class="kn">import</span> <span class="n">measure_theory.measure_space</span>

<span class="kn">open</span> <span class="n">measure_theory</span>

<span class="kd">noncomputable</span> <span class="kd">instance</span> <span class="o">{</span><span class="n">α</span><span class="o">}</span> <span class="o">{</span><span class="n">p</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">}</span> <span class="o">[</span><span class="n">m</span> <span class="o">:</span> <span class="n">measure_space</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span> <span class="n">measure_space</span> <span class="o">(</span><span class="n">subtype</span> <span class="n">p</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">volume</span> <span class="o">:=</span> <span class="n">measure.comap</span> <span class="o">(</span><span class="n">coe</span> <span class="o">:</span> <span class="n">_</span> <span class="bp">→</span> <span class="n">α</span><span class="o">)</span> <span class="n">volume</span> <span class="o">}</span>

<span class="k">#check</span> <span class="o">(</span><span class="kd">by</span> <span class="n">apply_instance</span> <span class="o">:</span> <span class="n">topological_space</span> <span class="o">(</span><span class="n">set.Icc</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="mi">1</span><span class="o">))</span> <span class="c1">-- ok</span>
<span class="k">#check</span> <span class="o">(</span><span class="kd">by</span> <span class="n">apply_instance</span> <span class="o">:</span> <span class="n">measurable_space</span> <span class="o">(</span><span class="n">set.Icc</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="mi">1</span><span class="o">))</span> <span class="c1">-- ok</span>
<span class="k">#check</span> <span class="o">(</span><span class="kd">by</span> <span class="n">apply_instance</span> <span class="o">:</span> <span class="n">borel_space</span> <span class="o">(</span><span class="n">set.Icc</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="mi">1</span><span class="o">))</span> <span class="c1">-- ok</span>
<span class="k">#check</span> <span class="o">(</span><span class="kd">by</span> <span class="n">apply_instance</span> <span class="o">:</span> <span class="n">measure_space</span> <span class="o">(</span><span class="n">set.Icc</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="mi">1</span><span class="o">))</span> <span class="c1">-- ok :)</span>
</code></pre></div>



<a name="219451455"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219451455" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219451455">(Dec 10 2020 at 09:57)</a>:</h4>
<p>what's the diff between line -2 and -4?</p>



<a name="219451567"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219451567" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219451567">(Dec 10 2020 at 09:58)</a>:</h4>
<p>are you just making lean recompute instances for the lulz?</p>



<a name="219452750"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219452750" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219452750">(Dec 10 2020 at 10:09)</a>:</h4>
<p>just making double sure</p>



<a name="219453142"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219453142" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219453142">(Dec 10 2020 at 10:13)</a>:</h4>
<p>and here's how we show it is a probability space:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">subtype.volume_apply</span> <span class="o">{</span><span class="n">α</span><span class="o">}</span> <span class="o">{</span><span class="n">p</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">}</span> <span class="o">[</span><span class="n">measure_space</span> <span class="n">α</span><span class="o">]</span>
  <span class="o">(</span><span class="n">hp</span> <span class="o">:</span> <span class="n">is_measurable</span> <span class="o">{</span><span class="n">x</span> <span class="bp">|</span> <span class="n">p</span> <span class="n">x</span><span class="o">})</span> <span class="o">{</span><span class="n">s</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">subtype</span> <span class="n">p</span><span class="o">)}</span> <span class="o">(</span><span class="n">hs</span> <span class="o">:</span> <span class="n">is_measurable</span> <span class="n">s</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">volume</span> <span class="n">s</span> <span class="bp">=</span> <span class="n">volume</span> <span class="o">((</span><span class="n">coe</span> <span class="o">:</span> <span class="n">_</span> <span class="bp">→</span> <span class="n">α</span><span class="o">)</span> <span class="bp">''</span> <span class="n">s</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">measure.comap_apply</span> <span class="n">_</span> <span class="n">subtype.coe_injective</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">_</span><span class="o">,</span> <span class="n">is_measurable.subtype_image</span> <span class="n">hp</span><span class="o">)</span> <span class="n">_</span> <span class="n">hs</span>

<span class="kd">instance</span> <span class="o">:</span> <span class="n">probability_measure</span> <span class="o">(</span><span class="n">volume</span> <span class="o">:</span> <span class="n">measure</span> <span class="o">(</span><span class="n">set.Icc</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="mi">1</span><span class="o">))</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">measure_univ</span> <span class="o">:=</span> <span class="kd">begin</span>
    <span class="n">refine</span> <span class="o">(</span><span class="n">subtype.volume_apply</span> <span class="n">is_measurable_Icc</span> <span class="n">is_measurable.univ</span><span class="o">)</span><span class="bp">.</span><span class="n">trans</span> <span class="n">_</span><span class="o">,</span>
    <span class="k">suffices</span> <span class="o">:</span> <span class="n">volume</span> <span class="o">(</span><span class="n">set.Icc</span> <span class="o">(</span><span class="mi">0</span><span class="o">:</span><span class="n">ℝ</span><span class="o">)</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">,</span> <span class="o">{</span><span class="n">simpa</span><span class="o">},</span>
    <span class="n">rw</span> <span class="o">[</span><span class="n">real.volume_Icc</span><span class="o">],</span> <span class="n">simp</span>
  <span class="kd">end</span> <span class="o">}</span>
</code></pre></div>



<a name="219466918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219466918" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219466918">(Dec 10 2020 at 12:49)</a>:</h4>
<p>GIven that <code>probability_space</code> itself is not currently in <code>mathlib</code>, would this be a reasonable definition:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">measure_theory.measure_space</span>
<span class="kn">open</span> <span class="n">measure_theory</span>

<span class="kd">class</span> <span class="n">probability_space</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="kd">extends</span> <span class="n">measure_space</span> <span class="n">α</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">is_probability_measure</span><span class="o">:</span>  <span class="n">probability_measure</span> <span class="n">volume</span><span class="o">)</span>
</code></pre></div>



<a name="219469788"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219469788" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219469788">(Dec 10 2020 at 13:16)</a>:</h4>
<p>yes</p>



<a name="219516558"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219516558" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219516558">(Dec 10 2020 at 18:49)</a>:</h4>
<p>Thank you very much <span class="user-mention" data-user-id="110049">@Mario Carneiro</span>, the Steinhaus space is born:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">measure_theory.lebesgue_measure</span>
<span class="kn">open</span> <span class="n">measure_theory</span>
<span class="kd">noncomputable theory</span>

<span class="kd">instance</span> <span class="o">{</span><span class="n">α</span><span class="o">}</span> <span class="o">{</span><span class="n">p</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">}</span> <span class="o">[</span><span class="n">m</span> <span class="o">:</span> <span class="n">measure_space</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span> <span class="n">measure_space</span> <span class="o">(</span><span class="n">subtype</span> <span class="n">p</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">volume</span> <span class="o">:=</span> <span class="n">measure.comap</span> <span class="o">(</span><span class="n">coe</span> <span class="o">:</span> <span class="n">_</span> <span class="bp">→</span> <span class="n">α</span><span class="o">)</span> <span class="n">volume</span> <span class="o">}</span>

<span class="kd">theorem</span> <span class="n">subtype.volume_apply</span> <span class="o">{</span><span class="n">α</span><span class="o">}</span> <span class="o">{</span><span class="n">p</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">}</span> <span class="o">[</span><span class="n">measure_space</span> <span class="n">α</span><span class="o">]</span>
  <span class="o">(</span><span class="n">hp</span> <span class="o">:</span> <span class="n">is_measurable</span> <span class="o">{</span><span class="n">x</span> <span class="bp">|</span> <span class="n">p</span> <span class="n">x</span><span class="o">})</span> <span class="o">{</span><span class="n">s</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">subtype</span> <span class="n">p</span><span class="o">)}</span> <span class="o">(</span><span class="n">hs</span> <span class="o">:</span> <span class="n">is_measurable</span> <span class="n">s</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">volume</span> <span class="n">s</span> <span class="bp">=</span> <span class="n">volume</span> <span class="o">((</span><span class="n">coe</span> <span class="o">:</span> <span class="n">_</span> <span class="bp">→</span> <span class="n">α</span><span class="o">)</span> <span class="bp">''</span> <span class="n">s</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">measure.comap_apply</span> <span class="n">_</span> <span class="n">subtype.coe_injective</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">_</span><span class="o">,</span> <span class="n">is_measurable.subtype_image</span> <span class="n">hp</span><span class="o">)</span> <span class="n">_</span> <span class="n">hs</span>

<span class="n">abbreviation</span> <span class="n">I01</span> <span class="o">:=</span> <span class="o">(</span><span class="n">set.Icc</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="mi">1</span><span class="o">)</span>

<span class="kd">instance</span> <span class="n">P_I01</span> <span class="o">:</span> <span class="n">probability_measure</span> <span class="o">(</span><span class="n">volume</span> <span class="o">:</span> <span class="n">measure</span> <span class="n">I01</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">measure_univ</span> <span class="o">:=</span> <span class="kd">begin</span>
    <span class="n">refine</span> <span class="o">(</span><span class="n">subtype.volume_apply</span> <span class="n">is_measurable_Icc</span> <span class="n">is_measurable.univ</span><span class="o">)</span><span class="bp">.</span><span class="n">trans</span> <span class="n">_</span><span class="o">,</span>
    <span class="k">suffices</span> <span class="o">:</span> <span class="n">volume</span> <span class="n">I01</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">,</span> <span class="o">{</span><span class="n">simpa</span><span class="o">},</span>
    <span class="n">rw</span> <span class="o">[</span><span class="n">real.volume_Icc</span><span class="o">],</span> <span class="n">simp</span>
  <span class="kd">end</span> <span class="o">}</span>

<span class="kd">class</span> <span class="n">probability_space</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="kd">extends</span> <span class="n">measure_space</span> <span class="n">α</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">is_probability_measure</span><span class="o">:</span>  <span class="n">probability_measure</span> <span class="n">volume</span><span class="o">)</span>

<span class="kd">instance</span> <span class="n">Steinhaus</span> <span class="o">:</span> <span class="n">probability_space</span> <span class="n">I01</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">is_probability_measure</span> <span class="o">:=</span> <span class="n">P_I01</span> <span class="o">}</span>

<span class="k">#check</span> <span class="n">Steinhaus</span> <span class="c1">-- PS_I01 : probability_space ↥I01</span>
</code></pre></div>



<a name="219887371"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219887371" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219887371">(Dec 14 2020 at 19:06)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> would it make sense to put the above definition of <code>probability_space</code> into <code>mathlib</code>, and if so, how?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">measure_theory.measure_space</span>
<span class="kn">open</span> <span class="n">measure_theory</span>

<span class="kd">class</span> <span class="n">probability_space</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="kd">extends</span> <span class="n">measure_space</span> <span class="n">α</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">is_probability_measure</span><span class="o">:</span>  <span class="n">probability_measure</span> <span class="n">volume</span><span class="o">)</span>
</code></pre></div>



<a name="219887483"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219887483" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219887483">(Dec 14 2020 at 19:07)</a>:</h4>
<p>Yes, but it should come with a bunch of basic theorems about probability spaces</p>



<a name="219888985"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219888985" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219888985">(Dec 14 2020 at 19:18)</a>:</h4>
<p><span class="user-mention" data-user-id="364351">@Lars Ericson</span> there is a video on how to make a PR to mathlib in the tutorial playlist on youtube: <a href="https://www.youtube.com/watch?v=Bnc8w9lxe8A&amp;list=PLlF-CfQhukNnxF1S22cNGKyfOrd380NUv&amp;index=6">https://www.youtube.com/watch?v=Bnc8w9lxe8A&amp;list=PLlF-CfQhukNnxF1S22cNGKyfOrd380NUv&amp;index=6</a></p>
<div class="youtube-video message_inline_image"><a data-id="Bnc8w9lxe8A" href="https://www.youtube.com/watch?v=Bnc8w9lxe8A&amp;list=PLlF-CfQhukNnxF1S22cNGKyfOrd380NUv&amp;index=6"><img src="https://i.ytimg.com/vi/Bnc8w9lxe8A/default.jpg"></a></div>



<a name="219889073"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219889073" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219889073">(Dec 14 2020 at 19:19)</a>:</h4>
<p>But like Mario said, every definition should come with an API around it.</p>



<a name="219892281"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219892281" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219892281">(Dec 14 2020 at 19:41)</a>:</h4>
<p>Do you have a style guide for what should come with the API?  There are things you can do with probability spaces, like create one from a distribution, but for the idea itself, there is not much more that I know except what is in the definition, i.e. that it is a measure space whose volume is a probability measure.</p>
<p>So I would put it in the file with <code>probability_measure</code> as a start.  I can do a PR for that.</p>



<a name="219893020"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219893020" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219893020">(Dec 14 2020 at 19:47)</a>:</h4>
<p>Take a look at any structure at all, preferably one you understand, and then look at all the lemmas proved immediately after the definition. That's the style guide. A thorough treatment of basic lemmas, preferably with very short proofs, all building on each other.</p>



<a name="219893151"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219893151" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219893151">(Dec 14 2020 at 19:48)</a>:</h4>
<p><span class="user-mention" data-user-id="364351">@Lars Ericson</span> the start should include all the lemmas that are never written down in any other resource. Stuff like: <code>P(A) &lt;= 1</code> for all <code>A</code></p>



<a name="219893183"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219893183" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219893183">(Dec 14 2020 at 19:48)</a>:</h4>
<p>All these stupid basic facts</p>



<a name="219893240"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219893240" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219893240">(Dec 14 2020 at 19:48)</a>:</h4>
<p>probability of <code>A</code>-complement, is <code>1 - P(A)</code></p>



<a name="219893303"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219893303" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219893303">(Dec 14 2020 at 19:49)</a>:</h4>
<p>(Note that I don't know anything about probability theory.)</p>



<a name="219894823"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219894823" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219894823">(Dec 14 2020 at 20:03)</a>:</h4>
<p>As a new user that recently wrote his first definition, with relative API, what guided me is the principle that  if the API is good nobody should ever  have to look at the actual definition (unless for doing advanced things of course).</p>



<a name="219895543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219895543" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219895543">(Dec 14 2020 at 20:10)</a>:</h4>
<p>A couple more things that could be added to the API:</p>
<ol>
<li>The existence of binary products / coproducts.</li>
<li>The obvious instance on <code>pempty</code> and <code>punit</code>.</li>
</ol>



<a name="219896902"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219896902" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219896902">(Dec 14 2020 at 20:22)</a>:</h4>
<p>Another suggestion might be to introduce some useful synonyms, similar to the following:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.set.intervals</span>
<span class="kn">import</span> <span class="n">data.real.basic</span>
<span class="kn">import</span> <span class="n">measure_theory.measure_space</span>
<span class="kn">open</span> <span class="n">measure_theory</span>

<span class="kd">class</span> <span class="n">probability_space</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="kd">extends</span> <span class="n">measure_space</span> <span class="n">α</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">is_probability_measure</span><span class="o">:</span>  <span class="n">probability_measure</span> <span class="n">volume</span><span class="o">)</span>

<span class="kd">def</span> <span class="n">Bernoulli</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">set.Icc</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:=</span> <span class="n">bool</span>

<span class="kn">namespace</span> <span class="n">probability_space</span>

<span class="kd">instance</span> <span class="o">{</span><span class="n">p</span> <span class="o">:</span> <span class="n">set.Icc</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="mi">1</span><span class="o">}</span> <span class="o">:</span> <span class="n">probability_space</span> <span class="o">(</span><span class="n">Bernoulli</span> <span class="n">p</span><span class="o">)</span> <span class="o">:=</span> <span class="n">sorry</span>

<span class="kd">end</span> <span class="n">probability_space</span>
</code></pre></div>



<a name="219897111"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219897111" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219897111">(Dec 14 2020 at 20:24)</a>:</h4>
<p><code>P(A) &lt;= 1</code> is the essence of the definition of <code>probability_measure</code>.   So it doesn't go in <code>probability_space</code>, it comes as a consequence of the fact that <code>probability_space</code> calls for a <code>measure_space</code> with a <code>measure</code> which is a <code>probability_measure</code>.    So that doesn't seem like a good example of something I would say in the API for <code>probability_space</code>.</p>
<p>My sense (expressed by somebody here) is that most proper mathematicians consider probability space to be a forgettable and somewhat trivial concept.  You define it once, then never talk about it.  So there wouldn't be a lot of theorems to go in the API.</p>
<p>One thing you could say is that if </p>
<ul>
<li><code>(Ω,𝔸,P)</code> is a probability space, and</li>
<li><code>(S,Σ)</code> is a measurable space, and </li>
<li><code>X: (Ω,𝔸)→(S,Σ)</code> is a random variable, and </li>
<li>
<p><code>μ(X) : Σ → [0,1]</code> is the distribution of <code>X</code>,<br>
then</p>
</li>
<li>
<p><code>(S,Σ,μ(X))</code> is a probability space which we can call the <code>distribution_space</code> of <code>X</code>.  But I don't know if you'd call that a theorem about <code>probability_space</code> or another type class that you'd need to define.</p>
</li>
</ul>



<a name="219897234"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219897234" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219897234">(Dec 14 2020 at 20:25)</a>:</h4>
<p>Of course once you got that far you'd want to define <code>distribution</code> and <code>random_variable</code>, so yet more APIs which I don't see in <code>mathlib</code> at the moment.</p>



<a name="219897838"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219897838" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219897838">(Dec 14 2020 at 20:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="364351">Lars Ericson</span> <a href="#narrow/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F/near/219897111">said</a>:</p>
<blockquote>
<p><code>P(A) &lt;= 1</code> is the essence of the definition of <code>probability_measure</code>.   So it doesn't go in <code>probability_space</code>, it comes as a consequence of the fact that <code>probability_space</code> calls for a <code>measure_space</code> with a <code>measure</code> which is a <code>probability_measure</code>.    So that doesn't seem like a good example of something I would say in the API for <code>probability_space</code>.</p>
</blockquote>
<p>It happens quite often that right after a definition, you state a couple of lemmas whose proof is <code>rfl</code>, just to make the definition easier to use.</p>
<p>The fact that something is "trivial" or "true by definition" doesn't mean it's not a good idea to include in the basic API.</p>



<a name="219903789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219903789" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219903789">(Dec 14 2020 at 21:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F/near/219895543">said</a>:</p>
<blockquote>
<p>A couple more things that could be added to the API:</p>
<ol>
<li>The existence of binary products / coproducts.</li>
<li>The obvious instance on <code>pempty</code> and <code>punit</code>.</li>
</ol>
</blockquote>
<p>I don't think <code>pempty</code> is a probability space</p>



<a name="219903962"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219903962" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219903962">(Dec 14 2020 at 21:23)</a>:</h4>
<blockquote>
<p>The fact that something is "trivial" or "true by definition" doesn't mean it's not a good idea to include in the basic API.</p>
</blockquote>
<p>In fact, this is exactly what should be in the first revision of the basic API. Make all the trivial observations</p>



<a name="219904452"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219904452" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219904452">(Dec 14 2020 at 21:27)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> of course, you're right.</p>



<a name="219904468"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219904468" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219904468">(Dec 14 2020 at 21:27)</a>:</h4>
<p>It's the initial meeasure space.</p>



<a name="219905229"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219905229" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219905229">(Dec 14 2020 at 21:34)</a>:</h4>
<p>(Unfortunately this means the category cannot have finite coproducts, unless you change the definition of a probability measure to assume that <code>P(set.univ) = 1</code> with the additional assumption that the type is nonempty.)</p>



<a name="219905836"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219905836" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219905836">(Dec 14 2020 at 21:40)</a>:</h4>
<p>Do analysts use this category theory language anyway?</p>



<a name="219905852"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219905852" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219905852">(Dec 14 2020 at 21:40)</a>:</h4>
<p>Maybe not ;)</p>



<a name="219905886"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219905886" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219905886">(Dec 14 2020 at 21:40)</a>:</h4>
<p>Disjoint Union of two measure 1 things has measure 2 I guess</p>



<a name="219905905"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219905905" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219905905">(Dec 14 2020 at 21:40)</a>:</h4>
<p>You have to average them.</p>



<a name="219905924"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219905924" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219905924">(Dec 14 2020 at 21:41)</a>:</h4>
<p>So for example the coproduct of <code>punit</code>with itself is a coin flip</p>



<a name="219905962"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219905962" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219905962">(Dec 14 2020 at 21:41)</a>:</h4>
<p>I guess the general form of that is another giry monad</p>



<a name="219907391"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219907391" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219907391">(Dec 14 2020 at 21:54)</a>:</h4>
<p><span class="user-mention" data-user-id="243562">@Adam Topaz</span> you don't have to change the definition of a probability measure to assume that <code>P(set.univ)=1</code>, because that is literally the exact definition of a probability measure in <code>mathlib</code>:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">class</span> <span class="n">probability_measure</span> <span class="o">(</span><span class="n">μ</span> <span class="o">:</span> <span class="n">measure</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span> <span class="o">(</span><span class="n">measure_univ</span> <span class="o">:</span> <span class="n">μ</span> <span class="n">univ</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">)</span>
</code></pre></div>



<a name="219907421"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219907421" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219907421">(Dec 14 2020 at 21:54)</a>:</h4>
<p>Oh, we were talking about the empty set.</p>



<a name="219907467"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219907467" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219907467">(Dec 14 2020 at 21:55)</a>:</h4>
<p>Well another axiom I would add to <code>probability_space</code> is that the sample space is inhabited, that's standard.</p>



<a name="219907469"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219907469" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219907469">(Dec 14 2020 at 21:55)</a>:</h4>
<p>The axioms imply that the measure of the empty set is <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>, so as <span class="user-mention" data-user-id="110049">@Mario Carneiro</span> mentioned the empty set cannot be a probability space with this definition.</p>



<a name="219907598"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219907598" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219907598">(Dec 14 2020 at 21:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="364351">Lars Ericson</span> <a href="#narrow/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F/near/219907467">said</a>:</p>
<blockquote>
<p>Well another axiom I would add to <code>probability_space</code> is that the sample space is inhabited, that's standard.</p>
</blockquote>
<p>This would be redundant (at least classically).</p>



<a name="219907828"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219907828" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219907828">(Dec 14 2020 at 21:58)</a>:</h4>
<p>I'm looking for a reference but my understanding is that <code>inhabited</code> is a required property of the <a href="https://en.wikipedia.org/wiki/Sample_space">sample space</a>.  Wikipedia doesn't really come out and say it except to index the outcomes starting from 1.</p>



<a name="219907954"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219907954" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219907954">(Dec 14 2020 at 21:59)</a>:</h4>
<p>If it's not inhabited, then the set is empty, and the measure of the whole space would be 0, but the axioms assume that it's 1. Since 0 is not 1 in the reals, it follows that the set must be inhabited. Of course, this is a classical argument.</p>



<a name="219908090"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219908090" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219908090">(Dec 14 2020 at 22:00)</a>:</h4>
<p>There you go.  In <a href="https://ncatlab.org/nlab/show/probability+space">nlab</a> they say "a probability space is a measure space (X,μ) whose measure μ is a probability distribution: its integral is ∫Xμ=1".</p>



<a name="219908194"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219908194" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219908194">(Dec 14 2020 at 22:01)</a>:</h4>
<p>You could add as a theorem to <code>mathlib</code> that probability spaces are inhabited, by a proof about the integral.</p>



<a name="219908272"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219908272" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219908272">(Dec 14 2020 at 22:02)</a>:</h4>
<p>That could go in the API.</p>



<a name="219909126"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219909126" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219909126">(Dec 14 2020 at 22:08)</a>:</h4>
<p>If it's a classical argument, it should probably be a nonempty instance not an inhabited one</p>



<a name="219909214"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219909214" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219909214">(Dec 14 2020 at 22:09)</a>:</h4>
<p>Since nonempty is proof of existence without claiming computability</p>



<a name="219912261"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219912261" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219912261">(Dec 14 2020 at 22:35)</a>:</h4>
<p>Here is a <a href="https://math.stackexchange.com/questions/1494356/can-a-sample-space-consist-of-only-the-empty-set">short proof</a> by Eric Wofsey.  It doesn't involve reasoning about integrals.  He reasons about sigma algebras and derives a contradiction:</p>
<p>"There exists no probability space for which  Ω=∅ . A priori, given a set  Ω  and a  𝜎 -algebra  Σ  on  Ω , there can be any number of different measures  ℙ  which make  (Ω,Σ,ℙ)  satisfy the axioms of a probability space--usually there are many different possible probability measures  ℙ , but there might not be any at all! In the case that  Ω=∅ , the only possible  𝜎 -algebra on  Ω  is  Σ={∅} , and there is no function  ℙ:Σ→[0,1]  which satisfies the axioms of a probability measure (since the axioms force  ℙ(∅)  to be both  0  and  1 )".</p>



<a name="219912640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219912640" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219912640">(Dec 14 2020 at 22:39)</a>:</h4>
<p>Here's a short proof: in <code>pempty</code>, <code>univ = empty</code>, so <code>1 = volume univ = volume empty = 0</code>, contradiction</p>



<a name="219913062"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219913062" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219913062">(Dec 14 2020 at 22:43)</a>:</h4>
<p>All our problems would be solved if we just defined probability spaces as measure spaces where the measure of <code>univ</code> is finite (but not necessarily one). (Just to be clear, I'm certainly not suggesting this is a good idea, rather that the category you would obtain in this way would be a bit nicer.)</p>



<a name="219915277"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20topological_space%20is%20used%20in%20%20B%28%E2%84%9D%29%3F/near/219915277" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20topological_space.20is.20used.20in.20.20B(.E2.84.9D).3F.html#219915277">(Dec 14 2020 at 23:06)</a>:</h4>
<p>Speaking of which, I found my <a href="http://www.math.uchicago.edu/~may/VIGRE/VIGRE2010/REUPapers/Lynn.pdf">nonempty set definition</a>!</p>
<p><a href="/user_uploads/3121/iZVcKflLOsrq4EITmdkEbOwB/Screenshot-from-2020-12-14-17-49-42.png">Screenshot-from-2020-12-14-17-49-42.png</a> </p>
<p>She defines a couple of categories, and is happy that "at no point in this paper was the requirement that the sample space have measure 1 essential to a result"....except on line 1 where she says that the sample space is nonempty.  But maybe one of her two categories gets you where you want to be.</p>
<p>There is more where that comes from.  I'll put Terence Tao on top because he's a superstar:</p>
<ul>
<li><a href="https://terrytao.wordpress.com/2014/06/28/algebraic-probability-spaces/">https://terrytao.wordpress.com/2014/06/28/algebraic-probability-spaces/</a></li>
<li><a href="https://golem.ph.utexas.edu/category/2018/09/a_categorical_look_at_random_v.html">https://golem.ph.utexas.edu/category/2018/09/a_categorical_look_at_random_v.html</a></li>
<li><a href="https://arxiv.org/pdf/1611.03630.pdf">https://arxiv.org/pdf/1611.03630.pdf</a></li>
<li><a href="https://mathoverflow.net/questions/20740/is-there-an-introduction-to-probability-theory-from-a-structuralist-categorical">https://mathoverflow.net/questions/20740/is-there-an-introduction-to-probability-theory-from-a-structuralist-categorical</a></li>
<li><a href="https://www.jstor.org/stable/40587190?seq=1">https://www.jstor.org/stable/40587190?seq=1</a></li>
<li><a href="http://www.denotational.co.uk/drafts/heunen-kammar-staton-yang-staton-spaces.pdf">http://www.denotational.co.uk/drafts/heunen-kammar-staton-yang-staton-spaces.pdf</a></li>
</ul>
<p>I've never ever understood category theory and how it makes life easier.   I have seen category theoretic styling used in Scratchpad II/Axiom as a way of specifying what might otherwise be called interfaces or classes.  Here are some notes:</p>
<ul>
<li><a href="https://github.com/daly/axiom/blob/master/books/AldorDesign.pdf">Aldor Design</a></li>
</ul>
<p>Axiom was used by <a href="https://warwick.ac.uk/fac/sci/statistics/staff/academic-research/kendall/">Wilfred Kendall</a> at Warwick to implement stochastic differentials and Ito integrals.   So this is also worth a look:  </p>
<ul>
<li><a href="https://www.researchgate.net/publication/259148976_Symbolic_Ito_calculus_An_introduction/link/0deec52a0ddaf86894000000/download">Symbolic Itô calculus: An introduction</a></li>
</ul>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>