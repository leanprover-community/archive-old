---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Question.20about.20.60calc.60.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20.60calc.60.html">Question about `calc`</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="321573517"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20%60calc%60/near/321573517" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gareth Ma <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20.60calc.60.html#321573517">(Jan 16 2023 at 07:01)</a>:</h4>
<p>Hi! I am new to lean, only played the natural number game a bit and right now trying the tutorial. I am kind of confused on how to use the <code>calc</code>. I can't really pinpoint what I don't understand, just... I don't understand <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span> <br>
Can someone show how the following code can be rewritten using <code>calc</code>?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">hb</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">≤</span> <span class="n">b</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">b</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">have</span> <span class="n">hb</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">+</span> <span class="mi">0</span> <span class="bp">≤</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">b</span><span class="o">,</span> <span class="k">from</span> <span class="n">add_le_add_left</span> <span class="n">hb</span> <span class="n">a</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">add_zero</span> <span class="n">at</span> <span class="n">hb</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">hb</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="321573975"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20%60calc%60/near/321573975" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gareth Ma <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20.60calc.60.html#321573975">(Jan 16 2023 at 07:06)</a>:</h4>
<p>I tried this, but doesn't seem to work, and I am not sure why <span aria-label="tear" class="emoji emoji-1f972" role="img" title="tear">:tear:</span> </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code>  <span class="k">calc</span>
    <span class="n">a</span> <span class="bp">+</span> <span class="mi">0</span> <span class="bp">≤</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">b</span> <span class="o">:</span> <span class="kd">by</span> <span class="o">{</span> <span class="n">rw</span> <span class="n">add_le_add_left</span> <span class="n">hb</span> <span class="n">a</span> <span class="o">}</span>
    <span class="n">a</span> <span class="bp">≤</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">b</span> <span class="o">:</span> <span class="kd">by</span> <span class="o">{</span> <span class="n">rw</span> <span class="n">add_zero</span> <span class="o">},</span>
</code></pre></div>



<a name="321576423"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20%60calc%60/near/321576423" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20.60calc.60.html#321576423">(Jan 16 2023 at 07:29)</a>:</h4>
<p>Solution with <code>calc</code> would be along these lines:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="k">calc</span>
  <span class="n">a</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">+</span> <span class="mi">0</span> <span class="o">:</span> <span class="n">reason</span>
<span class="bp">...</span> <span class="bp">≤</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">b</span> <span class="o">:</span> <span class="n">reason</span>
</code></pre></div>



<a name="321576896"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20%60calc%60/near/321576896" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20.60calc.60.html#321576896">(Jan 16 2023 at 07:33)</a>:</h4>
<p>PS: The dots are not a placeholder. You literally write <code>...</code> there.</p>



<a name="321577971"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20%60calc%60/near/321577971" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gareth Ma <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20.60calc.60.html#321577971">(Jan 16 2023 at 07:40)</a>:</h4>
<p>Oh wait, the <code>...</code> is part of the syntax?</p>



<a name="321577988"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20%60calc%60/near/321577988" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20.60calc.60.html#321577988">(Jan 16 2023 at 07:41)</a>:</h4>
<p>Yes.</p>



<a name="321578022"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20%60calc%60/near/321578022" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gareth Ma <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20.60calc.60.html#321578022">(Jan 16 2023 at 07:41)</a>:</h4>
<p>Oh god, thanks, I will try more :)</p>



<a name="321578168"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20%60calc%60/near/321578168" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20.60calc.60.html#321578168">(Jan 16 2023 at 07:42)</a>:</h4>
<p>Lean 3 is not newline-sensitive. You must separate the reason for <code>a = a + 0</code> from <code>≤ a + b</code> on the next line.</p>



<a name="321579543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20%60calc%60/near/321579543" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20.60calc.60.html#321579543">(Jan 16 2023 at 07:52)</a>:</h4>
<p><span class="user-mention" data-user-id="579936">@Gareth Ma</span> when using the tutorial, it is absolutely crucial to carefully read the examples. In this case looking at them is enough, but in most cases reading the examples means moving the cursor slowly from line to line and watch the tactic state update, trying to make sure you understand why the tactic state changes like it does.</p>



<a name="321579659"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20%60calc%60/near/321579659" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20.60calc.60.html#321579659">(Jan 16 2023 at 07:53)</a>:</h4>
<p>It is also important not to completely forget what the real world looks like. The calc command in particular is meant to look like the real world. On paper what you wrote would be just as meaningless as it is in Lean.</p>



<a name="321579780"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20%60calc%60/near/321579780" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gareth Ma <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20.60calc.60.html#321579780">(Jan 16 2023 at 07:54)</a>:</h4>
<p>Ahh true, thank you both! The tutorial so far feels different from what I learned from the natural number game</p>



<a name="321580005"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20%60calc%60/near/321580005" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20.60calc.60.html#321580005">(Jan 16 2023 at 07:56)</a>:</h4>
<p>NNG has some modifications of how tactic-style proofs work.</p>



<a name="321580209"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20%60calc%60/near/321580209" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20.60calc.60.html#321580209">(Jan 16 2023 at 07:57)</a>:</h4>
<p>NNG was never meant to be a general introduction to Lean. It was meant as a standalone game.</p>



<a name="321580651"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20%60calc%60/near/321580651" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gareth Ma <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20.60calc.60.html#321580651">(Jan 16 2023 at 08:00)</a>:</h4>
<p>That makes more sense <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="321580799"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20%60calc%60/near/321580799" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20.60calc.60.html#321580799">(Jan 16 2023 at 08:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110031">Patrick Massot</span> <a href="#narrow/stream/113489-new-members/topic/Question.20about.20.60calc.60/near/321580209">said</a>:</p>
<blockquote>
<p>NNG was never meant to be a general introduction to Lean. It was meant as a standalone game.</p>
</blockquote>
<p>However, it is an excellent way to draw to people to Lean!</p>



<a name="321581070"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20%60calc%60/near/321581070" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gareth Ma <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20.60calc.60.html#321581070">(Jan 16 2023 at 08:03)</a>:</h4>
<p>It's definitely a nice introduction to how to "think in Lean"</p>



<a name="321581746"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20%60calc%60/near/321581746" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20.60calc.60.html#321581746">(Jan 16 2023 at 08:08)</a>:</h4>
<p>I'd even say that it is a nice introduction to how to "think mathematically".</p>



<a name="321581884"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20%60calc%60/near/321581884" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20.60calc.60.html#321581884">(Jan 16 2023 at 08:09)</a>:</h4>
<p>I hope that some famous gaming Youtubers will soon make "Let's play NNG" videos.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>