---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Correct.20sequence.20to.20create.20a.20Githubable.20Lean.20project.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Correct.20sequence.20to.20create.20a.20Githubable.20Lean.20project.html">Correct sequence to create a Githubable Lean project</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="218958436"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Correct%20sequence%20to%20create%20a%20Githubable%20Lean%20project/near/218958436" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Correct.20sequence.20to.20create.20a.20Githubable.20Lean.20project.html#218958436">(Dec 05 2020 at 23:14)</a>:</h4>
<p>I created a repository for my Lean files on GitHub.</p>
<p>I cloned my repository to a directory on my Ubuntu computer.</p>
<p>I CD'd to the directory and ran <code>code</code> on a file.  There was no Lean there.</p>
<p>I then ran <code>leanproject new</code> in the directory.</p>
<p>Now I can't commit to my original GitHub.  I think it think's it is <code>mathlib</code>.  It is giving me this message after I do a <code>git push</code>:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">fatal</span><span class="o">:</span> <span class="n">The</span> <span class="n">current</span> <span class="n">branch</span> <span class="n">master</span> <span class="n">has</span> <span class="n">no</span> <span class="n">upstream</span> <span class="n">branch.</span>
<span class="n">To</span> <span class="n">push</span> <span class="n">the</span> <span class="n">current</span> <span class="n">branch</span> <span class="n">and</span> <span class="n">set</span> <span class="n">the</span> <span class="n">remote</span> <span class="n">as</span> <span class="n">upstream</span><span class="o">,</span> <span class="n">use</span>

    <span class="n">git</span> <span class="n">push</span> <span class="c1">--set-upstream origin master</span>
</code></pre></div>
<p>What is the right way to set up my own repository of Lean files and work with it in such a way that commits to it don't try to commit to <code>mathlib</code>?</p>
<p>Also, look at [the docs](), what is an "oleans" file?</p>
<p>I can relocate my set of .lean files, I just need to know the directory structure that <code>leanproject</code> expects, where to put my files in that structure, so that they can be their own github repository, not intertwined with the Lean distribution.</p>



<a name="218958450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Correct%20sequence%20to%20create%20a%20Githubable%20Lean%20project/near/218958450" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Correct.20sequence.20to.20create.20a.20Githubable.20Lean.20project.html#218958450">(Dec 05 2020 at 23:14)</a>:</h4>
<p><a href="https://leanprover-community.github.io/leanproject.html">https://leanprover-community.github.io/leanproject.html</a></p>



<a name="218958458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Correct%20sequence%20to%20create%20a%20Githubable%20Lean%20project/near/218958458" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Correct.20sequence.20to.20create.20a.20Githubable.20Lean.20project.html#218958458">(Dec 05 2020 at 23:15)</a>:</h4>
<p><code>leanproject new my_project</code></p>



<a name="218958609"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Correct%20sequence%20to%20create%20a%20Githubable%20Lean%20project/near/218958609" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Correct.20sequence.20to.20create.20a.20Githubable.20Lean.20project.html#218958609">(Dec 05 2020 at 23:19)</a>:</h4>
<p>That has a .git subdirectory.   So it is creating a repository instance.  Where do I clone my Git repository?  Under <code>src</code>?</p>



<a name="218958668"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Correct%20sequence%20to%20create%20a%20Githubable%20Lean%20project/near/218958668" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Correct.20sequence.20to.20create.20a.20Githubable.20Lean.20project.html#218958668">(Dec 05 2020 at 23:20)</a>:</h4>
<p>One project, one repository. <code>.git</code> directory is always in the root of a git repo.  I don't understand what you are not following here.</p>



<a name="218958676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Correct%20sequence%20to%20create%20a%20Githubable%20Lean%20project/near/218958676" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Correct.20sequence.20to.20create.20a.20Githubable.20Lean.20project.html#218958676">(Dec 05 2020 at 23:21)</a>:</h4>
<p>You can have lots of lean files in one repository.</p>



<a name="218958802"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Correct%20sequence%20to%20create%20a%20Githubable%20Lean%20project/near/218958802" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Correct.20sequence.20to.20create.20a.20Githubable.20Lean.20project.html#218958802">(Dec 05 2020 at 23:24)</a>:</h4>
<p>I have my own .lean file repository, <a href="https://github.com/catskillsresearch/grundbegriffe">https://github.com/catskillsresearch/grundbegriffe</a>.  It just has lean files.</p>
<p>When I do leanproject new grundbegriffe, it does</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">git</span> <span class="n">checkout</span> <span class="c1">--detach d4bd4cdaabcfddfb4215dca26b317aa32030bf79</span>
</code></pre></div>
<p>This creates a directory that has a <code>.git</code> repository structure.  I can't do <code>git  clone https://github.com/catskillsresearch/grundbegriffe.git</code> directly into this, because it will have it's own <code>.git</code> file because it is it's own repository.</p>
<p>I think the answer is that I should do my <code>git clone</code> under <code>src</code>.</p>
<p>Kevin do you understand what my confusion is?  Two separate repositories can't have .git files in the same subdirectory.</p>



<a name="218958818"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Correct%20sequence%20to%20create%20a%20Githubable%20Lean%20project/near/218958818" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Correct.20sequence.20to.20create.20a.20Githubable.20Lean.20project.html#218958818">(Dec 05 2020 at 23:25)</a>:</h4>
<p>I don't understand why you can't just start again, make a project with leanproject, and put all your lean files in that properly-made correctly-formatted project (in <code>src</code>), and now you have a working project which you can push to github at your leisure.</p>



<a name="218958875"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Correct%20sequence%20to%20create%20a%20Githubable%20Lean%20project/near/218958875" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Correct.20sequence.20to.20create.20a.20Githubable.20Lean.20project.html#218958875">(Dec 05 2020 at 23:27)</a>:</h4>
<p>Because if I push it to github I will be pushing it to your github, which might be considered impolite.</p>



<a name="218958879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Correct%20sequence%20to%20create%20a%20Githubable%20Lean%20project/near/218958879" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Correct.20sequence.20to.20create.20a.20Githubable.20Lean.20project.html#218958879">(Dec 05 2020 at 23:27)</a>:</h4>
<p>you are talking nonsense.</p>



<a name="218958923"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Correct%20sequence%20to%20create%20a%20Githubable%20Lean%20project/near/218958923" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Correct.20sequence.20to.20create.20a.20Githubable.20Lean.20project.html#218958923">(Dec 05 2020 at 23:28)</a>:</h4>
<p><span class="user-mention" data-user-id="364351">@Lars Ericson</span> you can set which remote repo you want to push to with git</p>



<a name="218958939"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Correct%20sequence%20to%20create%20a%20Githubable%20Lean%20project/near/218958939" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Correct.20sequence.20to.20create.20a.20Githubable.20Lean.20project.html#218958939">(Dec 05 2020 at 23:29)</a>:</h4>
<p>If you make a project with leanproject then it is just a standalone git project, it is not connected to github in any way.</p>



<a name="218958998"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Correct%20sequence%20to%20create%20a%20Githubable%20Lean%20project/near/218958998" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Correct.20sequence.20to.20create.20a.20Githubable.20Lean.20project.html#218958998">(Dec 05 2020 at 23:30)</a>:</h4>
<p>(see <a href="https://git-scm.com/docs/git-remote">https://git-scm.com/docs/git-remote</a>)</p>



<a name="218959000"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Correct%20sequence%20to%20create%20a%20Githubable%20Lean%20project/near/218959000" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Correct.20sequence.20to.20create.20a.20Githubable.20Lean.20project.html#218959000">(Dec 05 2020 at 23:30)</a>:</h4>
<p>OK so I need the <code>git</code> command which causes the resulting leanproject directory to save to <code>https://github.com/catskillsresearch/grundbegriffe.git</code>.</p>



<a name="218959011"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Correct%20sequence%20to%20create%20a%20Githubable%20Lean%20project/near/218959011" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Correct.20sequence.20to.20create.20a.20Githubable.20Lean.20project.html#218959011">(Dec 05 2020 at 23:31)</a>:</h4>
<p>so</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">git</span> <span class="n">remote</span> <span class="n">add</span> <span class="bp">-</span><span class="n">m</span> <span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">github.com</span><span class="bp">/</span><span class="n">catskillsresearch</span><span class="bp">/</span><span class="n">grundbegriffe.git</span>
</code></pre></div>
<p>?</p>



<a name="218959066"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Correct%20sequence%20to%20create%20a%20Githubable%20Lean%20project/near/218959066" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Correct.20sequence.20to.20create.20a.20Githubable.20Lean.20project.html#218959066">(Dec 05 2020 at 23:32)</a>:</h4>
<p>you can find pretty much everything you need for using git using google, given that practically every software engineer uses it :)<br>
<a href="https://docs.github.com/en/free-pro-team@latest/github/using-git/adding-a-remote">https://docs.github.com/en/free-pro-team@latest/github/using-git/adding-a-remote</a></p>



<a name="218959097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Correct%20sequence%20to%20create%20a%20Githubable%20Lean%20project/near/218959097" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Correct.20sequence.20to.20create.20a.20Githubable.20Lean.20project.html#218959097">(Dec 05 2020 at 23:33)</a>:</h4>
<p>I appreciate the advice.  For now I will go with this sequence:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">leanproject</span> <span class="n">new</span> <span class="n">lean</span>
<span class="n">cd</span> <span class="n">lean</span><span class="bp">/</span><span class="n">src</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">github.com</span><span class="bp">/</span><span class="n">catskillsresearch</span><span class="bp">/</span><span class="n">grundbegriffe.git</span>
<span class="n">cd</span> <span class="n">grundbegriffe</span>
<span class="n">code</span>
</code></pre></div>



<a name="218959165"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Correct%20sequence%20to%20create%20a%20Githubable%20Lean%20project/near/218959165" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Correct.20sequence.20to.20create.20a.20Githubable.20Lean.20project.html#218959165">(Dec 05 2020 at 23:35)</a>:</h4>
<p>Because at the level of <code>src</code> it still thinks it's in the originally cloned repository.  If I do it that way and cd into src/grundbegriffe, then it thinks it's in my repository and forgets about the parent repository.</p>



<a name="218959184"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Correct%20sequence%20to%20create%20a%20Githubable%20Lean%20project/near/218959184" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Correct.20sequence.20to.20create.20a.20Githubable.20Lean.20project.html#218959184">(Dec 05 2020 at 23:36)</a>:</h4>
<p>I would instead recommend that you delete your grundbegriffe repo, which is not a correctly formatted lean repo, and instead create a repo with leanproject and then push that repo to github. Your error was dumping a bunch of lean files on github in an incorrectly formatted way and until you fix this error by deleting the repo you are bound to have problems.</p>



<a name="218959213"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Correct%20sequence%20to%20create%20a%20Githubable%20Lean%20project/near/218959213" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Correct.20sequence.20to.20create.20a.20Githubable.20Lean.20project.html#218959213">(Dec 05 2020 at 23:36)</a>:</h4>
<p>The code you posted above will create two git projects which is not what you want.</p>



<a name="218959218"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Correct%20sequence%20to%20create%20a%20Githubable%20Lean%20project/near/218959218" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Correct.20sequence.20to.20create.20a.20Githubable.20Lean.20project.html#218959218">(Dec 05 2020 at 23:36)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span>  I will follow that advice.</p>



<a name="218959230"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Correct%20sequence%20to%20create%20a%20Githubable%20Lean%20project/near/218959230" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Correct.20sequence.20to.20create.20a.20Githubable.20Lean.20project.html#218959230">(Dec 05 2020 at 23:37)</a>:</h4>
<p>The lean files still want to go in <code>src</code>, correct?   As opposed to in the main directory.</p>



<a name="218959295"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Correct%20sequence%20to%20create%20a%20Githubable%20Lean%20project/near/218959295" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Correct.20sequence.20to.20create.20a.20Githubable.20Lean.20project.html#218959295">(Dec 05 2020 at 23:39)</a>:</h4>
<p>yes</p>



<a name="218960262"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Correct%20sequence%20to%20create%20a%20Githubable%20Lean%20project/near/218960262" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Correct.20sequence.20to.20create.20a.20Githubable.20Lean.20project.html#218960262">(Dec 06 2020 at 00:07)</a>:</h4>
<p>You could clone a repo like the tutorial project, following the instructions on the website I linked to above, if you want to check what a correctly-formatted project looks like.</p>



<a name="218960536"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Correct%20sequence%20to%20create%20a%20Githubable%20Lean%20project/near/218960536" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Correct.20sequence.20to.20create.20a.20Githubable.20Lean.20project.html#218960536">(Dec 06 2020 at 00:14)</a>:</h4>
<p>Final solution, for an existing set of <code>.lean</code> files in directory <code>oldproject</code>:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">leanproject</span> <span class="n">new</span> <span class="n">grundbegriffe</span>
<span class="n">mv</span> <span class="n">oldproject</span><span class="bp">/*.</span><span class="n">lean</span> <span class="n">grundbegriffe</span><span class="bp">/</span><span class="n">src</span><span class="bp">/.</span>
<span class="n">cd</span> <span class="n">grundbegriffe</span>
<span class="n">git</span> <span class="n">add</span> <span class="bp">.</span><span class="n">gitignore</span> <span class="n">leanpkg.toml</span> <span class="n">src</span>
<span class="n">git</span> <span class="n">commit</span> <span class="bp">-</span><span class="n">m</span> <span class="s2">"first commit"</span>
<span class="n">git</span> <span class="n">remote</span> <span class="n">add</span> <span class="n">origin</span> <span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">github.com</span><span class="bp">/</span><span class="n">catskillsresearch</span><span class="bp">/</span><span class="n">grundbegriffe.git</span>
<span class="n">git</span> <span class="n">push</span> <span class="bp">-</span><span class="n">u</span> <span class="n">origin</span> <span class="n">master</span>
</code></pre></div>



<a name="218960611"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Correct%20sequence%20to%20create%20a%20Githubable%20Lean%20project/near/218960611" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Correct.20sequence.20to.20create.20a.20Githubable.20Lean.20project.html#218960611">(Dec 06 2020 at 00:17)</a>:</h4>
<p>looks good i think</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>