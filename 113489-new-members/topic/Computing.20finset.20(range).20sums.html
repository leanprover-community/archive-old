---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Computing.20finset.20(range).20sums.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Computing.20finset.20(range).20sums.html">Computing finset (range) sums</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="200831526"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Computing%20finset%20%28range%29%20sums/near/200831526" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Pedro Minicz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Computing.20finset.20(range).20sums.html#200831526">(Jun 14 2020 at 20:09)</a>:</h4>
<p>How to deal with computations on finite sets?</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">algebra</span><span class="bp">.</span><span class="n">big_operators</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">real</span><span class="bp">.</span><span class="n">ennreal</span>

<span class="n">open_locale</span> <span class="n">big_operators</span>

<span class="n">def</span> <span class="n">f</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="o">:=</span> <span class="k">if</span> <span class="n">n</span> <span class="bp">&lt;</span> <span class="mi">2</span> <span class="k">then</span> <span class="mi">1</span> <span class="k">else</span> <span class="mi">0</span>

<span class="kn">example</span> <span class="o">:</span> <span class="err">∑</span> <span class="n">i</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="mi">0</span><span class="o">,</span> <span class="n">f</span> <span class="n">i</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">refl</span> <span class="c1">-- or `simp only [finset.sum_empty, finset.range_zero]`</span>

<span class="kn">example</span> <span class="o">:</span> <span class="err">∑</span> <span class="n">i</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="mi">1</span><span class="o">,</span> <span class="n">f</span> <span class="n">i</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">f</span><span class="o">,</span> <span class="n">finset</span><span class="bp">.</span><span class="n">sum_singleton</span><span class="o">]</span>

<span class="kn">example</span> <span class="o">:</span> <span class="err">∑</span> <span class="n">i</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="mi">2</span><span class="o">,</span> <span class="n">f</span> <span class="n">i</span> <span class="bp">=</span> <span class="mi">2</span> <span class="o">:=</span>
<span class="n">sorry</span>

<span class="kn">example</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="err">∑</span> <span class="n">i</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span> <span class="n">f</span> <span class="n">i</span> <span class="bp">&lt;</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span> <span class="o">:=</span>
<span class="n">sorry</span>
</code></pre></div>


<p>I think the examples above motivate the question quite well. Its pretty easy to deal with summations on the empty set or singleton sets thanks to the lemmas <code>sum_empty</code> and <code>sum_singleton</code>, however I am unable to proof anything past 2.</p>



<a name="200831537"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Computing%20finset%20%28range%29%20sums/near/200831537" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Pedro Minicz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Computing.20finset.20(range).20sums.html#200831537">(Jun 14 2020 at 20:09)</a>:</h4>
<p>It should be possible to be able to proof the last example by induction on <code>n</code>, I believe.</p>



<a name="200831593"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Computing%20finset%20%28range%29%20sums/near/200831593" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Computing.20finset.20(range).20sums.html#200831593">(Jun 14 2020 at 20:11)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/algebra/big_operators.html#finset.sum_range_succ">https://leanprover-community.github.io/mathlib_docs/algebra/big_operators.html#finset.sum_range_succ</a></p>



<a name="200831597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Computing%20finset%20%28range%29%20sums/near/200831597" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Computing.20finset.20(range).20sums.html#200831597">(Jun 14 2020 at 20:11)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/algebra/big_operators.html#finset.sum_range_induction">https://leanprover-community.github.io/mathlib_docs/algebra/big_operators.html#finset.sum_range_induction</a></p>



<a name="200832121"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Computing%20finset%20%28range%29%20sums/near/200832121" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Pedro Minicz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Computing.20finset.20(range).20sums.html#200832121">(Jun 14 2020 at 20:25)</a>:</h4>
<p>Hmm, it was on <code>algebra</code>. I looked for this on <code>finset</code>. <span aria-label="innocent" class="emoji emoji-1f607" role="img" title="innocent">:innocent:</span></p>



<a name="200833557"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Computing%20finset%20%28range%29%20sums/near/200833557" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Computing.20finset.20(range).20sums.html#200833557">(Jun 14 2020 at 21:04)</a>:</h4>
<p>I think a few people have been caught out by this (myself included), I wonder if it's a good idea to put a note somewhere in <code>finset</code> saying that these lemmas are in <code>algebra</code> not in <code>finset</code></p>



<a name="200833646"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Computing%20finset%20%28range%29%20sums/near/200833646" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Computing.20finset.20(range).20sums.html#200833646">(Jun 14 2020 at 21:07)</a>:</h4>
<p><code>data.finset</code> is missing a ton of documentation. A PR would be greatly appreciated!</p>



<a name="200833711"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Computing%20finset%20%28range%29%20sums/near/200833711" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Computing.20finset.20(range).20sums.html#200833711">(Jun 14 2020 at 21:09)</a>:</h4>
<p>if you want to not be caught out like this in the future, use the "right click -&gt; go to definition" and "right click -&gt; peek definition" in VSCode</p>



<a name="200833757"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Computing%20finset%20%28range%29%20sums/near/200833757" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Computing.20finset.20(range).20sums.html#200833757">(Jun 14 2020 at 21:10)</a>:</h4>
<p>or search the name of a lemma (like <code>finset.sum_singleton</code>) in the mathlib docs</p>



<a name="200833764"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Computing%20finset%20%28range%29%20sums/near/200833764" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Computing.20finset.20(range).20sums.html#200833764">(Jun 14 2020 at 21:10)</a>:</h4>
<p>Docstring PR's are really easy to make and teach you a lot about the library. I needed to learn about multivariable polynomials so I wrote the module docstring for the relevant Lean file. You just have to isolate the definitions and explain them at the top, and follow the style guide which is in the docs directory of mathlib.</p>



<a name="200833828"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Computing%20finset%20%28range%29%20sums/near/200833828" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Computing.20finset.20(range).20sums.html#200833828">(Jun 14 2020 at 21:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="252300">Jalex Stark</span> <a href="#narrow/stream/113489-new-members/topic/Computing.20finset.20(range).20sums/near/200833711">said</a>:</p>
<blockquote>
<p>if you want to not be caught out like this in the future, use the "right click -&gt; go to definition" and "right click -&gt; peek definition" in VSCode</p>
</blockquote>
<p>I don't think this helps in this case, since the lemmas are defined in algebra and not referenced anywhere in finset, so if you're in finset you wouldn't be able to chase definitions to algebra.big_ops</p>



<a name="200833887"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Computing%20finset%20%28range%29%20sums/near/200833887" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Computing.20finset.20(range).20sums.html#200833887">(Jun 14 2020 at 21:14)</a>:</h4>
<p>i thought the problem is "i know about <code>finset.sum_singleton</code> but not about other lemmas in big_operators"?</p>



<a name="200833924"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Computing%20finset%20%28range%29%20sums/near/200833924" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Computing.20finset.20(range).20sums.html#200833924">(Jun 14 2020 at 21:16)</a>:</h4>
<p>Oh, my mistake, you're right!</p>



<a name="200835455"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Computing%20finset%20%28range%29%20sums/near/200835455" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Pedro Minicz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Computing.20finset.20(range).20sums.html#200835455">(Jun 14 2020 at 21:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="252300">Jalex Stark</span> <a href="#narrow/stream/113489-new-members/topic/Computing.20finset.20(range).20sums/near/200833887">said</a>:</p>
<blockquote>
<p>i thought the problem is "i know about <code>finset.sum_singleton</code> but not about other lemmas in big_operators"?</p>
</blockquote>
<p>I've been jumping to definitions all the time in VSCode and honestly didn't even notice <code>finset.sum_singleton</code> was in algebra.</p>



<a name="200835463"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Computing%20finset%20%28range%29%20sums/near/200835463" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Pedro Minicz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Computing.20finset.20(range).20sums.html#200835463">(Jun 14 2020 at 21:56)</a>:</h4>
<p>I guess I could have payed more attention. <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



<a name="200835579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Computing%20finset%20%28range%29%20sums/near/200835579" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Computing.20finset.20(range).20sums.html#200835579">(Jun 14 2020 at 21:59)</a>:</h4>
<p>without knowing the name of the file, if your goal is "find functions like finset.sum_singleton", then the tactic "look nearby in the file defining finset.sum_singleton" makes significant progress</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>