---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html">ùîΩ‚ÇÇ[Œ±, Œ≤, Œ≥] / (Œ±¬≤, Œ≤¬≤, Œ≥¬≤)</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="222716333"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222716333" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222716333">(Jan 14 2021 at 13:28)</a>:</h4>
<p>I'd like to formalize the statement from <a href="https://mathoverflow.net/a/87958/172242">mathoverflow</a>:</p>
<blockquote>
<p>Let <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> be the commutative ring  <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="double-struck">F</mi><mn>2</mn></msub><mrow><mo fence="true">[</mo><mi>Œ±</mi><mo separator="true">,</mo><mi>Œ≤</mi><mo separator="true">,</mo><mi>Œ≥</mi><mo fence="true">]</mo></mrow><mi mathvariant="normal">/</mi><mrow><mo fence="true">(</mo><msup><mi>Œ±</mi><mn>2</mn></msup><mo separator="true">,</mo><msup><mi>Œ≤</mi><mn>2</mn></msup><mo separator="true">,</mo><msup><mi>Œ≥</mi><mn>2</mn></msup><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\mathbb F_2 \left[\alpha,\beta,\gamma\right] / \left(\alpha^2,\beta^2,\gamma^2\right)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.20001em;vertical-align:-0.35001em;"></span><span class="mord"><span class="mord mathbb">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">[</span><span class="mord mathnormal" style="margin-right:0.0037em;">Œ±</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">Œ≤</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">Œ≥</span><span class="mclose delimcenter" style="top:0em;">]</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">/</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">Œ±</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">Œ≤</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">Œ≥</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span></span></span></span>.</p>
</blockquote>
<p>Unfortunately, I'm not certain how to read this notation. My best guess is:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">ring_theory.free_comm_ring</span>
<span class="kn">import</span> <span class="n">algebra.ring_quot</span>

<span class="kn">namespace</span> <span class="n">q60596</span>

<span class="kd">inductive</span> <span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span>
<span class="bp">|</span> <span class="n">A</span>
<span class="bp">|</span> <span class="n">B</span>
<span class="bp">|</span> <span class="n">C</span>

<span class="kd">inductive</span> <span class="n">rel</span> <span class="o">:</span> <span class="o">(</span><span class="n">free_comm_ring</span> <span class="n">X</span><span class="o">)</span> <span class="bp">‚Üí</span> <span class="o">(</span><span class="n">free_comm_ring</span> <span class="n">X</span><span class="o">)</span> <span class="bp">‚Üí</span> <span class="kt">Prop</span>
<span class="bp">|</span> <span class="n">char2</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">free_comm_ring</span> <span class="n">X</span><span class="o">)</span> <span class="o">:</span> <span class="n">rel</span> <span class="n">x</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="n">x</span><span class="o">)</span>
<span class="bp">|</span> <span class="n">of</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">X</span><span class="o">)</span> <span class="o">:</span> <span class="n">rel</span> <span class="o">(</span><span class="n">free_comm_ring.of</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">free_comm_ring.of</span> <span class="n">x</span><span class="o">)</span> <span class="mi">0</span>

<span class="c1">-- ùîΩ‚ÇÇ[Œ±, Œ≤, Œ≥] / (Œ±¬≤, Œ≤¬≤, Œ≥¬≤)</span>
<span class="kd">@[derive comm_ring]</span>
<span class="kd">def</span> <span class="n">k</span> <span class="o">:=</span> <span class="n">ring_quot</span> <span class="n">rel</span>

<span class="kd">end</span> <span class="n">q60596</span>
</code></pre></div>
<p>Is my reading of the notation correct? Is there a neater way to define this using <a href="https://leanprover-community.github.io/mathlib_docs/find/ideal">docs#ideal</a> instead of <a href="https://leanprover-community.github.io/mathlib_docs/find/ring_quot">docs#ring_quot</a>, since my ring is commutative?</p>



<a name="222719499"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222719499" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222719499">(Jan 14 2021 at 13:57)</a>:</h4>
<p>You can use <code>mv_polynomial</code> and just make the ideal.</p>



<a name="222719926"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222719926" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222719926">(Jan 14 2021 at 14:00)</a>:</h4>
<p>Before I try that, I'd also like to understand why the typeclasses can't be found in this example:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">ring_theory.free_comm_ring</span>
<span class="kn">import</span> <span class="n">algebra.ring_quot</span>
<span class="kn">import</span> <span class="n">data.finsupp</span>
<span class="kn">import</span> <span class="n">linear_algebra.finsupp</span>
<span class="kn">import</span> <span class="n">linear_algebra.quadratic_form</span>

<span class="kd">noncomputable theory</span>

<span class="c1">-- https://mathoverflow.net/questions/60596/clifford-pbw-theorem-for-quadratic-form/87958#87958</span>
<span class="kn">namespace</span> <span class="n">q60596</span>

<span class="kd">inductive</span> <span class="n">ABC</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span> <span class="bp">|</span> <span class="n">A</span> <span class="bp">|</span> <span class="n">B</span> <span class="bp">|</span> <span class="n">C</span>
<span class="kd">inductive</span> <span class="n">XYZ</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span> <span class="bp">|</span> <span class="n">X</span> <span class="bp">|</span> <span class="n">Y</span> <span class="bp">|</span> <span class="n">Z</span>

<span class="kn">open</span> <span class="n">ABC</span>
<span class="kn">open</span> <span class="n">XYZ</span>

<span class="kd">inductive</span> <span class="n">rel</span> <span class="o">:</span> <span class="o">(</span><span class="n">free_comm_ring</span> <span class="n">ABC</span><span class="o">)</span> <span class="bp">‚Üí</span> <span class="o">(</span><span class="n">free_comm_ring</span> <span class="n">ABC</span><span class="o">)</span> <span class="bp">‚Üí</span> <span class="kt">Prop</span>
<span class="bp">|</span> <span class="n">char2</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">free_comm_ring</span> <span class="n">ABC</span><span class="o">)</span> <span class="o">:</span> <span class="n">rel</span> <span class="n">x</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="n">x</span><span class="o">)</span>
<span class="bp">|</span> <span class="n">of</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ABC</span><span class="o">)</span> <span class="o">:</span> <span class="n">rel</span> <span class="o">(</span><span class="n">free_comm_ring.of</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">free_comm_ring.of</span> <span class="n">x</span><span class="o">)</span> <span class="mi">0</span>

<span class="c1">-- ùîΩ‚ÇÇ[Œ±, Œ≤, Œ≥] / (Œ±¬≤, Œ≤¬≤, Œ≥¬≤)</span>
<span class="kd">@[derive [comm_ring]</span><span class="o">]</span>
<span class="kd">def</span> <span class="n">k</span> <span class="o">:=</span> <span class="n">ring_quot</span> <span class="n">rel</span>

<span class="kd">def</span> <span class="n">k.of</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ABC</span><span class="o">)</span> <span class="o">:</span> <span class="n">k</span> <span class="o">:=</span> <span class="n">quot.mk</span> <span class="n">_</span> <span class="o">(</span><span class="n">free_comm_ring.of</span> <span class="n">x</span><span class="o">)</span>

<span class="kd">instance</span> <span class="n">mod_k_k</span> <span class="o">:</span> <span class="n">semimodule</span> <span class="n">k</span> <span class="n">k</span> <span class="o">:=</span> <span class="n">semiring.to_semimodule</span>
<span class="kd">example</span> <span class="o">:</span> <span class="n">semimodule</span> <span class="n">k</span> <span class="n">k</span> <span class="o">:=</span> <span class="n">infer_instance</span>  <span class="c1">-- FAIL!</span>

<span class="c1">-- this can't find `mod_k_k`!</span>
<span class="kd">instance</span> <span class="n">bad1</span> <span class="o">:</span> <span class="n">semimodule</span> <span class="n">k</span> <span class="o">(</span><span class="n">XYZ</span> <span class="bp">‚Üí‚ÇÄ</span> <span class="n">k</span><span class="o">)</span> <span class="o">:=</span> <span class="n">finsupp.semimodule</span> <span class="n">XYZ</span> <span class="n">k</span>

<span class="kd">instance</span> <span class="n">mod_k_XYZ</span> <span class="o">:</span> <span class="n">semimodule</span> <span class="n">k</span> <span class="o">(</span><span class="n">XYZ</span> <span class="bp">‚Üí‚ÇÄ</span> <span class="n">k</span><span class="o">)</span> <span class="o">:=</span>
<span class="bp">@</span><span class="n">finsupp.semimodule</span> <span class="n">XYZ</span> <span class="n">k</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="o">(</span><span class="n">q60596.mod_k_k</span><span class="o">)</span>

<span class="kd">@[derive [add_comm_group]</span><span class="o">]</span>
<span class="kd">def</span> <span class="n">L</span> <span class="o">:=</span> <span class="o">(</span><span class="bp">@</span><span class="n">submodule.span</span> <span class="n">k</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">q60596.mod_k_XYZ</span> <span class="o">{</span> <span class="n">v</span> <span class="o">:</span> <span class="n">XYZ</span> <span class="bp">‚Üí‚ÇÄ</span> <span class="n">k</span> <span class="bp">|</span>
    <span class="o">(</span><span class="n">k.of</span> <span class="n">A</span><span class="o">)</span> <span class="bp">*</span> <span class="n">v</span> <span class="n">X</span> <span class="bp">-</span> <span class="o">(</span><span class="n">k.of</span> <span class="n">B</span><span class="o">)</span> <span class="bp">*</span> <span class="n">v</span> <span class="n">Y</span> <span class="bp">-</span> <span class="o">(</span><span class="n">k.of</span> <span class="n">C</span><span class="o">)</span> <span class="bp">*</span> <span class="n">v</span> <span class="n">Z</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">})</span><span class="bp">.</span><span class="n">quotient</span>

<span class="kd">instance</span> <span class="o">:</span> <span class="n">module</span> <span class="n">k</span> <span class="n">L</span> <span class="o">:=</span> <span class="n">submodule.quotient.semimodule</span> <span class="n">_</span>
<span class="kd">example</span> <span class="o">:</span> <span class="n">module</span> <span class="n">k</span> <span class="n">L</span> <span class="o">:=</span> <span class="n">infer_instance</span>  <span class="c1">-- FAIL!</span>

<span class="kd">end</span> <span class="n">q60596</span>
</code></pre></div>
<p>In both cases, the typeclass which can't be found is defined immediately on the previous line!</p>



<a name="222720691"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222720691" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222720691">(Jan 14 2021 at 14:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2)/near/222719499">said</a>:</p>
<blockquote>
<p>You can use <code>mv_polynomial</code> and just make the ideal.</p>
</blockquote>
<p>Does that mean I'm reading the math incorrectly? Are you saying that <code>ùîΩ‚ÇÇ[Œ±, Œ≤, Œ≥]</code> translates as <code>mv_polynomial ABC F</code> for some unspecified F instead of <code>free_comm_ring ABC</code> quotiented by having characteristic 2?</p>



<a name="222720951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222720951" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222720951">(Jan 14 2021 at 14:08)</a>:</h4>
<p>I'm just saying that <code>ùîΩ‚ÇÇ[Œ±, Œ≤, Œ≥]</code> is <code>mv_polynomial (fin 3) K</code> for <code>K=ùîΩ‚ÇÇ</code>.</p>



<a name="222721142"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222721142" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222721142">(Jan 14 2021 at 14:09)</a>:</h4>
<p>My guess is that quotienting out this ring by the ideal would be easier to work with than <code>ring_quot</code>.</p>



<a name="222721223"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222721223" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222721223">(Jan 14 2021 at 14:10)</a>:</h4>
<p>Should I read <code>F2</code> as "an arbitrary field with characteristic 2"?</p>



<a name="222721287"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222721287" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222721287">(Jan 14 2021 at 14:10)</a>:</h4>
<p>No, it's the field with two elements.</p>



<a name="222721358"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222721358" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222721358">(Jan 14 2021 at 14:11)</a>:</h4>
<p>Does mathlib have that?</p>



<a name="222721398"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222721398" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222721398">(Jan 14 2021 at 14:11)</a>:</h4>
<p><code>zmod 2</code></p>



<a name="222721648"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222721648" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222721648">(Jan 14 2021 at 14:13)</a>:</h4>
<p>I don't even know why we have <code>free_comm_ring</code>. It's just <code>mv_polynomial _ int</code>.</p>



<a name="222721902"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222721902" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222721902">(Jan 14 2021 at 14:15)</a>:</h4>
<p>Indeed there is <code>free_comm_ring_equiv_mv_polynomial_int</code> (and we are missing a version for arbitrary coefficients)</p>



<a name="222722199"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222722199" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222722199">(Jan 14 2021 at 14:17)</a>:</h4>
<p>I think we only have it because Kenny was getting excited about adjoint functors two years ago when he was learning about them.</p>



<a name="222722315"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222722315" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222722315">(Jan 14 2021 at 14:18)</a>:</h4>
<p>Is <code>free_ring</code> also redundant?</p>



<a name="222722345"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222722345" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222722345">(Jan 14 2021 at 14:18)</a>:</h4>
<p>nope we don't have noncommutative polynomials</p>



<a name="222726261"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222726261" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222726261">(Jan 14 2021 at 14:46)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span>, <code>mv_polynomial</code> made that straighforward. My next problem is the typeclass resolution I mentioned above:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.mv_polynomial.comm_ring</span>
<span class="kn">import</span> <span class="n">linear_algebra.finsupp</span>
<span class="kn">import</span> <span class="n">linear_algebra.quadratic_form</span>
<span class="kn">import</span> <span class="n">data.zmod.basic</span>

<span class="kd">noncomputable theory</span>

<span class="c1">-- https://mathoverflow.net/questions/60596/clifford-pbw-theorem-for-quadratic-form/87958#87958</span>
<span class="kn">namespace</span> <span class="n">q60596</span>

<span class="kd">inductive</span> <span class="n">ABC</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span> <span class="bp">|</span> <span class="n">A</span> <span class="bp">|</span> <span class="n">B</span> <span class="bp">|</span> <span class="n">C</span>

<span class="kn">open</span> <span class="n">ABC</span>
<span class="kn">open</span> <span class="n">XYZ</span>
<span class="kn">open</span> <span class="n">mv_polynomial</span>

<span class="c1">-- ùîΩ‚ÇÇ[Œ±, Œ≤, Œ≥] / (Œ±¬≤, Œ≤¬≤, Œ≥¬≤)</span>
<span class="kd">@[derive comm_ring]</span>
<span class="kd">def</span> <span class="n">k</span> <span class="o">:=</span> <span class="o">(</span><span class="n">ideal.span</span> <span class="o">{</span> <span class="n">x</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="n">ABC</span> <span class="o">(</span><span class="n">zmod</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">|</span> <span class="bp">‚àÉ</span> <span class="n">i</span><span class="o">,</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">X</span> <span class="n">i</span> <span class="bp">*</span> <span class="n">X</span> <span class="n">i</span> <span class="o">})</span><span class="bp">.</span><span class="n">quotient</span>

<span class="kd">def</span> <span class="n">k.of</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ABC</span><span class="o">)</span> <span class="o">:</span> <span class="n">k</span> <span class="o">:=</span> <span class="n">quot.mk</span> <span class="n">_</span> <span class="o">(</span><span class="n">mv_polynomial.X</span> <span class="n">x</span><span class="o">)</span>

<span class="kd">instance</span> <span class="n">mod_k_k</span> <span class="o">:</span> <span class="n">semimodule</span> <span class="n">k</span> <span class="n">k</span> <span class="o">:=</span> <span class="n">semiring.to_semimodule</span>
<span class="kd">example</span> <span class="o">:</span> <span class="n">semimodule</span> <span class="n">k</span> <span class="n">k</span> <span class="o">:=</span> <span class="n">infer_instance</span>  <span class="c1">-- FAIL!</span>

<span class="kd">end</span> <span class="n">q60596</span>
</code></pre></div>
<p>Somehow <code>instance</code> isn't populating <code>infer_instance</code>.</p>



<a name="222768283"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222768283" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222768283">(Jan 14 2021 at 19:18)</a>:</h4>
<p>Made the problem go away by using <code>fin</code> as suggested. <a href="https://gist.github.com/eric-wieser/49d3223f902f8e566ffc569d84cdabb6">Lean seems to think</a> that the proof I'm trying to follow is false, which is rather unfortunate!</p>



<a name="222769498"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222769498" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222769498">(Jan 14 2021 at 19:27)</a>:</h4>
<p><del><code>lemma two_eq_zero</code> should be a particular case of <code>zmod.cast_self</code> I think</del></p>



<a name="222769519"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222769519" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222769519">(Jan 14 2021 at 19:27)</a>:</h4>
<p><del>Or in any case a one line proof</del></p>



<a name="222769607"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222769607" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222769607">(Jan 14 2021 at 19:28)</a>:</h4>
<p>Ah sorry, <code>k</code> is the ring of polynomials</p>



<a name="222839260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222839260" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222839260">(Jan 15 2021 at 10:08)</a>:</h4>
<p>It turns out that I just misunderstood the notation (why can't latex have "jump to definition"?), and that actually the proof seems correct. I've no experience using <code>mv_polynomial</code>, so I'm a little stuck on this goal:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">open</span> <span class="n">mv_polynomial</span>

<span class="kd">example</span> <span class="o">:</span> <span class="o">(</span><span class="n">X</span> <span class="mi">0</span> <span class="bp">*</span> <span class="n">X</span> <span class="mi">1</span> <span class="bp">*</span> <span class="n">X</span> <span class="mi">2</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">3</span><span class="o">)</span> <span class="o">(</span><span class="n">zmod</span> <span class="mi">2</span><span class="o">))</span> <span class="bp">‚àâ</span>
         <span class="n">ideal.span</span>
           <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">3</span><span class="o">)</span> <span class="o">(</span><span class="n">zmod</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">|</span> <span class="bp">‚àÉ</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">fin</span> <span class="mi">3</span><span class="o">),</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">X</span> <span class="n">i</span> <span class="bp">*</span> <span class="n">X</span> <span class="n">i</span><span class="o">}</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="gr">sorry</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="222839626"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222839626" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222839626">(Jan 15 2021 at 10:13)</a>:</h4>
<p>The paper argument is something like "the ideal consists of only even powers, which the object in question doesn't match"</p>



<a name="222840465"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222840465" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222840465">(Jan 15 2021 at 10:24)</a>:</h4>
<p>I think proving that example in lean is not going to be completely straightforward given current mathlib</p>



<a name="222843383"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222843383" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222843383">(Jan 15 2021 at 10:59)</a>:</h4>
<p>I have also not worked with <code>mv_polynomial</code>s, however, even though it may not look like it, the ideal that you are quotienting out by is the ideal spanned by <em>all</em> squares of elements of <code>\F_2[...]</code>.  In particular, a monomial is in the ideal iff at least one exponent is at least 2, which is essentially your <code>example</code>.  I am not sure whether this will be a simpler strategy to formalize this problem...</p>



<a name="222845261"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222845261" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222845261">(Jan 15 2021 at 11:22)</a>:</h4>
<p>I was able to make some progress on the proof:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">xample</span> <span class="o">:</span>
  <span class="k">let</span> <span class="n">s</span> <span class="o">:=</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">3</span><span class="o">)</span> <span class="o">(</span><span class="n">zmod</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">|</span> <span class="bp">‚àÉ</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">fin</span> <span class="mi">3</span><span class="o">),</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">X</span> <span class="n">i</span> <span class="bp">*</span> <span class="n">X</span> <span class="n">i</span><span class="o">}</span> <span class="k">in</span>
  <span class="o">(</span><span class="n">X</span> <span class="mi">0</span> <span class="bp">*</span> <span class="n">X</span> <span class="mi">1</span> <span class="bp">*</span> <span class="n">X</span> <span class="mi">2</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">3</span><span class="o">)</span> <span class="o">(</span><span class="n">zmod</span> <span class="mi">2</span><span class="o">))</span> <span class="bp">‚àâ</span> <span class="n">ideal.span</span>  <span class="n">s</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intros</span><span class="o">,</span>
  <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
  <span class="c1">-- apply submodule.span_induction h,</span>
  <span class="k">have</span> <span class="n">d012</span> <span class="o">:</span> <span class="o">(</span><span class="n">X</span> <span class="mi">0</span> <span class="bp">*</span> <span class="n">X</span> <span class="mi">1</span> <span class="bp">*</span> <span class="n">X</span> <span class="mi">2</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">3</span><span class="o">)</span> <span class="o">(</span><span class="n">zmod</span> <span class="mi">2</span><span class="o">))</span><span class="bp">.</span><span class="n">degrees</span> <span class="bp">=</span> <span class="o">{</span><span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">}</span> <span class="o">:=</span> <span class="gr">sorry</span><span class="o">,</span>
  <span class="k">have</span> <span class="o">:</span> <span class="bp">‚àÄ</span> <span class="n">x</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">3</span><span class="o">)</span> <span class="o">(</span><span class="n">zmod</span> <span class="mi">2</span><span class="o">),</span> <span class="n">x</span> <span class="bp">‚àà</span> <span class="n">ideal.span</span> <span class="n">s</span> <span class="bp">‚Üí</span> <span class="bp">‚àÉ</span> <span class="n">d</span><span class="o">,</span> <span class="n">x.degrees</span> <span class="bp">=</span> <span class="n">d</span> <span class="bp">+</span> <span class="n">d</span><span class="o">,</span>
  <span class="o">{</span>
    <span class="n">intros</span> <span class="n">x</span> <span class="n">h</span><span class="o">,</span>
    <span class="n">apply</span> <span class="n">submodule.span_induction</span> <span class="n">h</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">rintros</span> <span class="n">x</span> <span class="o">‚ü®</span><span class="n">i</span><span class="o">,</span> <span class="n">rfl</span><span class="o">‚ü©,</span>
      <span class="n">refine</span> <span class="o">‚ü®{</span><span class="n">i</span><span class="o">},</span> <span class="n">_</span><span class="o">‚ü©,</span>
      <span class="gr">sorry</span><span class="o">,</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">refine</span> <span class="o">‚ü®</span><span class="mi">0</span><span class="o">,</span> <span class="n">_</span><span class="o">‚ü©,</span> <span class="n">simp</span><span class="o">,</span> <span class="gr">sorry</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">rintros</span> <span class="n">x</span> <span class="n">y</span> <span class="o">‚ü®</span><span class="n">xi</span><span class="o">,</span> <span class="n">hx</span><span class="o">‚ü©</span> <span class="o">‚ü®</span><span class="n">yi</span><span class="o">,</span> <span class="n">hy</span><span class="o">‚ü©,</span>
      <span class="gr">sorry</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">rintros</span> <span class="n">a</span> <span class="n">x</span> <span class="o">‚ü®</span><span class="n">xi</span><span class="o">,</span> <span class="n">hx</span><span class="o">‚ü©,</span>
      <span class="n">refine</span> <span class="o">‚ü®</span><span class="n">xi</span><span class="o">,</span> <span class="n">_</span><span class="o">‚ü©,</span>
      <span class="gr">sorry</span> <span class="o">},</span>
  <span class="o">},</span>
  <span class="n">obtain</span> <span class="o">‚ü®</span><span class="n">d</span><span class="o">,</span> <span class="n">h_d</span><span class="o">‚ü©</span> <span class="o">:=</span> <span class="n">this</span> <span class="n">_</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">d012</span> <span class="n">at</span> <span class="n">h_d</span><span class="o">,</span>
  <span class="gr">sorry</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="222846817"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222846817" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222846817">(Jan 15 2021 at 11:39)</a>:</h4>
<p>The second <code>have</code> isn't correct: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>Œ±</mi><mn>3</mn></msup></mrow><annotation encoding="application/x-tex">\alpha^3</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">Œ±</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span> is also in the ideal.</p>



<a name="222846952"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222846952" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222846952">(Jan 15 2021 at 11:41)</a>:</h4>
<p>This seems sort of tricky to prove without using the word "obviously" at some point. I think Damiano identified the key point, namely that the ideal is also the set <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span> of all polynomials in which every monomial contains some variable at least twice. For your purposes, you mainly need to show that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span> is in fact an ideal.</p>



<a name="222847319"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222847319" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222847319">(Jan 15 2021 at 11:45)</a>:</h4>
<p>Maybe it is easier to prove the statement by induction on... <code>3</code>: the proof of the fact about monomials should be clear in the one variable case.  And then extend it to the two and three variables case by induction... maybe?</p>



<a name="222847409"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222847409" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222847409">(Jan 15 2021 at 11:46)</a>:</h4>
<p>This might save you from working with <code>mv_polynomial</code>s.  Although, if one of the goals was to get familiar with <code>mv_polynomial</code>s, then my strategy is a no-go!</p>



<a name="222847641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222847641" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222847641">(Jan 15 2021 at 11:49)</a>:</h4>
<p>Alternatively, the quotient is the exterior algebra over a 3-dimensional subspace over \F_2: maybe this is something workable?</p>



<a name="222848282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222848282" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222848282">(Jan 15 2021 at 11:58)</a>:</h4>
<p>Damiano, I can't tell if you're talking about the whole proof from mathoverflow, or the bits that I've posted here</p>



<a name="222848325"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222848325" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222848325">(Jan 15 2021 at 11:58)</a>:</h4>
<p>I think <code>mv_polynomial.degree_of</code> should help somehow</p>



<a name="222848338"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222848338" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222848338">(Jan 15 2021 at 11:58)</a>:</h4>
<p>Sorry, I have not clicked on the mathoverflow link...</p>



<a name="222848398"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222848398" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222848398">(Jan 15 2021 at 11:59)</a>:</h4>
<p>I think much of the <code>degree_*</code> API is missing lemmas. I added one in <a href="https://github.com/leanprover-community/mathlib/issues/5758">#5758</a>, but its the tip of the iceberg</p>



<a name="222848616"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222848616" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222848616">(Jan 15 2021 at 12:01)</a>:</h4>
<p><del>A polynomial is in the ideal if and only if the degree wrt to any of variables is at least two, right?</del></p>



<a name="222848695"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222848695" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222848695">(Jan 15 2021 at 12:02)</a>:</h4>
<p>Zero is in there too, right?</p>



<a name="222848708"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222848708" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222848708">(Jan 15 2021 at 12:02)</a>:</h4>
<p>Ah, yes</p>



<a name="222848923"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222848923" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222848923">(Jan 15 2021 at 12:05)</a>:</h4>
<p>Maybe you need monomials: x_1 + x_2^2 is not in the ideal, right?</p>



<a name="222849035"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222849035" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222849035">(Jan 15 2021 at 12:06)</a>:</h4>
<p>What I said doesn't make sense, sorry</p>



<a name="222849089"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222849089" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222849089">(Jan 15 2021 at 12:07)</a>:</h4>
<p>No, but <code>x_1 * x_2</code> isn't either - is that a monomial?</p>



<a name="222849165"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222849165" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222849165">(Jan 15 2021 at 12:08)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/mv_polynomial.degree_of">docs#mv_polynomial.degree_of</a> has basically no lemmas</p>



<a name="222849371"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222849371" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222849371">(Jan 15 2021 at 12:10)</a>:</h4>
<p>I would say that x_1*x_2 is a monomial, and I would also say that its degree with respect to two of the variables is 1.</p>



<a name="222849395"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222849395" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222849395">(Jan 15 2021 at 12:11)</a>:</h4>
<p>(and zero with respect to the remaining variables.)</p>



<a name="222849483"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222849483" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222849483">(Jan 15 2021 at 12:12)</a>:</h4>
<p>I agree this is the standard terminology</p>



<a name="222849504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222849504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222849504">(Jan 15 2021 at 12:12)</a>:</h4>
<p>But <code>x_1 + x_2</code> is not a monomial I think</p>



<a name="222849548"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222849548" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222849548">(Jan 15 2021 at 12:13)</a>:</h4>
<p>So, with this terminology, I still think that the monomials <code>not</code> in the ideal are precisely the ones all of whose degrees are at most one.  Also, a polynomial is in the ideal if and only if it is in the <em>linear</em> span of monomials in the ideal.</p>



<a name="222849644"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222849644" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222849644">(Jan 15 2021 at 12:14)</a>:</h4>
<p>Sorry, don't you mean "at least two in some variable"?</p>



<a name="222849667"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222849667" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222849667">(Jan 15 2021 at 12:14)</a>:</h4>
<p>Isn't <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Œ±</mi><msup><mi>Œ≤</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">\alpha\beta^2</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Œ±</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">Œ≤</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span> in the ideal?</p>



<a name="222849673"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222849673" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222849673">(Jan 15 2021 at 12:14)</a>:</h4>
<p>Yes, in my mind, I was talking about the monomials <strong>not</strong> in the ideal!!</p>



<a name="222849719"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222849719" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222849719">(Jan 15 2021 at 12:15)</a>:</h4>
<p>If we ignore the fact that your statement was the exact opposite of what you intended it to be, then I agree with you</p>



<a name="222849734"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222849734" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222849734">(Jan 15 2021 at 12:15)</a>:</h4>
<p>Ahaha  I revised the statement above, to make it correct!</p>



<a name="222849799"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222849799" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222849799">(Jan 15 2021 at 12:16)</a>:</h4>
<p>Any idea how to state that in lean?</p>



<a name="222849868"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222849868" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222849868">(Jan 15 2021 at 12:17)</a>:</h4>
<p>How about you form the ideal spanned by all monomials in which one variable has degree at least 2 and then take it from there?  prove that your ideal coincides with this ideal and that other element is not in?</p>



<a name="222850005"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222850005" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222850005">(Jan 15 2021 at 12:18)</a>:</h4>
<p>(I'm off to lunch now: will be quiet for a bit!)</p>



<a name="222850179"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222850179" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222850179">(Jan 15 2021 at 12:20)</a>:</h4>
<p>Not the ideal (though it is an ideal), but the k-linear span</p>



<a name="222851303"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222851303" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222851303">(Jan 15 2021 at 12:34)</a>:</h4>
<p>Ah nice, this is what I was trying to say talking about the degree! <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="222851890"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222851890" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222851890">(Jan 15 2021 at 12:41)</a>:</h4>
<p>You can imagine this multivariate polynomial ring as being graded by N^3. The ideal is generated by monomials, which are pure for the grading (supported in one graded piece), and hence the ideal is graded too. The graded pieces are one-dimensional over the base field so a piece is in the ideal iff the corresponding monomial is a multiple of one of the generating monomials.</p>
<p>If you don't want to set up a general theory of graded rings and ideals (and someone should do this at some point -- there should be a theory of a grading of a commutative ring by a commutative additive monoid) then perhaps the cheapest way to do this in mathlib right now would be to assume that X0 X1 X2 is in the ideal, write it as a linear combination of basis elements, write the coefficients as a sum of monomials, and then project onto the coefficient of X0 X1 X2 and get a contradiction. I agree that it will be unpleasant.</p>



<a name="222853338"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222853338" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222853338">(Jan 15 2021 at 12:57)</a>:</h4>
<p>Here's my attempt at <span class="user-mention" data-user-id="321459">@Damiano Testa</span>'s description:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">:</span>
  <span class="k">let</span> <span class="n">s</span> <span class="o">:=</span> <span class="n">ideal.span</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">3</span><span class="o">)</span> <span class="o">(</span><span class="n">zmod</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">|</span> <span class="bp">‚àÉ</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">fin</span> <span class="mi">3</span><span class="o">),</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">X</span> <span class="n">i</span> <span class="bp">*</span> <span class="n">X</span> <span class="n">i</span><span class="o">}</span> <span class="k">in</span>
  <span class="o">(</span><span class="n">X</span> <span class="mi">0</span> <span class="bp">*</span> <span class="n">X</span> <span class="mi">1</span> <span class="bp">*</span> <span class="n">X</span> <span class="mi">2</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">3</span><span class="o">)</span> <span class="o">(</span><span class="n">zmod</span> <span class="mi">2</span><span class="o">))</span> <span class="bp">‚àâ</span>  <span class="n">s</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intros</span><span class="o">,</span>
  <span class="k">let</span> <span class="n">s'</span> <span class="o">:=</span> <span class="n">submodule.span</span> <span class="o">(</span><span class="n">zmod</span> <span class="mi">2</span><span class="o">)</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">3</span><span class="o">)</span> <span class="o">(</span><span class="n">zmod</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">|</span> <span class="bp">‚àÉ</span> <span class="n">f</span> <span class="n">r</span> <span class="n">i</span><span class="o">,</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">monomial</span> <span class="n">f</span> <span class="n">r</span> <span class="bp">‚àß</span> <span class="mi">2</span> <span class="bp">‚â§</span> <span class="n">f</span> <span class="n">i</span><span class="o">},</span>
  <span class="k">have</span> <span class="n">hXii</span> <span class="o">:</span> <span class="bp">‚àÄ</span> <span class="n">i</span><span class="o">,</span> <span class="o">(</span><span class="n">X</span> <span class="n">i</span> <span class="bp">*</span> <span class="n">X</span> <span class="n">i</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">3</span><span class="o">)</span> <span class="o">(</span><span class="n">zmod</span> <span class="mi">2</span><span class="o">))</span> <span class="bp">=</span> <span class="n">monomial</span> <span class="o">(</span><span class="n">finsupp.single</span> <span class="n">i</span> <span class="mi">2</span><span class="o">)</span> <span class="mi">1</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">intro</span> <span class="n">i</span><span class="o">,</span> <span class="n">simp</span> <span class="o">[</span><span class="n">X</span><span class="o">],</span> <span class="n">congr</span><span class="o">,</span> <span class="gr">sorry</span> <span class="c">/-</span><span class="cm"> trivial -/</span><span class="o">},</span>
  <span class="k">have</span> <span class="o">:</span> <span class="bp">‚àÄ</span> <span class="n">x</span><span class="o">,</span> <span class="n">x</span> <span class="bp">‚àà</span> <span class="n">s</span> <span class="bp">‚Üî</span> <span class="n">x</span> <span class="bp">‚àà</span> <span class="n">s'</span><span class="o">,</span>
  <span class="kd">begin</span>
    <span class="n">intro</span> <span class="n">x</span><span class="o">,</span>
    <span class="n">split</span><span class="bp">;</span>
    <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">refine</span> <span class="n">submodule.span_induction</span> <span class="n">h</span> <span class="n">_</span> <span class="n">s'.zero_mem</span> <span class="o">(</span><span class="bp">Œª</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="n">s'.add_mem</span><span class="o">)</span> <span class="n">_</span><span class="o">,</span>
      <span class="o">{</span> <span class="n">rintros</span> <span class="n">x</span> <span class="o">‚ü®</span><span class="n">i</span><span class="o">,</span> <span class="n">rfl</span><span class="o">‚ü©,</span>
        <span class="n">refine</span> <span class="n">submodule.subset_span</span> <span class="o">‚ü®</span><span class="n">finsupp.single</span> <span class="n">i</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="n">i</span><span class="o">,</span> <span class="n">hXii</span> <span class="n">i</span><span class="o">,</span> <span class="n">le_of_eq</span> <span class="n">_</span><span class="o">‚ü©,</span>
        <span class="n">simp</span><span class="o">,</span> <span class="o">},</span>
      <span class="o">{</span> <span class="n">rintros</span> <span class="n">x</span> <span class="n">y</span> <span class="n">hy</span><span class="o">,</span>
        <span class="n">rw</span> <span class="n">smul_eq_mul</span><span class="o">,</span>
        <span class="gr">sorry</span> <span class="c1">-- tricky</span>
        <span class="o">},},</span>
    <span class="o">{</span> <span class="n">refine</span> <span class="n">submodule.span_induction</span> <span class="n">h</span> <span class="n">_</span> <span class="n">s.zero_mem</span> <span class="o">(</span><span class="bp">Œª</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="n">s.add_mem</span><span class="o">)</span> <span class="n">_</span><span class="o">,</span>
      <span class="o">{</span> <span class="n">rintros</span> <span class="n">x</span> <span class="o">‚ü®</span><span class="n">f</span><span class="o">,</span> <span class="n">r</span><span class="o">,</span> <span class="n">i</span><span class="o">,</span> <span class="n">rfl</span><span class="o">,</span> <span class="n">hx</span><span class="o">‚ü©,</span>
        <span class="k">have</span> <span class="o">:</span> <span class="n">monomial</span> <span class="n">f</span> <span class="n">r</span> <span class="bp">=</span> <span class="n">monomial</span> <span class="o">(</span><span class="n">f</span> <span class="bp">-</span> <span class="n">finsupp.single</span> <span class="n">i</span> <span class="mi">2</span><span class="o">)</span> <span class="n">r</span> <span class="bp">*</span> <span class="n">monomial</span> <span class="o">(</span><span class="n">finsupp.single</span> <span class="n">i</span> <span class="mi">2</span><span class="o">)</span> <span class="mi">1</span> <span class="o">:=</span>
        <span class="kd">begin</span>
          <span class="n">simp</span><span class="o">,</span>
          <span class="n">congr</span><span class="o">,</span>
          <span class="n">ext</span><span class="o">,</span>
          <span class="n">by_cases</span> <span class="n">h</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">i</span><span class="bp">;</span> <span class="o">[</span><span class="n">simp</span> <span class="o">[</span><span class="n">h</span><span class="o">],</span> <span class="n">simp</span> <span class="o">[</span><span class="n">finsupp.single_eq_of_ne</span> <span class="o">(</span><span class="n">ne.symm</span> <span class="n">h</span><span class="o">)]],</span>
          <span class="n">rw</span> <span class="n">nat.sub_add_cancel</span> <span class="n">hx</span><span class="o">,</span>
        <span class="kd">end</span><span class="o">,</span>
        <span class="n">rw</span> <span class="n">this</span><span class="o">,</span>
        <span class="n">refine</span> <span class="n">s.mul_mem_left</span> <span class="n">_</span> <span class="o">(</span><span class="n">submodule.subset_span</span> <span class="o">‚ü®</span><span class="n">i</span><span class="o">,</span> <span class="o">(</span><span class="n">hXii</span> <span class="n">i</span><span class="o">)</span><span class="bp">.</span><span class="n">symm</span><span class="o">‚ü©),</span> <span class="o">},</span>
      <span class="o">{</span> <span class="n">rintros</span> <span class="n">x</span> <span class="n">y</span> <span class="n">hy</span><span class="o">,</span>
        <span class="n">rw</span> <span class="n">algebra.smul_def</span><span class="o">,</span>
        <span class="n">exact</span> <span class="n">s.mul_mem_left</span> <span class="n">_</span> <span class="n">hy</span><span class="o">,</span> <span class="o">},</span> <span class="o">},</span>
  <span class="kd">end</span><span class="o">,</span>
  <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">this</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
  <span class="gr">sorry</span><span class="o">,</span>  <span class="c1">-- now what?</span>
<span class="kd">end</span>
</code></pre></div>



<a name="222856650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222856650" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222856650">(Jan 15 2021 at 13:29)</a>:</h4>
<p>This is probably even more difficult to do in Lean, but in normal mathematics I would do something like the following. Prove that, for any ring <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span> and any nonzero <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mo>‚àà</mo><mi>R</mi></mrow><annotation encoding="application/x-tex">r \in R</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">‚àà</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span>, the element <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>Œµ</mi><mo>‚àà</mo><mi>R</mi><mo stretchy="false">[</mo><mi>Œµ</mi><mo stretchy="false">]</mo><mi mathvariant="normal">/</mi><msup><mi>Œµ</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">r\varepsilon \in R[\varepsilon]/\varepsilon^2</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">Œµ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">‚àà</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">[</span><span class="mord mathnormal">Œµ</span><span class="mclose">]</span><span class="mord">/</span><span class="mord"><span class="mord mathnormal">Œµ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span> is different from zero (easy using the degree for one variable polynomials). Now we can do induction on the number of variables, writing <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">F</mi><mn>2</mn></msub><mo stretchy="false">[</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>z</mi><mo stretchy="false">]</mo><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mn>2</mn></msup><mo separator="true">,</mo><msup><mi>y</mi><mn>2</mn></msup><mo separator="true">,</mo><msup><mi>z</mi><mn>2</mn></msup><mo stretchy="false">)</mo><mo>‚âÖ</mo><mi>R</mi><mo stretchy="false">[</mo><mi>Œµ</mi><mo stretchy="false">]</mo><mi mathvariant="normal">/</mi><msup><mi>Œµ</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">\mathbf{F}_2[x,y,z]/(x^2, y^2, z^2) \cong R[\varepsilon]/\varepsilon^2</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">F</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">]</span><span class="mord">/</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">‚âÖ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">[</span><span class="mord mathnormal">Œµ</span><span class="mclose">]</span><span class="mord">/</span><span class="mord"><span class="mord mathnormal">Œµ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>, where <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>=</mo><msub><mi mathvariant="bold">F</mi><mn>2</mn></msub><mo stretchy="false">[</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">]</mo><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mn>2</mn></msup><mo separator="true">,</mo><msup><mi>y</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R = \mathbf{F}_2[x,y]/(x^2, y^2)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">F</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">]</span><span class="mord">/</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> and so on.</p>



<a name="222856999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222856999" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222856999">(Jan 15 2021 at 13:32)</a>:</h4>
<p>I see that Damiano has already proposed this strategy <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="222857073"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222857073" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222857073">(Jan 15 2021 at 13:32)</a>:</h4>
<p>It is good that two people think that it might be a worthwhile strategy!</p>



<a name="222857527"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222857527" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222857527">(Jan 15 2021 at 13:36)</a>:</h4>
<p>Note that we already have <code>mv_polynomial.sum_ring_equiv</code>, but the quotient will be a problem</p>



<a name="222859192"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222859192" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222859192">(Jan 15 2021 at 13:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="130384">Riccardo Brasca</span> <a href="#narrow/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2)/near/222856650">said</a>:</p>
<blockquote>
<p>This is probably even more difficult to do in Lean, but in normal mathematics I would do something like the following. Prove that, for any ring <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span> and any nonzero <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mo>‚àà</mo><mi>R</mi></mrow><annotation encoding="application/x-tex">r \in R</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">‚àà</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span>, the element <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>Œµ</mi><mo>‚àà</mo><mi>R</mi><mo stretchy="false">[</mo><mi>Œµ</mi><mo stretchy="false">]</mo><mi mathvariant="normal">/</mi><msup><mi>Œµ</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">r\varepsilon \in R[\varepsilon]/\varepsilon^2</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">Œµ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">‚àà</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">[</span><span class="mord mathnormal">Œµ</span><span class="mclose">]</span><span class="mord">/</span><span class="mord"><span class="mord mathnormal">Œµ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span> is different from zero (easy using the degree for one variable polynomials). Now we can do induction on the number of variables, writing <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">F</mi><mn>2</mn></msub><mo stretchy="false">[</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>z</mi><mo stretchy="false">]</mo><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mn>2</mn></msup><mo separator="true">,</mo><msup><mi>y</mi><mn>2</mn></msup><mo separator="true">,</mo><msup><mi>z</mi><mn>2</mn></msup><mo stretchy="false">)</mo><mo>‚âÖ</mo><mi>R</mi><mo stretchy="false">[</mo><mi>Œµ</mi><mo stretchy="false">]</mo><mi mathvariant="normal">/</mi><msup><mi>Œµ</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">\mathbf{F}_2[x,y,z]/(x^2, y^2, z^2) \cong R[\varepsilon]/\varepsilon^2</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">F</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">]</span><span class="mord">/</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">‚âÖ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">[</span><span class="mord mathnormal">Œµ</span><span class="mclose">]</span><span class="mord">/</span><span class="mord"><span class="mord mathnormal">Œµ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>, where <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>=</mo><msub><mi mathvariant="bold">F</mi><mn>2</mn></msub><mo stretchy="false">[</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">]</mo><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mn>2</mn></msup><mo separator="true">,</mo><msup><mi>y</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R = \mathbf{F}_2[x,y]/(x^2, y^2)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">F</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">]</span><span class="mord">/</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> and so on.</p>
</blockquote>
<p>Maybe this induction is made easier (in Lean) if one works in the big ring throughout ... would it be possible to do an induction where step 1 studies <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">F</mi><mn>2</mn></msub><mo stretchy="false">[</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>z</mi><mo stretchy="false">]</mo><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mn>2</mn></msup><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>z</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathbf{F}_2[x,y,z]/(x^2, y, z)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">F</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">]</span><span class="mord">/</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">)</span></span></span></span>, step 2 studies <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">F</mi><mn>2</mn></msub><mo stretchy="false">[</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>z</mi><mo stretchy="false">]</mo><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mn>2</mn></msup><mo separator="true">,</mo><msup><mi>y</mi><mn>2</mn></msup><mo separator="true">,</mo><mi>z</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathbf{F}_2[x,y,z]/(x^2, y^2, z)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">F</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">]</span><span class="mord">/</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">)</span></span></span></span>, step 3 studies <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">F</mi><mn>2</mn></msub><mo stretchy="false">[</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>z</mi><mo stretchy="false">]</mo><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mn>2</mn></msup><mo separator="true">,</mo><msup><mi>y</mi><mn>2</mn></msup><mo separator="true">,</mo><msup><mi>z</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathbf{F}_2[x,y,z]/(x^2, y^2, z^2)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">F</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">]</span><span class="mord">/</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>?</p>



<a name="222860735"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222860735" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222860735">(Jan 15 2021 at 14:03)</a>:</h4>
<p>I don't understand exactly what you mean, the rings <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">F</mi><mn>2</mn></msub><mo stretchy="false">[</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>z</mi><mo stretchy="false">]</mo><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mn>2</mn></msup><mo separator="true">,</mo><msup><mi>y</mi><mn>2</mn></msup><mo separator="true">,</mo><msup><mi>z</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathbf{F}_2[x,y,z]/(x^2, y^2, z^2)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">F</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">]</span><span class="mord">/</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">F</mi><mn>2</mn></msub><mo stretchy="false">[</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>z</mi><mo stretchy="false">]</mo><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mn>2</mn></msup><mo separator="true">,</mo><msup><mi>y</mi><mn>2</mn></msup><mo separator="true">,</mo><mi>z</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathbf{F}_2[x,y,z]/(x^2, y^2, z) </annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">F</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">]</span><span class="mord">/</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">)</span></span></span></span> are different, and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mi>y</mi><mi>z</mi></mrow><annotation encoding="application/x-tex">xyz</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">x</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span></span> is <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> in the latter...</p>



<a name="222860899"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222860899" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222860899">(Jan 15 2021 at 14:04)</a>:</h4>
<p>Could this be useful?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">ring_theory.ideal.basic</span>
<span class="kn">import</span> <span class="n">data.polynomial.degree.definitions</span>

<span class="kn">open</span> <span class="n">polynomial</span> <span class="n">ideal</span>

<span class="kd">lemma</span> <span class="n">X_not_mem_ideal_X_pow_2</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">integral_domain</span> <span class="n">R</span><span class="o">]</span> <span class="o">:</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">)</span> <span class="bp">‚àâ</span>
  <span class="o">(</span><span class="n">ideal.span</span> <span class="o">{(</span><span class="n">X</span> <span class="bp">^</span> <span class="mi">2</span>  <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">)}</span> <span class="o">:</span> <span class="n">ideal</span> <span class="o">(</span><span class="n">polynomial</span> <span class="n">R</span><span class="o">))</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intros</span> <span class="n">Xi</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">mem_span_singleton</span> <span class="n">at</span> <span class="n">Xi</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">Xi</span> <span class="k">with</span> <span class="n">g</span> <span class="n">hg</span><span class="o">,</span>
  <span class="n">by_cases</span> <span class="n">g0</span> <span class="o">:</span> <span class="n">g</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="n">g0</span><span class="o">,</span> <span class="n">mul_zero</span><span class="o">]</span> <span class="n">at</span> <span class="n">hg</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">X_ne_zero</span> <span class="n">hg</span> <span class="o">},</span>
  <span class="k">have</span> <span class="n">dX</span> <span class="o">:</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">)</span><span class="bp">.</span><span class="n">nat_degree</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span> <span class="n">nat_degree_X</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">X2</span> <span class="o">:</span> <span class="mi">2</span> <span class="bp">‚â§</span> <span class="o">(</span><span class="n">X</span> <span class="bp">^</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">g</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">)</span><span class="bp">.</span><span class="n">nat_degree</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="n">nat_degree_mul'</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">rw</span> <span class="n">nat_degree_X_pow</span><span class="o">,</span>
      <span class="n">exact</span> <span class="n">nat.le.intro</span> <span class="n">rfl</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">refine</span> <span class="n">mul_ne_zero</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span>
      <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="n">ne.def</span><span class="o">,</span> <span class="n">leading_coeff_eq_zero</span><span class="o">],</span>
        <span class="n">intros</span> <span class="n">hh</span><span class="o">,</span>
        <span class="n">rw</span> <span class="o">[</span><span class="n">hh</span><span class="o">,</span> <span class="n">zero_mul</span><span class="o">]</span> <span class="n">at</span> <span class="n">hg</span><span class="o">,</span>
        <span class="n">exact</span> <span class="n">X_ne_zero</span> <span class="n">hg</span> <span class="o">},</span>
      <span class="o">{</span> <span class="n">rwa</span> <span class="o">[</span><span class="n">ne.def</span><span class="o">,</span> <span class="n">leading_coeff_eq_zero</span><span class="o">]</span> <span class="o">}</span> <span class="o">}</span> <span class="o">},</span>
  <span class="n">rw</span> <span class="n">hg</span> <span class="n">at</span> <span class="n">dX</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">dX</span> <span class="n">at</span> <span class="n">X2</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">nat.not_succ_le_self</span> <span class="mi">1</span> <span class="n">X2</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="222861099"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222861099" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222861099">(Jan 15 2021 at 14:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="130384">Riccardo Brasca</span> <a href="#narrow/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2)/near/222860735">said</a>:</p>
<blockquote>
<p>I don't understand exactly what you mean, the rings <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">F</mi><mn>2</mn></msub><mo stretchy="false">[</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>z</mi><mo stretchy="false">]</mo><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mn>2</mn></msup><mo separator="true">,</mo><msup><mi>y</mi><mn>2</mn></msup><mo separator="true">,</mo><msup><mi>z</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathbf{F}_2[x,y,z]/(x^2, y^2, z^2)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">F</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">]</span><span class="mord">/</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">F</mi><mn>2</mn></msub><mo stretchy="false">[</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>z</mi><mo stretchy="false">]</mo><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mn>2</mn></msup><mo separator="true">,</mo><msup><mi>y</mi><mn>2</mn></msup><mo separator="true">,</mo><mi>z</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathbf{F}_2[x,y,z]/(x^2, y^2, z) </annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">F</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">]</span><span class="mord">/</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">)</span></span></span></span> are different, and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mi>y</mi><mi>z</mi></mrow><annotation encoding="application/x-tex">xyz</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">x</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span></span> is <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> in the latter...</p>
</blockquote>
<p>I guess, rather, my thought is to work in the ring <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">F</mi><mn>2</mn></msub><mo stretchy="false">[</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>z</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\mathbf{F}_2[x,y,z]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">F</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">]</span></span></span></span>, but successively study different ideals <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msup><mi>x</mi><mn>2</mn></msup><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>z</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x^2, y, z)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">)</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msup><mi>x</mi><mn>2</mn></msup><mo separator="true">,</mo><msup><mi>y</mi><mn>2</mn></msup><mo separator="true">,</mo><mi>z</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x^2, y^2, z)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">)</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msup><mi>x</mi><mn>2</mn></msup><mo separator="true">,</mo><msup><mi>y</mi><mn>2</mn></msup><mo separator="true">,</mo><msup><mi>z</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x^2, y^2, z^2)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>, phrasing everything as a result about ideals and switching to a result about the quotient only at the very last step.</p>



<a name="222861134"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222861134" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222861134">(Jan 15 2021 at 14:06)</a>:</h4>
<p>Riccardo, maybe Heather wanted to <code>not</code> include the variables, simply include their squares, one at a time.</p>



<a name="222861287"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222861287" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222861287">(Jan 15 2021 at 14:07)</a>:</h4>
<p>Ah I see!</p>



<a name="222861482"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222861482" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222861482">(Jan 15 2021 at 14:09)</a>:</h4>
<p>Maybe one day we will have a tactic <code>groebner_basis</code> that will solve this kind of problems</p>



<a name="222866042"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222866042" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222866042">(Jan 15 2021 at 14:45)</a>:</h4>
<p>I always envisaged a Groebner basis tactic as being something which could prove a theorem of the form <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>‚àà</mo><mo stretchy="false">(</mo><msub><mi>f</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>f</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>‚Ä¶</mo><mo separator="true">,</mo><msub><mi>f</mi><mi>n</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f\in(f_1,f_2,\ldots,f_n)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">‚àà</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">‚Ä¶</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>. Can it also prove <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>‚ààÃ∏</mo><mo stretchy="false">(</mo><msub><mi>f</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>f</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>‚Ä¶</mo><mo separator="true">,</mo><msub><mi>f</mi><mi>n</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f\not\in(f_1,f_2,\ldots,f_n)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel">ÓÄ†</span></span><span class="fix"></span></span></span></span></span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">‚àà</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">‚Ä¶</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>?</p>



<a name="222866275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222866275" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222866275">(Jan 15 2021 at 14:47)</a>:</h4>
<p>"In mathematics", Groebner basis give criteria for ideal membership: they go both ways.  I am not sure whether this is implemented in the non-existent <code>gb</code> tactic.  It is in my mind...</p>



<a name="222866316"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222866316" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222866316">(Jan 15 2021 at 14:47)</a>:</h4>
<p>If the tactic is able to compute the Groebner basis one can see if <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><msub><mi>f</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>f</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>‚Ä¶</mo><mo separator="true">,</mo><msub><mi>f</mi><mi>n</mi></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{f_1,f_2,\ldots,f_n\}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">‚Ä¶</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><msub><mi>f</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>f</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>‚Ä¶</mo><mo separator="true">,</mo><msub><mi>f</mi><mi>n</mi></msub><mo separator="true">,</mo><mi>f</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{f_1,f_2,\ldots,f_n, f\}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">‚Ä¶</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mclose">}</span></span></span></span> give the same basis I think</p>



<a name="222866444"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222866444" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222866444">(Jan 15 2021 at 14:48)</a>:</h4>
<p>In fact, even simply a primitive form of "reduction to normal form", not a full Groebner basis, might already be quite useful</p>



<a name="222866481"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222866481" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222866481">(Jan 15 2021 at 14:49)</a>:</h4>
<p>(i.e. not a full normal form, but some approximation, this is what I meant)</p>



<a name="222866839"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222866839" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222866839">(Jan 15 2021 at 14:51)</a>:</h4>
<p>Is verifying that a given set is a Grobner basis a lot easier then computing one? If this is true then this would already be very useful, since in practice we can compute a Grobner basis with sage or similar software (like proving that a given <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi></mrow><annotation encoding="application/x-tex">F</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span> is a primitive of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span> is a lot easier than finding it, but <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>F</mi><mo lspace="0em" mathvariant="normal" rspace="0em">‚Ä≤</mo></msup><mo>=</mo><mi>f</mi></mrow><annotation encoding="application/x-tex">F'=f</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">‚Ä≤</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span> is a perfectly valid proof that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi></mrow><annotation encoding="application/x-tex">F</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span> is a primitive of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span>).</p>



<a name="222867054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222867054" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222867054">(Jan 15 2021 at 14:53)</a>:</h4>
<p>This is Buechberger's criterion: you only need to check that the S-pairs among elements of your set already reduce to elements of the "expected" Gb.  Computing reduction is not necessarily "easy", though...</p>



<a name="222867804"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222867804" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222867804">(Jan 15 2021 at 14:57)</a>:</h4>
<p>My impression with this whole Groebner basis thing is that the mathematicians really want it but have no idea how to make it, and the computer scientists think it's all trivial and are waiting for some MSc student to come along and do it, but of course now with Lean 4 here people are going to be more inclined to implement it in Lean 4 rather than in Lean 3. When I needed a Groebner basis tactic (to prove something was <em>in</em>, not out) I just used sage to compute the explicit <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Œª</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\lambda_i</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">Œª</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> such that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>=</mo><msub><mo>‚àë</mo><mi>i</mi></msub><msub><mi>Œª</mi><mi>i</mi></msub><msub><mi>f</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">f=\sum_i \lambda_i f_i</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0497100000000001em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">‚àë</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16195399999999993em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">Œª</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> and then checked the result with <code>ring</code> (out of interest, I was doing the addition law on an elliptic curve). I will have a student working on the arithmetic of elliptic curves, starting this term.</p>



<a name="222868937"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222868937" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222868937">(Jan 15 2021 at 15:03)</a>:</h4>
<p>I believe that to write a <em>usable</em> gb tactics will require <strong>a lot</strong> of effort.  It is an intricate algorithm and, even implementing it inefficiently is hard.</p>



<a name="222869187"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222869187" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222869187">(Jan 15 2021 at 15:04)</a>:</h4>
<p>However, many times that you use a gb argument, you can often get away with much less than a full gb, so a more simple-minded "reduction" might already go a long way...</p>



<a name="222869776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222869776" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222869776">(Jan 15 2021 at 15:08)</a>:</h4>
<p>Chris Hughes has written a <code>group</code> tactic, which impresses me because I thought the word problem was undecidable :P He was showing it to me again today -- it seems to work great! Although it sometimes crashes Lean ;-)</p>



<a name="222869905"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222869905" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222869905">(Jan 15 2021 at 15:08)</a>:</h4>
<p>Returning to the code snippet above, the original author of the (non-formal) proof suggests that</p>
<blockquote>
<p>The slickest way to prove that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Œ±</mi><mi>Œ≤</mi><mi>Œ≥</mi></mrow><annotation encoding="application/x-tex">\alpha\beta\gamma</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Œ±</span><span class="mord mathnormal" style="margin-right:0.05278em;">Œ≤</span><span class="mord mathnormal" style="margin-right:0.05556em;">Œ≥</span></span></span></span> is not 0 in k is probably to define an <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="double-struck">F</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\mathbb{F}_2</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83889em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">F</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>-algebra homomorphism from k to the matrix ring <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi mathvariant="double-struck">F</mi><mn>2</mn><mrow><mn>8</mn><mo>√ó</mo><mn>8</mn></mrow></msubsup></mrow><annotation encoding="application/x-tex">\mathbb{F}^{8\times8}_2</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.120547em;vertical-align:-0.266308em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">F</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.854239em;"><span style="top:-2.433692em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.1031310000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">8</span><span class="mbin mtight">√ó</span><span class="mord mtight">8</span></span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.266308em;"><span></span></span></span></span></span></span></span></span></span> that sends Œ±,Œ≤,Œ≥ to three commuting nilpotent matrices whose product is not 0. I'll let you find these matrices (hint: Kronecker product).</p>
</blockquote>
<p>Which I read as defining a <code>k ‚âÉ‚Çê[zmod 2] matrix (fin 3 ‚Üí zmod 2) (fin 3 ‚Üí zmod 2) (zmod 2)</code>, something which needs <span class="user-mention" data-user-id="130384">@Riccardo Brasca</span>'s closed <a href="https://github.com/leanprover-community/mathlib/issues/5421">#5421</a></p>



<a name="222870053"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222870053" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222870053">(Jan 15 2021 at 15:09)</a>:</h4>
<p>Right. The explicit 8-dimensional vector space with basis <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><mn>1</mn><mo separator="true">,</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo separator="true">,</mo><mi>c</mi><mo separator="true">,</mo><mi>a</mi><mi>b</mi><mo separator="true">,</mo><mi>c</mi><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mi>c</mi><mo separator="true">,</mo><mi>a</mi><mi>b</mi><mi>c</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{1,a,b,c,ab,ca,bc,abc\}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">c</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mord mathnormal">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">c</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mord mathnormal">c</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mord mathnormal">b</span><span class="mord mathnormal">c</span><span class="mclose">}</span></span></span></span> and obvious product will work fine, but proving it's a ring will be a royal pain because associativity.</p>



<a name="222870205"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222870205" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222870205">(Jan 15 2021 at 15:10)</a>:</h4>
<p>Very nice! I thought about something like this, but for some reasons I considered only morphisms to commutative rings, and I think this is a dead end</p>



<a name="222870214"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222870214" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222870214">(Jan 15 2021 at 15:10)</a>:</h4>
<p>If you could construct this ring in any other way at all, you'd be done, because then you could map your ring to this ring using <code>quotient.lift</code> and show that the image of abc is nonzero and hence the original abc is nonzero.</p>



<a name="222870237"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222870237" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222870237">(Jan 15 2021 at 15:10)</a>:</h4>
<p>This ring is commutative</p>



<a name="222870255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222870255" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222870255">(Jan 15 2021 at 15:11)</a>:</h4>
<p>it's isomorphic to the ring we're studying</p>



<a name="222870326"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222870326" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222870326">(Jan 15 2021 at 15:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2)/near/222870053">said</a>:</p>
<blockquote>
<p>Right. The explicit 8-dimensional vector space with basis <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><mn>1</mn><mo separator="true">,</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo separator="true">,</mo><mi>c</mi><mo separator="true">,</mo><mi>a</mi><mi>b</mi><mo separator="true">,</mo><mi>c</mi><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mi>c</mi><mo separator="true">,</mo><mi>a</mi><mi>b</mi><mi>c</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{1,a,b,c,ab,ca,bc,abc\}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">c</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mord mathnormal">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">c</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mord mathnormal">c</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mord mathnormal">b</span><span class="mord mathnormal">c</span><span class="mclose">}</span></span></span></span> and obvious product will work fine, but proving it's a ring will be a royal pain because associativity.</p>
</blockquote>
<p>But if we work with <code>zmod 2</code> then <code>dec_trivial</code> might be able to do it... it's only <code>256^3</code> checks, right? <span aria-label="rofl" class="emoji emoji-1f923" role="img" title="rofl">:rofl:</span></p>



<a name="222870516"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222870516" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222870516">(Jan 15 2021 at 15:12)</a>:</h4>
<p>It's just like Amelia's tensor algebra situation -- <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mo stretchy="false">(</mo><mi>M</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">T(M)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mclose">)</span></span></span></span> was defined to be a quotient of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo stretchy="false">[</mo><mi>M</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">R[M]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mclose">]</span></span></span></span>, the polynomial algebra over <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span>, by the obvious relations. But then she wanted to prove that something was nonzero and ultimately she ended up doing it by writing down a completely different model <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mo>‚äï</mo><mi>i</mi></msub><msup><mi>M</mi><mrow><mo>‚äó</mo><mi>i</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\oplus_iM^{\otimes i}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.974664em;vertical-align:-0.15em;"></span><span class="mord"><span class="mbin">‚äï</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">‚äó</span><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span></span></span></span></span> for which nonzeroness was obvious</p>



<a name="222870558"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222870558" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222870558">(Jan 15 2021 at 15:12)</a>:</h4>
<p>Yes of course at the end the image is commutative, but I mean that the reasonable description lives inside the matrix ring. BTW, it doesn't matter</p>



<a name="222870615"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222870615" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222870615">(Jan 15 2021 at 15:13)</a>:</h4>
<p>The easiest way I can think of to write down the ring is <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><msub><mo>‚äó</mo><mi>K</mi></msub><mi>R</mi><msub><mo>‚äó</mo><mi>K</mi></msub><mi>R</mi></mrow><annotation encoding="application/x-tex">R\otimes_KR\otimes_KR</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin"><span class="mbin">‚äó</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">K</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin"><span class="mbin">‚äó</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">K</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span> with <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>=</mo><mi>K</mi><mo stretchy="false">[</mo><mi>œµ</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">R=K[\epsilon]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mopen">[</span><span class="mord mathnormal">œµ</span><span class="mclose">]</span></span></span></span> but then you'll need to know things about tensor products of vector spaces</p>



<a name="222870701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222870701" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222870701">(Jan 15 2021 at 15:13)</a>:</h4>
<p>The context of my question is somewhat related to that <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> - I was trying to prove that there exists a <code>Q</code> such that <code>¬¨function.injective (algebra_map k $ clifford_algebra Q)</code></p>



<a name="222870711"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222870711" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222870711">(Jan 15 2021 at 15:13)</a>:</h4>
<p>Aah I see! Realise them as matrices</p>



<a name="222870891"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222870891" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222870891">(Jan 15 2021 at 15:14)</a>:</h4>
<p>(after I succeeded in showing injectivity for the other algebras, but couldn't find a proof for <code>clifford_algebra</code>, I concluded it might because it wasn't true)</p>



<a name="222870908"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222870908" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222870908">(Jan 15 2021 at 15:15)</a>:</h4>
<p>So Eric you could just literally write down a ring hom to a matrix ring and choose three cunning commuting matrices whose squares are zero but whose product is not. Might be hard to convince Lean there's a map from the multivariable poly ring to this noncommutative matrix ring though.</p>



<a name="222871076"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222871076" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222871076">(Jan 15 2021 at 15:15)</a>:</h4>
<p>It seems to me like the proof that I can lift that function out of the quotient is going to be painful</p>



<a name="222871101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222871101" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222871101">(Jan 15 2021 at 15:15)</a>:</h4>
<p>Even though its obvious</p>



<a name="222871212"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222871212" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222871212">(Jan 15 2021 at 15:16)</a>:</h4>
<p>Wait... there's a hack. You don't need to prove that thing satisfies the ring axioms.</p>



<a name="222871349"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222871349" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222871349">(Jan 15 2021 at 15:16)</a>:</h4>
<p><code>matrix (fin 3 ‚Üí zmod 2) (fin 3 ‚Üí zmod 2) (zmod 2)</code> already has a ring instance?</p>



<a name="222871370"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222871370" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222871370">(Jan 15 2021 at 15:16)</a>:</h4>
<p>Just define the map from <code>mv_poly</code> to the explicit thing with 256 elements, and check that the map preserves <code>+</code>, <code>*</code>, etc... and then transfer the ring axioms by transport.</p>



<a name="222871513"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222871513" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222871513">(Jan 15 2021 at 15:17)</a>:</h4>
<p>Yes, the matrix ring should be there, but it's not the ring structure you want, is it?</p>



<a name="222871521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222871521" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222871521">(Jan 15 2021 at 15:17)</a>:</h4>
<p>The idea would be this. First prove a general theorem saying that if <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> is a type and we have a map from <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> to a (not necessarily commutative) <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span>-algebra such that for all <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo>‚àà</mo><mi>X</mi></mrow><annotation encoding="application/x-tex">x,y\in X</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.7335400000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">‚àà</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> the images of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span> commute, then there's a ring hom from the multivariable poly algebra <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">R[X]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span></span></span></span> into the original <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span>-algebra.</p>



<a name="222871788"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222871788" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222871788">(Jan 15 2021 at 15:18)</a>:</h4>
<p>Then it's all over, because you check that the generators of the ideal are in the kernel but the image of abc is not.</p>



<a name="222872542"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222872542" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222872542">(Jan 15 2021 at 15:21)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2)/near/222871349">said</a>:</p>
<blockquote>
<p><code>matrix (fin 3 ‚Üí zmod 2) (fin 3 ‚Üí zmod 2) (zmod 2)</code> already has a ring instance?</p>
</blockquote>
<p>Ah, but it's not commutative so I'm not allowed to <del>construct an algebra map to it</del> use <a href="https://leanprover-community.github.io/mathlib_docs/find/mv_polynomial.aeval">docs#mv_polynomial.aeval</a> to do something similar to what Kevin is describing</p>



<a name="222872988"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222872988" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222872988">(Jan 15 2021 at 15:24)</a>:</h4>
<p>We should generalize <code>aeval</code> to remove the <code>comm_semiring</code>assumption and instead assume that the elements in the image of <code>f</code> commute.</p>



<a name="222873806"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222873806" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222873806">(Jan 15 2021 at 15:30)</a>:</h4>
<p>I would still also like to keep the current version. Because the more general version doesn't sound like something that the typeclass system can take care of</p>



<a name="222873953"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222873953" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222873953">(Jan 15 2021 at 15:30)</a>:</h4>
<p>Yeah, sure. We can just make a <code>aeval'</code> :)</p>



<a name="222873975"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222873975" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222873975">(Jan 15 2021 at 15:30)</a>:</h4>
<p>And a <code>eval_2'</code></p>



<a name="222874198"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222874198" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222874198">(Jan 15 2021 at 15:32)</a>:</h4>
<p>We probably have more general version in <a href="https://leanprover-community.github.io/mathlib_docs/find/add_monoid_algebra">docs#add_monoid_algebra</a>, perhaps <a href="https://leanprover-community.github.io/mathlib_docs/find/add_monoid_algebra.lift_nc_alg_hom">docs#add_monoid_algebra.lift_nc_alg_hom</a> if that exists. It's just a case of copying it and any lemmas about it into <code>mv_polynomial</code></p>



<a name="222880036"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222880036" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222880036">(Jan 15 2021 at 16:10)</a>:</h4>
<p>(deleted)</p>



<a name="222888380"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222888380" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222888380">(Jan 15 2021 at 16:58)</a>:</h4>
<p>There is in <a href="https://leanprover-community.github.io/mathlib_docs/find/polynomial.integral_domain">docs#polynomial.integral_domain</a></p>



<a name="222891285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222891285" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222891285">(Jan 15 2021 at 17:15)</a>:</h4>
<p>Thanks!  Adding the relevant <code>import</code>, found the <code>instance</code>!</p>



<a name="222963589"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222963589" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222963589">(Jan 16 2021 at 06:20)</a>:</h4>
<p>Dear All,</p>
<p>further partial progress: I believe that the lemmas below get us closer to a proof!  This is along the lines of proving stuff by induction on the number of variables.  The second lemma below, should be the reduction from one more variable to one fewer variable.  I do not have time to think about this, probably until Monday.  If someone wants to give what is below a try, feel free to do so!</p>
<p>Also, the proofs could be shortened...</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.polynomial.degree.definitions</span>

<span class="kn">open</span> <span class="n">polynomial</span>

<span class="kd">lemma</span> <span class="n">aux_coeff</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">‚Ñï</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">‚àÄ</span> <span class="n">m</span> <span class="bp">&lt;</span> <span class="n">n</span><span class="o">,</span>  <span class="o">(</span><span class="n">X</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">*</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">m</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">induction</span> <span class="n">n</span> <span class="k">with</span> <span class="n">n</span> <span class="n">hn</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">intros</span> <span class="n">m</span> <span class="n">hm</span><span class="o">,</span> <span class="n">exact</span> <span class="o">(</span><span class="n">nat.not_lt_zero</span> <span class="n">m</span> <span class="n">hm</span><span class="o">)</span><span class="bp">.</span><span class="n">elim</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">intros</span> <span class="n">m</span> <span class="n">hm</span><span class="o">,</span>
    <span class="n">by_cases</span> <span class="n">m0</span> <span class="o">:</span> <span class="n">m</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">subst</span> <span class="n">m0</span><span class="o">,</span>
      <span class="n">rw</span> <span class="o">[</span><span class="n">mul_coeff_zero</span><span class="o">,</span> <span class="n">coeff_X_pow</span><span class="o">,</span> <span class="n">if_neg</span><span class="o">,</span> <span class="n">zero_mul</span><span class="o">],</span>
      <span class="n">exact</span> <span class="n">ne_of_lt</span> <span class="n">hm</span> <span class="o">},</span>
    <span class="o">{</span> <span class="k">have</span> <span class="o">:</span> <span class="n">m</span> <span class="bp">=</span> <span class="n">m.pred.succ</span><span class="o">,</span>
      <span class="o">{</span> <span class="n">rw</span> <span class="n">nat.succ_pred_eq_of_pos</span> <span class="o">(</span><span class="n">pos_iff_ne_zero.mpr</span> <span class="n">m0</span><span class="o">)</span> <span class="o">},</span>
      <span class="n">rw</span> <span class="o">[</span><span class="n">this</span><span class="o">,</span> <span class="n">nat.succ_eq_add_one</span> <span class="n">m.pred</span><span class="o">],</span>
      <span class="n">rw</span> <span class="o">[</span><span class="n">X_pow_mul</span><span class="o">,</span> <span class="n">pow_succ'</span><span class="o">,</span> <span class="bp">‚Üê</span> <span class="n">mul_assoc</span><span class="o">,</span> <span class="n">coeff_mul_X</span> <span class="n">_</span> <span class="n">m.pred</span><span class="o">,</span> <span class="bp">‚Üê</span> <span class="n">X_pow_mul</span><span class="o">],</span>
      <span class="n">exact</span> <span class="n">hn</span> <span class="n">m.pred</span> <span class="o">(</span><span class="n">lt_of_lt_of_le</span> <span class="o">(</span><span class="n">nat.pred_lt</span> <span class="n">m0</span><span class="o">)</span> <span class="o">(</span><span class="n">nat.lt_succ_iff.mp</span> <span class="n">hm</span><span class="o">))</span> <span class="o">}</span> <span class="o">}</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">X_not_mem_ideal_X_pow_2_coeff_no_ideal_two</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span>
    <span class="o">(</span><span class="n">c0</span> <span class="o">:</span> <span class="bp">‚àÄ</span> <span class="n">d</span> <span class="n">e</span> <span class="o">:</span> <span class="n">R</span><span class="o">,</span> <span class="n">c</span> <span class="bp">‚â†</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">d</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">e</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="n">g</span> <span class="n">h</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">C</span> <span class="n">c</span> <span class="bp">*</span> <span class="n">X</span> <span class="bp">‚â†</span> <span class="n">C</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">f</span> <span class="bp">+</span> <span class="n">C</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">g</span> <span class="bp">+</span> <span class="n">X</span> <span class="bp">^</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">h</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intros</span> <span class="n">ide</span><span class="o">,</span>
  <span class="k">have</span> <span class="o">:</span> <span class="n">c</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">*</span> <span class="o">(</span><span class="n">f.coeff</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">*</span> <span class="o">(</span><span class="n">g.coeff</span> <span class="mi">1</span><span class="o">),</span>
  <span class="o">{</span> <span class="n">obtain</span> <span class="n">F</span><span class="o">:=</span> <span class="n">congr_arg</span> <span class="o">(</span><span class="bp">Œª</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">),</span> <span class="n">k.coeff</span> <span class="mi">1</span><span class="o">)</span> <span class="n">ide</span><span class="o">,</span>
    <span class="n">simp_rw</span> <span class="o">[</span><span class="n">coeff_mul_X</span><span class="o">]</span> <span class="n">at</span> <span class="n">F</span><span class="o">,</span>
    <span class="n">rw</span> <span class="o">[</span><span class="n">coeff_C_zero</span><span class="o">,</span> <span class="n">coeff_add</span><span class="o">,</span> <span class="n">coeff_add</span><span class="o">,</span> <span class="n">coeff_C_mul</span><span class="o">,</span> <span class="n">coeff_C_mul</span><span class="o">]</span> <span class="n">at</span> <span class="n">F</span><span class="o">,</span>
    <span class="n">rw</span> <span class="o">[</span><span class="n">aux_coeff</span> <span class="mi">2</span> <span class="n">h</span> <span class="mi">1</span> <span class="o">(</span><span class="n">one_lt_two</span><span class="o">),</span> <span class="n">add_zero</span><span class="o">]</span> <span class="n">at</span> <span class="n">F</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">F</span> <span class="o">},</span>
  <span class="n">exact</span> <span class="n">c0</span> <span class="o">(</span><span class="n">coeff</span> <span class="n">f</span> <span class="mi">1</span><span class="o">)</span> <span class="o">(</span><span class="n">coeff</span> <span class="n">g</span> <span class="mi">1</span><span class="o">)</span> <span class="n">this</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="222990614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/222990614" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#222990614">(Jan 16 2021 at 16:28)</a>:</h4>
<p>Admittedly, it is very clunky, but I think that below is a proof of the result.  I used "iterated polynomial rings", instead of <code>mv_polynomial</code>, but I think that the final statement implies the wanted result.  Note that it works for <code>[nontrivial] [semiring]</code>s: it is lucky that <code>ùîΩ_2</code> just satisfied <code>nontrivial</code>!  <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.polynomial.degree.definitions</span>

<span class="kn">open</span> <span class="n">polynomial</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">R</span><span class="o">]</span>

<span class="kd">lemma</span> <span class="n">aux_coeff</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">‚Ñï</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">‚àÄ</span> <span class="n">m</span> <span class="bp">&lt;</span> <span class="n">n</span><span class="o">,</span>  <span class="o">(</span><span class="n">X</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">*</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">m</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">induction</span> <span class="n">n</span> <span class="k">with</span> <span class="n">n</span> <span class="n">hn</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">exact</span> <span class="bp">Œª</span> <span class="n">m</span> <span class="n">hm</span><span class="o">,</span> <span class="o">(</span><span class="n">nat.not_lt_zero</span> <span class="n">m</span> <span class="n">hm</span><span class="o">)</span><span class="bp">.</span><span class="n">elim</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">intros</span> <span class="n">m</span> <span class="n">hm</span><span class="o">,</span>
    <span class="n">by_cases</span> <span class="n">m0</span> <span class="o">:</span> <span class="n">m</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">rw</span> <span class="n">m0</span> <span class="n">at</span> <span class="bp">‚ä¢</span> <span class="n">hm</span><span class="o">,</span>
      <span class="n">rw</span> <span class="o">[</span><span class="n">mul_coeff_zero</span><span class="o">,</span> <span class="n">coeff_X_pow</span><span class="o">,</span> <span class="n">if_neg</span><span class="o">,</span> <span class="n">zero_mul</span><span class="o">],</span>
      <span class="n">exact</span> <span class="n">ne_of_lt</span> <span class="n">hm</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="bp">‚Üê</span> <span class="n">nat.succ_pred_eq_of_pos</span> <span class="o">(</span><span class="n">pos_iff_ne_zero.mpr</span> <span class="n">m0</span><span class="o">),</span> <span class="n">nat.succ_eq_add_one</span> <span class="n">m.pred</span><span class="o">,</span>
        <span class="n">X_pow_mul</span><span class="o">,</span> <span class="n">pow_succ'</span><span class="o">,</span> <span class="bp">‚Üê</span> <span class="n">mul_assoc</span><span class="o">,</span> <span class="n">coeff_mul_X</span> <span class="n">_</span> <span class="n">m.pred</span><span class="o">,</span> <span class="bp">‚Üê</span> <span class="n">X_pow_mul</span><span class="o">],</span>
      <span class="n">exact</span> <span class="n">hn</span> <span class="n">m.pred</span> <span class="o">(</span><span class="n">lt_of_lt_of_le</span> <span class="o">(</span><span class="n">nat.pred_lt</span> <span class="n">m0</span><span class="o">)</span> <span class="o">(</span><span class="n">nat.lt_succ_iff.mp</span> <span class="n">hm</span><span class="o">))</span> <span class="o">}</span> <span class="o">}</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">X_not_mem_ideal_X_pow_2_coeff_no_ideal_two</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span>
    <span class="o">(</span><span class="n">c0</span> <span class="o">:</span> <span class="bp">‚àÄ</span> <span class="n">d</span> <span class="n">e</span> <span class="o">:</span> <span class="n">R</span><span class="o">,</span> <span class="n">c</span> <span class="bp">‚â†</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">d</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">e</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="n">g</span> <span class="n">h</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">C</span> <span class="n">c</span> <span class="bp">*</span> <span class="n">X</span> <span class="bp">‚â†</span> <span class="n">C</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">f</span> <span class="bp">+</span> <span class="n">C</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">g</span> <span class="bp">+</span> <span class="n">X</span> <span class="bp">^</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">h</span> <span class="o">:=</span>
<span class="bp">Œª</span> <span class="n">ide</span><span class="o">,</span> <span class="n">c0</span> <span class="o">(</span><span class="n">coeff</span> <span class="n">f</span> <span class="mi">1</span><span class="o">)</span> <span class="o">(</span><span class="n">coeff</span> <span class="n">g</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">$</span> <span class="kd">by</span>
  <span class="n">rw</span> <span class="o">[</span><span class="bp">‚Üê</span> <span class="n">add_zero</span> <span class="o">(</span><span class="n">_</span> <span class="bp">+</span> <span class="n">_</span><span class="o">),</span> <span class="bp">‚Üê</span> <span class="n">aux_coeff</span> <span class="mi">2</span> <span class="n">h</span> <span class="mi">1</span> <span class="o">(</span><span class="n">one_lt_two</span><span class="o">),</span> <span class="bp">‚Üê</span> <span class="n">coeff_C_mul</span><span class="o">,</span> <span class="bp">‚Üê</span> <span class="n">coeff_C_mul</span><span class="o">,</span>
    <span class="bp">‚Üê</span> <span class="n">coeff_add</span><span class="o">,</span> <span class="bp">‚Üê</span> <span class="n">coeff_add</span><span class="o">,</span> <span class="bp">‚Üê</span> <span class="n">ide</span><span class="o">,</span> <span class="n">coeff_C_mul</span><span class="o">,</span> <span class="n">coeff_X</span><span class="o">,</span> <span class="n">if_pos</span> <span class="n">rfl</span><span class="o">,</span> <span class="n">mul_one</span><span class="o">]</span>

<span class="kd">noncomputable</span> <span class="kd">def</span> <span class="n">C1</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span> <span class="bp">‚Üí</span> <span class="n">polynomial</span> <span class="o">(</span><span class="n">polynomial</span> <span class="n">R</span><span class="o">)</span> <span class="o">:=</span>
  <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span> <span class="bp">‚Üí</span> <span class="n">polynomial</span> <span class="o">(</span><span class="n">polynomial</span> <span class="n">R</span><span class="o">))</span>

<span class="kd">noncomputable</span> <span class="kd">def</span> <span class="n">C2</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="o">(</span><span class="n">polynomial</span> <span class="n">R</span><span class="o">)</span> <span class="bp">‚Üí</span> <span class="n">polynomial</span> <span class="o">(</span><span class="n">polynomial</span> <span class="o">(</span><span class="n">polynomial</span> <span class="n">R</span><span class="o">))</span> <span class="o">:=</span>
  <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="o">(</span><span class="n">polynomial</span> <span class="n">R</span><span class="o">)</span> <span class="bp">‚Üí</span> <span class="n">polynomial</span> <span class="o">(</span><span class="n">polynomial</span> <span class="o">(</span><span class="n">polynomial</span> <span class="n">R</span><span class="o">)))</span>

<span class="sd">/-- `C2 (C1 X)`, `C2 X` and `X` are the variables originally called `Œ±`, `Œ≤` and `Œ≥`.</span>
<span class="sd">Instead of working with `ideals`, I am working the submodule span explicitly, by</span>
<span class="sd">quantifying over the coefficients of the generators.  This allows to work with `semiring`s</span>
<span class="sd">instead of `comm_ring`s.  -/</span>
<span class="kd">lemma</span> <span class="n">question</span> <span class="o">[</span><span class="n">nontrivial</span> <span class="n">R</span><span class="o">]</span> <span class="o">{</span><span class="n">f</span> <span class="n">g</span> <span class="n">h</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="o">(</span><span class="n">polynomial</span> <span class="o">(</span><span class="n">polynomial</span> <span class="n">R</span><span class="o">))}</span> <span class="o">:</span>
  <span class="n">C2</span> <span class="o">((</span><span class="n">C1</span> <span class="n">X</span><span class="o">)</span> <span class="bp">*</span> <span class="n">X</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="o">(</span><span class="n">polynomial</span> <span class="o">(</span><span class="n">polynomial</span> <span class="n">R</span><span class="o">)))</span> <span class="bp">‚â†</span>
    <span class="n">C2</span> <span class="o">(</span><span class="n">X</span> <span class="bp">^</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f</span> <span class="bp">+</span> <span class="n">C2</span> <span class="o">(</span><span class="n">C1</span> <span class="o">(</span><span class="n">X</span> <span class="bp">^</span> <span class="mi">2</span><span class="o">))</span> <span class="bp">*</span> <span class="n">g</span> <span class="bp">+</span> <span class="n">X</span> <span class="bp">^</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">h</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">refine</span> <span class="n">X_not_mem_ideal_X_pow_2_coeff_no_ideal_two</span>
    <span class="o">((</span><span class="n">X</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="o">(</span><span class="n">polynomial</span> <span class="n">R</span><span class="o">))</span> <span class="bp">^</span> <span class="mi">2</span><span class="o">)</span> <span class="o">(</span><span class="n">C1</span> <span class="o">(</span><span class="n">X</span> <span class="bp">^</span> <span class="mi">2</span><span class="o">)</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="o">(</span><span class="n">polynomial</span> <span class="n">R</span><span class="o">))</span> <span class="n">_</span> <span class="n">_</span> <span class="n">f</span> <span class="n">g</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">intros</span> <span class="n">d</span> <span class="n">e</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">add_comm</span><span class="o">,</span> <span class="bp">‚Üê</span> <span class="n">add_zero</span> <span class="o">(</span><span class="n">_</span> <span class="bp">*</span> <span class="n">e</span><span class="o">),</span> <span class="bp">‚Üê</span> <span class="n">mul_zero</span> <span class="o">(</span><span class="n">C1</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">))],</span>
  <span class="n">refine</span> <span class="n">X_not_mem_ideal_X_pow_2_coeff_no_ideal_two</span> <span class="o">(</span><span class="n">X</span> <span class="bp">^</span> <span class="mi">2</span><span class="o">)</span> <span class="mi">0</span> <span class="n">X</span> <span class="o">(</span><span class="bp">Œª</span> <span class="n">d</span> <span class="n">e</span><span class="o">,</span> <span class="n">_</span><span class="o">)</span> <span class="n">e</span> <span class="mi">0</span> <span class="n">d</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">zero_mul</span><span class="o">,</span> <span class="n">add_zero</span><span class="o">],</span>
  <span class="n">intros</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">obtain</span> <span class="n">F</span> <span class="o">:</span> <span class="n">X.coeff</span> <span class="mi">1</span> <span class="bp">=</span> <span class="o">(</span><span class="n">X</span> <span class="bp">^</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">d</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="mi">1</span> <span class="o">:=</span> <span class="n">congr_arg</span> <span class="o">(</span><span class="bp">Œª</span> <span class="n">h</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">,</span> <span class="n">h.coeff</span> <span class="mi">1</span><span class="o">)</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">coeff_X_one</span><span class="o">,</span> <span class="n">aux_coeff</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">one_lt_two</span><span class="o">]</span> <span class="n">at</span> <span class="n">F</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">one_ne_zero</span> <span class="n">F</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>In case you are wondering, the <code>C1</code> and <code>C2</code> are there, since otherwise I get a <code>timeout</code>.</p>



<a name="223230865"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/223230865" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#223230865">(Jan 19 2021 at 14:11)</a>:</h4>
<p>I'll have another look at this sometime in the next week. In the mean time, I created <a href="https://github.com/leanprover-community/mathlib/issues/5809">#5809</a> as a step towards showing <code>char_p k 2</code>, which then leaves me with proving another horrible goal,</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">‚Ñï</span><span class="o">)</span> <span class="o">(</span><span class="n">hn</span> <span class="o">:</span> <span class="bp">‚Üë</span><span class="n">n</span> <span class="bp">‚àà</span> <span class="n">ideal.span</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">3</span><span class="o">)</span> <span class="o">(</span><span class="n">zmod</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">|</span> <span class="bp">‚àÉ</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">fin</span> <span class="mi">3</span><span class="o">),</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">X</span> <span class="n">i</span> <span class="bp">*</span> <span class="n">X</span> <span class="n">i</span><span class="o">})</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">3</span><span class="o">)</span> <span class="o">(</span><span class="n">zmod</span> <span class="mi">2</span><span class="o">))</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">apply</span> <span class="n">submodule.span_induction</span> <span class="n">hn</span><span class="o">,</span> <span class="c1">-- fails</span>
<span class="kd">end</span>
</code></pre></div>



<a name="223231620"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/223231620" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#223231620">(Jan 19 2021 at 14:16)</a>:</h4>
<p>Am I right that you only care about n mod 2, so there are really only two cases here?  Not sure how to convince lean of this, just trying to get the maths side out first!</p>



<a name="223238044"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/223238044" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#223238044">(Jan 19 2021 at 15:01)</a>:</h4>
<p>I'll have another look at this sometime in the next week. I've spun off <a href="#narrow/stream/113489-new-members/topic/char_p.20for.20quotients.20by.20ideals">this thread</a> as an exercise in proving <code>char_p k 2</code>, only because it seemed like an easier things to prove that might inspire some mathlib lemmas.</p>



<a name="224033645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/224033645" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#224033645">(Jan 26 2021 at 12:51)</a>:</h4>
<p>Just noticed that <span class="user-mention" data-user-id="375375">@Darij Grinberg</span> who authored the mathoverflow proof I was following is here on Zulip!</p>



<a name="224036454"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/224036454" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Darij Grinberg <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#224036454">(Jan 26 2021 at 13:15)</a>:</h4>
<p>hi! I'm not sure how Lean does quotient rings; if it gets too annoying, keep in mind that you can encode elements of ùîΩ‚ÇÇ[Œ±, Œ≤, Œ≥] / (Œ±¬≤, Œ≤¬≤, Œ≥¬≤) as 8-tuples of elements of ùîΩ‚ÇÇ, or as a certain commutative subring of the 8x8-matrix ring over ùîΩ‚ÇÇ</p>



<a name="224036809"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/224036809" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Darij Grinberg <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#224036809">(Jan 26 2021 at 13:17)</a>:</h4>
<p>Œ± is the matrix whose (i, i+1)-th entry is 1 for each i in {0, 2, 4, 6}, and whose all remaining entries are 0 (where we are labeling rows and columns by 0, 1, ..., 7).<br>
Œ≤ is the matrix whose (j, j+2)-th entry is 1 for each j in {0, 1, 4, 5}, and whose all remaining entries are 0.<br>
Œ≥ is the matrix whose (k, k+4)-th entry is 1 for each k in {0, 1, 2, 3}, and whose all remaining entries are 0.<br>
of course, this all is just manually expanding Kronecker products...</p>



<a name="224037041"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/224037041" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Darij Grinberg <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#224037041">(Jan 26 2021 at 13:19)</a>:</h4>
<p>incidentally, if this is all in the context of formalizing Clifford algebras: long ago I've written up proofs for some of the positive results (human language, not Lean, but pretty formalized): <a href="https://www.cip.ifi.lmu.de/~grinberg/algebra/chevalleys.pdf">https://www.cip.ifi.lmu.de/~grinberg/algebra/chevalleys.pdf</a> . later I realized most of this is in Bourbaki, but the way I set things up might be rather convenient for formalization (lots and lots of recursive defs and inductive proofs)</p>



<a name="224037069"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/224037069" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#224037069">(Jan 26 2021 at 13:19)</a>:</h4>
<p>I think the approach with 8-tuples (or perhaps 2^n-tuples expressed using fin n -&gt; fin 2) is the best for explicit calculations. Anything with too much index arithmetic will be hell to work with though</p>



<a name="224037951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/224037951" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#224037951">(Jan 26 2021 at 13:26)</a>:</h4>
<p>oh, this thread has covered a lot of ground, I guess this has already been suggested</p>



<a name="262358748"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/262358748" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#262358748">(Nov 22 2021 at 18:27)</a>:</h4>
<p>I had another go at this today, and am left with only two sorries: <a href="https://github.com/pygae/lean-ga/blob/master/src/geometric_algebra/from_mathlib/mathoverflow.lean">https://github.com/pygae/lean-ga/blob/master/src/geometric_algebra/from_mathlib/mathoverflow.lean</a></p>
<p>The two sorried lemmas are</p>
<ul>
<li><code>Œ± * Œ≤ * Œ≥ * x = 0 ‚Üí x * x = 0</code>: if all the monomials of <code>x</code> are degree one or higher, <code>x*x</code> has monomials of degree 2 or higher</li>
<li><code>Œ± * Œ≤ * Œ≥ ‚â† 0</code>: one specific polynomial has no squared monomials</li>
</ul>
<p>Both are in the "very obvious" realm, the second is the one that was discussed a lot upthread</p>



<a name="262364103"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/262364103" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#262364103">(Nov 22 2021 at 19:08)</a>:</h4>
<p>Another argument for the second one (that exploits a bit the fact that we work over <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="double-struck">F</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\mathbb{F}_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbb">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>) is to consider the vector space of all functions <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi mathvariant="double-struck">F</mi><mn>2</mn></msub><msup><mo stretchy="false">)</mo><mn>3</mn></msup><mo>‚Üí</mo><msub><mi mathvariant="double-struck">F</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">(\mathbb{F}_2)^3 \to \mathbb{F}_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathbb">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">‚Üí</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbb">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> and let <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>=</mo><msub><mi mathvariant="double-struck">F</mi><mn>2</mn></msub><mo stretchy="false">[</mo><mi>Œ±</mi><mo separator="true">,</mo><mi>Œ≤</mi><mo separator="true">,</mo><mi>Œ≥</mi><mo stretchy="false">]</mo><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><msup><mi>Œ±</mi><mn>2</mn></msup><mo separator="true">,</mo><msup><mi>Œ≤</mi><mn>2</mn></msup><mo separator="true">,</mo><msup><mi>Œ≥</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R = \mathbb{F}_2[\alpha, \beta, \gamma]/(\alpha^2, \beta^2, \gamma^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathbb">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.0037em;">Œ±</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">Œ≤</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">Œ≥</span><span class="mclose">]</span><span class="mord">/</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">Œ±</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">Œ≤</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">Œ≥</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> act on it via e.g. <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>Œ±</mi><mi>f</mi><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>z</mi><mo stretchy="false">)</mo><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo>+</mo><mn>1</mn><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>z</mi><mo stretchy="false">)</mo><mo>‚àí</mo><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>z</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\alpha f)(x, y, z) = f(x+1, y, z) - f(x, y, z)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0037em;">Œ±</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">‚àí</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">)</span></span></span></span></p>



<a name="262364427"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/262364427" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#262364427">(Nov 22 2021 at 19:11)</a>:</h4>
<p>This is the same as Darij's argument of course but without any calculation</p>



<a name="262456553"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/262456553" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#262456553">(Nov 23 2021 at 13:41)</a>:</h4>
<p>I was able to show the second one in the end by applying <code>coeff</code> to both sides, and showing:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">x</span> <span class="bp">‚àà</span> <span class="n">k_ideal</span> <span class="bp">‚Üî</span> <span class="bp">‚àÉ</span> <span class="n">f</span> <span class="o">:</span> <span class="n">fin</span> <span class="mi">3</span> <span class="bp">‚Üí</span> <span class="n">mv_polynomial</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">3</span><span class="o">)</span> <span class="o">(</span><span class="n">zmod</span> <span class="mi">2</span><span class="o">),</span> <span class="n">x</span> <span class="bp">=</span> <span class="bp">‚àë</span> <span class="n">i</span><span class="o">,</span> <span class="n">f</span> <span class="n">i</span> <span class="bp">*</span> <span class="n">X</span> <span class="n">i</span> <span class="bp">*</span> <span class="n">X</span> <span class="n">i</span>
</code></pre></div>



<a name="262456746"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/262456746" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#262456746">(Nov 23 2021 at 13:42)</a>:</h4>
<p>The approach doesn't work so well for the second one, but maybe it will after <a href="https://github.com/leanprover-community/mathlib/issues/10429">#10429</a></p>



<a name="292268062"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/292268062" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#292268062">(Aug 06 2022 at 16:58)</a>:</h4>
<p>With some help from <span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span>, I've now got the final <code>sorry</code> down to needing</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.mv_polynomial.comm_ring</span>

<span class="kd">example</span> <span class="o">{</span><span class="n">œÉ</span> <span class="n">R</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">x.coeff</span> <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span> <span class="bp">‚Üî</span> <span class="bp">‚àÉ</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">œÉ</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">œÉ</span> <span class="bp">‚Üí</span> <span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span><span class="o">),</span> <span class="n">x</span> <span class="bp">=</span> <span class="bp">‚àë</span> <span class="n">i</span> <span class="k">in</span> <span class="n">s</span><span class="o">,</span> <span class="n">f</span> <span class="n">i</span> <span class="bp">*</span> <span class="n">X</span> <span class="n">i</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>
<p>which <span class="user-mention" data-user-id="284160">@Eric Rodriguez</span> has most of the proof for.</p>



<a name="292286568"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/292286568" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#292286568">(Aug 07 2022 at 00:20)</a>:</h4>
<p>I think this is worth a blog post, explaining why it is so hard to formalize.</p>



<a name="292295057"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/292295057" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#292295057">(Aug 07 2022 at 03:43)</a>:</h4>
<p>This thread just came to my attention; and ... the fact that Œ±Œ≤Œ≥ is not 0 doesn't seem so hard?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.mv_polynomial.basic</span>
<span class="kn">import</span> <span class="n">tactic.fin_cases</span>

<span class="kn">open</span> <span class="n">mv_polynomial</span>

<span class="kd">variables</span> <span class="o">(</span><span class="n">œÉ</span> <span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">comm_semiring</span> <span class="n">R</span><span class="o">]</span>

<span class="kd">def</span> <span class="n">ideal_ge</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">œÉ</span> <span class="bp">‚Üí</span> <span class="n">‚Ñï</span><span class="o">)</span> <span class="o">:</span> <span class="n">ideal</span> <span class="o">(</span><span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">carrier</span> <span class="o">:=</span> <span class="o">{</span><span class="n">p</span> <span class="bp">|</span> <span class="bp">‚àÄ</span> <span class="o">(</span><span class="n">m</span> <span class="o">:</span> <span class="n">œÉ</span> <span class="bp">‚Üí‚ÇÄ</span> <span class="n">‚Ñï</span><span class="o">),</span> <span class="n">m</span> <span class="bp">‚àà</span> <span class="n">p.support</span> <span class="bp">‚Üí</span> <span class="bp">‚àÉ</span> <span class="n">i</span><span class="o">,</span> <span class="n">a</span> <span class="n">i</span> <span class="bp">‚â§</span> <span class="n">m</span> <span class="n">i</span><span class="o">},</span>
  <span class="n">add_mem'</span> <span class="o">:=</span> <span class="bp">Œª</span> <span class="n">x</span> <span class="n">y</span> <span class="n">hx</span> <span class="n">hy</span> <span class="n">m</span> <span class="n">hm</span><span class="o">,</span> <span class="kd">by</span> <span class="n">classical</span><span class="bp">;</span>
    <span class="n">exact</span> <span class="o">(</span><span class="n">finset.mem_union.1</span> <span class="bp">$</span> <span class="n">support_add</span> <span class="n">hm</span><span class="o">)</span><span class="bp">.</span><span class="n">elim</span> <span class="o">(</span><span class="n">hx</span> <span class="n">m</span><span class="o">)</span> <span class="o">(</span><span class="n">hy</span> <span class="n">m</span><span class="o">),</span>
  <span class="n">zero_mem'</span> <span class="o">:=</span> <span class="bp">Œª</span> <span class="n">m</span><span class="o">,</span> <span class="kd">by</span> <span class="o">{</span> <span class="n">rw</span> <span class="n">support_zero</span><span class="o">,</span> <span class="n">rintro</span> <span class="o">‚ü®‚ü©</span> <span class="o">},</span>
  <span class="n">smul_mem'</span> <span class="o">:=</span> <span class="bp">Œª</span> <span class="n">x</span> <span class="n">y</span> <span class="n">hy</span> <span class="n">m</span> <span class="n">hm</span><span class="o">,</span> <span class="kd">begin</span>
    <span class="n">rw</span> <span class="n">smul_eq_mul</span> <span class="n">at</span> <span class="n">hm</span><span class="o">,</span>
    <span class="k">have</span> <span class="o">:=</span> <span class="n">support_mul</span> <span class="n">_</span> <span class="n">_</span> <span class="n">hm</span><span class="o">,</span>
    <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">finset.mem_bUnion</span><span class="o">]</span> <span class="n">at</span> <span class="n">this</span><span class="o">,</span>
    <span class="n">obtain</span> <span class="o">‚ü®</span><span class="n">m‚ÇÅ</span><span class="o">,</span> <span class="bp">-</span><span class="o">,</span> <span class="n">m‚ÇÇ</span><span class="o">,</span> <span class="n">h‚ÇÇ</span><span class="o">,</span> <span class="n">rfl</span><span class="bp">|</span><span class="o">‚ü®‚ü®‚ü©‚ü©‚ü©</span> <span class="o">:=</span> <span class="n">this</span><span class="o">,</span>
    <span class="n">obtain</span> <span class="o">‚ü®</span><span class="n">i</span><span class="o">,</span> <span class="n">h'</span><span class="o">‚ü©</span> <span class="o">:=</span> <span class="n">hy</span> <span class="n">m‚ÇÇ</span> <span class="n">h‚ÇÇ</span><span class="o">,</span>
    <span class="n">exact</span> <span class="o">‚ü®</span><span class="n">i</span><span class="o">,</span> <span class="n">h'.trans</span> <span class="bp">$</span> <span class="n">nat.le_add_left</span> <span class="n">_</span> <span class="n">_</span><span class="o">‚ü©,</span>
  <span class="kd">end</span> <span class="o">}</span>

<span class="kd">lemma</span> <span class="n">span_squares</span> <span class="o">[</span><span class="n">nontrivial</span> <span class="n">R</span><span class="o">]</span> <span class="c">/-</span><span class="cm"> actually not necessary -/</span> <span class="o">:</span>
  <span class="n">ideal.span</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span> <span class="bp">|</span> <span class="bp">‚àÉ</span> <span class="n">i</span><span class="o">,</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">X</span> <span class="n">i</span> <span class="bp">*</span> <span class="n">X</span> <span class="n">i</span><span class="o">}</span> <span class="bp">‚â§</span> <span class="n">ideal_ge</span> <span class="n">œÉ</span> <span class="n">R</span> <span class="o">(</span><span class="bp">Œª</span> <span class="n">_</span><span class="o">,</span> <span class="mi">2</span><span class="o">)</span> <span class="o">:=</span>
  <span class="c">/-</span><span class="cm"> actually equality -/</span>
<span class="n">ideal.span_le.2</span> <span class="kd">begin</span>
  <span class="n">rintro</span> <span class="n">_</span> <span class="o">‚ü®</span><span class="n">i</span><span class="o">,</span> <span class="n">rfl</span><span class="o">‚ü©</span> <span class="n">m</span> <span class="n">hm</span><span class="o">,</span>
  <span class="k">have</span> <span class="o">:=</span> <span class="n">support_mul</span> <span class="n">_</span> <span class="n">_</span> <span class="n">hm</span><span class="o">,</span>
  <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">finset.mem_bUnion</span><span class="o">]</span> <span class="n">at</span> <span class="n">this</span><span class="o">,</span>
  <span class="n">obtain</span> <span class="o">‚ü®</span><span class="n">m‚ÇÅ</span><span class="o">,</span> <span class="n">h‚ÇÅ</span><span class="o">,</span> <span class="n">m‚ÇÇ</span><span class="o">,</span> <span class="n">h‚ÇÇ</span><span class="o">,</span> <span class="n">h</span><span class="o">‚ü©</span> <span class="o">:=</span> <span class="n">this</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">support_X</span> <span class="n">at</span> <span class="n">h‚ÇÅ</span> <span class="n">h‚ÇÇ</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">finset.mem_singleton</span> <span class="n">at</span> <span class="n">h‚ÇÅ</span> <span class="n">h‚ÇÇ</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">h</span><span class="o">,</span> <span class="n">h‚ÇÅ</span><span class="o">,</span> <span class="n">h‚ÇÇ</span><span class="o">],</span>
  <span class="n">use</span> <span class="n">i</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="bp">‚Üê</span> <span class="n">finsupp.single_add</span><span class="o">,</span> <span class="n">finsupp.single_eq_same</span><span class="o">],</span>
<span class="kd">end</span>

<span class="kd">example</span> <span class="o">[</span><span class="n">nontrivial</span> <span class="n">R</span><span class="o">]</span> <span class="o">:</span> <span class="o">(</span><span class="n">X</span> <span class="mi">0</span> <span class="bp">*</span> <span class="n">X</span> <span class="mi">1</span> <span class="bp">*</span> <span class="n">X</span> <span class="mi">2</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">3</span><span class="o">)</span> <span class="n">R</span><span class="o">)</span> <span class="bp">‚àâ</span>
  <span class="n">ideal.span</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">3</span><span class="o">)</span> <span class="n">R</span> <span class="bp">|</span> <span class="bp">‚àÉ</span> <span class="n">i</span><span class="o">,</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">X</span> <span class="n">i</span> <span class="bp">*</span> <span class="n">X</span> <span class="n">i</span><span class="o">}</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intro</span> <span class="n">h</span><span class="o">,</span> <span class="k">have</span> <span class="o">:=</span> <span class="n">span_squares</span> <span class="n">_</span> <span class="n">R</span> <span class="n">h</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span> <span class="n">swap</span> <span class="mi">3</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">support_mul_X</span><span class="o">,</span> <span class="n">support_X</span><span class="o">,</span> <span class="n">finset.map_singleton</span><span class="o">,</span> <span class="n">add_right_embedding_apply</span><span class="o">,</span>
      <span class="n">finset.mem_singleton</span><span class="o">]</span> <span class="o">},</span>
  <span class="n">revert</span> <span class="n">this</span><span class="o">,</span> <span class="n">rw</span> <span class="n">imp_false</span><span class="o">,</span> <span class="n">push_neg</span><span class="o">,</span>
  <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">finsupp.coe_add</span><span class="o">,</span> <span class="n">finsupp.add_apply</span><span class="o">,</span> <span class="n">finsupp.single_apply</span><span class="o">],</span>
  <span class="n">intro</span> <span class="n">i</span><span class="o">,</span> <span class="n">fin_cases</span> <span class="n">i</span><span class="bp">;</span> <span class="n">dec_trivial</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="292296400"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/292296400" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#292296400">(Aug 07 2022 at 04:11)</a>:</h4>
<p>This is the version that I had suggested back then, now that I know how to use mathlib better (and likely there are more lemmas about mv_polys!):</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.mv_polynomial.equiv</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">R</span><span class="o">]</span>

<span class="kn">namespace</span> <span class="n">polynomial</span>

<span class="kd">lemma</span> <span class="n">aux_coeff</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="n">‚Ñï</span><span class="o">}</span> <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">}</span> <span class="o">:</span>
  <span class="bp">‚àÄ</span> <span class="o">{</span><span class="n">m</span><span class="o">},</span> <span class="n">m</span> <span class="bp">&lt;</span> <span class="n">n</span> <span class="bp">‚Üí</span> <span class="o">(</span><span class="n">X</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">*</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">m</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">induction</span> <span class="n">n</span> <span class="k">with</span> <span class="n">n</span> <span class="n">hn</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">exact</span> <span class="bp">Œª</span> <span class="n">m</span> <span class="n">hm</span><span class="o">,</span> <span class="o">(</span><span class="n">nat.not_lt_zero</span> <span class="n">m</span> <span class="n">hm</span><span class="o">)</span><span class="bp">.</span><span class="n">elim</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">intros</span> <span class="n">m</span> <span class="n">hm</span><span class="o">,</span>
    <span class="n">by_cases</span> <span class="n">m0</span> <span class="o">:</span> <span class="n">m</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">rw</span> <span class="n">m0</span> <span class="n">at</span> <span class="bp">‚ä¢</span> <span class="n">hm</span><span class="o">,</span>
      <span class="n">rw</span> <span class="o">[</span><span class="n">mul_coeff_zero</span><span class="o">,</span> <span class="n">coeff_X_pow</span><span class="o">,</span> <span class="n">if_neg</span><span class="o">,</span> <span class="n">zero_mul</span><span class="o">],</span>
      <span class="n">exact</span> <span class="n">ne_of_lt</span> <span class="n">hm</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="bp">‚Üê</span> <span class="n">nat.succ_pred_eq_of_pos</span> <span class="o">(</span><span class="n">pos_iff_ne_zero.mpr</span> <span class="n">m0</span><span class="o">),</span> <span class="n">nat.succ_eq_add_one</span> <span class="n">m.pred</span><span class="o">,</span>
        <span class="n">X_pow_mul</span><span class="o">,</span> <span class="n">pow_succ'</span><span class="o">,</span> <span class="bp">‚Üê</span> <span class="n">mul_assoc</span><span class="o">,</span> <span class="n">coeff_mul_X</span> <span class="n">_</span> <span class="n">m.pred</span><span class="o">,</span> <span class="bp">‚Üê</span> <span class="n">X_pow_mul</span><span class="o">],</span>
      <span class="n">exact</span> <span class="n">hn</span> <span class="o">(</span><span class="n">lt_of_lt_of_le</span> <span class="o">(</span><span class="n">nat.pred_lt</span> <span class="n">m0</span><span class="o">)</span> <span class="o">(</span><span class="n">nat.lt_succ_iff.mp</span> <span class="n">hm</span><span class="o">))</span> <span class="o">}</span> <span class="o">}</span>
<span class="kd">end</span>

<span class="c1">-- this is the inductive lemma: convert an inequality for elements of a polynomial ring</span>
<span class="c1">-- into a property `c0` for the coefficients of the polynomial ring.</span>
<span class="kd">lemma</span> <span class="n">que_ind</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">R</span><span class="o">}</span> <span class="o">{</span><span class="n">f</span> <span class="n">g</span> <span class="n">h</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">}</span> <span class="o">(</span><span class="n">c0</span> <span class="o">:</span> <span class="bp">‚àÄ</span> <span class="n">d</span> <span class="n">e</span> <span class="o">:</span> <span class="n">R</span><span class="o">,</span> <span class="n">c</span> <span class="bp">‚â†</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">d</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">e</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">C</span> <span class="n">c</span> <span class="bp">*</span> <span class="n">X</span> <span class="bp">‚â†</span> <span class="n">C</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">f</span> <span class="bp">+</span> <span class="n">C</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">g</span> <span class="bp">+</span> <span class="n">X</span> <span class="bp">^</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">h</span> <span class="o">:=</span>
<span class="bp">Œª</span> <span class="n">ide</span><span class="o">,</span> <span class="n">c0</span> <span class="o">(</span><span class="n">coeff</span> <span class="n">f</span> <span class="mi">1</span><span class="o">)</span> <span class="o">(</span><span class="n">coeff</span> <span class="n">g</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">$</span> <span class="kd">by</span>
  <span class="n">rw</span> <span class="o">[</span><span class="bp">‚Üê</span> <span class="n">add_zero</span> <span class="o">(</span><span class="n">_</span> <span class="bp">+</span> <span class="n">_</span><span class="o">),</span> <span class="bp">‚Üê</span> <span class="n">aux_coeff</span> <span class="o">(</span><span class="n">one_lt_two</span><span class="o">),</span> <span class="bp">‚Üê</span> <span class="n">coeff_C_mul</span><span class="o">,</span> <span class="bp">‚Üê</span> <span class="n">coeff_C_mul</span><span class="o">,</span>
    <span class="bp">‚Üê</span> <span class="n">coeff_add</span><span class="o">,</span> <span class="bp">‚Üê</span> <span class="n">coeff_add</span><span class="o">,</span> <span class="bp">‚Üê</span> <span class="n">ide</span><span class="o">,</span> <span class="n">coeff_C_mul</span><span class="o">,</span> <span class="n">coeff_X</span><span class="o">,</span> <span class="n">if_pos</span> <span class="n">rfl</span><span class="o">,</span> <span class="n">mul_one</span><span class="o">]</span>

<span class="kd">end</span> <span class="n">polynomial</span>

<span class="kn">namespace</span> <span class="n">mv_polynomial</span>

<span class="kd">lemma</span> <span class="n">question1</span> <span class="o">{</span><span class="n">R</span><span class="o">}</span> <span class="o">[</span><span class="n">nontrivial</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">comm_semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">{</span><span class="n">f</span> <span class="n">g</span> <span class="n">h</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">3</span><span class="o">)</span> <span class="n">R</span><span class="o">}</span> <span class="o">:</span>
  <span class="n">X</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">X</span> <span class="mi">1</span> <span class="bp">*</span> <span class="n">X</span> <span class="mi">0</span> <span class="bp">‚â†</span>
    <span class="n">X</span> <span class="mi">2</span> <span class="bp">^</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">f</span> <span class="bp">+</span> <span class="n">X</span> <span class="mi">1</span> <span class="bp">^</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">g</span> <span class="bp">+</span> <span class="n">X</span> <span class="mi">0</span> <span class="bp">^</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">h</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">apply_fun</span> <span class="o">(</span><span class="n">fin_succ_equiv</span> <span class="n">R</span> <span class="mi">2</span><span class="o">),</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">map_mul</span><span class="o">,</span> <span class="n">map_add</span><span class="o">,</span> <span class="n">map_add</span><span class="o">],</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">map_mul</span><span class="o">,</span> <span class="n">map_mul</span><span class="o">,</span> <span class="n">map_mul</span><span class="o">,</span> <span class="n">map_mul</span><span class="o">,</span> <span class="n">map_pow</span><span class="o">,</span> <span class="n">map_pow</span><span class="o">,</span> <span class="n">map_pow</span><span class="o">],</span>
  <span class="n">convert</span> <span class="bp">@</span><span class="n">polynomial.que_ind</span> <span class="o">(</span><span class="n">mv_polynomial</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">2</span><span class="o">)</span> <span class="n">R</span><span class="o">)</span> <span class="n">_</span> <span class="o">(</span><span class="n">X</span> <span class="mi">1</span> <span class="bp">^</span> <span class="mi">2</span><span class="o">)</span> <span class="o">(</span><span class="n">X</span> <span class="mi">0</span> <span class="bp">^</span> <span class="mi">2</span><span class="o">)</span> <span class="o">(</span><span class="n">X</span> <span class="mi">1</span> <span class="bp">*</span> <span class="n">X</span> <span class="mi">0</span><span class="o">)</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="n">map_mul</span><span class="o">,</span> <span class="bp">‚Üê</span> <span class="n">fin_succ_equiv_X_succ</span><span class="o">,</span> <span class="bp">‚Üê</span> <span class="n">fin_succ_equiv_X_succ</span><span class="o">],</span>
    <span class="n">refl</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">exact</span> <span class="n">fin_succ_equiv_X_zero</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="n">map_pow</span><span class="o">,</span> <span class="bp">‚Üê</span> <span class="n">fin_succ_equiv_X_succ</span><span class="o">],</span>
    <span class="n">refl</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="n">map_pow</span><span class="o">,</span> <span class="bp">‚Üê</span> <span class="n">fin_succ_equiv_X_succ</span><span class="o">],</span>
    <span class="n">refl</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">exact</span> <span class="n">fin_succ_equiv_X_zero</span> <span class="o">},</span>
  <span class="o">{</span>
    <span class="n">intros</span> <span class="n">d</span> <span class="n">e</span><span class="o">,</span>
    <span class="n">apply_fun</span> <span class="o">(</span><span class="n">fin_succ_equiv</span> <span class="n">R</span> <span class="mi">1</span><span class="o">),</span>
    <span class="n">rw</span> <span class="o">[</span><span class="n">map_mul</span><span class="o">,</span> <span class="n">map_add</span><span class="o">],</span>
    <span class="n">rw</span> <span class="o">[</span><span class="n">map_mul</span><span class="o">,</span> <span class="n">map_mul</span><span class="o">,</span> <span class="n">map_pow</span><span class="o">,</span> <span class="n">map_pow</span><span class="o">],</span>
    <span class="n">rw</span> <span class="bp">‚Üê</span> <span class="n">add_zero</span> <span class="o">(</span><span class="n">_</span> <span class="bp">^</span> <span class="n">_</span> <span class="bp">*</span> <span class="n">_</span><span class="o">),</span>
    <span class="n">convert</span> <span class="bp">@</span><span class="n">polynomial.que_ind</span> <span class="o">(</span><span class="n">mv_polynomial</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">1</span><span class="o">)</span> <span class="n">R</span><span class="o">)</span> <span class="n">_</span> <span class="o">(</span><span class="n">X</span> <span class="mi">0</span> <span class="bp">^</span> <span class="mi">2</span><span class="o">)</span> <span class="mi">0</span> <span class="o">(</span><span class="n">X</span> <span class="mi">0</span><span class="o">)</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">rw</span> <span class="bp">‚Üê</span> <span class="n">fin_succ_equiv_X_succ</span><span class="o">,</span>
      <span class="n">refl</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">exact</span> <span class="n">fin_succ_equiv_X_zero</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="n">map_pow</span><span class="o">,</span> <span class="bp">‚Üê</span> <span class="n">fin_succ_equiv_X_succ</span><span class="o">],</span>
      <span class="n">refl</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">map_zero</span><span class="o">,</span> <span class="n">zero_mul</span><span class="o">]</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">exact</span> <span class="n">fin_succ_equiv_X_zero</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">exact</span> <span class="mi">0</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">intros</span> <span class="n">b</span> <span class="n">c</span><span class="o">,</span>
      <span class="n">rw</span> <span class="o">[</span><span class="n">zero_mul</span><span class="o">,</span> <span class="n">add_zero</span><span class="o">],</span>
      <span class="n">apply_fun</span> <span class="o">(</span><span class="n">fin_succ_equiv</span> <span class="n">R</span> <span class="mi">0</span><span class="o">),</span>
      <span class="n">rw</span> <span class="o">[</span><span class="n">map_mul</span><span class="o">,</span> <span class="n">map_pow</span><span class="o">,</span> <span class="n">fin_succ_equiv_X_zero</span><span class="o">],</span>
      <span class="n">apply_fun</span> <span class="o">(</span><span class="bp">Œª</span> <span class="n">f</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="o">(</span><span class="n">mv_polynomial</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">0</span><span class="o">)</span> <span class="n">R</span><span class="o">),</span> <span class="n">f.coeff</span> <span class="mi">1</span><span class="o">),</span>
      <span class="n">dsimp</span> <span class="n">only</span><span class="o">,</span>
      <span class="n">rw</span> <span class="o">[</span><span class="n">polynomial.coeff_X_one</span><span class="o">,</span> <span class="n">polynomial.aux_coeff</span> <span class="n">one_lt_two</span><span class="o">],</span>
      <span class="n">exact</span> <span class="n">ne_of_ne_of_eq</span> <span class="o">((</span><span class="n">C_inj</span> <span class="n">R</span> <span class="mi">1</span> <span class="mi">0</span><span class="o">)</span><span class="bp">.</span><span class="n">not.mpr</span> <span class="n">one_ne_zero</span><span class="o">)</span> <span class="o">(</span><span class="n">map_zero</span> <span class="n">_</span><span class="o">)</span> <span class="o">}</span> <span class="o">}</span>
<span class="kd">end</span>
</code></pre></div>



<a name="292303023"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/292303023" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#292303023">(Aug 07 2022 at 06:38)</a>:</h4>
<p><span class="user-mention" data-user-id="224323">@Junyan Xu</span> / <span class="user-mention" data-user-id="125393">@Junyan Xu</span> : note that the problem remaining was <code>Œ± * Œ≤ * Œ≥ * x = 0 ‚Üí x * x = 0</code>,  <code>Œ± * Œ≤ * Œ≥ ‚â† 0</code> was solved a while ago</p>



<a name="292303122"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/292303122" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#292303122">(Aug 07 2022 at 06:41)</a>:</h4>
<p>But ideal_ge looks like a useful thing to have!</p>



<a name="292327061"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/292327061" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#292327061">(Aug 07 2022 at 16:13)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span> I updated the code above to include a proof of <code>Œ± * Œ≤ * Œ≥ * x = 0 ‚Üí x * x = 0</code>.</p>
<p><code>ideal_ge</code> may be generalized to the following, but it seems not as convenient to use for this problem.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">ideal_ge'</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">œÉ</span> <span class="bp">‚Üí‚ÇÄ</span> <span class="n">‚Ñï</span><span class="o">))</span> <span class="o">:</span> <span class="n">ideal</span> <span class="o">(</span><span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">carrier</span> <span class="o">:=</span> <span class="o">{</span><span class="n">p</span> <span class="bp">|</span> <span class="bp">‚àÄ</span> <span class="o">(</span><span class="n">m</span> <span class="o">:</span> <span class="n">œÉ</span> <span class="bp">‚Üí‚ÇÄ</span> <span class="n">‚Ñï</span><span class="o">),</span> <span class="n">m</span> <span class="bp">‚àà</span> <span class="n">p.support</span> <span class="bp">‚Üí</span> <span class="bp">‚àÉ</span> <span class="n">m'</span> <span class="bp">‚àà</span> <span class="n">s</span><span class="o">,</span> <span class="n">m'</span> <span class="bp">‚â§</span> <span class="n">m</span><span class="o">},</span>
  <span class="n">add_mem'</span> <span class="o">:=</span> <span class="bp">Œª</span> <span class="n">x</span> <span class="n">y</span> <span class="n">hx</span> <span class="n">hy</span> <span class="n">m</span> <span class="n">hm</span><span class="o">,</span> <span class="kd">by</span> <span class="n">classical</span><span class="bp">;</span>
    <span class="n">exact</span> <span class="o">(</span><span class="n">finset.mem_union.1</span> <span class="bp">$</span> <span class="n">support_add</span> <span class="n">hm</span><span class="o">)</span><span class="bp">.</span><span class="n">elim</span> <span class="o">(</span><span class="n">hx</span> <span class="n">m</span><span class="o">)</span> <span class="o">(</span><span class="n">hy</span> <span class="n">m</span><span class="o">),</span>
  <span class="n">zero_mem'</span> <span class="o">:=</span> <span class="bp">Œª</span> <span class="n">m</span><span class="o">,</span> <span class="kd">by</span> <span class="o">{</span> <span class="n">rw</span> <span class="n">support_zero</span><span class="o">,</span> <span class="n">rintro</span> <span class="o">‚ü®‚ü©</span> <span class="o">},</span>
  <span class="n">smul_mem'</span> <span class="o">:=</span> <span class="bp">Œª</span> <span class="n">x</span> <span class="n">y</span> <span class="n">hy</span> <span class="n">m</span> <span class="n">hm</span><span class="o">,</span> <span class="kd">begin</span>
    <span class="n">rw</span> <span class="n">smul_eq_mul</span> <span class="n">at</span> <span class="n">hm</span><span class="o">,</span>
    <span class="k">have</span> <span class="o">:=</span> <span class="n">support_mul</span> <span class="n">_</span> <span class="n">_</span> <span class="n">hm</span><span class="o">,</span>
    <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">finset.mem_bUnion</span><span class="o">]</span> <span class="n">at</span> <span class="n">this</span><span class="o">,</span>
    <span class="n">obtain</span> <span class="o">‚ü®</span><span class="n">m‚ÇÅ</span><span class="o">,</span> <span class="bp">-</span><span class="o">,</span> <span class="n">m‚ÇÇ</span><span class="o">,</span> <span class="n">h‚ÇÇ</span><span class="o">,</span> <span class="n">rfl</span><span class="bp">|</span><span class="o">‚ü®‚ü®‚ü©‚ü©‚ü©</span> <span class="o">:=</span> <span class="n">this</span><span class="o">,</span>
    <span class="n">obtain</span> <span class="o">‚ü®</span><span class="n">m'</span><span class="o">,</span> <span class="n">hm</span><span class="o">,</span> <span class="n">hl</span><span class="o">‚ü©</span> <span class="o">:=</span> <span class="n">hy</span> <span class="n">m‚ÇÇ</span> <span class="n">h‚ÇÇ</span><span class="o">,</span>
    <span class="n">exact</span> <span class="o">‚ü®</span><span class="n">m'</span><span class="o">,</span> <span class="n">hm</span><span class="o">,</span> <span class="n">le_add_left</span> <span class="n">hl</span><span class="o">‚ü©,</span>
  <span class="kd">end</span> <span class="o">}</span>
</code></pre></div>



<a name="292327701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/292327701" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#292327701">(Aug 07 2022 at 16:28)</a>:</h4>
<p>Isn't <code>ideal_ge'</code> a monomial ideal?</p>



<a name="292327716"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/292327716" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#292327716">(Aug 07 2022 at 16:29)</a>:</h4>
<p>(not that it is in mathlib, just a reference to "real world maths")</p>



<a name="292327719"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/292327719" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#292327719">(Aug 07 2022 at 16:29)</a>:</h4>
<p>Yes, that's the name!</p>



<a name="292328442"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/292328442" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#292328442">(Aug 07 2022 at 16:46)</a>:</h4>
<p>To me, it seems clarifying that the condition <code>x * x ‚àà squares</code> is equivalent to <code>constant_coeff x = 0</code>.  This is your first <code>have</code> essentially, right?</p>



<a name="292329186"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/292329186" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#292329186">(Aug 07 2022 at 17:03)</a>:</h4>
<p>Yes, I think it's equivalent to that.</p>



<a name="292331723"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/292331723" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#292331723">(Aug 07 2022 at 18:04)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span> does any of this code help? Sorry scrappy in places</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.mv_polynomial.comm_ring</span>
<span class="kn">import</span> <span class="n">ring_theory.adjoin.basic</span>
<span class="kn">import</span> <span class="n">ring_theory.ideal.operations</span>

<span class="n">open_locale</span> <span class="n">big_operators</span>

<span class="kn">open</span> <span class="n">mv_polynomial</span>

<span class="kd">lemma</span> <span class="n">augmentation_ge_gen_by_monomials</span> <span class="o">{</span><span class="n">œÉ</span> <span class="n">R</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">:</span>
<span class="n">ideal.span</span> <span class="o">{</span><span class="n">t</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span> <span class="bp">|</span> <span class="bp">‚àÉ</span> <span class="n">s</span> <span class="o">:</span> <span class="n">œÉ</span><span class="o">,</span> <span class="n">t</span> <span class="bp">=</span> <span class="n">X</span> <span class="n">s</span><span class="o">}</span> <span class="bp">‚â§</span>
<span class="n">ring_hom.ker</span> <span class="o">((</span><span class="n">mv_polynomial.eval</span> <span class="mi">0</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span> <span class="bp">‚Üí+*</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="n">_</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="n">ideal.span_le</span><span class="o">,</span>
  <span class="n">rintro</span> <span class="n">_</span> <span class="o">‚ü®</span><span class="n">s</span><span class="o">,</span> <span class="n">rfl</span><span class="o">‚ü©,</span>
  <span class="n">refine</span> <span class="o">(</span><span class="n">ring_hom.mem_ker</span> <span class="n">_</span><span class="o">)</span><span class="bp">.</span><span class="mi">2</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">eval_X</span><span class="o">,</span>
  <span class="n">refl</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">eval‚ÇÇ_zero'</span> <span class="o">{</span><span class="n">R</span> <span class="n">S‚ÇÅ</span> <span class="n">œÉ</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">comm_semiring</span> <span class="n">S‚ÇÅ</span><span class="o">]</span>
  <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">R</span> <span class="bp">‚Üí+*</span> <span class="n">S‚ÇÅ</span><span class="o">)</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="n">eval‚ÇÇ</span> <span class="n">f</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">œÉ</span> <span class="bp">‚Üí</span> <span class="n">S‚ÇÅ</span><span class="o">)</span> <span class="n">p</span> <span class="bp">=</span> <span class="n">f</span> <span class="o">(</span><span class="n">constant_coeff</span> <span class="n">p</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">eval‚ÇÇ_hom_zero</span> <span class="n">f</span> <span class="n">p</span>

<span class="kd">lemma</span> <span class="n">eval_zero</span>  <span class="o">{</span><span class="n">R</span> <span class="n">œÉ</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">eval</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">œÉ</span> <span class="bp">‚Üí</span> <span class="n">R</span><span class="o">)</span> <span class="n">p</span> <span class="bp">=</span> <span class="n">constant_coeff</span> <span class="n">p</span> <span class="o">:=</span>
<span class="n">eval‚ÇÇ_hom_zero</span> <span class="n">_</span> <span class="n">p</span>

<span class="kd">lemma</span> <span class="n">augmentation_eq_gen_by_monomials</span> <span class="o">{</span><span class="n">œÉ</span> <span class="n">R</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">:</span>
<span class="n">ideal.span</span> <span class="o">{</span><span class="n">t</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span> <span class="bp">|</span> <span class="bp">‚àÉ</span> <span class="n">s</span> <span class="o">:</span> <span class="n">œÉ</span><span class="o">,</span> <span class="n">t</span> <span class="bp">=</span> <span class="n">X</span> <span class="n">s</span><span class="o">}</span> <span class="bp">=</span>
<span class="n">ring_hom.ker</span> <span class="o">((</span><span class="n">mv_polynomial.eval</span> <span class="mi">0</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span> <span class="bp">‚Üí+*</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="n">_</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">apply</span> <span class="n">le_antisymm</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">apply</span> <span class="n">augmentation_ge_gen_by_monomials</span><span class="o">,</span> <span class="o">},</span> <span class="c1">-- lol it worked</span>
  <span class="n">rintro</span> <span class="n">f</span> <span class="n">hf</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">ring_hom.mem_ker</span> <span class="n">at</span> <span class="n">hf</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">eval_zero</span> <span class="n">at</span> <span class="n">hf</span><span class="o">,</span>
  <span class="n">rw</span> <span class="bp">‚Üê</span> <span class="n">support_sum_monomial_coeff</span> <span class="n">f</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">ideal.sum_mem</span> <span class="o">(</span><span class="n">ideal.span</span> <span class="o">{</span><span class="n">t</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span> <span class="bp">|</span> <span class="bp">‚àÉ</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">œÉ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">=</span> <span class="n">X</span> <span class="n">s</span><span class="o">}),</span>
  <span class="n">rintro</span> <span class="n">c</span> <span class="bp">-</span><span class="o">,</span> <span class="c1">-- who even cares if in support</span>
  <span class="n">rcases</span> <span class="n">eq_or_ne</span> <span class="n">c</span> <span class="mi">0</span> <span class="k">with</span> <span class="o">(</span><span class="n">rfl</span> <span class="bp">|</span> <span class="n">hc</span><span class="o">),</span>
  <span class="o">{</span> <span class="n">simp</span> <span class="o">[</span><span class="n">hf</span><span class="o">],</span>
    <span class="n">convert</span> <span class="n">zero_mem</span> <span class="n">_</span><span class="o">,</span>
    <span class="n">all_goals</span> <span class="o">{</span><span class="n">try</span> <span class="o">{</span><span class="n">apply_instance</span><span class="o">}},</span>
    <span class="n">convert</span> <span class="n">C_0</span><span class="o">,</span> <span class="o">},</span>
  <span class="o">{</span> <span class="k">have</span> <span class="n">this</span> <span class="o">:</span> <span class="bp">‚àÉ</span> <span class="n">s</span> <span class="o">:</span> <span class="n">œÉ</span><span class="o">,</span> <span class="n">c</span> <span class="n">s</span> <span class="bp">‚â†</span> <span class="mi">0</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">by_contra'</span> <span class="n">hs</span><span class="o">,</span>
      <span class="n">apply</span> <span class="n">hc</span><span class="o">,</span>
      <span class="n">ext</span><span class="o">,</span>
      <span class="n">apply</span> <span class="n">hs</span><span class="o">,</span> <span class="o">},</span>
    <span class="n">rcases</span> <span class="n">this</span> <span class="k">with</span> <span class="o">‚ü®</span><span class="n">s</span><span class="o">,</span> <span class="n">hs</span><span class="o">‚ü©,</span>
    <span class="k">suffices</span> <span class="n">foo</span> <span class="o">:</span> <span class="o">(</span><span class="n">monomial</span> <span class="n">c</span><span class="o">)</span> <span class="o">(</span><span class="n">coeff</span> <span class="n">c</span> <span class="n">f</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="bp">‚àà</span> <span class="n">ideal.span</span> <span class="o">{</span><span class="n">X</span> <span class="n">s</span><span class="o">},</span>
    <span class="o">{</span> <span class="n">apply</span> <span class="n">ideal.span_mono</span><span class="o">,</span>
      <span class="n">change</span> <span class="o">{</span><span class="n">X</span> <span class="n">s</span><span class="o">}</span> <span class="bp">‚äÜ</span> <span class="n">_</span><span class="o">,</span>
      <span class="n">rw</span> <span class="n">set.singleton_subset_iff</span><span class="o">,</span>
      <span class="n">exact</span> <span class="o">‚ü®</span><span class="n">s</span><span class="o">,</span> <span class="n">rfl</span><span class="o">‚ü©,</span>
      <span class="n">exact</span> <span class="n">foo</span><span class="o">,</span> <span class="o">},</span>
    <span class="n">rw</span> <span class="n">ideal.mem_span_singleton</span><span class="o">,</span>
    <span class="n">rw</span> <span class="n">dvd_iff_exists_eq_mul_left</span><span class="o">,</span>
    <span class="n">use</span> <span class="n">monomial</span> <span class="o">(</span><span class="n">c</span> <span class="bp">-</span> <span class="n">finsupp.single</span> <span class="n">s</span> <span class="mi">1</span><span class="o">)</span> <span class="o">(</span><span class="n">coeff</span> <span class="n">c</span> <span class="n">f</span><span class="o">),</span>
    <span class="n">delta</span> <span class="n">X</span><span class="o">,</span>
    <span class="n">rw</span> <span class="n">monomial_mul</span><span class="o">,</span>
    <span class="n">congr'</span><span class="o">,</span> <span class="n">swap</span><span class="o">,</span> <span class="n">simp</span><span class="o">,</span>
    <span class="n">ext</span> <span class="n">t</span><span class="o">,</span>
    <span class="n">rcases</span> <span class="n">eq_or_ne</span> <span class="n">s</span> <span class="n">t</span> <span class="k">with</span> <span class="o">(</span><span class="n">rfl</span> <span class="bp">|</span> <span class="n">hst</span><span class="o">),</span>
    <span class="o">{</span> <span class="n">simp</span><span class="o">,</span>
      <span class="n">generalize</span> <span class="n">hs2</span> <span class="o">:</span> <span class="n">c</span> <span class="n">s</span> <span class="bp">=</span> <span class="n">n</span><span class="o">,</span>
      <span class="n">rw</span> <span class="n">hs2</span> <span class="n">at</span> <span class="n">hs</span><span class="o">,</span>
      <span class="n">cases</span> <span class="n">n</span><span class="o">,</span> <span class="n">exact</span> <span class="n">false.elim</span> <span class="o">(</span><span class="n">hs</span> <span class="n">rfl</span><span class="o">),</span>
      <span class="n">simp</span><span class="o">,</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">simp</span> <span class="o">[</span><span class="n">hst</span><span class="o">],</span> <span class="o">}</span> <span class="o">},</span>
<span class="kd">end</span>

<span class="c1">--(ring_hom.ker (mv_polynomial.eval 0 : _) : ideal (mv_polynomial œÉ R)) := sorry</span>
<span class="kd">example</span> <span class="o">{</span><span class="n">œÉ</span> <span class="n">R</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">x.coeff</span> <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span> <span class="bp">‚Üî</span> <span class="bp">‚àÉ</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">œÉ</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">œÉ</span> <span class="bp">‚Üí</span> <span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span><span class="o">),</span> <span class="n">x</span> <span class="bp">=</span> <span class="bp">‚àë</span> <span class="n">i</span> <span class="k">in</span> <span class="n">s</span><span class="o">,</span> <span class="n">f</span> <span class="n">i</span> <span class="bp">*</span> <span class="n">X</span> <span class="n">i</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>



<a name="292335429"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/292335429" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#292335429">(Aug 07 2022 at 19:27)</a>:</h4>
<p>Thanks all for the solutions. I think at this point the game is really to fill out the API in mathlib rather than solve my specific problem</p>



<a name="292336287"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/292336287" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#292336287">(Aug 07 2022 at 19:47)</a>:</h4>
<p>I'm tidying my code. I'll send you the current version in a sec.</p>



<a name="292339091"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/292339091" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#292339091">(Aug 07 2022 at 20:53)</a>:</h4>
<p>Note that I made <a href="https://github.com/leanprover-community/mathlib/pull/15905">#15905</a> earlier today to attempt to help with this general area</p>



<a name="292345838"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/292345838" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#292345838">(Aug 07 2022 at 22:50)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.mv_polynomial.comm_ring</span>
<span class="kn">import</span> <span class="n">ring_theory.adjoin.basic</span>
<span class="kn">import</span> <span class="n">ring_theory.ideal.operations</span>
<span class="kn">import</span> <span class="n">data.mv_polynomial.variables</span>

<span class="n">open_locale</span> <span class="n">big_operators</span>

<span class="kn">open</span> <span class="n">mv_polynomial</span>

<span class="kd">lemma</span> <span class="n">augmentation_ge_gen_by_monomials</span> <span class="o">{</span><span class="n">œÉ</span> <span class="n">R</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">:</span>
<span class="n">ideal.span</span> <span class="o">{</span><span class="n">t</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span> <span class="bp">|</span> <span class="bp">‚àÉ</span> <span class="n">s</span> <span class="o">:</span> <span class="n">œÉ</span><span class="o">,</span> <span class="n">t</span> <span class="bp">=</span> <span class="n">X</span> <span class="n">s</span><span class="o">}</span> <span class="bp">‚â§</span>
<span class="n">ring_hom.ker</span> <span class="o">((</span><span class="n">mv_polynomial.eval</span> <span class="mi">0</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span> <span class="bp">‚Üí+*</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="n">_</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="n">ideal.span_le</span><span class="o">,</span>
  <span class="n">rintro</span> <span class="n">_</span> <span class="o">‚ü®</span><span class="n">s</span><span class="o">,</span> <span class="n">rfl</span><span class="o">‚ü©,</span>
  <span class="n">refine</span> <span class="o">(</span><span class="n">ring_hom.mem_ker</span> <span class="n">_</span><span class="o">)</span><span class="bp">.</span><span class="mi">2</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">eval_X</span><span class="o">,</span>
  <span class="n">refl</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">eval‚ÇÇ_zero'</span> <span class="o">{</span><span class="n">R</span> <span class="n">S‚ÇÅ</span> <span class="n">œÉ</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">comm_semiring</span> <span class="n">S‚ÇÅ</span><span class="o">]</span>
  <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">R</span> <span class="bp">‚Üí+*</span> <span class="n">S‚ÇÅ</span><span class="o">)</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="n">eval‚ÇÇ</span> <span class="n">f</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">œÉ</span> <span class="bp">‚Üí</span> <span class="n">S‚ÇÅ</span><span class="o">)</span> <span class="n">p</span> <span class="bp">=</span> <span class="n">f</span> <span class="o">(</span><span class="n">constant_coeff</span> <span class="n">p</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">eval‚ÇÇ_hom_zero</span> <span class="n">f</span> <span class="n">p</span>

<span class="kd">lemma</span> <span class="n">eval_zero</span>  <span class="o">{</span><span class="n">R</span> <span class="n">œÉ</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">eval</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">œÉ</span> <span class="bp">‚Üí</span> <span class="n">R</span><span class="o">)</span> <span class="n">p</span> <span class="bp">=</span> <span class="n">constant_coeff</span> <span class="n">p</span> <span class="o">:=</span>
<span class="n">eval‚ÇÇ_hom_zero</span> <span class="n">_</span> <span class="n">p</span>

<span class="kd">lemma</span> <span class="n">mv_polynomial.monomial_mul_X</span> <span class="o">{</span><span class="n">œÉ</span> <span class="n">R</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">œÉ</span> <span class="bp">‚Üí‚ÇÄ</span> <span class="n">‚Ñï</span><span class="o">)</span> <span class="o">(</span><span class="n">r</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">œÉ</span><span class="o">)</span> <span class="o">:</span>
<span class="o">(</span><span class="n">monomial</span> <span class="n">c</span><span class="o">)</span> <span class="n">r</span> <span class="bp">*</span> <span class="n">X</span> <span class="n">s</span> <span class="bp">=</span> <span class="n">monomial</span> <span class="o">(</span><span class="n">c</span> <span class="bp">+</span> <span class="n">finsupp.single</span> <span class="n">s</span> <span class="mi">1</span><span class="o">)</span> <span class="n">r</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">X</span><span class="o">]</span>

<span class="kd">lemma</span> <span class="n">augmentation_eq_gen_by_monomials</span> <span class="o">{</span><span class="n">œÉ</span> <span class="n">R</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">:</span>
<span class="n">ideal.span</span> <span class="o">{</span><span class="n">t</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span> <span class="bp">|</span> <span class="bp">‚àÉ</span> <span class="n">s</span> <span class="o">:</span> <span class="n">œÉ</span><span class="o">,</span> <span class="n">t</span> <span class="bp">=</span> <span class="n">X</span> <span class="n">s</span><span class="o">}</span> <span class="bp">=</span>
<span class="n">ring_hom.ker</span> <span class="o">(</span><span class="n">mv_polynomial.eval</span> <span class="mi">0</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span> <span class="bp">‚Üí+*</span> <span class="n">R</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">refine</span> <span class="n">le_antisymm</span> <span class="n">augmentation_ge_gen_by_monomials</span> <span class="o">(</span><span class="bp">Œª</span> <span class="n">f</span> <span class="n">hf</span><span class="o">,</span> <span class="n">_</span><span class="o">),</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">ring_hom.mem_ker</span><span class="o">,</span> <span class="n">eval_zero</span><span class="o">]</span> <span class="n">at</span> <span class="n">hf</span><span class="o">,</span>
  <span class="n">rw</span> <span class="bp">‚Üê</span> <span class="n">support_sum_monomial_coeff</span> <span class="n">f</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">ideal.sum_mem</span> <span class="o">(</span><span class="n">ideal.span</span> <span class="o">{</span><span class="n">t</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span> <span class="bp">|</span> <span class="bp">‚àÉ</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">œÉ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">=</span> <span class="n">X</span> <span class="n">s</span><span class="o">}),</span>
  <span class="n">rintro</span> <span class="n">c</span> <span class="bp">-</span><span class="o">,</span> <span class="c1">-- who even cares if in support</span>
  <span class="n">rcases</span> <span class="n">eq_or_ne</span> <span class="n">c</span> <span class="mi">0</span> <span class="k">with</span> <span class="o">(</span><span class="n">rfl</span> <span class="bp">|</span> <span class="n">hc</span><span class="o">),</span>
  <span class="o">{</span> <span class="k">suffices</span> <span class="o">:</span> <span class="o">(</span><span class="n">monomial</span> <span class="mi">0</span> <span class="o">(</span><span class="n">coeff</span> <span class="mi">0</span> <span class="n">f</span><span class="o">)</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">this</span><span class="o">,</span> <span class="n">submodule.zero_mem</span><span class="o">],</span> <span class="o">},</span>
    <span class="n">convert</span> <span class="n">C_0</span><span class="o">,</span> <span class="o">},</span> <span class="c1">-- meh</span>
  <span class="o">{</span> <span class="n">change</span> <span class="bp">¬¨</span> <span class="n">_</span> <span class="n">at</span> <span class="n">hc</span><span class="o">,</span>
    <span class="n">rw</span> <span class="n">finsupp.ext_iff</span> <span class="n">at</span> <span class="n">hc</span><span class="o">,</span>
    <span class="n">push_neg</span> <span class="n">at</span> <span class="n">hc</span><span class="o">,</span>
    <span class="n">rcases</span> <span class="n">hc</span> <span class="k">with</span> <span class="o">‚ü®</span><span class="n">s</span><span class="o">,</span> <span class="n">hs</span><span class="o">‚ü©,</span>
    <span class="n">refine</span> <span class="n">ideal.span_mono</span> <span class="o">(</span><span class="n">set.singleton_subset_iff.2</span> <span class="o">‚ü®</span><span class="n">s</span><span class="o">,</span> <span class="n">rfl</span><span class="o">‚ü©)</span> <span class="n">_</span><span class="o">,</span>
    <span class="n">rw</span> <span class="o">[</span><span class="n">ideal.mem_span_singleton</span><span class="o">,</span> <span class="n">dvd_iff_exists_eq_mul_left</span><span class="o">],</span>
    <span class="n">use</span> <span class="n">monomial</span> <span class="o">(</span><span class="n">c</span> <span class="bp">-</span> <span class="n">finsupp.single</span> <span class="n">s</span> <span class="mi">1</span><span class="o">)</span> <span class="o">(</span><span class="n">coeff</span> <span class="n">c</span> <span class="n">f</span><span class="o">),</span>
    <span class="n">rw</span> <span class="n">mv_polynomial.monomial_mul_X</span><span class="o">,</span>
    <span class="n">congr'</span><span class="o">,</span>
    <span class="n">ext</span> <span class="n">t</span><span class="o">,</span>
    <span class="n">rcases</span> <span class="n">eq_or_ne</span> <span class="n">s</span> <span class="n">t</span> <span class="k">with</span> <span class="o">(</span><span class="n">rfl</span> <span class="bp">|</span> <span class="n">hst</span><span class="o">),</span>
    <span class="o">{</span> <span class="n">simp</span> <span class="o">[</span><span class="n">finsupp.sub_single_one_add</span> <span class="n">hs</span><span class="o">],</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">simp</span> <span class="o">[</span><span class="n">hst</span><span class="o">],</span> <span class="o">},</span>
  <span class="o">},</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">submodule.mem_span_iff</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">A</span><span class="o">]</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">add_comm_monoid</span> <span class="n">M</span><span class="o">]</span>
  <span class="o">[</span><span class="n">module</span> <span class="n">A</span> <span class="n">M</span><span class="o">]</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">M</span><span class="o">)</span> <span class="o">(</span><span class="n">m</span> <span class="o">:</span> <span class="n">M</span><span class="o">)</span> <span class="o">:</span> <span class="n">m</span> <span class="bp">‚àà</span> <span class="n">submodule.span</span> <span class="n">A</span> <span class="n">S</span> <span class="bp">‚Üî</span>
  <span class="bp">‚àÉ</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">M</span><span class="o">)</span> <span class="o">(</span><span class="n">hf</span> <span class="o">:</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">set</span> <span class="n">M</span><span class="o">)</span> <span class="bp">‚äÜ</span> <span class="n">S</span><span class="o">)</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">M</span> <span class="bp">‚Üí</span> <span class="n">A</span><span class="o">),</span> <span class="n">m</span> <span class="bp">=</span> <span class="bp">‚àë</span> <span class="n">i</span> <span class="k">in</span> <span class="n">F</span><span class="o">,</span> <span class="n">c</span> <span class="n">i</span> <span class="bp">‚Ä¢</span> <span class="n">i</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
    <span class="n">apply</span> <span class="n">submodule.span_induction</span> <span class="n">h</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">intros</span> <span class="n">x</span> <span class="n">hx</span><span class="o">,</span>
      <span class="n">refine</span> <span class="o">‚ü®{</span><span class="n">x</span><span class="o">},</span> <span class="kd">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">hx</span><span class="o">],</span> <span class="n">_</span><span class="o">‚ü©,</span>
      <span class="n">classical</span><span class="o">,</span>
      <span class="n">use</span> <span class="bp">Œª</span> <span class="n">m</span><span class="o">,</span> <span class="k">if</span> <span class="n">m</span> <span class="bp">=</span> <span class="n">x</span> <span class="k">then</span> <span class="mi">1</span> <span class="k">else</span> <span class="mi">0</span><span class="o">,</span>
      <span class="n">simp</span><span class="o">,</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">use</span> <span class="mi">0</span><span class="o">,</span> <span class="n">simp</span><span class="o">,</span> <span class="n">split</span><span class="o">,</span> <span class="n">simp</span><span class="o">,</span>
      <span class="n">use</span> <span class="mi">0</span><span class="o">,</span> <span class="n">simp</span><span class="o">,</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">rintros</span> <span class="n">x</span> <span class="n">y</span> <span class="o">‚ü®</span><span class="n">Fx</span><span class="o">,</span> <span class="n">FxS</span><span class="o">,</span> <span class="n">cx</span><span class="o">,</span> <span class="n">rfl</span><span class="o">‚ü©</span> <span class="o">‚ü®</span><span class="n">Fy</span><span class="o">,</span> <span class="n">FyS</span><span class="o">,</span> <span class="n">cy</span><span class="o">,</span> <span class="n">rfl</span><span class="o">‚ü©,</span>
      <span class="n">classical</span><span class="o">,</span>
      <span class="n">use</span> <span class="n">Fx</span> <span class="bp">‚à™</span> <span class="n">Fy</span><span class="o">,</span>
      <span class="n">split</span><span class="o">,</span>
      <span class="o">{</span> <span class="n">simp</span> <span class="o">[</span><span class="n">set.union_subset</span> <span class="n">FxS</span> <span class="n">FyS</span><span class="o">],</span> <span class="o">},</span>
      <span class="o">{</span> <span class="n">use</span> <span class="bp">Œª</span> <span class="n">m</span><span class="o">,</span> <span class="k">if</span> <span class="n">m</span> <span class="bp">‚àà</span> <span class="n">Fx</span> <span class="bp">‚àß</span> <span class="n">m</span> <span class="bp">‚àà</span> <span class="n">Fy</span> <span class="k">then</span> <span class="n">cx</span> <span class="n">m</span> <span class="bp">+</span> <span class="n">cy</span> <span class="n">m</span> <span class="k">else</span> <span class="k">if</span> <span class="n">m</span> <span class="bp">‚àà</span> <span class="n">Fx</span> <span class="k">then</span> <span class="n">cx</span> <span class="n">m</span> <span class="k">else</span>
        <span class="k">if</span> <span class="n">m</span> <span class="bp">‚àà</span> <span class="n">Fy</span> <span class="k">then</span> <span class="n">cy</span> <span class="n">m</span> <span class="k">else</span> <span class="mi">0</span><span class="o">,</span>
        <span class="gr">sorry</span><span class="o">,</span> <span class="c1">-- this is horrible</span>
      <span class="o">}</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">rintros</span> <span class="n">a</span> <span class="n">m</span> <span class="o">‚ü®</span><span class="n">F</span><span class="o">,</span> <span class="n">hF</span><span class="o">,</span> <span class="n">c</span><span class="o">,</span> <span class="n">rfl</span><span class="o">‚ü©,</span>
      <span class="n">refine</span> <span class="o">‚ü®</span><span class="n">F</span><span class="o">,</span> <span class="n">hF</span><span class="o">,</span> <span class="bp">Œª</span> <span class="n">m</span><span class="o">,</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">c</span> <span class="n">m</span><span class="o">,</span> <span class="n">_</span><span class="o">‚ü©,</span>
      <span class="n">simp_rw</span> <span class="o">[</span><span class="n">finset.smul_sum</span><span class="o">,</span> <span class="n">mul_smul</span><span class="o">],</span> <span class="o">},</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">rintro</span> <span class="o">‚ü®</span><span class="n">F</span><span class="o">,</span> <span class="n">hFS</span><span class="o">,</span> <span class="n">c</span><span class="o">,</span> <span class="n">rfl</span><span class="o">‚ü©,</span>
    <span class="n">apply</span> <span class="n">submodule.sum_mem</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span>
    <span class="n">intros</span> <span class="n">m</span> <span class="n">hm</span><span class="o">,</span>
    <span class="n">refine</span> <span class="n">submodule.span_mono</span> <span class="o">(</span><span class="n">set.singleton_subset_iff.2</span> <span class="o">(</span><span class="n">hFS</span> <span class="n">hm</span><span class="o">))</span> <span class="n">_</span><span class="o">,</span>
    <span class="n">rw</span> <span class="n">submodule.mem_span_singleton</span><span class="o">,</span>
    <span class="n">exact</span> <span class="o">‚ü®</span><span class="n">c</span> <span class="n">m</span><span class="o">,</span> <span class="n">rfl</span><span class="o">‚ü©,</span> <span class="o">},</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">ideal.mem_span_iff</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">A</span><span class="o">]</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">A</span><span class="o">)</span> <span class="o">(</span><span class="n">m</span> <span class="o">:</span> <span class="n">A</span><span class="o">)</span> <span class="o">:</span> <span class="n">m</span> <span class="bp">‚àà</span> <span class="n">ideal.span</span> <span class="n">S</span> <span class="bp">‚Üî</span>
  <span class="bp">‚àÉ</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">A</span><span class="o">)</span> <span class="o">(</span><span class="n">hf</span> <span class="o">:</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">set</span> <span class="n">A</span><span class="o">)</span> <span class="bp">‚äÜ</span> <span class="n">S</span><span class="o">)</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">‚Üí</span> <span class="n">A</span><span class="o">),</span> <span class="n">m</span> <span class="bp">=</span> <span class="bp">‚àë</span> <span class="n">i</span> <span class="k">in</span> <span class="n">F</span><span class="o">,</span> <span class="n">c</span> <span class="n">i</span> <span class="bp">*</span> <span class="n">i</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">convert</span> <span class="n">submodule.mem_span_iff</span> <span class="n">A</span> <span class="n">A</span> <span class="n">S</span> <span class="n">m</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">mv_polynomial.injective_X</span> <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_semiring</span> <span class="n">A</span><span class="o">]</span> <span class="o">[</span><span class="n">nontrivial</span> <span class="n">A</span><span class="o">]</span> <span class="o">{</span><span class="n">S</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">:</span> <span class="n">function.injective</span>
  <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">S</span> <span class="bp">‚Üí</span> <span class="n">mv_polynomial</span> <span class="n">S</span> <span class="n">A</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intros</span> <span class="n">s</span> <span class="n">t</span> <span class="n">hst</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">hd</span> <span class="o">:</span> <span class="n">degree_of</span> <span class="n">s</span> <span class="o">(</span><span class="n">X</span> <span class="n">s</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="n">S</span> <span class="n">A</span><span class="o">)</span> <span class="bp">=</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">degree_of_X</span> <span class="n">s</span> <span class="n">s</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">hst</span><span class="o">,</span> <span class="n">degree_of_X</span><span class="o">]</span> <span class="n">at</span> <span class="n">hd</span><span class="o">,</span>
  <span class="n">classical</span><span class="o">,</span>
  <span class="n">by_contra</span> <span class="n">ht</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">if_neg</span> <span class="n">ht</span><span class="o">,</span> <span class="n">if_pos</span> <span class="n">rfl</span><span class="o">]</span> <span class="n">at</span> <span class="n">hd</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">zero_ne_one</span> <span class="n">hd</span><span class="o">,</span>
<span class="kd">end</span>

<span class="c1">-- I didn't mean for this to be so horrible -- finset juggling</span>
<span class="kd">example</span> <span class="o">{</span><span class="n">œÉ</span> <span class="n">R</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">x.coeff</span> <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span> <span class="bp">‚Üî</span> <span class="bp">‚àÉ</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">œÉ</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">œÉ</span> <span class="bp">‚Üí</span> <span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span><span class="o">),</span> <span class="n">x</span> <span class="bp">=</span> <span class="bp">‚àë</span> <span class="n">i</span> <span class="k">in</span> <span class="n">s</span><span class="o">,</span> <span class="n">f</span> <span class="n">i</span> <span class="bp">*</span> <span class="n">X</span> <span class="n">i</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">change</span> <span class="n">constant_coeff</span> <span class="n">x</span> <span class="bp">=</span> <span class="mi">0</span> <span class="bp">‚Üî</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="bp">‚Üê</span> <span class="n">eval_zero</span><span class="o">,</span> <span class="bp">‚Üê</span> <span class="n">ring_hom.mem_ker</span><span class="o">,</span> <span class="bp">‚Üê</span> <span class="n">augmentation_eq_gen_by_monomials</span><span class="o">,</span> <span class="n">ideal.mem_span_iff</span><span class="o">],</span>
  <span class="n">rcases</span> <span class="n">subsingleton_or_nontrivial</span> <span class="n">R</span><span class="bp">;</span> <span class="n">resetI</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">split</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">intro</span> <span class="n">h</span><span class="o">,</span> <span class="n">use</span> <span class="o">[</span><span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">],</span> <span class="n">ext</span><span class="o">,</span> <span class="n">simp</span> <span class="o">[</span><span class="n">h</span><span class="o">],</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">intro</span> <span class="n">_</span><span class="o">,</span> <span class="n">use</span> <span class="mi">0</span><span class="o">,</span> <span class="n">simp</span><span class="o">,</span> <span class="n">split</span><span class="o">,</span> <span class="n">simp</span><span class="o">,</span> <span class="n">use</span> <span class="mi">0</span><span class="o">,</span> <span class="n">ext</span><span class="o">,</span> <span class="n">simp</span><span class="o">,</span> <span class="o">},</span>
  <span class="o">},</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">rintro</span> <span class="o">‚ü®</span><span class="n">F</span><span class="o">,</span> <span class="n">hF</span><span class="o">,</span> <span class="n">c</span><span class="o">,</span> <span class="n">rfl</span><span class="o">‚ü©,</span>
    <span class="n">refine</span> <span class="o">‚ü®</span><span class="n">finset.preimage</span> <span class="n">F</span> <span class="n">X</span> <span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">‚ü©,</span>
    <span class="n">refine</span> <span class="n">set.inj_on_of_injective</span> <span class="n">mv_polynomial.injective_X</span> <span class="n">_</span><span class="o">,</span>
    <span class="n">use</span> <span class="bp">Œª</span> <span class="n">s</span><span class="o">,</span> <span class="n">c</span> <span class="o">(</span><span class="n">X</span> <span class="n">s</span><span class="o">),</span>
    <span class="k">have</span> <span class="n">ha</span> <span class="o">:</span> <span class="bp">‚àÄ</span> <span class="n">a</span><span class="o">,</span> <span class="n">a</span> <span class="bp">‚àà</span> <span class="n">F</span> <span class="bp">‚Üí</span> <span class="bp">‚àÉ</span> <span class="n">s</span><span class="o">,</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">X</span> <span class="n">s</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">intros</span> <span class="n">a</span> <span class="n">ha</span><span class="o">,</span> <span class="n">exact</span> <span class="n">hF</span> <span class="n">ha</span><span class="o">,</span> <span class="o">},</span>
    <span class="n">apply</span> <span class="n">finset.sum_bij</span> <span class="o">(</span><span class="bp">Œª</span> <span class="n">b</span> <span class="n">hb</span><span class="o">,</span> <span class="o">(</span><span class="n">ha</span> <span class="n">b</span> <span class="n">hb</span><span class="o">)</span><span class="bp">.</span><span class="n">some</span><span class="o">),</span>
    <span class="o">{</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">finset.mem_preimage</span><span class="o">],</span> <span class="n">intros</span> <span class="n">a</span> <span class="n">h</span><span class="o">,</span>
      <span class="n">rwa</span> <span class="bp">‚Üê</span> <span class="o">(</span><span class="n">ha</span> <span class="n">a</span> <span class="n">h</span><span class="o">)</span><span class="bp">.</span><span class="n">some_spec</span><span class="o">,</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">intros</span> <span class="n">f</span> <span class="n">hf</span><span class="o">,</span>
      <span class="k">have</span> <span class="n">foo</span> <span class="o">:=</span> <span class="o">(</span><span class="n">ha</span> <span class="n">f</span> <span class="n">hf</span><span class="o">)</span><span class="bp">.</span><span class="n">some_spec</span><span class="o">,</span>
      <span class="n">congr'</span><span class="o">,</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">intros</span> <span class="n">f</span> <span class="n">g</span> <span class="n">hf</span> <span class="n">hg</span><span class="o">,</span>
      <span class="n">simp</span><span class="o">,</span>
      <span class="k">have</span> <span class="n">hf1</span> <span class="o">:=</span> <span class="o">(</span><span class="n">ha</span> <span class="n">f</span> <span class="n">hf</span><span class="o">)</span><span class="bp">.</span><span class="n">some_spec</span><span class="o">,</span>
      <span class="k">have</span> <span class="n">hg1</span> <span class="o">:=</span> <span class="o">(</span><span class="n">ha</span> <span class="n">g</span> <span class="n">hg</span><span class="o">)</span><span class="bp">.</span><span class="n">some_spec</span><span class="o">,</span>
      <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
      <span class="n">rw</span> <span class="n">h</span> <span class="n">at</span> <span class="n">hf1</span><span class="o">,</span>
      <span class="n">rwa</span> <span class="bp">‚Üê</span> <span class="n">hg1</span> <span class="n">at</span> <span class="n">hf1</span><span class="o">,</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">intros</span> <span class="n">b</span> <span class="n">hb</span><span class="o">,</span>
      <span class="n">rw</span> <span class="n">finset.mem_preimage</span> <span class="n">at</span> <span class="n">hb</span><span class="o">,</span>
      <span class="n">use</span> <span class="o">[</span><span class="n">X</span> <span class="n">b</span><span class="o">,</span> <span class="n">hb</span><span class="o">],</span>
      <span class="n">simp</span><span class="o">,</span>
      <span class="k">have</span> <span class="n">hb1</span> <span class="o">:=</span> <span class="o">(</span><span class="n">ha</span> <span class="n">_</span> <span class="n">hb</span><span class="o">)</span><span class="bp">.</span><span class="n">some_spec</span><span class="o">,</span>
      <span class="n">unfreezingI</span> <span class="o">{</span><span class="n">apply</span> <span class="n">mv_polynomial.injective_X</span> <span class="n">hb1</span><span class="o">,</span> <span class="o">},</span> <span class="o">},</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">rintro</span> <span class="o">‚ü®</span><span class="n">s</span><span class="o">,</span> <span class="n">f</span><span class="o">,</span> <span class="n">rfl</span><span class="o">‚ü©,</span>
    <span class="n">classical</span><span class="o">,</span>
    <span class="n">refine</span> <span class="o">‚ü®</span><span class="n">finset.image</span> <span class="n">X</span> <span class="n">s</span><span class="o">,</span> <span class="bp">Œª</span> <span class="n">f</span> <span class="n">hf</span><span class="o">,</span> <span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">‚ü©,</span>
    <span class="o">{</span> <span class="n">change</span> <span class="n">f</span> <span class="bp">‚àà</span> <span class="n">finset.image</span> <span class="n">X</span> <span class="n">s</span> <span class="n">at</span> <span class="n">hf</span><span class="o">,</span>
      <span class="n">rw</span> <span class="n">finset.mem_image</span> <span class="n">at</span> <span class="n">hf</span><span class="o">,</span>
      <span class="n">rcases</span> <span class="n">hf</span> <span class="k">with</span> <span class="o">‚ü®</span><span class="n">a</span><span class="o">,</span> <span class="n">ha</span><span class="o">,</span> <span class="n">rfl</span><span class="o">‚ü©,</span>
      <span class="n">exact</span> <span class="o">‚ü®</span><span class="n">a</span><span class="o">,</span> <span class="n">rfl</span><span class="o">‚ü©,</span> <span class="o">},</span>
    <span class="o">{</span> <span class="k">let</span> <span class="n">c</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span> <span class="bp">‚Üí</span> <span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span> <span class="o">:=</span>
        <span class="o">(</span><span class="bp">Œª</span> <span class="n">g</span><span class="o">,</span> <span class="k">if</span> <span class="n">h</span> <span class="o">:</span> <span class="bp">‚àÉ</span> <span class="n">a</span><span class="o">,</span> <span class="n">g</span> <span class="bp">=</span> <span class="n">X</span> <span class="n">a</span> <span class="k">then</span> <span class="n">f</span> <span class="n">h.some</span> <span class="k">else</span> <span class="mi">0</span><span class="o">),</span>
      <span class="k">have</span> <span class="n">hc</span> <span class="o">:</span> <span class="bp">‚àÄ</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">œÉ</span><span class="o">)</span> <span class="o">(</span><span class="n">ha</span> <span class="o">:</span> <span class="n">g</span> <span class="bp">=</span> <span class="n">X</span> <span class="n">a</span><span class="o">),</span> <span class="n">c</span> <span class="n">g</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">a</span><span class="o">,</span>
      <span class="o">{</span> <span class="n">rintros</span> <span class="n">h</span> <span class="n">a</span> <span class="n">ha</span><span class="o">,</span>
        <span class="n">simp</span> <span class="o">[</span><span class="n">c</span><span class="o">],</span>
        <span class="n">rw</span> <span class="n">dif_pos</span> <span class="o">(‚ü®</span><span class="n">a</span><span class="o">,</span> <span class="n">ha</span><span class="o">‚ü©</span> <span class="o">:</span> <span class="bp">‚àÉ</span> <span class="n">a</span><span class="o">,</span> <span class="n">h</span> <span class="bp">=</span> <span class="n">X</span> <span class="n">a</span><span class="o">),</span>
        <span class="k">have</span> <span class="o">:=</span> <span class="o">(‚ü®</span><span class="n">a</span><span class="o">,</span> <span class="n">ha</span><span class="o">‚ü©</span> <span class="o">:</span> <span class="bp">‚àÉ</span> <span class="n">a</span><span class="o">,</span> <span class="n">h</span> <span class="bp">=</span> <span class="n">X</span> <span class="n">a</span><span class="o">)</span><span class="bp">.</span><span class="n">some_spec</span><span class="o">,</span>
        <span class="n">rw</span> <span class="n">this</span> <span class="n">at</span> <span class="n">ha</span><span class="o">,</span>
        <span class="n">unfreezingI</span> <span class="o">{</span><span class="n">replace</span> <span class="n">ha</span> <span class="o">:=</span> <span class="n">mv_polynomial.injective_X</span> <span class="n">ha</span><span class="o">},</span>
        <span class="n">rw</span> <span class="n">ha</span><span class="o">,</span> <span class="o">},</span>
      <span class="n">use</span> <span class="n">c</span><span class="o">,</span>
      <span class="n">apply</span> <span class="n">finset.sum_bij</span> <span class="o">(</span><span class="bp">Œª</span> <span class="n">a</span> <span class="n">_</span><span class="o">,</span> <span class="n">X</span> <span class="n">a</span><span class="o">),</span>
      <span class="o">{</span> <span class="n">intros</span> <span class="n">a</span> <span class="n">ha</span><span class="o">,</span>
        <span class="n">rw</span> <span class="n">finset.mem_image</span><span class="o">,</span>
        <span class="n">exact</span> <span class="o">‚ü®</span><span class="n">a</span><span class="o">,</span> <span class="n">ha</span><span class="o">,</span> <span class="n">rfl</span><span class="o">‚ü©,</span> <span class="o">},</span>
      <span class="o">{</span> <span class="n">intros</span> <span class="n">a</span> <span class="n">ha</span><span class="o">,</span>
        <span class="n">simp</span> <span class="o">[</span><span class="n">hc</span> <span class="o">(</span><span class="n">X</span> <span class="n">a</span><span class="o">)</span> <span class="n">_</span> <span class="n">rfl</span><span class="o">],</span> <span class="o">},</span>
      <span class="o">{</span> <span class="n">intros</span> <span class="n">a</span> <span class="n">b</span> <span class="n">ha</span> <span class="n">hb</span> <span class="n">h</span><span class="o">,</span>
        <span class="n">simp</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
        <span class="n">exact</span> <span class="n">mv_polynomial.injective_X</span> <span class="n">h</span><span class="o">,</span> <span class="o">},</span>
      <span class="n">intros</span> <span class="n">a</span> <span class="n">ha</span><span class="o">,</span>
      <span class="n">rw</span> <span class="n">finset.mem_image</span> <span class="n">at</span> <span class="n">ha</span><span class="o">,</span>
      <span class="n">rcases</span> <span class="n">ha</span> <span class="k">with</span> <span class="o">‚ü®</span><span class="n">t</span><span class="o">,</span> <span class="n">ht</span><span class="o">,</span> <span class="n">rfl</span><span class="o">‚ü©,</span>
      <span class="n">use</span> <span class="o">[</span><span class="n">t</span><span class="o">,</span> <span class="n">ht</span><span class="o">],</span> <span class="o">},</span> <span class="o">},</span>
<span class="kd">end</span>
</code></pre></div>
<p>It's basically all there apart from the fact that I might have chosen the wrong formalisation of <code>submodule.mem_span_iff</code> -- I tried to prove it by induction and the sum case was horrible.</p>



<a name="292386391"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/292386391" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#292386391">(Aug 08 2022 at 10:53)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/15928">#15928</a> contains a golfed version of <code>mv_polynomial.injective_X</code>, I'm surprised we didn't have that.</p>



<a name="292388417"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/292388417" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#292388417">(Aug 08 2022 at 11:17)</a>:</h4>
<p>Here's a golfed version of your <code>mem_span_iff</code>, but personally I feel like the statement is awkward, and the entire proof is just dealing with the awkwardness:</p>
<div class="spoiler-block"><div class="spoiler-header">
</div><div class="spoiler-content" aria-hidden="true">
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">linear_algebra.finsupp</span>

<span class="n">open_locale</span> <span class="n">big_operators</span>

<span class="kd">lemma</span> <span class="n">submodule.mem_span_iff</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">A</span><span class="o">]</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">add_comm_monoid</span> <span class="n">M</span><span class="o">]</span>
  <span class="o">[</span><span class="n">module</span> <span class="n">A</span> <span class="n">M</span><span class="o">]</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">M</span><span class="o">)</span> <span class="o">(</span><span class="n">m</span> <span class="o">:</span> <span class="n">M</span><span class="o">)</span> <span class="o">:</span> <span class="n">m</span> <span class="bp">‚àà</span> <span class="n">submodule.span</span> <span class="n">A</span> <span class="n">S</span> <span class="bp">‚Üî</span>
  <span class="bp">‚àÉ</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">M</span><span class="o">)</span> <span class="o">(</span><span class="n">hf</span> <span class="o">:</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">set</span> <span class="n">M</span><span class="o">)</span> <span class="bp">‚äÜ</span> <span class="n">S</span><span class="o">)</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">M</span> <span class="bp">‚Üí</span> <span class="n">A</span><span class="o">),</span> <span class="n">m</span> <span class="bp">=</span> <span class="bp">‚àë</span> <span class="n">i</span> <span class="k">in</span> <span class="n">F</span><span class="o">,</span> <span class="n">c</span> <span class="n">i</span> <span class="bp">‚Ä¢</span> <span class="n">i</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="n">finsupp.mem_span_iff_total</span><span class="o">,</span>
  <span class="n">simp_rw</span> <span class="n">finsupp.total_apply</span><span class="o">,</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">rintros</span> <span class="o">‚ü®</span><span class="n">f</span><span class="o">,</span> <span class="n">rfl</span><span class="o">‚ü©,</span>
    <span class="k">let</span> <span class="n">e</span> <span class="o">:</span> <span class="n">S</span> <span class="bp">‚Ü™</span> <span class="n">M</span> <span class="o">:=</span> <span class="n">function.embedding.subtype</span> <span class="n">_</span><span class="o">,</span>
    <span class="n">refine</span> <span class="o">‚ü®</span><span class="n">f.support.map</span> <span class="bp">$</span> <span class="n">e</span><span class="o">,</span> <span class="n">_</span><span class="o">,</span> <span class="n">function.extend</span> <span class="n">e</span> <span class="n">f</span> <span class="mi">0</span><span class="o">,</span> <span class="n">_</span><span class="o">‚ü©,</span>
    <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="n">finset.coe_map</span><span class="o">,</span> <span class="n">function.embedding.coe_subtype</span><span class="o">,</span> <span class="n">set.image_subset_iff</span><span class="o">,</span>
        <span class="n">subtype.coe_preimage_self</span><span class="o">],</span>
      <span class="n">exact</span> <span class="n">set.subset_univ</span> <span class="n">_</span> <span class="o">},</span>
    <span class="n">simp_rw</span> <span class="o">[</span><span class="n">finset.sum_map</span><span class="o">,</span> <span class="n">finsupp.sum</span><span class="o">,</span> <span class="n">function.extend_apply</span> <span class="n">e.injective</span><span class="o">],</span>
    <span class="n">refl</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">rintro</span> <span class="o">‚ü®</span><span class="n">s</span><span class="o">,</span> <span class="n">hs</span><span class="o">,</span> <span class="n">c</span><span class="o">,</span> <span class="n">rfl</span><span class="o">‚ü©,</span>
    <span class="n">classical</span><span class="o">,</span>
    <span class="n">refine</span> <span class="o">‚ü®‚ü®(</span><span class="n">s.attach.map</span> <span class="o">(</span><span class="n">set.embedding_of_subset</span> <span class="n">_</span> <span class="n">_</span> <span class="n">hs</span><span class="o">))</span><span class="bp">.</span><span class="n">filter</span> <span class="o">(</span><span class="bp">Œª</span> <span class="n">x</span><span class="o">,</span> <span class="n">c</span> <span class="n">x</span> <span class="bp">‚â†</span> <span class="mi">0</span><span class="o">),</span> <span class="bp">Œª</span> <span class="n">x</span><span class="o">,</span>
      <span class="k">if</span> <span class="bp">‚Üë</span><span class="n">x</span> <span class="bp">‚àà</span> <span class="n">s</span> <span class="k">then</span> <span class="n">c</span> <span class="n">x</span> <span class="k">else</span> <span class="mi">0</span><span class="o">,</span> <span class="bp">Œª</span> <span class="n">x</span><span class="o">,</span> <span class="n">_</span><span class="o">‚ü©,</span> <span class="n">_</span><span class="o">‚ü©,</span>
    <span class="o">{</span> <span class="n">simp</span> <span class="o">[</span><span class="n">subtype.ext_iff</span><span class="o">]</span> <span class="o">},</span>
    <span class="n">simp</span> <span class="o">[</span><span class="n">finsupp.sum</span><span class="o">,</span> <span class="n">finset.sum_filter</span><span class="o">],</span>
    <span class="n">dsimp</span> <span class="o">[</span><span class="n">coe_sort</span><span class="o">,</span> <span class="n">set.has_coe_to_sort</span><span class="o">],</span>
    <span class="n">convert</span> <span class="n">finset.sum_attach</span><span class="o">,</span>
    <span class="n">ext</span> <span class="o">‚ü®</span><span class="n">x</span><span class="o">,</span> <span class="n">hx</span><span class="o">‚ü©,</span>
    <span class="n">simp</span> <span class="o">{</span><span class="n">contextual</span> <span class="o">:=</span> <span class="n">tt</span><span class="o">}</span> <span class="o">},</span>
<span class="kd">end</span>
</code></pre></div>
</div></div>



<a name="292390283"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/292390283" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#292390283">(Aug 08 2022 at 11:39)</a>:</h4>
<p>The <code>eval*_zero</code> lemmas are in <a href="https://github.com/leanprover-community/mathlib/pull/15929">#15929</a></p>



<a name="292399364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/292399364" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#292399364">(Aug 08 2022 at 13:12)</a>:</h4>
<p>Oh nice! I was having real problems with that. I switched to <code>finsupp</code> in the end but then it was 2am and I had to go to bed. So the proof is now complete right?</p>



<a name="292399669"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/292399669" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#292399669">(Aug 08 2022 at 13:14)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.mv_polynomial.comm_ring</span>
<span class="kn">import</span> <span class="n">ring_theory.adjoin.basic</span>
<span class="kn">import</span> <span class="n">ring_theory.ideal.operations</span>
<span class="kn">import</span> <span class="n">data.mv_polynomial.variables</span>

<span class="n">open_locale</span> <span class="n">big_operators</span>

<span class="kn">open</span> <span class="n">mv_polynomial</span>

<span class="kd">lemma</span> <span class="n">augmentation_ge_gen_by_monomials</span> <span class="o">{</span><span class="n">œÉ</span> <span class="n">R</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">:</span>
<span class="n">ideal.span</span> <span class="o">{</span><span class="n">t</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span> <span class="bp">|</span> <span class="bp">‚àÉ</span> <span class="n">s</span> <span class="o">:</span> <span class="n">œÉ</span><span class="o">,</span> <span class="n">t</span> <span class="bp">=</span> <span class="n">X</span> <span class="n">s</span><span class="o">}</span> <span class="bp">‚â§</span>
<span class="n">ring_hom.ker</span> <span class="o">((</span><span class="n">mv_polynomial.eval</span> <span class="mi">0</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span> <span class="bp">‚Üí+*</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="n">_</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="n">ideal.span_le</span><span class="o">,</span>
  <span class="n">rintro</span> <span class="n">_</span> <span class="o">‚ü®</span><span class="n">s</span><span class="o">,</span> <span class="n">rfl</span><span class="o">‚ü©,</span>
  <span class="n">refine</span> <span class="o">(</span><span class="n">ring_hom.mem_ker</span> <span class="n">_</span><span class="o">)</span><span class="bp">.</span><span class="mi">2</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">eval_X</span><span class="o">,</span>
  <span class="n">refl</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">eval‚ÇÇ_zero'</span> <span class="o">{</span><span class="n">R</span> <span class="n">S‚ÇÅ</span> <span class="n">œÉ</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">comm_semiring</span> <span class="n">S‚ÇÅ</span><span class="o">]</span>
  <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">R</span> <span class="bp">‚Üí+*</span> <span class="n">S‚ÇÅ</span><span class="o">)</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="n">eval‚ÇÇ</span> <span class="n">f</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">œÉ</span> <span class="bp">‚Üí</span> <span class="n">S‚ÇÅ</span><span class="o">)</span> <span class="n">p</span> <span class="bp">=</span> <span class="n">f</span> <span class="o">(</span><span class="n">constant_</span>
<span class="n">coeff</span> <span class="n">p</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">eval‚ÇÇ_hom_zero</span> <span class="n">f</span> <span class="n">p</span>

<span class="kd">lemma</span> <span class="n">eval_zero</span>  <span class="o">{</span><span class="n">R</span> <span class="n">œÉ</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">eval</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">œÉ</span> <span class="bp">‚Üí</span> <span class="n">R</span><span class="o">)</span> <span class="n">p</span> <span class="bp">=</span> <span class="n">constant_coeff</span> <span class="n">p</span> <span class="o">:=</span>
<span class="n">eval‚ÇÇ_hom_zero</span> <span class="n">_</span> <span class="n">p</span>

<span class="kd">lemma</span> <span class="n">mv_polynomial.monomial_mul_X</span> <span class="o">{</span><span class="n">œÉ</span> <span class="n">R</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">œÉ</span> <span class="bp">‚Üí‚ÇÄ</span> <span class="n">‚Ñï</span><span class="o">)</span> <span class="o">(</span><span class="n">r</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span>
<span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">œÉ</span><span class="o">)</span> <span class="o">:</span>
<span class="o">(</span><span class="n">monomial</span> <span class="n">c</span><span class="o">)</span> <span class="n">r</span> <span class="bp">*</span> <span class="n">X</span> <span class="n">s</span> <span class="bp">=</span> <span class="n">monomial</span> <span class="o">(</span><span class="n">c</span> <span class="bp">+</span> <span class="n">finsupp.single</span> <span class="n">s</span> <span class="mi">1</span><span class="o">)</span> <span class="n">r</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">X</span><span class="o">]</span>

<span class="kd">lemma</span> <span class="n">augmentation_eq_gen_by_monomials</span> <span class="o">{</span><span class="n">œÉ</span> <span class="n">R</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">:</span>
<span class="n">ideal.span</span> <span class="o">{</span><span class="n">t</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span> <span class="bp">|</span> <span class="bp">‚àÉ</span> <span class="n">s</span> <span class="o">:</span> <span class="n">œÉ</span><span class="o">,</span> <span class="n">t</span> <span class="bp">=</span> <span class="n">X</span> <span class="n">s</span><span class="o">}</span> <span class="bp">=</span>
<span class="n">ring_hom.ker</span> <span class="o">(</span><span class="n">mv_polynomial.eval</span> <span class="mi">0</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span> <span class="bp">‚Üí+*</span> <span class="n">R</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">refine</span> <span class="n">le_antisymm</span> <span class="n">augmentation_ge_gen_by_monomials</span> <span class="o">(</span><span class="bp">Œª</span> <span class="n">f</span> <span class="n">hf</span><span class="o">,</span> <span class="n">_</span><span class="o">),</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">ring_hom.mem_ker</span><span class="o">,</span> <span class="n">eval_zero</span><span class="o">]</span> <span class="n">at</span> <span class="n">hf</span><span class="o">,</span>
  <span class="n">rw</span> <span class="bp">‚Üê</span> <span class="n">support_sum_monomial_coeff</span> <span class="n">f</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">ideal.sum_mem</span> <span class="o">(</span><span class="n">ideal.span</span> <span class="o">{</span><span class="n">t</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span> <span class="bp">|</span> <span class="bp">‚àÉ</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">œÉ</span><span class="o">),</span> <span class="n">t</span> <span class="bp">=</span> <span class="n">X</span> <span class="n">s</span><span class="o">}),</span>
  <span class="n">rintro</span> <span class="n">c</span> <span class="bp">-</span><span class="o">,</span> <span class="c1">-- who even cares if in support</span>
  <span class="n">rcases</span> <span class="n">eq_or_ne</span> <span class="n">c</span> <span class="mi">0</span> <span class="k">with</span> <span class="o">(</span><span class="n">rfl</span> <span class="bp">|</span> <span class="n">hc</span><span class="o">),</span>
  <span class="o">{</span> <span class="k">suffices</span> <span class="o">:</span> <span class="o">(</span><span class="n">monomial</span> <span class="mi">0</span> <span class="o">(</span><span class="n">coeff</span> <span class="mi">0</span> <span class="n">f</span><span class="o">)</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">this</span><span class="o">,</span> <span class="n">submodule.zero_mem</span><span class="o">],</span> <span class="o">},</span>
    <span class="n">convert</span> <span class="n">C_0</span><span class="o">,</span> <span class="o">},</span> <span class="c1">-- meh</span>
  <span class="o">{</span> <span class="n">change</span> <span class="bp">¬¨</span> <span class="n">_</span> <span class="n">at</span> <span class="n">hc</span><span class="o">,</span>
    <span class="n">rw</span> <span class="n">finsupp.ext_iff</span> <span class="n">at</span> <span class="n">hc</span><span class="o">,</span>
    <span class="n">push_neg</span> <span class="n">at</span> <span class="n">hc</span><span class="o">,</span>
    <span class="n">rcases</span> <span class="n">hc</span> <span class="k">with</span> <span class="o">‚ü®</span><span class="n">s</span><span class="o">,</span> <span class="n">hs</span><span class="o">‚ü©,</span>
    <span class="n">refine</span> <span class="n">ideal.span_mono</span> <span class="o">(</span><span class="n">set.singleton_subset_iff.2</span> <span class="o">‚ü®</span><span class="n">s</span><span class="o">,</span> <span class="n">rfl</span><span class="o">‚ü©)</span> <span class="n">_</span><span class="o">,</span>
    <span class="n">rw</span> <span class="o">[</span><span class="n">ideal.mem_span_singleton</span><span class="o">,</span> <span class="n">dvd_iff_exists_eq_mul_left</span><span class="o">],</span>
    <span class="n">use</span> <span class="n">monomial</span> <span class="o">(</span><span class="n">c</span> <span class="bp">-</span> <span class="n">finsupp.single</span> <span class="n">s</span> <span class="mi">1</span><span class="o">)</span> <span class="o">(</span><span class="n">coeff</span> <span class="n">c</span> <span class="n">f</span><span class="o">),</span>
    <span class="n">rw</span> <span class="n">mv_polynomial.monomial_mul_X</span><span class="o">,</span>
    <span class="n">congr'</span><span class="o">,</span>
    <span class="n">ext</span> <span class="n">t</span><span class="o">,</span>
    <span class="n">rcases</span> <span class="n">eq_or_ne</span> <span class="n">s</span> <span class="n">t</span> <span class="k">with</span> <span class="o">(</span><span class="n">rfl</span> <span class="bp">|</span> <span class="n">hst</span><span class="o">),</span>
    <span class="o">{</span> <span class="n">simp</span> <span class="o">[</span><span class="n">finsupp.sub_single_one_add</span> <span class="n">hs</span><span class="o">],</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">simp</span> <span class="o">[</span><span class="n">hst</span><span class="o">],</span> <span class="o">},</span>
  <span class="o">},</span>
<span class="kd">end</span>

<span class="kn">local</span> <span class="kn">attribute</span> <span class="o">[</span><span class="kd">instance</span><span class="o">]</span> <span class="n">module.subsingleton</span>

<span class="kd">lemma</span> <span class="n">submodule.mem_span_iff</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">A</span><span class="o">]</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">add_comm_mono</span>
<span class="n">id</span> <span class="n">M</span><span class="o">]</span>
  <span class="o">[</span><span class="n">module</span> <span class="n">A</span> <span class="n">M</span><span class="o">]</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">M</span><span class="o">)</span> <span class="o">(</span><span class="n">m</span> <span class="o">:</span> <span class="n">M</span><span class="o">)</span> <span class="o">:</span> <span class="n">m</span> <span class="bp">‚àà</span> <span class="n">submodule.span</span> <span class="n">A</span> <span class="n">S</span> <span class="bp">‚Üî</span>
  <span class="bp">‚àÉ</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">M</span> <span class="bp">‚Üí‚ÇÄ</span> <span class="n">A</span><span class="o">)</span> <span class="o">(</span><span class="n">hf</span> <span class="o">:</span> <span class="o">(</span><span class="n">c.support</span> <span class="o">:</span> <span class="n">set</span> <span class="n">M</span><span class="o">)</span> <span class="bp">‚äÜ</span> <span class="n">S</span><span class="o">),</span> <span class="n">m</span> <span class="bp">=</span> <span class="bp">‚àë</span> <span class="n">i</span> <span class="k">in</span> <span class="n">c.support</span><span class="o">,</span> <span class="n">c</span> <span class="n">i</span> <span class="bp">‚Ä¢</span> <span class="n">i</span> <span class="o">:</span>
<span class="bp">=</span>
<span class="kd">begin</span>
  <span class="n">casesI</span> <span class="n">subsingleton_or_nontrivial</span> <span class="n">A</span> <span class="k">with</span> <span class="n">_inst</span> <span class="n">_inst</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">split</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">intro</span> <span class="n">hm</span><span class="o">,</span>
      <span class="n">use</span> <span class="mi">0</span><span class="o">,</span> <span class="n">simp</span><span class="o">,</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
      <span class="n">simp</span> <span class="o">[(</span><span class="k">show</span> <span class="n">m</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">,</span> <span class="kd">by</span> <span class="n">simp</span><span class="o">)],</span> <span class="o">},</span> <span class="o">},</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
    <span class="n">apply</span> <span class="n">submodule.span_induction</span> <span class="n">h</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">intros</span> <span class="n">x</span> <span class="n">hx</span><span class="o">,</span>
      <span class="n">use</span> <span class="n">finsupp.single</span> <span class="n">x</span> <span class="mi">1</span><span class="o">,</span>
      <span class="n">split</span><span class="o">,</span>
      <span class="o">{</span> <span class="n">transitivity</span><span class="o">,</span> <span class="n">exact</span> <span class="n">finsupp.support_single_subset</span><span class="o">,</span>
        <span class="n">rintros</span> <span class="n">y</span> <span class="n">hy</span><span class="o">,</span>
        <span class="n">convert</span> <span class="n">hx</span><span class="o">,</span>
        <span class="n">simpa</span> <span class="n">using</span> <span class="n">hy</span><span class="o">,</span> <span class="o">},</span>
      <span class="o">{</span> <span class="n">rw</span> <span class="n">finsupp.support_single_ne_zero</span> <span class="n">x</span><span class="o">,</span> <span class="n">swap</span><span class="o">,</span> <span class="n">simp</span><span class="o">,</span>
        <span class="n">simp</span><span class="o">,</span> <span class="o">},</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">use</span> <span class="mi">0</span><span class="o">,</span> <span class="n">simp</span><span class="o">,</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">rintros</span> <span class="n">x</span> <span class="n">y</span> <span class="o">‚ü®</span><span class="n">Fx</span><span class="o">,</span> <span class="n">hFx</span><span class="o">,</span> <span class="n">rfl</span><span class="o">‚ü©</span> <span class="o">‚ü®</span><span class="n">Fy</span><span class="o">,</span> <span class="n">hFy</span><span class="o">,</span> <span class="n">rfl</span><span class="o">‚ü©,</span>
      <span class="n">use</span> <span class="n">Fx</span> <span class="bp">+</span> <span class="n">Fy</span><span class="o">,</span>
      <span class="n">split</span><span class="o">,</span>
      <span class="o">{</span> <span class="n">classical</span><span class="o">,</span>
        <span class="n">refine</span> <span class="n">set.subset.trans</span> <span class="n">_</span> <span class="o">(</span><span class="n">set.union_subset</span> <span class="n">hFx</span> <span class="n">hFy</span><span class="o">),</span>
        <span class="c1">-- this should be easy</span>
        <span class="gr">sorry</span><span class="o">,</span> <span class="o">},</span> <span class="gr">sorry</span><span class="o">,</span> <span class="o">},</span> <span class="gr">sorry</span><span class="o">,</span> <span class="o">},</span> <span class="gr">sorry</span><span class="o">,</span> <span class="kd">end</span> <span class="k">#exit</span>
<span class="c1">--         let foo : finset M := Fx.support ‚à™ Fy.support,</span>
<span class="c1">--         refine set.subset.trans (finset.coe_subset.2 _) _,</span>
<span class="c1">--         let foo := Fx.support ‚à™ Fy.support,</span>
<span class="c1">--         exact finsupp.support_add,</span>
<span class="c1">--         refine set.subset.trans support_add _,</span>
<span class="c1">--       simp [set.union_subset FxS FyS], },</span>
<span class="c1">--       { use Œª m, if m ‚àà Fx ‚àß m ‚àà Fy then cx m + cy m else if m ‚àà Fx then cx m</span>
 <span class="k">else</span>
<span class="c1">--         if m ‚àà Fy then cy m else 0,</span>
<span class="c1">--         sorry, -- this is horrible</span>
<span class="c1">--       } },</span>
<span class="c1">--     { rintros a m ‚ü®F, hF, c, rfl‚ü©,</span>
<span class="c1">--       refine ‚ü®F, hF, Œª m, a * c m, _‚ü©,</span>
<span class="c1">--       simp_rw [finset.smul_sum, mul_smul], }, },</span>
<span class="c1">--   { rintro ‚ü®F, hFS, c, rfl‚ü©,</span>
<span class="c1">--     apply submodule.sum_mem _ _,</span>
<span class="c1">--     intros m hm,</span>
<span class="c1">--     refine submodule.span_mono (set.singleton_subset_iff.2 (hFS hm)) _,</span>
<span class="c1">--     rw submodule.mem_span_singleton,</span>
<span class="c1">--     exact ‚ü®c m, rfl‚ü©, },</span>
<span class="c1">-- end</span>

<span class="kd">lemma</span> <span class="n">submodule.mem_span_iff'</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">A</span><span class="o">]</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">add_comm_mon</span>
<span class="n">oid</span> <span class="n">M</span><span class="o">]</span>
  <span class="o">[</span><span class="n">module</span> <span class="n">A</span> <span class="n">M</span><span class="o">]</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">M</span><span class="o">)</span> <span class="o">(</span><span class="n">m</span> <span class="o">:</span> <span class="n">M</span><span class="o">)</span> <span class="o">:</span> <span class="n">m</span> <span class="bp">‚àà</span> <span class="n">submodule.span</span> <span class="n">A</span> <span class="n">S</span> <span class="bp">‚Üî</span>
  <span class="bp">‚àÉ</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">M</span><span class="o">)</span> <span class="o">(</span><span class="n">hf</span> <span class="o">:</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">set</span> <span class="n">M</span><span class="o">)</span> <span class="bp">‚äÜ</span> <span class="n">S</span><span class="o">)</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">M</span> <span class="bp">‚Üí</span> <span class="n">A</span><span class="o">),</span> <span class="n">m</span> <span class="bp">=</span> <span class="bp">‚àë</span> <span class="n">i</span> <span class="k">in</span> <span class="n">F</span><span class="o">,</span> <span class="n">c</span> <span class="n">i</span> <span class="bp">‚Ä¢</span> <span class="n">i</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="n">submodule.mem_span_iff'</span><span class="o">,</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">rintro</span> <span class="o">‚ü®</span><span class="n">c</span><span class="o">,</span> <span class="n">hcS</span><span class="o">,</span> <span class="n">rfl</span><span class="o">‚ü©,</span>
    <span class="n">refine</span> <span class="o">‚ü®</span><span class="n">c.support</span><span class="o">,</span> <span class="n">hcS</span><span class="o">,</span> <span class="n">c</span><span class="o">,</span> <span class="n">rfl</span><span class="o">‚ü©,</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">rintro</span> <span class="o">‚ü®</span><span class="n">F</span><span class="o">,</span> <span class="n">hF</span><span class="o">,</span> <span class="n">c</span><span class="o">,</span> <span class="n">rfl</span><span class="o">‚ü©,</span>
    <span class="n">classical</span><span class="o">,</span>
    <span class="n">refine</span> <span class="o">‚ü®</span><span class="n">finsupp.on_finset</span> <span class="n">F</span> <span class="o">(</span><span class="bp">Œª</span> <span class="n">m</span><span class="o">,</span> <span class="k">if</span> <span class="n">m</span> <span class="bp">‚àà</span> <span class="n">F</span> <span class="k">then</span> <span class="n">c</span> <span class="n">m</span> <span class="k">else</span> <span class="mi">0</span><span class="o">)</span> <span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">‚ü©,</span>
    <span class="o">{</span> <span class="n">intros</span> <span class="n">a</span> <span class="n">ha</span><span class="o">,</span> <span class="n">by_contra</span> <span class="n">h</span><span class="o">,</span> <span class="n">rw</span> <span class="n">if_neg</span> <span class="n">h</span> <span class="n">at</span> <span class="n">ha</span><span class="o">,</span> <span class="n">exact</span> <span class="n">ha</span> <span class="n">rfl</span><span class="o">,</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">split</span><span class="o">,</span>
      <span class="o">{</span> <span class="n">refine</span> <span class="n">set.subset.trans</span> <span class="n">_</span> <span class="n">hF</span><span class="o">,</span>
        <span class="n">intros</span> <span class="n">m</span> <span class="n">hm</span><span class="o">,</span> <span class="n">simp</span> <span class="n">at</span> <span class="n">hm</span><span class="o">,</span> <span class="n">exact</span> <span class="n">hm.1</span><span class="o">,</span> <span class="o">},</span>
      <span class="o">{</span> <span class="n">simp</span><span class="o">,</span>
        <span class="n">symmetry</span><span class="o">,</span>
        <span class="n">convert</span> <span class="n">finset.sum_subset_zero_on_sdiff</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span>
        <span class="o">{</span> <span class="n">apply_instance</span><span class="o">,</span> <span class="o">},</span>
        <span class="o">{</span> <span class="n">intros</span> <span class="n">x</span> <span class="n">hx</span><span class="o">,</span>
          <span class="n">rw</span> <span class="n">finsupp.support_on_finset</span> <span class="n">at</span> <span class="n">hx</span><span class="o">,</span>
          <span class="n">refine</span> <span class="n">finset.mem_of_subset</span> <span class="o">(</span><span class="n">finset.filter_subset</span> <span class="n">_</span> <span class="n">F</span><span class="o">)</span> <span class="n">hx</span><span class="o">,</span> <span class="o">},</span>
        <span class="o">{</span> <span class="n">intros</span> <span class="n">m</span> <span class="n">hm</span><span class="o">,</span>
          <span class="n">rw</span> <span class="n">finset.mem_sdiff</span> <span class="n">at</span> <span class="n">hm</span><span class="o">,</span>
          <span class="n">cases</span> <span class="n">hm</span> <span class="k">with</span> <span class="n">hmF</span> <span class="n">hm</span><span class="o">,</span>
          <span class="n">simp</span> <span class="n">at</span> <span class="n">hm</span><span class="o">,</span>
          <span class="n">simp</span> <span class="o">[</span><span class="n">hm</span> <span class="n">hmF</span><span class="o">],</span> <span class="o">},</span>
        <span class="o">{</span> <span class="n">intros</span> <span class="n">m</span> <span class="n">hm</span><span class="o">,</span>
          <span class="n">rw</span> <span class="n">if_pos</span><span class="o">,</span>
          <span class="n">refine</span> <span class="n">finset.mem_of_subset</span> <span class="n">_</span> <span class="n">hm</span><span class="o">,</span>
          <span class="n">exact</span> <span class="n">finsupp.support_on_finset_subset</span><span class="o">,</span> <span class="o">},</span> <span class="o">},</span> <span class="o">},</span> <span class="o">},</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">ideal.mem_span_iff</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">A</span><span class="o">]</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">A</span><span class="o">)</span> <span class="o">(</span><span class="n">m</span> <span class="o">:</span> <span class="n">A</span><span class="o">)</span> <span class="o">:</span> <span class="n">m</span> <span class="bp">‚àà</span> <span class="n">idea</span>
<span class="n">l.span</span> <span class="n">S</span> <span class="bp">‚Üî</span>
  <span class="bp">‚àÉ</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">A</span><span class="o">)</span> <span class="o">(</span><span class="n">hf</span> <span class="o">:</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">set</span> <span class="n">A</span><span class="o">)</span> <span class="bp">‚äÜ</span> <span class="n">S</span><span class="o">)</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">‚Üí</span> <span class="n">A</span><span class="o">),</span> <span class="n">m</span> <span class="bp">=</span> <span class="bp">‚àë</span> <span class="n">i</span> <span class="k">in</span> <span class="n">F</span><span class="o">,</span> <span class="n">c</span> <span class="n">i</span> <span class="bp">*</span> <span class="n">i</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">convert</span> <span class="n">submodule.mem_span_iff'</span> <span class="n">A</span> <span class="n">A</span> <span class="n">S</span> <span class="n">m</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">mv_polynomial.injective_X</span> <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_semiring</span> <span class="n">A</span><span class="o">]</span> <span class="o">[</span><span class="n">nontrivial</span> <span class="n">A</span><span class="o">]</span> <span class="o">{</span><span class="n">S</span>
<span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">:</span> <span class="n">function.injective</span>
  <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">S</span> <span class="bp">‚Üí</span> <span class="n">mv_polynomial</span> <span class="n">S</span> <span class="n">A</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intros</span> <span class="n">s</span> <span class="n">t</span> <span class="n">hst</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">hd</span> <span class="o">:</span> <span class="n">degree_of</span> <span class="n">s</span> <span class="o">(</span><span class="n">X</span> <span class="n">s</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="n">S</span> <span class="n">A</span><span class="o">)</span> <span class="bp">=</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">degree_of_X</span> <span class="n">s</span> <span class="n">s</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">hst</span><span class="o">,</span> <span class="n">degree_of_X</span><span class="o">]</span> <span class="n">at</span> <span class="n">hd</span><span class="o">,</span>
  <span class="n">classical</span><span class="o">,</span>
  <span class="n">by_contra</span> <span class="n">ht</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">if_neg</span> <span class="n">ht</span><span class="o">,</span> <span class="n">if_pos</span> <span class="n">rfl</span><span class="o">]</span> <span class="n">at</span> <span class="n">hd</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">zero_ne_one</span> <span class="n">hd</span><span class="o">,</span>
<span class="kd">end</span>

<span class="c1">-- I didn't mean for this to be so horrible -- finset juggling</span>
<span class="kd">example</span> <span class="o">{</span><span class="n">œÉ</span> <span class="n">R</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">x.coeff</span> <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span> <span class="bp">‚Üî</span> <span class="bp">‚àÉ</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">œÉ</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">œÉ</span> <span class="bp">‚Üí</span> <span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span><span class="o">),</span> <span class="n">x</span> <span class="bp">=</span> <span class="bp">‚àë</span> <span class="n">i</span> <span class="k">in</span> <span class="n">s</span><span class="o">,</span> <span class="n">f</span>
<span class="n">i</span> <span class="bp">*</span> <span class="n">X</span> <span class="n">i</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">change</span> <span class="n">constant_coeff</span> <span class="n">x</span> <span class="bp">=</span> <span class="mi">0</span> <span class="bp">‚Üî</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="bp">‚Üê</span> <span class="n">eval_zero</span><span class="o">,</span> <span class="bp">‚Üê</span> <span class="n">ring_hom.mem_ker</span><span class="o">,</span> <span class="bp">‚Üê</span> <span class="n">augmentation_eq_gen_by_monomials</span><span class="o">,</span> <span class="n">ideal</span>
<span class="bp">.</span><span class="n">mem_span_iff</span><span class="o">],</span>
  <span class="n">rcases</span> <span class="n">subsingleton_or_nontrivial</span> <span class="n">R</span><span class="bp">;</span> <span class="n">resetI</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">split</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">intro</span> <span class="n">h</span><span class="o">,</span> <span class="n">use</span> <span class="o">[</span><span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">],</span> <span class="n">ext</span><span class="o">,</span> <span class="n">simp</span> <span class="o">[</span><span class="n">h</span><span class="o">],</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">intro</span> <span class="n">_</span><span class="o">,</span> <span class="n">use</span> <span class="mi">0</span><span class="o">,</span> <span class="n">simp</span><span class="o">,</span> <span class="n">split</span><span class="o">,</span> <span class="n">simp</span><span class="o">,</span> <span class="n">use</span> <span class="mi">0</span><span class="o">,</span> <span class="n">ext</span><span class="o">,</span> <span class="n">simp</span><span class="o">,</span> <span class="o">},</span>
  <span class="o">},</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">rintro</span> <span class="o">‚ü®</span><span class="n">F</span><span class="o">,</span> <span class="n">hF</span><span class="o">,</span> <span class="n">c</span><span class="o">,</span> <span class="n">rfl</span><span class="o">‚ü©,</span>
    <span class="n">refine</span> <span class="o">‚ü®</span><span class="n">finset.preimage</span> <span class="n">F</span> <span class="n">X</span> <span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">‚ü©,</span>
    <span class="n">refine</span> <span class="n">set.inj_on_of_injective</span> <span class="n">mv_polynomial.injective_X</span> <span class="n">_</span><span class="o">,</span>
    <span class="n">use</span> <span class="bp">Œª</span> <span class="n">s</span><span class="o">,</span> <span class="n">c</span> <span class="o">(</span><span class="n">X</span> <span class="n">s</span><span class="o">),</span>
    <span class="k">have</span> <span class="n">ha</span> <span class="o">:</span> <span class="bp">‚àÄ</span> <span class="n">a</span><span class="o">,</span> <span class="n">a</span> <span class="bp">‚àà</span> <span class="n">F</span> <span class="bp">‚Üí</span> <span class="bp">‚àÉ</span> <span class="n">s</span><span class="o">,</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">X</span> <span class="n">s</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">intros</span> <span class="n">a</span> <span class="n">ha</span><span class="o">,</span> <span class="n">exact</span> <span class="n">hF</span> <span class="n">ha</span><span class="o">,</span> <span class="o">},</span>
    <span class="n">apply</span> <span class="n">finset.sum_bij</span> <span class="o">(</span><span class="bp">Œª</span> <span class="n">b</span> <span class="n">hb</span><span class="o">,</span> <span class="o">(</span><span class="n">ha</span> <span class="n">b</span> <span class="n">hb</span><span class="o">)</span><span class="bp">.</span><span class="n">some</span><span class="o">),</span>
    <span class="o">{</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">finset.mem_preimage</span><span class="o">],</span> <span class="n">intros</span> <span class="n">a</span> <span class="n">h</span><span class="o">,</span>
      <span class="n">rwa</span> <span class="bp">‚Üê</span> <span class="o">(</span><span class="n">ha</span> <span class="n">a</span> <span class="n">h</span><span class="o">)</span><span class="bp">.</span><span class="n">some_spec</span><span class="o">,</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">intros</span> <span class="n">f</span> <span class="n">hf</span><span class="o">,</span>
      <span class="k">have</span> <span class="n">foo</span> <span class="o">:=</span> <span class="o">(</span><span class="n">ha</span> <span class="n">f</span> <span class="n">hf</span><span class="o">)</span><span class="bp">.</span><span class="n">some_spec</span><span class="o">,</span>
      <span class="n">congr'</span><span class="o">,</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">intros</span> <span class="n">f</span> <span class="n">g</span> <span class="n">hf</span> <span class="n">hg</span><span class="o">,</span>
      <span class="n">simp</span><span class="o">,</span>
      <span class="k">have</span> <span class="n">hf1</span> <span class="o">:=</span> <span class="o">(</span><span class="n">ha</span> <span class="n">f</span> <span class="n">hf</span><span class="o">)</span><span class="bp">.</span><span class="n">some_spec</span><span class="o">,</span>
      <span class="k">have</span> <span class="n">hg1</span> <span class="o">:=</span> <span class="o">(</span><span class="n">ha</span> <span class="n">g</span> <span class="n">hg</span><span class="o">)</span><span class="bp">.</span><span class="n">some_spec</span><span class="o">,</span>
      <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
      <span class="n">rw</span> <span class="n">h</span> <span class="n">at</span> <span class="n">hf1</span><span class="o">,</span>
      <span class="n">rwa</span> <span class="bp">‚Üê</span> <span class="n">hg1</span> <span class="n">at</span> <span class="n">hf1</span><span class="o">,</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">intros</span> <span class="n">b</span> <span class="n">hb</span><span class="o">,</span>
      <span class="n">rw</span> <span class="n">finset.mem_preimage</span> <span class="n">at</span> <span class="n">hb</span><span class="o">,</span>
      <span class="n">use</span> <span class="o">[</span><span class="n">X</span> <span class="n">b</span><span class="o">,</span> <span class="n">hb</span><span class="o">],</span>
      <span class="n">simp</span><span class="o">,</span>
      <span class="k">have</span> <span class="n">hb1</span> <span class="o">:=</span> <span class="o">(</span><span class="n">ha</span> <span class="n">_</span> <span class="n">hb</span><span class="o">)</span><span class="bp">.</span><span class="n">some_spec</span><span class="o">,</span>
      <span class="n">unfreezingI</span> <span class="o">{</span><span class="n">apply</span> <span class="n">mv_polynomial.injective_X</span> <span class="n">hb1</span><span class="o">,</span> <span class="o">},</span> <span class="o">},</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">rintro</span> <span class="o">‚ü®</span><span class="n">s</span><span class="o">,</span> <span class="n">f</span><span class="o">,</span> <span class="n">rfl</span><span class="o">‚ü©,</span>
    <span class="n">classical</span><span class="o">,</span>
    <span class="n">refine</span> <span class="o">‚ü®</span><span class="n">finset.image</span> <span class="n">X</span> <span class="n">s</span><span class="o">,</span> <span class="bp">Œª</span> <span class="n">f</span> <span class="n">hf</span><span class="o">,</span> <span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">‚ü©,</span>
    <span class="o">{</span> <span class="n">change</span> <span class="n">f</span> <span class="bp">‚àà</span> <span class="n">finset.image</span> <span class="n">X</span> <span class="n">s</span> <span class="n">at</span> <span class="n">hf</span><span class="o">,</span>
      <span class="n">rw</span> <span class="n">finset.mem_image</span> <span class="n">at</span> <span class="n">hf</span><span class="o">,</span>
      <span class="n">rcases</span> <span class="n">hf</span> <span class="k">with</span> <span class="o">‚ü®</span><span class="n">a</span><span class="o">,</span> <span class="n">ha</span><span class="o">,</span> <span class="n">rfl</span><span class="o">‚ü©,</span>
      <span class="n">exact</span> <span class="o">‚ü®</span><span class="n">a</span><span class="o">,</span> <span class="n">rfl</span><span class="o">‚ü©,</span> <span class="o">},</span>
    <span class="o">{</span> <span class="k">let</span> <span class="n">c</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span> <span class="bp">‚Üí</span> <span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span> <span class="o">:=</span>
        <span class="o">(</span><span class="bp">Œª</span> <span class="n">g</span><span class="o">,</span> <span class="k">if</span> <span class="n">h</span> <span class="o">:</span> <span class="bp">‚àÉ</span> <span class="n">a</span><span class="o">,</span> <span class="n">g</span> <span class="bp">=</span> <span class="n">X</span> <span class="n">a</span> <span class="k">then</span> <span class="n">f</span> <span class="n">h.some</span> <span class="k">else</span> <span class="mi">0</span><span class="o">),</span>
      <span class="k">have</span> <span class="n">hc</span> <span class="o">:</span> <span class="bp">‚àÄ</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">mv_polynomial</span> <span class="n">œÉ</span> <span class="n">R</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">œÉ</span><span class="o">)</span> <span class="o">(</span><span class="n">ha</span> <span class="o">:</span> <span class="n">g</span> <span class="bp">=</span> <span class="n">X</span> <span class="n">a</span><span class="o">),</span> <span class="n">c</span> <span class="n">g</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">a</span><span class="o">,</span>
      <span class="o">{</span> <span class="n">rintros</span> <span class="n">h</span> <span class="n">a</span> <span class="n">ha</span><span class="o">,</span>
        <span class="n">simp</span> <span class="o">[</span><span class="n">c</span><span class="o">],</span>
        <span class="n">rw</span> <span class="n">dif_pos</span> <span class="o">(‚ü®</span><span class="n">a</span><span class="o">,</span> <span class="n">ha</span><span class="o">‚ü©</span> <span class="o">:</span> <span class="bp">‚àÉ</span> <span class="n">a</span><span class="o">,</span> <span class="n">h</span> <span class="bp">=</span> <span class="n">X</span> <span class="n">a</span><span class="o">),</span>
        <span class="k">have</span> <span class="o">:=</span> <span class="o">(‚ü®</span><span class="n">a</span><span class="o">,</span> <span class="n">ha</span><span class="o">‚ü©</span> <span class="o">:</span> <span class="bp">‚àÉ</span> <span class="n">a</span><span class="o">,</span> <span class="n">h</span> <span class="bp">=</span> <span class="n">X</span> <span class="n">a</span><span class="o">)</span><span class="bp">.</span><span class="n">some_spec</span><span class="o">,</span>
        <span class="n">rw</span> <span class="n">this</span> <span class="n">at</span> <span class="n">ha</span><span class="o">,</span>
        <span class="n">unfreezingI</span> <span class="o">{</span><span class="n">replace</span> <span class="n">ha</span> <span class="o">:=</span> <span class="n">mv_polynomial.injective_X</span> <span class="n">ha</span><span class="o">},</span>
        <span class="n">rw</span> <span class="n">ha</span><span class="o">,</span> <span class="o">},</span>
      <span class="n">use</span> <span class="n">c</span><span class="o">,</span>
      <span class="n">apply</span> <span class="n">finset.sum_bij</span> <span class="o">(</span><span class="bp">Œª</span> <span class="n">a</span> <span class="n">_</span><span class="o">,</span> <span class="n">X</span> <span class="n">a</span><span class="o">),</span>
      <span class="o">{</span> <span class="n">intros</span> <span class="n">a</span> <span class="n">ha</span><span class="o">,</span>
        <span class="n">rw</span> <span class="n">finset.mem_image</span><span class="o">,</span>
        <span class="n">exact</span> <span class="o">‚ü®</span><span class="n">a</span><span class="o">,</span> <span class="n">ha</span><span class="o">,</span> <span class="n">rfl</span><span class="o">‚ü©,</span> <span class="o">},</span>
      <span class="o">{</span> <span class="n">intros</span> <span class="n">a</span> <span class="n">ha</span><span class="o">,</span>
        <span class="n">simp</span> <span class="o">[</span><span class="n">hc</span> <span class="o">(</span><span class="n">X</span> <span class="n">a</span><span class="o">)</span> <span class="n">_</span> <span class="n">rfl</span><span class="o">],</span> <span class="o">},</span>
      <span class="o">{</span> <span class="n">intros</span> <span class="n">a</span> <span class="n">b</span> <span class="n">ha</span> <span class="n">hb</span> <span class="n">h</span><span class="o">,</span>
        <span class="n">simp</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
        <span class="n">exact</span> <span class="n">mv_polynomial.injective_X</span> <span class="n">h</span><span class="o">,</span> <span class="o">},</span>
      <span class="n">intros</span> <span class="n">a</span> <span class="n">ha</span><span class="o">,</span>
      <span class="n">rw</span> <span class="n">finset.mem_image</span> <span class="n">at</span> <span class="n">ha</span><span class="o">,</span>
      <span class="n">rcases</span> <span class="n">ha</span> <span class="k">with</span> <span class="o">‚ü®</span><span class="n">t</span><span class="o">,</span> <span class="n">ht</span><span class="o">,</span> <span class="n">rfl</span><span class="o">‚ü©,</span>
      <span class="n">use</span> <span class="o">[</span><span class="n">t</span><span class="o">,</span> <span class="n">ht</span><span class="o">],</span> <span class="o">},</span> <span class="o">},</span>
<span class="kd">end</span>
</code></pre></div>
<p>This is as far as I got but I think <code>submodule.mem_span_iff</code> was the last missing piece. The nightmare in the application was that I realised I didn't really want <code>finset M</code> in the application, I wanted <code>finset I</code> with <code>I</code> some index set and a map <code>I -&gt; M</code> whose image generates the submodule.</p>



<a name="292409785"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/292409785" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#292409785">(Aug 08 2022 at 14:31)</a>:</h4>
<p>It seems we don't have versions of the three mem_span lemmas specialized to fintype/finset (where the finsupp is replaced by a regular function); if we have them this proof and <a href="#narrow/stream/113489-new-members/topic/struggling.20with.20proving.20span.20of.20linear.20combinations/near/292367958">the other one</a> should be a lot easier. I think <span class="user-mention" data-user-id="439483">@Andrew Yang</span> may need it for some work about finite modules as well.</p>



<a name="292411902"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/292411902" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#292411902">(Aug 08 2022 at 14:47)</a>:</h4>
<p>I can't tell which is harder: navigating around the various spellings to deal with spans, or the various spellings of evaluation of a <code>mv_polynomial</code>.</p>



<a name="292412184"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/292412184" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#292412184">(Aug 08 2022 at 14:50)</a>:</h4>
<p>And maybe we should move the lemmas from the finsupp namespace to submodule? I had trouble finding them recently even though I've previously seen them. If I search the online docs with "mem_span", <a href="https://leanprover-community.github.io/mathlib_docs/find/finsupp.finsupp.mem_span_iff_total">docs#finsupp.finsupp.mem_span_iff_total</a> only shows up as the 19th result (needs to scroll down). If I search "submodule mem_span" they don't show up at all.</p>



<a name="292488894"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/292488894" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#292488894">(Aug 08 2022 at 20:00)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span> there are some lemmas here which are only true for <code>eval</code> rather than <code>eval_2</code> or whatever: for example if R is a commutative ring then you can explicitly write down the kernel of <code>mv_polynomial.eval f</code>, it's the ideal generated by <code>X s - f s</code>. It's much harder to say what the kernel of an <code>eval_2</code> map is.</p>



<a name="292498804"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/292498804" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#292498804">(Aug 08 2022 at 21:26)</a>:</h4>
<blockquote>
<p>the kernel of mv_polynomial.eval f, it's the ideal generated by X s - f s.</p>
</blockquote>
<p>And when R is an algebraically closed field and œÉ is finite this gives a bijection between the affine space R^œÉ and the maximal ideals in the mv_polynomial ring. Do we have this form of Hilbert's Nullstellensatz?</p>



<a name="292499323"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%F0%9D%94%BD%E2%82%82%5B%CE%B1%2C%20%CE%B2%2C%20%CE%B3%5D%20/%20%28%CE%B1%C2%B2%2C%20%CE%B2%C2%B2%2C%20%CE%B3%C2%B2%29/near/292499323" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.F0.9D.94.BD.E2.82.82.5B.CE.B1.2C.20.CE.B2.2C.20.CE.B3.5D.20.2F.20(.CE.B1.C2.B2.2C.20.CE.B2.C2.B2.2C.20.CE.B3.C2.B2).html#292499323">(Aug 08 2022 at 21:31)</a>:</h4>
<p>It's <a href="https://leanprover-community.github.io/mathlib_docs/find/mv_polynomial.is_maximal_iff_eq_vanishing_ideal_singleton">docs#mv_polynomial.is_maximal_iff_eq_vanishing_ideal_singleton</a> but we don't know the generators of the vanishing ideal it seems.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>