---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Need.20help.20on.20proving.20.7B1.2C2.2C3.7D.20and.20P.7B1.2C2.2C3.7D.20are.20nontrivial.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20on.20proving.20.7B1.2C2.2C3.7D.20and.20P.7B1.2C2.2C3.7D.20are.20nontrivial.html">Need help on proving {1,2,3} and P{1,2,3} are nontrivial</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="219737239"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20on%20proving%20%7B1%2C2%2C3%7D%20and%20P%7B1%2C2%2C3%7D%20are%20nontrivial/near/219737239" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20on.20proving.20.7B1.2C2.2C3.7D.20and.20P.7B1.2C2.2C3.7D.20are.20nontrivial.html#219737239">(Dec 13 2020 at 01:08)</a>:</h4>
<p>Proving that <code>fin 3</code> is <code>nontrivial</code> works out of the box:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.finset.basic</span>
<span class="kd">example</span> <span class="o">:</span> <span class="n">nontrivial</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">3</span><span class="o">)</span> <span class="o">:=</span> <span class="n">fin.nontrivial</span>
</code></pre></div>
<p>However, taking the powerset doesn't work: <code>𝒫 (fin 3)</code></p>
<p>So I need to change representations to</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">X</span> <span class="o">:</span> <span class="n">set</span> <span class="n">ℕ</span> <span class="o">:=</span> <span class="o">({</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">}</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">ℕ</span><span class="o">)</span>
</code></pre></div>
<p>But then I'm not sure of a couple of things:</p>
<ul>
<li>How do I construct emptyset and top</li>
<li>How do I use those constructed objects in a proof</li>
</ul>
<p>I am stuck on that and <code>sorry</code> here:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.finset.basic</span>
<span class="kd">def</span> <span class="n">X</span> <span class="o">:</span> <span class="n">set</span> <span class="n">ℕ</span> <span class="o">:=</span> <span class="o">({</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">}</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">ℕ</span><span class="o">)</span>
<span class="kd">lemma</span> <span class="n">is_nontrivial_X</span> <span class="o">:</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">X</span><span class="o">),</span> <span class="n">x</span> <span class="bp">≠</span> <span class="n">y</span> <span class="o">:=</span> <span class="n">sorry</span>
</code></pre></div>
<p>I have looked at <code>library_search!</code> which has no suggestions and output of <code>suggest</code> and <code>hint</code> which put out some ideas but haven't worked for me so far.</p>
<p>I'm also stuck for powerset.   Here I've got 3 ideas and I don't know how to make them work:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.finset.basic</span>
<span class="kd">def</span> <span class="n">X</span> <span class="o">:</span> <span class="n">set</span> <span class="n">ℕ</span> <span class="o">:=</span> <span class="o">({</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">}</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">ℕ</span><span class="o">)</span>
<span class="kd">lemma</span> <span class="n">empty_in_PX</span> <span class="o">:</span> <span class="o">(</span><span class="bp">∅</span> <span class="bp">∈</span> <span class="o">(</span><span class="bp">𝒫</span> <span class="n">X</span><span class="o">))</span> <span class="o">:=</span> <span class="n">sorry</span>
<span class="kd">lemma</span> <span class="n">top_in_PX</span> <span class="o">:</span> <span class="o">(</span><span class="bp">⊤</span> <span class="bp">∈</span> <span class="o">(</span><span class="bp">𝒫</span> <span class="n">X</span><span class="o">))</span> <span class="o">:=</span> <span class="n">sorry</span>
<span class="kd">lemma</span> <span class="n">is_nontrivial_PX</span> <span class="o">:</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="bp">𝒫</span> <span class="n">X</span><span class="o">),</span> <span class="n">x</span> <span class="bp">≠</span> <span class="n">y</span> <span class="o">:=</span> <span class="n">sorry</span>
<span class="kd">instance</span> <span class="o">:</span> <span class="n">nontrivial</span> <span class="o">(</span><span class="bp">𝒫</span> <span class="n">X</span><span class="o">)</span> <span class="o">:=</span> <span class="o">{</span> <span class="n">exists_pair_ne</span> <span class="o">:=</span> <span class="n">is_nontrivial_PX</span> <span class="o">}</span>
</code></pre></div>
<p>Any help greatly appreciated.</p>



<a name="219737529"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20on%20proving%20%7B1%2C2%2C3%7D%20and%20P%7B1%2C2%2C3%7D%20are%20nontrivial/near/219737529" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20on.20proving.20.7B1.2C2.2C3.7D.20and.20P.7B1.2C2.2C3.7D.20are.20nontrivial.html#219737529">(Dec 13 2020 at 01:17)</a>:</h4>
<p>Why do you need that powerset?</p>



<a name="219737576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20on%20proving%20%7B1%2C2%2C3%7D%20and%20P%7B1%2C2%2C3%7D%20are%20nontrivial/near/219737576" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20on.20proving.20.7B1.2C2.2C3.7D.20and.20P.7B1.2C2.2C3.7D.20are.20nontrivial.html#219737576">(Dec 13 2020 at 01:18)</a>:</h4>
<p>The number of unique terms of "set (fin 3)" is the cardinality of that powerset</p>



<a name="219739894"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20on%20proving%20%7B1%2C2%2C3%7D%20and%20P%7B1%2C2%2C3%7D%20are%20nontrivial/near/219739894" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20on.20proving.20.7B1.2C2.2C3.7D.20and.20P.7B1.2C2.2C3.7D.20are.20nontrivial.html#219739894">(Dec 13 2020 at 02:29)</a>:</h4>
<p>Nontrivial takes a type as input, not a set so it inserts a coercion which you may not want.<br>
If all the elements you ever want to consider are 1,2,3 I'd recommend starting with <code>fin 3</code> rather than making subsets of sets, you can just work with <code>set (fin 3)</code>  more naturally in lean</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">X</span> <span class="o">:</span> <span class="n">set</span> <span class="n">ℕ</span> <span class="o">:=</span> <span class="o">({</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">}</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">ℕ</span><span class="o">)</span>

<span class="kd">lemma</span> <span class="n">empty_mem_powerset</span> <span class="o">:</span> <span class="bp">∅</span> <span class="bp">∈</span> <span class="bp">𝒫</span> <span class="n">X</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">simp</span>
<span class="kd">lemma</span> <span class="n">top_in_PX</span> <span class="o">:</span> <span class="o">(</span><span class="bp">⊤</span> <span class="bp">∈</span> <span class="o">(</span><span class="bp">𝒫</span> <span class="n">X</span><span class="o">))</span> <span class="o">:=</span> <span class="n">sorry</span> <span class="c1">-- this is false ⊤ is the set of all naturals which is not a subset of X</span>
<span class="kd">lemma</span> <span class="n">is_nontrivial_PX</span> <span class="o">:</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">x</span> <span class="bp">∈</span> <span class="bp">𝒫</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">y</span> <span class="bp">∈</span>  <span class="bp">𝒫</span> <span class="n">X</span><span class="o">),</span> <span class="n">x</span> <span class="bp">≠</span> <span class="n">y</span> <span class="o">:=</span> <span class="o">⟨</span> <span class="o">{</span><span class="mi">1</span><span class="o">},</span> <span class="kd">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">X</span><span class="o">],</span> <span class="bp">∅</span><span class="o">,</span> <span class="n">empty_mem_powerset</span><span class="o">,</span> <span class="kd">begin</span> <span class="n">intros</span> <span class="n">h</span><span class="o">,</span> <span class="n">exact</span> <span class="n">set.eq_empty_iff_forall_not_mem.mp</span> <span class="n">h</span> <span class="mi">1</span> <span class="n">rfl</span><span class="o">,</span> <span class="kd">end</span> <span class="o">⟩</span>
<span class="kd">instance</span> <span class="o">:</span> <span class="n">nontrivial</span> <span class="o">(</span><span class="bp">𝒫</span> <span class="n">X</span><span class="o">)</span> <span class="o">:=</span> <span class="o">{</span> <span class="n">exists_pair_ne</span> <span class="o">:=</span> <span class="kd">begin</span> <span class="n">simp</span><span class="o">,</span><span class="n">rcases</span> <span class="n">is_nontrivial_PX</span> <span class="k">with</span> <span class="o">⟨</span><span class="n">x</span> <span class="o">,</span> <span class="n">hx</span><span class="o">,</span> <span class="n">y</span><span class="o">,</span> <span class="n">hy</span><span class="o">,</span> <span class="n">h</span><span class="o">⟩,</span> <span class="n">use</span> <span class="o">[</span><span class="n">x</span><span class="o">,</span> <span class="n">hx</span><span class="o">,</span> <span class="n">y</span><span class="o">,</span> <span class="n">hy</span><span class="o">],</span>  <span class="kd">end</span> <span class="o">}</span>
</code></pre></div>



<a name="219739999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20on%20proving%20%7B1%2C2%2C3%7D%20and%20P%7B1%2C2%2C3%7D%20are%20nontrivial/near/219739999" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20on.20proving.20.7B1.2C2.2C3.7D.20and.20P.7B1.2C2.2C3.7D.20are.20nontrivial.html#219739999">(Dec 13 2020 at 02:32)</a>:</h4>
<p>Thanks I will try <code>set X</code> .  I got it in my head I needed <code>𝒫 X</code> but that's incorrect.</p>



<a name="219740428"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20on%20proving%20%7B1%2C2%2C3%7D%20and%20P%7B1%2C2%2C3%7D%20are%20nontrivial/near/219740428" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20on.20proving.20.7B1.2C2.2C3.7D.20and.20P.7B1.2C2.2C3.7D.20are.20nontrivial.html#219740428">(Dec 13 2020 at 02:45)</a>:</h4>
<p>DONE (most of the work done by library_search!)</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.finset.basic</span>
<span class="kd">def</span> <span class="n">X</span> <span class="o">:=</span> <span class="n">fin</span> <span class="mi">3</span>

<span class="kd">instance</span> <span class="o">:</span> <span class="n">nontrivial</span> <span class="n">X</span> <span class="o">:=</span> <span class="n">fin.nontrivial</span>

<span class="kd">instance</span> <span class="o">:</span> <span class="n">nontrivial</span> <span class="o">(</span><span class="n">set</span> <span class="n">X</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">refine</span> <span class="n">nontrivial_of_ne</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">set.univ</span><span class="o">,</span>
  <span class="n">exact</span> <span class="bp">∅</span> <span class="o">,</span>
  <span class="n">exact</span> <span class="n">set.empty_ne_univ.symm</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="219750958"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20on%20proving%20%7B1%2C2%2C3%7D%20and%20P%7B1%2C2%2C3%7D%20are%20nontrivial/near/219750958" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20on.20proving.20.7B1.2C2.2C3.7D.20and.20P.7B1.2C2.2C3.7D.20are.20nontrivial.html#219750958">(Dec 13 2020 at 08:21)</a>:</h4>
<p>Does <code>unfold X, apply_instance</code> work for the second?</p>



<a name="219764187"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20on%20proving%20%7B1%2C2%2C3%7D%20and%20P%7B1%2C2%2C3%7D%20are%20nontrivial/near/219764187" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20on.20proving.20.7B1.2C2.2C3.7D.20and.20P.7B1.2C2.2C3.7D.20are.20nontrivial.html#219764187">(Dec 13 2020 at 14:36)</a>:</h4>
<p>Yes</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.finset.basic</span>
<span class="kd">def</span> <span class="n">X</span> <span class="o">:=</span> <span class="n">fin</span> <span class="mi">3</span>

<span class="kd">instance</span> <span class="o">:</span> <span class="n">nontrivial</span> <span class="o">(</span><span class="n">set</span> <span class="n">X</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">unfold</span> <span class="n">X</span><span class="o">,</span>
  <span class="n">apply_instance</span>
<span class="kd">end</span>
</code></pre></div>



<a name="219805129"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Need%20help%20on%20proving%20%7B1%2C2%2C3%7D%20and%20P%7B1%2C2%2C3%7D%20are%20nontrivial/near/219805129" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Need.20help.20on.20proving.20.7B1.2C2.2C3.7D.20and.20P.7B1.2C2.2C3.7D.20are.20nontrivial.html#219805129">(Dec 14 2020 at 06:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="364351">Lars Ericson</span> <a href="#narrow/stream/113489-new-members/topic/Need.20help.20on.20proving.20.7B1.2C2.2C3.7D.20and.20P.7B1.2C2.2C3.7D.20are.20nontrivial/near/219740428">said</a>:</p>
<blockquote>
<p>DONE (most of the work done by library_search!)</p>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.finset.basic</span>
<span class="kd">def</span> <span class="n">X</span> <span class="o">:=</span> <span class="n">fin</span> <span class="mi">3</span>

<span class="kd">instance</span> <span class="o">:</span> <span class="n">nontrivial</span> <span class="n">X</span> <span class="o">:=</span> <span class="n">fin.nontrivial</span>

<span class="kd">instance</span> <span class="o">:</span> <span class="n">nontrivial</span> <span class="o">(</span><span class="n">set</span> <span class="n">X</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">refine</span> <span class="n">nontrivial_of_ne</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">set.univ</span><span class="o">,</span>
  <span class="n">exact</span> <span class="bp">∅</span> <span class="o">,</span>
  <span class="n">exact</span> <span class="n">set.empty_ne_univ.symm</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div><br>
</p>
</blockquote>
<p>As far as I understand, the three <code>exact</code> after the <code>refine</code> fill in the underscores.  Thus, also <code>refine nontrivial_of_ne set.univ ∅ set.empty_ne_univ.symm,</code> finishes the goal.  At this point, you can notice that the last underscore is filled in with a proof that <code>∅ ≠ set.univ</code>, so just this is enough for Lean to figure out what the two sets in question were.  Hence, <code>refine nontrivial_of_ne _ _ set.empty_ne_univ.symm,</code>is sufficient information to create a proof.  Once you are here, you no longer need tactic mode:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">instance</span> <span class="o">:</span> <span class="n">nontrivial</span> <span class="o">(</span><span class="n">set</span> <span class="n">X</span><span class="o">)</span> <span class="o">:=</span> <span class="n">nontrivial_of_ne</span> <span class="n">_</span> <span class="n">_</span> <span class="n">set.empty_ne_univ.symm</span>
</code></pre></div>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>