---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Polynomial.20evaluation.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Polynomial.20evaluation.html">Polynomial evaluation</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="207657272"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Polynomial%20evaluation/near/207657272" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Dan Stanescu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Polynomial.20evaluation.html#207657272">(Aug 21 2020 at 16:52)</a>:</h4>
<p>Hi all: I need advice on whether this somewhat specific polynomial evaluation lemma (and the corresponding <code>finset.sum</code>) should be PRd into mathlib (<code>data.polynomial.eval.lean</code>). I need to use it pretty heavily for the case of polynomials over ℝ, but I guess it could be extended to <code>[comm_semiring R]</code>. The proof is rather simple hence omitted.</p>
<div class="codehilite"><pre><span></span><code><span class="kn">lemma</span> <span class="n">polynomial</span><span class="bp">.</span><span class="n">eval_finset</span><span class="bp">.</span><span class="n">prod</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">polynomial</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">):</span>
    <span class="n">polynomial</span><span class="bp">.</span><span class="kn">eval</span> <span class="n">x</span> <span class="o">(</span> <span class="err">∏</span> <span class="n">j</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span> <span class="n">p</span> <span class="n">j</span><span class="o">)</span> <span class="bp">=</span>   <span class="err">∏</span> <span class="n">j</span> <span class="k">in</span> <span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">,</span> <span class="n">polynomial</span><span class="bp">.</span><span class="kn">eval</span> <span class="n">x</span> <span class="o">(</span><span class="n">p</span> <span class="n">j</span><span class="o">)</span> <span class="o">:=</span> <span class="n">sorry</span>
</code></pre></div>



<a name="207657377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Polynomial%20evaluation/near/207657377" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Polynomial.20evaluation.html#207657377">(Aug 21 2020 at 16:53)</a>:</h4>
<p>I would generalise the ring and the finset</p>



<a name="207657437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Polynomial%20evaluation/near/207657437" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Polynomial.20evaluation.html#207657437">(Aug 21 2020 at 16:53)</a>:</h4>
<p>See <code>mv_polynomial.eval_prod</code></p>



<a name="207696987"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Polynomial%20evaluation/near/207696987" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Dan Stanescu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Polynomial.20evaluation.html#207696987">(Aug 21 2020 at 23:50)</a>:</h4>
<p>Is there anything we should do if all checks of CI on a PR are successful except linting? I see there are lots of PRs in the same situation lately.</p>



<a name="207697013"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Polynomial%20evaluation/near/207697013" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Polynomial.20evaluation.html#207697013">(Aug 21 2020 at 23:51)</a>:</h4>
<p>I think most contributors don't mind if you push a commit that fixes linting errors.</p>



<a name="207697085"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Polynomial%20evaluation/near/207697085" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Dan Stanescu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Polynomial.20evaluation.html#207697085">(Aug 21 2020 at 23:52)</a>:</h4>
<p>OK, then the problem is that I have no idea about linting at all.</p>



<a name="207697228"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Polynomial%20evaluation/near/207697228" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Polynomial.20evaluation.html#207697228">(Aug 21 2020 at 23:54)</a>:</h4>
<p>Ah, you can check the logs from CI to see what the errors are. Let me see if there's a good example.</p>



<a name="207697341"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Polynomial%20evaluation/near/207697341" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Polynomial.20evaluation.html#207697341">(Aug 21 2020 at 23:56)</a>:</h4>
<p>You can click on "Details" next to the failed check on a PR and then click next to the linting step to see errors. The log should tell you what's wrong and how to fix it. For example, the linting errors on <a href="https://github.com/leanprover-community/mathlib/issues/3903">#3903</a> are here: <a href="https://github.com/leanprover-community/mathlib/pull/3903/checks?check_run_id=1014500486#step:5:8">https://github.com/leanprover-community/mathlib/pull/3903/checks?check_run_id=1014500486#step:5:8</a></p>



<a name="207697490"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Polynomial%20evaluation/near/207697490" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Dan Stanescu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Polynomial.20evaluation.html#207697490">(Aug 21 2020 at 23:58)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="123965">@Bryan Gin-ge Chen</span> !</p>
<p>OK, so just to be sure: the person who opened the PR is always supposed to fix the linting errors. Correct?</p>



<a name="207697525"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Polynomial%20evaluation/near/207697525" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Polynomial.20evaluation.html#207697525">(Aug 21 2020 at 23:59)</a>:</h4>
<p>Yes, they're held responsible (unless they state otherwise in a comment).</p>



<a name="207697855"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Polynomial%20evaluation/near/207697855" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Polynomial.20evaluation.html#207697855">(Aug 22 2020 at 00:05)</a>:</h4>
<p>But I think one should assume unless said otherwise that it's okay to directly fix other people's linting errors if you feel so inclined.</p>



<a name="207697955"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Polynomial%20evaluation/near/207697955" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Polynomial.20evaluation.html#207697955">(Aug 22 2020 at 00:06)</a>:</h4>
<p>The original author is responsible for shepherding the PR all the way through to completion (including linting), but it's a collaborative process, and it's super useful, and appreciated, when others either make suggestions via the github interface, or just push commits fixing things.</p>



<a name="207698045"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Polynomial%20evaluation/near/207698045" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Dan Stanescu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Polynomial.20evaluation.html#207698045">(Aug 22 2020 at 00:08)</a>:</h4>
<p>I need a little more help so I can be more efficient myself. <br>
First off, is there anything one can do to check linting before a PR? <br>
Second, I do realize what the first error is and how to fix it. But the second, I'm not sure: I have <code> {ι : Type*} [decidable_eq ι]</code> in my arguments and the linter wants to replace with <code>classical</code>. Not sure how to do that in one lemma.<br>
And third, if I fix these linting errors myself, how do I ask the system to check again?</p>



<a name="207698097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Polynomial%20evaluation/near/207698097" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Polynomial.20evaluation.html#207698097">(Aug 22 2020 at 00:09)</a>:</h4>
<ol>
<li>write <code>#lint</code> at the bottom of a file</li>
</ol>



<a name="207698152"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Polynomial%20evaluation/near/207698152" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Polynomial.20evaluation.html#207698152">(Aug 22 2020 at 00:10)</a>:</h4>
<ol start="2">
<li>just delete those hypotheses, and run thee <code>classical</code> tactic at the beginning of the proof</li>
</ol>



<a name="207698165"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Polynomial%20evaluation/near/207698165" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Polynomial.20evaluation.html#207698165">(Aug 22 2020 at 00:10)</a>:</h4>
<ol start="3">
<li>push a new commit to the PR branch, and continuous integration will automatically re-run the linter</li>
</ol>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>