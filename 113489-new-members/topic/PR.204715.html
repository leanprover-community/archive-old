---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/PR.204715.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/PR.204715.html">PR 4715</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="214480522"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/PR%204715/near/214480522" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/PR.204715.html#214480522">(Oct 25 2020 at 09:48)</a>:</h4>
<p>Dear All,</p>
<p>in <del>#4175</del> <a href="https://github.com/leanprover-community/mathlib/issues/4715">#4715</a> Lean gives a linting error in <code>finset/basic.lean</code>.  I do not think that this is a result of the changes that I made, but I am not sure.  Anyway, simply changing <code>β</code> to <code>γ</code> in the statement of the lemma below is enough to fix the <code>lint</code> error, at least according to the <code>#lint</code> at the bottom of the current file.  Is it ok if I simply do this, or should I perform a different change?</p>
<p>Thank you!</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">nonempty.map</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">s.nonempty</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">↪</span> <span class="n">β</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">s.map</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">nonempty</span> <span class="o">:=</span>
<span class="k">let</span> <span class="o">⟨</span><span class="n">a</span><span class="o">,</span> <span class="n">ha</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">h</span> <span class="k">in</span> <span class="o">⟨</span><span class="n">f</span> <span class="n">a</span><span class="o">,</span> <span class="o">(</span><span class="n">mem_map'</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">mpr</span> <span class="n">ha</span><span class="o">⟩</span>
</code></pre></div>



<a name="214480689"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/PR%204715/near/214480689" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/PR.204715.html#214480689">(Oct 25 2020 at 09:52)</a>:</h4>
<p>(For added context: the lint error is </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c">/-</span><span class="cm"> Checking 519 declarations (plus 152 automatically generated ones) in the current file -/</span>

<span class="c">/-</span><span class="cm"> The `unused_arguments` linter reports: -/</span>
<span class="c">/-</span><span class="cm"> UNUSED ARGUMENTS: -/</span>
<span class="k">#print</span> <span class="n">finset.nonempty.map</span> <span class="c">/-</span><span class="cm"> argument 3: [_inst_1 : decidable_eq β] -/</span>

<span class="c">/-</span><span class="cm"> The `decidable_classical` linter reports: -/</span>
<span class="c">/-</span><span class="cm"> USES OF `decidable` SHOULD BE REPLACED WITH `classical` IN THE PROOF.: -/</span>
<span class="k">#print</span> <span class="n">finset.nonempty.map</span> <span class="c">/-</span><span class="cm"> The following `decidable` hypotheses should be replaced with</span>
<span class="cm">                      `classical` in the proof. argument 3: [_inst_1 : decidable_eq β] -/</span>
</code></pre></div>

<p>and \beta is assumed to have <code>decidable_eq</code>, while \gamma is not.)</p>



<a name="214480716"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/PR%204715/near/214480716" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/PR.204715.html#214480716">(Oct 25 2020 at 09:53)</a>:</h4>
<p>Is that the right PR? <a href="https://github.com/leanprover-community/mathlib/issues/4175">#4175</a> seems to have been merged already</p>



<a name="214480732"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/PR%204715/near/214480732" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/PR.204715.html#214480732">(Oct 25 2020 at 09:53)</a>:</h4>
<p>Sorry, my mistake!  <a href="https://github.com/leanprover-community/mathlib/issues/4715">#4715</a>!</p>



<a name="214480738"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/PR%204715/near/214480738" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/PR.204715.html#214480738">(Oct 25 2020 at 09:53)</a>:</h4>
<p>I will change it elsewhere as well!  Thanks!</p>



<a name="214480903"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/PR%204715/near/214480903" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/PR.204715.html#214480903">(Oct 25 2020 at 09:58)</a>:</h4>
<p>There is a <code>[decidable_eq]</code> assumption in <code>variables</code> in this section. While <code>finset.image</code> needs <code>decidable_eq</code> on the codomain, <code>finset.map</code> doesn't need it. I suggest that you move your lemma to the section with lemmas about <code>finset.map</code> or choose a type variable without <code>[decidable_eq]</code> assumption.</p>



<a name="214481049"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/PR%204715/near/214481049" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/PR.204715.html#214481049">(Oct 25 2020 at 10:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="214703">Yury G. Kudryashov</span> <a href="#narrow/stream/113489-new-members/topic/PR.204715/near/214480903">said</a>:</p>
<blockquote>
<p>There is a <code>[decidable_eq]</code> assumption in <code>variables</code> in this section. While <code>finset.image</code> needs <code>decidable_eq</code> on the codomain, <code>finset.map</code> doesn't need it. I suggest that you move your lemma to the section with lemmas about <code>finset.map</code> or choose a type variable without <code>[decidable_eq]</code> assumption.</p>
</blockquote>
<p>I moved the lemma (with the target type called \beta) at the end of the previous section (<code>map</code>).  Everything seems to still work and <code>lint</code> gives no errors.  Is this preferable to renaming <code>\beta</code> to <code>\gamma</code> ?</p>



<a name="214481228"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/PR%204715/near/214481228" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/PR.204715.html#214481228">(Oct 25 2020 at 10:06)</a>:</h4>
<p>It sounds like a good idea in general to keep everything about <code>map</code> together</p>



<a name="214481295"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/PR%204715/near/214481295" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/PR.204715.html#214481295">(Oct 25 2020 at 10:07)</a>:</h4>
<p>Ok, I will move the lemma <code>nonempty.map</code> to the previous section then and push again the change.  Hopefully, the PR will pass all the tests!</p>
<p>Thank you very much for your help!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>