---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/leanproject.2Fpython.20problem.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.2Fpython.20problem.html">leanproject/python problem</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="211203057"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/python%20problem/near/211203057" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.2Fpython.20problem.html#211203057">(Sep 24 2020 at 23:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="252920">Alex Kontorovich</span> <a href="#narrow/stream/113489-new-members/topic/.7Cexp.7C.3F/near/211192535">said</a>:</p>
<blockquote>
<p>When I try from terminal to do: leanproject get -b mathlib:exp_facts<br>
I get this error: zsh: /usr/local/bin/leanproject: bad interpreter: /usr/local/opt/python/bin/python3.7: no such file or directory<br>
Any idea for how to fix it?... Thanks!</p>
</blockquote>
<p>Aargh!  I just hit the same problem, but fortunately I have a data point about where it came from.</p>



<a name="211203138"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/python%20problem/near/211203138" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.2Fpython.20problem.html#211203138">(Sep 24 2020 at 23:41)</a>:</h4>
<p>I ran the same leanproject command about 10 minutes apart, no problems the first time, the above problem the second time.  And I only ran one significant command in between ...</p>



<a name="211203237"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/python%20problem/near/211203237" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.2Fpython.20problem.html#211203237">(Sep 24 2020 at 23:42)</a>:</h4>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>MAC-M5TBLVDC:mathlib_map-inversion-smooth heathermacbeth$ leanproject import-graph --from analysis.normed_space.basic ../output.graphml
MAC-M5TBLVDC:lean heathermacbeth$ brew install graphviz

<span class="o">[</span>.... I deleted a long output here ....<span class="o">]</span>

Error: Could not remove python keg! Do so manually:
  sudo rm -rf /usr/local/Cellar/python/3.7.7
MAC-M5TBLVDC:mathlib_map-inversion-smooth heathermacbeth$ leanproject import-graph --from analysis.normed_space.basic ../output.pdf
-bash: /usr/local/bin/leanproject: /usr/local/opt/python/bin/python3.7: bad interpreter: No such file or directory
</code></pre></div>



<a name="211203307"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/python%20problem/near/211203307" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.2Fpython.20problem.html#211203307">(Sep 24 2020 at 23:43)</a>:</h4>
<p>Something must have changed about my python when I ran the <code>brew install graphviz</code>?  (I had just seen <br>
<a href="#narrow/stream/113489-new-members/topic/leanproject.20import-graph">https://leanprover.zulipchat.com/#narrow/stream/113489-new-members/topic/leanproject.20import-graph</a><br>
and decided to experiment with graphviz.)</p>



<a name="211203318"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/python%20problem/near/211203318" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.2Fpython.20problem.html#211203318">(Sep 24 2020 at 23:43)</a>:</h4>
<p>So, <code>brew install graphviz</code> removed <code>/usr/local/opt/python/bin/python3.7</code>?</p>



<a name="211203387"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/python%20problem/near/211203387" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.2Fpython.20problem.html#211203387">(Sep 24 2020 at 23:44)</a>:</h4>
<p>Seems so.  How can I get it back?</p>



<a name="211203416"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/python%20problem/near/211203416" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.2Fpython.20problem.html#211203416">(Sep 24 2020 at 23:44)</a>:</h4>
<p>I'm not a Mac user.</p>



<a name="211203460"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/python%20problem/near/211203460" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.2Fpython.20problem.html#211203460">(Sep 24 2020 at 23:45)</a>:</h4>
<p>Could you please pastebin the long output?</p>



<a name="211203641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/python%20problem/near/211203641" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.2Fpython.20problem.html#211203641">(Sep 24 2020 at 23:47)</a>:</h4>
<p><a href="https://pastebin.com/fNq6zj7z">https://pastebin.com/fNq6zj7z</a></p>



<a name="211204610"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/python%20problem/near/211204610" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.2Fpython.20problem.html#211204610">(Sep 25 2020 at 00:01)</a>:</h4>
<p>It says</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">==&gt;</span> <span class="n">Deleted</span> <span class="n">Formulae</span>
<span class="n">python</span> <span class="bp">âœ”</span>                 <span class="n">elasticsearch</span><span class="bp">@</span><span class="mi">2</span><span class="bp">.</span><span class="mi">4</span>        <span class="n">i386</span><span class="bp">-</span><span class="n">elf</span><span class="bp">-</span><span class="n">grub</span>            <span class="n">sflowtool</span>                <span class="n">wpscan</span>
<span class="n">cryptopp</span>                 <span class="n">elasticsearch</span><span class="bp">@</span><span class="mi">5</span><span class="bp">.</span><span class="mi">6</span>        <span class="n">kibana</span><span class="bp">@</span><span class="mi">5</span><span class="bp">.</span><span class="mi">6</span>               <span class="n">tomee</span><span class="bp">-</span><span class="n">jax</span><span class="bp">-</span><span class="n">rs</span>
</code></pre></div>



<a name="211204627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/python%20problem/near/211204627" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.2Fpython.20problem.html#211204627">(Sep 25 2020 at 00:01)</a>:</h4>
<p>I've no idea why <code>graphviz</code> conflicts with <code>python</code> in <code>brew</code></p>



<a name="211204786"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/python%20problem/near/211204786" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.2Fpython.20problem.html#211204786">(Sep 25 2020 at 00:04)</a>:</h4>
<p>It seems that it installed new <code>python@3.7</code> and <code>python@3.8</code></p>



<a name="211204792"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/python%20problem/near/211204792" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.2Fpython.20problem.html#211204792">(Sep 25 2020 at 00:04)</a>:</h4>
<p>Probably at new locations</p>



<a name="211204798"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/python%20problem/near/211204798" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.2Fpython.20problem.html#211204798">(Sep 25 2020 at 00:04)</a>:</h4>
<p>Would it be safe to re-run the python part listed at<br>
<a href="https://leanprover-community.github.io/install/macos_details.html">https://leanprover-community.github.io/install/macos_details.html</a><br>
?</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>brew install python3 pipx
pipx ensurepath
pipx install mathlibtools
</code></pre></div>



<a name="211204801"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/python%20problem/near/211204801" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.2Fpython.20problem.html#211204801">(Sep 25 2020 at 00:04)</a>:</h4>
<p>Try reinstalling <code>mathlibtools</code></p>



<a name="211204828"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/python%20problem/near/211204828" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.2Fpython.20problem.html#211204828">(Sep 25 2020 at 00:04)</a>:</h4>
<p>try the last two commands</p>



<a name="211204857"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/python%20problem/near/211204857" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.2Fpython.20problem.html#211204857">(Sep 25 2020 at 00:05)</a>:</h4>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>-bash: pipx: <span class="nb">command</span> not found
</code></pre></div>



<a name="211204915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/python%20problem/near/211204915" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.2Fpython.20problem.html#211204915">(Sep 25 2020 at 00:06)</a>:</h4>
<p>What about <code>pip install mathlibtools</code> or <code>pip3 install mathlibtools</code>?</p>



<a name="211204920"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/python%20problem/near/211204920" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.2Fpython.20problem.html#211204920">(Sep 25 2020 at 00:06)</a>:</h4>
<p>running <code>brew install pipx</code> now.</p>



<a name="211204948"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/python%20problem/near/211204948" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.2Fpython.20problem.html#211204948">(Sep 25 2020 at 00:06)</a>:</h4>
<p>Will it uninstall graphviz?</p>



<a name="211204953"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/python%20problem/near/211204953" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.2Fpython.20problem.html#211204953">(Sep 25 2020 at 00:06)</a>:</h4>
<p>Family calling for dinner, thank you for your help!  Will try more later.</p>



<a name="211210999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/python%20problem/near/211210999" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.2Fpython.20problem.html#211210999">(Sep 25 2020 at 01:58)</a>:</h4>
<p>I seem to have fixed it with </p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>pipx install --force mathlibtools
pipx ensurepath
</code></pre></div>

<p>(it didn't work without the <code>--force</code>).  It still complains every time I use <code>leanproject</code>:</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>zsh: /usr/local/bin/leanproject: bad interpreter: /usr/local/opt/python/bin/python3.7: no such file or directory
</code></pre></div>

<p>but works nonetheless.</p>



<a name="211211020"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/python%20problem/near/211211020" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.2Fpython.20problem.html#211211020">(Sep 25 2020 at 01:58)</a>:</h4>
<p>Would be interested to hear any ideas for getting rid of the complaint.</p>



<a name="211211042"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/python%20problem/near/211211042" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.2Fpython.20problem.html#211211042">(Sep 25 2020 at 01:59)</a>:</h4>
<p>And tagging <span class="user-mention" data-user-id="252920">@Alex Kontorovich</span> -- I was lucky ( <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span> ) enough to hit the same error as you, right after <a href="#narrow/stream/113489-new-members/topic/.7Cexp.7C.3F">you did</a>!</p>



<a name="211211826"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/python%20problem/near/211211826" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Kontorovich <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.2Fpython.20problem.html#211211826">(Sep 25 2020 at 02:18)</a>:</h4>
<p>Great! Now the previous line you told me (leanproject get -b mathlib:exp_facts) worked. ... now what? :)</p>



<a name="211211841"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/python%20problem/near/211211841" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.2Fpython.20problem.html#211211841">(Sep 25 2020 at 02:19)</a>:</h4>
<p>You should have a new copy of mathlib called mathlib_exp_facts?  Go into it and make your edits.</p>



<a name="211213020"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/python%20problem/near/211213020" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.2Fpython.20problem.html#211213020">(Sep 25 2020 at 02:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="260507">Heather Macbeth</span> <a href="#narrow/stream/113489-new-members/topic/leanproject.2Fpython.20problem/near/211211020">said</a>:</p>
<blockquote>
<p>Would be interested to hear any ideas for getting rid of the complaint.</p>
</blockquote>
<p>What is <code>head -n1 /usr/local/bin/leanproject</code> and <code>type -a python3</code> and <code>type -a python3.7</code> and <code>brew list | grep python</code> and <code>echo $PATH</code></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>