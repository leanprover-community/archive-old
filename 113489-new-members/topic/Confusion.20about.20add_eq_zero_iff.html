---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Confusion.20about.20add_eq_zero_iff.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Confusion.20about.20add_eq_zero_iff.html">Confusion about add_eq_zero_iff</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="199825398"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Confusion%20about%20add_eq_zero_iff/near/199825398" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Lutz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Confusion.20about.20add_eq_zero_iff.html#199825398">(Jun 05 2020 at 00:31)</a>:</h4>
<p>When I try the following:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">real</span><span class="bp">.</span><span class="n">basic</span>

<span class="kn">example</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span> <span class="n">x</span><span class="bp">*</span><span class="n">x</span> <span class="bp">+</span> <span class="n">y</span><span class="bp">*</span><span class="n">y</span> <span class="bp">=</span> <span class="mi">0</span> <span class="bp">→</span> <span class="n">x</span> <span class="bp">=</span> <span class="mi">0</span> <span class="bp">∧</span> <span class="n">y</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="k">begin</span>
    <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
    <span class="n">rw</span> <span class="n">add_eq_zero_iff</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
<span class="kn">end</span>
</code></pre></div>


<p>Lean tells me <code>rewrite tactic failed, did not find instance of the pattern in the target expression _ = 0</code><br>
Why is that? To me <code>h</code> obviously looks like an instance of <code>add_eq_zero_iff</code>. Is it because <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">R</mi></mrow><annotation encoding="application/x-tex">\mathbb{R}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">R</span></span></span></span></span> is not a <code>canonically_ordered_add_monoid</code> which <code>add_eq_zero_iff</code> requires?</p>



<a name="199826064"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Confusion%20about%20add_eq_zero_iff/near/199826064" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Confusion.20about.20add_eq_zero_iff.html#199826064">(Jun 05 2020 at 00:45)</a>:</h4>
<p>It doesn't seem like <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">R</mi></mrow><annotation encoding="application/x-tex">\mathbb{R}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">R</span></span></span></span></span> should satisfy that.  The monoid of non-negative reals under addition would, though, I think.</p>



<a name="199826155"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Confusion%20about%20add_eq_zero_iff/near/199826155" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Lutz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Confusion.20about.20add_eq_zero_iff.html#199826155">(Jun 05 2020 at 00:46)</a>:</h4>
<p>Lol, oh yeah I somehow just realized I'm being stupid</p>



<a name="199826159"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Confusion%20about%20add_eq_zero_iff/near/199826159" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Lutz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Confusion.20about.20add_eq_zero_iff.html#199826159">(Jun 05 2020 at 00:47)</a>:</h4>
<p>I didn't really think about what that theorem means</p>



<a name="199826173"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Confusion%20about%20add_eq_zero_iff/near/199826173" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Lutz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Confusion.20about.20add_eq_zero_iff.html#199826173">(Jun 05 2020 at 00:47)</a>:</h4>
<p>It looks like what I really want is <code>add_eq_zero_iff'</code></p>



<a name="199826242"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Confusion%20about%20add_eq_zero_iff/near/199826242" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Confusion.20about.20add_eq_zero_iff.html#199826242">(Jun 05 2020 at 00:48)</a>:</h4>
<p>Or <code>add_eq_zero_iff_eq_zero_and_eq_zero_of_nonneg_of_nonneg</code></p>



<a name="199826369"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Confusion%20about%20add_eq_zero_iff/near/199826369" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Confusion.20about.20add_eq_zero_iff.html#199826369">(Jun 05 2020 at 00:50)</a>:</h4>
<p>Which looks to be exactly the same lemma as <code>add_eq_zero_iff_eq_zero_of_nonneg</code> just with a longer name <span aria-label="rolling on the floor laughing" class="emoji emoji-1f923" role="img" title="rolling on the floor laughing">:rolling_on_the_floor_laughing:</span></p>



<a name="199826871"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Confusion%20about%20add_eq_zero_iff/near/199826871" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Confusion.20about.20add_eq_zero_iff.html#199826871">(Jun 05 2020 at 01:00)</a>:</h4>
<p>So we should remove the two I just mentioned perhaps as they assume  ordered_cancel_add_comm_monoid rather than ordered_add_comm_monoid</p>



<a name="199826900"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Confusion%20about%20add_eq_zero_iff/near/199826900" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Confusion.20about.20add_eq_zero_iff.html#199826900">(Jun 05 2020 at 01:00)</a>:</h4>
<p>If you do <code>library_search</code>, it suggests <code>exact mul_self_add_mul_self_eq_zero.mp</code> which is exactly the theorem.</p>



<a name="199839309"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Confusion%20about%20add_eq_zero_iff/near/199839309" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Confusion.20about.20add_eq_zero_iff.html#199839309">(Jun 05 2020 at 06:18)</a>:</h4>
<p>Oh yeah, I still remember the day that I understood that "canonically ordered" means "a&lt;=b iff there exists c such that b=a+c". So basically if you're canonical then everything is &gt;=0. So basically it's just <code>nat</code></p>



<a name="199839351"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Confusion%20about%20add_eq_zero_iff/near/199839351" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Confusion.20about.20add_eq_zero_iff.html#199839351">(Jun 05 2020 at 06:18)</a>:</h4>
<p>Computer scientists are so fixated with nat, it's crazy</p>



<a name="199839902"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Confusion%20about%20add_eq_zero_iff/near/199839902" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Confusion.20about.20add_eq_zero_iff.html#199839902">(Jun 05 2020 at 06:31)</a>:</h4>
<p>What about <code>nnreal</code>?</p>



<a name="199840982"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Confusion%20about%20add_eq_zero_iff/near/199840982" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Confusion.20about.20add_eq_zero_iff.html#199840982">(Jun 05 2020 at 06:52)</a>:</h4>
<p>I think the general practice comes from monoid orders</p>



<a name="199840998"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Confusion%20about%20add_eq_zero_iff/near/199840998" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Confusion.20about.20add_eq_zero_iff.html#199840998">(Jun 05 2020 at 06:53)</a>:</h4>
<p>Any (add_)monoid can be canonically ordered</p>



<a name="199841106"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Confusion%20about%20add_eq_zero_iff/near/199841106" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Confusion.20about.20add_eq_zero_iff.html#199841106">(Jun 05 2020 at 06:55)</a>:</h4>
<p>how do you canonically order <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">Z</mi></mrow><annotation encoding="application/x-tex">\Bbb Z</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord mathbb">Z</span></span></span></span>?</p>



<a name="199841164"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Confusion%20about%20add_eq_zero_iff/near/199841164" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Confusion.20about.20add_eq_zero_iff.html#199841164">(Jun 05 2020 at 06:56)</a>:</h4>
<p>I suppose the order is usually not a partial order though</p>



<a name="199841178"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Confusion%20about%20add_eq_zero_iff/near/199841178" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Confusion.20about.20add_eq_zero_iff.html#199841178">(Jun 05 2020 at 06:56)</a>:</h4>
<p>nat can be canonically ordered as a multiplicative monoid by divisibility</p>



<a name="199841205"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Confusion%20about%20add_eq_zero_iff/near/199841205" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Confusion.20about.20add_eq_zero_iff.html#199841205">(Jun 05 2020 at 06:57)</a>:</h4>
<p>int can be canonically ordered but the order is trivial</p>



<a name="199843062"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Confusion%20about%20add_eq_zero_iff/near/199843062" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Confusion.20about.20add_eq_zero_iff.html#199843062">(Jun 05 2020 at 07:28)</a>:</h4>
<p>Kenny you can canonically order any group, because any set is a category</p>



<a name="199895542"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Confusion%20about%20add_eq_zero_iff/near/199895542" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Confusion.20about.20add_eq_zero_iff.html#199895542">(Jun 05 2020 at 15:46)</a>:</h4>
<p>do the nonnegative elements of an arbitrary ordered ring form a canonically ordered monoid?<br>
(my motivating example is the cone of psd matrices, where you put an order on matrices <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>≤</mo><mi>B</mi></mrow><annotation encoding="application/x-tex"> A \le B </annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span> if <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>−</mo><mi>B</mi></mrow><annotation encoding="application/x-tex"> A - B </annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span> is positive semi-definite)</p>



<a name="199941301"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Confusion%20about%20add_eq_zero_iff/near/199941301" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Confusion.20about.20add_eq_zero_iff.html#199941301">(Jun 05 2020 at 22:33)</a>:</h4>
<p>Wouldn't surprise me at all</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>