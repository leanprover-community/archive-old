---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/has_coe.20.E2.84.9D.20.E2.84.9D.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_coe.20.E2.84.9D.20.E2.84.9D.html">has_coe ℝ ℝ</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="207775998"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_coe%20%E2%84%9D%20%E2%84%9D/near/207775998" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_coe.20.E2.84.9D.20.E2.84.9D.html#207775998">(Aug 23 2020 at 14:28)</a>:</h4>
<p>I just started working on the <code>is_R_or_C</code> typeclass, and in the class definition I'd like to require <code>[has_coe ℝ K]</code>. However, when I try to instantiate this with the reals, I get the error that <code>has_coe ℝ ℝ</code> is not registered as an instance. Is this intended behavior? For what it's worth, registering it locally doesn't seem to cause any problems.</p>



<a name="207789201"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_coe%20%E2%84%9D%20%E2%84%9D/near/207789201" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_coe.20.E2.84.9D.20.E2.84.9D.html#207789201">(Aug 23 2020 at 20:10)</a>:</h4>
<p>It is problematic, because it will make <code>has_coe_t R ?</code> loop</p>



<a name="207789727"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_coe%20%E2%84%9D%20%E2%84%9D/near/207789727" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_coe.20.E2.84.9D.20.E2.84.9D.html#207789727">(Aug 23 2020 at 20:24)</a>:</h4>
<p>I see. Oddly enough changing the requirement to <code>has_coe_t ℝ K</code> doesn't work either, it still complains that <code>has_coe_t ℝ ℝ</code> is not an instance. Is there a good way to do this?</p>



<a name="207789897"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_coe%20%E2%84%9D%20%E2%84%9D/near/207789897" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_coe.20.E2.84.9D.20.E2.84.9D.html#207789897">(Aug 23 2020 at 20:29)</a>:</h4>
<p>My suggestion would be not to add any coercion and instead use a local notation</p>



<a name="207791816"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_coe%20%E2%84%9D%20%E2%84%9D/near/207791816" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_coe.20.E2.84.9D.20.E2.84.9D.html#207791816">(Aug 23 2020 at 21:16)</a>:</h4>
<p>What sort of thing do you have in mind? I would like to make statements that apply to the coercion from ℝ to ℂ, and that would also hold for ℝ itself.</p>



<a name="207792280"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_coe%20%E2%84%9D%20%E2%84%9D/near/207792280" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_coe.20.E2.84.9D.20.E2.84.9D.html#207792280">(Aug 23 2020 at 21:29)</a>:</h4>
<p>The easy thing to do is to just have and use a function <code>of_real : R -&gt; K</code></p>



<a name="207792336"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_coe%20%E2%84%9D%20%E2%84%9D/near/207792336" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_coe.20.E2.84.9D.20.E2.84.9D.html#207792336">(Aug 23 2020 at 21:30)</a>:</h4>
<p>but this has a lot of notational overhead. If you decide this matters you can do <code>local notation `funny up arrow` := of_real</code></p>



<a name="207792377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_coe%20%E2%84%9D%20%E2%84%9D/near/207792377" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_coe.20.E2.84.9D.20.E2.84.9D.html#207792377">(Aug 23 2020 at 21:31)</a>:</h4>
<p>And then, when I register the instance <code>is_R_or_C ℂ</code>, I would plug in the coercion into <code>of_real</code>?</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>