---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Subtraction.20types.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html">Subtraction types?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="222439666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222439666" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sandy Maguire <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222439666">(Jan 12 2021 at 14:42)</a>:</h4>
<p>I'm working on a theorem that postulates <code>x \in \R - \Z</code>. Does lean have a notion of subtraction types? Or do I need to kludge this together with <code>x \in R</code> and by showing <code>\not \exists (k : \N), coe k = x</code>?</p>



<a name="222444711"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222444711" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222444711">(Jan 12 2021 at 15:16)</a>:</h4>
<p>What is \R - \Z? Is it a subtype or a subset? There are I guess different ways you can formalise this. If <code>x : \R</code> then you could just say</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.real.basic</span>

<span class="kn">open</span> <span class="n">set</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">∉</span> <span class="n">range</span> <span class="o">(</span><span class="n">coe</span> <span class="o">:</span> <span class="n">ℤ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>



<a name="222445675"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222445675" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222445675">(Jan 12 2021 at 15:22)</a>:</h4>
<p>Is <code>ℝ</code> a <code>floor_ring</code>? You could use things that aren't equal to their own floor.</p>



<a name="222445748"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222445748" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222445748">(Jan 12 2021 at 15:23)</a>:</h4>
<p>It is a floor_ring but this is kind of clunky</p>



<a name="222445763"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222445763" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222445763">(Jan 12 2021 at 15:23)</a>:</h4>
<p>Aww the thumbs up went away.</p>



<a name="222445839"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222445839" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222445839">(Jan 12 2021 at 15:23)</a>:</h4>
<p>I wanted to indicate "yes it's a floor ring" but then I decided I didn't want to promote the idea of using this fact ;-)</p>



<a name="222445880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222445880" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222445880">(Jan 12 2021 at 15:23)</a>:</h4>
<p>Right, because it'd be equiv to the "not in range of coe", and one would have to show anyway that the things that _are_ equal to their own <code>floor</code> are  exactly those that are in the range of <code>coe</code>.</p>



<a name="222445978"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222445978" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222445978">(Jan 12 2021 at 15:24)</a>:</h4>
<p>It might all depend on how one is going to use this in the proof.</p>



<a name="222737286"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222737286" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sandy Maguire <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222737286">(Jan 14 2021 at 15:57)</a>:</h4>
<p>Sorry --- forgot about this thread. The example is:</p>
<p>Suppose <code>x∈R − Z</code> and <code>m∈Z</code> such that <code>x &lt; m &lt; x+ 1</code>.  Show that <code>m</code> is unique.</p>



<a name="222737797"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222737797" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222737797">(Jan 14 2021 at 16:00)</a>:</h4>
<p>By "m is unique" you mean <code>x &lt; m &lt; x + 1 -&gt; x &lt; n &lt; x + 1 -&gt; m = n</code> right? In which case you don't need to assume that x is not an integer, this is true even in that case (for trivial reasons).</p>



<a name="222738097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222738097" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sandy Maguire <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222738097">(Jan 14 2021 at 16:01)</a>:</h4>
<p>Yes, that's what i mean by unique! But is this true for non-integers with lt rather than le?</p>



<a name="222738103"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222738103" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222738103">(Jan 14 2021 at 16:01)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.real.basic</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">m</span> <span class="n">n</span> <span class="o">:</span> <span class="n">ℤ</span><span class="o">)</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">&lt;</span> <span class="n">m</span> <span class="bp">→</span> <span class="o">(</span><span class="n">m</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">&lt;</span> <span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">→</span>
  <span class="n">x</span> <span class="bp">&lt;</span> <span class="n">n</span> <span class="bp">→</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">&lt;</span> <span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">→</span> <span class="n">m</span> <span class="bp">=</span> <span class="n">n</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>
<p>should be provable.</p>



<a name="222738250"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222738250" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222738250">(Jan 14 2021 at 16:02)</a>:</h4>
<p>It's also true if you change <code>x &lt; m</code> to <code>x &lt;= m</code> and <code>x &lt; n</code> to <code>x &lt;= n</code> yes.</p>



<a name="222738285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222738285" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222738285">(Jan 14 2021 at 16:03)</a>:</h4>
<p>You don't ever need to assume something is a non-integer.</p>



<a name="222738378"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222738378" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222738378">(Jan 14 2021 at 16:03)</a>:</h4>
<p>Where you need a non-integer is when you prove "exists m : Z, x &lt; m &lt; x + 1`. You don't need it for uniqueness.</p>



<a name="222738386"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222738386" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sandy Maguire <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222738386">(Jan 14 2021 at 16:03)</a>:</h4>
<p>maybe i'm slow this morning (before coffee), but if <code>x</code> is an integer, then there are no integers for <code>m, n</code> to be between <code>x</code> and <code>x + 1</code>, right?</p>



<a name="222738476"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222738476" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222738476">(Jan 14 2021 at 16:04)</a>:</h4>
<p>That's right, and that's why you can prove it, because you have a false assumption so you can prove anything.</p>



<a name="222738500"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222738500" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sandy Maguire <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222738500">(Jan 14 2021 at 16:04)</a>:</h4>
<p>oh i see, thanks</p>



<a name="222738553"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222738553" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222738553">(Jan 14 2021 at 16:04)</a>:</h4>
<p>I'm never saying "there exists an m for which this works", I'm only saying "if we have an m for which this works, then ..."</p>



<a name="222738562"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222738562" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sandy Maguire <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222738562">(Jan 14 2021 at 16:04)</a>:</h4>
<p>that's more trivial than i was expecting :)</p>



<a name="222738644"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222738644" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222738644">(Jan 14 2021 at 16:05)</a>:</h4>
<p>In Lean, trivial is the new hard...</p>



<a name="222738653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222738653" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222738653">(Jan 14 2021 at 16:05)</a>:</h4>
<p>And there will be a very elegant proof using <code>le_floor</code> or <code>floor_le</code> or <code>floor_lt</code> or whatever there is.</p>



<a name="222738670"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222738670" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sandy Maguire <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222738670">(Jan 14 2021 at 16:05)</a>:</h4>
<p>out of personal curiosity (i'm a type guy first and foremost), is there some way to show <code>x \in \R - \Z</code>?</p>



<a name="222738688"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222738688" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222738688">(Jan 14 2021 at 16:05)</a>:</h4>
<p>The floor function is a great example of an adjoint functor, I found to my surprise a while ago.</p>



<a name="222738766"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222738766" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222738766">(Jan 14 2021 at 16:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="375678">Sandy Maguire</span> <a href="#narrow/stream/113489-new-members/topic/Subtraction.20types.3F/near/222738670">said</a>:</p>
<blockquote>
<p>out of personal curiosity (i'm a type guy first and foremost), is there some way to show <code>x \in \R - \Z</code>?</p>
</blockquote>
<p>Under what assumptions? Of course this is false in general (take x = 37)</p>



<a name="222738812"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222738812" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sandy Maguire <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222738812">(Jan 14 2021 at 16:06)</a>:</h4>
<p>sorry, show is the wrong word. subtract <code>Z</code> from the <code>R</code> type</p>



<a name="222738820"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222738820" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222738820">(Jan 14 2021 at 16:06)</a>:</h4>
<p><code>(m : \R) &lt;= x</code> iff <code>m &lt;= floor(x)</code></p>



<a name="222738868"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222738868" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222738868">(Jan 14 2021 at 16:07)</a>:</h4>
<p>You have to decide what the type of x is going to be. x can only have one type.</p>



<a name="222738920"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222738920" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222738920">(Jan 14 2021 at 16:07)</a>:</h4>
<p>If x is going to have type <code>real</code> then you can just say that x is not an element of the subset of real consisting of integers.</p>



<a name="222738937"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222738937" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sandy Maguire <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222738937">(Jan 14 2021 at 16:07)</a>:</h4>
<p>i think what you're saying is "just show it with a witness" rather than construct a new type which excludes the values</p>



<a name="222739052"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222739052" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222739052">(Jan 14 2021 at 16:08)</a>:</h4>
<p>If however you want to make a completely new type R - Z, then you can make this type, and then if x is a term of that type then x will represent a real which isn't an integer, but x itself will not be a real number, which might have some annoying consequences down the line.</p>



<a name="222739130"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222739130" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222739130">(Jan 14 2021 at 16:08)</a>:</h4>
<p>You can put a predicate on <code>real</code> saying "I am not in the range of the map from the integers"  and then you can make a subtype corresponding to that predicate.</p>



<a name="222739147"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222739147" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sandy Maguire <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222739147">(Jan 14 2021 at 16:08)</a>:</h4>
<p>i haven't yet wrapped my mind around lean's type system, and this question is just me trying to suss out where the edges are</p>



<a name="222739163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222739163" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sandy Maguire <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222739163">(Jan 14 2021 at 16:09)</a>:</h4>
<p>that's helpful, thanks</p>



<a name="222739188"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222739188" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222739188">(Jan 14 2021 at 16:09)</a>:</h4>
<p>But then you will have a map from that subtype to the reals, and that map will not be "the identity map".</p>



<a name="222739285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222739285" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sandy Maguire <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222739285">(Jan 14 2021 at 16:09)</a>:</h4>
<p>while i have you, i'm trying to write a function <code>biggest : \forall {alpha : Type}, (alpha -&gt; \nat) -&gt; \alpha</code></p>



<a name="222739337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222739337" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222739337">(Jan 14 2021 at 16:10)</a>:</h4>
<p>It will of course morally be the inclusion, but do you really want to make a new definition and then constantly apply that inclusion, prove lemmas about the definition? It is typically easier in a system like Lean to just use the definitions which are already there.</p>



<a name="222739344"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222739344" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sandy Maguire <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222739344">(Jan 14 2021 at 16:10)</a>:</h4>
<p>which is not computable in general but probably lean can handle this?</p>



<a name="222739365"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222739365" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222739365">(Jan 14 2021 at 16:10)</a>:</h4>
<p>computability isn't an issue, that's right</p>



<a name="222739369"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222739369" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sandy Maguire <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222739369">(Jan 14 2021 at 16:10)</a>:</h4>
<p>i'm happy to restrict alpha to finite, enumerable types</p>



<a name="222739393"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222739393" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222739393">(Jan 14 2021 at 16:10)</a>:</h4>
<p>Then it's <code>nat.find</code> on the image.</p>



<a name="222739639"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222739639" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sandy Maguire <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222739639">(Jan 14 2021 at 16:12)</a>:</h4>
<p>i'll dig in. i really appreciate how helpful you are, kevin!</p>



<a name="222739655"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222739655" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222739655">(Jan 14 2021 at 16:12)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.real.basic</span>

<span class="kd">def</span> <span class="n">RminusZ</span> <span class="o">:</span> <span class="kt">Type</span> <span class="o">:=</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">//</span> <span class="bp">¬</span> <span class="bp">∃</span> <span class="n">n</span> <span class="o">:</span> <span class="n">ℤ</span><span class="o">,</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">n</span><span class="o">}</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">RminusZ</span><span class="o">)</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="o">:=</span> <span class="n">x</span> <span class="c1">-- fails because x is not a real</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">RminusZ</span><span class="o">)</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="o">:=</span> <span class="n">x.val</span> <span class="c1">-- works because val : RminusZ -&gt; R</span>
</code></pre></div>



<a name="222739765"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222739765" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222739765">(Jan 14 2021 at 16:13)</a>:</h4>
<p>Wait, it's a bit trickier than nat.find because what happens if the map from alpha to nat isn't injective? Then you have to choose a random element whose image is the max.</p>



<a name="222739791"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222739791" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222739791">(Jan 14 2021 at 16:13)</a>:</h4>
<p>i.e. you have "joint biggest" elements.</p>



<a name="222739831"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222739831" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222739831">(Jan 14 2021 at 16:13)</a>:</h4>
<p>What's annoying about the new type is that it's not closed under addition.</p>



<a name="222739905"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222739905" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222739905">(Jan 14 2021 at 16:14)</a>:</h4>
<p>Can one even define addition on it?</p>



<a name="222739911"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222739911" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222739911">(Jan 14 2021 at 16:14)</a>:</h4>
<p>Every definition you make is annoying until you have made the API for that definition.</p>



<a name="222739959"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222739959" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222739959">(Jan 14 2021 at 16:14)</a>:</h4>
<p>You can define an action of the integers on it, <code>Z -&gt; RminusZ -&gt; RminusZ</code> using addition.</p>



<a name="222740097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222740097" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222740097">(Jan 14 2021 at 16:15)</a>:</h4>
<p>But every new definition comes with a certain amount of pain, and this is why it's easier to just add in assumptions to your <em>theorems</em> like <code>(hx : ¬ ∃ n : ℤ, x = n)</code>.</p>



<a name="222740262"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222740262" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sandy Maguire <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222740262">(Jan 14 2021 at 16:16)</a>:</h4>
<p>this is an extremely fruitful discussion. i'm coming from haskell where the answer is ALWAYS "define a new type"</p>



<a name="222740512"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222740512" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222740512">(Jan 14 2021 at 16:17)</a>:</h4>
<p>Because what are you going to do with <code>x : RminusZ</code> anyway? You'll try and compare it with other real numbers or integers, so you will never be talking about x, you'll always be talking about <code>x.val</code>. And then eventually you'll need the proof that x isn't an integer, which is <code>x.property</code> I think (I just call it <code>x.2</code>), and then you realise that actually all you ever needed was <code>x.val</code> and <code>x.2</code> and you could have just started with these anyway.</p>



<a name="222740643"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222740643" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222740643">(Jan 14 2021 at 16:18)</a>:</h4>
<p>I don't know anything about Haskell I'm afraid, I'm a mathematician with very little programming experience.</p>



<a name="222740762"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222740762" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222740762">(Jan 14 2021 at 16:18)</a>:</h4>
<p>I've just learnt the hard way how to say things in Lean in the way which makes them easiest to prove.</p>



<a name="222740876"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222740876" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sandy Maguire <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222740876">(Jan 14 2021 at 16:18)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> mind pushing me a bit further on the "<code>nat.find</code> on the image" thread? is the predicate i want that <code>x | \forall (y : \alpha), f x &gt; f y </code>?</p>



<a name="222740987"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222740987" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222740987">(Jan 14 2021 at 16:19)</a>:</h4>
<p>That predicate will never hold because y can be x</p>



<a name="222741020"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222741020" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sandy Maguire <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222741020">(Jan 14 2021 at 16:19)</a>:</h4>
<p>fair. if i restrict that part away? :)</p>



<a name="222741235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222741235" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222741235">(Jan 14 2021 at 16:21)</a>:</h4>
<p>If f isn't injective you still have problems.</p>



<a name="222741313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222741313" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sandy Maguire <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222741313">(Jan 14 2021 at 16:21)</a>:</h4>
<p>okay, i'll think about what i actually want</p>



<a name="222741325"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtraction%20types%3F/near/222741325" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sandy Maguire <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtraction.20types.3F.html#222741325">(Jan 14 2021 at 16:21)</a>:</h4>
<p>thanks again</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>