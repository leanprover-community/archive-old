---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Bounded.20bilinear.20forms.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Bounded.20bilinear.20forms.html">Bounded bilinear forms</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="261709918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Bounded%20bilinear%20forms/near/261709918" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Bounded.20bilinear.20forms.html#261709918">(Nov 16 2021 at 21:32)</a>:</h4>
<p>I was playing around with Lax-Milgram and I noticed that the definitions of <code>is_bounded_bilinear_map</code> in <code>analysis/normed_space/bounded_linear_maps</code> and <code>bilinear_form</code> in <code>linear_algebra/bilinear_form</code> are quite different, the former defines a proposition and the later defines the object. Is this intentional or should <code>is_bounded_bilinear_map</code> be a lemma and a new definition <code>bounded_bilinear_map</code>, which is of the same form as the one in <code>linear_algebra/bilinear_form</code>?</p>



<a name="261711599"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Bounded%20bilinear%20forms/near/261711599" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Bounded.20bilinear.20forms.html#261711599">(Nov 16 2021 at 21:48)</a>:</h4>
<p><span class="user-mention" data-user-id="412682">@Moritz</span>, perhaps you are asking whether the concept <code>is_bounded_bilinear_map</code> should be "bundled".  Is that right?</p>



<a name="261712113"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Bounded%20bilinear%20forms/near/261712113" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Bounded.20bilinear.20forms.html#261712113">(Nov 16 2021 at 21:52)</a>:</h4>
<p>That is, you're asking whether it would be better to define something like</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">structure</span> <span class="n">bounded_bilinear_form</span> <span class="kd">extends</span> <span class="n">bilin_form</span> <span class="n">R</span> <span class="n">M</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">bounded</span> <span class="o">:</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">C</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">),</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">E</span><span class="o">)</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">F</span><span class="o">),</span> <span class="bp">∥</span><span class="n">f</span> <span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">)</span><span class="bp">∥</span> <span class="bp">≤</span> <span class="o">(</span><span class="n">C</span> <span class="bp">*</span> <span class="bp">∥</span><span class="n">x</span><span class="bp">∥</span><span class="o">)</span> <span class="bp">*</span> <span class="bp">∥</span><span class="n">y</span><span class="bp">∥</span><span class="o">)</span>
</code></pre></div>



<a name="261712398"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Bounded%20bilinear%20forms/near/261712398" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Bounded.20bilinear.20forms.html#261712398">(Nov 16 2021 at 21:55)</a>:</h4>
<p>I was asking whether one could imitate the definition of <code>bilin_form</code>, but extending it sounds even better</p>



<a name="261712691"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Bounded%20bilinear%20forms/near/261712691" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Bounded.20bilinear.20forms.html#261712691">(Nov 16 2021 at 21:57)</a>:</h4>
<p>I believe this is a case where it was written "unbundled" a long time ago, before bundling everything became the mathlib convention.  It seems that <span class="user-mention" data-user-id="110031">@Patrick Massot</span> wrote the first version of this file back in 2018 so he can probably confirm this.</p>



<a name="261712822"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Bounded%20bilinear%20forms/near/261712822" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Bounded.20bilinear.20forms.html#261712822">(Nov 16 2021 at 21:58)</a>:</h4>
<p>Offhand, I would say, yes, it might be good to change to a bundled definition, but it might be a fair bit of work to switch over.</p>



<a name="261712903"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Bounded%20bilinear%20forms/near/261712903" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Bounded.20bilinear.20forms.html#261712903">(Nov 16 2021 at 21:59)</a>:</h4>
<p>For something related which is already bundled, check out <a href="https://leanprover-community.github.io/mathlib_docs/find/continuous_multilinear_map">docs#continuous_multilinear_map</a></p>



<a name="261713606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Bounded%20bilinear%20forms/near/261713606" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Bounded.20bilinear.20forms.html#261713606">(Nov 16 2021 at 22:04)</a>:</h4>
<p>Mathlib often goes through large-scale refactors like this, so if there's a consensus, you'd be welcome to switch it over (but we usually try to save our newcomers from having to do this kind of tedious work <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span> )</p>



<a name="261713821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Bounded%20bilinear%20forms/near/261713821" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Bounded.20bilinear.20forms.html#261713821">(Nov 16 2021 at 22:06)</a>:</h4>
<p>I've actually found that bundling stuff is really educational! Several Imperial students bundled basic algebraic stuff very early on in their career and I'm convinced it taught them a lot. "Look at this file, now try to do the same with this thing"</p>



<a name="261713839"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Bounded%20bilinear%20forms/near/261713839" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Bounded.20bilinear.20forms.html#261713839">(Nov 16 2021 at 22:06)</a>:</h4>
<p>I feel it is more tedious to prove Lax-Milgram with the unbundled version :-D</p>



<a name="261713929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Bounded%20bilinear%20forms/near/261713929" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Bounded.20bilinear.20forms.html#261713929">(Nov 16 2021 at 22:07)</a>:</h4>
<p>(I am delighted to hear someone is attacking Lax-Milgram!)</p>



<a name="261713997"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Bounded%20bilinear%20forms/near/261713997" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Bounded.20bilinear.20forms.html#261713997">(Nov 16 2021 at 22:07)</a>:</h4>
<p>Yeah, refactoring the stuff in linear_algebra was really instructive, even though it was not that difficult. I am just afraid that if I start refactoring everything I find, I will never prove anything in Lean</p>



<a name="261714103"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Bounded%20bilinear%20forms/near/261714103" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Bounded.20bilinear.20forms.html#261714103">(Nov 16 2021 at 22:08)</a>:</h4>
<p>welcome to what we do here ;b</p>



<a name="261714139"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Bounded%20bilinear%20forms/near/261714139" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Bounded.20bilinear.20forms.html#261714139">(Nov 16 2021 at 22:08)</a>:</h4>
<p>I don't think I introduced bounded bilinear maps. But I can confirm that nothing was bundled in 2018</p>



<a name="261714740"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Bounded%20bilinear%20forms/near/261714740" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Bounded.20bilinear.20forms.html#261714740">(Nov 16 2021 at 22:13)</a>:</h4>
<p>Ah, in fact it was <span class="user-mention" data-user-id="110050">@Sebastien Gouezel</span>, in <a href="https://github.com/leanprover-community/mathlib/issues/966">#966</a>.</p>



<a name="261715215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Bounded%20bilinear%20forms/near/261715215" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Bounded.20bilinear.20forms.html#261715215">(Nov 16 2021 at 22:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="412682">Moritz</span> <a href="#narrow/stream/113489-new-members/topic/Bounded.20bilinear.20forms/near/261713839">said</a>:</p>
<blockquote>
<p>I feel it is more tedious to prove Lax-Milgram with the unbundled version :-D</p>
</blockquote>
<p><span class="user-mention silent" data-user-id="412682">Moritz</span> <a href="#narrow/stream/113489-new-members/topic/Bounded.20bilinear.20forms/near/261713997">said</a>:</p>
<blockquote>
<p>I am just afraid that if I start refactoring everything I find, I will never prove anything in Lean</p>
</blockquote>
<p>Indeed, there's a bit of "tedious either way" going on here .... but my guess is that it'll be slightly pleasanter (for now) to do it with the existing, unbundled version, feel free to recruit help on Zulip for things that feel harder than they should be.</p>



<a name="261717085"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Bounded%20bilinear%20forms/near/261717085" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Bounded.20bilinear.20forms.html#261717085">(Nov 16 2021 at 22:32)</a>:</h4>
<p>Actually, a third way would be to assume</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="o">(</span><span class="n">B</span> <span class="o">:</span> <span class="n">bilin_form</span> <span class="n">R</span> <span class="n">M</span><span class="o">)</span> <span class="o">(</span><span class="n">hB</span> <span class="o">:</span> <span class="n">is_bounded_bilinear_map</span> <span class="n">B</span><span class="o">)</span>
</code></pre></div>
<p>which is a little redundant (since it's stating the bilinearity twice), but not actually wrong.</p>



<a name="261717522"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Bounded%20bilinear%20forms/near/261717522" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Bounded.20bilinear.20forms.html#261717522">(Nov 16 2021 at 22:35)</a>:</h4>
<p>(I mean, hopefully this would not be what is done in the library in another 3 years from now, but I think it's a perfectly fine hack for now.)</p>



<a name="261907861"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Bounded%20bilinear%20forms/near/261907861" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Bounded.20bilinear.20forms.html#261907861">(Nov 18 2021 at 10:12)</a>:</h4>
<p>The issue with not cleaning up now (or soon) is that it will only get more involved the more stuff we build on top of the non-refactored structure.</p>



<a name="261908431"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Bounded%20bilinear%20forms/near/261908431" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Bounded.20bilinear.20forms.html#261908431">(Nov 18 2021 at 10:18)</a>:</h4>
<p>I've looked at the linear algebra part of it and I feel like even that is in need of a quite significant cleanup: I think it is possible to unify <code>bilinear_map</code>, <code>bilin_form</code> and <code>sesq_form</code> into a single <code>semibilin_map</code> which has the former three as special cases. The definition could be essentially what is the definition of <code>bilin_form</code> but way more general (yesterday I generalized it to a bilinear map, but not with the ring homomorphism yet). the way that <code>bilin_form</code> is written makes it easy to extend it to a bounded bilinear form, I don't see how to do the same thing with the current definition of the bilinear map.</p>



<a name="261908568"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Bounded%20bilinear%20forms/near/261908568" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Bounded.20bilinear.20forms.html#261908568">(Nov 18 2021 at 10:19)</a>:</h4>
<p>Is it ok to do a pull-request with a very much wip version just to get feedback on whether this has any chance of getting accepted into mathlib?</p>



<a name="261908677"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Bounded%20bilinear%20forms/near/261908677" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Bounded.20bilinear.20forms.html#261908677">(Nov 18 2021 at 10:20)</a>:</h4>
<p>Certainly! There are <code>RFC</code> and <code>WIP</code> labels that you can use.</p>



<a name="261924572"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Bounded%20bilinear%20forms/near/261924572" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Bounded.20bilinear.20forms.html#261924572">(Nov 18 2021 at 13:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="412682">Moritz</span> <a href="#narrow/stream/113489-new-members/topic/Bounded.20bilinear.20forms/near/261908431">said</a>:</p>
<blockquote>
<p>I've looked at the linear algebra part of it and I feel like even that is in need of a quite significant cleanup: I think it is possible to unify <code>bilinear_map</code>, <code>bilin_form</code> and <code>sesq_form</code> into a single <code>semibilin_map</code> which has the former three as special cases. The definition could be essentially what is the definition of <code>bilin_form</code> but way more general (yesterday I generalized it to a bilinear map, but not with the ring homomorphism yet). the way that <code>bilin_form</code> is written makes it easy to extend it to a bounded bilinear form, I don't see how to do the same thing with the current definition of the bilinear map.</p>
</blockquote>
<p>Is there any reason to use these over things like <code>E →ₗ[R] F →ₗ[R] G</code>?</p>



<a name="261947666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Bounded%20bilinear%20forms/near/261947666" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Bounded.20bilinear.20forms.html#261947666">(Nov 18 2021 at 16:02)</a>:</h4>
<p>This topic was moved by <span class="user-mention silent" data-user-id="238446">Anne Baanen</span> to <a class="stream-topic" data-stream-id="116395" href="/#narrow/stream/116395-maths/topic/Bounded.20bilinear.20forms">#maths &gt; Bounded bilinear forms</a></p>



<a name="261948117"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Bounded%20bilinear%20forms/near/261948117" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Bounded.20bilinear.20forms.html#261948117">(Nov 18 2021 at 16:05)</a>:</h4>
<p>I was also thinking about this because just yesterday I opened a PR (<a href="https://github.com/leanprover-community/mathlib/issues/10373">#10373</a>) to allow semilinear versions of maps of type <code>E →ₗ[R] F →ₗ[R] G</code>, i.e. <code>E →ₛₗ[σ] F →ₛₗ[ρ] G</code>, with <code>[module R₁ E]</code>, <code>[module R₂ F]</code> and <code>[module R₃ G]</code>, and <code>σ : R₁ →+* R₃</code>, <code>ρ : R₂ →+* R₃</code>. As far as I can tell, this should cover pretty much all cases of interest, so I was wondering if we should just use that systematically and deprecate <code>bilin_form</code> and <code>sesq_form</code>.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>