---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/list.20(list.20bool).20--.3E.20list.20bool.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.20(list.20bool).20--.3E.20list.20bool.html">list (list bool) --> list bool</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="280033707"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list%20%28list%20bool%29%20--%3E%20list%20bool/near/280033707" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.20(list.20bool).20--.3E.20list.20bool.html#280033707">(Apr 25 2022 at 07:48)</a>:</h4>
<p>Dear All,</p>
<p>I would like to convert a <code>list (list bool)</code> to a single <code>list bool</code>, by taking the "componentwise <code>or</code> of the entries".  (I happen to know that all the inner lists of <code>bool</code>s have the same length).  I found that <code>list.map₂ (∨)</code> does the right thing, with input two separate lists.  I would like to iterate this on the whole list.  I could probably write it myself, but I also imagine that this already exists!</p>
<p>Thanks!</p>



<a name="280034088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list%20%28list%20bool%29%20--%3E%20list%20bool/near/280034088" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.20(list.20bool).20--.3E.20list.20bool.html#280034088">(Apr 25 2022 at 07:52)</a>:</h4>
<p><code>by library_search</code>?</p>



<a name="280034126"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list%20%28list%20bool%29%20--%3E%20list%20bool/near/280034126" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.20(list.20bool).20--.3E.20list.20bool.html#280034126">(Apr 25 2022 at 07:52)</a>:</h4>
<p><del>I think this is <a href="https://leanprover-community.github.io/mathlib_docs/find/list.join">docs#list.join</a></del></p>



<a name="280034168"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list%20%28list%20bool%29%20--%3E%20list%20bool/near/280034168" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.20(list.20bool).20--.3E.20list.20bool.html#280034168">(Apr 25 2022 at 07:53)</a>:</h4>
<p>with library_search, I find:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">ll</span> <span class="o">:</span> <span class="n">list</span> <span class="o">(</span><span class="n">list</span> <span class="n">bool</span><span class="o">))</span> <span class="o">:</span> <span class="n">list</span> <span class="n">bool</span> <span class="o">:=</span> <span class="n">list.nil</span>
</code></pre></div>



<a name="280034235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list%20%28list%20bool%29%20--%3E%20list%20bool/near/280034235" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.20(list.20bool).20--.3E.20list.20bool.html#280034235">(Apr 25 2022 at 07:53)</a>:</h4>
<p>Does it behave any better with <code>ll</code> on the right of the colon?</p>



<a name="280034280"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list%20%28list%20bool%29%20--%3E%20list%20bool/near/280034280" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.20(list.20bool).20--.3E.20list.20bool.html#280034280">(Apr 25 2022 at 07:54)</a>:</h4>
<p>What I want is some iteration of currying and <code>list.map₂ (∨)</code>.</p>



<a name="280034318"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list%20%28list%20bool%29%20--%3E%20list%20bool/near/280034318" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.20(list.20bool).20--.3E.20list.20bool.html#280034318">(Apr 25 2022 at 07:54)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">:</span> <span class="n">list</span> <span class="o">(</span><span class="n">list</span> <span class="n">bool</span><span class="o">)</span> <span class="bp">→</span>  <span class="n">list</span> <span class="n">bool</span> <span class="o">:=</span> <span class="n">list.join</span>
</code></pre></div>
<p>!</p>



<a name="280034382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list%20%28list%20bool%29%20--%3E%20list%20bool/near/280034382" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.20(list.20bool).20--.3E.20list.20bool.html#280034382">(Apr 25 2022 at 07:55)</a>:</h4>
<p>Ok, maybe it just is not there.  It is easy enough to instruct lean what to do anyway.  Thanks!</p>



<a name="280034410"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list%20%28list%20bool%29%20--%3E%20list%20bool/near/280034410" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.20(list.20bool).20--.3E.20list.20bool.html#280034410">(Apr 25 2022 at 07:55)</a>:</h4>
<p>What output do you want for <code>nil</code>?</p>



<a name="280034438"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list%20%28list%20bool%29%20--%3E%20list%20bool/near/280034438" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.20(list.20bool).20--.3E.20list.20bool.html#280034438">(Apr 25 2022 at 07:55)</a>:</h4>
<p>I am not sure that I care...</p>



<a name="280034505"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list%20%28list%20bool%29%20--%3E%20list%20bool/near/280034505" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.20(list.20bool).20--.3E.20list.20bool.html#280034505">(Apr 25 2022 at 07:56)</a>:</h4>
<p>probably <code>tt</code>.</p>



<a name="280034518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list%20%28list%20bool%29%20--%3E%20list%20bool/near/280034518" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.20(list.20bool).20--.3E.20list.20bool.html#280034518">(Apr 25 2022 at 07:56)</a>:</h4>
<p>or rather, <code>[tt]</code></p>



<a name="280034557"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list%20%28list%20bool%29%20--%3E%20list%20bool/near/280034557" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.20(list.20bool).20--.3E.20list.20bool.html#280034557">(Apr 25 2022 at 07:57)</a>:</h4>
<p><span class="user-mention" data-user-id="321459">@Damiano Testa</span> So you want to <a href="https://leanprover-community.github.io/mathlib_docs/find/list.foldr">docs#list.foldr</a> <code>list.map\2</code>, I guess?</p>



<a name="280034562"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list%20%28list%20bool%29%20--%3E%20list%20bool/near/280034562" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.20(list.20bool).20--.3E.20list.20bool.html#280034562">(Apr 25 2022 at 07:57)</a>:</h4>
<p>I think the behavior might be easier to reason about if your type was <code>list (vector n X)</code>, then the output for <code>nil</code> would be obvious (<code>repeat ff n</code>)</p>



<a name="280034570"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list%20%28list%20bool%29%20--%3E%20list%20bool/near/280034570" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.20(list.20bool).20--.3E.20list.20bool.html#280034570">(Apr 25 2022 at 07:57)</a>:</h4>
<p>actually, I think that I want <code>[ff]</code>.  But I really do not care: I want to scan the output for <code>tt</code>.  Also <code>[]</code> woudl work for me.</p>



<a name="280034587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list%20%28list%20bool%29%20--%3E%20list%20bool/near/280034587" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.20(list.20bool).20--.3E.20list.20bool.html#280034587">(Apr 25 2022 at 07:57)</a>:</h4>
<p>Ah, Johan, this looks promising!!  Thanks!</p>



<a name="280034630"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list%20%28list%20bool%29%20--%3E%20list%20bool/near/280034630" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.20(list.20bool).20--.3E.20list.20bool.html#280034630">(Apr 25 2022 at 07:58)</a>:</h4>
<p>Another option is to transpose the list of lists first, and then use <a href="https://leanprover-community.github.io/mathlib_docs/find/list.any">docs#list.any</a> [edit: was <a href="https://leanprover-community.github.io/mathlib_docs/find/bool.any">docs#bool.any</a>]</p>



<a name="280034724"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list%20%28list%20bool%29%20--%3E%20list%20bool/near/280034724" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.20(list.20bool).20--.3E.20list.20bool.html#280034724">(Apr 25 2022 at 07:58)</a>:</h4>
<p>I think you can use the fact that <code>lists</code> is a <a href="https://leanprover-community.github.io/mathlib_docs/find/traversable">docs#traversable</a></p>



<a name="280034740"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list%20%28list%20bool%29%20--%3E%20list%20bool/near/280034740" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.20(list.20bool).20--.3E.20list.20bool.html#280034740">(Apr 25 2022 at 07:58)</a>:</h4>
<p>(it doesn't exist)</p>



<a name="280034772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list%20%28list%20bool%29%20--%3E%20list%20bool/near/280034772" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.20(list.20bool).20--.3E.20list.20bool.html#280034772">(Apr 25 2022 at 07:58)</a>:</h4>
<p>Also, transposing <code>nil : list (list X)</code> is ill-defined (it's a <code>0 × n</code> list, but n is unknown)</p>



<a name="280034776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list%20%28list%20bool%29%20--%3E%20list%20bool/near/280034776" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.20(list.20bool).20--.3E.20list.20bool.html#280034776">(Apr 25 2022 at 07:58)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/list.any">docs#list.any</a> does!</p>



<a name="280037561"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list%20%28list%20bool%29%20--%3E%20list%20bool/near/280037561" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.20(list.20bool).20--.3E.20list.20bool.html#280037561">(Apr 25 2022 at 08:23)</a>:</h4>
<p><code>list.map list.any</code></p>



<a name="280037616"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list%20%28list%20bool%29%20--%3E%20list%20bool/near/280037616" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.20(list.20bool).20--.3E.20list.20bool.html#280037616">(Apr 25 2022 at 08:24)</a>:</h4>
<p>The idea is that you're doing a component-wise operation, so start with <code>list.map</code>. Then you want to take a bunch of <code>or</code>, so <code>list.any</code>.</p>



<a name="280037949"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list%20%28list%20bool%29%20--%3E%20list%20bool/near/280037949" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.20(list.20bool).20--.3E.20list.20bool.html#280037949">(Apr 25 2022 at 08:26)</a>:</h4>
<p>Oh, do you want to take the <code>or</code>s across the lists rather than within each list?</p>



<a name="280038223"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list%20%28list%20bool%29%20--%3E%20list%20bool/near/280038223" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.20(list.20bool).20--.3E.20list.20bool.html#280038223">(Apr 25 2022 at 08:29)</a>:</h4>
<p>Why were we against transposing?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">zip_or</span> <span class="o">(</span><span class="n">ll</span> <span class="o">:</span> <span class="n">list</span> <span class="o">(</span><span class="n">list</span> <span class="n">bool</span><span class="o">))</span> <span class="o">:</span> <span class="n">list</span> <span class="n">bool</span> <span class="o">:=</span> <span class="n">ll.transpose.map</span> <span class="n">list.bor</span>
</code></pre></div>



<a name="280038305"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list%20%28list%20bool%29%20--%3E%20list%20bool/near/280038305" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.20(list.20bool).20--.3E.20list.20bool.html#280038305">(Apr 25 2022 at 08:30)</a>:</h4>
<p>No idea, that got me confused too.</p>



<a name="280038444"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list%20%28list%20bool%29%20--%3E%20list%20bool/near/280038444" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.20(list.20bool).20--.3E.20list.20bool.html#280038444">(Apr 25 2022 at 08:31)</a>:</h4>
<p><code>zip_or []</code> evaluates to <code>[]</code>, which is sensible.</p>



<a name="280038765"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list%20%28list%20bool%29%20--%3E%20list%20bool/near/280038765" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.20(list.20bool).20--.3E.20list.20bool.html#280038765">(Apr 25 2022 at 08:34)</a>:</h4>
<p>"zip" isn't quite the right name. I was thinking about the Python <code>zip(*ll)</code> idiom for taking transposes, where <code>zip(l1, l2, l3, ..., ln)</code> creates a list of length-n tuples using the entries of the lists, and star notation means "take all the entries of <code>ll</code> as arguments to <code>zip</code>".</p>



<a name="280039269"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list%20%28list%20bool%29%20--%3E%20list%20bool/near/280039269" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.20(list.20bool).20--.3E.20list.20bool.html#280039269">(Apr 25 2022 at 08:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="306601">Kyle Miller</span> <a href="#narrow/stream/113489-new-members/topic/list.20.28list.20bool.29.20--.3E.20list.20bool/near/280038223">said</a>:</p>
<blockquote>
<p>Why were we against transposing?</p>
</blockquote>
<p>I don't think anybody was against transposing. I think <span class="user-mention" data-user-id="310045">@Eric Wieser</span>'s <span aria-label="thumbs down" class="emoji emoji-1f44e" role="img" title="thumbs down">:thumbs_down:</span> was indicating that a <code>docs#foobar</code> didn't give a result.</p>



<a name="280039443"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list%20%28list%20bool%29%20--%3E%20list%20bool/near/280039443" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.20(list.20bool).20--.3E.20list.20bool.html#280039443">(Apr 25 2022 at 08:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113489-new-members/topic/list.20.28list.20bool.29.20--.3E.20list.20bool/near/280034772">said</a>:</p>
<blockquote>
<p>Also, transposing <code>nil : list (list X)</code> is ill-defined (it's a <code>0 × n</code> list, but n is unknown)</p>
</blockquote>
<p>This looked like being against <span aria-label="point up" class="emoji emoji-1f446" role="img" title="point up">:point_up:</span></p>



<a name="280039911"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list%20%28list%20bool%29%20--%3E%20list%20bool/near/280039911" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.20(list.20bool).20--.3E.20list.20bool.html#280039911">(Apr 25 2022 at 08:44)</a>:</h4>
<p>Sorry, I had a small emergency with my cat, now resolved!  Let me get up to speed!</p>



<a name="280040024"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list%20%28list%20bool%29%20--%3E%20list%20bool/near/280040024" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Johnson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.20(list.20bool).20--.3E.20list.20bool.html#280040024">(Apr 25 2022 at 08:45)</a>:</h4>
<p><span class="user-mention silent" data-user-id="306601">Kyle Miller</span> <a href="#narrow/stream/113489-new-members/topic/list.20.28list.20bool.29.20--.3E.20list.20bool/near/280038444">said</a>:</p>
<blockquote>
<p><code>zip_or []</code> evaluates to <code>[]</code>, which is sensible.</p>
</blockquote>
<p>If we know what the length of each inner list is supposed to be, we can handle the nil case in a special way:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">f</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">list</span> <span class="o">(</span><span class="n">list</span> <span class="n">bool</span><span class="o">))</span>
  <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">e</span> <span class="o">:</span> <span class="n">list</span> <span class="n">bool</span><span class="o">),</span> <span class="n">e</span> <span class="bp">∈</span> <span class="n">s</span> <span class="bp">→</span> <span class="n">e.length</span> <span class="bp">=</span> <span class="n">n</span><span class="o">),</span> <span class="n">list</span> <span class="n">bool</span>
<span class="bp">|</span> <span class="n">n</span> <span class="o">[]</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">list.repeat</span> <span class="n">ff</span> <span class="n">n</span>
<span class="bp">|</span> <span class="n">_</span> <span class="n">s</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">s.transpose.map</span> <span class="n">list.bor</span>
</code></pre></div>



<a name="280040058"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list%20%28list%20bool%29%20--%3E%20list%20bool/near/280040058" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Johnson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.20(list.20bool).20--.3E.20list.20bool.html#280040058">(Apr 25 2022 at 08:45)</a>:</h4>
<p>Assumption <code>h</code> is redundant, it's there for safety.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">f</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">list</span> <span class="o">(</span><span class="n">list</span> <span class="n">bool</span><span class="o">)),</span> <span class="n">list</span> <span class="n">bool</span>
<span class="bp">|</span> <span class="n">n</span> <span class="o">[]</span> <span class="o">:=</span> <span class="n">list.repeat</span> <span class="n">ff</span> <span class="n">n</span>
<span class="bp">|</span> <span class="n">_</span> <span class="n">s</span> <span class="o">:=</span> <span class="n">s.transpose.map</span> <span class="n">list.bor</span>
</code></pre></div>



<a name="280040728"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list%20%28list%20bool%29%20--%3E%20list%20bool/near/280040728" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.20(list.20bool).20--.3E.20list.20bool.html#280040728">(Apr 25 2022 at 08:52)</a>:</h4>
<p>Thank you all!  I'll go with Kyle's</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">zip_or</span> <span class="o">(</span><span class="n">ll</span> <span class="o">:</span> <span class="n">list</span> <span class="o">(</span><span class="n">list</span> <span class="n">bool</span><span class="o">))</span> <span class="o">:</span> <span class="n">list</span> <span class="n">bool</span> <span class="o">:=</span> <span class="n">ll.transpose.map</span> <span class="n">list.bor</span>
</code></pre></div>
<p>but I won't need to actually make the definition.  This is for reporting errors and I simply want to make sure that every input is being used.  Thus, I just want to know whether an entry is <code>tt</code>, standing for "is unused", or <code>ff</code>, standing for "is not unused".</p>



<a name="280043842"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/list%20%28list%20bool%29%20--%3E%20list%20bool/near/280043842" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/list.20(list.20bool).20--.3E.20list.20bool.html#280043842">(Apr 25 2022 at 09:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/113489-new-members/topic/list.20.28list.20bool.29.20--.3E.20list.20bool/near/280039443">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113489-new-members/topic/list.20.28list.20bool.29.20--.3E.20list.20bool/near/280034772">said</a>:</p>
<blockquote>
<p>Also, transposing <code>nil : list (list X)</code> is ill-defined (it's a <code>0 × n</code> list, but n is unknown)</p>
</blockquote>
<p>This looked like being against <span aria-label="point up" class="emoji emoji-1f446" role="img" title="point up">:point_up:</span></p>
</blockquote>
<p>This is more an objection against the phrasing of the question in general, not the solution to it. Transposing <code>list (list X)</code> has tripped me up multiple times in python on the empty list; usually it's an indication that your datatype is wrong. I assume <a href="https://leanprover-community.github.io/mathlib_docs/find/list.transpose">docs#list.transpose</a> sends it to the empty list?</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>