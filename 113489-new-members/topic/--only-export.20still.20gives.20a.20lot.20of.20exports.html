---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/--only-export.20still.20gives.20a.20lot.20of.20exports.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/--only-export.20still.20gives.20a.20lot.20of.20exports.html">--only-export still gives a lot of exports</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="299445457"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/--only-export%20still%20gives%20a%20lot%20of%20exports/near/299445457" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Brooks <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/--only-export.20still.20gives.20a.20lot.20of.20exports.html#299445457">(Sep 18 2022 at 15:12)</a>:</h4>
<p>I'm trying to understand the simple export format described at <a href="https://github.com/leanprover-community/lean/blob/master/doc/export_format.md">https://github.com/leanprover-community/lean/blob/master/doc/export_format.md</a> and want to look at basic examples. I made the file <code>examples.lean</code> containing:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">constant</span> <span class="n">f</span><span class="o">:</span> <span class="kt">Type</span>
</code></pre></div>
<p>And when I run <code>lean --export=exported --only-export=f examples.lean</code> I expect to get a file with just a couple lines in it. Instead I get:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="mi">1</span> <span class="bp">#</span><span class="n">NS</span> <span class="mi">0</span> <span class="n">u</span>
<span class="mi">2</span> <span class="bp">#</span><span class="n">NS</span> <span class="mi">0</span> <span class="n">eq</span>
<span class="mi">3</span> <span class="bp">#</span><span class="n">NS</span> <span class="mi">0</span> <span class="n">α</span>
<span class="mi">1</span> <span class="bp">#</span><span class="n">UP</span> <span class="mi">1</span>
<span class="mi">0</span> <span class="bp">#</span><span class="n">ES</span> <span class="mi">1</span>
<span class="mi">4</span> <span class="bp">#</span><span class="n">NS</span> <span class="mi">0</span> <span class="n">a</span>
<span class="mi">1</span> <span class="bp">#</span><span class="n">EV</span> <span class="mi">0</span>
<span class="mi">2</span> <span class="bp">#</span><span class="n">EV</span> <span class="mi">1</span>
<span class="mi">3</span> <span class="bp">#</span><span class="n">ES</span> <span class="mi">0</span>
<span class="mi">4</span> <span class="bp">#</span><span class="n">EP</span> <span class="bp">#</span><span class="n">BD</span> <span class="mi">4</span> <span class="mi">2</span> <span class="mi">3</span>
<span class="mi">5</span> <span class="bp">#</span><span class="n">EP</span> <span class="bp">#</span><span class="n">BD</span> <span class="mi">4</span> <span class="mi">1</span> <span class="mi">4</span>
<span class="mi">6</span> <span class="bp">#</span><span class="n">EP</span> <span class="bp">#</span><span class="n">BI</span> <span class="mi">3</span> <span class="mi">0</span> <span class="mi">5</span>
<span class="mi">5</span> <span class="bp">#</span><span class="n">NS</span> <span class="mi">2</span> <span class="n">refl</span>
<span class="mi">7</span> <span class="bp">#</span><span class="n">EC</span> <span class="mi">2</span> <span class="mi">1</span>
<span class="mi">8</span> <span class="bp">#</span><span class="n">EA</span> <span class="mi">7</span> <span class="mi">2</span>
<span class="mi">9</span> <span class="bp">#</span><span class="n">EA</span> <span class="mi">8</span> <span class="mi">1</span>
<span class="mi">10</span> <span class="bp">#</span><span class="n">EA</span> <span class="mi">9</span> <span class="mi">1</span>
<span class="mi">11</span> <span class="bp">#</span><span class="n">EP</span> <span class="bp">#</span><span class="n">BD</span> <span class="mi">4</span> <span class="mi">1</span> <span class="mi">10</span>
<span class="mi">12</span> <span class="bp">#</span><span class="n">EP</span> <span class="bp">#</span><span class="n">BI</span> <span class="mi">3</span> <span class="mi">0</span> <span class="mi">11</span>
<span class="bp">#</span><span class="n">IND</span> <span class="mi">2</span> <span class="mi">2</span> <span class="mi">6</span> <span class="mi">1</span> <span class="mi">5</span> <span class="mi">12</span> <span class="mi">1</span>
<span class="bp">#</span><span class="n">QUOT</span>
<span class="mi">6</span> <span class="bp">#</span><span class="n">NS</span> <span class="mi">0</span> <span class="n">f</span>
<span class="mi">2</span> <span class="bp">#</span><span class="n">US</span> <span class="mi">0</span>
<span class="mi">13</span> <span class="bp">#</span><span class="n">ES</span> <span class="mi">2</span>
<span class="bp">#</span><span class="n">AX</span> <span class="mi">6</span> <span class="mi">13</span>
<span class="mi">7</span> <span class="bp">#</span><span class="n">NS</span> <span class="mi">0</span> <span class="n">sum</span>
<span class="bp">#</span><span class="n">INFIX</span> <span class="mi">7</span> <span class="mi">30</span>  <span class="bp">⊕</span>
<span class="mi">8</span> <span class="bp">#</span><span class="n">NS</span> <span class="mi">0</span> <span class="n">has_mem</span>
<span class="mi">9</span> <span class="bp">#</span><span class="n">NS</span> <span class="mi">8</span> <span class="n">mem</span>
<span class="bp">#</span><span class="n">INFIX</span> <span class="mi">9</span> <span class="mi">50</span>  <span class="bp">∈</span>
<span class="bp">#</span><span class="n">INFIX</span> <span class="mi">2</span> <span class="mi">50</span>  <span class="bp">=</span>
<span class="mi">10</span> <span class="bp">#</span><span class="n">NS</span> <span class="mi">0</span> <span class="n">has_lt</span>
<span class="mi">11</span> <span class="bp">#</span><span class="n">NS</span> <span class="mi">10</span> <span class="n">lt</span>
<span class="bp">#</span><span class="n">INFIX</span> <span class="mi">11</span> <span class="mi">50</span>  <span class="bp">&lt;</span>
<span class="mi">12</span> <span class="bp">#</span><span class="n">NS</span> <span class="mi">0</span> <span class="n">has_mul</span>
<span class="mi">13</span> <span class="bp">#</span><span class="n">NS</span> <span class="mi">12</span> <span class="n">mul</span>
<span class="bp">#</span><span class="n">INFIX</span> <span class="mi">13</span> <span class="mi">70</span>  <span class="bp">*</span>
<span class="mi">14</span> <span class="bp">#</span><span class="n">NS</span> <span class="mi">0</span> <span class="n">interaction_monad_bind</span>
<span class="bp">...</span> <span class="n">to</span> <span class="mi">183</span> <span class="n">lines</span> <span class="n">total</span> <span class="bp">...</span>
</code></pre></div>
<p>While this gives much less than if I had not used <code>--only-export</code>, this clearly contains a lot more than I expected, like definitions of operators that aren't needed. Is there any way to reduce this further? I think my definition is the line that says <code>#AX 6 13</code>, so can I safely ignore everything below it? (Would that be true in more complicated examples too?)</p>



<a name="299448912"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/--only-export%20still%20gives%20a%20lot%20of%20exports/near/299448912" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/--only-export.20still.20gives.20a.20lot.20of.20exports.html#299448912">(Sep 18 2022 at 15:46)</a>:</h4>
<p>If you add <code>prelude</code> at the top of your file what happens? This will not import everything in the lean <code>init</code> folder, which by default is imported in all files</p>



<a name="299466289"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/--only-export%20still%20gives%20a%20lot%20of%20exports/near/299466289" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Brooks <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/--only-export.20still.20gives.20a.20lot.20of.20exports.html#299466289">(Sep 18 2022 at 18:53)</a>:</h4>
<p>Thank you, that does the trick!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>