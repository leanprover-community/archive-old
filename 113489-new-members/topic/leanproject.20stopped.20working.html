---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/leanproject.20stopped.20working.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html">leanproject stopped working</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="224109563"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224109563" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Külshammer <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224109563">(Jan 26 2021 at 21:55)</a>:</h4>
<p>I don't know what I did wrong but at some point leanproject stopped working properly for me. I have an old copy of the tutorials (and other old lean projects) which I can open and edit as usual but anything I downloaded recently takes ages to compile. I tried to go through the installation guide again (Windows) but  it didn't help. When running <code>leanproject get</code> I receive a warning that the authenticity of host can't be established which I didn't get before. When I click OK I get an <code>Error cloning via SSH, trying HTTPS...</code> and then  <code>WARNING: leanpkg configurations not specifying </code>path = "src"<code> are deprecated.</code> Any idea what I can do to resolve this mess?</p>



<a name="224110018"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224110018" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224110018">(Jan 26 2021 at 21:58)</a>:</h4>
<p>Can you give an example of what you're trying to do? If you're working mostly on <code>mathlib</code> you shouldn't need to run <code>leanproject get</code> all too often, but you will run <code>leanproject get-cache</code> a lot when switching branches.</p>



<a name="224111469"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224111469" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Külshammer <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224111469">(Jan 26 2021 at 22:06)</a>:</h4>
<p>At the moment I am working mostly on mathlib, yes. As I said, the first thing I noticed was that every file took at some point ages to compile. I then tried to remove the folders (because in some other topic I had read that that had helped and running <code>leanproject get</code> again lead to this weird SSH error. <code>leanproject get-cache</code>gives no error and claims to have found local mathlib oleans.</p>



<a name="224111535"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224111535" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224111535">(Jan 26 2021 at 22:07)</a>:</h4>
<p>Within mathlib, try <code>git pull</code> and then <code>leanproject get-cache</code></p>



<a name="224111634"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224111634" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224111634">(Jan 26 2021 at 22:08)</a>:</h4>
<p>switch to master branch. I guess what Bryan said. What are you trying to do? Work on a branch of mathlib? Just get a scratch file compiling with master? etc etc.</p>



<a name="224111863"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224111863" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224111863">(Jan 26 2021 at 22:10)</a>:</h4>
<p><code>leanproject -f get-cache</code> will redownload the olean files. This can be useful if somehow the cache for a commit got corrupted, though I think this only tends to happen if you're using git hooks or running <code>leanproject mk-cache</code> a lot.</p>



<a name="224112793"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224112793" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Külshammer <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224112793">(Jan 26 2021 at 22:16)</a>:</h4>
<p><code>git pull</code> says Already up to date. <code>leanproject -f get-cache</code> downloaded something, but the orange bar doesn't disappear just opening any file. Just creating a new file and writing <code>#eval 1+1</code> worked in no time at all.</p>



<a name="224113343"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224113343" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224113343">(Jan 26 2021 at 22:21)</a>:</h4>
<p>Did you do Restart Lean in vscode? (are you in vscode?)</p>



<a name="224113687"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224113687" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Külshammer <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224113687">(Jan 26 2021 at 22:24)</a>:</h4>
<p>Yes, working in vscode which I also reinstalled today to see whether this was the problem. Restarting now also didn't help.</p>



<a name="224113763"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224113763" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224113763">(Jan 26 2021 at 22:25)</a>:</h4>
<p>If you run <code>elan show</code> in your mathlib directory, what does the "active toolchain" section say? Mine looks like this:</p>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>active toolchain
----------------

leanprover-community-lean-3.24.0 (overridden by '/.../mathlib/leanpkg.toml')
Lean (version 3.24.0, commit 13007ebb4de6, Release)
</code></pre></div>



<a name="224113893"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224113893" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224113893">(Jan 26 2021 at 22:26)</a>:</h4>
<p>What happens if you try to compile mathlib on the command line? In mathlib, try <code>lean --make src</code>. If you have the correct oleans and the correct lean, this should return with no output after a few seconds. If it starts recompiling stuff then at the very least you will have to do <code>leanproject get-cache</code> again.</p>



<a name="224113905"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224113905" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Külshammer <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224113905">(Jan 26 2021 at 22:26)</a>:</h4>
<div class="codehilite" data-code-language="installed"><pre><span></span><code>--------------------

stable (default)
leanprover-community-lean-3.14.0
leanprover-community-lean-3.16.5
leanprover-community-lean-3.17.0
leanprover-community-lean-3.17.1
leanprover-community-lean-3.23.0
leanprover-community-lean-3.24.0
3.4.2

active toolchain
----------------

leanprover-community-lean-3.24.0 (overridden by '\\?\C:\Users\julia\Documents\lean-projects\mathlib\leanpkg.toml')
Lean (version 3.24.0, commit 13007ebb4de6, Release)
</code></pre></div>



<a name="224114099"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224114099" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224114099">(Jan 26 2021 at 22:28)</a>:</h4>
<p>What branch are you trying to work on? What does <code>git status</code> say?</p>



<a name="224114104"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224114104" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224114104">(Jan 26 2021 at 22:28)</a>:</h4>
<p>One problem I have seen in the past, with people who had set Lean up ages ago, is that in the dim and distant past people used to do things like setting a LEAN_PATH environment variables. Nowadays this should not be set. Another thing I've seen is that the default lean binary for VS Code is overridden to point to e.g. some nightly from 2018, which again might have been the thing to do in 2018.</p>



<a name="224114295"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224114295" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Külshammer <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224114295">(Jan 26 2021 at 22:30)</a>:</h4>
<p>At the moment I just got a fresh copy of master and git status says: </p>
<div class="codehilite" data-code-language="on"><pre><span></span><code>Your branch is up to date with 'origin/master'.

nothing to commit, working tree clean```
</code></pre></div>



<a name="224114345"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224114345" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224114345">(Jan 26 2021 at 22:30)</a>:</h4>
<p>so now <code>leanproject get-cache</code> and then <code>lean --make src</code> in the root directory of the repo</p>



<a name="224114367"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224114367" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224114367">(Jan 26 2021 at 22:31)</a>:</h4>
<p>see if we can get it working on the command line</p>



<a name="224114503"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224114503" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Külshammer <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224114503">(Jan 26 2021 at 22:32)</a>:</h4>
<p>I tried it and <code>lean --make src</code> didn't finish, even after running <code>leanproject get-cache</code>.</p>



<a name="224114538"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224114538" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224114538">(Jan 26 2021 at 22:32)</a>:</h4>
<p>You mean you got some output, e.g. it started compiling a bunch of files?</p>



<a name="224114559"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224114559" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224114559">(Jan 26 2021 at 22:32)</a>:</h4>
<p><code>lean --version</code>?</p>



<a name="224114595"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224114595" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Külshammer <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224114595">(Jan 26 2021 at 22:33)</a>:</h4>
<p><code>Lean (version 3.24.0, commit 13007ebb4de6, Release)</code></p>



<a name="224114744"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224114744" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Külshammer <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224114744">(Jan 26 2021 at 22:34)</a>:</h4>
<p>No, I get no output at all (at least for the time I waited).</p>



<a name="224114848"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224114848" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224114848">(Jan 26 2021 at 22:35)</a>:</h4>
<p>Oh -- are you on Windows? I think that windows produces no output (this drives me nuts)</p>



<a name="224114888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224114888" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Külshammer <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224114888">(Jan 26 2021 at 22:35)</a>:</h4>
<p>Yes, I am on windows.</p>



<a name="224114895"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224114895" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224114895">(Jan 26 2021 at 22:35)</a>:</h4>
<p>mac and linux it prints which files it's compiling to STDOUT or STDERR</p>



<a name="224114931"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224114931" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224114931">(Jan 26 2021 at 22:36)</a>:</h4>
<p>So in <code>~/.mathlib</code> do you have a file <code>13007ebb4de6.....tar.xz</code>?</p>



<a name="224114976"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224114976" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224114976">(Jan 26 2021 at 22:36)</a>:</h4>
<p>wait no</p>



<a name="224114992"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224114992" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224114992">(Jan 26 2021 at 22:36)</a>:</h4>
<p>not that, that's the lean commit</p>



<a name="224115021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224115021" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224115021">(Jan 26 2021 at 22:36)</a>:</h4>
<p>What's the last commit according to <code>git log</code> and what does <code>leanpkg.toml</code> say?</p>



<a name="224115046"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224115046" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224115046">(Jan 26 2021 at 22:36)</a>:</h4>
<p>Have you tried updating leanproject (as a pip package)</p>



<a name="224115059"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224115059" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224115059">(Jan 26 2021 at 22:36)</a>:</h4>
<p>!!!</p>



<a name="224115086"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224115086" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224115086">(Jan 26 2021 at 22:37)</a>:</h4>
<p>Nice idea!</p>



<a name="224115108"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224115108" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224115108">(Jan 26 2021 at 22:37)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">$</span> <span class="n">leanproject</span> <span class="c1">--version</span>
<span class="n">leanproject</span><span class="o">,</span> <span class="n">version</span> <span class="mi">1</span><span class="bp">.</span><span class="mi">0</span><span class="bp">.</span><span class="mi">0</span>
</code></pre></div>



<a name="224115111"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224115111" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224115111">(Jan 26 2021 at 22:37)</a>:</h4>
<p>I think if a cache download fails (eg network errors), you end up with a corrupt cache that <code>get-cache</code> refuses to refetch</p>



<a name="224115147"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224115147" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224115147">(Jan 26 2021 at 22:37)</a>:</h4>
<p><code>leanproject -f get-cache</code> should force a redownload though.</p>



<a name="224115206"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224115206" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224115206">(Jan 26 2021 at 22:38)</a>:</h4>
<p>Yes I was going to try and locate the cache file but I don't know its name yet. It's <code>commit-hash.tar.xz</code> in a directory called <code>~/.mathlib</code> on my system</p>



<a name="224115219"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224115219" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224115219">(Jan 26 2021 at 22:38)</a>:</h4>
<p>Just to see if it had the right size</p>



<a name="224115604"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224115604" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Külshammer <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224115604">(Jan 26 2021 at 22:42)</a>:</h4>
<p>How do I update leanproject as a pip package?</p>



<a name="224116015"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224116015" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Külshammer <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224116015">(Jan 26 2021 at 22:46)</a>:</h4>
<p>I think I found that tar.xz file and it is 34 MB.</p>



<a name="224116602"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224116602" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224116602">(Jan 26 2021 at 22:52)</a>:</h4>
<p>I usually just run <code>pip install --upgrade mathlibtools</code>, but I'm not sure if this is a good idea universally. It could depend on your python environment / how you installed <code>mathlibtools</code>.</p>



<a name="224173547"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224173547" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Külshammer <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224173547">(Jan 27 2021 at 12:29)</a>:</h4>
<p>Thanks for all the suggestions. Unfortunately none of them worked so far.</p>



<a name="224173759"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224173759" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224173759">(Jan 27 2021 at 12:31)</a>:</h4>
<p>what is output of <code>leanproject --version</code>?</p>



<a name="224173806"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224173806" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Külshammer <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224173806">(Jan 27 2021 at 12:31)</a>:</h4>
<p><code>leanproject, version 1.0.0</code></p>



<a name="224177029"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224177029" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Külshammer <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224177029">(Jan 27 2021 at 13:03)</a>:</h4>
<p>I just noticed that I didn't reply to what leanpkg.toml says: </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="o">[</span><span class="n">package</span><span class="o">]</span>
<span class="n">name</span> <span class="bp">=</span> <span class="s2">"mathlib"</span>
<span class="n">version</span> <span class="bp">=</span> <span class="s2">"0.1"</span>
<span class="n">lean_version</span> <span class="bp">=</span> <span class="s2">"leanprover-community/lean:3.24.0"</span>
<span class="n">path</span> <span class="bp">=</span> <span class="s2">"src"</span>

<span class="o">[</span><span class="n">dependencies</span><span class="o">]</span>
</code></pre></div>



<a name="224177145"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224177145" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Külshammer <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224177145">(Jan 27 2021 at 13:04)</a>:</h4>
<p>And <code>git log</code> now gives </p>
<div class="codehilite" data-code-language="commit"><pre><span></span><code>Author: Jesse Michael Han &lt;hyrodi@gmail.com&gt;
Date:   Wed Jan 27 08:42:04 2021 +0000
refactor(category_theory/abelian): golf `mono_of_kernel_ι_eq_zero` (#5914)
Co-authors: `lean-gptf`, Stanislas Polu
</code></pre></div>



<a name="224177168"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224177168" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224177168">(Jan 27 2021 at 13:04)</a>:</h4>
<p>looks fine</p>



<a name="224178101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224178101" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Külshammer <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224178101">(Jan 27 2021 at 13:13)</a>:</h4>
<p>The leanpkg.toml of the old tutorials folder I have (and where lean works even opening the corresponding files) says the same. It just doesn't work for things I currently tried to download using <code>leanproject get</code>.</p>



<a name="224178710"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224178710" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224178710">(Jan 27 2021 at 13:18)</a>:</h4>
<p>Maybe we should try to have a quick video chat where we could see exactly what you're doing and how your computer reacts.</p>



<a name="224178780"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224178780" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Külshammer <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224178780">(Jan 27 2021 at 13:19)</a>:</h4>
<p>Sure. Which platform?</p>



<a name="224182290"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224182290" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224182290">(Jan 27 2021 at 13:46)</a>:</h4>
<p>For future readers: it turned out Julian had a somehow corrupted 3.24 toolchain in <code>$HOME/.elan</code>. Removing and reinstalling that toolchain solved the issue.</p>



<a name="224182376"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224182376" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Külshammer <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224182376">(Jan 27 2021 at 13:47)</a>:</h4>
<p>Thanks again for all who offered their help, especially to Patrick for finally fixing it.</p>



<a name="224182557"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224182557" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224182557">(Jan 27 2021 at 13:48)</a>:</h4>
<p>Usually people's problems are far less weird!</p>



<a name="224393097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224393097" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Külshammer <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224393097">(Jan 28 2021 at 21:10)</a>:</h4>
<p>I could reproduce the error and I think I found out why it stopped working. While trying to resolve <a href="https://github.com/leanprover-community/mathlib/issues/1534">#1534</a> I tried to add nat.div_add_mod just after nat.mod_add_div. If I understand correctly, I left mathlib and went to chore lean and editing this seems not to be such a good idea. <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



<a name="224393557"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224393557" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224393557">(Jan 28 2021 at 21:14)</a>:</h4>
<p>Aah, that makes sense.</p>



<a name="224393646"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224393646" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224393646">(Jan 28 2021 at 21:15)</a>:</h4>
<p>Changing core is a different type of game (-; You'll need to work on a different repo, and issue some elan commands to make things work. I would avoid it if you can.</p>



<a name="224393718"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224393718" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224393718">(Jan 28 2021 at 21:15)</a>:</h4>
<p>That makes me think: <span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span> would it be possible for <code>elan</code> to make the lean toolchains in <code>~/.elan</code> read-only? That way you only modify core if you explicitly work on a manually cloned repo.</p>



<a name="224396084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224396084" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224396084">(Jan 28 2021 at 21:37)</a>:</h4>
<p>I would accept a PR for that. Would bring elan one step closer to Nix <span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span> .</p>



<a name="224396491"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224396491" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224396491">(Jan 28 2021 at 21:41)</a>:</h4>
<p>I'll put it on my todo list (-;</p>



<a name="224396509"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224396509" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224396509">(Jan 28 2021 at 21:41)</a>:</h4>
<p>I've never looked at the source for <code>elan</code> though</p>



<a name="224400075"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224400075" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224400075">(Jan 28 2021 at 22:07)</a>:</h4>
<p>Johan, do you know the language that Sebastian used to write elan? This may be a shock...</p>



<a name="224403383"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224403383" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224403383">(Jan 28 2021 at 22:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110031">Patrick Massot</span> <a href="#narrow/stream/113489-new-members/topic/leanproject.20stopped.20working/near/224400075">said</a>:</p>
<blockquote>
<p>Johan, do you know the language that Sebastian used to write elan? This may be a shock...</p>
</blockquote>
<p>It's rust right?</p>



<a name="224403951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224403951" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224403951">(Jan 28 2021 at 22:31)</a>:</h4>
<p><a href="https://github.com/Kha/elan">It is!</a> Because what other language features:</p>
<ul>
<li>zero-cost abstractions</li>
<li>move semantics</li>
<li>guaranteed memory safety</li>
<li>threads without data races</li>
<li>trait-based generics</li>
<li>pattern matching</li>
<li>type inference</li>
<li>minimal runtime</li>
<li>and efficient C bindings?</li>
</ul>



<a name="224404235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject%20stopped%20working/near/224404235" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.20stopped.20working.html#224404235">(Jan 28 2021 at 22:34)</a>:</h4>
<p>Looks like elan already sets some permissions for zip archives on unix at <a href="https://github.com/Kha/elan/blob/40e38ccf7392a5a281475197ee114283a855431d/src/elan-dist/src/component/package.rs#L106">https://github.com/Kha/elan/blob/40e38ccf7392a5a281475197ee114283a855431d/src/elan-dist/src/component/package.rs#L106</a> so this looks pretty doable with <a href="https://doc.rust-lang.org/std/fs/fn.set_permissions.html">https://doc.rust-lang.org/std/fs/fn.set_permissions.html</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>