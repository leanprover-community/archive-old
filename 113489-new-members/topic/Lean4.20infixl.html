---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Lean4.20infixl.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean4.20infixl.html">Lean4 infixl</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="267377899"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean4%20infixl/near/267377899" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> vlado <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean4.20infixl.html#267377899">(Jan 09 2022 at 21:10)</a>:</h4>
<p>I was looking at the examples at <a href="https://leanprover.github.io/lean4/doc/notation.html">https://leanprover.github.io/lean4/doc/notation.html</a> and tried to chain infixl operator but keep getting an error:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">infixr</span><span class="o">:</span><span class="mi">65</span>  <span class="s2">" @ "</span> <span class="bp">=&gt;</span> <span class="n">Div.div</span>  <span class="c1">-- right-associative</span>
<span class="k">#eval</span> <span class="mi">8</span> <span class="bp">@</span> <span class="mi">4</span> <span class="bp">@</span> <span class="mi">2</span> <span class="c1">-- works 4 == (8 / (4 / 2))</span>

<span class="kd">infixl</span><span class="o">:</span><span class="mi">65</span>  <span class="s2">" $ "</span> <span class="bp">=&gt;</span> <span class="n">Div.div</span> <span class="c1">-- left-associative</span>
<span class="k">#eval</span> <span class="mi">8</span> <span class="bp">$</span> <span class="mi">4</span> <span class="bp">$</span> <span class="mi">2</span> <span class="c1">-- error function expected at 8 term has type ?m.2645</span>
</code></pre></div>
<p>The expanded notation did seem to work though</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">notation</span><span class="o">:</span><span class="mi">65</span> <span class="n">lhs</span><span class="o">:</span><span class="mi">65</span> <span class="s2">" # "</span> <span class="n">rhs</span><span class="o">:</span><span class="mi">66</span> <span class="bp">=&gt;</span> <span class="n">Div.div</span> <span class="n">lhs</span> <span class="n">rhs</span> <span class="c1">-- left-associative</span>
<span class="k">#eval</span> <span class="mi">8</span> <span class="bp">#</span> <span class="mi">4</span> <span class="bp">#</span> <span class="mi">2</span> <span class="c1">-- works 1 == ((8 / 4) / 2)</span>
</code></pre></div>
<p>Am I doing something wrong in the infixl decleration or is this a bug?</p>



<a name="267379393"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean4%20infixl/near/267379393" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik BÃ¶ving <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean4.20infixl.html#267379393">(Jan 09 2022 at 21:47)</a>:</h4>
<p>I'd say this is because <code>$</code> is already a reserved syntax for the Haskell style <code>$</code> operator but I'm not 100 percent sure.</p>



<a name="267379466"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean4%20infixl/near/267379466" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> vlado <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean4.20infixl.html#267379466">(Jan 09 2022 at 21:49)</a>:</h4>
<p>woops that was it, I tried both '$' and '@' and got the same error but '#' works, so must be using some other reserved operators. Thanks!</p>



<a name="267404539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean4%20infixl/near/267404539" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marcus Rossel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean4.20infixl.html#267404539">(Jan 10 2022 at 07:55)</a>:</h4>
<p><span class="user-mention" data-user-id="469758">@vlado</span> Just FYI, there's also a lean4 stream here on Zulip.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>