---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/better.20reporting.20from.20library_search.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/better.20reporting.20from.20library_search.html">better reporting from library_search</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="201802989"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/better%20reporting%20from%20library_search/near/201802989" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/better.20reporting.20from.20library_search.html#201802989">(Jun 24 2020 at 01:09)</a>:</h4>
<p>Actually I think we should avoid the "failed" error message entirely. It's really a placeholder for actual error reporting</p>



<a name="201803096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/better%20reporting%20from%20library_search/near/201803096" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/better.20reporting.20from.20library_search.html#201803096">(Jun 24 2020 at 01:10)</a>:</h4>
<p>In the case of <code>library_search</code>, it would be good if the failure message gave a lot more information, like a tutorial. Keep in mind that newbies are a major part of the user base for <code>library_search</code></p>



<a name="201803415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/better%20reporting%20from%20library_search/near/201803415" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/better.20reporting.20from.20library_search.html#201803415">(Jun 24 2020 at 01:17)</a>:</h4>
<p>does the information you want to display depend on what the failed goal was?</p>



<a name="201803478"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/better%20reporting%20from%20library_search/near/201803478" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/better.20reporting.20from.20library_search.html#201803478">(Jun 24 2020 at 01:19)</a>:</h4>
<p>a basic troubleshooting guide would be good</p>
<blockquote>
<p><code>library_search</code> failed. If you aren't sure what to do next, you can also try <code>library_search!</code>, <code>suggest</code>, or <code>hint</code>. Possible reasons why library_search failed:</p>
<ul>
<li>
<p>The goal should be provable by direct application of a lemma from the library. If you haven't already, try stating the theorem you want in its own lemma.</p>
</li>
<li>
<p>Sometimes the library has one version of a lemma but not a very similar version obtained by permuting arguments. Try replacing <code>a + b</code> with <code>b + a</code>, or <code>a - b &lt; c</code> with <code>a &lt; b + c</code>, to see if maybe the lemma exists but isn't stated quite the way you would like.</p>
</li>
<li>
<p>Make sure that you have all the side conditions for your theorem to be true. For example you won't find <code>a - b + b = a</code> in the library because it's false! Search for <code>b &lt;= a -&gt; a - b + b = a</code> instead.</p>
</li>
<li>
<p>If a definition you made is in the lemma, you won't find any theorems about it in the library. Try unfolding the definition using <code>unfold my_definition</code></p>
</li>
<li>
<p>If all else fails, ask on <a href="">https://leanprover.zulipchat.com/</a>, and maybe we can improve the library and/or <code>library_search</code> for next time.</p>
</li>
</ul>
</blockquote>



<a name="201805470"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/better%20reporting%20from%20library_search/near/201805470" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/better.20reporting.20from.20library_search.html#201805470">(Jun 24 2020 at 02:07)</a>:</h4>
<p>This sounds great. I'm not sure what "The goal should be provable by direct application of a lemma from the library." means though. Is this intended to remind the reader what the scope of <code>library_search</code> is?</p>



<a name="201807207"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/better%20reporting%20from%20library_search/near/201807207" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/better.20reporting.20from.20library_search.html#201807207">(Jun 24 2020 at 02:51)</a>:</h4>
<p>Yes, does "one-step proof" make more sense?</p>



<a name="201807215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/better%20reporting%20from%20library_search/near/201807215" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/better.20reporting.20from.20library_search.html#201807215">(Jun 24 2020 at 02:51)</a>:</h4>
<p>That is, it's not a general decision procedure, it's not <code>simp</code></p>



<a name="201807230"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/better%20reporting%20from%20library_search/near/201807230" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/better.20reporting.20from.20library_search.html#201807230">(Jun 24 2020 at 02:52)</a>:</h4>
<p>it should be thought of as a search function for the library (which hopefully the name already makes clear)</p>



<a name="201807285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/better%20reporting%20from%20library_search/near/201807285" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/better.20reporting.20from.20library_search.html#201807285">(Jun 24 2020 at 02:52)</a>:</h4>
<p>but I can imagine someone confusing it for <code>sledgehammer</code> and needs to be told otherwise</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>