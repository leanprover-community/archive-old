---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/lfp.20struggles.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lfp.20struggles.html">lfp struggles</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="245092342"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lfp%20struggles/near/245092342" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Malvin Gattinger <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lfp.20struggles.html#245092342">(Jul 06 2021 at 20:09)</a>:</h4>
<p>Hello lean hivemind :)  I am making my first steps after playing the number game and trying to formalise my favorite modal logic. Could someone help me how I could prove something about lfp from order.complete_lattice? (I am also new to zulip, hope this goes into the right place...)</p>



<a name="245092665"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lfp%20struggles/near/245092665" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Malvin Gattinger <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lfp.20struggles.html#245092665">(Jul 06 2021 at 20:12)</a>:</h4>
<p>Concretely, I am trying to show this which should follow easily from the function <del>being reflexive</del> explicitly mentioning w:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">w</span> <span class="bp">∈</span> <span class="n">lfp</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ws</span> <span class="o">:</span> <span class="n">set</span> <span class="n">W</span><span class="o">),</span> <span class="o">{</span><span class="n">w</span><span class="o">}</span> <span class="bp">∪</span> <span class="n">ws</span> <span class="bp">∪</span> <span class="o">{</span> <span class="n">v</span> <span class="o">:</span> <span class="n">W</span> <span class="bp">|</span> <span class="bp">....</span> <span class="n">extra</span> <span class="n">stuff</span> <span class="o">}</span> <span class="o">)</span>
</code></pre></div>



<a name="245092724"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lfp%20struggles/near/245092724" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Malvin Gattinger <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lfp.20struggles.html#245092724">(Jul 06 2021 at 20:13)</a>:</h4>
<p>So would I then unfold lfp or is there a theorem like <a href="https://leanprover-community.github.io/mathlib_docs/order/complete_lattice.html#complete_lattice.le_refl">https://leanprover-community.github.io/mathlib_docs/order/complete_lattice.html#complete_lattice.le_refl</a> which I could use? And how would I apply it to change my goal?</p>



<a name="245093292"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lfp%20struggles/near/245093292" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lfp.20struggles.html#245093292">(Jul 06 2021 at 20:18)</a>:</h4>
<p>Maybe you could use <a href="https://leanprover-community.github.io/mathlib_docs/find/lfp_fixed_point">docs#lfp_fixed_point</a></p>



<a name="245093470"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lfp%20struggles/near/245093470" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lfp.20struggles.html#245093470">(Jul 06 2021 at 20:20)</a>:</h4>
<p>rewriting leftwards, and then it should <code>simp</code> immediately (probably through <a href="https://leanprover-community.github.io/mathlib_docs/find/set.mem_union">docs#set.mem_union</a> and  <a href="https://leanprover-community.github.io/mathlib_docs/find/set.mem_singleton">docs#set.mem_singleton</a>)</p>



<a name="245094155"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lfp%20struggles/near/245094155" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Malvin Gattinger <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lfp.20struggles.html#245094155">(Jul 06 2021 at 20:27)</a>:</h4>
<p>Thanks! I feel stupid now: I added "import order.fixed_points" but still get "unknown identifier for lfp_fixed_point". Also, I assume this will need a proof that my function is monotone?</p>



<a name="245095518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lfp%20struggles/near/245095518" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lfp.20struggles.html#245095518">(Jul 06 2021 at 20:38)</a>:</h4>
<p>I'm not sure about the error you're seeing without a <a href="https://leanprover-community.github.io/mwe.html">MWE</a> but, yeah, you would need a monotonicity proof to use the lemma</p>



<a name="245096583"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lfp%20struggles/near/245096583" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Malvin Gattinger <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lfp.20struggles.html#245096583">(Jul 06 2021 at 20:47)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.set.lattice</span>
<span class="kn">import</span> <span class="n">order.fixed_points</span>

<span class="kd">def</span> <span class="n">myFunction</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="n">set</span> <span class="n">ℕ</span>
<span class="bp">|</span> <span class="n">n</span> <span class="o">:=</span> <span class="n">lfp</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">ws</span><span class="o">,</span> <span class="n">ws</span> <span class="bp">∪</span> <span class="o">{</span> <span class="mi">42</span> <span class="o">}</span> <span class="bp">∪</span> <span class="o">{</span> <span class="n">k</span> <span class="bp">|</span> <span class="n">k</span> <span class="bp">≤</span> <span class="n">n</span> <span class="o">}</span> <span class="o">)</span>

<span class="kd">lemma</span> <span class="n">myFunctionIncludesN</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">):</span> <span class="n">n</span> <span class="bp">∈</span> <span class="n">myFunction</span> <span class="n">n</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">unfold</span> <span class="n">myFunction</span><span class="o">,</span>
  <span class="n">rw</span> <span class="bp">←</span> <span class="n">lfp_fixed_point</span><span class="o">,</span> <span class="c1">-- unknown identifier lfp_fixed_point ??</span>
  <span class="gr">sorry</span>
<span class="kd">end</span>
</code></pre></div>
<p>I guess I am using rw ← wrong here?</p>



<a name="245097030"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lfp%20struggles/near/245097030" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lfp.20struggles.html#245097030">(Jul 06 2021 at 20:51)</a>:</h4>
<p>this works on my computer; do you have the latest mathlib?</p>



<a name="245097152"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lfp%20struggles/near/245097152" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Malvin Gattinger <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lfp.20struggles.html#245097152">(Jul 06 2021 at 20:52)</a>:</h4>
<p>ohh, good point. I assume for this I should change the commit mentioned in leanpkg.toml?</p>



<a name="245097192"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lfp%20struggles/near/245097192" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lfp.20struggles.html#245097192">(Jul 06 2021 at 20:52)</a>:</h4>
<p>yeah, you can just open the vscode terminal and type <code>leanproject up</code></p>



<a name="245097217"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lfp%20struggles/near/245097217" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lfp.20struggles.html#245097217">(Jul 06 2021 at 20:53)</a>:</h4>
<p>(also may be good to do <code>leanproject get-mathlib-cache</code> after)</p>



<a name="245097399"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lfp%20struggles/near/245097399" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Malvin Gattinger <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lfp.20struggles.html#245097399">(Jul 06 2021 at 20:54)</a>:</h4>
<p>ohh, nice. Turns out I was using mathlib from September last year ;)</p>



<a name="245097421"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lfp%20struggles/near/245097421" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lfp.20struggles.html#245097421">(Jul 06 2021 at 20:54)</a>:</h4>
<p>and this lemma was by <span class="user-mention" data-user-id="387244">@Yaël Dillies</span> two months ago <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="245097662"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lfp%20struggles/near/245097662" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Malvin Gattinger <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lfp.20struggles.html#245097662">(Jul 06 2021 at 20:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="284160">Eric Rodriguez</span> <a href="#narrow/stream/113489-new-members/topic/lfp.20struggles/near/245097217">said</a>:</p>
<blockquote>
<p>(also may be good to do <code>leanproject get-mathlib-cache</code> after)</p>
</blockquote>
<p>What does this do? And when I run "leanpkg build" in a terminal outside of VS code, does this use a different cache? (And do emacs and vs code share caches?)</p>



<a name="245097746"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lfp%20struggles/near/245097746" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lfp.20struggles.html#245097746">(Jul 06 2021 at 20:57)</a>:</h4>
<p>basically, Lean stores "precompiled" info about files in ".olean" files</p>



<a name="245097782"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lfp%20struggles/near/245097782" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lfp.20struggles.html#245097782">(Jul 06 2021 at 20:57)</a>:</h4>
<p>this gets the oleans for mathlib, leanproject build will make them for your current project (which could also be mathlib!)</p>



<a name="245098646"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lfp%20struggles/near/245098646" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Malvin Gattinger <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lfp.20struggles.html#245098646">(Jul 06 2021 at 21:04)</a>:</h4>
<p>Thanks! Another stupid question though: from where do I get the <code>leanproject</code> command? I only have elan and leanpkg, and also <code>~/.elan/toolchains/stable/bin/</code> has no <code>leanproject</code> <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="245098759"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lfp%20struggles/near/245098759" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lfp.20struggles.html#245098759">(Jul 06 2021 at 21:05)</a>:</h4>
<p>ohh ehh is #installation a smartlink?</p>



<a name="245098799"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lfp%20struggles/near/245098799" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lfp.20struggles.html#245098799">(Jul 06 2021 at 21:05)</a>:</h4>
<p>nope, damn</p>



<a name="245098802"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lfp%20struggles/near/245098802" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lfp.20struggles.html#245098802">(Jul 06 2021 at 21:05)</a>:</h4>
<p><a href="https://leanprover-community.github.io/get_started.html">https://leanprover-community.github.io/get_started.html</a></p>



<a name="245098866"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lfp%20struggles/near/245098866" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lfp.20struggles.html#245098866">(Jul 06 2021 at 21:06)</a>:</h4>
<p>I think <code>mathlibtools</code> contains <code>leanproject</code></p>



<a name="245099059"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lfp%20struggles/near/245099059" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lfp.20struggles.html#245099059">(Jul 06 2021 at 21:08)</a>:</h4>
<p><a href="https://leanprover-community.github.io/get_started.html#regular-install">#install</a> is the autolink <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="245099883"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lfp%20struggles/near/245099883" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Malvin Gattinger <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lfp.20struggles.html#245099883">(Jul 06 2021 at 21:17)</a>:</h4>
<p>Hooray, I managed to close the toy example above and one of my "real" lfp proofs. Thanks a lot <span class="user-mention" data-user-id="306601">@Kyle Miller</span>  and <span class="user-mention" data-user-id="284160">@Eric Rodriguez</span>  <span aria-label="smiley cat" class="emoji emoji-1f63a" role="img" title="smiley cat">:smiley_cat:</span></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>