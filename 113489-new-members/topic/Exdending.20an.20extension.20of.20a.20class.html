---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Exdending.20an.20extension.20of.20a.20class.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Exdending.20an.20extension.20of.20a.20class.html">Exdending an extension of a class</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="253786401"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Exdending%20an%20extension%20of%20a%20class/near/253786401" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andre Hernandez-Espiet (Rutgers) <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Exdending.20an.20extension.20of.20a.20class.html#253786401">(Sep 17 2021 at 18:27)</a>:</h4>
<p>I am getting an error when I extend <code>axioms2</code>, itself being an extension of <code>incidence_geometry</code>. Why is this the case? The error pops up in the following line <code>variable [A3 : axioms3 point]</code></p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span>  <span class="n">data.set</span> <span class="n">tactic.interactive</span> <span class="n">set_theory.zfc</span>
<span class="kd">class</span> <span class="n">incidence_geometry</span> <span class="o">(</span><span class="n">point</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">):=</span>
<span class="o">(</span><span class="n">lines</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">point</span><span class="o">))</span>
<span class="o">(</span><span class="n">eqd</span> <span class="o">:</span> <span class="n">point</span> <span class="bp">→</span> <span class="n">point</span> <span class="bp">→</span> <span class="n">point</span> <span class="bp">→</span> <span class="n">point</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span>

<span class="o">(</span><span class="n">B</span><span class="o">:</span> <span class="n">point</span> <span class="bp">→</span> <span class="n">point</span> <span class="bp">→</span> <span class="n">point</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span>
<span class="o">[</span><span class="n">dec_B</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span><span class="o">,</span> <span class="n">decidable</span> <span class="o">(</span><span class="n">B</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span><span class="o">)]</span>
<span class="c1">-- Equidistance of 4 Points</span>
<span class="o">(</span><span class="n">P1</span> <span class="o">{}</span> <span class="o">:</span> <span class="n">point</span><span class="o">)</span> <span class="o">(</span><span class="n">P2</span> <span class="o">{}</span> <span class="o">:</span> <span class="n">point</span><span class="o">)</span> <span class="o">(</span><span class="n">P3</span> <span class="o">{}</span> <span class="o">:</span> <span class="n">point</span><span class="o">)</span>

<span class="o">(</span><span class="n">I1a</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">point</span><span class="o">),</span> <span class="n">a</span><span class="bp">≠</span><span class="n">b</span> <span class="bp">→</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">l</span> <span class="bp">∈</span>  <span class="n">lines</span><span class="o">)</span> <span class="o">,</span> <span class="n">a</span><span class="bp">∈</span> <span class="n">l</span> <span class="bp">∧</span> <span class="n">b</span><span class="bp">∈</span> <span class="n">l</span><span class="o">)</span>
<span class="kn">open</span> <span class="n">incidence_geometry</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">point</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">A</span> <span class="o">:</span> <span class="n">incidence_geometry</span> <span class="n">point</span><span class="o">]</span>


<span class="kd">class</span> <span class="n">axioms2</span> <span class="o">(</span><span class="n">point</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="kd">extends</span> <span class="n">incidence_geometry</span> <span class="n">point</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">B1</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">point</span><span class="o">,</span> <span class="n">B</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="bp">→</span> <span class="n">B</span> <span class="n">c</span> <span class="n">b</span> <span class="n">a</span> <span class="o">)</span>
<span class="kn">open</span> <span class="n">axioms2</span>

<span class="kd">variable</span> <span class="o">[</span><span class="n">A2</span> <span class="o">:</span> <span class="n">axioms2</span> <span class="n">point</span><span class="o">]</span>
<span class="kn">include</span> <span class="n">A2</span>

<span class="kd">lemma</span> <span class="n">trivi</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">d</span><span class="o">:</span> <span class="n">point</span><span class="o">)</span> <span class="o">:</span> <span class="n">eqd</span> <span class="n">a</span> <span class="n">a</span> <span class="n">a</span> <span class="n">a</span> <span class="bp">→</span> <span class="n">eqd</span> <span class="n">a</span> <span class="n">a</span> <span class="n">a</span> <span class="n">a</span><span class="o">:=</span>
<span class="kd">begin</span>
<span class="k">have</span> <span class="o">:=</span> <span class="n">B1</span> <span class="n">a</span> <span class="n">a</span> <span class="n">a</span><span class="o">,</span>
<span class="n">simp</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">class</span> <span class="n">axioms3</span> <span class="o">(</span><span class="n">point</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="kd">extends</span> <span class="n">incidence_geometry</span> <span class="n">point</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">Ax</span><span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">point</span><span class="o">),</span> <span class="n">a</span><span class="bp">=</span><span class="n">a</span><span class="o">)</span>
<span class="kn">open</span> <span class="n">axioms3</span>



<span class="kd">variable</span> <span class="o">[</span><span class="n">A3</span> <span class="o">:</span> <span class="n">axioms3</span> <span class="n">point</span><span class="o">]</span>
<span class="kn">include</span> <span class="n">A3</span>

<span class="kd">lemma</span> <span class="n">eqdsym</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">d</span><span class="o">:</span> <span class="n">point</span><span class="o">)</span> <span class="o">:</span> <span class="n">eqd</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">d</span> <span class="bp">→</span> <span class="n">eqd</span> <span class="n">c</span> <span class="n">d</span> <span class="n">a</span> <span class="n">b</span><span class="o">:=</span>
<span class="kd">begin</span>
<span class="n">intro</span> <span class="n">hyp</span><span class="o">,</span>

<span class="k">have</span> <span class="o">:=</span> <span class="n">C2</span> <span class="n">a</span> <span class="n">b</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">d</span> <span class="o">(</span><span class="n">C4</span> <span class="n">a</span> <span class="n">b</span><span class="o">)</span> <span class="n">hyp</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="253786773"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Exdending%20an%20extension%20of%20a%20class/near/253786773" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andre Hernandez-Espiet (Rutgers) <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Exdending.20an.20extension.20of.20a.20class.html#253786773">(Sep 17 2021 at 18:29)</a>:</h4>
<p>PS: Maybe this is unnecessary, is there a way to make definitions that require proofs within a class?</p>



<a name="253794810"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Exdending%20an%20extension%20of%20a%20class/near/253794810" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Exdending.20an.20extension.20of.20a.20class.html#253794810">(Sep 17 2021 at 19:24)</a>:</h4>
<p>In general you should not be naming class instances -- if you need to name them then this might be an indication that they should not be classes but might be better off as structures. Naming class instances means you have to all this include malarkey, and if you include things then you should omit them the moment you don't need to include them any more. None of your imports are relevant. If you remove all your instance names and includes and imports then you get</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">class</span> <span class="n">incidence_geometry</span> <span class="o">(</span><span class="n">point</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">):=</span>
<span class="o">(</span><span class="n">lines</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">point</span><span class="o">))</span>
<span class="o">(</span><span class="n">eqd</span> <span class="o">:</span> <span class="n">point</span> <span class="bp">→</span> <span class="n">point</span> <span class="bp">→</span> <span class="n">point</span> <span class="bp">→</span> <span class="n">point</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span>

<span class="o">(</span><span class="n">B</span><span class="o">:</span> <span class="n">point</span> <span class="bp">→</span> <span class="n">point</span> <span class="bp">→</span> <span class="n">point</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span>
<span class="o">[</span><span class="n">dec_B</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span><span class="o">,</span> <span class="n">decidable</span> <span class="o">(</span><span class="n">B</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span><span class="o">)]</span>
<span class="c1">-- Equidistance of 4 Points</span>
<span class="o">(</span><span class="n">P1</span> <span class="o">{}</span> <span class="o">:</span> <span class="n">point</span><span class="o">)</span> <span class="o">(</span><span class="n">P2</span> <span class="o">{}</span> <span class="o">:</span> <span class="n">point</span><span class="o">)</span> <span class="o">(</span><span class="n">P3</span> <span class="o">{}</span> <span class="o">:</span> <span class="n">point</span><span class="o">)</span>

<span class="o">(</span><span class="n">I1a</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">point</span><span class="o">),</span> <span class="n">a</span><span class="bp">≠</span><span class="n">b</span> <span class="bp">→</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">l</span> <span class="bp">∈</span>  <span class="n">lines</span><span class="o">)</span> <span class="o">,</span> <span class="n">a</span><span class="bp">∈</span> <span class="n">l</span> <span class="bp">∧</span> <span class="n">b</span><span class="bp">∈</span> <span class="n">l</span><span class="o">)</span>
<span class="kn">open</span> <span class="n">incidence_geometry</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">point</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">incidence_geometry</span> <span class="n">point</span><span class="o">]</span>


<span class="kd">class</span> <span class="n">axioms2</span> <span class="o">(</span><span class="n">point</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="kd">extends</span> <span class="n">incidence_geometry</span> <span class="n">point</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">B1</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">point</span><span class="o">,</span> <span class="n">B</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="bp">→</span> <span class="n">B</span> <span class="n">c</span> <span class="n">b</span> <span class="n">a</span> <span class="o">)</span>
<span class="kn">open</span> <span class="n">axioms2</span>

<span class="kd">variable</span> <span class="o">[</span><span class="n">axioms2</span> <span class="n">point</span><span class="o">]</span>

<span class="kd">lemma</span> <span class="n">trivi</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">d</span><span class="o">:</span> <span class="n">point</span><span class="o">)</span> <span class="o">:</span> <span class="n">eqd</span> <span class="n">a</span> <span class="n">a</span> <span class="n">a</span> <span class="n">a</span> <span class="bp">→</span> <span class="n">eqd</span> <span class="n">a</span> <span class="n">a</span> <span class="n">a</span> <span class="n">a</span><span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">exact</span> <span class="n">id</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">class</span> <span class="n">axioms3</span> <span class="o">(</span><span class="n">point</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="kd">extends</span> <span class="n">incidence_geometry</span> <span class="n">point</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">Ax</span><span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">point</span><span class="o">),</span> <span class="n">a</span><span class="bp">=</span><span class="n">a</span><span class="o">)</span>
<span class="kn">open</span> <span class="n">axioms3</span>



<span class="kd">variable</span> <span class="o">[</span><span class="n">axioms3</span> <span class="n">point</span><span class="o">]</span>

<span class="kd">lemma</span> <span class="n">eqdsym</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">d</span><span class="o">:</span> <span class="n">point</span><span class="o">)</span> <span class="o">:</span> <span class="n">eqd</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">d</span> <span class="bp">→</span> <span class="n">eqd</span> <span class="n">c</span> <span class="n">d</span> <span class="n">a</span> <span class="n">b</span><span class="o">:=</span>
<span class="kd">begin</span>
<span class="n">intro</span> <span class="n">hyp</span><span class="o">,</span>

<span class="k">have</span> <span class="o">:=</span> <span class="n">C2</span> <span class="n">a</span> <span class="n">b</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">d</span> <span class="o">(</span><span class="n">C4</span> <span class="n">a</span> <span class="n">b</span><span class="o">)</span> <span class="n">hyp</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>which compiles other than the bit about C2, because there is no C2 defined anywhere in the file.</p>



<a name="254065759"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Exdending%20an%20extension%20of%20a%20class/near/254065759" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andre Hernandez-Espiet (Rutgers) <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Exdending.20an.20extension.20of.20a.20class.html#254065759">(Sep 20 2021 at 15:13)</a>:</h4>
<p>Thanks! I guess I would also like to have a  hypothesis like <code>H: l\in lines</code> as part of a theorem. In that case I needed the hypothesis to look something like <code>H\in A.lines</code>, which was already a lot of work. Would using structures avoid these issues? I tried reading about them from <a href="https://leanprover.github.io/theorem_proving_in_lean/structures_and_records.html">https://leanprover.github.io/theorem_proving_in_lean/structures_and_records.html</a> , but I was having a hard time turning my class into a structure. Do you recommend me learning from somewhere else?</p>
<p>Also, how do I write latex inside a block of code, like <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∈</mo></mrow><annotation encoding="application/x-tex">\in</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">∈</span></span></span></span>. I keep having it come out as <code>$$\in$$</code>.</p>



<a name="254065921"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Exdending%20an%20extension%20of%20a%20class/near/254065921" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Exdending.20an.20extension.20of.20a.20class.html#254065921">(Sep 20 2021 at 15:14)</a>:</h4>
<p>For the last question, you can just copy and paste the symbols from your lean editor (vscode)</p>



<a name="254066233"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Exdending%20an%20extension%20of%20a%20class/near/254066233" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Exdending.20an.20extension.20of.20a.20class.html#254066233">(Sep 20 2021 at 15:17)</a>:</h4>
<p>And a class is a structure already, just a structure tagged with the <code>@[class]</code> attribute, which means it can be automatically inserted, have you read <a href="https://leanprover.github.io/theorem_proving_in_lean/type_classes.html">https://leanprover.github.io/theorem_proving_in_lean/type_classes.html</a> ?</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>