---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html">✔ Basic Finset question</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="272081756"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272081756" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Landsberg <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272081756">(Feb 16 2022 at 07:34)</a>:</h4>
<p>I'm trying to prove {a,b} = {b,a}, (as an exercise in being able to handle using bracket notation for finite sets within lean). Unfortunately I've reached a wall and can't find any help online- any help greatly appreciated!</p>



<a name="272081878"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272081878" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272081878">(Feb 16 2022 at 07:36)</a>:</h4>
<p>Do you have a <a href="https://leanprover-community.github.io/mwe.html">mwe</a>?</p>



<a name="272082049"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272082049" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272082049">(Feb 16 2022 at 07:39)</a>:</h4>
<p>I'm not sure the bracket notation works for finsets, though I'm not sure why.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.finset.basic</span>
<span class="kn">import</span> <span class="n">tactic</span>

<span class="kd">example</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">α</span><span class="o">}</span> <span class="o">:</span> <span class="o">({</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">}</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">α</span><span class="o">)</span> <span class="bp">=</span> <span class="o">({</span><span class="n">b</span><span class="o">,</span> <span class="n">a</span><span class="o">}</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>

<span class="kd">end</span>
</code></pre></div>
<p>At the notation, it gives</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="mi">4</span><span class="o">:</span><span class="mi">34</span><span class="o">:</span> <span class="n">failed</span> <span class="n">to</span> <span class="n">synthesize</span> <span class="n">type</span> <span class="kd">class</span> <span class="kd">instance</span> <span class="n">for</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="bp">?</span><span class="o">,</span>
<span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">α</span>
<span class="bp">⊢</span> <span class="n">has_insert</span> <span class="bp">?</span><span class="n">m_1</span> <span class="o">(</span><span class="n">finset</span> <span class="n">α</span><span class="o">)</span>
</code></pre></div>



<a name="272082172"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272082172" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Landsberg <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272082172">(Feb 16 2022 at 07:41)</a>:</h4>
<p>@Kyle Thanks for the suggestion - This is the sort of template I'd like to be filled in:</p>
<p>variable {U : Type}<br>
constant A : set U<br>
constants a b : U </p>
<p>axiom ax2 : {a,b} = A</p>
<p>lemma l5 : {a,b} = {b,a} := <br>
begin <br>
  sorry <br>
end</p>



<a name="272082311"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272082311" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Landsberg <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272082311">(Feb 16 2022 at 07:43)</a>:</h4>
<p><span class="user-mention" data-user-id="300245">@Filippo A. E. Nuccio</span> the above is my mwe</p>



<a name="272082377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272082377" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Landsberg <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272082377">(Feb 16 2022 at 07:44)</a>:</h4>
<p>(PS i'm very new!)</p>



<a name="272082431"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272082431" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Landsberg <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272082431">(Feb 16 2022 at 07:45)</a>:</h4>
<p>just struggling with bracket notations for sets; cant find much online, although basic proofs in propositional and predicate calculus have been fine (and there is a lot of documentation about the latter online - but seemingly not for sets)</p>



<a name="272082540"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272082540" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272082540">(Feb 16 2022 at 07:46)</a>:</h4>
<p>Well, if you look at the definition of finset, it says</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">structure</span> <span class="n">finset</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">val</span> <span class="o">:</span> <span class="n">multiset</span> <span class="n">α</span><span class="o">)</span>
<span class="o">(</span><span class="n">nodup</span> <span class="o">:</span> <span class="n">nodup</span> <span class="n">val</span><span class="o">)</span>
</code></pre></div>
<p>This tells you that a finset consists of <em>two</em> gadgets: a <em>multiset</em> and a proof that there are no duplicates. Are you aware of this?</p>



<a name="272082604"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272082604" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272082604">(Feb 16 2022 at 07:47)</a>:</h4>
<p>If you want to practice with sets, I would advise that you do not start with finsets. Unlike "usual" math, finite sets in Lean are not an easy version of general sets.</p>



<a name="272082698"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272082698" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Landsberg <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272082698">(Feb 16 2022 at 07:49)</a>:</h4>
<p>Thanks, I'd like to revise my above question to that of just sets, and ignore finsets for the time being</p>



<a name="272082721"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272082721" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Landsberg <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272082721">(Feb 16 2022 at 07:49)</a>:</h4>
<p>so something like the below is working better (revising kyle's code):</p>
<p>example {α : Type*} {a b : α} : ({a, b} : set α) = ({b, a} : set α) :=<br>
begin</p>
<p>end</p>



<a name="272082833"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272082833" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Landsberg <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272082833">(Feb 16 2022 at 07:51)</a>:</h4>
<p>(PS no i'm not aware of that technicality about finsets and multisets - as i mentioned i'm v new; i've just done proofs in predicate and propositional logic so far <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span> )</p>



<a name="272082923"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272082923" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272082923">(Feb 16 2022 at 07:52)</a>:</h4>
<p><span class="user-mention silent" data-user-id="306601">Kyle Miller</span> <a href="#narrow/stream/113489-new-members/topic/Basic.20Finset.20question/near/272082049">said</a>:</p>
<blockquote>
<p>I'm not sure the bracket notation works for finsets, though I'm not sure why.</p>
</blockquote>
<p>You need <code>decidable_eq A</code></p>



<a name="272082935"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272082935" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Landsberg <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272082935">(Feb 16 2022 at 07:52)</a>:</h4>
<p>So the goal is to prove the above identity. I presume I need some tactics and a library, and (preferably) an illustration of something like the proof or some ideas</p>



<a name="272082959"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272082959" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272082959">(Feb 16 2022 at 07:53)</a>:</h4>
<p>and the original question should be solvable by <code>simp</code></p>



<a name="272083059"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272083059" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Landsberg <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272083059">(Feb 16 2022 at 07:54)</a>:</h4>
<p>i'd like to try and prove it as manually as possible (so for the moment i'd like to leave tactics like simp aside if i can)</p>



<a name="272083096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272083096" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272083096">(Feb 16 2022 at 07:54)</a>:</h4>
<p>the underlying theorem is something like <a href="https://leanprover-community.github.io/mathlib_docs/find/finset.insert_comm">docs#finset.insert_comm</a></p>



<a name="272083126"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272083126" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272083126">(Feb 16 2022 at 07:55)</a>:</h4>
<p>which the docs helpfully redirect to <a href="https://leanprover-community.github.io/mathlib_docs/find/finset.insert_singleton_comm">docs#finset.insert_singleton_comm</a></p>



<a name="272083154"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272083154" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272083154">(Feb 16 2022 at 07:55)</a>:</h4>
<p>Sure,  this is not a problem! One thing you might want is some result telling that if some conditions are met, then two sets are equal. So you might start your proof with <code>apply set.eq_of</code> and then look at what VS code does. It will show a list of all results starting with this name, and this can give you an idea on which to pick.</p>



<a name="272083179"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272083179" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272083179">(Feb 16 2022 at 07:56)</a>:</h4>
<p>If you are wondering how to prove something like that, the standard approach is to apply <code>finset.ext</code> and <code>simp</code> to turn it into <code>x = a \/ x = b &lt;-&gt; x = b \/ x = a</code> which is basic propositional logic</p>



<a name="272083262"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272083262" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272083262">(Feb 16 2022 at 07:57)</a>:</h4>
<p>the <code>simp</code> in this case is doing the dirty work of rewriting <code>x \in insert a s &lt;-&gt; x = a \/ x \in s</code> and <code>x \in singleton b &lt;-&gt; x = b</code></p>



<a name="272083281"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272083281" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Landsberg <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272083281">(Feb 16 2022 at 07:57)</a>:</h4>
<p>That's v helpful - thanks! I guess I'm struggling with the language of how and where I can use bracket notation if anything, so if i work through this example it should help.</p>



<a name="272083349"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272083349" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272083349">(Feb 16 2022 at 07:58)</a>:</h4>
<p>here's that proof spelled out:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">{</span><span class="n">α</span><span class="o">}</span> <span class="o">[</span><span class="n">decidable_eq</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="o">({</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">}</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">α</span><span class="o">)</span> <span class="bp">=</span> <span class="o">{</span><span class="n">b</span><span class="o">,</span> <span class="n">a</span><span class="o">}</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">apply</span> <span class="n">finset.ext</span><span class="o">,</span>
  <span class="n">intro</span> <span class="n">x</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">finset.mem_insert</span><span class="o">,</span> <span class="n">finset.mem_insert</span><span class="o">,</span> <span class="n">finset.mem_singleton</span><span class="o">,</span> <span class="n">finset.mem_singleton</span><span class="o">],</span>
  <span class="n">exact</span> <span class="n">or.comm</span>
<span class="kd">end</span>
</code></pre></div>



<a name="272083419"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272083419" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272083419">(Feb 16 2022 at 07:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="300245">Filippo A. E. Nuccio</span> <a href="#narrow/stream/113489-new-members/topic/Basic.20Finset.20question/near/272082604">said</a>:</p>
<blockquote>
<p>If you want to practice with sets, I would advise that you do not start with finsets. Unlike "usual" math, finite sets in Lean are not an easy version of general sets.</p>
</blockquote>
<p>That's only true if you attempt to use the definition directly. If you make use of the API, especially <code>finset.ext</code> and the simp lemmas, you get an experience very similar to working with general sets</p>



<a name="272083521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272083521" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Landsberg <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272083521">(Feb 16 2022 at 08:00)</a>:</h4>
<p>Great! Thanks guys - i'll now try and extend <span class="user-mention" data-user-id="110049">@Mario Carneiro</span> 's proof for the case of {a,b,c} = {c,b,a} by myself to practice <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="272083588"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272083588" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272083588">(Feb 16 2022 at 08:01)</a>:</h4>
<p>just for comparison, here's the same proof over <code>set</code> instead of <code>finset</code>:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">{</span><span class="n">α</span><span class="o">}</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="o">({</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">}</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">)</span> <span class="bp">=</span> <span class="o">{</span><span class="n">b</span><span class="o">,</span> <span class="n">a</span><span class="o">}</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">apply</span> <span class="n">set.ext</span><span class="o">,</span>
  <span class="n">intro</span> <span class="n">x</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">set.mem_insert_iff</span><span class="o">,</span> <span class="n">set.mem_insert_iff</span><span class="o">,</span> <span class="n">set.mem_singleton_iff</span><span class="o">,</span> <span class="n">set.mem_singleton_iff</span><span class="o">],</span>
  <span class="n">exact</span> <span class="n">or.comm</span>
<span class="kd">end</span>
</code></pre></div>



<a name="272083616"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272083616" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272083616">(Feb 16 2022 at 08:01)</a>:</h4>
<p>there appears to be some inconsistency in the use of <code>_iff</code> suffixes but otherwise it's exactly the same</p>



<a name="272083714"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272083714" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272083714">(Feb 16 2022 at 08:02)</a>:</h4>
<p>you can also replace the first two lines with <code>ext x,</code> which works on both <code>set</code> and <code>finset</code></p>



<a name="272083721"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272083721" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Landsberg <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272083721">(Feb 16 2022 at 08:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113489-new-members/topic/Basic.20Finset.20question/near/272083588">said</a>:</p>
<blockquote>
<p>just for comparison, here's the same proof over <code>set</code> instead of <code>finset</code>:</p>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">{</span><span class="n">α</span><span class="o">}</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="o">({</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">}</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">)</span> <span class="bp">=</span> <span class="o">{</span><span class="n">b</span><span class="o">,</span> <span class="n">a</span><span class="o">}</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">apply</span> <span class="n">set.ext</span><span class="o">,</span>
  <span class="n">intro</span> <span class="n">x</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">set.mem_insert_iff</span><span class="o">,</span> <span class="n">set.mem_insert_iff</span><span class="o">,</span> <span class="n">set.mem_singleton_iff</span><span class="o">,</span> <span class="n">set.mem_singleton_iff</span><span class="o">],</span>
  <span class="n">exact</span> <span class="n">or.comm</span>
<span class="kd">end</span>
</code></pre></div><br>
</p>
</blockquote>
<p>Ah that's what i'm after I think</p>



<a name="272083912"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272083912" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272083912">(Feb 16 2022 at 08:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="477899">David Landsberg</span> has marked this topic as resolved.</p>



<a name="272084461"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272084461" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272084461">(Feb 16 2022 at 08:11)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> I noticed that we had <a href="https://leanprover-community.github.io/mathlib_docs/find/set.mem_Union">docs#set.mem_Union</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/set.mem_bUnion_iff">docs#set.mem_bUnion_iff</a> . Do we care about these inconsistencies?</p>



<a name="272084546"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272084546" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272084546">(Feb 16 2022 at 08:12)</a>:</h4>
<p>Well yes, although I'm sure there is bikeshedding to be had</p>



<a name="272084554"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272084554" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272084554">(Feb 16 2022 at 08:12)</a>:</h4>
<p>I would prefer the version without the _iff</p>



<a name="272084558"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272084558" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272084558">(Feb 16 2022 at 08:12)</a>:</h4>
<p>Erm apparently I'm wrong anyway? I could have sworn this happened to me yesterday</p>



<a name="272084601"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272084601" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272084601">(Feb 16 2022 at 08:13)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/set.mem_insert_iff">docs#set.mem_insert_iff</a> is probably a better choice to make the point</p>



<a name="272084713"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272084713" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272084713">(Feb 16 2022 at 08:14)</a>:</h4>
<p>some of this inconsistency is because these lemmas predate me and the naming sense I imposed on the library in the early stages</p>



<a name="272084794"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272084794" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272084794">(Feb 16 2022 at 08:15)</a>:</h4>
<p>in particular one thing I pushed hard for was more iff statements instead of one-way lemmas</p>



<a name="272084860"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272084860" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272084860">(Feb 16 2022 at 08:16)</a>:</h4>
<p>in a lot of cases the iff statements didn't even exist so when they were added they got the longer name</p>



<a name="272102633"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272102633" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272102633">(Feb 16 2022 at 11:17)</a>:</h4>
<p>By the way, the code examples you post in Zulip will be easier to read if you surround them in <a href="https://github.com/leanprover-community/mathlib/wiki/Code-in-backticks">#backticks</a></p>



<a name="272102905"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272102905" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Landsberg <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272102905">(Feb 16 2022 at 11:20)</a>:</h4>
<p>... I was wondering how to do that <span class="user-mention" data-user-id="422543">@Stuart Presnell</span> <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span> Thanks </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">variable</span> <span class="n">u</span> <span class="o">:</span> <span class="kt">Type</span>
<span class="kd">variables</span> <span class="n">s</span> <span class="n">t</span> <span class="o">:</span> <span class="n">set</span> <span class="n">u</span>

<span class="kd">lemma</span> <span class="n">l4</span><span class="o">:</span> <span class="o">{</span><span class="n">u</span><span class="o">}</span> <span class="o">(</span><span class="n">s1</span> <span class="n">t1</span> <span class="o">:</span> <span class="n">u</span><span class="o">)</span> <span class="o">:</span> <span class="o">{</span><span class="n">s1</span><span class="o">,</span> <span class="n">t1</span><span class="o">}</span> <span class="bp">=</span> <span class="o">{</span><span class="n">t1</span><span class="o">,</span> <span class="n">s1</span><span class="o">}</span> <span class="o">:=</span>
<span class="kd">begin</span>
<span class="n">apply</span> <span class="n">set.ext</span><span class="o">,</span>
<span class="n">intro</span> <span class="n">x</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">set.mem_insert_iff</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">set.mem_insert_iff</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">set.mem_singleton_iff</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">set.mem_singleton_iff</span><span class="o">,</span>
<span class="n">exact</span> <span class="n">or.comm</span>
<span class="kd">end</span>
</code></pre></div>



<a name="272106135"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272106135" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272106135">(Feb 16 2022 at 11:56)</a>:</h4>
<p>you have too many <code>:</code> in the lemma statement</p>



<a name="272106151"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272106151" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272106151">(Feb 16 2022 at 11:56)</a>:</h4>
<p>drop the one after <code>l4</code></p>



<a name="272106226"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272106226" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272106226">(Feb 16 2022 at 11:57)</a>:</h4>
<p>generally, you should always be able to replace <code>example</code> with <code>lemma thm_name</code> (not <code>lemma thm_name:</code>!) without issue</p>



<a name="272106951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272106951" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Landsberg <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272106951">(Feb 16 2022 at 12:04)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113489-new-members/topic/Basic.20Finset.20question/near/272106226">said</a>:</p>
<blockquote>
<p>generally, you should always be able to replace <code>example</code> with <code>lemma thm_name</code> (not <code>lemma thm_name:</code>!) without issue</p>
</blockquote>
<p>Thanks again Mario. Can't stress enough how valuable advice like this is - you've saved me yet another hour of grinding!</p>



<a name="272107241"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272107241" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Landsberg <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272107241">(Feb 16 2022 at 12:07)</a>:</h4>
<p><span class="user-mention silent" data-user-id="477899">David Landsberg</span> <a href="#narrow/stream/113489-new-members/topic/Basic.20Finset.20question/near/272106951">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113489-new-members/topic/Basic.20Finset.20question/near/272106226">said</a>:</p>
<blockquote>
<p>generally, you should always be able to replace <code>example</code> with <code>lemma thm_name</code> (not <code>lemma thm_name:</code>!) without issue</p>
</blockquote>
<p>Thanks again Mario. Can't stress enough how valuable advice like this is - you've saved me yet another hour of grinding!</p>
</blockquote>
<p>Seems like this might be a counter-example however - I get errors for the lemma, but not the example </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">l9</span> <span class="o">(</span><span class="n">s1</span> <span class="n">t1</span> <span class="o">:</span> <span class="n">u</span><span class="o">)</span> <span class="o">:</span> <span class="o">{</span><span class="n">s1</span><span class="o">,</span> <span class="n">t1</span><span class="o">}</span> <span class="bp">=</span> <span class="o">{</span><span class="n">t1</span><span class="o">,</span> <span class="n">s1</span><span class="o">}</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">apply</span> <span class="n">set.ext</span><span class="o">,</span>
  <span class="n">intro</span> <span class="n">x</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">set.mem_insert_iff</span><span class="o">,</span> <span class="n">set.mem_insert_iff</span><span class="o">,</span> <span class="n">set.mem_singleton_iff</span><span class="o">,</span> <span class="n">set.mem_singleton_iff</span><span class="o">],</span>
  <span class="n">exact</span> <span class="n">or.comm</span>
<span class="kd">end</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">s1</span> <span class="n">t1</span> <span class="o">:</span> <span class="n">u</span><span class="o">)</span> <span class="o">:</span> <span class="o">{</span><span class="n">s1</span><span class="o">,</span> <span class="n">t1</span><span class="o">}</span> <span class="bp">=</span> <span class="o">{</span><span class="n">t1</span><span class="o">,</span> <span class="n">s1</span><span class="o">}</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">apply</span> <span class="n">set.ext</span><span class="o">,</span>
  <span class="n">intro</span> <span class="n">x</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">set.mem_insert_iff</span><span class="o">,</span> <span class="n">set.mem_insert_iff</span><span class="o">,</span> <span class="n">set.mem_singleton_iff</span><span class="o">,</span> <span class="n">set.mem_singleton_iff</span><span class="o">],</span>
  <span class="n">exact</span> <span class="n">or.comm</span>
<span class="kd">end</span>
</code></pre></div>



<a name="272107367"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272107367" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Landsberg <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272107367">(Feb 16 2022 at 12:09)</a>:</h4>
<p>But I guess the answer is I need to be more precise with my typing - perhaps the interpreter was being more charitable for my examples than my lemmas!</p>



<a name="272107531"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272107531" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272107531">(Feb 16 2022 at 12:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="477899">David Landsberg</span> has marked this topic as resolved.</p>



<a name="272113796"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272113796" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272113796">(Feb 16 2022 at 13:17)</a>:</h4>
<p>Indeed, I lied, and I was wondering how long it would take you to run across the counterexample - it turns out not long at all. The short answer is that <code>example</code> and <code>def</code> allow the body of the def to influence elaboration of the type, while <code>lemma</code> and <code>theorem</code> do not, with the idea that proofs of <code>lemma</code>s can be elaborated asynchronously, since we only need the statement of the lemma for later theorems. If the body / proof of a lemma could influence the statement, then we would not be able to skip proofs.</p>



<a name="272113968"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Basic%20Finset%20question/near/272113968" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Basic.20Finset.20question.html#272113968">(Feb 16 2022 at 13:19)</a>:</h4>
<p><code>example</code>s are also elaborated asynchronously, unlike <code>def</code>; this is okay for <code>example</code> because we cannot refer to the constructed definition after the fact</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>