---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/cases_on.20bytecode.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cases_on.20bytecode.html">cases_on bytecode</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="203368922"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cases_on%20bytecode/near/203368922" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mateusz Zugaj <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cases_on.20bytecode.html#203368922">(Jul 09 2020 at 10:00)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="n">prelude</span>
<span class="kn">inductive</span> <span class="n">nat</span>
<span class="bp">|</span> <span class="n">zero</span> <span class="o">:</span> <span class="n">nat</span>
<span class="bp">|</span> <span class="n">succ</span> <span class="o">:</span> <span class="n">nat</span> <span class="bp">→</span> <span class="n">nat</span>
<span class="kn">definition</span> <span class="n">add</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">nat</span><span class="o">)</span> <span class="o">(</span><span class="n">m</span><span class="o">:</span> <span class="n">nat</span><span class="o">)</span> <span class="o">:</span> <span class="n">nat</span> <span class="o">:=</span>
<span class="n">nat</span><span class="bp">.</span><span class="n">rec</span> <span class="n">n</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">k</span> <span class="n">nk</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">succ</span> <span class="n">nk</span><span class="o">)</span> <span class="n">m</span>
</code></pre></div>



<a name="203368938"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cases_on%20bytecode/near/203368938" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mateusz Zugaj <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cases_on.20bytecode.html#203368938">(Jul 09 2020 at 10:00)</a>:</h4>
<p>I get a warning</p>



<a name="203368948"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cases_on%20bytecode/near/203368948" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mateusz Zugaj <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cases_on.20bytecode.html#203368948">(Jul 09 2020 at 10:00)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="n">failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">bytecode</span> <span class="n">for</span> <span class="err">&#39;</span><span class="n">add&#39;</span>
<span class="n">unknown</span> <span class="n">declaration</span> <span class="err">&#39;</span><span class="n">nat</span><span class="bp">.</span><span class="n">cases_on&#39;</span>
</code></pre></div>



<a name="203368957"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cases_on%20bytecode/near/203368957" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mateusz Zugaj <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cases_on.20bytecode.html#203368957">(Jul 09 2020 at 10:00)</a>:</h4>
<p>What's going on?</p>



<a name="203369139"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cases_on%20bytecode/near/203369139" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mateusz Zugaj <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cases_on.20bytecode.html#203369139">(Jul 09 2020 at 10:03)</a>:</h4>
<p>If <code>nat.cases_on</code> is not defined automatically, then why it's needed?</p>



<a name="203377046"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cases_on%20bytecode/near/203377046" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cases_on.20bytecode.html#203377046">(Jul 09 2020 at 12:02)</a>:</h4>
<p><code>nat</code> has special support in the interpreter (to use GMP instead of the unary representation). So I'm not entirely surprised that replacing it causes interpreter-related issues. I don't know how to explain this specifically, though; maybe look at how <code>nat</code> is set up in the core library?</p>



<a name="203394804"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cases_on%20bytecode/near/203394804" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cases_on.20bytecode.html#203394804">(Jul 09 2020 at 14:47)</a>:</h4>
<p>Changing <code>nat</code> to <code>mat</code> gives the same error</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>