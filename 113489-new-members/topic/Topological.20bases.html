---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Topological.20bases.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Topological.20bases.html">Topological bases</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="206495546"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Topological%20bases/near/206495546" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Emiel Lanckriet <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Topological.20bases.html#206495546">(Aug 10 2020 at 18:30)</a>:</h4>
<p>I am trying to proof that if T' is finer than T iff for x in X and each element of the basis B with x in B, there is an element of the basis B' such that x in that element and the new element is a subset of the old one.</p>
<p>I have written this code, but have some trouble reconciling the is_open with the generated_from, I used the generated from instead of topological_space.is_topological_basis because I couldn't seem to specify a topology.</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">topology</span><span class="bp">.</span><span class="n">basic</span> <span class="n">topology</span><span class="bp">.</span><span class="n">bases</span> <span class="n">topology</span><span class="bp">.</span><span class="n">metric_space</span><span class="bp">.</span><span class="n">basic</span> <span class="n">topology</span><span class="bp">.</span><span class="n">order</span>

<span class="n">open_locale</span> <span class="n">classical</span> <span class="n">filter</span>

<span class="kn">open</span> <span class="n">filter</span> <span class="n">set</span> <span class="n">topological_space</span>

<span class="kn">example</span> <span class="o">{</span><span class="n">α</span><span class="o">}</span> <span class="o">{</span><span class="n">B</span> <span class="n">B&#39;</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">α</span><span class="o">)}</span> <span class="o">{</span><span class="n">t</span> <span class="n">t&#39;</span> <span class="o">:</span> <span class="n">topological_space</span> <span class="n">α</span><span class="o">}</span>
    <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">t</span>  <span class="bp">=</span> <span class="n">topological_space</span><span class="bp">.</span><span class="n">generate_from</span> <span class="n">B</span><span class="o">)</span> <span class="o">(</span><span class="n">h&#39;</span> <span class="o">:</span> <span class="n">t&#39;</span> <span class="bp">=</span> <span class="n">topological_space</span><span class="bp">.</span><span class="n">generate_from</span> <span class="n">B&#39;</span><span class="o">)</span> <span class="o">:</span>
        <span class="n">t&#39;</span> <span class="bp">≤</span> <span class="n">t</span> <span class="bp">↔</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span> <span class="err">∈</span> <span class="n">B</span><span class="o">),</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">b</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="n">b&#39;</span> <span class="err">∈</span> <span class="n">B&#39;</span><span class="o">,</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">b&#39;</span> <span class="bp">∧</span> <span class="n">b&#39;</span> <span class="err">⊆</span> <span class="n">b</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
    <span class="n">split</span><span class="o">,</span>
    <span class="o">{</span>
        <span class="n">intros</span> <span class="n">t&#39;fint</span> <span class="n">x</span> <span class="n">b</span> <span class="n">bB</span> <span class="n">xb</span><span class="o">,</span>
        <span class="n">use</span> <span class="n">b</span><span class="o">,</span>
        <span class="n">split</span><span class="o">,</span>
        <span class="o">{</span>
            <span class="n">rw</span> <span class="o">[</span><span class="n">h</span><span class="o">,</span> <span class="n">h&#39;</span><span class="o">]</span> <span class="n">at</span> <span class="n">t&#39;fint</span><span class="o">,</span>
            <span class="k">have</span> <span class="n">r</span> <span class="o">:=</span> <span class="n">t&#39;fint</span> <span class="n">b</span><span class="o">,</span>
            <span class="n">sorry</span>
        <span class="o">},</span>
        <span class="o">{</span>
            <span class="n">split</span><span class="o">,</span> <span class="n">assumption</span><span class="o">,</span> <span class="n">refl</span>
        <span class="o">},</span>
    <span class="o">},</span>
    <span class="o">{</span>
        <span class="n">intros</span> <span class="n">h</span> <span class="n">U</span> <span class="n">u_open</span><span class="o">,</span>
        <span class="n">sorry</span>
    <span class="o">},</span>
<span class="kn">end</span>
</code></pre></div>


<p>I get stuck at the first sorry where the relevant parts of the environment are:</p>
<div class="codehilite"><pre><span></span><code><span class="n">r</span><span class="o">:</span> <span class="o">(</span><span class="n">generate_from</span> <span class="n">B</span><span class="o">)</span><span class="bp">.</span><span class="n">is_open</span> <span class="n">b</span> <span class="bp">≤</span> <span class="o">(</span><span class="n">generate_from</span> <span class="n">B&#39;</span><span class="o">)</span><span class="bp">.</span><span class="n">is_open</span> <span class="n">b</span>
<span class="n">bB</span> <span class="o">:</span> <span class="n">b</span> <span class="err">\</span><span class="k">in</span> <span class="n">B</span>
<span class="err">\</span><span class="bp">|</span> <span class="n">b</span> <span class="err">\</span><span class="k">in</span> <span class="n">B&#39;</span>
</code></pre></div>


<p>So, either I should find how to show <code>(generate_from B).is_open b</code> given <code> b \in B</code> or how to formulate this better using topological_space.is_topological_basis.</p>



<a name="206498668"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Topological%20bases/near/206498668" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Topological.20bases.html#206498668">(Aug 10 2020 at 18:54)</a>:</h4>
<p>I don't see why it should be true that if B is a bunch of sets and B' is another bunch of sets, and the topology generated by B' is finer than the topology generated by B, then B is a subset of B'. But this is the goal state at your first sorry:</p>
<div class="codehilite"><pre><span></span><code>α: Type ?
BB&#39;: set (set α)
tt&#39;: topological_space α
h: t = generate_from B
h&#39;: t&#39; = generate_from B&#39;
x: α
b: set α
bB: b ∈ B
xb: x ∈ b
t&#39;fint: generate_from B&#39; ≤ generate_from B
⊢ b ∈ B&#39;
</code></pre></div>


<p>So you have made a wrong turn somewhere.</p>



<a name="206498842"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Topological%20bases/near/206498842" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Topological.20bases.html#206498842">(Aug 10 2020 at 18:56)</a>:</h4>
<p>Just before your <code>use</code> statement your tactic state is</p>
<div class="codehilite"><pre><span></span><code>α: Type ?
B B&#39;: set (set α)
t t&#39;: topological_space α
h: t = generate_from B
h&#39;: t&#39; = generate_from B&#39;
t&#39;fint: t&#39; ≤ t
x: α
b: set α
bB: b ∈ B
xb: x ∈ b
⊢ ∃ (b&#39; : set α) (H : b&#39; ∈ B&#39;), x ∈ b&#39; ∧ b&#39; ⊆ b
</code></pre></div>



<a name="206499038"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Topological%20bases/near/206499038" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Topological.20bases.html#206499038">(Aug 10 2020 at 18:57)</a>:</h4>
<p>and you tried the tactic <code>use b</code> but we now see that this is over-optimistic. What is the maths proof of what you're trying to do?</p>



<a name="206499736"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Topological%20bases/near/206499736" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Topological.20bases.html#206499736">(Aug 10 2020 at 19:02)</a>:</h4>
<p>PS why not just state your problem as</p>
<div class="codehilite"><pre><span></span><code><span class="kn">example</span> <span class="o">{</span><span class="n">α</span><span class="o">}</span> <span class="o">{</span><span class="n">B</span> <span class="n">B&#39;</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">α</span><span class="o">)}</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">generate_from</span> <span class="n">B&#39;</span> <span class="bp">≤</span> <span class="n">generate_from</span> <span class="n">B</span><span class="o">)</span> <span class="bp">↔</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span> <span class="err">∈</span> <span class="n">B</span><span class="o">),</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">b</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="n">b&#39;</span> <span class="err">∈</span> <span class="n">B&#39;</span><span class="o">,</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">b&#39;</span> <span class="bp">∧</span> <span class="n">b&#39;</span> <span class="err">⊆</span> <span class="n">b</span><span class="o">)</span> <span class="o">:=</span>
</code></pre></div>


<p>instead of introducing all those t's (actually the notation is pretty useful, maybe this isn't such a good idea)</p>



<a name="206500556"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Topological%20bases/near/206500556" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Emiel Lanckriet <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Topological.20bases.html#206500556">(Aug 10 2020 at 19:08)</a>:</h4>
<p>Ah, yes, indeed, I mistook the bases for the topologies.</p>



<a name="206500619"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Topological%20bases/near/206500619" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Topological.20bases.html#206500619">(Aug 10 2020 at 19:09)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">example</span> <span class="o">{</span><span class="n">α</span><span class="o">}</span> <span class="o">{</span><span class="n">B</span> <span class="n">B&#39;</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">α</span><span class="o">)}</span> <span class="o">{</span><span class="n">t</span> <span class="n">t&#39;</span> <span class="o">:</span> <span class="n">topological_space</span> <span class="n">α</span><span class="o">}</span>
    <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">t</span>  <span class="bp">=</span> <span class="n">topological_space</span><span class="bp">.</span><span class="n">generate_from</span> <span class="n">B</span><span class="o">)</span> <span class="o">(</span><span class="n">h&#39;</span> <span class="o">:</span> <span class="n">t&#39;</span> <span class="bp">=</span> <span class="n">topological_space</span><span class="bp">.</span><span class="n">generate_from</span> <span class="n">B&#39;</span><span class="o">)</span> <span class="o">:</span>
        <span class="n">t&#39;</span> <span class="bp">≤</span> <span class="n">t</span> <span class="bp">↔</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span> <span class="err">∈</span> <span class="n">B</span><span class="o">),</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">b</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="n">b&#39;</span> <span class="err">∈</span> <span class="n">B&#39;</span><span class="o">,</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">b&#39;</span> <span class="bp">∧</span> <span class="n">b&#39;</span> <span class="err">⊆</span> <span class="n">b</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
    <span class="n">split</span><span class="o">,</span>
    <span class="o">{</span>
        <span class="n">intros</span> <span class="n">t&#39;fint</span> <span class="n">x</span> <span class="n">b</span> <span class="n">bB</span> <span class="n">xb</span><span class="o">,</span>
        <span class="k">have</span> <span class="n">h2</span> <span class="o">:</span> <span class="n">t&#39;</span><span class="bp">.</span><span class="n">is_open</span> <span class="n">b</span><span class="o">,</span>
        <span class="o">{</span> <span class="n">apply</span> <span class="n">t&#39;fint</span><span class="o">,</span>
          <span class="n">rw</span> <span class="n">h</span><span class="o">,</span>
          <span class="n">exact</span> <span class="n">generate_open</span><span class="bp">.</span><span class="n">basic</span> <span class="n">b</span> <span class="n">bB</span><span class="o">,</span>
        <span class="o">},</span>
</code></pre></div>


<p>There's a start. This is a proof that b is open for the t' topology.</p>



<a name="206501052"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Topological%20bases/near/206501052" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Topological.20bases.html#206501052">(Aug 10 2020 at 19:12)</a>:</h4>
<p>and perhaps the next three lines should be</p>
<div class="codehilite"><pre><span></span><code>        <span class="n">rw</span> <span class="n">h&#39;</span> <span class="n">at</span> <span class="n">h2</span><span class="o">,</span>
        <span class="n">change</span> <span class="n">generate_open</span> <span class="n">B&#39;</span> <span class="n">b</span> <span class="n">at</span> <span class="n">h2</span><span class="o">,</span>
        <span class="n">induction</span> <span class="n">h2</span> <span class="k">with</span> <span class="n">AAA</span> <span class="n">BBB</span> <span class="n">CCC</span> <span class="n">DDD</span> <span class="n">EEE</span> <span class="n">FFF</span> <span class="n">GGG</span> <span class="n">HHH</span> <span class="n">III</span> <span class="n">JJJ</span> <span class="n">KKK</span> <span class="n">LLL</span> <span class="n">MMM</span><span class="o">,</span>
</code></pre></div>


<p>where I use triple capital letters at first and then I go through looking at all the goals, and change the names of the variables to more appropriate names.</p>



<a name="206501384"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Topological%20bases/near/206501384" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Topological.20bases.html#206501384">(Aug 10 2020 at 19:15)</a>:</h4>
<p>the thing about the topological space generated by a collection of sets is that the definition of the open sets is given recursively. <code>h2</code> is a proof that something is an open set in the topology generated by B', and there are four ways that that can happen: either it's in B', or it's the whole space, or it's the intersection of two sets we already generated, or it's a union of sets we already generated. I don't know what your maths proof is but if you want to do it from first principles then perhaps you need this inductive step. Of course if you're prepared to use things from the library then it might be easier -- it might well already be in there for all I know.</p>



<a name="206501900"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Topological%20bases/near/206501900" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Emiel Lanckriet <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Topological.20bases.html#206501900">(Aug 10 2020 at 19:20)</a>:</h4>
<p>The maths proof is quite simple: So, take X \in X and b \in B, then b belongs to t and t \sub t', hence b \in t'. Since t' is generated by B', there is a b' \in B' such that x \in B' \sub B.</p>



<a name="206501939"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Topological%20bases/near/206501939" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Emiel Lanckriet <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Topological.20bases.html#206501939">(Aug 10 2020 at 19:20)</a>:</h4>
<p>This is the proof taken literally from the book, but of course the last step is harder in formalization.</p>



<a name="206506738"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Topological%20bases/near/206506738" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Topological.20bases.html#206506738">(Aug 10 2020 at 20:03)</a>:</h4>
<p>So then maybe don't do this induction step. Can you give me more details about the claim "Since t' is generated by B', there is a b' \in B' such that x \in B' \sub B". This is your first mention of x, there was an X before, and you don't mention b' at all, so maybe you have some typos in your book? It would be good to find a sentence which makes sense and you can type into Lean, then we can see if we can (a) prove it and (b) use it.</p>



<a name="206506849"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Topological%20bases/near/206506849" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Topological.20bases.html#206506849">(Aug 10 2020 at 20:04)</a>:</h4>
<p>Note that I did the first line of the proof in your book: I showed b was in t' (this is my <code>h2</code>).</p>



<a name="206511197"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Topological%20bases/near/206511197" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Topological.20bases.html#206511197">(Aug 10 2020 at 20:46)</a>:</h4>
<p><span class="user-mention" data-user-id="294534">@Emiel Lanckriet</span> what you are trying yo prove is wrong. There is a mismatch between definitions.</p>



<a name="206514389"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Topological%20bases/near/206514389" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Topological.20bases.html#206514389">(Aug 10 2020 at 21:16)</a>:</h4>
<p>Let me now answer your actual question. You had trouble using <code>is_topological_basis</code> because this predicate, like most of the library, is really meant to work with a single topology on a given type. In technical terms, the topological structure is inferred by a mechanism called "type class instance resolution" that works great but assumes there is only one instance of each class on a given type (this is a simplified story, but good enough for now). This instance resolution is part of <em>elaboration</em>, the process where the proof assistant tries to figure out all the information you didn't explicitly provided. The good news here is that you can always override this elaboration process by prefixing lemma or definition names with a <code>@</code> and providing as much information as you want (using underscores for stuff you don't want to provide).</p>



<a name="206514509"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Topological%20bases/near/206514509" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Topological.20bases.html#206514509">(Aug 10 2020 at 21:17)</a>:</h4>
<p>This doesn't give pretty code (lots of <code>@</code> and <code>_</code>), but it works.</p>



<a name="206514909"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Topological%20bases/near/206514909" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Topological.20bases.html#206514909">(Aug 10 2020 at 21:21)</a>:</h4>
<p>If you still want an exercise, you can first copy the statements and try to prove it. If this is still difficult, you can also note that the relevant lemmas are <code>mem_basis_subset_of_mem_open</code>, <code>is_open_of_is_topological_basis</code>, <code>mem_basis_subset_of_mem_open</code> (and <code>is_open_iff_forall_mem_open</code> which has nothing to do with bases).</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">topology</span><span class="bp">.</span><span class="n">basic</span> <span class="n">topology</span><span class="bp">.</span><span class="n">bases</span> <span class="n">topology</span><span class="bp">.</span><span class="n">metric_space</span><span class="bp">.</span><span class="n">basic</span> <span class="n">topology</span><span class="bp">.</span><span class="n">order</span>

<span class="n">open_locale</span> <span class="n">classical</span> <span class="n">filter</span>

<span class="kn">open</span> <span class="n">filter</span> <span class="n">set</span> <span class="n">topological_space</span>

<span class="kn">example</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">B</span> <span class="n">B&#39;</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">α</span><span class="o">)}</span> <span class="o">{</span><span class="n">t</span> <span class="n">t&#39;</span> <span class="o">:</span> <span class="n">topological_space</span> <span class="n">α</span><span class="o">}</span>
  <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="bp">@</span><span class="n">is_topological_basis</span> <span class="bp">_</span> <span class="n">t</span> <span class="n">B</span><span class="o">)</span> <span class="o">(</span><span class="n">h&#39;</span> <span class="o">:</span> <span class="bp">@</span><span class="n">is_topological_basis</span> <span class="bp">_</span> <span class="n">t&#39;</span> <span class="n">B&#39;</span><span class="o">)</span> <span class="o">:</span>
        <span class="n">t&#39;</span> <span class="bp">≤</span> <span class="n">t</span> <span class="bp">↔</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span> <span class="err">∈</span> <span class="n">B</span><span class="o">),</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">b</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="n">b&#39;</span> <span class="err">∈</span> <span class="n">B&#39;</span><span class="o">,</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">b&#39;</span> <span class="bp">∧</span> <span class="n">b&#39;</span> <span class="err">⊆</span> <span class="n">b</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">intros</span> <span class="n">H</span> <span class="n">x</span> <span class="n">b</span> <span class="n">b_in</span> <span class="n">x_in</span><span class="o">,</span>
    <span class="n">apply</span> <span class="n">mem_basis_subset_of_mem_open</span> <span class="n">h&#39;</span> <span class="n">x_in</span> <span class="bp">_</span><span class="o">,</span>
    <span class="n">apply</span> <span class="n">H</span><span class="o">,</span>
    <span class="n">exact</span> <span class="bp">@</span><span class="n">is_open_of_is_topological_basis</span> <span class="bp">_</span> <span class="n">t</span> <span class="bp">_</span> <span class="bp">_</span> <span class="n">h</span> <span class="n">b_in</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">intros</span> <span class="n">H</span> <span class="n">b</span> <span class="n">b_op</span><span class="o">,</span>
    <span class="n">change</span> <span class="bp">@</span><span class="n">is_open</span> <span class="bp">_</span> <span class="n">t&#39;</span> <span class="n">b</span><span class="o">,</span>
    <span class="n">rw</span> <span class="bp">@</span><span class="n">is_open_iff_forall_mem_open</span> <span class="n">α</span> <span class="n">b</span> <span class="n">t&#39;</span><span class="o">,</span>
    <span class="n">intros</span> <span class="n">x</span> <span class="n">x_in</span><span class="o">,</span>
    <span class="n">rcases</span> <span class="bp">@</span><span class="n">mem_basis_subset_of_mem_open</span> <span class="bp">_</span> <span class="n">t</span> <span class="bp">_</span> <span class="n">h</span> <span class="bp">_</span> <span class="n">b</span> <span class="n">x_in</span> <span class="n">b_op</span> <span class="k">with</span> <span class="bp">⟨</span><span class="n">b₁</span><span class="o">,</span> <span class="n">b₁_in</span><span class="o">,</span> <span class="n">x_in₁</span><span class="o">,</span> <span class="n">hb₁b</span><span class="bp">⟩</span><span class="o">,</span>
    <span class="n">rcases</span> <span class="n">H</span> <span class="n">x</span> <span class="bp">_</span> <span class="n">b₁_in</span> <span class="n">x_in₁</span> <span class="k">with</span> <span class="bp">⟨</span><span class="n">b&#39;</span><span class="o">,</span> <span class="n">b&#39;_in</span><span class="o">,</span> <span class="n">x_in_b&#39;</span><span class="o">,</span> <span class="n">hb&#39;b₁</span><span class="bp">⟩</span><span class="o">,</span>
    <span class="n">exact</span> <span class="bp">⟨</span><span class="n">b&#39;</span><span class="o">,</span> <span class="n">subset</span><span class="bp">.</span><span class="n">trans</span> <span class="n">hb&#39;b₁</span> <span class="n">hb₁b</span><span class="o">,</span> <span class="bp">@</span><span class="n">is_open_of_is_topological_basis</span> <span class="n">α</span> <span class="n">t&#39;</span> <span class="bp">_</span> <span class="bp">_</span> <span class="n">h&#39;</span> <span class="n">b&#39;_in</span><span class="o">,</span> <span class="n">x_in_b&#39;</span><span class="bp">⟩</span> <span class="o">},</span>
<span class="kn">end</span>
</code></pre></div>



<a name="206516841"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Topological%20bases/near/206516841" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Emiel Lanckriet <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Topological.20bases.html#206516841">(Aug 10 2020 at 21:38)</a>:</h4>
<p>Thanks a lot, I'll take a look at it tomorrow. Right now I am trying to work my way through Topology by Munkres to familiarize with the formalization of topology. Are there better ways?</p>



<a name="206517112"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Topological%20bases/near/206517112" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Emiel Lanckriet <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Topological.20bases.html#206517112">(Aug 10 2020 at 21:41)</a>:</h4>
<p>Thanks, the proof is easy to understand intuitively, but formalizing it isn't always as easy. I still have the bad habit of kinda brute forcing the proof by just looking at the state after each step and ignoring my mathematical knowledge.</p>



<a name="206517352"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Topological%20bases/near/206517352" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Topological.20bases.html#206517352">(Aug 10 2020 at 21:44)</a>:</h4>
<p>If you want to understand topology in mathlib  you should rather read Bourbaki (or I M James).</p>



<a name="206517817"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Topological%20bases/near/206517817" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Topological.20bases.html#206517817">(Aug 10 2020 at 21:49)</a>:</h4>
<p>Topology turns out to be slicker to formalise with filters than with manipulations of open sets, so many of the proofs in mathlib are done with filters.</p>



<a name="206517965"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Topological%20bases/near/206517965" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Topological.20bases.html#206517965">(Aug 10 2020 at 21:51)</a>:</h4>
<p>Hopefully <a href="https://www.youtube.com/watch?v=hhOPRaR3tx0">https://www.youtube.com/watch?v=hhOPRaR3tx0</a> can help a bit.</p>
<div class="youtube-video message_inline_image"><a data-id="hhOPRaR3tx0" href="https://www.youtube.com/watch?v=hhOPRaR3tx0"><img src="https://i.ytimg.com/vi/hhOPRaR3tx0/default.jpg"></a></div>



<a name="206559323"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Topological%20bases/near/206559323" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Emiel Lanckriet <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Topological.20bases.html#206559323">(Aug 11 2020 at 10:18)</a>:</h4>
<p>Ah, yes, I already watched the video before, but I thought that it would be fruitfull to try to translate the things in Munkres to filters. But for this kind of proof the filters didn't seem to be present.</p>



<a name="206580024"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Topological%20bases/near/206580024" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Emiel Lanckriet <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Topological.20bases.html#206580024">(Aug 11 2020 at 14:15)</a>:</h4>
<p>To go on on the same topic, I am trying to proof that if Y is open in the topolgy on X and U is open on the subspace topology on Y then U is open on the topology on X. I have found the file topology.constructions which says that it has a subspace topology, but I can't find one.</p>



<a name="206580481"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Topological%20bases/near/206580481" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Topological.20bases.html#206580481">(Aug 11 2020 at 14:18)</a>:</h4>
<p>This is <a href="https://leanprover-community.github.io/mathlib_docs/find/is_open.open_embedding_subtype_coe">docs#is_open.open_embedding_subtype_coe</a></p>



<a name="206580960"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Topological%20bases/near/206580960" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Topological.20bases.html#206580960">(Aug 11 2020 at 14:22)</a>:</h4>
<p>Or even more directly <a href="https://leanprover-community.github.io/mathlib_docs/find/is_open.is_open_map_subtype_coe">docs#is_open.is_open_map_subtype_coe</a></p>



<a name="206581006"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Topological%20bases/near/206581006" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Topological.20bases.html#206581006">(Aug 11 2020 at 14:23)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">topology</span><span class="bp">.</span><span class="n">constructions</span>

<span class="kn">example</span> <span class="o">{</span><span class="n">X</span><span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">topological_space</span> <span class="n">X</span><span class="o">]</span> <span class="o">{</span><span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">}</span> <span class="o">(</span><span class="n">hY</span> <span class="o">:</span> <span class="n">is_open</span> <span class="n">Y</span><span class="o">)</span> <span class="o">{</span><span class="n">U</span> <span class="o">:</span> <span class="n">set</span> <span class="n">Y</span><span class="o">}</span> <span class="o">{</span><span class="n">hU</span> <span class="o">:</span> <span class="n">is_open</span> <span class="n">U</span><span class="o">}</span> <span class="o">:</span>
  <span class="n">is_open</span> <span class="o">((</span><span class="n">coe</span> <span class="o">:</span> <span class="n">Y</span> <span class="bp">→</span> <span class="n">X</span><span class="o">)</span> <span class="err">&#39;&#39;</span> <span class="n">U</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">hY</span><span class="bp">.</span><span class="n">is_open_map_subtype_coe</span> <span class="n">U</span> <span class="n">hU</span>
</code></pre></div>



<a name="206581121"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Topological%20bases/near/206581121" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Topological.20bases.html#206581121">(Aug 11 2020 at 14:23)</a>:</h4>
<p>All the difficulty here is in understand <code>set</code> and <code>subtype</code>. See topology exercises in the lftcm2020 repository.</p>



<a name="206581500"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Topological%20bases/near/206581500" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Emiel Lanckriet <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Topological.20bases.html#206581500">(Aug 11 2020 at 14:26)</a>:</h4>
<p>Thanks a lot, I already looked at lftcm2020 about topology, but I clearly don't understand it all yet.</p>



<a name="206581565"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Topological%20bases/near/206581565" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Topological.20bases.html#206581565">(Aug 11 2020 at 14:26)</a>:</h4>
<p>I mean doing the exercises, not only watching the intro video.</p>



<a name="206581583"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Topological%20bases/near/206581583" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Topological.20bases.html#206581583">(Aug 11 2020 at 14:26)</a>:</h4>
<p>And yes, it's not easy.</p>



<a name="206582003"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Topological%20bases/near/206582003" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Emiel Lanckriet <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Topological.20bases.html#206582003">(Aug 11 2020 at 14:30)</a>:</h4>
<p>No, I mean I have done the exercises a few days ago, but I might take a look at them again, because I feel I didn't get it all and had to peek at the solution a lot.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>