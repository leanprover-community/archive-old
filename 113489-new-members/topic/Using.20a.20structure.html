---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Using.20a.20structure.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20a.20structure.html">Using a structure</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="315027661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20a%20structure/near/315027661" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Quinn Culver <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20a.20structure.html#315027661">(Dec 10 2022 at 05:41)</a>:</h4>
<p>Aloha,</p>
<p>How do I use a structure? I want to formalize the fundamental theorem of projective geometry, which says</p>
<blockquote>
<p>if Π is a Desarguean projective plane, then it's coordinatized by a (certain) division ring D.</p>
</blockquote>
<p>I see <a href="https://leanprover-community.github.io/mathlib_docs/combinatorics/configuration.html#configuration.projective_plane">mathlib has a "structure" <code>configuration.projective_plane</code></a>, which I guess is what I want to use (right?) . How do I?</p>



<a name="315028437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20a%20structure/near/315028437" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20a.20structure.html#315028437">(Dec 10 2022 at 05:54)</a>:</h4>
<p>I think you can start with</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">variables</span> <span class="o">(</span><span class="n">P</span> <span class="n">L</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">has_mem</span> <span class="n">P</span> <span class="n">L</span><span class="o">]</span> <span class="o">[</span><span class="n">configuration.projective_plane</span> <span class="n">P</span> <span class="n">L</span><span class="o">]</span>

<span class="kd">def</span> <span class="n">configuration.desarguean</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="c1">-- fill this in</span>
</code></pre></div>



<a name="315028444"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20a%20structure/near/315028444" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20a.20structure.html#315028444">(Dec 10 2022 at 05:54)</a>:</h4>
<p><span class="user-mention" data-user-id="245476">@Quinn Culver</span> What is the definition of Desarguean that you would like to use?</p>



<a name="315028746"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20a%20structure/near/315028746" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Quinn Culver <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20a.20structure.html#315028746">(Dec 10 2022 at 05:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/113489-new-members/topic/Using.20a.20structure/near/315028444">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="245476">Quinn Culver</span> What is the definition of Desarguean that you would like to use?</p>
</blockquote>
<p>Π is Desarguea iff whenever a set of 6 points are perspective from a point, then they are perspective from a line.</p>



<a name="315033337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20a%20structure/near/315033337" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20a.20structure.html#315033337">(Dec 10 2022 at 07:10)</a>:</h4>
<p>Is it not spelt Desargue<em>si</em>an?</p>



<a name="315090869"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20a%20structure/near/315090869" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20a.20structure.html#315090869">(Dec 10 2022 at 14:58)</a>:</h4>
<p>It's called arguesian plane or desarguesian plane.</p>



<a name="315111398"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20a%20structure/near/315111398" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Quinn Culver <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20a.20structure.html#315111398">(Dec 10 2022 at 18:00)</a>:</h4>
<p>I got my spelling from a document written by old gentleman who's an expert in the field. That suggests his spelling might've been in use once upon a time.</p>



<a name="315111514"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20a%20structure/near/315111514" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20a.20structure.html#315111514">(Dec 10 2022 at 18:01)</a>:</h4>
<p>I bet the old gentleman wasn't Desargues. Probably Desargues wanted to keep his name intact :-) I was once taken to task on mathoverflow for referring to a collection of Frobenius elements as Frobenii.</p>



<a name="315112331"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20a%20structure/near/315112331" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Quinn Culver <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20a.20structure.html#315112331">(Dec 10 2022 at 18:09)</a>:</h4>
<p>Do the eponyms Ptolemic and/or Linnaean keep the names intact more that Desarguean, <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> ?</p>



<a name="315122193"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20a%20structure/near/315122193" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20a.20structure.html#315122193">(Dec 10 2022 at 20:00)</a>:</h4>
<p>Apparently <em>Frobenii</em> is in common use? <a href="https://stacks.math.columbia.edu/tag/0CC6">stacks#0CC6</a> <a href="https://stacks.math.columbia.edu/tag/03SL">stacks#03SL</a></p>



<a name="318907644"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20a%20structure/near/318907644" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Quinn Culver <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20a.20structure.html#318907644">(Jan 01 2023 at 21:30)</a>:</h4>
<p>Following  <span class="user-mention" data-user-id="112680">@Johan Commelin</span>'s suggestion, I'm getting error messages:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">basic.lean</span><span class="o">:</span><span class="mi">3</span><span class="o">:</span><span class="mi">0</span>
<span class="n">don't</span> <span class="n">know</span> <span class="n">how</span> <span class="n">to</span> <span class="n">synthesize</span> <span class="n">placeholder</span>
<span class="n">context</span><span class="o">:</span>
<span class="n">P</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u_1</span><span class="o">,</span>
<span class="n">L</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u_2</span><span class="o">,</span>
<span class="n">_inst_1</span> <span class="o">:</span> <span class="n">has_mem</span> <span class="n">P</span> <span class="n">L</span>
<span class="bp">⊢</span> <span class="kt">Type</span> <span class="n">u_1</span>

<span class="n">basic.lean</span><span class="o">:</span><span class="mi">3</span><span class="o">:</span><span class="mi">39</span>
<span class="n">type</span> <span class="n">mismatch</span> <span class="n">at</span> <span class="n">application</span>
  <span class="n">configuration.projective_plane</span> <span class="n">P</span> <span class="n">L</span>
<span class="n">term</span>
  <span class="n">L</span>
<span class="n">has</span> <span class="n">type</span>
  <span class="kt">Type</span> <span class="n">u_2</span> <span class="o">:</span> <span class="kt">Type</span> <span class="o">(</span><span class="n">u_2</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span>
<span class="n">but</span> <span class="n">is</span> <span class="n">expected</span> <span class="n">to</span> <span class="k">have</span> <span class="n">type</span>
  <span class="kt">Type</span> <span class="n">u_1</span> <span class="o">:</span> <span class="kt">Type</span> <span class="o">(</span><span class="n">u_1</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span>

<span class="n">basic.lean</span><span class="o">:</span><span class="mi">3</span><span class="o">:</span><span class="mi">39</span>
<span class="n">don't</span> <span class="n">know</span> <span class="n">how</span> <span class="n">to</span> <span class="n">synthesize</span> <span class="n">placeholder</span>
<span class="n">context</span><span class="o">:</span>
<span class="n">P</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u_1</span><span class="o">,</span>
<span class="n">L</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u_2</span><span class="o">,</span>
<span class="n">_inst_1</span> <span class="o">:</span> <span class="n">has_mem</span> <span class="n">P</span> <span class="n">L</span>
<span class="bp">⊢</span> <span class="n">has_mem</span> <span class="n">P</span> <span class="bp">?</span><span class="n">m_1</span>
</code></pre></div>
<p>Please let me know why and how I could figure this out myself. Happy New Year!</p>



<a name="318908050"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20a%20structure/near/318908050" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20a.20structure.html#318908050">(Jan 01 2023 at 21:35)</a>:</h4>
<p>You need to do</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">universe</span> <span class="n">u</span>
<span class="kd">variables</span> <span class="o">(</span><span class="n">P</span> <span class="n">L</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">has_mem</span> <span class="n">P</span> <span class="n">L</span><span class="o">]</span> <span class="o">[</span><span class="n">configuration.projective_plane</span> <span class="n">P</span> <span class="n">L</span><span class="o">]</span>
</code></pre></div>
<p>because of the universe restriction present in <a href="https://leanprover-community.github.io/mathlib_docs/find/configuration.projective_plane">docs#configuration.projective_plane</a>.</p>
<p>Maybe we should allow <code>P</code> and <code>L</code> to be in different universes? Mathlib seems usually maximally universe polymorphic, and a lot of restrictions have been removed from category theory, for example.</p>



<a name="318938825"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20a%20structure/near/318938825" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20a.20structure.html#318938825">(Jan 02 2023 at 06:12)</a>:</h4>
<p>I don't really see why we would need the points and lines to live in the same universe.</p>



<a name="318940978"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20a%20structure/near/318940978" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20a.20structure.html#318940978">(Jan 02 2023 at 06:44)</a>:</h4>
<p>My vague memory is that it caused some headaches somewhere, but upon inspection it seems that I might be wrong.</p>



<a name="318941822"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20a%20structure/near/318941822" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20a.20structure.html#318941822">(Jan 02 2023 at 06:55)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/18039">#18039</a></p>



<a name="319112244"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20a%20structure/near/319112244" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Quinn Culver <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20a.20structure.html#319112244">(Jan 03 2023 at 00:45)</a>:</h4>
<p>What is <span class="user-mention" data-user-id="224323">@Junyan Xu</span> 's  code doing? Specifically, what is <code>has_mem</code> doing? And having used that code, how do I, for example, talk about the line containing two points, <code>p q : P</code>?</p>



<a name="319112554"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20a%20structure/near/319112554" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20a.20structure.html#319112554">(Jan 03 2023 at 00:49)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/has_mem">docs#has_mem</a> contains the data of a relation between two types (the type of points <code>P</code> and the type of lines <code>L</code> here), which you can use <code>∈</code> to refer to (e.g. <code>p ∈ l</code> means <code>p</code> lies on <code>l</code>).</p>



<a name="319112988"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20a%20structure/near/319112988" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20a.20structure.html#319112988">(Jan 03 2023 at 00:55)</a>:</h4>
<p>Apparently <code>L</code> can't be inferred from <code>p</code> and <code>q</code>, which may or may not be a problem ...</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">combinatorics.configuration</span>
<span class="kd">universe</span> <span class="n">u</span>
<span class="kd">variables</span> <span class="o">(</span><span class="n">P</span> <span class="n">L</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">has_mem</span> <span class="n">P</span> <span class="n">L</span><span class="o">]</span> <span class="o">[</span><span class="n">configuration.projective_plane</span> <span class="n">P</span> <span class="n">L</span><span class="o">]</span>
<span class="kd">variables</span> <span class="o">(</span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="n">P</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">≠</span> <span class="n">q</span><span class="o">)</span>
<span class="kn">open</span> <span class="n">configuration.projective_plane</span>
<span class="k">#check</span> <span class="o">(</span><span class="n">mk_line</span> <span class="n">h</span> <span class="o">:</span> <span class="n">L</span><span class="o">)</span> <span class="c">/-</span><span class="cm"> the line through p and q -/</span>
</code></pre></div>



<a name="319113042"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20a%20structure/near/319113042" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Quinn Culver <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20a.20structure.html#319113042">(Jan 03 2023 at 00:56)</a>:</h4>
<p>Oh it's <code>mem</code> for <code>mem</code>bership!! <span aria-label="man facepalming" class="emoji emoji-1f926-200d-2642" role="img" title="man facepalming">:man_facepalming:</span></p>



<a name="319114820"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20a%20structure/near/319114820" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Quinn Culver <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20a.20structure.html#319114820">(Jan 03 2023 at 01:21)</a>:</h4>
<p>Why doesn't this work?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">combinatorics.configuration</span>

<span class="kd">universe</span> <span class="n">u</span>

<span class="kd">variables</span> <span class="o">(</span><span class="n">P</span> <span class="n">L</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">has_mem</span> <span class="n">P</span> <span class="n">L</span><span class="o">]</span> <span class="o">[</span><span class="n">configuration.projective_plane</span> <span class="n">P</span> <span class="n">L</span><span class="o">]</span>

<span class="kd">def</span> <span class="n">centrally_perspective</span> <span class="o">(</span><span class="n">p₀</span> <span class="n">p₁</span> <span class="n">p₂</span> <span class="n">q₀</span> <span class="n">q₁</span> <span class="n">q₂</span> <span class="o">:</span> <span class="n">P</span><span class="o">)</span> <span class="o">(</span><span class="n">h₀</span> <span class="o">:</span> <span class="n">p₀</span> <span class="bp">≠</span> <span class="n">q₀</span><span class="o">)</span> <span class="o">(</span><span class="n">h₁</span> <span class="o">:</span> <span class="n">p₁</span> <span class="bp">≠</span> <span class="n">q₁</span><span class="o">)</span> <span class="o">(</span><span class="n">h₂</span> <span class="o">:</span> <span class="n">p₂</span> <span class="bp">≠</span> <span class="n">q₂</span><span class="o">):</span> <span class="kt">Prop</span> <span class="o">:=</span> <span class="o">(</span>
  <span class="n">mk_point</span> <span class="o">(</span><span class="n">mk_line</span> <span class="n">h₀</span><span class="o">)</span> <span class="o">(</span><span class="n">mk_line</span> <span class="n">h₁</span><span class="o">)</span> <span class="bp">∈</span> <span class="o">(</span><span class="n">mk_line</span> <span class="n">h₂</span><span class="o">)</span>
<span class="o">)</span>
</code></pre></div>
<p>The first error message is <code>unknown identifier 'mk_line'</code>.</p>



<a name="319115433"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20a%20structure/near/319115433" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20a.20structure.html#319115433">(Jan 03 2023 at 01:30)</a>:</h4>
<p>You didn't <code>open configuration.projective_plane</code> as I did.</p>



<a name="319115435"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20a%20structure/near/319115435" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hanting Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20a.20structure.html#319115435">(Jan 03 2023 at 01:30)</a>:</h4>
<p>(deleted)</p>



<a name="319115533"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20a%20structure/near/319115533" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20a.20structure.html#319115533">(Jan 03 2023 at 01:32)</a>:</h4>
<p>Also <a href="https://leanprover-community.github.io/mathlib_docs/find/configuration.projective_plane.mk_point">docs#configuration.projective_plane.mk_point</a> takes the two lines as implicit arguments, so you need to write <code>mk_point h</code> where <code>h : mk_line h₀ ≠ mk_line h₁</code>.</p>



<a name="319128616"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20a%20structure/near/319128616" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Quinn Culver <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20a.20structure.html#319128616">(Jan 03 2023 at 05:08)</a>:</h4>
<p>(deleted)</p>



<a name="319131729"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20a%20structure/near/319131729" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Quinn Culver <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20a.20structure.html#319131729">(Jan 03 2023 at 05:56)</a>:</h4>
<p>I'm still getting an error when trying to add the hypothesis that the lines from <code>mk_line</code> aren't equal. Why?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">combinatorics.configuration</span>
<span class="kn">open</span> <span class="n">configuration.projective_plane</span>

<span class="kd">universe</span> <span class="n">u</span>

<span class="kd">variables</span> <span class="o">(</span><span class="n">P</span> <span class="n">L</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">has_mem</span> <span class="n">P</span> <span class="n">L</span><span class="o">]</span> <span class="o">[</span><span class="n">configuration.projective_plane</span> <span class="n">P</span> <span class="n">L</span><span class="o">]</span>

<span class="kd">def</span> <span class="n">centrally_perspective</span> <span class="o">(</span><span class="n">p₀</span> <span class="n">p₁</span> <span class="n">p₂</span> <span class="n">q₀</span> <span class="n">q₁</span> <span class="n">q₂</span> <span class="o">:</span> <span class="n">P</span><span class="o">)</span>
<span class="o">(</span><span class="n">h₀</span> <span class="o">:</span> <span class="n">p₀</span> <span class="bp">≠</span> <span class="n">q₀</span><span class="o">)</span>
<span class="o">(</span><span class="n">h₁</span> <span class="o">:</span> <span class="n">p₁</span> <span class="bp">≠</span> <span class="n">q₁</span><span class="o">)</span>
<span class="o">(</span><span class="n">h₂</span> <span class="o">:</span> <span class="n">p₂</span> <span class="bp">≠</span> <span class="n">q₂</span><span class="o">)</span>
<span class="o">(</span><span class="n">h₃</span> <span class="o">:</span> <span class="n">mk_line</span> <span class="n">h₀</span> <span class="bp">≠</span> <span class="n">mk_line</span> <span class="n">h₁</span><span class="o">):</span>
<span class="kt">Prop</span> <span class="o">:=</span> <span class="o">(</span>
  <span class="n">mk_point</span> <span class="n">h₃</span> <span class="bp">∈</span> <span class="o">(</span><span class="n">mk_line</span> <span class="n">h₂</span><span class="o">)</span>
<span class="o">)</span>
</code></pre></div>
<p>The error is</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">don't</span> <span class="n">know</span> <span class="n">how</span> <span class="n">to</span> <span class="n">synthesize</span> <span class="n">placeholder</span>
<span class="n">context</span><span class="o">:</span>
<span class="n">P</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">,</span>
<span class="n">p₀</span> <span class="n">p₁</span> <span class="n">p₂</span> <span class="n">q₀</span> <span class="n">q₁</span> <span class="n">q₂</span> <span class="o">:</span> <span class="n">P</span><span class="o">,</span>
<span class="n">h₀</span> <span class="o">:</span> <span class="n">p₀</span> <span class="bp">≠</span> <span class="n">q₀</span><span class="o">,</span>
<span class="n">h₁</span> <span class="o">:</span> <span class="n">p₁</span> <span class="bp">≠</span> <span class="n">q₁</span><span class="o">,</span>
<span class="n">h₂</span> <span class="o">:</span> <span class="n">p₂</span> <span class="bp">≠</span> <span class="n">q₂</span>
<span class="bp">⊢</span> <span class="kt">Type</span> <span class="n">u</span> <span class="n">Lean</span>
</code></pre></div>



<a name="319151286"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20a%20structure/near/319151286" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20a.20structure.html#319151286">(Jan 03 2023 at 09:09)</a>:</h4>
<p>You need to add type annotations like</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="o">(</span><span class="n">h₃</span> <span class="o">:</span> <span class="n">mk_line</span> <span class="n">h₀</span> <span class="bp">≠</span> <span class="o">(</span><span class="n">mk_line</span> <span class="n">h₁</span> <span class="o">:</span> <span class="n">L</span><span class="o">)):</span>
<span class="kt">Prop</span> <span class="o">:=</span> <span class="o">(</span>
  <span class="n">mk_point</span> <span class="n">h₃</span> <span class="bp">∈</span> <span class="o">(</span><span class="n">mk_line</span> <span class="n">h₂</span> <span class="o">:</span> <span class="n">L</span><span class="o">)</span>
<span class="o">)</span>
</code></pre></div>
<p>because Lean can't infer <code>L</code>. I wonder whether we should bundle <code>P</code> and <code>L</code> together ...</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>