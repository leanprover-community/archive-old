---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html">Copy of a Pi type?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="307445248"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307445248" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashley Blacquiere <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307445248">(Nov 02 2022 at 03:44)</a>:</h4>
<p>What does "copy of a Pi type" mean in reference to <a href="https://leanprover-community.github.io/mathlib_docs/analysis/normed_space/pi_Lp.html#pi_Lp">#docs.pi_Lp</a>?</p>



<a name="307445479"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307445479" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307445479">(Nov 02 2022 at 03:47)</a>:</h4>
<p>It is a Pi type, but the instances for <code>normed_space</code> is different. If you look at <a href="https://leanprover-community.github.io/mathlib_docs/find/pi_Lp.equiv">docs#pi_Lp.equiv</a> the proof is saying 'this is the same thing'</p>



<a name="307445483"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307445483" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307445483">(Nov 02 2022 at 03:47)</a>:</h4>
<p>It means that we are creating a new type <code>pi_Lp</code> which is definitionally equal to <code>Π i, E i</code> (actually, we're creating a distinct copy for each <code>p : ℝ≥0∞</code>). However, the instances present for Π-types are not transported through, so we can put new instances on this structure; in this case, we want a different metric space instance.</p>



<a name="307445973"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307445973" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashley Blacquiere <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307445973">(Nov 02 2022 at 03:54)</a>:</h4>
<p>Out of curiosity, where would I find the "instances present for Π-types", just to better understand why we <em>wouldn't</em> want them in this case? I would guess they're probably much more numerous than what might be contained in a single file...?</p>



<a name="307446585"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307446585" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307446585">(Nov 02 2022 at 04:03)</a>:</h4>
<p>you find them usually under the definition, there is "Instances for <code>pi_Lp</code>" in <a href="https://leanprover-community.github.io/mathlib_docs/find/pi_Lp">docs#pi_Lp</a></p>



<a name="307447027"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307447027" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Diamond <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307447027">(Nov 02 2022 at 04:09)</a>:</h4>
<p>I don't think there's a "definition" for the pi type itself in mathlib, so I'm not sure there's an easy way to browse the instances...</p>



<a name="307447126"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307447126" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Diamond <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307447126">(Nov 02 2022 at 04:10)</a>:</h4>
<p>other than putting <code>pi.</code> in the mathlib docs search box and browsing the suggestions</p>



<a name="307447168"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307447168" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307447168">(Nov 02 2022 at 04:11)</a>:</h4>
<p>there is a file called <code>pi_instances</code>  though</p>



<a name="307447180"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307447180" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Diamond <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307447180">(Nov 02 2022 at 04:11)</a>:</h4>
<p>!</p>



<a name="307447188"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307447188" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Diamond <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307447188">(Nov 02 2022 at 04:11)</a>:</h4>
<p>well then</p>



<a name="307447281"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307447281" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307447281">(Nov 02 2022 at 04:12)</a>:</h4>
<p>Actually I take it back. There used to be such a file, now there is a file <code>pi_instances.lean</code> containing a tactic which constructs pi instances, and about 16 files called <code>pi.lean</code> in various parts of mathematics</p>



<a name="307447311"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307447311" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Diamond <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307447311">(Nov 02 2022 at 04:13)</a>:</h4>
<p>ah, alas</p>



<a name="307447606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307447606" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307447606">(Nov 02 2022 at 04:17)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/metric_space_pi">docs#metric_space_pi</a> seems relevant if you are looking for the metric that pi_Lp is distinguishing itself from</p>



<a name="307448648"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307448648" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashley Blacquiere <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307448648">(Nov 02 2022 at 04:30)</a>:</h4>
<p>On an unrelated note, what is the reason that <code>instance</code>s in source appear as <code>def</code> in the API?</p>



<a name="307448796"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307448796" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashley Blacquiere <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307448796">(Nov 02 2022 at 04:33)</a>:</h4>
<p>Is the following relation (from <a href="https://en.wikipedia.org/wiki/Lp_space#Relations_between_p-norms">Wikipedia</a>) encoded anywhere in these libraries?  <a href="/user_uploads/3121/jt6cBI8OlPw4w1tQ3eRodM3w/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/jt6cBI8OlPw4w1tQ3eRodM3w/image.png" title="image.png"><img src="/user_uploads/3121/jt6cBI8OlPw4w1tQ3eRodM3w/image.png"></a></div>



<a name="307450089"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307450089" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307450089">(Nov 02 2022 at 04:54)</a>:</h4>
<p>I believe this is (very opaquely) encoded in the theorem <a href="https://leanprover-community.github.io/mathlib_docs/find/pi_Lp.antilipschitz_with_equiv_aux">docs#pi_Lp.antilipschitz_with_equiv_aux</a></p>



<a name="307450135"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307450135" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307450135">(Nov 02 2022 at 04:55)</a>:</h4>
<p>in practice, the way you see this is the fact that both the Lp space and the sup norm have the same topology (the product topology)</p>



<a name="307450657"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307450657" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashley Blacquiere <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307450657">(Nov 02 2022 at 05:02)</a>:</h4>
<p>Ok. That's good info. Thanks.</p>
<p>From an architectural standpoint, why is <a href="https://leanprover-community.github.io/mathlib_docs/analysis/normed_space/pi_Lp.html">#docs.pi_Lp</a> defined on <em>products</em> of metric spaces? Or maybe that's a nonsensical question...?</p>



<a name="307451073"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307451073" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307451073">(Nov 02 2022 at 05:07)</a>:</h4>
<p>as opposed to what?</p>



<a name="307451214"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307451214" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307451214">(Nov 02 2022 at 05:09)</a>:</h4>
<p>the whole idea is that you are combining multiple dimensions in a particular way. Each dimension has its own metric structure and the p-powered weighted average is used to combine the distances</p>



<a name="307451577"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307451577" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307451577">(Nov 02 2022 at 05:12)</a>:</h4>
<p>Perhaps as opposed to <a href="https://leanprover-community.github.io/mathlib_docs/measure_theory/function/lp_space.html">https://leanprover-community.github.io/mathlib_docs/measure_theory/function/lp_space.html</a>?</p>



<a name="307451626"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307451626" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashley Blacquiere <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307451626">(Nov 02 2022 at 05:14)</a>:</h4>
<p>I guess then what I'm asking is what is the end game pi_Lp? What was it written in service to? </p>
<p>Apologies if this seems trite. I'm still trying to understand why certain mathlib libraries are developed the way they are...</p>



<a name="307451868"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307451868" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashley Blacquiere <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307451868">(Nov 02 2022 at 05:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110032">Reid Barton</span> <a href="#narrow/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F/near/307451577">said</a>:</p>
<blockquote>
<p>Perhaps as opposed to <a href="https://leanprover-community.github.io/mathlib_docs/measure_theory/function/lp_space.html">https://leanprover-community.github.io/mathlib_docs/measure_theory/function/lp_space.html</a>?</p>
</blockquote>
<p>Ya, I think that's sort of what I'm getting at, but my head isn't quite wrapped around what I want to ask, I think. I guess I don't understand why pi_Lp exists, but I assume there is an ultimate purpose.</p>



<a name="307452048"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307452048" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Diamond <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307452048">(Nov 02 2022 at 05:18)</a>:</h4>
<p>my (extremely basic) understanding is that it's useful to study multidimensional spaces as Pi types, but there is a "default" metric on the Pi type itself, and so you need to use a copy of it to avoid that metric interfering with other metrics that you want to define/use</p>



<a name="307452434"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307452434" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307452434">(Nov 02 2022 at 05:23)</a>:</h4>
<p>I think the simplest way to answer "what is the end game of pi_Lp? What was it written in service to?" is <a href="https://en.wikipedia.org/wiki/Lp_space">https://en.wikipedia.org/wiki/Lp_space</a></p>



<a name="307452457"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307452457" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307452457">(Nov 02 2022 at 05:23)</a>:</h4>
<p>we want something that corresponds to the thing that this page is about</p>



<a name="307452699"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307452699" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashley Blacquiere <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307452699">(Nov 02 2022 at 05:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F/near/307452434">said</a>:</p>
<blockquote>
<p>I think the simplest way to answer "what is the end game of pi_Lp? What was it written in service to?" is <a href="https://en.wikipedia.org/wiki/Lp_space">https://en.wikipedia.org/wiki/Lp_space</a></p>
</blockquote>
<p>Fair point. That's the page I linked to above, so I was looking at it, but I don't see anything about product spaces there. At least not obviously. But I'm not a mathematician (BSc in math, but a loooong time ago) so the nuances of these things may be escaping me...</p>



<a name="307452780"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307452780" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307452780">(Nov 02 2022 at 05:26)</a>:</h4>
<p>Actually it is more accurate to say that <a href="https://leanprover-community.github.io/mathlib_docs/find/measure_theory.Lp">docs#measure_theory.Lp</a> is <a href="https://en.wikipedia.org/wiki/Lp_space">https://en.wikipedia.org/wiki/Lp_space</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/pi_Lp">docs#pi_Lp</a> is <a href="https://en.wikipedia.org/wiki/Norm_(mathematics)#p-norm">https://en.wikipedia.org/wiki/Norm_(mathematics)#p-norm</a></p>



<a name="307452888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307452888" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Diamond <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307452888">(Nov 02 2022 at 05:27)</a>:</h4>
<p>Ashley, are you just unsure about why Pi types are useful for modeling multidimensional vector spaces?</p>



<a name="307452937"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307452937" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307452937">(Nov 02 2022 at 05:28)</a>:</h4>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="double-struck">R</mi><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">\mathbb{R}^n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span> is a product <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="double-struck">R</mi><mi>n</mi></msup><mo>=</mo><mi mathvariant="double-struck">R</mi><mo>×</mo><mi mathvariant="double-struck">R</mi><mo>×</mo><mo>⋯</mo><mo>×</mo><mi mathvariant="double-struck">R</mi></mrow><annotation encoding="application/x-tex">\mathbb{R}^n = \mathbb{R} \times \mathbb{R} \times \cdots \times \mathbb{R}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7722em;vertical-align:-0.0833em;"></span><span class="mord mathbb">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7722em;vertical-align:-0.0833em;"></span><span class="mord mathbb">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord mathbb">R</span></span></span></span>. But it doesn't cause any particular additional difficulty to allow the "factors" to be distinct.</p>



<a name="307453472"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307453472" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashley Blacquiere <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307453472">(Nov 02 2022 at 05:34)</a>:</h4>
<p><span class="user-mention silent" data-user-id="380294">Matt Diamond</span> <a href="#narrow/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F/near/307452888">said</a>:</p>
<blockquote>
<p>Ashley, are you just unsure about why Pi types are useful for modeling multidimensional vector spaces?</p>
</blockquote>
<p>No, but thanks for asking. When you state the question in that way it's actually pretty clear to me. However, what that reveals is that perhaps it is just a question of perspective and understanding (i.e. getting accustomed to) the particular nomenclature used in mathlib. I wasn't really thinking of 'finite product of metric spaces' as being analogous to 'multidimensional vector spaces' vis-a-vis Pi-types.</p>



<a name="307467042"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307467042" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307467042">(Nov 02 2022 at 07:40)</a>:</h4>
<blockquote>
<p>I don't think there's a "definition" for the pi type itself in mathlib, so I'm not sure there's an easy way to browse the instances...</p>
</blockquote>
<p>Doc-gen currently has this list of pi instances internally, but discards them because it doesn't know where to show them. Do you have a suggestion for where they should be shown? We have the same problem for instances on <code>Prop</code>.</p>



<a name="307481169"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307481169" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307481169">(Nov 02 2022 at 09:26)</a>:</h4>
<p>Update: I've made <a href="https://github.com/leanprover-community/doc-gen/pull/172">https://github.com/leanprover-community/doc-gen/pull/172</a> for lack of a better idea</p>



<a name="307577468"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307577468" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307577468">(Nov 02 2022 at 17:20)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs_demo/foundational_types.html#pi-types-code%CF%80-a--%CE%B1-%CE%B2-acode-or-codepi-a--%CE%B1-%CE%B2-acode-or-code-a--%CE%B1-%CE%B2-acode-or-code%CE%B1--%CE%B2code">https://leanprover-community.github.io/mathlib_docs_demo/foundational_types.html#pi-types-code%CF%80-a--%CE%B1-%CE%B2-acode-or-codepi-a--%CE%B1-%CE%B2-acode-or-code-a--%CE%B1-%CE%B2-acode-or-code%CE%B1--%CE%B2code</a></p>



<a name="307577486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307577486" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307577486">(Nov 02 2022 at 17:21)</a>:</h4>
<p>What a horrible URL</p>



<a name="307578173"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307578173" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307578173">(Nov 02 2022 at 17:24)</a>:</h4>
<p>Could this page also include <code>quot, quot.mk, quot.lift, quot.ind</code> in such a way that they are linked to by statements like <a href="https://leanprover-community.github.io/mathlib_docs/find/quot.exists_rep">docs#quot.exists_rep</a></p>



<a name="307578750"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307578750" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307578750">(Nov 02 2022 at 17:27)</a>:</h4>
<p>Lean can <code>#print</code> the type of these, so I assume they are accessible in doc-gen, just there is no home for them as they are super-duper builtin</p>



<a name="307578769"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307578769" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307578769">(Nov 02 2022 at 17:27)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">@[elab_as_eliminator, elab_strategy]</span>
<span class="n">builtin</span><span class="bp">-</span><span class="n">quotient</span><span class="bp">-</span><span class="n">type</span><span class="bp">-</span><span class="kd">constant</span> <span class="n">quot.lift</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Sort</span> <span class="n">u</span><span class="o">}</span> <span class="o">{</span><span class="n">r</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">}</span> <span class="o">{</span><span class="n">β</span> <span class="o">:</span> <span class="kt">Sort</span> <span class="n">v</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">),</span>
  <span class="o">(</span><span class="bp">∀</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">α</span><span class="o">),</span> <span class="n">r</span> <span class="n">a</span> <span class="n">b</span> <span class="bp">→</span> <span class="n">f</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">b</span><span class="o">)</span> <span class="bp">→</span> <span class="n">quot</span> <span class="n">r</span> <span class="bp">→</span> <span class="n">β</span>
</code></pre></div>



<a name="307580343"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307580343" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307580343">(Nov 02 2022 at 17:35)</a>:</h4>
<p>There's a command that introduces the quotient types that gets run in the prelude, and I guess it doesn't generate anything that docgen sees? <a href="https://github.com/leanprover-community/lean/blob/283f6ed8083ab4dd7c36300f31816c5cb793f2f7/library/init/core.lean#L109">https://github.com/leanprover-community/lean/blob/283f6ed8083ab4dd7c36300f31816c5cb793f2f7/library/init/core.lean#L109</a></p>



<a name="307582362"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307582362" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307582362">(Nov 02 2022 at 17:44)</a>:</h4>
<p>I think that command basically just adds the 4 declarations I mentioned to the environment, <a href="https://github.com/leanprover-community/lean/blob/65ad4ffdb3abac75be748554e3cbe990fb1c6500/src/kernel/quotient/quotient.cpp#L73">https://github.com/leanprover-community/lean/blob/65ad4ffdb3abac75be748554e3cbe990fb1c6500/src/kernel/quotient/quotient.cpp#L73</a> so they should be visible in the json output of the environment</p>



<a name="307582528"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307582528" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307582528">(Nov 02 2022 at 17:45)</a>:</h4>
<p>I assume that doc-gen just ignores them at some point as they are the only declarations in mathlib for which <code>decl_olean</code> returns an empty string (as they have no actual source location), so doc-gen doesn't know where to put them</p>



<a name="307584416"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307584416" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307584416">(Nov 02 2022 at 17:54)</a>:</h4>
<p>I'm actually not sure if they show up in the json output or not, the relevant code is<br>
<a href="https://github.com/leanprover-community/doc-gen/blob/d74f0abd7a7f7ee2b22184cd870f748eeded496d/src/export_json.lean#L323">https://github.com/leanprover-community/doc-gen/blob/d74f0abd7a7f7ee2b22184cd870f748eeded496d/src/export_json.lean#L323</a> which looks like it would fail for these decls, they are neither auto-generated not internal according to lean</p>



<a name="307584683"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307584683" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307584683">(Nov 02 2022 at 17:55)</a>:</h4>
<p>Oh aha I think I see, <a href="https://github.com/leanprover-community/doc-gen/blob/d74f0abd7a7f7ee2b22184cd870f748eeded496d/src/export_json.lean#L319">https://github.com/leanprover-community/doc-gen/blob/d74f0abd7a7f7ee2b22184cd870f748eeded496d/src/export_json.lean#L319</a> is what causes them to be skipped, the <code>in_current_file</code> check is simply that <code>decl_olean = ""</code> which is true for these decls, so they are skipped</p>



<a name="307585997"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307585997" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307585997">(Nov 02 2022 at 18:01)</a>:</h4>
<p>I guess we can define an <code>in_current_file'</code> with a hard-coded list of special cases</p>



<a name="307588048"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307588048" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307588048">(Nov 02 2022 at 18:08)</a>:</h4>
<p>Hmm looks like I'm wrong again, <a href="https://leanprover-community.github.io/mathlib_docs/find/environment.in_current_file">docs#environment.in_current_file</a> is correct now so I'm confused what happens to these declarations once more</p>



<a name="307589082"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307589082" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307589082">(Nov 02 2022 at 18:13)</a>:</h4>
<p>Are they filtered out as autogenerated?</p>



<a name="307589404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Copy%20of%20a%20Pi%20type%3F/near/307589404" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Copy.20of.20a.20Pi.20type.3F.html#307589404">(Nov 02 2022 at 18:14)</a>:</h4>
<p>No I tested that for <code>quot</code> and it wasn't autogenerated</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>