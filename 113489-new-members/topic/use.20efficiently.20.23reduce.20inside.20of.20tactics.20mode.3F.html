---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/use.20efficiently.20.23reduce.20inside.20of.20tactics.20mode.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/use.20efficiently.20.23reduce.20inside.20of.20tactics.20mode.3F.html">use efficiently #reduce inside of tactics mode?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="260206204"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/use%20efficiently%20%23reduce%20inside%20of%20tactics%20mode%3F/near/260206204" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Elif Sacikara (Alumni) <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/use.20efficiently.20.23reduce.20inside.20of.20tactics.20mode.3F.html#260206204">(Nov 03 2021 at 22:29)</a>:</h4>
<p>Hello,<br>
When we (with Ödül and some colleagues from the Institute) tried to prove that any function from a discrete topological space to any other topological space is continuous, as we attempted to state it in Thm discrete_left_adj_forget by the code below, we have seen the corresponding infoview in Lean, respectively.<br>
Lean code:</p>
<div class="codehilite" data-code-language="def"><pre><span></span><code> ∀ (U : set Y), (Y_top.is_open U) → (X_top.is_open (preimage f U))
def top_discrete (X : Type) : topological_space X := topological_space.mk
(λ (S : set X), true)
(trivial)
(begin
    intros H1 H2 H3 H4,
     trivial,
end)
(begin
 intros H1 H2,
trivial,
end)
theorem discrete_left_adjoint_forget {X : Type} : ∀ {Y : Type}
(Y_top : topological_space Y) (f : X → Y), continuous (top_discrete X) Y_top f :=
begin
intros Y Y_top f,
intros U,
end
</code></pre></div>
<p>Lean infoview:</p>
<div class="codehilite" data-code-language="xy"><pre><span></span><code>Y_top: topological_space Y
 f: X → Y
 U: set Y
 U_open: Y_top.is_open U
 ⊢ (top_discrete X).is_open (f ⁻¹' U)
</code></pre></div>
<p>"We would like to evaluate this function (top_discrete X).is_open (preimage f U) to be "true’’ in Lean infoview, since in top_discrete’’ we defined this function using the lambda expression which turns out to be "True".  When we #reduce (top_discrete X).is_open (preimage f U) outside of the tactics mode, then it evaluates it as being "true". So even though it can do it outside of tactics mode, this is not the case inside of the proof and now we are trying to find a way to make lean show that this expression is as true inside of proof. </p>
<p>Thanks in advance.</p>



<a name="260207164"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/use%20efficiently%20%23reduce%20inside%20of%20tactics%20mode%3F/near/260207164" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/use.20efficiently.20.23reduce.20inside.20of.20tactics.20mode.3F.html#260207164">(Nov 03 2021 at 22:39)</a>:</h4>
<p>(deleted)</p>



<a name="260207263"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/use%20efficiently%20%23reduce%20inside%20of%20tactics%20mode%3F/near/260207263" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/use.20efficiently.20.23reduce.20inside.20of.20tactics.20mode.3F.html#260207263">(Nov 03 2021 at 22:40)</a>:</h4>
<p>Could you read the link <a href="https://leanprover-community.github.io/mwe.html">#mwe</a> and adjust your post so that it becomes much easier to help you,</p>



<a name="260207343"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/use%20efficiently%20%23reduce%20inside%20of%20tactics%20mode%3F/near/260207343" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/use.20efficiently.20.23reduce.20inside.20of.20tactics.20mode.3F.html#260207343">(Nov 03 2021 at 22:41)</a>:</h4>
<p>I moved the post to a new thread</p>



<a name="260207729"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/use%20efficiently%20%23reduce%20inside%20of%20tactics%20mode%3F/near/260207729" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/use.20efficiently.20.23reduce.20inside.20of.20tactics.20mode.3F.html#260207729">(Nov 03 2021 at 22:45)</a>:</h4>
<p>yes, it's much easier to help if we can just cut and paste what you post -- so add in the imports, definitions etc</p>



<a name="260207836"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/use%20efficiently%20%23reduce%20inside%20of%20tactics%20mode%3F/near/260207836" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/use.20efficiently.20.23reduce.20inside.20of.20tactics.20mode.3F.html#260207836">(Nov 03 2021 at 22:46)</a>:</h4>
<p>It looks like something has gone wrong with the <a href="https://github.com/leanprover-community/mathlib/wiki/Code-in-backticks">#backticks</a> above</p>



<a name="260207891"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/use%20efficiently%20%23reduce%20inside%20of%20tactics%20mode%3F/near/260207891" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/use.20efficiently.20.23reduce.20inside.20of.20tactics.20mode.3F.html#260207891">(Nov 03 2021 at 22:47)</a>:</h4>
<p>Yes, the triple back ticks need to be on a line of their own like in <a href="https://github.com/leanprover-community/mathlib/wiki/Code-in-backticks">#backticks</a></p>



<a name="260208052"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/use%20efficiently%20%23reduce%20inside%20of%20tactics%20mode%3F/near/260208052" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/use.20efficiently.20.23reduce.20inside.20of.20tactics.20mode.3F.html#260208052">(Nov 03 2021 at 22:48)</a>:</h4>
<p>I still tried to reconstruct the <a href="https://leanprover-community.github.io/mwe.html">#mwe</a> and arrived at:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">topology.basic</span>

<span class="kn">open</span> <span class="n">set</span>

<span class="kd">def</span> <span class="n">cont</span> <span class="o">{</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">(</span><span class="n">X_top</span> <span class="o">:</span> <span class="n">topological_space</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">Y_top</span> <span class="o">:</span> <span class="n">topological_space</span> <span class="n">Y</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">→</span> <span class="n">Y</span><span class="o">)</span> <span class="o">:=</span>
  <span class="bp">∀</span> <span class="o">(</span><span class="n">U</span> <span class="o">:</span> <span class="n">set</span> <span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">Y_top.is_open</span> <span class="n">U</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="n">X_top.is_open</span> <span class="o">(</span><span class="n">preimage</span> <span class="n">f</span> <span class="n">U</span><span class="o">))</span>

<span class="kd">def</span> <span class="n">top_discrete</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">:</span> <span class="n">topological_space</span> <span class="n">X</span> <span class="o">:=</span> <span class="n">topological_space.mk</span>
<span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">),</span> <span class="n">true</span><span class="o">)</span>
<span class="o">(</span><span class="n">trivial</span><span class="o">)</span>
<span class="o">(</span><span class="kd">begin</span>
    <span class="n">intros</span> <span class="n">H1</span> <span class="n">H2</span> <span class="n">H3</span> <span class="n">H4</span><span class="o">,</span>
     <span class="n">trivial</span><span class="o">,</span>
<span class="kd">end</span><span class="o">)</span>
<span class="o">(</span><span class="kd">begin</span>
 <span class="n">intros</span> <span class="n">H1</span> <span class="n">H2</span><span class="o">,</span>
<span class="n">trivial</span><span class="o">,</span>
<span class="kd">end</span><span class="o">)</span>

<span class="kd">theorem</span> <span class="n">discrete_left_adjoint_forget</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">{</span><span class="n">Y</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span>
<span class="o">(</span><span class="n">Y_top</span> <span class="o">:</span> <span class="n">topological_space</span> <span class="n">Y</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">→</span> <span class="n">Y</span><span class="o">),</span> <span class="n">cont</span> <span class="o">(</span><span class="n">top_discrete</span> <span class="n">X</span><span class="o">)</span> <span class="n">Y_top</span> <span class="n">f</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intros</span> <span class="n">Y</span> <span class="n">Y_top</span> <span class="n">f</span><span class="o">,</span>
  <span class="n">intros</span> <span class="n">U</span> <span class="n">U_open</span><span class="o">,</span>
  <span class="n">trivial</span>
<span class="kd">end</span>
</code></pre></div>
<p>I don't really see any question here.</p>



<a name="260208163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/use%20efficiently%20%23reduce%20inside%20of%20tactics%20mode%3F/near/260208163" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/use.20efficiently.20.23reduce.20inside.20of.20tactics.20mode.3F.html#260208163">(Nov 03 2021 at 22:50)</a>:</h4>
<p>And I need to go to bed now, sorry.</p>



<a name="260208190"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/use%20efficiently%20%23reduce%20inside%20of%20tactics%20mode%3F/near/260208190" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/use.20efficiently.20.23reduce.20inside.20of.20tactics.20mode.3F.html#260208190">(Nov 03 2021 at 22:50)</a>:</h4>
<p>There's no tactic that applies <code>#reduce</code> to the current goal, but since you already know the goal reduces to <code>true</code> you can change the goal with <code>change true,</code> or just provide a proof of <code>true</code> directly with <code>trivial</code>.</p>



<a name="260208194"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/use%20efficiently%20%23reduce%20inside%20of%20tactics%20mode%3F/near/260208194" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/use.20efficiently.20.23reduce.20inside.20of.20tactics.20mode.3F.html#260208194">(Nov 03 2021 at 22:50)</a>:</h4>
<p>I think the answer is <code>dsimp only [top_discrete]</code>, if the question is what I think it is</p>



<a name="260209320"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/use%20efficiently%20%23reduce%20inside%20of%20tactics%20mode%3F/near/260209320" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Elif Sacikara (Alumni) <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/use.20efficiently.20.23reduce.20inside.20of.20tactics.20mode.3F.html#260209320">(Nov 03 2021 at 23:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110032">Reid Barton</span> <a href="#narrow/stream/113489-new-members/topic/use.20efficiently.20.23reduce.20inside.20of.20tactics.20mode.3F/near/260208190">said</a>:</p>
<blockquote>
<p>There's no tactic that applies <code>#reduce</code> to the current goal, but since you already know the goal reduces to <code>true</code> you can change the goal with <code>change true,</code> or just provide a proof of <code>true</code> directly with <code>trivial</code>.</p>
</blockquote>
<p>Thanks for the comment and the suggestion. We can complete the proof by "trivial" for sure but we suppose that some day in the future while we are working in a long proof and while doing so when we give our definition a while ago before our proof and if we suppose that we do not remember if it exactly turns out to be ``true" in the definition, is there is a way of seeing this value inside of the proof or a way of making Lean possible to do it?</p>



<a name="260209603"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/use%20efficiently%20%23reduce%20inside%20of%20tactics%20mode%3F/near/260209603" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/use.20efficiently.20.23reduce.20inside.20of.20tactics.20mode.3F.html#260209603">(Nov 03 2021 at 23:04)</a>:</h4>
<p>If you open a quote with <code> ` </code> then close it with <code> ` </code> and not <code> " </code> (you can just edit your post just above)</p>



<a name="260209645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/use%20efficiently%20%23reduce%20inside%20of%20tactics%20mode%3F/near/260209645" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Elif Sacikara (Alumni) <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/use.20efficiently.20.23reduce.20inside.20of.20tactics.20mode.3F.html#260209645">(Nov 03 2021 at 23:05)</a>:</h4>
<p>This is a full code, sorry for the clumsiness: </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>
<span class="kn">open</span> <span class="n">set</span>

<span class="kd">class</span> <span class="n">topological_space</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">:=</span>
 <span class="o">(</span><span class="n">is_open</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span>
 <span class="o">(</span><span class="n">is_open_univ</span> <span class="o">:</span> <span class="n">is_open</span> <span class="n">univ</span><span class="o">)</span>
 <span class="o">(</span><span class="n">is_open_inter</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">U</span> <span class="n">V</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">,</span> <span class="n">is_open</span> <span class="n">U</span> <span class="bp">→</span> <span class="n">is_open</span> <span class="n">V</span> <span class="bp">→</span> <span class="n">is_open</span> <span class="o">(</span><span class="n">U</span> <span class="bp">∩</span> <span class="n">V</span><span class="o">))</span>
 <span class="o">(</span><span class="n">is_open_sUnion</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">C</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">U</span> <span class="bp">∈</span> <span class="n">C</span><span class="o">,</span> <span class="n">is_open</span> <span class="n">U</span><span class="o">)</span> <span class="bp">→</span> <span class="n">is_open</span> <span class="o">(</span><span class="n">sUnion</span> <span class="n">C</span><span class="o">))</span>

<span class="k">#check</span> <span class="n">topological_space.is_open_univ</span>

 <span class="kd">lemma</span> <span class="n">empty_set_open</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">topological_space</span> <span class="n">X</span><span class="o">]</span>  <span class="o">:</span> <span class="n">topological_space.is_open</span> <span class="o">(</span><span class="bp">∅</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">)</span>  <span class="o">:=</span>
 <span class="kd">begin</span>
   <span class="k">have</span> <span class="n">hEmptyUnion</span> <span class="o">:=</span> <span class="n">topological_space.is_open_sUnion</span> <span class="bp">∅</span><span class="o">,</span>
   <span class="k">have</span> <span class="n">H2</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">U</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">,</span> <span class="n">U</span> <span class="bp">∈</span> <span class="bp">∅</span> <span class="bp">→</span> <span class="n">false</span> <span class="o">:=</span> <span class="kd">begin</span> <span class="n">exact</span> <span class="n">not_mem_empty</span> <span class="kd">end</span><span class="o">,</span>

   <span class="n">rw</span> <span class="n">sUnion_empty</span> <span class="n">at</span> <span class="n">hEmptyUnion</span><span class="o">,</span>
   <span class="n">apply</span> <span class="n">hEmptyUnion</span><span class="o">,</span>
   <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
   <span class="k">have</span> <span class="n">H4</span> <span class="o">:=</span> <span class="n">H2</span> <span class="n">h</span><span class="o">,</span>
   <span class="n">intro</span> <span class="n">h1</span><span class="o">,</span>
   <span class="n">exfalso</span><span class="o">,</span>
   <span class="n">exact</span> <span class="n">H4</span> <span class="n">h1</span><span class="o">,</span>
 <span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">finite_inter_open</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">topological_space</span> <span class="n">X</span><span class="o">]</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">X</span><span class="o">))</span>
 <span class="o">(</span><span class="n">hC</span> <span class="o">:</span> <span class="n">finite</span> <span class="n">C</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">C</span><span class="o">,</span> <span class="n">topological_space.is_open</span> <span class="n">x</span><span class="o">)</span> <span class="bp">→</span> <span class="n">topological_space.is_open</span> <span class="o">(</span><span class="n">sInter</span> <span class="n">C</span><span class="o">)</span> <span class="o">:=</span>
 <span class="kd">begin</span>
   <span class="n">apply</span> <span class="n">finite.induction_on</span> <span class="n">hC</span><span class="o">,</span>
   <span class="n">rw</span> <span class="n">sInter_empty</span><span class="o">,</span>
   <span class="o">{</span>
     <span class="n">intro</span> <span class="n">H</span><span class="o">,</span>
     <span class="n">exact</span> <span class="n">topological_space.is_open_univ</span><span class="o">,</span>
   <span class="o">},</span>
   <span class="n">intros</span> <span class="n">a</span> <span class="n">s</span> <span class="n">a_not_in_s</span> <span class="n">s_finite</span> <span class="n">s_family_open</span> <span class="n">hAllOpen</span><span class="o">,</span>
   <span class="n">rw</span> <span class="n">sInter_insert</span><span class="o">,</span>
   <span class="n">apply</span> <span class="n">topological_space.is_open_inter</span><span class="o">,</span>
   <span class="o">{</span>
     <span class="n">apply</span> <span class="n">hAllOpen</span><span class="o">,</span>
     <span class="n">simp</span><span class="o">,</span>
   <span class="o">},</span>
   <span class="o">{</span>
     <span class="n">apply</span> <span class="n">s_family_open</span><span class="o">,</span>
     <span class="n">intro</span> <span class="n">F</span><span class="o">,</span>
     <span class="k">have</span> <span class="n">f_aux</span> <span class="o">:=</span> <span class="n">hAllOpen</span> <span class="n">F</span><span class="o">,</span>
     <span class="n">intro</span> <span class="n">H_aux_2</span><span class="o">,</span>
     <span class="n">apply</span> <span class="n">f_aux</span><span class="o">,</span>
     <span class="n">exact</span> <span class="n">mem_insert_of_mem</span> <span class="n">a</span> <span class="n">H_aux_2</span><span class="o">,</span>
   <span class="o">}</span>
 <span class="kd">end</span>

<span class="kd">def</span> <span class="n">continuous</span> <span class="o">{</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">topological_space</span> <span class="n">X</span><span class="o">]</span> <span class="o">[</span><span class="n">topological_space</span> <span class="n">Y</span><span class="o">]</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">→</span> <span class="n">Y</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
 <span class="bp">∀</span> <span class="o">(</span><span class="n">U</span> <span class="o">:</span> <span class="n">set</span> <span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">topological_space.is_open</span> <span class="n">U</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="n">topological_space.is_open</span> <span class="o">(</span><span class="n">preimage</span> <span class="n">f</span> <span class="n">U</span><span class="o">))</span>

<span class="kd">def</span> <span class="n">top_discrete</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">:</span> <span class="n">topological_space</span> <span class="n">X</span> <span class="o">:=</span> <span class="n">topological_space.mk</span>
 <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">),</span> <span class="n">true</span><span class="o">)</span>
 <span class="o">(</span><span class="n">trivial</span><span class="o">)</span>
 <span class="o">(</span>
   <span class="kd">begin</span>
     <span class="n">intros</span> <span class="n">H1</span> <span class="n">H2</span> <span class="n">H3</span> <span class="n">H4</span><span class="o">,</span>
     <span class="n">trivial</span><span class="o">,</span>
   <span class="kd">end</span>
 <span class="o">)</span>
 <span class="o">(</span>
   <span class="kd">begin</span>
     <span class="n">intros</span> <span class="n">H1</span> <span class="n">H2</span><span class="o">,</span>
     <span class="n">trivial</span><span class="o">,</span>
   <span class="kd">end</span>
 <span class="o">)</span>
</code></pre></div>



<a name="260209835"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/use%20efficiently%20%23reduce%20inside%20of%20tactics%20mode%3F/near/260209835" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/use.20efficiently.20.23reduce.20inside.20of.20tactics.20mode.3F.html#260209835">(Nov 03 2021 at 23:07)</a>:</h4>
<p>You can reduce things by hand in the middle of a proof, using tactics like <code>dunfold</code>, <code>delta</code> and <code>dsimp</code></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>