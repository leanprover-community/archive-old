---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/sUnion.20of.20empties.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/sUnion.20of.20empties.html">sUnion of empties</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="208303191"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/sUnion%20of%20empties/near/208303191" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastián Galkin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/sUnion.20of.20empties.html#208303191">(Aug 28 2020 at 04:05)</a>:</h4>
<p>I don't think I fully grok how sets work. How does one prove the following?</p>
<div class="codehilite"><pre><span></span><code><span class="kn">variables</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">α</span><span class="o">))</span>

<span class="kn">example</span> <span class="o">(</span><span class="n">h</span><span class="o">:</span> <span class="bp">∀</span> <span class="n">t</span><span class="o">,</span> <span class="n">t</span> <span class="err">∈</span> <span class="n">s</span> <span class="bp">→</span> <span class="n">t</span> <span class="bp">=</span> <span class="err">∅</span><span class="o">)</span> <span class="o">:</span> <span class="err">⋃₀</span> <span class="n">s</span> <span class="bp">=</span> <span class="err">∅</span> <span class="o">:=</span> <span class="n">sorry</span>
</code></pre></div>



<a name="208303620"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/sUnion%20of%20empties/near/208303620" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/sUnion.20of.20empties.html#208303620">(Aug 28 2020 at 04:16)</a>:</h4>
<p>There are many many proofs. The first thing I hit was</p>
<div class="codehilite"><pre><span></span><code><span class="kn">variables</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">α</span><span class="o">))</span>

<span class="kn">example</span> <span class="o">(</span><span class="n">h</span><span class="o">:</span> <span class="bp">∀</span> <span class="n">t</span><span class="o">,</span> <span class="n">t</span> <span class="err">∈</span> <span class="n">s</span> <span class="bp">→</span> <span class="n">t</span> <span class="bp">=</span> <span class="err">∅</span><span class="o">)</span> <span class="o">:</span> <span class="err">⋃₀</span> <span class="n">s</span> <span class="bp">=</span> <span class="err">∅</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">ext</span> <span class="n">x</span><span class="o">,</span> <span class="n">simp</span><span class="o">,</span> <span class="n">intros</span> <span class="n">t</span> <span class="n">m</span><span class="o">,</span> <span class="n">rw</span> <span class="n">h</span> <span class="bp">_</span> <span class="n">m</span><span class="o">,</span> <span class="n">simp</span><span class="o">,</span>
<span class="kn">end</span>
</code></pre></div>



<a name="208303639"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/sUnion%20of%20empties/near/208303639" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/sUnion.20of.20empties.html#208303639">(Aug 28 2020 at 04:17)</a>:</h4>
<p>The thinking goes </p>
<ul>
<li>"we're trying to prove sets are equal, so lets do it elementwise" : <code>ext</code></li>
<li>"presumably mathlib knows something about this situation": <code>simp</code></li>
<li>"we're trying to prove something with universal quantifiers: <code>intros</code></li>
<li>"the hypothesis <code>h</code> looks helpful, and we now have a suitable argument for it:" <code>rw</code></li>
<li>"surely it's easy from here":  <code>simp</code></li>
</ul>



<a name="208303642"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/sUnion%20of%20empties/near/208303642" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/sUnion.20of.20empties.html#208303642">(Aug 28 2020 at 04:17)</a>:</h4>
<p>I don't doubt that one of our golfers will come up with something shorter. :-)</p>



<a name="208303692"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/sUnion%20of%20empties/near/208303692" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/sUnion.20of.20empties.html#208303692">(Aug 28 2020 at 04:18)</a>:</h4>
<p>And I'm sure a pure term mode proof is available too.</p>



<a name="208303917"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/sUnion%20of%20empties/near/208303917" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/sUnion.20of.20empties.html#208303917">(Aug 28 2020 at 04:23)</a>:</h4>
<p>If you try <code>by suggest</code></p>



<a name="208303957"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/sUnion%20of%20empties/near/208303957" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/sUnion.20of.20empties.html#208303957">(Aug 28 2020 at 04:24)</a>:</h4>
<p>the top result is <code>exact Sup_eq_bot.mpr h</code></p>



<a name="208303970"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/sUnion%20of%20empties/near/208303970" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/sUnion.20of.20empties.html#208303970">(Aug 28 2020 at 04:24)</a>:</h4>
<p>i.e. this lemma is already in the library (unsuprisingly)</p>



<a name="208303971"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/sUnion%20of%20empties/near/208303971" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/sUnion.20of.20empties.html#208303971">(Aug 28 2020 at 04:24)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/Sup_eq_bot/src">src#Sup_eq_bot</a></p>



<a name="208303983"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/sUnion%20of%20empties/near/208303983" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/sUnion.20of.20empties.html#208303983">(Aug 28 2020 at 04:25)</a>:</h4>
<p>which is a term mode proof</p>



<a name="208304129"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/sUnion%20of%20empties/near/208304129" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastián Galkin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/sUnion.20of.20empties.html#208304129">(Aug 28 2020 at 04:28)</a>:</h4>
<p>Learning a ton from your answer, thank you so much!</p>
<p>That first simp makes everything much clearer, that's the big step I was missing.</p>



<a name="208304626"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/sUnion%20of%20empties/near/208304626" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/sUnion.20of.20empties.html#208304626">(Aug 28 2020 at 04:39)</a>:</h4>
<p><code>ext</code> is an extremely useful tactic, that does many things. But generally it means "prove an equality 'componentwise'".</p>



<a name="208304906"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/sUnion%20of%20empties/near/208304906" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jean Lo <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/sUnion.20of.20empties.html#208304906">(Aug 28 2020 at 04:45)</a>:</h4>
<p>heh, I tried <code>by suggest</code>, got briefly confused, and then realised it wasn't finding the theorem because I hadn't imported <code>data.set.lattice</code>. so here's a (probably very not-idiomatic) term-mode proof that does not invoke the properties of a complete lattice, and proceeds naïvely by "<code>set α</code> in lean is just <code>α → Prop</code>":</p>
<div class="codehilite"><pre><span></span><code><span class="kn">variables</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">α</span><span class="o">))</span>

<span class="kn">example</span> <span class="o">(</span><span class="n">h</span><span class="o">:</span> <span class="bp">∀</span> <span class="n">t</span><span class="o">,</span> <span class="n">t</span> <span class="err">∈</span> <span class="n">s</span> <span class="bp">→</span> <span class="n">t</span> <span class="bp">=</span> <span class="err">∅</span><span class="o">)</span> <span class="o">:</span> <span class="err">⋃₀</span> <span class="n">s</span> <span class="bp">=</span> <span class="err">∅</span> <span class="o">:=</span>
<span class="n">set</span><span class="bp">.</span><span class="n">ext</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="n">iff</span><span class="bp">.</span><span class="n">intro</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="n">hx</span><span class="o">,</span> <span class="k">let</span> <span class="bp">⟨_</span><span class="o">,</span> <span class="n">ha</span><span class="o">,</span> <span class="n">hs</span><span class="bp">⟩</span> <span class="o">:=</span> <span class="n">hx</span> <span class="k">in</span> <span class="n">false</span><span class="bp">.</span><span class="n">elim</span> <span class="o">(</span><span class="k">show</span> <span class="n">x</span> <span class="err">∈</span> <span class="o">(</span><span class="err">∅</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">),</span> <span class="k">from</span> <span class="n">h</span> <span class="bp">_</span> <span class="n">ha</span> <span class="bp">▸</span> <span class="n">hs</span><span class="o">))</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="n">hx</span><span class="o">,</span> <span class="n">false</span><span class="bp">.</span><span class="n">elim</span> <span class="n">hx</span><span class="o">))</span>
</code></pre></div>



<a name="208304948"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/sUnion%20of%20empties/near/208304948" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastián Galkin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/sUnion.20of.20empties.html#208304948">(Aug 28 2020 at 04:46)</a>:</h4>
<blockquote>
<p>ext is an extremely useful tactic</p>
</blockquote>
<p>I got that far, but after ext, I didn't know how to turn the set membership proposition into something I could intro. I guess I still don't understand what <code>x ∈ s</code> means exactly</p>



<a name="208305241"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/sUnion%20of%20empties/near/208305241" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastián Galkin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/sUnion.20of.20empties.html#208305241">(Aug 28 2020 at 04:53)</a>:</h4>
<p>Even this much simpler thing, I'm not sure how to prove:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">example</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">s</span><span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span><span class="o">:</span> <span class="n">a</span> <span class="err">∈</span> <span class="n">s</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span> <span class="err">∉</span> <span class="n">s</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">≠</span> <span class="n">b</span> <span class="o">:=</span> <span class="n">sorry</span>
</code></pre></div>


<p>suggest doesn't seem to help much.</p>



<a name="208305949"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/sUnion%20of%20empties/near/208305949" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastián Galkin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/sUnion.20of.20empties.html#208305949">(Aug 28 2020 at 05:08)</a>:</h4>
<p>Ok, yeah, that was actually easy</p>
<div class="codehilite"><pre><span></span><code><span class="kn">example</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">s</span><span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span><span class="o">:</span> <span class="n">a</span> <span class="err">∈</span> <span class="n">s</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span> <span class="err">∉</span> <span class="n">s</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">≠</span> <span class="n">b</span> <span class="o">:=</span>
<span class="k">begin</span>
<span class="n">intros</span> <span class="n">eq</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">eq</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
<span class="n">contradiction</span><span class="o">,</span>
<span class="kn">end</span>
</code></pre></div>



<a name="208312864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/sUnion%20of%20empties/near/208312864" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/sUnion.20of.20empties.html#208312864">(Aug 28 2020 at 07:26)</a>:</h4>
<p><span class="user-mention" data-user-id="329777">@Sebastián Galkin</span> Internally a subset of X, ie <code>s : set X</code>, is just implemented as a function <code>s : X -&gt; Prop</code> and <code>x \in s</code> is sugar for <code>s x</code>. But all the interface is there for you to not have to think about this internal representation.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>