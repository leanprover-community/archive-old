---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Software.20Foundations.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Software.20Foundations.html">Software Foundations</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="230856597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Software%20Foundations/near/230856597" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Phiroc <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Software.20Foundations.html#230856597">(Mar 18 2021 at 12:49)</a>:</h4>
<p>Hello,<br>
Has anyone here worked through the exercises in the Software Foundations Book, in Lean 3 or 4? If not, would anyone like to collaborate on finding solutions? I am using Lean 4.</p>



<a name="230859329"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Software%20Foundations/near/230859329" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Software.20Foundations.html#230859329">(Mar 18 2021 at 13:08)</a>:</h4>
<p>When I was learning Lean I went through most of the first SF book and ported solutions to Lean 3 (and didn't keep them); I can certainly say that it taught me a lot (I didn't know anything about theorem provers at the time and SF seemed to be a good teaching resource). I am not going to go through this stuff again myself but I would definitely say that if there are beginners out there who want to read a good teaching textbook written in a language close to Lean then this might be a great opportunity.</p>



<a name="230895212"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Software%20Foundations/near/230895212" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Software.20Foundations.html#230895212">(Mar 18 2021 at 16:24)</a>:</h4>
<p><span class="user-mention" data-user-id="282193">@Phiroc</span> my attention span is always scattered, but if you're going through that in some public place (e.g. GitHub) I'd be interested in following the progress and perhaps contributing in ad hoc ways, I've had software foundations somewhere on my list to read. The majority of my interest in Lean is to get closer to some math moreso than formal validation more generally, so I don't know that I'll be super helpful on an ongoing basis but yeah definitely keen to learn.</p>



<a name="230924627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Software%20Foundations/near/230924627" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Phiroc <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Software.20Foundations.html#230924627">(Mar 18 2021 at 19:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="321696">Julian Berman</span> <a href="#narrow/stream/113489-new-members/topic/Software.20Foundations/near/230895212">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="282193">Phiroc</span> my attention span is always scattered, but if you're going through that in some public place (e.g. GitHub) I'd be interested in following the progress and perhaps contributing in ad hoc ways, I've had software foundations somewhere on my list to read. The majority of my interest in Lean is to get closer to some math moreso than formal validation more generally, so I don't know that I'll be super helpful on an ongoing basis but yeah definitely keen to learn.</p>
</blockquote>
<p>Hi Julian,  I've  just created a private Software-Foundations-In-Lean project on GitHub. Once I have made sufficient progress, I'll make it public so that anyone who wants to can contribute.</p>



<a name="230926069"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Software%20Foundations/near/230926069" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shing Tak Lam <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Software.20Foundations.html#230926069">(Mar 18 2021 at 19:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="282193">Phiroc</span> <a href="#narrow/stream/113489-new-members/topic/Software.20Foundations/near/230924627">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="321696">Julian Berman</span> <a href="#narrow/stream/113489-new-members/topic/Software.20Foundations/near/230895212">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="282193">Phiroc</span> my attention span is always scattered, but if you're going through that in some public place (e.g. GitHub) I'd be interested in following the progress and perhaps contributing in ad hoc ways, I've had software foundations somewhere on my list to read. The majority of my interest in Lean is to get closer to some math moreso than formal validation more generally, so I don't know that I'll be super helpful on an ongoing basis but yeah definitely keen to learn.</p>
</blockquote>
<p>Hi Julian,  I've  just created a private Software-Foundations-In-Lean project on GitHub. Once I have made sufficient progress, I'll make it public so that anyone who wants to can contribute.</p>
</blockquote>
<p>By the way, the authors of SF ask that the solutions to exercises are not made public, and although SF is written in Coq, Lean is similar enough that it might be transferrable. I don't think they would mind if the repo contains only the exercises.</p>



<a name="230940942"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Software%20Foundations/near/230940942" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Guilherme Espada <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Software.20Foundations.html#230940942">(Mar 18 2021 at 21:31)</a>:</h4>
<p>Why do they ask for the solutions not to be made public? Seems a bit weird for self-learning</p>



<a name="230945124"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Software%20Foundations/near/230945124" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Software.20Foundations.html#230945124">(Mar 18 2021 at 22:07)</a>:</h4>
<p>Presumably because it makes it hard to use the problems as homework assignments for students.</p>



<a name="230984330"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Software%20Foundations/near/230984330" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Phiroc <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Software.20Foundations.html#230984330">(Mar 19 2021 at 07:16)</a>:</h4>
<p>I’ll therefore translate the code examples and implementations to Lean 4, and leave out the answers, or answer attempts, to the exercises .  It’s a pity though, because I am having a hard time finding answers to some exercises, in idiomatic Lean.</p>



<a name="230991197"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Software%20Foundations/near/230991197" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Software.20Foundations.html#230991197">(Mar 19 2021 at 08:46)</a>:</h4>
<p>(deleted)</p>



<a name="231095373"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Software%20Foundations/near/231095373" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Software.20Foundations.html#231095373">(Mar 19 2021 at 21:58)</a>:</h4>
<p>I guess there's nothing wrong with asking for idiomatic lean ways of doing specific questions here, just not writing an easy to find least of solutions to every exercise would be bad for instructors of classes</p>



<a name="241537148"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Software%20Foundations/near/241537148" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gihan Marasingha <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Software.20Foundations.html#241537148">(Jun 04 2021 at 13:48)</a>:</h4>
<p><span class="user-mention" data-user-id="282193">@Phiroc</span> I've got a private repo going for this on Lean 3. I'm in the middle of the Inductive Propositions chapter from book 1 at the moment. Would be very happy to share ideas / join your project. This would be a good opportunity for me to learn Lean 4.</p>



<a name="241539860"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Software%20Foundations/near/241539860" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Software.20Foundations.html#241539860">(Jun 04 2021 at 14:06)</a>:</h4>
<p>I found the inductive props chapter really enlightening.</p>



<a name="241545747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Software%20Foundations/near/241545747" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gihan Marasingha <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Software.20Foundations.html#241545747">(Jun 04 2021 at 14:44)</a>:</h4>
<p>On this point, is <code>set!</code> the Lean 3 equivalent of Coq's <code>remember</code> tactic? I had difficulty translating <code>star_app</code> (see the <a href="https://softwarefoundations.cis.upenn.edu/lf-current/IndProp.html#lab234">relevant section of Software Foundations</a>) and tried different tactics (including <code>generalize</code>, <code>generalize'</code> and <code>induction'</code>) until this worked.</p>
<p>Here's what I wrote. Do let me know if there's a more idiomatic way to write the proof!</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>

<span class="kd">inductive</span> <span class="n">reg_exp</span> <span class="o">(</span><span class="n">T</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span>
<span class="bp">|</span> <span class="n">EmptySet</span>  <span class="o">:</span> <span class="n">reg_exp</span>
<span class="bp">|</span> <span class="n">EmptyStr</span>  <span class="o">:</span> <span class="n">reg_exp</span>
<span class="bp">|</span> <span class="n">Char</span> <span class="o">(</span><span class="n">t</span> <span class="o">:</span> <span class="n">T</span><span class="o">)</span>  <span class="o">:</span> <span class="n">reg_exp</span>
<span class="bp">|</span> <span class="n">App</span> <span class="o">(</span><span class="n">r₁</span> <span class="n">r₂</span> <span class="o">:</span> <span class="n">reg_exp</span><span class="o">)</span> <span class="o">:</span> <span class="n">reg_exp</span>
<span class="bp">|</span> <span class="n">Union</span> <span class="o">(</span><span class="n">r₁</span> <span class="n">r₂</span> <span class="o">:</span> <span class="n">reg_exp</span><span class="o">)</span> <span class="o">:</span> <span class="n">reg_exp</span>
<span class="bp">|</span> <span class="n">Star</span> <span class="o">(</span><span class="n">r</span> <span class="o">:</span> <span class="n">reg_exp</span><span class="o">)</span> <span class="o">:</span> <span class="n">reg_exp</span>

<span class="kn">open</span> <span class="n">reg_exp</span> <span class="n">list</span>

<span class="kd">inductive</span> <span class="n">exp_match</span> <span class="o">{</span><span class="n">T</span><span class="o">}</span> <span class="o">:</span> <span class="n">list</span> <span class="n">T</span> <span class="bp">→</span> <span class="n">reg_exp</span> <span class="n">T</span> <span class="bp">→</span> <span class="kt">Prop</span>
<span class="bp">|</span> <span class="n">MEmpty</span> <span class="o">:</span> <span class="n">exp_match</span> <span class="o">[]</span> <span class="n">EmptyStr</span>
<span class="bp">|</span> <span class="n">MChar</span> <span class="o">(</span><span class="n">x</span><span class="o">)</span> <span class="o">:</span> <span class="n">exp_match</span> <span class="o">[</span><span class="n">x</span><span class="o">]</span> <span class="o">(</span><span class="n">Char</span> <span class="n">x</span><span class="o">)</span>
<span class="bp">|</span> <span class="n">MApp</span> <span class="o">(</span><span class="n">s₁</span> <span class="n">re₁</span> <span class="n">s₂</span> <span class="n">re₂</span><span class="o">)</span> <span class="o">(</span><span class="n">h₁</span> <span class="o">:</span> <span class="n">exp_match</span> <span class="n">s₁</span> <span class="n">re₁</span><span class="o">)</span> <span class="o">(</span><span class="n">h₂</span> <span class="o">:</span> <span class="n">exp_match</span> <span class="n">s₂</span> <span class="n">re₂</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">exp_match</span> <span class="o">(</span><span class="n">s₁</span> <span class="bp">++</span> <span class="n">s₂</span><span class="o">)</span> <span class="o">(</span><span class="n">App</span> <span class="n">re₁</span> <span class="n">re₂</span><span class="o">)</span>
<span class="bp">|</span> <span class="n">MUnionL</span> <span class="o">(</span><span class="n">s₁</span> <span class="n">re₁</span> <span class="n">re₂</span><span class="o">)</span> <span class="o">(</span><span class="n">h₁</span> <span class="o">:</span> <span class="n">exp_match</span> <span class="n">s₁</span> <span class="n">re₁</span><span class="o">)</span> <span class="o">:</span> <span class="n">exp_match</span> <span class="n">s₁</span> <span class="o">(</span><span class="n">Union</span> <span class="n">re₁</span> <span class="n">re₂</span><span class="o">)</span>
<span class="bp">|</span> <span class="n">MUnionR</span> <span class="o">(</span><span class="n">re₁</span> <span class="n">s₂</span> <span class="n">re₂</span><span class="o">)</span> <span class="o">(</span><span class="n">h₂</span> <span class="o">:</span> <span class="n">exp_match</span> <span class="n">s₂</span> <span class="n">re₂</span><span class="o">)</span> <span class="o">:</span> <span class="n">exp_match</span> <span class="n">s₂</span> <span class="o">(</span><span class="n">Union</span> <span class="n">re₁</span> <span class="n">re₂</span><span class="o">)</span>
<span class="bp">|</span> <span class="n">MStar0</span> <span class="o">(</span><span class="n">re</span><span class="o">)</span> <span class="o">:</span> <span class="n">exp_match</span> <span class="o">[]</span> <span class="o">(</span><span class="n">Star</span> <span class="n">re</span><span class="o">)</span>
<span class="bp">|</span> <span class="n">MStarApp</span> <span class="o">(</span><span class="n">s₁</span> <span class="n">s₂</span> <span class="n">re</span><span class="o">)</span> <span class="o">(</span><span class="n">h₁</span> <span class="o">:</span> <span class="n">exp_match</span> <span class="n">s₁</span> <span class="n">re</span><span class="o">)</span> <span class="o">(</span><span class="n">h₂</span> <span class="o">:</span> <span class="n">exp_match</span> <span class="n">s₂</span> <span class="o">(</span><span class="n">Star</span> <span class="n">re</span><span class="o">))</span> <span class="o">:</span>
  <span class="n">exp_match</span> <span class="o">(</span><span class="n">s₁</span> <span class="bp">++</span> <span class="n">s₂</span><span class="o">)</span> <span class="o">(</span><span class="n">Star</span> <span class="n">re</span><span class="o">)</span>

<span class="kd">infix</span> <span class="bp">`</span> <span class="bp">=~</span> <span class="bp">`</span><span class="o">:</span><span class="mi">80</span> <span class="o">:=</span> <span class="n">exp_match</span>

<span class="kn">open</span> <span class="n">exp_match</span>

<span class="kd">lemma</span> <span class="n">star_app</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">T</span> <span class="o">(</span><span class="n">s1</span> <span class="n">s2</span> <span class="o">:</span> <span class="n">list</span> <span class="n">T</span><span class="o">)</span> <span class="o">(</span><span class="n">re</span> <span class="o">:</span> <span class="n">reg_exp</span> <span class="n">T</span><span class="o">),</span> <span class="n">s1</span> <span class="bp">=~</span> <span class="n">Star</span> <span class="n">re</span> <span class="bp">→</span> <span class="n">s2</span> <span class="bp">=~</span> <span class="n">Star</span> <span class="n">re</span> <span class="bp">→</span>
  <span class="o">(</span><span class="n">s1</span> <span class="bp">++</span> <span class="n">s2</span><span class="o">)</span> <span class="bp">=~</span> <span class="n">Star</span> <span class="n">re</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intros</span> <span class="n">T</span> <span class="n">s1</span> <span class="n">s2</span> <span class="n">re</span> <span class="n">h1</span><span class="o">,</span>
  <span class="n">set</span><span class="bp">!</span> <span class="n">re'</span> <span class="o">:=</span> <span class="o">(</span><span class="n">Star</span> <span class="n">re</span><span class="o">)</span>  <span class="k">with</span> <span class="n">hres</span><span class="o">,</span>
  <span class="n">induction</span> <span class="n">h1</span> <span class="n">generalizing</span> <span class="n">s2</span><span class="o">,</span>
  <span class="n">case</span> <span class="n">MEmpty</span> <span class="o">:</span> <span class="o">{</span> <span class="n">intro</span> <span class="n">h</span><span class="o">,</span> <span class="n">dsimp</span><span class="o">,</span> <span class="n">exact</span> <span class="n">h</span><span class="o">,</span> <span class="o">},</span>
  <span class="n">case</span> <span class="n">MChar</span> <span class="o">:</span> <span class="o">{</span> <span class="n">cases</span> <span class="n">hres</span><span class="o">,</span> <span class="o">},</span>
  <span class="n">case</span> <span class="n">MApp</span> <span class="o">:</span> <span class="o">{</span> <span class="n">cases</span> <span class="n">hres</span><span class="o">,</span> <span class="o">},</span>
  <span class="n">case</span> <span class="n">MUnionL</span> <span class="o">:</span> <span class="o">{</span> <span class="n">cases</span> <span class="n">hres</span><span class="o">,</span> <span class="o">},</span>
  <span class="n">case</span> <span class="n">MUnionR</span> <span class="o">:</span> <span class="o">{</span> <span class="n">cases</span> <span class="n">hres</span><span class="o">,</span> <span class="o">},</span>
  <span class="n">case</span> <span class="n">MStar0</span> <span class="o">:</span> <span class="o">{</span> <span class="n">intro</span> <span class="n">h</span><span class="o">,</span> <span class="n">dsimp</span><span class="o">,</span> <span class="n">exact</span> <span class="n">h</span><span class="o">,</span> <span class="o">},</span>
  <span class="n">case</span> <span class="n">MStarApp</span> <span class="o">:</span> <span class="n">s1</span> <span class="n">s2'</span> <span class="n">re</span> <span class="n">h1</span> <span class="n">h12</span> <span class="n">ih1</span> <span class="n">ih2</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="n">list.append_assoc</span><span class="o">,</span> <span class="n">intro</span> <span class="n">h</span><span class="o">,</span> <span class="n">apply</span> <span class="n">MStarApp</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">apply</span> <span class="n">h1</span><span class="o">,</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">apply</span> <span class="n">ih2</span> <span class="n">hres</span><span class="o">,</span> <span class="n">apply</span> <span class="n">h</span><span class="o">,</span> <span class="o">},</span> <span class="o">},</span>
<span class="kd">end</span>
</code></pre></div>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>