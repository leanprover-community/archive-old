---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Using.20.60x.20.E2.88.88.20z.60.20to.20convert.20.60y.20.E2.88.88.20z.60.20to.20.60y.20.3D.20z.60.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20.60x.20.E2.88.88.20z.60.20to.20convert.20.60y.20.E2.88.88.20z.60.20to.20.60y.20.3D.20z.60.html">Using `x ∈ z` to convert `y ∈ z` to `y = z`</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="205384400"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20%60x%20%E2%88%88%20z%60%20to%20convert%20%60y%20%E2%88%88%20z%60%20to%20%60y%20%3D%20z%60/near/205384400" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20.60x.20.E2.88.88.20z.60.20to.20convert.20.60y.20.E2.88.88.20z.60.20to.20.60y.20.3D.20z.60.html#205384400">(Jul 29 2020 at 17:03)</a>:</h4>
<p>If I have <code>x ∈ z</code> as a hypothesis, and my goal is <code>y ∈ z</code>, is there an easy way to change the goal to <code>x = y</code>?</p>



<a name="205384520"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20%60x%20%E2%88%88%20z%60%20to%20convert%20%60y%20%E2%88%88%20z%60%20to%20%60y%20%3D%20z%60/near/205384520" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20.60x.20.E2.88.88.20z.60.20to.20convert.20.60y.20.E2.88.88.20z.60.20to.20.60y.20.3D.20z.60.html#205384520">(Jul 29 2020 at 17:04)</a>:</h4>
<p>Preferably without having to actually spell out what <code>x</code>, <code>y</code>, and <code>z</code> are in my proof</p>



<a name="205385167"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20%60x%20%E2%88%88%20z%60%20to%20convert%20%60y%20%E2%88%88%20z%60%20to%20%60y%20%3D%20z%60/near/205385167" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20.60x.20.E2.88.88.20z.60.20to.20convert.20.60y.20.E2.88.88.20z.60.20to.20.60y.20.3D.20z.60.html#205385167">(Jul 29 2020 at 17:09)</a>:</h4>
<p><code>convert hxz using 1</code></p>



<a name="205385270"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20%60x%20%E2%88%88%20z%60%20to%20convert%20%60y%20%E2%88%88%20z%60%20to%20%60y%20%3D%20z%60/near/205385270" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20.60x.20.E2.88.88.20z.60.20to.20convert.20.60y.20.E2.88.88.20z.60.20to.20.60y.20.3D.20z.60.html#205385270">(Jul 29 2020 at 17:10)</a>:</h4>
<p>What is <code>1</code> there?</p>



<a name="205385275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20%60x%20%E2%88%88%20z%60%20to%20convert%20%60y%20%E2%88%88%20z%60%20to%20%60y%20%3D%20z%60/near/205385275" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20.60x.20.E2.88.88.20z.60.20to.20convert.20.60y.20.E2.88.88.20z.60.20to.20.60y.20.3D.20z.60.html#205385275">(Jul 29 2020 at 17:10)</a>:</h4>
<p>Where hxz is the proof that x is in z</p>



<a name="205385325"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20%60x%20%E2%88%88%20z%60%20to%20convert%20%60y%20%E2%88%88%20z%60%20to%20%60y%20%3D%20z%60/near/205385325" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20.60x.20.E2.88.88.20z.60.20to.20convert.20.60y.20.E2.88.88.20z.60.20to.20.60y.20.3D.20z.60.html#205385325">(Jul 29 2020 at 17:11)</a>:</h4>
<p>You didn't say what x and y were, but if they are complex structures which are similar then convert might try to be too clever</p>



<a name="205385339"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20%60x%20%E2%88%88%20z%60%20to%20convert%20%60y%20%E2%88%88%20z%60%20to%20%60y%20%3D%20z%60/near/205385339" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20.60x.20.E2.88.88.20z.60.20to.20convert.20.60y.20.E2.88.88.20z.60.20to.20.60y.20.3D.20z.60.html#205385339">(Jul 29 2020 at 17:11)</a>:</h4>
<p>1 says only to do 1 level of matching, so if x and y have other similarities it won't go too far</p>



<a name="205385437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20%60x%20%E2%88%88%20z%60%20to%20convert%20%60y%20%E2%88%88%20z%60%20to%20%60y%20%3D%20z%60/near/205385437" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20.60x.20.E2.88.88.20z.60.20to.20convert.20.60y.20.E2.88.88.20z.60.20to.20.60y.20.3D.20z.60.html#205385437">(Jul 29 2020 at 17:12)</a>:</h4>
<p>Looks like lean can't explain the syntax to me:</p>
<div class="codehilite"><pre><span></span><code><span class="n">convert</span> <span class="err">←</span> <span class="n">expr</span> <span class="bp">&lt;</span><span class="n">error</span> <span class="n">while</span> <span class="n">executing</span> <span class="n">interactive</span><span class="bp">.</span><span class="n">param_desc</span><span class="o">:</span> <span class="n">don&#39;t</span> <span class="n">know</span> <span class="n">how</span> <span class="n">to</span> <span class="n">pretty</span> <span class="kn">print</span> <span class="n">lean</span><span class="bp">.</span><span class="n">parser</span><span class="bp">.</span><span class="n">small_nat</span><span class="bp">&gt;</span>
</code></pre></div>



<a name="205385479"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20%60x%20%E2%88%88%20z%60%20to%20convert%20%60y%20%E2%88%88%20z%60%20to%20%60y%20%3D%20z%60/near/205385479" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20.60x.20.E2.88.88.20z.60.20to.20convert.20.60y.20.E2.88.88.20z.60.20to.20.60y.20.3D.20z.60.html#205385479">(Jul 29 2020 at 17:12)</a>:</h4>
<p>Anyway, thanks for the speedy reply <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span>, that's exactly what I needed :)</p>



<a name="205385486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20%60x%20%E2%88%88%20z%60%20to%20convert%20%60y%20%E2%88%88%20z%60%20to%20%60y%20%3D%20z%60/near/205385486" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20.60x.20.E2.88.88.20z.60.20to.20convert.20.60y.20.E2.88.88.20z.60.20to.20.60y.20.3D.20z.60.html#205385486">(Jul 29 2020 at 17:12)</a>:</h4>
<p>How is this bug still not fixed?</p>



<a name="205385571"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20%60x%20%E2%88%88%20z%60%20to%20convert%20%60y%20%E2%88%88%20z%60%20to%20%60y%20%3D%20z%60/near/205385571" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20.60x.20.E2.88.88.20z.60.20to.20convert.20.60y.20.E2.88.88.20z.60.20to.20.60y.20.3D.20z.60.html#205385571">(Jul 29 2020 at 17:13)</a>:</h4>
<p>Is there an open issue for it?</p>



<a name="205385665"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20%60x%20%E2%88%88%20z%60%20to%20convert%20%60y%20%E2%88%88%20z%60%20to%20%60y%20%3D%20z%60/near/205385665" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20.60x.20.E2.88.88.20z.60.20to.20convert.20.60y.20.E2.88.88.20z.60.20to.20.60y.20.3D.20z.60.html#205385665">(Jul 29 2020 at 17:14)</a>:</h4>
<p>I thought there was a <code>small_nat'</code> parser in mathlib, but now I can't find it</p>



<a name="205385706"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20%60x%20%E2%88%88%20z%60%20to%20convert%20%60y%20%E2%88%88%20z%60%20to%20%60y%20%3D%20z%60/near/205385706" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20.60x.20.E2.88.88.20z.60.20to.20convert.20.60y.20.E2.88.88.20z.60.20to.20.60y.20.3D.20z.60.html#205385706">(Jul 29 2020 at 17:14)</a>:</h4>
<p>and of the search results it looks like more than half of <code>small_nat</code> uses are not guarded by <code>with_desc</code></p>



<a name="205385777"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20%60x%20%E2%88%88%20z%60%20to%20convert%20%60y%20%E2%88%88%20z%60%20to%20%60y%20%3D%20z%60/near/205385777" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20.60x.20.E2.88.88.20z.60.20to.20convert.20.60y.20.E2.88.88.20z.60.20to.20.60y.20.3D.20z.60.html#205385777">(Jul 29 2020 at 17:15)</a>:</h4>
<p>although the actual description varies, it can be <code>n</code> or <code>i</code> or <code>j</code></p>



<a name="205385870"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20%60x%20%E2%88%88%20z%60%20to%20convert%20%60y%20%E2%88%88%20z%60%20to%20%60y%20%3D%20z%60/near/205385870" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20.60x.20.E2.88.88.20z.60.20to.20convert.20.60y.20.E2.88.88.20z.60.20to.20.60y.20.3D.20z.60.html#205385870">(Jul 29 2020 at 17:16)</a>:</h4>
<p>I think we should just make <code>small_nat</code> in core have description <code>n</code></p>



<a name="205386233"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20%60x%20%E2%88%88%20z%60%20to%20convert%20%60y%20%E2%88%88%20z%60%20to%20%60y%20%3D%20z%60/near/205386233" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20.60x.20.E2.88.88.20z.60.20to.20convert.20.60y.20.E2.88.88.20z.60.20to.20.60y.20.3D.20z.60.html#205386233">(Jul 29 2020 at 17:19)</a>:</h4>
<p>oh weird, <a href="https://leanprover-community.github.io/mathlib_docs/find/interactive.param_desc/src">src#interactive.param_desc</a> is defined by recursion on expr instead of using typeclasses</p>



<a name="205386320"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20%60x%20%E2%88%88%20z%60%20to%20convert%20%60y%20%E2%88%88%20z%60%20to%20%60y%20%3D%20z%60/near/205386320" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20.60x.20.E2.88.88.20z.60.20to.20convert.20.60y.20.E2.88.88.20z.60.20to.20.60y.20.3D.20z.60.html#205386320">(Jul 29 2020 at 17:20)</a>:</h4>
<p>I guess we just need another case in <code>parser_desc_aux</code></p>



<a name="205386835"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20%60x%20%E2%88%88%20z%60%20to%20convert%20%60y%20%E2%88%88%20z%60%20to%20%60y%20%3D%20z%60/near/205386835" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20.60x.20.E2.88.88.20z.60.20to.20convert.20.60y.20.E2.88.88.20z.60.20to.20.60y.20.3D.20z.60.html#205386835">(Jul 29 2020 at 17:24)</a>:</h4>
<p><a href="https://github.com/leanprover-community/lean/issues/424">lean#424</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>