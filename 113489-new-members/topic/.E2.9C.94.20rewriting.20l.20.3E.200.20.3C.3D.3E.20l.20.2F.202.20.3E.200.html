---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/.E2.9C.94.20rewriting.20l.20.3E.200.20.3C.3D.3E.20l.20.2F.202.20.3E.200.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20rewriting.20l.20.3E.200.20.3C.3D.3E.20l.20.2F.202.20.3E.200.html">✔ rewriting l > 0 <=> l / 2 > 0</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="289816622"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20rewriting%20l%20%3E%200%20%3C%3D%3E%20l%20/%202%20%3E%200/near/289816622" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Guy <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20rewriting.20l.20.3E.200.20.3C.3D.3E.20l.20.2F.202.20.3E.200.html#289816622">(Jul 16 2022 at 08:26)</a>:</h4>
<p>I'm going through the lean tutorial project, working on the sequence limits chapter.</p>
<p>so right now I have</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c1">-- Assume l &gt; 0. Then u tends to l implies u n ≥ l/2 for large enough n</span>
<span class="c1">-- 0034</span>
<span class="kd">example</span> <span class="o">(</span><span class="n">hl</span> <span class="o">:</span> <span class="n">l</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span> <span class="n">seq_limit</span> <span class="n">u</span> <span class="n">l</span> <span class="bp">→</span> <span class="bp">∃</span> <span class="n">N</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">n</span> <span class="bp">≥</span> <span class="n">N</span><span class="o">,</span> <span class="n">u</span> <span class="n">n</span> <span class="bp">≥</span> <span class="n">l</span><span class="bp">/</span><span class="mi">2</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="n">gt_iff_lt</span> <span class="n">at</span> <span class="n">hl</span><span class="o">,</span>
  <span class="n">intro</span> <span class="n">lim</span><span class="o">,</span>
  <span class="n">specialize</span> <span class="n">lim</span> <span class="o">(</span><span class="n">l</span><span class="bp">/</span><span class="mi">2</span><span class="o">),</span>
  <span class="n">rw</span> <span class="n">gt_iff_lt</span> <span class="n">at</span> <span class="n">lim</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="mi">1</span> <span class="n">goal</span>
<span class="n">u</span><span class="o">:</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="n">ℝ</span>
<span class="n">l</span><span class="o">:</span> <span class="n">ℝ</span>
<span class="n">hl</span><span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">l</span>
<span class="n">lim</span><span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">l</span> <span class="bp">/</span> <span class="mi">2</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">N</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">),</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">),</span> <span class="n">n</span> <span class="bp">≥</span> <span class="n">N</span> <span class="bp">→</span> <span class="bp">|</span><span class="n">u</span> <span class="n">n</span> <span class="bp">-</span> <span class="n">l</span><span class="bp">|</span> <span class="bp">≤</span> <span class="n">l</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">)</span>
<span class="bp">⊢</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">N</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">),</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">),</span> <span class="n">n</span> <span class="bp">≥</span> <span class="n">N</span> <span class="bp">→</span> <span class="n">u</span> <span class="n">n</span> <span class="bp">≥</span> <span class="n">l</span> <span class="bp">/</span> <span class="mi">2</span>
</code></pre></div>
<p>I want implicate from <code>hl</code> that <code>0 &lt; l / 2</code> so I could apply it at the <code>lim</code> theorem but I couldn't find the right rw/specialize/\l combination to make it work. what did I miss?</p>



<a name="289816684"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20rewriting%20l%20%3E%200%20%3C%3D%3E%20l%20/%202%20%3E%200/near/289816684" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20rewriting.20l.20.3E.200.20.3C.3D.3E.20l.20.2F.202.20.3E.200.html#289816684">(Jul 16 2022 at 08:28)</a>:</h4>
<p>There should be a lemma <a href="https://leanprover-community.github.io/mathlib_docs/find/div_pos">docs#div_pos</a></p>



<a name="289816811"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20rewriting%20l%20%3E%200%20%3C%3D%3E%20l%20/%202%20%3E%200/near/289816811" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Guy <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20rewriting.20l.20.3E.200.20.3C.3D.3E.20l.20.2F.202.20.3E.200.html#289816811">(Jul 16 2022 at 08:30)</a>:</h4>
<p>ha. thanks! may I have just a final tip on how to apply it? still working through my tactics :)</p>



<a name="289816931"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20rewriting%20l%20%3E%200%20%3C%3D%3E%20l%20/%202%20%3E%200/near/289816931" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20rewriting.20l.20.3E.200.20.3C.3D.3E.20l.20.2F.202.20.3E.200.html#289816931">(Jul 16 2022 at 08:33)</a>:</h4>
<p>You could do</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="k">have</span> <span class="n">hl2</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">l</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">,</span>
<span class="o">{</span> <span class="n">rw</span> <span class="n">div_pos</span><span class="o">,</span>
  <span class="c">/-</span><span class="cm"> proof that 2 is pos -/</span> <span class="o">},</span>
<span class="n">obtain</span> <span class="o">⟨</span><span class="n">n</span><span class="o">,</span> <span class="n">hn</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">lim</span> <span class="n">hl2</span><span class="o">,</span>
</code></pre></div>



<a name="289816980"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20rewriting%20l%20%3E%200%20%3C%3D%3E%20l%20/%202%20%3E%200/near/289816980" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20rewriting.20l.20.3E.200.20.3C.3D.3E.20l.20.2F.202.20.3E.200.html#289816980">(Jul 16 2022 at 08:34)</a>:</h4>
<p>Probably the <code>/- proof that 2 is pos -/</code> is just <code>norm_num</code>.</p>



<a name="289817511"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20rewriting%20l%20%3E%200%20%3C%3D%3E%20l%20/%202%20%3E%200/near/289817511" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Guy <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20rewriting.20l.20.3E.200.20.3C.3D.3E.20l.20.2F.202.20.3E.200.html#289817511">(Jul 16 2022 at 08:47)</a>:</h4>
<p>tried to do something like this</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code>  <span class="n">rw</span> <span class="n">gt_iff_lt</span> <span class="n">at</span> <span class="n">hl</span><span class="o">,</span>

  <span class="k">have</span> <span class="n">h2</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="mi">2</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">norm_num</span><span class="o">,</span>
    <span class="o">},</span>

  <span class="n">specialize</span> <span class="n">div_pos</span> <span class="n">hl</span> <span class="n">h2</span><span class="o">,</span>
</code></pre></div>
<p>lean seems to worry that 2 is nat and not real?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">type</span> <span class="n">mismatch</span> <span class="n">at</span> <span class="n">application</span>
  <span class="n">div_pos</span> <span class="n">hl</span> <span class="n">h2</span>
<span class="n">term</span>
  <span class="n">h2</span>
<span class="n">has</span> <span class="n">type</span>
  <span class="mi">0</span> <span class="bp">&lt;</span> <span class="mi">2</span>
<span class="n">but</span> <span class="n">is</span> <span class="n">expected</span> <span class="n">to</span> <span class="k">have</span> <span class="n">type</span>
  <span class="mi">0</span> <span class="bp">&lt;</span> <span class="bp">?</span><span class="n">m_1</span>
</code></pre></div>



<a name="289817798"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20rewriting%20l%20%3E%200%20%3C%3D%3E%20l%20/%202%20%3E%200/near/289817798" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20rewriting.20l.20.3E.200.20.3C.3D.3E.20l.20.2F.202.20.3E.200.html#289817798">(Jul 16 2022 at 08:54)</a>:</h4>
<p>Did my suggestion work?</p>



<a name="289817808"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20rewriting%20l%20%3E%200%20%3C%3D%3E%20l%20/%202%20%3E%200/near/289817808" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20rewriting.20l.20.3E.200.20.3C.3D.3E.20l.20.2F.202.20.3E.200.html#289817808">(Jul 16 2022 at 08:55)</a>:</h4>
<p>You can fix yours by being explicit about which <code>0 &lt; 2</code> you mean.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="k">have</span> <span class="n">h2</span> <span class="o">:</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">&lt;</span> <span class="mi">2</span><span class="o">,</span>
<span class="c1">-- etc</span>
</code></pre></div>



<a name="289817820"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20rewriting%20l%20%3E%200%20%3C%3D%3E%20l%20/%202%20%3E%200/near/289817820" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20rewriting.20l.20.3E.200.20.3C.3D.3E.20l.20.2F.202.20.3E.200.html#289817820">(Jul 16 2022 at 08:55)</a>:</h4>
<p>I guess in my suggestion above, <code>rw div_pos</code> fails, and should be <code>apply div_pos</code>.</p>



<a name="289817962"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20rewriting%20l%20%3E%200%20%3C%3D%3E%20l%20/%202%20%3E%200/near/289817962" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Guy <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20rewriting.20l.20.3E.200.20.3C.3D.3E.20l.20.2F.202.20.3E.200.html#289817962">(Jul 16 2022 at 08:59)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code>  <span class="n">rw</span> <span class="n">gt_iff_lt</span> <span class="n">at</span> <span class="n">hl</span><span class="o">,</span>

  <span class="k">have</span> <span class="n">h2</span> <span class="o">:</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">&lt;</span> <span class="mi">2</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">norm_num</span><span class="o">,</span>
    <span class="o">},</span>

  <span class="k">have</span> <span class="n">hl2</span> <span class="o">:=</span> <span class="n">div_pos</span> <span class="n">hl</span> <span class="n">h2</span><span class="o">,</span>
</code></pre></div>
<p>this worked out</p>



<a name="289818119"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20rewriting%20l%20%3E%200%20%3C%3D%3E%20l%20/%202%20%3E%200/near/289818119" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20rewriting.20l.20.3E.200.20.3C.3D.3E.20l.20.2F.202.20.3E.200.html#289818119">(Jul 16 2022 at 09:02)</a>:</h4>
<p>Does <a href="https://leanprover-community.github.io/mathlib_docs/find/two_pos">docs#two_pos</a> or maybe <a href="https://leanprover-community.github.io/mathlib_docs/find/zero_lt_two">docs#zero_lt_two</a> exist? If so, I guess you can write <code>have hl2 := div_pos hl two_pos</code></p>



<a name="289818221"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20rewriting%20l%20%3E%200%20%3C%3D%3E%20l%20/%202%20%3E%200/near/289818221" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Guy <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20rewriting.20l.20.3E.200.20.3C.3D.3E.20l.20.2F.202.20.3E.200.html#289818221">(Jul 16 2022 at 09:05)</a>:</h4>
<p>good to know mathlib has the 2,3,4 cases <span aria-label="rolling on the floor laughing" class="emoji emoji-1f923" role="img" title="rolling on the floor laughing">:rolling_on_the_floor_laughing:</span></p>



<a name="289818276"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20rewriting%20l%20%3E%200%20%3C%3D%3E%20l%20/%202%20%3E%200/near/289818276" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20rewriting.20l.20.3E.200.20.3C.3D.3E.20l.20.2F.202.20.3E.200.html#289818276">(Jul 16 2022 at 09:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="514808">Guy</span> has marked this topic as resolved.</p>



<a name="289833681"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20rewriting%20l%20%3E%200%20%3C%3D%3E%20l%20/%202%20%3E%200/near/289833681" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20rewriting.20l.20.3E.200.20.3C.3D.3E.20l.20.2F.202.20.3E.200.html#289833681">(Jul 16 2022 at 15:39)</a>:</h4>
<p><span class="user-mention" data-user-id="514808">@Guy</span> it is crucial to read the comments in those files. The expected way to deal with this is explained on line 41</p>



<a name="289833759"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20rewriting%20l%20%3E%200%20%3C%3D%3E%20l%20/%202%20%3E%200/near/289833759" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20rewriting.20l.20.3E.200.20.3C.3D.3E.20l.20.2F.202.20.3E.200.html#289833759">(Jul 16 2022 at 15:40)</a>:</h4>
<p>If you prefer to provide a proof term then you can use lemma half_pos.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>