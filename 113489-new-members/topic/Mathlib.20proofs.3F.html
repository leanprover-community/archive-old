---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Mathlib.20proofs.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Mathlib.20proofs.3F.html">Mathlib proofs?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="280672491"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Mathlib%20proofs%3F/near/280672491" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Mathlib.20proofs.3F.html#280672491">(Apr 29 2022 at 18:39)</a>:</h4>
<p>Why are the mathlib proofs so golfed? Shouldn’t they be readable for people who want to learn from them</p>



<a name="280672596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Mathlib%20proofs%3F/near/280672596" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Mathlib.20proofs.3F.html#280672596">(Apr 29 2022 at 18:40)</a>:</h4>
<p><a href="https://leanprover-community.github.io/glossary.html#golfing">glossary#golfing</a> has the rationale I perceived (or was told).</p>



<a name="280672640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Mathlib%20proofs%3F/near/280672640" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Mathlib.20proofs.3F.html#280672640">(Apr 29 2022 at 18:40)</a>:</h4>
<p>Essentially people care more about statements than proofs often. When the proof is mechanical or uninteresting -- in the sense that it's felt there isn't much to learn mathematically from understanding the proof -- then the shorter the better.</p>



<a name="280672674"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Mathlib%20proofs%3F/near/280672674" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Mathlib.20proofs.3F.html#280672674">(Apr 29 2022 at 18:41)</a>:</h4>
<p>(That being said though I think for more interesting proofs there indeed <em>is</em> a hope or feeling that mathlib could have a bit more commenting and exposition than it does today).</p>



<a name="280672794"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Mathlib%20proofs%3F/near/280672794" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph O <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Mathlib.20proofs.3F.html#280672794">(Apr 29 2022 at 18:42)</a>:</h4>
<p>I guess that is reasonable</p>



<a name="280673375"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Mathlib%20proofs%3F/near/280673375" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Mathlib.20proofs.3F.html#280673375">(Apr 29 2022 at 18:47)</a>:</h4>
<p>There's much distinction between API proofs, and actual theorems. A way to think of it is that compressing the trivial makes what's not stand out.</p>



<a name="280673486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Mathlib%20proofs%3F/near/280673486" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Mathlib.20proofs.3F.html#280673486">(Apr 29 2022 at 18:48)</a>:</h4>
<p>Golfed proofs are also usually easier to maintain, because they have less moving parts and tend to compile quicker (so they are less prone to time out).</p>



<a name="280679138"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Mathlib%20proofs%3F/near/280679138" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Mathlib.20proofs.3F.html#280679138">(Apr 29 2022 at 19:40)</a>:</h4>
<p>You can also learn a lot by reading a golfed proof too; usually less mathematics and more about how to do golfling</p>



<a name="280682734"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Mathlib%20proofs%3F/near/280682734" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Mathlib.20proofs.3F.html#280682734">(Apr 29 2022 at 20:14)</a>:</h4>
<p>Golfing has an additional benefit (frequently, not always) of showing you how things are less complicated than you were making them. (Maybe this is what Eric was saying, I'm not quite sure)</p>



<a name="280684281"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Mathlib%20proofs%3F/near/280684281" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Mathlib.20proofs.3F.html#280684281">(Apr 29 2022 at 20:29)</a>:</h4>
<p>You can also usually ungolf a golfed proof to see how it works. Luckily they tend to just be compressed and optimized rather than truly code golfed (which tends result in highly obfuscated code -- take a look at <a href="https://codegolf.stackexchange.com/">https://codegolf.stackexchange.com/</a>).</p>



<a name="280735970"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Mathlib%20proofs%3F/near/280735970" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Mathlib.20proofs.3F.html#280735970">(Apr 30 2022 at 13:14)</a>:</h4>
<p>I still second <span class="user-mention" data-user-id="467926">@Joseph O</span> 's remark: sometimes proofs in <code>mathlib</code> looks <em>too</em> golfed to me. Once one knows how to de-golf a proof, this is more or less fine, but I believe this is hard for beginners, who can easily be discouraged by condensed way these proofs are stored in <code>mathlib</code>. I am thinking of taking an easy lemma that one wishes to adapt to another setting by saying "oh, let me see if I can mimik the proof". I was very upset with this at the beginning and I am still not convinced by maximising golfing.</p>



<a name="280736050"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Mathlib%20proofs%3F/near/280736050" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Mathlib.20proofs.3F.html#280736050">(Apr 30 2022 at 13:16)</a>:</h4>
<p>The idea stated <a href="https://leanprover-community.github.io/glossary.html#golfing">here</a> is really to make code <em>as short as possible</em> (sic!) and this might be too short, but that is clearly a matter of personal taste.</p>



<a name="280738965"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Mathlib%20proofs%3F/near/280738965" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Mathlib.20proofs.3F.html#280738965">(Apr 30 2022 at 14:25)</a>:</h4>
<p>I am skeptical about golfing improving speed. Sometimes it's evident but very often it's about making more use of syntactic sugar and Lean's type inference powers, which is potentially slower, I believe</p>



<a name="280742356"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Mathlib%20proofs%3F/near/280742356" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Mathlib.20proofs.3F.html#280742356">(Apr 30 2022 at 15:48)</a>:</h4>
<p>Often "golfing" is used to mean "convert tactic proofs to term proofs", which probably can improve speeds - especially if the tactic proof use <code>simp</code> when the term proof is just <code>foo.trans bar</code></p>



<a name="280748406"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Mathlib%20proofs%3F/near/280748406" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Mathlib.20proofs.3F.html#280748406">(Apr 30 2022 at 18:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="300245">Filippo A. E. Nuccio</span> <a href="#narrow/stream/113489-new-members/topic/Mathlib.20proofs.3F/near/280736050">said</a>:</p>
<blockquote>
<p>The idea stated <a href="https://leanprover-community.github.io/glossary.html#golfing">here</a> is really to make code <em>as short as possible</em> (sic!) and this might be too short, but that is clearly a matter of personal taste.</p>
</blockquote>
<p>I quoted the "general" (non-lean specific) definition more or less from the first sentence of <a href="https://en.wikipedia.org/wiki/Code_golf">https://en.wikipedia.org/wiki/Code_golf</a>:</p>
<blockquote>
<p>Code golf is a type of recreational computer programming competition in which participants strive to achieve the shortest possible source code that solves a certain problem.</p>
</blockquote>
<p>Of course happy to tweak the language there if you think it's too harsh, but personally I fully agree with your point that balance is needed between "as short as possible" and "as short as both possible and a good idea via some subjective collective wisdom". E.g. no one I think would say it is a good idea for mathlib to use 1 letter variable names everywhere just because it'd golf some proofs shorter.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>