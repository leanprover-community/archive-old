---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/nat.20divisors.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.20divisors.html">nat divisors</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="270493138"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat%20divisors/near/270493138" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Kontorovich <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.20divisors.html#270493138">(Feb 03 2022 at 02:46)</a>:</h4>
<p>Something very stupid; maybe someone can do it immediately:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">nat.divisors_eq</span> <span class="o">(</span><span class="n">n</span> <span class="n">y</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">hny</span> <span class="o">:</span> <span class="n">n</span> <span class="bp">≤</span> <span class="n">y</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">n.divisors</span> <span class="bp">=</span> <span class="o">(</span><span class="n">finset.filter</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">),</span> <span class="n">x</span> <span class="bp">∣</span> <span class="n">n</span><span class="o">)</span> <span class="o">(</span><span class="n">finset.Icc</span> <span class="mi">1</span> <span class="n">y</span><span class="o">))</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="gr">sorry</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>This is nearly the definition of nat.divisor, except the <code>finset.Icc</code> goes from <code>1</code> to <code>y</code> instead of <code>1</code> to <code>n</code>. Since <code>n≤ y</code> and <code>nat.divisor_le</code> knows that any divisor is anyway less than <code>n</code>, these sets are the "same"...?</p>



<a name="270493263"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat%20divisors/near/270493263" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.20divisors.html#270493263">(Feb 03 2022 at 02:48)</a>:</h4>
<p>Not true for <code>n = 0</code> <span aria-label="anguished" class="emoji emoji-1f627" role="img" title="anguished">:anguished:</span></p>



<a name="270493295"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat%20divisors/near/270493295" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Kontorovich <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.20divisors.html#270493295">(Feb 03 2022 at 02:49)</a>:</h4>
<p>Ok, let's add <code>0&lt;n</code></p>



<a name="270493624"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat%20divisors/near/270493624" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.20divisors.html#270493624">(Feb 03 2022 at 02:54)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">number_theory.divisors</span>

<span class="kd">lemma</span> <span class="n">nat.divisors_eq</span> <span class="o">(</span><span class="n">n</span> <span class="n">y</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">hny</span> <span class="o">:</span> <span class="n">n</span> <span class="bp">≤</span> <span class="n">y</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">n.divisors</span> <span class="bp">=</span> <span class="o">(</span><span class="n">finset.filter</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">),</span> <span class="n">x</span> <span class="bp">∣</span> <span class="n">n</span><span class="o">)</span> <span class="o">(</span><span class="n">finset.Icc</span> <span class="mi">1</span> <span class="n">y</span><span class="o">))</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">cases</span> <span class="n">n</span><span class="o">,</span>
  <span class="gr">sorry</span><span class="o">,</span> <span class="c1">-- skip n = 0</span>
  <span class="n">ext</span> <span class="o">(</span><span class="n">_</span><span class="bp">|</span><span class="n">a</span><span class="o">),</span>
  <span class="o">{</span> <span class="n">simp</span> <span class="o">},</span>
  <span class="k">suffices</span> <span class="o">:</span> <span class="n">a.succ</span> <span class="bp">∣</span> <span class="n">n.succ</span> <span class="bp">→</span> <span class="n">a.succ</span> <span class="bp">≤</span> <span class="n">y</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">and_comm</span><span class="o">,</span> <span class="n">nat.succ_le_succ_iff</span><span class="o">]</span> <span class="o">},</span>
  <span class="n">exact</span> <span class="bp">λ</span> <span class="n">h</span><span class="o">,</span> <span class="o">(</span><span class="n">nat.le_of_dvd</span> <span class="o">(</span><span class="n">nat.zero_lt_succ</span> <span class="n">_</span><span class="o">)</span> <span class="n">h</span><span class="o">)</span><span class="bp">.</span><span class="n">trans</span> <span class="n">hny</span>
<span class="kd">end</span>
</code></pre></div>



<a name="270494148"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat%20divisors/near/270494148" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Kontorovich <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.20divisors.html#270494148">(Feb 03 2022 at 03:01)</a>:</h4>
<p>Cool! What is that first line ext (_|a) doing? (I mean, I can see what it did in this case, but how do those parentheses work?...) Many thanks!</p>



<a name="270494394"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/nat%20divisors/near/270494394" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/nat.20divisors.html#270494394">(Feb 03 2022 at 03:05)</a>:</h4>
<p>It does <a href="https://leanprover-community.github.io/mathlib_docs/tactics.html#rcases">tactic#rcases</a> on the introduced variables (a feature I was unaware of). The pipe pattern does cases on constructors of an inductive type.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>