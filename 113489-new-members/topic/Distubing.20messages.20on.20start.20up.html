---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html">Distubing messages on start up</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="236589142"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236589142" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Douglas Lewan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236589142">(Apr 28 2021 at 22:16)</a>:</h4>
<p>Hi, all, I'm just getting started using LEAN. I've opened .../tutorial  (to get lean.toml), and I'm trying to work in 00_first_proofs.lean.<br>
I've got 128 messages that seem wrong. For example,<br>
    invalid import: data.option.defs<br>
    excessive memory consumption detected at 'replace' (potential solution: increase memory consumption threshold)</p>
<ol>
<li>I would assume that all the imports in that file should work. What do I need to do to make them valid?</li>
<li>WRT memory consumption, lean itself is taking 5.4 GB. Total memory consumption seems to be near 8GB. Does it realy have to be that high?</li>
</ol>
<p>Finally,</p>
<ol start="3">
<li>I have a lot of messages like this: invalid object declaration, environment already has an object named 'option.elim._main'. Many of these messages are exact duplicates. How can I correct things to avoid such collisions?</li>
</ol>



<a name="236589704"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236589704" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236589704">(Apr 28 2021 at 22:22)</a>:</h4>
<p><del>Can you edit the title of your message above to move it to a new thread?</del> thanks!</p>



<a name="236589869"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236589869" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Douglas Lewan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236589869">(Apr 28 2021 at 22:24)</a>:</h4>
<p>Sorry. I'm new to zulip too.</p>



<a name="236590084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236590084" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Douglas Lewan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236590084">(Apr 28 2021 at 22:26)</a>:</h4>
<p>Another start up problem is that I have no "goals" window. (I'm using VSCode.) The very first runhad both infoview and goals. Now I can't tell how to get the goals window.</p>



<a name="236595803"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236595803" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236595803">(Apr 28 2021 at 23:27)</a>:</h4>
<p>It seems likely you that don't have a local copy of mathlib setup correctly. Could you point us to the installation instructions you used?</p>



<a name="236611461"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236611461" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236611461">(Apr 29 2021 at 02:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="408577">Douglas Lewan</span> <a href="#narrow/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up/near/236590084">said</a>:</p>
<blockquote>
<p>Another start up problem is that I have no "goals" window. (I'm using VSCode.) The very first runhad both infoview and goals. Now I can't tell how to get the goals window.</p>
</blockquote>
<p>Ctrl-shift-space, or a little button in the top right of the editor window will open the goal view</p>



<a name="236630032"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236630032" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236630032">(Apr 29 2021 at 07:21)</a>:</h4>
<p>Did you install the project with <code>leanproject</code> and did you open the root directory (not a file) with VS Code?</p>



<a name="236650183"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236650183" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kunhao Zheng <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236650183">(Apr 29 2021 at 10:23)</a>:</h4>
<p>I've got the same issue not long ago. Did you have something like "unknown archive format" when you do "leanproject get tutorials"?<br>
<a href="#narrow/stream/113489-new-members/topic/Issue.20of.20Installation.20on.20generic.20Linux/near/236359317">https://leanprover.zulipchat.com/#narrow/stream/113489-new-members/topic/Issue.20of.20Installation.20on.20generic.20Linux/near/236359317</a></p>



<a name="236708555"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236708555" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Douglas Lewan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236708555">(Apr 29 2021 at 16:57)</a>:</h4>
<p>I followed the instructions at <a href="https://leanprover-community.github.io/install/debian_details.html">https://leanprover-community.github.io/install/debian_details.html</a>. I'm running Debian 9.4, stretch.<br>
I followed the instructions at <a href="https://leanprover-community.github.io/install/project.html">https://leanprover-community.github.io/install/project.html</a> to install the tutorial, yes, with leanproject.</p>



<a name="236708745"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236708745" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236708745">(Apr 29 2021 at 16:58)</a>:</h4>
<p>Can you open the root directory of the tutorials project using "open folder" with VS Code, then open 00_first_proofs.lean in src, and see if it works, and if it doesn't work then send a screenshot of your VS Code?</p>



<a name="236711140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236711140" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Douglas Lewan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236711140">(Apr 29 2021 at 17:15)</a>:</h4>
<p>I've tried starting again 'from scratch', something that VScode doesn't seem to want to do. I'd be happy to send a screenshot, but i'm not sure how to.</p>



<a name="236715476"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236715476" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236715476">(Apr 29 2021 at 17:43)</a>:</h4>
<p>I would help, were you to be more precise about which part of uploading a screenshot to Zulip you're not sure how to do</p>



<a name="236734827"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236734827" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Douglas Lewan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236734827">(Apr 29 2021 at 19:54)</a>:</h4>
<p>Here's a screenshot of VSCode. <a href="/user_uploads/3121/jBdIz4rYbnlxVn7Z_x-x_jhN/VScode-Screenshot_2021-04-29_13-14-10.png">VScode-Screenshot_2021-04-29_13-14-10.png</a> <br>
(Sorry, as I mentioned elsewhere, I'm new to Zulip too.)</p>
<div class="message_inline_image"><a href="/user_uploads/3121/jBdIz4rYbnlxVn7Z_x-x_jhN/VScode-Screenshot_2021-04-29_13-14-10.png" title="VScode-Screenshot_2021-04-29_13-14-10.png"><img src="/user_uploads/3121/jBdIz4rYbnlxVn7Z_x-x_jhN/VScode-Screenshot_2021-04-29_13-14-10.png"></a></div>



<a name="236740928"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236740928" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236740928">(Apr 29 2021 at 20:35)</a>:</h4>
<p>And what happens if you try ctrl-shift-P and then start typing <code>restart</code> and then click on <code>Lean: Restart</code>?</p>
<p>Independent of that, if you get to a terminal by pulling up on the blue bar at the bottom and then clicking on "TERMINAL", and then type <code>ls src/data/option/*</code>, what does the output say?</p>



<a name="236748271"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236748271" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Douglas Lewan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236748271">(Apr 29 2021 at 21:16)</a>:</h4>
<p>If  I restart, then I get the same results (many disturbing messages).<br>
Here's the listing you asked for:<br>
    lean@debian2019:~/src/expt/lean/tutorials$ ls src/data/option/*<br>
    ls: cannot access 'src/data/option/*': No such file or directory<br>
    lean@debian2019:~/src/expt/lean/tutorials$<br>
I'm guessing that that's not a good thing. It certainly suggests that I've missed something. Shouldn't the leanproject install have dealt with this?</p>



<a name="236749651"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236749651" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236749651">(Apr 29 2021 at 21:23)</a>:</h4>
<p>Since you're working in the tutorials project and not mathlib, try <code>ls _target/deps/mathlib/src/data/option/*</code>.</p>



<a name="236754833"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236754833" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Douglas Lewan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236754833">(Apr 29 2021 at 22:07)</a>:</h4>
<p>OK, I've done that; here are the results:<br>
lean@debian2019:~/src/expt/lean/tutorials$ ls _target/deps/mathlib/src/data/option/*<br>
_target/deps/mathlib/src/data/option/basic.lean  _target/deps/mathlib/src/data/option/defs.lean<br>
lean@debian2019:~/src/expt/lean/tutorials$ </p>
<p>That feels better. What should I make of it?</p>



<a name="236756174"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236756174" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236756174">(Apr 29 2021 at 22:20)</a>:</h4>
<p>Well we've located your problem, at least. I would delete the tutorials directly completely, get it again using <code>leanproject</code> and then check the output for errors. You don't have any <code>olean</code> files.</p>



<a name="236758499"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236758499" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236758499">(Apr 29 2021 at 22:42)</a>:</h4>
<p>Running <code>leanproject get tutorials</code> will create a new directory <code>tutorials/</code> with everything you need, hopefully. If you see any error messages in the <code>leanproject</code> output let us know.</p>



<a name="236767311"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236767311" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Douglas Lewan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236767311">(Apr 30 2021 at 00:19)</a>:</h4>
<p>OK. I'll try again. Thanks for the attention.</p>



<a name="236768109"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236768109" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Douglas Lewan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236768109">(Apr 30 2021 at 00:28)</a>:</h4>
<p>OK. I'm trying to go bck to the beginning, or at least as far as I can. I'm starting with "elan update". That gets the following:</p>
<p>lean@debian2019:~/src/expt/lean$ elan update<br>
info: syncing channel updates for 'stable'<br>
info: latest update on stable, lean version v3.29.0<br>
info: downloading component 'lean'<br>
 10.0 MiB /  10.0 MiB (100 %)  80.0 KiB/s ETA:   0 s                <br>
info: installing component 'lean'<br>
info: checking for self-updates<br>
info: downloading self-update<br>
Error(Download(HttpStatus(404)), State { next_error: None, backtrace: InternalBacktrace { backtrace: None } })<br>
error: could not download file from '<a href="https://github.com/Kha/elan/releases/download/v1.0.2/elan-x86_64-unknown-linux-musl.tar.gz">https://github.com/Kha/elan/releases/download/v1.0.2/elan-x86_64-unknown-linux-musl.tar.gz</a>' to '/tmp/elan-update.N6Fcl7Pa3otC/elan-x86_64-unknown-linux-musl.tar.gz'<br>
info: caused by: http request returned an unsuccessful status code: 404</p>
<p>I'm guessing that a 404 is not desirable.</p>



<a name="236768647"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236768647" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236768647">(Apr 30 2021 at 00:35)</a>:</h4>
<p>Yeah, for some reason your system is looking for an option which isn't in the list here: <a href="https://github.com/leanprover/elan/releases/tag/v1.0.2">https://github.com/leanprover/elan/releases/tag/v1.0.2</a></p>



<a name="236768654"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236768654" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236768654">(Apr 30 2021 at 00:35)</a>:</h4>
<p>cc <span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span></p>



<a name="236768978"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236768978" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236768978">(Apr 30 2021 at 00:40)</a>:</h4>
<p><span class="user-mention" data-user-id="408577">@Douglas Lewan</span>, what do you get from <code>uname -s</code> and <code>uname -m</code>?</p>



<a name="236769150"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236769150" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Douglas Lewan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236769150">(Apr 30 2021 at 00:42)</a>:</h4>
<p>lean@debian2019:~/src/expt/lean$ uname -s<br>
Linux<br>
lean@debian2019:~/src/expt/lean$ uname -m<br>
x86_64<br>
lean@debian2019:~/src/expt/lean$ <br>
Is that really intereting?</p>



<a name="236769361"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236769361" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Douglas Lewan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236769361">(Apr 30 2021 at 00:45)</a>:</h4>
<p>OK, I went looking on github at <a href="https://github.com/leanprover/elan/releases/tag/v1.0.2">https://github.com/leanprover/elan/releases/tag/v1.0.2</a>. It looks reasonable to me. In particular, it looks like the link that elan wants is there. What am I missing?</p>



<a name="236769509"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236769509" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236769509">(Apr 30 2021 at 00:47)</a>:</h4>
<p>The mystery is why it is looking for  <code>https://github.com/Kha/elan/releases/download/v1.0.2/elan-x86_64-unknown-linux-musl.tar.gz</code>, rather than <code>linux-gnu</code>.</p>



<a name="236769630"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236769630" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236769630">(Apr 30 2021 at 00:49)</a>:</h4>
<p>It's a bit strange. On e.g. distributions like alpine, it would be reasonable for it to be looking for the <code>musl</code> version (and then to complain that that is missing). But you're on a perfectly normal looking debian from what you've said, so it should be looking for the <code>gnu</code> version.</p>



<a name="236769976"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236769976" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236769976">(Apr 30 2021 at 00:54)</a>:</h4>
<p>Maybe delete the entirety of your <code>~/.elan</code> directory, and start fresh?</p>



<a name="236769986"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236769986" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236769986">(Apr 30 2021 at 00:54)</a>:</h4>
<p>(by installing elan again: <code>curl https://raw.githubusercontent.com/leanprover/elan/master/elan-init.sh -sSf | sh</code>)</p>



<a name="236770261"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236770261" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Douglas Lewan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236770261">(Apr 30 2021 at 00:59)</a>:</h4>
<p>I'm more than happy to push things back yet another step, and I'm doing it now. I've deleted ~/.elan and am reinstalling it with the above curl ... | sh incantation..</p>



<a name="236773591"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236773591" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236773591">(Apr 30 2021 at 01:44)</a>:</h4>
<p>Any luck, <span class="user-mention" data-user-id="408577">@Douglas Lewan</span>?</p>



<a name="236802012"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236802012" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236802012">(Apr 30 2021 at 08:24)</a>:</h4>
<p>It looks like there was a bug in <code>elan self update</code> between 0.11.0 and 1.0.2 that would look for the wrong URL on Linux. It should be fixed now, but you will need to update manually by reinstalling if your elan is affected.</p>



<a name="236802113"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236802113" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236802113">(Apr 30 2021 at 08:25)</a>:</h4>
<p>The bug was introduced because I didn't want to break the URL for older releases. Oh well...</p>



<a name="236805896"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236805896" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Douglas Lewan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236805896">(Apr 30 2021 at 09:04)</a>:</h4>
<p>I still get an error here:<br>
lean@debian2019:~/src/expt/lean$ elan update<br>
info: syncing channel updates for 'stable'<br>
info: latest update on stable, lean version v3.29.0<br>
info: checking for self-updates<br>
info: downloading self-update<br>
Error(Download(HttpStatus(404)), State { next_error: None, backtrace: InternalBacktrace { backtrace: None } })<br>
error: could not download file from '<a href="https://github.com/leanprover/elan/releases/download/v1.0.3/elan-x86_64-unknown-linux-musl.tar.gz">https://github.com/leanprover/elan/releases/download/v1.0.3/elan-x86_64-unknown-linux-musl.tar.gz</a>' to '/tmp/elan-update.1j5fOI1SOl2v/elan-x86_64-unknown-linux-musl.tar.gz'<br>
info: caused by: http request returned an unsuccessful status code: 404</p>



<a name="236805944"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236805944" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236805944">(Apr 30 2021 at 09:05)</a>:</h4>
<p>Yeah, you need to reinstall <code>elan</code> with the instruction from the second point here: <a href="https://leanprover-community.github.io/install/debian_details.html">https://leanprover-community.github.io/install/debian_details.html</a></p>



<a name="236819197"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236819197" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Douglas Lewan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236819197">(Apr 30 2021 at 11:14)</a>:</h4>
<p>OK, I've removed and re-installed elan. I've tried re-installing the tutorials project. I still get the following error:<br>
Unknown archive format '/home/lean/.mathlib/95260613e481c2571df45c3961d491821f147dd8.tar.xz'<br>
I could unpack that archive; it looks like it should be unpacked in .../tutorials. Should it?<br>
I've looked at the source for leanproject and it invokes python magic that I don't understand..<br>
Would unpacking that archive be the last step? If so, I'll do it. If not, how do I glean what other intermediate steps I should go through.</p>



<a name="236822198"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236822198" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236822198">(Apr 30 2021 at 11:45)</a>:</h4>
<p>Yes, all your problems are caused by that big zipped up collection of oleans not being on your system, and that error may indicate that your version of python is too old. What does <code>python3 -- version</code> give you? Someone posted a very nice trick to persuade leanproject to use a specific version of python -- search the chat for <code>Unknown archive format</code> and you'll find a couple of people struggling with this for which a python upgrade fixed the problem.</p>



<a name="236825032"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236825032" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Douglas Lewan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236825032">(Apr 30 2021 at 12:14)</a>:</h4>
<p>python3 --version gives me 3.9.4. It was built from source. That seems to be the most recent stable version.<br>
Rather than mucking about, possibly corrupting the target system, with adding new versions of python, it strikes me that a simpler solution would be to install a ".tar" archive instead of a ".tar.xz" archive.<br>
Again, I'll ask, can I simply unpack that archive (under .../tutorials)? Or is there more?</p>



<a name="236825317"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236825317" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236825317">(Apr 30 2021 at 12:17)</a>:</h4>
<p>So, you can just unpack that archive (someone... we'll have to investigate to know for sure, as all of us just use the tooling!). I think we're all hesitant to recommend it as this is a step that has to be done regularly (every time you want to move to a new version of mathlib --- mathlib updates many times a day!).</p>



<a name="236825413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236825413" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236825413">(Apr 30 2021 at 12:18)</a>:</h4>
<p>We'd also like to work out the root cause of your problem. It may be that you have an unusual system (the fact that you have python built from source suggests so :-), or it may be a problem in the tooling, which we'd like to fix.</p>



<a name="236825671"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236825671" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236825671">(Apr 30 2021 at 12:20)</a>:</h4>
<p>(And regarding why it is a <code>.tar.xz</code>, rather than just a <code>.tar</code>: this is a file that many of us who hack on mathlib download <em>many</em> times a day as part of our workflow.)</p>



<a name="236825688"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236825688" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236825688">(Apr 30 2021 at 12:20)</a>:</h4>
<p>It's python3 pre about 3.5 which was problematic. If you've built from source then do you have this lzma module installed or whatever it's called? I urge you to search out the recent thread on all this.</p>



<a name="236825788"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236825788" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236825788">(Apr 30 2021 at 12:21)</a>:</h4>
<p><a href="#narrow/stream/113489-new-members/topic/Issue.20of.20Installation.20on.20generic.20Linux/near/236372684">https://leanprover.zulipchat.com/#narrow/stream/113489-new-members/topic/Issue.20of.20Installation.20on.20generic.20Linux/near/236372684</a></p>



<a name="236825859"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236825859" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236825859">(Apr 30 2021 at 12:22)</a>:</h4>
<p>The thread is <a href="#narrow/stream/113489-new-members/topic/Issue.20of.20Installation.20on.20generic.20Linux">https://leanprover.zulipchat.com/#narrow/stream/113489-new-members/topic/Issue.20of.20Installation.20on.20generic.20Linux</a></p>



<a name="236826096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236826096" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236826096">(Apr 30 2021 at 12:24)</a>:</h4>
<p>Kunhao Zheng's last message on that thread is almost certainly your problem.</p>



<a name="236855977"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236855977" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kunhao Zheng <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236855977">(Apr 30 2021 at 15:42)</a>:</h4>
<p>If you cannot import lzma when in your python environment, that is exactly the same problem as mine. <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span> Rebuilding your python (with lzma installed) or getting another one should get away with that.</p>



<a name="236862594"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236862594" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Douglas Lewan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236862594">(Apr 30 2021 at 16:27)</a>:</h4>
<p>@Scott Morrison, No luck yet. I've stopped using python3 3.9.4 and going back to the 3.5.3, the version supplied by Debian.<br>
I tried installing python-lzma, but it looks like that only applies to python &lt; 3. python3 3.5.3 continues to complain about an "unknown archive format".<br>
So, I've gone back to using python3 3.9.4<br>
I've been combing through its code and installation and I do find /usr/local/lib/python3.9/lzma.py, which I assume can be found and loaded. (Is "loaded" the right word in python? I've had very little interaction with python.)<br>
I've also installed the lzma and lzma-dev packages from Debian. I'm currently rebuilding python3 3.9.4. The test code mentions .tar.xz files, but does say that those tests depend on the presence of lzma.<br>
I'll let you know how things work out.</p>



<a name="236868905"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236868905" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Douglas Lewan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236868905">(Apr 30 2021 at 17:09)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> <span class="user-mention" data-user-id="408484">@Kunhao Zheng</span> <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> <br>
Rebilding python3 with lzma support did the trick.<br>
Thanks to everyone for all the help.<br>
Now, on to more interesting issues (I hope).</p>



<a name="236878717"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236878717" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236878717">(Apr 30 2021 at 18:14)</a>:</h4>
<p><span class="user-mention" data-user-id="408577">@Douglas Lewan</span>  I'm sorry it took you so long to get started. Lean is a project and not a finished product, and the community has worked hard to try and make the installation process as painless as possible, but unfortunately it still involves pain for some. If it's any consolation, this part is by far the most boring part, and if you can get the tutorial project running then our general experience is that you won't run into any more infrastructure issues -- the tutorial project is complex from an infrastructure point of view -- it has mathlib as a dependency, for example. If you can run it, you should now be able to run anything.</p>



<a name="236879925"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236879925" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Douglas Lewan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236879925">(Apr 30 2021 at 18:22)</a>:</h4>
<p>Thanks. And I understand.<br>
The spirit behind the GNU autoconf project might also be worth considering, although I have no idea how you would build a test in python to catch the .tar.xz issue. Python's test code may give a hint.<br>
I've already started looking at the tutorial code. A "Nebenprojekt" (What's the right english word?) will be learning the documentation system and how to walk available modules. My experience has been that learning how a language's documentation works is one of the hardest parts to learning that language.</p>



<a name="236882515"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236882515" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236882515">(Apr 30 2021 at 18:40)</a>:</h4>
<p>I assume we can make leanproject emit a better diagnostic message for this problem without too much work</p>



<a name="236900313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236900313" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236900313">(Apr 30 2021 at 20:57)</a>:</h4>
<p>I am very curious about this new trend. Can people explain why they choose to compile python instead of using prebuilt python? I can vaguely imagine people who would want a stripped down standard library for some reason, but here you seem surprised to discover you are missing part of the standard library. What's the story?</p>



<a name="236913678"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/236913678" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#236913678">(Apr 30 2021 at 22:45)</a>:</h4>
<p>I've been in that position before when using a shared-usage linux machine to which I don't have sudo access, and on which the system python is way too out of date.</p>



<a name="237921791"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/237921791" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#237921791">(May 08 2021 at 03:54)</a>:</h4>
<p>The error described in this thread happens pretty often to me while I am editing mathlib in VSCode. Seemingly out of nowhere, I get a error on every lemma on every file I open which says <br>
<code>excessive memory consumption detected at 'replace' (potential solution: increase memory consumption threshold)</code></p>
<p>Restarting lean does not fix the problem. My other troubleshooting routine is to run <code>leanproject get-mathlib-cache</code> which gives me <code>failed to fetch mathlib oleans</code>. When I run <code>lean --make src</code> it seems to go off without a hitch. I can't discern any pattern in what causes this to start happening. Is the takeaway from this thread that I should try to reinstall elan?</p>



<a name="237921865"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/237921865" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#237921865">(May 08 2021 at 03:56)</a>:</h4>
<p>An interesting observation: restarting VSCode itself seems to fix the issue</p>



<a name="237935984"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Distubing%20messages%20on%20start%20up/near/237935984" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Distubing.20messages.20on.20start.20up.html#237935984">(May 08 2021 at 07:59)</a>:</h4>
<p>Failed to fetch mathlib oleans just means that the mathlib commit you're working on isn't in the collection of compiled oleans that GitHub makes. It's easy to make that happen, eg edit a file in mathlib and then commit locally without pushing and waiting a few hours</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>