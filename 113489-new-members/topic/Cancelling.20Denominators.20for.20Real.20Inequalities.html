---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Cancelling.20Denominators.20for.20Real.20Inequalities.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cancelling.20Denominators.20for.20Real.20Inequalities.html">Cancelling Denominators for Real Inequalities</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="299504328"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cancelling%20Denominators%20for%20Real%20Inequalities/near/299504328" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ayush Agrawal <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cancelling.20Denominators.20for.20Real.20Inequalities.html#299504328">(Sep 19 2022 at 05:45)</a>:</h4>
<p>I am trying to prove a simple lemma:<br>
<code>theorem cancel_denom {a b c : ℝ} (ha : 0 &lt; a) (hb : 0 &lt; b) (hc : 0 &lt; c) (h : (a / (a+b+c) ≥ b / (a+b+c)) ) : a ≥ b :=</code></p>
<p>I tried using <code>div_le_div_iff_right</code>, however, I am not able to provide correct arguments. Can anyone please help?</p>



<a name="299507234"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cancelling%20Denominators%20for%20Real%20Inequalities/near/299507234" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cancelling.20Denominators.20for.20Real.20Inequalities.html#299507234">(Sep 19 2022 at 06:16)</a>:</h4>
<p>Can you please post a <a href="https://leanprover-community.github.io/mwe.html">#mwe</a> and be more specific about what you tried/what errors you gave?</p>



<a name="299507242"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cancelling%20Denominators%20for%20Real%20Inequalities/near/299507242" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cancelling.20Denominators.20for.20Real.20Inequalities.html#299507242">(Sep 19 2022 at 06:16)</a>:</h4>
<p>Then we can probably give you more helpful feedback.</p>



<a name="299512766"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cancelling%20Denominators%20for%20Real%20Inequalities/near/299512766" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ayush Agrawal <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cancelling.20Denominators.20for.20Real.20Inequalities.html#299512766">(Sep 19 2022 at 07:10)</a>:</h4>
<p>I tried these:<br>
Trial 1: using <code>div_le_div_iff_right</code></p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.real.basic</span>

<span class="kd">theorem</span> <span class="n">cancel_denom</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="o">}</span> <span class="o">(</span><span class="n">ha</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">a</span><span class="o">)</span> <span class="o">(</span><span class="n">hb</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">b</span><span class="o">)</span> <span class="o">(</span><span class="n">hc</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">c</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span> <span class="bp">/</span> <span class="o">(</span><span class="n">a</span><span class="bp">+</span><span class="n">b</span><span class="bp">+</span><span class="n">c</span><span class="o">)</span> <span class="bp">≥</span> <span class="n">b</span> <span class="bp">/</span> <span class="o">(</span><span class="n">a</span><span class="bp">+</span><span class="n">b</span><span class="bp">+</span><span class="n">c</span><span class="o">))</span> <span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">≥</span> <span class="n">b</span> <span class="o">:=</span>
<span class="kd">begin</span>
      <span class="k">have</span> <span class="n">h1</span> <span class="o">:</span> <span class="n">_</span> <span class="bp">≤</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">h</span><span class="o">,</span>
      <span class="k">have</span> <span class="n">h2</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">≤</span> <span class="n">a</span> <span class="bp">↔</span> <span class="n">a</span> <span class="bp">≥</span> <span class="n">b</span><span class="o">,</span><span class="k">from</span> <span class="kd">by</span> <span class="o">{</span><span class="n">simp</span><span class="o">},</span>
      <span class="n">rw</span> <span class="bp">←</span> <span class="n">h2</span><span class="o">,</span>
      <span class="k">have</span> <span class="n">habc</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">c</span><span class="o">),</span> <span class="k">from</span> <span class="kd">by</span> <span class="o">{</span><span class="n">linarith</span><span class="o">},</span>
      <span class="n">rw</span> <span class="o">(</span><span class="n">div_le_div_iff_right</span> <span class="n">habc</span><span class="o">),</span>
<span class="kd">end</span>
</code></pre></div>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code>      <span class="c">/-</span><span class="cm"></span>
<span class="cm">      type mismatch at application</span>
<span class="cm">        div_le_div_iff_right habc</span>
<span class="cm">      term</span>
<span class="cm">        habc</span>
<span class="cm">      has type</span>
<span class="cm">        0 &lt; a + b + c : Prop</span>
<span class="cm">      but is expected to have type</span>
<span class="cm">        ?m_1 : Type ?</span>
<span class="cm">      state:</span>
<span class="cm">      a b c : ℝ,</span>
<span class="cm">      ha : 0 &lt; a,</span>
<span class="cm">      hb : 0 &lt; b,</span>
<span class="cm">      hc : 0 &lt; c,</span>
<span class="cm">      h : a / (a + b + c) ≥ b / (a + b + c),</span>
<span class="cm">      h1 : b / (a + b + c) ≤ a / (a + b + c),</span>
<span class="cm">      h2 : b ≤ a ↔ a ≥ b,</span>
<span class="cm">      habc : 0 &lt; a + b + c</span>
<span class="cm">      ⊢ b ≤ a</span>
<span class="cm">      -/</span>
</code></pre></div>
<p>Trial 2: Using <code>cancel_denoms</code></p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.real.basic</span>
<span class="kd">theorem</span> <span class="n">cancel_denom2</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="o">}</span> <span class="o">(</span><span class="n">ha</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">a</span><span class="o">)</span> <span class="o">(</span><span class="n">hb</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">b</span><span class="o">)</span> <span class="o">(</span><span class="n">hc</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">c</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span> <span class="bp">/</span> <span class="o">(</span><span class="n">a</span><span class="bp">+</span><span class="n">b</span><span class="bp">+</span><span class="n">c</span><span class="o">)</span> <span class="bp">≥</span> <span class="n">b</span> <span class="bp">/</span> <span class="o">(</span><span class="n">a</span><span class="bp">+</span><span class="n">b</span><span class="bp">+</span><span class="n">c</span><span class="o">))</span> <span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">≥</span> <span class="n">b</span> <span class="o">:=</span>
<span class="kd">begin</span>

 <span class="k">have</span> <span class="n">habc</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">c</span><span class="o">),</span> <span class="k">from</span> <span class="kd">by</span> <span class="o">{</span><span class="n">linarith</span><span class="o">},</span>
 <span class="n">cancel_denoms</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code> <span class="c">/-</span><span class="cm"></span>
<span class="cm"> a b c : ℝ,</span>
<span class="cm"> ha : 0 &lt; a,</span>
<span class="cm"> hb : 0 &lt; b,</span>
<span class="cm"> hc : 0 &lt; c,</span>
<span class="cm"> h : a / (a + b + c) ≥ b / (a + b + c),</span>
<span class="cm"> habc : 0 &lt; a + b + c</span>
<span class="cm"> ⊢ b ≤ a</span>
<span class="cm"> -/</span>
</code></pre></div>
<p>Trial 3: Using <code>div_le_div_iff_right</code> and few more arguments:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.real.basic</span>
<span class="kd">theorem</span> <span class="n">cancel_denom</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="o">}</span> <span class="o">(</span><span class="n">ha</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">a</span><span class="o">)</span> <span class="o">(</span><span class="n">hb</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">b</span><span class="o">)</span> <span class="o">(</span><span class="n">hc</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">c</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span> <span class="bp">/</span> <span class="o">(</span><span class="n">a</span><span class="bp">+</span><span class="n">b</span><span class="bp">+</span><span class="n">c</span><span class="o">)</span> <span class="bp">≥</span> <span class="n">b</span> <span class="bp">/</span> <span class="o">(</span><span class="n">a</span><span class="bp">+</span><span class="n">b</span><span class="bp">+</span><span class="n">c</span><span class="o">))</span> <span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">≥</span> <span class="n">b</span> <span class="o">:=</span>
<span class="kd">begin</span>
      <span class="k">have</span> <span class="n">h1</span> <span class="o">:</span> <span class="n">_</span> <span class="bp">≤</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">h</span><span class="o">,</span>
      <span class="k">have</span> <span class="n">h2</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">≤</span> <span class="n">a</span> <span class="bp">↔</span> <span class="n">a</span> <span class="bp">≥</span> <span class="n">b</span><span class="o">,</span><span class="k">from</span> <span class="kd">by</span> <span class="o">{</span><span class="n">simp</span><span class="o">},</span>
      <span class="n">rw</span> <span class="bp">←</span> <span class="n">h2</span><span class="o">,</span>
      <span class="k">have</span> <span class="n">habc</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">c</span><span class="o">),</span> <span class="k">from</span> <span class="kd">by</span> <span class="o">{</span><span class="n">linarith</span><span class="o">},</span>
      <span class="n">rw</span> <span class="o">(</span><span class="bp">@</span><span class="n">div_le_div_iff_right</span> <span class="n">ℝ</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">b</span> <span class="n">a</span> <span class="n">habc</span><span class="o">),</span>
<span class="kd">end</span>
</code></pre></div>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c">/-</span><span class="cm"></span>
<span class="cm">      failed to synthesize type class instance for</span>
<span class="cm">      a b c : ℝ,</span>
<span class="cm">      ha : 0 &lt; a,</span>
<span class="cm">      hb : 0 &lt; b,</span>
<span class="cm">      hc : 0 &lt; c,</span>
<span class="cm">      h : a / (a + b + c) ≥ b / (a + b + c),</span>
<span class="cm">      h1 : b / (a + b + c) ≤ a / (a + b + c),</span>
<span class="cm">      h2 : b ≤ a ↔ a ≥ b,</span>
<span class="cm">      habc : 0 &lt; a + b + c</span>
<span class="cm">      ⊢ group ℝ</span>
<span class="cm">      state:</span>
<span class="cm">      a b c : ℝ,</span>
<span class="cm">      ha : 0 &lt; a,</span>
<span class="cm">      hb : 0 &lt; b,</span>
<span class="cm">      hc : 0 &lt; c,</span>
<span class="cm">      h : a / (a + b + c) ≥ b / (a + b + c),</span>
<span class="cm">      h1 : b / (a + b + c) ≤ a / (a + b + c),</span>
<span class="cm">      h2 : b ≤ a ↔ a ≥ b,</span>
<span class="cm">      habc : 0 &lt; a + b + c</span>
<span class="cm">      ⊢ b ≤ a</span>
<span class="cm">      -/</span>
</code></pre></div>



<a name="299516427"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cancelling%20Denominators%20for%20Real%20Inequalities/near/299516427" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cancelling.20Denominators.20for.20Real.20Inequalities.html#299516427">(Sep 19 2022 at 07:41)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/div_le_div_iff_right">docs#div_le_div_iff_right</a></p>



<a name="299516492"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cancelling%20Denominators%20for%20Real%20Inequalities/near/299516492" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cancelling.20Denominators.20for.20Real.20Inequalities.html#299516492">(Sep 19 2022 at 07:42)</a>:</h4>
<p>That last trial is a good one.</p>



<a name="299516507"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cancelling%20Denominators%20for%20Real%20Inequalities/near/299516507" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cancelling.20Denominators.20for.20Real.20Inequalities.html#299516507">(Sep 19 2022 at 07:42)</a>:</h4>
<p>It claims it can't find <code>group \R</code>. Which makes sense.</p>



<a name="299516526"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cancelling%20Denominators%20for%20Real%20Inequalities/near/299516526" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cancelling.20Denominators.20for.20Real.20Inequalities.html#299516526">(Sep 19 2022 at 07:42)</a>:</h4>
<p>So it is a hint that this is not the right lemma.</p>



<a name="299516606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cancelling%20Denominators%20for%20Real%20Inequalities/near/299516606" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cancelling.20Denominators.20for.20Real.20Inequalities.html#299516606">(Sep 19 2022 at 07:43)</a>:</h4>
<p>Instead, you want <a href="https://leanprover-community.github.io/mathlib_docs/find/div_le_div">docs#div_le_div</a>_right₀</p>



<a name="299534080"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cancelling%20Denominators%20for%20Real%20Inequalities/near/299534080" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ayush Agrawal <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cancelling.20Denominators.20for.20Real.20Inequalities.html#299534080">(Sep 19 2022 at 09:54)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="112680">@Johan Commelin</span> <br>
I tried this but faced the similar issue:<br>
Trial 4: using <code>div_le_div_right₀</code></p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">cancel_denom</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="o">}</span> <span class="o">(</span><span class="n">ha</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">a</span><span class="o">)</span> <span class="o">(</span><span class="n">hb</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">b</span><span class="o">)</span> <span class="o">(</span><span class="n">hc</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">c</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span> <span class="bp">/</span> <span class="o">(</span><span class="n">a</span><span class="bp">+</span><span class="n">b</span><span class="bp">+</span><span class="n">c</span><span class="o">)</span> <span class="bp">≥</span> <span class="n">b</span> <span class="bp">/</span> <span class="o">(</span><span class="n">a</span><span class="bp">+</span><span class="n">b</span><span class="bp">+</span><span class="n">c</span><span class="o">))</span> <span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">≥</span> <span class="n">b</span> <span class="o">:=</span>
<span class="kd">begin</span>
      <span class="k">have</span> <span class="n">h1</span> <span class="o">:</span> <span class="n">_</span> <span class="bp">≤</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">h</span><span class="o">,</span>
      <span class="k">have</span> <span class="n">h2</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">≤</span> <span class="n">a</span> <span class="bp">↔</span> <span class="n">a</span> <span class="bp">≥</span> <span class="n">b</span><span class="o">,</span><span class="k">from</span> <span class="kd">by</span> <span class="o">{</span><span class="n">simp</span><span class="o">},</span>
      <span class="n">rw</span> <span class="bp">←</span> <span class="n">h2</span><span class="o">,</span>
      <span class="k">have</span> <span class="n">habc</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">c</span><span class="o">)</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">,</span> <span class="k">from</span> <span class="kd">by</span> <span class="o">{</span><span class="n">linarith</span><span class="o">},</span>
      <span class="n">rw</span> <span class="o">(</span><span class="bp">@</span><span class="n">div_le_div_right₀</span> <span class="n">ℝ</span> <span class="n">b</span> <span class="n">a</span> <span class="o">(</span><span class="n">a</span><span class="bp">+</span><span class="n">b</span><span class="bp">+</span><span class="n">c</span><span class="o">)</span> <span class="n">_</span> <span class="n">habc</span><span class="o">),</span>
<span class="kd">end</span>
</code></pre></div>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code>      <span class="c">/-</span><span class="cm"></span>
<span class="cm">      failed to synthesize type class instance for</span>
<span class="cm">      a b c : ℝ,</span>
<span class="cm">      ha : 0 &lt; a,</span>
<span class="cm">      hb : 0 &lt; b,</span>
<span class="cm">      hc : 0 &lt; c,</span>
<span class="cm">      h : a / (a + b + c) ≥ b / (a + b + c),</span>
<span class="cm">      h1 : b / (a + b + c) ≤ a / (a + b + c),</span>
<span class="cm">      h2 : b ≤ a ↔ a ≥ b,</span>
<span class="cm">      habc : a + b + c ≠ 0</span>
<span class="cm">      ⊢ linear_ordered_comm_group_with_zero ℝ</span>
<span class="cm">      state:</span>
<span class="cm">      a b c : ℝ,</span>
<span class="cm">      ha : 0 &lt; a,</span>
<span class="cm">      hb : 0 &lt; b,</span>
<span class="cm">      hc : 0 &lt; c,</span>
<span class="cm">      h : a / (a + b + c) ≥ b / (a + b + c),</span>
<span class="cm">      h1 : b / (a + b + c) ≤ a / (a + b + c),</span>
<span class="cm">      h2 : b ≤ a ↔ a ≥ b,</span>
<span class="cm">      habc : a + b + c ≠ 0</span>
<span class="cm">      ⊢ b ≤ a</span>
<span class="cm">      -/</span>
</code></pre></div>



<a name="299534793"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cancelling%20Denominators%20for%20Real%20Inequalities/near/299534793" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cancelling.20Denominators.20for.20Real.20Inequalities.html#299534793">(Sep 19 2022 at 09:59)</a>:</h4>
<p>A <code>linear_ordered_comm_group_with_zero</code> is a group with a zero adjoined that's less than everything in the group. For example, the nonnegative reals or the nonnegative rationals. This is not the case of <code>ℝ</code>, however.</p>



<a name="299535086"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cancelling%20Denominators%20for%20Real%20Inequalities/near/299535086" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cancelling.20Denominators.20for.20Real.20Inequalities.html#299535086">(Sep 19 2022 at 10:01)</a>:</h4>
<p>Oh yeah, (a + b + c) ≠ 0 can't be enough</p>



<a name="299535394"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cancelling%20Denominators%20for%20Real%20Inequalities/near/299535394" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cancelling.20Denominators.20for.20Real.20Inequalities.html#299535394">(Sep 19 2022 at 10:03)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/div_le_div_right">docs#div_le_div_right</a></p>



<a name="299535539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cancelling%20Denominators%20for%20Real%20Inequalities/near/299535539" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cancelling.20Denominators.20for.20Real.20Inequalities.html#299535539">(Sep 19 2022 at 10:05)</a>:</h4>
<div class="spoiler-block"><div class="spoiler-header">
</div><div class="spoiler-content" aria-hidden="true">
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.real.basic</span>

<span class="kd">theorem</span> <span class="n">cancel_denom</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">}</span>
  <span class="o">(</span><span class="n">ha</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">a</span><span class="o">)</span> <span class="o">(</span><span class="n">hb</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">b</span><span class="o">)</span> <span class="o">(</span><span class="n">hc</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">c</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span> <span class="bp">/</span> <span class="o">(</span><span class="n">a</span><span class="bp">+</span><span class="n">b</span><span class="bp">+</span><span class="n">c</span><span class="o">)</span> <span class="bp">≥</span> <span class="n">b</span> <span class="bp">/</span> <span class="o">(</span><span class="n">a</span><span class="bp">+</span><span class="n">b</span><span class="bp">+</span><span class="n">c</span><span class="o">))</span> <span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">≥</span> <span class="n">b</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="n">ge_iff_le</span> <span class="n">at</span> <span class="bp">*</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">habc</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">c</span><span class="o">),</span>
  <span class="o">{</span> <span class="n">linarith</span> <span class="o">},</span>
  <span class="n">exact</span> <span class="o">(</span><span class="n">div_le_div_right</span> <span class="n">habc</span><span class="o">)</span><span class="bp">.</span><span class="n">mp</span> <span class="n">h</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
</div></div>



<a name="299535569"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cancelling%20Denominators%20for%20Real%20Inequalities/near/299535569" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cancelling.20Denominators.20for.20Real.20Inequalities.html#299535569">(Sep 19 2022 at 10:05)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.real.basic</span>
<span class="kn">import</span> <span class="n">tactic.positivity</span>

<span class="kd">theorem</span> <span class="n">cancel_denom</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">}</span> <span class="o">(</span><span class="n">ha</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">a</span><span class="o">)</span> <span class="o">(</span><span class="n">hb</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">b</span><span class="o">)</span> <span class="o">(</span><span class="n">hc</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">c</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">/</span> <span class="o">(</span><span class="n">a</span><span class="bp">+</span><span class="n">b</span><span class="bp">+</span><span class="n">c</span><span class="o">)</span> <span class="bp">≥</span> <span class="n">b</span> <span class="bp">/</span> <span class="o">(</span><span class="n">a</span><span class="bp">+</span><span class="n">b</span><span class="bp">+</span><span class="n">c</span><span class="o">))</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">≥</span> <span class="n">b</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">div_le_div_right</span> <span class="bp">$</span> <span class="kd">by</span> <span class="n">positivity</span><span class="o">)</span><span class="bp">.</span><span class="mi">1</span> <span class="n">h</span>
</code></pre></div>



<a name="299536283"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cancelling%20Denominators%20for%20Real%20Inequalities/near/299536283" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ayush Agrawal <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cancelling.20Denominators.20for.20Real.20Inequalities.html#299536283">(Sep 19 2022 at 10:10)</a>:</h4>
<p>Thanks alot <span class="user-mention" data-user-id="307953">@Ruben Van de Velde</span>  and <span class="user-mention" data-user-id="387244">@Yaël Dillies</span>.</p>



<a name="299537996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cancelling%20Denominators%20for%20Real%20Inequalities/near/299537996" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cancelling.20Denominators.20for.20Real.20Inequalities.html#299537996">(Sep 19 2022 at 10:23)</a>:</h4>
<p><span class="user-mention" data-user-id="439607">@Ayush Agrawal</span> Whoops, my bad. Sorry for giving wrong advice.</p>



<a name="299538281"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cancelling%20Denominators%20for%20Real%20Inequalities/near/299538281" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cancelling.20Denominators.20for.20Real.20Inequalities.html#299538281">(Sep 19 2022 at 10:25)</a>:</h4>
<p>It's a bit misleading that a <code>linear_ordered_comm_group_with_zero</code> is a <code>linear_ordered_comm_group</code> with zero but not a linear ordered <code>comm_group_with_zero</code> <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span></p>



<a name="299538452"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cancelling%20Denominators%20for%20Real%20Inequalities/near/299538452" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cancelling.20Denominators.20for.20Real.20Inequalities.html#299538452">(Sep 19 2022 at 10:26)</a>:</h4>
<p>I guess I'm to blame for that <span aria-label="see no evil" class="emoji emoji-1f648" role="img" title="see no evil">:see_no_evil:</span></p>



<a name="299538531"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cancelling%20Denominators%20for%20Real%20Inequalities/near/299538531" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ayush Agrawal <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cancelling.20Denominators.20for.20Real.20Inequalities.html#299538531">(Sep 19 2022 at 10:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/113489-new-members/topic/Cancelling.20Denominators.20for.20Real.20Inequalities/near/299537996">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="439607">Ayush Agrawal</span> Whoops, my bad. Sorry for giving wrong advice.</p>
</blockquote>
<p>No problem at all! I got to see this aspect more clearly so thanks.</p>



<a name="299538543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cancelling%20Denominators%20for%20Real%20Inequalities/near/299538543" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cancelling.20Denominators.20for.20Real.20Inequalities.html#299538543">(Sep 19 2022 at 10:27)</a>:</h4>
<p>Apparently, it's Kenny: <a href="https://github.com/leanprover-community/mathlib/pull/3072">#3072</a></p>



<a name="299538694"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cancelling%20Denominators%20for%20Real%20Inequalities/near/299538694" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cancelling.20Denominators.20for.20Real.20Inequalities.html#299538694">(Sep 19 2022 at 10:28)</a>:</h4>
<p>Sure, but he ported from the perfectoid project.</p>



<a name="299538741"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cancelling%20Denominators%20for%20Real%20Inequalities/near/299538741" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Cancelling.20Denominators.20for.20Real.20Inequalities.html#299538741">(Sep 19 2022 at 10:29)</a>:</h4>
<p>I guess you're to blame for that, then <span aria-label="see no evil" class="emoji emoji-1f648" role="img" title="see no evil">:see_no_evil:</span></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>