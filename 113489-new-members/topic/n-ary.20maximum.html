---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/n-ary.20maximum.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/n-ary.20maximum.html">n-ary maximum</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="247554646"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/n-ary%20maximum/near/247554646" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Horatiu Cheval <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/n-ary.20maximum.html#247554646">(Jul 29 2021 at 08:03)</a>:</h4>
<p>What's the recommended way of saying "the maximum of n numbers", for example in the form of a function <code>list nat -&gt; nat</code>?<br>
I thought about doing <code>l.maximum.iget</code>, where <code>l : list nat</code>, but does this have a good API like <code>max</code> does? Or is there a better way?</p>



<a name="247554673"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/n-ary%20maximum/near/247554673" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/n-ary.20maximum.html#247554673">(Jul 29 2021 at 08:03)</a>:</h4>
<p>What happens when the list is empty?</p>



<a name="247554755"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/n-ary%20maximum/near/247554755" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/n-ary.20maximum.html#247554755">(Jul 29 2021 at 08:04)</a>:</h4>
<p>There is Sup of course! But this is different to max because the sup might not be in the set (when the list is empty).</p>



<a name="247555438"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/n-ary%20maximum/near/247555438" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/n-ary.20maximum.html#247555438">(Jul 29 2021 at 08:14)</a>:</h4>
<p>For finsets there's both <a href="https://leanprover-community.github.io/mathlib_docs/find/finset.max">docs#finset.max</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/finset.sup">docs#finset.sup</a></p>



<a name="247555455"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/n-ary%20maximum/near/247555455" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Horatiu Cheval <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/n-ary.20maximum.html#247555455">(Jul 29 2021 at 08:14)</a>:</h4>
<p>I know that the list is not empty, so I can provide a proof of this if needed. But I don't think it matters, with the <code>iget</code> function you will get the default inhabitant of the type and statements like <code>forall x ∈ l, x ≤ l.maximum.iget</code> should hold hold trivially by exfalso.</p>



<a name="247555528"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/n-ary%20maximum/near/247555528" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/n-ary.20maximum.html#247555528">(Jul 29 2021 at 08:15)</a>:</h4>
<p>The sup version is <code>Sup { x | x ∈ l }</code></p>



<a name="247555855"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/n-ary%20maximum/near/247555855" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Horatiu Cheval <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/n-ary.20maximum.html#247555855">(Jul 29 2021 at 08:19)</a>:</h4>
<p>But Sup is noncomputable, and <code>finset.max</code> has the same issue as <code>list.maximum</code> in that it returns an <code>option</code>.</p>



<a name="247555930"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/n-ary%20maximum/near/247555930" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Horatiu Cheval <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/n-ary.20maximum.html#247555930">(Jul 29 2021 at 08:20)</a>:</h4>
<p>Ah, but <code>finset.sup</code> is both computable and doesn't return <code>option</code>, that's what I was looking for</p>



<a name="247574954"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/n-ary%20maximum/near/247574954" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/n-ary.20maximum.html#247574954">(Jul 29 2021 at 12:16)</a>:</h4>
<p>As a stopgap (I have an upcoming PR on this), you can use list.foldr max l 0</p>



<a name="247574991"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/n-ary%20maximum/near/247574991" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/n-ary.20maximum.html#247574991">(Jul 29 2021 at 12:17)</a>:</h4>
<p>Or, over a multiset, multiset.fold max max_commutative m 0</p>



<a name="247575001"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/n-ary%20maximum/near/247575001" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/n-ary.20maximum.html#247575001">(Jul 29 2021 at 12:17)</a>:</h4>
<p>Modulo argument order, which I don't remember currently</p>



<a name="247575025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/n-ary%20maximum/near/247575025" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/n-ary.20maximum.html#247575025">(Jul 29 2021 at 12:17)</a>:</h4>
<p>There's also <a href="https://leanprover-community.github.io/mathlib_docs/find/finset.max'">docs#finset.max'</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>