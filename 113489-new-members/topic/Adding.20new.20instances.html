---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Adding.20new.20instances.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Adding.20new.20instances.html">Adding new instances</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="220130835"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Adding%20new%20instances/near/220130835" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Adding.20new.20instances.html#220130835">(Dec 16 2020 at 15:39)</a>:</h4>
<p>What is the general attitude for adding new instances? Should we add as much instances as possible or it is better to keep their number not too high (for performance reasons for example). I see that there is no <code>algebra R I.quotient</code>, where <code>I</code> is an ideal of <code>R</code>. Should I add it?</p>



<a name="220131291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Adding%20new%20instances/near/220131291" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Adding.20new.20instances.html#220131291">(Dec 16 2020 at 15:42)</a>:</h4>
<p>The rules for adding instances are more complicated than that. It comes down to how the instance affects the overall search problem. Loops are bad, more instances are bad but only very slightly; instances are organized according to their type class (in this case <code>algebra</code>), so it depends on whether there are already many instances in this class and also how many search problems for other things go via this class (I would think not many, because <code>algebra</code> already has two input arguments).</p>



<a name="220131492"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Adding%20new%20instances/near/220131492" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Adding.20new.20instances.html#220131492">(Dec 16 2020 at 15:43)</a>:</h4>
<p>The other major thing is whether there will be any competition for the things that this instance will satisfy, because non-defeq diamonds in the typeclass system are also bad</p>



<a name="220131503"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Adding%20new%20instances/near/220131503" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Adding.20new.20instances.html#220131503">(Dec 16 2020 at 15:44)</a>:</h4>
<p>This sounds like a more powerful version of <a href="https://leanprover-community.github.io/mathlib_docs/find/mul_action.quotient">docs#mul_action.quotient</a>, right?</p>



<a name="220132300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Adding%20new%20instances/near/220132300" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Adding.20new.20instances.html#220132300">(Dec 16 2020 at 15:48)</a>:</h4>
<p>Yes. It is very easy ,<code>ring_hom.to_algebra (ideal.quotient.mk I)</code> is enough. To me it seems very natural to have it, but I can write it down explicitly in my theorems of course.</p>



<a name="220133330"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Adding%20new%20instances/near/220133330" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Adding.20new.20instances.html#220133330">(Dec 16 2020 at 15:56)</a>:</h4>
<p>smul is defined as <code>a * x</code>under the quotient, right?</p>



<a name="220133941"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Adding%20new%20instances/near/220133941" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Adding.20new.20instances.html#220133941">(Dec 16 2020 at 16:01)</a>:</h4>
<p>Yes, it is  <code>(ideal.quotient.mk a) * x</code>.</p>



<a name="220134239"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Adding%20new%20instances/near/220134239" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Adding.20new.20instances.html#220134239">(Dec 16 2020 at 16:03)</a>:</h4>
<p>There is absolutely nothing deep or interesting in this particular case, I was just wondering  how to deal with missing instances that from a mathematical point of view are obvious.</p>



<a name="220134734"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Adding%20new%20instances/near/220134734" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Adding.20new.20instances.html#220134734">(Dec 16 2020 at 16:07)</a>:</h4>
<p>I only ask because I was worried that it might not be defeq to the mul_action instance</p>



<a name="220134848"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Adding%20new%20instances/near/220134848" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Adding.20new.20instances.html#220134848">(Dec 16 2020 at 16:08)</a>:</h4>
<p>Ah, I see that there are subtle problems sometimes...</p>



<a name="220136969"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Adding%20new%20instances/near/220136969" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Adding.20new.20instances.html#220136969">(Dec 16 2020 at 16:21)</a>:</h4>
<p>Although actually that's not relevant here, ideals are not quotient_groups.</p>
<p>Your instance sounds like a good ide ato me</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>