---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Curves.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html">Curves</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="207715542"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207715542" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207715542">(Aug 22 2020 at 09:10)</a>:</h4>
<p>I'd like to define curves in topology. I wish I could treat at the same time the case where the domain is any interval (close open, half close half open) as people often do in maths. My idea is to define a curve from a connected subset of the reals to the target space, so that I can give as an input every interval I want. However I do not really understand the details of the coercions between sets and subtypes, so I am not really sure this idea is feasible. Will <code>Icc</code> and <code>Ioo</code> be recognized as subsets? Does anyone see any other drawback with this approach / has suggestions?</p>



<a name="207717028"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207717028" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207717028">(Aug 22 2020 at 09:56)</a>:</h4>
<p>I guess a disadvantage of this is that one has to require connectedness as a field of the structure. Why not making a <code>class : Prop</code> for connected and compact similarly to what they did for <code>path_connected_space</code>?</p>
<div class="codehilite"><pre><span></span><code><span class="n">class</span> <span class="n">connected</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">topological_space</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">connected</span> <span class="o">:</span> <span class="n">is_connected</span> <span class="o">(</span><span class="n">univ</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">))</span>
</code></pre></div>



<a name="207717627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207717627" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207717627">(Aug 22 2020 at 10:14)</a>:</h4>
<p>(Is <code>example : is_connected (Icc (0 : ℝ) 1) := by library_search!</code> really not in mathlib? or am I doing something wrong?)</p>



<a name="207717760"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207717760" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207717760">(Aug 22 2020 at 10:19)</a>:</h4>
<p>It's not so clear that one would want such a result in a library, is it? Perhaps something about <code>Icc a b</code> if a&lt;=b but I'm not sure library_search would then find what you're asking</p>



<a name="207717916"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207717916" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207717916">(Aug 22 2020 at 10:23)</a>:</h4>
<p>I think you would want both.</p>



<a name="207717960"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207717960" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207717960">(Aug 22 2020 at 10:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/Curves/near/207717760">said</a>:</p>
<blockquote>
<p>It's not so clear that one would want such a result in a library, is it? Perhaps something about <code>Icc a b</code> if a&lt;=b but I'm not sure library_search would then find what you're asking</p>
</blockquote>
<p>I tried also with <code>a b</code> but no luck! Well I thought it would be there because it is the first example that comes to my mind of something connected!</p>



<a name="207717979"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207717979" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207717979">(Aug 22 2020 at 10:25)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="n">src</span><span class="bp">/</span><span class="n">topology</span><span class="bp">/</span><span class="n">algebra</span><span class="bp">/</span><span class="n">ordered</span><span class="bp">.</span><span class="n">lean</span><span class="o">:</span><span class="kn">lemma</span> <span class="n">is_preconnected_Icc</span> <span class="o">:</span> <span class="n">is_preconnected</span> <span class="o">(</span><span class="n">Icc</span> <span class="n">a</span> <span class="n">b</span><span class="o">)</span> <span class="o">:=</span>
</code></pre></div>



<a name="207718045"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207718045" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207718045">(Aug 22 2020 at 10:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110032">Reid Barton</span> <a href="#narrow/stream/113489-new-members/topic/Curves/near/207717979">said</a>:</p>
<blockquote>
<div class="codehilite"><pre><span></span><code><span class="n">src</span><span class="bp">/</span><span class="n">topology</span><span class="bp">/</span><span class="n">algebra</span><span class="bp">/</span><span class="n">ordered</span><span class="bp">.</span><span class="n">lean</span><span class="o">:</span><span class="kn">lemma</span> <span class="n">is_preconnected_Icc</span> <span class="o">:</span> <span class="n">is_preconnected</span> <span class="o">(</span><span class="n">Icc</span> <span class="n">a</span> <span class="n">b</span><span class="o">)</span> <span class="o">:=</span>
</code></pre></div>


</blockquote>
<p>Ok thanks! I guess to prove it is connected one just needs to add the hypothesis <code>a \leq b</code></p>



<a name="207718090"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207718090" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207718090">(Aug 22 2020 at 10:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/Curves/near/207717760">said</a>:</p>
<blockquote>
<p>It's not so clear that one would want such a result in a library, is it? Perhaps something about <code>Icc a b</code> if a&lt;=b but I'm not sure library_search would then find what you're asking</p>
</blockquote>
<p>I think it should definitely be in the library! Why do you think not?</p>



<a name="207718116"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207718116" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207718116">(Aug 22 2020 at 10:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="267205">Nicolò Cavalleri</span> <a href="#narrow/stream/113489-new-members/topic/Curves/near/207717028">said</a>:</p>
<blockquote>
<p>I guess a disadvantage of this is that one has to require connectedness as a field of the structure. Why not making a <code>class : Prop</code> for connected and compact similarly to what they did for <code>path_connected_space</code>?</p>
<div class="codehilite"><pre><span></span><code><span class="n">class</span> <span class="n">connected</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">topological_space</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">connected</span> <span class="o">:</span> <span class="n">is_connected</span> <span class="o">(</span><span class="n">univ</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">))</span>
</code></pre></div>


</blockquote>
<p><span class="user-mention" data-user-id="110032">@Reid Barton</span>  <span class="user-mention" data-user-id="110087">@Scott Morrison</span> what do you think of this class?</p>



<a name="207718161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207718161" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207718161">(Aug 22 2020 at 10:30)</a>:</h4>
<p>What's it for?</p>



<a name="207718173"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207718173" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207718173">(Aug 22 2020 at 10:30)</a>:</h4>
<p>To not look for the hypothesis of connected things every time and for consistency with <code>path_connected_space</code></p>



<a name="207718181"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207718181" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207718181">(Aug 22 2020 at 10:31)</a>:</h4>
<p>I don't have anything against classes like this (I added <code>compact_space</code> for example)</p>



<a name="207718188"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207718188" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207718188">(Aug 22 2020 at 10:31)</a>:</h4>
<p>In the case of <code>path_connected</code> you have both <code>is_path_connected</code> and <code>path_connected_space</code> and it looks great to me</p>



<a name="207718192"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207718192" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207718192">(Aug 22 2020 at 10:31)</a>:</h4>
<p>If you have a purpose for it, then sure. Probably it should be called <code>connected_space</code> though</p>



<a name="207718232"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207718232" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207718232">(Aug 22 2020 at 10:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110032">Reid Barton</span> <a href="#narrow/stream/113489-new-members/topic/Curves/near/207718192">said</a>:</p>
<blockquote>
<p>If you have a purpose for it, then sure. Probably it should be called <code>connected_space</code> though</p>
</blockquote>
<p>Sure</p>



<a name="207718234"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207718234" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207718234">(Aug 22 2020 at 10:32)</a>:</h4>
<p>since that seems to be the current convention for some reason</p>



<a name="207718241"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207718241" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207718241">(Aug 22 2020 at 10:32)</a>:</h4>
<p>Returning to the original question, I'm not sure exactly what definition you have in mind or what it's for</p>



<a name="207718298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207718298" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207718298">(Aug 22 2020 at 10:34)</a>:</h4>
<p>I'd think that, rather than just having "a continuous(?) map from some sort of interval to X", you'd want to know specifically what interval you're working with</p>



<a name="207718306"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207718306" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207718306">(Aug 22 2020 at 10:34)</a>:</h4>
<p>and at that point, you're just talking about a bundled continuous map at most</p>



<a name="207718316"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207718316" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207718316">(Aug 22 2020 at 10:34)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110032">Reid Barton</span> <a href="#narrow/stream/113489-new-members/topic/Curves/near/207718241">said</a>:</p>
<blockquote>
<p>Returning to the original question, I'm not sure exactly what definition you have in mind or what it's for</p>
</blockquote>
<p>Well the final purpose is defining complete vector fields. For this I need curves on manifolds and for this I need curves in topological spaces</p>



<a name="207718321"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207718321" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207718321">(Aug 22 2020 at 10:35)</a>:</h4>
<p>but don't you want curves indexed on some specific <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(a, b)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span></span></span></span> or <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi>ε</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(0, \varepsilon)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">ε</span><span class="mclose">)</span></span></span></span> or something</p>



<a name="207718329"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207718329" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207718329">(Aug 22 2020 at 10:35)</a>:</h4>
<p>I think this is a case where we have a word in math that isn't really useful for formalization, but maybe you have a use I don't know about</p>



<a name="207718372"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207718372" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207718372">(Aug 22 2020 at 10:36)</a>:</h4>
<p>It's a question about bundling</p>



<a name="207718375"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207718375" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207718375">(Aug 22 2020 at 10:36)</a>:</h4>
<p>Why don't you just write explicitly here the kind of definition you have in mind?</p>



<a name="207718388"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207718388" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207718388">(Aug 22 2020 at 10:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110032">Reid Barton</span> <a href="#narrow/stream/113489-new-members/topic/Curves/near/207718321">said</a>:</p>
<blockquote>
<p>but don't you want curves indexed on some specific <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(a, b)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span></span></span></span> or <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi>ε</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(0, \varepsilon)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">ε</span><span class="mclose">)</span></span></span></span> or something</p>
</blockquote>
<p>The point is that the velocity of a curve makes sense no matter if the interval is open or closed etc so I don't want to call curves just curves on open intervals or close intervals</p>



<a name="207718391"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207718391" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207718391">(Aug 22 2020 at 10:37)</a>:</h4>
<p>the domain doesn't even have to be connected then?</p>



<a name="207718393"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207718393" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207718393">(Aug 22 2020 at 10:37)</a>:</h4>
<p>but it probably shouldn't be a point etc.</p>



<a name="207718447"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207718447" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207718447">(Aug 22 2020 at 10:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110032">Reid Barton</span> <a href="#narrow/stream/113489-new-members/topic/Curves/near/207718375">said</a>:</p>
<blockquote>
<p>Why don't you just write explicitly here the kind of definition you have in mind?</p>
</blockquote>
<div class="codehilite"><pre><span></span><code><span class="bp">@</span><span class="o">[</span><span class="kn">reducible</span><span class="o">]</span> <span class="n">def</span> <span class="n">curve</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="n">set</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">[</span><span class="n">connected</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">topological_space</span> <span class="n">β</span><span class="o">]</span> <span class="o">:=</span>
  <span class="n">continuous_map</span> <span class="n">α</span> <span class="n">β</span>
</code></pre></div>



<a name="207718496"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207718496" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207718496">(Aug 22 2020 at 10:40)</a>:</h4>
<p>Right, so this is what I'm saying we have already and there is no need to also call it a "curve".</p>



<a name="207718513"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207718513" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207718513">(Aug 22 2020 at 10:41)</a>:</h4>
<p>I thought you wanted something like</p>
<div class="codehilite"><pre><span></span><code><span class="kn">structure</span> <span class="n">curve</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">topological_space</span> <span class="n">b</span><span class="o">]</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">set</span> <span class="n">R</span><span class="o">)</span>
<span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">connected</span> <span class="n">a</span><span class="o">)</span>
<span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">continuous_map</span> <span class="n">a</span> <span class="n">b</span><span class="o">)</span>
</code></pre></div>



<a name="207718520"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207718520" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207718520">(Aug 22 2020 at 10:42)</a>:</h4>
<p>and this is what I thought seemed not so useful</p>



<a name="207718769"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207718769" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207718769">(Aug 22 2020 at 10:48)</a>:</h4>
<p>About your <code>curve</code>, I'm not sure what concretely you expect to gain from making this definition. You'll still have to repeat the hypotheses <code>(α : set ℝ) [connected α] </code> everywhere you use <code>curve</code>, and then you could just write <code>continuous_map</code> instead of <code>curve</code>.</p>



<a name="207718842"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207718842" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207718842">(Aug 22 2020 at 10:50)</a>:</h4>
<p>Well in the topology case I actually do not have any particular reason, in the smooth case it's just to have a <code>curve</code> namespace to write things like <code>curve.speed</code> and use the . notation</p>



<a name="207718918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207718918" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207718918">(Aug 22 2020 at 10:52)</a>:</h4>
<p>I see</p>



<a name="207719028"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207719028" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207719028">(Aug 22 2020 at 10:56)</a>:</h4>
<p>If you want to make a new type <code>curve</code> for the purpose of <code>.</code> notation, and maybe you have other stuff to include in a structure anyways, maybe it makes sense to bundle the <code>connected</code> hypothesis on <code>α</code> in that structure too, but not the type <code>α</code> itself</p>



<a name="207719067"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207719067" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207719067">(Aug 22 2020 at 10:56)</a>:</h4>
<p>like</p>
<div class="codehilite"><pre><span></span><code><span class="kn">structure</span> <span class="n">curve&#39;</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">set</span> <span class="n">R</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">topological_space</span> <span class="n">b</span><span class="o">]</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">connected</span> <span class="n">a</span><span class="o">)</span>
<span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">continuous_map</span> <span class="n">a</span> <span class="n">b</span><span class="o">)</span>
<span class="c1">-- ... maybe more stuff ...</span>
</code></pre></div>



<a name="207719071"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207719071" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207719071">(Aug 22 2020 at 10:56)</a>:</h4>
<p>then you don't have to rely on instance search to find the <code>connected</code> hypothesis in your lemmas</p>



<a name="207719085"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207719085" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207719085">(Aug 22 2020 at 10:57)</a>:</h4>
<p>but you could make a constructor that still uses typeclass search if you wanted to, or you could decide it's not really necessary after all</p>



<a name="207719144"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207719144" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207719144">(Aug 22 2020 at 10:58)</a>:</h4>
<p>By the way, it might also be nice to have an inductive type with "codes" for all intervals, so you didn't have to rely on this somewhat indirect <code>connected</code></p>



<a name="207719161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207719161" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207719161">(Aug 22 2020 at 10:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110032">Reid Barton</span> <a href="#narrow/stream/113489-new-members/topic/Curves/near/207719071">said</a>:</p>
<blockquote>
<p>then you don't have to rely on instance search to find the <code>connected</code> hypothesis in your lemmas</p>
</blockquote>
<p>Why do you think this is better though? Since a curve (I mean this kind of curves, for complete vector fields) will always be defined on an interval, it's cooler if Lean automatically checks the interval is connected without me having to tell it where to find the proof!</p>



<a name="207719175"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207719175" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207719175">(Aug 22 2020 at 10:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110032">Reid Barton</span> <a href="#narrow/stream/113489-new-members/topic/Curves/near/207719144">said</a>:</p>
<blockquote>
<p>By the way, it might also be nice to have an inductive type with "codes" for all intervals, so you didn't have to rely on this somewhat indirect <code>connected</code></p>
</blockquote>
<p>I don't know about this! What is codes?</p>



<a name="207719177"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207719177" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207719177">(Aug 22 2020 at 10:59)</a>:</h4>
<p>It's only cooler if it actually works</p>



<a name="207719244"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207719244" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207719244">(Aug 22 2020 at 11:00)</a>:</h4>
<p>For example, there cannot be an instance for <code>is_connected (Icc a b)</code> because it needs a hypothesis <code>a &lt;= b</code>, but <code>&lt;=</code>isn't a class and the proof of <code>a &lt;= b</code> can't be recovered from just knowing <code>Icc a b</code>.</p>



<a name="207719304"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207719304" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207719304">(Aug 22 2020 at 11:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="267205">Nicolò Cavalleri</span> <a href="#narrow/stream/113489-new-members/topic/Curves/near/207719175">said</a>:</p>
<blockquote>
<p>What is codes?</p>
</blockquote>
<p>I just mean creating an inductive type</p>
<div class="codehilite"><pre><span></span><code><span class="kn">inductive</span> <span class="n">interval</span>
<span class="bp">|</span> <span class="n">Icc</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span><span class="o">)</span> <span class="o">:</span> <span class="n">interval</span>
<span class="bp">|</span> <span class="n">Ioc</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span><span class="o">)</span> <span class="o">:</span> <span class="n">interval</span>
<span class="bp">|</span> <span class="n">Ioi</span> <span class="o">(</span><span class="n">a</span><span class="o">)</span> <span class="o">:</span> <span class="n">interval</span>
<span class="bp">...</span>
</code></pre></div>


<p>and then defining the interpretation as a <code>set</code>.</p>



<a name="207719364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207719364" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207719364">(Aug 22 2020 at 11:04)</a>:</h4>
<p>then if you like you can even make that interpretation into a coercion to sort, and write <code>(i : interval \R) (s t : i)</code>, etc.</p>



<a name="207719374"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207719374" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207719374">(Aug 22 2020 at 11:04)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/blob/bc72d9035a130cbf8d47f7398a6fa53196c40880/src/topology/subset_properties.lean#L1056">src/topology/subset_properties.lean L1056</a>:</p>
<div class="codehilite"><pre><span></span><code><span class="n">class</span> <span class="n">connected_space</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">topological_space</span> <span class="n">α</span><span class="o">]</span> <span class="kn">extends</span> <span class="n">preconnected_space</span> <span class="n">α</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">to_nonempty</span> <span class="o">:</span> <span class="n">nonempty</span> <span class="n">α</span><span class="o">)</span>
</code></pre></div>



<a name="207719446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207719446" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207719446">(Aug 22 2020 at 11:06)</a>:</h4>
<p>I expect with these codes that there would be some disagreement about exactly what or what does not qualify as an interval, though...</p>



<a name="207719515"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207719515" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207719515">(Aug 22 2020 at 11:08)</a>:</h4>
<p>I mean, I'm not even sure I would agree with myself on the topic <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



<a name="207719584"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207719584" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207719584">(Aug 22 2020 at 11:11)</a>:</h4>
<p>For example: should we include a hypothesis <code>a &lt;= b</code> in the <code>Icc</code> constructor to make sure the interval is nonempty; does a point count as an interval.</p>



<a name="207731054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207731054" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207731054">(Aug 22 2020 at 16:21)</a>:</h4>
<p>I'd still would like to register an instance of <code>Icc</code> as a <code>connected_space</code> but to do this I need to prove that a subset is connected iff it is connected as a space, and I have a problem converting elements of <code>set set a</code> into elements of <code>set a</code>.<br>
How am I supposed to go on with a proof like this?</p>
<div class="codehilite"><pre><span></span><code><span class="kn">lemma</span> <span class="n">is_connected_univ</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">topological_space</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">is_preconnected</span> <span class="n">s</span> <span class="bp">↔</span> <span class="n">is_preconnected</span> <span class="o">(</span><span class="n">univ</span> <span class="o">:</span> <span class="n">set</span> <span class="n">s</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="o">{</span>
    <span class="n">unfold</span> <span class="n">is_preconnected</span><span class="o">,</span>
    <span class="n">rintro</span> <span class="n">h</span> <span class="n">u</span> <span class="n">v</span> <span class="bp">⟨</span><span class="n">w</span><span class="o">,</span> <span class="n">hw</span><span class="o">,</span> <span class="n">rfl</span><span class="bp">⟩</span> <span class="bp">⟨</span><span class="n">z</span><span class="o">,</span> <span class="n">hz</span><span class="o">,</span> <span class="n">rfl</span><span class="bp">⟩</span> <span class="n">h1</span> <span class="bp">⟨⟨</span><span class="n">a</span><span class="o">,</span> <span class="n">ha</span><span class="bp">⟩</span><span class="o">,</span> <span class="bp">⟨⟩</span><span class="o">,</span> <span class="n">h2</span><span class="bp">⟩</span> <span class="bp">⟨⟨</span><span class="n">b</span><span class="o">,</span> <span class="n">hb</span><span class="bp">⟩</span><span class="o">,</span> <span class="bp">⟨⟩</span><span class="o">,</span> <span class="n">h3</span><span class="bp">⟩</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">h3</span> <span class="o">:=</span> <span class="n">h</span> <span class="n">z</span> <span class="n">w</span> <span class="n">hz</span> <span class="n">hw</span><span class="o">,</span> <span class="c1">-- need to transform h1 to put it here...</span>
    <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">mem_preimage</span><span class="o">,</span> <span class="n">subtype</span><span class="bp">.</span><span class="n">coe_mk</span><span class="o">,</span> <span class="n">univ_inter</span><span class="o">]</span> <span class="n">at</span> <span class="bp">*</span><span class="o">,</span>
  <span class="o">},</span>
  <span class="o">{</span> <span class="o">}</span>
<span class="kn">end</span>
</code></pre></div>



<a name="207731080"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207731080" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207731080">(Aug 22 2020 at 16:21)</a>:</h4>
<p>rather than do it this way, we should have some lemma like the image of a connected set is connected</p>



<a name="207731154"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207731154" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207731154">(Aug 22 2020 at 16:22)</a>:</h4>
<p>that would handle the <code>&lt;-</code> direction (apply to <code>subtype.val</code>)</p>



<a name="207731192"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207731192" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207731192">(Aug 22 2020 at 16:23)</a>:</h4>
<p>hmm, maybe the <code>-&gt;</code> direction is more awkward</p>



<a name="207731366"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207731366" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207731366">(Aug 22 2020 at 16:26)</a>:</h4>
<p>we do have the theorem that a subset is connected iff it is connected</p>



<a name="207731592"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207731592" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207731592">(Aug 22 2020 at 16:32)</a>:</h4>
<p>Haha I did not find it with library search</p>



<a name="207731625"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207731625" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207731625">(Aug 22 2020 at 16:32)</a>:</h4>
<p>Where is it</p>



<a name="207731655"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207731655" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207731655">(Aug 22 2020 at 16:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110064">Kenny Lau</span> <a href="#narrow/stream/113489-new-members/topic/Curves/near/207731366">said</a>:</p>
<blockquote>
<p>we do have the theorem that a subset is connected iff it is connected</p>
</blockquote>
<p>You are basically the ultimate version of library search haha</p>



<a name="207731688"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207731688" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207731688">(Aug 22 2020 at 16:33)</a>:</h4>
<p>Actually, the ultimate version of library search is reading the library</p>



<a name="207731773"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207731773" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207731773">(Aug 22 2020 at 16:36)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="n">is_connected_iff_connected_space</span>
</code></pre></div>



<a name="207731871"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207731871" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207731871">(Aug 22 2020 at 16:37)</a>:</h4>
<p>If you want to know what is in the library about connected sets, why not read the whole section where connected sets are defined? It's only 360 lines and it will answer all subsequent questions of this form.</p>



<a name="207731876"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207731876" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207731876">(Aug 22 2020 at 16:37)</a>:</h4>
<p><code>git grep</code> is also a recommended way to find lemmas.</p>



<a name="207732101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207732101" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207732101">(Aug 22 2020 at 16:43)</a>:</h4>
<p>I just wrote <code>#check connected</code> (<strong>and then reset the cursor by pressing escape</strong>) and then press Ctrl+space</p>



<a name="207732104"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207732104" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207732104">(Aug 22 2020 at 16:43)</a>:</h4>
<p>then it gives you a bunch of lemmas with the name <code>connected</code></p>



<a name="207733905"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207733905" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207733905">(Aug 22 2020 at 17:27)</a>:</h4>
<p>Ok sorry I actually did not even know a class which is proposition valued could be treated as a normal proposition in iff lemmas so I did not think such a lemma could exist.</p>



<a name="207733964"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207733964" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207733964">(Aug 22 2020 at 17:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110032">Reid Barton</span> <a href="#narrow/stream/113489-new-members/topic/Curves/near/207719244">said</a>:</p>
<blockquote>
<p>For example, there cannot be an instance for <code>is_connected (Icc a b)</code> because it needs a hypothesis <code>a &lt;= b</code>, but <code>&lt;=</code>isn't a class and the proof of <code>a &lt;= b</code> can't be recovered from just knowing <code>Icc a b</code>.</p>
</blockquote>
<p>All the same this should not be a problem with fact: I was thinking to something like this</p>
<div class="codehilite"><pre><span></span><code><span class="kn">lemma</span> <span class="n">is_connected_Icc</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">b</span><span class="o">)</span> <span class="o">:</span> <span class="n">is_connected</span> <span class="o">(</span><span class="n">Icc</span> <span class="n">a</span> <span class="n">b</span><span class="o">)</span> <span class="o">:=</span>
<span class="bp">⟨⟨</span><span class="n">a</span><span class="o">,</span> <span class="k">by</span> <span class="o">{</span><span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">left_mem_Icc</span><span class="o">],</span> <span class="n">exact</span> <span class="n">h</span><span class="o">}</span><span class="bp">⟩</span><span class="o">,</span> <span class="n">is_preconnected_Icc</span><span class="bp">⟩</span>

<span class="bp">@</span><span class="o">[</span><span class="kn">reducible</span><span class="o">]</span> <span class="n">def</span> <span class="n">curve</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="n">set</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">[</span><span class="n">connected_space</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">topological_space</span> <span class="n">β</span><span class="o">]</span> <span class="o">:=</span>
  <span class="n">continuous_map</span> <span class="n">α</span> <span class="n">β</span>

<span class="kn">instance</span> <span class="n">some_other_name</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">}</span> <span class="o">[</span><span class="n">h</span> <span class="o">:</span> <span class="n">fact</span> <span class="o">(</span><span class="n">a</span> <span class="bp">≤</span> <span class="n">b</span><span class="o">)]</span> <span class="o">:</span> <span class="n">connected_space</span> <span class="o">(</span><span class="n">Icc</span> <span class="n">a</span> <span class="n">b</span><span class="o">)</span> <span class="o">:=</span> <span class="n">is_connected_iff_connected_space</span><span class="bp">.</span><span class="mi">1</span>
<span class="o">(</span><span class="n">is_connected_Icc</span> <span class="n">h</span><span class="o">)</span>

<span class="n">noncomputable</span> <span class="n">def</span> <span class="n">a</span> <span class="o">:</span> <span class="n">curve</span> <span class="o">(</span><span class="n">Icc</span> <span class="mi">0</span> <span class="mi">1</span><span class="o">)</span> <span class="o">(</span><span class="n">ℝ</span> <span class="bp">×</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:=</span>
<span class="bp">⟨λ</span> <span class="n">x</span><span class="o">,</span> <span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">x</span><span class="o">),</span> <span class="n">continuous_induced_dom</span><span class="bp">.</span><span class="n">prod_mk</span> <span class="n">continuous_induced_dom</span><span class="bp">⟩</span>
</code></pre></div>



<a name="207733981"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207733981" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207733981">(Aug 22 2020 at 17:29)</a>:</h4>
<p>I mean this is in the topology case but I think of something like this for geometry</p>



<a name="207734028"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207734028" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207734028">(Aug 22 2020 at 17:30)</a>:</h4>
<p>I take it that there is no point in defining curves in topology, it is just to illustrate my point</p>



<a name="207734113"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207734113" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207734113">(Aug 22 2020 at 17:32)</a>:</h4>
<p>The geometry library already treats <code>[a, b]</code> as a manifold with corners by making use of <code>fact</code> so there should be no problem to use it further: the user already has to use it there</p>



<a name="207734114"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207734114" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207734114">(Aug 22 2020 at 17:32)</a>:</h4>
<p>I don't really know what the story with the <code>fact</code> class is but it sounds more complicated than what I suggested.</p>



<a name="207734119"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207734119" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207734119">(Aug 22 2020 at 17:32)</a>:</h4>
<p>If it works for you, then OK.</p>



<a name="207734334"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207734334" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207734334">(Aug 22 2020 at 17:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="267205">Nicolò Cavalleri</span> <a href="#narrow/stream/113489-new-members/topic/Curves/near/207733905">said</a>:</p>
<blockquote>
<p>Ok sorry I actually did not even know a class which is proposition valued could be treated as a normal proposition in iff lemmas so I did not think such a lemma could exist.</p>
</blockquote>
<p>Remember this whole <code>class</code> business is only about inferring arguments that you don't provide. It doesn't change the type of anything. If <code>connected_space X : Prop</code> then it's a <code>Prop</code>.</p>



<a name="207767638"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Curves/near/207767638" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Curves.html#207767638">(Aug 23 2020 at 11:01)</a>:</h4>
<p>Another idea that works particularly well in Lean, modeled on the idea of local_equiv, would be to define a curve to be a continuous / smooth function from <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">R</mi></mrow><annotation encoding="application/x-tex">\R</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">R</span></span></span></span></span> to the target space / manifold and only care about its values on a source subset. This would be perfect to define an order relation on curves to define maximal curves. The problem with this however is that this breakes extensionality. I see that in the case of local equivalences extensionality requires that the two equivalences have same source, fun and inv_fun, which is not ideal. In the case of curves one would want two curves to be equal if they are the same only on their sources, and this is important for the order relation. One way to achieve this is to require that the target space be inhabited and require that the curves takes the default value on points not in the source, so to save extensinoality the way I want it. If someone else has better ideas to get the right extensionality however I am happy to hear them</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>