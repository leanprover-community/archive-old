---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Advice.20on.20Definitions.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html">Advice on Definitions</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="208385394"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208385394" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208385394">(Aug 28 2020 at 19:26)</a>:</h4>
<p>Hi. I'm sure a very basic type class definition question given I'm jumping in on the deep end on something I may not be too capable of yet. I'm trying to define a structure -- M by N chessboards, and to prove some theorems about them. I defined an inductive type called pieces with just placeholders for each of the pieces, and then I was trying to define a board as a map from m -&gt; n -&gt; pieces (and then I was going to define moves as particular maps from boards to boards that satisfy "one thing moved, etc."). Does that sound like a reasonable approach, and if so, to express finiteness of m and n it seems like I want <code>fintype</code>? At least that seems like something I should read a tiny bit on looking at how mathlib defines matrices, though it doesn't look like they're defined via <code>class</code>.  Any advice definitely welcome (including "go back to tutorials you won't be able to do that yet").</p>



<a name="208386262"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208386262" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208386262">(Aug 28 2020 at 19:35)</a>:</h4>
<p>Yeah, matrices will give you what you want. You might want to look at <a href="https://leanprover-community.github.io/mathlib_docs/data/matrix/notation.html">https://leanprover-community.github.io/mathlib_docs/data/matrix/notation.html</a></p>



<a name="208386396"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208386396" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208386396">(Aug 28 2020 at 19:36)</a>:</h4>
<p>Which are matrices indexed by <code>fin n</code>, the finite set of <code>n</code> elements. Or you can just use the <code>matrix</code> definition.</p>



<a name="208386469"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208386469" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208386469">(Aug 28 2020 at 19:37)</a>:</h4>
<p>Ah awesome! Thanks, I was reading the notation.lean file itself but definitely easier to read that.</p>



<a name="208386628"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208386628" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208386628">(Aug 28 2020 at 19:38)</a>:</h4>
<p>There are some clumsy things about jumping between different <code>fin n</code> and <code>fin m</code>, especially when <code>n \ne m</code>. But if something comes up, do say something. I've been trying to make <code>fin _</code> smoother. And with lean 3.19, working with <code>fin _</code> might get better. If you don't care about the ordering within the "N" or "M", working directly with a <code>fintype</code>might be easier.</p>



<a name="208386674"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208386674" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208386674">(Aug 28 2020 at 19:39)</a>:</h4>
<p>But with a chessboard and moves, there is often "move-math" that happens, which then uses some knowledge of equality or ordering of the board.</p>



<a name="208386689"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208386689" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208386689">(Aug 28 2020 at 19:39)</a>:</h4>
<p>And I don't know if you care about "computability" or not.</p>



<a name="208386805"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208386805" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208386805">(Aug 28 2020 at 19:40)</a>:</h4>
<p>In any case, something like <code>function.update</code> might be useful to indicate moves.</p>



<a name="208386922"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208386922" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208386922">(Aug 28 2020 at 19:41)</a>:</h4>
<p>(Thanks making notes of all these to review :)</p>
<p>The first "theorems" I want to prove are simply given two positions exhibiting existence of a sequence of moves (with no captures for simplicity) that move the board from one to the final position</p>



<a name="208386969"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208386969" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208386969">(Aug 28 2020 at 19:42)</a>:</h4>
<p>And then statements that certain sequences moves are equivalent under different ordering (of the moves, not the board arrangement), etc could rely on equality checks of the fact that the "positions" are the same.</p>



<a name="208387005"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208387005" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208387005">(Aug 28 2020 at 19:42)</a>:</h4>
<p>Ah, I was just typing about sequences of moves as you posted that.</p>



<a name="208387105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208387105" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208387105">(Aug 28 2020 at 19:43)</a>:</h4>
<p>You might have to postulate first, if you disallow captures, that a valid move retains the total number of pieces on a board.</p>



<a name="208387121"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208387121" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208387121">(Aug 28 2020 at 19:43)</a>:</h4>
<p>And that no two pieces can occupy the same spot.</p>



<a name="208387401"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208387401" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208387401">(Aug 28 2020 at 19:46)</a>:</h4>
<p>yeah exactly. cool -- that's I think what I was assuming I'd need to do -- and then when I <em>did</em> do captures, I postualte there's exactly 1 fewer piece on the board, that it's of the opposite color, and that the moved piece went to that square, and then I redefine moves to be "capture or noncapture", yeah?</p>



<a name="208388051"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208388051" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208388051">(Aug 28 2020 at 19:53)</a>:</h4>
<p>Just writing up a quick example.</p>



<a name="208388146"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208388146" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208388146">(Aug 28 2020 at 19:54)</a>:</h4>
<p>Ah awesome. Much appreciated! (Don't ruin too much :D but definitely could use one next nudge yeah)</p>



<a name="208388735"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208388735" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208388735">(Aug 28 2020 at 19:59)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">matrix</span><span class="bp">.</span><span class="kn">notation</span>

<span class="kn">variables</span> <span class="o">(</span><span class="n">m&#39;</span> <span class="n">n&#39;</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">n&#39;</span><span class="o">]</span> <span class="o">[</span><span class="n">decidable_eq</span> <span class="n">n&#39;</span><span class="o">]</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">m&#39;</span><span class="o">]</span> <span class="o">[</span><span class="n">decidable_eq</span> <span class="n">m&#39;</span><span class="o">]</span>
<span class="kn">variables</span> <span class="o">(</span><span class="n">ι</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">ι</span><span class="o">]</span> <span class="o">[</span><span class="n">decidable_eq</span> <span class="n">ι</span><span class="o">]</span>

<span class="kn">variables</span> <span class="o">(</span><span class="n">K</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span>

<span class="kn">structure</span> <span class="n">occupied_board</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">pieces</span> <span class="o">:</span> <span class="n">ι</span> <span class="bp">→</span> <span class="n">K</span><span class="o">)</span>
<span class="o">(</span><span class="n">board</span> <span class="o">:</span> <span class="n">matrix</span> <span class="n">m&#39;</span> <span class="n">n&#39;</span> <span class="o">(</span><span class="n">option</span> <span class="n">ι</span><span class="o">))</span>
<span class="o">(</span><span class="n">no_superposition</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="n">x&#39;</span> <span class="o">:</span> <span class="n">m&#39;</span><span class="o">),</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="n">y&#39;</span> <span class="o">:</span> <span class="n">n&#39;</span><span class="o">),</span> <span class="n">x</span> <span class="bp">≠</span> <span class="n">x&#39;</span> <span class="bp">→</span> <span class="n">y</span> <span class="bp">≠</span> <span class="n">y&#39;</span> <span class="bp">→</span>
  <span class="o">(</span><span class="n">board</span> <span class="n">x</span> <span class="n">y</span><span class="o">)</span><span class="bp">.</span><span class="n">is_some</span> <span class="bp">→</span> <span class="o">(</span><span class="n">board</span> <span class="n">x&#39;</span> <span class="n">y&#39;</span><span class="o">)</span><span class="bp">.</span><span class="n">is_some</span> <span class="bp">→</span> <span class="n">board</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">≠</span> <span class="n">board</span> <span class="n">x&#39;</span> <span class="n">y&#39;</span><span class="o">)</span>
<span class="o">(</span><span class="n">constant_pieces</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">ix</span> <span class="o">:</span> <span class="n">ι</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">x</span> <span class="o">:</span> <span class="n">m&#39;</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">y</span> <span class="o">:</span> <span class="n">n&#39;</span><span class="o">,</span> <span class="n">board</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">ix</span><span class="o">)</span>
</code></pre></div>



<a name="208388820"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208388820" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208388820">(Aug 28 2020 at 20:00)</a>:</h4>
<p>So the occupied board is a structure with some data and some axioms about how that data is structured.</p>



<a name="208388833"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208388833" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208388833">(Aug 28 2020 at 20:00)</a>:</h4>
<p>You have an indexed set of pieces, so that you can tell them apart.</p>



<a name="208388866"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208388866" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208388866">(Aug 28 2020 at 20:01)</a>:</h4>
<p>And a board, where at each square you have either no piece, or some piece, which you refer to by an index</p>



<a name="208389131"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208389131" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208389131">(Aug 28 2020 at 20:03)</a>:</h4>
<p>For any two distinct positions, if both are occupied, they must be occupied by different pieces (they're different because their indices are different. So two identical pawns can be different because they have an index written on their bottom when checked.</p>



<a name="208389210"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208389210" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208389210">(Aug 28 2020 at 20:04)</a>:</h4>
<p>There's probably a cleaner way to state that axiom, or in a way that makes proving various things easier.</p>



<a name="208389233"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208389233" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208389233">(Aug 28 2020 at 20:04)</a>:</h4>
<p>The last axiom is that every index can be found in the board.</p>



<a name="208389295"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208389295" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208389295">(Aug 28 2020 at 20:05)</a>:</h4>
<p>Thanks! That is super helpful (I had some pieces of that written down and was struggling with getting it to compile, especially around the fintype declarations where I was somehow getting the syntax wrong)</p>



<a name="208389496"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208389496" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208389496">(Aug 28 2020 at 20:07)</a>:</h4>
<p>Maybe one "design" question I guess -- is the reason to use matrix simply because it's got the notation and finite domain pieces which are convenient to use?</p>



<a name="208389512"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208389512" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208389512">(Aug 28 2020 at 20:07)</a>:</h4>
<p>I obviously don't expect I'd need to use the ring operations on it right? So it's just a fancy 2d array</p>



<a name="208389727"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208389727" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208389727">(Aug 28 2020 at 20:10)</a>:</h4>
<p>There are some APIs about updating it that exist. With lemmas about how transpose commutes with certain ops, etc</p>



<a name="208389786"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208389786" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208389786">(Aug 28 2020 at 20:10)</a>:</h4>
<p>a ha, got it</p>



<a name="208389793"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208389793" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208389793">(Aug 28 2020 at 20:10)</a>:</h4>
<p>But a matrix is defeq to a <code>m -&gt; n -&gt; alpha</code></p>



<a name="208389836"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208389836" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208389836">(Aug 28 2020 at 20:10)</a>:</h4>
<p>It just has certain constraints on what can be <code>m</code> or <code>n</code></p>



<a name="208389976"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208389976" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208389976">(Aug 28 2020 at 20:12)</a>:</h4>
<p>You might run into some clumsiness stating things about the <code>constant_pieces</code> if you're actually removing pieces form the board. You could take an approach of generating a new index type with the removed pieces removed, or keeping track of a "graveyard", or something else.</p>



<a name="208390056"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208390056" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208390056">(Aug 28 2020 at 20:13)</a>:</h4>
<p>Jeremy Avigad has an explanation about a Lean proof of how to place 8 (or 6) queens on a board.</p>



<a name="208390057"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208390057" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208390057">(Aug 28 2020 at 20:13)</a>:</h4>
<p>Makes sense.</p>



<a name="208390085"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208390085" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208390085">(Aug 28 2020 at 20:13)</a>:</h4>
<p>Which was instrumental for me to understand how Lean works.</p>



<a name="208390091"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208390091" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208390091">(Aug 28 2020 at 20:13)</a>:</h4>
<p>ha yeah domination theorems will be next after I get this one done.</p>



<a name="208390099"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208390099" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208390099">(Aug 28 2020 at 20:13)</a>:</h4>
<p>I don't know if that's a good thing for me to read it may spoil the ending.</p>



<a name="208390122"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208390122" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208390122">(Aug 28 2020 at 20:14)</a>:</h4>
<p>(Maybe I should keep it on the side to cheat from when I get stuck?)</p>



<a name="208390360"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208390360" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208390360">(Aug 28 2020 at 20:16)</a>:</h4>
<p>I can't find it at the moment. <span class="user-mention" data-user-id="110865">@Jeremy Avigad</span> , do you have a link on the n-queens problem? Thanks!</p>



<a name="208390442"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208390442" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208390442">(Aug 28 2020 at 20:17)</a>:</h4>
<p>I might be misremembering. I've found a mutilated chessboard experiment with Isabelle: <a href="https://github.com/avigad/arwm/blob/master/isabelle_experiments/mutilated_notes.md">https://github.com/avigad/arwm/blob/master/isabelle_experiments/mutilated_notes.md</a></p>



<a name="208390569"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208390569" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208390569">(Aug 28 2020 at 20:18)</a>:</h4>
<p>ah cool yeah the corner removal one -- I was expecting it'd be difficult to express the usual "board color parity" proof so definitely will read that</p>



<a name="208391613"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208391613" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208391613">(Aug 28 2020 at 20:29)</a>:</h4>
<p>One might say, just make the indexing of the board use a Cartesian product of two fintypes</p>



<a name="208391637"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208391637" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208391637">(Aug 28 2020 at 20:29)</a>:</h4>
<p>Which is also a fintype</p>



<a name="208391660"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208391660" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208391660">(Aug 28 2020 at 20:29)</a>:</h4>
<p>But then statements about columns or rows get clunkier</p>



<a name="208391798"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208391798" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208391798">(Aug 28 2020 at 20:30)</a>:</h4>
<p>You have to choose what definition works best for what you're trying to prove. That's one of the hardest parts!</p>



<a name="208391825"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208391825" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208391825">(Aug 28 2020 at 20:30)</a>:</h4>
<p>Because a good definition leads to more smooth lemma statements and proofs</p>



<a name="208392055"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208392055" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208392055">(Aug 28 2020 at 20:33)</a>:</h4>
<p>For example, I could have stated the no superposition lemma using (x, y) ne (x', y'). Which is somewhat more concise. But generating a proof of that hypothesis will be clunkier than the separate hypotheses about x and about y separately. In fact, the proof of that Cartesian pair hypothesis would likely use the separate inequality proofs anyway.</p>



<a name="208392169"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208392169" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208392169">(Aug 28 2020 at 20:34)</a>:</h4>
<p>Once you've started to try to prove lemmas, and found something is clunky, there's nothing wrong with going back and reworking the definition, instead of trying to get the lemma to conform.</p>



<a name="208392215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208392215" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208392215">(Aug 28 2020 at 20:34)</a>:</h4>
<p>It might be nicer for you to define the piece as inherently indexed, for example</p>



<a name="208392473"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208392473" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208392473">(Aug 28 2020 at 20:37)</a>:</h4>
<p>hm, as in order the set of pieces arbitrarily?</p>



<a name="208392915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208392915" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208392915">(Aug 28 2020 at 20:42)</a>:</h4>
<p>So def piece := io -&gt; K. Maybe a statement about some surjectivity of the indexing at the beginning of the game, that all the possible piece types are present initally.</p>



<a name="208394516"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208394516" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208394516">(Aug 28 2020 at 21:00)</a>:</h4>
<p>ah got it. OK going to take your examples and play around a bit and see where I run into trouble. Much appreciated again I'm sure you'll see me again :)</p>



<a name="208961470"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208961470" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208961470">(Sep 03 2020 at 12:52)</a>:</h4>
<p>Hello again. Getting back to this after a few days doing other things. Haven't made a ton of progress other than putting what was suggested here in a repo and combining it with the simple notation things I already had (<a href="https://github.com/Julian/lean-across-the-board/blob/main/src/chess/board.lean">https://github.com/Julian/lean-across-the-board/blob/main/src/chess/board.lean</a>) -- I'm trying to take the board definition that was suggested and just learn how to instantiate that board now. I have:</p>
<div class="codehilite"><pre><span></span><code><span class="bp">#</span><span class="kn">check</span> <span class="o">{</span>
  <span class="n">chess</span><span class="bp">.</span><span class="n">board</span> <span class="bp">.</span>
  <span class="n">pieces</span> <span class="o">:=</span> <span class="bp">!</span><span class="o">[</span><span class="err">♞</span><span class="o">],</span>
  <span class="n">contents</span> <span class="o">:=</span> <span class="bp">!</span><span class="o">[</span><span class="bp">!</span><span class="o">[(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">fin</span> <span class="mi">1</span><span class="o">)],</span> <span class="bp">!</span><span class="o">[</span><span class="n">none</span><span class="o">],</span> <span class="bp">!</span><span class="o">[</span><span class="n">none</span><span class="o">]],</span>
  <span class="n">contains_pieces</span> <span class="o">:=</span> <span class="k">begin</span>
  <span class="kn">end</span><span class="o">,</span>
  <span class="n">no_superimposed_pieces</span> <span class="o">:=</span> <span class="n">sorry</span><span class="o">,</span>
<span class="o">}</span>
</code></pre></div>


<p>and am now I guess tasked with proving that containment. Assuming that's already on the right track, is there a tactic that's "brute force" there? What it looks like I need to prove is <code>∀ (ix : fin 1), ∃ (x : fin 1.succ.succ) (y : fin 1), ![![↑0], ![none], ![none]] x y = ↑ix</code> so basically it's a finite list of things, is there a tactic that says "loop over each one and check the thing on the right side, it's there"? Or regardless, if I have <code>fintype 1</code> which has one element, and I do <code>intro h</code>, which now hypothesizes I have an element of <code>fin 1</code>, how do I say "there's only one of those so give me (0 : fin 1)"?</p>



<a name="208961974"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208961974" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208961974">(Sep 03 2020 at 12:56)</a>:</h4>
<p>(If I can do the second part, extract <code>0: fin 1</code> then I can use <code>use</code> twice right?)</p>



<a name="208965356"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208965356" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208965356">(Sep 03 2020 at 13:21)</a>:</h4>
<p>I think I need an emoji reaction meaning decoder dictionary :D</p>



<a name="208966656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208966656" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208966656">(Sep 03 2020 at 13:31)</a>:</h4>
<p>For the last question I think you can use <code>fin_cases h</code></p>



<a name="208966694"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208966694" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208966694">(Sep 03 2020 at 13:31)</a>:</h4>
<p>but, you might get away with proving the whole <code>∀ (ix : fin 1), ∃ ...</code> statement using <code>dec_trivial</code></p>



<a name="208969992"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208969992" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208969992">(Sep 03 2020 at 13:53)</a>:</h4>
<p>A ha! Thank you! I tried <code>cases</code> but it didn't make me progress, it just told me now I have <code>\N</code>...</p>



<a name="208970805"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208970805" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208970805">(Sep 03 2020 at 13:58)</a>:</h4>
<p>Yeah <code>fin_cases h, use 0, use 0, refl</code> indeed seems to work, and <code>dec_trivial</code> indeed seems to be my "brute force" or whatever, and closes it itself.</p>



<a name="208971409"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208971409" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208971409">(Sep 03 2020 at 14:02)</a>:</h4>
<p>Not sure if this is a reasonable question to ask as well, but since <code>library_search</code> and <code>simp</code> didn't close the goal, which were the two things I'd previously heard of, is there some other "higher level" fancy tactic which loops over all tactics with the type of the proposition to prove and gives me one that immediately closes the goal if it does so in 1 step? (i.e. something that would have told me of the existence of <code>dec_trivial</code>?)</p>



<a name="208976438"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208976438" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208976438">(Sep 03 2020 at 14:34)</a>:</h4>
<p>Zulip is that fancy tactic.</p>



<a name="208976548"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208976548" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208976548">(Sep 03 2020 at 14:34)</a>:</h4>
<p>"there's only one of those so give me (0 : fin 1)": how about <code>exact 0</code>?</p>



<a name="208976721"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208976721" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208976721">(Sep 03 2020 at 14:35)</a>:</h4>
<p>There's also <code>subsingleton.elim x y</code> which will give you <code>x = y</code> for <code>x y : fin 1</code> or any other subsingleton type.</p>



<a name="208979404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208979404" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208979404">(Sep 03 2020 at 14:53)</a>:</h4>
<p><span class="user-mention silent" data-user-id="308899">Yakov Pechersky</span> <a href="#narrow/stream/113489-new-members/topic/Advice.20on.20Definitions/near/208976548">said</a>:</p>
<blockquote>
<p>"there's only one of those so give me (0 : fin 1)": how about <code>exact 0</code>?</p>
</blockquote>
<p>if I try that I get</p>
<div class="codehilite"><pre><span></span><code><span class="o">[</span><span class="n">lean</span><span class="o">]</span> <span class="o">[</span><span class="n">E</span><span class="o">]</span> <span class="n">invalid</span> <span class="n">pre</span><span class="bp">-</span><span class="n">numeral</span><span class="o">,</span> <span class="kn">universe</span> <span class="n">level</span> <span class="n">must</span> <span class="n">be</span> <span class="bp">&gt;</span> <span class="mi">0</span>
<span class="n">state</span><span class="o">:</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">fin</span> <span class="mi">1</span>
<span class="err">⊢</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">fin</span> <span class="mi">1</span><span class="o">),</span> <span class="bp">!</span><span class="o">[</span><span class="bp">!</span><span class="o">[</span><span class="err">↑</span><span class="mi">0</span><span class="o">],</span> <span class="bp">!</span><span class="o">[</span><span class="n">none</span><span class="o">],</span> <span class="bp">!</span><span class="o">[</span><span class="n">none</span><span class="o">]]</span> <span class="mi">0</span> <span class="n">y</span> <span class="bp">=</span> <span class="err">↑</span><span class="n">h</span>
</code></pre></div>



<a name="208979505"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208979505" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208979505">(Sep 03 2020 at 14:54)</a>:</h4>
<p>(trying the subsingleton thing now too)</p>



<a name="208980044"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208980044" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208980044">(Sep 03 2020 at 14:57)</a>:</h4>
<p>Ah, I didn't know you had an <code>exists</code> goal. Then yes, <code>0</code> works. You can combine <code>use</code> steps like so: <code>use [0, 0]</code>.</p>



<a name="208981620"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208981620" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208981620">(Sep 03 2020 at 15:08)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="bp">#</span><span class="kn">check</span> <span class="o">{</span>
  <span class="n">chess</span><span class="bp">.</span><span class="n">board</span> <span class="bp">.</span>
  <span class="n">pieces</span> <span class="o">:=</span> <span class="bp">!</span><span class="o">[</span><span class="err">♞</span><span class="o">],</span>
  <span class="n">contents</span> <span class="o">:=</span> <span class="bp">!</span><span class="o">[</span><span class="bp">!</span><span class="o">[(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">fin</span> <span class="mi">1</span><span class="o">)],</span> <span class="bp">!</span><span class="o">[</span><span class="n">none</span><span class="o">],</span> <span class="bp">!</span><span class="o">[</span><span class="n">none</span><span class="o">]],</span>
  <span class="n">contains_pieces</span> <span class="o">:=</span> <span class="k">begin</span>
    <span class="n">intro</span> <span class="n">ix</span><span class="o">,</span>
    <span class="n">use</span> <span class="mi">0</span><span class="o">,</span>
    <span class="n">simp</span>
  <span class="kn">end</span><span class="o">,</span>
  <span class="n">no_superimposed_pieces</span> <span class="o">:=</span> <span class="n">sorry</span><span class="o">,</span>
<span class="o">}</span>
</code></pre></div>



<a name="208985821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208985821" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208985821">(Sep 03 2020 at 15:35)</a>:</h4>
<p>Nice, thanks. How can I interpret what that error message means just so I know? I didn't really take the time to understand universes yet, though I assume it has something to do with maybe russel-paradoxy-set-theory stuff? But what is that error message saying, is it telling me <em>I</em> needed to define that some types are at a higher universe level than I did?</p>



<a name="208985992"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208985992" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208985992">(Sep 03 2020 at 15:36)</a>:</h4>
<p>This is just an error message where Lean is completely confused about what you wanted</p>



<a name="208986079"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208986079" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208986079">(Sep 03 2020 at 15:37)</a>:</h4>
<p>A ha. OK.</p>



<a name="208986662"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208986662" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208986662">(Sep 03 2020 at 15:40)</a>:</h4>
<p>I think it happens when you try to use <code>0</code> as a type</p>



<a name="208986681"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/208986681" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#208986681">(Sep 03 2020 at 15:40)</a>:</h4>
<p>or more likely, accidentally use <code>0</code> as a type</p>



<a name="209036089"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209036089" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209036089">(Sep 03 2020 at 22:18)</a>:</h4>
<p>Syntactically is there a way to avoid needing the underscores when trying to write out an example of my structure: <a href="https://github.com/Julian/lean-across-the-board/blob/57ae80d7714f20299d2abab6d8a3e3ac5c477f6c/test/board.lean#L4">https://github.com/Julian/lean-across-the-board/blob/57ae80d7714f20299d2abab6d8a3e3ac5c477f6c/test/board.lean#L4</a> -- if I don't and just write <code>example : chess.board :=</code>, I seem to get <code>type,mismatch as structure instance [...] but is expected to have type ⁇ : Sort ?</code></p>



<a name="209036115"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209036115" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209036115">(Sep 03 2020 at 22:19)</a>:</h4>
<p>(And secondly can I within a namespace make all the literals be elements of fintype so I don't have to individually annotate all the numbers I write?)</p>



<a name="209036198"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209036198" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209036198">(Sep 03 2020 at 22:20)</a>:</h4>
<p>actually I guess that fintype would change from example to example, so never mind that</p>



<a name="209036522"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209036522" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209036522">(Sep 03 2020 at 22:24)</a>:</h4>
<p>It's possible that <code>hint</code> would have revealed here that <code>dec_trivial</code> would work.</p>



<a name="209037006"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209037006" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209037006">(Sep 03 2020 at 22:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110087">Scott Morrison</span> <a href="#narrow/stream/113489-new-members/topic/Advice.20on.20Definitions/near/209036522">said</a>:</p>
<blockquote>
<p>It's possible that <code>hint</code> would have revealed here that <code>dec_trivial</code> would work.</p>
</blockquote>
<p>hm I must be using that wrong -- I found/followed <a href="https://leanprover-community.github.io/mathlib_docs/tactics.html#hint">https://leanprover-community.github.io/mathlib_docs/tactics.html#hint</a> and added <code>import tactic.hint</code> but I still seem to get <code>unknown identifier 'hint'</code> -- did I miss a step somehow?</p>



<a name="209037166"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209037166" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209037166">(Sep 03 2020 at 22:33)</a>:</h4>
<p>oh does that mean I should add <em>both</em> of those imports? /me tries...</p>



<a name="209038539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209038539" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209038539">(Sep 03 2020 at 22:52)</a>:</h4>
<p>Ah interesting ok I figured it out (that I need <code>by hint</code> not just <code>hint</code> there)</p>



<a name="209038554"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209038554" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209038554">(Sep 03 2020 at 22:52)</a>:</h4>
<p>and yes it does suggest dec_trivial, thanks!</p>



<a name="209038901"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209038901" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209038901">(Sep 03 2020 at 22:58)</a>:</h4>
<p>Sorry, yes -- you worked it out: <code>hint</code> is a tactic so only does anything inside a <code>begin ... end</code> or <code>by ...</code> block.</p>



<a name="209038913"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209038913" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209038913">(Sep 03 2020 at 22:58)</a>:</h4>
<p>Don't get in the habit of relying on <code>hint</code> too much. It is really dumb, and will suggest terrible ideas.</p>



<a name="209039000"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209039000" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209039000">(Sep 03 2020 at 23:00)</a>:</h4>
<p>All good -- and understood :)</p>



<a name="209383671"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209383671" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209383671">(Sep 08 2020 at 13:13)</a>:</h4>
<p>I guess I'm getting syntax fairly fundamentally wrong, but what's wrong with <code>def width (b : board m n ι K) : ℕ := m.card</code>? I get an error of <code>error| [lean] invalid field notation, type is not of the form (C ...) where C is a constant [E]</code></p>



<a name="209383821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209383821" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209383821">(Sep 08 2020 at 13:14)</a>:</h4>
<p>Or I guess alternatively how do I get the dimension of a side of a matrix instance, probably that's clearer anyhow... that maybe I can look up</p>



<a name="209385344"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209385344" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209385344">(Sep 08 2020 at 13:25)</a>:</h4>
<p>It will probably work if you use <code>fintype.card m</code> instead of <code>m.card</code>.</p>
<p>I'm assuming you have declared <code>m</code> like above:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">variables</span> <span class="o">(</span><span class="n">m</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">m</span><span class="o">]</span> <span class="o">[</span><span class="n">decidable_eq</span> <span class="n">m</span><span class="o">]</span>
</code></pre></div>


<p>Abbreviations for the dot-notation like <code>m.card</code> work as follows: we infer the type of <code>m</code>. If it is of the form <code>some_constant x1 x2 ...</code>, then <code>m.card</code> gets expanded to <code>some_constant.card m</code>. So if <code>m : finset α</code>, we get <code>finset.card m</code>, but if <code>m</code> is just any arbitrary type there is no constant whose name we can use. Instead you have to write out the full name of <code>fintype.card</code>.</p>



<a name="209386469"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209386469" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209386469">(Sep 08 2020 at 13:34)</a>:</h4>
<p>Aha, ok thanks. It does indeed compile at least if I use <code>fintype.card</code> explicitly, though I still get another error that I've seen before when I try to use it</p>



<a name="209386484"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209386484" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209386484">(Sep 08 2020 at 13:34)</a>:</h4>
<p>(fuller example incoming...)</p>



<a name="209386811"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209386811" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209386811">(Sep 08 2020 at 13:37)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="n">def</span> <span class="n">width</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="n">board</span> <span class="n">m</span> <span class="n">n</span> <span class="n">ι</span> <span class="n">K</span><span class="o">)</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="o">:=</span> <span class="n">fintype</span><span class="bp">.</span><span class="n">card</span> <span class="n">m</span>

<span class="n">def</span> <span class="n">b₁</span> <span class="o">:</span> <span class="n">board</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="o">:=</span>
  <span class="o">{</span> <span class="n">board</span> <span class="bp">.</span>
    <span class="n">pieces</span> <span class="o">:=</span> <span class="bp">!</span><span class="o">[</span><span class="err">♞</span><span class="o">],</span>
    <span class="n">contents</span> <span class="o">:=</span> <span class="bp">!</span><span class="o">[</span><span class="bp">!</span><span class="o">[(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">fin</span> <span class="mi">1</span><span class="o">)],</span> <span class="bp">!</span><span class="o">[</span><span class="bp">__</span><span class="o">],</span> <span class="bp">!</span><span class="o">[</span><span class="bp">__</span><span class="o">]],</span>
    <span class="n">contains_pieces</span> <span class="o">:=</span> <span class="n">dec_trivial</span><span class="o">,</span>
    <span class="n">no_superimposed_pieces</span> <span class="o">:=</span> <span class="n">dec_trivial</span><span class="o">,</span> <span class="o">}</span>

<span class="bp">#</span><span class="kn">check</span> <span class="n">width</span> <span class="n">b₁</span>
</code></pre></div>


<p>The <code>check</code> produces:</p>
<div class="codehilite"><pre><span></span><code><span class="n">type</span> <span class="n">mismatch</span> <span class="n">at</span> <span class="n">application</span>
  <span class="n">width</span> <span class="n">b₁</span>
<span class="n">term</span>
  <span class="n">b₁</span>
<span class="n">has</span> <span class="n">type</span>
  <span class="n">board</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">1</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">1</span><span class="o">)</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">1</span><span class="o">)</span> <span class="n">colored_pieces</span> <span class="o">:</span> <span class="kt">Type</span>
<span class="n">but</span> <span class="n">is</span> <span class="n">expected</span> <span class="n">to</span> <span class="k">have</span> <span class="n">type</span>
  <span class="kt">Type</span> <span class="o">:</span> <span class="kt">Type</span> <span class="mi">1</span>
</code></pre></div>



<a name="209387402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209387402" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209387402">(Sep 08 2020 at 13:42)</a>:</h4>
<p>I suspect you need to declare some variables as implicit. What is the output of <code>#check width</code>?</p>



<a name="209387522"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209387522" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209387522">(Sep 08 2020 at 13:43)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="n">width</span> <span class="o">:</span>
  <span class="bp">Π</span> <span class="o">(</span><span class="n">m</span> <span class="n">n</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">[</span><span class="bp">_</span><span class="n">inst_1</span> <span class="o">:</span> <span class="n">fintype</span> <span class="n">n</span><span class="o">]</span> <span class="o">[</span><span class="bp">_</span><span class="n">inst_2</span> <span class="o">:</span> <span class="n">decidable_eq</span> <span class="n">n</span><span class="o">]</span> <span class="o">[</span><span class="bp">_</span><span class="n">inst_3</span> <span class="o">:</span> <span class="n">fintype</span> <span class="n">m</span><span class="o">]</span> <span class="o">[</span><span class="bp">_</span><span class="n">inst_4</span> <span class="o">:</span> <span class="n">decidable_eq</span> <span class="n">m</span><span class="o">]</span>
  <span class="o">(</span><span class="n">ι</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">[</span><span class="bp">_</span><span class="n">inst_5</span> <span class="o">:</span> <span class="n">fintype</span> <span class="n">ι</span><span class="o">]</span> <span class="o">[</span><span class="bp">_</span><span class="n">inst_6</span> <span class="o">:</span> <span class="n">decidable_eq</span> <span class="n">ι</span><span class="o">]</span> <span class="o">(</span><span class="n">K</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u_2</span><span class="o">),</span> <span class="n">board</span> <span class="n">m</span> <span class="n">n</span> <span class="n">ι</span> <span class="n">K</span> <span class="bp">→</span> <span class="bp">ℕ</span>
</code></pre></div>



<a name="209387742"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209387742" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209387742">(Sep 08 2020 at 13:45)</a>:</h4>
<p>do I basically put all the types there in that product-y notation as square bracketed variables in the call to width?</p>



<a name="209387763"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209387763" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209387763">(Sep 08 2020 at 13:45)</a>:</h4>
<p>er sorry definition of width</p>



<a name="209387943"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209387943" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209387943">(Sep 08 2020 at 13:46)</a>:</h4>
<p>it's <code>width m n ι K b₁</code> as dictated by the arguments with (round brackets)</p>



<a name="209388006"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209388006" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209388006">(Sep 08 2020 at 13:47)</a>:</h4>
<p>as in the signature of width is saying now I should provide all those parameters?</p>



<a name="209388146"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209388146" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209388146">(Sep 08 2020 at 13:48)</a>:</h4>
<p>You should provide the ones in <code>()</code> and not the ones in <code>[]</code> or <code>{}</code>.</p>



<a name="209388171"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209388171" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209388171">(Sep 08 2020 at 13:48)</a>:</h4>
<p>Indeed, so for usage of <code>width</code> it's better to make some arguments implicit. Try writing </p>
<div class="codehilite"><pre><span></span><code><span class="kn">variables</span> <span class="o">{</span><span class="n">m</span> <span class="n">n</span> <span class="n">ι</span> <span class="n">K</span><span class="o">}</span>
</code></pre></div>


<p>above <code>def width</code>, and now <code>#check width b₁</code> should work.</p>



<a name="209388182"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209388182" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209388182">(Sep 08 2020 at 13:48)</a>:</h4>
<p>Or more likely you should arrange to not have so many ones in <code>()</code>, and make them <code>{}</code> instead.</p>



<a name="209388323"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209388323" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209388323">(Sep 08 2020 at 13:49)</a>:</h4>
<p>aha! ok <code>{}</code> not <code>[]</code> awesome, that works perfectly</p>



<a name="209388565"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209388565" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209388565">(Sep 08 2020 at 13:51)</a>:</h4>
<p>how should I understand that syntax for <code>variables</code>?</p>



<a name="209388592"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209388592" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209388592">(Sep 08 2020 at 13:51)</a>:</h4>
<p>more specifically -- why is that something you specify in the whole "scope" or namespace or whatever?</p>



<a name="209388601"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209388601" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209388601">(Sep 08 2020 at 13:51)</a>:</h4>
<p>and not in the function declaration?</p>



<a name="209388653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209388653" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209388653">(Sep 08 2020 at 13:52)</a>:</h4>
<p>to avoid repetition</p>



<a name="209388761"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209388761" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209388761">(Sep 08 2020 at 13:53)</a>:</h4>
<p>ok -- but now every function from that point till the bottom of the namespace implicitly takes that variable as an arg right?</p>



<a name="209388791"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209388791" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209388791">(Sep 08 2020 at 13:53)</a>:</h4>
<p>Only if it needs it</p>



<a name="209388827"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209388827" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209388827">(Sep 08 2020 at 13:53)</a>:</h4>
<p>aha ok</p>



<a name="209389133"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209389133" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209389133">(Sep 08 2020 at 13:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="321696">Julian Berman</span> <a href="#narrow/stream/113489-new-members/topic/Advice.20on.20Definitions/near/209388323">said</a>:</p>
<blockquote>
<p>aha! ok <code>{}</code> not <code>[]</code> awesome, that works perfectly</p>
</blockquote>
<p>The difference between <code>{}</code> and <code>[]</code> is that <code>{m : Type}</code> indicates <code>m</code> can be inferred from its usage later on in the type, <code>#check width</code> will now give something like <code>board ?m ?n ?ι ?K → ℕ</code>. Since <code>b₁ : board m n ι K</code>, and Lean is expecting this argument to be something of the form <code>board ?m ?n ?ι ?K</code>, it concludes the argument <code>?m</code> has to be <code>m</code>. If you wrote <code>[m : Type]</code> then you're asking the typeclass inference system to produce an element of <code>Type</code>. <code>#check width</code> will give an error in that case, because there is no typeclass instance defined for <code>Type</code>.</p>



<a name="209389393"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209389393" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209389393">(Sep 08 2020 at 13:57)</a>:</h4>
<p>so what I tried previously was more like adding <code>[fintype m]</code> to the definition of <code>width</code></p>



<a name="209389429"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209389429" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209389429">(Sep 08 2020 at 13:58)</a>:</h4>
<p>which I thought would say there was a <code>fintype</code> that should be being implicitly referred to in my function</p>



<a name="209389476"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209389476" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209389476">(Sep 08 2020 at 13:58)</a>:</h4>
<p>but that obviously didn't work either</p>



<a name="209389929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209389929" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209389929">(Sep 08 2020 at 14:01)</a>:</h4>
<p>(thanks by the way, that explanation I think definitely helped)</p>



<a name="209390228"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209390228" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209390228">(Sep 08 2020 at 14:04)</a>:</h4>
<p>Do you mean implicitly referred to when you wrote <code>m.card</code>? that syntax is resolved using type information of <code>m</code>, and adding <code>[fintype m]</code> doesn't affect the type of <code>m</code>.</p>



<a name="209390368"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209390368" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209390368">(Sep 08 2020 at 14:05)</a>:</h4>
<p>so originally I wrote something like (without the <code>variables</code> statement suggested): <code>def width (b: board m n i K) [fintype m] := fintype.card m</code></p>



<a name="209390396"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209390396" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209390396">(Sep 08 2020 at 14:05)</a>:</h4>
<p>which I thought would mean <code>m</code> was implicitly an argument</p>



<a name="209390429"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209390429" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209390429">(Sep 08 2020 at 14:05)</a>:</h4>
<p>but I guess what I should learn is that that <code>[...]</code> syntax is more like refining an argument that's already declared</p>



<a name="209390507"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209390507" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209390507">(Sep 08 2020 at 14:06)</a>:</h4>
<p>so I'd need both that <em>and</em> <code>{m : Type}</code> to say that m was implicit and also by the way a fintype?</p>



<a name="209390640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209390640" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209390640">(Sep 08 2020 at 14:07)</a>:</h4>
<p>Technically a <code>[...]</code> argument is just another argument</p>



<a name="209390731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209390731" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209390731">(Sep 08 2020 at 14:07)</a>:</h4>
<p>If you don't give it a name, it will be assigned one like <code>_inst</code>. And when the function is used, the argument will be synthesized using the type class system.</p>



<a name="209390825"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209390825" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209390825">(Sep 08 2020 at 14:08)</a>:</h4>
<p><code>[fintype m]</code> should be read as <code>[some_variable_name_that_nobody_should_ever_mention : fintype m]</code></p>



<a name="209390848"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209390848" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209390848">(Sep 08 2020 at 14:08)</a>:</h4>
<p>aha... ok</p>



<a name="209390852"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209390852" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209390852">(Sep 08 2020 at 14:08)</a>:</h4>
<p>So, the end result is more or less as you describe.</p>



<a name="209390989"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209390989" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209390989">(Sep 08 2020 at 14:09)</a>:</h4>
<p>why doesn't just <code>def width (b : board m _ _ _) : ℕ := fintype.card n</code> work, which also confused me</p>



<a name="209391015"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209391015" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209391015">(Sep 08 2020 at 14:09)</a>:</h4>
<p>doesn't the type system know based on how I declared <code>board</code> what types the other 3 need to be?</p>



<a name="209391648"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209391648" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209391648">(Sep 08 2020 at 14:13)</a>:</h4>
<p>no, they can be any fintype</p>



<a name="209391821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209391821" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209391821">(Sep 08 2020 at 14:15)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">variables</span> <span class="o">(</span><span class="n">m</span> <span class="n">n</span> <span class="n">ι</span> <span class="n">K</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span>
<span class="n">def</span> <span class="n">board</span> <span class="o">:</span> <span class="kt">Type</span> <span class="o">:=</span> <span class="n">sorry</span>
<span class="n">def</span> <span class="n">width</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="n">board</span> <span class="n">m</span> <span class="n">n</span> <span class="n">ι</span> <span class="n">K</span><span class="o">)</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="o">:=</span> <span class="n">sorry</span>
</code></pre></div>


<p>is equivalent to</p>
<div class="codehilite"><pre><span></span><code><span class="n">def</span> <span class="n">board</span> <span class="o">(</span><span class="n">m</span> <span class="n">n</span> <span class="n">ι</span> <span class="n">K</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Type</span> <span class="o">:=</span> <span class="n">sorry</span>
<span class="n">def</span> <span class="n">width</span> <span class="o">(</span><span class="n">m</span> <span class="n">n</span> <span class="n">ι</span> <span class="n">K</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="n">board</span> <span class="n">m</span> <span class="n">n</span> <span class="n">ι</span> <span class="n">K</span><span class="o">)</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="o">:=</span> <span class="n">sorry</span>
</code></pre></div>



<a name="209391829"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209391829" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209391829">(Sep 08 2020 at 14:15)</a>:</h4>
<p>so Lean doesn't know that it should use <code>m</code></p>



<a name="209393879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209393879" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209393879">(Sep 08 2020 at 14:29)</a>:</h4>
<p>not sure I understood the point yet (I'm sure that's just me being a bit dense though)</p>



<a name="209393971"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209393971" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209393971">(Sep 08 2020 at 14:29)</a>:</h4>
<p>I might as well have written:</p>
<div class="codehilite"><pre><span></span><code><span class="n">def</span> <span class="n">width</span> <span class="o">(</span><span class="n">m</span> <span class="n">n</span> <span class="n">ι</span> <span class="n">K</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="n">board</span> <span class="n">n</span> <span class="n">n</span> <span class="n">n</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="o">:=</span> <span class="n">sorry</span>
</code></pre></div>



<a name="209394093"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209394093" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209394093">(Sep 08 2020 at 14:30)</a>:</h4>
<p>as in the type system doesn't know whether I meant that?</p>



<a name="209394107"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209394107" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209394107">(Sep 08 2020 at 14:30)</a>:</h4>
<p>yes</p>



<a name="209394330"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209394330" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209394330">(Sep 08 2020 at 14:31)</a>:</h4>
<p>(sorry, maybe this is still just a poor questions but) I would assume the type system should think I mean "take the most general type from the board definition that's allowed for each field" no?</p>



<a name="209394391"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209394391" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209394391">(Sep 08 2020 at 14:32)</a>:</h4>
<p>i.e. "apply no further restrictions", so not <code>n n n n</code></p>



<a name="209394466"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209394466" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209394466">(Sep 08 2020 at 14:32)</a>:</h4>
<p>(at some point feel free to just tell me "that's just not how it works" obviously :)</p>



<a name="209394474"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209394474" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209394474">(Sep 08 2020 at 14:32)</a>:</h4>
<p>that's too much to ask for the type system to retrospectively declare variables</p>



<a name="209394560"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209394560" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209394560">(Sep 08 2020 at 14:33)</a>:</h4>
<p><code>_</code> is reserved for situations when the type system can <em>infer</em> the <strong>term</strong></p>



<a name="209394623"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209394623" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209394623">(Sep 08 2020 at 14:33)</a>:</h4>
<p>and there's no <em>deferred</em> mechanism there too right?</p>



<a name="209394658"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209394658" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209394658">(Sep 08 2020 at 14:33)</a>:</h4>
<p>because really the type I want is "I'm going to pass you an instance later, the type of that parameter is the type of that field on the instance I'll give you later"</p>



<a name="209394903"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209394903" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209394903">(Sep 08 2020 at 14:35)</a>:</h4>
<p>I don't understand what you mean</p>



<a name="209394970"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209394970" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209394970">(Sep 08 2020 at 14:36)</a>:</h4>
<p>if you want to say that Lean should use the definition to infer the underscores</p>



<a name="209394996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209394996" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209394996">(Sep 08 2020 at 14:36)</a>:</h4>
<p>then it is possible, but not from <code>fintype.card n</code></p>



<a name="209395198"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209395198" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209395198">(Sep 08 2020 at 14:37)</a>:</h4>
<p>will maybe mull on this a bit as I learn some more (I'm sure my dynamically typed daytime programming is showing through a bit too much)</p>



<a name="209395208"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/209395208" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#209395208">(Sep 08 2020 at 14:37)</a>:</h4>
<p>thanks for indulging the question</p>



<a name="210033772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210033772" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210033772">(Sep 14 2020 at 17:01)</a>:</h4>
<p>This doesn't work, in part because I don't yet understand how to easily deal with the <code>option</code> type, but am I on the right track syntactically with using <code>match</code> to define this:</p>
<div class="codehilite"><pre><span></span><code><span class="c">/-</span><span class="cm">- A move is an initial chess board along with the start and end squares</span>
<span class="cm">    containing the piece which is moved. -/</span>
<span class="kn">structure</span> <span class="n">move</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">board</span><span class="o">:</span> <span class="n">board</span> <span class="n">m</span> <span class="n">n</span> <span class="n">ι</span> <span class="n">colored_pieces</span><span class="o">)</span>
<span class="o">(</span><span class="n">start_square</span> <span class="o">:</span> <span class="n">m</span> <span class="bp">×</span> <span class="n">n</span><span class="o">)</span>
<span class="o">(</span><span class="n">end_square</span> <span class="o">:</span> <span class="n">m</span> <span class="bp">×</span> <span class="n">n</span><span class="o">)</span>
<span class="o">(</span><span class="n">occupied_start</span><span class="o">:</span>
    <span class="o">(</span><span class="n">board</span><span class="bp">.</span><span class="n">contents</span> <span class="n">start_square</span><span class="bp">.</span><span class="mi">1</span> <span class="n">start_square</span><span class="bp">.</span><span class="mi">2</span><span class="o">)</span><span class="bp">.</span><span class="n">is_some</span>
    <span class="bp">.</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">exact_dec_trivial</span><span class="o">)</span>
<span class="o">(</span><span class="n">valid_for_piece</span><span class="o">:</span> <span class="n">pieces</span> <span class="bp">→</span> <span class="kt">Prop</span> <span class="o">:=</span>
 <span class="k">match</span> <span class="o">(</span><span class="n">board</span><span class="bp">.</span><span class="n">pieces</span> <span class="o">(</span><span class="n">board</span><span class="bp">.</span><span class="n">contents</span> <span class="n">start_square</span><span class="bp">.</span><span class="mi">1</span> <span class="n">start_square</span><span class="bp">.</span><span class="mi">2</span><span class="o">))</span> <span class="k">with</span>
  <span class="bp">|</span> <span class="n">pieces</span><span class="bp">.</span><span class="n">knight</span> <span class="o">:=</span> <span class="o">(</span>
    <span class="o">(</span><span class="n">abs</span> <span class="o">(</span><span class="n">end_square</span><span class="bp">.</span><span class="mi">1</span> <span class="bp">-</span> <span class="n">start_square</span><span class="bp">.</span><span class="mi">1</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">2</span>
        <span class="bp">∧</span> <span class="n">abs</span> <span class="o">(</span><span class="n">end_square</span><span class="bp">.</span><span class="mi">2</span> <span class="bp">-</span> <span class="n">start_square</span><span class="bp">.</span><span class="mi">2</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">∨</span>
    <span class="o">(</span><span class="n">abs</span> <span class="o">(</span><span class="n">end_square</span><span class="bp">.</span><span class="mi">2</span> <span class="bp">-</span> <span class="n">start_square</span><span class="bp">.</span><span class="mi">2</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">2</span>
        <span class="bp">∧</span> <span class="n">abs</span> <span class="o">(</span><span class="n">end_square</span><span class="bp">.</span><span class="mi">1</span> <span class="bp">-</span> <span class="n">start_square</span><span class="bp">.</span><span class="mi">1</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">))</span>
 <span class="bp">|</span> <span class="bp">_</span> <span class="o">:=</span> <span class="n">tt</span>
 <span class="kn">end</span><span class="o">)</span>
</code></pre></div>



<a name="210033908"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210033908" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210033908">(Sep 14 2020 at 17:02)</a>:</h4>
<p>It's <code>valid_for_piece</code> that I'm trying to add/define (and I don't see how to tell the match that I already know the square is occupied from <code>occupied_start</code>, so probably I'm doing that part wrong as well and they should somehow combine)</p>



<a name="210034614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210034614" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210034614">(Sep 14 2020 at 17:07)</a>:</h4>
<p>I know there's likely a few things wrong with that, just trying to make progress I guess. <code>tt</code> is not a Prop, if that even is the right type I want there -- what's the trivial proposition?</p>



<a name="210034635"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210034635" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210034635">(Sep 14 2020 at 17:07)</a>:</h4>
<p><code>true</code></p>



<a name="210034676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210034676" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210034676">(Sep 14 2020 at 17:08)</a>:</h4>
<p>Ah of course.</p>



<a name="210035071"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210035071" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210035071">(Sep 14 2020 at 17:11)</a>:</h4>
<p>I would define a separate def that takes a piece and a pair of positions and says whether it is a valid move</p>



<a name="210035113"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210035113" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210035113">(Sep 14 2020 at 17:11)</a>:</h4>
<p>Whether or not the end pos is occupied</p>



<a name="210035128"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210035128" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210035128">(Sep 14 2020 at 17:11)</a>:</h4>
<p>And doesn't care about board dimensions etc</p>



<a name="210035153"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210035153" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210035153">(Sep 14 2020 at 17:11)</a>:</h4>
<p>and then that <code>def</code> would match on the piece?</p>



<a name="210035294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210035294" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210035294">(Sep 14 2020 at 17:12)</a>:</h4>
<p>Exactly. Even more verbose would be separate defns for each move type. Then the match statement is just properly connecting to the defns you made.</p>



<a name="210035328"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210035328" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210035328">(Sep 14 2020 at 17:13)</a>:</h4>
<p>makes sense</p>



<a name="210035336"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210035336" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210035336">(Sep 14 2020 at 17:13)</a>:</h4>
<p>Which you'd have to do anyway because of en passant or castling, etc.</p>



<a name="210035373"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210035373" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210035373">(Sep 14 2020 at 17:13)</a>:</h4>
<p>yeah I'm not even going to bother doing anything but knights to start, and no captures, and no other fun</p>



<a name="210035418"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210035418" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210035418">(Sep 14 2020 at 17:14)</a>:</h4>
<p>keepin it quite simple for now, I'm trying to "prove" / "represent" <a href="https://github.com/Julian/lean-across-the-board/blob/main/src/guarini.lean">https://github.com/Julian/lean-across-the-board/blob/main/src/guarini.lean</a></p>



<a name="210035466"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210035466" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210035466">(Sep 14 2020 at 17:14)</a>:</h4>
<p>will give that a shot.</p>



<a name="210035767"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210035767" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210035767">(Sep 14 2020 at 17:16)</a>:</h4>
<p>Oh also how do I convert between <code>m × n</code> and <code>m \to n</code>? I assume there's some nicer way than the explicit unpacking I did there</p>



<a name="210035827"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210035827" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210035827">(Sep 14 2020 at 17:17)</a>:</h4>
<p><code>function.curry</code> and <code>function.uncurry</code></p>



<a name="210035856"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210035856" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210035856">(Sep 14 2020 at 17:17)</a>:</h4>
<p>aha, thanks!</p>



<a name="210035891"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210035891" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210035891">(Sep 14 2020 at 17:17)</a>:</h4>
<p>I guess that I should indeed first look for things named like the operation I'm doing... :)</p>



<a name="210035987"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210035987" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210035987">(Sep 14 2020 at 17:18)</a>:</h4>
<p>Seriously, that is an extremely important strategy.</p>



<a name="210036088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210036088" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210036088">(Sep 14 2020 at 17:19)</a>:</h4>
<p>It's the reason why <code>zmod.pow_card</code> is called like that, instead of <code>fermats_little_theorem</code></p>



<a name="210036264"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210036264" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210036264">(Sep 14 2020 at 17:20)</a>:</h4>
<p>Or look up Cayley Hamilton, or any other theorem that carries the name of a famous mathematician that you learned in 1st or 2nd year...<br>
The mathematician might be named in the docstring, but the theorem will have some crazy name that says what it is doing.<br>
Exception: <code>function.curry</code></p>



<a name="210036317"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210036317" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210036317">(Sep 14 2020 at 17:21)</a>:</h4>
<p>How do you plan on using move? As it is now, every time you try to create a move, you'll have to prove something about a complex board state.</p>



<a name="210036514"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210036514" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210036514">(Sep 14 2020 at 17:22)</a>:</h4>
<p>I'm picturing a move as a pair of positions, and possibly tupled with the piece being moved. That is in turn passed to a "is_valid" which takes a board state and that move, and tells you if it's valid.</p>



<a name="210036515"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210036515" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210036515">(Sep 14 2020 at 17:22)</a>:</h4>
<p>Maybe <code>dec_trivial</code> can prove that?</p>



<a name="210036536"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210036536" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210036536">(Sep 14 2020 at 17:23)</a>:</h4>
<p>I was hoping <code>dec_trivial</code> would do magic again yeah</p>



<a name="210036701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210036701" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210036701">(Sep 14 2020 at 17:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/113489-new-members/topic/Advice.20on.20Definitions/near/210036264">said</a>:</p>
<blockquote>
<p>Or look up Cayley Hamilton, or any other theorem that carries the name of a famous mathematician that you learned in 1st or 2nd year...<br>
The mathematician might be named in the docstring, but the theorem will have some crazy name that says what it is doing.<br>
Exception: <code>function.curry</code></p>
</blockquote>
<p>yeah I've noticed a few examples of that already (from just browsing around random theorems) -- it's definitely super helpful</p>



<a name="210036949"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210036949" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210036949">(Sep 14 2020 at 17:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="308899">Yakov Pechersky</span> <a href="#narrow/stream/113489-new-members/topic/Advice.20on.20Definitions/near/210036317">said</a>:</p>
<blockquote>
<p>How do you plan on using move? As it is now, every time you try to create a move, you'll have to prove something about a complex board state.</p>
</blockquote>
<p>clearly I don't know too much about what I'm doing yet, but other than hoping that <code>dec_trivial</code> would just prove this for me each time I made one, I also assumed at some point I'll want to define ways to "reify" moves onto boards and be able to convert between sequences of moves and sequences of boards -- because ultimately I think the theorem I'm going for is like "this sequence of moves is valid and takes this starting board to this ending board"</p>



<a name="210037160"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210037160" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210037160">(Sep 14 2020 at 17:29)</a>:</h4>
<p>I guess "your way" you instead just have sequences of boards, and then you assert that the moves between them are all valid</p>



<a name="210040403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210040403" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210040403">(Sep 14 2020 at 17:53)</a>:</h4>
<p>Totally. Monadic moves while satisfying the valid constraint. Then the whole thing is a 'sequence' in Haskell lingo.</p>



<a name="210041296"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210041296" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210041296">(Sep 14 2020 at 18:00)</a>:</h4>
<p>Yes somehow I am getting the distinct sense that I'd be further along in Lean if I knew more Haskell :)</p>



<a name="210041528"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210041528" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210041528">(Sep 14 2020 at 18:02)</a>:</h4>
<p>Or more math.</p>



<a name="210041532"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210041532" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210041532">(Sep 14 2020 at 18:02)</a>:</h4>
<p>or both, oy.</p>



<a name="210069481"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210069481" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210069481">(Sep 14 2020 at 22:14)</a>:</h4>
<p><span class="user-mention" data-user-id="321696">@Julian Berman</span>, I haven't looked in any detail at what you're doing, but have you looked at the existing examples of combinatorial games? They will be of a different flavour than what you're doing, but may be useful reading to see how similar things have been done previously. From memory we only have domineering and nim (there is an abandoned dots-and-boxes branch, but I think it didn't have much).</p>



<a name="210070155"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210070155" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210070155">(Sep 14 2020 at 22:23)</a>:</h4>
<p>There's an abandoned dots and boxes branch??</p>



<a name="210070803"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210070803" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210070803">(Sep 14 2020 at 22:32)</a>:</h4>
<p>I saw the file actually a week or so ago when grepping around. It definitely looked interesting yeah</p>



<a name="210070832"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210070832" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210070832">(Sep 14 2020 at 22:33)</a>:</h4>
<p>I didn't read it carefully then but made a note to read it. Maybe now's indeed the time</p>



<a name="210071211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210071211" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210071211">(Sep 14 2020 at 22:38)</a>:</h4>
<p>The <a href="https://github.com/leanprover-community/mathlib/tree/dots_and_boxes">branch#dots_and_boxes</a> seems to have irremediably diverged from master; attempting to merge gave lots of conflicts. The actual <code>dots_and_boxes.lean</code> file is at <a href="https://gist.github.com/semorrison/b14fac4a1cb65a117f0fab08a6afabf8">https://gist.github.com/semorrison/b14fac4a1cb65a117f0fab08a6afabf8</a>, although I have no idea if there are supporting lemmas in other files that got lost. As you can see its far from complete.</p>



<a name="210071391"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210071391" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210071391">(Sep 14 2020 at 22:40)</a>:</h4>
<p>(If I remember right, while most of that file is reasonable, at the end I tried to force dots-and-boxes to "be" a Conway combinatorial game, which it isn't, by doing something awkward like including "alternately counting claimed boxes" as moves after the end of the usual game. This is probably dumb in some way that I hadn't thought of.)</p>



<a name="210071419"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210071419" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210071419">(Sep 14 2020 at 22:41)</a>:</h4>
<p>I don't think you can do it like that</p>



<a name="210071444"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210071444" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210071444">(Sep 14 2020 at 22:41)</a>:</h4>
<p>I think that dots and boxes is not a combinatorial game and can't be made into one in any natural way. The combinatorial game is called nimdots.</p>



<a name="210071489"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210071489" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210071489">(Sep 14 2020 at 22:42)</a>:</h4>
<p>I remember thinking hard about this a decade or so ago</p>



<a name="210071509"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210071509" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210071509">(Sep 14 2020 at 22:42)</a>:</h4>
<p>nimdots is just like dots and boxes except last player to complete a legal move wins.</p>



<a name="210071518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210071518" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210071518">(Sep 14 2020 at 22:42)</a>:</h4>
<p>Yes, I had a bad feeling about this as I was going. In any case I hope the top 80% of that file is still sensible, and one should just lop it off at the first place <code>pgame</code> is mentioned.</p>



<a name="210071529"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210071529" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210071529">(Sep 14 2020 at 22:43)</a>:</h4>
<p>in Winning Ways they argue that the two games are very similar, and this is true to a certain extent; I once wrote a paper explaining where the two theories started to differ.</p>



<a name="210071562"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210071562" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210071562">(Sep 14 2020 at 22:43)</a>:</h4>
<p>In any case, I think the most important thing to salvage from that branch is the following doc-string:</p>
<div class="codehilite"><pre><span></span><code><span class="c">/-</span><span class="cm">- All games of dots and boxes are short, because it&#39;s hard to beat Kevin. -/</span>
<span class="kn">instance</span> <span class="n">short_dots_and_boxes</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="n">dots_and_boxes</span><span class="bp">.</span><span class="n">board</span><span class="o">)</span> <span class="o">:</span> <span class="n">short</span> <span class="o">(</span><span class="n">dots_and_boxes</span> <span class="n">b</span><span class="o">)</span> <span class="o">:=</span>
</code></pre></div>



<a name="210156389"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210156389" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210156389">(Sep 15 2020 at 16:53)</a>:</h4>
<p><span class="user-mention" data-user-id="308899">@Yakov Pechersky</span> some very superficial questions I'm sure as I try to understand your commits (thanks again! glad I tempted you :)</p>



<a name="210156516"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210156516" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210156516">(Sep 15 2020 at 16:54)</a>:</h4>
<p>I guess first -- <code>rfl</code> is to <code>by refl</code> what like <code>dec_trivial</code> is to <code>tactic.exact_dec_trivial</code> or so?</p>



<a name="210156578"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210156578" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210156578">(Sep 15 2020 at 16:55)</a>:</h4>
<p>it's like a tactic that just calls a specific (lemma?/callable?something? what's the terminology for what those are)</p>



<a name="210156694"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210156694" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210156694">(Sep 15 2020 at 16:55)</a>:</h4>
<p>Hm does go to definition take me to <code>rfl</code>'s definition...</p>



<a name="210156781"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210156781" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210156781">(Sep 15 2020 at 16:56)</a>:</h4>
<p>it does, cool, so scratch the above</p>



<a name="210157268"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210157268" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210157268">(Sep 15 2020 at 16:59)</a>:</h4>
<p>ok, next, what's the point of <code>simp only</code>?</p>



<a name="210157302"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210157302" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210157302">(Sep 15 2020 at 16:59)</a>:</h4>
<p>I can see what it does, but is it just a performance optimization?</p>



<a name="210157553"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210157553" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210157553">(Sep 15 2020 at 17:00)</a>:</h4>
<p>Yes, though it's also sometimes useful if <code>simp</code> simplifies an expression too much. We have a tutorial page on <code>simp</code> which discusses this: <a href="https://leanprover-community.github.io/extras/simp.html">https://leanprover-community.github.io/extras/simp.html</a></p>



<a name="210157621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210157621" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210157621">(Sep 15 2020 at 17:01)</a>:</h4>
<p>Ah, cool, thanks!</p>



<a name="210160060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210160060" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210160060">(Sep 15 2020 at 17:19)</a>:</h4>
<p>I like that that page uses language like "Lean seems to [...] (apparently unfold just asks simp to do its dirty work for it". Makes me feel better about feeling fuzzy about lean's behavior.</p>



<a name="210162760"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210162760" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210162760">(Sep 15 2020 at 17:40)</a>:</h4>
<p>The tactic <code>refl</code> is slightly more general than the term <code>rfl</code>, because the tactic will close any goal of the form <code>R x y</code> if <code>R</code> is tagged with an attribute saying it's reflexive (the attribute might also be called <code>refl</code>, I can't remember). On the other hand <code>rfl</code> is just reflexivity of equality; for example if you wanted to prove <code>X &lt;-&gt; X</code> in term mode, you'd use <code>iff.rfl</code>.</p>



<a name="210163382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210163382" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210163382">(Sep 15 2020 at 17:44)</a>:</h4>
<p>Writing <code>lemma FLT : lemma_statement := rfl</code> also flags <code>FLT</code> as a <code>[refl]</code> lemma.</p>



<a name="210164029"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210164029" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210164029">(Sep 15 2020 at 17:49)</a>:</h4>
<p>(From that simp page too) -- I guess <code>existsi</code> is probably similar to <code>use</code>? Is there a reason to use <code>existsi</code> instead of <code>use</code> or vice versa?</p>



<a name="210164171"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210164171" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210164171">(Sep 15 2020 at 17:50)</a>:</h4>
<p>Ah, use's docstring says things...</p>



<a name="210164297"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Advice%20on%20Definitions/near/210164297" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Advice.20on.20Definitions.html#210164297">(Sep 15 2020 at 17:51)</a>:</h4>
<p>OK I don't know the practical implications of <code>Unlike existsi, x is elaborated with respect to the expected type.</code> but I guess I can learn "always use <code>use</code> from that" probably?</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>