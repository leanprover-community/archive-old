---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Image.20of.20finite-dimensional.20field.20is.20finite-dimensional.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Image.20of.20finite-dimensional.20field.20is.20finite-dimensional.html">Image of finite-dimensional field is finite-dimensional</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="266123120"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Image%20of%20finite-dimensional%20field%20is%20finite-dimensional/near/266123120" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Monnet <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Image.20of.20finite-dimensional.20field.20is.20finite-dimensional.html#266123120">(Dec 26 2021 at 19:00)</a>:</h4>
<p>Let <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mi mathvariant="normal">/</mi><mi>K</mi></mrow><annotation encoding="application/x-tex">L/K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">L</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span> be a field extension and let <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mi mathvariant="normal">/</mi><mi>K</mi></mrow><annotation encoding="application/x-tex">E/K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span> be a finite dimensional subfield of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">L</span></span></span></span>. I want to show that for any <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span>-isomorphism <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>σ</mi><mo>:</mo><mi>L</mi><mo>→</mo><mi>L</mi></mrow><annotation encoding="application/x-tex">\sigma : L \to L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">L</span></span></span></span>,  the <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span>-algebra <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>σ</mi><mo stretchy="false">(</mo><mi>E</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\sigma(E)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mclose">)</span></span></span></span> is finite-dimensional. Here is my attempt:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">field_theory.galois</span>

<span class="kd">lemma</span> <span class="n">im_finite_dimensional</span> <span class="o">{</span><span class="n">K</span> <span class="n">L</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">field</span> <span class="n">K</span><span class="o">]</span> <span class="o">[</span><span class="n">field</span> <span class="n">L</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">K</span> <span class="n">L</span><span class="o">]</span>
<span class="o">{</span><span class="n">E</span> <span class="o">:</span> <span class="n">intermediate_field</span> <span class="n">K</span> <span class="n">L</span><span class="o">}</span> <span class="o">(</span><span class="n">σ</span> <span class="o">:</span> <span class="n">L</span> <span class="bp">≃ₐ</span><span class="o">[</span><span class="n">K</span><span class="o">]</span> <span class="n">L</span><span class="o">)</span> <span class="o">(</span><span class="n">h_findim</span> <span class="o">:</span> <span class="n">finite_dimensional</span> <span class="n">K</span> <span class="n">E</span><span class="o">):</span>
<span class="n">finite_dimensional</span> <span class="n">K</span> <span class="o">(</span><span class="n">E.map</span> <span class="n">σ.to_alg_hom</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">let</span> <span class="n">f</span> <span class="o">:=</span> <span class="n">σ.to_alg_hom.restrict_domain</span> <span class="n">E</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">h</span> <span class="o">:=</span> <span class="n">linear_map.finite_dimensional_range</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">E</span> <span class="bp">→ₗ</span><span class="o">[</span><span class="n">K</span><span class="o">]</span> <span class="n">L</span><span class="o">),</span>
  <span class="k">have</span> <span class="n">h2</span> <span class="o">:</span> <span class="n">f.range</span> <span class="bp">=</span> <span class="o">(</span><span class="n">E.map</span> <span class="n">σ.to_alg_hom</span><span class="o">)</span><span class="bp">.</span><span class="n">to_subalgebra</span><span class="o">,</span>
  <span class="o">{</span>
    <span class="n">ext</span><span class="o">,</span>
    <span class="n">split</span><span class="o">,</span>
    <span class="o">{</span>
      <span class="n">rintro</span> <span class="o">⟨</span><span class="n">a</span><span class="o">,</span> <span class="n">hax</span><span class="o">⟩,</span>
      <span class="n">use</span> <span class="n">a</span><span class="o">,</span>
      <span class="n">refine</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">hax</span><span class="o">⟩,</span>
      <span class="n">simp</span><span class="o">,</span>
    <span class="o">},</span>
    <span class="o">{</span>
      <span class="n">intro</span> <span class="n">hx</span><span class="o">,</span>
      <span class="n">cases</span> <span class="n">hx</span> <span class="k">with</span> <span class="n">a</span> <span class="n">hx</span><span class="o">,</span>
      <span class="n">cases</span> <span class="n">hx</span> <span class="k">with</span> <span class="n">ha</span> <span class="n">hax</span><span class="o">,</span>
      <span class="n">use</span> <span class="n">a</span><span class="o">,</span>
      <span class="n">exact</span> <span class="n">ha</span><span class="o">,</span>
      <span class="n">exact</span> <span class="n">hax</span><span class="o">,</span>
    <span class="o">},</span>
  <span class="o">},</span>
  <span class="gr">sorry</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>At this point I would like to do something like <code>rw h2 at h</code>, but this doesn't work because <code>h2</code> talks about <code>f</code> and <code>h</code> talks about <code>coe f</code>. I'm not sure how to proceed, but I suspect it must be possible in very few lines from here. Any help would be much appreciated!</p>



<a name="266123632"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Image%20of%20finite-dimensional%20field%20is%20finite-dimensional/near/266123632" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Image.20of.20finite-dimensional.20field.20is.20finite-dimensional.html#266123632">(Dec 26 2021 at 19:13)</a>:</h4>
<p><code>finite_dimensional</code> is defined as <code>module.finite</code>,so <a href="https://leanprover-community.github.io/mathlib_docs/find/module.finite.of_surjective">docs#module.finite.of_surjective</a> should do the job</p>



<a name="266125248"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Image%20of%20finite-dimensional%20field%20is%20finite-dimensional/near/266125248" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Image.20of.20finite-dimensional.20field.20is.20finite-dimensional.html#266125248">(Dec 26 2021 at 19:59)</a>:</h4>
<p>It's often the case that a predicate which can be pushed along an isomorphism can also be pushed along a surjection</p>



<a name="266125633"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Image%20of%20finite-dimensional%20field%20is%20finite-dimensional/near/266125633" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Monnet <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Image.20of.20finite-dimensional.20field.20is.20finite-dimensional.html#266125633">(Dec 26 2021 at 20:09)</a>:</h4>
<p>I'm having trouble actually getting a surjection <code>E \to E.map \sigma</code>. I'm sure this is really straightforward but I can't find a way to define the map</p>



<a name="266131563"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Image%20of%20finite-dimensional%20field%20is%20finite-dimensional/near/266131563" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Image.20of.20finite-dimensional.20field.20is.20finite-dimensional.html#266131563">(Dec 26 2021 at 22:47)</a>:</h4>
<p>We have that surjection already for other subtypes, just not intermediate_field</p>



<a name="266131570"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Image%20of%20finite-dimensional%20field%20is%20finite-dimensional/near/266131570" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Image.20of.20finite-dimensional.20field.20is.20finite-dimensional.html#266131570">(Dec 26 2021 at 22:47)</a>:</h4>
<p>Something like <a href="https://leanprover-community.github.io/mathlib_docs/find/subgroup.map_equiv">docs#subgroup.map_equiv</a>, it's called something different for submonoid and submodule</p>



<a name="266131716"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Image%20of%20finite-dimensional%20field%20is%20finite-dimensional/near/266131716" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Image.20of.20finite-dimensional.20field.20is.20finite-dimensional.html#266131716">(Dec 26 2021 at 22:51)</a>:</h4>
<p>Aha, <a href="https://leanprover-community.github.io/mathlib_docs/find/mul_equiv.subgroup_equiv_map">docs#mul_equiv.subgroup_equiv_map</a></p>



<a name="266131838"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Image%20of%20finite-dimensional%20field%20is%20finite-dimensional/near/266131838" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Image.20of.20finite-dimensional.20field.20is.20finite-dimensional.html#266131838">(Dec 26 2021 at 22:54)</a>:</h4>
<p>So I guess we want:</p>
<ul>
<li><code>ring_equiv.subsemiring_equiv_map</code></li>
<li><code>ring_equiv.semiring_equiv_map</code></li>
<li><code>alg_equiv.subalgebra_equiv_map</code></li>
<li><code>alg_equiv.intermediate_field_equiv_map</code></li>
</ul>



<a name="266132578"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Image%20of%20finite-dimensional%20field%20is%20finite-dimensional/near/266132578" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Monnet <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Image.20of.20finite-dimensional.20field.20is.20finite-dimensional.html#266132578">(Dec 26 2021 at 23:12)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span> so you’re saying there isn’t a quick way to do this with current mathlib?</p>



<a name="266132660"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Image%20of%20finite-dimensional%20field%20is%20finite-dimensional/near/266132660" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Image.20of.20finite-dimensional.20field.20is.20finite-dimensional.html#266132660">(Dec 26 2021 at 23:14)</a>:</h4>
<p>The definitions above should ask only be a few lines, they're just missing</p>



<a name="266132677"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Image%20of%20finite-dimensional%20field%20is%20finite-dimensional/near/266132677" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Image.20of.20finite-dimensional.20field.20is.20finite-dimensional.html#266132677">(Dec 26 2021 at 23:15)</a>:</h4>
<p>Just copy the approach from <a href="https://leanprover-community.github.io/mathlib_docs/find/mul_equiv.submonoid_equiv_map/src">src#mul_equiv.submonoid_equiv_map</a></p>



<a name="266132741"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Image%20of%20finite-dimensional%20field%20is%20finite-dimensional/near/266132741" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Image.20of.20finite-dimensional.20field.20is.20finite-dimensional.html#266132741">(Dec 26 2021 at 23:17)</a>:</h4>
<p>A PR adding just those would be great!</p>



<a name="266133815"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Image%20of%20finite-dimensional%20field%20is%20finite-dimensional/near/266133815" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Monnet <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Image.20of.20finite-dimensional.20field.20is.20finite-dimensional.html#266133815">(Dec 26 2021 at 23:45)</a>:</h4>
<p>Alright, I’ll do that then. Thanks for your help!</p>



<a name="266165010"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Image%20of%20finite-dimensional%20field%20is%20finite-dimensional/near/266165010" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Monnet <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Image.20of.20finite-dimensional.20field.20is.20finite-dimensional.html#266165010">(Dec 27 2021 at 11:15)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span> I've done most of it, although I'm not managing to get the <code>commutes'</code> axiom for <code>alg_equiv</code>s. Here's what I have so far: </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">im_in_map</span> <span class="o">{</span><span class="n">K</span> <span class="n">L</span> <span class="n">L'</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">field</span> <span class="n">K</span><span class="o">]</span> <span class="o">[</span><span class="n">field</span> <span class="n">L</span><span class="o">]</span> <span class="o">[</span><span class="n">field</span> <span class="n">L'</span><span class="o">]</span>
<span class="o">[</span><span class="n">algebra</span> <span class="n">K</span> <span class="n">L</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">K</span> <span class="n">L'</span><span class="o">]</span> <span class="o">(</span><span class="n">E</span> <span class="o">:</span> <span class="n">intermediate_field</span> <span class="n">K</span> <span class="n">L</span><span class="o">)</span> <span class="o">(</span><span class="n">σ</span> <span class="o">:</span> <span class="n">L</span> <span class="bp">≃ₐ</span><span class="o">[</span><span class="n">K</span><span class="o">]</span> <span class="n">L'</span><span class="o">)</span>
<span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">E</span><span class="o">)</span> <span class="o">:</span>
<span class="n">σ</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">E.map</span> <span class="n">σ.to_alg_hom</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">use</span> <span class="n">x</span><span class="o">,</span>
  <span class="n">simp</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">inv_im_in_subfield</span> <span class="o">{</span><span class="n">K</span> <span class="n">L</span> <span class="n">L'</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">field</span> <span class="n">K</span><span class="o">]</span> <span class="o">[</span><span class="n">field</span> <span class="n">L</span><span class="o">]</span> <span class="o">[</span><span class="n">field</span> <span class="n">L'</span><span class="o">]</span>
<span class="o">[</span><span class="n">algebra</span> <span class="n">K</span> <span class="n">L</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">K</span> <span class="n">L'</span><span class="o">]</span> <span class="o">(</span><span class="n">E</span> <span class="o">:</span> <span class="n">intermediate_field</span> <span class="n">K</span> <span class="n">L</span><span class="o">)</span> <span class="o">(</span><span class="n">σ</span> <span class="o">:</span> <span class="n">L</span> <span class="bp">≃ₐ</span><span class="o">[</span><span class="n">K</span><span class="o">]</span> <span class="n">L'</span><span class="o">)</span>
<span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">E.map</span> <span class="n">σ.to_alg_hom</span><span class="o">)</span> <span class="o">:</span>
<span class="n">σ.symm</span> <span class="n">y</span> <span class="bp">∈</span> <span class="n">E</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">cases</span> <span class="n">y</span> <span class="k">with</span> <span class="n">x</span> <span class="n">hx</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">hx</span> <span class="k">with</span> <span class="n">a</span> <span class="n">ha</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">ha</span> <span class="k">with</span> <span class="n">ha</span> <span class="n">hax</span><span class="o">,</span>
  <span class="n">simp</span><span class="o">,</span>
  <span class="n">rw</span> <span class="bp">←</span> <span class="n">hax</span><span class="o">,</span>
  <span class="n">simp</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">ha</span><span class="o">,</span>
<span class="kd">end</span>


<span class="kd">def</span> <span class="n">intermediate_field_equiv_map</span> <span class="o">{</span><span class="n">K</span> <span class="n">L</span> <span class="n">L'</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">field</span> <span class="n">K</span><span class="o">]</span> <span class="o">[</span><span class="n">field</span> <span class="n">L</span><span class="o">]</span> <span class="o">[</span><span class="n">field</span> <span class="n">L'</span><span class="o">]</span>
<span class="o">[</span><span class="n">algebra</span> <span class="n">K</span> <span class="n">L</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">K</span> <span class="n">L'</span><span class="o">]</span> <span class="o">(</span><span class="n">E</span> <span class="o">:</span> <span class="n">intermediate_field</span> <span class="n">K</span> <span class="n">L</span><span class="o">)</span> <span class="o">(</span><span class="n">σ</span> <span class="o">:</span> <span class="n">L</span> <span class="bp">≃ₐ</span><span class="o">[</span><span class="n">K</span><span class="o">]</span> <span class="n">L'</span><span class="o">)</span> <span class="o">:</span>
<span class="n">E</span> <span class="bp">≃ₐ</span><span class="o">[</span><span class="n">K</span><span class="o">]</span> <span class="n">E.map</span> <span class="n">σ.to_alg_hom</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">to_fun</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="o">⟨</span><span class="n">σ</span> <span class="n">x</span><span class="o">,</span> <span class="n">im_in_map</span> <span class="n">E</span> <span class="n">σ</span> <span class="n">x</span><span class="o">⟩,</span>
  <span class="n">inv_fun</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="o">⟨</span><span class="n">σ.symm</span> <span class="n">x</span><span class="o">,</span> <span class="n">inv_im_in_subfield</span> <span class="n">E</span> <span class="n">σ</span> <span class="n">x</span><span class="o">⟩,</span>
  <span class="n">left_inv</span> <span class="o">:=</span>
  <span class="kd">begin</span>
    <span class="n">intro</span> <span class="n">x</span><span class="o">,</span>
    <span class="n">simp</span><span class="o">,</span>
  <span class="kd">end</span><span class="o">,</span>
  <span class="n">right_inv</span> <span class="o">:=</span>
  <span class="kd">begin</span>
    <span class="n">intro</span> <span class="n">x</span><span class="o">,</span>
    <span class="n">simp</span><span class="o">,</span>
  <span class="kd">end</span><span class="o">,</span>
  <span class="n">map_mul'</span> <span class="o">:=</span>
  <span class="kd">begin</span>
    <span class="n">intros</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span>
    <span class="n">simp</span><span class="o">,</span>
    <span class="n">refl</span><span class="o">,</span>
  <span class="kd">end</span><span class="o">,</span>
  <span class="n">map_add'</span> <span class="o">:=</span>
  <span class="kd">begin</span>
    <span class="n">intros</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span>
    <span class="n">simp</span><span class="o">,</span>
    <span class="n">refl</span><span class="o">,</span>
  <span class="kd">end</span><span class="o">,</span>
  <span class="n">commutes'</span> <span class="o">:=</span>
  <span class="kd">begin</span>
    <span class="n">intro</span> <span class="n">x</span><span class="o">,</span>
    <span class="gr">sorry</span><span class="o">,</span>
  <span class="kd">end</span>
   <span class="o">}</span>
</code></pre></div>
<p>Can you see a way to close the final goal? p.s. I realise my proof is extremely long compared to the submonoid one you sent me - I don't really understand the syntax in that prove with the <code>_</code>s and the <code>..</code>s. Also I think this situation is probably harder because of the algebra structure.</p>



<a name="266166919"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Image%20of%20finite-dimensional%20field%20is%20finite-dimensional/near/266166919" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Image.20of.20finite-dimensional.20field.20is.20finite-dimensional.html#266166919">(Dec 27 2021 at 11:51)</a>:</h4>
<p><code>def foo := { commutes := sorry, ..bar}</code> means "reuse all the other fields from <code>bar</code> rather than reproving them"</p>



<a name="266175497"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Image%20of%20finite-dimensional%20field%20is%20finite-dimensional/near/266175497" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Monnet <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Image.20of.20finite-dimensional.20field.20is.20finite-dimensional.html#266175497">(Dec 27 2021 at 14:14)</a>:</h4>
<p>Does that help with proving the <code>commutes'</code> condition? Seems like being a <code>K</code>-algebra is novel to this situation and can't be reused from one of the other constructions</p>



<a name="266175832"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Image%20of%20finite-dimensional%20field%20is%20finite-dimensional/near/266175832" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Image.20of.20finite-dimensional.20field.20is.20finite-dimensional.html#266175832">(Dec 27 2021 at 14:17)</a>:</h4>
<p>You could build the alg_hom version first</p>



<a name="266175904"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Image%20of%20finite-dimensional%20field%20is%20finite-dimensional/near/266175904" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Image.20of.20finite-dimensional.20field.20is.20finite-dimensional.html#266175904">(Dec 27 2021 at 14:18)</a>:</h4>
<p>What's the goal state that you're stuck at?</p>



<a name="266175912"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Image%20of%20finite-dimensional%20field%20is%20finite-dimensional/near/266175912" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Image.20of.20finite-dimensional.20field.20is.20finite-dimensional.html#266175912">(Dec 27 2021 at 14:18)</a>:</h4>
<p>(I don't have Lean accessible)</p>



<a name="266176161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Image%20of%20finite-dimensional%20field%20is%20finite-dimensional/near/266176161" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Monnet <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Image.20of.20finite-dimensional.20field.20is.20finite-dimensional.html#266176161">(Dec 27 2021 at 14:23)</a>:</h4>
<p>I'm stuck on </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="o">⟨</span><span class="bp">⇑</span><span class="n">σ</span> <span class="bp">↑</span><span class="o">(</span><span class="bp">⇑</span><span class="o">(</span><span class="n">algebra_map</span> <span class="n">K</span> <span class="bp">↥</span><span class="n">E</span><span class="o">)</span> <span class="n">x</span><span class="o">),</span> <span class="n">_</span><span class="o">⟩</span> <span class="bp">=</span> <span class="bp">⇑</span><span class="o">(</span><span class="n">algebra_map</span> <span class="n">K</span> <span class="bp">↥</span><span class="o">(</span><span class="n">E.map</span> <span class="n">σ.to_alg_hom</span><span class="o">))</span> <span class="n">x</span>
</code></pre></div>



<a name="266176261"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Image%20of%20finite-dimensional%20field%20is%20finite-dimensional/near/266176261" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Monnet <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Image.20of.20finite-dimensional.20field.20is.20finite-dimensional.html#266176261">(Dec 27 2021 at 14:25)</a>:</h4>
<p>Which is pretty obviously true from a maths standpoint, but seems like a type-theoretic nightmare</p>



<a name="266177032"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Image%20of%20finite-dimensional%20field%20is%20finite-dimensional/near/266177032" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Image.20of.20finite-dimensional.20field.20is.20finite-dimensional.html#266177032">(Dec 27 2021 at 14:37)</a>:</h4>
<p><code>ext</code></p>



<a name="266177702"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Image%20of%20finite-dimensional%20field%20is%20finite-dimensional/near/266177702" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Image.20of.20finite-dimensional.20field.20is.20finite-dimensional.html#266177702">(Dec 27 2021 at 14:46)</a>:</h4>
<p>from toying with this, you may need <code>subalgebra.coe_algebra_map</code> for <code>intermediate_field</code>s</p>



<a name="266177929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Image%20of%20finite-dimensional%20field%20is%20finite-dimensional/near/266177929" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Image.20of.20finite-dimensional.20field.20is.20finite-dimensional.html#266177929">(Dec 27 2021 at 14:48)</a>:</h4>
<p>I would suggest proving this for subalgebra first</p>



<a name="266184266"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Image%20of%20finite-dimensional%20field%20is%20finite-dimensional/near/266184266" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Image.20of.20finite-dimensional.20field.20is.20finite-dimensional.html#266184266">(Dec 27 2021 at 16:20)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">field_theory.galois</span>

<span class="kd">def</span> <span class="n">ring_equiv.subsemiring_equiv_map</span> <span class="o">{</span><span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">non_assoc_semiring</span> <span class="n">A</span><span class="o">]</span>
  <span class="o">[</span><span class="n">non_assoc_semiring</span> <span class="n">B</span><span class="o">]</span> <span class="o">(</span><span class="n">e</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">≃+*</span> <span class="n">B</span><span class="o">)</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="n">subsemiring</span> <span class="n">A</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">R</span> <span class="bp">≃+*</span> <span class="n">R.map</span> <span class="n">e.to_ring_hom</span> <span class="o">:=</span>
<span class="o">{</span> <span class="bp">..</span><span class="n">e.to_add_equiv.add_submonoid_equiv_map</span> <span class="n">R.to_add_submonoid</span><span class="o">,</span>
  <span class="bp">..</span><span class="n">e.to_mul_equiv.submonoid_equiv_map</span> <span class="n">R.to_submonoid</span><span class="o">}</span>

<span class="kd">def</span> <span class="n">ring_equiv.subring_equiv_map</span> <span class="o">{</span><span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">ring</span> <span class="n">A</span><span class="o">]</span>
  <span class="o">[</span><span class="n">ring</span> <span class="n">B</span><span class="o">]</span> <span class="o">(</span><span class="n">e</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">≃+*</span> <span class="n">B</span><span class="o">)</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="n">subring</span> <span class="n">A</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">R</span> <span class="bp">≃+*</span> <span class="n">R.map</span> <span class="n">e.to_ring_hom</span> <span class="o">:=</span>
<span class="n">e.subsemiring_equiv_map</span> <span class="n">R.to_subsemiring</span>


<span class="kd">def</span> <span class="n">alg_equiv.subalgebra_equiv_map</span> <span class="o">{</span><span class="n">R</span> <span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">A</span><span class="o">]</span>
  <span class="o">[</span><span class="n">semiring</span> <span class="n">B</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">R</span> <span class="n">A</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">R</span> <span class="n">B</span><span class="o">]</span> <span class="o">(</span><span class="n">e</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">≃ₐ</span><span class="o">[</span><span class="n">R</span><span class="o">]</span> <span class="n">B</span><span class="o">)</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">subalgebra</span> <span class="n">R</span> <span class="n">A</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">S</span> <span class="bp">≃ₐ</span><span class="o">[</span><span class="n">R</span><span class="o">]</span> <span class="o">(</span><span class="n">S.map</span> <span class="n">e.to_alg_hom</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">commutes'</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">r</span><span class="o">,</span> <span class="kd">begin</span>
    <span class="c1">-- goal is equality of elements of e(S)</span>
    <span class="n">ext</span><span class="o">,</span>
    <span class="c1">-- now an equality of elements of B</span>
    <span class="c1">-- but syntactically horrible</span>
    <span class="n">simp</span><span class="o">,</span>
    <span class="c1">-- only partly fixes it</span>
    <span class="c1">-- ↑(⇑(e.to_ring_equiv.subsemiring_equiv_map S.to_subsemiring) (⇑(algebra_map R ↥S) r)) =</span>
    <span class="c1">--   ⇑(algebra_map R B) r</span>
    <span class="n">change</span> <span class="n">e</span> <span class="o">(</span><span class="n">algebra_map</span> <span class="n">R</span> <span class="n">A</span> <span class="n">r</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(</span><span class="n">algebra_map</span> <span class="n">R</span> <span class="n">B</span> <span class="n">r</span><span class="o">),</span>
    <span class="c1">-- the cheat way to get it into simp normal form</span>
    <span class="n">simp</span><span class="o">,</span>
  <span class="kd">end</span><span class="o">,</span>
  <span class="bp">..</span><span class="n">e.to_ring_equiv.subsemiring_equiv_map</span> <span class="n">S.to_subsemiring</span><span class="o">,</span>
<span class="o">}</span>

<span class="kd">def</span> <span class="n">alg_equiv.intermediate_field_equiv_map</span> <span class="o">{</span><span class="n">K</span> <span class="n">L</span> <span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">field</span> <span class="n">K</span><span class="o">]</span> <span class="o">[</span><span class="n">field</span> <span class="n">L</span><span class="o">]</span> <span class="o">[</span><span class="n">field</span> <span class="n">M</span><span class="o">]</span>
  <span class="o">[</span><span class="n">algebra</span> <span class="n">K</span> <span class="n">L</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">K</span> <span class="n">M</span><span class="o">]</span> <span class="o">(</span><span class="n">e</span> <span class="o">:</span> <span class="n">L</span> <span class="bp">≃ₐ</span><span class="o">[</span><span class="n">K</span><span class="o">]</span> <span class="n">M</span><span class="o">)</span> <span class="o">(</span><span class="n">E</span> <span class="o">:</span> <span class="n">intermediate_field</span> <span class="n">K</span> <span class="n">L</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">E</span> <span class="bp">≃ₐ</span><span class="o">[</span><span class="n">K</span><span class="o">]</span> <span class="o">(</span><span class="n">E.map</span> <span class="n">e.to_alg_hom</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">e.subalgebra_equiv_map</span> <span class="n">E.to_subalgebra</span>
</code></pre></div>
<p>I got stuck in the same place as Sebastian -- I unstucked myself with a <code>change</code> but should <code>simp</code> be doing that?</p>



<a name="266184610"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Image%20of%20finite-dimensional%20field%20is%20finite-dimensional/near/266184610" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Image.20of.20finite-dimensional.20field.20is.20finite-dimensional.html#266184610">(Dec 27 2021 at 16:24)</a>:</h4>
<p>The problem seems to be that the new definitions added does not have accompanying simp lemmas.<br>
adding <code>@[simps]</code> to <code>ring_equiv.subsemiring_equiv_map</code> and <code>ring_equiv.subring_equiv_map</code> works.</p>



<a name="266184719"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Image%20of%20finite-dimensional%20field%20is%20finite-dimensional/near/266184719" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Image.20of.20finite-dimensional.20field.20is.20finite-dimensional.html#266184719">(Dec 27 2021 at 16:26)</a>:</h4>
<p>You just need a magic <code>@[simps]</code>:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">field_theory.galois</span>

<span class="kd">@[simps]</span> <span class="kd">def</span> <span class="n">ring_equiv.subsemiring_equiv_map</span> <span class="o">{</span><span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">non_assoc_semiring</span> <span class="n">A</span><span class="o">]</span>
  <span class="o">[</span><span class="n">non_assoc_semiring</span> <span class="n">B</span><span class="o">]</span> <span class="o">(</span><span class="n">e</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">≃+*</span> <span class="n">B</span><span class="o">)</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="n">subsemiring</span> <span class="n">A</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">R</span> <span class="bp">≃+*</span> <span class="n">R.map</span> <span class="n">e.to_ring_hom</span> <span class="o">:=</span>
<span class="o">{</span> <span class="bp">..</span><span class="n">e.to_add_equiv.add_submonoid_equiv_map</span> <span class="n">R.to_add_submonoid</span><span class="o">,</span>
  <span class="bp">..</span><span class="n">e.to_mul_equiv.submonoid_equiv_map</span> <span class="n">R.to_submonoid</span><span class="o">}</span>

<span class="kd">def</span> <span class="n">ring_equiv.subring_equiv_map</span> <span class="o">{</span><span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">ring</span> <span class="n">A</span><span class="o">]</span>
  <span class="o">[</span><span class="n">ring</span> <span class="n">B</span><span class="o">]</span> <span class="o">(</span><span class="n">e</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">≃+*</span> <span class="n">B</span><span class="o">)</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="n">subring</span> <span class="n">A</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">R</span> <span class="bp">≃+*</span> <span class="n">R.map</span> <span class="n">e.to_ring_hom</span> <span class="o">:=</span>
<span class="n">e.subsemiring_equiv_map</span> <span class="n">R.to_subsemiring</span>

<span class="kd">def</span> <span class="n">alg_equiv.subalgebra_equiv_map</span> <span class="o">{</span><span class="n">R</span> <span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">A</span><span class="o">]</span>
  <span class="o">[</span><span class="n">semiring</span> <span class="n">B</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">R</span> <span class="n">A</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">R</span> <span class="n">B</span><span class="o">]</span> <span class="o">(</span><span class="n">e</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">≃ₐ</span><span class="o">[</span><span class="n">R</span><span class="o">]</span> <span class="n">B</span><span class="o">)</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">subalgebra</span> <span class="n">R</span> <span class="n">A</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">S</span> <span class="bp">≃ₐ</span><span class="o">[</span><span class="n">R</span><span class="o">]</span> <span class="o">(</span><span class="n">S.map</span> <span class="n">e.to_alg_hom</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">commutes'</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">r</span><span class="o">,</span> <span class="kd">by</span> <span class="o">{</span> <span class="n">ext</span><span class="o">,</span> <span class="n">simp</span> <span class="o">},</span>
  <span class="bp">..</span><span class="n">e.to_ring_equiv.subsemiring_equiv_map</span> <span class="n">S.to_subsemiring</span> <span class="o">}</span>

<span class="kd">def</span> <span class="n">alg_equiv.intermediate_field_equiv_map</span> <span class="o">{</span><span class="n">K</span> <span class="n">L</span> <span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">field</span> <span class="n">K</span><span class="o">]</span> <span class="o">[</span><span class="n">field</span> <span class="n">L</span><span class="o">]</span> <span class="o">[</span><span class="n">field</span> <span class="n">M</span><span class="o">]</span>
  <span class="o">[</span><span class="n">algebra</span> <span class="n">K</span> <span class="n">L</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">K</span> <span class="n">M</span><span class="o">]</span> <span class="o">(</span><span class="n">e</span> <span class="o">:</span> <span class="n">L</span> <span class="bp">≃ₐ</span><span class="o">[</span><span class="n">K</span><span class="o">]</span> <span class="n">M</span><span class="o">)</span> <span class="o">(</span><span class="n">E</span> <span class="o">:</span> <span class="n">intermediate_field</span> <span class="n">K</span> <span class="n">L</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">E</span> <span class="bp">≃ₐ</span><span class="o">[</span><span class="n">K</span><span class="o">]</span> <span class="o">(</span><span class="n">E.map</span> <span class="n">e.to_alg_hom</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">e.subalgebra_equiv_map</span> <span class="n">E.to_subalgebra</span>
</code></pre></div>



<a name="266884455"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Image%20of%20finite-dimensional%20field%20is%20finite-dimensional/near/266884455" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Image.20of.20finite-dimensional.20field.20is.20finite-dimensional.html#266884455">(Jan 05 2022 at 00:45)</a>:</h4>
<p>(these are now in <a href="https://github.com/leanprover-community/mathlib/pull/11168">#11168</a>)</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>