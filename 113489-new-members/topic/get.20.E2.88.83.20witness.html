---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/get.20.E2.88.83.20witness.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/get.20.E2.88.83.20witness.html">get ∃ witness</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="203854390"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/get%20%E2%88%83%20witness/near/203854390" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Valéry Croizier <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/get.20.E2.88.83.20witness.html#203854390">(Jul 14 2020 at 16:24)</a>:</h4>
<p>How to get a witness from a hypothesis that starts with "∃" ?</p>



<a name="203854654"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/get%20%E2%88%83%20witness/near/203854654" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/get.20.E2.88.83.20witness.html#203854654">(Jul 14 2020 at 16:27)</a>:</h4>
<p>You can do <code>cases h with wit hw</code>.</p>



<a name="203854689"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/get%20%E2%88%83%20witness/near/203854689" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/get.20.E2.88.83.20witness.html#203854689">(Jul 14 2020 at 16:27)</a>:</h4>
<p>If <code>h</code> is the name of your hypothesis.</p>



<a name="203854785"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/get%20%E2%88%83%20witness/near/203854785" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Valéry Croizier <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/get.20.E2.88.83.20witness.html#203854785">(Jul 14 2020 at 16:28)</a>:</h4>
<p>Looks good, thanks!</p>



<a name="203887913"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/get%20%E2%88%83%20witness/near/203887913" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Orendorff <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/get.20.E2.88.83.20witness.html#203887913">(Jul 14 2020 at 21:03)</a>:</h4>
<p>Or equivalently, <code>obtain ⟨v, hv⟩ := hexists,</code> where the brackets are typed <code>\&lt;</code> and <code>\&gt;</code>.</p>



<a name="203888077"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/get%20%E2%88%83%20witness/near/203888077" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/get.20.E2.88.83.20witness.html#203888077">(Jul 14 2020 at 21:04)</a>:</h4>
<p>You can even put <code>obtain ⟨v, hv⟩ : ∃ v : V, f v = 0 := hexists</code> -- the advantage of this is that it's very readable</p>



<a name="221051492"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/get%20%E2%88%83%20witness/near/221051492" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marcus Rossel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/get.20.E2.88.83.20witness.html#221051492">(Dec 28 2020 at 10:20)</a>:</h4>
<p>Is there a neat way of doing this, when not in a tactic-block?<br>
Something like:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="k">let</span> <span class="o">⟨</span><span class="n">v</span><span class="o">,</span> <span class="n">hv</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">hexists</span> <span class="k">in</span> <span class="c1">--?</span>
</code></pre></div>



<a name="221051704"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/get%20%E2%88%83%20witness/near/221051704" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/get.20.E2.88.83.20witness.html#221051704">(Dec 28 2020 at 10:25)</a>:</h4>
<p>yup, such <code>let</code> statements work</p>



<a name="221052177"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/get%20%E2%88%83%20witness/near/221052177" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marcus Rossel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/get.20.E2.88.83.20witness.html#221052177">(Dec 28 2020 at 10:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/113489-new-members/topic/get.20.E2.88.83.20witness/near/221051704">said</a>:</p>
<blockquote>
<p>yup, such <code>let</code> statements work</p>
</blockquote>
<p>Doesn't work for me:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="n">n</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="o">:=</span>
  <span class="k">let</span> <span class="o">⟨</span><span class="n">n</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">h</span> <span class="k">in</span> <span class="n">n</span>
</code></pre></div>
<p>Here I get: </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">equation</span> <span class="n">compiler</span> <span class="n">failed</span> <span class="o">(</span><span class="n">use</span> <span class="bp">'</span><span class="kd">set_option</span> <span class="n">trace.eqn_compiler.elim_match</span> <span class="n">true'</span> <span class="n">for</span> <span class="n">additional</span> <span class="n">details</span><span class="o">)</span>
<span class="n">nested</span> <span class="n">exception</span> <span class="n">message</span><span class="o">:</span>
<span class="n">induction</span> <span class="n">tactic</span> <span class="n">failed</span><span class="o">,</span> <span class="n">recursor</span> <span class="bp">'</span><span class="n">Exists.dcases_on'</span> <span class="n">can</span> <span class="n">only</span> <span class="n">eliminate</span> <span class="n">into</span> <span class="kt">Prop</span>
</code></pre></div>



<a name="221052335"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/get%20%E2%88%83%20witness/near/221052335" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/get.20.E2.88.83.20witness.html#221052335">(Dec 28 2020 at 10:36)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/classical.indefinite_description">docs#classical.indefinite_description</a></p>



<a name="221052414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/get%20%E2%88%83%20witness/near/221052414" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marcus Rossel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/get.20.E2.88.83.20witness.html#221052414">(Dec 28 2020 at 10:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113489-new-members/topic/get.20.E2.88.83.20witness/near/221052335">said</a>:</p>
<blockquote>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/classical.indefinite_description">docs#classical.indefinite_description</a></p>
</blockquote>
<p>Then the function would become noncomputable right? I thought in Lean it could somehow remain constructive. Or would I have to use something other than <code>∃</code> then?</p>



<a name="221052674"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/get%20%E2%88%83%20witness/near/221052674" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/get.20.E2.88.83.20witness.html#221052674">(Dec 28 2020 at 10:45)</a>:</h4>
<p>Right, your function is impossible to make computable if it depends on extracting a witness</p>



<a name="221052731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/get%20%E2%88%83%20witness/near/221052731" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/get.20.E2.88.83.20witness.html#221052731">(Dec 28 2020 at 10:47)</a>:</h4>
<p>You could use <code>{n : \N // n &gt; 0}</code></p>



<a name="221052974"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/get%20%E2%88%83%20witness/near/221052974" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/get.20.E2.88.83.20witness.html#221052974">(Dec 28 2020 at 10:52)</a>:</h4>
<p>Although maybe <a href="https://leanprover-community.github.io/mathlib_docs/find/nat.find">docs#nat.find</a> will let you use exists anyway</p>



<a name="221053075"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/get%20%E2%88%83%20witness/near/221053075" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marcus Rossel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/get.20.E2.88.83.20witness.html#221053075">(Dec 28 2020 at 10:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113489-new-members/topic/get.20.E2.88.83.20witness/near/221052731">said</a>:</p>
<blockquote>
<p>You could use <code>{n : \N // n &gt; 0}</code></p>
</blockquote>
<p>Is this an approach used more generally in Lean? Returning a subtype instead of a <code>∃</code>-proposition to stay in the constructive realm?</p>



<a name="221053082"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/get%20%E2%88%83%20witness/near/221053082" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/get.20.E2.88.83.20witness.html#221053082">(Dec 28 2020 at 10:55)</a>:</h4>
<p>This function is just <code>classical.some</code>.</p>



<a name="221053083"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/get%20%E2%88%83%20witness/near/221053083" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/get.20.E2.88.83.20witness.html#221053083">(Dec 28 2020 at 10:55)</a>:</h4>
<p>Here's why such a function can't be defined:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">constant</span> <span class="n">magic</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="n">n</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span> <span class="n">ℕ</span>
<span class="kd">axiom</span> <span class="n">magic_extract</span> <span class="o">(</span><span class="n">n</span> <span class="n">h</span><span class="o">)</span> <span class="o">:</span> <span class="n">magic</span> <span class="o">⟨</span><span class="n">n</span><span class="o">,</span> <span class="n">h</span><span class="o">⟩</span> <span class="bp">=</span> <span class="n">n</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">false</span> <span class="o">:=</span>
<span class="k">have</span> <span class="n">h1</span> <span class="o">:</span> <span class="n">magic</span> <span class="o">⟨</span><span class="mi">1</span><span class="o">,</span> <span class="n">dec_trivial</span><span class="o">⟩</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">,</span> <span class="k">from</span> <span class="n">magic_extract</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span>
<span class="k">have</span> <span class="n">h2</span> <span class="o">:</span> <span class="n">magic</span> <span class="o">⟨</span><span class="mi">2</span><span class="o">,</span> <span class="n">dec_trivial</span><span class="o">⟩</span> <span class="bp">=</span> <span class="mi">2</span><span class="o">,</span> <span class="k">from</span> <span class="n">magic_extract</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span>
<span class="k">have</span> <span class="n">proof_irrel</span> <span class="o">:</span> <span class="n">magic</span> <span class="o">⟨</span><span class="mi">1</span><span class="o">,</span> <span class="n">dec_trivial</span><span class="o">⟩</span> <span class="bp">=</span> <span class="n">magic</span> <span class="o">⟨</span><span class="mi">2</span><span class="o">,</span> <span class="n">dec_trivial</span><span class="o">⟩,</span> <span class="k">from</span> <span class="n">rfl</span><span class="o">,</span>
<span class="k">show</span> <span class="n">false</span><span class="o">,</span> <span class="k">from</span>
<span class="n">absurd</span> <span class="o">(</span><span class="n">h1.symm.trans</span> <span class="bp">$</span> <span class="n">proof_irrel.trans</span> <span class="n">h2</span><span class="o">)</span> <span class="n">dec_trivial</span>
</code></pre></div>



<a name="221053114"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/get%20%E2%88%83%20witness/near/221053114" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/get.20.E2.88.83.20witness.html#221053114">(Dec 28 2020 at 10:56)</a>:</h4>
<p>you can't extract a witness computably because all exists-witnesses are equal</p>



<a name="221053164"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/get%20%E2%88%83%20witness/near/221053164" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/get.20.E2.88.83.20witness.html#221053164">(Dec 28 2020 at 10:57)</a>:</h4>
<p>Mathlib is not a constructive library (at least in most places).</p>



<a name="221053171"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/get%20%E2%88%83%20witness/near/221053171" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/get.20.E2.88.83.20witness.html#221053171">(Dec 28 2020 at 10:57)</a>:</h4>
<p>Actually I would say that most of the time we have computable witnesses when it can be done without too much effort</p>



<a name="221053219"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/get%20%E2%88%83%20witness/near/221053219" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/get.20.E2.88.83.20witness.html#221053219">(Dec 28 2020 at 10:58)</a>:</h4>
<p>However, instead of returning subtypes the preference is for a function and a theorem about that function</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>