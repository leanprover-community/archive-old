---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/norm_num.2F.20ring.20doesn't.20solve.20this.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/norm_num.2F.20ring.20doesn't.20solve.20this.3F.html">norm_num/ ring doesn't solve this?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="196067354"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/norm_num/%20ring%20doesn%27t%20solve%20this%3F/near/196067354" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Vaibhav Karve <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/norm_num.2F.20ring.20doesn't.20solve.20this.3F.html#196067354">(May 02 2020 at 19:53)</a>:</h4>
<p>What is the easiest way to resolve goals of the form:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">example</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">nat</span><span class="bp">.</span><span class="n">succ</span> <span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">succ</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">nat</span><span class="bp">.</span><span class="n">succ</span> <span class="n">n</span> <span class="o">:=</span>
    <span class="n">sorry</span>
</code></pre></div>


<p>So far I have tried <code>simp</code>, <code>ring</code>, <code>omega</code> and <code>norm_num</code>. None of them work. I am looking for a tactic that will resolve all statements of this type.</p>



<a name="196067502"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/norm_num/%20ring%20doesn%27t%20solve%20this%3F/near/196067502" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Steffan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/norm_num.2F.20ring.20doesn't.20solve.20this.3F.html#196067502">(May 02 2020 at 19:56)</a>:</h4>
<p>wait a second, try rewriting <code>succ_eq_add_one</code> maybe</p>



<a name="196067508"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/norm_num/%20ring%20doesn%27t%20solve%20this%3F/near/196067508" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/norm_num.2F.20ring.20doesn't.20solve.20this.3F.html#196067508">(May 02 2020 at 19:56)</a>:</h4>
<p><code>rw ← nat.add_one,  ring,</code></p>



<a name="196067517"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/norm_num/%20ring%20doesn%27t%20solve%20this%3F/near/196067517" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/norm_num.2F.20ring.20doesn't.20solve.20this.3F.html#196067517">(May 02 2020 at 19:57)</a>:</h4>
<p>The problem is <code>nat.succ</code> everywhere</p>



<a name="196067532"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/norm_num/%20ring%20doesn%27t%20solve%20this%3F/near/196067532" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Steffan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/norm_num.2F.20ring.20doesn't.20solve.20this.3F.html#196067532">(May 02 2020 at 19:57)</a>:</h4>
<p><code>by rw succ_eq_add_one; ring</code> done</p>



<a name="196067576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/norm_num/%20ring%20doesn%27t%20solve%20this%3F/near/196067576" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/norm_num.2F.20ring.20doesn't.20solve.20this.3F.html#196067576">(May 02 2020 at 19:58)</a>:</h4>
<p>Mine is shorter <span aria-label="stuck out tongue wink" class="emoji emoji-1f61c" role="img" title="stuck out tongue wink">:stuck_out_tongue_wink:</span></p>



<a name="196067577"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/norm_num/%20ring%20doesn%27t%20solve%20this%3F/near/196067577" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Steffan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/norm_num.2F.20ring.20doesn't.20solve.20this.3F.html#196067577">(May 02 2020 at 19:58)</a>:</h4>
<p><code>ring</code> doesn't like <code>succ</code> for some reason</p>



<a name="196067586"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/norm_num/%20ring%20doesn%27t%20solve%20this%3F/near/196067586" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/norm_num.2F.20ring.20doesn't.20solve.20this.3F.html#196067586">(May 02 2020 at 19:58)</a>:</h4>
<p>because <code>succ</code> is not a thing for general rings</p>



<a name="196067633"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/norm_num/%20ring%20doesn%27t%20solve%20this%3F/near/196067633" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Steffan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/norm_num.2F.20ring.20doesn't.20solve.20this.3F.html#196067633">(May 02 2020 at 19:59)</a>:</h4>
<blockquote>
<p>Mine is shorter <span aria-label="stuck out tongue wink" class="emoji emoji-1f61c" role="img" title="stuck out tongue wink">:stuck_out_tongue_wink:</span></p>
</blockquote>
<p>hey we're not golfing <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span></p>



<a name="196067699"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/norm_num/%20ring%20doesn%27t%20solve%20this%3F/near/196067699" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/norm_num.2F.20ring.20doesn't.20solve.20this.3F.html#196067699">(May 02 2020 at 20:00)</a>:</h4>
<p>I'm only golfing when my solution turns out to be shorter :-)</p>



<a name="196067705"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/norm_num/%20ring%20doesn%27t%20solve%20this%3F/near/196067705" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/norm_num.2F.20ring.20doesn't.20solve.20this.3F.html#196067705">(May 02 2020 at 20:00)</a>:</h4>
<p>Same here</p>



<a name="196067822"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/norm_num/%20ring%20doesn%27t%20solve%20this%3F/near/196067822" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Vaibhav Karve <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/norm_num.2F.20ring.20doesn't.20solve.20this.3F.html#196067822">(May 02 2020 at 20:02)</a>:</h4>
<p>Thanks! Both these solutions work.</p>
<p>When defining new functions, I tend to write <code>n + 1</code> for readability. But then <code>simp</code> often introduces a bunch of <code>nat.succ</code> into my goal and context states. Is it then best to avoid <code>n + 1</code> in my definitions to begin with?</p>



<a name="196067897"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/norm_num/%20ring%20doesn%27t%20solve%20this%3F/near/196067897" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Steffan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/norm_num.2F.20ring.20doesn't.20solve.20this.3F.html#196067897">(May 02 2020 at 20:04)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> I think "nat.succ_eq_add_one" is a bit clearer than <code>\l nat.add_one</code> :)</p>



<a name="196067993"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/norm_num/%20ring%20doesn%27t%20solve%20this%3F/near/196067993" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Vaibhav Karve <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/norm_num.2F.20ring.20doesn't.20solve.20this.3F.html#196067993">(May 02 2020 at 20:07)</a>:</h4>
<p>Why does <code>refl</code> solve <code>n + 1 = nat.succ n</code>?  <span aria-label="confused" class="emoji emoji-1f615" role="img" title="confused">:confused:</span></p>



<a name="196068034"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/norm_num/%20ring%20doesn%27t%20solve%20this%3F/near/196068034" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/norm_num.2F.20ring.20doesn't.20solve.20this.3F.html#196068034">(May 02 2020 at 20:08)</a>:</h4>
<p>Because that's the definition</p>



<a name="196068037"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/norm_num/%20ring%20doesn%27t%20solve%20this%3F/near/196068037" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Vaibhav Karve <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/norm_num.2F.20ring.20doesn't.20solve.20this.3F.html#196068037">(May 02 2020 at 20:08)</a>:</h4>
<p>I mean to ask, if it is something so simple that <code>refl</code> can make this rewrite then naively I would think that <code>ring</code> can do that rewrite too?</p>



<a name="196068213"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/norm_num/%20ring%20doesn%27t%20solve%20this%3F/near/196068213" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/norm_num.2F.20ring.20doesn't.20solve.20this.3F.html#196068213">(May 02 2020 at 20:13)</a>:</h4>
<p>It's not <code>ring</code>s job to do rewrites.</p>



<a name="196068270"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/norm_num/%20ring%20doesn%27t%20solve%20this%3F/near/196068270" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/norm_num.2F.20ring.20doesn't.20solve.20this.3F.html#196068270">(May 02 2020 at 20:15)</a>:</h4>
<p>Tactics have clear domains where they work, and <code>ring</code>'s job is to prove equalities which are true in arbitrary rings, not to guess which rewrites the user wants to do first.</p>



<a name="196068274"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/norm_num/%20ring%20doesn%27t%20solve%20this%3F/near/196068274" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/norm_num.2F.20ring.20doesn't.20solve.20this.3F.html#196068274">(May 02 2020 at 20:15)</a>:</h4>
<p>If every tactic calls every other tactic then you never prove anything, or at least not in say 20 seconds</p>



<a name="196068340"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/norm_num/%20ring%20doesn%27t%20solve%20this%3F/near/196068340" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Vaibhav Karve <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/norm_num.2F.20ring.20doesn't.20solve.20this.3F.html#196068340">(May 02 2020 at 20:16)</a>:</h4>
<p>Thanks. I should start looking more carefully into what tactics (can/can't) do instead of treating them like a black box.</p>



<a name="196068341"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/norm_num/%20ring%20doesn%27t%20solve%20this%3F/near/196068341" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/norm_num.2F.20ring.20doesn't.20solve.20this.3F.html#196068341">(May 02 2020 at 20:17)</a>:</h4>
<p><code>ring</code> <em>will</em> prove theorems about <code>nat.succ n</code> because it will treat it as an atom. There might be cases when you want to treat something like it as an atom, rather than applying some rewrite.</p>



<a name="196068347"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/norm_num/%20ring%20doesn%27t%20solve%20this%3F/near/196068347" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/norm_num.2F.20ring.20doesn't.20solve.20this.3F.html#196068347">(May 02 2020 at 20:17)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>

<span class="kn">example</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">succ</span> <span class="n">n</span><span class="o">)</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">=</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">succ</span> <span class="n">n</span><span class="o">)</span> <span class="bp">*</span> <span class="n">nat</span><span class="bp">.</span><span class="n">succ</span> <span class="n">n</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">ring</span>
</code></pre></div>



<a name="196068485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/norm_num/%20ring%20doesn%27t%20solve%20this%3F/near/196068485" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/norm_num.2F.20ring.20doesn't.20solve.20this.3F.html#196068485">(May 02 2020 at 20:20)</a>:</h4>
<p>to be fair, you can learn a lot about which goals a tactic can solve while not understanding anything about its implementation</p>



<a name="196070669"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/norm_num/%20ring%20doesn%27t%20solve%20this%3F/near/196070669" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/norm_num.2F.20ring.20doesn't.20solve.20this.3F.html#196070669">(May 02 2020 at 21:22)</a>:</h4>
<p>Eg you can be me</p>



<a name="196070679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/norm_num/%20ring%20doesn%27t%20solve%20this%3F/near/196070679" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/norm_num.2F.20ring.20doesn't.20solve.20this.3F.html#196070679">(May 02 2020 at 21:23)</a>:</h4>
<p>I read the documentation but I wouldn't touch the meta code</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>