---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Implicit.20argument.20inclusion.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Implicit.20argument.20inclusion.html">Implicit argument inclusion</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="209103222"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Implicit%20argument%20inclusion/near/209103222" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Implicit.20argument.20inclusion.html#209103222">(Sep 04 2020 at 14:57)</a>:</h4>
<p>I'm trying to write the following lemma:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">variables</span> <span class="o">{</span><span class="n">α</span> <span class="n">K</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span>
  <span class="o">[</span><span class="n">nondiscrete_normed_field</span> <span class="n">K</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">ℝ</span> <span class="n">K</span><span class="o">]</span> <span class="o">[</span><span class="n">is_R_or_C</span> <span class="n">K</span><span class="o">]</span>
  <span class="o">[</span><span class="n">inner_product_space</span> <span class="n">K</span> <span class="n">α</span><span class="o">]</span>

<span class="kn">lemma</span> <span class="n">parallelogram_law_with_norm</span> <span class="o">{</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">α</span><span class="o">}</span> <span class="o">:</span>
  <span class="err">∥</span><span class="n">x</span> <span class="bp">+</span> <span class="n">y</span><span class="err">∥</span> <span class="bp">*</span> <span class="err">∥</span><span class="n">x</span> <span class="bp">+</span> <span class="n">y</span><span class="err">∥</span> <span class="bp">+</span> <span class="err">∥</span><span class="n">x</span> <span class="bp">-</span> <span class="n">y</span><span class="err">∥</span> <span class="bp">*</span> <span class="err">∥</span><span class="n">x</span> <span class="bp">-</span> <span class="n">y</span><span class="err">∥</span> <span class="bp">=</span> <span class="mi">2</span> <span class="bp">*</span> <span class="o">(</span><span class="err">∥</span><span class="n">x</span><span class="err">∥</span> <span class="bp">*</span> <span class="err">∥</span><span class="n">x</span><span class="err">∥</span> <span class="bp">+</span> <span class="err">∥</span><span class="n">y</span><span class="err">∥</span> <span class="bp">*</span> <span class="err">∥</span><span class="n">y</span><span class="err">∥</span><span class="o">)</span> <span class="o">:=</span> <span class="n">sorry</span>
</code></pre></div>


<p>The problem is that the norm comes from the inner product, but <code>K</code> never shows up in the lemma statement, which means that Lean never finds the relevant <code>has_norm</code> instance. Is there any way to feed that information in manually?</p>



<a name="209104650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Implicit%20argument%20inclusion/near/209104650" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Implicit.20argument.20inclusion.html#209104650">(Sep 04 2020 at 15:07)</a>:</h4>
<p>The reason I'm hoping there's a way to do this without just recopying all the implicit arguments manually is that I have also defined lots of notation for that inner product that I would like to be available here.</p>



<a name="209109061"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Implicit%20argument%20inclusion/near/209109061" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Implicit.20argument.20inclusion.html#209109061">(Sep 04 2020 at 15:39)</a>:</h4>
<p>Is this what <code>include K</code> is for?</p>



<a name="209109453"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Implicit%20argument%20inclusion/near/209109453" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Implicit.20argument.20inclusion.html#209109453">(Sep 04 2020 at 15:43)</a>:</h4>
<p>yes</p>



<a name="209111416"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Implicit%20argument%20inclusion/near/209111416" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Implicit.20argument.20inclusion.html#209111416">(Sep 04 2020 at 16:00)</a>:</h4>
<p>Thanks! Is there also a way to also stop the inclusion after this lemma?</p>



<a name="209111709"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Implicit%20argument%20inclusion/near/209111709" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Implicit.20argument.20inclusion.html#209111709">(Sep 04 2020 at 16:02)</a>:</h4>
<p><code>omit K</code></p>



<a name="209155753"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Implicit%20argument%20inclusion/near/209155753" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Implicit.20argument.20inclusion.html#209155753">(Sep 05 2020 at 01:52)</a>:</h4>
<p>Alternatively, you can just embed the <code>include</code> within a <code>section ... end</code>; it only lasts for that scope. This has the added bonus that sections are helpful for the reader anyway, while <code>omit</code> adds a burden of keeping track of more things.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>