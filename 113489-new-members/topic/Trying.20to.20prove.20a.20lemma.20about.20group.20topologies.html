---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies.html">Trying to prove a lemma about group topologies</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="264773962"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trying%20to%20prove%20a%20lemma%20about%20group%20topologies/near/264773962" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Monnet <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies.html#264773962">(Dec 13 2021 at 21:42)</a>:</h4>
<p>Hi everyone! I'm trying to adapt this proof </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">@[to_additive]</span>
<span class="kd">lemma</span> <span class="n">coinduced_continuous</span> <span class="o">{</span><span class="n">α</span> <span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">t</span> <span class="o">:</span> <span class="n">topological_space</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">group</span> <span class="n">β</span><span class="o">]</span>
  <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">)</span> <span class="o">:</span> <span class="n">cont</span> <span class="n">t</span> <span class="o">(</span><span class="n">coinduced</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">to_topological_space</span> <span class="n">f</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="n">continuous_iff_coinduced_le</span><span class="o">,</span>
  <span class="n">refine</span> <span class="n">le_Inf</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">rintros</span> <span class="n">_</span> <span class="o">⟨</span><span class="n">t'</span><span class="o">,</span> <span class="n">ht'</span><span class="o">,</span> <span class="n">rfl</span><span class="o">⟩,</span>
  <span class="n">exact</span> <span class="n">ht'</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>from <a href="http://topology.algebra.group">topology.algebra.group</a>, to prove the corresponding lemma for induced topologies. That is, for a function <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>:</mo><mi>G</mi><mo>→</mo><mi>X</mi></mrow><annotation encoding="application/x-tex">f : G \to X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">G</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> from a topological group to a topological space, we define <code>induced f</code> to be the coarsest group topology on G that is finer than the topology induced by f. In Lean, we define </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">induced</span> <span class="o">{</span><span class="n">G</span> <span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">t</span> <span class="o">:</span> <span class="n">topological_space</span> <span class="n">X</span><span class="o">]</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">G</span> <span class="bp">→</span> <span class="n">X</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">group_topology</span> <span class="n">G</span> <span class="o">:=</span>
<span class="n">Sup</span> <span class="o">{</span><span class="n">a</span> <span class="o">:</span> <span class="n">group_topology</span> <span class="n">G</span> <span class="bp">|</span>  <span class="n">a.to_topological_space</span> <span class="bp">≤</span> <span class="o">(</span><span class="n">topological_space.induced</span> <span class="n">f</span> <span class="n">t</span><span class="o">)}</span>
</code></pre></div>
<p>The lemma I'm trying to prove is then</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">induced_continuous</span> <span class="o">{</span><span class="n">G</span> <span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">t</span> <span class="o">:</span> <span class="n">topological_space</span> <span class="n">X</span><span class="o">]</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span>
  <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">G</span> <span class="bp">→</span> <span class="n">X</span><span class="o">)</span> <span class="o">:</span> <span class="n">cont</span> <span class="o">(</span><span class="n">induced</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">to_topological_space</span> <span class="n">t</span> <span class="n">f</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>
<p>Now, the proof of coinduced_continuous begins with </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">rw</span> <span class="n">continuous_iff_coinduced_le</span>
</code></pre></div>
<p>so I begin my proof with </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">rw</span> <span class="n">continuous_iff_le_induced</span>
</code></pre></div>
<p>and this gives me a goal  of the form </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="o">(</span><span class="n">induced</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">to_topological_space</span> <span class="bp">≤</span> <span class="n">topological_space.induced</span> <span class="n">f</span> <span class="n">t</span>
</code></pre></div>
<p>The second line of the proof of coinduced_continuous is <code>refine le_Inf _</code>. I don't understand exactly what the refine tactic does, but I think I understand roughly what it is doing in this case. That is, we need to show that </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">topological_space.coinduced</span> <span class="n">f</span> <span class="n">t</span> <span class="bp">≤</span> <span class="o">(</span><span class="n">coinduced</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">to_topological_space</span>
</code></pre></div>
<p>and the right hand side is the infinum of the set of group topologies coarser than the coinduced topology. Therefore, the theorem le_Inf tells us that it suffices to check that <code>topological_space.coinduced f t</code> is finer than every such group topology, and <code>refine le_Inf _,</code> makes that our goal. </p>
<p>By almost exactly the same reasoning, I am trying to use <code>refine Sup_le _</code> to change the goal </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="o">(</span><span class="n">induced</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">to_topological_space</span> <span class="bp">≤</span> <span class="n">topological_space.induced</span> <span class="n">f</span> <span class="n">t</span>
</code></pre></div>
<p>However, when I try to do this, I get the error </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">invalid</span> <span class="n">type</span> <span class="n">ascription</span><span class="o">,</span> <span class="n">term</span> <span class="n">has</span> <span class="n">type</span>
  <span class="n">Sup</span> <span class="bp">?</span><span class="n">m_3</span> <span class="bp">≤</span> <span class="bp">?</span><span class="n">m_4</span>
<span class="n">but</span> <span class="n">is</span> <span class="n">expected</span> <span class="n">to</span> <span class="k">have</span> <span class="n">type</span>
  <span class="o">(</span><span class="n">induced</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">to_topological_space</span> <span class="bp">≤</span> <span class="n">topological_space.induced</span> <span class="n">f</span> <span class="n">t</span>
</code></pre></div>
<p>I don't understand why the tactic works in one case an not the other. They look exactly the same to me (modulo swapping Sup with Inf and greater with less). Any help would be much appreciated.</p>



<a name="264775710"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trying%20to%20prove%20a%20lemma%20about%20group%20topologies/near/264775710" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies.html#264775710">(Dec 13 2021 at 21:57)</a>:</h4>
<p><span class="user-mention" data-user-id="460212">@Sebastian Monnet</span> First, can you try to present your future questions to include a minimal working example, <a href="https://leanprover-community.github.io/mwe.html">#mwe</a> ?  It took me some time to construct one from your question:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">topology.algebra.group</span>

<span class="kd">def</span> <span class="n">induced</span> <span class="o">{</span><span class="n">G</span> <span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">t</span> <span class="o">:</span> <span class="n">topological_space</span> <span class="n">X</span><span class="o">]</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">G</span> <span class="bp">→</span> <span class="n">X</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">group_topology</span> <span class="n">G</span> <span class="o">:=</span>
<span class="n">Sup</span> <span class="o">{</span><span class="n">a</span> <span class="o">:</span> <span class="n">group_topology</span> <span class="n">G</span> <span class="bp">|</span>  <span class="n">a.to_topological_space</span> <span class="bp">≤</span> <span class="o">(</span><span class="n">topological_space.induced</span> <span class="n">f</span> <span class="n">t</span><span class="o">)}</span>

<span class="kd">lemma</span> <span class="n">induced_continuous</span> <span class="o">{</span><span class="n">G</span> <span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">t</span> <span class="o">:</span> <span class="n">topological_space</span> <span class="n">X</span><span class="o">]</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span>
  <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">G</span> <span class="bp">→</span> <span class="n">X</span><span class="o">)</span> <span class="o">:</span> <span class="bp">@</span><span class="n">continuous</span> <span class="n">_</span> <span class="n">_</span> <span class="o">(</span><span class="n">induced</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">to_topological_space</span> <span class="n">t</span> <span class="n">f</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="n">continuous_iff_le_induced</span><span class="o">,</span>

<span class="kd">end</span>
</code></pre></div>



<a name="264775822"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trying%20to%20prove%20a%20lemma%20about%20group%20topologies/near/264775822" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies.html#264775822">(Dec 13 2021 at 21:58)</a>:</h4>
<p>I believe the error here is that <code>topological_space.induced f t</code> is not of type <code>group_topology G</code>, it's of type <code>topological_space G</code>.</p>



<a name="264776593"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trying%20to%20prove%20a%20lemma%20about%20group%20topologies/near/264776593" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies.html#264776593">(Dec 13 2021 at 22:02)</a>:</h4>
<p>Maybe something like this will work (if in fact it's true):</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">begin</span>
  <span class="n">rw</span> <span class="n">continuous_iff_le_induced</span><span class="o">,</span>
  <span class="n">convert</span> <span class="bp">@</span><span class="n">Sup_le</span> <span class="o">(</span><span class="n">topological_space</span> <span class="n">G</span><span class="o">)</span> <span class="n">_</span> <span class="o">(</span><span class="n">group_topology.to_topological_space</span> <span class="bp">''</span> <span class="o">{</span><span class="n">a</span> <span class="o">:</span> <span class="n">group_topology</span> <span class="n">G</span> <span class="bp">|</span>  <span class="n">a.to_topological_space</span> <span class="bp">≤</span> <span class="o">(</span><span class="n">topological_space.induced</span> <span class="n">f</span> <span class="n">t</span><span class="o">)})</span> <span class="o">(</span><span class="n">topological_space.induced</span> <span class="n">f</span> <span class="n">t</span><span class="o">)</span> <span class="n">_</span><span class="o">,</span>

<span class="kd">end</span>
</code></pre></div>



<a name="264777616"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trying%20to%20prove%20a%20lemma%20about%20group%20topologies/near/264777616" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Monnet <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies.html#264777616">(Dec 13 2021 at 22:09)</a>:</h4>
<p><span class="user-mention" data-user-id="260507">@Heather Macbeth</span> Sorry about the lack of minimal working example - I will include one next time. Thank you for your answer. I agree that it seems like the type inconsistency is the problem, since <code>induced f</code> is the supremum of a set of type <code>group_topology G</code>, and we are trying to compare topological spaces. In light of this, though, I can't understand why the second line of the proof  of <code>coinduced_continuous</code> works. Shouldn't that fail for exactly the same reason?</p>



<a name="264787431"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trying%20to%20prove%20a%20lemma%20about%20group%20topologies/near/264787431" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies.html#264787431">(Dec 13 2021 at 23:46)</a>:</h4>
<p><span class="user-mention" data-user-id="460212">@Sebastian Monnet</span> At a guess, it may be because <a href="https://leanprover-community.github.io/mathlib_docs/find/group_topology.complete_lattice">docs#group_topology.complete_lattice</a>, the complete lattice structure on <code>group_topology G</code>, has been constructed using <a href="https://leanprover-community.github.io/mathlib_docs/find/complete_lattice_of_complete_semilattice_Inf">docs#complete_lattice_of_complete_semilattice_Inf</a>, which according to its docstring has bad definitional properties for the <code>Sup</code>:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="sd">/--</span>
<span class="sd">Any `complete_semilattice_Inf` is in fact a `complete_lattice`.</span>

<span class="sd">Note that this construction has bad definitional properties:</span>
<span class="sd">see the doc-string on `complete_lattice_of_Inf`.</span>
<span class="sd">-/</span>
<span class="kd">def</span> <span class="n">complete_lattice_of_complete_semilattice_Inf</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">complete_semilattice_Inf</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span>
  <span class="n">complete_lattice</span> <span class="n">α</span> <span class="o">:=</span>
<span class="n">complete_lattice_of_Inf</span> <span class="n">α</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">s</span><span class="o">,</span> <span class="n">is_glb_Inf</span> <span class="n">s</span><span class="o">)</span>
</code></pre></div>



<a name="264787466"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trying%20to%20prove%20a%20lemma%20about%20group%20topologies/near/264787466" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies.html#264787466">(Dec 13 2021 at 23:46)</a>:</h4>
<p>In particular, this would account for the asymmetry in the behaviour of <code>Sup</code> and <code>Inf</code> for this complete lattice.</p>



<a name="264787637"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trying%20to%20prove%20a%20lemma%20about%20group%20topologies/near/264787637" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies.html#264787637">(Dec 13 2021 at 23:48)</a>:</h4>
<p>It seems that the construction is due to <span class="user-mention" data-user-id="406490">@María Inés de Frutos Fernández</span>, in <a href="https://github.com/leanprover-community/mathlib/pull/10531">#10531</a>, so we could ask her about the design decision and whether it would be sensible to rewrite the complete lattice instance so it constructs the <code>Sup</code> directly.</p>



<a name="264788223"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trying%20to%20prove%20a%20lemma%20about%20group%20topologies/near/264788223" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies.html#264788223">(Dec 13 2021 at 23:55)</a>:</h4>
<p>There should be a Galois insertion between group topologies and topologies. I think the lattice structure would be better behaved if it was defined via such a Galois connection.</p>



<a name="264826637"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trying%20to%20prove%20a%20lemma%20about%20group%20topologies/near/264826637" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies.html#264826637">(Dec 14 2021 at 08:47)</a>:</h4>
<p>I think that only produces nice equalities if you implement <code>galois_insertion.choice</code> by hand</p>



<a name="264826702"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trying%20to%20prove%20a%20lemma%20about%20group%20topologies/near/264826702" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies.html#264826702">(Dec 14 2021 at 08:48)</a>:</h4>
<p>The default implementation doesn't make very nice equalities either</p>



<a name="264826731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trying%20to%20prove%20a%20lemma%20about%20group%20topologies/near/264826731" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> María Inés de Frutos Fernández <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies.html#264826731">(Dec 14 2021 at 08:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="260507">Heather Macbeth</span> <a href="#narrow/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies/near/264776593">said</a>:</p>
<blockquote>
<p>Maybe something like this will work (if in fact it's true):</p>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">begin</span>
  <span class="n">rw</span> <span class="n">continuous_iff_le_induced</span><span class="o">,</span>
  <span class="n">convert</span> <span class="bp">@</span><span class="n">Sup_le</span> <span class="o">(</span><span class="n">topological_space</span> <span class="n">G</span><span class="o">)</span> <span class="n">_</span> <span class="o">(</span><span class="n">group_topology.to_topological_space</span> <span class="bp">''</span> <span class="o">{</span><span class="n">a</span> <span class="o">:</span> <span class="n">group_topology</span> <span class="n">G</span> <span class="bp">|</span>  <span class="n">a.to_topological_space</span> <span class="bp">≤</span> <span class="o">(</span><span class="n">topological_space.induced</span> <span class="n">f</span> <span class="n">t</span><span class="o">)})</span> <span class="o">(</span><span class="n">topological_space.induced</span> <span class="n">f</span> <span class="n">t</span><span class="o">)</span> <span class="n">_</span><span class="o">,</span>

<span class="kd">end</span>
</code></pre></div><br>
</p>
</blockquote>
<p>I don't think this is true; taking the <code>Sup</code> as topological spaces might not give you the correct topology.<br>
The problem is that the intersection of two group topologies <code>t</code> and <code>t'</code> is not always a group topology; one defines the <code>sup</code> of <code>t</code> and <code>t'</code> as the finest group topology contained in their intersection. Would it help to make this field (and <code>Sup</code>) explicit in the definition of this complete lattice?</p>



<a name="264841912"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trying%20to%20prove%20a%20lemma%20about%20group%20topologies/near/264841912" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Monnet <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies.html#264841912">(Dec 14 2021 at 11:15)</a>:</h4>
<p><span class="user-mention" data-user-id="260507">@Heather Macbeth</span> okay, thank you!</p>



<a name="264842211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trying%20to%20prove%20a%20lemma%20about%20group%20topologies/near/264842211" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies.html#264842211">(Dec 14 2021 at 11:18)</a>:</h4>
<p><span class="user-mention" data-user-id="246273">@Bhavik Mehta</span> you've helped me out of holes like this before -- do you know a trick here? The maths: if G is a group then there's a lattice of topologies on G (well-known) and a sublattice of topologies which happen to make G into a topological group. Maria proved the sublattice has all Sups and Infs, and Infs can be computed in the larger lattice (but Sups cannot; we have explicit counterexamples). How do we get a Galois insertion or coinsertion and does it help?</p>



<a name="264859123"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trying%20to%20prove%20a%20lemma%20about%20group%20topologies/near/264859123" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Monnet <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies.html#264859123">(Dec 14 2021 at 13:47)</a>:</h4>
<p>Edit: I guess the point is that the infinum is computed in the larger lattice. Is that why my attempt to dualise your proof didn't work?</p>
<p><span class="user-mention" data-user-id="406490">@María Inés de Frutos Fernández</span> would you mind explaining how the second line of your proof works? We have <code>le_Inf : (∀b∈s, a ≤ b) → a ≤ Inf s</code>, where <code>α</code> is a complete semilattice, <code>s : set α</code>, and <code>a : α</code>. Your proof seems to take <code>a</code> to be <code>topological_space.coinduced f t</code> and <code>s</code> to be the set of topological spaces underlying group topologies coarser than <code>a</code>.  My problem is that <code>a</code> is a topology, not a group topology, but the infinum in the definition of <code>coinduced f</code> is taken in the complete lattice of group topologies, so I don't understand how we can apply the theorem. </p>
<p>It seems to me conceivable that the infinum of group topologies greater than or equal to <code>topological_space.coinduced f t</code> is not itself greater than or equal to <code>topological_space.coinduced f t</code>. I am convinced that this is not the case, but only because I've worked through the maths myself - I don't understand why Lean is happy with this step. </p>
<p>Not sure if I need to include a mwe with this sort of question, but here is one just in case:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>
<span class="kn">import</span> <span class="n">topology.algebra.group</span>
<span class="kn">import</span> <span class="n">data.set.basic</span>

<span class="kn">local</span> <span class="kd">notation</span> <span class="bp">`</span><span class="n">cont</span><span class="bp">`</span> <span class="o">:=</span> <span class="bp">@</span><span class="n">continuous</span> <span class="n">_</span> <span class="n">_</span>


<span class="sd">/-- If f : X → G is a function from a topolgoical space to a group, then `coinduced f` is the finest group topology on G such that f is continuous.-/</span>
<span class="kd">def</span> <span class="n">coinduced</span> <span class="o">{</span><span class="n">X</span> <span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">t</span> <span class="o">:</span> <span class="n">topological_space</span> <span class="n">X</span><span class="o">]</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">→</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">group_topology</span> <span class="n">G</span> <span class="o">:=</span>
<span class="n">Inf</span> <span class="o">{</span><span class="n">b</span> <span class="o">:</span> <span class="n">group_topology</span> <span class="n">G</span> <span class="bp">|</span> <span class="o">(</span><span class="n">topological_space.coinduced</span> <span class="n">f</span> <span class="n">t</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">b.to_topological_space</span><span class="o">}</span>

<span class="kd">lemma</span> <span class="n">coinduced_continuous</span> <span class="o">{</span><span class="n">X</span> <span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">t</span> <span class="o">:</span> <span class="n">topological_space</span> <span class="n">X</span><span class="o">]</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span>
  <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">→</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span> <span class="n">cont</span> <span class="n">t</span> <span class="o">(</span><span class="n">coinduced</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">to_topological_space</span> <span class="n">f</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="n">continuous_iff_coinduced_le</span><span class="o">,</span>
  <span class="n">refine</span> <span class="n">le_Inf</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">rintros</span> <span class="n">_</span> <span class="o">⟨</span><span class="n">t'</span><span class="o">,</span> <span class="n">ht'</span><span class="o">,</span> <span class="n">rfl</span><span class="o">⟩,</span>
  <span class="n">exact</span> <span class="n">ht'</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="264878622"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trying%20to%20prove%20a%20lemma%20about%20group%20topologies/near/264878622" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies.html#264878622">(Dec 14 2021 at 15:57)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies/near/264842211">said</a>:</p>
<blockquote>
<p>Maria proved the sublattice has all Sups and Infs, and Infs can be computed in the larger lattice (but Sups cannot; we have explicit counterexamples).</p>
</blockquote>
<p>It might be worth adding a comment somewhere (maybe on <code>instance [group γ] : complete_semilattice_Inf (group_topology γ)</code> that explicitly says that sups cannot be computed in the original lattice, since it wasn't very clear to me one way or another; I guess the formation of the product topology doesn't play well with sups?</p>



<a name="264878884"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trying%20to%20prove%20a%20lemma%20about%20group%20topologies/near/264878884" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies.html#264878884">(Dec 14 2021 at 15:58)</a>:</h4>
<p><span class="user-mention" data-user-id="460212">@Sebastian Monnet</span> Not only can the Inf be computed in the larger lattice, if you look at<br>
<a href="https://github.com/leanprover-community/mathlib/blob/1367c19b1b5d53ec699e4003f7aaa40a8099a643/src/topology/algebra/group.lean#L860-L862">https://github.com/leanprover-community/mathlib/blob/1367c19b1b5d53ec699e4003f7aaa40a8099a643/src/topology/algebra/group.lean#L860-L862</a><br>
you will see that it is actually defined that way (and then one has to check that it really is an infimum).</p>



<a name="264879595"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trying%20to%20prove%20a%20lemma%20about%20group%20topologies/near/264879595" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies.html#264879595">(Dec 14 2021 at 16:02)</a>:</h4>
<p>So I think the conclusion is that the lemma you were originally trying to prove is actually false, because <code>X</code> could be <code>G</code> with one of these topologies that is a sup of group topologies but isn't a group topology.</p>



<a name="264883453"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trying%20to%20prove%20a%20lemma%20about%20group%20topologies/near/264883453" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> María Inés de Frutos Fernández <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies.html#264883453">(Dec 14 2021 at 16:25)</a>:</h4>
<p><span class="user-mention" data-user-id="460212">@Sebastian Monnet</span> , the <code>coinduced</code> version works because in that case <code>Inf(...).to_topological_spaces</code> is equal to the <code>Inf</code> as topological spaces by definition. That is,</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">topology.algebra.group</span>

<span class="kd">example</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">group_topology</span> <span class="n">G</span><span class="o">))</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">Inf</span> <span class="n">S</span><span class="o">)</span><span class="bp">.</span><span class="n">to_topological_space</span> <span class="bp">=</span> <span class="n">Inf</span> <span class="o">(</span><span class="n">group_topology.to_topological_space</span> <span class="bp">''</span> <span class="n">S</span><span class="o">)</span> <span class="o">:=</span> <span class="n">rfl</span>
</code></pre></div>
<p>But this isn't true for the <code>Sup</code>.</p>



<a name="264884008"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trying%20to%20prove%20a%20lemma%20about%20group%20topologies/near/264884008" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies.html#264884008">(Dec 14 2021 at 16:29)</a>:</h4>
<p>María Inés showed me a counterexample to the sup thing. I don't remember the details but if memory served the counterexample was $A=\R^2$ as an additive abelian group in the usual way, and with the two topologies being maybe the order topology coming from the two total orders <code>lex</code> and <code>lex \circ swap</code>.</p>



<a name="264884278"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trying%20to%20prove%20a%20lemma%20about%20group%20topologies/near/264884278" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> María Inés de Frutos Fernández <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies.html#264884278">(Dec 14 2021 at 16:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110032">Reid Barton</span> <a href="#narrow/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies/near/264878622">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies/near/264842211">said</a>:</p>
<blockquote>
<p>Maria proved the sublattice has all Sups and Infs, and Infs can be computed in the larger lattice (but Sups cannot; we have explicit counterexamples).</p>
</blockquote>
<p>It might be worth adding a comment somewhere (maybe on <code>instance [group γ] : complete_semilattice_Inf (group_topology γ)</code> that explicitly says that sups cannot be computed in the original lattice, since it wasn't very clear to me one way or another; I guess the formation of the product topology doesn't play well with sups?</p>
</blockquote>
<p>I was trying to say this with the comment <code>The supremum of two group topologies s and t is the infimum of the family of all group topologies contained in the intersection of s and t.</code> But I would be very happy to change this to a clearer comment.</p>



<a name="264884326"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trying%20to%20prove%20a%20lemma%20about%20group%20topologies/near/264884326" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies.html#264884326">(Dec 14 2021 at 16:31)</a>:</h4>
<p><span class="user-mention" data-user-id="406490">@María Inés de Frutos Fernández</span> do you remember the details of the counterexample? I think it's an interesting one.</p>



<a name="264884410"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trying%20to%20prove%20a%20lemma%20about%20group%20topologies/near/264884410" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies.html#264884410">(Dec 14 2021 at 16:31)</a>:</h4>
<p>I wonder if there is some kind of universal object lurking</p>



<a name="264885008"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trying%20to%20prove%20a%20lemma%20about%20group%20topologies/near/264885008" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies.html#264885008">(Dec 14 2021 at 16:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="406490">María Inés de Frutos Fernández</span> <a href="#narrow/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies/near/264884278">said</a>:</p>
<blockquote>
<p>I was trying to say this with the comment <code>The supremum of two group topologies s and t is the infimum of the family of all group topologies contained in the intersection of s and t.</code> But I would be very happy to change this to a clearer comment.</p>
</blockquote>
<p>Right but this doesn't explicitly tell the reader that it sometimes <em>isn't</em> equal to the sup of underlying topologies--maybe you just didn't know or didn't care.</p>



<a name="264885125"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trying%20to%20prove%20a%20lemma%20about%20group%20topologies/near/264885125" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> María Inés de Frutos Fernández <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies.html#264885125">(Dec 14 2021 at 16:36)</a>:</h4>
<p>Yes, it's what you're describing - consider $R^2$ with the two lexicographical orders (which define two group topologies on $R^2$), and then look at a "Maltese cross" (say centered at 0)  in the intersection topology. This is open, but it doesn't contain <code>U + U</code> for any open neighborhood of 0.</p>



<a name="264885159"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trying%20to%20prove%20a%20lemma%20about%20group%20topologies/near/264885159" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies.html#264885159">(Dec 14 2021 at 16:36)</a>:</h4>
<p><code>In general, it may not be equal to the supremum of s and t as topologies.</code>--or something like that</p>



<a name="264885315"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trying%20to%20prove%20a%20lemma%20about%20group%20topologies/near/264885315" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> María Inés de Frutos Fernández <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies.html#264885315">(Dec 14 2021 at 16:37)</a>:</h4>
<p>I'll see if I can find the reference for this counterexample and post it here.</p>



<a name="264885661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trying%20to%20prove%20a%20lemma%20about%20group%20topologies/near/264885661" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> María Inés de Frutos Fernández <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies.html#264885661">(Dec 14 2021 at 16:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110032">Reid Barton</span> <a href="#narrow/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies/near/264885159">said</a>:</p>
<blockquote>
<p><code>In general, it may not be equal to the supremum of s and t as topologies.</code>--or something like that</p>
</blockquote>
<p>I see your point, I should have made this more explicit.</p>



<a name="264885849"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trying%20to%20prove%20a%20lemma%20about%20group%20topologies/near/264885849" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> María Inés de Frutos Fernández <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies.html#264885849">(Dec 14 2021 at 16:40)</a>:</h4>
<p><code>Note that it may be coarser than the supremum of s and t as topologies</code>?</p>



<a name="264896044"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trying%20to%20prove%20a%20lemma%20about%20group%20topologies/near/264896044" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> María Inés de Frutos Fernández <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies.html#264896044">(Dec 14 2021 at 17:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="406490">María Inés de Frutos Fernández</span> <a href="#narrow/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies/near/264885315">said</a>:</p>
<blockquote>
<p>I'll see if I can find the reference for this counterexample and post it here.</p>
</blockquote>
<p>See page 166 of Pierre Samuel's "Ultrafilters and compactification of uniform spaces":<br>
<a href="https://www.ams.org/journals/tran/1948-064-01/S0002-9947-1948-0025717-6/S0002-9947-1948-0025717-6.pdf">https://www.ams.org/journals/tran/1948-064-01/S0002-9947-1948-0025717-6/S0002-9947-1948-0025717-6.pdf</a></p>



<a name="264900091"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trying%20to%20prove%20a%20lemma%20about%20group%20topologies/near/264900091" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Monnet <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies.html#264900091">(Dec 14 2021 at 18:04)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110032">Reid Barton</span> <a href="#narrow/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies/near/264879595">said</a>:</p>
<blockquote>
<p>So I think the conclusion is that the lemma you were originally trying to prove is actually false, because <code>X</code> could be <code>G</code> with one of these topologies that is a sup of group topologies but isn't a group topology.</p>
</blockquote>
<p>Would you mind explaining why you think the original lemma is false? It seems to me that taking such an X just means that the supremum does not equal X. I don't think that prevents the supremum from being in the set.</p>



<a name="264903438"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trying%20to%20prove%20a%20lemma%20about%20group%20topologies/near/264903438" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies.html#264903438">(Dec 14 2021 at 18:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="406490">María Inés de Frutos Fernández</span> <a href="#narrow/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies/near/264883453">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="460212">Sebastian Monnet</span> , the <code>coinduced</code> version works because in that case <code>Inf(...).to_topological_spaces</code> is equal to the <code>Inf</code> as topological spaces by definition. That is,</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">topology.algebra.group</span>

<span class="kd">example</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">group_topology</span> <span class="n">G</span><span class="o">))</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">Inf</span> <span class="n">S</span><span class="o">)</span><span class="bp">.</span><span class="n">to_topological_space</span> <span class="bp">=</span> <span class="n">Inf</span> <span class="o">(</span><span class="n">group_topology.to_topological_space</span> <span class="bp">''</span> <span class="n">S</span><span class="o">)</span> <span class="o">:=</span> <span class="n">rfl</span>
</code></pre></div>
<p>But this isn't true for the <code>Sup</code>.</p>
</blockquote>
<p>I added this <code>example</code> as a lemma in <a href="https://github.com/leanprover-community/mathlib/pull/10792">#10792</a></p>



<a name="264904073"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trying%20to%20prove%20a%20lemma%20about%20group%20topologies/near/264904073" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies.html#264904073">(Dec 14 2021 at 18:35)</a>:</h4>
<p>There's a complete lattice of topologies on <code>G</code>, and a subset of those that are the group topologies which apparently is closed under infs but not sups. That means there is a "(group topology)-ification" operation L which takes a topology T to the inf of all the group topologies bigger than T. In general we have T &lt;= L(T) and the fixed points of L are the group topologies. We can compute sups in group topologies by computing sups of the underlying topologies and then applying L. In particular the sup in group topologies is always bigger than the sup of underlying topologies.</p>
<p>Now consider your lemma <code>induced_continuous</code> in the case <code>X = G</code> and <code>f = id</code>, and suppose <code>t</code> is a non-group topology which is a sup of two group topologies, say <code>t1</code> and <code>t2</code>. Then the <code>induced</code> group topology is bigger than both <code>t1</code> and <code>t2</code>, so it has to be at least the sup in group topologies of <code>t1</code> and <code>t2</code>, which is strictly bigger than <code>t</code> (otherwise <code>t</code> would be a group topology). And then the inequality <code>(induced id).to_topological_space &lt;= t</code> doesn't hold, so <code>f</code> is not continuous.</p>



<a name="264905536"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trying%20to%20prove%20a%20lemma%20about%20group%20topologies/near/264905536" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Monnet <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies.html#264905536">(Dec 14 2021 at 18:43)</a>:</h4>
<p><span class="user-mention" data-user-id="110032">@Reid Barton</span> <br>
Thank you, I'm convinced!</p>



<a name="264906370"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trying%20to%20prove%20a%20lemma%20about%20group%20topologies/near/264906370" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> María Inés de Frutos Fernández <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies.html#264906370">(Dec 14 2021 at 18:48)</a>:</h4>
<p>Wait, when <code>( induced id).to_topological_space</code> is finer than <code>t</code>, then id : (G, (induced id).to_topological_space) \to (G,  t). is continuous (since there are more open sets on the left).</p>



<a name="264920784"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trying%20to%20prove%20a%20lemma%20about%20group%20topologies/near/264920784" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies.html#264920784">(Dec 14 2021 at 20:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113489-new-members/topic/Trying.20to.20prove.20a.20lemma.20about.20group.20topologies/near/264903438">said</a>:</p>
<blockquote>
<p>I added this <code>example</code> as a lemma in <a href="https://github.com/leanprover-community/mathlib/pull/10792">#10792</a></p>
</blockquote>
<p>and was sniped into also added the corresponding lemmas for inf, top, and bot...</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>