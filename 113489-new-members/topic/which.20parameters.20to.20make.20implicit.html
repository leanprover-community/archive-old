---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/which.20parameters.20to.20make.20implicit.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/which.20parameters.20to.20make.20implicit.html">which parameters to make implicit</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="288282639"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/which%20parameters%20to%20make%20implicit/near/288282639" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/which.20parameters.20to.20make.20implicit.html#288282639">(Jul 02 2022 at 18:07)</a>:</h4>
<p>Is there a general rule or lint check for which parameters to make implicit? Is it just if the parameter appears in a later parameter?</p>



<a name="288283527"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/which%20parameters%20to%20make%20implicit/near/288283527" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/which.20parameters.20to.20make.20implicit.html#288283527">(Jul 02 2022 at 18:28)</a>:</h4>
<p>Yes that's the general rule, but there are other subtleties, for example things might depend on whether you're establishing an implication or an iff, or whether it's a definition or a lemma. In my experience it's pretty easy to work out what you should be doing once you start using your definition, if you feel like lean should be working some stuff out which you keep having to feed it then maybe you should have used <code>{}</code>, and conversely if you keep having to use <code>@</code> then maybe you shouldn't have.</p>



<a name="288283709"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/which%20parameters%20to%20make%20implicit/near/288283709" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/which.20parameters.20to.20make.20implicit.html#288283709">(Jul 02 2022 at 18:32)</a>:</h4>
<p>If you use the general rule, will that be enough to ensure that you never need to use <code>@</code>?</p>



<a name="288284223"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/which%20parameters%20to%20make%20implicit/near/288284223" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/which.20parameters.20to.20make.20implicit.html#288284223">(Jul 02 2022 at 18:45)</a>:</h4>
<p>There's further subtleties in some special cases, when you have an argument appear in a later parameter, but in practice, when you prove the later parameter, the previous one can't be easily inferred</p>



<a name="288284280"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/which%20parameters%20to%20make%20implicit/near/288284280" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/which.20parameters.20to.20make.20implicit.html#288284280">(Jul 02 2022 at 18:46)</a>:</h4>
<p>Mostly happens with sets and functions, since something like <code>x ∈ s</code> could be literally any proposition on <code>x</code> (which doesn't allow you to infer <code>s</code> unless you already know exactly what you want to prove)</p>



<a name="288284558"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/which%20parameters%20to%20make%20implicit/near/288284558" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/which.20parameters.20to.20make.20implicit.html#288284558">(Jul 02 2022 at 18:51)</a>:</h4>
<p>Hmm. I think I maybe see. I guess, is there a decidable way to tell which parameters are safe to define as implicit, in the sense of never needing to use <code>@</code>?</p>



<a name="288284662"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/which%20parameters%20to%20make%20implicit/near/288284662" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/which.20parameters.20to.20make.20implicit.html#288284662">(Jul 02 2022 at 18:53)</a>:</h4>
<p>I'd say the general heuristic is the one you mention, but if you find yourself having to use <code>@</code> more than once or twice, you should make whichever arguments are being problematic explicit</p>



<a name="288284668"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/which%20parameters%20to%20make%20implicit/near/288284668" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/which.20parameters.20to.20make.20implicit.html#288284668">(Jul 02 2022 at 18:54)</a>:</h4>
<p>Really, it's just a matter of what works</p>



<a name="288284888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/which%20parameters%20to%20make%20implicit/near/288284888" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/which.20parameters.20to.20make.20implicit.html#288284888">(Jul 02 2022 at 18:58)</a>:</h4>
<p>Ok, thank you.<br>
PS: I have seen mentions of a lint checker. Is there one? If so, where should I look for information on it?</p>



<a name="288284963"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/which%20parameters%20to%20make%20implicit/near/288284963" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/which.20parameters.20to.20make.20implicit.html#288284963">(Jul 02 2022 at 19:00)</a>:</h4>
<p>I think you can lint a file by adding <code>#lint</code> at the end</p>



<a name="288285059"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/which%20parameters%20to%20make%20implicit/near/288285059" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/which.20parameters.20to.20make.20implicit.html#288285059">(Jul 02 2022 at 19:02)</a>:</h4>
<p>I see, it is a command. That led me to <a href="https://leanprover-community.github.io/mathlib_docs/commands.html#linting%20commands">https://leanprover-community.github.io/mathlib_docs/commands.html#linting%20commands</a>. Thank you!</p>



<a name="288286405"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/which%20parameters%20to%20make%20implicit/near/288286405" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/which.20parameters.20to.20make.20implicit.html#288286405">(Jul 02 2022 at 19:35)</a>:</h4>
<p>The linter currently doesn't check which variables are implicit/explicit FYI, if it did I'm sure there would be a lot of linter failures!</p>



<a name="288286770"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/which%20parameters%20to%20make%20implicit/near/288286770" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/which.20parameters.20to.20make.20implicit.html#288286770">(Jul 02 2022 at 19:44)</a>:</h4>
<p>Is it theoretically possible to create a program that takes a definition and reports which parameters can 'safely' be set implicit?</p>



<a name="288290066"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/which%20parameters%20to%20make%20implicit/near/288290066" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/which.20parameters.20to.20make.20implicit.html#288290066">(Jul 02 2022 at 21:08)</a>:</h4>
<p>If I understood correctly, it might be enough to restate the lemma, proving it with the original lemma itself, but using as many underscores as possible.  This may give some idea of which arguments can be inferred by Lean.</p>



<a name="288290313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/which%20parameters%20to%20make%20implicit/near/288290313" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/which.20parameters.20to.20make.20implicit.html#288290313">(Jul 02 2022 at 21:15)</a>:</h4>
<p>That makes sense. I was just curious though if there was a decidable way to determine it just from the definition.</p>



<a name="288290547"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/which%20parameters%20to%20make%20implicit/near/288290547" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/which.20parameters.20to.20make.20implicit.html#288290547">(Jul 02 2022 at 21:21)</a>:</h4>
<p>I think <span class="user-mention" data-user-id="451983">@Arthur Paulino</span> made an attempt at a linter to enforce a rule here?</p>



<a name="288292047"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/which%20parameters%20to%20make%20implicit/near/288292047" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/which.20parameters.20to.20make.20implicit.html#288292047">(Jul 02 2022 at 22:01)</a>:</h4>
<p>Kinda. There was an issue about a linter to flag explicit variables that were used on both sides of equalities and iffs. Turned out it flagged way too many lemmas and there were other reasons not to enforce it. But the linter made it into master as an optional linter</p>



<a name="288294338"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/which%20parameters%20to%20make%20implicit/near/288294338" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/which.20parameters.20to.20make.20implicit.html#288294338">(Jul 02 2022 at 23:02)</a>:</h4>
<p>Something to look forward to in Lean 4 is the ability to set individual implicit variables. For example, we should be able to write <code>finset.univ (α := fin n)</code> rather than needing to write <code>(finset.univ : finset (fin n))</code>. I expect we'll become a lot more aggressive with our use of implicit variables in lemmas.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>