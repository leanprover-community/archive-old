---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/no.20goals.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/no.20goals.html">no goals</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="203430490"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/no%20goals/near/203430490" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/no.20goals.html#203430490">(Jul 09 2020 at 19:43)</a>:</h4>
<p>I have completed a proof, and at the end of the proof, I get this error : </p>
<div class="codehilite"><pre><span></span><code><span class="n">tactic</span> <span class="n">failed</span><span class="o">,</span> <span class="n">result</span> <span class="n">contains</span> <span class="n">meta</span><span class="bp">-</span><span class="kn">variables</span>
<span class="n">state</span><span class="o">:</span>
<span class="n">no</span> <span class="n">goals</span>
</code></pre></div>


<p>Any help is appreciated, thank you!</p>



<a name="203430668"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/no%20goals/near/203430668" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/no.20goals.html#203430668">(Jul 09 2020 at 19:44)</a>:</h4>
<p><code>recover</code> maybe?</p>



<a name="203433667"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/no%20goals/near/203433667" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Brandon Brown <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/no.20goals.html#203433667">(Jul 09 2020 at 20:09)</a>:</h4>
<p>Did you put too many commas? I think that happened to me once</p>



<a name="203434618"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/no%20goals/near/203434618" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/no.20goals.html#203434618">(Jul 09 2020 at 20:16)</a>:</h4>
<p>I tried recover, apparently there was an unsolved goal (I went through the proof, couldn't trace where). I solved the goal, and now it gives me a very big error on the line of the statement of the lemma. The error is:</p>
<div class="codehilite"><pre><span></span><code><span class="n">type</span> <span class="n">mismatch</span> <span class="n">at</span> <span class="n">application</span>
  <span class="n">val_inv</span> <span class="o">(</span><span class="n">π</span> <span class="bp">^</span> <span class="n">Inf</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="err">↥</span><span class="o">(</span><span class="n">val_ring</span> <span class="n">K</span><span class="o">))</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">S</span><span class="o">),</span> <span class="err">↑</span><span class="n">n</span> <span class="bp">=</span> <span class="n">v</span> <span class="err">↑</span><span class="n">x</span><span class="o">})</span>
<span class="o">(</span><span class="n">blah</span> <span class="n">blah</span><span class="o">)</span>
<span class="n">has</span> <span class="n">type</span>
  <span class="n">π_1</span> <span class="bp">^</span> <span class="n">Inf</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="err">↥</span><span class="o">(</span><span class="n">val_ring</span> <span class="n">K</span><span class="o">))</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">S_1</span><span class="o">),</span> <span class="err">↑</span><span class="n">n</span> <span class="bp">=</span> <span class="n">v</span> <span class="err">↑</span><span class="n">x</span><span class="o">}</span> <span class="bp">≠</span> <span class="mi">0</span>
<span class="n">but</span> <span class="n">is</span> <span class="n">expected</span> <span class="n">to</span> <span class="k">have</span> <span class="n">type</span>
  <span class="n">π</span> <span class="bp">^</span> <span class="n">Inf</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="err">↥</span><span class="o">(</span><span class="n">val_ring</span> <span class="n">K</span><span class="o">))</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">S</span><span class="o">),</span> <span class="err">↑</span><span class="n">n</span> <span class="bp">=</span> <span class="n">v</span> <span class="err">↑</span><span class="n">x</span><span class="o">}</span> <span class="bp">≠</span> <span class="mi">0</span>
<span class="n">types</span> <span class="n">contain</span> <span class="n">aliased</span> <span class="n">name</span><span class="o">(</span><span class="n">s</span><span class="o">):</span> <span class="n">S</span> <span class="n">π</span>
<span class="n">remark</span><span class="o">:</span> <span class="n">the</span> <span class="n">tactic</span> <span class="bp">`</span><span class="n">dedup</span><span class="bp">`</span> <span class="n">can</span> <span class="n">be</span> <span class="n">used</span> <span class="n">to</span> <span class="n">rename</span> <span class="n">aliases</span>
</code></pre></div>


<p>This error was not there previously.</p>



<a name="203435063"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/no%20goals/near/203435063" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/no.20goals.html#203435063">(Jul 09 2020 at 20:20)</a>:</h4>
<p>Having duplicate names in the local context is a very sure road to confusion.</p>



<a name="203435340"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/no%20goals/near/203435340" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/no.20goals.html#203435340">(Jul 09 2020 at 20:23)</a>:</h4>
<p>I have not created any duplicates, π is a variable, and S is chosen by Lean.</p>



<a name="203435575"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/no%20goals/near/203435575" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/no.20goals.html#203435575">(Jul 09 2020 at 20:25)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mwe.html">#mwe</a></p>



<a name="203435756"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/no%20goals/near/203435756" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/no.20goals.html#203435756">(Jul 09 2020 at 20:26)</a>:</h4>
<p><a href="https://github.com/laughinggas/DVR/blob/c163ab375a57ec17b53c1a82a2e9a6c0c35d9670/src/Test.lean#L799">https://github.com/laughinggas/DVR/blob/c163ab375a57ec17b53c1a82a2e9a6c0c35d9670/src/Test.lean#L799</a></p>



<a name="203435792"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/no%20goals/near/203435792" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/no.20goals.html#203435792">(Jul 09 2020 at 20:26)</a>:</h4>
<p>(Unfortunately this is not minimal, but it is working..)</p>



<a name="203436607"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/no%20goals/near/203436607" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/no.20goals.html#203436607">(Jul 09 2020 at 20:33)</a>:</h4>
<p>if I copy and paste that file I get an error on line 260 : <code>unknown identifier 'add_nonneg''</code></p>



<a name="203436866"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/no%20goals/near/203436866" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/no.20goals.html#203436866">(Jul 09 2020 at 20:35)</a>:</h4>
<p>You should probably rather <code>leanproject get  laughinggas/DVR</code></p>



<a name="203436974"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/no%20goals/near/203436974" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/no.20goals.html#203436974">(Jul 09 2020 at 20:36)</a>:</h4>
<p>yeah I get the same horrible error</p>



<a name="203438995"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/no%20goals/near/203438995" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/no.20goals.html#203438995">(Jul 09 2020 at 20:52)</a>:</h4>
<p>It seems like <code>assoc_rw</code> is the cause</p>



<a name="203439014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/no%20goals/near/203439014" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/no.20goals.html#203439014">(Jul 09 2020 at 20:52)</a>:</h4>
<p>Chris has just got it compiling :D</p>



<a name="203439020"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/no%20goals/near/203439020" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/no.20goals.html#203439020">(Jul 09 2020 at 20:52)</a>:</h4>
<p>if you change the <code>assoc_rw add_comm</code> and line after that to:</p>
<div class="codehilite"><pre><span></span><code>        <span class="n">rw</span> <span class="n">add_left_comm</span><span class="o">,</span>
        <span class="n">rw</span> <span class="n">val_inv</span> <span class="bp">_</span> <span class="n">nz</span><span class="o">,</span>
</code></pre></div>



<a name="203439021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/no%20goals/near/203439021" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/no.20goals.html#203439021">(Jul 09 2020 at 20:52)</a>:</h4>
<p>it works</p>



<a name="203439272"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/no%20goals/near/203439272" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/no.20goals.html#203439272">(Jul 09 2020 at 20:54)</a>:</h4>
<p>assoc_rw somehow managed to create the <code>nz</code> goal in some metavariably way?</p>



<a name="203439298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/no%20goals/near/203439298" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/no.20goals.html#203439298">(Jul 09 2020 at 20:54)</a>:</h4>
<p>well <code>val_inv</code> should have created the <code>nz</code> goal</p>



<a name="203439314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/no%20goals/near/203439314" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/no.20goals.html#203439314">(Jul 09 2020 at 20:55)</a>:</h4>
<p>but <code>assoc_rw</code> hid it somewhere</p>



<a name="203439575"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/no%20goals/near/203439575" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/no.20goals.html#203439575">(Jul 09 2020 at 20:57)</a>:</h4>
<p>Too quick <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span>. I don't know how Bhavik got there, but the way I debug things like this is by sorrying out big chunks of the proof, (by changing a block <code>{ blah blah }</code> to <code>sorry;{  blah blah}</code> this is easy to do / undo) doing this until you see where the error changes from the weird error message to just <code>is_pir uses sorry</code> you can find the section and then line of the proof where this problem occurs.</p>



<a name="203439677"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/no%20goals/near/203439677" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/no.20goals.html#203439677">(Jul 09 2020 at 20:57)</a>:</h4>
<p><span class="user-mention" data-user-id="127136">@Alex J. Best</span> Yup essentially the same, except on a call with kevin and chris who did most of the steps :)</p>



<a name="203439768"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/no%20goals/near/203439768" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/no.20goals.html#203439768">(Jul 09 2020 at 20:58)</a>:</h4>
<p>rofl I hadn't realised you were listening to us Bhavik :D</p>



<a name="203439839"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/no%20goals/near/203439839" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/no.20goals.html#203439839">(Jul 09 2020 at 20:58)</a>:</h4>
<p>I was also replying in the chat :)</p>



<a name="203439907"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/no%20goals/near/203439907" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/no.20goals.html#203439907">(Jul 09 2020 at 20:59)</a>:</h4>
<p><span class="user-mention" data-user-id="127136">@Alex J. Best</span> I got there by going down the huge proof and every time a new { appeared I would put a line of the form <code>sorry, sorry}, sorry}, sorry end #exit</code></p>



<a name="203440015"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/no%20goals/near/203440015" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/no.20goals.html#203440015">(Jul 09 2020 at 21:00)</a>:</h4>
<p>and I just kept bisecting until I located the line where the weird metavariable goal appeared</p>



<a name="203440063"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/no%20goals/near/203440063" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/no.20goals.html#203440063">(Jul 09 2020 at 21:00)</a>:</h4>
<p>Ah I see, somehow I always work backwards from the end sorrying out more and more for some reason, but yeah essentially the same bisection thing.</p>



<a name="203441648"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/no%20goals/near/203441648" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/no.20goals.html#203441648">(Jul 09 2020 at 21:14)</a>:</h4>
<p>I made <a href="https://github.com/leanprover-community/mathlib/issues/3349">#3349</a> for this now.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>