---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/meaning.20of.20.60section.20end.60.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/meaning.20of.20.60section.20end.60.html">meaning of `section end`</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="289760228"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/meaning%20of%20%60section%20end%60/near/289760228" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/meaning.20of.20.60section.20end.60.html#289760228">(Jul 15 2022 at 17:48)</a>:</h4>
<p>I'm confused by the keyword <code>section end</code> in <a href="https://github.com/leanprover-community/mathlib/blob/master/src/algebraic_geometry/pullbacks.lean#L113">https://github.com/leanprover-community/mathlib/blob/master/src/algebraic_geometry/pullbacks.lean#L113</a>. I would have thought this meant a new section is being created called <code>end</code> but there's no equivalent <code>end end</code>. What does this line of code do?</p>



<a name="289760520"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/meaning%20of%20%60section%20end%60/near/289760520" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/meaning.20of.20.60section.20end.60.html#289760520">(Jul 15 2022 at 17:51)</a>:</h4>
<p>I think it's an unnamed <code>section</code> that immediately <code>end</code>s; seems to serve no purpose.</p>
<p>The <code>section end</code> line was already there when the file was added in <a href="https://github.com/leanprover-community/mathlib/pull/11450">#11450</a>.</p>



<a name="289761001"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/meaning%20of%20%60section%20end%60/near/289761001" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/meaning.20of.20.60section.20end.60.html#289761001">(Jul 15 2022 at 17:55)</a>:</h4>
<p>interesting, I'll just ignore it then!</p>



<a name="289764559"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/meaning%20of%20%60section%20end%60/near/289764559" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/meaning.20of.20.60section.20end.60.html#289764559">(Jul 15 2022 at 18:22)</a>:</h4>
<p>If you open a section and never close it, that's allowed? Does it auto-close at the end of the file? e.g. <a href="https://github.com/leanprover-community/mathlib/blob/96d3f9505666502b67d73ebd0dd0cc360c3418a7/analysis/topology/topological_groups.lean#L52">https://github.com/leanprover-community/mathlib/blob/96d3f9505666502b67d73ebd0dd0cc360c3418a7/analysis/topology/topological_groups.lean#L52</a> this section is never ended</p>



<a name="289768817"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/meaning%20of%20%60section%20end%60/near/289768817" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/meaning.20of.20.60section.20end.60.html#289768817">(Jul 15 2022 at 18:59)</a>:</h4>
<p>Sections need to be closed. That file (from 2018) starts with <code>#exit</code> so none of the rest is processed.</p>



<a name="289769150"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/meaning%20of%20%60section%20end%60/near/289769150" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/meaning.20of.20.60section.20end.60.html#289769150">(Jul 15 2022 at 19:01)</a>:</h4>
<p>So <code>#exit</code> means to not parse the rest of the file?</p>



<a name="289769352"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/meaning%20of%20%60section%20end%60/near/289769352" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/meaning.20of.20.60section.20end.60.html#289769352">(Jul 15 2022 at 19:03)</a>:</h4>
<p>Yes, the <code>#exit</code> command causes Lean to stop processing the file immediately.</p>



<a name="289769394"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/meaning%20of%20%60section%20end%60/near/289769394" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/meaning.20of.20.60section.20end.60.html#289769394">(Jul 15 2022 at 19:03)</a>:</h4>
<p>I'm also confused by this namespace <code>nat.partrec'</code> in <a href="https://github.com/leanprover-community/mathlib/blob/bdd54acda358f535b42951b784757135213dcf52/data/computability/halting.lean#L194">https://github.com/leanprover-community/mathlib/blob/bdd54acda358f535b42951b784757135213dcf52/data/computability/halting.lean#L194</a>. It's never closed, but another namespace named <code>nat.primrec'</code> does get closed even though it's never opened. Are these the same namespace somehow?</p>



<a name="289769747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/meaning%20of%20%60section%20end%60/near/289769747" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/meaning.20of.20.60section.20end.60.html#289769747">(Jul 15 2022 at 19:06)</a>:</h4>
<p>It might be a Lean bug that it's not checking the names match beyond the first dot. (By the way, why are you looking at mathlib from 2018?)</p>



<a name="289769857"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/meaning%20of%20%60section%20end%60/near/289769857" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/meaning.20of.20.60section.20end.60.html#289769857">(Jul 15 2022 at 19:07)</a>:</h4>
<p>When you close a namespace or section with <code>end</code>, Lean already knows what it's closing, and it's only using the text you supply as a check.</p>



<a name="289770006"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/meaning%20of%20%60section%20end%60/near/289770006" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/meaning.20of.20.60section.20end.60.html#289770006">(Jul 15 2022 at 19:08)</a>:</h4>
<p>I'm working on getting better namespace parsing working for <a href="https://mathlib-changelog.vercel.app/">https://mathlib-changelog.vercel.app/</a>, which requires manually keeping track of which namespace/sections are open/closed. But the script I wrote is erroring on some of these examples, so just trying to understand what's going on</p>



<a name="289772687"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/meaning%20of%20%60section%20end%60/near/289772687" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/meaning.20of.20.60section.20end.60.html#289772687">(Jul 15 2022 at 19:29)</a>:</h4>
<p>As far as I can tell, that <code>data/computability/halting.lean</code> would always have been an error, at least as far back as the last official Microsoft release of Lean 3.</p>
<p>On github, there's a red X saying the Travis CI failed for that commit. Indeed, in the next commit it was fixed: <a href="https://github.com/leanprover-community/mathlib/commit/b37526407ed1846f29dcdfb976554daf7f8a983e#diff-b5b02b57165dd41df0a1154c6d87b6ac2e174c4e2f7ba7b4ae51d0294e375297R318">https://github.com/leanprover-community/mathlib/commit/b37526407ed1846f29dcdfb976554daf7f8a983e#diff-b5b02b57165dd41df0a1154c6d87b6ac2e174c4e2f7ba7b4ae51d0294e375297R318</a></p>



<a name="289773114"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/meaning%20of%20%60section%20end%60/near/289773114" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/meaning.20of.20.60section.20end.60.html#289773114">(Jul 15 2022 at 19:32)</a>:</h4>
<p>aah good catch! Yeah seems like it's safe to ignore the error there then</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>