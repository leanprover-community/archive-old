---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/semilattice.2C.20dvd.2C.20associated.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/semilattice.2C.20dvd.2C.20associated.html">semilattice, dvd, associated</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="233797473"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/semilattice%2C%20dvd%2C%20associated/near/233797473" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/semilattice.2C.20dvd.2C.20associated.html#233797473">(Apr 09 2021 at 10:17)</a>:</h4>
<p>Is it possible to move all that is here starting from Johan's comment directed a me to the new topic?  Or should I simply start a new topic?</p>



<a name="233797558"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/semilattice%2C%20dvd%2C%20associated/near/233797558" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/semilattice.2C.20dvd.2C.20associated.html#233797558">(Apr 09 2021 at 10:18)</a>:</h4>
<p>anyone can change topics retroactively</p>



<a name="233797622"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/semilattice%2C%20dvd%2C%20associated/near/233797622" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/semilattice.2C.20dvd.2C.20associated.html#233797622">(Apr 09 2021 at 10:19)</a>:</h4>
<p>Ok, topic name changed!  Now, let's continue, since I found it quite interesting!</p>



<a name="233797886"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/semilattice%2C%20dvd%2C%20associated/near/233797886" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/semilattice.2C.20dvd.2C.20associated.html#233797886">(Apr 09 2021 at 10:21)</a>:</h4>
<p>Yeah, if <code> (∀ a : M, m ∣ a ↔ n ∣ a) ↔ associated m n</code> is missing then that's one thing, and then for nat you need associated iff equal.</p>



<a name="233797949"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/semilattice%2C%20dvd%2C%20associated/near/233797949" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/semilattice.2C.20dvd.2C.20associated.html#233797949">(Apr 09 2021 at 10:22)</a>:</h4>
<p>So, I would define a relation on a monoid to simply be that <code>r a b</code> if <code>b</code> is divisible by <code>a</code>.  To "remove" loops, I would need to quotient by them.</p>
<p>How do you form quotients by relations?</p>



<a name="233798066"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/semilattice%2C%20dvd%2C%20associated/near/233798066" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/semilattice.2C.20dvd.2C.20associated.html#233798066">(Apr 09 2021 at 10:23)</a>:</h4>
<p>Once that is done, I would prove that the relation <del>is</del> induces a partial order on the quotient.</p>



<a name="233799693"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/semilattice%2C%20dvd%2C%20associated/near/233799693" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/semilattice.2C.20dvd.2C.20associated.html#233799693">(Apr 09 2021 at 10:38)</a>:</h4>
<p>I think you need commutativity to make this sensible. To form a quotient by a relation check out the section on quotients in <a href="https://leanprover.github.io/theorem_proving_in_lean/">#tpil</a> or my notes on quotients from my course <a href="https://xenaproject.wordpress.com/2021/03/04/formalising-mathematics-workshop-7-quotients/">https://xenaproject.wordpress.com/2021/03/04/formalising-mathematics-workshop-7-quotients/</a></p>



<a name="233800528"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/semilattice%2C%20dvd%2C%20associated/near/233800528" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/semilattice.2C.20dvd.2C.20associated.html#233800528">(Apr 09 2021 at 10:46)</a>:</h4>
<p>Also, I'm suggesting here that the construction of a partial order quotienting a preorder is independent of anything about divisibility</p>



<a name="233800585"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/semilattice%2C%20dvd%2C%20associated/near/233800585" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/semilattice.2C.20dvd.2C.20associated.html#233800585">(Apr 09 2021 at 10:47)</a>:</h4>
<p>although it has some relations to <code>associated</code> and other things when you instantiate the construction in this setting</p>



<a name="233800635"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/semilattice%2C%20dvd%2C%20associated/near/233800635" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/semilattice.2C.20dvd.2C.20associated.html#233800635">(Apr 09 2021 at 10:47)</a>:</h4>
<p>Yes, I was going to take a "general" approach, where each step "resets the bar".</p>



<a name="233851329"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/semilattice%2C%20dvd%2C%20associated/near/233851329" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/semilattice.2C.20dvd.2C.20associated.html#233851329">(Apr 09 2021 at 16:21)</a>:</h4>
<p>How bad an idea is this statement</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="sd">/-- `dvd` is injective in the left argument -/</span>
<span class="kd">lemma</span> <span class="n">dvd_left_injective</span> <span class="o">:</span> <span class="n">function.injective</span> <span class="o">((</span><span class="bp">∣</span><span class="o">)</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:=</span>
<span class="bp">λ</span> <span class="n">m</span> <span class="n">n</span> <span class="n">h</span><span class="o">,</span> <span class="k">let</span> <span class="n">h</span> <span class="o">:=</span> <span class="n">congr_fun</span> <span class="n">h</span> <span class="k">in</span> <span class="n">dvd_antisymm</span> <span class="o">((</span><span class="n">h</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">mpr</span> <span class="o">(</span><span class="n">dvd_refl</span> <span class="n">_</span><span class="o">))</span> <span class="o">((</span><span class="n">h</span> <span class="n">m</span><span class="o">)</span><span class="bp">.</span><span class="n">mp</span> <span class="o">(</span><span class="n">dvd_refl</span> <span class="n">_</span><span class="o">))</span>
</code></pre></div>



<a name="233853289"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/semilattice%2C%20dvd%2C%20associated/near/233853289" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/semilattice.2C.20dvd.2C.20associated.html#233853289">(Apr 09 2021 at 16:33)</a>:</h4>
<p>From which the original statement recovers as</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">dvd_right_iff_eq</span> <span class="o">{</span><span class="n">m</span> <span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span> <span class="o">:</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">a</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="n">m</span> <span class="bp">∣</span> <span class="n">a</span> <span class="bp">↔</span> <span class="n">n</span> <span class="bp">∣</span> <span class="n">a</span><span class="o">)</span> <span class="bp">↔</span> <span class="n">m</span> <span class="bp">=</span> <span class="n">n</span> <span class="o">:=</span>
<span class="n">iff.trans</span> <span class="o">(</span><span class="n">forall_congr</span> <span class="bp">$</span> <span class="bp">λ</span> <span class="n">_</span><span class="o">,</span> <span class="n">eq_iff_iff.symm</span><span class="o">)</span> <span class="bp">$</span>
  <span class="n">function.funext_iff.symm.trans</span> <span class="n">dvd_left_injective.eq_iff</span>
</code></pre></div>



<a name="233853481"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/semilattice%2C%20dvd%2C%20associated/near/233853481" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/semilattice.2C.20dvd.2C.20associated.html#233853481">(Apr 09 2021 at 16:34)</a>:</h4>
<p>That's a great way of thinking about it!</p>



<a name="233871463"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/semilattice%2C%20dvd%2C%20associated/near/233871463" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/semilattice.2C.20dvd.2C.20associated.html#233871463">(Apr 09 2021 at 18:43)</a>:</h4>
<p>That is a very funny way of expressing the result!  I had never thought about it like this!</p>



<a name="233871606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/semilattice%2C%20dvd%2C%20associated/near/233871606" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/semilattice.2C.20dvd.2C.20associated.html#233871606">(Apr 09 2021 at 18:44)</a>:</h4>
<p>Eric, if you want, I can add it to PR <a href="https://github.com/leanprover-community/mathlib/issues/7132">#7132</a>, unless you want to PR it on its own.</p>



<a name="233880495"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/semilattice%2C%20dvd%2C%20associated/near/233880495" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/semilattice.2C.20dvd.2C.20associated.html#233880495">(Apr 09 2021 at 19:47)</a>:</h4>
<p>I think your original version is better, but perhaps proving mine in terms of yours is fine to have too, if only to leave in as a puzzle for the reader to teach them more about equality in lean</p>



<a name="234060657"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/semilattice%2C%20dvd%2C%20associated/near/234060657" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/semilattice.2C.20dvd.2C.20associated.html#234060657">(Apr 11 2021 at 17:04)</a>:</h4>
<p>I have been playing with the circle of ideas that was discussed here: I now have a (very easy) proof that divisibility in a <code>monoid</code> is a <code>preorder</code>.</p>
<p>I also proved that two elements that divide each other in a <code>cancel_comm_monoid</code> are "associated": they differ by a unit.</p>
<p>The next step would be to form the quotient of a <code>preorder</code> to obtain a <code>partial_order</code>.</p>
<p>Finally, in the case of the <code>partial_order</code> obtained as above from a <code>cancel_comm_monoid</code>, I will want to establish that the "fibres" of this quotient are torsors under the group of units (this is essentially already available).</p>
<p>My next main obstacle is that I do not know how to form quotients.  I found <code>quotient</code>, but there is very little guidance on how to use it.  Also, it is in the folder of files that I have been warned to not touch, so I feel a little worried about even browsing it!</p>
<p>Should I simply pull up my sleeves and learn how to use <code>quotient</code>, or is there some easier file that I can look at?</p>



<a name="234061285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/semilattice%2C%20dvd%2C%20associated/near/234061285" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/semilattice.2C.20dvd.2C.20associated.html#234061285">(Apr 11 2021 at 17:15)</a>:</h4>
<p>You can read Kevin's post on <a href="https://xenaproject.wordpress.com/2021/03/04/formalising-mathematics-workshop-7-quotients/">https://xenaproject.wordpress.com/2021/03/04/formalising-mathematics-workshop-7-quotients/</a>, and look at the exercises in <a href="https://github.com/ImperialCollegeLondon/formalising-mathematics/tree/master/src/week_7">https://github.com/ImperialCollegeLondon/formalising-mathematics/tree/master/src/week_7</a></p>



<a name="234061372"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/semilattice%2C%20dvd%2C%20associated/near/234061372" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/semilattice.2C.20dvd.2C.20associated.html#234061372">(Apr 11 2021 at 17:16)</a>:</h4>
<p>The basic aspect of it, if you have a <code>setoid X</code>, which you get from some equivalence on X, which is just a relation <code>r : X -&gt; X -&gt; Prop</code> such that <code>reflexive r</code>, <code>symmetric r</code>, <code>transitive r</code>, you can form a <code>quotient</code>.</p>



<a name="234061634"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/semilattice%2C%20dvd%2C%20associated/near/234061634" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/semilattice.2C.20dvd.2C.20associated.html#234061634">(Apr 11 2021 at 17:21)</a>:</h4>
<p>Yakov, thanks for the pointer: I will take a look!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>