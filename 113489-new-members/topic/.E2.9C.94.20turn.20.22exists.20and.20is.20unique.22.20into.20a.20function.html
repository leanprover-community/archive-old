---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/.E2.9C.94.20turn.20.22exists.20and.20is.20unique.22.20into.20a.20function.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20turn.20.22exists.20and.20is.20unique.22.20into.20a.20function.html">✔ turn "exists and is unique" into a function</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="290886537"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20turn%20%22exists%20and%20is%20unique%22%20into%20a%20function/near/290886537" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20turn.20.22exists.20and.20is.20unique.22.20into.20a.20function.html#290886537">(Jul 26 2022 at 12:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="516952">Pierre Guillot</span> has marked this topic as resolved.</p>



<a name="290905203"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20turn%20%22exists%20and%20is%20unique%22%20into%20a%20function/near/290905203" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20turn.20.22exists.20and.20is.20unique.22.20into.20a.20function.html#290905203">(Jul 26 2022 at 14:54)</a>:</h4>
<p>The axioms and the proof of LEM is explained here: <a href="https://leanprover.github.io/theorem_proving_in_lean/axioms_and_computation.html#the-law-of-the-excluded-middle">https://leanprover.github.io/theorem_proving_in_lean/axioms_and_computation.html#the-law-of-the-excluded-middle</a></p>



<a name="290923638"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20turn%20%22exists%20and%20is%20unique%22%20into%20a%20function/near/290923638" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20turn.20.22exists.20and.20is.20unique.22.20into.20a.20function.html#290923638">(Jul 26 2022 at 16:58)</a>:</h4>
<p>Let me butt in here to advertise a new gadget we just merged a few days ago: <a href="https://leanprover-community.github.io/mathlib_docs/attributes.html#expand_exists">expand_exists</a> will automatically define a function and its specification if you prove an existential lemma. This always uses choice, it makes no attempt to be constructive even when possible.</p>



<a name="290926952"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20turn%20%22exists%20and%20is%20unique%22%20into%20a%20function/near/290926952" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20turn.20.22exists.20and.20is.20unique.22.20into.20a.20function.html#290926952">(Jul 26 2022 at 17:23)</a>:</h4>
<p>That is great that we have this. Using <code>exists.some</code> and <code>exists.some_spec</code> felt annoying before I learned from Kevin how to use it properly (which was exactly what <code>expand_exists</code> does). Does it work with <code>exists_unique</code> in the same way or do have to add some boilerplate for that by hand? Also I think you should advertise this in some more visible location.</p>



<a name="290930708"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20turn%20%22exists%20and%20is%20unique%22%20into%20a%20function/near/290930708" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Johnson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20turn.20.22exists.20and.20is.20unique.22.20into.20a.20function.html#290930708">(Jul 26 2022 at 17:47)</a>:</h4>
<p>I didn't know that <code>expand_exists</code> already exists. The gadget is very handy, maybe we should mention it in the community blog?</p>



<a name="290935237"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20turn%20%22exists%20and%20is%20unique%22%20into%20a%20function/near/290935237" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20turn.20.22exists.20and.20is.20unique.22.20into.20a.20function.html#290935237">(Jul 26 2022 at 18:19)</a>:</h4>
<p>I never tested it with <code>exists_unique</code>. I think it probably won't work out of the box, but unfolding the definition of <code>exists_unique</code> should make it do what you'd expect. This would be a very easy feature to add.</p>



<a name="290935300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20turn%20%22exists%20and%20is%20unique%22%20into%20a%20function/near/290935300" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20turn.20.22exists.20and.20is.20unique.22.20into.20a.20function.html#290935300">(Jul 26 2022 at 18:19)</a>:</h4>
<p>Maybe it's time for a blog post about some recent new tactics/meta-features!</p>



<a name="291255631"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20turn%20%22exists%20and%20is%20unique%22%20into%20a%20function/near/291255631" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20turn.20.22exists.20and.20is.20unique.22.20into.20a.20function.html#291255631">(Jul 28 2022 at 21:40)</a>:</h4>
<p>I missed this <code>expand_exists</code> tactic until just now, but I thought I would mention that it bears a great resemblance to the <a href="#narrow/stream/113489-new-members/topic/Working.20with.20constructed.20objects/near/270984147"><code>unpack</code></a> user command I wrote a while back. I haven't thought too deeply about the relative UX of these</p>



<a name="291256056"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20turn%20%22exists%20and%20is%20unique%22%20into%20a%20function/near/291256056" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20turn.20.22exists.20and.20is.20unique.22.20into.20a.20function.html#291256056">(Jul 28 2022 at 21:44)</a>:</h4>
<p>Is there a usage example of that command?</p>



<a name="291256407"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20turn%20%22exists%20and%20is%20unique%22%20into%20a%20function/near/291256407" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20turn.20.22exists.20and.20is.20unique.22.20into.20a.20function.html#291256407">(Jul 28 2022 at 21:48)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">namespace</span> <span class="n">N0</span>
<span class="kn">section</span>
  <span class="kd">parameters</span> <span class="o">(</span><span class="n">τrx₁elt</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">(</span><span class="n">rx₁</span> <span class="o">:</span> <span class="n">set</span> <span class="n">τrx₁elt</span><span class="o">)</span>
  <span class="kd">parameter</span> <span class="o">(</span><span class="n">hrx₁</span> <span class="o">:</span> <span class="n">rx₁</span> <span class="bp">=</span> <span class="bp">∅</span><span class="o">)</span>
  <span class="kn">include</span> <span class="n">τrx₁elt</span> <span class="n">rx₁</span> <span class="n">hrx₁</span>
  <span class="kn">namespace</span> <span class="n">n0</span>
    <span class="kd">lemma</span> <span class="n">aux30</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">x</span> <span class="o">:</span> <span class="n">set</span> <span class="n">τrx₁elt</span><span class="o">,</span> <span class="n">rx₁</span> <span class="bp">=</span> <span class="n">x</span> <span class="bp">∧</span> <span class="n">rx₁</span> <span class="bp">≠</span> <span class="bp">∅</span> <span class="o">:=</span> <span class="gr">sorry</span>
    <span class="n">unpack</span> <span class="o">⟨</span><span class="n">fX</span><span class="o">,</span> <span class="n">frx₁</span><span class="o">,</span> <span class="n">frx₁_empty</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">aux30</span>
    <span class="kd">example</span> <span class="o">:</span> <span class="n">set</span> <span class="n">τrx₁elt</span> <span class="o">:=</span> <span class="n">fX</span>
    <span class="kd">example</span> <span class="o">:</span> <span class="n">rx₁</span> <span class="bp">=</span> <span class="n">fX</span> <span class="o">:=</span> <span class="n">frx₁</span>
    <span class="kd">example</span> <span class="o">:</span> <span class="n">rx₁</span> <span class="bp">≠</span> <span class="bp">∅</span> <span class="o">:=</span> <span class="n">frx₁_empty</span>
  <span class="kd">end</span> <span class="n">n0</span>
<span class="kd">end</span>
<span class="kd">end</span> <span class="n">N0</span>
</code></pre></div>



<a name="291256459"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20turn%20%22exists%20and%20is%20unique%22%20into%20a%20function/near/291256459" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20turn.20.22exists.20and.20is.20unique.22.20into.20a.20function.html#291256459">(Jul 28 2022 at 21:48)</a>:</h4>
<p>(this was someone else's example rewritten to use <code>unpack</code>)</p>



<a name="291256559"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20turn%20%22exists%20and%20is%20unique%22%20into%20a%20function/near/291256559" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20turn.20.22exists.20and.20is.20unique.22.20into.20a.20function.html#291256559">(Jul 28 2022 at 21:49)</a>:</h4>
<p>I think that syntactically it makes the most sense to make it look like a command-level <code>obtain</code></p>



<a name="291256661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20turn%20%22exists%20and%20is%20unique%22%20into%20a%20function/near/291256661" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20turn.20.22exists.20and.20is.20unique.22.20into.20a.20function.html#291256661">(Jul 28 2022 at 21:50)</a>:</h4>
<p>although it leaves a lot of open questions about where to put all the other doodads that <code>def</code> supports</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>