---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/opposite.20preorder.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html">opposite preorder</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="205751350"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205751350" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205751350">(Aug 03 2020 at 00:59)</a>:</h4>
<p>I am learning about preorders, and I read there is a concept called "opposite preorder",  which is, Given a preorder (P, &lt;=), the opposite is a preorder (P, &lt;=op) having p &lt;=op q iff q &lt;= p. I am wondering how to write this in lean. I found <a href="https://github.com/leanprover-community/lean/blob/master/library/init/algebra/order.lean#L19">preorders</a> in lean. Is that definition suitable for defining 'opposite preorder' with? How to do that?</p>



<a name="205751459"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205751459" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205751459">(Aug 03 2020 at 01:02)</a>:</h4>
<p>it's called <a href="https://leanprover-community.github.io/mathlib_docs/find/order_dual">docs#order_dual</a> in mathlib</p>



<a name="205751817"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205751817" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205751817">(Aug 03 2020 at 01:13)</a>:</h4>
<p>Oooh should this be a job for <a href="https://leanprover-community.github.io/mathlib_docs/find/opposite">docs#opposite</a> ?</p>



<a name="205751886"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205751886" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205751886">(Aug 03 2020 at 01:15)</a>:</h4>
<p><code>opposite</code> is already sort of conceptually dubious but it definitely shouldn't reverse both <code>&lt;=</code> and <code>*</code></p>



<a name="205751895"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205751895" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205751895">(Aug 03 2020 at 01:15)</a>:</h4>
<p>Oh yeah fair enough. Didn't consider the case of an ordered ring.</p>



<a name="205752019"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205752019" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205752019">(Aug 03 2020 at 01:18)</a>:</h4>
<p>Well... If you think of a poset as a category, then opposite does make sense.</p>



<a name="205756780"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205756780" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205756780">(Aug 03 2020 at 03:23)</a>:</h4>
<p>Possibly we should split <code>opposite</code> in category theory and in group theory and turn <code>ᵒᵖ</code> into two <code>localized notation</code>s.</p>



<a name="205827321"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205827321" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205827321">(Aug 03 2020 at 18:08)</a>:</h4>
<p>A couple questions</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">set</span><span class="bp">.</span><span class="n">basic</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">set</span><span class="bp">.</span><span class="n">lattice</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">setoid</span><span class="bp">.</span><span class="n">partition</span>
<span class="kn">import</span> <span class="n">order</span><span class="bp">.</span><span class="n">filter</span><span class="bp">.</span><span class="n">basic</span>
<span class="kn">import</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">basic</span>
<span class="kn">import</span> <span class="n">tactic</span>
<span class="kn">import</span> <span class="n">init</span><span class="bp">.</span><span class="n">logic</span> <span class="n">init</span><span class="bp">.</span><span class="n">classical</span> <span class="n">init</span><span class="bp">.</span><span class="n">meta</span><span class="bp">.</span><span class="n">name</span> <span class="n">init</span><span class="bp">.</span><span class="n">algebra</span><span class="bp">.</span><span class="n">classes</span>


<span class="kn">variable</span> <span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span>
<span class="kn">variable</span> <span class="n">s</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span>
<span class="kn">variable</span> <span class="o">{</span><span class="n">P</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">}</span>


<span class="c1">-- XXX Don&#39;t I mean [preorder P], not [preorder X]?</span>
<span class="n">def</span> <span class="n">is_upper</span> <span class="o">[</span><span class="n">preorder</span> <span class="n">X</span><span class="o">]</span> <span class="o">(</span><span class="n">P</span><span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="bp">∀</span> <span class="n">p</span> <span class="err">∈</span> <span class="n">P</span><span class="o">,</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">q</span> <span class="o">:</span> <span class="n">X</span><span class="o">),</span> <span class="n">q</span> <span class="bp">≥</span> <span class="n">p</span> <span class="bp">→</span> <span class="n">q</span> <span class="err">∈</span> <span class="n">P</span>

<span class="n">def</span> <span class="n">uparrow</span> <span class="o">[</span><span class="n">preorder</span> <span class="n">X</span><span class="o">]</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">hp</span><span class="o">:</span> <span class="n">p</span> <span class="err">∈</span> <span class="n">P</span><span class="o">)</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span> <span class="o">:=</span>
<span class="o">{</span><span class="n">p&#39;</span> <span class="err">∈</span> <span class="n">P</span> <span class="bp">|</span> <span class="n">p</span> <span class="bp">≤</span> <span class="n">p&#39;</span><span class="o">}</span>

<span class="c1">-- XXX Why doesn&#39;t this work?</span>
<span class="kn">example</span> <span class="o">[</span><span class="n">preorder</span> <span class="n">X</span><span class="o">]</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">X</span><span class="o">)</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">p</span> <span class="err">∈</span> <span class="n">P</span><span class="o">,</span> <span class="n">is_upper</span> <span class="o">(</span><span class="n">uparrow</span> <span class="n">p</span><span class="o">)</span> <span class="o">:=</span> <span class="n">sorry</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="n">failed</span> <span class="n">to</span> <span class="n">synthesize</span> <span class="n">type</span> <span class="n">class</span> <span class="kn">instance</span> <span class="n">for</span>
<span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">P</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">,</span>
<span class="bp">_</span><span class="n">inst_1</span> <span class="o">:</span> <span class="n">preorder</span> <span class="n">X</span><span class="o">,</span>
<span class="n">p</span> <span class="o">:</span> <span class="n">X</span><span class="o">,</span>
<span class="n">p</span> <span class="o">:</span> <span class="kt">Type</span>
<span class="err">⊢</span> <span class="n">has_mem</span> <span class="kt">Type</span> <span class="o">(</span><span class="n">set</span> <span class="n">X</span><span class="o">)</span>
<span class="n">cats</span><span class="bp">.</span><span class="n">lean</span><span class="o">:</span><span class="mi">23</span><span class="o">:</span><span class="mi">50</span>
<span class="n">failed</span> <span class="n">to</span> <span class="n">synthesize</span> <span class="n">type</span> <span class="n">class</span> <span class="kn">instance</span> <span class="n">for</span>
<span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">P</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">,</span>
<span class="bp">_</span><span class="n">inst_1</span> <span class="o">:</span> <span class="n">preorder</span> <span class="n">X</span><span class="o">,</span>
<span class="n">p</span> <span class="o">:</span> <span class="n">X</span><span class="o">,</span>
<span class="n">p</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">H</span> <span class="o">:</span> <span class="n">p</span> <span class="err">∈</span> <span class="n">P</span>
<span class="err">⊢</span> <span class="n">preorder</span> <span class="n">p</span>
</code></pre></div>



<a name="205828282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205828282" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205828282">(Aug 03 2020 at 18:16)</a>:</h4>
<p>Check the type of <code>uparrow</code>. It has more explicit arguments than you seem to think</p>



<a name="205828659"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205828659" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205828659">(Aug 03 2020 at 18:19)</a>:</h4>
<p>it might help you to squash your three <code>variable</code> statements into one <code>variables</code> statement</p>



<a name="205829883"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205829883" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205829883">(Aug 03 2020 at 18:29)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="n">uparrow</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">{</span><span class="n">P</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">}</span> <span class="o">[</span><span class="bp">_</span><span class="n">inst_1</span> <span class="o">:</span> <span class="n">preorder</span> <span class="n">X</span><span class="o">]</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">X</span><span class="o">),</span> <span class="n">p</span> <span class="err">∈</span> <span class="n">P</span> <span class="bp">→</span> <span class="n">set</span> <span class="n">X</span>
</code></pre></div>


<p>has two of <code>(these)</code> so I think it needs two arguments<br>
but </p>
<div class="codehilite"><pre><span></span><code><span class="kn">example</span> <span class="o">[</span><span class="n">preorder</span> <span class="n">X</span><span class="o">]</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">X</span><span class="o">)</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">p</span> <span class="err">∈</span> <span class="n">P</span><span class="o">,</span> <span class="n">is_upper</span> <span class="o">(</span><span class="n">uparrow</span> <span class="n">X</span> <span class="n">p</span><span class="o">)</span> <span class="o">:=</span> <span class="n">sorry</span>
<span class="n">type</span> <span class="n">mismatch</span> <span class="n">at</span> <span class="n">application</span>
  <span class="n">is_upper</span> <span class="o">(</span><span class="n">uparrow</span> <span class="n">X</span> <span class="n">p</span><span class="o">)</span>
<span class="n">term</span>
  <span class="n">uparrow</span> <span class="n">X</span> <span class="n">p</span>
<span class="n">has</span> <span class="n">type</span>
  <span class="n">p</span> <span class="err">∈</span> <span class="err">?</span><span class="n">m_1</span> <span class="bp">→</span> <span class="n">set</span> <span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span>
<span class="n">but</span> <span class="n">is</span> <span class="n">expected</span> <span class="n">to</span> <span class="k">have</span> <span class="n">type</span>
  <span class="kt">Type</span> <span class="o">:</span> <span class="kt">Type</span> <span class="mi">1</span>
</code></pre></div>



<a name="205830086"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205830086" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205830086">(Aug 03 2020 at 18:30)</a>:</h4>
<p>do you know what the type of <code>uparrow X p</code> is?</p>



<a name="205830167"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205830167" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205830167">(Aug 03 2020 at 18:31)</a>:</h4>
<div class="codehilite"><pre><span></span><code> <span class="n">p</span> <span class="err">∈</span> <span class="err">?</span><span class="n">m_1</span> <span class="bp">→</span> <span class="n">set</span> <span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span>
</code></pre></div>


<p>apparently</p>



<a name="205830484"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205830484" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205830484">(Aug 03 2020 at 18:34)</a>:</h4>
<p>does that mean I'm supposed to change it from forall to introducing a specific <code>hp : p \in P</code> so I can reference it by name?</p>



<a name="205830687"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205830687" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205830687">(Aug 03 2020 at 18:36)</a>:</h4>
<p>it's a function of one argument</p>



<a name="205830702"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205830702" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205830702">(Aug 03 2020 at 18:36)</a>:</h4>
<p>so you can just pass in the argument</p>



<a name="205830713"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205830713" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205830713">(Aug 03 2020 at 18:36)</a>:</h4>
<p>as in <code>uparrow X p hp</code></p>



<a name="205830825"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205830825" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205830825">(Aug 03 2020 at 18:37)</a>:</h4>
<p>@Iocta :</p>
<div class="codehilite"><pre><span></span><code><span class="n">uparrow</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">{</span><span class="n">P</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">}</span> <span class="o">[</span><span class="bp">_</span><span class="n">inst_1</span> <span class="o">:</span> <span class="n">preorder</span> <span class="n">X</span><span class="o">]</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">X</span><span class="o">),</span> <span class="n">p</span> <span class="err">∈</span> <span class="n">P</span> <span class="bp">→</span> <span class="n">set</span> <span class="n">X</span>
</code></pre></div>


<p>is exactly the same as</p>
<div class="codehilite"><pre><span></span><code><span class="n">uparrow</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">{</span><span class="n">P</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">}</span> <span class="o">[</span><span class="bp">_</span><span class="n">inst_1</span> <span class="o">:</span> <span class="n">preorder</span> <span class="n">X</span><span class="o">]</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">hp</span> <span class="o">:</span> <span class="n">p</span> <span class="err">∈</span> <span class="n">P</span><span class="o">),</span> <span class="n">set</span> <span class="n">X</span>
</code></pre></div>



<a name="205831074"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205831074" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205831074">(Aug 03 2020 at 18:39)</a>:</h4>
<p>Sorry if I'm being dense, I don't know what this means:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">example</span> <span class="o">[</span><span class="n">preorder</span> <span class="n">X</span><span class="o">]</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">hp</span><span class="o">:</span> <span class="n">p</span> <span class="err">∈</span> <span class="n">P</span><span class="o">)</span> <span class="o">:</span> <span class="n">is_upper</span> <span class="o">(</span><span class="n">uparrow</span> <span class="n">X</span> <span class="n">p</span> <span class="n">hp</span><span class="o">)</span> <span class="o">:=</span> <span class="n">sorry</span>
<span class="n">type</span> <span class="n">expected</span> <span class="n">at</span>
  <span class="n">is_upper</span> <span class="err">↥</span><span class="o">(</span><span class="n">uparrow</span> <span class="n">X</span> <span class="n">p</span> <span class="n">hp</span><span class="o">)</span>
<span class="n">term</span> <span class="n">has</span> <span class="n">type</span>
  <span class="n">set</span> <span class="err">↥</span><span class="o">(</span><span class="n">uparrow</span> <span class="n">X</span> <span class="n">p</span> <span class="n">hp</span><span class="o">)</span> <span class="bp">→</span> <span class="kt">Prop</span>
</code></pre></div>



<a name="205831195"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205831195" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205831195">(Aug 03 2020 at 18:40)</a>:</h4>
<p>Check the type of <code>is_upper</code>...</p>



<a name="205832001"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205832001" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205832001">(Aug 03 2020 at 18:48)</a>:</h4>
<p><span class="user-mention" data-user-id="253355">@Iocta</span> Lean is just using logic here, and you can use logic too to figure out exactly which inputs each function wants, and the error messages explain when you have not given each function the right inputs.</p>



<a name="205832162"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205832162" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205832162">(Aug 03 2020 at 18:49)</a>:</h4>
<p>Hovering over the name of a function will tell you exactly what the inputs it wants are</p>



<a name="205836320"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205836320" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205836320">(Aug 03 2020 at 19:22)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">variables</span> <span class="o">[</span><span class="n">preorder</span> <span class="n">X</span><span class="o">]</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">hp</span><span class="o">:</span> <span class="n">p</span> <span class="err">∈</span> <span class="n">P</span><span class="o">)</span> <span class="o">(</span><span class="n">S</span><span class="o">:</span> <span class="n">uparrow</span> <span class="n">p</span> <span class="n">hp</span><span class="o">)</span>
<span class="c1">-- Why can I say this</span>
<span class="kn">example</span> <span class="o">[</span><span class="n">preorder</span> <span class="n">X</span><span class="o">]</span> <span class="o">:</span> <span class="n">is_upper</span> <span class="o">(</span><span class="n">uparrow</span> <span class="n">p</span> <span class="n">hp</span><span class="o">)</span> <span class="o">:=</span> <span class="n">sorry</span>
<span class="c1">-- but not this?</span>
<span class="kn">example</span> <span class="o">[</span><span class="n">preorder</span> <span class="n">X</span><span class="o">]</span> <span class="o">:</span> <span class="n">is_upper</span> <span class="n">S</span> <span class="o">:=</span> <span class="n">sorry</span>
</code></pre></div>



<a name="205836362"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205836362" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205836362">(Aug 03 2020 at 19:23)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="n">type</span> <span class="n">mismatch</span> <span class="n">at</span> <span class="n">application</span>
  <span class="n">is_upper</span> <span class="n">S</span>
<span class="n">term</span>
  <span class="n">S</span>
<span class="n">has</span> <span class="n">type</span>
  <span class="err">↥</span><span class="o">(</span><span class="n">uparrow</span> <span class="n">p</span> <span class="n">hp</span><span class="o">)</span>
<span class="n">but</span> <span class="n">is</span> <span class="n">expected</span> <span class="n">to</span> <span class="k">have</span> <span class="n">type</span>
  <span class="n">set</span> <span class="err">?</span><span class="n">m_1</span>
</code></pre></div>



<a name="205836429"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205836429" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205836429">(Aug 03 2020 at 19:23)</a>:</h4>
<p>isn't <code>↥(uparrow p hp)</code> a set?</p>



<a name="205836505"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205836505" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205836505">(Aug 03 2020 at 19:24)</a>:</h4>
<p>The strange arrow means <code>subtype</code>. It's the subtype associated to the set <code>uparrow _ _</code>.</p>



<a name="205836622"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205836622" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205836622">(Aug 03 2020 at 19:25)</a>:</h4>
<p>whatever else is happening, if <code>is_upper (uparrow p hp)</code> makes sense and <code>S : uparrow p hp</code>, then surely <code>is_upper S</code> will almost never make sense!</p>



<a name="205836710"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205836710" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205836710">(Aug 03 2020 at 19:26)</a>:</h4>
<p>oh I see, they're at different levels</p>



<a name="205836722"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205836722" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205836722">(Aug 03 2020 at 19:26)</a>:</h4>
<p><span class="user-mention" data-user-id="253355">@Iocta</span> do you know the difference between a type and a term? <a href="https://xenaproject.wordpress.com/2020/06/20/mathematics-in-type-theory/">https://xenaproject.wordpress.com/2020/06/20/mathematics-in-type-theory/</a></p>



<a name="205836739"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205836739" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205836739">(Aug 03 2020 at 19:26)</a>:</h4>
<p>yeah, just realized that</p>



<a name="205836769"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205836769" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205836769">(Aug 03 2020 at 19:26)</a>:</h4>
<p>In Lean, if <code>X : Type</code> then <code>X</code> is a type, but if <code>A : set X</code> then <code>A</code> is a term, not a type.</p>



<a name="205836823"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205836823" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205836823">(Aug 03 2020 at 19:27)</a>:</h4>
<p>So even though we might informally think of X as a "set" and A as a "subset" and hence a "set", they are at different levels as you say.</p>



<a name="205836860"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205836860" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205836860">(Aug 03 2020 at 19:27)</a>:</h4>
<p>The weird arrow promotes a term to a type, in the cases when this can be done</p>



<a name="205836947"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205836947" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205836947">(Aug 03 2020 at 19:28)</a>:</h4>
<p>e.g it would promote <code>A : set X</code> to a type called a subtype; to give a term of this subtype you have to give a pair consisting of <code>x : X</code> and then a proof that <code>x \in A</code>.</p>



<a name="205836977"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205836977" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205836977">(Aug 03 2020 at 19:28)</a>:</h4>
<p>But a random term can't be promoted to a type</p>



<a name="205837581"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205837581" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205837581">(Aug 03 2020 at 19:33)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">example</span> <span class="o">[</span><span class="n">preorder</span> <span class="n">X</span><span class="o">]</span> <span class="o">:</span> <span class="n">is_upper</span> <span class="o">(</span><span class="n">uparrow</span> <span class="n">p</span> <span class="n">hp</span><span class="o">)</span> <span class="o">:=</span> <span class="n">sorry</span>
<span class="kn">example</span> <span class="o">[</span><span class="n">preorder</span> <span class="n">X</span><span class="o">]</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">p</span> <span class="err">∈</span> <span class="n">P</span><span class="o">,</span> <span class="n">is_upper</span> <span class="o">(</span><span class="n">uparrow</span> <span class="n">p</span> <span class="n">H</span><span class="o">)</span> <span class="o">:=</span> <span class="n">sorry</span>
</code></pre></div>


<p>that <code>H</code> is what i was looking for before "does that mean I'm supposed to change it from forall to introducing a specific hp : p \in P so I can reference it by name"</p>



<a name="205839969"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205839969" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205839969">(Aug 03 2020 at 19:54)</a>:</h4>
<p>Currently <code>X</code> <code>has_le</code>, but I think I mean for <code>P</code> to <code>has_le</code> instead, since the whole point of the exercise is that the ordering of <code>X</code>s is flexible. Therefore do I want to make <code>P</code> a subtype of <code>X</code> that <code>has_le</code>instead of a <code>set X</code>, so then I can say <code>[preorder P]</code>?</p>



<a name="205840623"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205840623" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205840623">(Aug 03 2020 at 20:01)</a>:</h4>
<p>I don't know what you want because I don't know what you're doing</p>



<a name="205841365"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205841365" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205841365">(Aug 03 2020 at 20:07)</a>:</h4>
<p>I want to talk about "the opposite preorder of P": Given a preorder (P, &lt;=), the opposite is a preorder (P, &lt;=op) having p &lt;=op q iff q &lt;= p</p>



<a name="205841438"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205841438" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205841438">(Aug 03 2020 at 20:08)</a>:</h4>
<p>which Reid said above is <code>order_dual</code></p>



<a name="205841455"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205841455" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205841455">(Aug 03 2020 at 20:08)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/blob/c6381aa1175c78083b91732aebefb793156a656a/src/order/basic.lean#L219">https://github.com/leanprover-community/mathlib/blob/c6381aa1175c78083b91732aebefb793156a656a/src/order/basic.lean#L219</a></p>



<a name="205841457"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205841457" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205841457">(Aug 03 2020 at 20:08)</a>:</h4>
<p>I would just get rid of <code>P</code> (or <code>X</code>)</p>



<a name="205841496"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205841496" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205841496">(Aug 03 2020 at 20:09)</a>:</h4>
<p>er, wait</p>



<a name="205841508"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205841508" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205841508">(Aug 03 2020 at 20:09)</a>:</h4>
<p>I now agree with Kevin</p>



<a name="205841518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205841518" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205841518">(Aug 03 2020 at 20:09)</a>:</h4>
<p>haha :-)</p>



<a name="205841594"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205841594" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205841594">(Aug 03 2020 at 20:10)</a>:</h4>
<p><code>is_upper</code> looks sensible, but why is there a <code>P</code> in <code>uparrow</code>?</p>



<a name="205841624"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205841624" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205841624">(Aug 03 2020 at 20:10)</a>:</h4>
<p>The preorder instance on the dual is <a href="https://github.com/leanprover-community/mathlib/blob/c6381aa1175c78083b91732aebefb793156a656a/src/order/basic.lean#L235-L240">https://github.com/leanprover-community/mathlib/blob/c6381aa1175c78083b91732aebefb793156a656a/src/order/basic.lean#L235-L240</a></p>



<a name="205842268"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205842268" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205842268">(Aug 03 2020 at 20:16)</a>:</h4>
<p>I was trying to express  "P := (X, &lt;=) is a preorder" but maybe that's pointless and I should just say X is orderable in the first place</p>



<a name="205842350"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205842350" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205842350">(Aug 03 2020 at 20:17)</a>:</h4>
<p><code>P : set X</code> means P is a subset of X, not P=X as a set</p>



<a name="205842539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205842539" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205842539">(Aug 03 2020 at 20:19)</a>:</h4>
<p>I get that part; I'll just skip P as suggested</p>



<a name="205842656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205842656" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205842656">(Aug 03 2020 at 20:20)</a>:</h4>
<p><code>[preorder X]</code> means "(X,&lt;=) is a preorder"</p>



<a name="205842949"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/opposite%20preorder/near/205842949" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/opposite.20preorder.html#205842949">(Aug 03 2020 at 20:23)</a>:</h4>
<p>oh. I see</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>