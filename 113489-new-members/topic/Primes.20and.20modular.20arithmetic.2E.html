---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html">Primes and modular arithmetic.</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="216679306"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216679306" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216679306">(Nov 13 2020 at 21:57)</a>:</h4>
<p>Hi. I'm working on a kata and I'm doing some actual number theory in Lean for the first time.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">solution</span>
  <span class="o">{</span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span>
  <span class="o">(</span><span class="n">hp</span> <span class="o">:</span> <span class="n">nat.prime</span> <span class="n">p</span><span class="o">)</span>
  <span class="o">(</span><span class="n">hq</span> <span class="o">:</span> <span class="n">nat.prime</span> <span class="n">q</span><span class="o">)</span>
  <span class="o">(</span><span class="n">p_lt_q</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">&lt;</span> <span class="n">q</span><span class="o">)</span>
  <span class="o">(</span><span class="n">p_ne_two</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">≠</span> <span class="mi">2</span><span class="o">)</span>
  <span class="o">(</span><span class="n">q_ne_two</span> <span class="o">:</span> <span class="n">q</span> <span class="bp">≠</span> <span class="mi">2</span><span class="o">)</span>
  <span class="o">(</span><span class="n">consecutive</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">k</span><span class="o">,</span> <span class="n">p</span> <span class="bp">&lt;</span> <span class="n">k</span> <span class="bp">→</span> <span class="n">k</span> <span class="bp">&lt;</span> <span class="n">q</span> <span class="bp">→</span> <span class="bp">¬</span> <span class="n">nat.prime</span> <span class="n">k</span><span class="o">)</span> <span class="o">:</span>
<span class="bp">∃</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span><span class="o">,</span> <span class="n">p</span> <span class="bp">+</span> <span class="n">q</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">c</span>
<span class="bp">∧</span> <span class="n">a</span> <span class="bp">&gt;</span> <span class="mi">1</span> <span class="bp">∧</span> <span class="n">b</span> <span class="bp">&gt;</span> <span class="mi">1</span> <span class="bp">∧</span> <span class="n">c</span> <span class="bp">&gt;</span> <span class="mi">1</span> <span class="o">:=</span>
<span class="kd">begin</span>
    <span class="n">sorry</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>This is my MWE, although it's really just a sorry right now. I did one attempt but it got in such a tangle...</p>
<p>Here is my sketch proof:<br>
p odd as non-two prime, q same. So p + q even, so there's a natural k such that 2*k = p + q. p &lt; k &lt; q, so by hypothesis k is not prime. So there's some a, 1 &lt; a &lt; k, such that a | k. Let b = (k/a). Use a, b, 2 as the a, b, c needed.</p>
<p>Now, I'd like to avoid too much unnecessary work here. To show that p and q are odd, it makes sense that I'd use nat.prime.eq_two_or_odd. But this has the "odd" condition as p % 2 = 1. This doesn't seem very useful - in particular, I can't see how you make it compatible with the MOD N definition, or the definition of oddness - so while there surely must be a way to get to where I want, it isn't clear to me.</p>
<p>To find k, I think I might want to use nat.exists_dvd_of_not_prime or nat.not_prime_iff_min_fac_lt - the former seems better. These are the only two "number theoretic" theorems I want - everything else seems like it ought to just be algebra. But I can't see how to run at it neat#ly.</p>



<a name="216679567"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216679567" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216679567">(Nov 13 2020 at 22:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="330967">Wrenna Robson</span> <a href="#narrow/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E/near/216679306">said</a>:</p>
<blockquote>
<p>Now, I'd like to avoid too much unnecessary work here. To show that p and q are odd, it makes sense that I'd use nat.prime.eq_two_or_odd. But this has the "odd" condition as p % 2 = 1. This doesn't seem very useful - in particular, I can't see how you make it compatible with the MOD N definition, or the definition of oddness - so while there surely must be a way to get to where I want, it isn't clear to me.</p>
</blockquote>
<p>It sounds like you're asking for a lemma relating oddness and <code>% 2 = 1</code> relation. You could write this lemma out explicitly and then see if <code>library_search</code> finds it.</p>



<a name="216679606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216679606" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216679606">(Nov 13 2020 at 22:00)</a>:</h4>
<p>Yes. I have had a good look before asking! But I haven't found one.</p>



<a name="216679631"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216679631" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216679631">(Nov 13 2020 at 22:00)</a>:</h4>
<p>finding existing lemmas is hard, for sure</p>



<a name="216679658"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216679658" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216679658">(Nov 13 2020 at 22:01)</a>:</h4>
<p><a href="https://leanprover-community.github.io/contribute/naming.html">#naming</a></p>



<a name="216679705"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216679705" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216679705">(Nov 13 2020 at 22:01)</a>:</h4>
<p>one surprisingly useful strategy is to literally guess the name of the lemma</p>



<a name="216679724"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216679724" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216679724">(Nov 13 2020 at 22:01)</a>:</h4>
<p>Yes I've got very far with that!</p>



<a name="216679753"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216679753" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216679753">(Nov 13 2020 at 22:01)</a>:</h4>
<p>another strategy is using <a href="https://leanprover-community.github.io/mathlib_docs/tactics.html#library_search">tactic#library_search</a></p>



<a name="216679856"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216679856" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216679856">(Nov 13 2020 at 22:02)</a>:</h4>
<p>for the latter you have to actually write a statement of the lemma you want, for this you might find <a href="https://leanprover-community.github.io/mathlib_docs/tactics.html#extract_goal">tactic#extract_goal</a> useful</p>



<a name="216679899"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216679899" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216679899">(Nov 13 2020 at 22:02)</a>:</h4>
<p>How embarassing!</p>



<a name="216679912"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216679912" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216679912">(Nov 13 2020 at 22:02)</a>:</h4>
<p>Here it is: <a href="https://leanprover-community.github.io/mathlib_docs/data/nat/parity.html#nat.odd_iff">https://leanprover-community.github.io/mathlib_docs/data/nat/parity.html#nat.odd_iff</a></p>



<a name="216679935"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216679935" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216679935">(Nov 13 2020 at 22:03)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">odd_iff_one_mod_2</span> <span class="o">{</span><span class="n">a</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span> <span class="o">:</span> <span class="n">odd</span> <span class="n">a</span> <span class="bp">↔</span> <span class="n">a</span> <span class="bp">%</span> <span class="mi">2</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span>
<span class="kd">begin</span>
    <span class="n">library_search</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>This worked :)</p>



<a name="216680008"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216680008" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216680008">(Nov 13 2020 at 22:03)</a>:</h4>
<p>I don't think it's embarrassing at all!</p>



<a name="216680115"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216680115" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216680115">(Nov 13 2020 at 22:04)</a>:</h4>
<p>So using nat.prime.eq_two_or_odd I can get p = 2 \\/ p % 2 = 1.</p>



<a name="216680126"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216680126" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216680126">(Nov 13 2020 at 22:04)</a>:</h4>
<p>I think I wrote the kata you're working on, and I think I found and forgot the name of this lemma literally three times during the process of writing it</p>



<a name="216680135"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216680135" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216680135">(Nov 13 2020 at 22:04)</a>:</h4>
<p><code>or.resolve_left</code>?</p>



<a name="216680170"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216680170" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216680170">(Nov 13 2020 at 22:05)</a>:</h4>
<p>Thanks :)</p>



<a name="216680186"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216680186" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216680186">(Nov 13 2020 at 22:05)</a>:</h4>
<p>That was my next question.</p>



<a name="216680259"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216680259" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216680259">(Nov 13 2020 at 22:05)</a>:</h4>
<p>It's a really nice kata, Jalex! Because it is not very hard number theory but it's just hard enough to stretch me in Lean.</p>



<a name="216680390"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216680390" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216680390">(Nov 13 2020 at 22:06)</a>:</h4>
<p>(I went looking for that with <code>library_search</code> as well just now, so I guessed :))</p>



<a name="216680537"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216680537" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216680537">(Nov 13 2020 at 22:08)</a>:</h4>
<p>Proving stuff like this is a kerfuffle. I can do the maths, and then I just muddle through the proofs. I think the only difference between you (Wrenna) and me is that I know a couple more tricks. I've always had a "grind it out" policy in maths (as you saw with my L&lt;0 proof earlier). I think people with more dignity try to write cleaner code but all I want is "goals accomplished".</p>



<a name="216680606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216680606" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216680606">(Nov 13 2020 at 22:08)</a>:</h4>
<p>I like beauty in my code, for my sins.</p>



<a name="216680900"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216680900" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216680900">(Nov 13 2020 at 22:10)</a>:</h4>
<p>Not sure if you knew this trick yet:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code>  <span class="k">have</span> <span class="o">:=</span> <span class="n">hp.eq_two_or_odd.resolve_left</span> <span class="n">p_ne_two</span><span class="o">,</span>
</code></pre></div>
<p>(given <code>hp : nat.prime p</code>, <code>nat.prime.foo hp</code> can be abbreviated <code>hp.foo</code>)</p>



<a name="216681369"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216681369" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216681369">(Nov 13 2020 at 22:16)</a>:</h4>
<p>Why does it look like there are two functions with the same name here?</p>



<a name="216681371"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216681371" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216681371">(Nov 13 2020 at 22:16)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/data/nat/parity.html#nat.even_add">https://leanprover-community.github.io/mathlib_docs/data/nat/parity.html#nat.even_add</a></p>



<a name="216681377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216681377" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216681377">(Nov 13 2020 at 22:16)</a>:</h4>
<p>theorems, even, not functions</p>



<a name="216681427"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216681427" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216681427">(Nov 13 2020 at 22:17)</a>:</h4>
<p>do you mean <code>nat.even_add</code> and <code>nat.even.add</code>?</p>



<a name="216681523"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216681523" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216681523">(Nov 13 2020 at 22:18)</a>:</h4>
<p>Oh I see. Ha, a punctuation mark off.</p>



<a name="216681630"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216681630" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216681630">(Nov 13 2020 at 22:20)</a>:</h4>
<p>you were nat even wrong</p>



<a name="216681757"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216681757" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216681757">(Nov 13 2020 at 22:20)</a>:</h4>
<p>Alright, next question - this is more of a logic one.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">begin</span>
    <span class="k">have</span> <span class="n">op</span> <span class="o">:</span> <span class="bp">¬</span> <span class="n">even</span> <span class="n">p</span><span class="o">,</span>
    <span class="o">{</span>
        <span class="n">rw</span> <span class="n">nat.not_even_iff</span><span class="o">,</span>
        <span class="n">exact</span> <span class="n">hp.eq_two_or_odd.resolve_left</span> <span class="n">p_ne_two</span><span class="o">,</span>
    <span class="o">},</span>
    <span class="k">have</span> <span class="n">oq</span> <span class="o">:</span> <span class="bp">¬</span> <span class="n">even</span> <span class="n">q</span><span class="o">,</span>
    <span class="o">{</span>
        <span class="n">rw</span> <span class="n">nat.not_even_iff</span><span class="o">,</span>
        <span class="n">exact</span> <span class="n">hq.eq_two_or_odd.resolve_left</span> <span class="n">q_ne_two</span><span class="o">,</span>
    <span class="o">},</span>
    <span class="k">have</span> <span class="n">epq</span> <span class="o">:</span> <span class="n">even</span> <span class="o">(</span><span class="n">p</span> <span class="bp">+</span> <span class="n">q</span><span class="o">),</span>
    <span class="o">{</span>
        <span class="n">rw</span> <span class="n">nat.even_add</span><span class="o">,</span>
        <span class="n">sorry</span><span class="o">,</span>
    <span class="o">},</span>
    <span class="n">sorry</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>Here, I have even p ↔ even q as a goal, and ¬even p and ¬even q as hypotheses. So, uh, this is "just true", right? I tried simp (didn't work) - clearly I guess I could split the iff and so on but it seems like a lot...</p>



<a name="216681941"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216681941" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216681941">(Nov 13 2020 at 22:22)</a>:</h4>
<p>I would envisage <code>simp</code> proving it by changing <code>even p</code> and <code>even q</code> to <code>false</code>, but it won't do that unless you explicitly tell it to use the hypotheses <code>not even p</code> and <code>not even q</code></p>



<a name="216681961"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216681961" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216681961">(Nov 13 2020 at 22:22)</a>:</h4>
<p>(<code>simp</code> doesn't use any of the hypotheses in your local context by default)</p>



<a name="216681975"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216681975" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216681975">(Nov 13 2020 at 22:22)</a>:</h4>
<p>So something like <code>simp [op, oq]</code>?</p>



<a name="216681991"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216681991" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216681991">(Nov 13 2020 at 22:23)</a>:</h4>
<p>Yes!</p>



<a name="216681993"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216681993" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216681993">(Nov 13 2020 at 22:23)</a>:</h4>
<p>that's what I'd try</p>



<a name="216682096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216682096" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216682096">(Nov 13 2020 at 22:24)</a>:</h4>
<p>when I was a beginner I'd try <code>simp</code> on anything. Now I know a bit more about term rewriting I kind of get how to use it much better.</p>



<a name="216683235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216683235" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216683235">(Nov 13 2020 at 22:36)</a>:</h4>
<p>Suppose I have something like p + q = 2*d and p &lt; q, and I want to show p &lt; d and d &lt; q. It feels a bit like I want to do something like p = p /2 + p/2 &lt; p/2 + q/2 = (p+q)/2 = d and so forth. However everything here is in the naturals (where I would prefer to stay I think?), even though I want to briefly soujourn into the rationals.</p>



<a name="216683338"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216683338" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216683338">(Nov 13 2020 at 22:37)</a>:</h4>
<p>I agree that staying in the naturals is a PITA for this one. The moment you divide by 2 you have trouble. I would be tempted to use <code>norm_cast</code>.</p>



<a name="216683351"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216683351" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216683351">(Nov 13 2020 at 22:37)</a>:</h4>
<p>This really reminds me of some of the first stuff of yours I read, Kevin - the way mathematicians hop between the naturals, the reals, the integers, the rationals, without ever thinking of them as different objects, and how that sort of thing is uncovered by formalising like this.</p>



<a name="216683378"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216683378" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216683378">(Nov 13 2020 at 22:37)</a>:</h4>
<p>Ah, I haven't encountered norm_cast before.</p>



<a name="216683382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216683382" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216683382">(Nov 13 2020 at 22:37)</a>:</h4>
<p>Lemme see if I can knock something up. I would prove it for the rationals first.</p>



<a name="216683527"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216683527" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216683527">(Nov 13 2020 at 22:38)</a>:</h4>
<p>I used</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code>  <span class="k">have</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">nat.prime</span> <span class="n">k</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">apply</span> <span class="n">consecutive</span><span class="bp">;</span> <span class="n">linarith</span> <span class="o">},</span>
</code></pre></div>



<a name="216683571"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216683571" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216683571">(Nov 13 2020 at 22:39)</a>:</h4>
<p>Ha! Yes, indeed, linarith just does it...</p>



<a name="216683604"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216683604" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216683604">(Nov 13 2020 at 22:39)</a>:</h4>
<p>oh that's great! That's better than my suggestion. I had assumed linarith would only work over Q</p>



<a name="216683850"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216683850" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216683850">(Nov 13 2020 at 22:42)</a>:</h4>
<p>This was what I was thinking; change the entire question to one about rationals and then use linarith.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">p</span> <span class="n">q</span> <span class="n">d</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">&lt;</span> <span class="n">q</span><span class="o">)</span> <span class="o">(</span><span class="n">hd</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">+</span> <span class="n">q</span> <span class="bp">=</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">d</span><span class="o">)</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">&lt;</span> <span class="n">d</span> <span class="bp">∧</span> <span class="n">d</span> <span class="bp">&lt;</span> <span class="n">q</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">suffices</span> <span class="o">:</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">ℚ</span><span class="o">)</span> <span class="bp">&lt;</span> <span class="n">d</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">d</span> <span class="o">:</span> <span class="n">ℚ</span><span class="o">)</span> <span class="bp">&lt;</span> <span class="n">q</span><span class="o">,</span>
    <span class="n">cases</span> <span class="n">this</span><span class="o">,</span> <span class="n">split</span><span class="bp">;</span> <span class="n">assumption_mod_cast</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">hd'</span> <span class="o">:</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">ℚ</span><span class="o">)</span> <span class="bp">+</span> <span class="n">q</span> <span class="bp">=</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">d</span><span class="o">,</span>
    <span class="n">assumption_mod_cast</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">h'</span> <span class="o">:</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">ℚ</span><span class="o">)</span> <span class="bp">&lt;</span> <span class="n">q</span><span class="o">,</span>
    <span class="n">assumption_mod_cast</span><span class="o">,</span>
  <span class="n">split</span><span class="bp">;</span> <span class="n">linarith</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="216683880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216683880" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216683880">(Nov 13 2020 at 22:42)</a>:</h4>
<p>it didn't occur to me that <code>split; linarith</code> would do it over N</p>



<a name="216683906"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216683906" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216683906">(Nov 13 2020 at 22:42)</a>:</h4>
<p>I have no intuition about when <code>linarith</code> works on N, but sometimes it does</p>



<a name="216683948"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216683948" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216683948">(Nov 13 2020 at 22:43)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">p</span> <span class="n">q</span> <span class="n">d</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">&lt;</span> <span class="n">q</span><span class="o">)</span> <span class="o">(</span><span class="n">hd</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">+</span> <span class="n">q</span> <span class="bp">=</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">d</span><span class="o">)</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">&lt;</span> <span class="n">d</span> <span class="bp">∧</span> <span class="n">d</span> <span class="bp">&lt;</span> <span class="n">q</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">split</span><span class="bp">;</span> <span class="n">omega</span>
<span class="kd">end</span>
</code></pre></div>
<p>This is the correct proof.</p>



<a name="216683964"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216683964" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216683964">(Nov 13 2020 at 22:43)</a>:</h4>
<p>...</p>



<a name="216683972"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216683972" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216683972">(Nov 13 2020 at 22:43)</a>:</h4>
<p><code>omega</code> is a tactic designed to work on naturals, it's complete for Presburger arithmetic, he said, only barely understanding what this means</p>



<a name="216684041"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216684041" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216684041">(Nov 13 2020 at 22:44)</a>:</h4>
<p>I think it means "as long as you don't have two variables multiplied together, you're in good shape with <code>omega</code>"</p>



<a name="216684077"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216684077" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216684077">(Nov 13 2020 at 22:44)</a>:</h4>
<p>I have put it in. Next I need 2 ≤ d...</p>



<a name="216684107"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216684107" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216684107">(Nov 13 2020 at 22:44)</a>:</h4>
<p>Again this is obviously true as p &lt; d by omega or linarith or whatever</p>



<a name="216684119"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216684119" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216684119">(Nov 13 2020 at 22:45)</a>:</h4>
<p>and p is not 2 and is prime. However...</p>



<a name="216684184"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216684184" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216684184">(Nov 13 2020 at 22:45)</a>:</h4>
<p>you want p prime -&gt; p &gt;=2, that will be in the library. Then omega or linarith can take it from there.</p>



<a name="216684195"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216684195" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216684195">(Nov 13 2020 at 22:45)</a>:</h4>
<p>Aye.</p>



<a name="216684247"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216684247" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216684247">(Nov 13 2020 at 22:46)</a>:</h4>
<p>nat.prime.one_lt is the one I think.</p>



<a name="216684261"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216684261" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216684261">(Nov 13 2020 at 22:46)</a>:</h4>
<p>But you need it in the local context, it's not good enough to just have it somewhere in mathlib</p>



<a name="216684265"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216684265" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216684265">(Nov 13 2020 at 22:46)</a>:</h4>
<p>Aye.</p>



<a name="216684409"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216684409" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216684409">(Nov 13 2020 at 22:48)</a>:</h4>
<p>I think it doesn't like the ≠...</p>



<a name="216684471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216684471" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216684471">(Nov 13 2020 at 22:48)</a>:</h4>
<p>rotten luck. Not even omega?</p>



<a name="216684484"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216684484" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216684484">(Nov 13 2020 at 22:48)</a>:</h4>
<p>Try <code>two_le</code>?</p>



<a name="216684527"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216684527" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216684527">(Nov 13 2020 at 22:48)</a>:</h4>
<p>?</p>



<a name="216684570"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216684570" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216684570">(Nov 13 2020 at 22:49)</a>:</h4>
<p>do you mean one_le_two?</p>



<a name="216684637"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216684637" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216684637">(Nov 13 2020 at 22:49)</a>:</h4>
<p>No, <code>nat.prime.two_le</code> rather than <code>nat.prime.one_lt</code></p>



<a name="216684700"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216684700" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216684700">(Nov 13 2020 at 22:50)</a>:</h4>
<p><code>omega</code> works for me.</p>



<a name="216684721"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216684721" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216684721">(Nov 13 2020 at 22:50)</a>:</h4>
<p>hmm, maybe I'm using it wrong.</p>



<a name="216684792"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216684792" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216684792">(Nov 13 2020 at 22:51)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">nat.prime</span> <span class="n">p</span><span class="o">)</span> <span class="o">(</span><span class="n">h2</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">≠</span> <span class="mi">2</span><span class="o">)</span> <span class="o">:</span> <span class="mi">2</span> <span class="bp">&lt;</span> <span class="n">p</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">have</span> <span class="n">h</span> <span class="o">:=</span> <span class="n">nat.prime.one_lt</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">omega</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="216684985"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216684985" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216684985">(Nov 13 2020 at 22:52)</a>:</h4>
<p>Ah I was trying <code> omega [nat.prime.two_le hp],</code></p>



<a name="216685023"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216685023" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216685023">(Nov 13 2020 at 22:52)</a>:</h4>
<p>oh omega _does_ look at your local context</p>



<a name="216685059"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216685059" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216685059">(Nov 13 2020 at 22:53)</a>:</h4>
<p>bother said pooh</p>



<a name="216685064"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216685064" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216685064">(Nov 13 2020 at 22:53)</a>:</h4>
<p>and I don't know if it takes arguments</p>



<a name="216685094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216685094" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216685094">(Nov 13 2020 at 22:53)</a>:</h4>
<p>yeah we make it random to keep beginners on their toes</p>



<a name="216685219"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216685219" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216685219">(Nov 13 2020 at 22:54)</a>:</h4>
<p>The have k := syntax I either hadn't seen or had forgotton.</p>



<a name="216685224"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216685224" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216685224">(Nov 13 2020 at 22:54)</a>:</h4>
<p>there is some code I don't really understand that you can see when you hover over a tactic. It's something to do with parsers. If I hover over <code>omega</code> it says <code>omega id*</code></p>



<a name="216685255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216685255" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216685255">(Nov 13 2020 at 22:54)</a>:</h4>
<p>That's quite useful for "I want to instantiate a theorem in some particular way."</p>



<a name="216685264"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216685264" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216685264">(Nov 13 2020 at 22:54)</a>:</h4>
<p>but if I hover over <code>simp</code> it says <code>simp !? only? (* | [(* | (- id | (&lt;- expr | expr))), ...]?) (with id*)? (at (* | (⊢ | id)*))? tactic.simp_config_ext?</code></p>



<a name="216685298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216685298" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216685298">(Nov 13 2020 at 22:54)</a>:</h4>
<p>which I think means "simp can take some extra arguments"</p>



<a name="216685542"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216685542" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216685542">(Nov 13 2020 at 22:56)</a>:</h4>
<p>I genuinely don't know what you can put after <code>omega</code>, I only use it as a standalone tactic and I don't understand parsers well enough to know what <code>id*</code> means</p>



<a name="216685554"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216685554" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216685554">(Nov 13 2020 at 22:57)</a>:</h4>
<p>Alright, home stretch...</p>



<a name="216685560"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216685560" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216685560">(Nov 13 2020 at 22:57)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">begin</span>
    <span class="k">have</span> <span class="n">op</span> <span class="o">:</span> <span class="bp">¬</span> <span class="n">even</span> <span class="n">p</span><span class="o">,</span>
    <span class="o">{</span>
        <span class="n">rw</span> <span class="n">nat.not_even_iff</span><span class="o">,</span>
        <span class="n">exact</span> <span class="n">hp.eq_two_or_odd.resolve_left</span> <span class="n">p_ne_two</span><span class="o">,</span>
    <span class="o">},</span>
    <span class="k">have</span> <span class="n">oq</span> <span class="o">:</span> <span class="bp">¬</span> <span class="n">even</span> <span class="n">q</span><span class="o">,</span>
    <span class="o">{</span>
        <span class="n">rw</span> <span class="n">nat.not_even_iff</span><span class="o">,</span>
        <span class="n">exact</span> <span class="n">hq.eq_two_or_odd.resolve_left</span> <span class="n">q_ne_two</span><span class="o">,</span>
    <span class="o">},</span>
    <span class="k">have</span> <span class="n">epq</span> <span class="o">:</span> <span class="n">even</span> <span class="o">(</span><span class="n">p</span> <span class="bp">+</span> <span class="n">q</span><span class="o">),</span>
    <span class="o">{</span>
        <span class="n">rw</span> <span class="n">nat.even_add</span><span class="o">,</span>
        <span class="n">simp</span> <span class="o">[</span><span class="n">op</span><span class="o">,</span> <span class="n">oq</span><span class="o">],</span>
    <span class="o">},</span>
    <span class="n">rw</span> <span class="n">even_iff_two_dvd</span> <span class="n">at</span> <span class="n">epq</span><span class="o">,</span>
    <span class="n">cases</span> <span class="o">(</span><span class="n">exists_eq_mul_right_of_dvd</span> <span class="n">epq</span><span class="o">)</span> <span class="k">with</span> <span class="n">d</span> <span class="n">hd</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">compd</span> <span class="o">:</span> <span class="bp">¬</span> <span class="n">nat.prime</span> <span class="n">d</span><span class="o">,</span>
    <span class="o">{</span>
        <span class="n">apply</span> <span class="n">consecutive</span><span class="bp">;</span>
        <span class="n">omega</span><span class="o">,</span>
    <span class="o">},</span>
    <span class="k">have</span> <span class="n">d2</span> <span class="o">:</span> <span class="mi">2</span> <span class="bp">≤</span> <span class="n">d</span><span class="o">,</span>
    <span class="o">{</span>
        <span class="k">have</span> <span class="n">k</span> <span class="o">:=</span> <span class="n">nat.prime.two_le</span> <span class="n">hp</span><span class="o">,</span>
        <span class="n">omega</span><span class="o">,</span>
    <span class="o">},</span>
    <span class="n">cases</span> <span class="o">(</span><span class="n">nat.exists_dvd_of_not_prime</span> <span class="n">d2</span> <span class="n">compd</span><span class="o">)</span> <span class="k">with</span> <span class="n">n</span> <span class="n">hn</span><span class="o">,</span>
    <span class="n">use</span> <span class="o">[</span><span class="mi">2</span><span class="o">,</span> <span class="n">n</span><span class="o">,</span> <span class="n">d</span><span class="bp">/</span><span class="n">n</span><span class="o">],</span>
    <span class="n">sorry</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="216685593"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216685593" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216685593">(Nov 13 2020 at 22:57)</a>:</h4>
<p>What's the local context at the <code>sorry</code>?</p>



<a name="216685606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216685606" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216685606">(Nov 13 2020 at 22:57)</a>:</h4>
<p>(either that or post a <a href="https://leanprover-community.github.io/mwe.html">#mwe</a>)</p>



<a name="216685610"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216685610" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216685610">(Nov 13 2020 at 22:57)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">pq</span><span class="o">:</span> <span class="n">ℕ</span>
<span class="n">hp</span><span class="o">:</span> <span class="n">nat.prime</span> <span class="n">p</span>
<span class="n">hq</span><span class="o">:</span> <span class="n">nat.prime</span> <span class="n">q</span>
<span class="n">p_lt_q</span><span class="o">:</span> <span class="n">p</span> <span class="bp">&lt;</span> <span class="n">q</span>
<span class="n">p_ne_two</span><span class="o">:</span> <span class="n">p</span> <span class="bp">≠</span> <span class="mi">2</span>
<span class="n">q_ne_two</span><span class="o">:</span> <span class="n">q</span> <span class="bp">≠</span> <span class="mi">2</span>
<span class="n">consecutive</span><span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">),</span> <span class="n">p</span> <span class="bp">&lt;</span> <span class="n">k</span> <span class="bp">→</span> <span class="n">k</span> <span class="bp">&lt;</span> <span class="n">q</span> <span class="bp">→</span> <span class="bp">¬</span><span class="n">nat.prime</span> <span class="n">k</span>
<span class="n">op</span><span class="o">:</span> <span class="bp">¬</span><span class="n">even</span> <span class="n">p</span>
<span class="n">oq</span><span class="o">:</span> <span class="bp">¬</span><span class="n">even</span> <span class="n">q</span>
<span class="n">epq</span><span class="o">:</span> <span class="mi">2</span> <span class="bp">∣</span> <span class="n">p</span> <span class="bp">+</span> <span class="n">q</span>
<span class="n">d</span><span class="o">:</span> <span class="n">ℕ</span>
<span class="n">hd</span><span class="o">:</span> <span class="n">p</span> <span class="bp">+</span> <span class="n">q</span> <span class="bp">=</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">d</span>
<span class="n">compd</span><span class="o">:</span> <span class="bp">¬</span><span class="n">nat.prime</span> <span class="n">d</span>
<span class="n">d2</span><span class="o">:</span> <span class="mi">2</span> <span class="bp">≤</span> <span class="n">d</span>
<span class="n">n</span><span class="o">:</span> <span class="n">ℕ</span>
<span class="n">hn</span><span class="o">:</span> <span class="n">n</span> <span class="bp">∣</span> <span class="n">d</span> <span class="bp">∧</span> <span class="n">n</span> <span class="bp">≠</span> <span class="mi">1</span> <span class="bp">∧</span> <span class="n">n</span> <span class="bp">≠</span> <span class="n">d</span>
<span class="bp">⊢</span> <span class="n">p</span> <span class="bp">+</span> <span class="n">q</span> <span class="bp">=</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">n</span> <span class="bp">*</span> <span class="o">(</span><span class="n">d</span> <span class="bp">/</span> <span class="n">n</span><span class="o">)</span> <span class="bp">∧</span> <span class="mi">2</span> <span class="bp">&gt;</span> <span class="mi">1</span> <span class="bp">∧</span> <span class="n">n</span> <span class="bp">&gt;</span> <span class="mi">1</span> <span class="bp">∧</span> <span class="n">d</span> <span class="bp">/</span> <span class="n">n</span> <span class="bp">&gt;</span> <span class="mi">1</span>
</code></pre></div>



<a name="216685683"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216685683" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216685683">(Nov 13 2020 at 22:58)</a>:</h4>
<p>still loving the cut and paste from the infoview eats random spaces bug</p>



<a name="216685731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216685731" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216685731">(Nov 13 2020 at 22:59)</a>:</h4>
<p>a style point: you're not supposed to ever see <code>&gt;</code> in Lean code or goals.</p>



<a name="216685764"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216685764" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216685764">(Nov 13 2020 at 22:59)</a>:</h4>
<p>So if from hn I can get 1 &lt; n  and n &lt; d then technically I should be done...</p>



<a name="216685768"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216685768" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216685768">(Nov 13 2020 at 22:59)</a>:</h4>
<p><code>a &gt; b</code> desugars to <code>b &lt; a</code> but it still manages to fool some tactics, so we just decided to ban it</p>



<a name="216685798"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216685798" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216685798">(Nov 13 2020 at 23:00)</a>:</h4>
<p>yeah this is looking good</p>



<a name="216685861"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216685861" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216685861">(Nov 13 2020 at 23:00)</a>:</h4>
<p>I am a bit suspicious that, mmm, I haven't necessarily shown that d/n is an integer - it just seemed to accept me using it.</p>



<a name="216685877"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216685877" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216685877">(Nov 13 2020 at 23:00)</a>:</h4>
<p>it's natural division, so 3/2=1 and 1/0=37</p>



<a name="216685887"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216685887" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216685887">(Nov 13 2020 at 23:00)</a>:</h4>
<p>Like it is an integer becasuse n | d but I'm not used to Lean letting me be lazy.</p>



<a name="216685901"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216685901" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216685901">(Nov 13 2020 at 23:00)</a>:</h4>
<p>Ah lovely.</p>



<a name="216685908"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216685908" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216685908">(Nov 13 2020 at 23:01)</a>:</h4>
<p>right -- it's divided and then rounded</p>



<a name="216685954"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216685954" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216685954">(Nov 13 2020 at 23:01)</a>:</h4>
<p>So possibly I don't <em>want</em> to use the division.</p>



<a name="216686008"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216686008" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216686008">(Nov 13 2020 at 23:02)</a>:</h4>
<p>it should be OK, there will probably be a lemma saying that if n | d then (n / d) * d = n</p>



<a name="216686038"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216686038" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216686038">(Nov 13 2020 at 23:02)</a>:</h4>
<p>Really I want to use n | d to find some m so that n*m = d. There should be some lemma for that.</p>



<a name="216686045"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216686045" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216686045">(Nov 13 2020 at 23:02)</a>:</h4>
<p>Or that, yes.</p>



<a name="216686050"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216686050" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216686050">(Nov 13 2020 at 23:02)</a>:</h4>
<p>in fact you can just do cases on <code>n | d</code></p>



<a name="216686057"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216686057" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216686057">(Nov 13 2020 at 23:02)</a>:</h4>
<p><code>n | d</code> is by definition "exists m, d = n * m`</p>



<a name="216686066"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216686066" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216686066">(Nov 13 2020 at 23:02)</a>:</h4>
<p>Now, for some chunk series of ands, it's split, right?</p>



<a name="216686071"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216686071" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216686071">(Nov 13 2020 at 23:02)</a>:</h4>
<p>Repeated multiple times.</p>



<a name="216686079"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216686079" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216686079">(Nov 13 2020 at 23:02)</a>:</h4>
<p>yes, split if they're in the goal and cases if they're hypotheses</p>



<a name="216686094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216686094" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216686094">(Nov 13 2020 at 23:03)</a>:</h4>
<p>the introduction and elimination tactics for and.</p>



<a name="216686427"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216686427" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216686427">(Nov 13 2020 at 23:06)</a>:</h4>
<p>Now, can I use rcases instead of cases, in order to get hn as three separate hypotheses originally?</p>



<a name="216686434"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216686434" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216686434">(Nov 13 2020 at 23:06)</a>:</h4>
<p>I'm not sure if I'll need to but...</p>



<a name="216686485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216686485" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216686485">(Nov 13 2020 at 23:06)</a>:</h4>
<p>Hmm, it didn't work like I expected.</p>



<a name="216686488"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216686488" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216686488">(Nov 13 2020 at 23:07)</a>:</h4>
<p>I like the way that you're kind of mathsy and computer-sciency at the same time. Are you that Royal Holloway PhD student or am I confusing you with someone else?</p>



<a name="216686497"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216686497" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216686497">(Nov 13 2020 at 23:07)</a>:</h4>
<p>That's me :)</p>



<a name="216686507"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216686507" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216686507">(Nov 13 2020 at 23:07)</a>:</h4>
<p>mathsy beginners have more trouble with the CS stuff and CS beginners with the maths stuff</p>



<a name="216686521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216686521" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216686521">(Nov 13 2020 at 23:07)</a>:</h4>
<p>And I have trouble with everything! ;P</p>



<a name="216686538"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216686538" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216686538">(Nov 13 2020 at 23:07)</a>:</h4>
<p>You're doing great!</p>



<a name="216686546"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216686546" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216686546">(Nov 13 2020 at 23:07)</a>:</h4>
<p>Thanks!</p>



<a name="216686611"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216686611" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216686611">(Nov 13 2020 at 23:08)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">P</span> <span class="n">Q</span> <span class="n">R</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">P</span> <span class="bp">∧</span> <span class="n">Q</span> <span class="bp">∧</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="n">false</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rcases</span> <span class="n">h</span> <span class="k">with</span> <span class="o">⟨</span><span class="n">hP</span><span class="o">,</span> <span class="n">hQ</span><span class="o">,</span> <span class="n">hR</span><span class="o">⟩,</span>
  <span class="n">sorry</span>
<span class="kd">end</span>
</code></pre></div>



<a name="216686640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216686640" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216686640">(Nov 13 2020 at 23:08)</a>:</h4>
<p>I can even claim that Lean is actual research work... though the paper I'm currently trying to figure out uses Isabelle for what it does (and I don't get Isabelle and it's much less user-friendly, alas).</p>



<a name="216686672"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216686672" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216686672">(Nov 13 2020 at 23:09)</a>:</h4>
<p>I think the 24/7 helpline we have here is massively important</p>



<a name="216686690"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216686690" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216686690">(Nov 13 2020 at 23:09)</a>:</h4>
<p>Yes.</p>



<a name="216686696"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216686696" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216686696">(Nov 13 2020 at 23:09)</a>:</h4>
<p>It was just over 3 years ago that I was spamming the chat asking questions and other people were helping me out.</p>



<a name="216686717"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216686717" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216686717">(Nov 13 2020 at 23:10)</a>:</h4>
<p>Circle of life!</p>



<a name="216686751"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216686751" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216686751">(Nov 13 2020 at 23:10)</a>:</h4>
<p>I could do the maths no problem but I had no clue about the CS stuff.</p>



<a name="216686815"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216686815" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216686815">(Nov 13 2020 at 23:11)</a>:</h4>
<p>Hmm, the rcases format I wanted to use hasn't worked. Before I had <code>cases (nat.exists_dvd_of_not_prime d2 compd) with n hn</code>. Now I thought <code>rcases (nat.exists_dvd_of_not_prime d2 compd) with n ⟨hn1, hn2, hn3⟩</code> might work... but it does not</p>



<a name="216686835"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216686835" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216686835">(Nov 13 2020 at 23:11)</a>:</h4>
<p>Try <code>rcases?</code></p>



<a name="216686884"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216686884" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216686884">(Nov 13 2020 at 23:12)</a>:</h4>
<p>No joy.</p>



<a name="216686896"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216686896" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216686896">(Nov 13 2020 at 23:12)</a>:</h4>
<p>you probably want <code>\&lt;n, hn1, hn2, hn3\&gt; </code></p>



<a name="216686915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216686915" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216686915">(Nov 13 2020 at 23:12)</a>:</h4>
<p>Hmm! Yes. In my head the n was on a different level of hypothesis.</p>



<a name="216686916"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216686916" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216686916">(Nov 13 2020 at 23:12)</a>:</h4>
<p><code>rcases? (nat.exists_dvd_of_not_prime d2 compd)</code> should tell you what you want though</p>



<a name="216686947"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216686947" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216686947">(Nov 13 2020 at 23:13)</a>:</h4>
<p>It actually gave me something not very helpful!</p>



<a name="216686954"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216686954" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216686954">(Nov 13 2020 at 23:13)</a>:</h4>
<p><code>rcases ('?' expr (: n)?) | ((h :)? expr (with patt)?)</code> should answer all your questions</p>



<a name="216686964"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216686964" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216686964">(Nov 13 2020 at 23:13)</a>:</h4>
<p>oh well that clears that up</p>



<a name="216686973"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216686973" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216686973">(Nov 13 2020 at 23:14)</a>:</h4>
<p>how could i have been so blind</p>



<a name="216687018"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216687018" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216687018">(Nov 13 2020 at 23:14)</a>:</h4>
<p>parsers are cool. I wish I understood them a bit better.</p>



<a name="216687040"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216687040" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216687040">(Nov 13 2020 at 23:14)</a>:</h4>
<p>The moment you start learning how to write interactive tactics you need to know this stuff, but I have never written a line of <code>meta</code> code in my life</p>



<a name="216687047"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216687047" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216687047">(Nov 13 2020 at 23:14)</a>:</h4>
<p>the deep magic</p>



<a name="216687096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216687096" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216687096">(Nov 13 2020 at 23:15)</a>:</h4>
<p>Now, I am going to want to extract 1&lt;= n &lt;= d from n|d and let omega do its work.</p>



<a name="216687104"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216687104" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216687104">(Nov 13 2020 at 23:15)</a>:</h4>
<p>Must be a lemma for that.</p>



<a name="216687153"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216687153" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216687153">(Nov 13 2020 at 23:16)</a>:</h4>
<p>I'm guessing <code>le_of_dvd</code> or something</p>



<a name="216687158"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216687158" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216687158">(Nov 13 2020 at 23:16)</a>:</h4>
<p>for n&lt;=d</p>



<a name="216687164"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216687164" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216687164">(Nov 13 2020 at 23:16)</a>:</h4>
<p>the naming convention is really cool</p>



<a name="216687169"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216687169" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216687169">(Nov 13 2020 at 23:16)</a>:</h4>
<p>What does "of" mean?</p>



<a name="216687179"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216687179" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216687179">(Nov 13 2020 at 23:16)</a>:</h4>
<p>Hmm, I have it but for ints. I hope that isn't an issue...</p>



<a name="216687184"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216687184" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216687184">(Nov 13 2020 at 23:16)</a>:</h4>
<p><code>X_of_Y</code> means <code>Y -&gt; X</code></p>



<a name="216687192"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216687192" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216687192">(Nov 13 2020 at 23:16)</a>:</h4>
<p>is it really not there for nats?</p>



<a name="216687208"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216687208" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216687208">(Nov 13 2020 at 23:17)</a>:</h4>
<p>Oh it is, the search just didn't give it the first time.</p>



<a name="216687227"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216687227" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216687227">(Nov 13 2020 at 23:17)</a>:</h4>
<p>oh yeah, sometimes I hit esc and then ctrl-space and get more options</p>



<a name="216687232"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216687232" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216687232">(Nov 13 2020 at 23:17)</a>:</h4>
<p>I've never understood what's going on with that</p>



<a name="216687242"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216687242" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216687242">(Nov 13 2020 at 23:17)</a>:</h4>
<p><code>X_of_Y_of_Z</code> means <code>Y -&gt; Z -&gt; X</code></p>



<a name="216687296"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216687296" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216687296">(Nov 13 2020 at 23:18)</a>:</h4>
<p>e.g. <code>lt_of_le_of_lt</code>, something we used a lot before <code>linarith</code> was discovered</p>



<a name="216687314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216687314" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216687314">(Nov 13 2020 at 23:18)</a>:</h4>
<p><a href="https://leanprover-community.github.io/contribute/naming.html">#naming</a></p>



<a name="216688167"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216688167" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216688167">(Nov 13 2020 at 23:29)</a>:</h4>
<p>I got there in the end, but the 1 &lt; a and 1 &lt; k/a were somewhat tedious - I hope there's a better solution</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">solution</span>
  <span class="o">{</span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span>
  <span class="o">(</span><span class="n">hp</span> <span class="o">:</span> <span class="n">nat.prime</span> <span class="n">p</span><span class="o">)</span>
  <span class="o">(</span><span class="n">hq</span> <span class="o">:</span> <span class="n">nat.prime</span> <span class="n">q</span><span class="o">)</span>
  <span class="o">(</span><span class="n">p_lt_q</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">&lt;</span> <span class="n">q</span><span class="o">)</span>
  <span class="o">(</span><span class="n">p_ne_two</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">≠</span> <span class="mi">2</span><span class="o">)</span>
  <span class="o">(</span><span class="n">q_ne_two</span> <span class="o">:</span> <span class="n">q</span> <span class="bp">≠</span> <span class="mi">2</span><span class="o">)</span>
  <span class="o">(</span><span class="n">consecutive</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">k</span><span class="o">,</span> <span class="n">p</span> <span class="bp">&lt;</span> <span class="n">k</span> <span class="bp">→</span> <span class="n">k</span> <span class="bp">&lt;</span> <span class="n">q</span> <span class="bp">→</span> <span class="bp">¬</span> <span class="n">nat.prime</span> <span class="n">k</span><span class="o">)</span> <span class="o">:</span>
<span class="bp">∃</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span><span class="o">,</span> <span class="n">p</span> <span class="bp">+</span> <span class="n">q</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">c</span>
<span class="bp">∧</span> <span class="n">a</span> <span class="bp">&gt;</span> <span class="mi">1</span> <span class="bp">∧</span> <span class="n">b</span> <span class="bp">&gt;</span> <span class="mi">1</span> <span class="bp">∧</span> <span class="n">c</span> <span class="bp">&gt;</span> <span class="mi">1</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">have</span> <span class="n">hp1</span> <span class="o">:=</span> <span class="n">hp.eq_two_or_odd.resolve_left</span> <span class="n">p_ne_two</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">hq1</span> <span class="o">:=</span> <span class="n">hq.eq_two_or_odd.resolve_left</span> <span class="n">q_ne_two</span><span class="o">,</span>
  <span class="n">rw</span> <span class="bp">←</span><span class="n">nat.odd_iff</span> <span class="n">at</span> <span class="n">hp1</span> <span class="n">hq1</span><span class="o">,</span>
  <span class="n">obtain</span> <span class="o">⟨</span><span class="n">k</span><span class="o">,</span> <span class="n">hk</span><span class="o">⟩</span> <span class="o">:</span> <span class="n">even</span> <span class="o">(</span><span class="n">p</span> <span class="bp">+</span> <span class="n">q</span><span class="o">),</span>
  <span class="o">{</span> <span class="n">simp</span> <span class="n">at</span> <span class="n">hp1</span> <span class="n">hq1</span><span class="o">,</span>
    <span class="n">simp</span> <span class="o">[</span><span class="n">hp1</span><span class="o">,</span> <span class="n">hq1</span><span class="o">]</span> <span class="k">with</span> <span class="n">parity_simps</span> <span class="o">},</span>
  <span class="k">have</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">nat.prime</span> <span class="n">k</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">apply</span> <span class="n">consecutive</span><span class="bp">;</span> <span class="n">linarith</span> <span class="o">},</span>
  <span class="n">obtain</span> <span class="o">⟨</span><span class="n">a</span><span class="o">,</span> <span class="n">hadvd</span><span class="o">,</span> <span class="n">hane1</span><span class="o">,</span> <span class="n">hanek</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">nat.exists_dvd_of_not_prime</span> <span class="o">(</span><span class="kd">by</span> <span class="n">linarith</span> <span class="o">[</span><span class="n">hp.two_le</span><span class="o">,</span> <span class="n">hq.two_le</span><span class="o">])</span> <span class="n">this</span><span class="o">,</span>
  <span class="n">use</span> <span class="o">[</span><span class="n">a</span><span class="o">,</span> <span class="n">k</span> <span class="bp">/</span> <span class="n">a</span><span class="o">,</span> <span class="mi">2</span><span class="o">],</span>
  <span class="k">have</span> <span class="n">hapos</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">a</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="n">nat.pos_iff_ne_zero</span><span class="o">],</span>
    <span class="n">rintro</span> <span class="n">rfl</span><span class="o">,</span>
    <span class="n">rw</span> <span class="o">[</span><span class="n">zero_dvd_iff</span><span class="o">]</span> <span class="n">at</span> <span class="n">hadvd</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">hanek</span> <span class="n">hadvd.symm</span> <span class="o">},</span>
  <span class="n">refine</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩,</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="n">hk</span><span class="o">,</span> <span class="n">nat.mul_div_cancel'</span> <span class="n">hadvd</span><span class="o">,</span> <span class="n">mul_comm</span><span class="o">]</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">apply</span> <span class="n">lt_of_le_of_ne</span> <span class="n">_</span> <span class="n">hane1.symm</span><span class="o">,</span>
    <span class="n">rwa</span> <span class="o">[</span><span class="n">nat.succ_le_iff</span><span class="o">]</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">obtain</span> <span class="o">⟨</span><span class="n">b</span><span class="o">,</span> <span class="n">rfl</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">hadvd</span><span class="o">,</span>
    <span class="k">have</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">rintro</span> <span class="n">rfl</span><span class="o">,</span>
      <span class="n">linarith</span> <span class="o">[</span><span class="n">hp.two_le</span><span class="o">,</span> <span class="n">hq.two_le</span><span class="o">,</span> <span class="n">hk</span><span class="o">]</span> <span class="o">},</span>
    <span class="n">rw</span> <span class="n">mul_comm</span><span class="o">,</span>
    <span class="n">rw</span> <span class="n">nat.mul_div_cancel</span> <span class="n">_</span> <span class="n">hapos</span><span class="o">,</span>
    <span class="n">apply</span> <span class="n">lt_of_le_of_ne</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">rwa</span> <span class="o">[</span><span class="n">nat.succ_le_iff</span><span class="o">,</span> <span class="n">nat.pos_iff_ne_zero</span><span class="o">]</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">contrapose</span><span class="bp">!</span> <span class="n">hanek</span><span class="o">,</span> <span class="n">rw</span> <span class="o">[</span><span class="bp">←</span><span class="n">hanek</span><span class="o">,</span> <span class="n">mul_one</span><span class="o">]</span> <span class="o">}</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">dec_trivial</span> <span class="o">}</span>
<span class="kd">end</span>
</code></pre></div>



<a name="216688422"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216688422" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216688422">(Nov 13 2020 at 23:32)</a>:</h4>
<p>Hmm my lean server crashed...</p>



<a name="216688434"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216688434" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216688434">(Nov 13 2020 at 23:32)</a>:</h4>
<p>Where's the 1 &lt; a proof?</p>



<a name="216688504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216688504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216688504">(Nov 13 2020 at 23:33)</a>:</h4>
<p>it's difficult to follow the spoiler solution because no indents. Style point: the question should say <code>1 &lt; a \and ...</code>, not <code>a &gt; 1</code>.</p>



<a name="216688600"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216688600" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216688600">(Nov 13 2020 at 23:34)</a>:</h4>
<p>I'm done!</p>



<a name="216688601"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216688601" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216688601">(Nov 13 2020 at 23:34)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">solution</span>
  <span class="o">{</span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span>
  <span class="o">(</span><span class="n">hp</span> <span class="o">:</span> <span class="n">nat.prime</span> <span class="n">p</span><span class="o">)</span>
  <span class="o">(</span><span class="n">hq</span> <span class="o">:</span> <span class="n">nat.prime</span> <span class="n">q</span><span class="o">)</span>
  <span class="o">(</span><span class="n">p_lt_q</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">&lt;</span> <span class="n">q</span><span class="o">)</span>
  <span class="o">(</span><span class="n">p_ne_two</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">≠</span> <span class="mi">2</span><span class="o">)</span>
  <span class="o">(</span><span class="n">q_ne_two</span> <span class="o">:</span> <span class="n">q</span> <span class="bp">≠</span> <span class="mi">2</span><span class="o">)</span>
  <span class="o">(</span><span class="n">consecutive</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">k</span><span class="o">,</span> <span class="n">p</span> <span class="bp">&lt;</span> <span class="n">k</span> <span class="bp">→</span> <span class="n">k</span> <span class="bp">&lt;</span> <span class="n">q</span> <span class="bp">→</span> <span class="bp">¬</span> <span class="n">nat.prime</span> <span class="n">k</span><span class="o">)</span> <span class="o">:</span>
<span class="bp">∃</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span><span class="o">,</span> <span class="n">p</span> <span class="bp">+</span> <span class="n">q</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">c</span>
<span class="bp">∧</span> <span class="n">a</span> <span class="bp">&gt;</span> <span class="mi">1</span> <span class="bp">∧</span> <span class="n">b</span> <span class="bp">&gt;</span> <span class="mi">1</span> <span class="bp">∧</span> <span class="n">c</span> <span class="bp">&gt;</span> <span class="mi">1</span> <span class="o">:=</span>
<span class="kd">begin</span>
    <span class="k">have</span> <span class="n">op</span> <span class="o">:</span> <span class="bp">¬</span> <span class="n">even</span> <span class="n">p</span><span class="o">,</span>
    <span class="o">{</span>
        <span class="n">rw</span> <span class="n">nat.not_even_iff</span><span class="o">,</span>
        <span class="n">exact</span> <span class="n">hp.eq_two_or_odd.resolve_left</span> <span class="n">p_ne_two</span><span class="o">,</span>
    <span class="o">},</span>
    <span class="k">have</span> <span class="n">oq</span> <span class="o">:</span> <span class="bp">¬</span> <span class="n">even</span> <span class="n">q</span><span class="o">,</span>
    <span class="o">{</span>
        <span class="n">rw</span> <span class="n">nat.not_even_iff</span><span class="o">,</span>
        <span class="n">exact</span> <span class="n">hq.eq_two_or_odd.resolve_left</span> <span class="n">q_ne_two</span><span class="o">,</span>
    <span class="o">},</span>
    <span class="k">have</span> <span class="n">epq</span> <span class="o">:</span> <span class="n">even</span> <span class="o">(</span><span class="n">p</span> <span class="bp">+</span> <span class="n">q</span><span class="o">),</span>
    <span class="o">{</span>
        <span class="n">rw</span> <span class="n">nat.even_add</span><span class="o">,</span>
        <span class="n">simp</span> <span class="o">[</span><span class="n">op</span><span class="o">,</span> <span class="n">oq</span><span class="o">],</span>
    <span class="o">},</span>
    <span class="n">rw</span> <span class="n">even_iff_two_dvd</span> <span class="n">at</span> <span class="n">epq</span><span class="o">,</span>
    <span class="n">cases</span> <span class="o">(</span><span class="n">exists_eq_mul_right_of_dvd</span> <span class="n">epq</span><span class="o">)</span> <span class="k">with</span> <span class="n">d</span> <span class="n">hd</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">compd</span> <span class="o">:</span> <span class="bp">¬</span> <span class="n">nat.prime</span> <span class="n">d</span><span class="o">,</span>
    <span class="o">{</span>
        <span class="n">apply</span> <span class="n">consecutive</span><span class="bp">;</span>
        <span class="n">omega</span><span class="o">,</span>
    <span class="o">},</span>
    <span class="k">have</span> <span class="n">d2</span> <span class="o">:</span> <span class="mi">2</span> <span class="bp">≤</span> <span class="n">d</span><span class="o">,</span>
    <span class="o">{</span>
        <span class="k">have</span> <span class="n">k</span> <span class="o">:=</span> <span class="n">nat.prime.two_le</span> <span class="n">hp</span><span class="o">,</span>
        <span class="n">omega</span><span class="o">,</span>
    <span class="o">},</span>
    <span class="k">have</span> <span class="n">d0</span> <span class="o">:</span> <span class="n">d</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span>
    <span class="o">{</span>
        <span class="n">omega</span><span class="o">,</span>
    <span class="o">},</span>
    <span class="n">rcases</span> <span class="o">(</span><span class="n">nat.exists_dvd_of_not_prime</span> <span class="n">d2</span> <span class="n">compd</span><span class="o">)</span> <span class="k">with</span> <span class="o">⟨</span><span class="n">n</span><span class="o">,</span> <span class="n">hn1</span><span class="o">,</span> <span class="n">hn2</span><span class="o">,</span> <span class="n">hn3</span><span class="o">⟩,</span>
    <span class="k">have</span> <span class="n">npos</span> <span class="o">:=</span> <span class="n">nat.pos_of_dvd_of_pos</span> <span class="n">hn1</span> <span class="n">d0</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">nltd</span> <span class="o">:=</span> <span class="n">nat.le_of_dvd</span> <span class="n">d0</span> <span class="n">hn1</span><span class="o">,</span>
    <span class="n">use</span> <span class="o">[</span><span class="mi">2</span><span class="o">,</span> <span class="n">n</span><span class="o">,</span> <span class="n">d</span><span class="bp">/</span><span class="n">n</span><span class="o">],</span>
    <span class="n">split</span><span class="o">,</span>
    <span class="o">{</span>
        <span class="n">rw</span> <span class="n">mul_assoc</span><span class="o">,</span>
        <span class="n">rw</span> <span class="n">nat.mul_div_cancel'</span><span class="bp">;</span>
        <span class="n">assumption</span><span class="o">,</span>
    <span class="o">},</span>
    <span class="n">split</span><span class="o">,</span>
    <span class="o">{</span>
        <span class="n">omega</span><span class="o">,</span>
    <span class="o">},</span>
    <span class="n">split</span><span class="o">,</span>
    <span class="o">{</span>
        <span class="n">omega</span><span class="o">,</span>
    <span class="o">},</span>
    <span class="o">{</span>
        <span class="n">apply</span> <span class="o">(</span><span class="n">mul_lt_mul_left</span> <span class="n">npos</span><span class="o">)</span><span class="bp">.</span><span class="n">mp</span><span class="o">,</span>
        <span class="n">rw</span> <span class="n">nat.mul_div_cancel'</span><span class="o">,</span>
        <span class="n">omega</span><span class="o">,</span>
        <span class="n">assumption</span><span class="o">,</span>
    <span class="o">},</span>
<span class="kd">end</span>
</code></pre></div>



<a name="216688615"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216688615" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216688615">(Nov 13 2020 at 23:34)</a>:</h4>
<p>ctrl-shift-p and type "Lean : restart" to restart lean after a crash</p>



<a name="216688632"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216688632" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216688632">(Nov 13 2020 at 23:34)</a>:</h4>
<p>(in VS Code, if you're using emacs you're on your own)</p>



<a name="216688635"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216688635" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216688635">(Nov 13 2020 at 23:34)</a>:</h4>
<p>Would very much appreciate feedback on how making this less sprawling, although happily I do have indents.</p>



<a name="216688647"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216688647" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216688647">(Nov 13 2020 at 23:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E/near/216685542">said</a>:</p>
<blockquote>
<p>I genuinely don't know what you can put after <code>omega</code>, I only use it as a standalone tactic and I don't understand parsers well enough to know what <code>id*</code> means</p>
</blockquote>
<p>It means it takes 0 or more identifiers. For example, <code>omega h1 h2</code></p>



<a name="216688652"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216688652" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216688652">(Nov 13 2020 at 23:35)</a>:</h4>
<p>I'm using VS Code, because emacs scares me.</p>



<a name="216688689"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216688689" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216688689">(Nov 13 2020 at 23:35)</a>:</h4>
<p>I don't know from that what the identifiers mean, though</p>



<a name="216688701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216688701" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216688701">(Nov 13 2020 at 23:35)</a>:</h4>
<p>but I couldn't get <code>omega (f h)</code> to work -- should I have been able to?</p>



<a name="216688710"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216688710" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216688710">(Nov 13 2020 at 23:35)</a>:</h4>
<p>no</p>



<a name="216688729"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216688729" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216688729">(Nov 13 2020 at 23:35)</a>:</h4>
<p><code>id</code> means an identifier or name, not an expression</p>



<a name="216688733"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216688733" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216688733">(Nov 13 2020 at 23:35)</a>:</h4>
<p>oh, f h is not an identifier?</p>



<a name="216688775"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216688775" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216688775">(Nov 13 2020 at 23:36)</a>:</h4>
<p>but f and h are?</p>



<a name="216688801"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216688801" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216688801">(Nov 13 2020 at 23:36)</a>:</h4>
<p><code>f h</code> is two identifiers, <code>(f h)</code> is an expression</p>



<a name="216688816"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216688816" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216688816">(Nov 13 2020 at 23:36)</a>:</h4>
<p><code>f h</code> is also an expression</p>



<a name="216688854"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216688854" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216688854">(Nov 13 2020 at 23:36)</a>:</h4>
<p>Hmm, can't nest code in the spoiler tag, but since you're done as well, I just opened it up</p>



<a name="216688867"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216688867" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216688867">(Nov 13 2020 at 23:36)</a>:</h4>
<p>that was what was confusing me.</p>



<a name="216688869"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216688869" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216688869">(Nov 13 2020 at 23:36)</a>:</h4>
<p>an identifier is a sequence of letters and underscores</p>



<a name="216688875"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216688875" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216688875">(Nov 13 2020 at 23:36)</a>:</h4>
<p>and dots</p>



<a name="216688892"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216688892" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216688892">(Nov 13 2020 at 23:37)</a>:</h4>
<p>Can you quote code in the spoiler tag? I think spoilers are new to Zulip</p>



<a name="216688915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216688915" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216688915">(Nov 13 2020 at 23:37)</a>:</h4>
<p>pretty sure</p>



<a name="216689105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216689105" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216689105">(Nov 13 2020 at 23:39)</a>:</h4>
<p>I think my code would look pretty much the same as Ruben's or Wrenna's, except Wrenna I'd indent 2 spaces not 4.</p>



<a name="216689132"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216689132" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216689132">(Nov 13 2020 at 23:39)</a>:</h4>
<p>Yes that is that I haven't changed the setting in VS code.</p>



<a name="216689208"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216689208" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216689208">(Nov 13 2020 at 23:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E/near/216686954">said</a>:</p>
<blockquote>
<p><code>rcases ('?' expr (: n)?) | ((h :)? expr (with patt)?)</code> should answer all your questions</p>
</blockquote>
<p>This says that <code>rcases</code> takes either a <code>?</code> followed by an expression, followed by optionally a colon and a number, i.e. <code>rcases? (f x)</code> or <code>rcases? f x : 5</code>, or an optional variable and a colon, followed by an expression, optionally followed by <code>with</code> and a pattern, like <code>rcases h : e with &lt;&gt;</code> or <code>rcases e with &lt;a, b, c&gt;</code></p>



<a name="216689209"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216689209" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216689209">(Nov 13 2020 at 23:40)</a>:</h4>
<p>these things are fiddly. Did you say it was a kata? You should both post your solutions and see if any of the CS whizzes had a go at it.</p>



<a name="216689211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216689211" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216689211">(Nov 13 2020 at 23:40)</a>:</h4>
<p>Presumably there is some way to tell it to do two spaces for Lean files.</p>



<a name="216689232"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216689232" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216689232">(Nov 13 2020 at 23:40)</a>:</h4>
<p>Yeah it was. I'm just doing some basic tidying up.</p>



<a name="216689252"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216689252" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216689252">(Nov 13 2020 at 23:40)</a>:</h4>
<p>the syntax of patterns is not specified there because it is recursive and the notation kind of breaks down</p>



<a name="216689273"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216689273" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216689273">(Nov 13 2020 at 23:40)</a>:</h4>
<p>That was going to be my next question :-)</p>



<a name="216689280"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216689280" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216689280">(Nov 13 2020 at 23:41)</a>:</h4>
<p>For a pattern like this:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code>    <span class="k">have</span> <span class="n">op</span> <span class="o">:</span> <span class="bp">¬</span> <span class="n">even</span> <span class="n">p</span><span class="o">,</span>
    <span class="o">{</span>
        <span class="n">rw</span> <span class="n">nat.not_even_iff</span><span class="o">,</span>
        <span class="n">exact</span> <span class="n">hp.eq_two_or_odd.resolve_left</span> <span class="n">p_ne_two</span><span class="o">,</span>
    <span class="o">},</span>
</code></pre></div>
<p>Is there a one-liner way of doing it? "have some goal, by re-writing the goal and then having it exactly"</p>



<a name="216689327"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216689327" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216689327">(Nov 13 2020 at 23:41)</a>:</h4>
<p>instead of <code>rw h</code> you might well be able to just use the function <code>h.1</code> directly.</p>



<a name="216689336"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216689336" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216689336">(Nov 13 2020 at 23:41)</a>:</h4>
<p>you can find it in the docs for <a href="https://leanprover-community.github.io/mathlib_docs/find/tactic.rcases_patt_parse">docs#tactic.rcases_patt_parse</a> though, in pseudo BNF style</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">patt</span> <span class="o">::=</span> <span class="n">patt_med</span> <span class="o">(</span><span class="s2">":"</span> <span class="n">expr</span><span class="o">)</span><span class="bp">?</span>
<span class="n">patt_med</span> <span class="o">::=</span> <span class="o">(</span><span class="n">patt_hi</span> <span class="s2">"|"</span><span class="o">)</span><span class="bp">*</span> <span class="n">patt_hi</span>
<span class="n">patt_hi</span> <span class="o">::=</span> <span class="n">id</span> <span class="bp">|</span> <span class="s2">"rfl"</span> <span class="bp">|</span> <span class="s2">"_"</span> <span class="bp">|</span> <span class="s2">"⟨"</span> <span class="o">(</span><span class="n">patt</span> <span class="s2">","</span><span class="o">)</span><span class="bp">*</span> <span class="n">patt</span> <span class="s2">"⟩"</span> <span class="bp">|</span> <span class="s2">"("</span> <span class="n">patt</span> <span class="s2">")"</span>
</code></pre></div>



<a name="216689457"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216689457" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216689457">(Nov 13 2020 at 23:42)</a>:</h4>
<p><code>have op : ¬ even p := nat.not_even_iff.1 (hp.eq_two_or_odd.resolve_left p_ne_two),</code> or something like that should work</p>



<a name="216689488"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216689488" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216689488">(Nov 13 2020 at 23:43)</a>:</h4>
<p>Sadly not.</p>



<a name="216689509"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216689509" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216689509">(Nov 13 2020 at 23:43)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">type</span> <span class="n">mismatch</span> <span class="n">at</span> <span class="n">application</span>
  <span class="n">nat.not_even_iff.mp</span> <span class="o">(</span><span class="n">hp.eq_two_or_odd.resolve_left</span> <span class="n">p_ne_two</span><span class="o">)</span>
<span class="n">term</span>
  <span class="n">hp.eq_two_or_odd.resolve_left</span> <span class="n">p_ne_two</span>
<span class="n">has</span> <span class="n">type</span>
  <span class="n">p</span> <span class="bp">%</span> <span class="mi">2</span> <span class="bp">=</span> <span class="mi">1</span>
<span class="n">but</span> <span class="n">is</span> <span class="n">expected</span> <span class="n">to</span> <span class="k">have</span> <span class="n">type</span>
  <span class="bp">¬</span><span class="n">even</span> <span class="bp">?</span><span class="n">m_1</span>
</code></pre></div>



<a name="216689526"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216689526" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216689526">(Nov 13 2020 at 23:43)</a>:</h4>
<p><code>mpr</code>?</p>



<a name="216689535"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216689535" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216689535">(Nov 13 2020 at 23:43)</a>:</h4>
<p>Looks like I should've tried throwing omega at more subgoals</p>



<a name="216689538"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216689538" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216689538">(Nov 13 2020 at 23:43)</a>:</h4>
<p>then it would be rw \l</p>



<a name="216689594"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216689594" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216689594">(Nov 13 2020 at 23:44)</a>:</h4>
<p>no you're right</p>



<a name="216689600"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216689600" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216689600">(Nov 13 2020 at 23:44)</a>:</h4>
<p>mpr?</p>



<a name="216689602"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216689602" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216689602">(Nov 13 2020 at 23:44)</a>:</h4>
<p>try <code>.2</code></p>



<a name="216689640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216689640" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216689640">(Nov 13 2020 at 23:44)</a>:</h4>
<p>or <code>.mpr</code>. If <code>h : a &lt;-&gt; b</code> then internally h is a pair of proofs, <code>h.1 : a -&gt; b</code> and <code>h.2 : b -&gt; a</code></p>



<a name="216689653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216689653" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216689653">(Nov 13 2020 at 23:45)</a>:</h4>
<p>Right.</p>



<a name="216689665"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216689665" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216689665">(Nov 13 2020 at 23:45)</a>:</h4>
<p>.mpr is a mnemonic of some kind?</p>



<a name="216689668"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216689668" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216689668">(Nov 13 2020 at 23:45)</a>:</h4>
<p>and <code>h.mp</code> is the same as <code>h.1</code> and <code>h.mpr</code> is the same as <code>h.2</code>. I think Ruben's suggestion should work.</p>



<a name="216689669"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216689669" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216689669">(Nov 13 2020 at 23:45)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="k">have</span> <span class="n">op</span> <span class="o">:</span> <span class="bp">¬</span> <span class="n">even</span> <span class="n">p</span> <span class="o">:=</span> <span class="n">nat.not_even_iff.2</span> <span class="o">(</span><span class="n">hp.eq_two_or_odd.resolve_left</span> <span class="n">p_ne_two</span><span class="o">),</span>
</code></pre></div>



<a name="216689676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216689676" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216689676">(Nov 13 2020 at 23:45)</a>:</h4>
<p>Modus ponens reverse</p>



<a name="216689679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216689679" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216689679">(Nov 13 2020 at 23:45)</a>:</h4>
<p>"modus ponens reversed" or something?</p>



<a name="216689684"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216689684" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216689684">(Nov 13 2020 at 23:45)</a>:</h4>
<p>Right.</p>



<a name="216689801"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216689801" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216689801">(Nov 13 2020 at 23:46)</a>:</h4>
<p><code>omega</code> is great for nat goals because some stuff is so fiddly with nat. There are so many stupid things like <code>a + b - a = b</code> which are more painful than you think because of natural subtraction.</p>



<a name="216689846"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216689846" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216689846">(Nov 13 2020 at 23:47)</a>:</h4>
<p>After a while the naming convention can't handle it all so you have to rely more on memory or search skillz</p>



<a name="216689884"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216689884" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216689884">(Nov 13 2020 at 23:47)</a>:</h4>
<p>is that add_sub_self or what?</p>



<a name="216689898"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216689898" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216689898">(Nov 13 2020 at 23:47)</a>:</h4>
<p>naming is going to become even harder as we get more and more lemmas. i think we are going to need a better <code>library_search</code> &amp; i hope lean 4 enables that</p>



<a name="216689911"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216689911" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216689911">(Nov 13 2020 at 23:47)</a>:</h4>
<p>Can we do a similar one-liner trick for </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code>    <span class="k">have</span> <span class="n">compd</span> <span class="o">:</span> <span class="bp">¬</span> <span class="n">nat.prime</span> <span class="n">d</span><span class="o">,</span>
    <span class="o">{</span>
        <span class="n">apply</span> <span class="n">consecutive</span><span class="bp">;</span>
        <span class="n">omega</span><span class="o">,</span>
    <span class="o">},</span>
</code></pre></div>



<a name="216689950"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216689950" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216689950">(Nov 13 2020 at 23:48)</a>:</h4>
<p><code>:= consecutive (by omega)</code>?</p>



<a name="216689985"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216689985" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216689985">(Nov 13 2020 at 23:48)</a>:</h4>
<p>No.</p>



<a name="216689987"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216689987" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216689987">(Nov 13 2020 at 23:48)</a>:</h4>
<p>something like that could well work</p>



<a name="216689998"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216689998" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216689998">(Nov 13 2020 at 23:48)</a>:</h4>
<p>you should be able to get it to work somehow</p>



<a name="216689999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216689999" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216689999">(Nov 13 2020 at 23:48)</a>:</h4>
<p>It needs two <code>(by omega)</code>s</p>



<a name="216690020"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690020" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690020">(Nov 13 2020 at 23:48)</a>:</h4>
<p>got it</p>



<a name="216690035"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690035" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690035">(Nov 13 2020 at 23:48)</a>:</h4>
<p>hence the semicolon</p>



<a name="216690043"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690043" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690043">(Nov 13 2020 at 23:49)</a>:</h4>
<p>So with <code>have compd : ¬ nat.prime d := consecutive (by omega) (by omega),</code> I get <code>Cannot reify expr :  ℕ</code></p>



<a name="216690050"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690050" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690050">(Nov 13 2020 at 23:49)</a>:</h4>
<p>Which is a bit mysterious.</p>



<a name="216690076"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690076" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690076">(Nov 13 2020 at 23:49)</a>:</h4>
<p>what is the type of <code>consecutive</code>? <code>apply</code> is quite clever.</p>



<a name="216690093"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690093" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690093">(Nov 13 2020 at 23:49)</a>:</h4>
<p>you might need to add some <code>_</code>s in</p>



<a name="216690094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690094" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690094">(Nov 13 2020 at 23:49)</a>:</h4>
<p><code>∀ (k : ℕ), p &lt; k → k &lt; q → ¬nat.prime k</code></p>



<a name="216690121"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690121" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690121">(Nov 13 2020 at 23:49)</a>:</h4>
<p>so try <code>consecutive _ (by omega) (by omega)</code></p>



<a name="216690131"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690131" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690131">(Nov 13 2020 at 23:49)</a>:</h4>
<p>Yep</p>



<a name="216690178"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690178" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690178">(Nov 13 2020 at 23:50)</a>:</h4>
<p><code>apply</code> figured out the natural input by itself.</p>



<a name="216690188"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690188" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690188">(Nov 13 2020 at 23:50)</a>:</h4>
<p>Magic.</p>



<a name="216690192"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690192" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690192">(Nov 13 2020 at 23:50)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">begin</span>
    <span class="k">have</span> <span class="n">op</span> <span class="o">:</span> <span class="bp">¬</span> <span class="n">even</span> <span class="n">p</span> <span class="o">:=</span> <span class="n">nat.not_even_iff.mpr</span> <span class="o">(</span><span class="n">hp.eq_two_or_odd.resolve_left</span> <span class="n">p_ne_two</span><span class="o">),</span>
    <span class="k">have</span> <span class="n">oq</span> <span class="o">:</span> <span class="bp">¬</span> <span class="n">even</span> <span class="n">q</span> <span class="o">:=</span> <span class="n">nat.not_even_iff.mpr</span> <span class="o">(</span><span class="n">hq.eq_two_or_odd.resolve_left</span> <span class="n">q_ne_two</span><span class="o">),</span>
    <span class="k">have</span> <span class="n">epq</span> <span class="o">:</span> <span class="n">even</span> <span class="o">(</span><span class="n">p</span> <span class="bp">+</span> <span class="n">q</span><span class="o">)</span> <span class="o">:=</span> <span class="n">nat.even_add.mpr</span> <span class="o">(</span><span class="kd">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">op</span><span class="o">,</span> <span class="n">oq</span><span class="o">]),</span>
    <span class="n">cases</span> <span class="o">(</span><span class="n">exists_eq_mul_right_of_dvd</span> <span class="o">(</span><span class="n">even_iff_two_dvd.mpr</span> <span class="n">epq</span><span class="o">))</span> <span class="k">with</span> <span class="n">d</span> <span class="n">hd</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">compd</span> <span class="o">:</span> <span class="bp">¬</span> <span class="n">nat.prime</span> <span class="n">d</span> <span class="o">:=</span> <span class="n">consecutive</span> <span class="n">_</span> <span class="o">(</span><span class="kd">by</span> <span class="n">omega</span><span class="o">)</span> <span class="o">(</span><span class="kd">by</span> <span class="n">omega</span><span class="o">),</span>
    <span class="k">have</span> <span class="n">d2</span> <span class="o">:</span> <span class="mi">2</span> <span class="bp">≤</span> <span class="n">d</span><span class="o">,</span> <span class="kd">by</span> <span class="n">linarith</span> <span class="o">[</span><span class="n">nat.prime.two_le</span> <span class="n">hp</span><span class="o">],</span>
    <span class="k">have</span> <span class="n">d0</span> <span class="o">:</span> <span class="n">d</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="kd">by</span> <span class="n">omega</span><span class="o">,</span>
    <span class="n">rcases</span> <span class="o">(</span><span class="n">nat.exists_dvd_of_not_prime</span> <span class="n">d2</span> <span class="n">compd</span><span class="o">)</span> <span class="k">with</span> <span class="o">⟨</span><span class="n">n</span><span class="o">,</span> <span class="n">hn1</span><span class="o">,</span> <span class="n">hn2</span><span class="o">,</span> <span class="n">hn3</span><span class="o">⟩,</span>
    <span class="k">have</span> <span class="n">npos</span> <span class="o">:=</span> <span class="n">nat.pos_of_dvd_of_pos</span> <span class="n">hn1</span> <span class="n">d0</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">nltd</span> <span class="o">:=</span> <span class="n">nat.le_of_dvd</span> <span class="n">d0</span> <span class="n">hn1</span><span class="o">,</span>
    <span class="n">use</span> <span class="o">[</span><span class="mi">2</span><span class="o">,</span> <span class="n">n</span><span class="o">,</span> <span class="n">d</span><span class="bp">/</span><span class="n">n</span><span class="o">],</span>
    <span class="n">split</span><span class="o">,</span>
    <span class="o">{</span>
        <span class="n">rw</span> <span class="n">mul_assoc</span><span class="o">,</span>
        <span class="n">rw</span> <span class="n">nat.mul_div_cancel'</span><span class="bp">;</span>
        <span class="n">assumption</span><span class="o">,</span>
    <span class="o">},</span>
    <span class="n">split</span><span class="o">,</span> <span class="n">omega</span><span class="o">,</span>
    <span class="n">split</span><span class="o">,</span> <span class="n">omega</span><span class="o">,</span>
    <span class="o">{</span>
        <span class="n">apply</span> <span class="o">(</span><span class="n">mul_lt_mul_left</span> <span class="n">npos</span><span class="o">)</span><span class="bp">.</span><span class="n">mp</span><span class="o">,</span>
        <span class="n">rw</span> <span class="n">nat.mul_div_cancel'</span><span class="o">,</span>
        <span class="n">omega</span><span class="o">,</span>
        <span class="n">assumption</span><span class="o">,</span>
    <span class="o">},</span>
<span class="kd">end</span>
</code></pre></div>



<a name="216690198"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690198" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690198">(Nov 13 2020 at 23:50)</a>:</h4>
<p>This is looking very respectable.</p>



<a name="216690292"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690292" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690292">(Nov 13 2020 at 23:51)</a>:</h4>
<p>Oh bother. It looks like the version of Lean on Codewars doesn't like it.</p>



<a name="216690301"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690301" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690301">(Nov 13 2020 at 23:51)</a>:</h4>
<p>Something to do with the even.</p>



<a name="216690367"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690367" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690367">(Nov 13 2020 at 23:52)</a>:</h4>
<p>Here's my full <a href="https://leanprover-community.github.io/mwe.html">#mwe</a>.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>
<span class="kn">import</span> <span class="n">data.nat.basic</span>
<span class="kn">import</span> <span class="n">data.nat.prime</span>
<span class="kn">import</span> <span class="n">data.nat.modeq</span>

<span class="kn">import</span> <span class="n">data.int.basic</span>
<span class="kn">import</span> <span class="n">data.int.parity</span>

<span class="kd">universe</span> <span class="n">u</span>
<span class="n">open_locale</span> <span class="n">classical</span>

<span class="kd">theorem</span> <span class="n">solution</span>
  <span class="o">{</span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span>
  <span class="o">(</span><span class="n">hp</span> <span class="o">:</span> <span class="n">nat.prime</span> <span class="n">p</span><span class="o">)</span>
  <span class="o">(</span><span class="n">hq</span> <span class="o">:</span> <span class="n">nat.prime</span> <span class="n">q</span><span class="o">)</span>
  <span class="o">(</span><span class="n">p_lt_q</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">&lt;</span> <span class="n">q</span><span class="o">)</span>
  <span class="o">(</span><span class="n">p_ne_two</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">≠</span> <span class="mi">2</span><span class="o">)</span>
  <span class="o">(</span><span class="n">q_ne_two</span> <span class="o">:</span> <span class="n">q</span> <span class="bp">≠</span> <span class="mi">2</span><span class="o">)</span>
  <span class="o">(</span><span class="n">consecutive</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">k</span><span class="o">,</span> <span class="n">p</span> <span class="bp">&lt;</span> <span class="n">k</span> <span class="bp">→</span> <span class="n">k</span> <span class="bp">&lt;</span> <span class="n">q</span> <span class="bp">→</span> <span class="bp">¬</span> <span class="n">nat.prime</span> <span class="n">k</span><span class="o">)</span> <span class="o">:</span>
<span class="bp">∃</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span><span class="o">,</span> <span class="n">p</span> <span class="bp">+</span> <span class="n">q</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">c</span>
<span class="bp">∧</span> <span class="n">a</span> <span class="bp">&gt;</span> <span class="mi">1</span> <span class="bp">∧</span> <span class="n">b</span> <span class="bp">&gt;</span> <span class="mi">1</span> <span class="bp">∧</span> <span class="n">c</span> <span class="bp">&gt;</span> <span class="mi">1</span> <span class="o">:=</span>
<span class="kd">begin</span>
    <span class="k">have</span> <span class="n">op</span> <span class="o">:</span> <span class="bp">¬</span> <span class="n">even</span> <span class="n">p</span> <span class="o">:=</span> <span class="n">nat.not_even_iff.mpr</span> <span class="o">(</span><span class="n">hp.eq_two_or_odd.resolve_left</span> <span class="n">p_ne_two</span><span class="o">),</span>
    <span class="k">have</span> <span class="n">oq</span> <span class="o">:</span> <span class="bp">¬</span> <span class="n">even</span> <span class="n">q</span> <span class="o">:=</span> <span class="n">nat.not_even_iff.mpr</span> <span class="o">(</span><span class="n">hq.eq_two_or_odd.resolve_left</span> <span class="n">q_ne_two</span><span class="o">),</span>
    <span class="k">have</span> <span class="n">epq</span> <span class="o">:</span> <span class="n">even</span> <span class="o">(</span><span class="n">p</span> <span class="bp">+</span> <span class="n">q</span><span class="o">)</span> <span class="o">:=</span> <span class="n">nat.even_add.mpr</span> <span class="o">(</span><span class="kd">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">op</span><span class="o">,</span> <span class="n">oq</span><span class="o">]),</span>
    <span class="n">cases</span> <span class="o">(</span><span class="n">exists_eq_mul_right_of_dvd</span> <span class="o">(</span><span class="n">even_iff_two_dvd.mpr</span> <span class="n">epq</span><span class="o">))</span> <span class="k">with</span> <span class="n">d</span> <span class="n">hd</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">compd</span> <span class="o">:</span> <span class="bp">¬</span> <span class="n">nat.prime</span> <span class="n">d</span> <span class="o">:=</span> <span class="n">consecutive</span> <span class="n">_</span> <span class="o">(</span><span class="kd">by</span> <span class="n">omega</span><span class="o">)</span> <span class="o">(</span><span class="kd">by</span> <span class="n">omega</span><span class="o">),</span>
    <span class="k">have</span> <span class="n">d2</span> <span class="o">:</span> <span class="mi">2</span> <span class="bp">≤</span> <span class="n">d</span><span class="o">,</span> <span class="kd">by</span> <span class="n">linarith</span> <span class="o">[</span><span class="n">nat.prime.two_le</span> <span class="n">hp</span><span class="o">],</span>
    <span class="k">have</span> <span class="n">d0</span> <span class="o">:</span> <span class="n">d</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="kd">by</span> <span class="n">omega</span><span class="o">,</span>
    <span class="n">rcases</span> <span class="o">(</span><span class="n">nat.exists_dvd_of_not_prime</span> <span class="n">d2</span> <span class="n">compd</span><span class="o">)</span> <span class="k">with</span> <span class="o">⟨</span><span class="n">n</span><span class="o">,</span> <span class="n">hn1</span><span class="o">,</span> <span class="n">hn2</span><span class="o">,</span> <span class="n">hn3</span><span class="o">⟩,</span>
    <span class="k">have</span> <span class="n">npos</span> <span class="o">:=</span> <span class="n">nat.pos_of_dvd_of_pos</span> <span class="n">hn1</span> <span class="n">d0</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">nltd</span> <span class="o">:=</span> <span class="n">nat.le_of_dvd</span> <span class="n">d0</span> <span class="n">hn1</span><span class="o">,</span>
    <span class="n">use</span> <span class="o">[</span><span class="mi">2</span><span class="o">,</span> <span class="n">n</span><span class="o">,</span> <span class="n">d</span><span class="bp">/</span><span class="n">n</span><span class="o">],</span>
    <span class="n">split</span><span class="o">,</span>
    <span class="o">{</span>
        <span class="n">rw</span> <span class="n">mul_assoc</span><span class="o">,</span>
        <span class="n">rw</span> <span class="n">nat.mul_div_cancel'</span><span class="bp">;</span>
        <span class="n">assumption</span><span class="o">,</span>
    <span class="o">},</span>
    <span class="n">split</span><span class="o">,</span> <span class="n">omega</span><span class="o">,</span>
    <span class="n">split</span><span class="o">,</span> <span class="n">omega</span><span class="o">,</span>
    <span class="o">{</span>
        <span class="n">apply</span> <span class="o">(</span><span class="n">mul_lt_mul_left</span> <span class="n">npos</span><span class="o">)</span><span class="bp">.</span><span class="n">mp</span><span class="o">,</span>
        <span class="n">rw</span> <span class="n">nat.mul_div_cancel'</span><span class="o">,</span>
        <span class="n">omega</span><span class="o">,</span>
        <span class="n">assumption</span><span class="o">,</span>
    <span class="o">},</span>
<span class="kd">end</span>
</code></pre></div>



<a name="216690409"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690409" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690409">(Nov 13 2020 at 23:52)</a>:</h4>
<p>When i do codewars I use a custom repo with precisely the version of lean and mathlib supported by codewars at that time</p>



<a name="216690441"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690441" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690441">(Nov 13 2020 at 23:53)</a>:</h4>
<p>Try <code>nat.even</code></p>



<a name="216690469"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690469" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690469">(Nov 13 2020 at 23:53)</a>:</h4>
<p>There was some refactoring there recently</p>



<a name="216690536"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690536" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690536">(Nov 13 2020 at 23:54)</a>:</h4>
<p>"unknown identifier 'nat.even'" on my local copy.</p>



<a name="216690588"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690588" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690588">(Nov 13 2020 at 23:54)</a>:</h4>
<p>If you're using a version of lean/mathlib which is not the same as the codewars one then you can't expect to get a piece of code which compiles both locally and on codewars.</p>



<a name="216690595"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690595" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690595">(Nov 13 2020 at 23:54)</a>:</h4>
<p>Yes.</p>



<a name="216690607"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690607" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690607">(Nov 13 2020 at 23:55)</a>:</h4>
<p>Lean is not backwards compatible</p>



<a name="216690761"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690761" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690761">(Nov 13 2020 at 23:56)</a>:</h4>
<p>Aye. Some progress on CodeWars using that, but even_iff_two_dvd (or nat.even_iff_two_dvd) is unrecognised - I don't know if the name of it changed.</p>



<a name="216690828"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690828" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690828">(Nov 13 2020 at 23:57)</a>:</h4>
<p>Here's my version of the compression pass:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">solution</span>
  <span class="o">{</span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span>
  <span class="o">(</span><span class="n">hp</span> <span class="o">:</span> <span class="n">nat.prime</span> <span class="n">p</span><span class="o">)</span>
  <span class="o">(</span><span class="n">hq</span> <span class="o">:</span> <span class="n">nat.prime</span> <span class="n">q</span><span class="o">)</span>
  <span class="o">(</span><span class="n">p_lt_q</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">&lt;</span> <span class="n">q</span><span class="o">)</span>
  <span class="o">(</span><span class="n">p_ne_two</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">≠</span> <span class="mi">2</span><span class="o">)</span>
  <span class="o">(</span><span class="n">q_ne_two</span> <span class="o">:</span> <span class="n">q</span> <span class="bp">≠</span> <span class="mi">2</span><span class="o">)</span>
  <span class="o">(</span><span class="n">consecutive</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">k</span><span class="o">,</span> <span class="n">p</span> <span class="bp">&lt;</span> <span class="n">k</span> <span class="bp">→</span> <span class="n">k</span> <span class="bp">&lt;</span> <span class="n">q</span> <span class="bp">→</span> <span class="bp">¬</span> <span class="n">nat.prime</span> <span class="n">k</span><span class="o">)</span> <span class="o">:</span>
<span class="bp">∃</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span><span class="o">,</span> <span class="n">p</span> <span class="bp">+</span> <span class="n">q</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">c</span>
<span class="bp">∧</span> <span class="n">a</span> <span class="bp">&gt;</span> <span class="mi">1</span> <span class="bp">∧</span> <span class="n">b</span> <span class="bp">&gt;</span> <span class="mi">1</span> <span class="bp">∧</span> <span class="n">c</span> <span class="bp">&gt;</span> <span class="mi">1</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">have</span> <span class="n">op</span> <span class="o">:</span> <span class="bp">¬</span> <span class="n">even</span> <span class="n">p</span> <span class="o">:=</span> <span class="n">nat.not_even_iff.2</span> <span class="o">(</span><span class="n">hp.eq_two_or_odd.resolve_left</span> <span class="n">p_ne_two</span><span class="o">),</span>
  <span class="k">have</span> <span class="n">oq</span> <span class="o">:</span> <span class="bp">¬</span> <span class="n">even</span> <span class="n">q</span> <span class="o">:=</span> <span class="n">nat.not_even_iff.2</span> <span class="o">(</span><span class="n">hq.eq_two_or_odd.resolve_left</span> <span class="n">q_ne_two</span><span class="o">),</span>
  <span class="k">have</span> <span class="n">epq</span> <span class="o">:</span> <span class="n">even</span> <span class="o">(</span><span class="n">p</span> <span class="bp">+</span> <span class="n">q</span><span class="o">)</span> <span class="o">:=</span> <span class="n">nat.even_add.2</span> <span class="o">(</span><span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">op</span><span class="o">]),</span>
  <span class="n">rw</span> <span class="n">even_iff_two_dvd</span> <span class="n">at</span> <span class="n">epq</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">exists_eq_mul_right_of_dvd</span> <span class="n">epq</span> <span class="k">with</span> <span class="n">d</span> <span class="n">hd</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">compd</span> <span class="o">:</span> <span class="bp">¬</span> <span class="n">nat.prime</span> <span class="n">d</span> <span class="o">:=</span> <span class="n">consecutive</span> <span class="n">d</span> <span class="o">(</span><span class="kd">by</span> <span class="n">linarith</span><span class="o">)</span> <span class="o">(</span><span class="kd">by</span> <span class="n">linarith</span><span class="o">),</span>
  <span class="k">have</span> <span class="n">d2</span> <span class="o">:</span> <span class="mi">2</span> <span class="bp">≤</span> <span class="n">d</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">linarith</span> <span class="o">[</span><span class="n">hp.two_le</span><span class="o">],</span>
  <span class="k">have</span> <span class="n">d0</span> <span class="o">:</span> <span class="n">d</span> <span class="bp">&gt;</span> <span class="mi">0</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">linarith</span> <span class="o">[</span><span class="n">d2</span><span class="o">],</span>
  <span class="n">rcases</span> <span class="n">nat.exists_dvd_of_not_prime</span> <span class="n">d2</span> <span class="n">compd</span> <span class="k">with</span> <span class="o">⟨</span><span class="n">n</span><span class="o">,</span> <span class="n">hn1</span><span class="o">,</span> <span class="n">hn2</span><span class="o">,</span> <span class="n">hn3</span><span class="o">⟩,</span>
  <span class="k">have</span> <span class="n">npos</span> <span class="o">:=</span> <span class="n">nat.pos_of_dvd_of_pos</span> <span class="n">hn1</span> <span class="n">d0</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">nltd</span> <span class="o">:=</span> <span class="n">nat.le_of_dvd</span> <span class="n">d0</span> <span class="n">hn1</span><span class="o">,</span>
  <span class="n">refine</span> <span class="o">⟨</span><span class="mi">2</span><span class="o">,</span> <span class="n">n</span><span class="o">,</span> <span class="n">d</span><span class="bp">/</span><span class="n">n</span><span class="o">,</span> <span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩,</span>
  <span class="o">{</span> <span class="n">rwa</span> <span class="o">[</span><span class="n">mul_assoc</span><span class="o">,</span> <span class="n">nat.mul_div_cancel'</span> <span class="n">hn1</span><span class="o">]</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">norm_num</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">exact</span> <span class="n">lt_of_le_of_ne</span> <span class="n">npos</span> <span class="n">hn2.symm</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">apply</span> <span class="o">(</span><span class="n">mul_lt_mul_left</span> <span class="n">npos</span><span class="o">)</span><span class="bp">.</span><span class="n">mp</span><span class="o">,</span>
    <span class="n">rw</span> <span class="n">nat.mul_div_cancel'</span> <span class="n">hn1</span><span class="o">,</span>
    <span class="n">simp</span> <span class="o">[</span><span class="n">lt_of_le_of_ne</span> <span class="n">nltd</span> <span class="n">hn3</span><span class="o">]</span> <span class="o">},</span>
<span class="kd">end</span>
</code></pre></div>



<a name="216690842"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690842" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690842">(Nov 13 2020 at 23:57)</a>:</h4>
<p>honestly the way to fix this is to make a project with the same version of lean and mathlib as codewars. They say explicitly what version they're running. It's impossible to second-guess what has changed in the interim.</p>



<a name="216690852"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690852" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690852">(Nov 13 2020 at 23:57)</a>:</h4>
<p>Right.</p>



<a name="216690857"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690857" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690857">(Nov 13 2020 at 23:57)</a>:</h4>
<p>I also removed all the <code>omega</code> calls because <code>omega</code> is slow</p>



<a name="216690862"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690862" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690862">(Nov 13 2020 at 23:58)</a>:</h4>
<p>Try replacing <code>(even_iff_two_dvd.mpr epq)</code> by <code>epq</code>, I think it'll be fine definitionally</p>



<a name="216690904"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690904" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690904">(Nov 13 2020 at 23:58)</a>:</h4>
<p>and you don't need <code>omega</code> to prove <code>1 &lt; 2</code></p>



<a name="216690911"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690911" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690911">(Nov 13 2020 at 23:58)</a>:</h4>
<p><code>linarith</code></p>



<a name="216690918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690918" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690918">(Nov 13 2020 at 23:58)</a>:</h4>
<p><code>lt_add_one</code></p>



<a name="216690923"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690923" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690923">(Nov 13 2020 at 23:58)</a>:</h4>
<p>one_lt_two</p>



<a name="216690933"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690933" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690933">(Nov 13 2020 at 23:58)</a>:</h4>
<p>lol does that work for 3 &lt; 37?</p>



<a name="216690944"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690944" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690944">(Nov 13 2020 at 23:58)</a>:</h4>
<p><code>dec_trivial</code></p>



<a name="216690966"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690966" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690966">(Nov 13 2020 at 23:59)</a>:</h4>
<p>:(</p>



<a name="216690967"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690967" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690967">(Nov 13 2020 at 23:59)</a>:</h4>
<p>Maybe <code>le_refl _</code> works?</p>



<a name="216690980"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690980" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690980">(Nov 13 2020 at 23:59)</a>:</h4>
<p>no one loves my baby</p>



<a name="216690990"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216690990" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216690990">(Nov 13 2020 at 23:59)</a>:</h4>
<p>Or nat.le.intro or something like that? <code>suggest</code> tends to come up with that</p>



<a name="216691012"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216691012" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216691012">(Nov 13 2020 at 23:59)</a>:</h4>
<p>:-)</p>



<a name="216691018"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216691018" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216691018">(Nov 13 2020 at 23:59)</a>:</h4>
<p>Replacing epq worked with some prodding. Lesson learned about setting up a project right...</p>



<a name="216691065"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216691065" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216691065">(Nov 14 2020 at 00:00)</a>:</h4>
<p>Mario wrote <code>norm_num</code> precisely to solve goals like this (3 &lt; 37 etc)</p>



<a name="216691145"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216691145" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216691145">(Nov 14 2020 at 00:00)</a>:</h4>
<p><code>linarith</code> is good for inequalities with variables but when there's only numbers, <code>norm_num</code> works.</p>



<a name="216691181"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216691181" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216691181">(Nov 14 2020 at 00:01)</a>:</h4>
<p>Your baby was what convinced me not to give up! Remember in 2017 when i couldn't do anything?</p>



<a name="216691191"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216691191" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216691191">(Nov 14 2020 at 00:01)</a>:</h4>
<p>Plenty of options in any case</p>



<a name="216691195"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216691195" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216691195">(Nov 14 2020 at 00:01)</a>:</h4>
<p>Q1 on my first example sheet needed a proof that (1 : real) != 2 and there was no way of doing it :-)</p>



<a name="216691253"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216691253" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216691253">(Nov 14 2020 at 00:02)</a>:</h4>
<p>Not quite sure I understand <code>simpa</code>.</p>



<a name="216691267"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216691267" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216691267">(Nov 14 2020 at 00:02)</a>:</h4>
<p>Mario can tell you what that does too.</p>



<a name="216691283"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216691283" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216691283">(Nov 14 2020 at 00:02)</a>:</h4>
<p>It does something like: simplify all goals and assumptions, and then try closing the goal with <code>assumption</code></p>



<a name="216691288"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216691288" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216691288">(Nov 14 2020 at 00:02)</a>:</h4>
<p><code>simpa using h</code> = <code>simp at h |-; exact h</code></p>



<a name="216691295"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216691295" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216691295">(Nov 14 2020 at 00:02)</a>:</h4>
<p>so it works if an assumption and a goal simplify to the same thing</p>



<a name="216691300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216691300" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216691300">(Nov 14 2020 at 00:03)</a>:</h4>
<p>Right!</p>



<a name="216691451"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216691451" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216691451">(Nov 14 2020 at 00:05)</a>:</h4>
<p><code>refine</code> is nice.</p>



<a name="216691667"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216691667" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216691667">(Nov 14 2020 at 00:09)</a>:</h4>
<p>In <code>{ exact lt_of_le_of_ne npos hn2.symm }</code>, npos is of type n &gt; 0, and lt_of_le_of_ne is expecting 1 &lt;= n in that spot. So 1 &lt;= n is definitionally equal to n &gt; 0?</p>



<a name="216691921"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216691921" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216691921">(Nov 14 2020 at 00:13)</a>:</h4>
<p>Wew! Alright. Thank you all - this has been a really great learning experience.</p>



<a name="216691979"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216691979" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216691979">(Nov 14 2020 at 00:14)</a>:</h4>
<p>Also how is it 00:14... I guess when the focus hole hits.</p>



<a name="216692188"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216692188" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216692188">(Nov 14 2020 at 00:18)</a>:</h4>
<p>what better way to spend a Friday night in lockdown.</p>



<a name="216692215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216692215" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216692215">(Nov 14 2020 at 00:19)</a>:</h4>
<p>Well done to both of you!</p>



<a name="216692833"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216692833" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216692833">(Nov 14 2020 at 00:29)</a>:</h4>
<p>Ha, yes, of course, I certainly wouldn't spend a Friday night in normal times on my computer doing compuscimaths &lt;_&lt;</p>



<a name="216692944"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216692944" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216692944">(Nov 14 2020 at 00:31)</a>:</h4>
<p>By the way I have a discord server which currently has 3 Imperial UGs and a Cambridge UG solving basic analysis questions in Lean, live streaming and chatting, right now.</p>



<a name="216692961"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216692961" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216692961">(Nov 14 2020 at 00:31)</a>:</h4>
<p>Ooh.</p>



<a name="216692969"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216692969" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216692969">(Nov 14 2020 at 00:31)</a>:</h4>
<p>voice chat -- the one thing zulip doesn't offer</p>



<a name="216693032"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216693032" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216693032">(Nov 14 2020 at 00:32)</a>:</h4>
<p>Yes! I really like zulip o/w.</p>



<a name="216693049"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216693049" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216693049">(Nov 14 2020 at 00:32)</a>:</h4>
<p>We used it for our first year project vivas - topic per talk, could field questions during other talks.</p>



<a name="216693056"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216693056" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216693056">(Nov 14 2020 at 00:32)</a>:</h4>
<p>It works like my mind works - that is, multi-stranded.</p>



<a name="216693121"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216693121" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216693121">(Nov 14 2020 at 00:33)</a>:</h4>
<p>(...I would be super interested in listening in...)</p>



<a name="216693219"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216693219" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216693219">(Nov 14 2020 at 00:34)</a>:</h4>
<p>I DM'ed you a link</p>



<a name="216693240"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216693240" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216693240">(Nov 14 2020 at 00:35)</a>:</h4>
<p>anyone is welcome, but I don't advertise the links publically any more</p>



<a name="216693292"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Primes%20and%20modular%20arithmetic./near/216693292" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Primes.20and.20modular.20arithmetic.2E.html#216693292">(Nov 14 2020 at 00:36)</a>:</h4>
<p>So you did! Thank you.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>