---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Implicit.20arguments.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Implicit.20arguments.html">Implicit arguments</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="201430351"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Implicit%20arguments/near/201430351" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Implicit.20arguments.html#201430351">(Jun 19 2020 at 19:20)</a>:</h4>
<p>I would like to use the lemma <code>continuous_linear_map.has_fderiv_within_at</code> (<a href="https://leanprover-community.github.io/mathlib_docs/analysis/calculus/fderiv.html#continuous_linear_map.has_fderiv_within_at">docs</a>), which takes 5 implicit arguments, 5 type annotations, and one explicit argument.  I would also like to explicitly provide one of the implicit arguments (<code>x</code> in the docs).</p>
<p>I gather that <code>@</code> is used to make implicit arguments explicit, although I am not familiar with the syntax.  Is there a way of using it which makes explicit only the one implicit argument I need, and not all the others?</p>



<a name="201430368"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Implicit%20arguments/near/201430368" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Implicit.20arguments.html#201430368">(Jun 19 2020 at 19:21)</a>:</h4>
<p>nope...</p>



<a name="201430552"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Implicit%20arguments/near/201430552" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Implicit.20arguments.html#201430552">(Jun 19 2020 at 19:22)</a>:</h4>
<p>There's <code>@@</code> which does something I've forgotten (but it will say in TPIL). It's vanishingly unlikely that it will solve your problem. I've heard that in other languages you can do things like <code>@@@f {thing_i_want_to_specify := this} ...</code> but not in Lean</p>



<a name="201430615"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Implicit%20arguments/near/201430615" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Implicit.20arguments.html#201430615">(Jun 19 2020 at 19:23)</a>:</h4>
<p>Not in Lean 3, but in Lean 4 yes I believe.</p>



<a name="201430673"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Implicit%20arguments/near/201430673" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Implicit.20arguments.html#201430673">(Jun 19 2020 at 19:23)</a>:</h4>
<p>OK, so it will be messy.  What is the syntax exactly?  I cannot see how to provide the type annotations.</p>



<a name="201430752"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Implicit%20arguments/near/201430752" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Implicit.20arguments.html#201430752">(Jun 19 2020 at 19:24)</a>:</h4>
<p>Sebastien, you wrote this lemma <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span>  Is it easy to explain why <code>x</code> is implicit?</p>



<a name="201430910"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Implicit%20arguments/near/201430910" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Implicit.20arguments.html#201430910">(Jun 19 2020 at 19:26)</a>:</h4>
<p>Just underscores everywhere, and it will infer the types and instances from the <code>linear_map</code> you gave it</p>



<a name="201431090"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Implicit%20arguments/near/201431090" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Implicit.20arguments.html#201431090">(Jun 19 2020 at 19:28)</a>:</h4>
<p>That's the standard style in the topology/analysis part of the library, initiated by Johannes Hölzl. The idea is that you will use it as</p>
<div class="codehilite"><pre><span></span><code><span class="kn">example</span> <span class="o">:</span> <span class="n">has_fderiv_at_within_at</span> <span class="o">(</span><span class="n">complicated</span> <span class="n">expression</span><span class="o">)</span> <span class="o">(</span><span class="n">complicated</span> <span class="n">expression</span> <span class="n">again</span><span class="o">)</span> <span class="n">x</span> <span class="o">:=</span>
<span class="n">thing</span> <span class="n">built</span> <span class="kn">using</span> <span class="n">the</span> <span class="n">lemmas</span><span class="o">,</span> <span class="n">where</span> <span class="n">x</span> <span class="n">can</span> <span class="n">be</span> <span class="n">inferred</span> <span class="k">from</span> <span class="n">the</span> <span class="n">goal</span>
</code></pre></div>


<p>95% of the time, it is super-efficient. 5% of the time, you need the <code>@</code>-version and underscores.</p>



<a name="201431313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Implicit%20arguments/near/201431313" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Implicit.20arguments.html#201431313">(Jun 19 2020 at 19:30)</a>:</h4>
<p><span class="user-mention" data-user-id="308899">@Yakov Pechersky</span> thank you, that's much better than I feared!</p>



<a name="201431501"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Implicit%20arguments/near/201431501" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Implicit.20arguments.html#201431501">(Jun 19 2020 at 19:32)</a>:</h4>
<p><span class="user-mention" data-user-id="110050">@Sebastien Gouezel</span> I think I understand, the point is that only the definitions (eg <code>has_fderiv_within_at</code>), not the lemmas, include <code>x</code> explicitly?</p>



<a name="201432120"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Implicit%20arguments/near/201432120" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Implicit.20arguments.html#201432120">(Jun 19 2020 at 19:39)</a>:</h4>
<p>Yes, precisely.</p>



<a name="201432576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Implicit%20arguments/near/201432576" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Implicit.20arguments.html#201432576">(Jun 19 2020 at 19:44)</a>:</h4>
<p>Oh sorry Heather! Yes, it's just lots of underscores. I thought you were asking if they could be avoided. Search mathlib for <code>_ _ _ _</code> to see plenty of examples of this :-) I think the last time I looked the record was about 8</p>



<a name="201433104"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Implicit%20arguments/near/201433104" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Implicit.20arguments.html#201433104">(Jun 19 2020 at 19:49)</a>:</h4>
<p>somehow this reminds me of <a href="https://github.com/torvalds/linux/blob/v5.4/include/linux/rcupdate.h#L310">https://github.com/torvalds/linux/blob/v5.4/include/linux/rcupdate.h#L310</a></p>



<a name="201433475"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Implicit%20arguments/near/201433475" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Implicit.20arguments.html#201433475">(Jun 19 2020 at 19:53)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/Implicit.20arguments/near/201432576">said</a>:</p>
<blockquote>
<p>Oh sorry Heather! Yes, it's just lots of underscores. I thought you were asking if they could be avoided. Search mathlib for <code>_ _ _ _</code> to see plenty of examples of this :-) I think the last time I looked the record was about 8</p>
</blockquote>
<p>No, 11 :)</p>
<div class="codehilite"><pre><span></span><code><span class="kn">lemma</span> <span class="n">is_add_group_hom_map</span>
  <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">}</span> <span class="o">[</span><span class="n">is_add_group_hom</span> <span class="n">f</span><span class="o">]</span> <span class="o">(</span><span class="n">hf</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">f</span><span class="o">)</span> <span class="o">:</span> <span class="n">is_add_group_hom</span> <span class="o">(</span><span class="n">completion</span><span class="bp">.</span><span class="n">map</span> <span class="n">f</span><span class="o">)</span> <span class="o">:=</span>
<span class="bp">@</span><span class="n">is_add_group_hom_extension</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="o">(</span><span class="n">is_add_group_hom</span><span class="bp">.</span><span class="n">comp</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">)</span>
  <span class="o">((</span><span class="n">continuous_coe</span> <span class="bp">_</span><span class="o">)</span><span class="bp">.</span><span class="n">comp</span> <span class="n">hf</span><span class="o">)</span>
</code></pre></div>



<a name="201433614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Implicit%20arguments/near/201433614" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Implicit.20arguments.html#201433614">(Jun 19 2020 at 19:54)</a>:</h4>
<p>woohoo -- we beat Linux!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>