---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Excessive.20memory.20consumption.20editing.20mathlib.20files.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Excessive.20memory.20consumption.20editing.20mathlib.20files.html">Excessive memory consumption editing mathlib files</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="307755475"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Excessive%20memory%20consumption%20editing%20mathlib%20files/near/307755475" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Daan van Gent <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Excessive.20memory.20consumption.20editing.20mathlib.20files.html#307755475">(Nov 03 2022 at 15:26)</a>:</h4>
<p>I am trying to create a pull request containing the <a href="https://github.com/leanprover-community/mathlib/commit/e07d8b7abd13fc93e2180abc3b739c6223d75dff">following lemmas </a>. The step that remains is finding the right files to place them in. However, once I try to edit one of the existing files in mathlib I get excessive memory consumption errors, and it feels improper to make a pull request of code I cannot run myself. Could someone help me with my merge?</p>



<a name="307756792"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Excessive%20memory%20consumption%20editing%20mathlib%20files/near/307756792" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Excessive.20memory.20consumption.20editing.20mathlib.20files.html#307756792">(Nov 03 2022 at 15:32)</a>:</h4>
<p>You can put them in the right place, push the branch to github, and only open the PR once the CI is happy</p>



<a name="307756810"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Excessive%20memory%20consumption%20editing%20mathlib%20files/near/307756810" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Excessive.20memory.20consumption.20editing.20mathlib.20files.html#307756810">(Nov 03 2022 at 15:32)</a>:</h4>
<p>Or open as a draft PR</p>



<a name="307757151"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Excessive%20memory%20consumption%20editing%20mathlib%20files/near/307757151" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Excessive.20memory.20consumption.20editing.20mathlib.20files.html#307757151">(Nov 03 2022 at 15:33)</a>:</h4>
<p>it's also ok having a PR that's tagged <code>awaiting-author</code> for as long as you want. Reviewers will generally not look at it because it won't show up on <a href="https://bit.ly/3AZk1Qk">#queue</a></p>



<a name="307757435"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Excessive%20memory%20consumption%20editing%20mathlib%20files/near/307757435" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Excessive.20memory.20consumption.20editing.20mathlib.20files.html#307757435">(Nov 03 2022 at 15:34)</a>:</h4>
<p>You could also try and use <a href="https://leanprover-community.github.io/tips_and_tricks.html#old-mode">tip#old-mode</a> to see if it helps locally, or look at the changes you want to make one at a time, generally these excessive memory consumption things happen when you change a file that is relatively basic, and have another file far later in the import heierachy open in a different tab, and lean wants to check every file in between and run out of space, having only one tab open at a time can avoid this, but youll need to do <code>lean --make -j4 src/</code> on the command line after to rebuild locally</p>



<a name="307760650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Excessive%20memory%20consumption%20editing%20mathlib%20files/near/307760650" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Daan van Gent <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Excessive.20memory.20consumption.20editing.20mathlib.20files.html#307760650">(Nov 03 2022 at 15:49)</a>:</h4>
<p>Somehow the excessive memory consumption slipped into all my lean files, even though I am now on a branch where I edited no mathlib files. Getting new cache does not seem to fix it, so I'll remove my mathlib folder and <code>leanproject get</code> again.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>