---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Finsets.20and.20fintypes.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finsets.20and.20fintypes.html">Finsets and fintypes</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="195659127"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Finsets%20and%20fintypes/near/195659127" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Donald Sebastian Leung <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finsets.20and.20fintypes.html#195659127">(Apr 29 2020 at 04:29)</a>:</h4>
<p>Is there a mathlib lemma that says if I can construct a <code>finset α</code> with cardinality <code>n</code> then <code>fintype.card α ≥ n</code>?</p>



<a name="195659193"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Finsets%20and%20fintypes/near/195659193" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finsets.20and.20fintypes.html#195659193">(Apr 29 2020 at 04:30)</a>:</h4>
<p>I doubt it, but I am sure there are lemmas that say things like every finset is a subset of <code>finset.univ</code> and <code>finset.card</code> preserves order and <code>finset.univ.card</code> equals <code>fintype.card</code>.</p>



<a name="195714045"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Finsets%20and%20fintypes/near/195714045" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finsets.20and.20fintypes.html#195714045">(Apr 29 2020 at 14:05)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">example</span>
<span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">α</span><span class="o">}</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">}</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">hX</span> <span class="o">:</span> <span class="n">finset</span><span class="bp">.</span><span class="n">card</span> <span class="n">X</span> <span class="bp">=</span> <span class="n">n</span><span class="o">)</span>
<span class="o">:</span>  <span class="n">fintype</span><span class="bp">.</span><span class="n">card</span> <span class="n">α</span> <span class="bp">≥</span> <span class="n">n</span> <span class="o">:=</span> <span class="k">begin</span>
<span class="n">rw</span> <span class="err">←</span> <span class="n">hX</span><span class="o">,</span>
<span class="n">apply</span> <span class="n">finset</span><span class="bp">.</span><span class="n">card_le_of_subset</span><span class="o">,</span>
<span class="n">refine</span> <span class="n">finset</span><span class="bp">.</span><span class="n">subset_univ</span> <span class="n">X</span><span class="o">,</span>
<span class="kn">end</span>
</code></pre></div>



<a name="195714292"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Finsets%20and%20fintypes/near/195714292" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finsets.20and.20fintypes.html#195714292">(Apr 29 2020 at 14:06)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">example</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">α</span><span class="o">}</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">}</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">hX</span> <span class="o">:</span> <span class="n">finset</span><span class="bp">.</span><span class="n">card</span> <span class="n">X</span> <span class="bp">=</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span>  <span class="n">fintype</span><span class="bp">.</span><span class="n">card</span> <span class="n">α</span> <span class="bp">≥</span> <span class="n">n</span> <span class="o">:=</span>
<span class="n">hX</span> <span class="bp">▸</span> <span class="n">finset</span><span class="bp">.</span><span class="n">card_le_of_subset</span> <span class="err">$</span> <span class="n">finset</span><span class="bp">.</span><span class="n">subset_univ</span> <span class="n">X</span>
</code></pre></div>



<a name="195714603"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Finsets%20and%20fintypes/near/195714603" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finsets.20and.20fintypes.html#195714603">(Apr 29 2020 at 14:08)</a>:</h4>
<p>just to check my understanding, your proof is more-or-less a mechanical translation of my tactic script into a single term? (do you think it runs noticeably faster?)</p>



<a name="195714674"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Finsets%20and%20fintypes/near/195714674" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finsets.20and.20fintypes.html#195714674">(Apr 29 2020 at 14:08)</a>:</h4>
<p>yes; no</p>



<a name="195719730"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Finsets%20and%20fintypes/near/195719730" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finsets.20and.20fintypes.html#195719730">(Apr 29 2020 at 14:42)</a>:</h4>
<p>I think that there is some overhead for entering tactic mode and some more overhead by using the rewrite command; I've noticed slowdown in scripts which use a lot of rewrites. I would be interested to know how much faster term mode is; in some sense the best argument for writing stuff in term mode is that it's faster (because it's also less readable, harder to debug, harder to write...)</p>



<a name="195725403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Finsets%20and%20fintypes/near/195725403" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finsets.20and.20fintypes.html#195725403">(Apr 29 2020 at 15:16)</a>:</h4>
<p>I created files which were just 10,000 copies of the term proof and the tactic proof:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">fintype</span><span class="bp">.</span><span class="n">basic</span>

<span class="kn">example</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">α</span><span class="o">}</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">}</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">hX</span> <span class="o">:</span> <span class="n">finset</span><span class="bp">.</span><span class="n">card</span> <span class="n">X</span> <span class="bp">=</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span>  <span class="n">fintype</span><span class="bp">.</span><span class="n">card</span> <span class="n">α</span> <span class="bp">≥</span> <span class="n">n</span> <span class="o">:=</span>
<span class="n">hX</span> <span class="bp">▸</span> <span class="n">finset</span><span class="bp">.</span><span class="n">card_le_of_subset</span> <span class="err">$</span> <span class="n">finset</span><span class="bp">.</span><span class="n">subset_univ</span> <span class="n">X</span>
<span class="kn">example</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">α</span><span class="o">}</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">}</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">hX</span> <span class="o">:</span> <span class="n">finset</span><span class="bp">.</span><span class="n">card</span> <span class="n">X</span> <span class="bp">=</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span>  <span class="n">fintype</span><span class="bp">.</span><span class="n">card</span> <span class="n">α</span> <span class="bp">≥</span> <span class="n">n</span> <span class="o">:=</span>
<span class="n">hX</span> <span class="bp">▸</span> <span class="n">finset</span><span class="bp">.</span><span class="n">card_le_of_subset</span> <span class="err">$</span> <span class="n">finset</span><span class="bp">.</span><span class="n">subset_univ</span> <span class="n">X</span>
<span class="kn">example</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">α</span><span class="o">}</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">}</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">hX</span> <span class="o">:</span> <span class="n">finset</span><span class="bp">.</span><span class="n">card</span> <span class="n">X</span> <span class="bp">=</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span>  <span class="n">fintype</span><span class="bp">.</span><span class="n">card</span> <span class="n">α</span> <span class="bp">≥</span> <span class="n">n</span> <span class="o">:=</span>
<span class="n">hX</span> <span class="bp">▸</span> <span class="n">finset</span><span class="bp">.</span><span class="n">card_le_of_subset</span> <span class="err">$</span> <span class="n">finset</span><span class="bp">.</span><span class="n">subset_univ</span> <span class="n">X</span>
<span class="bp">...</span>
</code></pre></div>


<p>and</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">fintype</span><span class="bp">.</span><span class="n">basic</span>

<span class="kn">example</span>
<span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">α</span><span class="o">}</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">}</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">hX</span> <span class="o">:</span> <span class="n">finset</span><span class="bp">.</span><span class="n">card</span> <span class="n">X</span> <span class="bp">=</span> <span class="n">n</span><span class="o">)</span>
<span class="o">:</span>  <span class="n">fintype</span><span class="bp">.</span><span class="n">card</span> <span class="n">α</span> <span class="bp">≥</span> <span class="n">n</span> <span class="o">:=</span> <span class="k">begin</span>
<span class="n">rw</span> <span class="err">←</span> <span class="n">hX</span><span class="o">,</span>
<span class="n">apply</span> <span class="n">finset</span><span class="bp">.</span><span class="n">card_le_of_subset</span><span class="o">,</span>
<span class="n">refine</span> <span class="n">finset</span><span class="bp">.</span><span class="n">subset_univ</span> <span class="n">X</span><span class="o">,</span>
<span class="kn">end</span>
<span class="kn">example</span>
<span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">α</span><span class="o">}</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">}</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">hX</span> <span class="o">:</span> <span class="n">finset</span><span class="bp">.</span><span class="n">card</span> <span class="n">X</span> <span class="bp">=</span> <span class="n">n</span><span class="o">)</span>
<span class="o">:</span>  <span class="n">fintype</span><span class="bp">.</span><span class="n">card</span> <span class="n">α</span> <span class="bp">≥</span> <span class="n">n</span> <span class="o">:=</span> <span class="k">begin</span>
<span class="n">rw</span> <span class="err">←</span> <span class="n">hX</span><span class="o">,</span>
<span class="n">apply</span> <span class="n">finset</span><span class="bp">.</span><span class="n">card_le_of_subset</span><span class="o">,</span>
<span class="n">refine</span> <span class="n">finset</span><span class="bp">.</span><span class="n">subset_univ</span> <span class="n">X</span><span class="o">,</span>
<span class="kn">end</span>
<span class="bp">...</span>
</code></pre></div>


<p>and here are the timings:</p>
<div class="codehilite"><pre><span></span><code><span class="n">buzzard</span><span class="bp">@</span><span class="n">bob</span><span class="o">:</span><span class="bp">~/</span><span class="n">lean</span><span class="bp">-</span><span class="n">projects</span><span class="bp">/</span><span class="n">xena</span><span class="bp">/</span><span class="n">src</span><span class="bp">/</span><span class="n">term_v_tactic</span><span class="err">$</span> <span class="n">date</span><span class="bp">;</span> <span class="n">lean</span> <span class="c1">--make tactic10000.lean; date</span>
<span class="n">Wed</span> <span class="mi">29</span> <span class="n">Apr</span> <span class="mi">16</span><span class="o">:</span><span class="mi">13</span><span class="o">:</span><span class="mi">54</span> <span class="n">BST</span> <span class="mi">2020</span>
<span class="n">Wed</span> <span class="mi">29</span> <span class="n">Apr</span> <span class="mi">16</span><span class="o">:</span><span class="mi">14</span><span class="o">:</span><span class="mi">58</span> <span class="n">BST</span> <span class="mi">2020</span>
<span class="n">buzzard</span><span class="bp">@</span><span class="n">bob</span><span class="o">:</span><span class="bp">~/</span><span class="n">lean</span><span class="bp">-</span><span class="n">projects</span><span class="bp">/</span><span class="n">xena</span><span class="bp">/</span><span class="n">src</span><span class="bp">/</span><span class="n">term_v_tactic</span><span class="err">$</span> <span class="n">date</span><span class="bp">;</span> <span class="n">lean</span> <span class="c1">--make term10000.lean; date</span>
<span class="n">Wed</span> <span class="mi">29</span> <span class="n">Apr</span> <span class="mi">16</span><span class="o">:</span><span class="mi">15</span><span class="o">:</span><span class="mi">05</span> <span class="n">BST</span> <span class="mi">2020</span>
<span class="n">Wed</span> <span class="mi">29</span> <span class="n">Apr</span> <span class="mi">16</span><span class="o">:</span><span class="mi">15</span><span class="o">:</span><span class="mi">11</span> <span class="n">BST</span> <span class="mi">2020</span>
<span class="n">buzzard</span><span class="bp">@</span><span class="n">bob</span><span class="o">:</span><span class="bp">~/</span><span class="n">lean</span><span class="bp">-</span><span class="n">projects</span><span class="bp">/</span><span class="n">xena</span><span class="bp">/</span><span class="n">src</span><span class="bp">/</span><span class="n">term_v_tactic</span><span class="err">$</span>
</code></pre></div>


<p>The tactic proof took over a minute and the term proof took 6 seconds.</p>



<a name="195725634"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Finsets%20and%20fintypes/near/195725634" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finsets.20and.20fintypes.html#195725634">(Apr 29 2020 at 15:18)</a>:</h4>
<p>The profiler also seems to indicate that the term mode proof is much faster; the tactic proof takes well over a millisecond and the tactic proof well under.</p>



<a name="195726540"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Finsets%20and%20fintypes/near/195726540" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finsets.20and.20fintypes.html#195726540">(Apr 29 2020 at 15:24)</a>:</h4>
<p>surely it's worth a thousand milliseconds to not use that awful triangle, though</p>



<a name="195726794"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Finsets%20and%20fintypes/near/195726794" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finsets.20and.20fintypes.html#195726794">(Apr 29 2020 at 15:26)</a>:</h4>
<p>I suspect it's the triangle which is saving the time; rewrite is hard work, it's a lot more than eq.subst, that's why the triangle is so awful. We should just celebrate the miracle that it actually works in this situation</p>



<a name="195726925"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Finsets%20and%20fintypes/near/195726925" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finsets.20and.20fintypes.html#195726925">(Apr 29 2020 at 15:27)</a>:</h4>
<p>I agree except actually I have no idea whether these claims about timing are true. eq.subst has to work out the motive too.</p>



<a name="195727075"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Finsets%20and%20fintypes/near/195727075" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finsets.20and.20fintypes.html#195727075">(Apr 29 2020 at 15:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110032">Reid Barton</span> <a href="#narrow/stream/113489-new-members/topic/Finsets.20and.20fintypes/near/195726540" title="#narrow/stream/113489-new-members/topic/Finsets.20and.20fintypes/near/195726540">said</a>:</p>
<blockquote>
<p>surely it's worth a thousand milliseconds to not use that awful triangle, though</p>
</blockquote>
<p><a href="https://imgur.com/t/before_id_let_this_company_die/2wF5Jvx" title="https://imgur.com/t/before_id_let_this_company_die/2wF5Jvx">compile-time optimization at any cost (just a humorous image)</a></p>



<a name="195727990"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Finsets%20and%20fintypes/near/195727990" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finsets.20and.20fintypes.html#195727990">(Apr 29 2020 at 15:34)</a>:</h4>
<p>this reminds me that we need the leftwards-pointing triangle notation for <code>eq.substr</code></p>



<a name="195728329"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Finsets%20and%20fintypes/near/195728329" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finsets.20and.20fintypes.html#195728329">(Apr 29 2020 at 15:36)</a>:</h4>
<p>but looking forward to Lean 4, I think there's a lot of scope for making term mode a nicer environment to do proofs in... people in Agda generally are happy with programming and proving with holes. In a way I think this would be a good way to produce "fast" proofs that are reasonably easy to write</p>



<a name="195729023"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Finsets%20and%20fintypes/near/195729023" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finsets.20and.20fintypes.html#195729023">(Apr 29 2020 at 15:41)</a>:</h4>
<p>Hopefully tactics will get faster in Lean 4 as well</p>



<a name="195729628"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Finsets%20and%20fintypes/near/195729628" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finsets.20and.20fintypes.html#195729628">(Apr 29 2020 at 15:44)</a>:</h4>
<p>Me too, but there's no getting around the fact that tactics are generally very powerful pieces of compile-time automation, and that represents work the computer has to do</p>



<a name="195729719"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Finsets%20and%20fintypes/near/195729719" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finsets.20and.20fintypes.html#195729719">(Apr 29 2020 at 15:45)</a>:</h4>
<p>Say what you want about Metamath, but I am impressed they manage to type-check everything in just a few seconds</p>



<a name="195729784"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Finsets%20and%20fintypes/near/195729784" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finsets.20and.20fintypes.html#195729784">(Apr 29 2020 at 15:45)</a>:</h4>
<p>everything being their entire body of formalized math</p>



<a name="195731002"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Finsets%20and%20fintypes/near/195731002" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finsets.20and.20fintypes.html#195731002">(Apr 29 2020 at 15:52)</a>:</h4>
<p>Metamath is also Pollack-consistent, I learnt today</p>



<a name="195731081"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Finsets%20and%20fintypes/near/195731081" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finsets.20and.20fintypes.html#195731081">(Apr 29 2020 at 15:53)</a>:</h4>
<p>Isn't "people with Agda generally are happy with programming and proving with holes" partially explained by "agda users are more computer sciencey than mathy?"</p>



<a name="195731112"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Finsets%20and%20fintypes/near/195731112" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finsets.20and.20fintypes.html#195731112">(Apr 29 2020 at 15:53)</a>:</h4>
<p>I guess I'm still not sure where the time is actually going. Is it expensive to write <code>begin ... end</code>? (Kevin, maybe try wrapping the term mode proofs in <code>by exact</code>?) Is <code>rw</code> intrinsically doing a lot more work than the stupid triangle, such that if the stupid triangle became a smart triangle, it would also be expensive? Or is it because parts of <code>rw</code> are written in Lean? Is the tactic state access of <code>apply</code> and <code>refine</code> slow? Surely these latter tactics do not do significantly more than just building the corresponding terms in term mode?</p>



<a name="195731486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Finsets%20and%20fintypes/near/195731486" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finsets.20and.20fintypes.html#195731486">(Apr 29 2020 at 15:56)</a>:</h4>
<p>ooh</p>



<a name="195731553"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Finsets%20and%20fintypes/near/195731553" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finsets.20and.20fintypes.html#195731553">(Apr 29 2020 at 15:56)</a>:</h4>
<p>I just remembered that $ doesn't work in tactic mode.</p>



<a name="195731565"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Finsets%20and%20fintypes/near/195731565" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finsets.20and.20fintypes.html#195731565">(Apr 29 2020 at 15:56)</a>:</h4>
<p>Boy that's a lot of errors</p>



<a name="195731685"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Finsets%20and%20fintypes/near/195731685" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finsets.20and.20fintypes.html#195731685">(Apr 29 2020 at 15:57)</a>:</h4>
<p>Somehow after <code>exact</code> you can't use <code>$</code>. I never understood why not. You seem to be able to use everything else.</p>



<a name="195731951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Finsets%20and%20fintypes/near/195731951" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finsets.20and.20fintypes.html#195731951">(Apr 29 2020 at 15:58)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="err">$</span> <span class="n">date</span><span class="bp">;</span> <span class="n">lean</span> <span class="c1">--make byexactterm10000.lean; date</span>
<span class="n">Wed</span> <span class="mi">29</span> <span class="n">Apr</span> <span class="mi">16</span><span class="o">:</span><span class="mi">58</span><span class="o">:</span><span class="mi">00</span> <span class="n">BST</span> <span class="mi">2020</span>
<span class="n">Wed</span> <span class="mi">29</span> <span class="n">Apr</span> <span class="mi">16</span><span class="o">:</span><span class="mi">58</span><span class="o">:</span><span class="mi">20</span> <span class="n">BST</span> <span class="mi">2020</span>
</code></pre></div>



<a name="195732501"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Finsets%20and%20fintypes/near/195732501" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finsets.20and.20fintypes.html#195732501">(Apr 29 2020 at 16:02)</a>:</h4>
<p>So <code>by exact</code> already incurs 1/3 the cost</p>



<a name="195732537"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Finsets%20and%20fintypes/near/195732537" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finsets.20and.20fintypes.html#195732537">(Apr 29 2020 at 16:02)</a>:</h4>
<p>and you have three tactics <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="196096973"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Finsets%20and%20fintypes/near/196096973" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finsets.20and.20fintypes.html#196096973">(May 03 2020 at 10:52)</a>:</h4>
<p><span class="user-mention silent" data-user-id="264734">Donald Sebastian Leung</span> <a href="#narrow/stream/113489-new-members/topic/Finsets.20and.20fintypes/near/195659127" title="#narrow/stream/113489-new-members/topic/Finsets.20and.20fintypes/near/195659127">said</a>:</p>
<blockquote>
<p>Is there a mathlib lemma that says if I can construct a <code>finset α</code> with cardinality <code>n</code> then <code>fintype.card α ≥ n</code>?</p>
</blockquote>
<p>Also I just found out why you asked this <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



<a name="196096984"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Finsets%20and%20fintypes/near/196096984" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finsets.20and.20fintypes.html#196096984">(May 03 2020 at 10:52)</a>:</h4>
<p>I think a more naturally-phrased form of this lemma would be good for mathlib</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>