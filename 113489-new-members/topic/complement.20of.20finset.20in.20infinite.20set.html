---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/complement.20of.20finset.20in.20infinite.20set.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/complement.20of.20finset.20in.20infinite.20set.html">complement of finset in infinite set</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="207358094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/complement%20of%20finset%20in%20infinite%20set/near/207358094" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/complement.20of.20finset.20in.20infinite.20set.html#207358094">(Aug 19 2020 at 00:19)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">set</span><span class="bp">.</span><span class="n">basic</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">set</span><span class="bp">.</span><span class="n">finite</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">nat</span><span class="bp">.</span><span class="n">basic</span>

<span class="kn">example</span> <span class="o">(</span><span class="n">s</span><span class="o">:</span> <span class="n">set</span> <span class="bp">ℕ</span> <span class="o">)</span> <span class="o">(</span><span class="n">h</span><span class="o">:</span> <span class="n">set</span><span class="bp">.</span><span class="n">finite</span> <span class="n">s</span><span class="o">)</span> <span class="o">:</span> <span class="n">set</span><span class="bp">.</span><span class="n">infinite</span> <span class="n">s</span><span class="err">ᶜ</span> <span class="o">:=</span> <span class="bp">_</span>
</code></pre></div>


<p>Is this in mathlib?</p>



<a name="207358273"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/complement%20of%20finset%20in%20infinite%20set/near/207358273" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Iocta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/complement.20of.20finset.20in.20infinite.20set.html#207358273">(Aug 19 2020 at 00:22)</a>:</h4>
<p>I started working on it but it seemed to need a bunch of lemmas I couldn't find</p>



<a name="207358956"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/complement%20of%20finset%20in%20infinite%20set/near/207358956" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/complement.20of.20finset.20in.20infinite.20set.html#207358956">(Aug 19 2020 at 00:33)</a>:</h4>
<p>I wonder if there is a straightforward proof with cardinality?</p>



<a name="207359003"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/complement%20of%20finset%20in%20infinite%20set/near/207359003" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/complement.20of.20finset.20in.20infinite.20set.html#207359003">(Aug 19 2020 at 00:34)</a>:</h4>
<p><code>mk_compl_of_omega_le</code> seems useful?</p>



<a name="207359125"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/complement%20of%20finset%20in%20infinite%20set/near/207359125" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/complement.20of.20finset.20in.20infinite.20set.html#207359125">(Aug 19 2020 at 00:35)</a>:</h4>
<p>Presumably there is also a lemma stating that a set of cardinality omega is infinite?</p>



<a name="207359605"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/complement%20of%20finset%20in%20infinite%20set/near/207359605" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/complement.20of.20finset.20in.20infinite.20set.html#207359605">(Aug 19 2020 at 00:44)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">open</span> <span class="n">cardinal</span>
<span class="kn">example</span> <span class="o">(</span><span class="n">s</span><span class="o">:</span> <span class="n">set</span> <span class="bp">ℕ</span> <span class="o">)</span> <span class="o">(</span><span class="n">h</span><span class="o">:</span> <span class="n">set</span><span class="bp">.</span><span class="n">finite</span> <span class="n">s</span><span class="o">)</span> <span class="o">:</span> <span class="n">set</span><span class="bp">.</span><span class="n">infinite</span> <span class="n">s</span><span class="err">ᶜ</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">rw</span> <span class="o">[</span><span class="err">←</span> <span class="n">set</span><span class="bp">.</span><span class="n">infinite_coe_iff</span><span class="o">,</span> <span class="n">infinite_iff</span><span class="o">,</span> <span class="n">mk_compl_of_omega_le</span> <span class="n">s</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">],</span>
  <span class="n">all_goals</span> <span class="o">{</span><span class="n">rw</span> <span class="n">mk_nat</span><span class="o">,},</span>
  <span class="n">exact</span> <span class="n">lt_omega_iff_finite</span><span class="bp">.</span><span class="n">mpr</span> <span class="n">h</span><span class="o">,</span>
<span class="kn">end</span>
</code></pre></div>



<a name="207359641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/complement%20of%20finset%20in%20infinite%20set/near/207359641" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/complement.20of.20finset.20in.20infinite.20set.html#207359641">(Aug 19 2020 at 00:45)</a>:</h4>
<p>Probably this can be made into a 2-liner xD</p>



<a name="207359959"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/complement%20of%20finset%20in%20infinite%20set/near/207359959" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/complement.20of.20finset.20in.20infinite.20set.html#207359959">(Aug 19 2020 at 00:50)</a>:</h4>
<p>I don't know how to navigate the <code>finset</code>/<code>fintype</code> API well enough to finish this quickly, but another approach is to first transform it by something like</p>
<div class="codehilite"><pre><span></span><code><span class="kn">example</span> <span class="o">(</span><span class="n">s</span><span class="o">:</span> <span class="n">set</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span><span class="o">:</span> <span class="n">set</span><span class="bp">.</span><span class="n">finite</span> <span class="n">s</span><span class="o">)</span> <span class="o">:</span> <span class="n">set</span><span class="bp">.</span><span class="n">infinite</span> <span class="n">s</span><span class="err">ᶜ</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">intro</span> <span class="n">h&#39;</span><span class="o">,</span>
  <span class="n">tactic</span><span class="bp">.</span><span class="n">unfreeze_local_instances</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">h</span><span class="o">,</span> <span class="n">cases</span> <span class="n">h&#39;</span><span class="o">,</span>
  <span class="n">dsimp</span> <span class="o">[</span><span class="n">compl</span><span class="o">,</span> <span class="n">boolean_algebra</span><span class="bp">.</span><span class="n">compl</span><span class="o">,</span> <span class="n">set</span><span class="bp">.</span><span class="n">compl</span><span class="o">]</span> <span class="n">at</span> <span class="n">h&#39;</span><span class="o">,</span>
  <span class="n">sorry</span>
<span class="kn">end</span>
</code></pre></div>


<p>so then the context is</p>
<div class="codehilite"><pre><span></span><code><span class="n">s</span> <span class="o">:</span> <span class="n">set</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">fintype</span> <span class="err">↥</span><span class="n">s</span><span class="o">,</span>
<span class="n">h&#39;</span> <span class="o">:</span> <span class="n">fintype</span> <span class="err">↥</span><span class="o">{</span><span class="n">a</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">|</span> <span class="n">a</span> <span class="err">∉</span> <span class="n">s</span><span class="o">}</span>
<span class="err">⊢</span> <span class="n">false</span>
</code></pre></div>


<p>If you let <code>m</code> and <code>m'</code> be the maximal elements in the two sets, then <code>1 + max m m'</code> is in neither set, contradicting the fact that the sets are complements.</p>



<a name="207359991"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/complement%20of%20finset%20in%20infinite%20set/near/207359991" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/complement.20of.20finset.20in.20infinite.20set.html#207359991">(Aug 19 2020 at 00:51)</a>:</h4>
<p>(I know the question is "is this in mathlib," which this certainly doesn't help you in answering.)</p>



<a name="207360386"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/complement%20of%20finset%20in%20infinite%20set/near/207360386" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/complement.20of.20finset.20in.20infinite.20set.html#207360386">(Aug 19 2020 at 01:00)</a>:</h4>
<p>I would suggest:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">example</span> <span class="o">(</span><span class="n">s</span><span class="o">:</span> <span class="n">set</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span><span class="o">:</span> <span class="n">set</span><span class="bp">.</span><span class="n">finite</span> <span class="n">s</span><span class="o">)</span> <span class="o">:</span> <span class="n">set</span><span class="bp">.</span><span class="n">infinite</span> <span class="n">s</span><span class="err">ᶜ</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">intro</span> <span class="n">h&#39;</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">set</span><span class="bp">.</span><span class="n">infinite_univ_iff</span><span class="bp">.</span><span class="mi">2</span> <span class="n">nat</span><span class="bp">.</span><span class="n">infinite</span><span class="o">,</span>
  <span class="n">simpa</span> <span class="kn">using</span> <span class="n">h</span><span class="bp">.</span><span class="n">union</span> <span class="n">h&#39;</span><span class="o">,</span>
<span class="kn">end</span>
</code></pre></div>



<a name="207374816"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/complement%20of%20finset%20in%20infinite%20set/near/207374816" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/complement.20of.20finset.20in.20infinite.20set.html#207374816">(Aug 19 2020 at 06:40)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">example</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">set</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">hs</span> <span class="o">:</span> <span class="n">set</span><span class="bp">.</span><span class="n">finite</span> <span class="n">s</span><span class="o">)</span> <span class="o">:</span> <span class="n">set</span><span class="bp">.</span><span class="n">infinite</span> <span class="n">s</span><span class="err">ᶜ</span> <span class="o">:=</span>
<span class="bp">λ</span> <span class="n">hsc</span><span class="o">,</span> <span class="bp">@</span><span class="n">set</span><span class="bp">.</span><span class="n">infinite_univ</span> <span class="bp">ℕ</span> <span class="bp">_</span> <span class="err">$</span> <span class="n">set</span><span class="bp">.</span><span class="n">union_compl_self</span> <span class="n">s</span> <span class="bp">▸</span> <span class="n">hs</span><span class="bp">.</span><span class="n">union</span> <span class="n">hsc</span>
</code></pre></div>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>