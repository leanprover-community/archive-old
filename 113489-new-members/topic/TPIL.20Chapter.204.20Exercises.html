---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html">TPIL Chapter 4 Exercises</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="190099442"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/190099442" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rocky Kamen-Rubio <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#190099442">(Mar 09 2020 at 18:08)</a>:</h4>
<p>Question 4.2: I'm getting a type mismatch errors on all the example in ch4 exercise 2, first on the iff.intro, then on the or.elim, then on the iff.intro. Any insights would be appreciated!</p>
<div class="codehilite"><pre><span></span><span class="kn">variables</span> <span class="o">(</span><span class="n">r</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">(</span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span>

<span class="kn">example</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="o">((</span><span class="bp">∀</span> <span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">,</span> <span class="n">r</span><span class="o">)</span> <span class="bp">↔</span> <span class="n">r</span><span class="o">)</span> <span class="o">:=</span>
  <span class="k">assume</span> <span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">,</span>
  <span class="n">iff</span><span class="bp">.</span><span class="n">intro</span>
    <span class="o">(</span><span class="k">assume</span> <span class="n">h</span> <span class="o">:</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">,</span> <span class="n">r</span><span class="o">),</span> <span class="k">show</span> <span class="n">r</span><span class="o">,</span> <span class="k">from</span> <span class="n">h</span> <span class="n">a</span><span class="o">)</span>
    <span class="o">(</span><span class="k">assume</span> <span class="n">hr</span> <span class="o">:</span> <span class="n">r</span><span class="o">,</span>  <span class="n">hr</span><span class="o">)</span>

<span class="kn">example</span> <span class="o">:</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">x</span><span class="o">,</span> <span class="n">p</span> <span class="n">x</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">)</span> <span class="bp">↔</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">x</span><span class="o">,</span> <span class="n">p</span> <span class="n">x</span><span class="o">)</span> <span class="bp">∨</span> <span class="n">r</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">,</span>
<span class="n">iff</span><span class="bp">.</span><span class="n">intro</span>
  <span class="o">(</span><span class="k">assume</span> <span class="n">h1</span> <span class="o">:</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">x</span><span class="o">,</span> <span class="n">p</span> <span class="n">x</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">),</span>
    <span class="n">or</span><span class="bp">.</span><span class="n">elim</span> <span class="o">(</span><span class="n">h1</span> <span class="n">a</span><span class="o">)</span>
      <span class="o">(</span><span class="k">assume</span> <span class="n">hpx</span> <span class="o">:</span> <span class="n">p</span> <span class="n">a</span><span class="o">,</span> <span class="n">or</span><span class="bp">.</span><span class="n">intro_left</span> <span class="n">r</span> <span class="n">hpx</span><span class="o">)</span>
      <span class="o">(</span><span class="k">assume</span> <span class="n">hr</span> <span class="o">:</span> <span class="n">r</span><span class="o">,</span> <span class="n">or</span><span class="bp">.</span><span class="n">intro_right</span> <span class="bp">_</span> <span class="n">hr</span><span class="o">))</span>
  <span class="o">(</span><span class="k">assume</span> <span class="n">h2</span> <span class="o">:</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">x</span><span class="o">,</span> <span class="n">p</span> <span class="n">x</span><span class="o">)</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">,</span>
    <span class="n">or</span><span class="bp">.</span><span class="n">elim</span> <span class="n">h2</span>
      <span class="o">(</span><span class="k">assume</span> <span class="n">hVxpx</span> <span class="o">:</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">x</span><span class="o">,</span> <span class="n">p</span> <span class="n">x</span><span class="o">),</span> <span class="n">or</span><span class="bp">.</span><span class="n">intro_left</span> <span class="bp">_</span> <span class="o">(</span><span class="n">hVxpx</span> <span class="n">a</span><span class="o">))</span>
      <span class="o">(</span><span class="k">assume</span> <span class="n">hr</span> <span class="o">:</span> <span class="n">r</span><span class="o">,</span> <span class="n">or</span><span class="bp">.</span><span class="n">intro_right</span> <span class="bp">_</span> <span class="n">hr</span><span class="o">))</span>

<span class="kn">example</span> <span class="o">:</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">x</span><span class="o">,</span> <span class="n">r</span> <span class="bp">→</span> <span class="n">p</span> <span class="n">x</span><span class="o">)</span> <span class="bp">↔</span> <span class="o">(</span><span class="n">r</span> <span class="bp">→</span> <span class="bp">∀</span> <span class="n">x</span><span class="o">,</span> <span class="n">p</span> <span class="n">x</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">,</span>
<span class="n">iff</span><span class="bp">.</span><span class="n">intro</span>
  <span class="o">(</span><span class="k">assume</span> <span class="n">h1</span> <span class="o">:</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">x</span><span class="o">,</span> <span class="n">r</span> <span class="bp">→</span> <span class="n">p</span> <span class="n">x</span><span class="o">),</span>
   <span class="k">assume</span> <span class="n">hr</span> <span class="o">:</span> <span class="n">r</span><span class="o">,</span> <span class="k">show</span> <span class="n">p</span> <span class="n">a</span><span class="o">,</span> <span class="k">from</span>
   <span class="o">((</span><span class="n">h1</span> <span class="n">a</span><span class="o">)</span> <span class="n">hr</span><span class="o">))</span>
  <span class="o">(</span><span class="k">assume</span> <span class="n">h2</span> <span class="o">:</span> <span class="o">(</span><span class="n">r</span> <span class="bp">→</span> <span class="bp">∀</span> <span class="n">x</span><span class="o">,</span> <span class="n">p</span> <span class="n">x</span><span class="o">),</span>
  <span class="k">assume</span> <span class="n">hr</span> <span class="o">:</span> <span class="n">r</span><span class="o">,</span> <span class="k">show</span> <span class="n">p</span> <span class="n">a</span><span class="o">,</span> <span class="k">from</span>
  <span class="o">((</span><span class="n">h2</span> <span class="n">hr</span><span class="o">)</span> <span class="n">a</span><span class="o">))</span>
</pre></div>



<a name="190099795"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/190099795" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#190099795">(Mar 09 2020 at 18:11)</a>:</h4>
<p>Is this your real code? <code>p</code> is not declared anywhere</p>



<a name="190099815"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/190099815" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#190099815">(Mar 09 2020 at 18:12)</a>:</h4>
<p>also, <code>(assume hr : hr)</code> is clearly wrong</p>



<a name="190099883"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/190099883" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#190099883">(Mar 09 2020 at 18:12)</a>:</h4>
<p>For the first one, you need to write <code>assume hr a, hr</code> instead of <code>assume hr: hr</code></p>



<a name="190100008"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/190100008" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rocky Kamen-Rubio <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#190100008">(Mar 09 2020 at 18:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110032">Reid Barton</span> <a href="#narrow/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises/near/190099795" title="#narrow/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises/near/190099795">said</a>:</p>
<blockquote>
<p>Is this your real code? <code>p</code> is not declared anywhere</p>
</blockquote>
<p>Sorry! P was defined at the top of my file and I forgot to include it when I copied it over.</p>



<a name="190100050"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/190100050" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#190100050">(Mar 09 2020 at 18:14)</a>:</h4>
<p>The pattern for <code>assume</code> is <code>assume x : α, b</code> where <code>x</code> is an identifier, <code>α</code> is a type or proposition and <code>b</code> is a term or proof. But you can skip the type and you can chain multiple identifiers.</p>



<a name="190100302"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/190100302" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rocky Kamen-Rubio <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#190100302">(Mar 09 2020 at 18:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="121918">Edward Ayers</span> <a href="#narrow/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises/near/190099883" title="#narrow/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises/near/190099883">said</a>:</p>
<blockquote>
<p>For the first one, you need to write <code>assume hr a, hr</code> instead of <code>assume hr: hr</code></p>
</blockquote>
<p>Just made that correction, thank you! It's still giving me a type mismatch error on iff.intro though.</p>



<a name="190100318"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/190100318" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#190100318">(Mar 09 2020 at 18:16)</a>:</h4>
<p>On the next example, take a look at the error:</p>
<div class="codehilite"><pre><span></span>type mismatch at application
  or.elim h2 (λ (hVxpx : ∀ (x : α), p x), or.intro_left ?m_1[hVxpx] (hVxpx a))
term
  λ (hVxpx : ∀ (x : α), p x), or.intro_left ?m_1[hVxpx] (hVxpx a)
has type
  ∀ (hVxpx : ∀ (x : α), p x), p a ∨ ?m_1[hVxpx]
but is expected to have type
  (∀ (x : α), p x) → ∀ (x : α), p x ∨ r
</pre></div>



<a name="190100821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/190100821" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#190100821">(Mar 09 2020 at 18:20)</a>:</h4>
<p>Try commenting out the code that is complaining and replacing it with an underscore <code>_</code> and then seeing what type Lean wants you to replace the underscore with</p>



<a name="190100862"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/190100862" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#190100862">(Mar 09 2020 at 18:21)</a>:</h4>
<p>In the case of the second exercise, you might want to comment out the entire proof and replace with an underscore and then slowly add lines back in.</p>



<a name="190100877"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/190100877" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#190100877">(Mar 09 2020 at 18:21)</a>:</h4>
<p>Because eg there is a rogue <code>assume a : α,</code> at the top</p>



<a name="190108141"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/190108141" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rocky Kamen-Rubio <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#190108141">(Mar 09 2020 at 19:29)</a>:</h4>
<p>Ok I was able to get 1 and 3 working. I realize now that I misunderstood the way that "assume" statements interact with universal quantifiers. I still can't figure out how to get the 'left to right' direction of 2. If I assume a specific element in the assumption to be able to or.elim, then I've lost the generality to exact on all elements in alpha on the right hand side. I feel like I'm missing something.</p>



<a name="190113789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/190113789" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#190113789">(Mar 09 2020 at 20:23)</a>:</h4>
<p>I think that <code>(∀ x, p x ∨ r) -&gt; (∀ x, p x) ∨ r</code> needs to be done by contradiction.</p>



<a name="190114515"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/190114515" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#190114515">(Mar 09 2020 at 20:30)</a>:</h4>
<p>There is nothing much you can try with intuitionistic logic here. The assumption cannot be broken and the only allowed moves are <code>left</code> and <code>right</code>.</p>



<a name="190115353"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/190115353" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#190115353">(Mar 09 2020 at 20:39)</a>:</h4>
<p>I'm skimming through this chapter to see what seems allowed, and I'm always puzzled by this "French quotation mark" terminology. In English, do you say ' is a quotation mark? Do you ever use it alone?</p>



<a name="190115451"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/190115451" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#190115451">(Mar 09 2020 at 20:40)</a>:</h4>
<p>the problem mentions that one of the directions requires classical reasoning</p>



<a name="190115455"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/190115455" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#190115455">(Mar 09 2020 at 20:40)</a>:</h4>
<p>Anyway, I guess this exercise is rather difficult in term mode, since it seems you are not allowed to use the lemmas describing the negation of quantifiers.</p>



<a name="190115493"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/190115493" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#190115493">(Mar 09 2020 at 20:41)</a>:</h4>
<p>Classical reasoning yes, but why half quotation marks?</p>



<a name="190115884"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/190115884" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#190115884">(Mar 09 2020 at 20:46)</a>:</h4>
<p>I think I'd be happy calling a quotation mark a quotation mark. Does TPIL refer to one French quotation mark? I'm a bit confused about whether you're talking about ' vs " or " vs ""</p>



<a name="190115921"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/190115921" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#190115921">(Mar 09 2020 at 20:46)</a>:</h4>
<p>apostrophe or single quote</p>



<a name="190115967"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/190115967" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#190115967">(Mar 09 2020 at 20:46)</a>:</h4>
<p>They are sometimes used to quote inside quotations</p>



<a name="190116004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/190116004" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#190116004">(Mar 09 2020 at 20:47)</a>:</h4>
<p>TPIL says ‹ is a French quotation mark, but this symbol appears nowhere in France.  We do use  « as an opening quotation mark.</p>



<a name="190116042"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/190116042" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#190116042">(Mar 09 2020 at 20:47)</a>:</h4>
<p>Single quotes are sometimes just normal quotes in the UK, right?</p>



<a name="190116051"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/190116051" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#190116051">(Mar 09 2020 at 20:47)</a>:</h4>
<blockquote>
<p>They are sometimes used to quote inside quotations</p>
</blockquote>
<p>I'm so disappointed, I thought python invented this wonderful trick.</p>



<a name="190116296"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/190116296" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#190116296">(Mar 09 2020 at 20:50)</a>:</h4>
<p><a href="https://en.wikipedia.org/wiki/Quotation_mark#History" target="_blank" title="https://en.wikipedia.org/wiki/Quotation_mark#History">Wiki says:</a></p>
<blockquote>
<p>The single quotation marks emerged around 1800 as a means of indicating a secondary level of quotation. One could expect that the logic of using the corresponding single mark would be applied everywhere, but it was not. In some languages using the angular quotation marks, the usage of single ones (‹…›) became obsolete, being replaced by double curved ones (“…”); the single ones still survive, for instance, in Switzerland.</p>
</blockquote>



<a name="190116310"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/190116310" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#190116310">(Mar 09 2020 at 20:50)</a>:</h4>
<p>Maybe we should call them Swiss quotes instead.</p>



<a name="190116373"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/190116373" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#190116373">(Mar 09 2020 at 20:51)</a>:</h4>
<p>This would be less confusing, especially since French quotation marks are also used in Lean.</p>



<a name="190135690"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/190135690" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#190135690">(Mar 10 2020 at 01:40)</a>:</h4>
<p>Given that angle quotation marks are paired, I don't see why there needs to be two different flavors anyway. Nesting FTW</p>



<a name="190135839"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/190135839" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#190135839">(Mar 10 2020 at 01:45)</a>:</h4>
<p>in Hong Kong written Chinese we use 「」 for the outer quote and 『』 for the inner quote</p>



<a name="190135845"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/190135845" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#190135845">(Mar 10 2020 at 01:45)</a>:</h4>
<p>(in mainland China they use '' and "")</p>



<a name="190136645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/190136645" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#190136645">(Mar 10 2020 at 02:07)</a>:</h4>
<p>「」looks like the "round towards 0" operation (ceiling if negative, floor if positive)</p>



<a name="190631151"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/190631151" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rocky Kamen-Rubio <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#190631151">(Mar 15 2020 at 05:33)</a>:</h4>
<p>I'm getting an error message when I try to use <code>exp_log_eq</code> in term mode below for Chapter 6 Exercise 6.</p>
<div class="codehilite"><pre><span></span><span class="c1">--6. Give a calculational proof of the theorem log_mul below.</span>


<span class="kn">variables</span> <span class="o">(</span><span class="n">real</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">[</span><span class="n">ordered_ring</span> <span class="n">real</span><span class="o">]</span>
<span class="kn">variables</span> <span class="o">(</span><span class="n">log</span> <span class="n">exp</span> <span class="o">:</span> <span class="n">real</span> <span class="bp">→</span> <span class="n">real</span><span class="o">)</span>
<span class="kn">variable</span>  <span class="n">log_exp_eq</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span><span class="o">,</span> <span class="n">log</span> <span class="o">(</span><span class="n">exp</span> <span class="n">x</span><span class="o">)</span> <span class="bp">=</span> <span class="n">x</span>
<span class="kn">variable</span>  <span class="n">exp_log_eq</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">{</span><span class="n">x</span><span class="o">},</span> <span class="n">x</span> <span class="bp">&gt;</span> <span class="mi">0</span> <span class="bp">→</span> <span class="n">exp</span> <span class="o">(</span><span class="n">log</span> <span class="n">x</span><span class="o">)</span> <span class="bp">=</span> <span class="n">x</span>
<span class="kn">variable</span>  <span class="n">exp_pos</span>    <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span><span class="o">,</span> <span class="n">exp</span> <span class="n">x</span> <span class="bp">&gt;</span> <span class="mi">0</span>
<span class="kn">variable</span>  <span class="n">exp_add</span>    <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="n">exp</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="n">exp</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">exp</span> <span class="n">y</span>

<span class="c1">-- this ensures the assumptions are available in tactic proofs</span>
<span class="n">include</span> <span class="n">log_exp_eq</span> <span class="n">exp_log_eq</span> <span class="n">exp_pos</span> <span class="n">exp_add</span>

<span class="kn">example</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="n">z</span> <span class="o">:</span> <span class="n">real</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">exp</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="n">y</span> <span class="bp">+</span> <span class="n">z</span><span class="o">)</span> <span class="bp">=</span> <span class="n">exp</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">exp</span> <span class="n">y</span> <span class="bp">*</span> <span class="n">exp</span> <span class="n">z</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">exp_add</span><span class="o">,</span> <span class="n">exp_add</span><span class="o">]</span>

<span class="kn">example</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">real</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">y</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">)</span>  <span class="o">:</span> <span class="n">exp</span> <span class="o">(</span><span class="n">log</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="n">y</span> <span class="o">:=</span> <span class="n">exp_log_eq</span> <span class="n">h</span>

<span class="kn">theorem</span> <span class="n">log_mul</span> <span class="o">{</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">real</span><span class="o">}</span> <span class="o">(</span><span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">(</span><span class="n">hy</span> <span class="o">:</span> <span class="n">y</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span> <span class="n">log</span> <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="n">log</span> <span class="n">x</span> <span class="bp">+</span> <span class="n">log</span> <span class="n">y</span> <span class="o">:=</span>
<span class="k">calc</span>
  <span class="n">log</span><span class="o">(</span><span class="n">x</span><span class="bp">*</span><span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="n">log</span><span class="o">(</span><span class="n">x</span><span class="bp">*</span><span class="n">y</span><span class="o">)</span> <span class="o">:</span> <span class="k">by</span> <span class="n">refl</span>
  <span class="bp">...</span> <span class="bp">=</span> <span class="n">log</span><span class="o">(</span><span class="n">exp</span><span class="o">(</span><span class="n">log</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span> <span class="o">:</span> <span class="k">by</span> <span class="o">(</span><span class="n">exp_log_eq</span> <span class="n">hx</span><span class="o">)</span> <span class="c1">--??????????</span>
  <span class="bp">...</span> <span class="bp">=</span> <span class="n">log</span><span class="o">(</span><span class="n">exp</span><span class="o">(</span><span class="n">log</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="n">exp</span><span class="o">(</span><span class="n">log</span> <span class="n">y</span><span class="o">))</span> <span class="o">:</span> <span class="k">by</span> <span class="o">(</span><span class="n">exp_log_eq</span> <span class="n">hy</span><span class="o">)</span> <span class="c1">--??????????</span>
  <span class="bp">...</span> <span class="bp">=</span> <span class="n">log</span><span class="o">(</span><span class="n">exp</span><span class="o">(</span><span class="n">log</span> <span class="n">x</span> <span class="bp">+</span> <span class="n">log</span> <span class="n">y</span><span class="o">))</span> <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="n">exp_add</span>
  <span class="bp">...</span> <span class="bp">=</span> <span class="n">log</span> <span class="n">x</span> <span class="bp">+</span> <span class="n">log</span> <span class="n">y</span> <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="n">log_exp_eq</span>
</pre></div>


<p>I got it to work in tactic mode, but I want to understand what I'm doing wrong. </p>
<div class="codehilite"><pre><span></span><span class="kn">theorem</span> <span class="n">log_mul</span> <span class="o">{</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">real</span><span class="o">}</span> <span class="o">(</span><span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">(</span><span class="n">hy</span> <span class="o">:</span> <span class="n">y</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">log</span> <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="n">log</span> <span class="n">x</span> <span class="bp">+</span> <span class="n">log</span> <span class="n">y</span> <span class="o">:=</span>
<span class="k">begin</span>
<span class="k">have</span> <span class="n">h1</span> <span class="o">:=</span> <span class="n">exp_log_eq</span> <span class="n">hx</span><span class="o">,</span> <span class="bp">-</span>
<span class="n">rw</span> <span class="err">←</span> <span class="n">h1</span><span class="o">,</span>
<span class="k">have</span> <span class="n">h2</span> <span class="o">:=</span> <span class="n">exp_log_eq</span> <span class="n">hy</span><span class="o">,</span>
<span class="n">rw</span> <span class="err">←</span> <span class="n">h2</span><span class="o">,</span>
<span class="n">rw</span> <span class="err">←</span> <span class="n">exp_add</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">h1</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">h2</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">log_exp_eq</span><span class="o">,</span>
<span class="kn">end</span>
</pre></div>



<a name="190631207"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/190631207" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#190631207">(Mar 15 2020 at 05:35)</a>:</h4>
<p><code>by rw exp_log_eq hx</code></p>



<a name="190631211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/190631211" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#190631211">(Mar 15 2020 at 05:35)</a>:</h4>
<p><code>by exp_log_eq hx</code> doesn't work because <code>exp_log_eq</code> is not a tactic</p>



<a name="190631255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/190631255" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#190631255">(Mar 15 2020 at 05:36)</a>:</h4>
<p>remember that <code>by tac</code> is shorthand for <code>begin tac, end</code></p>



<a name="252377860"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252377860" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Teixeira <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252377860">(Sep 07 2021 at 22:01)</a>:</h4>
<p>For Russel's Paradox (Exercise 4.3) I came up with the following solution </p>
<div class="spoiler-block"><div class="spoiler-header">
</div><div class="spoiler-content" aria-hidden="true">
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">open</span> <span class="n">classical</span>

<span class="kd">theorem</span> <span class="n">Russel's_Paradox</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="o">:</span> <span class="n">men</span><span class="o">,</span> <span class="n">shaves</span> <span class="n">barber</span> <span class="n">x</span> <span class="bp">↔</span> <span class="bp">¬</span> <span class="n">shaves</span> <span class="n">x</span> <span class="n">x</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">false</span> <span class="o">:=</span>
  <span class="n">or.cases_on</span> <span class="o">(</span><span class="n">em</span> <span class="o">(</span><span class="n">shaves</span> <span class="n">barber</span> <span class="n">barber</span><span class="o">))</span>
    <span class="o">(</span><span class="bp">λ</span> <span class="n">a</span><span class="o">:</span> <span class="n">shaves</span> <span class="n">barber</span> <span class="n">barber</span><span class="o">,</span> <span class="n">absurd</span> <span class="n">a</span> <span class="o">((</span><span class="n">h</span> <span class="n">barber</span><span class="o">)</span><span class="bp">.</span><span class="n">mp</span> <span class="n">a</span><span class="o">))</span>
    <span class="o">(</span><span class="bp">λ</span> <span class="n">b</span><span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">shaves</span> <span class="n">barber</span> <span class="n">barber</span><span class="o">),</span> <span class="n">absurd</span> <span class="o">((</span><span class="n">h</span> <span class="n">barber</span><span class="o">)</span><span class="bp">.</span><span class="n">mpr</span> <span class="n">b</span><span class="o">)</span> <span class="n">b</span><span class="o">)</span>
</code></pre></div>
</div></div>
<p>I was wondering if anyone knew if there was a whether there was a constructive solution to this. If so, I would love a hint, but if not, how do you know??</p>



<a name="252379772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252379772" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252379772">(Sep 07 2021 at 22:21)</a>:</h4>
<p>Can you make your spoiler into a <a href="https://leanprover-community.github.io/mwe.html">#mwe</a>?</p>



<a name="252380104"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252380104" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252380104">(Sep 07 2021 at 22:24)</a>:</h4>
<p>If I guessed correctly the question you're asking, the answer is that there is a constructive solution and the hint is that it boils down to exactly the same "how do I do this constructively" question which gets asked on this site time and time again :-) (namely <code>¬ (P ↔ ¬ P)</code>)</p>



<a name="252380325"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252380325" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252380325">(Sep 07 2021 at 22:27)</a>:</h4>
<p>It's the special case Q = false of <a href="https://twitter.com/XenaProject/status/1433904823947177988?s=20">https://twitter.com/XenaProject/status/1433904823947177988?s=20</a></p>
<div class="inline-preview-twitter"><div class="twitter-tweet"><a href="https://twitter.com/XenaProject/status/1433904823947177988?s=20"><img class="twitter-avatar" src="https://uploads.zulipusercontent.net/9686557e167ea0d81d62930b9cefbd210a469b3c/68747470733a2f2f7062732e7477696d672e636f6d2f70726f66696c655f696d616765732f313236333831303239373536303733353734342f674d69616e515f565f6e6f726d616c2e6a7067"></a><p>Is `(P → P → Q) → ((P → Q) → P) → Q` provable constructively? [I should say that I know the answer]. Classically you just check all four cases P,Q in {T,F} and you're done, but constructively this isn't allowed.</p><span>- The Xena Project (@XenaProject)</span></div></div>



<a name="252537157"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252537157" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Teixeira <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252537157">(Sep 08 2021 at 21:36)</a>:</h4>
<p>Quick question on problem 4</p>
<div class="spoiler-block"><div class="spoiler-header">
<p>Partial solution to problem 4 (Potentially)</p>
</div><div class="spoiler-content" aria-hidden="true">
<p>Should we be structuring  our definitions like this?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.nat.basic</span>

<span class="kd">def</span> <span class="n">prime</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="o">)</span> <span class="o">(</span><span class="n">hn</span><span class="o">:</span> <span class="n">p</span> <span class="bp">&gt;</span> <span class="mi">1</span><span class="o">):(</span><span class="bp">¬∃</span> <span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="o">,</span> <span class="n">p</span> <span class="bp">=</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>
<p>or like this??</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.nat.basic</span>

<span class="kd">def</span> <span class="n">prime</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="o">)</span> <span class="o">(</span><span class="n">hn</span><span class="o">:</span> <span class="n">p</span> <span class="bp">&gt;</span> <span class="mi">1</span><span class="o">)</span> <span class="o">(</span><span class="n">hq</span><span class="o">:</span> <span class="bp">¬∃</span> <span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="o">,</span> <span class="n">p</span> <span class="bp">=</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">y</span><span class="o">):</span> <span class="kt">Prop</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>
</div></div>



<a name="252539797"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252539797" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252539797">(Sep 08 2021 at 21:57)</a>:</h4>
<p><span class="user-mention" data-user-id="435815">@Lucas Teixeira</span> The first one says "When <code>p</code> is a natural number and <code>hn</code> is a proof that <code>p &gt; 1</code>, then <code>prime p hn</code> is a proof that <code>¬∃ x y : ℕ , p = x * y</code>, and that proof right now is <code>sorry</code>". The second one says "When <code>p</code> is a natural number, <code>hn</code> is a proof that <code>p &gt; 1</code>, and <code>hq</code> is a proof that <code>¬∃ x y : ℕ , p = x * y</code>, then <code>prime p hn hq</code> is a proposition, and that proposition hasn't been defined yet (it's <code>sorry</code>)."</p>
<p>Neither of these are quite what you're going for yet.</p>



<a name="252540101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252540101" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252540101">(Sep 08 2021 at 22:00)</a>:</h4>
<p>You want to replace the <code>sorry</code> in the following with a proposition that means "<code>n</code> is prime":</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">prime</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>



<a name="252540427"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252540427" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Teixeira <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252540427">(Sep 08 2021 at 22:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="306601">Kyle Miller</span> <a href="#narrow/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises/near/252540101">said</a>:</p>
<blockquote>
<p>You want to replace the <code>sorry</code> in the following with a proposition that means "<code>n</code> is prime":</p>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">prime</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div><br>
</p>
</blockquote>
<p>Gotcha. so something like this??</p>
<div class="spoiler-block"><div class="spoiler-header">
</div><div class="spoiler-content" aria-hidden="true">
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.nat.basic</span>

<span class="kd">def</span> <span class="n">prime</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
  <span class="o">(</span><span class="n">p</span> <span class="bp">&gt;</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">(</span><span class="bp">¬∃</span> <span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="o">,</span> <span class="n">p</span> <span class="bp">=</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span>
</code></pre></div>
</div></div>



<a name="252540439"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252540439" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252540439">(Sep 08 2021 at 22:02)</a>:</h4>
<p>Also, a reminder that primes don't satisfy <code>¬∃ x y : ℕ , p = x * y</code> either</p>



<a name="252540467"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252540467" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252540467">(Sep 08 2021 at 22:02)</a>:</h4>
<p>because <code>p = 1 * p</code></p>



<a name="252540538"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252540538" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252540538">(Sep 08 2021 at 22:03)</a>:</h4>
<p>Yeah, something like that, but as Mario says that's not yet the definition of a prime number.</p>



<a name="252541786"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252541786" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Teixeira <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252541786">(Sep 08 2021 at 22:13)</a>:</h4>
<p>lol that's embarrassing. Thanks y'all for the help.</p>



<a name="252545805"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252545805" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Teixeira <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252545805">(Sep 08 2021 at 22:49)</a>:</h4>
<p>I think I've got it now,  this is my final answer for exercise 4</p>
<div class="spoiler-block"><div class="spoiler-header">
<p>Exercise 4</p>
</div><div class="spoiler-content" aria-hidden="true">
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.nat.basic</span>
<span class="kn">import</span> <span class="n">algebra.group_power</span>

<span class="k">#check</span> <span class="n">even</span>

<span class="kd">def</span> <span class="n">prime</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
  <span class="o">(</span><span class="n">p</span> <span class="bp">&gt;</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">(</span><span class="bp">¬∃</span> <span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="o">,(</span><span class="n">x</span> <span class="bp">≠</span> <span class="mi">1</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">≠</span> <span class="n">p</span> <span class="bp">∧</span> <span class="n">y</span> <span class="bp">≠</span> <span class="mi">1</span> <span class="bp">∧</span> <span class="n">y</span> <span class="bp">≠</span> <span class="n">p</span><span class="o">)</span> <span class="bp">∧</span> <span class="n">p</span> <span class="bp">=</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span>

<span class="kd">def</span> <span class="n">infinitely_many_primes</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
  <span class="o">(</span><span class="bp">∀</span> <span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">p</span><span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="n">p</span> <span class="bp">&gt;</span> <span class="n">n</span> <span class="bp">∧</span> <span class="n">prime</span> <span class="n">p</span><span class="o">)</span>

<span class="kd">def</span> <span class="n">Fermat_prime</span> <span class="o">(</span><span class="n">p</span><span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
  <span class="o">(</span><span class="n">prime</span> <span class="n">p</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">(</span><span class="bp">∃</span> <span class="n">n</span><span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">p</span> <span class="bp">=</span> <span class="o">(</span><span class="mi">2</span> <span class="bp">^</span> <span class="o">(</span><span class="mi">2</span> <span class="bp">^</span> <span class="n">n</span><span class="o">))</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">)</span>

<span class="kd">def</span> <span class="n">infinitely_many_Fermat_primes</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">:=</span>
  <span class="o">(</span><span class="bp">∀</span> <span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">p</span><span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="n">p</span> <span class="bp">&gt;</span> <span class="n">n</span> <span class="bp">∧</span> <span class="n">Fermat_prime</span> <span class="n">p</span><span class="o">)</span>

<span class="kd">def</span> <span class="n">goldbach_conjecture</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
    <span class="o">(</span><span class="bp">∀</span> <span class="n">n</span><span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">n</span> <span class="bp">&gt;</span> <span class="mi">2</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">prime</span> <span class="n">p</span> <span class="bp">∧</span> <span class="n">prime</span> <span class="n">q</span><span class="o">))</span> <span class="bp">→</span>  <span class="n">n</span> <span class="bp">=</span> <span class="n">p</span> <span class="bp">+</span> <span class="n">q</span><span class="o">)</span>

<span class="kd">def</span> <span class="n">Goldbach's_weak_conjecture</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
  <span class="o">(</span><span class="bp">∀</span> <span class="n">n</span><span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="bp">¬</span><span class="o">(</span><span class="n">even</span> <span class="n">n</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">prime</span> <span class="n">x</span> <span class="bp">∧</span> <span class="n">prime</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">prime</span> <span class="n">z</span><span class="o">))</span> <span class="bp">→</span> <span class="o">(</span><span class="n">n</span> <span class="bp">=</span> <span class="n">x</span> <span class="bp">+</span> <span class="n">y</span> <span class="bp">+</span> <span class="n">z</span><span class="o">))</span>

<span class="kd">def</span> <span class="n">Fermat's_last_theorem</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
  <span class="o">(</span><span class="bp">∀</span> <span class="n">n</span><span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="bp">¬∃</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">n</span> <span class="bp">&gt;</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">→</span> <span class="o">((</span><span class="n">a</span> <span class="bp">^</span> <span class="n">n</span><span class="o">)</span> <span class="bp">+</span> <span class="o">(</span><span class="n">b</span> <span class="bp">^</span> <span class="n">n</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(</span><span class="n">c</span> <span class="bp">^</span> <span class="n">n</span><span class="o">)))</span>
</code></pre></div>
</div></div>



<a name="252546506"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252546506" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252546506">(Sep 08 2021 at 22:56)</a>:</h4>
<p>Looking good. Your answers for <code>goldbach_conjecture</code>, <code>Goldbach's_weak_conjecture</code>, <code>Fermat's_last_theorem</code> are wrong; hint: you almost never want to use <code>\exists x, p -&gt; q</code></p>



<a name="252546578"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252546578" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252546578">(Sep 08 2021 at 22:57)</a>:</h4>
<p>For <code>prime</code>, as a small followup exercise try writing the not-exists as forall (the part in parentheses in the exists would be to the left of an implication arrow).</p>



<a name="252546679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252546679" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252546679">(Sep 08 2021 at 22:58)</a>:</h4>
<p>also, it's not wrong but it is unusual to put the <code>n &gt; 2</code> inside the <code>p,q</code> quantifiers of <code>goldbach_conjecture</code></p>



<a name="252553398"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252553398" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Teixeira <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252553398">(Sep 09 2021 at 00:21)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises/near/252546506">said</a>:</p>
<blockquote>
<p>Looking good. Your answers for <code>goldbach_conjecture</code>, <code>Goldbach's_weak_conjecture</code>, <code>Fermat's_last_theorem</code> are wrong; hint: you almost never want to use <code>\exists x, p -&gt; q</code></p>
</blockquote>
<p>Yeah I was feeling unsure about that. I'm having a hard time expressing statements which state  "for all n greater than two" and the conditionals inside the quantifier was an attempt at solving that. </p>
<p>Does this work??</p>
<div class="spoiler-block"><div class="spoiler-header">
<p>goldbach_conjecture, Goldbach's_weak_conjecture, Fermat's_last_theorem</p>
</div><div class="spoiler-content" aria-hidden="true">
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.nat.basic</span>
<span class="kn">import</span> <span class="n">algebra.group_power</span>

<span class="k">#check</span> <span class="n">even</span>

<span class="kd">def</span> <span class="n">prime</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
  <span class="o">(</span><span class="n">p</span> <span class="bp">&gt;</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">(</span><span class="bp">¬∃</span> <span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="o">,(</span><span class="n">x</span> <span class="bp">≠</span> <span class="mi">1</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">≠</span> <span class="n">p</span> <span class="bp">∧</span> <span class="n">y</span> <span class="bp">≠</span> <span class="mi">1</span> <span class="bp">∧</span> <span class="n">y</span> <span class="bp">≠</span> <span class="n">p</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">p</span> <span class="bp">=</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">y</span><span class="o">))</span>

<span class="kd">def</span> <span class="n">goldbach_conjecture</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
  <span class="o">(</span><span class="bp">∀</span> <span class="n">n</span><span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">n</span> <span class="bp">&gt;</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">∧</span> <span class="bp">∃</span> <span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">prime</span> <span class="n">p</span> <span class="bp">∧</span> <span class="n">prime</span> <span class="n">q</span><span class="o">)</span> <span class="bp">∧</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">p</span> <span class="bp">+</span> <span class="n">q</span><span class="o">)</span>

<span class="kd">def</span> <span class="n">Goldbach's_weak_conjecture</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
  <span class="o">(</span><span class="bp">∀</span> <span class="n">n</span><span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="bp">¬</span><span class="o">(</span><span class="n">even</span> <span class="n">n</span><span class="o">)</span> <span class="bp">∧</span> <span class="bp">∃</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">prime</span> <span class="n">x</span> <span class="bp">∧</span> <span class="n">prime</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">prime</span> <span class="n">z</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">n</span> <span class="bp">=</span> <span class="n">x</span> <span class="bp">+</span> <span class="n">y</span> <span class="bp">+</span> <span class="n">z</span><span class="o">))</span>

<span class="kd">def</span> <span class="n">Fermat's_last_theorem</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
  <span class="o">(</span><span class="bp">∀</span> <span class="n">n</span><span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">n</span> <span class="bp">&gt;</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">∧</span> <span class="bp">¬∃</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">a</span> <span class="bp">^</span> <span class="n">n</span><span class="o">)</span> <span class="bp">+</span> <span class="o">(</span><span class="n">b</span> <span class="bp">^</span> <span class="n">n</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(</span><span class="n">c</span> <span class="bp">^</span> <span class="n">n</span><span class="o">))</span>
</code></pre></div>
</div></div>



<a name="252554104"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252554104" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252554104">(Sep 09 2021 at 00:31)</a>:</h4>
<p>Almost. You usually want to pair <code>∀</code> with <code>→</code> and <code>∃</code> with <code>∧</code>: that is, adjectives turn into assumptions like so:</p>
<ul>
<li>"for all reprehensible x, bla(x)" becomes <code>∀ x, reprehensible x → bla x</code></li>
<li>"there is a reprehensible x such that bla(x)" becomes <code>∃ x, reprehensible x ∧ bla x</code></li>
</ul>
<p>Using <code>∀ x, foo x ∧ bla x</code> also makes sense but is less common, because it distributes into two separate assumptions <code>∀ x, foo x</code> and <code>∀ x, bla x</code>.</p>



<a name="252554293"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252554293" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252554293">(Sep 09 2021 at 00:34)</a>:</h4>
<p>Here's a disproof of the Goldbach conjecture:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">goldbach_conjecture</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="n">h</span> <span class="o">:</span> <span class="n">goldbach_conjecture</span><span class="o">,</span>  <span class="n">nat.not_lt_zero</span> <span class="mi">2</span> <span class="o">(</span><span class="n">h</span> <span class="mi">0</span><span class="o">)</span><span class="bp">.</span><span class="mi">1</span>
</code></pre></div>



<a name="252554543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252554543" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Teixeira <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252554543">(Sep 09 2021 at 00:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="306601">Kyle Miller</span> <a href="#narrow/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises/near/252546578">said</a>:</p>
<blockquote>
<p>For <code>prime</code>, as a small followup exercise try writing the not-exists as forall (the part in parentheses in the exists would be to the left of an implication arrow).</p>
</blockquote>
<p>You mean something like this??</p>
<div class="spoiler-block"><div class="spoiler-header">
<p>prime'</p>
</div><div class="spoiler-content" aria-hidden="true">
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.nat.basic</span>

<span class="kd">def</span> <span class="n">prime'</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
  <span class="o">(</span><span class="n">p</span> <span class="bp">&gt;</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">x</span> <span class="bp">=</span> <span class="mi">1</span> <span class="bp">∨</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">p</span> <span class="bp">∨</span> <span class="n">y</span> <span class="bp">=</span> <span class="mi">1</span> <span class="bp">∨</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">p</span><span class="o">)</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">p</span> <span class="bp">≠</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">y</span><span class="o">))</span>
</code></pre></div>
</div></div>



<a name="252555021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252555021" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Teixeira <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252555021">(Sep 09 2021 at 00:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises/near/252554104">said</a>:</p>
<blockquote>
<p>Almost. You usually want to pair <code>∀</code> with <code>→</code> and <code>∃</code> with <code>∧</code>: that is, adjectives turn into assumptions like so:</p>
<ul>
<li>"for all reprehensible x, bla(x)" becomes <code>∀ x, reprehensible x → bla x</code></li>
<li>"there is a reprehensible x such that bla(x)" becomes <code>∃ x, reprehensible x ∧ bla x</code></li>
</ul>
<p>Using <code>∀ x, foo x ∧ bla x</code> also makes sense but is less common, because it distributes into two separate assumptions <code>∀ x, foo x</code> and <code>∀ x, bla x</code>.</p>
</blockquote>
<p>Ahh! that makes total sense. So my idea of using conditionals was unto something, they were just in the wrong place.</p>
<p>I think this should work now right???</p>
<div class="spoiler-block"><div class="spoiler-header">
<p>goldbach_conjecture, Goldbach's_weak_conjecture, Fermat's_last_theorem</p>
</div><div class="spoiler-content" aria-hidden="true">
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.nat.basic</span>
<span class="kn">import</span> <span class="n">algebra.group_power</span>

<span class="k">#check</span> <span class="n">even</span>

<span class="kd">def</span> <span class="n">prime</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
  <span class="o">(</span><span class="n">p</span> <span class="bp">&gt;</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">(</span><span class="bp">¬∃</span> <span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="o">,(</span><span class="n">x</span> <span class="bp">≠</span> <span class="mi">1</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">≠</span> <span class="n">p</span> <span class="bp">∧</span> <span class="n">y</span> <span class="bp">≠</span> <span class="mi">1</span> <span class="bp">∧</span> <span class="n">y</span> <span class="bp">≠</span> <span class="n">p</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">p</span> <span class="bp">=</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">y</span><span class="o">))</span>

<span class="kd">def</span> <span class="n">goldbach_conjecture</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
  <span class="o">(</span><span class="bp">∀</span> <span class="n">n</span><span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">n</span> <span class="bp">&gt;</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">→</span> <span class="bp">∃</span> <span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">prime</span> <span class="n">p</span> <span class="bp">∧</span> <span class="n">prime</span> <span class="n">q</span><span class="o">)</span> <span class="bp">∧</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">p</span> <span class="bp">+</span> <span class="n">q</span><span class="o">)</span>

<span class="kd">def</span> <span class="n">Goldbach's_weak_conjecture</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
  <span class="o">(</span><span class="bp">∀</span> <span class="n">n</span><span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="bp">¬</span><span class="o">(</span><span class="n">even</span> <span class="n">n</span><span class="o">)</span> <span class="bp">→</span>  <span class="bp">∃</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">prime</span> <span class="n">x</span> <span class="bp">∧</span> <span class="n">prime</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">prime</span> <span class="n">z</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">n</span> <span class="bp">=</span> <span class="n">x</span> <span class="bp">+</span> <span class="n">y</span> <span class="bp">+</span> <span class="n">z</span><span class="o">))</span>

<span class="kd">def</span> <span class="n">Fermat's_last_theorem</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
  <span class="o">(</span><span class="bp">∀</span> <span class="n">n</span><span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">n</span> <span class="bp">&gt;</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">→</span> <span class="bp">¬∃</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">a</span> <span class="bp">^</span> <span class="n">n</span><span class="o">)</span> <span class="bp">+</span> <span class="o">(</span><span class="n">b</span> <span class="bp">^</span> <span class="n">n</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(</span><span class="n">c</span> <span class="bp">^</span> <span class="n">n</span><span class="o">))</span>
</code></pre></div>
</div></div>



<a name="252555055"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252555055" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252555055">(Sep 09 2021 at 00:45)</a>:</h4>
<p>Sure, that <code>prime'</code> works.  Here's another version that can be convenient:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">prime''</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
  <span class="o">(</span><span class="n">p</span> <span class="bp">&gt;</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="n">p</span> <span class="bp">=</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">y</span> <span class="bp">→</span> <span class="o">(</span><span class="n">x</span> <span class="bp">=</span> <span class="mi">1</span> <span class="bp">∨</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">p</span> <span class="bp">∨</span> <span class="n">y</span> <span class="bp">=</span> <span class="mi">1</span> <span class="bp">∨</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">p</span><span class="o">))</span>
</code></pre></div>



<a name="252555183"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252555183" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Teixeira <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252555183">(Sep 09 2021 at 00:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="306601">Kyle Miller</span> <a href="#narrow/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises/near/252555055">said</a>:</p>
<blockquote>
<p>Sure, that <code>prime'</code> works.  Here's another version that can be convenient:</p>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">prime''</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
  <span class="o">(</span><span class="n">p</span> <span class="bp">&gt;</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="n">p</span> <span class="bp">=</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">y</span> <span class="bp">→</span> <span class="o">(</span><span class="n">x</span> <span class="bp">=</span> <span class="mi">1</span> <span class="bp">∨</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">p</span> <span class="bp">∨</span> <span class="n">y</span> <span class="bp">=</span> <span class="mi">1</span> <span class="bp">∨</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">p</span><span class="o">))</span>
</code></pre></div><br>
</p>
</blockquote>
<p>That's pretty <span aria-label="sunrise" class="emoji emoji-1f305" role="img" title="sunrise">:sunrise:</span></p>



<a name="252555251"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252555251" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252555251">(Sep 09 2021 at 00:48)</a>:</h4>
<p>Also, you don't need all four conjuncts for <code>prime</code>: since <code>p = x * y</code>, <code>x = 1</code> iff <code>y = p</code> and <code>y = 1</code> iff <code>x = p</code>, so one of each works</p>



<a name="252555282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252555282" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252555282">(Sep 09 2021 at 00:48)</a>:</h4>
<p>(The actual thing I had in mind was</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">prime''</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
  <span class="o">(</span><span class="n">p</span> <span class="bp">&gt;</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="n">x</span> <span class="bp">≠</span> <span class="mi">1</span> <span class="bp">→</span> <span class="n">x</span> <span class="bp">≠</span> <span class="n">p</span> <span class="bp">→</span> <span class="n">y</span> <span class="bp">≠</span> <span class="mi">1</span> <span class="bp">→</span> <span class="n">y</span> <span class="bp">≠</span> <span class="n">p</span> <span class="bp">→</span> <span class="n">p</span> <span class="bp">≠</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span>
</code></pre></div>
<p>This uses the transformation of not-exists-and to forall-implies-not. It's not as nice, though.)</p>



<a name="252555330"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252555330" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252555330">(Sep 09 2021 at 00:49)</a>:</h4>
<p>it's generally easier to work with forall and implies than negated exists in lean because of how application works</p>



<a name="252555437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252555437" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252555437">(Sep 09 2021 at 00:51)</a>:</h4>
<p>Your answers look correct now, except that <code>Goldbach's_weak_conjecture</code> is false as stated (hint: there are 3 counterexamples)</p>



<a name="252555571"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252555571" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252555571">(Sep 09 2021 at 00:53)</a>:</h4>
<p><code>goldbach_conjecture</code> is also missing an assumption (there are an infinite number of counterexamples)</p>



<a name="252555658"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252555658" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252555658">(Sep 09 2021 at 00:54)</a>:</h4>
<p><code>Fermat's_last_theorem</code> has a trivial case as well</p>



<a name="252556681"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252556681" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Teixeira <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252556681">(Sep 09 2021 at 01:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises/near/252555658">said</a>:</p>
<blockquote>
<p><code>Fermat's_last_theorem</code> has a trivial case as well</p>
</blockquote>
<p>How about now?</p>
<div class="spoiler-block"><div class="spoiler-header">
<p>prime, goldbach_conjecture, Goldbach's_weak_conjecture, Fermat's_last_theorem</p>
</div><div class="spoiler-content" aria-hidden="true">
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.nat.basic</span>
<span class="kn">import</span> <span class="n">algebra.group_power</span>

<span class="k">#check</span> <span class="n">even</span>

<span class="kd">def</span> <span class="n">prime</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
  <span class="o">(</span><span class="n">p</span> <span class="bp">&gt;</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">p</span> <span class="bp">=</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="n">x</span> <span class="bp">=</span> <span class="mi">1</span> <span class="bp">∨</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">p</span> <span class="bp">∨</span> <span class="n">y</span> <span class="bp">=</span> <span class="mi">1</span> <span class="bp">∨</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">p</span><span class="o">))</span>

<span class="kd">def</span> <span class="n">goldbach_conjecture</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
  <span class="o">(</span><span class="bp">∀</span> <span class="n">n</span><span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">n</span> <span class="bp">&gt;</span> <span class="mi">2</span> <span class="bp">∧</span> <span class="n">even</span> <span class="n">n</span><span class="o">)</span> <span class="bp">→</span> <span class="bp">∃</span> <span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">prime</span> <span class="n">p</span> <span class="bp">∧</span> <span class="n">prime</span> <span class="n">q</span><span class="o">)</span> <span class="bp">∧</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">p</span> <span class="bp">+</span> <span class="n">q</span><span class="o">)</span>

<span class="kd">def</span> <span class="n">Goldbach's_weak_conjecture</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
  <span class="o">(</span><span class="bp">∀</span> <span class="n">n</span><span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="bp">¬</span><span class="o">(</span><span class="n">even</span> <span class="n">n</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">n</span> <span class="bp">&gt;</span> <span class="mi">5</span><span class="o">))</span> <span class="bp">→</span>  <span class="bp">∃</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">prime</span> <span class="n">x</span> <span class="bp">∧</span> <span class="n">prime</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">prime</span> <span class="n">z</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">n</span> <span class="bp">=</span> <span class="n">x</span> <span class="bp">+</span> <span class="n">y</span> <span class="bp">+</span> <span class="n">z</span><span class="o">))</span>

<span class="kd">def</span> <span class="n">Fermat's_last_theorem</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
  <span class="o">(</span><span class="bp">∀</span> <span class="n">n</span><span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">n</span> <span class="bp">&gt;</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">→</span> <span class="bp">¬∃</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">a</span> <span class="bp">&gt;</span> <span class="mi">0</span> <span class="bp">∧</span> <span class="n">b</span> <span class="bp">&gt;</span> <span class="mi">0</span> <span class="bp">∧</span> <span class="n">c</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">((</span><span class="n">a</span> <span class="bp">^</span> <span class="n">n</span><span class="o">)</span> <span class="bp">+</span> <span class="o">(</span><span class="n">b</span> <span class="bp">^</span> <span class="n">n</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(</span><span class="n">c</span> <span class="bp">^</span> <span class="n">n</span><span class="o">)))</span>
</code></pre></div>
</div></div>



<a name="252559602"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252559602" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252559602">(Sep 09 2021 at 01:55)</a>:</h4>
<p>I think you got it</p>



<a name="252561194"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252561194" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Teixeira <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252561194">(Sep 09 2021 at 02:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises/near/252559602">said</a>:</p>
<blockquote>
<p>I think you got it</p>
</blockquote>
<p>Thank you for being so incredibly helpful! Here's the full answer to the problem. Thought it'd be important to have noted seeing as how these are the types which you can't type check</p>
<div class="spoiler-block"><div class="spoiler-header">
<p>Exercise 4 Answers</p>
</div><div class="spoiler-content" aria-hidden="true">
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.nat.basic</span>
<span class="kn">import</span> <span class="n">algebra.group_power</span>

<span class="k">#check</span> <span class="n">even</span>

<span class="kd">def</span> <span class="n">prime</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
  <span class="o">(</span><span class="n">p</span> <span class="bp">&gt;</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">p</span> <span class="bp">=</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="n">x</span> <span class="bp">=</span> <span class="mi">1</span> <span class="bp">∨</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">p</span> <span class="bp">∨</span> <span class="n">y</span> <span class="bp">=</span> <span class="mi">1</span> <span class="bp">∨</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">p</span><span class="o">))</span>

<span class="kd">def</span> <span class="n">infinitely_many_primes</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
  <span class="o">(</span><span class="bp">∀</span> <span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">p</span><span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="n">p</span> <span class="bp">&gt;</span> <span class="n">n</span> <span class="bp">∧</span> <span class="n">prime</span> <span class="n">p</span><span class="o">)</span>

<span class="kd">def</span> <span class="n">Fermat_prime</span> <span class="o">(</span><span class="n">p</span><span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
  <span class="o">(</span><span class="n">prime</span> <span class="n">p</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">(</span><span class="bp">∃</span> <span class="n">n</span><span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">p</span> <span class="bp">=</span> <span class="o">(</span><span class="mi">2</span> <span class="bp">^</span> <span class="o">(</span><span class="mi">2</span> <span class="bp">^</span> <span class="n">n</span><span class="o">))</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">)</span>

<span class="kd">def</span> <span class="n">infinitely_many_Fermat_primes</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">:=</span>
  <span class="o">(</span><span class="bp">∀</span> <span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">p</span><span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="n">p</span> <span class="bp">&gt;</span> <span class="n">n</span> <span class="bp">∧</span> <span class="n">Fermat_prime</span> <span class="n">p</span><span class="o">)</span>

<span class="kd">def</span> <span class="n">goldbach_conjecture</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
  <span class="o">(</span><span class="bp">∀</span> <span class="n">n</span><span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">n</span> <span class="bp">&gt;</span> <span class="mi">2</span> <span class="bp">∧</span> <span class="n">even</span> <span class="n">n</span><span class="o">)</span> <span class="bp">→</span> <span class="bp">∃</span> <span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">prime</span> <span class="n">p</span> <span class="bp">∧</span> <span class="n">prime</span> <span class="n">q</span><span class="o">)</span> <span class="bp">∧</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">p</span> <span class="bp">+</span> <span class="n">q</span><span class="o">)</span>

<span class="kd">def</span> <span class="n">Goldbach's_weak_conjecture</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
  <span class="o">(</span><span class="bp">∀</span> <span class="n">n</span><span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="bp">¬</span><span class="o">(</span><span class="n">even</span> <span class="n">n</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">n</span> <span class="bp">&gt;</span> <span class="mi">5</span><span class="o">))</span> <span class="bp">→</span>  <span class="bp">∃</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">prime</span> <span class="n">x</span> <span class="bp">∧</span> <span class="n">prime</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">prime</span> <span class="n">z</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">n</span> <span class="bp">=</span> <span class="n">x</span> <span class="bp">+</span> <span class="n">y</span> <span class="bp">+</span> <span class="n">z</span><span class="o">))</span>

<span class="kd">def</span> <span class="n">Fermat's_last_theorem</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
  <span class="o">(</span><span class="bp">∀</span> <span class="n">n</span><span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">n</span> <span class="bp">&gt;</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">→</span> <span class="bp">¬∃</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">a</span> <span class="bp">&gt;</span> <span class="mi">0</span> <span class="bp">∧</span> <span class="n">b</span> <span class="bp">&gt;</span> <span class="mi">0</span> <span class="bp">∧</span> <span class="n">c</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">((</span><span class="n">a</span> <span class="bp">^</span> <span class="n">n</span><span class="o">)</span> <span class="bp">+</span> <span class="o">(</span><span class="n">b</span> <span class="bp">^</span> <span class="n">n</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(</span><span class="n">c</span> <span class="bp">^</span> <span class="n">n</span><span class="o">)))</span>
</code></pre></div>
</div></div>



<a name="252564250"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252564250" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252564250">(Sep 09 2021 at 02:59)</a>:</h4>
<p>You should also compare with the mathlib "answer key", which doesn't have all of these but does have <a href="https://leanprover-community.github.io/mathlib_docs/find/nat.prime/src">src#nat.prime</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/nat.exists_infinite_primes/src">src#nat.exists_infinite_primes</a></p>



<a name="252564540"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252564540" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252564540">(Sep 09 2021 at 03:02)</a>:</h4>
<p>mathlib doesn't make a habit of defining conjectures it can't prove, which is why none of the conjectures are defined, and <code>infinitely_many_primes</code> is proved rather than defined</p>



<a name="252564574"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252564574" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252564574">(Sep 09 2021 at 03:03)</a>:</h4>
<p><code>Fermat_prime</code> could conceivably be in mathlib, but I guess we don't have anything interesting to say about them</p>



<a name="252841072"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252841072" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Teixeira <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252841072">(Sep 10 2021 at 19:54)</a>:</h4>
<p>I'm having some difficulties working with negation and quantifiers. </p>
<p>I've gotten this far on this problem</p>
<div class="spoiler-block"><div class="spoiler-header">
<p>(∀ x, p x) ↔ ¬ (∃ x, ¬ p x)</p>
</div><div class="spoiler-content" aria-hidden="true">
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">open</span> <span class="n">classical</span>

<span class="kd">variables</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span>
<span class="kd">variable</span> <span class="n">a</span> <span class="o">:</span> <span class="n">α</span>
<span class="kd">variable</span> <span class="n">r</span> <span class="o">:</span> <span class="kt">Prop</span>

<span class="kd">example</span> <span class="o">:</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">x</span><span class="o">,</span> <span class="n">p</span> <span class="n">x</span><span class="o">)</span> <span class="bp">↔</span> <span class="bp">¬</span> <span class="o">(</span><span class="bp">∃</span> <span class="n">x</span><span class="o">,</span> <span class="bp">¬</span> <span class="n">p</span> <span class="n">x</span><span class="o">)</span> <span class="o">:=</span>
  <span class="n">iff.intro</span>
    <span class="o">(</span><span class="k">assume</span> <span class="n">h1</span><span class="o">:</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">x</span><span class="o">,</span> <span class="n">p</span> <span class="n">x</span><span class="o">),</span>
     <span class="k">show</span> <span class="bp">¬</span> <span class="o">(</span><span class="bp">∃</span> <span class="n">x</span><span class="o">,</span> <span class="bp">¬</span> <span class="n">p</span> <span class="n">x</span><span class="o">),</span>
     <span class="k">from</span> <span class="n">or.elim</span> <span class="o">(</span><span class="n">em</span> <span class="o">(</span><span class="bp">∃</span> <span class="n">x</span><span class="o">,</span> <span class="bp">¬</span> <span class="n">p</span> <span class="n">x</span><span class="o">))</span>
       <span class="o">(</span><span class="k">assume</span> <span class="n">hnt</span><span class="o">:</span> <span class="bp">∃</span> <span class="n">x</span><span class="o">,</span> <span class="bp">¬</span> <span class="n">p</span> <span class="n">x</span><span class="o">,</span>
        <span class="n">exists.elim</span> <span class="n">hnt</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span><span class="o">:</span> <span class="n">α</span><span class="o">,</span> <span class="bp">λ</span> <span class="n">npx</span><span class="o">:</span> <span class="bp">¬</span> <span class="n">p</span> <span class="n">x</span><span class="o">,</span> <span class="n">absurd</span> <span class="o">(</span><span class="n">h1</span> <span class="n">x</span><span class="o">)</span> <span class="n">npx</span><span class="o">)</span>
       <span class="o">)</span>
       <span class="o">(</span><span class="k">assume</span> <span class="n">ht</span><span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="bp">∃</span> <span class="n">x</span><span class="o">,</span> <span class="bp">¬</span> <span class="n">p</span> <span class="n">x</span><span class="o">),</span> <span class="n">ht</span><span class="o">)</span>
    <span class="o">)</span>
    <span class="o">(</span><span class="k">assume</span> <span class="n">h2</span><span class="o">:</span> <span class="bp">¬</span> <span class="o">(</span><span class="bp">∃</span> <span class="n">x</span><span class="o">,</span> <span class="bp">¬</span> <span class="n">p</span> <span class="n">x</span><span class="o">),</span>
     <span class="k">show</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">x</span><span class="o">,</span> <span class="n">p</span> <span class="n">x</span><span class="o">),</span>
     <span class="k">from</span> <span class="bp">...</span>
    <span class="o">)</span>
</code></pre></div>
</div></div>
<p>but I'm kind of at a loss with how to proceed with proving the second implication</p>



<a name="252841525"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252841525" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252841525">(Sep 10 2021 at 19:57)</a>:</h4>
<p>Why don't you come back to this once you've got onto chapter 5, tactic mode, and you'll be able to write code which is much less unwieldy? As for the proof, after <code>lam x</code> your goal will be <code>p x</code> and the way to make progress is to replace it with <code>not not p x</code>, which is a classical step.</p>



<a name="252844300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252844300" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Teixeira <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252844300">(Sep 10 2021 at 20:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises/near/252841525">said</a>:</p>
<blockquote>
<p>As for the proof, after <code>lam x</code> your goal will be <code>p x</code> and the way to make progress is to replace it with <code>not not p x</code>, which is a classical step.</p>
</blockquote>
<p>Ahh, that makes sense. I was trying to perform the classical step on the quantifier itself and getting nowhere, it didn't occur to me to do the classical step on the contents of the quantifier instead.</p>



<a name="252875624"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252875624" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Teixeira <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252875624">(Sep 11 2021 at 02:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises/near/252841525">said</a>:</p>
<blockquote>
<p>Why don't you come back to this once you've got onto chapter 5, tactic mode, and you'll be able to write code which is much less unwieldy? </p>
</blockquote>
<p>I'll definitely take the advice and come back through these after having worked through chapter 5, but I don't think my difficulties stem from the unwieldyness of the code (for some background: I'm a functional programmer who's trying to get into pure mathematics through LEAN, rather than the other way round). The things I'm still developing an intuition around are:</p>
<ol>
<li>Navigating the inference rules for quantifiers</li>
<li>Knowing when it is necessary to use the law of excluded middle</li>
<li>If it is necessary to to use the law of excluded middle, which statements would it be strategic to do this on</li>
</ol>
<p>For example, I was able to get this far on these two problems:</p>
<div class="spoiler-block"><div class="spoiler-header">
<p>(∃ x, p x → r) ↔ (∀ x, p x) → r and (∃ x, r → p x) ↔ (r → ∃ x, p x)</p>
</div><div class="spoiler-content" aria-hidden="true">
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">open</span> <span class="n">classical</span>

<span class="kd">variables</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span>
<span class="kd">variable</span> <span class="n">a</span> <span class="o">:</span> <span class="n">α</span>
<span class="kd">variable</span> <span class="o">{</span><span class="n">r</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">}</span>

<span class="kd">example</span> <span class="o">:</span> <span class="o">(</span><span class="bp">∃</span> <span class="n">x</span><span class="o">,</span> <span class="n">p</span> <span class="n">x</span> <span class="bp">→</span> <span class="n">r</span><span class="o">)</span> <span class="bp">↔</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">x</span><span class="o">,</span> <span class="n">p</span> <span class="n">x</span><span class="o">)</span> <span class="bp">→</span> <span class="n">r</span> <span class="o">:=</span>
   <span class="n">iff.intro</span>
     <span class="o">(</span><span class="k">assume</span> <span class="n">mh</span><span class="o">:</span> <span class="o">(</span><span class="bp">∃</span> <span class="n">x</span><span class="o">,</span> <span class="n">p</span> <span class="n">x</span> <span class="bp">→</span> <span class="n">r</span><span class="o">),</span>
       <span class="bp">λ</span> <span class="n">apx</span><span class="o">:</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">x</span><span class="o">,</span> <span class="n">p</span> <span class="n">x</span><span class="o">),</span> <span class="n">exists.elim</span> <span class="n">mh</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span><span class="o">:</span> <span class="n">α</span><span class="o">,</span> <span class="bp">λ</span> <span class="n">fpxr</span><span class="o">:</span> <span class="n">p</span> <span class="n">x</span> <span class="bp">→</span> <span class="n">r</span><span class="o">,</span> <span class="n">fpxr</span> <span class="o">(</span><span class="n">apx</span> <span class="n">x</span><span class="o">)</span> <span class="o">)</span>
     <span class="o">)</span>
     <span class="o">(</span><span class="k">assume</span> <span class="n">sh</span><span class="o">:</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">x</span><span class="o">,</span> <span class="n">p</span> <span class="n">x</span><span class="o">)</span> <span class="bp">→</span> <span class="n">r</span><span class="o">,</span>
      <span class="k">show</span> <span class="o">(</span><span class="bp">∃</span> <span class="n">x</span><span class="o">,</span> <span class="n">p</span> <span class="n">x</span> <span class="bp">→</span> <span class="n">r</span><span class="o">),</span>
      <span class="k">from</span> <span class="bp">...</span>
     <span class="o">)</span>

<span class="kd">example</span> <span class="o">:</span> <span class="o">(</span><span class="bp">∃</span> <span class="n">x</span><span class="o">,</span> <span class="n">r</span> <span class="bp">→</span> <span class="n">p</span> <span class="n">x</span><span class="o">)</span> <span class="bp">↔</span> <span class="o">(</span><span class="n">r</span> <span class="bp">→</span> <span class="bp">∃</span> <span class="n">x</span><span class="o">,</span> <span class="n">p</span> <span class="n">x</span><span class="o">)</span> <span class="o">:=</span>
  <span class="n">iff.intro</span>
    <span class="o">(</span><span class="k">assume</span> <span class="n">h1</span><span class="o">:(</span><span class="bp">∃</span> <span class="n">x</span><span class="o">,</span> <span class="n">r</span> <span class="bp">→</span> <span class="n">p</span> <span class="n">x</span><span class="o">),</span>
      <span class="bp">λ</span> <span class="n">hr</span><span class="o">:</span> <span class="n">r</span><span class="o">,</span> <span class="n">exists.elim</span> <span class="n">h1</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span><span class="o">:</span> <span class="n">α</span><span class="o">,</span> <span class="bp">λ</span> <span class="n">frpx</span><span class="o">:</span> <span class="n">r</span> <span class="bp">→</span> <span class="n">p</span> <span class="n">x</span><span class="o">,</span> <span class="n">exists.intro</span> <span class="n">x</span> <span class="o">(</span><span class="n">frpx</span> <span class="n">hr</span><span class="o">))</span>
    <span class="o">)</span>
    <span class="o">(</span><span class="k">assume</span> <span class="n">h2</span><span class="o">:</span> <span class="o">(</span><span class="n">r</span> <span class="bp">→</span> <span class="bp">∃</span> <span class="n">x</span><span class="o">,</span> <span class="n">p</span> <span class="n">x</span><span class="o">),</span>
     <span class="k">show</span> <span class="o">(</span><span class="bp">∃</span> <span class="n">x</span><span class="o">,</span> <span class="n">r</span> <span class="bp">→</span> <span class="n">p</span> <span class="n">x</span><span class="o">),</span>
     <span class="k">from</span> <span class="bp">...</span>
    <span class="o">)</span>
</code></pre></div>
</div></div>
<p>But I was unable to pull the trigger with the exists.intro function because I don't have an assumption of x to work with. As a work around I tried using the <code>a</code> which is defined as a variable to implement  <code>exists.intro a (λ px: p a, sh (λ x: α, px)</code> as a solution to the first problem but it led to this error </p>
<p><code>type mismatch at application
  sh (λ (x : α), px)
term
  λ (x : α), px
has type
  α → p a
but is expected to have type
  ∀ (x : α), p x </code></p>
<p>This has led me to believe that <strong>it might not be possible to construct an existential statement from the given assumptions</strong>, so I've opted to try out a classical approach, and find statements to use <code>em</code> on. </p>
<p>I could go on to state my process of selecting candidate statements to use <code>em</code> on and list out some of the issues I came across when trying to implement <code>em</code> on said statements, but I would love to receive some feedback on the validity of the reasoning that I demonstrated above if there is anyone who is willing to offer that up.</p>



<a name="252876989"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252876989" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252876989">(Sep 11 2021 at 03:04)</a>:</h4>
<blockquote>
<p>But I was unable to pull the trigger with the exists.intro function because I don't have an assumption of x to work with.</p>
</blockquote>
<p>This one is sneaky: Notice the <code>variable a : α</code> assumption at the top</p>



<a name="252877488"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252877488" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252877488">(Sep 11 2021 at 03:14)</a>:</h4>
<p>But you are right that <code>a</code> doesn't work for the problem, because <code>p a</code> doesn't necessarily hold, and a classical approach is needed. You will actually need more than one application of <code>em</code> or <code>by_contradiction</code> here. Here's a hint: assume <code>(∃ x, p x → r)</code> is false and prove <code>(∀ x, p x)</code></p>



<a name="252877527"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252877527" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252877527">(Sep 11 2021 at 03:15)</a>:</h4>
<p><span class="user-mention" data-user-id="435815">@Lucas Teixeira</span></p>



<a name="252885166"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252885166" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Teixeira <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252885166">(Sep 11 2021 at 05:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises/near/252877488">said</a>:</p>
<blockquote>
<p>But you are right that <code>a</code> doesn't work for the problem, because <code>p a</code> doesn't necessarily hold, and a classical approach is needed. You will actually need more than one application of <code>em</code> or <code>by_contradiction</code> here. </p>
</blockquote>
<p>I see what you mean by <code>p a</code> doesn't necessarily hold, and that explains the type error that I was getting when I attempted to fit it into exists.intro.</p>
<blockquote>
<p>Here's a hint: assume <code>(∃ x, p x → r)</code> is false and prove <code>(∀ x, p x)</code></p>
</blockquote>
<p>And thank you for the hint, I'll work on it for a bit and try to follow up.<br>
I'm assuming that this is a hint for the first problem <code>(∃ x, p x → r) ↔ (∀ x, p x) → r</code>??</p>



<a name="252901891"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252901891" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Teixeira <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252901891">(Sep 11 2021 at 11:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span><br>
I guess I'm having some trouble seeing how under the assumption of  <code>¬(∃ x, p x → r)</code> we would benefit from a proof of <code>(∀ x, p x)</code>. The way I see it, since the current goal is  <code>(∃ x, p x → r)</code> ,assuming<code>¬(∃ x, p x → r)</code> would change our goal into a derivation of a contradiction. </p>
<p>The statements that I see following from <code>(∀ x, p x)</code> are <code>r</code>, <code>¬∃ x, ¬ p x</code>, and <code>p a</code>, none of them feel to have any immediate use. </p>
<p>You mentioned that there is another use of em that was necessary. What was your process of coming to that conclusion like??</p>



<a name="252921288"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252921288" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252921288">(Sep 11 2021 at 16:48)</a>:</h4>
<p><span class="user-mention" data-user-id="435815">@Lucas Teixeira</span> If you can prove <code>r</code>, then you can prove <code>(∃ x, p x → r)</code> and thus <code>false</code></p>



<a name="252921421"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252921421" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252921421">(Sep 11 2021 at 16:51)</a>:</h4>
<blockquote>
<p>You mentioned that there is another use of em that was necessary. What was your process of coming to that conclusion like??</p>
</blockquote>
<p>That's probably too spoilerific to say, but roughly speaking there is nothing in this problem that would help prove the existential, or to prove <code>p x</code> from <code>not (not (p x))</code>, so you will need two applications of LEM around these two places.</p>



<a name="252921599"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/252921599" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#252921599">(Sep 11 2021 at 16:53)</a>:</h4>
<p>For the second problem, there is one proposition that would benefit a lot from <code>em</code>. Think of it this way: after applying <code>em foo</code>, you can simplify all statements involving <code>foo</code>, which might make the goal match the assumption after simplification, or make it provable outright</p>



<a name="254177360"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%204%20Exercises/near/254177360" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Teixeira <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.204.20Exercises.html#254177360">(Sep 21 2021 at 09:21)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> </p>
<p>Thank you for your response! I ended up getting side tracked with other projects but I do plan on coming back to it soon enough</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>