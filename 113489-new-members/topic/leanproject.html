---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/leanproject.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.html">leanproject</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="253209872"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/near/253209872" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.html#253209872">(Sep 14 2021 at 07:35)</a>:</h4>
<p>Suddenly   "leanproject"  doesn't work:</p>
<p>beeson@iMac inf % leanproject build<br>
zsh: command not found: leanproject<br>
beeson@iMac inf % ls      <br>
Junk        _target     leanpkg.path    leanpkg.toml    src<br>
beeson@iMac inf %</p>



<a name="253210866"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/near/253210866" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.html#253210866">(Sep 14 2021 at 07:44)</a>:</h4>
<p>maybe reinstall mathlibtools?</p>



<a name="253210897"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/near/253210897" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.html#253210897">(Sep 14 2021 at 07:44)</a>:</h4>
<p>does your shell still find <code>elan</code> and <code>lean</code> executables?</p>



<a name="253211917"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/near/253211917" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.html#253211917">(Sep 14 2021 at 07:55)</a>:</h4>
<p>No,  it doesn't.    I bet this has to do with making zsh  the default shell;   I think Apple did that in a recent update.</p>



<a name="253212014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/near/253212014" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.html#253212014">(Sep 14 2021 at 07:56)</a>:</h4>
<p>can you just start up bash or whatever you were using before and then access lean et al?</p>



<a name="253212332"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/near/253212332" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.html#253212332">(Sep 14 2021 at 07:59)</a>:</h4>
<p>Can you use other command line tools using python?</p>



<a name="253212507"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/near/253212507" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.html#253212507">(Sep 14 2021 at 08:00)</a>:</h4>
<p>I can start python3,   no problem</p>



<a name="253212638"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/near/253212638" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.html#253212638">(Sep 14 2021 at 08:01)</a>:</h4>
<p>bash-3.2$ leanproject build<br>
bash: /Users/beeson/.local/bin/leanproject: /Users/beeson/.local/pipx/venvs/mathlibtools/bin/python: bad interpreter: No such file or directory<br>
bash-3.2$</p>



<a name="253212660"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/near/253212660" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.html#253212660">(Sep 14 2021 at 08:01)</a>:</h4>
<p>So at least bash does recognize "leanproject".</p>



<a name="253212776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/near/253212776" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.html#253212776">(Sep 14 2021 at 08:02)</a>:</h4>
<p>brew upgrade elan mathlibtools<br>
produced an error message<br>
Error: <br>
  homebrew-core is a shallow clone.</p>



<a name="253213084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/near/253213084" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.html#253213084">(Sep 14 2021 at 08:05)</a>:</h4>
<p>do <code>python</code> or <code>python3</code> work?</p>



<a name="253213150"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/near/253213150" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.html#253213150">(Sep 14 2021 at 08:06)</a>:</h4>
<p>Yes python3 works.</p>



<a name="253213184"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/near/253213184" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.html#253213184">(Sep 14 2021 at 08:06)</a>:</h4>
<p>it looks like you might need to symlink python to python3</p>



<a name="253213207"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/near/253213207" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.html#253213207">(Sep 14 2021 at 08:06)</a>:</h4>
<p>there is probably a command for this?</p>



<a name="253213364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/near/253213364" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.html#253213364">(Sep 14 2021 at 08:08)</a>:</h4>
<p>python works too.   I don't see the point of  a symlink.     Would like to know what the problem is rather than try random things.   I did not change anything  (except to accept making zsh the default shell).</p>



<a name="253213393"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/near/253213393" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.html#253213393">(Sep 14 2021 at 08:08)</a>:</h4>
<p>but not /bin/python?</p>



<a name="253213431"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/near/253213431" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.html#253213431">(Sep 14 2021 at 08:09)</a>:</h4>
<p>the error sounds like there is nothing at that location</p>



<a name="253214357"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/near/253214357" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.html#253214357">(Sep 14 2021 at 08:18)</a>:</h4>
<p>Now I did <br>
pipx uninstall mathlibtools &amp;&amp; brew install mathlibtools</p>
<p>and after that  I get this (so at least leanproject starts up): </p>
<p>beeson@iMac inf % leanproject build<br>
Building project inf<br>
[Errno 2] No such file or directory: 'leanpkg'</p>



<a name="253215715"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/near/253215715" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.html#253215715">(Sep 14 2021 at 08:31)</a>:</h4>
<p>Aha!   I did <br>
source ~/.profile</p>
<p>and after that leanproject works normally again.   Thanks for trying to help.</p>



<a name="253259110"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/near/253259110" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.html#253259110">(Sep 14 2021 at 14:19)</a>:</h4>
<p>Definitely don't symlink <code>python</code> to <code>python3</code> on macOS</p>



<a name="253259272"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/near/253259272" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.html#253259272">(Sep 14 2021 at 14:20)</a>:</h4>
<p>If the instructions we just added for migrating installs don't cover this let me know, but hopefully that final command you ran came from finding <a href="https://leanprover-community.github.io/install/macos_details.html#aside-migrating-from-older-installations">https://leanprover-community.github.io/install/macos_details.html#aside-migrating-from-older-installations</a> ?</p>



<a name="253259439"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/near/253259439" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.html#253259439">(Sep 14 2021 at 14:21)</a>:</h4>
<p>FWIW, <code>bash: /Users/beeson/.local/bin/leanproject: /Users/beeson/.local/pipx/venvs/mathlibtools/bin/python</code> this error normally means "homebrew upgraded your python, and that breaks all your virtualenvs because that's not a safe thing to do"</p>



<a name="253259535"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/leanproject/near/253259535" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/leanproject.html#253259535">(Sep 14 2021 at 14:22)</a>:</h4>
<p>That issue is documented here: <a href="https://github.com/leanprover-community/mathlib-tools/issues/94">https://github.com/leanprover-community/mathlib-tools/issues/94</a> but my recommendation is still that we close that, because this new way that you're now on (which doesn't use pipx directly) does not have that issue anymore.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>