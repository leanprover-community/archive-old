---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Lean.20keeps.20.22Loading.2E.2E.2E.22.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean.20keeps.20.22Loading.2E.2E.2E.22.html">Lean keeps "Loading..."</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="204332645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean%20keeps%20%22Loading...%22/near/204332645" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris M <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean.20keeps.20.22Loading.2E.2E.2E.22.html#204332645">(Jul 19 2020 at 04:35)</a>:</h4>
<p>I just opened VScode today, and instead of doing the usual thing of compiling the code and producing errors, it just says:</p>
<div class="codehilite"><pre><span></span><code>Loading...
</code></pre></div>


<p>Here is an image: <a href="https://gyazo.com/3362aa391e110124e2e516325c02e1ea">https://gyazo.com/3362aa391e110124e2e516325c02e1ea</a>.</p>
<p>I've waited for a long time now (15 minutes). What could be the cause of this?<br>
Is Lean actually having to connect to a remote server for me to compile the code? Or is Lean doing this locally?</p>



<a name="204332696"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean%20keeps%20%22Loading...%22/near/204332696" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean.20keeps.20.22Loading.2E.2E.2E.22.html#204332696">(Jul 19 2020 at 04:36)</a>:</h4>
<p>It's all local. Try restarting Lean? (ctrl+p, and then search for "Lean: restart")</p>



<a name="204332704"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean%20keeps%20%22Loading...%22/near/204332704" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean.20keeps.20.22Loading.2E.2E.2E.22.html#204332704">(Jul 19 2020 at 04:37)</a>:</h4>
<p>It's possible that Lean is compiling mathlib, in which case you might have to run <code>leanproject get-mathlib-cache</code>.</p>



<a name="204332763"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean%20keeps%20%22Loading...%22/near/204332763" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris M <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean.20keeps.20.22Loading.2E.2E.2E.22.html#204332763">(Jul 19 2020 at 04:39)</a>:</h4>
<p>Interesting, this message just popped up: <a href="https://gyazo.com/fc23974c42edc84fe3732978805ff74d">https://gyazo.com/fc23974c42edc84fe3732978805ff74d</a></p>
<p>And looking at the task manager, Lean is consuming  4 GB of RAM</p>



<a name="204332806"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean%20keeps%20%22Loading...%22/near/204332806" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris M <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean.20keeps.20.22Loading.2E.2E.2E.22.html#204332806">(Jul 19 2020 at 04:40)</a>:</h4>
<p>Is that a normal amount of RAM usage? If so, I'll just have to close other programs.</p>



<a name="204332862"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean%20keeps%20%22Loading...%22/near/204332862" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean.20keeps.20.22Loading.2E.2E.2E.22.html#204332862">(Jul 19 2020 at 04:42)</a>:</h4>
<p>Yeah, that means that Lean is compiling mathlib.</p>



<a name="204332906"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean%20keeps%20%22Loading...%22/near/204332906" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean.20keeps.20.22Loading.2E.2E.2E.22.html#204332906">(Jul 19 2020 at 04:44)</a>:</h4>
<p>Generally you don't want to be doing that from within VS Code. So I would close VS Code first.</p>
<p>If you're working on a branch of mathlib, you should run <code>leanproject get-cache</code>.</p>
<p>If you're working on a project that depends on mathlib, you should run <code>leanproject get-mathlib-cache</code>.</p>



<a name="204332925"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean%20keeps%20%22Loading...%22/near/204332925" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris M <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean.20keeps.20.22Loading.2E.2E.2E.22.html#204332925">(Jul 19 2020 at 04:45)</a>:</h4>
<p>ok, thanks, I'll try this.</p>



<a name="204333230"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean%20keeps%20%22Loading...%22/near/204333230" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris M <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean.20keeps.20.22Loading.2E.2E.2E.22.html#204333230">(Jul 19 2020 at 04:57)</a>:</h4>
<p><code>leanproject get-mathlib-cache</code> gives me</p>
<div class="codehilite"><pre><span></span><code><span class="n">Looking</span> <span class="n">for</span> <span class="n">local</span> <span class="n">mathlib</span> <span class="n">oleans</span>
<span class="n">Found</span> <span class="n">local</span> <span class="n">mathlib</span> <span class="n">oleans</span>
</code></pre></div>


<p>while <code> leanproject get-cache</code> gives me</p>
<div class="codehilite"><pre><span></span><code><span class="n">Failed</span> <span class="n">to</span> <span class="n">fetch</span> <span class="n">mathlib</span> <span class="n">oleans</span>
</code></pre></div>


<p>I presume this means that my project merely depends on mathlib, but is not a branch of mathlib.</p>



<a name="204333270"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean%20keeps%20%22Loading...%22/near/204333270" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean.20keeps.20.22Loading.2E.2E.2E.22.html#204333270">(Jul 19 2020 at 04:58)</a>:</h4>
<p>If your <code>src/</code> directory has a bunch of files you wrote, then it's a project that depends on mathlib. If the <code>src/</code> directory looks like <a href="https://github.com/leanprover-community/mathlib/tree/master/src">this</a> then you're working on mathlib.</p>



<a name="204333275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean%20keeps%20%22Loading...%22/near/204333275" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean.20keeps.20.22Loading.2E.2E.2E.22.html#204333275">(Jul 19 2020 at 04:59)</a>:</h4>
<p>Anyways, try launching VS Code now, it should hopefully work.</p>



<a name="204333278"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean%20keeps%20%22Loading...%22/near/204333278" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris M <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean.20keeps.20.22Loading.2E.2E.2E.22.html#204333278">(Jul 19 2020 at 04:59)</a>:</h4>
<p>yeah it seems to work, thanks :)</p>



<a name="205515587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean%20keeps%20%22Loading...%22/near/205515587" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris M <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean.20keeps.20.22Loading.2E.2E.2E.22.html#205515587">(Jul 30 2020 at 18:34)</a>:</h4>
<p>I'm getting a strange error when trying to upgrade mathlib cache:</p>
<div class="codehilite"><pre><span></span><code>$ leanproject get-mathlib-cache
Looking for local mathlib oleans
Found local mathlib oleans
[Errno 22] Invalid argument: &#39;C:\\Users\\chris\\dropbox\\programming\\lean\\math_in_lean_cvm\\_target\\deps\\mathlib\\src\\order\\filter\\indicator_function.olean&#39;
</code></pre></div>


<p>Btw, I'm doing this because it's again taking a long time for VSCode to show anything. Is it normal for this to happen often, and for me to have to call <code>leanproject get-mathlib-cache</code> often? And do I still need to call it after calling <code>leanproject up</code>?</p>



<a name="205544363"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean%20keeps%20%22Loading...%22/near/205544363" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean.20keeps.20.22Loading.2E.2E.2E.22.html#205544363">(Jul 30 2020 at 23:29)</a>:</h4>
<p>If you don't ever type leanproject up and if you're the only one ever bumping the version of mathlib then you shouldn't ever need to type leanproject anything</p>



<a name="205576345"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean%20keeps%20%22Loading...%22/near/205576345" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean.20keeps.20.22Loading.2E.2E.2E.22.html#205576345">(Jul 31 2020 at 10:13)</a>:</h4>
<p>If I'm not using <code>leanproject get xxx_repo</code>, I always do <code>leanpkg configure</code> then <code>leanproject get-mathlib-cache</code> followed by a restart of Lean in VSCode. If anything goes wrong, could try delete <code>_target</code> and do that again, or sometimes <code>leanproject delete_zombies</code>.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>