---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Giving.20a.20proof.20in.20the.20type.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Giving.20a.20proof.20in.20the.20type.html">Giving a proof in the type</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="180879325"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Giving%20a%20proof%20in%20the%20type/near/180879325" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Giving.20a.20proof.20in.20the.20type.html#180879325">(Nov 15 2019 at 22:40)</a>:</h4>
<p>I'm getting the type mismatch error: <code>term A has type (rset r X) but is expected to have type (rset (r - 1 + 1) X)</code>. <code>r</code> is a <code>nat</code>, so I understand why this error is happening but I have the assumption <code>r â‰¥ 1</code> - so how do I express my lemma to convince lean that these types match</p>



<a name="180879403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Giving%20a%20proof%20in%20the%20type/near/180879403" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Giving.20a.20proof.20in.20the.20type.html#180879403">(Nov 15 2019 at 22:41)</a>:</h4>
<p>(to save anyone looking, it's <code>nat.sub_add_cancel</code> that should solve this)</p>



<a name="180879960"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Giving%20a%20proof%20in%20the%20type/near/180879960" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Giving.20a.20proof.20in.20the.20type.html#180879960">(Nov 15 2019 at 22:49)</a>:</h4>
<p>Aah, the joys of type theory. If r&gt;=1 then perhaps you should have used r' := r-1 with r'&gt;=0 instead? But you'll have to post code to get hints.</p>



<a name="180880038"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Giving%20a%20proof%20in%20the%20type/near/180880038" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Giving.20a.20proof.20in.20the.20type.html#180880038">(Nov 15 2019 at 22:50)</a>:</h4>
<p>This sort of issue can sometimes result in a redesign. I'll dig out the cdga thread to show you type theory at its worst.</p>



<a name="180880155"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Giving%20a%20proof%20in%20the%20type/near/180880155" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Giving.20a.20proof.20in.20the.20type.html#180880155">(Nov 15 2019 at 22:52)</a>:</h4>
<p>Yeah, it turned out to be nicer to express it like that - but this is the sort of thing I feel like I'll come across again, where redesigns don't seem like the right approach</p>



<a name="180880159"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Giving%20a%20proof%20in%20the%20type/near/180880159" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Giving.20a.20proof.20in.20the.20type.html#180880159">(Nov 15 2019 at 22:52)</a>:</h4>
<p><a href="#narrow/stream/116395-maths/topic/CDGAs/near/167848869" title="#narrow/stream/116395-maths/topic/CDGAs/near/167848869">https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/CDGAs/near/167848869</a></p>



<a name="180880553"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Giving%20a%20proof%20in%20the%20type/near/180880553" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Giving.20a.20proof.20in.20the.20type.html#180880553">(Nov 15 2019 at 22:58)</a>:</h4>
<p>Hopefully you can just insert an appropriate rewrite and it will sort you out. Reid chose an intentionally nasty example, and various solutions were proposed there.</p>



<a name="180880940"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Giving%20a%20proof%20in%20the%20type/near/180880940" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wojciech Nawrocki <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Giving.20a.20proof.20in.20the.20type.html#180880940">(Nov 15 2019 at 23:04)</a>:</h4>
<p>For Lean to accept a term of type <code>rset (r-1+1) X</code> in a place where <code>rset r X</code> is expected, you have to <code>cast</code>/rewrite it using a proof of <code>r-1+1 = r</code>. This is because the Lean typechecker doesn't "know" that these are the same if <code>r \geq 1</code>.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>